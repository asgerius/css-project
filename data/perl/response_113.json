[{"tags": ["regex", "perl", "grep"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1489016306, "post_id": 42683962, "comment_id": 72492035, "body": "To get the two capture groups in one match, you need describe the content between the two groups instead of using an alternation <code>|</code>. Also the third capture group (or the second, depending of what you want) and the lookahead are useless, remove them. Other thing, you need to escape the dot."}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 1, "creation_date": 1489016720, "post_id": 42683962, "comment_id": 72492185, "body": "Not really a solution but kind of an optimization: <a href=\"https://www.regex101.com/r/jksOY7/2\" rel=\"nofollow noreferrer\">regex101.com/r/jksOY7/2</a> - with a branch reset as well: <a href=\"https://www.regex101.com/r/jksOY7/3\" rel=\"nofollow noreferrer\">regex101.com/r/jksOY7/3</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1489016818, "post_id": 42683962, "comment_id": 72492221, "body": "Can you show the output  you want/expect?"}, {"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "edited": false, "score": 0, "creation_date": 1489017281, "post_id": 42683962, "comment_id": 72492405, "body": "I need output as mentioned in the JSON format. With the current regex, i am getting it as a continuous one."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1489018405, "post_id": 42683962, "comment_id": 72492734, "body": "Oh ... sorry, that&#39;s output? Is code supposed to print that exact stuff out? (Or do you mean to simply show what the matches should be?) But what input is being processed?  Also, what do you mean by &quot;<i>returning continue output</i>&quot;? I don&#39;t understand this at all."}, {"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1489018932, "post_id": 42683962, "comment_id": 72492901, "body": "Also as per @CasimiretHippolyte , I am separating regex group with &quot;|&quot; and i dont know how those strings with one regex."}, {"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1489019547, "post_id": 42683962, "comment_id": 72493079, "body": "@zdim I am sorry for that. The regex are matching the strings but what i use that with Perl (while loop), i could not able to form JSON string as mentioned. So it may be the problem with my regex or with the Perl code."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1489020440, "post_id": 42683962, "comment_id": 72493342, "body": "@Raja  Hang on. So the regex you show parses some strings (which you don&#39;t show), and you know that it&#39;s correct? OK. Now, do you want outout as shown under &quot;<i>relate as below</i>&quot;?  What you print in the <code>while</code> loop cannot possibly produce such output.  Also, you mention JSON -- do you want the result to be JSON?  If so, you need to do the following: use regex matches to form a data structure suitable for conversion to JSON using a module, say <a href=\"http://search.cpan.org/~mlehmann/JSON-XS-3.02/XS.pm\" rel=\"nofollow noreferrer\">JSON::XS</a>. Then you convert it. I suggest that you edit the question and clarify these things."}, {"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1489093051, "post_id": 42683962, "comment_id": 72532476, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/137700/discussion-between-raja-and-zdim\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 0, "last_activity_date": 1489026836, "creation_date": 1489026836, "answer_id": 42685634, "question_id": 42683962, "link": "https://stackoverflow.com/questions/42683962/perl-regex-to-match-pair-of-strings/42685634#42685634", "title": "Perl regex to match pair of strings", "body": "<p>My Perl is a little rusty.  </p>\n\n<p>Expanded regex </p>\n\n<pre><code> (?s)\n ( [A-Z]{3,5} - [0-9_-]+ )     # (1)\n (?:\n      (?! -------------- )\n      . \n )*?\n (                             # (2 start)\n      UP \\s+ \n      [A-Za-z0-9/]+ \\. [0-9]+ \n )                             # (2 end)\n</code></pre>\n\n<p>Code  </p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\n\n$/ = undef;\n\nmy $teststring = &lt;DATA&gt;;\n\nmy @ary;\n\nwhile ( $teststring =~ /(?s)([A-Z]{3,5}-[0-9_-]+)(?:(?!--------------).)*?(UP\\s+[A-Za-z0-9\\/]+\\.[0-9]+)/g )\n{\n    my $href = {};\n    $href-&gt;{'group1'} = $1;\n    $href-&gt;{'group2'} = $2;\n    push @ary, $href;\n}\n\nprint Dumper \\@ary;\n\n__DATA__\n\nGroup      Name       FT   Description            FT       Description            DT\n------------------------   -----------------------------   -----------------------------\nGEL-111111111-22222\n           IWRJWERODSF_WERONSDFELEO_23232\n                      UP   Ej011.2223             DWD       56.67.22.234    1222332432\n                                                                                    DWW\n----------------------------------------------------------------------------------------\nFPL-222222222-33333\n           WERWERDSFSD_PJRRINSDFKEW_10022\n                      UP   Ek04112.2883           DWD     78.24.85.344    1232332432\n                                                                                    DW\n----------------------------------------------------------------------------------------\nHGL-333333333-44444\n           SDFOWERNOWE_SDFONWERIODS_232323\n                      UP   Eg04213.2323           DWD      Eg04213.2323             DWD\n----------------------------------------------------------------------------------------\n</code></pre>\n\n<p>Output  </p>\n\n<pre><code>$VAR1 = [\n          {\n            'group1' =&gt; 'GEL-111111111-22222',\n            'group2' =&gt; 'UP   Ej011.2223'\n          },\n          {\n            'group1' =&gt; 'FPL-222222222-33333',\n            'group2' =&gt; 'UP   Ek04112.2883'\n          },\n          {\n            'group1' =&gt; 'HGL-333333333-44444',\n            'group2' =&gt; 'UP   Eg04213.2323'\n          }\n        ];\n</code></pre>\n"}], "owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 42685634, "answer_count": 1, "score": 0, "last_activity_date": 1489026836, "creation_date": 1489016019, "last_edit_date": 1489016138, "question_id": 42683962, "link": "https://stackoverflow.com/questions/42683962/perl-regex-to-match-pair-of-strings", "title": "Perl regex to match pair of strings", "body": "<p>Here is my regex link: <a href=\"https://www.regex101.com/r/jksOY7/1\" rel=\"nofollow noreferrer\">https://www.regex101.com/r/jksOY7/1</a> </p>\n\n<p>I am getting matches with my regex. But the problem is output. I am getting six matches. If i use while loop, Then i am getting continue output. </p>\n\n<p>But i need to relate as below using Perl.</p>\n\n<pre><code>[{\n  match1=&gt; 'GEL-111111111-22222',\n  match2=&gt; 'UP   Ej011.2223'\n},\n{\n  match1=&gt; 'FPL-222222222-33333',\n  match2=&gt; 'UP   Ek04112.2883'\n},\n{\n  match1=&gt; 'HGL-333333333-44444',\n  match2=&gt; 'UP   Eg04213.2323'\n}]\n</code></pre>\n\n<p>The below Perl code is just returning continue output.</p>\n\n<pre><code>while($tunnel =~ /(?![\\-]+)([A-Z]{3,5}-[0-9\\-\\_]+)|(UP\\s+([A-Za-z0-9\\/]+.[0-9]+))/g){\n    print \"\\n\";\n    print Dumper $1;\n    print \"\\n\";\n    print \"\\n\";\n    print Dumper $3;\n    print \"\\n\";\n}\n</code></pre>\n\n<p>Could someone please help on that to get output as above?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 2347, "user_id": 1361529, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/820E7.jpg?s=128&g=1", "display_name": "user1361529", "link": "https://stackoverflow.com/users/1361529/user1361529"}, "edited": false, "score": 0, "creation_date": 1489010719, "post_id": 42682743, "comment_id": 72489708, "body": "Thanks - I seem to have a brain-freeze at the moment. Your solution works - I don&#39;t get why mine is wrong. I&#39;ll re-look at this tomorrow morning with some strong coffee and once I get it, I&#39;ll mark it as resolved. Thank you!"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 2347, "user_id": 1361529, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/820E7.jpg?s=128&g=1", "display_name": "user1361529", "link": "https://stackoverflow.com/users/1361529/user1361529"}, "edited": false, "score": 1, "creation_date": 1489011134, "post_id": 42682743, "comment_id": 72489893, "body": "@user1361529 the opposite of &quot;it&#39;s big AND it&#39;s red&quot; is &quot;it&#39;s not big OR it&#39;s not red&quot;."}, {"owner": {"reputation": 2347, "user_id": 1361529, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/820E7.jpg?s=128&g=1", "display_name": "user1361529", "link": "https://stackoverflow.com/users/1361529/user1361529"}, "edited": false, "score": 0, "creation_date": 1489011226, "post_id": 42682743, "comment_id": 72489931, "body": "Right. I&#39;m an idiot. I can&#39;t believe I spent all day on this. Thank you"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 3, "last_activity_date": 1489010947, "last_edit_date": 1489010947, "creation_date": 1489010554, "answer_id": 42682743, "question_id": 42682694, "link": "https://stackoverflow.com/questions/42682694/perl-filtering-array-elements-using-grep-with-multiple-conditions/42682743#42682743", "title": "Perl - filtering array elements using grep with multiple conditions", "body": "<p>If you want to exclude records with <code>$_-&gt;{'pending} == INVALID_APNS &amp;&amp; $_-&gt;{'token'} eq ''</code>, you are negating that improperly to get what grep should include.  Either of these should do what you want:</p>\n\n<pre><code>! ( $_-&gt;{'pending'} == INVALID_APNS &amp;&amp; $_-&gt;{'token'} eq '' )\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$_-&gt;{'pending'} != INVALID_APNS || $_-&gt;{'token'} ne ''\n</code></pre>\n\n<p>See <a href=\"https://en.wikipedia.org/wiki/De_Morgan%27s_laws\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/De_Morgan%27s_laws</a></p>\n"}], "owner": {"reputation": 2347, "user_id": 1361529, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/820E7.jpg?s=128&g=1", "display_name": "user1361529", "link": "https://stackoverflow.com/users/1361529/user1361529"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "accepted_answer_id": 42682743, "answer_count": 1, "score": 0, "last_activity_date": 1489010947, "creation_date": 1489010351, "last_edit_date": 1489010557, "question_id": 42682694, "link": "https://stackoverflow.com/questions/42682694/perl-filtering-array-elements-using-grep-with-multiple-conditions", "title": "Perl - filtering array elements using grep with multiple conditions", "body": "<p>I am trying to filter values in an array using grep (in Perl).\nMy goal is to remove array elements where both the \"pending\" element is INVALID_APNS and the \"token\" element is empty</p>\n\n<p>This does not work - it deletes everything. The array contains 0 elements after the rep, but should contain 2.</p>\n\n<pre><code>use constant INVALID_APNS =&gt; -1;\n@active_connections = (\n    {\n        pending =&gt; INVALID_APNS,\n        token=&gt;'123'\n    },\n    {\n        pending =&gt; INVALID_APNS,\n        token=&gt;'123'\n    },\n    {\n        pending =&gt; INVALID_APNS,\n        token=&gt;''\n    },\n\n\n);\n @active_connections = grep { ($_-&gt;{pending} != INVALID_APNS) &amp;&amp; ($_-&gt;{token} ne '')} @active_connections;\n print scalar @active_connections;\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["perl", "apache-dbi"], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 2, "last_activity_date": 1489171586, "last_edit_date": 1489171586, "creation_date": 1489008008, "answer_id": 42682121, "question_id": 42682116, "link": "https://stackoverflow.com/questions/42682116/apachedbi-connect-on-init-database-connection-unused/42682121#42682121", "title": "Apache::DBI-&gt;connect_on_init database connection unused", "body": "<p>Setting <code>$Apache::DBI::DEBUG=2</code> shows that the connection created by DBI has an\nextra attribute set; adding that attribute to the connect_on_init call makes the\n cached connection be reused:</p>\n\n<pre><code>Apache::DBI-&gt;connect_on_init($dsn, $user, $passwd, {\n    dbi_connect_method =&gt; 'Apache::DBI::connect'\n});\n</code></pre>\n"}], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 42682121, "answer_count": 1, "score": 3, "last_activity_date": 1489171586, "creation_date": 1489007989, "question_id": 42682116, "link": "https://stackoverflow.com/questions/42682116/apachedbi-connect-on-init-database-connection-unused", "title": "Apache::DBI-&gt;connect_on_init database connection unused", "body": "<p>I have mod perl 2 code that is doing <code>Apache::DBI-&gt;connect_on_init($dsn, $user, $passwd);</code> in a script loaded by PerlRequire.</p>\n\n<p>But when processing a request, doing <code>DBI-&gt;connect_cached($dsn, $user, $passwd)</code> is creating an additional connection, not using the one created at child init.  (DBI is used instead of Apache::DBI because that code is also used in non-apache contexts.)</p>\n\n<p>How do I make it use the already cached connection?</p>\n"}, {"tags": ["html", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1489007946, "post_id": 42682043, "comment_id": 72488298, "body": "Are you trying to get 100 or 186?"}, {"owner": {"reputation": 49, "user_id": 4513733, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a66335f6f21f1781fab79ae683894e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ultracrepidarian", "link": "https://stackoverflow.com/users/4513733/ultracrepidarian"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1489007992, "post_id": 42682043, "comment_id": 72488322, "body": "I&#39;m trying to get the value (186)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1489009520, "post_id": 42682043, "comment_id": 72489108, "body": "@AbhiNickz Please don&#39;t change the formatting of the raw data in questions unless you&#39;re sure it won&#39;t change the solutions. Even whitespace can make a difference when parsing things."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1489050993, "post_id": 42682043, "comment_id": 72504987, "body": "That code doesn&#39;t even compile. For a start, the slashes in your regex match are the wrong way round. Please don&#39;t retype code into your question. It&#39;s better for everyone if you cut and paste."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 4513733, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a66335f6f21f1781fab79ae683894e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ultracrepidarian", "link": "https://stackoverflow.com/users/4513733/ultracrepidarian"}, "edited": false, "score": 0, "creation_date": 1489009164, "post_id": 42682350, "comment_id": 72488927, "body": "I haven&#39;t had the chance to test this yet, but thank you! Could you by chance explain what this code snippet does exactly? I will need to write about 20 more of these for different info I need to extract, and I&#39;d love to know exactly what it does! Thanks!"}, {"owner": {"reputation": 6342, "user_id": 1138252, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ed6c22f78d63a5e5004a0872ca09ef?s=128&d=identicon&r=PG", "display_name": "Ilion", "link": "https://stackoverflow.com/users/1138252/ilion"}, "reply_to_user": {"reputation": 49, "user_id": 4513733, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a66335f6f21f1781fab79ae683894e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ultracrepidarian", "link": "https://stackoverflow.com/users/4513733/ultracrepidarian"}, "edited": false, "score": 0, "creation_date": 1489009442, "post_id": 42682350, "comment_id": 72489061, "body": "It works similar to your original match, however anything in parenthesis is captured. A period is a wild card for any character. An asterisk is 0 or more of the previous character and a question mark enforces stringent matching, meaning it will match the least possible characters. The captured part then gets fed into the variable $value. For  strict code you want to instantiate your variables with <code>my</code> at some point, but you probably want to do that outside your loop, before your if statement. <code>my ($teamNumber, $value);</code>"}], "tags": [], "owner": {"reputation": 6342, "user_id": 1138252, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ed6c22f78d63a5e5004a0872ca09ef?s=128&d=identicon&r=PG", "display_name": "Ilion", "link": "https://stackoverflow.com/users/1138252/ilion"}, "is_accepted": false, "score": 0, "last_activity_date": 1489008949, "creation_date": 1489008949, "answer_id": 42682350, "question_id": 42682043, "link": "https://stackoverflow.com/questions/42682043/get-numbers-a-given-number-of-characters-after-a-phrase-from-html/42682350#42682350", "title": "Get numbers, a given number of characters after a phrase, from HTML", "body": "<p>Watch for variable scoping. You should be able to get it with a simple regexp capture:</p>\n\n<pre><code>if(INFILE =~ /$txt_TeamNumber/) {\n    $teamNumber = /$txt_TeamNumber/\n    ($value) = /$txt_TeamNumber.*?value=\"(.*?)\"/\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 4513733, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a66335f6f21f1781fab79ae683894e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ultracrepidarian", "link": "https://stackoverflow.com/users/4513733/ultracrepidarian"}, "edited": false, "score": 0, "creation_date": 1489177514, "post_id": 42683843, "comment_id": 72573808, "body": "Awesome! Thank you! Also, would you mind explaining to me the foreach statement? And/or anything else I might need to change in order to do the same thing with another variable? Basically, I&#39;ll need to do this same thing with another dozen variables in the same HTML file. Thank you ahead of time!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 49, "user_id": 4513733, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a66335f6f21f1781fab79ae683894e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ultracrepidarian", "link": "https://stackoverflow.com/users/4513733/ultracrepidarian"}, "edited": false, "score": 0, "creation_date": 1489188498, "post_id": 42683843, "comment_id": 72578320, "body": "@Ultracrepidarian  Great, glad that it helps :)  So, I will add a short commentary on what this is about.  But I suggest that you find some light tutorials/examples of use of <code>HTML::TreeBuilder</code> (I can&#39;t quite write <i>that</i> here).  I&#39;ll look and add links as well."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 49, "user_id": 4513733, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a66335f6f21f1781fab79ae683894e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ultracrepidarian", "link": "https://stackoverflow.com/users/4513733/ultracrepidarian"}, "edited": false, "score": 0, "creation_date": 1489188818, "post_id": 42683843, "comment_id": 72578422, "body": "@Ultracrepidarian  In a nutshell: The <code>look_down</code> returns a list of &quot;<i>nodes</i>&quot; that it found based on its arguments, in this case of all nodes that are <code>input</code> HTML tag. Then <code>foreach</code> goes through one node at a time. Inside the loop we <code>look_down</code> further in each node, find the given <code>name</code> and pick up the <code>value</code>.  Pretty simple really.  In order to change it you need to know what you are looking for and where it is in the HTML tree. If it&#39;s just a different <code>name</code> then you can literally just change that.  Read up on the structure of an HTML document, if needed. I&#39;ll update and let you know."}, {"owner": {"reputation": 49, "user_id": 4513733, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a66335f6f21f1781fab79ae683894e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ultracrepidarian", "link": "https://stackoverflow.com/users/4513733/ultracrepidarian"}, "edited": false, "score": 0, "creation_date": 1490385040, "post_id": 42683843, "comment_id": 73105566, "body": "I&#39;ve solved this problem, but encountered another. I&#39;ve made a new thread for it at <a href=\"http://stackoverflow.com/questions/43007974/treebuilder-get-embedded-nodes\" title=\"treebuilder get embedded nodes\">stackoverflow.com/questions/43007974/&hellip;</a> . Thanks! @zdim"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 49, "user_id": 4513733, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a66335f6f21f1781fab79ae683894e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ultracrepidarian", "link": "https://stackoverflow.com/users/4513733/ultracrepidarian"}, "edited": false, "score": 0, "creation_date": 1490385703, "post_id": 42683843, "comment_id": 73105935, "body": "@Ultracrepidarian  Alright, I see that.  This is common, to have follow up problems and questions as you work further on your task.  Note though that <i>this answer</i> deals with <i>this question</i>.  You were right to post the other one separately as it is a new question."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1569301924, "last_edit_date": 1569301924, "creation_date": 1489015421, "answer_id": 42683843, "question_id": 42682043, "link": "https://stackoverflow.com/questions/42682043/get-numbers-a-given-number-of-characters-after-a-phrase-from-html/42683843#42683843", "title": "Get numbers, a given number of characters after a phrase, from HTML", "body": "<p>This is a very good example for benefits of using ready parsers.</p>\n\n<p>One of the standard modules for parsing HTML is <a href=\"http://search.cpan.org/~cjm/HTML-Tree-5.03/lib/HTML/TreeBuilder.pm\" rel=\"nofollow noreferrer\">HTML::TreeBuilder</a>.  Its effectiveness is to a good extent based on its good use of <a href=\"http://search.cpan.org/~cjm/HTML-Tree-5.03/lib/HTML/Element.pm\" rel=\"nofollow noreferrer\">HTML::Element</a> so always have that page ready for reference.</p>\n\n<p>The question doesn't say where HTML comes from. For testing I put it in a file, wrapped with needed tags, and load it from that file. I expect it to  come from internet, please change accordingly.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Path::Tiny;    \nuse HTML::TreeBuilder;\n\nmy $file = \"snippet.html\";\nmy $html = path($file)-&gt;slurp;  # or open and slurp by hand\n\nmy $tree = HTML::TreeBuilder-&gt;new_from_content($html);\n\nmy @nodes = $tree-&gt;look_down(_tag =&gt; 'input');\n\nforeach my $node (@nodes) {\n    my $val = $node-&gt;look_down('name', qr/\\$txt_TeamNumber/)-&gt;attr('value');\n    print \"'value': $val\\n\";\n}\n</code></pre>\n\n<p>This prints the line: <code>'value': 186</code>. &nbsp; Note that we never have to parse anything at all.</p>\n\n<p>I assume that the <code>'name'</code> attribute is identified by <em>literal</em> <code>$txt_TeamNumber</code>, thus <code>$</code> is escaped.</p>\n\n<p>The code uses the excellent <a href=\"http://search.cpan.org/~dagolden/Path-Tiny-0.104/lib/Path/Tiny.pm\" rel=\"nofollow noreferrer\">Path::Tiny</a> to <code>slurp</code> the file. If there are issues with installing a module just read the file by hand into a string (if it does come from a file and not from internet).</p>\n\n<p>See docs and abundant other examples for the full utility of the <code>HTML</code> parsing modules used above.  There are of course other ways and approaches, made ready for use by yet other good modules. Please search for the right tool.</p>\n\n<p>I strongly suggest to <em>stay clear</em> of any idea to parse HTML (or anything similar) with regex.</p>\n"}], "owner": {"reputation": 49, "user_id": 4513733, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a66335f6f21f1781fab79ae683894e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ultracrepidarian", "link": "https://stackoverflow.com/users/4513733/ultracrepidarian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 42683843, "answer_count": 2, "score": 0, "last_activity_date": 1569301924, "creation_date": 1489007694, "last_edit_date": 1561686951, "question_id": 42682043, "link": "https://stackoverflow.com/questions/42682043/get-numbers-a-given-number-of-characters-after-a-phrase-from-html", "title": "Get numbers, a given number of characters after a phrase, from HTML", "body": "<p>Basically, I've opened an HTML file in perl, and wrote this line:</p>\n\n<pre><code>if(INFILE =~ \\$txt_TeamNumber\\) {\n    $teamNumber = \\$txt_TeamNumber\\\n}\n</code></pre>\n\n<p>and I need to get the txt_TeamNumber, go 21 spaces forward, and get the next 1-5 numbers. Here is the part of the HTML file I'm trying to extract info from:</p>\n\n<pre><code>&lt;td style=\"width: 25%;\"&gt;Team Number:\n                &lt;/td&gt;\n                &lt;td style=\"width: 75%;\"&gt;\n                    &lt;input name=\"ctl00$ContentPlaceHolder1$txt_TeamNumber\" type=\"text\" value=\"186\" maxlength=\"5\" readonly=\"readonly\" id=\"ctl00_ContentPlaceHolder1_txt_TeamNumber\" disabled=\"disabled\" tabindex=\"1\" class=\"aspNetDisabled\" style=\"width:53px;\"&gt;\n                &lt;/td&gt;\n</code></pre>\n"}, {"tags": ["arrays", "perl", "module", "ip", "mac-address"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1489002737, "post_id": 42680569, "comment_id": 72485532, "body": "Do you want to access <code>$href-&gt;{$interface}[0]</code>?"}, {"owner": {"reputation": 67, "user_id": 6951348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a5497c817ce67e393b9af6572e7876a?s=128&d=identicon&r=PG&f=1", "display_name": "The_Makings_Of_A_Coder", "link": "https://stackoverflow.com/users/6951348/the-makings-of-a-coder"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1489003402, "post_id": 42680569, "comment_id": 72485889, "body": "Editing question to include output needed."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1489004641, "post_id": 42680569, "comment_id": 72486552, "body": "Try this: <code>my $netmask = $href-&gt;{$interface}[0]{eth0}[0]{netmask}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 67, "user_id": 6951348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a5497c817ce67e393b9af6572e7876a?s=128&d=identicon&r=PG&f=1", "display_name": "The_Makings_Of_A_Coder", "link": "https://stackoverflow.com/users/6951348/the-makings-of-a-coder"}, "is_accepted": true, "score": 0, "last_activity_date": 1489010940, "creation_date": 1489010940, "answer_id": 42682838, "question_id": 42680569, "link": "https://stackoverflow.com/questions/42680569/utilizing-sysaddrr-in-perl/42682838#42682838", "title": "Utilizing Sys:Addrr in Perl", "body": "<p>For <code>Sys::Addr</code> I figured out how to make it work properly.</p>\n\n<pre><code>my $sysaddr = Sys::HostAddr-&gt;new();\n\nmy $IP;\nmy $LAN;\n\nmy $href = $sysaddr-&gt;ip();\nints:foreach my $interface ( keys %{$href} ){\n    foreach my $aref ( @{$href-&gt;{$interface}} ){\n    $IP = \"$aref-&gt;{address}\\n\";\n        $LAN = \"$aref-&gt;{address}:$aref-&gt;{netmask}\\n\";\n    if ($interface eq \"eth0\"){last ints}\n    }\n}\n</code></pre>\n\n<p>That allows me to utilize the 'eth0' as a global variable.</p>\n"}], "owner": {"reputation": 67, "user_id": 6951348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a5497c817ce67e393b9af6572e7876a?s=128&d=identicon&r=PG&f=1", "display_name": "The_Makings_Of_A_Coder", "link": "https://stackoverflow.com/users/6951348/the-makings-of-a-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 42682838, "answer_count": 1, "score": 0, "last_activity_date": 1489010940, "creation_date": 1489002273, "last_edit_date": 1489003536, "question_id": 42680569, "link": "https://stackoverflow.com/questions/42680569/utilizing-sysaddrr-in-perl", "title": "Utilizing Sys:Addrr in Perl", "body": "<p>The goal in the end is to create an ARP Listener and Sender using modules.</p>\n\n<p>I am trying to substitute:</p>\n\n<pre><code>my $IP = \"xx.x.x.xx\"; #this is an actual local ip address\nmy $MacAddress = \"ff:ff:ff:ff:ff:ff\"; # this is an actual macadd\nmy $LAN = \"xx.x.x.xx/24\"; #this has the ip and subnetmask\n</code></pre>\n\n<p>with a module <code>Sys::Addrr</code> to auto obtain the IP and LAN each time the program is run, this includes on different machines.  </p>\n\n<p>I have gotten the code down to this much using cpan- <a href=\"https://metacpan.org/pod/Sys::HostAddr\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Sys::HostAddr</a></p>\n\n<pre><code>my $sysaddr = Sys::HostAddr-&gt;new();\nmy $href = $sysaddr-&gt;ip();\n foreach my $interface ( keys %{$href} ){\n     foreach my $aref ( @{$href-&gt;{$interface}} ){\n          print \" $aref-&gt;{address}\\n\"; \n          print \" $aref-&gt;{netmask}\\n\";\n     }\n }\n</code></pre>\n\n<p>BUT I am not understanding the sytanx of this code or structure enough to be able to pull only the first array reference for usage.  Using <code>Data::Dumper</code> I was able to see the break down to note that it's assigning the address I want to the <a href=\"https://metacpan.org/pod/Sys::HostAddr\" rel=\"nofollow noreferrer\">1</a> position, but I still can't seem to extract it for usage in the program.</p>\n\n<p>I also noted that the MacAddress is not obtainable through <code>Sys::Addr</code>- I am assuming another module will be needed. </p>\n\n<p>EDIT:\nThe information pulled when running it is:</p>\n\n<pre><code>$VAR1 = {\n          'lo' =&gt; [\n                    {\n                      'address' =&gt; 'x.x.x.x',\n                      'netmask' =&gt; 'x.x.x.x'\n                    }\n                  ],\n          'eth0' =&gt; [\n                      {\n                        'netmask' =&gt; 'x.x.x.x',\n                        'address' =&gt; 'x.x.x.x'\n                      }\n                    ]\n        };\n</code></pre>\n\n<p>I am trying to extract the \"eth0\" contents in two variables for use in the program. </p>\n\n<p>The full code without this new addition for reference of usage is as follows:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Net::Pcap::Easy;\nuse Net::Netmask;\nuse Net::ARP;\nuse Sys::HostAddr\n\nmy $IP = \"x.x.x.x\"; #IP Address omitted for example\nmy $MacAddress = \"ff:ff:ff:ff:ff:ff\"; #Mac Address omitted for example\nmy $LAN = \"x.x.x.x/24\"; # address omitted for example\n\n\nmy $parentpid = $$;\nmy $childpid = fork() // die \"Fork Failed $!\\n\";\n\nif ($childpid){\n    print \"perl lab6.pl $IP\\n\";\n    print \"Scanning $LAN\\n\";\n    print \"Starting parent $$ with child $childpid\\n\";\n    print \"Starting child pid $childpid\\n\";\n    &amp;send_loop;\n    sleep 1;\n    print \"Killing child $childpid\\n\";\n    kill 'KILL', $childpid;\n    waitpid ($childpid, 0);\n    print \"Exiting parent $$\\n\";\n    exit;\n}\nelse {\n    &amp;cap_packs;\n}\n\nsub cap_packs{\n    my $listener = Net::Pcap::Easy-&gt;new(\n        dev             =&gt; \"eth0\",\n        filter          =&gt; \"arp\",\n        packets_per_loop    =&gt; 1,\n        arp_callback        =&gt; sub {\n                        my($npe,$ether,$arp,$header)=@_;\n                        print \"Hello\";\n                        if($arp-&gt;{opcode}==2){\n                            my $iphex = $arp-&gt;{spa};\n                            my @ip =($iphex=~/(..)(..)(..)(..)/);\n                            my $ipstr = hex($ip[0]).\".\". hex($ip[1]).\".\". \n                            hex($ip[2]).\".\".hex($ip[3]);\n                            print \"Host $ipstr is alive.\";\n                            }\n                        }\n            );\n    $listener-&gt;loop while 1;\n}\n\n\nsub send_loop{\n    my $netobj = new Net::Netmask($LAN);\n    for my $Remote_IP ($netobj-&gt;enumerate) {\n        Net::ARP::send_packet(\n            \"eth0\",\n            $IP,\n            $Remote_IP,\n            $MacAddress,\n            \"ff:ff:ff:ff:ff:ff\",\n            \"request\");\n        }\n}\n</code></pre>\n"}, {"tags": ["perl", "updates"], "answers": [{"comments": [{"owner": {"reputation": 339, "user_id": 5683724, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-ys-8Xx_dcVY/AAAAAAAAAAI/AAAAAAAAACg/QkZg_guBu6g/photo.jpg?sz=128", "display_name": "Jaeyoung Park", "link": "https://stackoverflow.com/users/5683724/jaeyoung-park"}, "edited": false, "score": 0, "creation_date": 1489002147, "post_id": 42680220, "comment_id": 72485191, "body": "That&#39;s great.  One quick question. How do I do If I just update the file, not to create a new file?"}, {"owner": {"reputation": 339, "user_id": 5683724, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-ys-8Xx_dcVY/AAAAAAAAAAI/AAAAAAAAACg/QkZg_guBu6g/photo.jpg?sz=128", "display_name": "Jaeyoung Park", "link": "https://stackoverflow.com/users/5683724/jaeyoung-park"}, "edited": false, "score": 0, "creation_date": 1489002530, "post_id": 42680220, "comment_id": 72485401, "body": "Sorry, one more thing. Is it possible to call the one-liner in a top perl script. I used:  system(&#39;perl&#39;,$script)==0 or die &quot;failed to execute $script: \\$?=$?&quot;;  to call another perl script in a top perl script, but I don&#39;t know how to call the one-liner perl."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1489004691, "post_id": 42680220, "comment_id": 72486585, "body": "That will work only if leading zeros are not present, or are not considered significant by any downstream programs that process the file.  A line starting <code>00100 ...</code> would come out <code>101 ...</code>"}, {"owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "edited": false, "score": 2, "creation_date": 1489004960, "post_id": 42680220, "comment_id": 72486742, "body": "True, but exploring every unstated contingency is unwarranted in general IMHO."}, {"owner": {"reputation": 339, "user_id": 5683724, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-ys-8Xx_dcVY/AAAAAAAAAAI/AAAAAAAAACg/QkZg_guBu6g/photo.jpg?sz=128", "display_name": "Jaeyoung Park", "link": "https://stackoverflow.com/users/5683724/jaeyoung-park"}, "edited": false, "score": 0, "creation_date": 1489009633, "post_id": 42680220, "comment_id": 72489175, "body": "@Sean Thank you. The last one is what I wanted. Thank you."}], "tags": [], "owner": {"reputation": 27022, "user_id": 182693, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7e4422dd860fce9b9f3c024c8655c7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/182693/sean"}, "is_accepted": true, "score": 4, "last_activity_date": 1489004295, "last_edit_date": 1489004295, "creation_date": 1489001182, "answer_id": 42680220, "question_id": 42679987, "link": "https://stackoverflow.com/questions/42679987/perl-update-contents-of-a-file-by-adding-1-on-the-first-column/42680220#42680220", "title": "Perl - update contents of a file by adding 1 on the first column", "body": "<p>This can be done very easily with just a short command rather than a full program:</p>\n\n<pre><code>perl -pe 's/(\\d+)/$1 + 1/e if $. &gt; 2' sparc_export.test &gt; sparc_export_incremented.test\n</code></pre>\n\n<p>The <code>-p</code> flag wraps the entire program in a while loop over the lines of the input file, and the <code>if $. &gt; 2</code> restricts the modifications to lines where the line number is greater than 2.</p>\n\n<p>In response to your comments:</p>\n\n<p>To replace the original file rather than create a new one, you could say:</p>\n\n<pre><code>perl -i.bak -pe 's/(\\d+)/$1 + 1/e if $. &gt; 2' sparc_export.test\n</code></pre>\n\n<p>That would save the original file under the name <code>sparc_export.test.bak</code>.  You can say just <code>-i</code> instead of <code>-i.bak</code> to not create a backup file.</p>\n\n<p>It would be very odd to call out to a Perl command from within a Perl program, but it can be done:</p>\n\n<pre><code>system('perl', '-i.bak', '-pe', 's/(\\d+)/$1 + 1/e if $. &gt; 2', 'sparc_export.test');\n</code></pre>\n\n<p>More typically one would do the work inside the main program:</p>\n\n<pre><code>open my $in, '&lt;', 'sparc_export.test' or die \"Can't open file: $!\";\nopen my $out, '&gt;', 'sparc_export.test.out' or die \"Can't open file: $!\";\nwhile (&lt;$in&gt;) {\n  s/(\\d)/$1 + 1/e if $. &gt; 2;\n  print $out $_;\n}\nclose $out;\nclose $in;\nrename 'sparc_export.test.out', 'sparc_export.test' or die \"Failed to rename: $!\";\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 5683724, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-ys-8Xx_dcVY/AAAAAAAAAAI/AAAAAAAAACg/QkZg_guBu6g/photo.jpg?sz=128", "display_name": "Jaeyoung Park", "link": "https://stackoverflow.com/users/5683724/jaeyoung-park"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 1, "accepted_answer_id": 42680220, "answer_count": 1, "score": 0, "last_activity_date": 1489004295, "creation_date": 1489000494, "question_id": 42679987, "link": "https://stackoverflow.com/questions/42679987/perl-update-contents-of-a-file-by-adding-1-on-the-first-column", "title": "Perl - update contents of a file by adding 1 on the first column", "body": "<p>I am looking for a better way to add 1 on contents on the first column in a file. I read a file and update contents on the first column by adding 1.</p>\n\n<p>my input file: (sparc_export.test)  </p>\n\n<pre><code>export\n3066\n10500 cmp_top.iop.sparc0.exu.alu.byp_alu_rcc_data_e[6]\n10500 cmp_top.iop.sparc0.exu.alu.byp_alu_rs3_data_e[51]\n10500 cmp_top.iop.sparc0.exu.alu.byp_alu_rs1_data_e[3]\n10500 cmp_top.iop.sparc0.exu.alu.shft_alu_shift_out_e[18]\n10500 cmp_top.iop.sparc0.exu.alu.byp_alu_rs3_data_e[17]\n10500 cmp_top.iop.sparc0.exu.alu.byp_alu_rs1_data_e[43]\n</code></pre>\n\n<p>... It would be more than 3000 lines. </p>\n\n<p>I wanted to the file would be: (sparc_export.test)</p>\n\n<pre><code>export\n3066\n10501 cmp_top.iop.sparc0.exu.alu.byp_alu_rcc_data_e[6]\n10501 cmp_top.iop.sparc0.exu.alu.byp_alu_rs3_data_e[51]\n10501 cmp_top.iop.sparc0.exu.alu.byp_alu_rs1_data_e[3]\n10501 cmp_top.iop.sparc0.exu.alu.shft_alu_shift_out_e[18]\n10501 cmp_top.iop.sparc0.exu.alu.byp_alu_rs3_data_e[17]\n10501 cmp_top.iop.sparc0.exu.alu.byp_alu_rs1_data_e[43]\n</code></pre>\n\n<p>I am reading the file as a 2x2 array and add 1 for each content from the 3rd line to the end, but I think this is not a good way. Please let me know a better way to update contents of a file. </p>\n\n<pre><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings;\n\n\n\n\n    my $exportname=\"sparc_export.test\";\n\n    #### read sparc_export.test\n    open(CSV,$exportname)||die(\"Cannot open export file $!\");\n    my @export;\n    while(&lt;CSV&gt;){\n        my @row=split(/ /,$_);\n        push(@export,\\@row);\n    }\n\n    for (my $i=2; $i &lt; (scalar @export); $i +=1) {\n            $export[$i][0]= $export[$i][0]+1;\n    }\n\n\nopen(my $fh4, '&gt;', 'sparc_export.test');\nprint $fh4 join(\"\\n\", @export);\nclose $fh4;\n</code></pre>\n"}, {"tags": ["bash", "perl", "search", "find"], "comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 4, "creation_date": 1488990862, "post_id": 42676684, "comment_id": 72478228, "body": "And where you have problem? What is the question?"}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 2, "creation_date": 1488997308, "post_id": 42676684, "comment_id": 72482280, "body": "Please <a href=\"https://stackoverflow.com/posts/42676684/edit\">edit</a> your question to show <a href=\"http://whathaveyoutried.com\" rel=\"nofollow noreferrer\">what you have tried so far</a>.  You should include at least an outline (but preferably a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>) of the code that you are having problems with, then we can try to help with the specific problem. You should also read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 1935094, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc83a1f925fa01eab4c9ffd8aa112840?s=128&d=identicon&r=PG", "display_name": "Gripsiden", "link": "https://stackoverflow.com/users/1935094/gripsiden"}, "edited": false, "score": 0, "creation_date": 1489066589, "post_id": 42676985, "comment_id": 72515420, "body": "Hi Hakon , thank you this was perfect and will let me build from there. I apoligise to others who posted comments around &quot;What work have i done&quot;  - I had lots of scripts which parsed arrays and did similar things , but not exactly like this. thanks again."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1488991253, "creation_date": 1488991253, "answer_id": 42676985, "question_id": 42676684, "link": "https://stackoverflow.com/questions/42676684/match-owner-to-filepath-using-bash-perl-from-array/42676985#42676985", "title": "Match Owner to filepath using Bash/Perl from Array", "body": "<p>In Perl you could try something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %email_info = (\n    john =&gt; 'john@acme.com',\n    mary =&gt; 'mary@acme.com',\n);\n\nmy $fn = 'list.txt';\n\nmy $regex = do { my $temp = join '|', map { quotemeta } keys %email_info; qr/$temp/ }; \nopen ( my $fh, '&lt;', $fn ) or die \"Could not open file '$fn': $!\";\n\nwhile ( &lt;$fh&gt; ) {\n    send_mail_to_user( $1, $email_info{$1}, $_ ) if /($regex)/;\n}\nclose $fh;\n</code></pre>\n"}], "owner": {"reputation": 367, "user_id": 1935094, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc83a1f925fa01eab4c9ffd8aa112840?s=128&d=identicon&r=PG", "display_name": "Gripsiden", "link": "https://stackoverflow.com/users/1935094/gripsiden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "closed_date": 1490609633, "accepted_answer_id": 42676985, "answer_count": 1, "score": -4, "last_activity_date": 1488991253, "creation_date": 1488990415, "question_id": 42676684, "link": "https://stackoverflow.com/questions/42676684/match-owner-to-filepath-using-bash-perl-from-array", "closed_reason": "Needs more focus", "title": "Match Owner to filepath using Bash/Perl from Array", "body": "<p>I dont have any preference bash/perl etc for this. ( i'm not a developer but have experience with both )</p>\n\n<p>I will have a list of File System Paths read recursively by a script to find large or old files - so lets imagine I have a File with list of paths files like:</p>\n\n<ul>\n<li>/fs1/john1a/test.conf</li>\n<li>/fs1/storage/maryfolder/test.1.txt</li>\n<li>/fs2/folder/john2a/full.txt</li>\n</ul>\n\n<p>I have a list of names and emails ( in an array? ) </p>\n\n<ul>\n<li>john,john@acme.com</li>\n<li>mary,mary@acme.com</li>\n</ul>\n\n<p>I want to parse the file and send an email based on names in the list found in the paths. </p>\n\n<p>So John will get 2 emails based on naming used:</p>\n\n<ul>\n<li>/fs1/\"john\"1a/test.conf</li>\n<li>/fs2/folder/\"john\"2a/full.txt</li>\n</ul>\n\n<p>I am searching for solutions and will post if found.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["arrays", "perl", "reference"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 6, "creation_date": 1488986383, "post_id": 42675093, "comment_id": 72474792, "body": "This sounds like an XY problem. Can you please explain in more detail exactly what you&#39;re trying to do? Usually it&#39;s a bad idea to do &quot;direct translation&quot; of C to Perl."}, {"owner": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488986820, "post_id": 42675093, "comment_id": 72475123, "body": "@ThisSuitIsBlackNot it is not a direct translation but I thought that this would help describing what i want. one possibility to solve my problem would be to keep (index, value)-Objects, but i thought using the references would be nicer, since the list, that would keep this objects will be modified (insert, sort, remove) very often and will grow quite large, as well as the source <code>array</code>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 4, "creation_date": 1488986983, "post_id": 42675093, "comment_id": 72475248, "body": "The question here is <i>why</i> you need to do this. After you assign something from the array to a separate scalar, why do you need to know the index? If you&#39;re attempting to do things like this, you probably want a hash instead. Again, you need to clarify the purpose of needing to do what you&#39;re trying to do."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488998707, "post_id": 42675093, "comment_id": 72483125, "body": "Why not roll your own type with such a feature? (You can even <code>tie</code> it so that <code>=</code> acts like you want it to.) What you want is very, very specific. Even if there were possible to do that directly, it may just be clearer to have a simple little class."}], "answers": [{"comments": [{"owner": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "edited": false, "score": 0, "creation_date": 1489046117, "post_id": 42675846, "comment_id": 72502060, "body": "searching through the array is no option. because performance is important and the array is quite large. I was looking for a way to <i>calculate</i> the index. similar to C."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "edited": false, "score": 2, "creation_date": 1489057113, "post_id": 42675846, "comment_id": 72509254, "body": "Perl is not C ... References are not pointers. Also, how would you get a pointer to a particular element in C if you did not already know it?"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1488988154, "creation_date": 1488988154, "answer_id": 42675846, "question_id": 42675093, "link": "https://stackoverflow.com/questions/42675093/calculate-the-index-of-a-array-element-reference/42675846#42675846", "title": "calculate the index of a array element reference", "body": "<p><a href=\"https://metacpan.org/pod/List::MoreUtils\" rel=\"nofollow noreferrer\">List::MoreUtils</a> provides routines such as:</p>\n\n<ul>\n<li><code>first_index</code></li>\n<li><code>last_index</code></li>\n<li><code>bsearch_index</code></li>\n<li><code>indexes</code></li>\n</ul>\n\n<p>etc. Depending on the circumstances, using one of these may be more efficient than just using plain old <code>grep</code>:</p>\n\n<pre><code>my @i = grep $array[$_] == $v, 0 .. $#array;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": false, "score": -1, "last_activity_date": 1488988223, "creation_date": 1488988223, "answer_id": 42675871, "question_id": 42675093, "link": "https://stackoverflow.com/questions/42675093/calculate-the-index-of-a-array-element-reference/42675871#42675871", "title": "calculate the index of a array element reference", "body": "<p>$e contains a reference, and you can compare references for equality.</p>\n\n<pre><code>my @array = (0,0,0,0,0,0,0,0,0,0,0);\nmy $e = \\$array[4];\n#..\nmy $index =$#array;\n$index-- while ($e ne \\$array[$index] &amp;&amp; $index &gt;=0);\n\nprint $index;\n</code></pre>\n\n<p>prints out 4.</p>\n"}], "owner": {"reputation": 6300, "user_id": 2331592, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/befb1bd6b66c01fed1d2384a405e6f7e?s=128&d=identicon&r=PG&f=1", "display_name": "vlad_tepesch", "link": "https://stackoverflow.com/users/2331592/vlad-tepesch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1489050010, "creation_date": 1488986226, "last_edit_date": 1489050010, "question_id": 42675093, "link": "https://stackoverflow.com/questions/42675093/calculate-the-index-of-a-array-element-reference", "title": "calculate the index of a array element reference", "body": "<p>Is it possible to calculate the index of a referenced scalar from an array?</p>\n\n<p>in C you can use pointer arithmetic to retrieve the index. </p>\n\n<pre><code>SomeType array[500];\nconst SomeType* e = &amp;array[42];\n\n// [...]\n\nsize_t index = e-array;\n</code></pre>\n\n<p>Is there some similar way in Perl?</p>\n\n<pre><code>my @array = (1,2,3,4,5,6,7,8,9,0);\nmy $e = \\$array[4];\n\n# [...]\n\nmy $index = '???';\n</code></pre>\n\n<p>The reason:</p>\n\n<p>I have a relatively large (> 6Mio entries) Array with equally structured geometrically related data.</p>\n\n<p>I also have some kind of priority based queue that contains references to this array. while processing this queue new elements are added and the queue has to be resorted. Since this queue also will grow quite large. and the priorities of the elements changes and are derived from the array element and its neighbors, i would like to avoid complex entries in the queue (memory size and allocation performance) and have only the reference their to directly access the information from the array.</p>\n\n<p>But it seems that using indexes in the task-list would be the best option.</p>\n"}, {"tags": ["xml", "perl", "text"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1488984614, "post_id": 42673128, "comment_id": 72473501, "body": "Are the LOCATIONIDs unique, or are they duplicated?"}, {"owner": {"reputation": 21, "user_id": 7637360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5057ee543c20d1ee4e86bbbfb59efa2?s=128&d=identicon&r=PG&f=1", "display_name": "BCope", "link": "https://stackoverflow.com/users/7637360/bcope"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1488988852, "post_id": 42673128, "comment_id": 72476720, "body": "the locationids are unique, but there could be 1000 to 3000 of them in this xml file. Same for the text file. There should be a one-to-one match."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1488990589, "post_id": 42673128, "comment_id": 72478012, "body": "OK. The example I&#39;ve given should work, but if your XML is particularly large, you may face memory issues. If you do, then there&#39;s another approach we can use (incremental parsing) but I wouldn&#39;t suggest that unless it&#39;s necessary."}, {"owner": {"reputation": 21, "user_id": 7637360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5057ee543c20d1ee4e86bbbfb59efa2?s=128&d=identicon&r=PG&f=1", "display_name": "BCope", "link": "https://stackoverflow.com/users/7637360/bcope"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1488991027, "post_id": 42673128, "comment_id": 72478368, "body": "Excellent. Thank you so much. I will try it on this file with 1000 locations; and if that works I can limit my files to that size. This script will only be run once a week or so."}, {"owner": {"reputation": 21, "user_id": 7637360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5057ee543c20d1ee4e86bbbfb59efa2?s=128&d=identicon&r=PG&f=1", "display_name": "BCope", "link": "https://stackoverflow.com/users/7637360/bcope"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1488991802, "post_id": 42673128, "comment_id": 72478913, "body": "I think that the memory issue arose, as the screen output did not complete. I do not really need to see the result except for the final xml file. I can verify it there.    What would the incremental parsing approach look like? Why would you recommend against it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1489000385, "post_id": 42673128, "comment_id": 72484095, "body": "I think that&#39;s probably best with a separate question. It&#39;s not a problem exactly, but it&#39;s a bit counter intuitive. If your resultant XML looks ok though, then that worked fine."}, {"owner": {"reputation": 21, "user_id": 7637360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5057ee543c20d1ee4e86bbbfb59efa2?s=128&d=identicon&r=PG&f=1", "display_name": "BCope", "link": "https://stackoverflow.com/users/7637360/bcope"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1489088754, "post_id": 42673128, "comment_id": 72530384, "body": "After running it and waiting about 4 minutes for it to complete; everything looks good. I can live with a 5 minute processing time. Thanks again for your help. Greatly greatly appreciated."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7637360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5057ee543c20d1ee4e86bbbfb59efa2?s=128&d=identicon&r=PG&f=1", "display_name": "BCope", "link": "https://stackoverflow.com/users/7637360/bcope"}, "edited": false, "score": 0, "creation_date": 1488988750, "post_id": 42674428, "comment_id": 72476629, "body": "There are definitely multiple location ids. The xml file will contain about 1000 to 3000 location ids."}, {"owner": {"reputation": 21, "user_id": 7637360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5057ee543c20d1ee4e86bbbfb59efa2?s=128&d=identicon&r=PG&f=1", "display_name": "BCope", "link": "https://stackoverflow.com/users/7637360/bcope"}, "edited": false, "score": 0, "creation_date": 1488989695, "post_id": 42674428, "comment_id": 72477351, "body": "It works! Sobrique THANK YOU that works like a champ! Thank you you so much."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 21, "user_id": 7637360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5057ee543c20d1ee4e86bbbfb59efa2?s=128&d=identicon&r=PG&f=1", "display_name": "BCope", "link": "https://stackoverflow.com/users/7637360/bcope"}, "edited": false, "score": 0, "creation_date": 1488990618, "post_id": 42674428, "comment_id": 72478032, "body": "Sorry, multiple as in &#39;not unique&#39; - multiple matching a particular key."}, {"owner": {"reputation": 21, "user_id": 7637360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5057ee543c20d1ee4e86bbbfb59efa2?s=128&d=identicon&r=PG&f=1", "display_name": "BCope", "link": "https://stackoverflow.com/users/7637360/bcope"}, "edited": false, "score": 0, "creation_date": 1488990761, "post_id": 42674428, "comment_id": 72478159, "body": "Multiple as in matching a particular key. Your solution appears to be working and doing exactly what I want. I am about to test on a txt file with 1000 records; using the loop."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1488990649, "last_edit_date": 1495540439, "creation_date": 1488984458, "answer_id": 42674428, "question_id": 42673128, "link": "https://stackoverflow.com/questions/42673128/update-specific-node-of-xml-file-based-on-match-from-data-in-array/42674428#42674428", "title": "Update Specific Node of XML file based on match from data in array", "body": "<p>Please - don't use regular expressions. XML is contextual, and regular expressions ... aren't. </p>\n\n<p>So with that in mind - use a parser. I like <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a> (<a href=\"http://search.cpan.org/dist/XML-LibXML/LibXML.pod\" rel=\"nofollow noreferrer\"><code>XML::LibXML</code></a> is also pretty good. <code>XML::Simple</code> is <a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\"><em>discouraged</em></a>)</p>\n\n<p>But you do have <code>xpath</code> available, which is similar, but better suited to it. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\nuse Data::Dumper;\n\n\n#parse your file.\nmy $xml = XML::Twig -&gt; new -&gt; parsefile('sample1.xml');\n\n#open the replacements file for reading\nopen ( my $input, '&lt;', 'file2.txt') or die $!;\n#turn it into key-values for replacement\n#probably a bit overkill, as you can just do this iteratively instead. \nmy %replace = map { s/\\s+//g; split /:/ } &lt;$input&gt;;\nclose ( $input );\n\n#print for debug\nprint \"Using for replacement:\\n \";\nprint Dumper \\%replace;\n\n#iterate all of the search terms\nforeach my $search ( keys %replace ) { \n   #use XPATH to find location ID that matches.\n   #note - this only finds the _first_ location ID. To do 'all' you'd \n   #need to loop. \n   $xml -&gt; get_xpath(\"//LOCATIONID[string()=\\\"$search\\\"]\",0) -&gt; set_text($replace{$search});\n}\n\n#set output formatting\n$xml -&gt; set_pretty_print('indented_a');\n#print to screen\n$xml -&gt; print;\n\n#for output:\nopen ( my $output, '&gt;', 'transformed.xml' ) or die $!;\nprint {$output} $xml -&gt; sprint;\nclose ( $output );\n</code></pre>\n\n<p>If there's multiple instances of particular location IDs, you'd need to:</p>\n\n<pre><code>$_ -&gt; set_text($replace{$search}) for $xml -&gt; get_xpath(\"//LOCATIONID[string()=\\\"$search\\\"]\");\n</code></pre>\n\n<p>instead, as this will search for <em>all</em> nodes matching that particular ID and replace all of them.</p>\n"}], "owner": {"reputation": 21, "user_id": 7637360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5057ee543c20d1ee4e86bbbfb59efa2?s=128&d=identicon&r=PG&f=1", "display_name": "BCope", "link": "https://stackoverflow.com/users/7637360/bcope"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1488990649, "creation_date": 1488981065, "last_edit_date": 1488982212, "question_id": 42673128, "link": "https://stackoverflow.com/questions/42673128/update-specific-node-of-xml-file-based-on-match-from-data-in-array", "title": "Update Specific Node of XML file based on match from data in array", "body": "<p>I am fairly new to Perl. I want to update a specific node value <code>LocationID</code> in this XML file that matches values that I read in from a text file.</p>\n\n<p><strong>Sample XML File</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;TestImportFile xmlns=\"urn:TestImportFile-schema\"&gt;\n    &lt;LOCATION SOURCEID=\"Yes\"&gt;\n        &lt;LOCATIONID&gt;F16-000100&lt;/LOCATIONID&gt;\n        &lt;LOCATIONCATEGORY&gt;UFO ABDUCTEE&lt;/LOCATIONCATEGORY&gt;\n        &lt;LOCAL BIT=\"Test Case File\"&gt;\n            &lt;LOCALNAME&gt;DTG2QP&lt;/LOCALNAME&gt;\n            &lt;ASSIGNEDTO&gt;BearmanJ&lt;/ASSIGNEDTO&gt;\n            &lt;ASSIGNEDTODATETIME&gt;2016-02-02T07:59:00&lt;/ASSIGNEDTODATETIME&gt;\n            &lt;CASE&gt;\n                &lt;CASEVALUE&gt;21&lt;/CASEVALUE&gt;\n            &lt;/CASE&gt;\n            &lt;CASE&gt;\n                &lt;CASEVALUE&gt;35&lt;/CASEVALUE&gt;\n            &lt;/CASE&gt;\n        &lt;/LOCAL&gt;\n        &lt;LOCAL BIT=\"Test Case File\"&gt;\n            &lt;LOCALNAME&gt;F4T2557&lt;/LOCALNAME&gt;\n            &lt;READINGBY&gt;BearmanJ&lt;/READINGBY&gt;\n            &lt;READINGDATETIME&gt;2016-04-03T06:48:00&lt;/READINGDATETIME&gt;\n            &lt;CASE&gt;\n                &lt;CASEVALUE&gt;83&lt;/CASEVALUE&gt;\n            &lt;/CASE&gt;\n            &lt;CASE&gt;\n                &lt;CASEVALUE&gt;40&lt;/CASEVALUE&gt;\n            &lt;/CASE&gt;\n        &lt;/LOCAL&gt;\n    &lt;/LOCATION&gt;\n    &lt;LOCATION SOURCEID=\"Yes\"&gt;\n        &lt;LOCATIONID&gt;F16-000101&lt;/LOCATIONID&gt;\n        &lt;LOCATIONCATEGORY&gt;UFO ABDUCTEE&lt;/LOCATIONCATEGORY&gt;\n        &lt;LOCAL BIT=\"Test Case File\"&gt;\n            &lt;LOCALNAME&gt;ZGV4TF&lt;/LOCALNAME&gt;\n            &lt;ASSIGNEDTO&gt;BearmanJ&lt;/ASSIGNEDTO&gt;\n            &lt;ASSIGNEDTODATETIME&gt;2016-02-02T07:59:00&lt;/ASSIGNEDTODATETIME&gt;\n            &lt;CASE&gt;\n                &lt;CASEVALUE&gt;34&lt;/CASEVALUE&gt;\n            &lt;/CASE&gt;\n            &lt;CASE&gt;\n                &lt;CASEVALUE&gt;67&lt;/CASEVALUE&gt;\n            &lt;/CASE&gt;\n        &lt;/LOCAL&gt;\n        &lt;LOCAL BIT=\"Test Case File\"&gt;\n            &lt;LOCALNAME&gt;E5Y7456&lt;/LOCALNAME&gt;\n            &lt;READINGBY&gt;BearmanJ&lt;/READINGBY&gt;\n            &lt;READINGDATETIME&gt;2016-04-03T06:48:00&lt;/READINGDATETIME&gt;\n            &lt;CASE&gt;\n                &lt;CASEVALUE&gt;53&lt;/CASEVALUE&gt;\n            &lt;/CASE&gt;\n            &lt;CASE&gt;\n                &lt;CASEVALUE&gt;20&lt;/CASEVALUE&gt;\n            &lt;/CASE&gt;\n        &lt;/LOCAL&gt;\n    &lt;/LOCATION&gt;\n    &lt;LOCATION SOURCEID=\"Yes\"&gt;\n        &lt;LOCATIONID&gt;F16-000102&lt;/LOCATIONID&gt;\n        &lt;LOCATIONCATEGORY&gt;UFO ABDUCTEE&lt;/LOCATIONCATEGORY&gt;\n        &lt;LOCAL BIT=\"Test Case File\"&gt;\n            &lt;LOCALNAME&gt;ZGV4TF&lt;/LOCALNAME&gt;\n            &lt;ASSIGNEDTO&gt;BearmanJ&lt;/ASSIGNEDTO&gt;\n            &lt;ASSIGNEDTODATETIME&gt;2016-02-02T07:59:00&lt;/ASSIGNEDTODATETIME&gt;\n            &lt;CASE&gt;\n                &lt;CASEVALUE&gt;34&lt;/CASEVALUE&gt;\n            &lt;/CASE&gt;\n            &lt;CASE&gt;\n                &lt;CASEVALUE&gt;67&lt;/CASEVALUE&gt;\n            &lt;/CASE&gt;\n        &lt;/LOCAL&gt;\n        &lt;LOCAL BIT=\"Test Case File\"&gt;\n            &lt;LOCALNAME&gt;E5Y7456&lt;/LOCALNAME&gt;\n            &lt;READINGBY&gt;BearmanJ&lt;/READINGBY&gt;\n            &lt;READINGDATETIME&gt;2016-04-03T06:48:00&lt;/READINGDATETIME&gt;\n            &lt;CASE&gt;\n                &lt;CASEVALUE&gt;53&lt;/CASEVALUE&gt;\n            &lt;/CASE&gt;\n            &lt;CASE&gt;\n                &lt;CASEVALUE&gt;20&lt;/CASEVALUE&gt;\n            &lt;/CASE&gt;\n        &lt;/LOCAL&gt;\n    &lt;/LOCATION&gt;\n&lt;/TestImportFile&gt;\n</code></pre>\n\n<p><strong>Sample Text File</strong></p>\n\n<pre><code>  F16-000100:2B-16-NOR-0005-J3\n  F16-000101:2B-16-NOR-0005-J4\n  F16-000102:2B-16-NOR-0005-J5\n</code></pre>\n\n<p>I can read the test file into an array but I cannot determine how to search the XML file for the match then update that value in the XML file with the value desired.</p>\n\n<p>My script to read in text file:</p>\n\n<pre><code>my $filename = '1TestData.txt';\nopen(FILE, $filename) or die \"Could not read from $filename, program    halting.\";\nmy $output = '1TestOutput.txt';\nopen(OUTPUT, '&gt;'.$output) or die \"Can't create $output.\\n\";\nwhile(&lt;FILE&gt;){\n    chomp;\n    @fields = split(':', $_);\n    print \"$fields[0]\\n\";\n}\nclose FILE;\n</code></pre>\n\n<p>I want to update the  <code>LOCATIONID</code> value to the second value of the matching value found in the text file.</p>\n\n<pre><code>&lt;LOCATIONID&gt;F16-000100&lt;/LOCATIONID&gt;\n</code></pre>\n\n<p>Desired Result:</p>\n\n<pre><code>&lt;LOCATIONID&gt;2B-16-NOR-0005-J3&lt;/LOCATIONID&gt;\n</code></pre>\n\n<p>without touching anything else in the XML file.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488972974, "post_id": 42670099, "comment_id": 72465087, "body": "<code>overload</code> won&#39;t help you. That&#39;s for when the current object that has the overload is used in a certain context, like <code>DateTime-&gt;now + 5</code> would magically work."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488973016, "post_id": 42670099, "comment_id": 72465126, "body": "It seems that <code>qx</code> cannot be overridden.  See <a href=\"http://stackoverflow.com/a/651990/4653379\">this answer</a>.  (I am <i>not</i> saying that you cannot accomplish what you want, in some way :)"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 8, "last_activity_date": 1488974286, "last_edit_date": 1488974286, "creation_date": 1488973963, "answer_id": 42670636, "question_id": 42670099, "link": "https://stackoverflow.com/questions/42670099/redefining-or-overloading-backticks/42670636#42670636", "title": "redefining or overloading backticks", "body": "<p>This <a href=\"http://www.perlmonks.org/?node_id=907345\" rel=\"noreferrer\">perlmonks article</a> explains how to do it. You can overwrite the <a href=\"http://perldoc.perl.org/functions/readpipe.html\" rel=\"noreferrer\"><code>readpipe</code></a> built-in.</p>\n\n<blockquote>\n  <p>EXPR is executed as a system command. The collected standard output of the command is returned. In scalar context, it comes back as a single (potentially multi-line) string. In list context, returns a list of lines (however you've defined lines with <code>$/</code> (or <code>$INPUT_RECORD_SEPARATOR</code> in <code>English</code>)). This is the internal function implementing the <code>qx/EXPR/</code> operator, but you can use it directly. The <code>qx/EXPR/</code> operator is discussed in more detail in I/O Operators in perlop. If EXPR is omitted, uses <code>$_</code> .</p>\n</blockquote>\n\n<p>You need to put this into a <code>BEGIN</code> block, so it would make sense to not <code>require</code>, but <code>use</code> it instead to make it available as early as possible.</p>\n\n<p>Built-ins are overridden using the <a href=\"http://perldoc.perl.org/CORE.html\" rel=\"noreferrer\"><code>CORE::GLOBAL::</code> namespace</a>.</p>\n\n<pre><code>BEGIN {\n    *CORE::GLOBAL::readpipe = sub {\n        print \"@_\";\n    }\n}\n\nprint qx/ls/;\nprint `ls`;\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>ls1ls1\n</code></pre>\n\n<p>Where the <code>ls</code> is the <code>@_</code> and the <code>1</code> is the return value of <code>print</code> inside the overridden sub.</p>\n\n<p>Alternatively, there is <a href=\"https://metacpan.org/pod/ex::override\" rel=\"noreferrer\">ex::override</a>, which does the same under the hood, but with less weird internals.</p>\n"}], "owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 42670636, "answer_count": 1, "score": 10, "last_activity_date": 1488979332, "creation_date": 1488972511, "last_edit_date": 1488979332, "question_id": 42670099, "link": "https://stackoverflow.com/questions/42670099/redefining-or-overloading-backticks", "title": "redefining or overloading backticks", "body": "<p>I have a lot of legacy code which shells out a lot, what i want to do is add a <code>require</code> or minimal code changes to make the backticks do something different, for instance print instead of running code</p>\n\n<p>i tried using <code>use subs</code> but i couldn't get it to take over backticks or qx (i did redefine system which is one less thing to worry about)</p>\n\n<p>i also tried to make a package:</p>\n\n<pre><code>package thingmbob;\nuse Data::Dumper;\nuse overload    '``'    =&gt; sub { CORE::print \"things!:\\t\", Dumper \\@_};\n#this works for some reason\n$thingmbob::{'(``'}('ls');\n#this does the standard backtick operation\n`ls`\n</code></pre>\n\n<p>unfourtunatly, I have no experience in OOP perl and my google-fu skills are failing me, could some one point me in the right direction?</p>\n\n<p>caveat:\nI'm in a closed system with a few cpan modules preinstalled, odds are that i don't have any fancy modules preinstalled and i absolutely cannot get new ones</p>\n\n<p>I'm on perl5.14</p>\n\n<p>edit:</p>\n\n<p>for the sake of completeness i want to add my (mostly) final product</p>\n\n<pre><code>BEGIN {\n    *CORE::GLOBAL::readpipe = sub {\n        print Dumper(\\@_);\n        @internal = readpipe(@_);\n        if(wantarray){\n            return @internal;\n        }else{\n            return join('',@internal);\n        }\n    };\n}\n</code></pre>\n\n<p>I want it to print what its about to run and then run it. the <code>wantarray</code> is important because without it scalar context does not work</p>\n"}, {"tags": ["sql", "postgresql", "perl"], "answers": [{"tags": [], "owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": false, "score": 0, "last_activity_date": 1488970296, "creation_date": 1488970296, "answer_id": 42669297, "question_id": 42669117, "link": "https://stackoverflow.com/questions/42669117/perl-concatenation-for-sql-query/42669297#42669297", "title": "Perl concatenation for SQL query", "body": "<p>My guess is that your error is being caused by not specifying the column names in your insert, while simultaneously having the wrong number/types of columns.  I would expect the following Perl code to not error out:</p>\n\n<pre><code>for (my $i=0 ; $i&lt;=50; $i++){\n$dbh -&gt; do(\"INSERT INTO test (lastname, street, balance) VALUES ('$LastName[$i]', '$Street[$i]', $Balance_account[$i])\");\n</code></pre>\n\n<p>Here is what a working query might look like:</p>\n\n<pre><code>INSERT INTO test (lastname, street, balance)\nVALUES\n    ('Skeet', '100 Thatcher Street', 100.50);\n</code></pre>\n\n<p>It is generally considered bad practice to not include column names while doing an insert, because even if you get it right, it could easily break later on.</p>\n"}, {"tags": [], "owner": {"reputation": 2954, "user_id": 235961, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8e403d928f09096477fd2b4f3c00560?s=128&d=identicon&r=PG", "display_name": "Pradeep", "link": "https://stackoverflow.com/users/235961/pradeep"}, "is_accepted": false, "score": 3, "last_activity_date": 1489148148, "last_edit_date": 1489148148, "creation_date": 1488972660, "answer_id": 42670154, "question_id": 42669117, "link": "https://stackoverflow.com/questions/42669117/perl-concatenation-for-sql-query/42670154#42670154", "title": "Perl concatenation for SQL query", "body": "<p>Use placeholders,</p>\n\n<pre><code>for (my $i=0 ; $i&lt;=50; $i++){\n  $dbh-&gt;do(\"INSERT INTO test VALUES (?,?,?)\",\n    undef,\n    $LastName[$i], $Street[$i], $Balance_account[$i]\n  );\n}\n</code></pre>\n\n<p>Ideally, you should prepare the query and execute for each set of values, something like this:</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare('INSERT INTO test VALUES (?,?,?)');\n\nfor (my $i=0 ; $i&lt;=50; $i++){\n  $sth-&gt;execute($LastName[$i], $Street[$i], $Balance_account[$i]);\n}\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 7399100, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0271320aef843165127b056df7c3fffa?s=128&d=identicon&r=PG&f=1", "display_name": "Rei", "link": "https://stackoverflow.com/users/7399100/rei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1489148148, "creation_date": 1488969790, "question_id": 42669117, "link": "https://stackoverflow.com/questions/42669117/perl-concatenation-for-sql-query", "title": "Perl concatenation for SQL query", "body": "<p>I'm trying to transfer the content of a CSV file into a table in PostgreSQL using Perl.</p>\n\n<p>I'm able to update my table successfully, but the terminal returns an error:</p>\n\n<pre><code>Use of uninitialized value in concatenation (.) or string\nSyntax error near \",\"\nINSERT INTO test VALUES (, '', '', '', '',, )\n</code></pre>\n\n<p>Here is the code where it fails :</p>\n\n<pre><code>for (my $i=0 ; $i&lt;=50; $i++){\n$dbh -&gt;do(\"INSERT INTO test VALUES ('$LastName[$i]', '$Street[$i]', $Balance_account[$i])\") ;\n</code></pre>\n\n<p>If more information is needed just ask them.\nSorry for the bad English.</p>\n\n<p>--\nThomas</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 3923, "user_id": 3640699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NxDM0.jpg?s=128&g=1", "display_name": "Karthikeyan.R.S", "link": "https://stackoverflow.com/users/3640699/karthikeyan-r-s"}, "edited": false, "score": 1, "creation_date": 1488980925, "post_id": 42669024, "comment_id": 72470728, "body": "Package might not be installed in desired location. Check where the package is installed. Then Check <code>@INC</code> variable in perl script. Check the path available in that."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488991667, "post_id": 42669024, "comment_id": 72478816, "body": "Try run <code>sudo cpan Sub::Identify</code>"}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 3, "last_activity_date": 1488997238, "last_edit_date": 1592644375, "creation_date": 1488992919, "answer_id": 42677552, "question_id": 42669024, "link": "https://stackoverflow.com/questions/42669024/why-do-i-get-cant-locate-sub-identify-pm-in-inc-when-i-use-the-datetime-modu/42677552#42677552", "title": "Why do I get &quot;Can&#39;t locate Sub/Identify.pm in @INC&quot; when I use the DateTime module even though I installed the perl-DateTime RPM?", "body": "<h2>TL;DR</h2>\n<p>This is why it's a bad idea to mix modules installed via a package manager and via CPAN.</p>\n<hr />\n<p>It looks like you installed DateTime with yum, but DateTime::Locale with CPAN. You can see this by following the dependency chain in your error message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>/root/perl5/lib/perl5/namespace/autoclean.pm --&gt; CPAN\n/root/perl5/lib/perl5/DateTime/Locale.pm     --&gt; CPAN\n/usr/lib64/perl5/vendor_perl/DateTime.pm     --&gt; yum\n</code></pre>\n<p>The newest version of namespace::autoclean depends on Sub::Identify, which seems to be missing from <code>@INC</code>.</p>\n<p>So did yum install a package with missing dependencies? Nope, it installed an older version of DateTime::Locale, when namespace::autoclean wasn't a dependency:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ cpan -D DateTime::Locale | grep -oP '[\\d.]+(?=\\s+up)'     # newest version\n1.14\n$ yum info perl-DateTime-Locale | grep -oP 'Version\\D+\\K.+' # yum version\n0.45\n$ rpm -q --requires perl-DateTime-Locale | grep autoclean\n$\n</code></pre>\n<p>But since you put <code>/root/perl5/lib/perl5</code> before the system perl directories in <code>@INC</code>, you're loading the version installed by CPAN, which does need namespace::autoclean and Sub::Identify. Of course, yum has no way to know that.</p>\n<p>I'm not sure why Sub::Identify is missing...you may have deleted it, or it may simply be installed outside of <code>@INC</code>. You <em>could</em> try to re-install it with CPAN, but it would be better to:</p>\n<ul>\n<li>remove <code>/root/perl5/*</code> from <code>@INC</code> and only install modules in the system perl with yum</li>\n<li>use <a href=\"https://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew</a> or <a href=\"https://github.com/tokuhirom/plenv\" rel=\"nofollow noreferrer\">plenv</a> to create your own local installation of perl and install modules with cpan</li>\n</ul>\n"}], "owner": {"reputation": 2964, "user_id": 4485955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d31f821e9c645e34ff7ee6f729843076?s=128&d=identicon&r=PG&f=1", "display_name": "prgrm", "link": "https://stackoverflow.com/users/4485955/prgrm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1784, "favorite_count": 0, "accepted_answer_id": 42677552, "answer_count": 1, "score": 1, "last_activity_date": 1488997238, "creation_date": 1488969536, "last_edit_date": 1488995875, "question_id": 42669024, "link": "https://stackoverflow.com/questions/42669024/why-do-i-get-cant-locate-sub-identify-pm-in-inc-when-i-use-the-datetime-modu", "title": "Why do I get &quot;Can&#39;t locate Sub/Identify.pm in @INC&quot; when I use the DateTime module even though I installed the perl-DateTime RPM?", "body": "\n\n<p>I am trying to use the module <code>DateTime</code> in CentOS so I installed it like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>yum install perl-DateTime\n</code></pre>\n\n<p>and then added <code>use DateTime</code> to my script, but I get this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Can't locate Sub/Identify.pm in @INC (@INC contains:\n/root/perl5/lib/perl5/5.16.3/x86_64-linux-thread-multi\n/root/perl5/lib/perl5/5.16.3\n/root/perl5/lib/perl5/x86_64-linux-thread-multi /root/perl5/lib/perl5\n/usr/local/lib64/perl5 /usr/local/share/perl5\n/usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl\n/usr/lib64/perl5 /usr/share/perl5 .) at\n/root/perl5/lib/perl5/namespace/autoclean.pm line 200. Compilation\nfailed in require at /root/perl5/lib/perl5/DateTime/Locale.pm line 11.\nBEGIN failed--compilation aborted at\n/root/perl5/lib/perl5/DateTime/Locale.pm line 11. Compilation failed\nin require at /usr/lib64/perl5/vendor_perl/DateTime.pm line 45. BEGIN\nfailed--compilation aborted at\n/usr/lib64/perl5/vendor_perl/DateTime.pm line 45. Compilation failed\nin require at myscript.pl line 8. BEGIN failed--compilation aborted\nat myscript.pl line 8.\n</code></pre>\n\n<p>I have no idea what's going on. I already installed several packages through the CPAN. This is the first time I've tried with <code>yum install</code> and it doesn't work. Any ideas?</p>\n"}, {"tags": ["perl", "autovivification"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488967196, "post_id": 42668114, "comment_id": 72461114, "body": "Did you install it? Maybe add <code>warn</code> to the list of unimports. That would be <code>no autovivification qw&lt;fetch exists delete warn&gt;;</code> and see if there is a warning when it&#39;s avoided like the docs say."}, {"owner": {"reputation": 2779, "user_id": 494747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07dce10dfcbb1c57e2f3025aa2213ac?s=128&d=identicon&r=PG", "display_name": "ryanm", "link": "https://stackoverflow.com/users/494747/ryanm"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488967979, "post_id": 42668114, "comment_id": 72461652, "body": "It is installed, or else the script would die at line 11. I&#39;ve updated the question with the results of adding <code>warn</code>."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 3, "creation_date": 1488968039, "post_id": 42668114, "comment_id": 72461696, "body": "That&#39;s not that surprising. Perl doesn&#39;t really know that <code>do_nothing</code> does nothing, and since you gave it an argument, it has to autovivify it so you can use it in the sub. In particular, it doesn&#39;t know if you do an affectation to <code>$_[0]</code> or not in <code>do_nothing</code>."}, {"owner": {"reputation": 2779, "user_id": 494747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07dce10dfcbb1c57e2f3025aa2213ac?s=128&d=identicon&r=PG", "display_name": "ryanm", "link": "https://stackoverflow.com/users/494747/ryanm"}, "edited": false, "score": 0, "creation_date": 1488968523, "post_id": 42668114, "comment_id": 72461997, "body": "That makes sense. It feels like something that could be made clearer in the documentation though, as it&#39;s going to be surprising to anyone coming from a pass-by-value language."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488968534, "post_id": 42668114, "comment_id": 72462005, "body": "There is a critical difference with how it goes in a sub (it&#39;s an <i>lvalue</i> context, the object must be modifiable).  I think that <a href=\"http://stackoverflow.com/a/41401306/4653379\">this answer</a> may explain it."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488968787, "post_id": 42668114, "comment_id": 72462192, "body": "But isn&#39;t that the whole idea of that module? Simply accessing it should be covered by <code>fetch</code>. I would expect that to give <code>undef</code> and not autovivify."}, {"owner": {"reputation": 2779, "user_id": 494747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07dce10dfcbb1c57e2f3025aa2213ac?s=128&d=identicon&r=PG", "display_name": "ryanm", "link": "https://stackoverflow.com/users/494747/ryanm"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488969546, "post_id": 42668114, "comment_id": 72462681, "body": "@simbabque If perl were pass-by-value that would be true, but arguments are actually passed by reference. Normally the first thing any sub does is make a copy of the values with <code>my ( $arg ) = @_;</code>, so it&#39;s rarely relevant, but it is the crucial distinction here. As Dada notes the sub could alter <code>$_[0]</code>, so there has to be something there to alter - autovivification is unavoidable."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488970164, "post_id": 42668114, "comment_id": 72463093, "body": "@ryanm  You can suppress it with the module -- need <code>store</code>.  See my answer."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 12, "last_activity_date": 1496990943, "last_edit_date": 1496990943, "creation_date": 1488969876, "answer_id": 42669150, "question_id": 42668114, "link": "https://stackoverflow.com/questions/42668114/unexpected-autovivification-of-arguments/42669150#42669150", "title": "Unexpected autovivification of arguments", "body": "<p>In a subroutine call the arguments to a function are aliased in <code>@_</code>, so it must be possible to modify them. This provides an <em>lvalue</em> context, what will trigger autovivification.</p>\n\n<p>When we look through descriptions of features you use in <a href=\"http://search.cpan.org/~vpit/autovivification-0.16/lib/autovivification.pm\" rel=\"nofollow noreferrer\">autovivification</a>, they cover:  </p>\n\n<ul>\n<li><code>'fetch'</code>  -- \"rvalue dereferencing expressions\"   </li>\n<li><code>'exists'</code> -- \"dereferencing expressions that are parts of an <em>exists</em>\"  </li>\n<li><code>'delete'</code> -- \"dereferencing expressions that are parts of a <em>delete</em>\"</li>\n</ul>\n\n<p>None of these deal with lvalues (neither does <code>warn</code>).</p>\n\n<p>To stop autovivification in subroutine calls as well you need to add <code>store</code></p>\n\n<blockquote>\n  <p>Turns off autovivification for lvalue dereferencing expressions, such as : &nbsp; [...]</p>\n</blockquote>\n\n<p>where docs proceed with examples, including subroutine calls.</p>\n\n<p>When I add it to your code,</p>\n\n<pre><code>no autovivification qw(fetch exists delete warn store);\n# ...\n</code></pre>\n\n<p>I get</p>\n\n<pre>\nReference was vivified at noautoviv.pl line 8.\nReference was vivified at noautoviv.pl line 16.\nDied at noautoviv.pl line 19.\n</pre>\n"}], "owner": {"reputation": 2779, "user_id": 494747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07dce10dfcbb1c57e2f3025aa2213ac?s=128&d=identicon&r=PG", "display_name": "ryanm", "link": "https://stackoverflow.com/users/494747/ryanm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 42669150, "answer_count": 1, "score": 11, "last_activity_date": 1496990943, "creation_date": 1488967025, "last_edit_date": 1488967953, "question_id": 42668114, "link": "https://stackoverflow.com/questions/42668114/unexpected-autovivification-of-arguments", "title": "Unexpected autovivification of arguments", "body": "<p>Apparently my understanding of the <a href=\"http://search.cpan.org/~vpit/autovivification-0.16/lib/autovivification.pm\" rel=\"noreferrer\">no autovivification</a> pragma is imperfect, as the not-dying-on-line-19 behaviour of the following script is extremely surprising to me.</p>\n\n<pre><code>use 5.014;\nuse strict;\nuse warnings;\nno autovivification qw(fetch exists delete warn);\n\n{\n  my $foo = undef;\n  my $thing = $foo-&gt;{bar};\n\n  # this does not die, as expected\n  die if defined $foo;\n}\n\n{\n  my $foo = undef;\n  do_nothing( $foo-&gt;{bar} );\n\n  # I would expect this to die, but it doesn't\n  die unless defined $foo;\n}\n\nsub do_nothing {\n  return undef;\n}\n</code></pre>\n\n<p>Running the script produces:</p>\n\n<pre><code>Reference was vivified at test.pl line 8.\n</code></pre>\n\n<p>The question: why is <code>$foo</code> autovivified when <code>$foo-&gt;{bar}</code> is supplied as an argument to a sub, even though <code>no autovivification</code> is in effect?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 1, "creation_date": 1488960240, "post_id": 42665893, "comment_id": 72456986, "body": "What would be the correct output of Matched1?, Please add information explaining your regex string output!"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1488960240, "post_id": 42665893, "comment_id": 72456987, "body": "It would be more clear if you explained what you want to match. Balanced <code>{...}</code> substrings after 0+ chars other than <code>{</code> and <code>}</code>? Use recursion/subroutines then: <code>&#47;[^{}]*({(?:[^{}]++|(?1))*})&#47;</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488960810, "post_id": 42665893, "comment_id": 72457297, "body": "I get <code>Match2: {2}</code> not <code>Match1: {2}</code> for the output. Why is <code>Match2: {2}</code> incorrect? Please explain"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1488963669, "post_id": 42665893, "comment_id": 72458829, "body": "I have updated my question with brief details."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1488964265, "post_id": 42665893, "comment_id": 72459171, "body": "Your mistake is the wrong pattern that causes too heavy backtracking. Please define the requirements. If you need to match nested <code>{}</code>, you just need a recursive regex - <code>&#47;{(?:[^{}]++|(?R))*}&#47;</code>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1488964444, "post_id": 42665893, "comment_id": 72459281, "body": "<code>if($str2=~m&#47;^\\{(?:[^\\{\\}]++|(?R))*\\}$&#47;g) {  print &quot;Match2: $&amp;\\n&quot;;  }</code> No its not matched the string."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1488964531, "post_id": 42665893, "comment_id": 72459345, "body": "Why did you add <code>^</code> and <code>$</code>? Remove them. No need to escape <code>{</code> and <code>}</code> here. See <a href=\"https://ideone.com/hqBS8w\" rel=\"nofollow noreferrer\">ideone.com/hqBS8w</a>."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1488964852, "post_id": 42665893, "comment_id": 72459541, "body": "Or do you mean you need to validate a string with a balanced amount of nested braces?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1488964933, "post_id": 42665893, "comment_id": 72459587, "body": "No I need to grep the FIRST IN &#39;{&#39; LAST OUT &#39;}&#39; that means matched curly braces."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1488965321, "post_id": 42665893, "comment_id": 72459844, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/137532/discussion-between-ssr1012-and-wiktor-stribizew\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1488967162, "post_id": 42667831, "comment_id": 72461091, "body": "@ssr1012  Oh goodness ... you need to be <i>really</i> careful with something like that.  It can blow away answers, invalidate whole approaches. Thanks for letting me know :)  However, the edit doesn&#39;t change the analysis above -- it only adds one <code>C</code> in front (as I used <code>C</code> in the answer). Same overall level of nesting."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1488967937, "post_id": 42667831, "comment_id": 72461626, "body": "Its not matched my regex <code>my $str2 = &quot;\\\\bibcite{Airdetal2013}{{2}{2017}{{{John} {et~al.}}}{{{James}, {Flexi}, {Buella}, {Curren}, {Mozes}, {Sam}, {Kandan}, {Alexander}, {Alfonsa}, {Fireknight}, {Georgen}, {Karims}, {Merloni}, {Nanda}, {Terra}, {Alvato}, {Nini}, {Winski}, {Shankar}, {Gnali}, \\&amp; {Giito}}}}&quot;;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1488968233, "post_id": 42667831, "comment_id": 72461808, "body": "@ssr1012  What do you mean by that?  I shortened that in the answer on purpose, so that we can see that there are <i>three levels of nesting</i> in the string.  But the regex only provides for two.  Thus the regex cannot match that whole string."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1488968397, "post_id": 42667831, "comment_id": 72461914, "body": "Ok I got and understand now."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1489084416, "last_edit_date": 1495540451, "creation_date": 1488966227, "answer_id": 42667831, "question_id": 42665893, "link": "https://stackoverflow.com/questions/42665893/regex-doesnt-fetch-the-nested-curly-braces/42667831#42667831", "title": "Regex doesn&#39;t fetch the nested curly braces", "body": "<p><strong>Note</strong> &nbsp; The edit in the question adds <code>\\\\bibcite{Airdetal2013}</code> in front. However, this doesn't change the analysis below as it doesn't change the overall nesting levels.</p>\n\n<hr>\n\n<p>This has got to be possible to do in a better way. There is recursive regex offered by <a href=\"https://stackoverflow.com/users/3832970/wiktor-stribi%C5%BCew\">Wiktor Stribi\u017cew</a> in comments. There are modules for recursive parsing. And there are tools for parsing Latex.</p>\n\n<p>However, out of curiosity ...</p>\n\n<p>Your string, shortened suitably</p>\n\n<pre><code>my $str2 = \"{{2}{2017}{{{John}{et~al.}}}{{{James}, ... {Gnali}, \\&amp; {Giito}}}}\";\n</code></pre>\n\n<p>or, with <code>C</code> standing for a pair of curlies with something inside (no nesting)</p>\n\n<pre><code>\"{ C C { { C C } { C, ... \\&amp; C } } }\"\n</code></pre>\n\n<p>So you have three levels of nesting, to get down to the last pair <code>{...}</code> (no further nesting).</p>\n\n<p>Your regex, spread out and with <code>$nc = qr/[^{}]*/</code> (Non-Curlies), so that we can look at it</p>\n\n<pre><code>my $regex = qr/\n    (?: $nc \n        (?: { \n            (?: $nc \n                (?: { \n                    (?: $nc (?: { $nc } )* $nc ) \n                    } \n                )* $nc \n            )* \n            } \n        )* $nc \n    )*/x;\n</code></pre>\n\n<p>I can count two levels here. (The <code>$nc</code> has no curlies so <code>{ $nc }</code> matches my <code>C</code> above.)</p>\n\n<p>Thus this regex cannot match that whole string.</p>\n\n<p>How to fix it? Best, find another way so to not drown in this. </p>\n\n<p>Or, write it out like above, <em>very carefully</em>, and add the missing level.</p>\n"}, {"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1488967241, "post_id": 42668043, "comment_id": 72461143, "body": "Note I added the <code>(?!\\\\bib)</code> lookahead with the last <code>[^{}]</code> so as not to eat up consequent matches (if you have multiple). You may further adjust that part, or even just use <code>[^{}\\\\]</code> to avoid matching <code>\\</code> with that regex part."}], "tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 2, "last_activity_date": 1488967167, "last_edit_date": 1610973431, "creation_date": 1488966835, "answer_id": 42668043, "question_id": 42665893, "link": "https://stackoverflow.com/questions/42665893/regex-doesnt-fetch-the-nested-curly-braces/42668043#42668043", "title": "Regex doesn&#39;t fetch the nested curly braces", "body": "<p>Since your actual requirements (<a href=\"https://chat.stackoverflow.com/rooms/137532/discussion-between-ssr1012-and-wiktor-stribizew\">discussed in the chat</a>) are to match substrings starting with <code>\\bib</code> followed with <code>{...}</code> substrings or any chars other than <code>{</code> and <code>}</code>, you should use a regex with a <em>subroutine</em>:</p>\n<pre><code>/\\\\bib(?:({(?:[^{}]++|(?1))*})|(?!\\\\bib)[^{}])*/g\n</code></pre>\n<p><strong>Details</strong>:</p>\n<ul>\n<li><code>\\\\bib</code> - <code>\\bib</code> literal text</li>\n<li><code>(?:({(?:[^{}]++|(?1))*})|(?!\\\\bib)[^{}])*</code> - 0+ occurrences of:\n<ul>\n<li><code>({(?:[^{}]++|(?1))*})</code> - Group 1 (that will be recursed with <code>(?1)</code>) matching\n<ul>\n<li><code>{</code> - a literal <code>{</code></li>\n<li><code>(?:[^{}]++|(?1))*</code> - 0 or more occurrences of 1+ chars other than <code>{</code> and <code>}</code> or the whole Group 1 subpattern</li>\n<li><code>}</code>   - a literal <code>}</code></li>\n</ul>\n</li>\n<li><code>|</code> - or</li>\n<li><code>(?!\\\\bib)[^{}]</code> - a char other than <code>{</code> and <code>}</code> not starting a <code>\\bib</code> literal char sequence.</li>\n</ul>\n</li>\n</ul>\n<p>See the <a href=\"https://ideone.com/W3dLa8\" rel=\"nofollow noreferrer\">sample Perl code</a>:</p>\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy $str2 = &quot;\\\\bibcite{Airdetal2013}{{2}{2017}{{{John} {et~al.}}}{{{James}, {Flexi}, {Buella}, {Curren}, {Mozes}, {Sam}, {Kandan}, {Alexander}, {Alfonsa}, {Fireknight}, {Georgen}, {Karims}, {Merloni}, {Nanda}, {Terra}, {Alvato}, {Nini}, {Winski}, {Shankar}, {Gnali}, \\&amp; {Giito}}}}&quot;;\n\nwhile($str2 =~ /\\\\bib(?:({(?:[^{}]++|(?1))*})|(?!\\\\bib)[^{}])*/g) {\n   say &quot;$&amp;&quot;;\n}\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 42668043, "answer_count": 2, "score": 1, "last_activity_date": 1489084416, "creation_date": 1488959905, "last_edit_date": 1488966933, "question_id": 42665893, "link": "https://stackoverflow.com/questions/42665893/regex-doesnt-fetch-the-nested-curly-braces", "title": "Regex doesn&#39;t fetch the nested curly braces", "body": "<p>Curly braces matches sometimes and doesn't in few case.</p>\n\n<p>My Code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $str1 = '$$\\eqalign{&amp;amp;\\cases{\\mathdot{\\bf x}=A{\\bf x}+Bu\\cr y=H{\\bf x}}\\quad{\\rm with}\\{\\bf x}=\\left(\\matrix{x\\cr\\mathdot{x}\\cr\\theta\\cr\\mathdot{\\theta}}\\right),\\cr&amp;amp;A\\!=\\!\\!\\left(\\matrix{0&amp;amp;1&amp;amp;0&amp;amp;0\\cr 0&amp;amp;0&amp;amp;-{m_{a}\\over M}g&amp;amp;0\\cr 0&amp;amp;0&amp;amp;0&amp;amp;1\\cr 0&amp;amp;0&amp;amp;{(M\\!+\\!m_{a})\\over Ml}g&amp;amp;0}\\right)\\!,\\ B\\!=\\!\\left(\\matrix{0\\cr{a\\over M}\\cr 0\\cr-{a\\over Ml}}\\right)\\!,\\ H^{T}\\!=\\!\\left(\\matrix{1\\cr 0\\cr 1\\cr 0}\\right)\\!.}$$';\n\nmy $str2 = \"\\\\bibcite{Airdetal2013}{{2}{2017}{{{John} {et~al.}}}{{{James}, {Flexi}, {Buella}, {Curren}, {Mozes}, {Sam}, {Kandan}, {Alexander}, {Alfonsa}, {Fireknight}, {Georgen}, {Karims}, {Merloni}, {Nanda}, {Terra}, {Alvato}, {Nini}, {Winski}, {Shankar}, {Gnali}, \\&amp; {Giito}}}}\";\n\nmy $regex = qr/(?:[^{}]*(?:{(?:[^{}]*(?:{(?:[^{}]*(?:{[^{}]*})*[^{}]*)})*[^{}]*)*})*[^{}]*)*/;\n\nif($str1=~m/\\{$regex\\}/) {  print \"str1: $&amp;\\n\";  }\nif($str2=~m/\\{$regex\\}/) {  print \"str2: $&amp;\\n\";  }\n\n\nOUTPUT:\n\nstr1: {&amp;amp;\\cases{\\mathdot{\\bf x}=A{\\bf x}+Bu\\cr y=H{\\bf x}}\\quad{\\rm with}\\ {\\bf x}=\\left(\\matrix{x\\cr\\mathdot{x}\\cr\\theta\\cr\\mathdot{\\theta}}\\right),\\cr&amp;amp;A\\!=\\!\\!\\left(\\matrix{0&amp;amp;1&amp;amp;0&amp;amp;0\\cr 0&amp;amp;0&amp;amp;-{m_{a}\\over M}g&amp;amp;0\\cr 0&amp;amp;0&amp;amp;0&amp;amp;1\\cr 0&amp;amp;0&amp;amp;{(M\\!+ !m_{a})\\over Ml}g&amp;amp;0}\\right)\\!,\\ B\\!=\\!\\left(\\matrix{0\\cr{a\\over M}\\cr 0\\cr-{a\\over Ml}}\\right)\\!,\\ H^{T}\\!=\\!\\left(\\matrix{1\\cr 0\\cr 1\\cr 0}\\right)\\!.}\n\nstr2: {2}\n\nstr1 is correct output. str2 incorrect output.\n\nExpected Output on str2 is:\n\n str2: {{2}{2017}{{{John} {et~al.}}}{{{James}, {Flexi}, {Buella}, {Curren}, {Mozes}, {Sam}, {Kandan}, {Alexander}, {Alfonsa}, {Fireknight}, {Georgen}, {Karims}, {Merloni}, {Nanda}, {Terra}, {Alvato}, {Nini}, {Winski}, {Shankar}, {Gnali}, \\&amp; {Giito}}}}\n</code></pre>\n\n<blockquote>\n  <p>In the sample str1 string doesn't matched with the nested curly braces. However the second sample str12 string can matched the nested curly braces.</p>\n</blockquote>\n\n<p>This is my question can matched the nested curly braces. I am clueless. It would be better if someone point out my mistake.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1488952956, "post_id": 42663929, "comment_id": 72453444, "body": "What problem are you having?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6891924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R1XGi.jpg?s=128&g=1", "display_name": "circuit.maker", "link": "https://stackoverflow.com/users/6891924/circuit-maker"}, "edited": false, "score": 0, "creation_date": 1488954194, "post_id": 42664104, "comment_id": 72453975, "body": "This is very helpful. I understand why one shouldn&#39;t be using eval on STDIN without proper safeguards. I just have to work with numbers for now, your subroutine will work."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 31, "user_id": 6891924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R1XGi.jpg?s=128&g=1", "display_name": "circuit.maker", "link": "https://stackoverflow.com/users/6891924/circuit-maker"}, "edited": false, "score": 0, "creation_date": 1488960731, "post_id": 42664104, "comment_id": 72457252, "body": "@circuit.maker If you need to work with something more complicated, <a href=\"https://metacpan.org/pod/PPI\" rel=\"nofollow noreferrer\">PPI</a> might be useful."}, {"owner": {"reputation": 31, "user_id": 6891924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R1XGi.jpg?s=128&g=1", "display_name": "circuit.maker", "link": "https://stackoverflow.com/users/6891924/circuit-maker"}, "edited": false, "score": 0, "creation_date": 1488990012, "post_id": 42664104, "comment_id": 72477599, "body": "Looks useful. Thank you."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 4, "last_activity_date": 1488953081, "creation_date": 1488953081, "answer_id": 42664104, "question_id": 42663929, "link": "https://stackoverflow.com/questions/42663929/how-to-apply-perl-range-operator-on-input-from-stdin/42664104#42664104", "title": "How to apply perl range operator on input from &lt;STDIN&gt;?", "body": "<p>Anything you read from <code>STDIN</code> or any other filehandle comes in as just a string. This is a basic security measure, you don't want your programming language evaluating input as code.</p>\n\n<p>You could run it through <code>eval</code>, but that's a security hole; it lets users run arbitrary code. <strong><em>Don't use <code>eval STRING</code></em></strong> unless you know what you're doing. <code>eval BLOCK</code> is fine, it's totally different.</p>\n\n<p>Instead, if you want something done to input you'll have to do it yourself. If it's just simple numbers, then it can be fairly straightforward.</p>\n\n<pre><code>use 5.010;\nuse strict;\nuse warnings;\n\n# Read the string from input and remove the newline.\nmy $list_string = &lt;STDIN&gt;;\nchomp $list_string;\n\n# Split it into a list on commas.\n# \"1..5, 6, 7..10\" becomes \"1..5\", \"6\", \"7..10\".\nmy @list = split /\\s*,\\s*/, $list_string;\n\n# Go through each element checking for a range operator.\n# If there's a range operator, replace it with the range.\n# Otherwise leave it alone.\n@list = map { range_transform($_) } @list;\n\nprint join \", \", @list;\n\nsub range_transform {\n    my $string = shift;\n\n    # Match the X..Y. If it doesn't match, just return it.\n    return $string unless $string =~ m{^(\\d+)\\.\\.(\\d+)$};\n\n    # Perform the range operation.\n    return $1..$2;   \n}\n</code></pre>\n\n<p>This doesn't have any error checking, it should probably also check that the input is either a number OR a range operator and puke if it's anything else. But that should get you started.</p>\n"}], "owner": {"reputation": 31, "user_id": 6891924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R1XGi.jpg?s=128&g=1", "display_name": "circuit.maker", "link": "https://stackoverflow.com/users/6891924/circuit-maker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 42664104, "answer_count": 1, "score": 1, "last_activity_date": 1488953081, "creation_date": 1488952288, "last_edit_date": 1488952904, "question_id": 42663929, "link": "https://stackoverflow.com/questions/42663929/how-to-apply-perl-range-operator-on-input-from-stdin", "title": "How to apply perl range operator on input from &lt;STDIN&gt;?", "body": "<p>I'm not able to apply perl range operator over an input taken from Standard Input. Here's the code:</p>\n\n<pre><code>#!/usr/bin/perl\n@range = (1..5, 6, 7, 8..10);\nprint \"@range\\n\";\n\nprint \"Enter your range. Esc by CTRL+D.\\n\";\nchomp(@user_range = &lt;STDIN&gt;); # input 1..5&lt;LF&gt; 6&lt;LF&gt; 7..10&lt;LF&gt; CTRL+D\nprint \"@user_range\\n\";\n</code></pre>\n\n<p>The <strong>first block of code (@range) works fine</strong> and <strong>outputs: 1 2 3 4 5 6 7 8 9 10;</strong>\nIn the <strong>second (@user_range)</strong> I <strong>input 1..5 6 7..10 CTRL+D</strong>. The <strong>output I get is 1..5 6 7..10</strong> <strong>instead of 1 2 3 4 5 6 7 8 9 10.</strong></p>\n\n<p>Please help.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1488952803, "post_id": 42662669, "comment_id": 72453386, "body": "For the specific question of &quot;how to modify the regex&quot; I suppose the answer could be something like <code>&#47;^([^: ]*[: ]){2}James($|[ :])&#47;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1488954610, "post_id": 42662669, "comment_id": 72454144, "body": "@tripleee  Yes, but I don&#39;t see what the specific question is (the offered examples are conflicting). I did add another section on it ... but I feel that I&#39;m in a guessing game at this point.  (Btw, that needs to be <code>{1}</code> I think? Or <code>Apple</code> instead of <code>James</code>.)"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1488954717, "post_id": 42662669, "comment_id": 72454185, "body": "<code>{1}</code> is pointless; if something isn&#39;t repeated, you simply don&#39;t specify a number of repetitions (or otherwise we would say <code>&#47;J{1}a{1}m{1}e{1}s{1}&#47;</code>).  I&#39;m skipping the first two fields and the following delimiter so that&#39;s why it&#39;s two repetitions.  But yeah, probably look for <code>Apple</code> in the third field, or target the second field instead."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1488955420, "post_id": 42662669, "comment_id": 72454521, "body": "@tripleee Agree, that in my comment was a parenthetical remark on the actual code in your comment (just meant to note that it doesn&#39;t match as it stands, in case somebody copies it blindly).  It is a good way to parse by fields, of course.  (Btw, I would <i>not</i> recommend that to a beginning study. Btw, honestly, I personally don&#39;t go for those in a complex production code either.)  I would gladly offer an interesting regex as a side answer, but I actually don&#39;t see what the precise question is.  I understood that there isn&#39;t one, they are asking how to do it in general."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1488955751, "post_id": 42662669, "comment_id": 72454676, "body": "@tripleee  Thank you for the comments!  It&#39;s always good to see you around :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1488955830, "post_id": 42662669, "comment_id": 72454712, "body": "@tripleee (You may not remember, but you helped me out a <i>lot</i> by good advice when I started posting, around a year ago :)"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1488956836, "post_id": 42662669, "comment_id": 72455227, "body": "Oh, hi, good to see you have gained a significant amount of rep!"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 4, "last_activity_date": 1489611469, "last_edit_date": 1489611469, "creation_date": 1488945022, "answer_id": 42662669, "question_id": 42662365, "link": "https://stackoverflow.com/questions/42662365/perl-using-regex-to-compare-fields-with-multiple-delimiters/42662669#42662669", "title": "Perl using regex to compare fields with multiple delimiters", "body": "<p>One simple way with regex is to use the <a href=\"http://perldoc.perl.org/perlrecharclass.html#Bracketed-Character-Classes\" rel=\"nofollow noreferrer\">negated character class</a> (also see it <a href=\"http://perldoc.perl.org/perlretut.html#Using-character-classes\" rel=\"nofollow noreferrer\">in perlreftut</a>)</p>\n\n<pre><code>open my $fh, '&lt;', $file  or die \"Can't open $file: $!\";\n\nwhile (my $line = &lt;$fh&gt;) \n{\n    my @fields = $line =~ /([^:\\s]+)/g;\n}\n</code></pre>\n\n<p>The <code>[^...]</code> matches any character other than those listed inside (after <code>^</code> which \"negates\"). The <code>+</code> <a href=\"http://perldoc.perl.org/perlre.html#Regular-Expressions\" rel=\"nofollow noreferrer\">quantifier</a> means to match one-or-more times so the whole pattern matches a string of consecutive characters other than <code>:</code> and \"white space.\" See docs for a precise description of <code>\\s</code>. If you actually mean to skip only a single literal space use <code>[^: ]</code>. All this is <em>captured</em> by <code>()</code>. </p>\n\n<p>The search keeps going through the string due to the <em>global modifier</em> <code>/g</code>, finding all such matches. Since it is in the <em>list <a href=\"http://perldoc.perl.org/perldata.html#Context\" rel=\"nofollow noreferrer\">context</a></em> it returns the list of matches, which is assigned to <code>@fields</code> array. </p>\n\n<p>One can pick elements \"on the fly\" by indexing into the list, <code>($line =~ /([^:\\s]+)/g)[2]</code>. If we are matching <code>$_</code> this is <code>(/([^:\\s]+)/g)[2]</code>.</p>\n\n<p>I suggest a good read through <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\">perlreftut</a>, for starters.</p>\n\n<hr>\n\n<p>On the other hand, it is often simpler and clearer to use <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a></p>\n\n<pre><code>my @fields = split /[:\\s]/, $line;\n</code></pre>\n\n<p>This also uses regex for the pattern by which to split the string. The character class is not negated since here it specifies the delimiter itself, either <code>:</code> or <code>\\s</code> (each delimiter may be either of these, they don't have to all be the same).</p>\n\n<hr>\n\n<p>I would now like to answer the specific question, but the question isn't clear to me. </p>\n\n<p>It asks to \"<em>check if the 3rd field of the first line is Apple</em>\", what can be done for example by</p>\n\n<pre><code>while (&lt;$fh&gt;) \n{\n    if ( (/([^:\\s]+)/g)[2] eq 'Apple' ) {\n        # ....\n    }\n}\n</code></pre>\n\n<p>but it isn't clear what to do with it. Perhaps get the first field by what the third one is? </p>\n\n<p>I suggest to get an array and then process. One can write a regex to identify and pick fields directly but that's more brittle and the regex itself then depends on the position (and number) of fields.</p>\n\n<p>At this point we are in a guessing game. If you need more detail please clarify.</p>\n\n<p>The given <code>awk</code> code would yield <code>Lori James Lori</code> and I don't see how that fits.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1488964735, "creation_date": 1488964735, "answer_id": 42667303, "question_id": 42662365, "link": "https://stackoverflow.com/questions/42662365/perl-using-regex-to-compare-fields-with-multiple-delimiters/42667303#42667303", "title": "Perl using regex to compare fields with multiple delimiters", "body": "<p>The short answer is - don't. Regular expressions are about pattern matching, and not context. </p>\n\n<p>You <em>can</em> define a pattern that builds in delimiters and fields, but ... it's not the right tool for the job.</p>\n\n<p>The answer is use <code>split</code> and then handle the fields separately. </p>\n\n<pre><code>open ( my $input, '&lt;', 'data.txt' ) or die $!; \nwhile(&lt;$input&gt;){\n    chomp;\n    my @fields = split /[\\s:]/;\n    print if $fields[2] eq \"Apple\";\n}\n</code></pre>\n\n<p>You can compact this further if you wish, but I'd advise caution - compressing your code at the expense of readability isn't a virtue. </p>\n\n<p>Also - whilst we're at it:</p>\n\n<pre><code>open(FILE,'data.txt');\n</code></pre>\n\n<p>is bad style - it doesn't check for success, and it also uses a global file handle name. It would be much better to:</p>\n\n<pre><code>open ( my $input, '&lt;', 'data.txt' ) or die $!;\n</code></pre>\n\n<p>The <code>autodie</code> pragma also does this implicitly.</p>\n"}], "owner": {"reputation": 73, "user_id": 7071475, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/69f8f27adb222b2cb90b6556e48c2633?s=128&d=identicon&r=PG&f=1", "display_name": "m.k", "link": "https://stackoverflow.com/users/7071475/m-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1489611469, "creation_date": 1488943189, "question_id": 42662365, "link": "https://stackoverflow.com/questions/42662365/perl-using-regex-to-compare-fields-with-multiple-delimiters", "title": "Perl using regex to compare fields with multiple delimiters", "body": "<p>I am studying Perl.\nMy data.txt file contains:</p>\n\n<pre><code>Lori:James Apple\nJamie:Eric Orange\n</code></pre>\n\n<p>My code below prints the first line \"Lori:James Apple\"</p>\n\n<pre><code>open(FILE,'data.txt');\nwhile(&lt;FILE&gt;){\n  print if /James/;\n}\n</code></pre>\n\n<p>But how do I modify my regular expression to search for a specific field?\nFor example, I'd like to use 2 delimiters ' ' and ':' to make each line contain 3 fields and check if the 3rd field of the first line is Apple. Which will be equivalent to <code>awk -F'[ :]' '$3 = \"Lori\"' data.txt</code></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1488987368, "post_id": 42662168, "comment_id": 72475538, "body": "Note that you should use the 3-arg <code>open</code>, perform an error check, and use a lexical file handle instead of a bareword one: <code>open my $fh, &#39;&lt;&#39;, &#39;file.txt&#39; or die $!;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1488987278, "post_id": 42662236, "comment_id": 72475467, "body": "You can also do <code>seek $fh, 0, 0;</code> to get the same effect."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1488993040, "post_id": 42662236, "comment_id": 72479671, "body": "@stevieb, Sure, you could replace the meaningful constant with an obscure magical number instead, but that would be silly."}, {"owner": {"reputation": 27279, "user_id": 857132, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4fd51ed5980999c7c6ce3729d6cb2184?s=128&d=identicon&r=PG", "display_name": "John3136", "link": "https://stackoverflow.com/users/857132/john3136"}, "edited": false, "score": 0, "creation_date": 1489010896, "post_id": 42662236, "comment_id": 72489798, "body": "Original answer had <code>seek FILE, 0, 0;</code>, it has been edited a couple of times since. I know &quot;0, 0&quot; worked since then I think we&#39;ve had <code>SEEK_CUR</code> (which sounds to me like &quot;current&quot;? and now <code>SEEK_SET</code> This question ,ay be interesting reading (it was for me) <a href=\"http://stackoverflow.com/questions/16556332/perl-seek-function\">stackoverflow.com/questions/16556332/perl-seek-function</a>"}], "tags": [], "owner": {"reputation": 27279, "user_id": 857132, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4fd51ed5980999c7c6ce3729d6cb2184?s=128&d=identicon&r=PG", "display_name": "John3136", "link": "https://stackoverflow.com/users/857132/john3136"}, "is_accepted": true, "score": 5, "last_activity_date": 1488993113, "last_edit_date": 1488993113, "creation_date": 1488942445, "answer_id": 42662236, "question_id": 42662168, "link": "https://stackoverflow.com/questions/42662168/perl-reading-each-line-in-a-file-using-not-working/42662236#42662236", "title": "perl reading each line in a file using $_ not working", "body": "<p>Since you've read the file and now you're \"at the end\", you need to close the file and open it again to get back to the start.</p>\n\n<p>Alternatively, use <code>seek FILE, 0, SEEK_SET;</code> on the open file to reset back to the start without a close and reopen. (Use <code>use Fcntl qw( SEEK_SET );</code> to import <code>SEEK_SET</code>.)</p>\n"}], "owner": {"reputation": 669, "user_id": 5991761, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/984565203d53cc51598def5bb244f159?s=128&d=identicon&r=PG&f=1", "display_name": "Mint.K", "link": "https://stackoverflow.com/users/5991761/mint-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 42662236, "answer_count": 1, "score": 0, "last_activity_date": 1488993113, "creation_date": 1488942059, "question_id": 42662168, "link": "https://stackoverflow.com/questions/42662168/perl-reading-each-line-in-a-file-using-not-working", "title": "perl reading each line in a file using $_ not working", "body": "<p>I am reading 'Beginning Perl: Online book by Simon Cozen'. In my code below, print comment prints all lines of my data.txt file. But my while loop does not print anything. Please help me fix this problem.</p>\n\n<pre><code>open(FILE,'data.txt');\nmy $line = &lt;FILE&gt;;\nmy @lines = &lt;FILE&gt;;\nprint @lines;\n\nwhile (&lt;FILE&gt;) {\n    print \"$_\";\n}\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 6342, "user_id": 1138252, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ed6c22f78d63a5e5004a0872ca09ef?s=128&d=identicon&r=PG", "display_name": "Ilion", "link": "https://stackoverflow.com/users/1138252/ilion"}, "edited": false, "score": 2, "creation_date": 1488958412, "post_id": 42662080, "comment_id": 72456035, "body": "What is going wrong? Is it possible the space in the second file name is throwing things off? Are you getting any errors?"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1489010667, "post_id": 42662080, "comment_id": 72489682, "body": "Please add your desired output"}, {"owner": {"reputation": 1, "user_id": 7675703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a38bc17d864cad66abc3dbd96cccb42?s=128&d=identicon&r=PG&f=1", "display_name": "user7675703", "link": "https://stackoverflow.com/users/7675703/user7675703"}, "edited": false, "score": 0, "creation_date": 1489013087, "post_id": 42662080, "comment_id": 72490807, "body": "The first hash doesn&#39;t seem to be looping through. It almost seems like use vars qw(); isn&#39;t working on the file"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 1, "last_activity_date": 1489011492, "last_edit_date": 1592644375, "creation_date": 1489011091, "answer_id": 42682877, "question_id": 42662080, "link": "https://stackoverflow.com/questions/42662080/script-merging-two-files/42682877#42682877", "title": "Script merging two files", "body": "<p>Create two tables in SQLite. Load the TSVs into them. Do a SQL join. It will be simpler and faster.</p>\n<p><a href=\"https://stackoverflow.com/questions/42562196/very-huge-assosiative-array-in-perl/42563133#42563133\">Refer to this answer about how to load data into SQLite</a>. In your case you want <code>.mode tabs</code>.</p>\n<pre><code>sqlite&gt; create table file1 ( col1 int, col2 int, col3 int, col4 int );\nsqlite&gt; create table file2 ( col1 int, col2 int, col3 int, col4 numeric, col5 numeric, col6 numeric, col7 numeric );\nsqlite&gt; .mode tabs\nsqlite&gt; .import /path/to/file1 file1\nsqlite&gt; .import /path/to/file2 file2\n</code></pre>\n<p>There's any number of ways to improve those tables, but I don't know what your data is. Use better names in your own. You'll also want to declare things like primary and foreign keys as well as <a href=\"https://www.tutorialspoint.com/sql/sql-indexes.htm\" rel=\"nofollow noreferrer\">indexes</a> to speed things up.</p>\n<p>Now you have your data in an easy to manipulate format using a well known query language, not a bunch of custom code.</p>\n<blockquote>\n<p><em>I want to match the values from column 4 in file 1, with column 1 in file 2.</em></p>\n<p><em>Then I also want to print the matching values from columns 2 and 3 in file 1 and columns 3 and 5 in file 2.</em></p>\n</blockquote>\n<p>You can do this with a <a href=\"http://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins\" rel=\"nofollow noreferrer\">SQL join</a> between the two tables.</p>\n<pre><code>select file1.col2, file1.col3, file2.col3, file2.col5\nfrom file1\njoin file2 on file1.col4 = file2.col1\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7675703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a38bc17d864cad66abc3dbd96cccb42?s=128&d=identicon&r=PG&f=1", "display_name": "user7675703", "link": "https://stackoverflow.com/users/7675703/user7675703"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489011492, "creation_date": 1488941479, "last_edit_date": 1489010329, "question_id": 42662080, "link": "https://stackoverflow.com/questions/42662080/script-merging-two-files", "title": "Script merging two files", "body": "<p>I'm fairly inexperienced with coding, but I often use Perl to merge files and match ID's and information between two files. I have just tried matching two files using a program I have used many times previously, but this time it's not working and I don't understand why.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse vars qw($damID $damF $damAHC $prog $hash1 %hash1 $info1 $ID $sire $dam $F $FB $AHC $FA $hash2 %hash2 $info2);\n\n\nopen (FILE1, \"&lt;damF.txt\") || die \"$!\\n Couldn't open damF.txt\\n\";\nmy $N = 1;  \nwhile (&lt;FILE1&gt;){\n    chomp (my $line=$_);\n    next if 1..$N==$.; \n    my ($damID, $damF, $damAHC, $prog) = split (/\\t/, $line); \n        if ($prog){\n            $hash1 -&gt; {$prog} -&gt; {info1} = \"$damID\\t$damF\\t$damAHC\"; \n        }\n\n\n    open (FILE2, \"&lt;whole pedigree_F.txt\") || die \"$!\\n whole pedigree_F.txt \\n\";\n    open (Output, \"&gt;Output.txt\")||die \"Can't Open Output file\";\n\n    while (&lt;FILE2&gt;){\n        chomp (my $line=$_);\n        next if 1..$N==$.; \n        my ($ID, $sire, $dam, $F, $FB, $AHC, $FA) = split (/\\t/, $line); \n        if ($ID){\n            $hash2 -&gt; {$ID} -&gt; {info2} = \"$F\\t$AHC\"; \n        }\n          if ($ID &amp;&amp; ($hash1-&gt;{$prog})){ \n            $info1 = $hash1 -&gt; {$prog} -&gt; {info1};\n            $info2 = $hash2 -&gt; {$ID} -&gt; {info2};\n            print \"$ID\\t$info2\\t$info1\\n\";\n        }\n    }\n}\n\n\nclose(FILE1);\n\nclose FILE2;\nclose Output;\n\nprint \"Done!\\n\";\n</code></pre>\n\n<p>and these snippets from the two input file formats:</p>\n\n<p><strong>File 1:</strong></p>\n\n<pre><code>501093  0   0   3162\n2958    0   0   3163\n1895    0   0   3164\n1382    0   0   3165\n2869    0   0   3166\n2361    0   0   3167\n754     0   0   3168\n3163    0   0   3169\n</code></pre>\n\n<p><strong>File 2:</strong></p>\n\n<pre><code>49327   20543   49325   0.077   0.4899  0.808   0.0484\n49328   15247   49326   0.0755  0.5232  0.8972  0.0499\n49329   27823   49327   0.0834  0.5138  0.8738  0.0541\n</code></pre>\n\n<p>I want to match the values from <code>column 4 in file 1</code>, with <code>column 1 in file 2</code>.</p>\n\n<p>Then I also want to print the matching values from <code>columns 2 and 3 in file 1</code> and <code>columns 3 and 5 in file 2</code>. </p>\n\n<p>Also, it is probably worth mentioning there are about <strong>500000</strong> entries on each file.</p>\n\n<p>This is the output I am getting:</p>\n\n<pre><code>11476   0.0362  0.3237  501093  0   0\n11477   0.0673  0.4768  501093  0   0\n11478   0.0443  0.2619  501093  0   0\n</code></pre>\n\n<p>Note that it isn\u2019t looping through the first hash that I created.</p>\n"}, {"tags": ["oracle", "perl", "dbi"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1488953109, "post_id": 42658894, "comment_id": 72453490, "body": "Re &quot;<i>I am having no luck putting these credentials into another file</i>&quot;, Where&#39;s your attempt? What problem are you having? You seem to have posted the wrong code!!!"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 3, "last_activity_date": 1488923800, "creation_date": 1488923800, "answer_id": 42659095, "question_id": 42658894, "link": "https://stackoverflow.com/questions/42658894/perl-need-to-put-username-pwd-into-another-secure-file/42659095#42659095", "title": "Perl - Need to put Username + Pwd into another secure file", "body": "<blockquote>\n  <p><em>I have a php file that triggers this script when an insert happens into a database table.</em></p>\n</blockquote>\n\n<p>My first suggestion is to not call another script. Do whatever the Perl script is doing in PHP. This will be much faster, there's no need to spin up another process and reconnect to Oracle, and there's no need to share credentials.</p>\n\n<blockquote>\n  <p><em>I need to put the username and password into another file and make it secure. It is used for a web application and are the same credentials throughout the app for all users.</em></p>\n</blockquote>\n\n<ol>\n<li>Put all your application config stuff into a single config file, probably in JSON or some other easy to parse, language independent format.</li>\n<li>Set it to be readable, but not writable, by the web server.</li>\n</ol>\n\n<p>For example, you might have <code>/etc/yourapp.conf</code> which says:</p>\n\n<pre><code>{\n    \"database\": {\n        \"type\": \"Oracle\",\n        \"host\": \"the.db.hostname\",\n        \"port\": 12345,\n        \"user\": \"dbusername\",\n        \"pass\": \"dbpassword\",\n        \"name\": \"dbname\"\n    }\n}\n</code></pre>\n\n<p>Then everything which makes up the app reads that file for configuration information, and everything can act consistently. In Perl use <a href=\"https://metacpan.org/pod/JSON::MaybeXS\" rel=\"nofollow noreferrer\">JSON::MaybeXS</a> to parse the JSON.</p>\n\n<p>If you make the location of the config file overridable by an environment variable like <code>YOURAPPNAME_CONFIG_FILE</code> then you can use various different configs for testing and development.</p>\n"}], "owner": {"reputation": 537, "user_id": 5139409, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/f34016accadeebafd6c795a9e5e151c2?s=128&d=identicon&r=PG&f=1", "display_name": "Ronald", "link": "https://stackoverflow.com/users/5139409/ronald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1488923800, "creation_date": 1488922985, "question_id": 42658894, "link": "https://stackoverflow.com/questions/42658894/perl-need-to-put-username-pwd-into-another-secure-file", "title": "Perl - Need to put Username + Pwd into another secure file", "body": "<p>I have a php file that triggers this script when an insert happens into a database table. I need to put the username and password into another file and make it secure. It is used for a web application and are the same credentials throughout the app for all users. I am having no luck putting these credentials into another file.</p>\n\n<p>I am assuming I should replace these with $orausername1\", \"$orapassword1 and place this into another file - can someone help with this code...</p>\n\n<p>Using Oracle DB.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse MIME::Lite;\n\n\nuse DBI;\n\nmy $db = DBI-&gt;connect( \"dbi:Oracle:DBNAME\", \"USER1\", \"TESTING2\")\n   or die \"Couldn't connect to database: \" . DBI-&gt;errstr;\n\n\nmy $to = 'john@abc.com';\nmy $from = 'ron@abc.com';\nmy $subject = 'New Movie Added';\n\netc...\n</code></pre>\n"}, {"tags": ["perl", "memory"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488916969, "post_id": 42656748, "comment_id": 72440407, "body": "The code you&#39;ve shown doesn&#39;t compile, which makes me wonder what your actual code looks like. Can you please post the exact code you&#39;re using?"}, {"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488917084, "post_id": 42656748, "comment_id": 72440475, "body": "Sure. I didn&#39;t because that&#39;s the part that matters because its the only that do (in its original version) something useful. Plus, I speak spanish so some printfs are in spanish. It maybe doesn&#39;t run because it lacks the   use Algorithm::Combinatorics &quot;combinations&quot;;  but I will post it though."}, {"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488917496, "post_id": 42656748, "comment_id": 72440698, "body": "@ThisSuitIsBlackNot done"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488918868, "post_id": 42656748, "comment_id": 72441453, "body": "Thanks for adding that. Don&#39;t worry about the Spanish, we&#39;re all fluent in Perl :) How are you running this when you get the out of memory error? Are you passing a filename or min and max values? If a file, how many lines, and what is the file size? If min/max, what are the values?"}, {"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488919133, "post_id": 42656748, "comment_id": 72441615, "body": "@ThisSuitIsBlackNot using min max just for testing pourposes. The values are min = 0, max = 450. The program just shows a blinking prompt since I removed the print statement that prints the combination and only left a counter $nrc++ to avoid the overhead in printing. But I left the program running for hours and it keeps going, I know they are a lot of combinations, but I thought it wouldnt take so long, then I hit Ctrl+C to stop it and I get &quot;Out of memory!&quot; So I thought that actually the program crashed at some point and thats why it took so long."}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488916260, "post_id": 42657051, "comment_id": 72439976, "body": "Algorithm:combinatorics says you should be careful of not using it in a list context because that way you will be storing everything, but use it in the scalar context and use the iterator as it is in the example code above."}, {"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488916457, "post_id": 42657051, "comment_id": 72440096, "body": "reply moved to other comment"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -2, "last_activity_date": 1488916163, "creation_date": 1488916163, "answer_id": 42657051, "question_id": 42656748, "link": "https://stackoverflow.com/questions/42656748/strawberry-perl-out-of-memory/42657051#42657051", "title": "Strawberry Perl: &quot;out of memory!&quot;", "body": "<p>There are <em>11.1 trillion</em> combinations of six items out of 450. I'm not surprised it ran out of memory!</p>\n"}, {"comments": [{"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488917261, "post_id": 42657298, "comment_id": 72440572, "body": "That&#39;s the thing! it should work because combinatorics as far as I read iterates over (like reading a file line by line) but I am pretty new at perl and not much of programming though. But as far as I got it should run, that&#39;s why I made clear I am running strawberry Perl 32bits on Windows. Because when I searched for solutions the most recurrent stuff was something called &quot;ulimits&quot; which is a bash thing I guess, but I don&#39;t have that on Windows, so not sure if that&#39;s the problem or not."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488917322, "post_id": 42657298, "comment_id": 72440604, "body": "How do you know it&#39;s not doing anything? It will take 251 days to run on my machine. Did you check if your loop was entered by adding a print statement like I did? What&#39;s the size of the <code>perl</code> process in Task Manager? More specifically, is it growing?  (Small changes in the size are irrelevant, I&#39;m talking long term trend.) Right now, we have one demonstration of it working, and no demonstration of it not working, so I consider the matter closed unless that changes."}, {"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488917716, "post_id": 42657298, "comment_id": 72440808, "body": "because if I add a print statement to print the combinations it does, however, to make it process faster I removed the print statement and left only a counter, so when the program is executing I see only a blinking prompt, but after some hours I think it might have stopped and when I hit Ctrl+C it says &quot;Out of memory!&quot;"}, {"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488917745, "post_id": 42657298, "comment_id": 72440820, "body": "Also, how do you estimate that running time?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488917954, "post_id": 42657298, "comment_id": 72440934, "body": "I timed how long it took to find the first 1,000,000 combinations, then I extrapolated for 11,303,769,578,640. Added code to answer."}, {"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488918532, "post_id": 42657298, "comment_id": 72441244, "body": "Also, As I said, I can&#39;t be really sure why the &quot;out of memory!&quot; since I deleted the print statement because, for example, when using set 0..45 and K=20, if I leave only a counter, I get the number of combinations in less than 1 minute. But with printing I started running it 3 minutes ago and it&#39;s still going. So I am not sure that if I try it with 0..450 with printing will seem like it works ok but only because it goes slower, so basically I will have to wait 251 days to find out, lol.  Its done now and it took 5 minutes vs less than 1 minute."}, {"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488918736, "post_id": 42657298, "comment_id": 72441368, "body": "Perl is 2.6 MB on task manager and 31% CPU usage. All steady."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488918741, "post_id": 42657298, "comment_id": 72441375, "body": "Don&#39;t know why it said out of memory -- Ctrl-C in XS code gone wrong? -- but that&#39;s not the problem (as you can see in Task Manager). The problem is that the work is taking a long time, but that&#39;s too be expected given what you asked it to do. If all you want is the count, I added code to my answer that completes in microseconds."}, {"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488918880, "post_id": 42657298, "comment_id": 72441464, "body": "No, no. I want the possible combinations for other pourposes (to perform other actions on them), but just don&#39;t care about printing them, the counter is just to add something that doesn&#39;t require heavy computation but also allows me to see if the program is doing anything or not."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488919008, "post_id": 42657298, "comment_id": 72441535, "body": "You&#39;re going to need to parallelize if you want to complete this in a much shorter time frame."}, {"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488919327, "post_id": 42657298, "comment_id": 72441731, "body": "How can I do that ? And how much shorter?. Yes, maybe the &quot;out of memory!&quot; isnt actually a &quot;out of memory&quot; and it just said that. I thought the problem was because I am running it on Windows and its Strawberry Perl, since after I googled it people talked about checking ulimit and other things (I even downloaded a program called editbin and set a /LARGEADDRESSAWARE flag) to see if it helped but no."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488919876, "post_id": 42657298, "comment_id": 72442071, "body": "Re &quot;<i>How can I do that?</i>&quot;, You need to start with an algorithm that can be parallelized. /// Re &quot;<i>And how much shorter?</i>&quot;, As short as you want. The more processors you add, the faster it will be."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488920067, "post_id": 42657298, "comment_id": 72442170, "body": "The Ctrl-C probably resulted in some pointer being NULL, which was incorrectly interpreted as a memory allocation error. Again, not important."}, {"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488920211, "post_id": 42657298, "comment_id": 72442263, "body": "I don&#39;t know, thats what other people said when others consulted on &quot;out of memory!&quot; they said &quot;check ulimit&quot; &quot;Generally speaking, when I&#39;ve had that problem, it was that there was a memory limit via ulimit - removing that limit &#39;solved&#39; the problem. &quot;"}, {"owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "edited": false, "score": 0, "creation_date": 1488920434, "post_id": 42657298, "comment_id": 72442390, "body": "Thanks for your help ikegami, you are really knowledgeable."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1488919594, "last_edit_date": 1488919594, "creation_date": 1488917056, "answer_id": 42657298, "question_id": 42656748, "link": "https://stackoverflow.com/questions/42656748/strawberry-perl-out-of-memory/42657298#42657298", "title": "Strawberry Perl: &quot;out of memory!&quot;", "body": "<p>It works for me.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Algorithm::Combinatorics qw( combinations );\n\nsub show_mem { system('ps', '--no-heading', '-o', 'rss', $$); }\n\nmy @set = (0..450);\nmy $k = 6;\n\nmy $count = 0;\n#show_mem();\nmy $combs = combinations(\\@set, $k);\n#show_mem();\nwhile (my $c = $combs-&gt;next) {\n   ++$count;\n   if (($count % 100_000) == 0) {\n      print(\"$count\\n\");\n      #show_mem();\n   }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>  784\n  784\n100000\n  776\n200000\n  784\n300000\n  788\n400000\n  776\n500000\n  780\n600000\n  784\n700000\n  768\n800000\n  784\n900000\n  784\n1000000\n  776\n...\n</code></pre>\n\n<p>Of course, it will take <em>forever</em> to go through all C(451, 6) = 11,303,769,578,640 combinations! (We're talking about 251 days on my machine<sup>[1]</sup>.)</p>\n\n<p>(Note that 11,303,769,578,640 is too large for a 32-bit integer. Fortunately, Perl will switching to using a double-precision floating-point number, and those are large enough to hold that all numbers up to and including that one.)</p>\n\n<hr>\n\n<p>By the way, if you just need the number of combinations, you can use</p>\n\n<pre><code>my $count = 1;  $count *= ( @set - $_ + 1 ) / $_ for 1..$k;\n</code></pre>\n\n<hr>\n\n<ol>\n<li><p>How I timed it:</p>\n\n<pre><code>use Algorithm::Combinatorics qw( combinations );\nuse Time::HiRes              qw( time );\n\nmy @set = (0..450);\nmy $k = 6;\n\nmy $count = 0;\nmy $combs = combinations(\\@set, $k);\nmy $s = time;\nwhile (my $c = $combs-&gt;next) {\n   ++$count;\n   last if $count == 1_000_000;\n}\nmy $e = time;\nprint($e-$s, \"\\n\");\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 181, "user_id": 2526200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000504414583/picture?type=large", "display_name": "SJPRO", "link": "https://stackoverflow.com/users/2526200/sjpro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 1, "accepted_answer_id": 42657298, "answer_count": 2, "score": -2, "last_activity_date": 1488919594, "creation_date": 1488915036, "last_edit_date": 1488917468, "question_id": 42656748, "link": "https://stackoverflow.com/questions/42656748/strawberry-perl-out-of-memory", "title": "Strawberry Perl: &quot;out of memory!&quot;", "body": "<p>trying to run the following code:</p>\n\n<pre><code>$combs = combinations(\\@set,$k);\nwhile (my $c = $combs-&gt;next)\n{\n        $nrc=1;\n}\n</code></pre>\n\n<p>Gives me \"out of memory!\" when I hit Ctrl+C (because its taking too long and it should not) if I pass a set from, for example, (0..450) and numbers to combine ($k) of 6. This issue does not occur with, lets say, a set of 0..45 and $k=6.</p>\n\n<p>Note that the while loop seems to do nothing, in the original script it printed out the combination and incremented a counter that will hold the total number of combinations. But since I was not sure what the problem was, I decided to eliminate that.\nI've read the Algorithm:Combinatorics on CPAN and it states that memory usage is minimal, so I don't know what's happening.</p>\n\n<p>I am using Strawberry Perl 32bit on a Windows 10 machine.</p>\n\n<p>Thanks.</p>\n\n<p>--------------------- COMPLETE CODE</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse List::MoreUtils \"uniq\";\nuse Algorithm::Combinatorics \"combinations\";\n\nmy $argc = $#ARGV+1;\nmy @set;\n\nif ($argc == 0)\n{\n    print STDERR \"Valor minimo de rango: \"; # range min\n    my $minrange = int &lt;STDIN&gt;;\n    print STDERR \"Valor maximo de rango: \"; #range max\n    my $maxrange = int &lt;STDIN&gt;;\n\n    @set = uniq sort { $a &lt;=&gt; $b }($minrange...$maxrange);\n}\nelsif ($argc == 1)\n{\n    open(SETFROMFILE,\"&lt;$ARGV[0]\") or die \"No se puedo abrir el fichero, $!\";\n    chomp(@set = &lt;SETFROMFILE&gt;);\n    close(SETFROMFILE);\n    @set = uniq sort { $a &lt;=&gt; $b } @set;\n}\nelse\n{\n    print STDERR \"Uso: $0 [file]\\n\";\n    exit;\n}\n\nmy $nrc = 0;\n\nprint STDERR \"\\n\";\nprint STDERR \"Numeros a combinar: \"; # get subset\nmy $k = &lt;STDIN&gt;;\n\nif ($k == 0) { exit; }\n\n$combs = combinations(\\@set,$k);\n\nprint STDERR \"\\n\";\n\nwhile (my $c = $combs-&gt;next)\n{\n    print join(\";\",@$c) . \"\\n\";\n    $nrc++;\n}\n\nprint STDERR \"\\n\";\nprint STDERR \"numero total de combinaciones: $nrc\\n\";\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 4, "creation_date": 1488900084, "post_id": 42651953, "comment_id": 72429949, "body": "With <code>(?&lt;!Transfer\\&#47;)</code> you prevent it from matching at <code>CBD99_PINPUK</code>, but there&#39;s nothing to prevent it from skipping the <code>C</code> and matching at <code>BD99_PINPUK</code>"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1488900168, "post_id": 42651953, "comment_id": 72430001, "body": "<code>\\w*</code> allows backtracking as <code>*</code> can match any amount of chars, while <code>{6}</code> matches an exact number of chars and cannot backtrack here."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488900188, "post_id": 42651953, "comment_id": 72430015, "body": "<a href=\"https://regex101.com/r/s0SdxA/1\" rel=\"nofollow noreferrer\">regex101.com/r/s0SdxA/1</a> also shows this nicely."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1488900239, "post_id": 42651953, "comment_id": 72430047, "body": "@WiktorStribi\u017cew: it isn&#39;t related to backtracking but to the position where the pattern is tested."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1488904264, "last_edit_date": 1488904264, "creation_date": 1488901143, "answer_id": 42652364, "question_id": 42651953, "link": "https://stackoverflow.com/questions/42651953/regex-negative-lookbehind-matching-when-expected-not-to/42652364#42652364", "title": "regex negative lookbehind matching when expected not to", "body": "\n\n<p>Your regex pattern <code>(?&lt;!Transfer/)\\w*PINPUK.*(?:csv|txt)$</code> is looking for <code>\\w*PINPUK</code> <em>not</em> immediately preceded by <code>Transfer/</code></p>\n\n<p>Given the string</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/opt/lnpsite/ni00/flat/tmp/Med_Local_Bak/ROI_Med_Transfer/CBD99_PINPUK_14934_09_02_2017_12_07_36.txt\n</code></pre>\n\n<p>the regex engine will start by matching <code>\\w*PINPUK</code> with <code>CBD99_PINPUK</code></p>\n\n<p>But that is preceded by <code>Transfer/</code> so the engine backtracks and finds <code>BD99_PINPUK</code></p>\n\n<p>That is preceded by <code>C</code>, which isn't <code>Transfer/</code>, so the match is successful</p>\n\n<hr>\n\n<p>As for a fix, just put the slash outside the look-behind</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>(?&lt;!Transfer)/\\w*PINPUK.*(?:csv|txt)$\n</code></pre>\n\n<p>That forces the <code>\\w*</code> to begin right after the slash, and the pattern now correctly fails</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488905446, "post_id": 42652959, "comment_id": 72433607, "body": "Much simpler: just add <code>&#47;</code> to the match!"}], "tags": [], "owner": {"reputation": 397, "user_id": 1060384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YabF.jpg?s=128&g=1", "display_name": "Peter R", "link": "https://stackoverflow.com/users/1060384/peter-r"}, "is_accepted": false, "score": 2, "last_activity_date": 1511287685, "last_edit_date": 1511287685, "creation_date": 1488902850, "answer_id": 42652959, "question_id": 42651953, "link": "https://stackoverflow.com/questions/42651953/regex-negative-lookbehind-matching-when-expected-not-to/42652959#42652959", "title": "regex negative lookbehind matching when expected not to", "body": "<p>Borodin has given an excellent explanation of why this doesn't work and a solution for this case (move a /). Sometimes something simple like that isn't possible though so here I'll explain an alternate work around that might be useful</p>\n\n<p>Things will match as you expect if you move the <code>\\w*</code> inside the negative look-behind. Like so:</p>\n\n<pre><code>(?&lt;!Transfer\\/\\w*)PINPUK.*(?:csv|txt)$\n</code></pre>\n\n<p>Unfortunately Perl doesn't allow this, negative look-behinds must be fixed width. But still, there is a way to perform one match: <strong>match in reverse</strong></p>\n\n<pre><code>^(?:vsc|txt).*KUPNIP(?!\\w*\\/refsnarT)\n</code></pre>\n\n<p>This uses a variable length negative look-ahead, something Perl does allow. Putting all this together in a script we get</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy $string_matches = '/opt/lnpsite/ni00/flat/tmp/Med_Local_Bak/ROI_Med_Transfer/CBD99_PINPUK_14934_09_02_2017_12_07_36.txt';\nsay \"Trying $string_matches\";\nif ( reverse($string_matches) =~ /^(?:vsc|txt).*KUPNIP(?!\\w*\\/refsnarT)/ ) {\n    say 'It matched';\n} else {\n    say 'No match';\n}\n\nsay '';\n\nmy $string_doesnt_match = '/opt/lnpsite/ni00/flat/tmp/Med_Local_Bak/ROI_Med/CBD99_PINPUK_14934_09_02_2017_12_07_36.txt';\nsay \"Trying $string_doesnt_match\";\nif ( reverse($string_doesnt_match) =~ /^(?:vsc|txt).*KUPNIP(?!\\w*\\/refsnarT)/ ) {\n    say 'It matched';\n} else {\n    say 'No match';\n}\n</code></pre>\n\n<p>Which outputs</p>\n\n<pre><code>Trying /opt/lnpsite/ni00/flat/tmp/Med_Local_Bak/ROI_Med_Transfer/CBD99_PINPUK_14934_09_02_2017_12_07_36.txt\nNo match\n\nTrying /opt/lnpsite/ni00/flat/tmp/Med_Local_Bak/ROI_Med/CBD99_PINPUK_14934_09_02_2017_12_07_36.txt\nIt matched\n</code></pre>\n"}], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 42652364, "answer_count": 2, "score": 2, "last_activity_date": 1511287685, "creation_date": 1488899917, "last_edit_date": 1488900694, "question_id": 42651953, "link": "https://stackoverflow.com/questions/42651953/regex-negative-lookbehind-matching-when-expected-not-to", "title": "regex negative lookbehind matching when expected not to", "body": "<p>Can someone help me understand why the following regex is matching when i would expect it not to match.</p>\n\n<p>String to check against</p>\n\n<pre><code>/opt/lnpsite/ni00/flat/tmp/Med_Local_Bak/ROI_Med_Transfer/CBD99_PINPUK_14934_09_02_2017_12_07_36.txt\n</code></pre>\n\n<p>regex</p>\n\n<pre><code>(?&lt;!Transfer\\/)\\w*PINPUK.*(?:csv|txt)$\n</code></pre>\n\n<p>I was expecting this to not match as the string <code>Transfer/</code> appears before 0 or more word chars followed by the string <code>PINPUK</code>. If I change the pattern from <code>\\w*</code> to <code>\\w{6}</code> to explicitly match 6 word chars this correctly returns no match. </p>\n\n<p>Can someone help me understand why with the 0 or more quantifier on my \"word\" character results in the regex giving a match?</p>\n"}, {"tags": ["perl", "proxy", "cpan"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1488897143, "post_id": 42649791, "comment_id": 72427802, "body": "... have you tried it specifying the proxy configuration as just a URL, and giving user/pass separately?"}, {"owner": {"reputation": 71, "user_id": 7672587, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yTokpqqiscM/AAAAAAAAAAI/AAAAAAAAAAw/rcNjsq6dIog/photo.jpg?sz=128", "display_name": "Emiliano Cagliari", "link": "https://stackoverflow.com/users/7672587/emiliano-cagliari"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1488897262, "post_id": 42649791, "comment_id": 72427891, "body": "Like   Your ftp_proxy? [] <a href=\"http://ipaddress:port/\" rel=\"nofollow noreferrer\">ipaddress:port</a>  Your http_proxy? [] <a href=\"http://ipaddress:port/\" rel=\"nofollow noreferrer\">ipaddress:port</a>  and user and pass before?  yes and i get the same..."}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 1, "creation_date": 1488904896, "post_id": 42649791, "comment_id": 72433240, "body": "Can&#39;t you use CPAN install like this: <code>export http_proxy=http:&#47;&#47;httpproxy.test.com:8080&#47;; export https_proxy=$http_proxy</code>"}, {"owner": {"reputation": 71, "user_id": 7672587, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yTokpqqiscM/AAAAAAAAAAI/AAAAAAAAAAw/rcNjsq6dIog/photo.jpg?sz=128", "display_name": "Emiliano Cagliari", "link": "https://stackoverflow.com/users/7672587/emiliano-cagliari"}, "edited": false, "score": 0, "creation_date": 1488907916, "post_id": 42649791, "comment_id": 72435046, "body": "Hi AbhiNickz   i got this;  Fetching with HTTP::Tiny: <a href=\"http://www.perl.org/CPAN/MIRRORED.BY.gz\" rel=\"nofollow noreferrer\">perl.org/CPAN/MIRRORED.BY.gz</a> Error downloading with HTTP::Tiny: Not a CODE reference at /usr/share/perl/5.18/CPAN/HTTP/Client.pm line 112, &lt;STDIN&gt; line 2."}], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 1660551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25704843002b272e8084e7fd1a8d4135?s=128&d=identicon&r=PG", "display_name": "X3MBoy", "link": "https://stackoverflow.com/users/1660551/x3mboy"}, "edited": false, "score": 0, "creation_date": 1553704588, "post_id": 46859266, "comment_id": 97486665, "body": "This actually works fine, but it asks for proxy authentications in each wget in the installation. But i can live with it"}, {"owner": {"reputation": 1208, "user_id": 785213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4afc5a37218ad4f1d104492e4b4d3657?s=128&d=identicon&r=PG", "display_name": "TheDudeAbides", "link": "https://stackoverflow.com/users/785213/thedudeabides"}, "reply_to_user": {"reputation": 207, "user_id": 1660551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25704843002b272e8084e7fd1a8d4135?s=128&d=identicon&r=PG", "display_name": "X3MBoy", "link": "https://stackoverflow.com/users/1660551/x3mboy"}, "edited": false, "score": 1, "creation_date": 1570558746, "post_id": 46859266, "comment_id": 102948200, "body": "@X3MBoy Probably this isn&#39;t your issue at all, but I should emphasize anyway to make sure you&#39;ve <code>exported</code> the variables. Subshells don&#39;t inherit the values of environment variables unless you explicitly do so."}, {"owner": {"reputation": 989, "user_id": 4970442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed9f7f093bc4915bfe51e794e846ea2?s=128&d=identicon&r=PG", "display_name": "Pablo Bianchi", "link": "https://stackoverflow.com/users/4970442/pablo-bianchi"}, "edited": false, "score": 0, "creation_date": 1592977465, "post_id": 46859266, "comment_id": 110614106, "body": "In my case <a href=\"https://stackoverflow.com/a/30442075/4970442\">this solved the problem</a>"}], "tags": [], "owner": {"reputation": 1208, "user_id": 785213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4afc5a37218ad4f1d104492e4b4d3657?s=128&d=identicon&r=PG", "display_name": "TheDudeAbides", "link": "https://stackoverflow.com/users/785213/thedudeabides"}, "is_accepted": false, "score": 7, "last_activity_date": 1508549918, "creation_date": 1508549918, "answer_id": 46859266, "question_id": 42649791, "link": "https://stackoverflow.com/questions/42649791/cpan-first-launch-proxy-configuration/46859266#46859266", "title": "CPAN first launch (Proxy Configuration)", "body": "<p>Yeah, this is pretty exasperating.</p>\n\n<p><a href=\"https://stackoverflow.com/a/11545397/785213\">This SO answer</a> suggests that maybe installing LWP (and its 18 dependencies) makes the problem better. Gosh, I'm glad I didn't have to resort to that.</p>\n\n<p>The issue I had with this was that I already had <code>http_proxy</code>, <code>https_proxy</code>, and the uppercase versions of <em>both</em> of those set (and exported) in my environment. Just about every other program (including <code>wget</code> and <code>curl</code>) is works fine when these environment variables are present. It made no sense to have to set these again, and then <strong>still</strong> have CPAN fail, <strong>when it's obviously calling out to <code>wget</code></strong>!</p>\n\n<p><strong>What did finally work for me</strong> was to follow the instructions <a href=\"https://serverfault.com/a/130736/84067\">here</a>, setting the CPAN <code>http_proxy</code> config setting to the empty string. (I also had previously removed the proxy username and password settings by hand-editing <code>~/.cpan/CPAN/MyConfig.pm</code>.)</p>\n\n<pre><code>$ cpan  # or perl -MCPAN -e shell\ncpan[1]&gt; o conf http_proxy \"\"\ncpan[2]&gt; o conf ftp_proxy \"\"\ncpan[3]&gt; o conf proxy_user \"\"\ncpan[4]&gt; o conf proxy_pass \"\"\ncpan[5]&gt; o conf commit\ncpan[6]&gt; q\n\n$ # I have a shell function that does basically this\n$ export http_proxy=\"http://user:pass@proxyserver:8080\"\n$ for v in HTTP_PROXY https_proxy HTTPS_PROXY ftp_proxy FTP_PROXY; do\n&gt; export $v=\"$http_proxy\"\n&gt; done\n\n$ cpan i Devel::Repl   # or whatever\n</code></pre>\n\n<p>Then, presumably, <code>wget</code> was just using the environment variables defined before calling <code>cpan</code>, which of course works fine. If you have a proxy that requires authentication, <a href=\"https://wiki.archlinux.org/index.php/Proxy_settings#Environment_variables\" rel=\"noreferrer\">this article</a> on the Arch wiki has a little script that will prompt you for the credentials, and then set all the appropriate <code>*_proxy</code> and <code>*_PROXY</code> environment variables.</p>\n\n<p><em>On that note, just as a public service announcement, please don't put important passwords in plain-text configuration files or in your <code>~/.bashrc</code>.</em></p>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 10339184, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TSPaesKM9ks/AAAAAAAAAAI/AAAAAAAAAks/eitvzc-3N1s/photo.jpg?sz=128", "display_name": "Roman Spiak", "link": "https://stackoverflow.com/users/10339184/roman-spiak"}, "is_accepted": false, "score": 0, "last_activity_date": 1591162880, "creation_date": 1591162880, "answer_id": 62165977, "question_id": 42649791, "link": "https://stackoverflow.com/questions/42649791/cpan-first-launch-proxy-configuration/62165977#62165977", "title": "CPAN first launch (Proxy Configuration)", "body": "<p>what I did to overcome cpan proxy behavour is to prefix the command with proxychains command.</p>\n\n<p>Details about proxychains: <a href=\"https://github.com/haad/proxychains\" rel=\"nofollow noreferrer\">https://github.com/haad/proxychains</a></p>\n"}], "owner": {"reputation": 71, "user_id": 7672587, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yTokpqqiscM/AAAAAAAAAAI/AAAAAAAAAAw/rcNjsq6dIog/photo.jpg?sz=128", "display_name": "Emiliano Cagliari", "link": "https://stackoverflow.com/users/7672587/emiliano-cagliari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19578, "favorite_count": 2, "answer_count": 2, "score": 7, "last_activity_date": 1591162880, "creation_date": 1488893878, "question_id": 42649791, "link": "https://stackoverflow.com/questions/42649791/cpan-first-launch-proxy-configuration", "title": "CPAN first launch (Proxy Configuration)", "body": "<p>i need to run cpan trough proxy but when i try to configure i got errors and cant enter to cpan for the first time</p>\n\n<pre><code>root@srv-linux01:~# cpan\n\nCPAN.pm requires configuration, but most of it can be done automatically.\nIf you answer 'no' below, you will enter an interactive dialog for each\nconfiguration option instead.\n\nWould you like to configure as much as possible automatically? [yes] no\n</code></pre>\n\n<p>On proxy settings:</p>\n\n<pre><code>If you're accessing the net via proxies, you can specify them in the\nCPAN configuration or via environment variables. The variable in\nthe $CPAN::Config takes precedence.\n\n &lt;ftp_proxy&gt;\nYour ftp_proxy? [] http://username:password@proxyIP:Port/  &lt;---- is ok the information?\n\n &lt;http_proxy&gt;\nYour http_proxy? [] http://username:password@proxyIP:Port/  &lt;---- is ok the information?\n\n &lt;no_proxy&gt;\nYour no_proxy? []\n\n\n\nIf your proxy is an authenticating proxy, you can store your username\npermanently. If you do not want that, just press ENTER. You will then\nbe asked for your username in every future session.\n\nYour proxy user id? []     &lt;---- username is needed again?\n\n\nYour password for the authenticating proxy can also be stored\npermanently on disk. If this violates your security policy, just press\nENTER. You will then be asked for the password in every future\nsession.\n\nYour proxy password?     \n</code></pre>\n\n<p>And before that i get this.</p>\n\n<pre><code>Fetching with HTTP::Tiny:\nhttp://www.perl.org/CPAN/MIRRORED.BY.gz\nError downloading with HTTP::Tiny: Not a CODE reference at /usr/share/perl/5.18/CPAN/HTTP/Client.pm line 112, &lt;STDIN&gt; line 65.\n</code></pre>\n\n<p>Im using Ubuntu Server 14.04 LTS and Perl 5.18.2</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1488903918, "post_id": 42647820, "comment_id": 72432598, "body": "This would benefit from some example data I think."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1488910922, "post_id": 42647820, "comment_id": 72436661, "body": "ow. Do indeed use a sub instead! /// Please provide data that demonstrates the problem, and the output you expect"}], "answers": [{"comments": [{"owner": {"reputation": 388, "user_id": 7672005, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-R-OYfkK3E2M/AAAAAAAAAAI/AAAAAAAAABA/6paHCK6AaaY/photo.jpg?sz=128", "display_name": "Zyzyx", "link": "https://stackoverflow.com/users/7672005/zyzyx"}, "edited": false, "score": 0, "creation_date": 1488900107, "post_id": 42648658, "comment_id": 72429962, "body": "Thank you for the suggestion! It seems subroutines are a great idea. However I am having the same issue as before using this code: Only part of the kit output is written and it is written out of place (after the rest of the output rather than inbetween where it is called)."}], "tags": [], "owner": {"reputation": 1009, "user_id": 2051109, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/216009d45e1b8e34f936173142f0648f?s=128&d=identicon&r=PG", "display_name": "BOC", "link": "https://stackoverflow.com/users/2051109/boc"}, "is_accepted": true, "score": 1, "last_activity_date": 1488890587, "creation_date": 1488890587, "answer_id": 42648658, "question_id": 42647820, "link": "https://stackoverflow.com/questions/42647820/perl-script-running-itself-with-new-parameters/42648658#42648658", "title": "Perl script running itself with new parameters", "body": "<p>I think you just need to declare a subroutine that can be called recursively.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n# quit unless we have the correct number of command-line args\nmy $num_args = $#ARGV + 1;\nif ($num_args != 2 &amp;&amp; $num_args != 3) {\n    print \"$num_args\\nUsage: perl perl.pl parts_file.txt replacements_file.txt \\(optionally add \\\"k\\\" as a third parameter if a Kit\\)\\n\";\n    exit;\n}\n\nprocess_kit (@ARGV);\n\nsub process_kit {\n    my ($file1, $file2, $argv2) = @_;\n\n    open( my $fh_replacements, \"&lt;\", $file2 )    \n        or die \"Could not open file '$file2' $!\"; \n    open( my $writefile_fh, \"&gt;\", $writefile )\n        or die \"Could not open file '$writefile' $!\";\n\n# initialise local variables\n    my $count = 1;\n    my @splitter;\n    my @splitter2;\n\n# decide header based on whether we are dealing with a Kit\n    if (lc $argv2 ne \"k\") { \n        print {$writefile_fh} \"File $file2 results:\\n\\n\";} \n    else { \n        print {$writefile_fh} \"\\tMontagekit $ARGV[1]:\\n\";}\n# check the data\n    while ( my $row = &lt;$fh_replacements&gt; ) {\n        if ( $count &gt;= 10 &amp;&amp; $row ne \"\" &amp;&amp; $row ne \"\\n\" ) {  #start at row 10, don't use NULL or newline rows\n            my $hits = 0;\n            open( my $fh_parts, \"&lt;\", $file1 ) or die \"Couldn't reopen '$file1' $!\";\n            @splitter = split( '\\s*\\|\\s*', $row );    #split by | with any number of spaces around it\n            if (substr($splitter[1],0,1) ne \"K\") {    #check for montageKit\n                foreach (@splitter) {\n                    my @line = &lt;$fh_parts&gt;;\n                    for (@line) {\n                        $_ =~ s/\\x0//g;    #weird windows64bit related spaces fix\n                        if ( $_ =~ /$splitter[1]/ ) {\n                            $hits++;\n                            $splitter[6] =~ s/\\,/\\./;\n                            @splitter2 = split( /(?&lt;!,)\\t/, $_ );    #split by tabs\n                        }\n                    }\n                }\n                close $fh_parts;\n                if ( $hits == 0 ) { print {$writefile_fh} \"$splitter[1] not matched!\\n\"; }  #not found\n                elsif ( $hits == 1 ) {                                                      #found  \n                    if ( $splitter[6] == $splitter2[1] ) {\n                        print {$writefile_fh} \"$splitter[1] matched!\\tQuantity match!\\n\";\n                    }\n                    else {\n                        print {$writefile_fh} \n                        \"$splitter[1] matched!\\tQuantity mismatch: $splitter[6] - $splitter2[1] \\(replacements - parts\\)\\n\";\n                    }\n                }\n                else { print {$writefile_fh} \"$splitter[1] matched $hits times!\\n\"; }           #found multiple instances\n            }\n            else {   #If kit is found,run again the program for the Kit\n                process_kit($file1, $splitter[1].\"\\.txt\", \"k\");\n            }\n        }\n\n        $count++;\n    }\n    if (lc $argv ne \"k\") { print {$writefile_fh} \"\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\n\";}\n}\n</code></pre>\n"}], "owner": {"reputation": 388, "user_id": 7672005, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-R-OYfkK3E2M/AAAAAAAAAAI/AAAAAAAAABA/6paHCK6AaaY/photo.jpg?sz=128", "display_name": "Zyzyx", "link": "https://stackoverflow.com/users/7672005/zyzyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 42648658, "answer_count": 1, "score": 1, "last_activity_date": 1488891422, "creation_date": 1488888157, "last_edit_date": 1488891422, "question_id": 42647820, "link": "https://stackoverflow.com/questions/42647820/perl-script-running-itself-with-new-parameters", "title": "Perl script running itself with new parameters", "body": "<p>I'm working on comparing several lists in order to find mismatches, and figured this would be a good opportunity to put the little bit of Perl experience I've had in the past to use.</p>\n\n<p>My code splits data from two files, allowing me to easily access the data I need (article-numbers and quantities mostly).\nIt then compares these from one file (replacement parts) to another (parts list). \nHowever if a Kit is found in the replacement parts list (article numbers starting with K), it will call the same Perl script again but use a list of parts inside the Kit rather than the replacement parts list. \nAfter running through the script for the Kit, I hoped it would continue running the original script from where it had called itself.</p>\n\n<p><strong>The problem</strong> is that it will first run the script fully (as seen from my output) before starting on running the script for the Kit.\nFurthermore, the second run of the script (for the Kit) starts halfway through! Skipping creation of the header and most of my data file.</p>\n\n<p>The script takes arguments: partslist.txt replacementparts.txt(or Kitparts) and an optional K as a third argument if it is a Kit.\nPlease excuse me if the script looks messy, I am quite new to this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n# quit unless we have the correct number of command-line args\nmy $num_args = $#ARGV + 1;\n\nif ( $num_args != 2 &amp;&amp; $num_args != 3 ) {\n    print \"$num_args\\nUsage: perl perl.pl parts_file.txt replacements_file.txt \\(optionally add \\\"k\\\" as a third parameter if a Kit\\)\\n\";\n    exit;\n}\n\n# initialise files\nmy $file1 = $ARGV[0];\nmy $file2 = $ARGV[1];\n\nopen( my $fh_replacements, \"&lt;\", $file2 )\n        or die \"Could not open file '$file2' $!\";\n\nopen( my $writefile_fh, \"&gt;\", $writefile )\n        or die \"Could not open file '$writefile' $!\";\n\n# initialise global variables\nmy $count = 1;\nmy @splitter;\nmy @splitter2;\n\n# decide header based on whether we are dealing with a Kit\nif ( lc $ARGV[2] ne \"k\" ) {\n    print {$writefile_fh} \"File $file2 results:\\n\\n\";\n}\nelse {\n    print {$writefile_fh} \"\\tMontagekit $ARGV[1]:\\n\";\n}\n\n# check the data\nwhile ( my $row = &lt;$fh_replacements&gt; ) {\n\n    if ( $count &gt;= 10 &amp;&amp; $row ne \"\" &amp;&amp; $row ne \"\\n\" )\n    {    #start at row 10, don't use NULL or newline rows\n\n        my $hits = 0;\n\n        open( my $fh_parts, \"&lt;\", $file1 ) or die \"Couldn't reopen '$file1' $!\";\n\n        @splitter = split( '\\s*\\|\\s*', $row );    #split by | with any number of spaces around it\n\n        if ( substr( $splitter[1], 0, 1 ) ne \"K\" ) {    #check for montageKit\n\n            foreach ( @splitter ) {\n\n                my @line = &lt;$fh_parts&gt;;\n\n                for ( @line ) {\n\n                    $_ =~ s/\\x0//g;                     #weird windows64bit related spaces fix\n\n                    if ( $_ =~ /$splitter[1]/ ) {\n                        $hits++;\n                        $splitter[6] =~ s/\\,/\\./;\n                        @splitter2 = split( /(?&lt;!,)\\t/, $_ );    #split by tabs\n                    }\n                }\n            }\n\n            close $fh_parts;\n\n            if ( $hits == 0 ) {\n                print {$writefile_fh} \"$splitter[1] not matched!\\n\";\n            }    #not found\n            elsif ( $hits == 1 ) {    #found\n\n                if ( $splitter[6] == $splitter2[1] ) {\n                    print {$writefile_fh} \"$splitter[1] matched!\\tQuantity match!\\n\";\n                }\n                else {\n                    print {$writefile_fh} \"$splitter[1] matched!\\tQuantity mismatch: $splitter[6] - $splitter2[1] \\(replacements - parts\\)\\n\";\n                }\n            }\n            else {\n                print {$writefile_fh} \"$splitter[1] matched $hits times!\\n\";\n            }    #found multiple instances\n        }\n        else {    #If kit is found, send back to separate instance of program to run for the Kit\n            local @ARGV = ( $ARGV[0], $splitter[1] . \"\\.txt\", \"k\" );\n            do 'perl.pl';\n        }\n    }\n\n    $count++;\n}\n\nif ( lc $ARGV[2] ne \"k\" ) {\n    print {$writefile_fh} \"\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\n\";\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>File 2716576.txt results:\n\ntestarticle not matched!\n00000126 matched!   Quantity mismatch: 1.0000 - 5 (replacements - parts)\n00750020 matched!   Quantity match!\ntestarticle not matched!\ntestarticle not matched!\ntestarticle not matched!\n00170018 matched 3 times!\ntestarticle not matched!\ntestarticle not matched!\ntestarticle not matched!\n///////////////////\n000222 matched! Quantity match!\n00050496 matched!   Quantity match!\n</code></pre>\n\n<p>Only last two lines in the output are from the Kit file.</p>\n\n<p>I imagined this would be better than copy-pasting the same code to run again for the Kit. That is still a last-resort option though if I can't get this to work.</p>\n\n<p>Can anyone tell me where I'm going wrong? I feel like some variables are carrying over, and/or that the second run of the script doesn't start where I'd like it to. I'm not sure how to fix that though, I've tried all the troubleshooting I could muster so any help would be greatly appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1488886630, "post_id": 42647271, "comment_id": 72420807, "body": "I&#39;m voting to close this question as off-topic because it is about how the dates of Swedish holidays are determined rather than programming per se."}, {"owner": {"reputation": 487, "user_id": 447876, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/ba0b13f80f0d84d4e144b07ea42e7154?s=128&d=identicon&r=PG", "display_name": "sebastian nielsen", "link": "https://stackoverflow.com/users/447876/sebastian-nielsen"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1488886861, "post_id": 42647271, "comment_id": 72420958, "body": "@Quentin The question is related to programming, and is very useful in a programming context for other people that are creating applications that does something with dates, and needs to be aware of holidays."}, {"owner": {"reputation": 31483, "user_id": 502381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74b99e687909be449e0130a50950eac7?s=128&d=identicon&r=PG&f=1", "display_name": "JJJ", "link": "https://stackoverflow.com/users/502381/jjj"}, "edited": false, "score": 0, "creation_date": 1488886903, "post_id": 42647271, "comment_id": 72420988, "body": "Unless you need to have a calculation for any year in history, it&#39;s easier to make a static list of the holidays for, say, the next 10 years and make a note to update the list 10 years from now.  If you do need the data for an arbitrary year, then you&#39;ll just have to look up how each holiday is determined and implement the algorithm. This is a common task so all of them should be easily googleable."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1488887019, "post_id": 42647271, "comment_id": 72421070, "body": "@sebastiannielsen \u2014 A question in the form of &quot;The holiday of <i>imadethisoneup</i> takes place on the third Sunday after the first Monday of June, how can I work out the date for this, in Perl, for any given year?&quot; is a decent programming question. &quot;What dates does Sweden have holidays on?&quot; is not."}, {"owner": {"reputation": 487, "user_id": 447876, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/ba0b13f80f0d84d4e144b07ea42e7154?s=128&d=identicon&r=PG", "display_name": "sebastian nielsen", "link": "https://stackoverflow.com/users/447876/sebastian-nielsen"}, "edited": false, "score": 0, "creation_date": 1488887916, "post_id": 42647271, "comment_id": 72421639, "body": "Updated the question with the most complicated one. The rest I can figure out of myself."}, {"owner": {"reputation": 31483, "user_id": 502381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74b99e687909be449e0130a50950eac7?s=128&d=identicon&r=PG&f=1", "display_name": "JJJ", "link": "https://stackoverflow.com/users/502381/jjj"}, "edited": false, "score": 2, "creation_date": 1488888075, "post_id": 42647271, "comment_id": 72421727, "body": "<a href=\"http://search.cpan.org/~rbow/Date-Easter-1.22/lib/Date/Easter.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~rbow/Date-Easter-1.22/lib/Date/Easter.pm</a>, <a href=\"http://search.cpan.org/~rickm/DateTime-Event-Easter-1.04/lib/DateTime/Event/Easter.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~rickm/DateTime-Event-Easter-1.04/lib/DateTi&zwnj;&#8203;me/&hellip;</a>, <a href=\"https://www.google.com/search?q=perl+easter\" rel=\"nofollow noreferrer\">google.com/search?q=perl+easter</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488888965, "post_id": 42647271, "comment_id": 72422296, "body": "The most likely resource to have a comprehensive list and to stay up to date would be a web API. Maybe <a href=\"http://holidayapi.com\" rel=\"nofollow noreferrer\">holidayapi.com</a> or <a href=\"https://www.timeanddate.com/services/api/holiday-api.html\" rel=\"nofollow noreferrer\">timeanddate.com/services/api/holiday-api.html</a> (although the latter is $100/year)."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1488890043, "post_id": 42647271, "comment_id": 72422993, "body": "Questions asking for libraries are programming-related but still off-topic.  The question doesn&#39;t directly ask for this, but the title certainly seems to be begging for that sort of solution."}, {"owner": {"reputation": 487, "user_id": 447876, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/ba0b13f80f0d84d4e144b07ea42e7154?s=128&d=identicon&r=PG", "display_name": "sebastian nielsen", "link": "https://stackoverflow.com/users/447876/sebastian-nielsen"}, "edited": false, "score": 0, "creation_date": 1488902289, "post_id": 42647271, "comment_id": 72431517, "body": "wasn&#39;t the updated title okay?"}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1488977917, "post_id": 42647271, "comment_id": 72468648, "body": "Latest release of <a href=\"https://metacpan.org/release/Time-Moment\" rel=\"nofollow noreferrer\">Time::Moment</a> supports calcutation of <a href=\"https://metacpan.org/pod/Time::Moment::Adjusters#WesternEasterSunday\" rel=\"nofollow noreferrer\">Western Easter</a> and <a href=\"https://metacpan.org/pod/Time::Moment::Adjusters#OrthodoxEasterSunday\" rel=\"nofollow noreferrer\">Orthodox Easter</a>. Time::Moment aslo comes with an example of computing Swedish holidays, <a href=\"https://metacpan.org/source/CHANSEN/Time-Moment-0.41/eg/se_bank_holidays.pl\" rel=\"nofollow noreferrer\">eg/se_bank_holidays.pl</a>."}], "answers": [{"tags": [], "owner": {"reputation": 487, "user_id": 447876, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/ba0b13f80f0d84d4e144b07ea42e7154?s=128&d=identicon&r=PG", "display_name": "sebastian nielsen", "link": "https://stackoverflow.com/users/447876/sebastian-nielsen"}, "is_accepted": false, "score": 2, "last_activity_date": 1491301129, "last_edit_date": 1491301129, "creation_date": 1488894015, "answer_id": 42649847, "question_id": 42647271, "link": "https://stackoverflow.com/questions/42647271/good-way-to-calculate-easter-date-perl/42649847#42649847", "title": "Good way to calculate Easter date (PERL)", "body": "<p>Here is my function I created out of it. It expects a year as a parameter, and will return a hash with all red Days (non-business Days) for sweden that year.</p>\n\n<p>Note that it will NOT return any holidays that is Always a Saturday or Sunday, as Saturdays and Sundays is non-business anyways.</p>\n\n<pre><code>Requires Date::Calc and Date::Easter\n\n    sub GetHoliDayList() {\n\n    $yeartocheck = $_[0];\n\n    $holiday{'1-1'} = '1';\n    $holiday{'1-6'} = '1';\n    $holiday{'5-1'} = '1';\n    $holiday{'6-6'} = '1';\n    $holiday{'6-24'} = '1';\n    $holiday{'12-24'} = '1';\n    $holiday{'12-25'} = '1';\n    $holiday{'12-26'} = '1';\n    $holiday{'12-31'} = '1';\n\n    ($eastermonth, $easterday) = gregorian_easter( $yeartocheck );\n    $hea = int($eastermonth).\"-\".int(int($easterday) - 2);\n    $heb = int($eastermonth).\"-\".int(int($easterday) + 1);\n    $holiday{$hea} = '1';\n    $holiday{$heb} = '1';\n\n    ($year,$christskytravellermonth,$christskytravellerday) = Add_Delta_YMD($yeartocheck,$eastermonth,$easterday, 0,0,39);\n    $chstv = int($christskytravellermonth).\"-\".int($christskytravellerday);\n    $holiday{$chstv} = '1';\n\n    if (Day_of_Week($yeartocheck,6,19) == 5) {\n    $holiday{'6-19'} = '1';\n    }\n    if (Day_of_Week($yeartocheck,6,20) == 5) {\n    $holiday{'6-20'} = '1';\n    }\n    if (Day_of_Week($yeartocheck,6,21) == 5) {\n    $holiday{'6-21'} = '1';\n    }\n    if (Day_of_Week($yeartocheck,6,22) == 5) {\n    $holiday{'6-22'} = '1';\n    }\n    if (Day_of_Week($yeartocheck,6,23) == 5) {\n    $holiday{'6-23'} = '1';\n    }\n    if (Day_of_Week($yeartocheck,6,24) == 5) {\n    $holiday{'6-24'} = '1';\n    }\n    if (Day_of_Week($yeartocheck,6,25) == 5) {\n    $holiday{'6-25'} = '1';\n    }\n\n    return %holiday;\n    }\n</code></pre>\n"}], "owner": {"reputation": 487, "user_id": 447876, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/ba0b13f80f0d84d4e144b07ea42e7154?s=128&d=identicon&r=PG", "display_name": "sebastian nielsen", "link": "https://stackoverflow.com/users/447876/sebastian-nielsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "closed_date": 1488895760, "answer_count": 1, "score": -1, "last_activity_date": 1491301129, "creation_date": 1488886486, "last_edit_date": 1488897102, "question_id": 42647271, "link": "https://stackoverflow.com/questions/42647271/good-way-to-calculate-easter-date-perl", "closed_reason": "Not suitable for this site", "title": "Good way to calculate Easter date (PERL)", "body": "<p>How I do to calculate correct holiday dates for a specific country, in this case sweden?\nI know how to get saturdays and sundays, and exclude them from processing.</p>\n\n<p>But theres other holidays, like christmas, national day, Christ skytraveller's day, thirteen's day, that are red Days and needs to be excluded in a attendance solution.</p>\n\n<p>What I want to know, is how I do a function, given a specific year, month and day, will return true or false if it a holiday or not.</p>\n\n<p>I looked on Date::Holidays but theres no data source for sweden, it says I need to create one myself. But the problem is more, how I do to calculate the correct dates? Is there a specific algoritm for getting holiday dates, for example easter?</p>\n\n<p>Some holiday dates are easy to create out of a list, like christmas evening and new year that have fixed dates each year, but some holidays are different each year.</p>\n\n<p>For example this is super complicated:</p>\n\n<p>Easter: First sunday after the first ecklesaustic full moon after the spring equinox.</p>\n\n<p>Most other dynamic holidays are calculated out of the Easter.</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1488887758, "post_id": 42646500, "comment_id": 72421551, "body": "untested, <code>my ($record) = map scalar(qx($_)), q(awk -F&#39;[:;]&#39; &#39;$1 == &quot;Amy&quot;&#39; data.txt);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1728, "user_id": 6869190, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh4.googleusercontent.com/-MEnmMeia38I/AAAAAAAAAAI/AAAAAAAAADc/AviuuLKXvzo/photo.jpg?sz=128", "display_name": "Zumo de Vidrio", "link": "https://stackoverflow.com/users/6869190/zumo-de-vidrio"}, "is_accepted": true, "score": 2, "last_activity_date": 1488884954, "creation_date": 1488884954, "answer_id": 42646704, "question_id": 42646500, "link": "https://stackoverflow.com/questions/42646500/awk-command-in-perl-scripts-getting-error/42646704#42646704", "title": "awk command in perl scripts getting error", "body": "<p>Try to escape the $ sign:</p>\n\n<pre><code>my $record = `awk -F'[:;]' '\\$1 == \"Amy\"' data.txt`;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1488895685, "creation_date": 1488895685, "answer_id": 42650426, "question_id": 42646500, "link": "https://stackoverflow.com/questions/42646500/awk-command-in-perl-scripts-getting-error/42650426#42650426", "title": "awk command in perl scripts getting error", "body": "<p>Calling <code>awk</code> in backticks from perl is a pretty nasty thing to do. <code>perl</code> replicates pretty much all the same functionality - all you do is introduce additional overhead, inefficiency and quoting problems (like you've got in your example). </p>\n\n<p>Why not instead:</p>\n\n<pre><code>open ( my $input, '&lt;', 'data.txt' ) or die $!;\nmy ($record) = grep { (split /[:;]/)[0] eq 'Amy' } &lt;$input&gt;; \n</code></pre>\n\n<p>This replicates what you're doing, but you could instead do something altogether more elegant like:</p>\n\n<pre><code>my %person;\nwhile ( &lt;$input&gt; ) { \n    chomp;\n    my ( $name, @fields ) = split /[;:]/; \n    $person{$name} = \\@fields; \n}\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>print join \" \", @{$person{'Amy'}},\"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 669, "user_id": 5991761, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/984565203d53cc51598def5bb244f159?s=128&d=identicon&r=PG&f=1", "display_name": "Mint.K", "link": "https://stackoverflow.com/users/5991761/mint-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 42646704, "answer_count": 2, "score": 0, "last_activity_date": 1488895685, "creation_date": 1488884388, "question_id": 42646500, "link": "https://stackoverflow.com/questions/42646500/awk-command-in-perl-scripts-getting-error", "title": "awk command in perl scripts getting error", "body": "<p>I am running the below code in my perl script.</p>\n\n<pre><code>my $record = `awk -F'[:;]' '$1 == \"Amy\"' data.txt`;\n</code></pre>\n\n<p>However, it's giving me the error:</p>\n\n<pre><code>awk: syntax error at source line 1\n context is\n     &gt;&gt;&gt;  == &lt;&lt;&lt; \nawk: bailing out at source line 1\n</code></pre>\n\n<p>What is causing this error?</p>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1488898355, "post_id": 42646441, "comment_id": 72428693, "body": "<code>$inst</code> includes the end-of-line character. <code>chomp</code> it before you use it to set <code>$split</code>. Then you&#39;ll need to <code>chomp $split</code>, too."}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 7669177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OCZ5R.jpg?s=128&g=1", "display_name": "Hector Solano", "link": "https://stackoverflow.com/users/7669177/hector-solano"}, "is_accepted": false, "score": 0, "last_activity_date": 1488900827, "creation_date": 1488900827, "answer_id": 42652246, "question_id": 42646441, "link": "https://stackoverflow.com/questions/42646441/how-to-use-linux-bash-commands-inside-a-perl-scriptgetting-errors-on-using-it-i/42652246#42652246", "title": "How to use linux bash commands inside a perl script?Getting errors on using it inside perl script", "body": "<p>Every system command executed thru Perl will inherit the current working directory (cwd) of the program. The chdir() will let you change the cwd to a different directory and so, inherit this new dir to the system commands executed. </p>\n\n<p>If you do not want to change the cwd of the script, one simple way is to change the working directory using \"cd\" in concatenation (\";\") with the commands that you want to execute. Having this in mind, you can try something like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Cwd;\n\nmy $cwd = getcwd();\n\nprint \"CWD: $cwd\\n\";\n\nprint \"############################\";\nprint \"*****DELETING THE CURRENT SERVICE*****\\n\";\n\nunless (-e \"$cwd/check.txt\") {\n   print \"-E-: File ($cwd/check.txt) not found in dir: $cwd\\n\";\n   exit 0;\n}\n\n### Grep the /scratch/Desktop/check.txt, if the user launches\n### the script at /scratch/Desktop directory\nmy $inst=`grep -i 'Installation root' $cwd/check.txt`;\n\nchomp($inst);\n\n### Regexp could be simpler to remove label\n$inst =~ s/.*root\\:\\s*//;\n\nprint \"Installation Root: $inst\\n\";\n\n### Here the concatenation is used to chdir before the script execution\n### Changed to system() since you want to dump the outputs\n\nsystem(\"cd $inst; $inst/newfold/newfile.py --action=remove\");\n\nprint \"Done!\\n\";\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7573692, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uHL0v6hEGG4/AAAAAAAAAAI/AAAAAAAABUU/elEvQB2L4Qk/photo.jpg?sz=128", "display_name": "NVTechie", "link": "https://stackoverflow.com/users/7573692/nvtechie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1488900827, "creation_date": 1488884230, "question_id": 42646441, "link": "https://stackoverflow.com/questions/42646441/how-to-use-linux-bash-commands-inside-a-perl-scriptgetting-errors-on-using-it-i", "title": "How to use linux bash commands inside a perl script?Getting errors on using it inside perl script", "body": "<p>I know this question is pretty trivial,but still i am stuck.\nI have used system(),exec() and back ticks but solution I am not getting proper.\nSo what exactly I want is,I want to run a command from my perl script.</p>\n\n<p>Here is an example:-</p>\n\n<p>Suppose Command I want to execute is </p>\n\n<pre><code>  /scratch/abc/def/xyz/newfold/newfile.py --action=remove;\n</code></pre>\n\n<p>check.txt:-</p>\n\n<pre><code>Installation root: /scratch/abc/def/xyz\n</code></pre>\n\n<p>Install.pl:-</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Cwd;\nmy $now=cwd;\nprint \"############################\";\nprint \"*****DELETING THE CURRENT SERVICE*****\\n\";\nmy $dir = $ENV{'PWD'};\n#my $dir = /scratch/Desktop;\nmy $inst=`grep -i 'Installation root' $dir/check.txt  `;\nmy $split=`echo \"$inst\" | awk '{print \\$(3)}'`;         ## this will give the     \"/scratch/abc/def/xyz\" path\n\n#chdir ( $split);          //Trying to change the directory so that pwd will become till xyz.\nqx(echo \"cd $split\");\n\n$now=cwd;\nprint $now;\nmy $dele = `echo \"$split/newfold/newfile.py --action=remove;\"`;     //Problem is here it gets out from the $split directory and could not go inside and execute the command.\nprint $dele;\n</code></pre>\n\n<p>Output Expected is:-\nIt should go inside the directory and execute the sub directory commands.\nPlease suggest how can i execute command line things easily without exiting the session.</p>\n"}, {"tags": ["javascript", "jquery", "ajax", "perl"], "comments": [{"owner": {"reputation": 71114, "user_id": 1059101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7Mdb.png?s=128&g=1", "display_name": "Jai", "link": "https://stackoverflow.com/users/1059101/jai"}, "edited": false, "score": 0, "creation_date": 1488879556, "post_id": 42644597, "comment_id": 72416302, "body": "what about <code>thrownError</code> argument? did you try that?"}, {"owner": {"reputation": 21, "user_id": 7671361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4FwoQfNJLQ4/AAAAAAAAAAI/AAAAAAAAAEQ/W8ilwF1zEQE/photo.jpg?sz=128", "display_name": "sydnej", "link": "https://stackoverflow.com/users/7671361/sydnej"}, "reply_to_user": {"reputation": 71114, "user_id": 1059101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7Mdb.png?s=128&g=1", "display_name": "Jai", "link": "https://stackoverflow.com/users/1059101/jai"}, "edited": false, "score": 0, "creation_date": 1488879909, "post_id": 42644597, "comment_id": 72416486, "body": "in <code>thrownError</code>  I have text  <code>&quot;Server Error&quot;</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488880139, "post_id": 42644597, "comment_id": 72416638, "body": "Have you verified that the Perl part works as you expect? Can you see the response with <i>My error</i> in your developer tools in the browser? You might also want to look at how CGI::Carp implements <code>fatalsToBrowser</code>."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1488881177, "post_id": 42644597, "comment_id": 72417307, "body": "<a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#CGI.pm-HAS-BEEN-REMOVED-FROM-THE-PERL-CORE\" rel=\"nofollow noreferrer\">CGI.pm is no longer considered good practice for developing web applications, including quick prototyping and small web scripts. There are far better, cleaner, quicker, easier, safer, more scalable, more extensible, more modern alternatives available at this point in time. These will be documented with CGI::Alternatives.</a>"}, {"owner": {"reputation": 21, "user_id": 7671361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4FwoQfNJLQ4/AAAAAAAAAAI/AAAAAAAAAEQ/W8ilwF1zEQE/photo.jpg?sz=128", "display_name": "sydnej", "link": "https://stackoverflow.com/users/7671361/sydnej"}, "edited": false, "score": 0, "creation_date": 1488882781, "post_id": 42644597, "comment_id": 72418309, "body": "I don&#39;t find my error in developer tools in my browser and I would like use $SIG{<b>DIE</b>} if it is possible"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7671361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4FwoQfNJLQ4/AAAAAAAAAAI/AAAAAAAAAEQ/W8ilwF1zEQE/photo.jpg?sz=128", "display_name": "sydnej", "link": "https://stackoverflow.com/users/7671361/sydnej"}, "edited": false, "score": 0, "creation_date": 1488882626, "post_id": 42645287, "comment_id": 72418212, "body": "ok, but how return my data (error from perl) to javascript when I have error 500?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 21, "user_id": 7671361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4FwoQfNJLQ4/AAAAAAAAAAI/AAAAAAAAAEQ/W8ilwF1zEQE/photo.jpg?sz=128", "display_name": "sydnej", "link": "https://stackoverflow.com/users/7671361/sydnej"}, "edited": false, "score": 1, "creation_date": 1488882740, "post_id": 42645287, "comment_id": 72418284, "body": "@sydnej \u2014 Keep doing what you are doing. Just add the status code."}, {"owner": {"reputation": 21, "user_id": 7671361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4FwoQfNJLQ4/AAAAAAAAAAI/AAAAAAAAAEQ/W8ilwF1zEQE/photo.jpg?sz=128", "display_name": "sydnej", "link": "https://stackoverflow.com/users/7671361/sydnej"}, "edited": false, "score": 0, "creation_date": 1488884103, "post_id": 42645287, "comment_id": 72419158, "body": "<code>print $cgi-&gt;header(-type=&gt;&quot;text&#47;plain&quot;, -status =&gt; &#39;500 Server Error&#39;, -Access_Control_Allow_Origin=&gt;&quot;*&quot;).&quot;My error: &quot;.$error;</code> it is correct? In js error and fail in jqxhr are empty. Status is 500 and status text is &quot;Server Error&quot;"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 21, "user_id": 7671361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4FwoQfNJLQ4/AAAAAAAAAAI/AAAAAAAAAEQ/W8ilwF1zEQE/photo.jpg?sz=128", "display_name": "sydnej", "link": "https://stackoverflow.com/users/7671361/sydnej"}, "edited": false, "score": 0, "creation_date": 1488884636, "post_id": 42645287, "comment_id": 72419521, "body": "@sydnej \u2014 jqXHR&#39;s <code>fail</code> property should be a <i>function</i> (as should <code>error</code>, but that is deprecated). You should be looking at <code>status</code>, <code>statusTest</code> and <code>responseText</code>. Have you looked at <a href=\"https://api.jquery.com/jQuery.ajax/#jqXHR\" rel=\"nofollow noreferrer\">the documentation for it</a>?"}, {"owner": {"reputation": 21, "user_id": 7671361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4FwoQfNJLQ4/AAAAAAAAAAI/AAAAAAAAAEQ/W8ilwF1zEQE/photo.jpg?sz=128", "display_name": "sydnej", "link": "https://stackoverflow.com/users/7671361/sydnej"}, "edited": false, "score": 0, "creation_date": 1488886679, "post_id": 42645287, "comment_id": 72420837, "body": "in <code>responseText</code> i have default text from apache, not &quot;My error:&quot;"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 1, "last_activity_date": 1488881105, "creation_date": 1488881105, "answer_id": 42645287, "question_id": 42644597, "link": "https://stackoverflow.com/questions/42644597/how-to-return-data-to-ajaxerror-in-perl/42645287#42645287", "title": "How to return data to ajaxError in Perl", "body": "<p>The error state is determined by the <a href=\"https://en.wikipedia.org/wiki/List_of_HTTP_status_codes\" rel=\"nofollow noreferrer\">HTTP status code</a>.</p>\n\n<p>By default CGI will output a <code>200 OK</code> response. Errors are codes in the range 4xx and 5xx.</p>\n\n<p>The <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#Creating-a-standard-http-header\" rel=\"nofollow noreferrer\">CGI POD has an example of sending an error code</a>:</p>\n\n<pre><code>print $cgi-&gt;header(\n    -type       =&gt; 'image/gif',\n    -nph        =&gt; 1,\n    -status     =&gt; '402 Payment required',\n    -expires    =&gt; '+3d',\n    -cookie     =&gt; $cookie,\n    -charset    =&gt; 'utf-8',\n    -attachment =&gt; 'foo.gif',\n    -Cost       =&gt; '$2.00'\n);\n</code></pre>\n\n<p>The only significant hash key there is the <code>-status</code>, which you should set to an appropriate error code for your error.</p>\n"}], "owner": {"reputation": 21, "user_id": 7671361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4FwoQfNJLQ4/AAAAAAAAAAI/AAAAAAAAAEQ/W8ilwF1zEQE/photo.jpg?sz=128", "display_name": "sydnej", "link": "https://stackoverflow.com/users/7671361/sydnej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488881121, "creation_date": 1488879176, "last_edit_date": 1488881121, "question_id": 42644597, "link": "https://stackoverflow.com/questions/42644597/how-to-return-data-to-ajaxerror-in-perl", "title": "How to return data to ajaxError in Perl", "body": "<p>In JavaScript I capture errors in this way:</p>\n\n<pre><code>$(document).ajaxError(function(event, jqxhr, settings, thrownError) {\n    handleError(MSG_SAVE_ERROR);\n});\n</code></pre>\n\n<p>How do I return my message from Perl code if I have server error? \nI use <code>$SIG{__DIE__}</code> to intercept exceptions.</p>\n\n<p>I tried this:</p>\n\n<pre><code>$SIG{__DIE__} = sub {\n    my ($error) = @_;\n    my $q=new CGI;\n\n    print $q-&gt;header(-type=&gt;\"text/plain\", -Access_Control_Allow_Origin=&gt;\"*\").\"My error: \".$error;\n}\n</code></pre>\n\n<p>but it does not work, <code>error</code> and <code>fail</code> in <strong>jqxhr</strong> is empty. </p>\n"}, {"tags": ["perl", "multidimensional-array", "max"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1488877755, "post_id": 42644082, "comment_id": 72415273, "body": "I think we need some sample input data and desired output to be able to tell you. This looks .... messy."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1488879585, "creation_date": 1488879585, "answer_id": 42644751, "question_id": 42644082, "link": "https://stackoverflow.com/questions/42644082/perl-finding-maximum-then-divide-by-the-max-value-by-comparing-value-vs-by-arr/42644751#42644751", "title": "Perl: Finding maximum then divide by the max value, by comparing value vs by array position", "body": "<p>The problem with your original code is that, part way through modifying the array, the value of <code>$i</code> will be equal to <code>$max1</code>. That means the statememt</p>\n\n<pre><code>$data[$i][1] = $data[$i][1] / $data[$max1][1] * 10000\n</code></pre>\n\n<p>will be equivalent to</p>\n\n<pre><code>$data[$max1][1] = $data[$max1][1] / $data[$max1][1] * 10000\n</code></pre>\n\n<p>which sets <code>$data[$i][1]</code> to 10,000. Thereafter, you are doing</p>\n\n<pre><code> $data[$i][1] = $data[$i][1] / 10000 * 10000\n</code></pre>\n\n<p>which leaves the values unchanged</p>\n\n<p>The solution, if you need one, is to extract the maximum value into a separate variable before the loop to keep it safe from modification</p>\n\n<pre><code>my $maxval =  $data[$i][1]\n</code></pre>\n\n<p>and change the assignment to</p>\n\n<pre><code> $data[$i][1] = $data[$i][1] / $maxval * 10000\n</code></pre>\n\n<p>Your second attempt works correctly because it does exactly this, keeping the factor safe in <code>$max1</code></p>\n"}], "owner": {"reputation": 219, "user_id": 5179776, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3b67ce56655c6fd60e9e22f36f5df01f?s=128&d=identicon&r=PG&f=1", "display_name": "Nissa", "link": "https://stackoverflow.com/users/5179776/nissa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 42644751, "answer_count": 1, "score": 0, "last_activity_date": 1488879585, "creation_date": 1488877434, "question_id": 42644082, "link": "https://stackoverflow.com/questions/42644082/perl-finding-maximum-then-divide-by-the-max-value-by-comparing-value-vs-by-arr", "title": "Perl: Finding maximum then divide by the max value, by comparing value vs by array position", "body": "<p>I want to normalize my data. I wrote this code:</p>\n\n<pre><code>my $max1=0;\nfor (my $i=0; $i&lt;=$#data; $i++) {\n  if ($data[$i][1]&gt;$data[$max1][1]) {$max1=$i;}\n  #Disabled# if ($data[$i][1]&gt;$max1) {$max1=$data[$i][1];}\n}\n\nfor (my $i=0; $i&lt;=$#data; $i++) {\n  print \"$i\\t$data[$i][0]\\t$data[$i][1]\\t$max1\\t\";\n  $data[$i][1] = $data[$i][1] / $data[$max1][1] * 10000;\n  #Disabled# $data[$i][1] = $data[$i][1] / $max1 * 10000;\n  print \"$data[$i][0]\\t$data[$i][1]\\t$max1\\n\";\n}\n</code></pre>\n\n<p>However this produced an error: All values up to the max position are divided by the max value, while values after the max position are unchanged, as if \" / $data[$max1][1] * 10000 \" never occured. </p>\n\n<p>But, if I change the comparison using value rather than by array position, I got the correct results:</p>\n\n<pre><code>my $max1=0;\nfor (my $i=0; $i&lt;=$#data; $i++) {\n  #Disabled# if ($data[$i][1]&gt;$data[$max1][1]) {$max1=$i;}\n  if ($data[$i][1]&gt;$max1) {$max1=$data[$i][1];}\n}\n\nfor (my $i=0; $i&lt;=$#data; $i++) {\n  print \"$i\\t$data[$i][0]\\t$data[$i][1]\\t$max1\\t\";\n  #Disabled# $data[$i][1] = $data[$i][1] / $data[$max1][1] * 10000;\n  $data[$i][1] = $data[$i][1] / $max1 * 10000;\n  print \"$data[$i][0]\\t$data[$i][1]\\t$max1\\n\";\n}\n</code></pre>\n\n<p>What did I do wrong with the first bit of code?</p>\n"}, {"tags": ["perl", "locale"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488879196, "post_id": 42644432, "comment_id": 72416092, "body": "Thanks, but why can&#39;t I use the <code>locale</code> pragma as in my question to do this?"}, {"owner": {"reputation": 26, "user_id": 7666522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0af3c06552406b852870fc1a872b5df6?s=128&d=identicon&r=PG&f=1", "display_name": "David Krupicka", "link": "https://stackoverflow.com/users/7666522/david-krupicka"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488881011, "post_id": 42644432, "comment_id": 72417190, "body": "It&#39;s in the documentation. You are not calling <code>setlocale</code> function.  From doc (shortened), at least one of the following has to be true: 1. The locale has to be correctly set at the time when application starts either by yourself or whomever set up your system account; or 2. The application must set its own locale using the setlocale() method."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488881166, "post_id": 42644432, "comment_id": 72417300, "body": "Maybe, but I am still a little bit confused. It works with <code>p.pl</code> (and I am not calling <code>setlocale()</code> in <code>p.pl</code>)."}, {"owner": {"reputation": 26, "user_id": 7666522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0af3c06552406b852870fc1a872b5df6?s=128&d=identicon&r=PG&f=1", "display_name": "David Krupicka", "link": "https://stackoverflow.com/users/7666522/david-krupicka"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488881436, "post_id": 42644432, "comment_id": 72417469, "body": "Ah ok. By default, Perl ignores current locale settings. With <code>use locale</code> pragma, you are telling it to not ignore them."}, {"owner": {"reputation": 26, "user_id": 7666522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0af3c06552406b852870fc1a872b5df6?s=128&d=identicon&r=PG&f=1", "display_name": "David Krupicka", "link": "https://stackoverflow.com/users/7666522/david-krupicka"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488881676, "post_id": 42644432, "comment_id": 72417617, "body": "To be more precise... <code>LC_ALL=C p.pl</code> is like <code>export LC_ALL=C; p.pl</code>. You export LC_ALL before running the script (option 1. in my previous comment). With BEGIN section, the script is already running, so 1. is false and you have to use 2. - <code>setlocale</code>. Is it clearer now?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488882025, "post_id": 42644432, "comment_id": 72417840, "body": "Hmm.. <i>&quot;The locale has to be correctly set at the time when application starts&quot;</i> I would interpret that statements as &quot;before <code>use locale</code> is encountered within the script&quot;, so that is why I tried to put the setting in a <code>BEGIN {}</code> block in order to set it up correctly before the application started. But somehow, things seems to be determined even before <code>use locale</code> is parsed by Perl :)"}, {"owner": {"reputation": 26, "user_id": 7666522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0af3c06552406b852870fc1a872b5df6?s=128&d=identicon&r=PG&f=1", "display_name": "David Krupicka", "link": "https://stackoverflow.com/users/7666522/david-krupicka"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488882368, "post_id": 42644432, "comment_id": 72418041, "body": "BEGIN {} block is not executed before the start, but at the very beginning; the script is already started when processing BEGIN block."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488885928, "post_id": 42644432, "comment_id": 72420377, "body": "Hi David. I got more details about the issue from this question: <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=130946\" rel=\"nofollow noreferrer\">rt.perl.org/Public/Bug/Display.html?id=130946</a>. Feel free to add details to your answer."}], "tags": [], "owner": {"reputation": 26, "user_id": 7666522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0af3c06552406b852870fc1a872b5df6?s=128&d=identicon&r=PG&f=1", "display_name": "David Krupicka", "link": "https://stackoverflow.com/users/7666522/david-krupicka"}, "is_accepted": true, "score": 1, "last_activity_date": 1488975986, "last_edit_date": 1488975986, "creation_date": 1488878619, "answer_id": 42644432, "question_id": 42643661, "link": "https://stackoverflow.com/questions/42643661/set-locale-using-locale-pragma/42644432#42644432", "title": "Set locale using locale pragma", "body": "<p>Using locale module, you can change locale with <code>setlocale</code> function. But be aware that it's exported by default and can affect other programs. Don't use this with threads.\nFor sorting, it's maybe better to use LC_COLLATE, LC_ALL affects all locale settings, which is maybe not desired here.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nuse POSIX qw(locale_h);\nuse locale;\nmy $old_locale = setlocale(LC_COLLATE);\n\nmy @data = qw( A a B b C c );\nprint join ', ', sort @data;\nprint \"\\n\";\n\n# change current locale\nsetlocale(LC_COLLATE, \"C\");\nprint join ', ', sort @data;\nprint \"\\n\";\n\n# reset back to default\nsetlocale(LC_COLLATE, \"\");\n</code></pre>\n\n<p>For more information, refer to <a href=\"http://perldoc.perl.org/perllocale.html#The-setlocale-function\" rel=\"nofollow noreferrer\">setlocale documentation</a>.</p>\n\n<p>Further explanation (<a href=\"https://rt.perl.org/Public/Bug/Display.html?id=130946\" rel=\"nofollow noreferrer\">source</a>):</p>\n\n<p>Because the locale pragma isn't a runtime action, as setlocale() is.\nThe pragma is a lexically-scoped declaration.  The effect of the pragma\nis that, where there are locale-using and locale-ignoring variants of an\noperation, the locale-using variant will be used.  The string comparison\nthat sort uses by default is such an operation.</p>\n\n<p>Where a locale-using operation is invoked, its behaviour is influenced by\nthe current locale.  That's not a lexically-determined static attribute\nof the operation, but a runtime global variable.  This is libc's model\nof locale, which Perl is exposing.  The locale is initialised very early\nin execution, in the manner recommended by the environment variables.\nThe libc model is that later changes in the environment variables do\nnot automatically change one's locale.  The current locale can be set\nunder program control, to match new environment settings or in a manner\nunrelated to the environment, but it never changes without the program's\nrequest.  So you setting the environment variable during program execution\n(even in a BEGIN block) doesn't change the current locale.</p>\n\n<p>So you need to do both things to get the locale effect you're looking\nfor: lexical declaration that you want to use locale-specific sorting,\nand runtime action to select the locale that you want.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 0, "accepted_answer_id": 42644432, "answer_count": 1, "score": 2, "last_activity_date": 1488975986, "creation_date": 1488875937, "question_id": 42643661, "link": "https://stackoverflow.com/questions/42643661/set-locale-using-locale-pragma", "title": "Set locale using locale pragma", "body": "<p>I am trying to override the default locale settings from within a Perl script. First I tried to do the override from Bash shell command line:</p>\n\n<p><strong>p.pl</strong></p>\n\n<pre><code>#! /usr/bin/env perl\nuse feature qw(say);\nuse strict;\nuse warnings;\nmy @data = qw( A a B b C c );\n{\n    use locale;\n    say join ', ', sort @data;\n}\n</code></pre>\n\n<p>When running this script I can override the current locale from the command line by setting the variable <code>LC_ALL</code>:</p>\n\n<pre><code>$ LC_ALL=C p.pl\nA, B, C, a, b, c\n$ LC_ALL=en_US.UTF-8 p.pl\na, A, b, B, c, C\n</code></pre>\n\n<p>However, if I override from within the Perl script it does not work:</p>\n\n<p><strong>p2.pl</strong>:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\nBEGIN {\n    $ENV{LC_ALL} = \"C\";\n}\nmy @data = qw( A a B b C c );\n{\n    use locale;\n    say join ', ', sort @data;\n}\n</code></pre>\n\n<p>When I run <code>p2.pl</code> it does not give me the <code>LC_ALL=C</code> sort order:</p>\n\n<pre><code>$ LC_ALL=en_US.UTF-8 p2.pl\na, A, b, B, c, C\n</code></pre>\n\n<p>it still gives me <code>en_US.UTF-8</code> sort order. I thought that setting <code>$ENV{LC_ALL}=\"C\"</code> should be enough to override the command line ( outside environment settings ). What is happening here?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1488877668, "creation_date": 1488877668, "answer_id": 42644132, "question_id": 42643347, "link": "https://stackoverflow.com/questions/42643347/need-to-update-database-after-exit-statement-in-subroutine/42644132#42644132", "title": "Need to update database after exit statement in subroutine", "body": "<p>Your code is a mess, and you should really not do that <code>exit</code> there. If you do <code>exec</code> the other program (<code>$script</code>) will never return. It just gets started and your program forgets about it. So how can you know that it's <em>Completed</em>?</p>\n\n<p>I'd get rid of the <code>exit</code>, rename <code>goToScript</code> to <code>startScript</code> and then do your change after the call to that function.</p>\n\n<p>If you really insist on doing it the way you have it now, you can use an <code>END</code> block. That will get called when the program ends, during cleanup. That way, you can update your status. You don't say what you need for it, but I guess you want to call <code>UpdateProcess</code>.</p>\n\n<pre><code>elsif (defined $pid) { #for child process\n    # ...\n\n    END {\n        UpdateProcess(\n            { STATUS=&gt;'Completed',START_TS=&gt;'CURRENT_TIMESTAMP' },\n            { id=&gt;$hProc-&gt;{ID} }\n        );\n    }\n    goToScript(\"perl $cmdStr &gt;/dev/null 2&gt;&gt;$err_to_file_ecm\");\n}\n</code></pre>\n\n<p>You need to define the <code>END</code> block in the middle of the code because you need to use the lexically scoped <code>$hProc</code> to be available as it holds your  id.</p>\n\n<p>See <a href=\"http://perldoc.perl.org/perlmod.html#BEGIN%2C-UNITCHECK%2C-CHECK%2C-INIT-and-END\" rel=\"nofollow noreferrer\">perlmod</a> for more details on <code>END</code>.</p>\n"}], "owner": {"reputation": 86, "user_id": 6330057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1185636201448528/picture?type=large", "display_name": "Dipit Sethi", "link": "https://stackoverflow.com/users/6330057/dipit-sethi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 42644132, "answer_count": 1, "score": -3, "last_activity_date": 1488877908, "creation_date": 1488874711, "last_edit_date": 1488877908, "question_id": 42643347, "link": "https://stackoverflow.com/questions/42643347/need-to-update-database-after-exit-statement-in-subroutine", "title": "Need to update database after exit statement in subroutine", "body": "<pre><code>sub Processing {    \n.\n.\n.\n.\nforeach my $hProc (@{ $hRes-&gt;{'List'} }) {\n.\n.\nelsif($hProc-&gt;{BATCH_TYPE} =~ /^(abc)$/i) {\n            # All is Ok. Need to launch new process.\n            if ($pid = fork) { #for parent process\n                sleep 1; #wait for child process\n                $oLogger-&gt;info(\"process launched.\");\n                $hActions-&gt;{xyz}--;\n                AddAction ($id_auth,'Success. Batch process','',undef,undef,$hProc-&gt;{SESSION},\"$hProc-&gt;{BATCH_TYPE} Launched successfully\",undef);\n                next\n            } elsif (defined $pid) { #for child process\n\n                if($hProc-&gt;{STATUS} eq 'Not started') {\n                my $temp = UpdateProcess( { STATUS=&gt;'In Processing',START_TS=&gt;'CURRENT_TIMESTAMP' }, { id=&gt;$hProc-&gt;{ID} } );\n                next unless $temp;\n                }\n                $cmdStr = join ' ', $scriptName, $Parameters, $Output, '-archiver=gzip';\n                $cmdStr .= \"; chown $Owner\" if $Owner;\n                $cmdStr .= \"; chmod $Permissions\" if $Permissions;\n\n                goToScript(\"perl $cmdStr &gt;/dev/null 2&gt;&gt;$err_to_file_ecm\");\n\n            } else {\n                $oLogger-&gt;error(\"!process launch FAILED. FORK could not create child process\");\n        } \n    }\n\n\nsub goToScript {\nmy ($script) = @_;\nprint \"$script\\n\" if $trace;\nexec($script);\nexit;\n</code></pre>\n\n<p>Hi All, I want to update status for my db from 'In Processing' to 'Completed' as described above. But the problem is after control going to sub goToScript(), it won't execute any statement afterwards because of 'exit' statement. So, how can i update my db status as 'Completed'? </p>\n"}, {"tags": ["windows", "perl", "escaping"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1488870131, "post_id": 42639609, "comment_id": 72411380, "body": "Look into this <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow noreferrer\">quotemeta</a>, May be this could solve your problem!"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1488870175, "post_id": 42639609, "comment_id": 72411394, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2156731/how-do-i-escape-special-chars-in-a-string-i-interpolate-into-a-perl-regex\">How do I escape special chars in a string I interpolate into a Perl regex?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3716, "user_id": 331059, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcddae70351aff62451086cd399801f9?s=128&d=identicon&r=PG", "display_name": "Bwmat", "link": "https://stackoverflow.com/users/331059/bwmat"}, "is_accepted": true, "score": 1, "last_activity_date": 1488911388, "creation_date": 1488911388, "answer_id": 42655665, "question_id": 42639609, "link": "https://stackoverflow.com/questions/42639609/escaping-double-quotes-in-the-windows-command-prompt/42655665#42655665", "title": "Escaping double-quotes in the windows command prompt", "body": "<p>I worked around the problem by using octal escapes for literal doublequotes</p>\n\n<pre><code>perl -pi.bak -e \"s#\\t\\$\\(CP\\) \\042\\$\\(O_([^)]+)\\)\\042 \\042\\$\\(INSTALLTOP\\)\\\\bin\\042#$&amp;\\n\\t\\$(CP) \\042\\$(LIB_D)\\\\\\$($1).pdb\\042 \\042\\$(INSTALLTOP)\\\\bin\\042#g\" ntdll.mak\n</code></pre>\n"}], "owner": {"reputation": 3716, "user_id": 331059, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcddae70351aff62451086cd399801f9?s=128&d=identicon&r=PG", "display_name": "Bwmat", "link": "https://stackoverflow.com/users/331059/bwmat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 42655665, "answer_count": 1, "score": 0, "last_activity_date": 1488911388, "creation_date": 1488857004, "question_id": 42639609, "link": "https://stackoverflow.com/questions/42639609/escaping-double-quotes-in-the-windows-command-prompt", "title": "Escaping double-quotes in the windows command prompt", "body": "<p>I have a file with the following contents</p>\n\n<pre><code>$(CP) \"$(O_SSL)\" \"$(INSTALLTOP)\\bin\"\n$(CP) \"$(O_CRYPTO)\" \"$(INSTALLTOP)\\bin\"\n</code></pre>\n\n<p>I want to add the following lines (order doesn't matter)</p>\n\n<pre><code>$(CP) \"$(SSL).pdb\" \"$(INSTALLTOP)\\bin\"\n$(CP) \"$(CRYPTO).pdb\" \"$(INSTALLTOP)\\bin\"\n</code></pre>\n\n<p>So, using perl, I created the following command (which must be run from the command prompt):</p>\n\n<pre><code>perl -pi.bak -e 's#\\t\\$\\(CP\\) \"\\$\\(O_([^)]+)\\)\" \"\\$\\(INSTALLTOP\\)\\\\bin\"#$&amp;\\n\\t\\$(CP) \"\\$($1).pdb\" \"\\$(INSTALLTOP)\\\\bin#g' ntdll.mak\n</code></pre>\n\n<p>But I just get the following error</p>\n\n<pre><code>Can't find string terminator \"'\" anywhere before EOF at -e line 1.\nThe system cannot find the path specified.\n</code></pre>\n\n<p>I tried replacing the single quotes with double quotes (and doubling all internal doublequotes) as so</p>\n\n<pre><code>perl -pi.bak -e \"s#\\t\\$\\(CP\\) \"\"\\$\\(O_([^)]+)\\)\"\" \"\"\\$\\(INSTALLTOP\\)\\\\bin\"\"#$&amp;\\n\\t\\$(CP) \"\"\\$($1).pdb\"\" \"\"\\$(INSTALLTOP)\\\\bin\"\"#g\" ntdll.mak\n</code></pre>\n\n<p>but I just get the following error instead</p>\n\n<pre><code>Substitution pattern not terminated at -e line 1.\n</code></pre>\n\n<p>How should I do this? (... I don't want to create a separate script file, but I'll do it if there's no other (reasonable) way)</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1488848819, "last_edit_date": 1488848819, "creation_date": 1488847662, "answer_id": 42638255, "question_id": 42637899, "link": "https://stackoverflow.com/questions/42637899/perl-regex-to-capture-with-a-optional-delimiter/42638255#42638255", "title": "Perl regex to capture with a optional delimiter", "body": "<p>You could try it this way <code>\\{\\{[^|}]*(?:\\|[^|}]*)*\\}\\}</code><br>\nbut won't get captures.  </p>\n\n<p>Explained  </p>\n\n<pre><code> \\{\\{         # Open {{\n [^|}]*       # Optional, not | or }\n (?:          # Group start\n      \\|           # |\n      [^|}]*       # Optional not | or }\n )*           # Group end, optional 0 to many times\n \\}\\}         # Close }}\n</code></pre>\n\n<p>Or, use the <code>\\G</code> anchor and get the results in group 1  </p>\n\n<p><code>(?:\\G(?!\\A)|\\{\\{)([^|}]*)(?=(?:\\|[^|}]*)*\\}\\})(?:\\||\\}\\})</code></p>\n\n<pre><code> (?:\n      \\G \n      (?! \\A )\n   |  \n      \\{\\{                    # Open {{\n )\n\n ( [^|}]* )              # (1), Data\n\n (?=                     # Assert this is valid\n      (?:\n           \\|                      # |\n           [^|}]*                  # Optional not | or }\n      )*                      # Group end, optional 0 to many times\n      \\}\\}                    # Close }}\n )                       # End Assert\n\n (?:\n      \\|                      # Consume |\n   |                        # or\n      \\}\\}                    # Consume Close }}\n )\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1488904926, "post_id": 42642315, "comment_id": 72433256, "body": "For this, you only need to escape the pipe outside classes. Your regex will match &quot;<code>{{tl|a|b{{tl|a|b|c|d}}</code>|c|d}}&quot; right now. If you say <i>oh, this will never be in a form like that</i> then you can drop trying to validate the overall form and just get what you need. <code>tl\\|([^|{}]+)\\|([^|{}]+)</code> Otherwise, right now, your regex is not a valid form checker."}, {"owner": {"reputation": 529, "user_id": 4232862, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/K308B.jpg?s=128&g=1", "display_name": "ultradian", "link": "https://stackoverflow.com/users/4232862/ultradian"}, "edited": false, "score": 0, "creation_date": 1488918034, "post_id": 42642315, "comment_id": 72440986, "body": "@sln I think I should have been more specific.  Although forms like you describe with templates inside of templates are common for something like an <code>Infobox</code>, I was actually working on doing a substitute for a  <code>convert</code> template where I wanted the whole expression between <code>{{ }}</code> to be replaced by <code>a b</code>.  I am still learning SO. Should I rewrite the question to reflect this?  Also, you clearly know more about regex than I do.  Is there a better way to accomplish this? (or do I need to clarify the question first?)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1488919132, "post_id": 42642315, "comment_id": 72441613, "body": "It&#39;s up to you how you ask the question that you know more about the subject on. The more specific, the more specific answers you&#39;ll get. I sometimes will make comments on obvious pitfalls as a helping gesture."}], "tags": [], "owner": {"reputation": 529, "user_id": 4232862, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/K308B.jpg?s=128&g=1", "display_name": "ultradian", "link": "https://stackoverflow.com/users/4232862/ultradian"}, "is_accepted": false, "score": 0, "last_activity_date": 1488871071, "last_edit_date": 1488871071, "creation_date": 1488870696, "answer_id": 42642315, "question_id": 42637899, "link": "https://stackoverflow.com/questions/42637899/perl-regex-to-capture-with-a-optional-delimiter/42642315#42642315", "title": "Perl regex to capture with a optional delimiter", "body": "<p>Ok, I figured it out.  The answer comes from using the <code>(?:pattern)</code> for \"clustering, not capturing\" a group. (from the <a href=\"http://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">perldoc</a>).  Using this allows you to create groups that we can check for without capturing - in this case a choice between <code>}}</code> or <code>|c|d}}</code>. So, as a regex the answer is:</p>\n\n<p><code>/\\{\\{tl\\|([^\\|]+?)\\|(.+?)(?:\\}\\}|\\|[^\\}]+?\\}\\})/</code></p>\n\n<p>The first part is similar to what I had before with <code>/\\{\\{tl\\|</code> identifying the first part of the template and <code>([^\\|]+?)\\|</code> identifying the first capture and to stop with <code>|</code>.  The next part sets up the second capture <code>(.+?)</code> which is delimited by the choice of either <code>\\}\\}</code> OR <code>\\|[^\\}]+?\\}\\}</code> from inside the <code>(?:  )</code> construct.</p>\n\n<p>Hope this helps someone else!</p>\n"}], "owner": {"reputation": 529, "user_id": 4232862, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/K308B.jpg?s=128&g=1", "display_name": "ultradian", "link": "https://stackoverflow.com/users/4232862/ultradian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1488871071, "creation_date": 1488845373, "question_id": 42637899, "link": "https://stackoverflow.com/questions/42637899/perl-regex-to-capture-with-a-optional-delimiter", "title": "Perl regex to capture with a optional delimiter", "body": "<p>I am trying to filter a Wikipedia dump using perl regex on the template pattern:</p>\n\n<pre><code>{{tl|a|b|c}}\n</code></pre>\n\n<p>I want to capture <code>a</code> and <code>b</code> where <code>a</code>, <code>b</code>, <code>c</code>, and so on can be any set of UTF-8 characters that does not include <code>|</code> or <code>}</code>.  There may be an unknown number of sets before the final '<code>}}</code>', but there will always be at least two (<code>a</code> and <code>b</code>).  So you could also get: </p>\n\n<p><code>{{tl|a|b}}</code></p>\n\n<p>or <code>{{tl|a|b|c|d}}</code></p>\n\n<p>Being a regex novice, I first thought trying <code>/\\{\\{tl\\|(.+?)\\|(.+?)\\|?\\}\\}/</code> </p>\n\n<p>This gives the correct full match and first capture, but fails with the second capture, returning <code>b|c|d</code> because it won't find <code>|}</code>.  I need to tell it to look for something in between <code>|</code> and <code>}</code>, but only when it finds <code>|</code>.  It seems there should be a simple way with solve this, but I'm getting stuck.</p>\n"}, {"tags": ["perl", "gd", "gd-graph"], "comments": [{"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 2, "creation_date": 1488844318, "post_id": 42637608, "comment_id": 72403137, "body": "What happens if you try to load the module using <code>perl -MGD::Graph::pie -e1</code>?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1488845544, "post_id": 42637608, "comment_id": 72403505, "body": "Please don&#39;t post screenshots of text. Screenshots are inaccessible to people with visual impairment, can&#39;t be searched, and force people to re-type the text by hand when they want to run the code on their own systems or google for error messages."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1488846019, "post_id": 42637608, "comment_id": 72403629, "body": "The script has <code>&#47;usr&#47;bin&#47;perl</code> in the shebang. Do you have another perl installed? If not, it sounds like GD::Graph::pie was installed somewhere outside of the system perl directories. What does <code>cpan -D GD::Graph::pie</code> show?"}, {"owner": {"reputation": 79, "user_id": 6099753, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e9bef52384c0763c83725eb40792f0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Smith", "link": "https://stackoverflow.com/users/6099753/bill-smith"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488851631, "post_id": 42637608, "comment_id": 72405168, "body": "@ThisSuitIsBlackNot Thanks for the edit and pointing that out. I hadn&#39;t thought about all of that. To your output from cpan, I&#39;ve made the edit above."}, {"owner": {"reputation": 79, "user_id": 6099753, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e9bef52384c0763c83725eb40792f0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Smith", "link": "https://stackoverflow.com/users/6099753/bill-smith"}, "reply_to_user": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1488851634, "post_id": 42637608, "comment_id": 72405170, "body": "@duskwuff There was no output from that command."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1488852107, "post_id": 42637608, "comment_id": 72405293, "body": "You can get why the <code>eval</code> failed with <code>$@</code>, it&#39;s like <code>$!</code> for <code>eval</code>. Also there&#39;s no need to use string eval, <code>eval { require GD::Graph::pie; GD::Graph::pie-&gt;import }</code> works. Though a constant string is safe, it&#39;s bad to get into the habit of using string eval when you don&#39;t need to."}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 1, "last_activity_date": 1488896368, "creation_date": 1488896368, "answer_id": 42650659, "question_id": 42637608, "link": "https://stackoverflow.com/questions/42637608/why-does-use-gdgraphpie-fail-even-though-cpan-says-that-gdgraphpie-is/42650659#42650659", "title": "Why does `use GD::Graph::pie;` fail even though CPAN says that GD::Graph::pie is installed and up to date?", "body": "<p>The script is using the system perl, but you installed GD::Graph::pie for a perlbrew installation. If you want the script to use your perlbrew perl, change the shebang from</p>\n\n<pre><code>#! /usr/bin/perl -T -w\n</code></pre>\n\n<p>to</p>\n\n<pre><code>#! /root/perl5/perlbrew/perls/perl-5.20.1/bin/perl -T -w\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 6099753, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e9bef52384c0763c83725eb40792f0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Smith", "link": "https://stackoverflow.com/users/6099753/bill-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 42650659, "answer_count": 1, "score": 1, "last_activity_date": 1488896368, "creation_date": 1488843431, "last_edit_date": 1488852441, "question_id": 42637608, "link": "https://stackoverflow.com/questions/42637608/why-does-use-gdgraphpie-fail-even-though-cpan-says-that-gdgraphpie-is", "title": "Why does `use GD::Graph::pie;` fail even though CPAN says that GD::Graph::pie is installed and up to date?", "body": "<p>I'm trying to run a script called <a href=\"https://github.com/DataSoft/Honeyd/blob/master/scripts/misc/honeydsum-v0.3/honeydsum.pl\" rel=\"nofollow noreferrer\">honeydsum.pl</a>. It is failing a test and insisting I do not have GD::Graph::pie installed. The test that fails is:</p>\n\n<pre><code>unless (eval \"use GD::Graph::pie; 1\") {\n   die \"$program_name: please install GD::Graph::pie.\";\n}\n</code></pre>\n\n<p>Thus it gives the output:</p>\n\n<blockquote>\n  <p>honeydsum.pl: please install GD::Graph::pie. at ./honeydsum.pl line 65</p>\n</blockquote>\n\n<p>Where I am confused is that when I check on CPAN it says GD::Graph::pie is up to date:</p>\n\n<pre><code>cpan[5]&gt; install GD::Graph::pie\nGD::Graph::pie is up to date (1.21).\n</code></pre>\n\n<p>I'm not a Perl expert, but is there a reason it would fail the test even if the module is installed?</p>\n\n<p>Output from cpan -D:</p>\n\n<pre><code>~# cpan -D GD::Graph::pie\nReading '/root/.cpan/Metadata'\n  Database was generated on Mon, 06 Mar 2017 21:17:02 GMT\nGD::Graph::pie\n-------------------------------------------------------------------------\n    (no description)\n    R/RU/RUZ/GDGraph-1.54.tar.gz\n    /root/perl5/perlbrew/perls/perl-5.20.1/lib/site_perl/5.20.1/GD/Graph/pie.pm\n    Installed: 1.21\n    CPAN:      1.21  up to date\n    Ruslan U. Zakirov (RUZ)\n    Ruslan.Zakirov@gmail.com\n</code></pre>\n\n<p>There was no output from </p>\n\n<pre><code>perl -MGD::Graph::pie -e1\n</code></pre>\n\n<p>In my /usr/share/  directory I have the following related to perl:</p>\n\n<ul>\n<li>perl/5.22</li>\n<li>perl/5.22.2</li>\n<li>perl5</li>\n</ul>\n\n<p>I'm not sure what a proper perl installation would have put in this directory.</p>\n"}, {"tags": ["perl", "loops", "fork", "parent-child"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 6951348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a5497c817ce67e393b9af6572e7876a?s=128&d=identicon&r=PG&f=1", "display_name": "The_Makings_Of_A_Coder", "link": "https://stackoverflow.com/users/6951348/the-makings-of-a-coder"}, "edited": false, "score": 0, "creation_date": 1488944306, "post_id": 42639033, "comment_id": 72450684, "body": "Incredible information.  Prior to reading this I had finished the program with assistance of the person teaching me- but unbelievable how much information and understanding I gained from your answer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 67, "user_id": 6951348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a5497c817ce67e393b9af6572e7876a?s=128&d=identicon&r=PG&f=1", "display_name": "The_Makings_Of_A_Coder", "link": "https://stackoverflow.com/users/6951348/the-makings-of-a-coder"}, "edited": false, "score": 0, "creation_date": 1488949292, "post_id": 42639033, "comment_id": 72452189, "body": "@The_Makings_Of_A_Coder Thank you for the kind words, glad it helps :).  Make sure to work through the docs, to carefully assemble good knowledge. This is complex, and a bit tricky. Good luck and have fun :)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1501615552, "last_edit_date": 1501615552, "creation_date": 1488853406, "answer_id": 42639033, "question_id": 42637520, "link": "https://stackoverflow.com/questions/42637520/inquiry-loops-in-relation-to-parent-child-fork-pids/42639033#42639033", "title": "Inquiry: Loops in Relation to Parent - Child - Fork - Pids", "body": "<p>The main problem here is with closing the pipe ends. The direct error is about <code>WRITEPIPE</code>. </p>\n\n<p>All pipes' ends <em>must be closed in all processes</em> that see them. Otherwise something may be left waiting on a pipe which the other end forgot about. From <a href=\"http://perldoc.perl.org/perlipc.html#Avoiding-Pipe-Deadlocks\" rel=\"nofollow noreferrer\">Avoiding pipe deadlocks in perlipc</a></p>\n\n<blockquote>\n  <p>Whenever you have more than one subprocess, you must be careful that each closes whichever half of any pipes created for interprocess communication it is not using. This is because any child process reading from the pipe and expecting an EOF will never receive it, and therefore never exit. A single process closing a pipe is not enough to close it; the last process with the pipe open must close it for it to read EOF.</p>\n</blockquote>\n\n<p>In this case the child closes <code>WRITEPIPE</code> only <em>after</em> it reads (what <em>parent</em> writes), so the parent doesn't have the EOF on its <code>WRITEPIPE</code> when needed and thus never quits it.  You need <code>Ctrl+C</code> to stop. Simply moving <code>close WRITEPIPE</code> before <code>child(...)</code> gets the program to work as intended.</p>\n\n<p>It is also striking that the child never closes <code>READPIPE</code> (and never exits).</p>\n\n<p>There are other issues, some of stylistic nature, and a few compilation errors. Here is a working program, with as little change as feasible, with same names and simplified prints</p>\n\n<pre><code>use warnings;\nuse strict;\n#use IO::Handle;  # need this on pre-v5.14 (?) versions for autoflush\n\npipe (my $readpipe, my $writepipe);\n\n$writepipe-&gt;autoflush(1);\nSTDOUT-&gt;autoflush(1);\n\nmy $parentpid = $$; \nmy $childpid = fork() // die \"Fork failed $!\\n\";\n\n# This is the child\nif ($childpid == 0) {\n    close $writepipe;  # child reads\n    child ($parentpid);\n    close $readpipe;\n    exit;\n}\n# This is the parent\nclose $readpipe;       # parent writes\nparent ($childpid);\nclose $writepipe;\nwaitpid $childpid, 0; \nprint \"Parent: child $childpid exited, parent $parentpid done.\\n\";\n\nsub parent { \n    while (1) {\n        my $input = &lt;STDIN&gt;;\n        if ($input eq \"\\n\") { print \"Undef- CRTL+C = Quit\\n\", last; }\n        else {\n            print \"ParentSub: parent $parentpid got the message: \", $input;\n            print $writepipe \"$input\";\n            print \"ParentSub: parent pid is $parentpid\\n\";\n            print \"ParentSub: child pid is  $childpid\\n\";        \n        }   \n    }   \n}\n\nsub child {\n    while (my $line = &lt;$readpipe&gt;) {\n        print \"ChildSub: child pid is $childpid\\n\";\n        print \"ChildSub: got from the pipe: $line\";\n    }   \n}\n</code></pre>\n\n<p>Prints</p>\n\n<pre>\nhello  [Entered at STDIN]\nParentSub: parent 22756 got the message: hello\nParentSub: parent pid is 22756\nParentSub: child pid is  22757\nChildSub: child pid is 0\nChildSub: got from the pipe: hello\n\nParent: child 22757 exited, parent 22756 done.  [After Enter at STDIN]\n</pre>\n\n<p>Note: the message in <code>if ($input eq \"\\n\")</code> is only good for the next run, since you also have <code>last</code> there, to quit <code>STDIN</code> on emtpy line. Usage messages belong on top, when the show starts.</p>\n\n<p>I've simplified prints to be more readable.  Copy yours back if you don't like these.</p>\n\n<p>Comments</p>\n\n<ul>\n<li><p>Aways <em>first</em> close the unneeded end of pipe in each process</p></li>\n<li><p>Use lexical filehandles, they are better (<code>my $reader</code> instead of <code>READER</code> etc)</p></li>\n<li><p>No need to test <code>defined</code> on child since you nicely used defined-or (<code>//</code>) at <code>fork</code></p></li>\n<li><p>The one needed test is normally for child, <code>if ($pid == 0)</code> </p></li>\n<li><p>The child normally <code>exit</code>s, so only the parent process remains after the child's block</p></li>\n<li><p>With any writes/reads between processes you want to handle <code>SIGPIPE</code>. See docs below</p></li>\n<li><p>You need to check exit status, errors, etc.  See docs below.</p></li>\n</ul>\n\n<p>Documentation: <a href=\"http://perldoc.perl.org/perlipc.html\" rel=\"nofollow noreferrer\">perlipc</a>, <a href=\"http://perldoc.perl.org/functions/fork.html\" rel=\"nofollow noreferrer\">fork</a> and <a href=\"http://perldoc.perl.org/functions/exec.html\" rel=\"nofollow noreferrer\">exec</a>, <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\">perlvar</a>  (on <code>$?</code>, <code>$!</code>, and <code>%SIG</code>), <a href=\"http://perldoc.perl.org/functions/pipe.html\" rel=\"nofollow noreferrer\">pipe</a> <em>and links</em>.</p>\n\n<p>It is compulsory to carefully go through many parts of <a href=\"http://perldoc.perl.org/perlipc.html\" rel=\"nofollow noreferrer\">perlipc</a> (along with other docs).</p>\n"}], "owner": {"reputation": 67, "user_id": 6951348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a5497c817ce67e393b9af6572e7876a?s=128&d=identicon&r=PG&f=1", "display_name": "The_Makings_Of_A_Coder", "link": "https://stackoverflow.com/users/6951348/the-makings-of-a-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 42639033, "answer_count": 1, "score": 2, "last_activity_date": 1594805356, "creation_date": 1488842949, "last_edit_date": 1594805356, "question_id": 42637520, "link": "https://stackoverflow.com/questions/42637520/inquiry-loops-in-relation-to-parent-child-fork-pids", "title": "Inquiry: Loops in Relation to Parent - Child - Fork - Pids", "body": "<p>I am attempting to learn the functionality of parents, children and pipes in perl. My goal is to create a single pipe (not bidirectional) that reads from the command line, and prints it through a pipe. Referencing the pids many many times.</p>\n\n<p>The code so far:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse warnings;\nuse strict;\n\n\npipe(READPIPE, WRITEPIPE);\nWRITEPIPE-&gt;autoflush(1);\nSTDOUT-&gt;autoflush(1);\n\nmy $parentpid = $$;\nmy $childpid = fork() // die \"Fork Failed $!\\n\";\n\n# This is the parent\nif ($childpid) {  \n    &amp;parent ($childpid);\n    close READPIPE;\n    close WRITEPIPE;\n    waitpid ($childpid,0);\n    print \"Parent: The child pid with a pid of: $childpid as stopped, and the parent with the pid: $parentpid has stopped.\\n\";\n    exit;\n}\n# This is the child\nelsif (defined $childpid) {\n    &amp;child ($parentpid);\n    close WRITEPIPE;\n\n}\n\nelse {}\n\nsub parent { \n    while(1){\n        my $input = &lt;STDIN&gt;;\n        if ($input eq \"\\n\"){print \"Undef- CRTL+C = Quit\\n\", last;}\n        else {\n            print \"ParentSub: The parent pid is: \",$parentpid, \" and the message being received is: \", $input;\n            print WRITEPIPE \"$input\";\n            print \"ParentSub: My parent pid is: $parentpid\\n\";\n            print \"ParentSub: My child pid is: $childpid\\n\";    \n             }\n        }\n}\n\nsub child {\n    while ($line = &lt;READPIPE&gt;){\n        print \"ChildSub: The child pid is: \" $childpid,\"\\n\";\n        print \"ChildSub: I got this line from the pipe: \",$line,\" and the child pid is \",$childpid,\"\\n\";\n                              }\n}\n</code></pre>\n\n<p>Current output is:</p>\n\n<pre><code>Hello World\nParentSub: The parent pid is: 2633 and the message being received is:  Hello World\nParentSub: My parent pid is: 2633\nParentSub: My child pid is: 2634\nChildSub: The child pid is: 0\nChildSub: I got this line from the pipe: Hello World\n, and the child pid is 0\n</code></pre>\n\n<p>I am running into a few issues that I don't quite understand.</p>\n\n<ol>\n<li><p>It does not exit the loop properly- it exits but continues on with no context (there a 4 blank lines after the bottom of the output from hitting the enter key (aka \"\\n\")- it doesn't proceed to the     <code>print \"parent: the child pid with ......exit;</code> </p></li>\n<li><p>When I add a line in before the <code>&lt;STDIN&gt;</code> ex. <code>print \"Enter something here: \"</code>\nit doesn't repeat that line as part of the loop- making readability not flush. </p></li>\n</ol>\n\n<p>Thanks for the information. </p>\n"}, {"tags": ["perl", "command-line"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1488834713, "last_edit_date": 1495539968, "creation_date": 1488834713, "answer_id": 42635646, "question_id": 42635606, "link": "https://stackoverflow.com/questions/42635606/how-to-search-replace-with-random-array-value-in-perl-from-command-line/42635646#42635646", "title": "How to search/replace with random array value in perl from command line", "body": "<p>You want to say <code>@numbers=(12.3, 45.6, 78.9)</code>, not <code>@numbers=[12.3, 45.6, 78.9]</code>. The latter creates an array with a reference to another array as its only element. The output you are currently seeing is the <a href=\"https://stackoverflow.com/questions/42284475/why-does-concatenating-arrays-in-perl-produce-numbers/42284581#42284581\">numification of a reference value</a>, not the contents of the array.</p>\n"}], "owner": {"reputation": 33, "user_id": 7668840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3e63151cc6279a53ab2e33fb47f4650?s=128&d=identicon&r=PG&f=1", "display_name": "Albert Jones", "link": "https://stackoverflow.com/users/7668840/albert-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 1, "accepted_answer_id": 42635646, "answer_count": 1, "score": 1, "last_activity_date": 1488834713, "creation_date": 1488834590, "question_id": 42635606, "link": "https://stackoverflow.com/questions/42635606/how-to-search-replace-with-random-array-value-in-perl-from-command-line", "title": "How to search/replace with random array value in perl from command line", "body": "<p>I'm trying to search/replace where the replacement has a random value from an array -- all from the command line in Perl. I can't figure out what's wrong here. I've tried a lot of variations of this, and read many examples online (which are all for non-command-line). </p>\n\n<pre><code> echo \"Test z|Test z|Test z|\" | tr '|' '\\n' | \\\n perl -pe '@numbers=[12.3, 45.6, 78.9]; $number = $numbers[rand @numbers];  s/z/\" : \".( int ($number) )/ge'\n</code></pre>\n\n<p>The actual output is something like this (the numbers change):</p>\n\n<pre><code>Test  : 24591392\nTest  : 24591752\nTest  : 24591416\n</code></pre>\n\n<p>The expected output is:</p>\n\n<pre><code>Test  : 45.6\nTest  : 12.3\nTest  : 78.9\n</code></pre>\n\n<p>Where the actual numbers are randomly selected. Any tips are welcome, including pointing out silly typos. Thanks! </p>\n"}, {"tags": ["perl", "ubuntu", "gdb", "buffer-overflow"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488831535, "post_id": 42634224, "comment_id": 72397224, "body": "What does <code>perl -e &#39;print (&quot;\\xfd\\x06\\x40\\x00&quot; x 2)&#39; | hexdump -C</code> gives you? I am getting <code>00000000  fd 06 40 00 fd 06 40 00</code> which looks ok"}, {"owner": {"reputation": 162619, "user_id": 50617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YFykQ.png?s=128&g=1", "display_name": "Employed Russian", "link": "https://stackoverflow.com/users/50617/employed-russian"}, "edited": false, "score": 0, "creation_date": 1488853457, "post_id": 42634224, "comment_id": 72405625, "body": "To answer your question, it is necessary to know what your program does with <code>argv[1]</code>."}, {"owner": {"reputation": 13, "user_id": 7006376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d868d3030cf4b8c02aefd9137662f60?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik Kapoor", "link": "https://stackoverflow.com/users/7006376/kartik-kapoor"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488879289, "post_id": 42634224, "comment_id": 72416150, "body": "@H&#229;konH&#230;gland that gives me correct output the problem occurs when I am trying to buffer overflow in gdb."}, {"owner": {"reputation": 13, "user_id": 7006376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d868d3030cf4b8c02aefd9137662f60?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik Kapoor", "link": "https://stackoverflow.com/users/7006376/kartik-kapoor"}, "reply_to_user": {"reputation": 162619, "user_id": 50617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YFykQ.png?s=128&g=1", "display_name": "Employed Russian", "link": "https://stackoverflow.com/users/50617/employed-russian"}, "edited": false, "score": 0, "creation_date": 1488879466, "post_id": 42634224, "comment_id": 72416246, "body": "@EmployedRussian argv[1] is passed to a function as an arguement and then it&#39;s content is copied into a local char[] variable (via strcpy ) which I want to overflow till I fill the desired adress with return adress.  Actually I am following Hacking the Art of exploitation."}, {"owner": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 0, "creation_date": 1488886958, "post_id": 42634224, "comment_id": 72421028, "body": "If you&#39;re viewing data as a stream of 4-byte words instead of a stream of bytes, you&#39;ll need to take into account the <a href=\"https://en.m.wikipedia.org/wiki/Endianness\" rel=\"nofollow noreferrer\">endianness</a> of the CPU. Is your CPU big-endian or little-endian?"}, {"owner": {"reputation": 13, "user_id": 7006376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d868d3030cf4b8c02aefd9137662f60?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik Kapoor", "link": "https://stackoverflow.com/users/7006376/kartik-kapoor"}, "edited": false, "score": 0, "creation_date": 1488886998, "post_id": 42634224, "comment_id": 72421058, "body": "It is little endian"}, {"owner": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 0, "creation_date": 1488907719, "post_id": 42634224, "comment_id": 72434941, "body": "There you go, then. If you type <code>x&#47;28bx</code> instead of <code>x&#47;7wx</code>, you&#39;ll see the bytes in the same order you wrote them. The 0 bytes were swallowed up by the shell when you did the <code>$(...)</code> command substitution."}, {"owner": {"reputation": 13, "user_id": 7006376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d868d3030cf4b8c02aefd9137662f60?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik Kapoor", "link": "https://stackoverflow.com/users/7006376/kartik-kapoor"}, "edited": false, "score": 0, "creation_date": 1488913618, "post_id": 42634224, "comment_id": 72438328, "body": "Yeah , thanks I actually understood the concept . I need not read the \\x00 byte but &quot;\\xfd\\x06\\x40&quot; would be enough and the zero bytes will be filled automatically on that word."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488915434, "post_id": 42634224, "comment_id": 72439463, "body": "What&#39;s the question?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1488915531, "creation_date": 1488915531, "answer_id": 42656884, "question_id": 42634224, "link": "https://stackoverflow.com/questions/42634224/shuffled-order-of-bytes-in-gdb-when-using-perl-print-statement-in-ubuntu/42656884#42656884", "title": "Shuffled order of bytes in gdb when using perl print statement in ubuntu", "body": "<p>These produce <code>FD 06 40 00</code>:</p>\n\n<pre><code>\"\\xFD\\x06\\x40\\x00\"\npack(\"N\", 0xFD064000)\npack(\"V\", 0x004006FD)\n</code></pre>\n\n<p>These produce <code>00 40 06 FD</code>:</p>\n\n<pre><code>\"\\x00\\x40\\x06\\xFD\"\npack(\"N\", 0x004006FD)\npack(\"V\", 0xFD064000)\n</code></pre>\n\n<hr>\n\n<p>Note that command-line arguments are NUL-terminated strings, so it's not possible to pass either of the following strings as a command-line argument:</p>\n\n<pre><code>FD 06 40 00 FD 06 40 00 ...       # Passes FD 06 40 00\n</code></pre>\n\n<p>or</p>\n\n<pre><code>00 40 06 FD 00 40 06 FD ...       # Passes 00\n</code></pre>\n\n<p>Maybe you should rewrite <code>run</code> to accept data as hex, or to accept data from the STDIN.</p>\n"}], "owner": {"reputation": 13, "user_id": 7006376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d868d3030cf4b8c02aefd9137662f60?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik Kapoor", "link": "https://stackoverflow.com/users/7006376/kartik-kapoor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 42656884, "answer_count": 1, "score": 0, "last_activity_date": 1488915531, "creation_date": 1488829452, "question_id": 42634224, "link": "https://stackoverflow.com/questions/42634224/shuffled-order-of-bytes-in-gdb-when-using-perl-print-statement-in-ubuntu", "title": "Shuffled order of bytes in gdb when using perl print statement in ubuntu", "body": "<pre><code>run $(perl -e 'print \"\\xfd\\x06\\x40\\x00\" x 10')\n</code></pre>\n\n<p>When I run my program with this argument I should get 0x004006fd as the word in the stack but instead I get a rearranged order of this word but never the correct one as show below -:</p>\n\n<pre><code> 0x7fffffffde00:    0xfd4006fd  0x06fd4006  0x4006fd40  0xfd4006fd\n 0x7fffffffde10:    0x06fd4006  0x4006fd40  0xfd4006fd  \n</code></pre>\n\n<p>Here 0x00 is not just coming , I dont know what should be used to write this byte.\nI have even tried</p>\n\n<pre><code>  run $(perl -e 'print pack(\"V\",0x004006fd) x 10') \n</code></pre>\n\n<p>but no help.\nI am really new at this thing , please help. \nI don't even now if I have to do some setting in my ubuntu terminal or where the problem lies.</p>\n"}, {"tags": ["perl", "exiftool"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488827180, "post_id": 42633239, "comment_id": 72394854, "body": "What is <code>$photo</code>?"}, {"owner": {"reputation": 123, "user_id": 3053321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de4cf8589c7dc7b08baab0178338c9f8?s=128&d=identicon&r=PG&f=1", "display_name": "user188757", "link": "https://stackoverflow.com/users/3053321/user188757"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488827967, "post_id": 42633239, "comment_id": 72395323, "body": "$photo is the the object returned from a call to the DB. It contains the path that of the file I want to open. $photo-&gt;path returns the directory location of the file that was uploaded by the user. I followed this guide quite closely <a href=\"http://www.catalystframework.org/calendar/2008/5\" rel=\"nofollow noreferrer\">catalystframework.org/calendar/2008/5</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488828102, "post_id": 42633239, "comment_id": 72395380, "body": "A database returns numbers or strings. <code>$photo</code> is an object. What class is it?"}, {"owner": {"reputation": 123, "user_id": 3053321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de4cf8589c7dc7b08baab0178338c9f8?s=128&d=identicon&r=PG&f=1", "display_name": "user188757", "link": "https://stackoverflow.com/users/3053321/user188757"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488828348, "post_id": 42633239, "comment_id": 72395529, "body": "it is a catalyst Model <code>$c-&gt;model()-&gt;create()</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488828751, "post_id": 42633239, "comment_id": 72395743, "body": "Okay, but I can&#39;t debug your code without knowing anything about the way the objects behave. Have you checked what&#39;s in <code>$data</code>? Try dumping it."}, {"owner": {"reputation": 123, "user_id": 3053321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de4cf8589c7dc7b08baab0178338c9f8?s=128&d=identicon&r=PG&f=1", "display_name": "user188757", "link": "https://stackoverflow.com/users/3053321/user188757"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488829258, "post_id": 42633239, "comment_id": 72396005, "body": "Dumper($data)<code>$VAR1 = bless( \\*Symbol::GEN14, &#39;IO::File&#39; );</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488830290, "post_id": 42633239, "comment_id": 72396588, "body": "From the module&#39;s code, it looks like it won&#39;t accept an <code>IO::File</code> object. Try passing the path and letting it open the file itself. <code>my $info = $exif-&gt;ImageInfo($photo-&gt;path)</code> if the <code>path</code> method stringifies to the file path."}, {"owner": {"reputation": 123, "user_id": 3053321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de4cf8589c7dc7b08baab0178338c9f8?s=128&d=identicon&r=PG&f=1", "display_name": "user188757", "link": "https://stackoverflow.com/users/3053321/user188757"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488831172, "post_id": 42633239, "comment_id": 72397042, "body": "Ok, I tried the above advice. First I checked to make sure I was passing a string. <code>$photo-&gt;path</code> returns a Path::Class::File object. I changed the code to <code>my $info = $exif-&gt;ImageInfo($photo-&gt;path-&gt;stringify);</code> Dumped to verify a string. Still the same error. <b>Don&#39;t understand ImageInfo argument REF(0xXXXXXXXXX)</b>"}, {"owner": {"reputation": 123, "user_id": 3053321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de4cf8589c7dc7b08baab0178338c9f8?s=128&d=identicon&r=PG&f=1", "display_name": "user188757", "link": "https://stackoverflow.com/users/3053321/user188757"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488831460, "post_id": 42633239, "comment_id": 72397186, "body": "Wait a minute, maybe this message isn&#39;t as relevant as I thought. Because when I dump <code>$info</code> it looks correct. Apparently that code is working."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488831825, "post_id": 42633239, "comment_id": 72397375, "body": "Are you sure the message is coming from that line of your code? Yes, it&#39;s only a warning, but <code>REF(0xXXXXXXXX)</code> is a copy of the argument it doesn&#39;t understand, which isn&#39;t a simple string as you said."}, {"owner": {"reputation": 123, "user_id": 3053321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de4cf8589c7dc7b08baab0178338c9f8?s=128&d=identicon&r=PG&f=1", "display_name": "user188757", "link": "https://stackoverflow.com/users/3053321/user188757"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488834137, "post_id": 42633239, "comment_id": 72398496, "body": "Well you have helped me tremendously! I now have the information I need (even though I see my other problem now). As per the original question I posted above, if you want to post the answer I will surely give you credit. <code>my $info = $exif-&gt;ImageInfo($photo-&gt;path-&gt;stringify)</code> or <code>my $info = $exif-&gt;ImageInfo(&quot;$photo-&gt;path&quot;)</code> would work. Thank You"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488834477, "post_id": 42633239, "comment_id": 72398669, "body": "Okay I&#39;ll write it up tomorrow when I get back to a PC. I don&#39;t really feel the problem has been resolved properly, but I&#39;m pleased to have helped."}, {"owner": {"reputation": 123, "user_id": 3053321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de4cf8589c7dc7b08baab0178338c9f8?s=128&d=identicon&r=PG&f=1", "display_name": "user188757", "link": "https://stackoverflow.com/users/3053321/user188757"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488838876, "post_id": 42633239, "comment_id": 72400989, "body": "Well you are correct about that. There is some trickery going on here and the documentation is sort of parse for my understanding. Quite simply I want to display a photo on the webpage in the correct orientation. It seems that when I open the file that is saved to disk I am not getting back all of the original METADATA that I need, Specifically the <b>Orientation</b>. Trying to get the <b>Orientation</b> from $c-&gt;req-&gt;upload() works using ImageInfo(). But, that seems to offset the file and now the file isn&#39;t a valid <b>jpeg</b> anymore."}, {"owner": {"reputation": 123, "user_id": 3053321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de4cf8589c7dc7b08baab0178338c9f8?s=128&d=identicon&r=PG&f=1", "display_name": "user188757", "link": "https://stackoverflow.com/users/3053321/user188757"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488839020, "post_id": 42633239, "comment_id": 72401055, "body": "I am having a hard time explaining exactly the issue, because I am not sure of what the appropriate manner of execution is here. Not getting all of the METADATA back from an open file saved to disk, that is there in the one being uploaded is confusing me"}], "owner": {"reputation": 123, "user_id": 3053321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de4cf8589c7dc7b08baab0178338c9f8?s=128&d=identicon&r=PG&f=1", "display_name": "user188757", "link": "https://stackoverflow.com/users/3053321/user188757"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1488828569, "creation_date": 1488825941, "last_edit_date": 1488828569, "question_id": 42633239, "link": "https://stackoverflow.com/questions/42633239/imageexiftool-dont-understand-imageinfo-argument", "title": "Image::ExifTool &#39;Don&#39;t understand ImageInfo argument&#39;", "body": "<p>Like the title says, Image::ExifTool ImageInfo() does not understand my argument. Why?</p>\n\n<pre><code>if ( $form-&gt;submitted_and_valid ) {\n\nmy $photo = $c-&gt;model('DB::Photos')-&gt;create(\n    {\n        name     =&gt; $form-&gt;param('photo_name'),\n        path     =&gt; $c-&gt;req-&gt;upload('photo')-&gt;fh,\n        caption  =&gt; $form-&gt;param('caption'),\n        uploaded =&gt; DateTime-&gt;now,\n        mime =&gt; $mime-&gt;mimeTypeOf( $c-&gt;req-&gt;upload('photo')-&gt;basename ),\n    }\n);\n\n$c-&gt;stash-&gt;{status_msg} = \"Successfully uploaded!\";\n$c-&gt;stash-&gt;{photo}      = $photo;\n$c-&gt;detach;\n</code></pre>\n\n<p>... Further on down, I grab the $photo object from the catalyst stash</p>\n\n<pre><code>my $data = $photo-&gt;path-&gt;open('r') or die;\nmy $exif = new Image::ExifTool;\nmy $info = $exif-&gt;ImageInfo($data) # &lt;- this should be a ref to an open image file\n</code></pre>\n\n<p>Where is the issue here? This is a catalyst application, I am trying to get the exif_orientation of the file so I can rotate it if need be to display it appropriately on the webpage. But, I can not for the life of me get the exif information on the image file. </p>\n\n<p>here is the path to the file. Yes, this file exist! I can display it on the webpage using this path.</p>\n\n<pre><code>/usr/local/docs/www.test.com/public/myapp/root/static/photos/52/52A1F1BC-0281-11E7-A32D-B12F1463937A\n</code></pre>\n\n<p>I have also checked using an external tool that the images i am using do indeed contain exif information.</p>\n"}, {"tags": ["perl", "sorting"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1488827244, "post_id": 42633176, "comment_id": 72394887, "body": "<a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\"><code>sort</code></a> uses string comparison by default if you do not supply a block or sub to define the sorting method."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488829135, "post_id": 42633701, "comment_id": 72395954, "body": "Added explanation of how to remove duplicate hashes."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1488829097, "last_edit_date": 1488829097, "creation_date": 1488827473, "answer_id": 42633701, "question_id": 42633176, "link": "https://stackoverflow.com/questions/42633176/what-does-the-default-sorting-in-perl-sort-by-on-an-array/42633701#42633701", "title": "What does the default sorting in Perl sort by on an array?", "body": "<p><code>sort</code> sorts the scalars passed to in on the stack<sup>[1]</sup>. In your case, the scalars placed on the stack are the elements of the array referenced by <code>$ProjectData{$project}{Packages}</code>.</p>\n\n<p>The default compare function sorts the values in ascending lexical order.</p>\n\n<pre><code> sort LIST\n</code></pre>\n\n<p>is short for</p>\n\n<pre><code> sort { $a cmp $b } LIST\n</code></pre>\n\n<p>This means the elements to compare are stringified, and compared character-by-character. This sorts <code>abc</code> before <code>def</code>, and <code>123</code> before <code>13</code>.</p>\n\n<p>But you're comparing the stringification of references. The following are examples of stringification of references:</p>\n\n<pre><code>$ perl -E'say {}'\nHASH(0x1a36ff8)\n\n$ perl -E'say bless({}, \"SomeClass\");'\nSomeClass=HASH(0x41d0a28)\n</code></pre>\n\n<p>As you can surmise, the only thing you can count on <code>sort</code> doing when given references is placing identical references together. It won't place references to identical hashes together, only references to the same hash.</p>\n\n<hr>\n\n<p><code>uniq</code> from List::MoreUtils is stable.</p>\n\n<blockquote>\n  <p>The order of elements in the returned list is the same as in LIST.</p>\n</blockquote>\n\n<p>It also uses a lexical comparison of the of the scalars. This means it will only remove references to the same hash, not references to identical hashes.</p>\n\n<pre><code>$ perl -MData::Dumper=Dumper -MList::MoreUtils=uniq -e'\n   my $x = { a =&gt; 234, b =&gt; 345 };\n   my $y = $x;\n   my $z = { a =&gt; 234, b =&gt; 345 };\n   print(Dumper([ uniq $x, $y, $z ]));\n'\n$VAR1 = [\n          {\n            'b' =&gt; 345,\n            'a' =&gt; 234\n          },\n          {\n            'b' =&gt; 345,\n            'a' =&gt; 234\n          }\n        ];\n</code></pre>\n\n<hr>\n\n<p>Tip: Unless you're using a method of removing duplicates that requires sorted input, it makes more sense to remove the duplicates before sorting the values.</p>\n\n<pre><code>sort +uniq @{$ProjectData{$project}{Packages}}\n</code></pre>\n\n<p>(The <code>+</code> prevents <code>uniq</code> from being used as <code>sort</code>'s compare function.)</p>\n\n<p>But since all that <code>sort</code> will meaningfully accomplish when given references is placing identical references together, and since <code>uniq</code> already eliminated identical references, the above can be simplified to</p>\n\n<pre><code>uniq @{$ProjectData{$project}{Packages}}\n</code></pre>\n\n<hr>\n\n<p>It's far more likely that you want to filter out references to duplicate hashes rather than references to the same hash. Here's how you can do that:</p>\n\n<pre><code>use JSON::XS qw( );\n\nmy $json_serializer = JSON::XS-&gt;new-&gt;canonical;\n\nmy %seen;\nmy @uniques = grep !$seen{ $json_serializer-&gt;encode($_) }++, @references;\n</code></pre>\n\n<p>For example,</p>\n\n<pre><code>$ perl -MData::Dumper=Dumper -MJSON::XS -e'\n   my $json_serializer = JSON::XS-&gt;new-&gt;canonical;\n   my $x = { a =&gt; 234, b =&gt; 345 };\n   my $y = $x;\n   my $z = { a =&gt; 234, b =&gt; 345 };\n   my %seen;\n   print(Dumper([ grep !$seen{ $json_serializer-&gt;encode($_) }++, $x, $y, $z ]));\n'\n$VAR1 = [\n          {\n            'b' =&gt; 345,\n            'a' =&gt; 234\n          }\n        ];\n</code></pre>\n\n<hr>\n\n<ol>\n<li>Ok, technically, it can actually be passed an array as an optimization, but that's internal details.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 0, "last_activity_date": 1488827616, "creation_date": 1488827616, "answer_id": 42633747, "question_id": 42633176, "link": "https://stackoverflow.com/questions/42633176/what-does-the-default-sorting-in-perl-sort-by-on-an-array/42633747#42633747", "title": "What does the default sorting in Perl sort by on an array?", "body": "<p>As for <code>sort @{$ProjectData{$project}{Packages}}</code>, that's just sorting the contents of the array <code>@{$ProjectData{$project}{Packages}}</code> using the default sorting.</p>\n\n<p>According to the docs it uses \"standard string comparison order\" which means it uses <code>cmp</code>. It means it sorts by turning the arguments into strings and comparing them one character at a time in <strong><em>the order they appear in their character encoding</em></strong>. We used to call this \"ASCIIbetical\" but now with UTF-8 it's not necessarily ASCII.</p>\n\n<p>Some examples.</p>\n\n<pre><code># 1, 20, 3 because it considers them \"1\", \"20\", \"3\".\nsort 1, 3, 20;\n\n# a, z\nsort \"z\", \"a\";\n\n# Z, a because ASCII Z is 90 and ASCII a is 97.\nsort \"Z\", \"a\";\n\n# z, \u00e4 because UTF-8 z is 122 and UTF-8 \u00e4 is 195 164\nuse utf8;\nsort \"z\", \"\u00e4\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1488827684, "creation_date": 1488827684, "answer_id": 42633761, "question_id": 42633176, "link": "https://stackoverflow.com/questions/42633176/what-does-the-default-sorting-in-perl-sort-by-on-an-array/42633761#42633761", "title": "What does the default sorting in Perl sort by on an array?", "body": "<p>If <code>$ProjectData{$project}{Packages}</code> is a reference to an array of hash references, then Perl will stringify all those references to something like <code>HASH(0xf1f6d290)</code> and sort them as strings</p>\n\n<p>Effectively it's sorting by memory address, but that's really not very useful and you may as well drop the <code>sort</code>, leaving you with</p>\n\n<pre><code>uniq @{ $ProjectData{$project}{Packages} }\n</code></pre>\n\n<p>If you're using <code>List::Util::uniq</code> then it's stable, but unless you sort the data by something a bit more useful it really doesn't matter</p>\n"}], "owner": {"reputation": 141, "user_id": 2460953, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/58a3020a11c994bea3edb10569ac8e25?s=128&d=identicon&r=PG", "display_name": "user2460953", "link": "https://stackoverflow.com/users/2460953/user2460953"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1488829097, "creation_date": 1488825715, "question_id": 42633176, "link": "https://stackoverflow.com/questions/42633176/what-does-the-default-sorting-in-perl-sort-by-on-an-array", "title": "What does the default sorting in Perl sort by on an array?", "body": "<p>I am reading some Perl code that sorts an array of hashes</p>\n\n<pre><code>uniq sort @{$ProjectData{$project}{Packages}}\n</code></pre>\n\n<p>I am not clear on whether this is sorting by the key of the hash, the key+value of the hash, or the memory address of the hash.  Also, I'm not clear on whether uniq is stable or not.  I am going to write my own compare function, but it seems or work as is, so I'd appreciate if someone could clear up what is happening currently.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 697, "user_id": 3002444, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Sx6Ce.gif?s=128&g=1", "display_name": "8bra1nz", "link": "https://stackoverflow.com/users/3002444/8bra1nz"}, "edited": false, "score": 0, "creation_date": 1488825968, "post_id": 42633017, "comment_id": 72394209, "body": "I get it, at first I thought <code>$</code> was after newline, then I thought that <code>^</code> and <code>$</code> were consumed along the way. Someone told me that <code>$</code> also can match after <code>\\n</code> doesn&#39;t that work in this case ?"}, {"owner": {"reputation": 697, "user_id": 3002444, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Sx6Ce.gif?s=128&g=1", "display_name": "8bra1nz", "link": "https://stackoverflow.com/users/3002444/8bra1nz"}, "edited": false, "score": 0, "creation_date": 1488826203, "post_id": 42633017, "comment_id": 72394330, "body": "I tested out <code>(^\\s*$)\\n</code> and it also works. Is it better solution ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 697, "user_id": 3002444, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Sx6Ce.gif?s=128&g=1", "display_name": "8bra1nz", "link": "https://stackoverflow.com/users/3002444/8bra1nz"}, "edited": false, "score": 1, "creation_date": 1488826255, "post_id": 42633017, "comment_id": 72394369, "body": "Re &quot;<i>Someone told me that <code>$</code> also can match after <code>\\n</code></i>&quot;, As I&#39;ve already stated, <code>(?m:$)</code> (<code>$</code> when the <code>m</code> modifier is in effect) matches before a newline and at the end of the string. (<code>(?-m:$)</code> matches in fewer places: before a newline at the end of the string and at the end of the string.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 697, "user_id": 3002444, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Sx6Ce.gif?s=128&g=1", "display_name": "8bra1nz", "link": "https://stackoverflow.com/users/3002444/8bra1nz"}, "edited": false, "score": 0, "creation_date": 1488826372, "post_id": 42633017, "comment_id": 72394426, "body": "Re &quot;<i>Is it better solution</i>&quot;, It&#39;s far less readable. It&#39;s very unclear what it does. In fact, it&#39;s misleading since it looks like it matches one line."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1488826435, "last_edit_date": 1488826435, "creation_date": 1488825155, "answer_id": 42633017, "question_id": 42632781, "link": "https://stackoverflow.com/questions/42632781/perl-replacing-consecutive-blank-lines-with-s-s-p-gm/42633017#42633017", "title": "Perl replacing consecutive blank lines with s/^\\s*$/&lt;p&gt;/gm", "body": "<p>There are two issues here. The trailing newline, and the two <code>&lt;p&gt;</code>.</p>\n\n<h2>Trailing newline</h2>\n\n<p><code>(?m:$)</code> matches before a newline and at the end of the string. That means the text with which you replace will necessarily be followed by a newline or the end of the string. <code>\\n</code> should have been used instead of <code>$</code>.</p>\n\n<h2>Two <code>&lt;p&gt;</code></h2>\n\n<p>This problems is the result of your pattern being able to match zero characters.</p>\n\n<pre><code>Your string:    A\u2424\u2424\u2424\u2424B\u2424  \nPositions:      0123456\n</code></pre>\n\n<p>Your pattern finds two matches.</p>\n\n<ul>\n<li>Your pattern replaces the 2 characters starts at position 2 with <code>&lt;p&gt;</code>.</li>\n<li>Your pattern replaces the 0 characters starts at position 4 with <code>&lt;p&gt;</code>.</li>\n</ul>\n\n<p>Fix:</p>\n\n<pre><code>s/\\n{2,}/\\n&lt;p&gt;/g\n</code></pre>\n\n<p>or</p>\n\n<pre><code>s/\\n\\s*\\n/\\n&lt;p&gt;/g   # Allows whitespace between the newlines.\n</code></pre>\n"}], "owner": {"reputation": 697, "user_id": 3002444, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Sx6Ce.gif?s=128&g=1", "display_name": "8bra1nz", "link": "https://stackoverflow.com/users/3002444/8bra1nz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 42633017, "answer_count": 1, "score": 2, "last_activity_date": 1488826435, "creation_date": 1488824284, "question_id": 42632781, "link": "https://stackoverflow.com/questions/42632781/perl-replacing-consecutive-blank-lines-with-s-s-p-gm", "title": "Perl replacing consecutive blank lines with s/^\\s*$/&lt;p&gt;/gm", "body": "<p>I am following book about regular expressions and there is example where\none wants to replace every consecutive blank line with <code>&lt;p&gt;</code>.</p>\n\n<p>Here is the script:</p>\n\n<pre><code>undef $/;\n$text = &lt;&gt;;\n\n$text =~ s/^\\s*$/&lt;p&gt;/gm;\n</code></pre>\n\n<p>Here is the input <code>A\\n\\n\\n\\nB\\n</code> which is same as A then 3 blank lines then B.</p>\n\n<p>I expect it to output <code>A\\n&lt;p&gt;B\\n</code> because <code>\\s</code> contains newline and it repeats after the beginning of second line and the end of fourth line.</p>\n\n<p>But the output is <code>A\\n&lt;p&gt;&lt;p&gt;\\nB\\n</code>.</p>\n\n<p>Also no matter how many blank lines I put between <code>A</code> and <code>B</code> I always get the same answer.</p>\n\n<p>But when input is <code>A\\n\\n\\n[ ]\\nB\\n</code> ([ ] - means space character) I get kind of correct output <code>A\\n&lt;p&gt;\\nB\\n</code> but still why is there <code>\\n</code> after <code>&lt;p&gt;</code> ?</p>\n"}, {"tags": ["perl", "perl-module", "conda"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488821001, "post_id": 42631329, "comment_id": 72391398, "body": "Did you install URI::Escape as well?"}, {"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488821368, "post_id": 42631329, "comment_id": 72391639, "body": "@simbabque I misread my error but I have made edits to the question"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1488822796, "post_id": 42631329, "comment_id": 72392474, "body": "The fourth test in <code>old-base.t</code> looks wrong to me. I would just force the installation as long as no other tests failed."}, {"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488822935, "post_id": 42631329, "comment_id": 72392549, "body": "@Borodin Can you move this to an answer. This worked for me. Thanks!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488824875, "post_id": 42631329, "comment_id": 72393623, "body": "@KomalRathi: I&#39;ve thought again, and I&#39;m wrong about the error. Forcing the installation will have ignored the result of the test, and it&#39;s important to know <i>why</i> that test failed. Please post the rest of your cpan log so that we can diagnose it."}, {"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488825487, "post_id": 42631329, "comment_id": 72393970, "body": "@Borodin I have added the cpan log at the end of the question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1488826672, "post_id": 42631329, "comment_id": 72394593, "body": "@KomalRathi: Thank you. It says that <code>&#47;mnt&#47;lustre&#47;users&#47;rathik&#47;scratch</code> is read-only, which is odd. Do you know why that would be? Anyway, it&#39;s not a problem with the module so you can go ahead."}, {"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488826949, "post_id": 42631329, "comment_id": 72394726, "body": "@Borodin thanks for pointing that out - I had set my TMPDIR to that path but looks like it was locked down a couple weeks back. This has been very helpful. I cannot close this question without accepting your answer so can you move your comment to an answer?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488827054, "post_id": 42631329, "comment_id": 72394790, "body": "@KomalRathi: I&#39;ll write it up when I get back to a proper keyboard."}], "answers": [{"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1488821738, "post_id": 42632020, "comment_id": 72391859, "body": "This may not answer the question, but I will leave it here as a general tip."}, {"owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "edited": false, "score": 0, "creation_date": 1488821996, "post_id": 42632020, "comment_id": 72392023, "body": "I did try using that <code>&#47;home&#47;rathik&#47;tools&#47;miniconda3&#47;bin&#47;cpan URI::Escape</code> but it is still showing the same error."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1488821652, "creation_date": 1488821652, "answer_id": 42632020, "question_id": 42631329, "link": "https://stackoverflow.com/questions/42631329/trouble-with-installating-uriescape/42632020#42632020", "title": "Trouble with installating URI::Escape", "body": "<p>Each installation of the <code>perl</code> binary should have a corresponding installation of <code>cpan</code>. To install a module that will be visible to <code>/home/rathik/tools/miniconda3/bin/perl</code>, install it with <code>/home/rathik/tools/miniconda3/bin/cpan</code>.</p>\n"}], "owner": {"reputation": 3510, "user_id": 1844024, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JrVNO.jpg?s=128&g=1", "display_name": "Komal Rathi", "link": "https://stackoverflow.com/users/1844024/komal-rathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2442, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1488825459, "creation_date": 1488819633, "last_edit_date": 1488825459, "question_id": 42631329, "link": "https://stackoverflow.com/questions/42631329/trouble-with-installating-uriescape", "title": "Trouble with installating URI::Escape", "body": "<p>I have several perl installations that came along with various conda environments. Because of this one of the tools I am using is unable to access a PERL module <code>URI::Escape</code>:</p>\n\n<p>Perl script to test module installations:</p>\n\n<pre><code>$ cat test.pl \nuse Set::IntervalTree;\nuse DB_File;\nuse URI::Escape;\n</code></pre>\n\n<p>Current perl being used works okay:</p>\n\n<pre><code>$ which perl\n/home/rathik/tools/miniconda3/envs/rnaseq-env/bin/perl\n$ perl test.pl # runs okay\n</code></pre>\n\n<p>Trouble with URI::Escape using the perl installation used by my tool:</p>\n\n<pre><code>$ /home/rathik/tools/miniconda3/bin/perl test.pl \nCan't locate URI/Escape.pm in @INC (you may need to install the URI::Escape module) (@INC contains: /home/rathik/perl5/lib/perl5/5.22.0/x86_64-linux /home/rathik/perl5/lib/perl5/5.22.0 /home/rathik/perl5/lib/perl5/x86_64-linux /home/rathik/perl5/lib/perl5 /home/rathik/tools/miniconda3/lib/perl5/site_perl/5.22.0/x86_64-linux /home/rathik/tools/miniconda3/lib/perl5/site_perl/5.22.0 /home/rathik/tools/miniconda3/lib/perl5/5.22.0/x86_64-linux /home/rathik/tools/miniconda3/lib/perl5/5.22.0 .) at test.pl line 3.\nBEGIN failed--compilation aborted at test.pl line 3.\n</code></pre>\n\n<p>When I try to install it, it throws this error:</p>\n\n<pre><code># install URI::Escape\n/home/rathik/tools/miniconda3/bin/perl -MCPAN -e shell\n\nOR\n\n/home/rathik/tools/miniconda3/bin/cpan URI::Escape\n\nTest Summary Report\n-------------------\nt/old-base.t            (Wstat: 7680 Tests: 4 Failed: 1)\n  Failed test:  4\n  Non-zero exit status: 30\n  Parse errors: No plan found in TAP output\nFiles=43, Tests=619,  2 wallclock secs ( 0.23 usr  0.07 sys +  1.60 cusr  0.47 csys =  2.37 CPU)\nResult: FAIL\nFailed 1/43 test programs. 1/619 subtests failed.\nmake: *** [test_dynamic] Error 255\n  ETHER/URI-1.71.tar.gz\n  /usr/bin/make test -- NOT OK\n//hint// to see the cpan-testers results for installing this module, try:\n  reports ETHER/URI-1.71.tar.gz\nFailed during this command:\n ETHER/URI-1.71.tar.gz                        : make_test NO\n</code></pre>\n\n<p>I am able to install <code>URI::Escape</code> using the current perl but not with the perl that's being used by my tool. How do I resolve the conflicts?</p>\n\n<p>CPAN Installation Log:</p>\n\n<pre><code>Reading '/home/rathik/.cpan/Metadata'\n  Database was generated on Sun, 05 Mar 2017 21:29:02 GMT\nRunning install for module 'URI::Escape'\nChecksum for /home/rathik/.cpan/sources/authors/id/E/ET/ETHER/URI-1.71.tar.gz ok\nScanning cache /home/rathik/.cpan/build for sizes\n............................................................................DONE\n'YAML' not installed, will not store persistent state\nConfiguring E/ET/ETHER/URI-1.71.tar.gz with Makefile.PL\nChecking if your kit is complete...\nLooks good\nGenerating a Unix-style Makefile\nWriting Makefile for URI\nWriting MYMETA.yml and MYMETA.json\n  ETHER/URI-1.71.tar.gz\n  /home/rathik/tools/miniconda3/bin/perl Makefile.PL -- OK\nRunning make for E/ET/ETHER/URI-1.71.tar.gz\ncp lib/URI/sips.pm blib/lib/URI/sips.pm\ncp lib/URI/sip.pm blib/lib/URI/sip.pm\ncp lib/URI/snews.pm blib/lib/URI/snews.pm\ncp lib/URI/WithBase.pm blib/lib/URI/WithBase.pm\ncp lib/URI/file/Mac.pm blib/lib/URI/file/Mac.pm\ncp lib/URI/ssh.pm blib/lib/URI/ssh.pm\ncp lib/URI/file/OS2.pm blib/lib/URI/file/OS2.pm\ncp lib/URI/Heuristic.pm blib/lib/URI/Heuristic.pm\ncp lib/URI/file/QNX.pm blib/lib/URI/file/QNX.pm\ncp lib/URI/_userpass.pm blib/lib/URI/_userpass.pm\ncp lib/URI/_foreign.pm blib/lib/URI/_foreign.pm\ncp lib/URI/tn3270.pm blib/lib/URI/tn3270.pm\ncp lib/URI/file.pm blib/lib/URI/file.pm\ncp lib/URI/rsync.pm blib/lib/URI/rsync.pm\ncp lib/URI/ftp.pm blib/lib/URI/ftp.pm\ncp lib/URI/Split.pm blib/lib/URI/Split.pm\ncp lib/URI/file/Win32.pm blib/lib/URI/file/Win32.pm\ncp lib/URI/URL.pm blib/lib/URI/URL.pm\ncp lib/URI/pop.pm blib/lib/URI/pop.pm\ncp lib/URI/_idna.pm blib/lib/URI/_idna.pm\ncp lib/URI/file/Unix.pm blib/lib/URI/file/Unix.pm\ncp lib/URI/rtspu.pm blib/lib/URI/rtspu.pm\ncp lib/URI/QueryParam.pm blib/lib/URI/QueryParam.pm\ncp lib/URI/sftp.pm blib/lib/URI/sftp.pm\ncp lib/URI/ldapi.pm blib/lib/URI/ldapi.pm\ncp lib/URI/file/Base.pm blib/lib/URI/file/Base.pm\ncp lib/URI/_punycode.pm blib/lib/URI/_punycode.pm\ncp lib/URI/_query.pm blib/lib/URI/_query.pm\ncp lib/URI/data.pm blib/lib/URI/data.pm\ncp lib/URI/urn.pm blib/lib/URI/urn.pm\ncp lib/URI/_ldap.pm blib/lib/URI/_ldap.pm\ncp lib/URI/rtsp.pm blib/lib/URI/rtsp.pm\ncp lib/URI/IRI.pm blib/lib/URI/IRI.pm\ncp lib/URI/_login.pm blib/lib/URI/_login.pm\ncp lib/URI/telnet.pm blib/lib/URI/telnet.pm\ncp lib/URI.pm blib/lib/URI.pm\ncp lib/URI/nntp.pm blib/lib/URI/nntp.pm\ncp lib/URI/urn/oid.pm blib/lib/URI/urn/oid.pm\ncp lib/URI/urn/isbn.pm blib/lib/URI/urn/isbn.pm\ncp lib/URI/gopher.pm blib/lib/URI/gopher.pm\ncp lib/URI/ldaps.pm blib/lib/URI/ldaps.pm\ncp lib/URI/_segment.pm blib/lib/URI/_segment.pm\ncp lib/URI/news.pm blib/lib/URI/news.pm\ncp lib/URI/rlogin.pm blib/lib/URI/rlogin.pm\ncp lib/URI/mms.pm blib/lib/URI/mms.pm\ncp lib/URI/http.pm blib/lib/URI/http.pm\ncp lib/URI/mailto.pm blib/lib/URI/mailto.pm\ncp lib/URI/Escape.pm blib/lib/URI/Escape.pm\ncp lib/URI/ldap.pm blib/lib/URI/ldap.pm\ncp lib/URI/https.pm blib/lib/URI/https.pm\ncp lib/URI/_server.pm blib/lib/URI/_server.pm\ncp lib/URI/_generic.pm blib/lib/URI/_generic.pm\ncp lib/URI/file/FAT.pm blib/lib/URI/file/FAT.pm\nManifying 11 pod documents\n  ETHER/URI-1.71.tar.gz\n  /usr/bin/make -- OK\nRunning make test\nPERL_DL_NONLAZY=1 \"/home/rathik/tools/miniconda3/bin/perl\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\nt/abs.t ................... ok     \nt/clone.t ................. ok   \nt/cwd.t ................... ok   \nt/data.t .................. ok     \nt/distmanifest.t .......... skipped: these tests are for authors only!\nt/escape-char.t ........... ok   \nt/escape.t ................ ok     \nt/file.t .................. ok     \nt/ftp.t ................... ok     \nt/generic.t ............... ok     \nt/gopher.t ................ ok     \nt/heuristic.t ............. ok     \nt/http.t .................. ok     \nt/idna.t .................. ok   \nt/iri.t ................... ok     \nt/ldap.t .................. ok     \nt/mailto.t ................ ok   \nt/mix.t ................... ok   \nt/mms.t ................... ok   \nt/news.t .................. ok   \nt/num_eq.t ................ ok   \nt/old-absconf.t ........... ok   \nt/old-base.t .............. 1/? Error in tempdir() using /mnt/lustre/users/rathik/scratch/XXXXXXXXXX: Could not create directory /mnt/lustre/users/rathik/scratch/P_z_9i_Dit: Read-only file system at t/old-base.t line 615.\n    # Child (newlocal test) exited without calling finalize()\n\n#   Failed test 'newlocal test'\n#   at /home/rathik/tools/miniconda3/lib/perl5/5.22.0/Test/Builder.pm line 279.\n# Tests were run but no plan was declared and done_testing() was not seen.\n# Looks like your test exited with 30 just after 4.\nt/old-base.t .............. Dubious, test returned 30 (wstat 7680, 0x1e00)\nFailed 1/4 subtests \nt/old-file.t .............. ok     \nt/old-relbase.t ........... ok   \nt/path-segments.t ......... ok   \nt/pop.t ................... ok   \nt/punycode.t .............. ok     \nt/query-param.t ........... ok     \nt/query.t ................. ok     \nt/rel.t ................... ok   \nt/rfc2732.t ............... ok     \nt/roy-test.t .............. ok       \nt/rsync.t ................. ok   \nt/rtsp.t .................. ok   \nt/scheme-exceptions.t ..... ok   \nt/sip.t ................... ok     \nt/sort-hash-query-form.t .. ok   \nt/split.t ................. ok     \nt/storable.t .............. ok   \nt/urn-isbn.t .............. skipped: Needs the Business::ISBN module installed\nt/urn-oid.t ............... ok   \nt/utf8.t .................. ok   \n\nTest Summary Report\n-------------------\nt/old-base.t            (Wstat: 7680 Tests: 4 Failed: 1)\n  Failed test:  4\n  Non-zero exit status: 30\n  Parse errors: No plan found in TAP output\nFiles=43, Tests=619,  3 wallclock secs ( 0.21 usr  0.08 sys +  1.61 cusr  0.64 csys =  2.54 CPU)\nResult: FAIL\nFailed 1/43 test programs. 1/619 subtests failed.\nmake: *** [test_dynamic] Error 255\n  ETHER/URI-1.71.tar.gz\n  /usr/bin/make test -- NOT OK\n//hint// to see the cpan-testers results for installing this module, try:\n  reports ETHER/URI-1.71.tar.gz\nFailed during this command:\n ETHER/URI-1.71.tar.gz                        : make_test NO\n</code></pre>\n"}, {"tags": ["arrays", "perl", "multidimensional-array", "perlscript"], "answers": [{"tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": true, "score": 1, "last_activity_date": 1488819807, "creation_date": 1488819807, "answer_id": 42631386, "question_id": 42631254, "link": "https://stackoverflow.com/questions/42631254/how-to-write-data-retrieved-from-db-into-2d-array-and-how-can-this-be-retrieved/42631386#42631386", "title": "How to write data retrieved from DB into 2D array and how can this be retrieved back in Perl?", "body": "<p><code>push (@array_source, @array[0,1]);</code> should become <code>push (@array_source, [@array[0,1]]);</code> - you want to push a new array onto the top-level array.</p>\n"}], "owner": {"reputation": 543, "user_id": 3223661, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2dec841fe019a0e329b21df579f51c9e?s=128&d=identicon&r=PG&f=1", "display_name": "Devoloper250", "link": "https://stackoverflow.com/users/3223661/devoloper250"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 42631386, "answer_count": 1, "score": 0, "last_activity_date": 1488821748, "creation_date": 1488819367, "last_edit_date": 1488821748, "question_id": 42631254, "link": "https://stackoverflow.com/questions/42631254/how-to-write-data-retrieved-from-db-into-2d-array-and-how-can-this-be-retrieved", "title": "How to write data retrieved from DB into 2D array and how can this be retrieved back in Perl?", "body": "<p>I tried below for writing data into two dimensional array(array_source) but ended up in single dimensional array(array_source).. Below is code snippet, please review and let me know the ways to write it into 2D array so that it can be .</p>\n\n<pre><code>$DBHd = DBI-&gt;connect( \"dbi:Oracle:host=$host;port=$port;sid=$SID\", $user_name, $password);\n$DBSth = $DBHd-&gt;prepare(\"SELECT EMP_ID,sal FROM emp\");\n$DBSth-&gt;execute();\nmy @array_temp;\nmy @array_source; # Should be 2D array and it should contain both values\nmy @array_source_in; # Should contain only employee IDS alone\n\nwhile (my @array= $DBSth-&gt;fetchrow_array())\n{\n    push (@array_source, @array[0,1]);\n    push (@array_source_in, @array[0]);\n};\n\n print \"Data in source : @array_source\";\n   print \"\\n\";\n print \"Data in input : @array_source_in\";\n</code></pre>\n\n<p>Once data is retrieved into array_source how can this be compared with another 2D array and list the matching sets ?</p>\n\n<p>Example :</p>\n\n<p>Array 1 - Source Array\n[100 5100,\n101 5100,\n102 6000,\n104 7879,\n444 287299,\n771 111]</p>\n\n<p>Array 2 - Should be compared against source \n[100 5100,\n101 5200,\n102 0,\n772 800,\n104 7879]</p>\n\n<p>Array 3 - This should be the output - Singe dimensional\n[100,\n104]</p>\n\n<p>Please spare with alignment for above Arrays and consider 1 &amp; 2 as two dimensional and 3 as single dimensional.</p>\n"}, {"tags": ["perl", "xs", "perlapi"], "comments": [{"owner": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "edited": false, "score": 0, "creation_date": 1488816468, "post_id": 42629915, "comment_id": 72388403, "body": "What do you mean for <i>perl from XS</i> ? I don&#39;t understand your question, please explain."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 50800, "user_id": 1765658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2dcfe3194de7a9e1a1cdaa81933b307?s=128&d=identicon&r=PG", "display_name": "F. Hauri", "link": "https://stackoverflow.com/users/1765658/f-hauri"}, "edited": false, "score": 0, "creation_date": 1488817121, "post_id": 42629915, "comment_id": 72388840, "body": "@F.Hauri in perl you may write C code. To simplify C&lt;-&gt;Perl interaction there is <a href=\"http://perldoc.perl.org/perlxstut.html\" rel=\"nofollow noreferrer\"><code>XS</code></a> mechanism exists. I ask how to access token <code>__SUB__</code> from <code>XS</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488817531, "post_id": 42629915, "comment_id": 72389131, "body": "In the book <a href=\"http://www.informit.com/store/perl-developers-dictionary-9780672320675\" rel=\"nofollow noreferrer\">Perl Developer&#39;s Dictionary</a> page 267 it says that the tokens <code>__LINE__</code> and  <code>__FILE__</code> are replaced at compile time. See more <a href=\"https://books.google.no/books?id=GvGCdRh1ryMC&amp;pg=PA267&amp;lpg=PA267&amp;dq=perl+__FILE__+__LINE__+compile-time&amp;source=bl&amp;ots=Zvr370V1cn&amp;sig=E7sqCpZG6gnDDhgKL7Kulk7yr3U&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwjGw6aLpMLSAhWCKywKHQH1BycQ6AEIKDAC#v=onepage&amp;q=perl%20__FILE__%20__LINE__%20compile-time&amp;f=false&#39;\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1488818613, "post_id": 42629915, "comment_id": 72389885, "body": "Rather <code>PL_curstname</code> for the package name, no? (I&#39;m not sure about it, but from what I read in <a href=\"https://github.com/Perl/perl5/blob/blead/intrpvar.h\" rel=\"nofollow noreferrer\"><code>intrpvar.h</code></a>, it seems more like it. Have a look at this file, and at <a href=\"https://github.com/Perl/perl5/blob/blead/embedvar.h\" rel=\"nofollow noreferrer\"><code>embedvar.h</code></a> as well, it could help you find what you are looking for."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488818684, "post_id": 42629915, "comment_id": 72389940, "body": "As @H&#229;konH&#230;gland said, <code>__LINE__</code> and <code>__FILE__</code> are replaced at compile time. However, you should still be able to get informations about the line or file, since when a <code>die</code> happens for instance, Perl tells you what line/file it happen at. I&#39;d suggest you have a look in Perl sources, especially what happens when there is a <code>die</code> (for instance because of a division by 0). Not sure it will show you what you&#39;re looking for, but that&#39;s how I&#39;d do it."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1488819225, "post_id": 42629915, "comment_id": 72390354, "body": "@Dada I believe that <code>__FILE__</code>, <code>__LINE__</code> is stored at COP (<code>PL_curcop</code>/<code>PL_op</code>). <code>__SUB__</code> is accessable as OP-&gt;cv-&gt;name... The question is not about how to access this data, but about accessing this data through some <i>special interface</i>"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1488820587, "post_id": 42629915, "comment_id": 72391157, "body": "So I assume <code>CopFILE</code> and <code>CopLINE</code> macros are not what you are looking for? (sorry if I don&#39;t quite understand your question; I don&#39;t write XS code, I just play with Perl sources now and then)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1488822401, "post_id": 42629915, "comment_id": 72392256, "body": "Those are Perl operators, so you can&#39;t call them except from Perl code. You can surely find the file and line number of the statement that called your XS sub, though, since <code>caller</code> does it."}], "answers": [{"tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": false, "score": 2, "last_activity_date": 1502106489, "last_edit_date": 1502106489, "creation_date": 1502047929, "answer_id": 45535840, "question_id": 42629915, "link": "https://stackoverflow.com/questions/42629915/is-there-a-way-to-access-special-tokens-in-perl-from-xs/45535840#45535840", "title": "Is there a way to access special tokens in perl from XS?", "body": "<p>Perl subroutines are represented in C with type <code>CV</code>. The <code>CV</code> for the XSUB is passed in the <code>cv</code> argument:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>#define XSPROTO(name) void name(pTHX_ CV* cv)\n</code></pre>\n\n<p>You can get the name of the XSUB with <code>GvNAME(CvGV(cv))</code>. This is especially useful if you register an XSUB under multiple names, for example with the <code>ALIAS</code> or <code>INTERFACE</code> keywords, or in typemaps.</p>\n\n<p>To get the current stash (<code>__PACKAGE__</code> equivalent), I'd suggest to use <code>CvSTASH(cv)</code>.</p>\n\n<p><code>__FILE__</code> and <code>__LINE__</code> are provided by the C compiler as macro.</p>\n"}, {"comments": [{"owner": {"reputation": 275557, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 0, "creation_date": 1502061663, "post_id": 45537507, "comment_id": 78035064, "body": "Why are you posting a copy-and-paste answer, one directly copied from your <a href=\"https://stackoverflow.com/a/45537463/522444\">previous answer</a>?"}, {"owner": {"reputation": 275557, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 0, "creation_date": 1502062822, "post_id": 45537507, "comment_id": 78035308, "body": "Then it would probably be better for you to figure out which one should be closed, and vote on that, no? Or at least post a comment linking your prior answer, since it&#39;s not felt to be correct to copy and paste answers -- at least each time I&#39;ve seen moderators handle this (and they have software to identify this), they usually delete one or both answers."}, {"owner": {"reputation": 275557, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 0, "creation_date": 1502063163, "post_id": 45537507, "comment_id": 78035374, "body": "Because I&#39;m not a PERL expert. Regardless, we&#39;ll let the moderators decide."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 275557, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 0, "creation_date": 1502063764, "post_id": 45537507, "comment_id": 78035484, "body": "@Hovercraft Full Of Eels, I didn&#39;t know about this question when I answered the other."}, {"owner": {"reputation": 275557, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 0, "creation_date": 1502063824, "post_id": 45537507, "comment_id": 78035498, "body": "Again, it&#39;s no never mind to me. We have a plagiarism detector running (which is how I was flagged to this answer and its dup), and so the moderators will find the duplicates and handle them, if you don&#39;t handle them yourself."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 275557, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "edited": false, "score": 0, "creation_date": 1502064209, "post_id": 45537507, "comment_id": 78035585, "body": "@Hovercraft Full Of Eels, The other question will get closed as a dup, but I&#39;m not going to hurry that close a question as a duplicate of one that didn&#39;t have an answer."}, {"owner": {"reputation": 3676, "user_id": 414279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd8e859d8cf73f2d49eb640964605bb?s=128&d=identicon&r=PG", "display_name": "rurban", "link": "https://stackoverflow.com/users/414279/rurban"}, "edited": false, "score": 0, "creation_date": 1502975847, "post_id": 45537507, "comment_id": 78430121, "body": "More problematic is that 5 of 6 paragraphs of this are wrong."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3676, "user_id": 414279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd8e859d8cf73f2d49eb640964605bb?s=128&d=identicon&r=PG", "display_name": "rurban", "link": "https://stackoverflow.com/users/414279/rurban"}, "edited": false, "score": 0, "creation_date": 1502978754, "post_id": 45537507, "comment_id": 78432327, "body": "@rurban, Really??? That&#39;s a very harsh assessment. Fixed to use more precise wording."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1502979054, "last_edit_date": 1502979054, "creation_date": 1502061150, "answer_id": 45537507, "question_id": 42629915, "link": "https://stackoverflow.com/questions/42629915/is-there-a-way-to-access-special-tokens-in-perl-from-xs/45537507#45537507", "title": "Is there a way to access special tokens in perl from XS?", "body": "<p>The C equivalent to <code>__FILE__</code> is <code>__FILE__</code>.</p>\n\n<p>The C equivalent to <code>__LINE__</code> is <code>__LINE__</code>.</p>\n\n<p>The C99 equivalent to <code>__SUB__</code> is <code>__func__</code>. There wasn't anything standard before.</p>\n\n<p>There's no C equivalent to <code>__PACKAGE__</code> because C doesn't have namespaces.</p>\n\n<p>That said, I don't think you want information about the current line of execution; I think you want information about the XS sub's caller. That means you're actually asking for the XS equivalent of <a href=\"http://perldoc.perl.org/functions/caller.html\" rel=\"nofollow noreferrer\"><code>caller</code></a>.</p>\n\n<p>The XS equivalent of <a href=\"http://perldoc.perl.org/functions/caller.html\" rel=\"nofollow noreferrer\"><code>caller</code></a> is <a href=\"http://perldoc.perl.org/perlapi.html#caller_cx\" rel=\"nofollow noreferrer\"><code>caller_cx</code></a>. Looking at <code>Perl_cx_dump</code> in <code>scope.c</code> should give an idea how to use the returned <code>PERL_CONTEXT</code> structure.</p>\n"}, {"tags": [], "owner": {"reputation": 3676, "user_id": 414279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd8e859d8cf73f2d49eb640964605bb?s=128&d=identicon&r=PG", "display_name": "rurban", "link": "https://stackoverflow.com/users/414279/rurban"}, "is_accepted": false, "score": 3, "last_activity_date": 1502902888, "last_edit_date": 1502902888, "creation_date": 1502898850, "answer_id": 45718129, "question_id": 42629915, "link": "https://stackoverflow.com/questions/42629915/is-there-a-way-to-access-special-tokens-in-perl-from-xs/45718129#45718129", "title": "Is there a way to access special tokens in perl from XS?", "body": "<p>You can look them up one by one in <code>toke.c</code> for the compile-time values:</p>\n\n<ul>\n<li><code>__PACKAGE__</code> => <code>HvNAME(PL_curstash)</code> or <code>PL_curstname</code></li>\n<li><code>__FILE__</code> => <code>CopFILE(PL_curcop)</code> (at compile-time)</li>\n<li><code>__LINE__</code> => <code>CopLINE(PL_curcop)</code> (at compile-time)</li>\n<li><code>__SUB__</code> => <code>PL_compcv</code></li>\n</ul>\n\n<p>If you need them at run-time look at the various data fields available in the context <code>caller_cx</code> and current sub (<code>cv</code>). There's no context struct as in parrot or perl6 passed around, rather a stack of active context blocks.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 2, "answer_count": 3, "score": 11, "last_activity_date": 1502979054, "creation_date": 1488815445, "last_edit_date": 1502048095, "question_id": 42629915, "link": "https://stackoverflow.com/questions/42629915/is-there-a-way-to-access-special-tokens-in-perl-from-xs", "title": "Is there a way to access special tokens in perl from XS?", "body": "<p>In perl special tokens like <code>__PACKAGE__</code>, <code>__SUB__</code>, <code>__FILE__</code>, <code>__LINE__</code> exists and available from script.</p>\n\n<p>I may get value of <code>__PACKAGE__</code> from <code>XS</code> as <code>HvNAME( PL_currstash )</code>, I suppose.<br>\nBut how to access others?</p>\n\n<p>Is there special interface to access all of them from <code>XS</code>? Like: <code>CTX-&gt;package</code>, <code>CTX-&gt;sub</code> etc.</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488814956, "post_id": 42629565, "comment_id": 72387347, "body": "Only with empty hash references? What version of the JSON module?"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1488815043, "post_id": 42629565, "comment_id": 72387415, "body": "where are <code>json_encode</code> and <code>json_decode</code> coming from? Are those typos? <code>JSON.pm</code> has no such methods."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1488815653, "post_id": 42629565, "comment_id": 72387841, "body": "I can&#39;t re-create this using perl 5.18.1 and JSON.pm v2.90. Can you post a section of code that demonstrates the issue you are having?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1488823699, "post_id": 42629565, "comment_id": 72392942, "body": "@Hunter McMillen, It&#39;s rather useless to give the version of JSON.pm, since it&#39;s just a front end for one of two other parsers"}, {"owner": {"reputation": 1083, "user_id": 4074138, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/457a1c6e5869824f6413a3cf7e920d82?s=128&d=identicon&r=PG&f=1", "display_name": "Supervision", "link": "https://stackoverflow.com/users/4074138/supervision"}, "edited": false, "score": 0, "creation_date": 1489065477, "post_id": 42629565, "comment_id": 72514688, "body": "It was typo in the functions names."}, {"owner": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "edited": false, "score": 0, "creation_date": 1489070019, "post_id": 42629565, "comment_id": 72517882, "body": "I have encountered the same spurious error. I&#39;m running Strawberry Perl 5.18.1 under Windows. JSON::PP has the version 2.274000. My hunch is that the error occurs when encoding a ref to an empty array. However I could not reproduce the error when running my script again with the sam input."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1489083026, "post_id": 42629565, "comment_id": 72527021, "body": "You&#39;re saying you literally have <code>encode_json({})</code> in your code in production? I don&#39;t believe you. I think you have something closer to <code>encode_json($var)</code>, and that <code>$var</code> doesn&#39;t contain what you think it is."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1489083148, "post_id": 42629565, "comment_id": 72527088, "body": "You you using JSON::PP or JSON::XS? You could try using the other one. If you still have the problem, it&#39;s definitely on your end."}, {"owner": {"reputation": 1083, "user_id": 4074138, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/457a1c6e5869824f6413a3cf7e920d82?s=128&d=identicon&r=PG&f=1", "display_name": "Supervision", "link": "https://stackoverflow.com/users/4074138/supervision"}, "edited": false, "score": 0, "creation_date": 1489138045, "post_id": 42629565, "comment_id": 72549850, "body": "The error occurs both on JSON::XS and original JSON.pm. I have the same code on two different servers, first has perl &quot;v5.16.2&quot; where it works fine and second has &quot;v5.18.1&quot; where the error appears."}], "owner": {"reputation": 1083, "user_id": 4074138, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/457a1c6e5869824f6413a3cf7e920d82?s=128&d=identicon&r=PG&f=1", "display_name": "Supervision", "link": "https://stackoverflow.com/users/4074138/supervision"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489065508, "creation_date": 1488814455, "last_edit_date": 1489065508, "question_id": 42629565, "link": "https://stackoverflow.com/questions/42629565/perl-v5-18-1-json-issue", "title": "Perl v5.18.1 JSON issue", "body": "<p>Recently I'd noticed that an old code with <a href=\"http://search.cpan.org/~makamaka/JSON-2.90/lib/JSON.pm#decode_json\" rel=\"nofollow noreferrer\">decode_json()</a> and  <a href=\"http://search.cpan.org/~makamaka/JSON-2.90/lib/JSON.pm#encode_json\" rel=\"nofollow noreferrer\">encode_json()</a> for example:</p>\n\n<pre><code>encode_json({});\n</code></pre>\n\n<p>which worked fine in the past, now crashes with the error:</p>\n\n<blockquote>\n  <p>hash- or arrayref expected (not a simple scalar, use allow_nonref to allow this)</p>\n</blockquote>\n\n<p>The <code>allow_nonref()</code> really helps and this works fine:</p>\n\n<pre><code>$json = JSON-&gt;new;\n$json-&gt;allow_nonref;\n$json-&gt;encode({});\n</code></pre>\n\n<p>Does someone know another way to resolve the issue, so you don't have to rewrite code in every place where these functions are used?</p>\n\n<p>Actually I'd created test script kinda:</p>\n\n<pre><code>#!/usr/bin/perl\nuse JSON;\nuse Data::Dumper;\nencode_json({});\n</code></pre>\n\n<p>And it works well, without the error, but in the production similar code causes the error. \nI don't know how to reproduce the issue on test script, but I hope that someone faced with the same issue and aware of a solution.</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1488813778, "post_id": 42629095, "comment_id": 72386456, "body": "Then all files will be identical? So why not just keep a single file?"}, {"owner": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1488813894, "post_id": 42629095, "comment_id": 72386542, "body": "No, the entries (&gt;xxxx) will be the same but their following line not and I need to analysis them separately."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1488813915, "post_id": 42629095, "comment_id": 72386553, "body": "Ok, I see the pattern now! It can definitively be done in Perl using hashes for example. But it requires a more than a one-liner. What have you tried?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488814251, "post_id": 42629095, "comment_id": 72386815, "body": "How many IDs are there over all the files? Is there always exactly one line of data between the ID lines?"}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "edited": false, "score": 0, "creation_date": 1488814383, "post_id": 42629095, "comment_id": 72386905, "body": "read about <a href=\"http://search.cpan.org/~cjfields/BioPerl-1.007001/BioPerl.pm\" rel=\"nofollow noreferrer\">bioperl</a>"}, {"owner": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488814455, "post_id": 42629095, "comment_id": 72386958, "body": "@H&#229;konH&#230;gland I used &quot;sort *.fa | uniq&quot; but it mixed all in one."}, {"owner": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1488814613, "post_id": 42629095, "comment_id": 72387073, "body": "@Borodin between 22-30. Yes always one line between IDs."}, {"owner": {"reputation": 397, "user_id": 1060384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YabF.jpg?s=128&g=1", "display_name": "Peter R", "link": "https://stackoverflow.com/users/1060384/peter-r"}, "edited": false, "score": 0, "creation_date": 1488818528, "post_id": 42629095, "comment_id": 72389822, "body": "What should happen if <code>&gt;xxxx</code> is in more than one file but the value beneath it differs between the files?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 397, "user_id": 1060384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YabF.jpg?s=128&g=1", "display_name": "Peter R", "link": "https://stackoverflow.com/users/1060384/peter-r"}, "edited": false, "score": 0, "creation_date": 1488821889, "post_id": 42629095, "comment_id": 72391957, "body": "@PeterR: The associated data is irrelevant. The problem is to remove any ID and its data if the ID doesn&#39;t appear in all of the files."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "edited": false, "score": 0, "creation_date": 1488816144, "post_id": 42629952, "comment_id": 72388187, "body": "Thank you for the script. I got this error: &quot;Use of uninitialized value $sequence in chomp at extract.pl line 27, &lt;$fh&gt; line 175.&quot; ANy ideas? I think $sequence hasn&#39;t defied?! or should $fh, &#39;&lt;&#39;, $file be $fh, &#39;&gt;&#39;, $file"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "edited": false, "score": 0, "creation_date": 1488816299, "post_id": 42629952, "comment_id": 72388283, "body": "Maybe there are empty lines in the files, or there are odd number of lines in the files? I assumed that there was always id on one line followed by sequence on next line. Test the script on the 3 sample files you provided in your question, do you still get the warning?"}, {"owner": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "edited": false, "score": 1, "creation_date": 1488817114, "post_id": 42629952, "comment_id": 72388831, "body": "There is issues with files, and im fixing them."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488818032, "post_id": 42629952, "comment_id": 72389492, "body": "The first <code>chomp (my $sequence = &lt;$fh&gt;)</code> may as well be <code>scalar &lt;$fh&gt;</code> as you don&#39;t use the value"}, {"owner": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "edited": false, "score": 0, "creation_date": 1488825551, "post_id": 42629952, "comment_id": 72393994, "body": "@H&#229;konH&#230;glandafter making all files in correct format (1st line ID then characters in the 2nd line, then another ID) still I got error: Use of uninitialized value $sequence in chomp at..."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "edited": false, "score": 0, "creation_date": 1488825830, "post_id": 42629952, "comment_id": 72394137, "body": "@Ramon Ok :) Let&#39;s dig into this.. Did you get the same message on the 3 sample files in your question?"}, {"owner": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "edited": false, "score": 0, "creation_date": 1488826305, "post_id": 42629952, "comment_id": 72394390, "body": "@H&#229;konH&#230;gland your script works on the test 3 files, I given. Should the IDs need to be sorted in all files? I guess that might be issue?!"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488826470, "post_id": 42629952, "comment_id": 72394478, "body": "No need for any sorting as far as I can see. Could you email me your actual test files, then I can try find out what is wrong... If not, try to find a particular file where the error occurs, and email me that file alone"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1488815552, "creation_date": 1488815552, "answer_id": 42629952, "question_id": 42629095, "link": "https://stackoverflow.com/questions/42629095/keep-shared-entries-among-many-files/42629952#42629952", "title": "Keep shared entries among many files", "body": "<p>Here is Perl solution, that may help you:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $file_dir = 'files';\nchdir $file_dir;\nmy @files = &lt;*.fa&gt;;\n\nmy $num_files = scalar @files;\nmy %ids;\nfor my $file (@files) {\n    open ( my $fh, '&lt;', $file) or die \"Could not open file '$file': $!\";\n    while (my $id = &lt;$fh&gt;) {\n        chomp $id;\n        chomp (my $sequence = &lt;$fh&gt;);\n        $ids{$id}++;\n    }\n    close $fh;\n}\n\nfor my $file (@files) {\n    open ( my $fh, '&lt;', $file) or die \"Could not open file '$file': $!\";\n    my $new_name = $file . '.new';\n    open ( my $fh_write, '&gt;', $new_name ) or die \"Could not open file '$new_name': $!\";\n    while (my $id = &lt;$fh&gt;) {\n        chomp $id;\n        chomp (my $sequence = &lt;$fh&gt;);\n        if ( $ids{$id} == $num_files ) {\n            say $fh_write $id;\n            say $fh_write $sequence;\n        }\n    }\n    close $fh_write;\n    close $fh;\n}\n</code></pre>\n\n<p>It assumes that all the <code>.fa</code> files are located in the directory named <code>$file_dir</code>, and it writes the new sequences to new files in the same directory. The new file names get the <code>.new</code> extension.</p>\n"}, {"comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1488818212, "post_id": 42630614, "comment_id": 72389609, "body": "If there are several times the same <code>&gt; abcd</code> in the same file, your code won&#39;t work. (not hard to correct though. And I don&#39;t know whether this could happen (should ask OP maybe); just wanted to mention it just in case)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1488818659, "post_id": 42630614, "comment_id": 72389921, "body": "@Dada: It&#39;s not much of a ID if it occurs twice, is it!"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1488818988, "post_id": 42630614, "comment_id": 72390176, "body": "I tend to understand <code>ID</code> as <code>identifier</code>, and to think it&#39;s ok to use several time the same ID (unless in html/xml or such)... Is &quot;unique&quot; part of the meaning of &quot;ID&quot; ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1488820647, "post_id": 42630614, "comment_id": 72391197, "body": "@Dada: Yes it is, especially in computing. An identifier <i>identifies</i> something, and if two or more things have the same name then you can&#39;t tell which one is being referred to so it doesn&#39;t work as an identifier."}, {"owner": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "edited": false, "score": 0, "creation_date": 1488825453, "post_id": 42630614, "comment_id": 72393948, "body": "@Borodin I got this error: &quot;0 IDs common to all files&quot;. FYI there is no more than once ID in each file and all files start with ID (&gt;xxxx) and next line text, then another ID."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "edited": false, "score": 0, "creation_date": 1488826095, "post_id": 42630614, "comment_id": 72394280, "body": "@Ramon: My code works fine with your sample data. Please set up those three files, copying and pasting from your question, and try it yourself. I can&#39;t tell how your real data differs from your example. Note that you need to set the current directory to where your <code>*.fa</code> files are before you run the program. Is that the problem?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "edited": false, "score": 0, "creation_date": 1488826328, "post_id": 42630614, "comment_id": 72394398, "body": "@Ramon: I&#39;ve altered my program so that it tells you how many files it has found. See if that helps."}, {"owner": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "edited": false, "score": 0, "creation_date": 1488826530, "post_id": 42630614, "comment_id": 72394512, "body": "@Borodin Thank you! your code is working with the sample 3 files. Im trying to find the issue. Is sorting or order of IDs matters? Because IDs are not in the same order in files."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "edited": false, "score": 0, "creation_date": 1488826795, "post_id": 42630614, "comment_id": 72394649, "body": "@Ramon: No, the order doesn&#39;t matter. Do you ever have spaces in the ID? Like <code>&gt; xxxx</code> instead of <code>&gt;xxxx</code>? Can you post one of the files?"}, {"owner": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "edited": false, "score": 0, "creation_date": 1488826868, "post_id": 42630614, "comment_id": 72394688, "body": "@Borodin No space, and all IDs have 4 characters, then next line is data (sequences)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "edited": false, "score": 0, "creation_date": 1488826984, "post_id": 42630614, "comment_id": 72394743, "body": "@Ramon: Use <code>Data::Dumper</code> and dump the <code>%ids</code> hash after the first <code>while</code> loop with <code>print Dumper \\%ids</code>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1488826237, "last_edit_date": 1488826237, "creation_date": 1488817541, "answer_id": 42630614, "question_id": 42629095, "link": "https://stackoverflow.com/questions/42629095/keep-shared-entries-among-many-files/42630614#42630614", "title": "Keep shared entries among many files", "body": "<p>This Perl program will do as you ask. It uses Perl's built-in <em>edit in place</em> functionality and renames the original files to <code>1.fa.bak</code> etc. It shouldn't have a problem with blank lines in your data as long as the sequence is always on one line immediately following the ID</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy @files = glob '*.fa';\n\nprintf \"Processing %d file%s\\n\", scalar @files, @files == 1 ? \"\" : \"s\";\n\nexit if @files &lt; 2;\n\nmy %ids;\n\n{\n    local @ARGV = @files;\n\n    while ( &lt;&gt; ) {\n        ++$ids{$1} if /^&gt;(\\S+)/;\n    }\n}\n\n# remove keys that aren't in all files\ndelete @ids{ grep { $ids{$_} &lt; @files } keys %ids };\nmy $n = keys %ids;\nprintf \"%d ID%s common to all files\\n\", $n, $n == 1 ? '' : \"s\";\n\nexit unless $n;\n\n{\n    local @ARGV = @files;\n    local $^I = '.bak';\n\n    while ( &lt;&gt; ) {\n\n        next unless /^&gt;(\\S+)/ and $ids{$1};\n\n        print;\n        print scalar &lt;&gt;;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 5473317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-ypVLpPZ4P7Y/AAAAAAAAAAI/AAAAAAAAAGE/rV3qVjj2eAE/photo.jpg?sz=128", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5473317/ramon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 42630614, "answer_count": 2, "score": -2, "last_activity_date": 1488826237, "creation_date": 1488813186, "last_edit_date": 1488814028, "question_id": 42629095, "link": "https://stackoverflow.com/questions/42629095/keep-shared-entries-among-many-files", "title": "Keep shared entries among many files", "body": "<p>I have hundreds of files, each with different number of entries (>xxxx) and want to keep only shared entries among all files, separately. I'm not sure what is the best method to do this, maybe perl! I used sort, uniq of bash, but I didn't get the correct answer. The format of IDs start with > and follows 4 characters among all files.</p>\n\n<p>1.fa</p>\n\n<pre><code>&gt;abcd\nCTGAATGCC\n</code></pre>\n\n<p>2.fa</p>\n\n<pre><code>&gt;abcd\nAAATGCGCG\n&gt;efgh\nCGTAC\n</code></pre>\n\n<p>3.fa</p>\n\n<pre><code>&gt;abcd\nATGCAATA\n&gt;efgh\nTAACGTAA\n&gt;ijkl\nTGCAA\n</code></pre>\n\n<p>Final results, of this example would be:</p>\n\n<p>1.fa</p>\n\n<pre><code>&gt;abcd\nCTGAATGCC\n</code></pre>\n\n<p>2.fa</p>\n\n<pre><code>&gt;abcd\nAAATGCGCG\n</code></pre>\n\n<p>3.fa</p>\n\n<pre><code>&gt;abcd\nATGCAATA\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "edited": false, "score": 0, "creation_date": 1488809988, "post_id": 42627737, "comment_id": 72383594, "body": "@tomsk Additionally, if you had defined <code>log</code> before calling it, you would have had a warning <code>Ambiguous call resolved as CORE::log()</code>. So calling <code>main::log();</code> will call the <code>log</code> you defined (you probably shouldn&#39;t do this though)"}, {"owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1488810231, "post_id": 42627737, "comment_id": 72383784, "body": "Note that <code>perlcritic</code> generates a more meaningful warning message for the OP: <code>Subroutine name is a homonym for builtin function log at line...</code>"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 1, "creation_date": 1488810346, "post_id": 42627737, "comment_id": 72383881, "body": "You can read about log() with <code>perldoc -f log</code> or at <a href=\"http://perldoc.perl.org/functions/log.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/log.html</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488823763, "post_id": 42627737, "comment_id": 72392985, "body": "The alternative is <code>use subs qw( log );</code>"}], "tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 7, "last_activity_date": 1488809419, "creation_date": 1488809419, "answer_id": 42627737, "question_id": 42627686, "link": "https://stackoverflow.com/questions/42627686/useless-use-of-log-in-void-context/42627737#42627737", "title": "Useless use of log in void context", "body": "<p><a href=\"http://perldoc.perl.org/functions/log.html\" rel=\"noreferrer\">log</a> is a built-in Perl function.  One way to solve this is to rename your sub:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmylog();\n\nsub mylog {\n    print \"Test\";\n    return;\n}\n</code></pre>\n"}], "owner": {"reputation": 763, "user_id": 3276539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/6W2ss.png?s=128&g=1", "display_name": "tomsk", "link": "https://stackoverflow.com/users/3276539/tomsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "accepted_answer_id": 42627737, "answer_count": 1, "score": 3, "last_activity_date": 1585255189, "creation_date": 1488809280, "last_edit_date": 1585255189, "question_id": 42627686, "link": "https://stackoverflow.com/questions/42627686/useless-use-of-log-in-void-context", "title": "Useless use of log in void context", "body": "<p>What is wrong with this code?</p>\n\n<p>I get an error: <code>Useless use of log in void context at ./test.pl line 12.</code></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nlog();\n\nsub log {\n    print \"Test\";\n    return;\n}\n</code></pre>\n"}, {"tags": ["perl", "daemon"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1488809393, "post_id": 42627637, "comment_id": 72383141, "body": "What do you mean by <i>&quot;Does not work&quot;</i>?. What error messages do you get?"}, {"owner": {"reputation": 2964, "user_id": 4485955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d31f821e9c645e34ff7ee6f729843076?s=128&d=identicon&r=PG&f=1", "display_name": "prgrm", "link": "https://stackoverflow.com/users/4485955/prgrm"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488809506, "post_id": 42627637, "comment_id": 72383232, "body": "@H&#229;konH&#230;gland Already answered it on the question. It works as a script, it doesn&#39;t do anything as a daemon. It just runs but does nothing."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488809644, "post_id": 42627637, "comment_id": 72383333, "body": "Ok, but shouldn&#39;t you test the PID returned by the <code>Init</code> method? You should only run the code if the PID is zero (indicating that you are in the child)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1488809840, "post_id": 42627637, "comment_id": 72383482, "body": "By the way, I see from the <a href=\"https://metacpan.org/pod/distribution/Proc-Daemon/lib/Proc/Daemon.pod\" rel=\"nofollow noreferrer\">documentation</a> that <i>&quot;<code>Proc::Daemon::init</code> is still available for backwards capability&quot;</i>. But what does this method do?"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 1, "creation_date": 1488813356, "post_id": 42627637, "comment_id": 72386155, "body": "Shouldn&#39;t there be a semicolon after &quot;init&quot;?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1488813533, "post_id": 42627637, "comment_id": 72386291, "body": "<code>Proc::Daemon::Init</code> requires a trailing semicolon. And you need to declare <code>$dbh</code>. This clearly isn&#39;t the code you&#39;re having trouble with."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488813619, "post_id": 42627637, "comment_id": 72386351, "body": "@H&#229;konH&#230;gland: It&#39;s a synonym for <code>Proc::Daemon::Init</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1488815116, "post_id": 42627637, "comment_id": 72387465, "body": "If that semicolon is missing in the real code it probably turns the call into <code>Proc::Daemon::init(my $continue = 1);</code>"}], "owner": {"reputation": 2964, "user_id": 4485955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d31f821e9c645e34ff7ee6f729843076?s=128&d=identicon&r=PG&f=1", "display_name": "prgrm", "link": "https://stackoverflow.com/users/4485955/prgrm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1488813190, "creation_date": 1488809124, "last_edit_date": 1488813190, "question_id": 42627637, "link": "https://stackoverflow.com/questions/42627637/perl-works-as-a-script-but-not-as-a-daemon", "title": "Perl works as a script but not as a Daemon", "body": "<p>I have written a few Perl scripts to automate some work.</p>\n\n<p>All of them function well except this one:</p>\n\n<pre><code>use DBI;\n\nuse strict;\n\nuse Proc::Daemon;\nuse File::Copy;\n\n# variables to connect to databases\nmy $info_to_connect_to_database;\n\nProc::Daemon::init\n\nmy $continue = 1;\n\n$SIG{TERM} = sub { $continue = 0 };\n\nwhile ( $continue ) {\n\n    sleep( 15 );\n\n    my $sql = 'SELECT something FROM somewhere';\n    my $sth = $dbh-&gt;prepare( $sql );\n    $sth-&gt;execute();\n\n    while ( my @row = $sth-&gt;fetchrow_array ) {\n\n        my $id              = $row[0];\n        my $hash            = $row[1];\n        my $direction       = '/home/somewhere/' . $hash;\n        my $other_direction = '/var/storage/' . $id;\n\n        opendir( my $dir, $direction ) or die \"Cannot open direction: \" . $direction . \"\\n\";\n\n        while ( my $file = readdir $dir ) {\n\n            next if ( $file eq \".\" or $file eq \"..\" );\n\n            my $from = $direction . \"/\" . \"$file\";\n            chmod 0755, $direction;\n            chown 48, 48, $direction;\n\n            if ( move( $from, $other_direction ) ) {\n\n                my $insert_sql = \"INSERT INTO something(data, moredata) VALUES ( '$id'  ,  '$file' )\";\n                my $insert_sth = $dbh-&gt;prepare( $insert_sql );\n                $insert_sth-&gt;execute();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This works perfectly fine if I run without <a href=\"https://metacpan.org/pod/Proc::Daemon\" rel=\"nofollow noreferrer\"><code>Proc::Daemon</code></a> and <code>Proc::Daemon::init</code>, but I want this to run constantly as a process.</p>\n\n<p>I have done the same on several other scripts which work just fine. There are no errors or logs because it actually works if I don't make it a process. I am clueless now.</p>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 3640, "user_id": 4916265, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/7adc8a9e81649bef7804a35ccc478ab8?s=128&d=identicon&r=PG", "display_name": "JustOnUnderMillions", "link": "https://stackoverflow.com/users/4916265/justonundermillions"}, "edited": false, "score": 0, "creation_date": 1488807324, "post_id": 42626886, "comment_id": 72381695, "body": "This works: <code>print htmlentities(gzinflate(base64_decode(base64_encode(gzdeflate&zwnj;&#8203;(&quot;&lt;?php echo &#39;hello world&#39;;?&gt;&quot;)))));</code> error mst be somewhere else."}, {"owner": {"reputation": 3640, "user_id": 4916265, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/7adc8a9e81649bef7804a35ccc478ab8?s=128&d=identicon&r=PG", "display_name": "JustOnUnderMillions", "link": "https://stackoverflow.com/users/4916265/justonundermillions"}, "edited": false, "score": 0, "creation_date": 1488807572, "post_id": 42626886, "comment_id": 72381861, "body": "If you can read it <a href=\"http://perlenespanol.com/foro/post40077.html\" rel=\"nofollow noreferrer\">perlenespanol.com/foro/post40077.html</a>"}, {"owner": {"reputation": 3640, "user_id": 4916265, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/7adc8a9e81649bef7804a35ccc478ab8?s=128&d=identicon&r=PG", "display_name": "JustOnUnderMillions", "link": "https://stackoverflow.com/users/4916265/justonundermillions"}, "edited": false, "score": 0, "creation_date": 1488807711, "post_id": 42626886, "comment_id": 72381965, "body": "Found this: <a href=\"http://forums.devshed.com/perl-programming-6/read-string-perl-compressed-php-gzdeflate-284237.html\" rel=\"nofollow noreferrer\">forums.devshed.com/perl-programming-6/&hellip;</a>  but yo need the other way around."}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 5738926, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1b125309bd578c09c51158af786f064e?s=128&d=identicon&r=PG&f=1", "display_name": "NemoBlack", "link": "https://stackoverflow.com/users/5738926/nemoblack"}, "edited": false, "score": 0, "creation_date": 1488815739, "post_id": 42628916, "comment_id": 72387903, "body": "Nice , thanks for the help , you are a hero Borodin xD."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1488812665, "creation_date": 1488812665, "answer_id": 42628916, "question_id": 42626886, "link": "https://stackoverflow.com/questions/42626886/deflate-in-perl-fails-in-php/42628916#42628916", "title": "Deflate in Perl fails in PHP", "body": "\n\n<p>If you read the manual for the <a href=\"https://metacpan.org/pod/Compress::Zlib\" rel=\"nofollow noreferrer\"><code>Compress::Zlib</code></a> module you'll find that you're using it wrongly. The result of the <em>deflate</em> operation is the output from <code>flush</code>, and you shouldn't be appending it to the output from <code>deflate</code></p>\n\n<p>The result of this program works fine in PHP, but note that you can't <code>eval \"&lt;?php echo 'hi world'; ?&gt;\"</code> because it doesn't expect <code>&lt;?php ... ?&gt;</code> around the code</p>\n\n<h3>Perl</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse MIME::Base64;\nuse Compress::Zlib;\n\nmy $php_code  = \"&lt;?php echo 'hi world'; ?&gt;\";\n\nprint \"Original: $php_code\\n\\n\";\n\nmy $d = deflateInit;\n$d-&gt;deflate($php_code);\n\nmy $buffer = $d-&gt;flush;\n\nmy $encoded = encode_base64($buffer, \"\");\n\nprint \"After Encoded Base64: $encoded\\n\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Original: &lt;?php echo 'hi world'; ?&gt;\n\nAfter Encoded Base64: s7EvyChQSE3OyFdQz8hUKM8vyklRt1awtwMAaqQH4g==\n</code></pre>\n\n<h3>PHP</h3>\n\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\n\n$encoded = \"s7EvyChQSE3OyFdQz8hUKM8vyklRt1awtwMAaqQH4g==\";\n\n$decoded = gzinflate(base64_decode($encoded));\n\necho '$decoded: ', $decoded, \"\\n\";\n\n?&gt;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>$decoded: &lt;?php echo 'hi world'; ?&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1323, "user_id": 2030808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRrvi.png?s=128&g=1", "display_name": "pmqs", "link": "https://stackoverflow.com/users/2030808/pmqs"}, "is_accepted": false, "score": 0, "last_activity_date": 1488895931, "last_edit_date": 1488895931, "creation_date": 1488823687, "answer_id": 42632599, "question_id": 42626886, "link": "https://stackoverflow.com/questions/42626886/deflate-in-perl-fails-in-php/42632599#42632599", "title": "Deflate in Perl fails in PHP", "body": "<p>You <strong>MUST</strong> keep the data returned from both the <code>deflate</code> and <code>flush</code> methods. </p>\n\n<p>In this particular instance ignoring the data returned from <code>deflate</code> just happens to work because the input is tiny. If you drop a bigger buffer into <code>deflate</code>, and ignore what it returns, you will end up with a corrupt data stream.</p>\n\n<p>Here is a bit of background -- by default <a href=\"http://search.cpan.org/~pmqs/IO-Compress-2.074/lib/Compress/Zlib.pm\" rel=\"nofollow noreferrer\">Compress::Zlib</a> will create an <a href=\"https://www.ietf.org/rfc/rfc1950\" rel=\"nofollow noreferrer\">RFC 1950</a> compliant compressed data stream. Looking at the definition of <code>gzinflate</code> <a href=\"http://php.net/manual/en/function.gzinflate.php\" rel=\"nofollow noreferrer\">here</a>, it appears that this method is expecting an <a href=\"https://www.ietf.org/rfc/rfc1951\" rel=\"nofollow noreferrer\">RFC 1951</a> compliant data stream.</p>\n\n<p>The reason the test code <em>happened</em> to work when the data returned from <code>flush</code> was ignored is down to the fact that an <a href=\"https://www.ietf.org/rfc/rfc1950\" rel=\"nofollow noreferrer\">RFC 1950</a> data stream is just an <a href=\"https://www.ietf.org/rfc/rfc1951\" rel=\"nofollow noreferrer\">RFC 1951</a> data stream with a two byte header and four byte trailer.</p>\n\n<p>The first call to <code>deflate</code> below will only return the two byte header because  <code>$php_code</code> only contains a few bytes of data</p>\n\n<pre><code>$buffer  = $d-&gt;deflate($php_code);\n</code></pre>\n\n<p>That means by ignoring the data returned from <code>deflate</code>, you end up with an <a href=\"https://www.ietf.org/rfc/rfc1951\" rel=\"nofollow noreferrer\">RFC 1951</a> data stream with the trailer from <a href=\"https://www.ietf.org/rfc/rfc1950\" rel=\"nofollow noreferrer\">RFC 1950</a>. The php <code>gzinflate</code> method seems to cope with that.</p>\n\n<p>If the input data was longer it will return the two byte header <em>and</em> some compressed data.</p>\n\n<p>To get <a href=\"http://search.cpan.org/~pmqs/IO-Compress-2.074/lib/Compress/Zlib.pm\" rel=\"nofollow noreferrer\">Compress::Zlib</a> to create the correct data stream use this</p>\n\n<pre><code>my $d = deflateInit(-WindowBits =&gt; MAX_WBITS) ;\n$buffer  = $d-&gt;deflate($php_code);\n$buffer .= $d-&gt;flush();\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 5738926, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1b125309bd578c09c51158af786f064e?s=128&d=identicon&r=PG&f=1", "display_name": "NemoBlack", "link": "https://stackoverflow.com/users/5738926/nemoblack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 42628916, "answer_count": 2, "score": 0, "last_activity_date": 1488895931, "creation_date": 1488806856, "question_id": 42626886, "link": "https://stackoverflow.com/questions/42626886/deflate-in-perl-fails-in-php", "title": "Deflate in Perl fails in PHP", "body": "<p>I'm doing a Perl script to perform a deflate in Perl so I can test in PHP, the perl result works fine but when I try\nIn PHP the resulting code I receive the error \"Warning: gzinflate(): data error in C:\\xampp\\htdocs\\test.php on line 3\"</p>\n\n<p>Source</p>\n\n<pre><code>use MIME::Base64;\nuse Compress::Zlib;\n\nmy $php_code  = \"&lt;?php echo 'hi world'; ?&gt;\"; #FAIL\n#my $php_code = \"echo 'hi world';\"; FAIL\n\nprint \"Original : \".$php_code.\"\\n\\n\";\n\nmy $buffer;\nmy $d = deflateInit();\n\n$buffer  = $d-&gt;deflate($php_code);\n$buffer .= $d-&gt;flush();\n\nprint \"After Encoded Base64 : \".$buffer.\"\\n\\n\"; #\n\nmy $encoded = encode_base64($buffer,\"\");\n\nprint \"Encoded : \".$encoded.\"\\n\\n\";\n\n$encoded = decode_base64($encoded);\n\n#\n\nprint \"After Decoded Base64 : \".$encoded.\"\\n\\n\"; #\n\nmy $decoded;\nmy $i = inflateInit();\n\nwhile ($encoded) {\n    $decoded .= $i-&gt;inflate($encoded);\n}\n\nprint \"Decoded : \".$decoded.\"\\n\\n\";\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>Original : &lt;?php echo 'hi world'; ?&gt;\n\nAfter Encoded Base64 : x\u00a3\u2502\u2592/\u255a(PHM\u256c\u255aWP\u00a4\u255aT(\u00a4/\u2569IQ\u00c0V\u2591\u00c0\u2665 j\u00f1\u00d4\n\nEncoded : eJyzsS/IKFBITc7IV1DPyFQozy/KSVG3VrC3AwBqpAfi\n\nAfter Decoded Base64 : x\u00a3\u2502\u2592/\u255a(PHM\u256c\u255aWP\u00a4\u255aT(\u00a4/\u2569IQ\u00c0V\u2591\u00c0\u2665 j\u00f1\u00d4\n\nDecoded : &lt;?php echo 'hi world'; ?&gt;\n</code></pre>\n\n<p>PHP Source</p>\n\n<pre><code>&lt;?php\n\n$uncompressed = gzinflate(base64_decode(\"eJyzsS/IKFBITc7IV1DPyFQozy/KSVG3VrC3AwBqpAfi\"));\neval($uncompressed);\n\n?&gt;\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>Warning: gzinflate(): data error in C:\\xampp\\htdocs\\test.php on line 3\n</code></pre>\n\n<p>I try removing  Tags but the same error continues</p>\n\n<p>How do I fix this error?</p>\n"}, {"tags": ["node.js", "forms", "perl", "pdf", "radio"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1488801791, "post_id": 42625135, "comment_id": 72378093, "body": "Regarding CAM::PDF, you probably need to save it back. Are you doing that? Please <a href=\"https://stackoverflow.com/posts/42625135/edit\">edit</a> your question and include the full program for both Perl and node.js. I don&#39;t know how the people in the node.js tag prefer it, but in the Perl tag we need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. In your case, the full program makes sense."}, {"owner": {"reputation": 1, "user_id": 7257491, "user_type": "registered", "profile_image": "https://graph.facebook.com/1529179090439566/picture?type=large", "display_name": "Nyiri Anna", "link": "https://stackoverflow.com/users/7257491/nyiri-anna"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488963661, "post_id": 42625135, "comment_id": 72458824, "body": "Yes, I saved. Here is the node.js program: var pdfFillForm = require(&#39;pdf-fill-form&#39;); var fs = require(&#39;fs&#39;);   var original_pdf = process.argv[2]; var input_json = process.argv[3]; var result = process.argv[4];  var formFields = pdfFillForm.readSync(original_pdf);  for (var item in formFields) { \tconsole.log(formFields[item]); }  var mydata = JSON.parse(fs.readFileSync(input_json, &#39;utf8&#39;));  var pdf = pdfFillForm.writeSync(original_pdf, \tmydata, { &quot;save&quot;: &quot;pdf&quot; } ); fs.writeFileSync(result, pdf);"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488964138, "post_id": 42625135, "comment_id": 72459095, "body": "Please <a href=\"https://stackoverflow.com/posts/42625135/edit\">edit</a> your question to include that. It&#39;s not readable in a comment."}], "answers": [{"tags": [], "owner": {"reputation": 129, "user_id": 5689797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/89uqS.jpg?s=128&g=1", "display_name": "Maheskumar", "link": "https://stackoverflow.com/users/5689797/maheskumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1546067913, "creation_date": 1546067913, "answer_id": 53967531, "question_id": 42625135, "link": "https://stackoverflow.com/questions/42625135/fill-pdf-form-using-perl-or-node/53967531#53967531", "title": "Fill PDF form using perl or node", "body": "<p>You can do with node js npm pdf-fill-form module.\nlet say you are trying to set gender:\nyour radio button must be formed this way.</p>\n\n<pre><code>{ name: 'gender',\n    page: 0,\n    value: false,\n    id: 65558,\n    caption: 'male',\n    type: 'radio' },\n  { name: 'gender',\n    page: 0,\n    value: false,\n    id: 65559,\n    caption: 'female',\n    type: 'radio' }\n</code></pre>\n\n<p>Here caption is the important one.\nif you trying to set gender is male means just do this</p>\n\n<pre><code>{ gender: 'male'}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7257491, "user_type": "registered", "profile_image": "https://graph.facebook.com/1529179090439566/picture?type=large", "display_name": "Nyiri Anna", "link": "https://stackoverflow.com/users/7257491/nyiri-anna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546067913, "creation_date": 1488801645, "last_edit_date": 1488808550, "question_id": 42625135, "link": "https://stackoverflow.com/questions/42625135/fill-pdf-form-using-perl-or-node", "title": "Fill PDF form using perl or node", "body": "<p>I need to fill PDF form, Which contains radio buttons too. I tried to fill it with perl, <code>CAM::PDF</code> module and with <code>node</code>, <code>pdf-fill-form</code> module.\nIn node, the radio's value is always undefined:</p>\n\n<pre><code>{\n    name: 'Op1',\n    page: 14,\n    value: undefined,\n    id: 983128,\n    type: 'radio'\n}\n</code></pre>\n\n<p>In perl, the object's value looks like this (if the first option is checked is S, second: XL, third: 2XL etc):</p>\n\n<pre><code>'V'=&gt; bless({\n    'gennum'=&gt;0,\n    'value'=&gt;'S',\n    'type'=&gt;'label',\n    'objnum'=&gt;988\n},\n'CAM: : PDF: : Node')\n</code></pre>\n\n<p>If I change the <strong>S</strong> to <strong>XL</strong>, nothing happens in the PDF.</p>\n\n<p>Has somebody any idea, How to fill the radio box?\nThanks for help in advance,\nAnna</p>\n"}, {"tags": ["java", "perl"], "comments": [{"owner": {"reputation": 538, "user_id": 2786940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDybM.png?s=128&g=1", "display_name": "sunil", "link": "https://stackoverflow.com/users/2786940/sunil"}, "edited": false, "score": 0, "creation_date": 1488793254, "post_id": 42622017, "comment_id": 72372682, "body": "Do you have access to the perl scripts? If you can, perhaps it&#39;s worth changing them to not require user input."}, {"owner": {"reputation": 1, "user_id": 7665466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b6a27f3c94c74428ef0dc36f729785?s=128&d=identicon&r=PG&f=1", "display_name": "Shobhna", "link": "https://stackoverflow.com/users/7665466/shobhna"}, "reply_to_user": {"reputation": 538, "user_id": 2786940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDybM.png?s=128&g=1", "display_name": "sunil", "link": "https://stackoverflow.com/users/2786940/sunil"}, "edited": false, "score": 0, "creation_date": 1488882146, "post_id": 42622017, "comment_id": 72417914, "body": "Thanks Sunil..But I can&#39;t change the scripts not to have passwords or other user inputs. It&#39;s a part of existing product."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7665466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b6a27f3c94c74428ef0dc36f729785?s=128&d=identicon&r=PG&f=1", "display_name": "Shobhna", "link": "https://stackoverflow.com/users/7665466/shobhna"}, "edited": false, "score": 0, "creation_date": 1488962704, "post_id": 42622110, "comment_id": 72458263, "body": "I can not destroy the process as different command take different time to execute. Can you suggest something where I can enter a password when the subprocess needs it."}], "tags": [], "owner": {"reputation": 124806, "user_id": 121747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9fcebb68b105446c0d9eebbce1146044?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/121747/jack"}, "is_accepted": false, "score": 1, "last_activity_date": 1488793145, "creation_date": 1488793145, "answer_id": 42622110, "question_id": 42622017, "link": "https://stackoverflow.com/questions/42622017/process-waitfor-does-not-end/42622110#42622110", "title": "process.waitFor() does not end", "body": "<p>I see two choices here:</p>\n\n<ul>\n<li>you can manage correctly stdin of the process by getting its <code>OutputStream</code> through <code>Proecess::getOutputStream</code> so that you can correctly send input and let the process finish</li>\n<li>you can destroy the process (see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#destroy--\" rel=\"nofollow noreferrer\"><code>Process::destroy</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html#destroyForcibly--\" rel=\"nofollow noreferrer\"><code>Process::destroyForcibly</code></a>) but this implies that you must choose a maximum amount of time to wait before doing so (and could create problems since you are actually trying to kill a process maybe in the middle of some operation)</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 7665466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b6a27f3c94c74428ef0dc36f729785?s=128&d=identicon&r=PG&f=1", "display_name": "Shobhna", "link": "https://stackoverflow.com/users/7665466/shobhna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488793802, "creation_date": 1488792852, "last_edit_date": 1488793802, "question_id": 42622017, "link": "https://stackoverflow.com/questions/42622017/process-waitfor-does-not-end", "title": "process.waitFor() does not end", "body": "<p>I have a JAVA code where I am executing a perl script. \nSome scripts donot return a response code but require passwords for execution. My code does not return in those cases and process.waitFor() endlessly waits. \n    Is there a way I can handle this?</p>\n\n<pre><code>Process process = pb.start();\n            int returnCode = process.waitFor();\n            System.out.print(\"return code&gt;&gt;\"+ returnCode );\n</code></pre>\n\n<p>My code has the objective to run the command and show the response code.</p>\n"}, {"tags": ["perl", "arguments", "c-preprocessor"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1488792477, "post_id": 42621524, "comment_id": 72372122, "body": "Perhaps instead you could work on making your question less confused / confusing?  It seems that probably your expectations are different from the documented behavior but we don&#39;t know what your expectations are."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1488793259, "post_id": 42621524, "comment_id": 72372687, "body": "@Jackson: Could you please explain <code>perl</code> file argument is this <code>target.c</code> or <code>preproc.exe</code> and how can we get the <code>arg1</code> &amp; <code>arg2</code> for <code>perl</code> file. If you run this in the batch file <code>SET</code> the <code>PATH</code> for <code>PreprocessorPath\\prepoc.exe</code> and the same <code>exe</code> having <code>Arg1</code> &amp; <code>Arg2</code> parameters. How it is possible."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488795870, "post_id": 42621524, "comment_id": 72374366, "body": "There is no pipe in that command"}, {"owner": {"reputation": 101, "user_id": 7115106, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0892da592872d65009b0848bc01f9f62?s=128&d=identicon&r=PG&f=1", "display_name": "Jackson", "link": "https://stackoverflow.com/users/7115106/jackson"}, "edited": false, "score": 0, "creation_date": 1488797663, "post_id": 42621524, "comment_id": 72375502, "body": "ok, perl input argument is the source file, which has to be modyfied, and the rest are arguments passed to the perl script (first one is the path to preprocessor, and next 2 ones are arguments directly passed to the preprocessor through the perl script)"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1488806339, "post_id": 42621524, "comment_id": 72381022, "body": "<code>Target.c</code> you mean this is the <code>source file</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 1, "last_activity_date": 1488807721, "last_edit_date": 1488807721, "creation_date": 1488807413, "answer_id": 42627065, "question_id": 42621524, "link": "https://stackoverflow.com/questions/42621524/perl-call-not-piping-parameters-to-executable/42627065#42627065", "title": "perl call not piping parameters to executable", "body": "<p>This is my Suggestion:</p>\n\n<p>You can use the <code>batchfile</code> instead of using in a single line several parameters with <code>applications</code>;</p>\n\n<p>Create one batchfile - <code>scriptgen.bat</code></p>\n\n<pre><code> SETPATH=%PATH%;%PreProcessorPath%\\preproc.exe  \n call preproc.exe %1 %2  \n rem %1 = Arg1 %2 = Arg1  %3 = Target.c \n perl -w ScriptGen.pl %3 %1 %2 &gt; clean.c\n</code></pre>\n\n<p>In MS-dos Prompt run:</p>\n\n<pre><code> scriptgen.bat Arg1 Arg2 Arg3\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 7115106, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0892da592872d65009b0848bc01f9f62?s=128&d=identicon&r=PG&f=1", "display_name": "Jackson", "link": "https://stackoverflow.com/users/7115106/jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1488807721, "creation_date": 1488791306, "last_edit_date": 1488794960, "question_id": 42621524, "link": "https://stackoverflow.com/questions/42621524/perl-call-not-piping-parameters-to-executable", "title": "perl call not piping parameters to executable", "body": "<p>I am calling a cmd like:</p>\n\n<pre><code>perl ScriptGen.pl Target.c %PreProcessorPath%\\preproc.exe Arg1 Arg2 &gt; clean.c\n</code></pre>\n\n<p>And I get errors which mean Arg1 and Arg2 are not correctly passed to the pre processor.</p>\n\n<p>I would like to call this perl script like this by having the target file, and preprocessor path itself as arguments to the perl script, and Arg1 Arg2 are arguments to the perl script which the preproc understands.</p>\n\n<p>EDIT: There is a </p>\n\n<pre><code>my $cmd = shift @ARGV \n</code></pre>\n\n<p>at the begginning of the script to parse the arguments, and then the script works with that.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 7, "creation_date": 1488781454, "post_id": 42618818, "comment_id": 72366265, "body": "You define a subroutine by <code>sub factorial { ... }</code>.  Without the <code>sub</code> keyword  it&#39;s something else, and not a subroutine"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1488783473, "post_id": 42618818, "comment_id": 72367137, "body": "Call function in the main <code>factorial();</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1488799098, "post_id": 42618818, "comment_id": 72376375, "body": "Also note, that <code>$ARGV[0]</code> is the first command line argument to your program, not the first parameter to your subroutine (that&#39;s in <code>$_[0]</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 8, "last_activity_date": 1488784135, "last_edit_date": 1495542722, "creation_date": 1488783415, "answer_id": 42619327, "question_id": 42618818, "link": "https://stackoverflow.com/questions/42618818/simple-factorial-function-in-perl-error-return-outside-a-subroutine/42619327#42619327", "title": "simple factorial function in perl error: return outside a subroutine", "body": "<p>Indirect method notation strikes again!<sup>[1]</sup></p>\n\n<pre><code>factorial { ... }\n</code></pre>\n\n<p>is being parsed as</p>\n\n<pre><code>(do { ... })-&gt;factorial\n</code></pre>\n\n<p>The problem is that you are missing the <code>sub</code> keyword at the start of the sub's declaration. Replace</p>\n\n<pre><code>factorial { ... }\n</code></pre>\n\n<p>with </p>\n\n<pre><code>sub factorial { ... }\n</code></pre>\n\n<hr>\n\n<p>Also, subroutine arguments are provided in <code>@_</code>, not <code>@ARGV</code>, so</p>\n\n<pre><code>my $n = $ARGV[0];\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>my $n = $_[0];\n  -or-\nmy $n = shift;\n  -or-\nmy ($n) = @_;\n</code></pre>\n\n<hr>\n\n<p>Finally, using a recursive approach is very inefficient. Sub calls are rather expensive. The following is much faster:</p>\n\n<pre><code>sub factorial {\n    my $n = shift;\n    my $acc = 1;\n    $acc *= $_ for 2..$n;\n    return $acc;\n}\n</code></pre>\n\n<hr>\n\n<ol>\n<li>It's existence causes many errors from being caught when they should be, as you can see in <a href=\"https://stackoverflow.com/q/11695110/589924\">this magnificent example</a>.</li>\n</ol>\n"}], "owner": {"reputation": 669, "user_id": 5991761, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/984565203d53cc51598def5bb244f159?s=128&d=identicon&r=PG&f=1", "display_name": "Mint.K", "link": "https://stackoverflow.com/users/5991761/mint-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2238, "favorite_count": 0, "accepted_answer_id": 42619327, "answer_count": 1, "score": 0, "last_activity_date": 1488784135, "creation_date": 1488781362, "question_id": 42618818, "link": "https://stackoverflow.com/questions/42618818/simple-factorial-function-in-perl-error-return-outside-a-subroutine", "title": "simple factorial function in perl error: return outside a subroutine", "body": "<p>I am working on a factorial function in Perl.\nThe code below gives me the error <code>Can't return outside a subroutine.</code></p>\n\n<pre><code>factorial {\n    my $n = $ARGV[0];\n    if( $n &lt;= 1 ){\n        return 1;  # ----- Error Here -----\n    }\n    else {\n        return $n * factorial($n - 1);\n    }\n}\n</code></pre>\n\n<p>I believe my if statement is still inside the subroutine. What is causing the error?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7608729"}, "edited": false, "score": 0, "creation_date": 1488775279, "post_id": 42617599, "comment_id": 72364125, "body": "Can you explain me why you had used help option @ikegami"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488784815, "post_id": 42617599, "comment_id": 72367778, "body": "Didn&#39;t have to. But I felt it was better than putting <code>print(STDERR &quot;Ask user &quot;find data&quot; on StackOverflow for usage\\n&quot;);</code> in <code>usage()</code> :)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1488776476, "last_edit_date": 1488776476, "creation_date": 1488774858, "answer_id": 42617599, "question_id": 42617353, "link": "https://stackoverflow.com/questions/42617353/how-to-pass-directory-path-as-arguments-from-command-line-using-perl/42617599#42617599", "title": "How to pass directory path as arguments from command line using perl?", "body": "<pre><code>use strict;\nuse warnings 'all';\n\nuse File::Basename qw( basename );\nuse Getopt::Long   qw( GetOptions );\n\nsub usage {\n   if (@_) {\n      my ($msg) = @_;\n      chomp($msg);\n      print(STDERR \"$msg\\n\");\n   }\n\n   my $prog = basename($0);\n   print(STDERR \"$prog --help for usage\\n\");\n   exit(1);\n}\n\nsub help {\n   my $prog = basename($0);\n   print(STDERR \"$prog [options] --output output_dir\\n\");\n   print(STDERR \"$prog --help\\n\");\n   exit(0);\n}\n\nGetopt::Long::Configure(qw( posix_default ));\u00a0 # Optional, but makes the argument-handling consistent with other programs.\nGetOptions(\n    'help|h|?' =&gt; \\&amp;help,\n    'output=s' =&gt; \\my $location_dir,\n)\n    or usage();\n\ndefined($location_dir)\n    or usage(\"--output option is required\\n\");\n\nprint(\"$location_dir\\n\");\n</code></pre>\n\n<p>Or course, if the argument is indeed required, then why not just use <code>./welcome.pl \"/home/data/output\"</code> instead of an not-really optional parameter.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse File::Basename qw( basename );\nuse Getopt::Long   qw( GetOptions );\n\nsub usage {\n   if (@_) {\n      my ($msg) = @_;\n      chomp($msg);\n      print(STDERR \"$msg\\n\");\n   }\n\n   my $prog = basename($0);\n   print(STDERR \"$prog --help for usage\\n\");\n   exit(1);\n}\n\nsub help {\n   my $prog = basename($0);\n   print(STDERR \"$prog [options] [--] output_dir\\n\");\n   print(STDERR \"$prog --help\\n\");\n   exit(0);\n}\n\nGetopt::Long::Configure(qw( posix_default ));\u00a0 # Optional, but makes the argument-handling consistent with other programs.\nGetOptions(\n    'help|h|?' =&gt; \\&amp;help,\n)\n    or usage();\n\n@ARGV == 1\n    or usage(\"Incorrect number of arguments\\n\");\n\nmy ($location_dir) = @ARGV;\n\nprint(\"$location_dir\\n\");\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7608729"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1630, "favorite_count": 1, "accepted_answer_id": 42617599, "answer_count": 1, "score": 0, "last_activity_date": 1488776476, "creation_date": 1488773155, "question_id": 42617353, "link": "https://stackoverflow.com/questions/42617353/how-to-pass-directory-path-as-arguments-from-command-line-using-perl", "title": "How to pass directory path as arguments from command line using perl?", "body": "<hr>\n\n<p>My question as follows:</p>\n\n<p>I struck with how to pass the command line arguments instead of passing directory path using perl .</p>\n\n<p>Example suppose if am executing the file as follows:</p>\n\n<pre><code>./welcome.pl -output_dir \"/home/data/output\" \n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings 'all';\nuse Getopt::Long 'GetOptions';\nGetOptions(\n          'output=s'  =&gt; \\my $output_dir,\n\n); \nmy $location_dir=\"/home/data/output\";\nprint $location_dir;\n</code></pre>\n\n<p>Code explanation:</p>\n\n<p>I tried to print the contents in the $output_dir.so i need to pass the command line arguments inside the variable (i.e <code>$location_dir</code>) instead of passing path directly how can i do it?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1488769646, "post_id": 42616335, "comment_id": 72362715, "body": "Try typing <code>perldoc -q intersection</code> at your command line to get some idea about how to get it done."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488770659, "post_id": 42616335, "comment_id": 72362930, "body": "File::Compare&#39;s <code>compare</code> expects the names of files to compare as arguments. It looks like you simply want the <code>eq</code> operator."}], "answers": [{"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 0, "last_activity_date": 1488826846, "creation_date": 1488826846, "answer_id": 42633493, "question_id": 42616335, "link": "https://stackoverflow.com/questions/42616335/filecompares-compare-always-returns-1/42633493#42633493", "title": "File::Compare&#39;s compare always returns -1", "body": "<p>ikegami noted the error in your code regarding <a href=\"https://metacpan.org/pod/File::Compare\" rel=\"nofollow noreferrer\">File::Compare</a>. Here is a possible solution that makes use of a hash, <code>%count</code>.</p>\n\n<p>It records how many times a line from either file is found. If the count == 1, then that line has only been seen once in both of the files - I think that is the result you want.</p>\n\n<p>Instead of explicitly opening each file, I supplied the filenames on the command line. This allows the <code>while &lt;&gt;</code>syntax to read both files. The command line would look like:</p>\n\n<p><code>perl program_name.pl test1.txt test2.txt</code></p>\n\n<p>(Also note that I used a cache for the sort subroutine which will increase the speed of your program if there are a large, (1000+), number of differences to be sorted. The cache isn't necessary but is useful if you have a large amount of items to sort)</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %count;\n$count{$_}++ while &lt;&gt;;\n\nprint sort by_row_num grep $count{$_} == 1, keys %count;\n\nmy %cache;\nsub by_row_num {\n    ($cache{$a} //= substr($a, 0, index($a, ',')))\n                    &lt;=&gt;\n    ($cache{$b} //= substr($b, 0, index($b, ',')))\n}\n</code></pre>\n\n<p>The output from your sample data is:</p>\n\n<pre><code>1,a\n1,1\n2,2\n2,b\n4,d\n5,5\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 6047374, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/271240b44653b660f41b618707df9e4a?s=128&d=identicon&r=PG&f=1", "display_name": "Crimthann", "link": "https://stackoverflow.com/users/6047374/crimthann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488826846, "creation_date": 1488765089, "last_edit_date": 1488771668, "question_id": 42616335, "link": "https://stackoverflow.com/questions/42616335/filecompares-compare-always-returns-1", "title": "File::Compare&#39;s compare always returns -1", "body": "<p>Background: I have no experience with Perl and have only started today, I am trying to compare two files line-by-line, find the lines that are different and record which ones they were in a separate document. I am yet to get that far, as I am adding in the functionality one step at a time.</p>\n\n<p>Error: I am doing the compare on the two file handles and I am getting -1, which is an error, according to the File::Compare documentation. However, I cannot see where the error is occurring.</p>\n\n<p>Code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Compare;\n\nmy $filename1 = 'test1.txt';\nmy $filename2 = 'test2.txt';\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename1)\n  or die \"Could not open file '$filename1' $!\";\nopen(my $fr, '&lt;:encoding(UTF-8)', $filename2)\n  or die \"Could not open file '$filename2' $!\";\n\nwhile () {\n  my $row1 = &lt;$fh&gt;;\n  my $row2 = &lt;$fr&gt;;\n  my $row1Num;\n  my $row2Num;\n  if ($row1 &amp;&amp; $row2) {\n    chomp $row1;\n    chomp $row2;\n    $row1Num = substr($row1, 0, index($row1, ','));\n    $row2Num = substr($row2, 0, index($row2, ','));\n    while ($row1Num != $row2Num) {\n      if (!$row1 || !$row2) {\n        last;\n      }\n      if ($row1Num &lt; $row2Num) {\n        #! Add row1Num to the list\n        print \"$row1\\n\";\n        $row1 = &lt;$fh&gt;;\n        if (!$row1) {\n          last;\n        }\n        chomp $row1;\n        $row1Num = substr($row1, 0, index($row1Num, ','));\n      } else {\n        #! Add row2Num to the list\n        print \"$row2\\n\";\n        $row2 = &lt;$fr&gt;;\n        if (!$row2){\n          last;\n        }\n        chomp $row2;\n        $row2Num = substr($row2, 0, index($row2Num, ','));\n      }\n    }\n  }\n  if ($row1 &amp;&amp; $row2)\n  {\n    if (compare($row1,$row2) != 0)\n    {\n      #! Add row1Num to the list\n      my $compare = compare($row1,$row2);\n      my $compare2 = compare($row2,$row1);\n      print \"Compare($row1,$row2) == $compare\\n\";\n      print \"Compare($row2,$row1) == $compare2\\n\";\n    }\n  } elsif (!$row1 &amp;&amp; $row2) {\n    #! Add row2Num to the list\n    chomp $row2;\n    print \"$row2\\n\";\n  } elsif ($row1 &amp;&amp; !$row2) {\n    #! Add row1Num to the list\n    chomp $row1;\n    print \"$row1\\n\";\n  } else {\n    last;\n  }\n}\nprint \"done\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Compare(1,a,1,1) == -1\nCompare(1,1,1,a) == -1\nCompare(2,b,2,2) == -1\nCompare(2,2,2,b) == -1\nCompare(3,3,3,3) == -1\nCompare(3,3,3,3) == -1\n4,d\n5,5\ndone\n</code></pre>\n\n<p>test1.txt:</p>\n\n<pre><code>1,a\n2,b\n3,3\n4,d\n</code></pre>\n\n<p>test2.txt:</p>\n\n<pre><code>1,1\n2,2\n3,3\n5,5\n</code></pre>\n\n<p>If anyone can spot where I am being an idiot, I would be very thankful.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1488756770, "post_id": 42615297, "comment_id": 72359698, "body": "You could try <code>print $newarray[$variable_name - 1], &quot;\\n&quot;;</code>"}, {"owner": {"reputation": 21, "user_id": 7663547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cf0f7e7c5264a40d6eb806b630d7c59?s=128&d=identicon&r=PG&f=1", "display_name": "gwen smith", "link": "https://stackoverflow.com/users/7663547/gwen-smith"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488756884, "post_id": 42615297, "comment_id": 72359727, "body": "Thank you so much! That completely worked!"}, {"owner": {"reputation": 18503, "user_id": 26702, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Eciao.jpg?s=128&g=1", "display_name": "Telemachus", "link": "https://stackoverflow.com/users/26702/telemachus"}, "edited": false, "score": 3, "creation_date": 1488756937, "post_id": 42615297, "comment_id": 72359737, "body": "A small point, but I would change <code>$variable_name</code> to something more like <code>$amacid_position</code>. It&#39;s a small thing in a case like this, but choosing descriptive names is a good habit to get into early."}, {"owner": {"reputation": 21, "user_id": 7663547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cf0f7e7c5264a40d6eb806b630d7c59?s=128&d=identicon&r=PG&f=1", "display_name": "gwen smith", "link": "https://stackoverflow.com/users/7663547/gwen-smith"}, "edited": false, "score": 0, "creation_date": 1488757297, "post_id": 42615297, "comment_id": 72359828, "body": "Thanks for the suggestion!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1488798895, "post_id": 42615297, "comment_id": 72376243, "body": "<code>@newarray</code> and <code>$variable_name</code> are terrible names for your variables. Variable names should describe the data that they contain."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 2, "last_activity_date": 1488757159, "creation_date": 1488757159, "answer_id": 42615396, "question_id": 42615297, "link": "https://stackoverflow.com/questions/42615297/finding-position-of-elements-in-perl/42615396#42615396", "title": "Finding position of elements in perl", "body": "<p>To print the value at index <code>($variable_name - 1)</code> from the array <code>@newarray</code>, you can do:</p>\n\n<pre><code>print $newarray[$variable_name - 1], \"\\n\"; \n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlintro.html#Perl-variable-types\" rel=\"nofollow noreferrer\"><code>perlintro</code></a> for more information.</p>\n"}], "owner": {"reputation": 21, "user_id": 7663547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cf0f7e7c5264a40d6eb806b630d7c59?s=128&d=identicon&r=PG&f=1", "display_name": "gwen smith", "link": "https://stackoverflow.com/users/7663547/gwen-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1488757159, "creation_date": 1488756395, "last_edit_date": 1488756692, "question_id": 42615297, "link": "https://stackoverflow.com/questions/42615297/finding-position-of-elements-in-perl", "title": "Finding position of elements in perl", "body": "<p>I am having the hardest time with the question. I am new to programming and I can not figure out how to select the amino acid at the position the user asks. Here is my question:</p>\n\n<p>This is my array: </p>\n\n<pre><code>@newarray = ('Phe', 'Val', 'Asn', 'Gln', 'His',\n             'Leu', 'Cys', 'Asp', 'Ser', 'His'); \n</code></pre>\n\n<p>The Question asks to Ask the user to enter a number between 1 and the number of amino acids in the polypeptide, and print the amino acid in that position (e.g. if the user enters \"4\" the program should print \"Gln\"</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>@newarray = ('Phe', 'Val', 'Asn', 'Gln', 'His',\n             'Leu', 'Cys', 'Asp', 'Ser', 'His'); \n\nprint \"Please print a number between 1 and 10\\n\";\n\nchomp ($variable_name = &lt;STDIN&gt;)\n</code></pre>\n"}, {"tags": ["perl", "fork", "parent-child"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488754998, "post_id": 42614996, "comment_id": 72359167, "body": "<code>$childpid</code> is zero in the child because it is set to the return value of <code>fork()</code>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1488755094, "post_id": 42614996, "comment_id": 72359208, "body": "It is odd that the parent writes to <code>WRITEPIPE</code> but closes <code>READPIPE</code>, and the child reads from <code>READPIPE</code> but closes <code>WRITEPIPE</code>."}, {"owner": {"reputation": 67, "user_id": 6951348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a5497c817ce67e393b9af6572e7876a?s=128&d=identicon&r=PG&f=1", "display_name": "The_Makings_Of_A_Coder", "link": "https://stackoverflow.com/users/6951348/the-makings-of-a-coder"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488755482, "post_id": 42614996, "comment_id": 72359318, "body": "@H&#229;konH&#230;gland thanks for the assitsance.  mob odd as in bad, or odd as in why is it working that way?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488756092, "post_id": 42614996, "comment_id": 72359485, "body": "Note that using an explicit <code>&amp;</code> prefix when calling sub routines is optional and generally not recommended, see <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow noreferrer\"><code>perlsub</code></a> and <a href=\"http://stackoverflow.com/q/1347396/2173773\">When should I use the &amp; to call a Perl subroutine?</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488759335, "post_id": 42614996, "comment_id": 72360352, "body": "Use <code>$$</code> if you want the current process&#39;s PID"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488770440, "post_id": 42615114, "comment_id": 72362883, "body": "That&#39;s not accurate. The value of <code>$$</code> is changed when you examine it, not when your <code>fork</code>. <code>$$</code> is a wrapper for <code>getpid()</code>"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1488762958, "last_edit_date": 1488762958, "creation_date": 1488754985, "answer_id": 42615114, "question_id": 42614996, "link": "https://stackoverflow.com/questions/42614996/introduction-to-parents-childs-and-forks-inquiry-perl/42615114#42615114", "title": "Introduction to Parents/Childs and Forks Inquiry (Perl)", "body": "<p>Yes, <a href=\"http://metacpan.org/pod/perlfunc#fork\" rel=\"nofollow noreferrer\">it should be 0</a>, and it would be 0 in every child process that comes out of a <code>fork</code> call.</p>\n\n<blockquote>\n  <p><strong>fork</strong></p>\n  \n  <p>Does a fork(2) system call to create a new process running the\n                 same program at the same point.  It returns the child pid to\n                 the parent process, 0 to the child process, or \"undef\" if the\n                 fork is unsuccessful.</p>\n</blockquote>\n\n<p>After the fork, <code>$$</code> is changed in the child process to the new process id. So the child could read <code>$$</code> to get the child process id (its own id).</p>\n"}], "owner": {"reputation": 67, "user_id": 6951348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a5497c817ce67e393b9af6572e7876a?s=128&d=identicon&r=PG&f=1", "display_name": "The_Makings_Of_A_Coder", "link": "https://stackoverflow.com/users/6951348/the-makings-of-a-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 42615114, "answer_count": 1, "score": 1, "last_activity_date": 1488762958, "creation_date": 1488754017, "question_id": 42614996, "link": "https://stackoverflow.com/questions/42614996/introduction-to-parents-childs-and-forks-inquiry-perl", "title": "Introduction to Parents/Childs and Forks Inquiry (Perl)", "body": "<p>I am attempting to learn the functionality of parents, children and pipes in perl.  My goal is to create a single pipe (not bidirectional) that reads from the command line, and prints it through a pipe.  Referencing the pids many many times. </p>\n\n<p>The code so far:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse warnings;\nuse strict;\n\n\npipe(READPIPE, WRITEPIPE);\nWRITEPIPE-&gt;autoflush(1);\n\nmy $parent = $$;\nmy $childpid = fork() // die \"Fork Failed $!\\n\";\n\n# This is the parent\nif ($childpid) {  \n    &amp;parent ($childpid);\n    waitpid ($childpid,0);\n    close READPIPE;\n    exit;\n}\n# This is the child\nelsif (defined $childpid) {\n    &amp;child ($parent);\n    close WRITEPIPE;\n\n}\nelse {\n}\n\nsub parent { \n    print \"The parent pid is: \",$parent, \" and the message being received is:\", $ARGV[0],\"\\n\";\n    print WRITEPIPE \"$ARGV[0]\\n\";\n    print \"My parent pid is: $parent\\n\";\n    print \"My child pid is: $childpid\\n\";   \n}\n\nsub child {\n    print \"The child pid is: \",$childpid, \"\\n\";\n    my $line = &lt;READPIPE&gt;;\n    print \"I got this line from the pipe: $line and the child pid is $childpid \\n\";\n}\n</code></pre>\n\n<p>The current output is: </p>\n\n<pre><code>perl lab5.2.pl \"I am brain dead\"\nThe parent pid is: 6779 and the message being recieved is:I am brain dead\nMy parent pid is: 6779\nMy child pid is: 6780\nThe child pid is: 0\nI got this line from the pipe: I am brain dead\n and the child pid is 0 \n</code></pre>\n\n<p>I am trying to figure out why the childpid in the child subroutine is returning as 0, but in the parent it is referencing \"accurate looking\" pid #. \nIs is supposed to return 0? (For instance if I made multiple subroutines would they be 0,1,2 etc etc?)</p>\n\n<p>Thanks in advanced.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1488816648, "post_id": 42617139, "comment_id": 72388526, "body": "My requirements better fit <code>-X</code> option. I extend your answer a bit. Thank you."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1488784587, "last_edit_date": 1488784587, "creation_date": 1488771459, "answer_id": 42617139, "question_id": 42614378, "link": "https://stackoverflow.com/questions/42614378/how-to-cleanup-all-autogenerated-files/42617139#42617139", "title": "How to cleanup all autogenerated files?", "body": "<p>The <code>META</code> files are removed because those are purely generated, but <code>README</code> and <code>LICENSE</code> are often customized, so they can't be safely removed or overwritten.</p>\n\n<p>If you don't customize <code>README</code> and <code>LICENSE</code>, and if you insist on having a means of removing them, there is a solution if you use <code>git</code>. Don't add the files to the repository (which is made easy by adding them to <code>.gitignore</code>), and use <code>git clean -dfx</code> (instead of <code>./Build distclean</code>) to freshen your directory.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 42617139, "answer_count": 1, "score": 3, "last_activity_date": 1488784587, "creation_date": 1488749862, "question_id": 42614378, "link": "https://stackoverflow.com/questions/42614378/how-to-cleanup-all-autogenerated-files", "title": "How to cleanup all autogenerated files?", "body": "<p>To create distribution in perl I use <code>Module::Build</code>. And generate meta files by command: <code>./Build distmeta</code></p>\n\n<pre><code>Creating Makefile.PL\nCreating README using Pod::Text\nCreating LICENSE file\nCreated META.yml and META.json\n</code></pre>\n\n<p>At some point I decide to delete all autogenerated files. I run <code>./Build distclean</code></p>\n\n<pre><code>Cleaning up build files\nCleaning up configuration files\n</code></pre>\n\n<p>But metafiles are left: <code>README</code>, <code>LICENSE</code></p>\n\n<p>Is there a command to cleanup those files too?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 33166, "user_id": 7509065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Joseph Sible-Reinstate Monica", "link": "https://stackoverflow.com/users/7509065/joseph-sible-reinstate-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1488747957, "creation_date": 1488747957, "answer_id": 42614006, "question_id": 42613991, "link": "https://stackoverflow.com/questions/42613991/simple-multiple-if-statements-in-perl-not-working/42614006#42614006", "title": "simple multiple if statements in Perl not working", "body": "<p>You forgot to <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\"><code>chomp;</code></a>. You're ending up with <code>\"a\\n\"</code> in <code>$ans</code>, not just <code>\"a\"</code>.</p>\n"}], "owner": {"reputation": 669, "user_id": 5991761, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/984565203d53cc51598def5bb244f159?s=128&d=identicon&r=PG&f=1", "display_name": "Mint.K", "link": "https://stackoverflow.com/users/5991761/mint-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "closed_date": 1488781155, "accepted_answer_id": 42614006, "answer_count": 1, "score": 0, "last_activity_date": 1488747957, "creation_date": 1488747865, "question_id": 42613991, "link": "https://stackoverflow.com/questions/42613991/simple-multiple-if-statements-in-perl-not-working", "closed_reason": "Duplicate", "title": "simple multiple if statements in Perl not working", "body": "<p>I am using if statements and or operators in Perl. Whatever I type, it goes to else statement. What am I doing wrong?</p>\n\n<pre><code>my $ans = &lt;STDIN&gt;;\nprint \"answer: $ans\\n\";\n\nif ($ans eq \"a\" || $ans eq \"b\") {\n    print \"you entered a or b\";\n}\nelsif ($ans eq \"c\" || $ans eq \"d\") {\n    print \"you entered c or d\";\n}\nelse {\n    print \"not a b c d \";\n}\n</code></pre>\n"}, {"tags": ["regex", "linux", "perl", "shell"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1488746609, "post_id": 42613683, "comment_id": 72356469, "body": "Try <code>sed &quot;s&#47;&#39;&#47;&#47;g&quot;</code>"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 0, "creation_date": 1488753182, "post_id": 42613683, "comment_id": 72358678, "body": "@GeorgeVasiliou: See <a href=\"http://ideone.com/pSmb3l\" rel=\"nofollow noreferrer\">ideone.com/pSmb3l</a>"}], "answers": [{"tags": [], "owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "is_accepted": false, "score": -1, "last_activity_date": 1488748714, "last_edit_date": 1488748714, "creation_date": 1488746679, "answer_id": 42613751, "question_id": 42613683, "link": "https://stackoverflow.com/questions/42613683/how-to-remove-special-characters-like-a-single-quote-from-a-string/42613751#42613751", "title": "How to remove special characters like a single quote from a string?", "body": "<p>It's unclear if the <code>'</code> are actually around your string, although this should take care it:</p>\n\n<pre><code>str=\"'http://www.google.com/photos'\"\necho \"$str\" | sed s/\\'//g | sed 's/\\/photos//g' \n</code></pre>\n\n<p>Combined:</p>\n\n<pre><code>echo \"$str\" | sed -e \"s/'//g\" -e 's/\\/photos//g'\n</code></pre>\n\n<p>Using <code>tr</code>:</p>\n\n<pre><code>echo \"$str\" | sed -e \"s/\\/photos//g\" | tr -d \\'\n</code></pre>\n\n<p><strong>Result</strong>:</p>\n\n<pre><code>http://www.google.com\n</code></pre>\n\n<p>If the single quotes are not around your string it should work regardless.</p>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 0, "last_activity_date": 1488747319, "last_edit_date": 1488747319, "creation_date": 1488746921, "answer_id": 42613795, "question_id": 42613683, "link": "https://stackoverflow.com/questions/42613683/how-to-remove-special-characters-like-a-single-quote-from-a-string/42613795#42613795", "title": "How to remove special characters like a single quote from a string?", "body": "<p>Escaping ' in sed <strong>is</strong> possible <em>via a workaround</em>:</p>\n\n<pre><code>sed 's/'\"'\"'//g'\n#      |^^^+--- bash string with the single quote inside\n#      |   '--- return to sed string \n#      '------- leave sed string and go to bash\n</code></pre>\n\n<p>But for this job you should use tr:</p>\n\n<pre><code>tr -d \"'\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "is_accepted": false, "score": 0, "last_activity_date": 1488753957, "last_edit_date": 1488753957, "creation_date": 1488752946, "answer_id": 42614852, "question_id": 42613683, "link": "https://stackoverflow.com/questions/42613683/how-to-remove-special-characters-like-a-single-quote-from-a-string/42614852#42614852", "title": "How to remove special characters like a single quote from a string?", "body": "<p>Perl Replacements have a syntax identical to sed, works better than sed, is installed almost in every system by default and works for all machines the same way (portability):</p>\n\n<pre><code>$ echo \"'http://www.google.com/photos'\" |perl -pe \"s#\\'##g;s#(.*//.*/)(.*$)#\\1#g\"\nhttp://www.google.com/\n</code></pre>\n\n<p>Mind that this solution will keep only the domain name with http in front, discarding all words following <a href=\"http://www.google.com/\" rel=\"nofollow noreferrer\">http://www.google.com/</a> </p>\n\n<p>If you want to do it with sed , you can use sed \"s/'//g\" as advised by Wiktor Stribi\u017cew in comments.<br>\nPS: I sometimes refer to special chars with their ascii hex code of the special char as advised by <code>man ascii</code>, which is <code>\\x27</code> for <code>'</code></p>\n\n<p>So for sed you can do it:  </p>\n\n<pre><code>$ echo \"'http://www.google.com/photos'\" |sed -r \"s#'##g; s#(.*//.*/)(.*$)#\\1#g;\"\nhttp://www.google.com/\n# sed \"s#\\x27##g' will also remove the single quote using hex ascii code.\n\n$ echo \"'http://www.google.com/photos'\" |sed -r \"s#'##g; s#(.*//.*)(/.*$)#\\1#g;\"\nhttp://www.google.com      #Without the last slash\n</code></pre>\n\n<p>If your string is stored in a variable, you can achieve above operations with pure bash, without the need of external tools like sed or perl like this:</p>\n\n<pre><code>$ a=\"'http://www.google.com/photos'\" &amp;&amp; a=\"${a:1:-1}\" &amp;&amp; echo \"$a\"\nhttp://www.google.com/photos\n# This removes 1st and last char of the variable , whatever this char is.    \n\n$ a=\"'http://www.google.com/photos'\" &amp;&amp; a=\"${a:1:-1}\" &amp;&amp; echo \"${a%/*}\"\nhttp://www.google.com\n#This deletes every char from the end of the string up to the first found slash /. \n#If you need the last slash you can just add it to the echo manually like echo \"${a%/*}/\" --&gt;http://www.google.com/\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7573692, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uHL0v6hEGG4/AAAAAAAAAAI/AAAAAAAABUU/elEvQB2L4Qk/photo.jpg?sz=128", "display_name": "NVTechie", "link": "https://stackoverflow.com/users/7573692/nvtechie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 637, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1488753957, "creation_date": 1488746355, "last_edit_date": 1488753303, "question_id": 42613683, "link": "https://stackoverflow.com/questions/42613683/how-to-remove-special-characters-like-a-single-quote-from-a-string", "title": "How to remove special characters like a single quote from a string?", "body": "<p>Using Sed I tried but it did not worked out.\nBasically, I have a string say:-</p>\n\n<p>Input:-</p>\n\n<p><code>'http://www.google.com/photos'</code></p>\n\n<p>Output required:-</p>\n\n<p><code>http://www.google.com</code></p>\n\n<p>I tried using sed but escaping ' is not possible.\nwhat i did was:- \nsed 's/\\'//'  | sed 's/photos//' </p>\n\n<p>sed for photos worked but for ' it didn't.\nPlease suggest what can be the solution.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488746977, "post_id": 42613315, "comment_id": 72356591, "body": "Try <code>push(@{$test2[0]}, [&#39;note&#39;, 1])</code>. Also note that  <code>@array = [ [1], [2]]</code>, is not the same as <code>@array = ( [1], [2] )</code>"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 5554249, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153696511537448/picture?type=large", "display_name": "Matthias", "link": "https://stackoverflow.com/users/5554249/matthias"}, "edited": false, "score": 0, "creation_date": 1488745046, "post_id": 42613416, "comment_id": 72355904, "body": "Thanks! But I want to get the same result as in test1 but with using push!"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "reply_to_user": {"reputation": 73, "user_id": 5554249, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153696511537448/picture?type=large", "display_name": "Matthias", "link": "https://stackoverflow.com/users/5554249/matthias"}, "edited": false, "score": 0, "creation_date": 1488745979, "post_id": 42613416, "comment_id": 72356218, "body": "That&#39;s an unusual thing to want.  In your original example code, <code>@test1</code> is an array containing a single element whereas @test2 is an array of two elements."}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 3, "last_activity_date": 1488745970, "last_edit_date": 1488745970, "creation_date": 1488744766, "answer_id": 42613416, "question_id": 42613315, "link": "https://stackoverflow.com/questions/42613315/perl-2d-array-push/42613416#42613416", "title": "Perl 2d Array Push", "body": "<p>Instead of:</p>\n\n<pre><code>my @test1 = [\n     ['note', 1],\n     ['note', 3]\n];\n</code></pre>\n\n<p>You probably want:</p>\n\n<pre><code>my @test1 = (\n     ['note', 1],\n     ['note', 3]\n);\n</code></pre>\n\n<p>The square brackets will create an anonymous array and will return a reference to the new array.  So <code>@test1</code> will contain a single scalar value which is a reference to an array.</p>\n\n<p>Also when dumping a structure like an array, it is often clearer to prefix it with a backslash in order to pass a reference:</p>\n\n<pre><code>print Dumper(\\@test2);\n</code></pre>\n\n<p>Which gives:</p>\n\n<pre><code>$VAR1 = [\n      [\n        'note',\n        1\n      ],\n      [\n        'note',\n        3\n      ]\n    ];\n</code></pre>\n\n<p>Remember when you pass an array in a Perl function call, the array gets \"flattened\" into the argument list.</p>\n"}], "owner": {"reputation": 73, "user_id": 5554249, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153696511537448/picture?type=large", "display_name": "Matthias", "link": "https://stackoverflow.com/users/5554249/matthias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1286, "favorite_count": 0, "accepted_answer_id": 42613416, "answer_count": 1, "score": 0, "last_activity_date": 1488805836, "creation_date": 1488744253, "last_edit_date": 1488805836, "question_id": 42613315, "link": "https://stackoverflow.com/questions/42613315/perl-2d-array-push", "title": "Perl 2d Array Push", "body": "<p>Why is there a difference in the creation of the following arrays @test1 and @test2?</p>\n\n<pre><code>#!/bin/perl -w\nuse Data::Dumper;\nuse warnings;\nuse strict;\n\nmy @test1 = [\n     ['note', 1],\n     ['note', 3]\n];\n\nprint Dumper(@test1);\n\nmy @test2;\npush(@test2, ['note', 1]);\npush(@test2, ['note', 3]);\n\nprint Dumper(@test2);\n</code></pre>\n\n<p>Datadump for test1:</p>\n\n<pre><code>$VAR1 = [\n      [\n        'note',\n        1\n      ],\n      [\n        'note',\n        3\n      ]\n    ];\n</code></pre>\n\n<p>Dumpt for test2:</p>\n\n<pre><code>$VAR1 = [\n          'note',\n          1\n        ];\n$VAR2 = [\n          'note',\n          3\n        ];\n</code></pre>\n\n<p>Is there a possibility to create the same result of @test1 with iterative pushing to @test2?</p>\n"}, {"tags": ["perl", "reference"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 7611054, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7f7baac162bd9454aa44636e9427069?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/7611054/michael"}, "edited": false, "score": 0, "creation_date": 1488740455, "post_id": 42612574, "comment_id": 72354186, "body": "Thanks! And yes I am aware about anonymous arrays and referencing, I am starting to think one of the mistakes in the code is that it should read as:  my $x = $aref=&gt;{structure}; Also I have no idea how to do inline code blocks, so sorry about that. If that line of code is correct what would is do now? And how would I access the list items? Hope that makes a bit more sense."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 69, "user_id": 7611054, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7f7baac162bd9454aa44636e9427069?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/7611054/michael"}, "edited": false, "score": 1, "creation_date": 1488740979, "post_id": 42612574, "comment_id": 72354402, "body": "@Michael Ad: <i>And how would I access the list items?</i> - explained in the above docs. You really need read the <code>perlreftut</code> to understand the difference between <code>$r-&gt;[2]</code> and <code>$r-&gt;{2}</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 69, "user_id": 7611054, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7f7baac162bd9454aa44636e9427069?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/7611054/michael"}, "edited": false, "score": 0, "creation_date": 1488742517, "post_id": 42612574, "comment_id": 72355004, "body": "@Michael: No. <code>my $x = $aref=&gt;{structure}</code> is wrong. The <code>=&gt;</code> operator is known at the <i>fat comma</i>, and is nothing to do with the dereferencing arrow <code>-&gt;</code>. It does exactly the same as a comma except that if there is a &quot;bareword&quot; (an alphanumeric string, basically) before it then it implicitly quotes it, so <code>( xx =&gt; 1)</code> is identical to <code>( &#39;xx&#39;, 1 )</code>. Because <code>$aref</code> isn&#39;t a bareword (it has a dollar sign in it), <code>my $x = $aref=&gt;{structure}</code> is the same as <code>my $x = $aref, {structure}</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488742544, "post_id": 42612574, "comment_id": 72355017, "body": "Have you tried running those two lines of code? Do you understand the error message?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1488740117, "creation_date": 1488740117, "answer_id": 42612574, "question_id": 42612421, "link": "https://stackoverflow.com/questions/42612421/what-does-an-arrow-reference-to-a-not-yet-defined-key-do-in-perl/42612574#42612574", "title": "What does an arrow reference to a not yet defined key do in perl?", "body": "<p>Have you tried running that code? What error message do you get? Do you understand it?</p>\n\n<p>I agree that it's hard to know what sort of \"fix\" is expected, but I don't want to introduce you to something that you're not supposed to have covered yet. I think it's fair to say that deleting the second line is the most appropriate fix, but I doubt if that's what your tutor expects!</p>\n\n<p>Do you know that <code>[ 1, 2, 3, 4 ]</code> creates an <em>anonymous array</em> and returns a <em>reference</em> to it? If not then that is something you can google</p>\n\n<p>So <code>my $aref = [ 1, 2, 3, 4 ]</code> puts into <code>$aref</code> a reference to an array (with four elements). Do you know how to access array elements from references? If not then <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\"><code>perldoc perlreftut</code></a> (a tutorial) and <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\"><code>perldoc perlref</code></a> are essential</p>\n\n<p>And do you know how to access ordinary arrays, and ordinary hashes? I'm concerned that you think <code>structure</code> is a \"keyword\". Maybe you need to read <a href=\"http://perldoc.perl.org/perlintro.html#Perl-variable-types\" rel=\"nofollow noreferrer\"><em>Perl variable types</em> in <code>perldoc perlintro</code></a></p>\n\n<p>I hope that helps. If I get a better sense of where you're stuck I can give you much more appropriate help</p>\n"}], "owner": {"reputation": 69, "user_id": 7611054, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7f7baac162bd9454aa44636e9427069?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/7611054/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 42612574, "answer_count": 1, "score": 0, "last_activity_date": 1488740117, "creation_date": 1488739388, "last_edit_date": 1488739520, "question_id": 42612421, "link": "https://stackoverflow.com/questions/42612421/what-does-an-arrow-reference-to-a-not-yet-defined-key-do-in-perl", "title": "What does an arrow reference to a not yet defined key do in perl?", "body": "<p>The arrow notation is asked about a lot here, but I can't seem to find the specific example I have. I would like to apologise in advance if I just missed it.</p>\n\n<p>I have been given an assignment to correct some Perl code, but I simply do not understand what this line of code is supposed to do:</p>\n\n<pre><code>my $aref = [1,2,3,4];\n\nmy $x = $aref-&gt;{structure};\n</code></pre>\n\n<p>So as this is part of the assignment, the line itself could be the mistake, and there is more to the code too but my question is why is there an undefined keyword <code>{structure}</code>? What does it do?</p>\n"}, {"tags": ["windows", "perl", "installation", "sdl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488731336, "post_id": 42610856, "comment_id": 72350888, "body": "So you&#39;re on Windows, but those examples are for Linux. What exactly have you installed, how did you do that, and which version of Perl are you running?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488731660, "post_id": 42610856, "comment_id": 72350994, "body": "As a first step, try determine the location where <code>cpan</code> installed the module <code>SDL</code> by running <code>cpan -D SDL</code>."}, {"owner": {"reputation": 21, "user_id": 7662281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d020182955c633469b7a15494d3e335?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Roberts", "link": "https://stackoverflow.com/users/7662281/chris-roberts"}, "edited": false, "score": 0, "creation_date": 1488731728, "post_id": 42610856, "comment_id": 72351026, "body": "I am running perl 5, version 24, subversion 1 (v5.24.1). In the command prompt i just ran &quot;cpan CPAN&quot; followed by &quot;cpan YAML Module::Build&quot; and then tried installing SDL running &quot;cpan SDL&quot;  This was all after trying to install the module using &quot;cpan Alien::SDL&quot;"}, {"owner": {"reputation": 21, "user_id": 7662281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d020182955c633469b7a15494d3e335?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Roberts", "link": "https://stackoverflow.com/users/7662281/chris-roberts"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488732070, "post_id": 42610856, "comment_id": 72351130, "body": "@H&#229;konH&#230;gland - When I ran &quot;cpan -D SDL&quot; I got this message:  Loading internal null logger. Install Log::Log4perl for logging messages CPAN: Term::ANSIColor loaded ok (v4.06) CPAN: Storable loaded ok (v2.56_01) Reading &#39;C:\\Perl\\cpan\\Metadata&#39;   Database was generated on Sat, 04 Mar 2017 15:41:02 GMT SDL         (no description)         F/FR/FROGGS/SDL-2.546.tar.gz         (no installation file)         Installed: not installed         CPAN:      2.546  Not up to date         Tobias Leich (FROGGS)         froggs@cpan.org"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488732420, "post_id": 42610856, "comment_id": 72351255, "body": "Ok, seems like you have not installed the module yet :) Just go ahead and install it.."}, {"owner": {"reputation": 21, "user_id": 7662281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d020182955c633469b7a15494d3e335?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Roberts", "link": "https://stackoverflow.com/users/7662281/chris-roberts"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488732592, "post_id": 42610856, "comment_id": 72351315, "body": "@H&#229;konH&#230;gland Sorry for my ignorance. I thought that is what &quot;cpan Alien::SDL&quot; did when I ran that command. Is there another way for me to manually install the module?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488732703, "post_id": 42610856, "comment_id": 72351361, "body": "Try run <code>sudo cpan SDL</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488732966, "post_id": 42610856, "comment_id": 72351444, "body": "Which distribution of Perl do you have? Strawberry Perl? ActivePerl? To install the <code>SDL</code> module on Windows you need <code>cpan SDL</code>."}, {"owner": {"reputation": 21, "user_id": 7662281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d020182955c633469b7a15494d3e335?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Roberts", "link": "https://stackoverflow.com/users/7662281/chris-roberts"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1488733028, "post_id": 42610856, "comment_id": 72351469, "body": "@H&#229;konH&#230;gland. I am using windows so I dont think I can use &quot;sudo&quot;. C:\\Users\\Chris\\Desktop&gt;sudo cpan SDL &#39;sudo&#39; is not recognized as an internal or external command, operable program or batch file.  I tried running cmd as administrator and running &quot;cpan SDL&quot; but still with no success."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488733180, "post_id": 42610856, "comment_id": 72351528, "body": "@Borodin Thanks for the comment, I am not familar with Windows so I did not think about that <code>sudo</code> was not available"}, {"owner": {"reputation": 21, "user_id": 7662281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d020182955c633469b7a15494d3e335?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Roberts", "link": "https://stackoverflow.com/users/7662281/chris-roberts"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488733852, "post_id": 42610856, "comment_id": 72351800, "body": "@Borodin I&#39;m running v5.24.1. Running &quot;cpan SDL&quot; in the command prompt does not seem to work. Get this message at the end of the prompt: Configuring F/FR/FROGGS/SDL-2.546.tar.gz with Build.PL *** !!!WARNING!!! *** This Release breaks back compatibility support with versions 2.4x and below *** Using &#39;My::Builder::Windows&#39; class ... fileparse(): need a valid pathname at C:/Perl/lib/ExtUtils/CBuilder/Base.pm line 48. Warning: No success on command[C:\\Perl\\bin\\perl.exe Build.PL --installdirs=site]   FROGGS/SDL-2.546.tar.gz   C:\\Perl\\bin\\perl.exe Build.PL --installdirs=site -- NOT OK"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488734001, "post_id": 42610856, "comment_id": 72351852, "body": "Okay, but whose <i>distribution</i> do you have? ActiveState, Strawberry, or something else. I.e. where did you get your copy of Perl from? I want to know so that I can try it myself. Also, please <i>edit your question</i> to add new information. It&#39;s not very readable in comments."}, {"owner": {"reputation": 21, "user_id": 7662281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d020182955c633469b7a15494d3e335?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Roberts", "link": "https://stackoverflow.com/users/7662281/chris-roberts"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488736387, "post_id": 42610856, "comment_id": 72352708, "body": "@Borodin ActiveState. I believe I downloaded it from here:activestate.com/activeperl/downloads perl 5, version 24, subversion 1 (v5.24.1) built for MSWin32-x86-multi-thread-64int Binary build 2402 [401627] provided by ActiveState ActiveState.com. I will edit question now."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7662281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d020182955c633469b7a15494d3e335?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Roberts", "link": "https://stackoverflow.com/users/7662281/chris-roberts"}, "edited": false, "score": 0, "creation_date": 1488747521, "post_id": 42612711, "comment_id": 72356755, "body": "I tried using &quot;cpan&quot; to enter the cpan program and then &quot;install SDL&quot; as suggested. As requested I have added the failed install log to my question under &quot;Edit No2&quot;. Many thanks for your participation in trying to resolve this for me."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1488740831, "creation_date": 1488740831, "answer_id": 42612711, "question_id": 42610856, "link": "https://stackoverflow.com/questions/42610856/cant-successfully-install-sdl-for-perl-to-make-games/42612711#42612711", "title": "Cant successfully install SDL for Perl to make games", "body": "<p>SDL installs just fine for me on ActivePerl</p>\n\n<p>Regarding <code>Alien::SDL</code>, that is the SDL <em>binaries</em> which the main <code>SDL</code> module requires. It also needs a bunch of other stuff, but <code>cpan</code> should install all of that for you</p>\n\n<p>I recommend that you use the <code>cpan</code> to enter the program and get the <code>cpan&gt;</code> prompt. Then try</p>\n\n<pre><code>cpan&gt; install SDL\n</code></pre>\n\n<p>It should test and install any modules that you need and finally <code>SDL</code> itself</p>\n\n<p>If it fails, then please add the failed install log to your question</p>\n"}, {"tags": [], "owner": {"reputation": 2626, "user_id": 849967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c89ef80ed860b95e68b42e0d5353e?s=128&d=identicon&r=PG", "display_name": "Kjetil S.", "link": "https://stackoverflow.com/users/849967/kjetil-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1492069683, "last_edit_date": 1492069683, "creation_date": 1488787969, "answer_id": 42620561, "question_id": 42610856, "link": "https://stackoverflow.com/questions/42610856/cant-successfully-install-sdl-for-perl-to-make-games/42620561#42620561", "title": "Cant successfully install SDL for Perl to make games", "body": "<p>Recommend installing in Ubuntu, SDL installs without trouble there. If you don't want to switch, try Ubuntu on a USB stick: <a href=\"https://www.ubuntu.com/download/desktop/create-a-usb-stick-on-windows\" rel=\"nofollow noreferrer\">https://www.ubuntu.com/download/desktop/create-a-usb-stick-on-windows</a></p>\n"}], "owner": {"reputation": 21, "user_id": 7662281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d020182955c633469b7a15494d3e335?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Roberts", "link": "https://stackoverflow.com/users/7662281/chris-roberts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 516, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1492069683, "creation_date": 1488731146, "last_edit_date": 1488743649, "question_id": 42610856, "link": "https://stackoverflow.com/questions/42610856/cant-successfully-install-sdl-for-perl-to-make-games", "title": "Cant successfully install SDL for Perl to make games", "body": "<p>I have been teaching myself Perl after being introduced to the language during a programming module during my Bioinformatics Masters studies at the University of Liverpool, UK.</p>\n\n<p>I have decided that for fun in my spare time I would practise my new skills building basic games and so have downloaded the SDL::Manual Writing Games in Perl pdf.</p>\n\n<p>I have followed the instructions for installing SDL:</p>\n\n<p>1.3 Installing SDL Perl</p>\n\n<p>We assume the presence of a recent version of the Perl language (at least Perl 5.10) and supporting packages. We also assume that you can install packages from the CPAN, including SDL Perl itself.</p>\n\n<p>1.3.1 Windows</p>\n\n<p>Alien::SDL will install binaries for 32bit and 64bit so there is no need to compile anything.</p>\n\n<p>I am using a windows machine. </p>\n\n<p>In the command prompt I type \"cpan Alien::SDL\"</p>\n\n<p>I have also tried :</p>\n\n<p>1.3.4 CPAN install</p>\n\n<p>Before installing SDL Perl, ensure that you have the most recent versions of the modulesnecessary to build SDL:</p>\n\n<pre><code> $ sudo cpan CPAN\n $ sudo cpan YAML Module::Build\n</code></pre>\n\n<p>After these two steps CPAN will be able to install SDL:</p>\n\n<pre><code> $ sudo cpan SDL\n</code></pre>\n\n<p>When I try to run the first example script:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse SDL;\nuse SDLx::App;\n\nmy $app = SDLx::App-&gt;new();\n\nsleep( 2 );\n</code></pre>\n\n<p>I get this error: </p>\n\n<p>Can't locate SDL.pm in @INC (you may need to install the SDL module) (@INC contains: C:/Perl/site/lib C:/Perl/lib .) at test.pl line 5.\nBEGIN failed--compilation aborted at test.pl line 5.</p>\n\n<p>I have searched for solutions online but have not found anything that works. I have tried installing strawberry perl and following the steps above with no success.</p>\n\n<p>Thanks in advance for your help.</p>\n\n<hr>\n\n<p>EDIT in response to comments:</p>\n\n<p>I am running ActiveState Perl downloaded from www.activestate.com/activeperl/downloads </p>\n\n<p>perl 5, version 24, subversion 1 (v5.24.1) built for MSWin32-x86-multi-thread-64int Binary build 2402 [401627] </p>\n\n<p>After determining the location where cpan installed the module SDL by running cpan -D SDL it turned out the module has not yet installed.</p>\n\n<p>Tried again to install the SDL module on Windows runnning \"cpan SDL\" in the command prompt but recieved this message at the end of the prompt:</p>\n\n<pre><code>Configuring F/FR/FROGGS/SDL-2.546.tar.gz with Build.PL\n*************************** !!!WARNING!!!       ********************************\nThis Release breaks back compatibility support with versions 2.4x and     below\n     **************************************************************************\nUsing 'My::Builder::Windows' class ...\nfileparse(): need a valid pathname at C:/Perl/lib/ExtUtils/CBuilder    /Base.pm line 48.\nWarning: No success on command[C:\\Perl\\bin\\perl.exe Build.PL     --installdirs=site]\n  FROGGS/SDL-2.546.tar.gz\n  C:\\Perl\\bin\\perl.exe Build.PL --installdirs=site -- NOT OK\n</code></pre>\n\n<hr>\n\n<p>Edit No2 in Response to Answer  from @Borodin</p>\n\n<p>I used \"cpan\" to enter the program and get the cpan> prompt. Then tried:</p>\n\n<p>cpan> install SDL</p>\n\n<p>The failed install log is as below:</p>\n\n<pre><code>cpan&gt; install SDL\nReading 'C:\\Perl\\cpan\\Metadata'\n  Database was generated on Sun, 05 Mar 2017 16:17:03 GMT\nRunning install for module 'SDL'\nChecksum for C:\\Perl\\cpan\\sources\\authors\\id\\F\\FR\\FROGGS\\SDL-2.546.tar.gz ok\nScanning cache C:\\Perl/cpan/build for sizes\n.......---------------------------------------------------------------------    DONE\nDEL(1/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-Ry63hQ\nDEL(2/45): C:\\Perl\\cpan\\build\\tmp-8260\nDEL(3/45): C:\\Perl\\cpan\\build\\File-ShareDir-1.102-ZEDEAk\nDEL(4/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-uYw0HW.yml\nDEL(5/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-uYw0HW\nDEL(6/45): C:\\Perl\\cpan\\build\\tmp-9900\nDEL(7/45): C:\\Perl\\cpan\\build\\File-ShareDir-1.102-D3CWex\nDEL(8/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-8w1iMC\nDEL(9/45): C:\\Perl\\cpan\\build\\File-ShareDir-Install-0.11-eZrfcU\nDEL(10/45): C:\\Perl\\cpan\\build\\File-ShareDir-Install-0.11-eZrfcU.yml\nDEL(11/45): C:\\Perl\\cpan\\build\\Class-Inspector-1.31-q85DoY\nDEL(12/45): C:\\Perl\\cpan\\build\\Class-Inspector-1.31-q85DoY.yml\nDEL(13/45): C:\\Perl\\cpan\\build\\File-ShareDir-1.102-0NJhW3\nDEL(14/45): C:\\Perl\\cpan\\build\\File-ShareDir-1.102-0NJhW3.yml\nDEL(15/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-8w1iMC.yml\nDEL(16/45): C:\\Perl\\cpan\\build\\SDL-2.546-uInIpE\nDEL(17/45): C:\\Perl\\cpan\\build\\SDL-2.546-uInIpE.yml\nDEL(18/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-mjDNhS\nDEL(19/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-mjDNhS.yml\nDEL(20/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-bMFs_e\nDEL(21/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-bMFs_e.yml\nDEL(22/45): C:\\Perl\\cpan\\build\\CPAN-2.16-dKjoJS\nDEL(23/45): C:\\Perl\\cpan\\build\\CPAN-2.16-dKjoJS.yml\nDEL(24/45): C:\\Perl\\cpan\\build\\SDL-2.546-PQW9_Y\nDEL(25/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-rcxZIw\nDEL(26/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-rcxZIw.yml\nDEL(27/45): C:\\Perl\\cpan\\build\\SDL-2.546-PQW9_Y.yml\nDEL(28/45): C:\\Perl\\cpan\\build\\SDL-2.546-1bjrml\nDEL(29/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-RHakeY\nDEL(30/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-RHakeY.yml\nDEL(31/45): C:\\Perl\\cpan\\build\\SDL-2.546-1bjrml.yml\nDEL(32/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-c8W7Wx\nDEL(33/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-c8W7Wx.yml\nDEL(34/45): C:\\Perl\\cpan\\build\\SDL-2.546-F3Cec8.yml\nDEL(35/45): C:\\Perl\\cpan\\build\\SDL-2.546-F3Cec8\nDEL(36/45): C:\\Perl\\cpan\\build\\tmp-3500\nDEL(37/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-4WCocG\nDEL(38/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-lm9Pyz\nDEL(39/45): C:\\Perl\\cpan\\build\\Alien-SDL-1.446-lm9Pyz.yml\nDEL(40/45): C:\\Perl\\cpan\\build\\Test-Deep-1.126-EbwC2Z\nDEL(41/45): C:\\Perl\\cpan\\build\\Test-Deep-1.126-EbwC2Z.yml\nDEL(42/45): C:\\Perl\\cpan\\build\\Test-Warn-0.32-NqNVqB\nDEL(43/45): C:\\Perl\\cpan\\build\\Test-Warn-0.32-NqNVqB.yml\nDEL(44/45): C:\\Perl\\cpan\\build\\Test-Most-0.35-MKUUN1\nDEL(45/45): C:\\Perl\\cpan\\build\\Test-Most-0.35-MKUUN1.yml\nSDL-2.546\nSDL-2.546/INSTALL\nSDL-2.546/META.yml\nSDL-2.546/TODO\nSDL-2.546/OFL.txt\nSDL-2.546/typemap\nSDL-2.546/META.json\nSDL-2.546/CHANGELOG\nSDL-2.546/MANIFEST\nSDL-2.546/COPYING\nSDL-2.546/OFL-FAQ.txt\nSDL-2.546/Build.PL\nSDL-2.546/lib\nSDL-2.546/lib/SDL_perl.pm\nSDL-2.546/lib/SDL.pm\nSDL-2.546/lib/SDLx\nSDL-2.546/lib/SDLx/Music.pm\nSDL-2.546/lib/SDLx/Controller.pm\nSDL-2.546/lib/SDLx/Validate.pm\nSDL-2.546/lib/SDLx/Sprite.pm\nSDL-2.546/lib/SDLx/SFont.pm\nSDL-2.546/lib/SDLx/Layer.pm\nSDL-2.546/lib/SDLx/Text.pm\nSDL-2.546/lib/SDLx/Sound.pm\nSDL-2.546/lib/SDLx/Surface.pm\nSDL-2.546/lib/SDLx/App.pm\nSDL-2.546/lib/SDLx/Rect.pm\nSDL-2.546/lib/SDLx/TTF.pm\nSDL-2.546/lib/SDLx/FPS.pm\nSDL-2.546/lib/SDLx/LayerManager.pm\nSDL-2.546/lib/SDLx/Sprite\nSDL-2.546/lib/SDLx/Sprite/Animated.pm\nSDL-2.546/lib/SDLx/Surface\nSDL-2.546/lib/SDLx/Surface/TiedMatrixRow.pm\nSDL-2.546/lib/SDLx/Surface/TiedMatrix.pm\nSDL-2.546/lib/SDLx/Music\nSDL-2.546/lib/SDLx/Music/Data.pm\nSDL-2.546/lib/SDLx/Music/Default.pm\nSDL-2.546/lib/SDLx/Controller\nSDL-2.546/lib/SDLx/Controller/State.pm\nSDL-2.546/lib/SDLx/Controller/Interface.pm\nSDL-2.546/lib/SDLx/Controller/Timer.pm\nSDL-2.546/lib/Module\nSDL-2.546/lib/Module/Build\nSDL-2.546/lib/Module/Build/SDL.pm\nSDL-2.546/lib/SDL \nSDL-2.546/lib/SDL/Event.pm\nSDL-2.546/lib/SDL/Cursor.pm\nSDL-2.546/lib/SDL/PixelFormat.pm\nSDL-2.546/lib/SDL/Net.pm\nSDL-2.546/lib/SDL/AudioCVT.pm\nSDL-2.546/lib/SDL/Palette.pm\nSDL-2.546/lib/SDL/Audio.pm\nSDL-2.546/lib/SDL/Tutorial.pm\nSDL-2.546/lib/SDL/Events.pm\nSDL-2.546/lib/SDL/VideoInfo.pm\nSDL-2.546/lib/SDL/Overlay.pm\nSDL-2.546/lib/SDL/CDTrack.pm\nSDL-2.546/lib/SDL/RWOps.pm\nSDL-2.546/lib/SDL/AudioSpec.pm\nSDL-2.546/lib/SDL/GFX.pm\nSDL-2.546/lib/SDL/Constants.pm\nSDL-2.546/lib/SDL/Time.pm\nSDL-2.546/lib/SDL/MultiThread.pm\nSDL-2.546/lib/SDL/Mixer.pm\nSDL-2.546/lib/SDL/TTFont.pm\nSDL-2.546/lib/SDL/SMPEG.pm\nSDL-2.546/lib/SDL/Config.pm\nSDL-2.546/lib/SDL/Mouse.pm\nSDL-2.546/lib/SDL/Joystick.pm\nSDL-2.546/lib/SDL/Image.pm\nSDL-2.546/lib/SDL/Surface.pm\nSDL-2.546/lib/SDL/Pango.pm\nSDL-2.546/lib/SDL/Rect.pm\nSDL-2.546/lib/SDL/TTF.pm\nSDL-2.546/lib/SDL/Video.pm\nSDL-2.546/lib/SDL/Color.pm\nSDL-2.546/lib/SDL/CD.pm\nSDL-2.546/lib/SDL/CDROM.pm\nSDL-2.546/lib/SDL/Version.pm\nSDL-2.546/lib/SDL/GFX\nSDL-2.546/lib/SDL/GFX/Framerate.pm\nSDL-2.546/lib/SDL/GFX/ImageFilter.pm\nSDL-2.546/lib/SDL/GFX/FPSManager.pm\nSDL-2.546/lib/SDL/GFX/BlitFunc.pm\nSDL-2.546/lib/SDL/GFX/Rotozoom.pm\nSDL-2.546/lib/SDL/GFX/Primitives.pm\nSDL-2.546/lib/SDL/SMPEG\nSDL-2.546/lib/SDL/SMPEG/Info.pm\nSDL-2.546/lib/SDL/TTF\nSDL-2.546/lib/SDL/TTF/Font.pm\nSDL-2.546/lib/SDL/Pango\nSDL-2.546/lib/SDL/Pango/Context.pm\nSDL-2.546/lib/SDL/Tutorial\nSDL-2.546/lib/SDL/Tutorial/Animation.pm\nSDL-2.546/lib/SDL/Tutorial/LunarLander.pm\nSDL-2.546/lib/SDL/Mixer\nSDL-2.546/lib/SDL/Mixer/Music.pm\nSDL-2.546/lib/SDL/Mixer/MixMusic.pm\nSDL-2.546/lib/SDL/Mixer/Samples.pm\nSDL-2.546/lib/SDL/Mixer/Channels.pm\nSDL-2.546/lib/SDL/Mixer/Groups.pm\nSDL-2.546/lib/SDL/Mixer/Effects.pm\nSDL-2.546/lib/SDL/Mixer/MixChunk.pm\nSDL-2.546/lib/SDL/Net\nSDL-2.546/lib/SDL/Net/IPaddress.pm\nSDL-2.546/lib/SDL/Net/TCP.pm\nSDL-2.546/lib/SDL/Net/UDP.pm\nSDL-2.546/lib/SDL/Internal\nSDL-2.546/lib/SDL/Internal/Loader.pm\nSDL-2.546/lib/pods\nSDL-2.546/lib/pods/SDL.pod\nSDL-2.546/lib/pods/SDLx\nSDL-2.546/lib/pods/SDLx/Text.pod\nSDL-2.546/lib/pods/SDLx/Surface.pod\nSDL-2.546/lib/pods/SDLx/Sound.pod\nSDL-2.546/lib/pods/SDLx/SFont.pod\nSDL-2.546/lib/pods/SDLx/Rect.pod\nSDL-2.546/lib/pods/SDLx/Music.pod\nSDL-2.546/lib/pods/SDLx/App.pod\nSDL-2.546/lib/pods/SDLx/Sprite.pod\nSDL-2.546/lib/pods/SDLx/Controller.pod\nSDL-2.546/lib/pods/SDLx/Layer.pod\nSDL-2.546/lib/pods/SDLx/LayerManager.pod\nSDL-2.546/lib/pods/SDLx/Sprite\nSDL-2.546/lib/pods/SDLx/Sprite/Animated.pod\nSDL-2.546/lib/pods/SDLx/Controller\nSDL-2.546/lib/pods/SDLx/Controller/State.pod\nSDL-2.546/lib/pods/SDLx/Controller/Interface.pod\nSDL-2.546/lib/pods/SDL\nSDL-2.546/lib/pods/SDL/Video.pod\nSDL-2.546/lib/pods/SDL/RWOps.pod\nSDL-2.546/lib/pods/SDL/Surface.pod\nSDL-2.546/lib/pods/SDL/Overlay.pod\nSDL-2.546/lib/pods/SDL/Rect.pod\nSDL-2.546/lib/pods/SDL/Event.pod\nSDL-2.546/lib/pods/SDL/Mixer.pod\nSDL-2.546/lib/pods/SDL/Events.pod\nSDL-2.546/lib/pods/SDL/CD.pod\nSDL-2.546/lib/pods/SDL/Color.pod\nSDL-2.546/lib/pods/SDL/AudioSpec.pod\nSDL-2.546/lib/pods/SDL/CDROM.pod\nSDL-2.546/lib/pods/SDL/Credits.pod\nSDL-2.546/lib/pods/SDL/Time.pod\nSDL-2.546/lib/pods/SDL/Joystick.pod \nSDL-2.546/lib/pods/SDL/Version.pod\nSDL-2.546/lib/pods/SDL/CDTrack.pod\nSDL-2.546/lib/pods/SDL/Palette.pod\nSDL-2.546/lib/pods/SDL/Audio.pod\nSDL-2.546/lib/pods/SDL/Pango.pod\nSDL-2.546/lib/pods/SDL/Platform.pod\nSDL-2.546/lib/pods/SDL/Image.pod\nSDL-2.546/lib/pods/SDL/MPEG.pod\nSDL-2.546/lib/pods/SDL/Cursor.pod\nSDL-2.546/lib/pods/SDL/Mouse.pod\nSDL-2.546/lib/pods/SDL/Tutorial.pod\nSDL-2.546/lib/pods/SDL/PixelFormat.pod\nSDL-2.546/lib/pods/SDL/MultiThread.pod\nSDL-2.546/lib/pods/SDL/AudioCVT.pod\nSDL-2.546/lib/pods/SDL/Deprecated.pod\nSDL-2.546/lib/pods/SDL/Cookbook.pod\nSDL-2.546/lib/pods/SDL/TTF.pod\nSDL-2.546/lib/pods/SDL/SMPEG.pod\nSDL-2.546/lib/pods/SDL/VideoInfo.pod\nSDL-2.546/lib/pods/SDL/GFX\nSDL-2.546/lib/pods/SDL/GFX/ImageFilter.pod\nSDL-2.546/lib/pods/SDL/GFX/BlitFunc.pod\nSDL-2.546/lib/pods/SDL/GFX/Rotozoom.pod\nSDL-2.546/lib/pods/SDL/GFX/FPSManager.pod\nSDL-2.546/lib/pods/SDL/GFX/Primitives.pod\nSDL-2.546/lib/pods/SDL/GFX/Framerate.pod\nSDL-2.546/lib/pods/SDL/TTF\nSDL-2.546/lib/pods/SDL/TTF/Font.pod\nSDL-2.546/lib/pods/SDL/Pango \nSDL-2.546/lib/pods/SDL/Pango/Context.pod\nSDL-2.546/lib/pods/SDL/Tutorial\nSDL-2.546/lib/pods/SDL/Tutorial/Animation.pod\nSDL-2.546/lib/pods/SDL/Tutorial/LunarLander.pod\nSDL-2.546/lib/pods/SDL/Mixer\nSDL-2.546/lib/pods/SDL/Mixer/Samples.pod\nSDL-2.546/lib/pods/SDL/Mixer/MixMusic.pod\nSDL-2.546/lib/pods/SDL/Mixer/Effects.pod\nSDL-2.546/lib/pods/SDL/Mixer/Music.pod\nSDL-2.546/lib/pods/SDL/Mixer/Groups.pod\nSDL-2.546/lib/pods/SDL/Mixer/MixChunk.pod\nSDL-2.546/lib/pods/SDL/Mixer/Channels.pod\nSDL-2.546/lib/pods/SDL/Cookbook\nSDL-2.546/lib/pods/SDL/Cookbook/PDL.pod\nSDL-2.546/lib/pods/SDL/Cookbook/OpenGL.pod\nSDL-2.546/MacOSX\nSDL-2.546/MacOSX/Makefile.test\nSDL-2.546/MacOSX/Info.plist\nSDL-2.546/MacOSX/main.c\nSDL-2.546/MacOSX/SDLPerl.icns\nSDL-2.546/share\nSDL-2.546/share/GenBasR.ttf\nSDL-2.546/scripts\nSDL-2.546/scripts/gl_const.pl\nSDL-2.546/scripts/auto_constants.pl\nSDL-2.546/scripts/const.pl\nSDL-2.546/scripts/SDLpp.pl\nSDL-2.546/scripts/MultiThreadPOC.pl  \nSDL-2.546/scripts/sdl_const.pl\nSDL-2.546/scripts/sdl_module_maker.pl\nSDL-2.546/test\nSDL-2.546/test/data\nSDL-2.546/test/data/README\nSDL-2.546/test/data/chest.png\nSDL-2.546/test/data/electrohar.ttf\nSDL-2.546/test/data/font.bmp\nSDL-2.546/test/data/logo.png\nSDL-2.546/test/data/font.png\nSDL-2.546/test/data/highlight.png\nSDL-2.546/test/data/5x7.fnt\nSDL-2.546/test/data/icon.bmp\nSDL-2.546/test/data/hero.bmp\nSDL-2.546/test/data/LargeFont.bmp\nSDL-2.546/test/data/picture.jpg\nSDL-2.546/test/data/menu.png\nSDL-2.546/test/data/sample.wav\nSDL-2.546/test/data/24P_Arial_NeonYellow.png\nSDL-2.546/test/data/wood_dark.png\nSDL-2.546/test/data/silence.wav\nSDL-2.546/test/data/hero.png \nSDL-2.546/test/data/24P_Copperplate_Blue.png\nSDL-2.546/test/data/pattern_red_white_2x2.bmp\nSDL-2.546/test/data/test-mpeg.mpg\nSDL-2.546/test/data/picture.tif\nSDL-2.546/test/data/wood_light.png\nSDL-2.546/test/data/tribe_i.wav\nSDL-2.546/test/data/picture.bmp\nSDL-2.546/test/data/button_light.png\nSDL-2.546/test/data/button_dark.png\nSDL-2.546/inc\nSDL-2.546/inc/My\nSDL-2.546/inc/My/Builder.pm\nSDL-2.546/inc/My/Builder\nSDL-2.546/inc/My/Builder/Unix.pm\nSDL-2.546/inc/My/Builder/Windows.pm\nSDL-2.546/inc/My/Builder/Darwin.pm\nSDL-2.546/src\nSDL-2.546/src/SMPEG.xs\nSDL-2.546/src/SDL.xs\nSDL-2.546/src/Image.xs \nSDL-2.546/src/helper.h\nSDL-2.546/src/defines.h\nSDL-2.546/src/ppport.h\nSDL-2.546/src/GFX\nSDL-2.546/src/GFX/README\nSDL-2.546/src/GFX/Primitives.xs\nSDL-2.546/src/GFX/Framerate.xs\nSDL-2.546/src/GFX/BlitFunc.xs\nSDL-2.546/src/GFX/GFX.xs\nSDL-2.546/src/GFX/Rotozoom.xs\nSDL-2.546/src/GFX/FPSManager.xs\nSDL-2.546/src/GFX/CHANGELOG\nSDL-2.546/src/GFX/ImageFilter.xs\nSDL-2.546/src/SMPEG\nSDL-2.546/src/SMPEG/Info.xs\nSDL-2.546/src/TTF\nSDL-2.546/src/TTF/README\nSDL-2.546/src/TTF/TTF.xs\nSDL-2.546/src/TTF/objects\nSDL-2.546/src/TTF/objects/Font.xs\nSDL-2.546/src/Pango\nSDL-2.546/src/Pango/Pango.xs\nSDL-2.546/src/Pango/objects\nSDL-2.546/src/Pango/objects/Context.xs\nSDL-2.546/src/SDLx\nSDL-2.546/src/SDLx/Timer.h\nSDL-2.546/src/SDLx/Layer.h\nSDL-2.546/src/SDLx/SFont.xs\nSDL-2.546/src/SDLx/Validate.h\nSDL-2.546/src/SDLx/LayerManager.h\nSDL-2.546/src/SDLx/Validate.xs\nSDL-2.546/src/SDLx/SFont.h\nSDL-2.546/src/SDLx/LayerManager.xs\nSDL-2.546/src/SDLx/Layer.xs\nSDL-2.546/src/SDLx/Surface.xs\nSDL-2.546/src/SDLx/Timer.xs \nSDL-2.546/src/SDLx/Controller \nSDL-2.546/src/SDLx/Controller/Interface.h\nSDL-2.546/src/SDLx/Controller/Interface.xs\nSDL-2.546/src/SDLx/Controller/State.xs\nSDL-2.546/src/Mixer\nSDL-2.546/src/Mixer/README\nSDL-2.546/src/Mixer/Music.xs\nSDL-2.546/src/Mixer/Groups.xs\nSDL-2.546/src/Mixer/Effects.xs\nSDL-2.546/src/Mixer/Channels.xs\nSDL-2.546/src/Mixer/Samples.xs\nSDL-2.546/src/Mixer/Mixer.xs\nSDL-2.546/src/Mixer/objects\nSDL-2.546/src/Mixer/objects/MixChunk.xs\nSDL-2.546/src/Mixer/objects/MixMusic.xs\nSDL-2.546/src/support\nSDL-2.546/src/support/darwin_support.h\nSDL-2.546/src/support/win32.c\nSDL-2.546/src/support/darwin_support.m\nSDL-2.546/src/Core\nSDL-2.546/src/Core/MultiThread.xs\nSDL-2.546/src/Core/CDROM.xs\nSDL-2.546/src/Core/Video.xs\nSDL-2.546/src/Core/Joystick.xs\nSDL-2.546/src/Core/Audio.xs\nSDL-2.546/src/Core/Mouse.xs\nSDL-2.546/src/Core/Time.xs\nSDL-2.546/src/Core/Events.xs\nSDL-2.546/src/Core/objects\nSDL-2.546/src/Core/objects/VideoInfo.xs\nSDL-2.546/src/Core/objects/AudioCVT.xs\nSDL-2.546/src/Core/objects/CDTrack.xs\nSDL-2.546/src/Core/objects/CD.xs\nSDL-2.546/src/Core/objects/AudioSpec.xs\nSDL-2.546/src/Core/objects/Event.xs\nSDL-2.546/src/Core/objects/RWOps.xs\nSDL-2.546/src/Core/objects/typemap\nSDL-2.546/src/Core/objects/Version.xs\nSDL-2.546/src/Core/objects/Overlay.xs\nSDL-2.546/src/Core/objects/Color.xs\nSDL-2.546/src/Core/objects/Rect.xs\nSDL-2.546/src/Core/objects/Palette.xs\nSDL-2.546/src/Core/objects/Surface.xs\nSDL-2.546/src/Core/objects/keysym.xs\nSDL-2.546/src/Core/objects/Cursor.xs\nSDL-2.546/src/Core/objects/PixelFormat.xs\nSDL-2.546/examples\nSDL-2.546/examples/GFX\nSDL-2.546/examples/GFX/script_roto.pl\nSDL-2.546/examples/cookbook\nSDL-2.546/examples/cookbook/pogl_sdl_texture.pl\nSDL-2.546/examples/cookbook/1.pl\nSDL-2.546/examples/cookbook/openglapp.pl\nSDL-2.546/examples/cookbook/pdl.pl\nSDL-2.546/examples/SDLx \nSDL-2.546/examples/SDLx/SDLx_text_zoom.pl\nSDL-2.546/examples/SDLx/SDLx_controller_two_squares.pl\nSDL-2.546/examples/SDLx/SDLx_LayerManager_Chess.pl\nSDL-2.546/examples/SDLx/SDLx_text.pl\nSDL-2.546/examples/SDLx/SDLx_text_wordwrap.pl\nSDL-2.546/examples/SDLx/app.pl\nSDL-2.546/examples/SDLx/SDLx_C_Interface.pl\nSDL-2.546/examples/SDLx/SDLx_sprite.pl\nSDL-2.546/examples/SDLx/SDLx_text_styles.pl\nSDL-2.546/examples/SDLx/SDLx_Sound.pl\nSDL-2.546/examples/SDLx/SDLx_text_shadow.pl\nSDL-2.546/examples/SDLx/pong.pl\nSDL-2.546/examples/SDLx/music.pl\nSDL-2.546/examples/SDLx/SDLx_sprite_animated.pl\nSDL-2.546/examples/pixel_operations\nSDL-2.546/examples/pixel_operations/starry.pl\nSDL-2.546/examples/pixel_operations/tie_matrix.pl\nSDL-2.546/examples/pixel_operations/fast_pixel_write.pl\nSDL-2.546/examples/pixel_operations/sols\nSDL-2.546/examples/pixel_operations/sols/ch02.pl\nSDL-2.546/t\nSDL-2.546/t/sdlx_sprite.t\nSDL-2.546/t/sdlx_app.t\nSDL-2.546/t/mixer_mixchunk.t\nSDL-2.546/t/gfx_primitives2.t\nSDL-2.546/t/core_video.t\nSDL-2.546/t/core_cd.t\nSDL-2.546/t/core_multi.t\nSDL-2.546/t/core_video_convert_surface.t\nSDL-2.546/t/sdlx_text.t\nSDL-2.546/t/core_rect.t\nSDL-2.546/t/image.t\nSDL-2.546/t/core_error.t\nSDL-2.546/t/pango.t\nSDL-2.546/t/core_rwops.t\nSDL-2.546/t/gfx_framerate.t\nSDL-2.546/t/extendingrect.t\nSDL-2.546/t/core_palette.t\nSDL-2.546/t/core_audiospec.t\nSDL-2.546/t/core_timer.t\nSDL-2.546/t/ttf.t\nSDL-2.546/t/gfx_imagefilter.t\nSDL-2.546/t/00-load.t\nSDL-2.546/t/image_xpm_array.t\nSDL-2.546/t/core_joystick.t \nSDL-2.546/t/sdlx_sprite_animated.t\nSDL-2.546/t/sdlx_controller.t\nSDL-2.546/t/core_audio.t\nSDL-2.546/t/gfx_rotozoom.t\nSDL-2.546/t/gfx_fpsmanager.t\nSDL-2.546/t/colorpm.t\nSDL-2.546/t/mixer_channels.t\nSDL-2.546/t/sdlx_sfont.t\nSDL-2.546/t/core_surface.t\nSDL-2.546/t/sdlx_fps.t\nSDL-2.546/t/sdlx_music.t\nSDL-2.546/t/mixer_music.t\nSDL-2.546/t/sdlx_controller_interface.t\nSDL-2.546/t/core_version.t\nSDL-2.546/t/mixer.t\nSDL-2.546/t/mixer_mixmusic.t\nSDL-2.546/t/sdlx_validate.t\nSDL-2.546/t/sdlx_layermanager.t\nSDL-2.546/t/mixer_effects.t\nSDL-2.546/t/mixer_samples.t\nSDL-2.546/t/core_overlay.t\nSDL-2.546/t/sdlx_surface.t\nSDL-2.546/t/core_mouse.t\nSDL-2.546/t/ttf_font.t\nSDL-2.546/t/gfx_primitives.t\nSDL-2.546/t/gfx.t\nSDL-2.546/t/sdlx_rect.t\nSDL-2.546/t/sdlgamerect.t\nSDL-2.546/t/sdlx_sound.t\nSDL-2.546/t/core.t\nSDL-2.546/t/smpeg.t\nSDL-2.546/t/config.t\nSDL-2.546/t/core_events.t\nSDL-2.546/t/mixer_groups.t\nSDL-2.546/t/core_video_gamma.t\nSDL-2.546/t/lib\nSDL-2.546/t/lib/SDL\nSDL-2.546/t/lib/SDL/TestTool.pm\nConfiguring F/FR/FROGGS/SDL-2.546.tar.gz with Build.PL\n*************************** !!!WARNING!!!   ********************************\nThis Release breaks back compatibility support with versions 2.4x and below\n**************************************************************************\nUsing 'My::Builder::Windows' class ...\nfileparse(): need a valid pathname at C:/Perl/lib/ExtUtils/CBuilder/Base.pm line 48.\nWarning: No success on command[C:\\Perl\\bin\\perl.exe Build.PL    --installdirs=site]\n  FROGGS/SDL-2.546.tar.gz\n  C:\\Perl\\bin\\perl.exe Build.PL --installdirs=site -- NOT OK\n</code></pre>\n"}, {"tags": ["arrays", "json", "perl", "hash"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1488726295, "post_id": 42609724, "comment_id": 72349156, "body": "To get the <code>Value</code> field you could write: <code>$json-&gt;{Results}[0]{Readings}{state}{Value}</code>. And to get <code>alias</code> : <code>$json-&gt;{Results}[0]{Attributes}{alias}</code>"}, {"owner": {"reputation": 20687, "user_id": 266453, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/27a51c565cd37b5535aa7d7a550ae37a?s=128&d=identicon&r=PG", "display_name": "Dennis G", "link": "https://stackoverflow.com/users/266453/dennis-g"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488726487, "post_id": 42609724, "comment_id": 72349225, "body": "Yes! This looks pretty. Put it into an answer so I can give you some love."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488726811, "post_id": 42609724, "comment_id": 72349325, "body": "<i>&quot;What&#39;s that <code>%$</code> doing there?&quot;</i> I was wondering that, but I thought you wrote it!"}, {"owner": {"reputation": 20687, "user_id": 266453, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/27a51c565cd37b5535aa7d7a550ae37a?s=128&d=identicon&r=PG", "display_name": "Dennis G", "link": "https://stackoverflow.com/users/266453/dennis-g"}, "edited": false, "score": 0, "creation_date": 1488727301, "post_id": 42609724, "comment_id": 72349500, "body": "I did write it and it works. Found that <code>%$</code> after some sleuthing in forums on how to &quot;dereference&quot; (whatever that is, I know casting) hashtables in perl. Your solution looks <b>a lot better</b>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1488733746, "post_id": 42609724, "comment_id": 72351759, "body": "<a href=\"https://perlmonks.org?node=References+quick+reference\" rel=\"nofollow noreferrer\">perlmonks.org?node=References+quick+reference</a>"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1598216012, "last_edit_date": 1598216012, "creation_date": 1488726622, "answer_id": 42609996, "question_id": 42609724, "link": "https://stackoverflow.com/questions/42609724/directly-access-nested-json-data-in-perl/42609996#42609996", "title": "Directly access nested JSON data in perl?", "body": "<p>Have a look at <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\"><code>perlreftut</code></a>, <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\"><code>perldsc</code></a>, and <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\"><code>perlref</code></a>, it will help  you understand how to access deeply nested structures in Perl.</p>\n<blockquote>\n<p>print &quot;No. Entries:&quot;, scalar(keys($json)); #works, returns 3</p>\n</blockquote>\n<p>Actually, this will no longer work. Using <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow noreferrer\"><code>keys</code></a> on a scalar, was an experimental feature added in Perl 5.14 that allowed <code>each</code>, <code>keys</code>, <code>push</code>, <code>pop</code>, <code>shift</code>, <code>splice</code>, <code>unshift</code>, and <code>values</code> to be called with a scalar argument. This experiment was considered unsuccessful, and was removed in 5.23. See also <a href=\"https://stackoverflow.com/q/41192532/2173773\">Experimental values on scalar is now forbidden</a>. So, you should dereference the hash reference <code>$json</code> before applying <code>keys</code>:</p>\n<pre><code>print &quot;No. Entries:&quot;, scalar keys %$json;\n</code></pre>\n<p>As described in <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\"><code>perlref</code></a>, <code>%$ref</code> dereferences the hash reference <code>$ref</code>. Next, lets look at this line:</p>\n<blockquote>\n<p>my @results = %$json{Results};</p>\n</blockquote>\n<p>This actually first creates a new (anonymous) hash <code>( Result =&gt; $json-&gt;{Result} )</code> and then assigns this to <code>@results</code> making <code>@result = ( 'Result', $json-&gt;{Result} )</code>. So that is why you now can refer to <code>$json-&gt;{Result}[0]</code> as <code>$result[1]</code>.</p>\n<p>But this is obscure coding, and probably not intended as well. So to return to your question, to get the <code>Value</code> field you could write:</p>\n<pre><code>my $value = $json-&gt;{Results}[0]{Readings}{state}{Value};\n</code></pre>\n<p>And to get the <code>alias</code> field:</p>\n<pre><code>my $alias = $json-&gt;{Results}[0]{Attributes}{alias};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20687, "user_id": 266453, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/27a51c565cd37b5535aa7d7a550ae37a?s=128&d=identicon&r=PG", "display_name": "Dennis G", "link": "https://stackoverflow.com/users/266453/dennis-g"}, "edited": false, "score": 0, "creation_date": 1488727049, "post_id": 42610010, "comment_id": 72349401, "body": "Thanks for thinking about the results being an array!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1488727075, "last_edit_date": 1488727075, "creation_date": 1488726686, "answer_id": 42610010, "question_id": 42609724, "link": "https://stackoverflow.com/questions/42609724/directly-access-nested-json-data-in-perl/42610010#42610010", "title": "Directly access nested JSON data in perl?", "body": "<p>You want</p>\n\n<pre><code>$json-&gt;{Results}[0]{Readings}{protocol}{Value}\n</code></pre>\n\n\n\n<pre><code>$json-&gt;{Results}[0]{Readings}{state}{Value}\n</code></pre>\n\n\n\n<pre><code>$json-&gt;{Results}[0]{Attributes}{alias}\n</code></pre>\n\n<p>However, since the <code>Results</code> item is an array, you are likely to want to iterate over all of its elements, although in this case there is only one element</p>\n\n<p>I find it useful to extract one level of reference at a time into temporary variables. It would look like this</p>\n\n<pre><code>my $results = $json-&gt;{Results};\n\nfor my $result ( @$results ) {\n\n    my $readings   = $result-&gt;{Readings};\n    my $attributes = $result-&gt;{Attributes};\n\n    printf \"Protocol: %s\\n\", $readings-&gt;{protocol}{Value};\n    printf \"State:    %s\\n\", $readings-&gt;{state}{Value};\n    printf \"Alias:    %s\\n\", $attributes-&gt;{alias};\n    print \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 20687, "user_id": 266453, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/27a51c565cd37b5535aa7d7a550ae37a?s=128&d=identicon&r=PG", "display_name": "Dennis G", "link": "https://stackoverflow.com/users/266453/dennis-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1097, "favorite_count": 0, "accepted_answer_id": 42609996, "answer_count": 2, "score": -1, "last_activity_date": 1598216012, "creation_date": 1488724905, "last_edit_date": 1488729297, "question_id": 42609724, "link": "https://stackoverflow.com/questions/42609724/directly-access-nested-json-data-in-perl", "title": "Directly access nested JSON data in perl?", "body": "<p>I'm not familiar with hash/reference syntax with Perl and it makes my eyes hurt trying.<br>\nI have the following JSON:</p>\n\n<pre><code>{\n  \"Arg\":\"Custom_Light state alias protocol\",\n  \"Results\": [\n  {\n    \"Name\":\"Custom_Light\",\n    \"Internals\": { },\n    \"Readings\": {\n      \"protocol\": { \"Value\":\"V3\", \"Time\":\"2017-01-14 18:49:18\" },\n      \"state\": { \"Value\":\"off\", \"Time\":\"2017-03-05 10:39:50\" }\n    },\n    \"Attributes\": {      \"alias\": \"Kitchen light\" }\n  }  ],\n  \"totalResultsReturned\":1\n}\n</code></pre>\n\n<p>How do I directly get the Reading > Protocol Value and Reading > state Value as well as the Attributes > Alias?</p>\n\n<p>I am using the default <code>JSON</code> encoder/decoder and it works splendid. Using <code>Dumper($json)</code> I get all the JSON, but I have no clue how to directly access it without using foreach with all the arrays within arrays in this.</p>\n\n<p>I have tried the following:</p>\n\n<pre><code>my $json = from_json( $readout, { utf8  =&gt; 1 } );\nprint \"No. Entries:\", scalar(keys($json)); #works, returns 3\nmy @results = %$json{Results};\nDumper(@results[1]); #I get the Results array\n</code></pre>\n\n<p>From here it already is ugly. What's that <code>%$</code> doing there? I thought I could do something like <code>print ${ $json-&gt;{'Results'}-&gt;[1] }{'Readings'};</code> but that leads me nowhere.</p>\n\n<p>Give me wisdom. How do I access the Protocol value directly? How do I access the state value directly? And finally, how to get to the alias Attribute?</p>\n\n<hr>\n\n<p>I don't know what I'm doing but I'm getting somewhere with <code>my $test = %{${%$json{Results}}[0]}{Name}; #I get \"Custom_Light\", nice</code>. Is this the way to go with a gazillion of weird <code>%</code> and <code>$</code> just randomly thrown in?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 36931, "user_id": 225757, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e7140b12949e4652885f6bb02b435f42?s=128&d=identicon&r=PG", "display_name": "Roland Illig", "link": "https://stackoverflow.com/users/225757/roland-illig"}, "is_accepted": false, "score": 1, "last_activity_date": 1488715934, "creation_date": 1488715934, "answer_id": 42608214, "question_id": 42608181, "link": "https://stackoverflow.com/questions/42608181/x2019-does-not-map-to-iso-8859-1-perl/42608214#42608214", "title": "&quot;\\x{2019}&quot; does not map to iso-8859-1 perl", "body": "<p>The encoding <a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859-1\" rel=\"nofollow noreferrer\">ISO-8859-1</a> does not contain the character U+2019.</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1488716678, "last_edit_date": 1488716678, "creation_date": 1488716395, "answer_id": 42608276, "question_id": 42608181, "link": "https://stackoverflow.com/questions/42608181/x2019-does-not-map-to-iso-8859-1-perl/42608276#42608276", "title": "&quot;\\x{2019}&quot; does not map to iso-8859-1 perl", "body": "<p>Why do you think the HTML tags have anything to do with characters in the string? </p>\n\n<p>If you google the <code>\\x{2019}</code> <a href=\"http://www.fileformat.info/info/unicode/char/2019/index.htm\" rel=\"nofollow noreferrer\">the first hit is this</a>. </p>\n\n<blockquote>\n  <p>Unicode Character 'RIGHT SINGLE QUOTATION MARK' (U+2019)</p>\n</blockquote>\n\n<p>That's the <code>\u2019</code>. Typically Microsoft Word converts apostrophes (single quotes <code>'</code>) to those kinds of quotation marks. It looks like you are trying to print your string somewhere where its converted to the ISO-8859-1 encoding. You should be able to specifically convert that character to something that makes more sense, like the above mentioned single quote <code>'</code>.</p>\n\n<pre><code>$string =~ s/\\x{2019}/'/g;\n</code></pre>\n\n<p>That should get rid of that one warning. But if you import something with unicode and then expect it to be output as latin-1 more characters will fail.</p>\n"}], "owner": {"reputation": 95, "user_id": 7522582, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ogQgj.png?s=128&g=1", "display_name": "yankel", "link": "https://stackoverflow.com/users/7522582/yankel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "accepted_answer_id": 42608276, "answer_count": 2, "score": 0, "last_activity_date": 1488716678, "creation_date": 1488715666, "question_id": 42608181, "link": "https://stackoverflow.com/questions/42608181/x2019-does-not-map-to-iso-8859-1-perl", "title": "&quot;\\x{2019}&quot; does not map to iso-8859-1 perl", "body": "<p>I have a string named $title </p>\n\n<pre><code>Gardens and Anti-Gardens in Marie de France\u2019s &lt;i&gt;Lais&lt;/i&gt;\n</code></pre>\n\n<p>and I am getting this error</p>\n\n<pre><code>\"\\x{2019}\" does not map to iso-8859-1\n</code></pre>\n\n<p>I try removing the italic tags but it still gives me the error i.e.  </p>\n\n<pre><code>$title =~ s/&lt;i&gt;|&lt;\\/i&gt;//g;\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "is_accepted": false, "score": 2, "last_activity_date": 1488723571, "creation_date": 1488723571, "answer_id": 42609475, "question_id": 42604942, "link": "https://stackoverflow.com/questions/42604942/using-netopensshrsync-get-method-as-sudo/42609475#42609475", "title": "Using Net::OpenSSH::rsync_get() method as sudo", "body": "<p>Option 1 on this page worked for me: <a href=\"https://crashingdaily.wordpress.com/2007/06/29/rsync-and-sudo-over-ssh/\" rel=\"nofollow noreferrer\">https://crashingdaily.wordpress.com/2007/06/29/rsync-and-sudo-over-ssh/</a></p>\n\n<p>Summary:</p>\n\n<p>Option 1. Set NOPASSWD in the /etc/sudoers file.</p>\n\n<p>crashingdaily ALL= NOPASSWD:/usr/bin/rsync\nThen use the --rsync-path option to specify the sudo wrapper.</p>\n\n<p>rsync -a -e \"ssh\" --rsync-path=\"sudo rsync\" crashingdaily@server.remotehost.com:/u02/data_pump_dir/ /archive</p>\n"}, {"tags": [], "owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "is_accepted": false, "score": 0, "last_activity_date": 1488800672, "creation_date": 1488800672, "answer_id": 42624812, "question_id": 42604942, "link": "https://stackoverflow.com/questions/42604942/using-netopensshrsync-get-method-as-sudo/42624812#42624812", "title": "Using Net::OpenSSH::rsync_get() method as sudo", "body": "<p>If your <code>sudo</code> is configurred to NOT ask for a password, you can do as in your post:</p>\n\n<pre><code>$ssh-&gt;rsync_get({rsync_path =&gt; 'sudo rsync'}, ...);\n</code></pre>\n\n<p>On the other hand, if <code>sudo</code> requires a password for running commands as root, I think the easiest way is to use a wrapper script as the following, for sending the password to <code>sudo</code>:</p>\n\n<pre><code>#!/usr/bin/perl\n# save me as ~/bin/sudo_rsync on the target machine\n\nuse strict;\nuse warnings;\nuse IO::Pty;\n\nmy $passwd = 's3cr3t';\n\nmy $pty = IO::Pty-&gt;new;\nmy $pid = fork;\nunless ($pid) {\n    defined $pid or die \"unable to fork\";\n    $pty-&gt;make_slave_controlling_terminal;\n    do { exec 'sudo', 'rsync', @ARGV };\n    exit -1;\n}\n\nprint {$pty} \"$passwd\\n\";\nwaitpid($pid, 0);\n</code></pre>\n\n<p>Then, from the local machine...</p>\n\n<pre><code>$ssh-&gt;rsync_get({rsync_path =&gt; '~/bin/sudo_rsync'},\n                '/etc/shadow', '/tmp/shadow');\n</code></pre>\n\n<p>Obviously, having the password hard-coded in the script is a very bad idea... but it also is a bad idea to pass it on the command line or in an environment variable. I don't think there is a nice solution for this problem other than avoiding having <code>sudo</code> ask for the password on things you want to automate on the first place!</p>\n\n<p>Another ugly solution that works when sudo is configured to cache credentials for a while (passing the password on the command line):</p>\n\n<pre><code>$ssh-&gt;rsync_get( { rsync_path =&gt;\n                   'sudo -k &amp;&amp; ' .\n                   'echo s3cr3t|sudo -Sp \"\" cat /dev/null &amp;&amp; ' .\n                   'sudo -Sp \"\" rsync' },\n                 \"/etc/shadow\", \"/tmp/shadow\" );\n</code></pre>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1488800672, "creation_date": 1488692351, "last_edit_date": 1488789462, "question_id": 42604942, "link": "https://stackoverflow.com/questions/42604942/using-netopensshrsync-get-method-as-sudo", "title": "Using Net::OpenSSH::rsync_get() method as sudo", "body": "<p>I'm using the <a href=\"http://search.cpan.org/~salva/Net-OpenSSH-0.74/lib/Net/OpenSSH.pm\" rel=\"nofollow noreferrer\"><code>Net::OpenSSH</code></a> module to download a directory using the <code>rsync_get</code> method. Some of the files in the directory don't allow the user I'm logged in as to read some of the files and so they can't be downloaded. Can anyone suggest a workaround for this? Is there some way to run this method with the <code>sudo</code> command?</p>\n"}, {"tags": ["linux", "perl", "sockets", "tcp"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488694926, "post_id": 42603389, "comment_id": 72340407, "body": "Hum... Why would a port that was never opened go into the time_wait state?"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 3575995, "user_type": "registered", "profile_image": "https://graph.facebook.com/1048007685/picture?type=large", "display_name": "Vic_RTP", "link": "https://stackoverflow.com/users/3575995/vic-rtp"}, "edited": false, "score": 0, "creation_date": 1488803546, "post_id": 42605166, "comment_id": 72379232, "body": "That wouldn&#39;t work for me because the port must fall within a range assigned to the service. I can&#39;t just take the next available port."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 85, "user_id": 3575995, "user_type": "registered", "profile_image": "https://graph.facebook.com/1048007685/picture?type=large", "display_name": "Vic_RTP", "link": "https://stackoverflow.com/users/3575995/vic-rtp"}, "edited": false, "score": 0, "creation_date": 1488823225, "post_id": 42605166, "comment_id": 72392698, "body": "Is that range within 1..1023? If so then the system won&#39;t automatically assign a service to those ports, and it&#39;s simply up to you to decide to reserve one of those ports for your program."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1488823317, "last_edit_date": 1488823317, "creation_date": 1488694682, "answer_id": 42605166, "question_id": 42603389, "link": "https://stackoverflow.com/questions/42603389/best-perl-method-to-determine-if-a-tcp-port-is-available/42605166#42605166", "title": "Best perl method to determine if a TCP port is available", "body": "<p><code>bind</code> will immediately and specifically tell you if the port is not available (<code>EADDRINUSE</code>). The other options don't make any sense.</p>\n\n<p>Since it sounds like you don't actually care to what port you are bound, it seems to me that a better approach would be to <code>bind</code> to port <code>0</code>, which binds to an available port. You can determine the port to which your socket was bound using <code>sockaddr_in</code>.</p>\n\n<p>If, on the other hand, the desired port is within 1..1023, then it's simply up to you to reserve the port for your program. The system won't automatically assign a service to those ports. (I'm not sure if that's true on Windows.)</p>\n"}], "owner": {"reputation": 85, "user_id": 3575995, "user_type": "registered", "profile_image": "https://graph.facebook.com/1048007685/picture?type=large", "display_name": "Vic_RTP", "link": "https://stackoverflow.com/users/3575995/vic-rtp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1488823317, "creation_date": 1488677097, "question_id": 42603389, "link": "https://stackoverflow.com/questions/42603389/best-perl-method-to-determine-if-a-tcp-port-is-available", "title": "Best perl method to determine if a TCP port is available", "body": "<p>What is the best method using perl to determine if a tcp port is available. I want to select a port in advance of creating a network service. This is all to be done using automation and the requirement is to build a configuration for the service including an available tcp port within a range used by the service.</p>\n\n<p>Possible methods under consideration:</p>\n\n<ol>\n<li>IO::Socket to test bind on a candidate port.</li>\n<li>Net::Telnet to test connecting to the candidate port</li>\n<li>Linux::Proc::Net::TCP</li>\n</ol>\n\n<p>What is the best method and why? I don't like the test bind very much because it requires root for privileged ports and if something goes wrong with the script it might leave all tested ports in time_wait. I like the Linux::Proc::Net::TCP because it's fast but it's not portable.</p>\n"}, {"tags": ["bash", "perl", "shell", "command-line", "command-line-arguments"], "comments": [{"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 1, "creation_date": 1488668504, "post_id": 42602359, "comment_id": 72335227, "body": "Try taking a look at <code>@ARGV</code>, it&#39;s an array with the parametres. It&#39;s in there."}, {"owner": {"reputation": 15, "user_id": 6636453, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dQX-_zo0hOE/AAAAAAAAAAI/AAAAAAAAASQ/_jy-lFtta5I/photo.jpg?sz=128", "display_name": "Vladimir Danoski", "link": "https://stackoverflow.com/users/6636453/vladimir-danoski"}, "reply_to_user": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1488668710, "post_id": 42602359, "comment_id": 72335284, "body": "Yes but look if I try using $ARGV[0] it returns <b>file.txt</b> and it&#39;s not of string type, so I can&#39;t use split by delimiter. So like I said, it gives me the whole <b>file.txt</b> and i need only the name of the <b>file</b>."}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 1, "creation_date": 1488668921, "post_id": 42602359, "comment_id": 72335331, "body": "<code>@ARGV</code> only contains strings. It&#39;s what you do with them. So if you have <code>$ARGV[0]</code> with <code>file.txt</code>, then you can split that string <code>my $name = (split &#47;\\.&#47;, $ARGV[0])[0];</code> to have <code>$name</code> contain &quot;file&quot;."}, {"owner": {"reputation": 15, "user_id": 6636453, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dQX-_zo0hOE/AAAAAAAAAAI/AAAAAAAAASQ/_jy-lFtta5I/photo.jpg?sz=128", "display_name": "Vladimir Danoski", "link": "https://stackoverflow.com/users/6636453/vladimir-danoski"}, "reply_to_user": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1488669603, "post_id": 42602359, "comment_id": 72335506, "body": "Thanks a lot @AntonH that code works. I tried <code>($name) = split(&#39;.&#39;, $ARGV[0]);</code> before but it didn&#39;t worked i don&#39;t know why."}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1488670091, "post_id": 42602359, "comment_id": 72335636, "body": "Because the character &quot;.&quot; is a special character in regular expressions, it means &#39;any character&#39;. To have it, you need to escape it, thus, <code>&#47;\\.&#47;</code>"}, {"owner": {"reputation": 15, "user_id": 6636453, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dQX-_zo0hOE/AAAAAAAAAAI/AAAAAAAAASQ/_jy-lFtta5I/photo.jpg?sz=128", "display_name": "Vladimir Danoski", "link": "https://stackoverflow.com/users/6636453/vladimir-danoski"}, "reply_to_user": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1488670377, "post_id": 42602359, "comment_id": 72335706, "body": "Yes, i didn&#39;t thought that. Thanks a lot anyway :)"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1488798548, "post_id": 42602612, "comment_id": 72376041, "body": "Why use <code>split()</code> in preference to File::Basename?"}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1488810737, "post_id": 42602612, "comment_id": 72384192, "body": "@DaveCross Because I was responding quickly to OP&#39;s specific use case (it already took me a while to understand the exact issue, as you can see from my questions in comments). And, if I&#39;m honest, I manipulate file names so little that I tend to forget about <code>File::</code>."}], "tags": [], "owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "is_accepted": true, "score": 0, "last_activity_date": 1488691065, "last_edit_date": 1488691065, "creation_date": 1488670357, "answer_id": 42602612, "question_id": 42602359, "link": "https://stackoverflow.com/questions/42602359/extracting-the-name-given-as-an-argument-from-command-line-in-perl-script/42602612#42602612", "title": "Extracting the name given as an argument from command line in Perl script", "body": "<p>To get the name of the file, you need to extract it from\u00a0<code>@ARGV</code>, and split it on the dot.</p>\n\n<pre><code>my $fileName = (split /\\./, $ARGV[0])[0];\n</code></pre>\n\n<p>Explaination:</p>\n\n<p><code>split /\\./, $ARGV[0]</code> splits on a dot (the character \".\" is a special character in regular expressions, it means 'any character'; to have it literally, you need to escape it, thus, <code>/\\./</code>).</p>\n\n<p><code>(...)[0];</code> takes the first element, i.e. the file name.</p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 6636453, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dQX-_zo0hOE/AAAAAAAAAAI/AAAAAAAAASQ/_jy-lFtta5I/photo.jpg?sz=128", "display_name": "Vladimir Danoski", "link": "https://stackoverflow.com/users/6636453/vladimir-danoski"}, "edited": false, "score": 0, "creation_date": 1488671778, "post_id": 42602762, "comment_id": 72336048, "body": "Thanks. As I said, I am new to <code>perl</code> and especially to things like command line arguments. But thanks a lot for this, was helpful a lot."}], "tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": false, "score": 5, "last_activity_date": 1488671814, "last_edit_date": 1488671814, "creation_date": 1488671476, "answer_id": 42602762, "question_id": 42602359, "link": "https://stackoverflow.com/questions/42602359/extracting-the-name-given-as-an-argument-from-command-line-in-perl-script/42602762#42602762", "title": "Extracting the name given as an argument from command line in Perl script", "body": "<p>The command line arguments to a Perl script appear in <code>@ARGV</code>, described in <code>perldoc perlvar</code>.</p>\n\n<p>Parsing filenames seems trivial, but appearances may be misleading. However, Perl ships with a module called <code>File::Basename</code> that handles edge cases you might not immediately consider. One edge case that simple <code>split</code> wouldn't handle is the potential for dots to appear elsewhere in the filename aside from the final suffix.  </p>\n\n<p>You can review <code>File::Basename</code>'s documentation by typing <code>perldoc File::Basename</code> at the command prompt.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>use stict;\nuse warnings;\nuse File::Basename qw(fileparse);\n\nmy ($fname, $dirs, $suffix) = fileparse($ARGV[0], qr/\\.txt/);\n\nprint \"Base file name is $fname\\n\";\nprint \"Suffix is $suffix\\n\";\nprint \"Path to $fname$suffix is $dirs\\n\";\n</code></pre>\n\n<p>Because this module ships with Perl, you don't need to install anything to use it.  In taking advantage of the core Perl modules that ship with every Perl distribution, you leverage best practices and debugging embodied within these tools.</p>\n"}], "owner": {"reputation": 15, "user_id": 6636453, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dQX-_zo0hOE/AAAAAAAAAAI/AAAAAAAAASQ/_jy-lFtta5I/photo.jpg?sz=128", "display_name": "Vladimir Danoski", "link": "https://stackoverflow.com/users/6636453/vladimir-danoski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 42602612, "answer_count": 2, "score": -4, "last_activity_date": 1488691065, "creation_date": 1488668300, "last_edit_date": 1488668798, "question_id": 42602359, "link": "https://stackoverflow.com/questions/42602359/extracting-the-name-given-as-an-argument-from-command-line-in-perl-script", "title": "Extracting the name given as an argument from command line in Perl script", "body": "<p>I am new to the scripting languages, and I have a task that says I need to extract the name from a given argument from the command line in erl.</p>\n\n<p>I am calling the Perl script like this  </p>\n\n<pre><code>./perl.plx file.txt\n</code></pre>\n\n<p>and I need to get only that <code>file</code> name, not the whole <code>file.txt</code></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1488663843, "post_id": 42601700, "comment_id": 72333996, "body": "With <code>[...]</code>, you may form a character class. Not with <code>{...}</code>. With <code>{number}</code>, you may specify the exact number of the left-hand pattern repetition. Try <code>[A-Z0-9._%+-]+@[A-Z0-9.-]+\\\\.[A-Z]{2,}[:;].{14}</code>. Maybe add anchors if you need to match the whole string. It would be better if you provided some more code where you use the regex pattern."}, {"owner": {"reputation": 5957, "user_id": 997196, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/E5hdR.png?s=128&g=1", "display_name": "Rivasa", "link": "https://stackoverflow.com/users/997196/rivasa"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1488663888, "post_id": 42601700, "comment_id": 72334006, "body": "Oh so uh [A-Z0-9._%+-]+@[A-Z0-9.-]+\\\\.[A-Z]{2,}+[:;]+[14*] ?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1488664546, "post_id": 42601700, "comment_id": 72334212, "body": "Your regex excludes many valid email addresses. You should use something like <a href=\"https://metacpan.org/pod/Email::Valid\" rel=\"nofollow noreferrer\">Email::Valid</a> instead."}, {"owner": {"reputation": 5957, "user_id": 997196, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/E5hdR.png?s=128&g=1", "display_name": "Rivasa", "link": "https://stackoverflow.com/users/997196/rivasa"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488668188, "post_id": 42601700, "comment_id": 72335150, "body": "@ThisSuitIsBlackNot For my purposes it matches what I need."}], "answers": [{"comments": [{"owner": {"reputation": 5957, "user_id": 997196, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/E5hdR.png?s=128&g=1", "display_name": "Rivasa", "link": "https://stackoverflow.com/users/997196/rivasa"}, "edited": false, "score": 0, "creation_date": 1488667661, "post_id": 42601878, "comment_id": 72335016, "body": "It means any normal character, text wise such as A-Za-z, symbols, numbers essentially"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "reply_to_user": {"reputation": 5957, "user_id": 997196, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/E5hdR.png?s=128&g=1", "display_name": "Rivasa", "link": "https://stackoverflow.com/users/997196/rivasa"}, "edited": false, "score": 0, "creation_date": 1488670939, "post_id": 42601878, "comment_id": 72335852, "body": "@Link: What about spaces?"}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": true, "score": 1, "last_activity_date": 1488664609, "creation_date": 1488664609, "answer_id": 42601878, "question_id": 42601700, "link": "https://stackoverflow.com/questions/42601700/extending-perl-regex-to-account-for-more-characters/42601878#42601878", "title": "Extending Perl Regex to account for more characters?", "body": "<p>You can do:</p>\n\n<pre><code>\\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}\\b(?:[;:][\\s\\S]{0,14})?\n</code></pre>\n\n<p><a href=\"https://www.regex101.com/r/TGS1md/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>Be aware that <em>14 characters of any possible type</em> is quite ambiguous. Does that include <code>\\0</code> or <code>\\n</code>? The construct of <code>[\\s\\S]</code> matches 'any possible character' so clarify if you mean something different. </p>\n"}], "owner": {"reputation": 5957, "user_id": 997196, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/E5hdR.png?s=128&g=1", "display_name": "Rivasa", "link": "https://stackoverflow.com/users/997196/rivasa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 42601878, "answer_count": 1, "score": -3, "last_activity_date": 1488664609, "creation_date": 1488663521, "question_id": 42601700, "link": "https://stackoverflow.com/questions/42601700/extending-perl-regex-to-account-for-more-characters", "title": "Extending Perl Regex to account for more characters?", "body": "<p>So I have this regex to match any email address, and I need to extend it to include the following,</p>\n\n<blockquote>\n  <p>: or ; after the email, followed by 14 characters of any possible type.</p>\n</blockquote>\n\n<p>This is my expression as it is now: </p>\n\n<pre><code>[A-Z0-9._%+-]+@[A-Z0-9.-]+\\\\.[A-Z]{2,}\n</code></pre>\n\n<p>And I have no idea how to approach this, can anyone help?</p>\n\n<p>I was thinking of doing something like:</p>\n\n<pre><code>[A-Z0-9._%+-]+@[A-Z0-9.-]+\\\\.[A-Z]{2,}+{:;}+{14*}\n</code></pre>\n\n<p>But it doesn't seem to work</p>\n"}, {"tags": ["regex", "perl", "match"], "comments": [{"owner": {"reputation": 1990, "user_id": 7529266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IGW24.jpg?s=128&g=1", "display_name": "MohaMad", "link": "https://stackoverflow.com/users/7529266/mohamad"}, "edited": false, "score": 1, "creation_date": 1488642240, "post_id": 42597848, "comment_id": 72326790, "body": "<code>^.*?\\.</code> starts from beginning and captures till <code>\\.</code> or your desire &#39;.&#39;."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488649821, "post_id": 42597884, "comment_id": 72329329, "body": "You don&#39;t need the first caret <code>^</code>. Regex matching starts at the beginning of the string anyway, so <code>[^.]*</code> will do fine."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1488652393, "post_id": 42597884, "comment_id": 72330338, "body": "Using the <code>^</code> makes it easier to read. It also a good habit since it prevents needless and even unwanted backtracking in more complicated patterns such as <code>[^.]*.</code>"}], "tags": [], "owner": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "is_accepted": false, "score": 2, "last_activity_date": 1488642216, "creation_date": 1488642216, "answer_id": 42597884, "question_id": 42597848, "link": "https://stackoverflow.com/questions/42597848/how-to-match-up-till-in-string-using-perl/42597884#42597884", "title": "How to match up till &#39;.&#39; in string using perl", "body": "<p>You can use </p>\n\n<pre><code>^[^.]*\n</code></pre>\n\n<p>which means any number of character that is not a dot, at the beginning of the string</p>\n"}, {"comments": [{"owner": {"reputation": 3395, "user_id": 6164984, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/gtaJI.png?s=128&g=1", "display_name": "math2001", "link": "https://stackoverflow.com/users/6164984/math2001"}, "edited": false, "score": 0, "creation_date": 1488870878, "post_id": 42601987, "comment_id": 72411740, "body": "Why would you downvote this?"}], "tags": [], "owner": {"reputation": 3395, "user_id": 6164984, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/gtaJI.png?s=128&g=1", "display_name": "math2001", "link": "https://stackoverflow.com/users/6164984/math2001"}, "is_accepted": false, "score": -1, "last_activity_date": 1488665384, "creation_date": 1488665384, "answer_id": 42601987, "question_id": 42597848, "link": "https://stackoverflow.com/questions/42597848/how-to-match-up-till-in-string-using-perl/42601987#42601987", "title": "How to match up till &#39;.&#39; in string using perl", "body": "<p>You have to add a quantifier (how many times you want your pattern to be matched). By default, it's one.</p>\n\n<pre><code>[^.]{5}\n</code></pre>\n\n<p>This matches anything that is not a <code>.</code> 5 times.</p>\n\n<pre><code>[^.]{2,}\n</code></pre>\n\n<p>This matches anything that is not a <code>.</code> 2 times or more.</p>\n\n<pre><code>[^.]{2,5}\n</code></pre>\n\n<p>This matches anything that is not a <code>.</code> 2, 3, 4 or 5 times.</p>\n\n<pre><code>[^.]*\n</code></pre>\n\n<p>The quantifier <code>*</code> means 0 times or more (it's a shortcut for <code>{0,}</code>). So this matches anything that is not <code>.</code> 0 times or more.</p>\n\n<pre><code>[^.]+\n</code></pre>\n\n<p>The quantifier <code>+</code> means once or more (it's a shortcut for <code>{1,}</code>). So this matches anything that is not <code>.</code> once or more. <strong>This is what you want</strong>.</p>\n\n<pre><code>[^.]?\n</code></pre>\n\n<p>The quantifier <code>?</code> means 0 times or once (it's a shortcut for <code>{0, 1}</code>). So this matches anything that is not <code>.</code> 0 times or once.</p>\n"}], "owner": {"reputation": 33, "user_id": 2017152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0423f2b396eff033bc3c16e40e943982?s=128&d=identicon&r=PG", "display_name": "user2017152", "link": "https://stackoverflow.com/users/2017152/user2017152"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1488672071, "answer_count": 2, "score": -6, "last_activity_date": 1488665384, "creation_date": 1488642048, "last_edit_date": 1488642130, "question_id": 42597848, "link": "https://stackoverflow.com/questions/42597848/how-to-match-up-till-in-string-using-perl", "closed_reason": "Not suitable for this site", "title": "How to match up till &#39;.&#39; in string using perl", "body": "<p>I am trying to write a match regex to extract text from a string in perl.</p>\n\n<p>The string can be like something:</p>\n\n<blockquote>\n  <p>I am a man. I am not a woman.</p>\n</blockquote>\n\n<p>I want to match up to the first occurrence of '.', but if I use <code>[^.]</code>, it returns only the first character i.e. 'I' instead of 'I am a man'.</p>\n\n<p>How do I write my <code>[]</code> expression?</p>\n"}, {"tags": ["text-processing", "perl"], "comments": [{"owner": {"reputation": 3, "user_id": 5920869, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ed8a8bf62fd65a778a8f0c562c2f5faa?s=128&d=identicon&r=PG&f=1", "display_name": "rabie chami", "link": "https://stackoverflow.com/users/5920869/rabie-chami"}, "edited": false, "score": 0, "creation_date": 1488655830, "post_id": 42603136, "comment_id": 72336648, "body": "still need help please"}, {"owner": {"user_type": "does_not_exist", "display_name": "Rakesh Sharma"}, "edited": false, "score": 0, "creation_date": 1488658943, "post_id": 42603136, "comment_id": 72336649, "body": "Can you provide a sample represetentative input file, the bitmapping, and the expected output?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488694228, "post_id": 42603136, "comment_id": 72340286, "body": "You&#39;re asking us to write code, but that&#39;s off-topic. We might do it anyway, except you don&#39;t even specify what the code you want us to write should do! Do you simply want to change the instances of <code>16</code> to <code>1024</code> (the number of bits in 128 bytes)?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488694265, "post_id": 42603136, "comment_id": 72340290, "body": "As for passing the contents of a file as a parameter, <code>&quot;$( cat file.txt )&quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1488702712, "creation_date": 1488702712, "answer_id": 42606166, "question_id": 42603136, "link": "https://stackoverflow.com/questions/42603136/swap-128-bytes-hex-to-another-order/42606166#42606166", "title": "swap 128 bytes hex to another order", "body": "<p>You could try the following:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\n# Example with 64 bits\nmy $data = 'B455AB10A1230000'; # original data (64 bits)\nmy @bits = map { unpack '(A)*', sprintf '%08b', hex } unpack '(A2)*', $data;\nmy @bitmap = reverse 0..63;  # some 64 bits map, replace with your actual data\n\nmy $result = unpack \"H*\", pack 'C*', map { oct \"0b$_\" } unpack \"(A8)*\", join '', @bits[@bitmap];\n\nsay \"Input : $data\";\nsay \"Result: $result\";\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>Input : B455AB10A1230000\nResult: 0000c48508d5aa2d\n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1488674759, "question_id": 349086}, "owner": {"reputation": 3, "user_id": 5920869, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ed8a8bf62fd65a778a8f0c562c2f5faa?s=128&d=identicon&r=PG&f=1", "display_name": "rabie chami", "link": "https://stackoverflow.com/users/5920869/rabie-chami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488702712, "creation_date": 1488618981, "question_id": 42603136, "link": "https://stackoverflow.com/questions/42603136/swap-128-bytes-hex-to-another-order", "title": "swap 128 bytes hex to another order", "body": "<p>I have this work perl can support 4 hex numbers to swap in another 4 hex</p>\n\n<pre><code>perl -wMstrict -le '    \n   my @bits = unpack \"(A1)16\", sprintf \"%016b\", hex shift;\n   my $bitmap = \"D5679123C4EF80AB\";\n\n   @bits = @bits[ map { hex } split //, $bitmap ];\n   $\"=\"\";    \n\n   print sprintf \"%04X\", oct \"0b@bits\";    \n' \"B455\"\n</code></pre>\n\n<p>Result: <em>CB15</em></p>\n\n<p>please how can support more bytes like 128 bytes?</p>\n\n<p>and how to use this perl to read the hex from a file.txt ?</p>\n\n<p>thanks in advance.</p>\n"}, {"tags": ["string", "perl", "concatenation", "user-input"], "answers": [{"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1488610228, "post_id": 42592796, "comment_id": 72317705, "body": "And probably add <code>. &quot;\\n&quot;</code> after <code>$stringb</code> in the <code>print</code> statement (or don&#39;t chomp <code>$stringb</code>)."}], "tags": [], "owner": {"reputation": 146, "user_id": 7408563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U871e.jpg?s=128&g=1", "display_name": "asthman", "link": "https://stackoverflow.com/users/7408563/asthman"}, "is_accepted": false, "score": 1, "last_activity_date": 1488607934, "creation_date": 1488607934, "answer_id": 42592796, "question_id": 42592715, "link": "https://stackoverflow.com/questions/42592715/string-concatenation-error-using-perls-dot-operator/42592796#42592796", "title": "String Concatenation Error Using Perls Dot Operator", "body": "<p>You can use \"chomp\" to remove the trailing string \"\\n\", like this:</p>\n\n<pre><code>$stringa=&lt;STDIN&gt;;\n$stringb=&lt;STDIN&gt;;\nchomp($stringa);\nchomp($stringb);\nprint $stringa.$stringb;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7645204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c735bd5a2fd2fc8001fdb532a47d98?s=128&d=identicon&r=PG&f=1", "display_name": "T.Over", "link": "https://stackoverflow.com/users/7645204/t-over"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "closed_date": 1488610381, "answer_count": 1, "score": -2, "last_activity_date": 1517748453, "creation_date": 1488607276, "last_edit_date": 1517748453, "question_id": 42592715, "link": "https://stackoverflow.com/questions/42592715/string-concatenation-error-using-perls-dot-operator", "closed_reason": "Duplicate", "title": "String Concatenation Error Using Perls Dot Operator", "body": "<p>I am trying to read input of two strings from the user keyboard, store them in two variables and concatenate the two strings together using the Perls dot operator. </p>\n\n<p>Research I found online shows an example similar to what I am trying to accomplish. This example uses only one string variable in the concatenation but I think something similar should be able to concatenate multiple variables together: </p>\n\n<pre><code>$name = checkbook'; \n$filename = '/tmp/' . $name . '.tmp'; \n\n#$filename now contains \"/tmp/checkbook.tmp\"\n</code></pre>\n\n<p>(<a href=\"http://alvinalexander.com/perl/edu/articles/pl010003.shtml\" rel=\"nofollow noreferrer\">http://alvinalexander.com/perl/edu/articles/pl010003.shtml</a>) </p>\n\n<p>my code is displayed in the following - however, I am still getting the undesired concatenation :</p>\n\n<pre><code>$stringa=&lt;STDIN&gt;;\n$stringb=&lt;STDIN&gt;;\nprint $stringa.$stringb;\n</code></pre>\n\n<p>compiled using perl (path)</p>\n\n<p>output </p>\n\n<pre><code>     nein\n     ja\n     nein\n     ja\n</code></pre>\n\n<p>instead of the desired output:</p>\n\n<pre><code> nein\n ja\n neinja\n</code></pre>\n\n<p>why am I not getting the concatenation output I think it should produce?</p>\n"}, {"tags": ["perl", "exception-handling", "eval", "die"], "comments": [{"owner": {"reputation": 13138, "user_id": 45978, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d0c6b3923ad69ce9a13dbe8775b7b3dc?s=128&d=identicon&r=PG", "display_name": "Joe Casadonte", "link": "https://stackoverflow.com/users/45978/joe-casadonte"}, "edited": false, "score": 0, "creation_date": 1488599068, "post_id": 42591824, "comment_id": 72315490, "body": "As an aside, I&#39;m using IO::Pipe because I want to collect the output from the program being run along with its exit code, and I want to generate an exception if the command can&#39;t be run; if there&#39;s a better way to do that, especially one that doesn&#39;t present the above problem, please let me know here in the comments."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488608148, "post_id": 42591824, "comment_id": 72317201, "body": "There are good modules for collecting output and exit code, from simple to powerful.  Once you have the exit code you can interrogate it and do as you please, and surely throw a <code>die</code>. If I understand the purpose right -- run a program and get its output and check exit -- I don&#39;t see why to use <code>IO::Pipe</code> for that."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1488608230, "post_id": 42591824, "comment_id": 72317218, "body": "Use <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow noreferrer\">Capture::Tiny</a>."}, {"owner": {"reputation": 13138, "user_id": 45978, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d0c6b3923ad69ce9a13dbe8775b7b3dc?s=128&d=identicon&r=PG", "display_name": "Joe Casadonte", "link": "https://stackoverflow.com/users/45978/joe-casadonte"}, "edited": false, "score": 0, "creation_date": 1488631338, "post_id": 42591824, "comment_id": 72323283, "body": "I forgot to mention that I&#39;m generally limited to stock Perl modules. I&#39;ll see if an exception(!) can be made for Capture::Tiny. Thanks!"}, {"owner": {"reputation": 13138, "user_id": 45978, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d0c6b3923ad69ce9a13dbe8775b7b3dc?s=128&d=identicon&r=PG", "display_name": "Joe Casadonte", "link": "https://stackoverflow.com/users/45978/joe-casadonte"}, "edited": false, "score": 0, "creation_date": 1488638481, "post_id": 42591824, "comment_id": 72325583, "body": "I can&#39;t use Capture::Tiny, as I need to process the output as it occurs (something I forgot to mention). I&#39;ll see if there&#39;s a way to handle the fork &amp; exec that IO::Pipe is doing. Thanks, again, for the help!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1488640860, "post_id": 42591824, "comment_id": 72326335, "body": "Then use <a href=\"http://perldoc.perl.org/perlipc.html#Using-open()-for-IPC\" rel=\"nofollow noreferrer\"><code>open</code></a> if you only need to read from or write to the external process, but not both; or <a href=\"https://metacpan.org/pod/IPC::Open3\" rel=\"nofollow noreferrer\">IPC::Open3</a> or <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a> (nicer interface than IPC::Open3 but not in core) if you need to both read from and write to the process."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1488653320, "post_id": 42591824, "comment_id": 72330688, "body": "If you&#39;re just reading from the pipe, then IPC::Open3 will indeed do, and it propagates errors launching the child program into exceptions in the parent as you desired. (I added that very functionality to open3 myself.)"}, {"owner": {"reputation": 13138, "user_id": 45978, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d0c6b3923ad69ce9a13dbe8775b7b3dc?s=128&d=identicon&r=PG", "display_name": "Joe Casadonte", "link": "https://stackoverflow.com/users/45978/joe-casadonte"}, "edited": false, "score": 0, "creation_date": 1488686522, "post_id": 42591824, "comment_id": 72338944, "body": "I&#39;m not quite sure why I wasn&#39;t using <code>open</code> -- the code was re-written a couple of years ago to use IO::Pipe, but I don&#39;t remember why; I&#39;ll have to go back through commit comments to see. But switching it (back to) <code>open</code> worked like a charm. Thanks!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488689984, "post_id": 42591824, "comment_id": 72339508, "body": "I played with this a bit more since I find it curious and found ways to clean up. I updated with the nicest one (test <code>$?</code> after <code>$pipe-&gt;close</code>). But this can&#39;t be reliable, and I think that it&#39;s best to get out of there. It&#39;s a mess, with a loose process running around. Since you say that <code>Capture::Tiny</code> doesn&#39;t cut it <i>and</i> that the solution should be core, use the good old <code>open</code> (or <code>IPC::Open3</code> if needed). I removed my previous comment, after I found that <code>$pipe-&gt;error</code> after <code>$pipe-&gt;close</code> returns <code>-1</code> even when all is well."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1522361222, "last_edit_date": 1522361222, "creation_date": 1488607478, "answer_id": 42592740, "question_id": 42591824, "link": "https://stackoverflow.com/questions/42591824/why-does-perls-iopipe-exception-behave-differently-than-croak-or-die-in-eval/42592740#42592740", "title": "Why does Perl&#39;s IO::Pipe exception behave differently than croak or die in eval block?", "body": "<p>There are <em>two processes</em> running after the <code>eval</code> in the case of interest.  You can see this by adding a print statement before <code>if ($@)</code>. One drops through <code>eval</code> and thus gets to the last <code>die</code>.</p>\n\n<p>The <code>reader</code> forks when used with an argument, to open a process. That process is <code>exec</code>-ed in the child while the parent returns, with its pid. The code for this is in <a href=\"http://cpansearch.perl.org/src/GBARR/IO-1.25/lib/IO/Pipe.pm\" rel=\"nofollow noreferrer\"><code>_doit</code> internal subroutine</a></p>\n\n<p>When this fails the child <code>croak</code>s with the message you get. But the parent returns regardless as it has no IPC with the child, which is expected to just disappear via <code>exec</code>. So the parent escapes and makes its way down the <code>eval</code>. That process has no <code>$@</code> and bypasses <code>if ($@)</code>.</p>\n\n<p>It appears that this is a hole in error handling, in the case when <code>reader</code> is used to open a process. </p>\n\n<p>There are ways to tackle this. The <code>$pipe</code> is an <a href=\"http://perldoc.perl.org/IO/Handle.html\" rel=\"nofollow noreferrer\">IO::Handle</a> and we can check it and exit that extra process if it's bad (but simple <code>$pipe-&gt;error</code> turns out to be the same in both cases). Or, since <a href=\"http://perldoc.perl.org/functions/close.html\" rel=\"nofollow noreferrer\">close</a> is involved, we can go to <code>$?</code> which is indeed non-zero when error happens</p>\n\n<pre><code># ...\n$pipe-&gt;close;\nexit if $? != 0;\n</code></pre>\n\n<p>(or rather first examine it). This is still a \"fix,\" which may not always work. Other ways to probe the <code>$pipe</code>, or to find PID of the escapee, are a bit obscure (or worse, digging into class internals). </p>\n\n<p>On the other hand, a simple way to collect the output and exit code from a program is to use a module for that. A nice pick is <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow noreferrer\">Capture::Tiny</a>. There are others, like <a href=\"http://search.cpan.org/~toddr/IPC-Run-0.94/lib/IPC/Run.pm\" rel=\"nofollow noreferrer\">IPC::Run</a> and <a href=\"http://search.cpan.org/~rjbs/IPC-Run3-0.048/lib/IPC/Run3.pm\" rel=\"nofollow noreferrer\">IPC::Run3</a>, or core but rather low-level <a href=\"http://perldoc.perl.org/IPC/Open3.html\" rel=\"nofollow noreferrer\">IPC::Open3</a>.</p>\n\n<p>Given the clarifications, the normal <code>open</code> should also be adequate.</p>\n"}], "owner": {"reputation": 13138, "user_id": 45978, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d0c6b3923ad69ce9a13dbe8775b7b3dc?s=128&d=identicon&r=PG", "display_name": "Joe Casadonte", "link": "https://stackoverflow.com/users/45978/joe-casadonte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 42592740, "answer_count": 1, "score": 3, "last_activity_date": 1522361222, "creation_date": 1488599056, "question_id": 42591824, "link": "https://stackoverflow.com/questions/42591824/why-does-perls-iopipe-exception-behave-differently-than-croak-or-die-in-eval", "title": "Why does Perl&#39;s IO::Pipe exception behave differently than croak or die in eval block?", "body": "<p>I noticed in my program that an exception raised from IO::Pipe was behaving oddly, and I cannot figure out what it's doing (let alone how it's doing it). I've boiled it down to a simple example program:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Carp;\nuse IO::Pipe;\n\nmy($path) = shift;\nmy($bad) = shift || \"\";\n\neval {\n    if ($path =~ m{pipe}i) {\n        my($bin) = ($bad ? \"/bin/lsddd\" : \"/bin/ls\");\n\n        my($pipe) = IO::Pipe-&gt;new();\n        $pipe-&gt;reader(\"$bin -l .\");\n        print \"$_\" while &lt;$pipe&gt;;\n        $pipe-&gt;close;\n    }\n    elsif ($path =~ m{croak}i) {\n        croak \"CROAKED\" if $bad;\n    }\n    else {\n        die \"DIED\" if $bad;\n    }\n};\n\nif ($@) {\n    my($msg) = $@;\n\n    die \"Caught Exception: $msg\\n\";\n}\n\ndie \"Uh-oh\\n\" if $bad;\n\nprint \"Made it!\\n\";\n</code></pre>\n\n<p>The example program takes two arguments, one to indicate which code path to go down inside the <code>eval</code> block, and the second to indicate whether or not to generate an error (anything that evaluates to false will not generate an error). All three paths behave as expected when no error is requested; they all print <code>Made it!</code> with no error messages. </p>\n\n<p>When asking for an error and running through the <code>croak</code> or <code>die</code> paths, it also behaves as I expect: the exception is caught, reported, and the program terminates.</p>\n\n<pre><code>$ perl example.pl die foo\nCaught Exception: DIED at example.pl line 23.\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$ perl example.pl croak foo\nCaught Exception: CROAKED at example.pl line 11.\n    eval {...} called at example.pl line 10\n</code></pre>\n\n<p>When I send an error down the IO::Pipe path, though, it reports an error, but the program execution continues until the outer <code>die</code> is reached:</p>\n\n<pre><code>$ perl example.pl pipe foo\nCaught Exception: IO::Pipe: Cannot exec: No such file or directory at example.pl line 15.\n\nUh-oh\n</code></pre>\n\n<p>The first question is why -- why does the program report the \"Caught Exception\" message but not terminate? The second question is how do I prevent this from happening? I want the program to stop executing if the program can't be run.</p>\n"}, {"tags": ["perl", "string-formatting"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1488570958, "post_id": 42586691, "comment_id": 72306852, "body": "What exactly do you mean by &quot;exponential numbers&quot;?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1488571292, "post_id": 42586691, "comment_id": 72307023, "body": "@melpomene: I assume he means <i>exponential notation</i>, i.e. <code>65E-1</code> instead of <code>6.5</code>. Maybe the values are strings"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1488576531, "post_id": 42586691, "comment_id": 72309685, "body": "I&#39;m guessing you mean 6.59787, not 65.9787?  Perl wouldn&#39;t produce the latter."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1488572173, "post_id": 42587349, "comment_id": 72307482, "body": "What about <code>%g</code>? If I write <code>perl -e &#39;printf &quot;%.3g %.3g\\n&quot;, 0.345664, 65.9787e-6;&#39;</code> then I get <code>0.346 6.6e-05</code>, i.e. it <i>depends</i> on the variable&#39;s value, but I couldn&#39;t figure out how exactly."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1488576056, "post_id": 42587349, "comment_id": 72309463, "body": "@PerlDuck: Yeah, I try to ignore <code>%g</code>. It&#39;s supposed to use either <code>%f</code> or <code>%e</code> format, depending on the size of the value, but as you see it produces <code>6.6e-05</code> for <code>%.3g</code> whereas <code>%.3e</code>  produces <code>6.598e-05</code>, so it&#39;s more than a little odd. Some documentation for the C library version says that <code>%g</code> also drops trailing zeroes whereas <code>%e</code> does not. In Perl it&#39;s particularly easy to pick the format you want according to the size of the value to be represented; you can even mess with the resultant string afterwards as <b>ikegami</b> shows in his answer."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1488576419, "post_id": 42587349, "comment_id": 72309639, "body": "@Borodin %.3g produces 6.6e-05 because it drop the trailing 0.  it is still keeping three decimal places.   with input 65.94e-6, it gives 6.59e-6."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1488577335, "post_id": 42587349, "comment_id": 72310065, "body": "@ysth: But that&#39;s <i>two</i> decimal places, not three! If it were rounding to three places it would produce the same result as the <code>%e</code> specifier. (Actually that may be a bug in Perl&#39;s <code>printf</code> code.) I don&#39;t see why <code>%g</code> should do anything different from <code>%e</code> at all; I can&#39;t think of a good reason why it even removes trailing zeroes when <code>%e</code> does not. And while I&#39;m ranting, I think it&#39;s disgraceful that there&#39;s no specifier to generate <i>engineering</i> format, where the coefficient is zero or more and less than 1,000, while the exponent is a multiple of 3."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1488589579, "post_id": 42587349, "comment_id": 72313925, "body": "@Borodin no, it formats three significant digits, then removes trailing 0s"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1488571215, "last_edit_date": 1488571215, "creation_date": 1488570864, "answer_id": 42587349, "question_id": 42586691, "link": "https://stackoverflow.com/questions/42586691/perl-formatting-not-working/42587349#42587349", "title": "Perl formatting not working", "body": "<p>Try this</p>\n\n<pre><code>printf \"%.3f\\n\", $diff;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>printf \"%.3e\\n\", $diff;\n</code></pre>\n\n<p>By the way, there are only <em>integer</em> and <em>floating point</em> numeric values in Perl</p>\n\n<p>There is</p>\n\n<pre><code>$diff = 0.345664;\n\nprintf \"%.3f\\n\", $diff;\n\n$diff = 65.9787e-6;\n\nprintf \"%.3e\\n\", $diff;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>0.346\n6.598e-005\n</code></pre>\n\n<p>There is no one format specifier that will provide both formats depending on the value of the variable -- you must write code to make the decision yourself</p>\n\n<p>There is also no way to get <code>65.98e-006</code> instead of <code>6.598e-005</code> with the <code>%e</code> format. There is always a single non-zero digit before the decimal point</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -1, "last_activity_date": 1488573845, "creation_date": 1488573845, "answer_id": 42588129, "question_id": 42586691, "link": "https://stackoverflow.com/questions/42586691/perl-formatting-not-working/42588129#42588129", "title": "Perl formatting not working", "body": "<pre><code>sub format1 { sprintf \"%.3f\", $_[0] }\n\nsay format1(0.345664);  # 0.346\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>sub format2 {\n   sprintf(\"%.4e\", $_[0])\n      =~ s/\\.(.)/$1./sr\n         =~ s/([+-]\\d\\d)\\z/ sprintf(\"%+03d\", $1-1) /aer\n}\n\nsay format2(65.9787e-6);  # 65.979e-06\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1488577984, "post_id": 42588727, "comment_id": 72310384, "body": "Why do you think <code>6.6e-05</code> is ok when the OP said &quot;I want to print as <code>65.979e-06</code>.&quot;"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1488589340, "post_id": 42588727, "comment_id": 72313871, "body": "@ikegami because I think that was an error.  I think the &quot;I want to preserve the format&quot; means simply do what perl normally does to stringify the number (and it is clear from the question we are talking about a number as input, not a string), but with only 3 significant digits."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1488590681, "last_edit_date": 1488590681, "creation_date": 1488576468, "answer_id": 42588727, "question_id": 42586691, "link": "https://stackoverflow.com/questions/42586691/perl-formatting-not-working/42588727#42588727", "title": "Perl formatting not working", "body": "<p>Despite the other answers, it sounds to me like what you want is simply to use <code>%.3g</code>, which will keep 3 significant figures but then discard any trailing <code>0</code>s.  The format perl by default uses to stringify a number is often <code>%.15g</code>.</p>\n\n<pre><code>perl -e'printf \"%.3g\\n\", $_ for 0.345664, 0.349876, 65.9787e-6, 6.59123e-5'\n0.346\n0.35\n6.6e-05\n6.59e-05\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 7537468, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1270083679719200/picture?type=large", "display_name": "Nikhilesh Sarish Kulkarni", "link": "https://stackoverflow.com/users/7537468/nikhilesh-sarish-kulkarni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1488590681, "creation_date": 1488568321, "question_id": 42586691, "link": "https://stackoverflow.com/questions/42586691/perl-formatting-not-working", "title": "Perl formatting not working", "body": "<p>I have number line in my perl code that compute difference between 2 variable</p>\n\n<pre><code>$diff = $upper- $lower;\n</code></pre>\n\n<p>The value in variable upper and lower can be decimal, fractional and exponential. </p>\n\n<p>When I print this difference to file, I want to preserve the format but want to truncate fractional value after 3 decimal places. How can I do this ?</p>\n\n<p>e.g in different cases,</p>\n\n<pre><code>$diff =0.345664; I want to print as 0.346\n\n$diff= 65.9787e-6; I want to print as 65.979e-06.\n</code></pre>\n\n<p>Can someone help me how to do this ? I was using <code>%.3f</code> But obviously it mess up with exponential numbers.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 95, "user_id": 7236738, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d661f20e95b55e15a2c6037654636265?s=128&d=identicon&r=PG&f=1", "display_name": "Xavia", "link": "https://stackoverflow.com/users/7236738/xavia"}, "reply_to_user": {"reputation": 4183, "user_id": 7275984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xwrdn.jpg?s=128&g=1", "display_name": "m87", "link": "https://stackoverflow.com/users/7275984/m87"}, "edited": false, "score": 0, "creation_date": 1488557616, "post_id": 42583469, "comment_id": 72299629, "body": "@siam thanks! I had to add &quot;use utf8;&quot; on top as well"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 4183, "user_id": 7275984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xwrdn.jpg?s=128&g=1", "display_name": "m87", "link": "https://stackoverflow.com/users/7275984/m87"}, "edited": false, "score": 2, "creation_date": 1488557760, "post_id": 42583469, "comment_id": 72299719, "body": "@siam: You&#39;re thinking of Python! That&#39;s just a comment in Perl."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1488558147, "post_id": 42583469, "comment_id": 72299966, "body": "<a href=\"http://blogs.perl.org/users/leon_timmermans/2015/08/fileslurp-is-broken-and-wrong.html\" rel=\"nofollow noreferrer\">File::Slurp is broken and wrong.</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1488558650, "post_id": 42583469, "comment_id": 72300315, "body": "<code>my $file = test.html;</code> is a syntax error; I fixed it in your question because you didn&#39;t mention any syntax errors and I assume it&#39;s just a copy-paste error."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488561672, "post_id": 42583469, "comment_id": 72302197, "body": "The program already does what you ask it to do. (It does it badly, though, so do read my answer.)"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1488558014, "post_id": 42583687, "comment_id": 72299871, "body": "The <code>use utf8</code> pragma tells Perl that your <i>source code file</i> is saved with utf8 encoding."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1488558106, "post_id": 42583687, "comment_id": 72299936, "body": "In other words, you still need to tell Perl to encode the output as UTF-8."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1488561685, "post_id": 42583687, "comment_id": 72302204, "body": "The modified program leaves the input file unchanged. While adding <code>use utf8;</code> is proper, it&#39;s only part of the solution. See my answer for more."}], "tags": [], "owner": {"reputation": 95, "user_id": 7236738, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d661f20e95b55e15a2c6037654636265?s=128&d=identicon&r=PG&f=1", "display_name": "Xavia", "link": "https://stackoverflow.com/users/7236738/xavia"}, "is_accepted": false, "score": 0, "last_activity_date": 1488558518, "last_edit_date": 1488558518, "creation_date": 1488557795, "answer_id": 42583687, "question_id": 42583469, "link": "https://stackoverflow.com/questions/42583469/why-isnt-special-character-%c3%b9-being-replaced-in-my-substitution/42583687#42583687", "title": "Why isn&#39;t special character &quot;&#249;&quot; being replaced in my substitution?", "body": "<p>Solution:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.010;\nuse strict;\nuse utf8; # &lt;-- Added this\nuse warnings;\nuse File::Slurp;\nmy $file = test.html; my $str;\n\n$str = read_file($file);\n$str =~ s/\u00f9/u/g; \n\nwrite_file(\"out/$file\",$str);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1488575842, "post_id": 42584686, "comment_id": 72309349, "body": "Here&#39;s a simpler one: <code>sub string_chars { say sprintf &quot;%vX&quot;, $_[0] }</code> (Bonus, the numbers are in hex!)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1488561831, "last_edit_date": 1488561831, "creation_date": 1488560753, "answer_id": 42584686, "question_id": 42583469, "link": "https://stackoverflow.com/questions/42583469/why-isnt-special-character-%c3%b9-being-replaced-in-my-substitution/42584686#42584686", "title": "Why isn&#39;t special character &quot;&#249;&quot; being replaced in my substitution?", "body": "<p>I suspect there are a couple of issues here. Firstly, you're using File::Slurp and you aren't telling it that the data is UTF-encoded. That means your two-byte \"\u00f9\" characters will be interpreted as two single-byte characters. Secondly, you have a literal \"\u00f9\" in your code, but you don't tell Perl to interpret your source code as UTF8, so you'll probably have the single-byte ISO-8859 representation.</p>\n\n<p>The two single-byte characters in your input string won't match the single-byte character in your source code, so the replacement won't work.</p>\n\n<p>You need to a) tell Perl that your source code is UTF8 and b) handle the decoding of input and encoding of output correctly. I recommend throwing out File::Slurp and doing it yourself.</p>\n\n<p>I also recommend not slurping files, but processing them a line at a time whenever possible.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.010;\nuse strict;\nuse warnings;\nuse utf8;\n\nmy $file = 'test.html';\nopen my $in_fh, '&lt;:utf8', $file or die $!;\nopen my $out_fh, '&gt;:utf8', \"out/$file\" or die $!;\n\nwhile (&lt;$in_fh&gt;) {\n    s/\u00f9/u/g;\n\n    print $out_fh $_;\n}\n</code></pre>\n\n<p><strong>Update:</strong> Here's a really simple subroutine that I use to get information about strings.</p>\n\n<pre><code>sub string_chars {\n  say join ':', map { ord } split //, $_[0];\n}\n</code></pre>\n\n<p>If you add this to your code and pass it '\u00f9' - you get the output \"249\" (which is the codepoint for '\u00f9' in ISO-8859-1). If you pass it your <code>$str</code> value, you get:</p>\n\n<pre><code>'195:185:109:98:114:101:108:108:97:32:195:185:110:100:101:114:32:195:185:195:185:195:185:195:185:195:185:32:195:185:116:116:101:114:115:10'\n</code></pre>\n\n<p>The repeated '195:185' is the two-byte representation of '\u00f9' in UTF8.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1488658690, "last_edit_date": 1488658690, "creation_date": 1488561634, "answer_id": 42584939, "question_id": 42583469, "link": "https://stackoverflow.com/questions/42583469/why-isnt-special-character-%c3%b9-being-replaced-in-my-substitution/42584939#42584939", "title": "Why isn&#39;t special character &quot;&#249;&quot; being replaced in my substitution?", "body": "<p>Your code works as-is if your script and the input file are encoded with the same encoding.</p>\n\n<pre><code>$ cat&gt;test.html\n\u00f9mbrella \u00f9nder \u00f9\u00f9\u00f9\u00f9\u00f9 \u00f9tters\n\n$ perl a.pl\n\n$ cat out/test.html\numbrella under uuuuu utters\n</code></pre>\n\n<hr>\n\n<p>Your program is buggy, though. Let's say we're talking about UTF-8. Perl actually sees</p>\n\n<pre><code>$str =~ s/\\xC3\\xB9/u/g;\n</code></pre>\n\n<p>While this isn't so bad, imagine if you had </p>\n\n<pre><code>$str =~ s/[\u00f9\u00fa]/u/g;\n</code></pre>\n\n<p>Perl would see that as</p>\n\n<pre><code>$str =~ s/[\\xC3\\xB9\\xC3\\xBA]/u/g;\n</code></pre>\n\n<p>This would turn <code>\u00f9</code> (<code>C3 B9</code>) into <code>uu</code> and <code>\u00e9</code> (<code>C3 A9</code>) into <code>u&lt;garbage&gt;</code>.</p>\n\n<p>For Perl to recognize any non-ASCII character in your program, you must ensures the program file is encoded using UTF-8, and you need to add <code>use utf8;</code> at the top of the file. With <code>use utf8;</code>, Perl sees</p>\n\n<pre><code>$str =~ s/[\u00f9\u00fa]/u/g;\n</code></pre>\n\n<p>or rather</p>\n\n<pre><code>$str =~ s/[\\xF9\\xFA]/u/g;  # F9 and FA are the Unicode Code Points for \u00f9 and \u00fa\n</code></pre>\n\n<hr>\n\n<p>However, adding <code>use utf8;</code> is only half of the solution. We changed how Perl sees the regular expression, but we didn't change <code>$str</code>, so they can't possibly match anymore. We are comparing the encoding of <code>\u00f9</code> (<code>C3 B9</code>) with the Unicode Code Point of <code>\u00f9</code> (<code>F9</code>)</p>\n\n<p><strong>Always decode your inputs. Always encode your outputs.</strong></p>\n\n<p>We've already decoded one input (the program itself). Now we need to do the same to the contents of the file.</p>\n\n<p>Similarly, we need to encode outputs. This includes not just the contents of the file, but warnings output to STDERR.</p>\n\n<p>Much of that is done by </p>\n\n<pre><code>use open ':std', ':encoding(UTF-8)';\n</code></pre>\n\n<p>It adds an encoding layer to STDIN, STDOUT and STDERR, and sets the default encoding layer for files opened within the lexical scope of the pragma.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse utf8;\nuse open ':std', ':encoding(UTF-8)';\n\nuse strict;\nuse warnings;\n\nmy $in_qfn = 'test.html';\nmy $out_qfn = 'out/test.html';\n\n# :encoding(UTF-8) is added by \"use open\".\nopen(my $in_fh,  '&lt;', $in_qfn)   or die(\"Can't open \\\"$in_qfn\\\": $!\\n\");\nopen(my $out_fh, '&gt;', $out_qfn)  or die(\"Can't create \\\"$out_qfn\\\": $!\\n\");\n\nwhile (&lt;$in_fh&gt;) {\n   s/[\u00f9\u00fa]/u/g;\n   print($out_fh $_);\n}\n</code></pre>\n\n<p>If you use File::Slurp, you'll need to tell it to decode the file (or decode it yourself) because its <code>open</code> is not in scope of the <code>use open</code>.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse utf8;\nuse open ':std', ':encoding(UTF-8)';\n\nuse strict;\nuse warnings;\n\nuse File::Slurp qw( read_file write_file );\n\nmy $in_qfn = 'test.html';\nmy $out_qfn = 'out/test.html';\n\nmy $file = read_file($in_qfn, binmode =&gt; ':encoding(UTF-8)');\n\n$file =~ s/[\u00f9\u00fa]/u/g; \n\nwrite_file($out_qfn, { binmode =&gt; ':encoding(UTF-8)' }, $file);\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 7236738, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d661f20e95b55e15a2c6037654636265?s=128&d=identicon&r=PG&f=1", "display_name": "Xavia", "link": "https://stackoverflow.com/users/7236738/xavia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 42584939, "answer_count": 3, "score": 0, "last_activity_date": 1488658690, "creation_date": 1488557116, "last_edit_date": 1488558495, "question_id": 42583469, "link": "https://stackoverflow.com/questions/42583469/why-isnt-special-character-%c3%b9-being-replaced-in-my-substitution", "title": "Why isn&#39;t special character &quot;&#249;&quot; being replaced in my substitution?", "body": "<p>When I tried using the simple substitution below in a regex tester, it works fine. But when I use it in Perl code, the <code>\u00f9</code> are not being replaced:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse 5.010;\nuse strict;\nuse warnings;\n\nuse File::Slurp;\n\nmy $file = 'test.html';\nmy $str = read_file($file);\n\n$str =~ s/\u00f9/u/g; \n\nwrite_file(\"out/$file\", $str);\n</code></pre>\n\n<p>Here is a sample text I wanted to change:</p>\n\n<pre><code>\u00f9mbrella \u00f9nder \u00f9\u00f9\u00f9\u00f9\u00f9 \u00f9tters\n</code></pre>\n\n<p>to</p>\n\n<pre><code>umbrella under uuuuu utters\n</code></pre>\n\n<p>Any help and suggestions are highly appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1488557722, "post_id": 42583377, "comment_id": 72299701, "body": "Are you asking for a line-by-line explanation of the script?"}, {"owner": {"reputation": 113, "user_id": 6291306, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1087056678004627/picture?type=large", "display_name": "Himangshu Paul", "link": "https://stackoverflow.com/users/6291306/himangshu-paul"}, "reply_to_user": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1488558305, "post_id": 42583377, "comment_id": 72300078, "body": "No, just let me understand this line my (@input, $output). suppose my input file is list and output file is out_list. How should I input these? And in the next line what is this form input=s{,} indicating?"}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 1, "creation_date": 1488589921, "post_id": 42583377, "comment_id": 72314007, "body": "<code>my(@input,$output)</code> is just declaring variables.  They are assigned by GetOptions according to command line flags that you pass when the script is invoked.  <code>abc.pl --input foo --input bar --output baz</code> will make the array <code>@input</code> have the 2 entries &#39;foo&#39; and &#39;bar&#39; and <code>$output</code> will be &#39;baz&#39;.  Assuming you fix the shebang so that the script even runs, that is."}, {"owner": {"reputation": 113, "user_id": 6291306, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1087056678004627/picture?type=large", "display_name": "Himangshu Paul", "link": "https://stackoverflow.com/users/6291306/himangshu-paul"}, "reply_to_user": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1488592227, "post_id": 42583377, "comment_id": 72314395, "body": "Thanks for the suggestions. This is what I was looking for. I have corrected the hash bang line and the script is running ok."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488635902, "post_id": 42583377, "comment_id": 72324785, "body": "You would do better to read the documentation for <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow noreferrer\">Getopt::Long</a> than to ask us to repeat parts of it."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 6291306, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1087056678004627/picture?type=large", "display_name": "Himangshu Paul", "link": "https://stackoverflow.com/users/6291306/himangshu-paul"}, "edited": false, "score": 0, "creation_date": 1488573813, "post_id": 42584496, "comment_id": 72308332, "body": "Can you please tell me how should I supply the input to the perl script? perl abc.pl &lt; list out_list? Is this the correct way."}, {"owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "reply_to_user": {"reputation": 113, "user_id": 6291306, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1087056678004627/picture?type=large", "display_name": "Himangshu Paul", "link": "https://stackoverflow.com/users/6291306/himangshu-paul"}, "edited": false, "score": 1, "creation_date": 1488586194, "post_id": 42584496, "comment_id": 72313123, "body": "I can help you, but you must show your efforts too. If you can&#39;t google for Perl tutorial I suggest to start with <a href=\"https://perlmaven.com/perl-tutorial\" rel=\"nofollow noreferrer\">perlmaven.com/perl-tutorial</a>"}, {"owner": {"reputation": 113, "user_id": 6291306, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1087056678004627/picture?type=large", "display_name": "Himangshu Paul", "link": "https://stackoverflow.com/users/6291306/himangshu-paul"}, "edited": false, "score": 0, "creation_date": 1488592480, "post_id": 42584496, "comment_id": 72314442, "body": "I have been google-ing but was not able to find the exact way to input and output. This link you have given is brilliant. Thanks for the suggestion."}], "tags": [], "owner": {"reputation": 8016, "user_id": 196241, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9b0541fbc7bb5d5bd29aa59c96315c37?s=128&d=identicon&r=PG", "display_name": "w.k", "link": "https://stackoverflow.com/users/196241/w-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1488560141, "creation_date": 1488560141, "answer_id": 42584496, "question_id": 42583377, "link": "https://stackoverflow.com/questions/42583377/introduction-to-perl-input-and-output/42584496#42584496", "title": "Introduction to perl input and output", "body": "<pre><code>my(@input,$output);\n</code></pre>\n\n<p>This line declares variables used on next line (<code>@input</code> is an array of input files, <code>$output</code> is scalar for output filename) </p>\n\n<pre><code>GetOptions('input=s{,}' =&gt; \\@input, 'output=s' =&gt; \\$output);\n</code></pre>\n\n<p><code>GetOptions</code> is a function from module <code>Getopt::Long</code> and this line parses commandline options and fills previously declared variables. You should read <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow noreferrer\">module documentation</a></p>\n"}], "owner": {"reputation": 113, "user_id": 6291306, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1087056678004627/picture?type=large", "display_name": "Himangshu Paul", "link": "https://stackoverflow.com/users/6291306/himangshu-paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1488637556, "creation_date": 1488556819, "last_edit_date": 1488637556, "question_id": 42583377, "link": "https://stackoverflow.com/questions/42583377/introduction-to-perl-input-and-output", "title": "Introduction to perl input and output", "body": "<p>I have a Perl script which I am trying to understand. I am quoting first few lines of the script (abc.pl)</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse DateTime;\nuse File::Temp;\nuse Math::Complex;\nuse Getopt::Long;\nuse TauP::Time;\nuse Seed::Response;\nuse lib '/usr/lib/perl5';\nuse Seismogram::SAC;\n\nmy(@input,$output);\nGetOptions('input=s{,}' =&gt; \\@input, 'output=s' =&gt; \\$output);\n\nopen my $out_fp,\"&gt;$output\";\nforeach my $file (&lt;@input&gt;)\n{\n my $phase = 'S';\n if ( $file =~ /BHZ/ ) { $phase = 'P';}\n my $decData = File::Temp-&gt;new();\n decimateData($file,$decData);\n my($sac) = readSAC($decData);\n my($resp) = readResponse($sac);\n}\n</code></pre>\n\n<p>I have a few files which I have listed in \"list\".\nCan anyone please let me understand how should I input \"list\" and output filenames to the perl script.</p>\n"}, {"tags": ["perl", "batch-file"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1488552921, "post_id": 42581309, "comment_id": 72296327, "body": "<code>sPSMAGSCRIPTS</code> isn&#39;t set."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1488552947, "post_id": 42581309, "comment_id": 72296356, "body": "Please indent your code properly so that we can read it"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1488552959, "post_id": 42581309, "comment_id": 72296373, "body": "Use lexical filehandles and 3-arg open, not bareword handles and 2-arg open. Don&#39;t quote <code>&quot;$vars&quot;</code> for no reason. Include <code>$!</code> in the error message."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1488552997, "post_id": 42581309, "comment_id": 72296398, "body": "The first step to debugging this would be to look at what&#39;s actually in <code>$sLines</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 4, "creation_date": 1488553010, "post_id": 42581309, "comment_id": 72296411, "body": "You should start every Perl file with <code>use strict; use warnings;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1488636201, "last_edit_date": 1488636201, "creation_date": 1488553803, "answer_id": 42582363, "question_id": 42581309, "link": "https://stackoverflow.com/questions/42581309/using-perl-how-can-i-obtain-the-amount-of-free-space-on-a-local-disk-from-wmic/42582363#42582363", "title": "Using Perl, how can I obtain the amount of free space on a local disk from WMIC on Windows?", "body": "\n\n<p>The problem is that Windows often writes text files in its own variant of UTF-16, and you need to decode that before you can use the data as characters. If you used</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>open SPACEFILE, '&lt;:encoding(UTF-16)', $soutput_file\n</code></pre>\n\n<p>then you would see the characters you expected</p>\n\n<p>I suggest running the <code>wmic</code> command from the Perl program.\nIf you let <code>wmic</code> send its output to STDOUT then it will be in ISO-8859-1, and mostly won't need decoding. You can you read the command's output through a pipe using <code>open</code> </p>\n\n<p>This way you just need to run the Perl program and there is no need for the batch file as well</p>\n\n<p>Like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse constant GB =&gt; 1024 * 1024 * 1024;\n\nmy $sLines = do {\n    open my $fh, '-|', q{wmic logicaldisk where \"DeviceID='C:'\" get FreeSpace /format:value};\n    local $/;\n    &lt;$fh&gt;;\n};\nprint \"File read\\n\";\n\nif ( $sLines =~ /(FreeSpace=(\\d+))/i ) {\n\n    print \"$1\\n\";\n\n    my $bytes = $2;\n    printf \"FreeSpace is: %.2fGB\\n\", $bytes / GB;\n}\nelse {\n    print \"no match\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>File read\nFreeSpace=10210951168\nFreeSpace is: 9.51GB\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1488554245, "creation_date": 1488554245, "answer_id": 42582526, "question_id": 42581309, "link": "https://stackoverflow.com/questions/42581309/using-perl-how-can-i-obtain-the-amount-of-free-space-on-a-local-disk-from-wmic/42582526#42582526", "title": "Using Perl, how can I obtain the amount of free space on a local disk from WMIC on Windows?", "body": "<p>I would bypass the batch file:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Number::Bytes::Human qw( format_bytes );\n\nmy $bytes_free = (split ' ', `wmic logicaldisk where \"DeviceID='C:'\" get FreeSpace`)[1];\n\n# Pretty print it (not really necessary)\nprint format_bytes( $bytes_free ), \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre>C:\\> perl tt.pl\n1.5T</pre>\n"}, {"tags": [], "owner": {"reputation": 59189, "user_id": 778560, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/52ebdc4690fff7b07d3644c4cb7b255a?s=128&d=identicon&r=PG", "display_name": "Aacini", "link": "https://stackoverflow.com/users/778560/aacini"}, "is_accepted": false, "score": 0, "last_activity_date": 1488592013, "last_edit_date": 1488592013, "creation_date": 1488571699, "answer_id": 42587569, "question_id": 42581309, "link": "https://stackoverflow.com/questions/42581309/using-perl-how-can-i-obtain-the-amount-of-free-space-on-a-local-disk-from-wmic/42587569#42587569", "title": "Using Perl, how can I obtain the amount of free space on a local disk from WMIC on Windows?", "body": "<p>You don't need Perl to do that; you may do it all in a Batch file.</p>\n\n<pre><code>@echo off\nsetlocal EnableDelayedExpansion\n\nwmic /OUTPUT:result.txt logicaldisk where \"DeviceID='C:'\" get FreeSpace /format:value\nfor /F %%a in ('type result.txt') do set \"%%a\"\n\necho FreeSpace = %FreeSpace% Bytes\n\nset \"group[1]=00000000%FreeSpace:~-9%\"\nset /A n=1, group[1]=1%FreeSpace:~-9% %% 1000000000\nset \"group[2]=%FreeSpace:~0,-9%\"\nif defined group[2] set \"n=2\"\nset /A bin10=0, carry=0, bitPos=0\n:nextBit\n   for /L %%i in (%n%,-1,1) do set /A term=carry*1000000000+group[%%i], group[%%i]=term/2, carry=term%%2\n   set /A \"bin10[%bin10%]+=carry&lt;&lt;bitPos, carry=0, bitPos+=1\"\n   if %bitPos% equ 10 set /A bin10+=1, bitPos=0\n   if !group[%n%]! equ 0 set /A n-=1\nif %n% gtr 0 goto nextBit\nset /A Int=bin10[3], Frac=100+bin10[2]*100/1024\n\necho FreeSpace = %Int%.%Frac:~-2% GigaBytes\n</code></pre>\n\n<p>Output example:</p>\n\n<pre><code>FreeSpace = 405032046592 Bytes\nFreeSpace = 377.21 GigaBytes\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5047700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09413769ab2397b2b743bd49d18f09b3?s=128&d=identicon&r=PG&f=1", "display_name": "STJ", "link": "https://stackoverflow.com/users/5047700/stj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 473, "favorite_count": 0, "accepted_answer_id": 42582363, "answer_count": 3, "score": -1, "last_activity_date": 1488636201, "creation_date": 1488550936, "last_edit_date": 1488554457, "question_id": 42581309, "link": "https://stackoverflow.com/questions/42581309/using-perl-how-can-i-obtain-the-amount-of-free-space-on-a-local-disk-from-wmic", "title": "Using Perl, how can I obtain the amount of free space on a local disk from WMIC on Windows?", "body": "<p>I am getting server's disk usage using bat and perl script. Bat command is returning correct output in a file but it is in bytes, I am trying to get it converted to GB in perl script,  which is giving correct output on online IDE but not when am running on my server, can you tell me what other pre-requisites that I might need to check, other any issue in below code.</p>\n\n<p>BAT:</p>\n\n<pre><code>wmic /OUTPUT:D:\\advapp\\PSMAG\\Scripts\\DailyOps\\result.txt logicaldisk where \"DeviceID='C:'\" get FreeSpace /format:value\n\nC:\\Perl\\bin\\perl.exe  %PSMAGSCRIPTS%\\DailyOps\\dailyDiskCheck.pl\n</code></pre>\n\n<p>Perl:</p>\n\n<pre><code># File generated by bat\nmy $soutput_file = \"$sPSMAGSCRIPTS\\\\DailyOps\\\\result.txt\";\nopen(SPACEFILE, \"$soutput_file\") or die \"Can't open $soutput_file\\n\";\nmy $sLines;\n{\n    local $/ = undef;\n    $sLines = &lt;SPACEFILE&gt;;\n    print \"file reaD\\n\";\n}\nif ( $sLines =~ m/(FreeSpace=.*)/i ) {\n    print \"\" . $1 . \"\\n\"; \n    if ($1 =~ m/FreeSpace=(\\d+)/) {\n        my $var = $1;\n        $var /= 1073741824;\n        print \"FreeSpace is:$var GBs \\n\";\n    }\n    close(SPACEFILE);\n}\nelse {\n    print \"no match\";\n}\n</code></pre>\n\n<p>Output I am getting:</p>\n\n<p>file reaD</p>\n\n<p>no match</p>\n"}, {"tags": ["regex", "perl", "sed"], "comments": [{"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "edited": false, "score": 0, "creation_date": 1488546461, "post_id": 42579574, "comment_id": 72291860, "body": "Your Perl produces the expected result for me. Also, did you know that <code>[0-9]</code> is <code>\\d</code>? And that you can use other delimiters, like <code>s!a!b!</code> not to have to escape all <code>&#47;</code>?"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1488546470, "post_id": 42579574, "comment_id": 72291869, "body": "Works pretty fine for me."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1488546880, "post_id": 42579574, "comment_id": 72292202, "body": "A shorter oneliner: <code>perl -pe &#39;s~\\s(\\d{2})&#47;(\\d{2})&#47;(\\d{4})\\s(\\d{2}:\\d{2}:\\d{2})\\s+(.*)~$3-&zwnj;&#8203;$2-$1_$4;$5;931;2~&#39; file.txt &gt; output.csv</code>"}, {"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1488547216, "post_id": 42579574, "comment_id": 72292462, "body": "<code>perl -pe &#39;s!\\s(\\d+)&#47;(\\d+)&#47;(\\d+)\\s((\\d+:?)+)\\s+(.*)!$3-$2-$1_$4;$6;931&zwnj;&#8203;;2!&#39; file.txt &gt; output.csv</code> to make even shorter @Toto :)"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 2, "creation_date": 1488548455, "post_id": 42579574, "comment_id": 72293323, "body": "Your input file has <code>\\r\\n</code> newlines. That&#39;s what is sending &quot;;931;2&quot; to the start of the string. In perl, do <code>s&#47;\\s+$&#47;&#47;</code> to remove trailing whitespace."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1488549578, "last_edit_date": 1488549578, "creation_date": 1488549215, "answer_id": 42580718, "question_id": 42579574, "link": "https://stackoverflow.com/questions/42579574/regex-on-command-line-to-replace-and-reorder/42580718#42580718", "title": "Regex on command line to replace and reorder", "body": "<p></p>\n\n<p>The problem is almost certainly that you are using Linux to process a file that originated on a Windows system, which has CR LF line endings. The <code>.*</code> at the end of your regex pattern matches the CR right after the last number on each line (but not the LF) and so retains it in <code>$7</code> and inserts it into the output. That makes <code>;931;2</code> appear at the beginning of the line, overwriting the characters that were there before</p>\n\n<p>One way to approach this is just to replace <code>chomp</code> with <code>s/\\R\\z//</code> which will match any of CR, LF, or CR LF at the end of the lines, and so handle the line endings of any system</p>\n\n<p>Your regex is correct, but I would simply gather all numeric fields from each record and use <code>printf</code> to reformat the output. That way there is no need to remove the line ending in the first place</p>\n\n<p>It would look like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nopen my $fh, '&lt;', 'data.txt' or die $!;\n\nwhile ( &lt;$fh&gt; ) {\n    my @F = /\\d+/ag;\n    printf \"%04d-%02d-%02d_%02d:%02d:%02d;%d;%d;%d\\n\",\n            @F[2,1,0,3,4,5,6], 931, 2;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>2017-01-30_00:00:00;158;931;2\n2017-01-30_00:30:00;158;931;2\n2017-01-30_01:00:00;158;931;2\n2017-01-30_01:30:00;158;931;2\n2017-01-30_02:00:00;158;931;2\n2017-01-30_02:30:00;158;931;2\n2017-01-30_03:00:00;158;931;2\n2017-01-30_03:30:00;158;931;2\n2017-01-30_04:00:00;158;931;2\n2017-01-30_04:30:00;158;931;2\n2017-01-30_05:00:00;158;931;2\n2017-01-30_05:30:00;158;931;2\n2017-01-30_06:00:00;158;931;2\n2017-01-30_06:30:00;157;931;2\n2017-01-30_07:00:00;157;931;2\n2017-01-30_07:30:00;157;931;2\n2017-01-30_08:00:00;157;931;2\n</code></pre>\n\n<p>In a one-liner that would be</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -ne '@F = /\\d+/ag; printf \"%04d-%02d-%02d_%02d:%02d:%02d;%d;%d;%d\\n\", @F[2,1,0,3,4,5,6], 931, 2;' myfile\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "edited": false, "score": 0, "creation_date": 1488565625, "post_id": 42583274, "comment_id": 72304159, "body": "There is an extra <code>.</code> after <code>^</code>."}, {"owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "reply_to_user": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "edited": false, "score": 0, "creation_date": 1488575691, "post_id": 42583274, "comment_id": 72309272, "body": "@SLePort yes from copy/paste of the original data there is a space then the data in dd/mm/yyyy format. However in the required format there is no such space."}, {"owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "edited": false, "score": 0, "creation_date": 1488609411, "post_id": 42583274, "comment_id": 72317521, "body": "You&#39;re right, I didn&#39;t see it. It&#39;s a quite readable solution for a sed one... I didn&#39;t downvoted and I can only &quot;reset&quot; your score."}], "tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 0, "last_activity_date": 1488556514, "creation_date": 1488556514, "answer_id": 42583274, "question_id": 42579574, "link": "https://stackoverflow.com/questions/42579574/regex-on-command-line-to-replace-and-reorder/42583274#42583274", "title": "Regex on command line to replace and reorder", "body": "<p>This might work for you (GNU sed):</p>\n\n<pre><code>sed -r 's/^.(..).(..).(....).(........)\\s*(\\S*).*/\\3-\\2-\\1_\\4;\\5;931;2/' file\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 4054687, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh5.googleusercontent.com/-OAREC_VW7uM/AAAAAAAAAAI/AAAAAAAAADo/zXTFNsz8BUM/photo.jpg?sz=128", "display_name": "Ivan Nack", "link": "https://stackoverflow.com/users/4054687/ivan-nack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1488556514, "creation_date": 1488546086, "question_id": 42579574, "link": "https://stackoverflow.com/questions/42579574/regex-on-command-line-to-replace-and-reorder", "title": "Regex on command line to replace and reorder", "body": "<p>I have to follow text:</p>\n\n<pre><code> 30/01/2017 00:00:00                 158\n 30/01/2017 00:30:00                 158\n 30/01/2017 01:00:00                 158\n 30/01/2017 01:30:00                 158\n 30/01/2017 02:00:00                 158\n 30/01/2017 02:30:00                 158\n 30/01/2017 03:00:00                 158\n 30/01/2017 03:30:00                 158\n 30/01/2017 04:00:00                 158\n 30/01/2017 04:30:00                 158\n 30/01/2017 05:00:00                 158\n 30/01/2017 05:30:00                 158\n 30/01/2017 06:00:00                 158\n 30/01/2017 06:30:00                 157\n 30/01/2017 07:00:00                 157\n 30/01/2017 07:30:00                 157\n 30/01/2017 08:00:00                 157\n</code></pre>\n\n<p>I want using regex to reorder date in ISO format and convert to .csv file.</p>\n\n<p>I allred test this commands:</p>\n\n<pre><code>perl -pe 's/(\\s)([0-9]{2})\\/([0-9]{2})\\/([0-9]{4})\\s([0-9]{2}:[0-9]{2}:[0-9]{2})(\\s+)(.*)/$4-$3-$2_$5;$7;931;2/g' file.txt &gt; output.csv\n</code></pre>\n\n<p>and</p>\n\n<pre><code>sed -E 's/(\\s)([0-9]{2})\\/([0-9]{2})\\/([0-9]{4})\\s([0-9]{2}:[0-9]{2}:[0-9]{2})(\\s+)(.*)/\\4-\\3-\\2_\\5;\\7;931;2/g' file.txt &gt; output.csv\n</code></pre>\n\n<p>Expected result was to be:</p>\n\n<pre><code>2017-01-30_00:00:00;158;931;2\n2017-01-30_00:30:00;158;931;2\n2017-01-30_01:00:00;158;931;2\n2017-01-30_01:30:00;158;931;2\n2017-01-30_02:00:00;158;931;2\n2017-01-30_02:30:00;158;931;2\n2017-01-30_03:00:00;158;931;2\n2017-01-30_03:30:00;158;931;2\n2017-01-30_04:00:00;158;931;2\n2017-01-30_04:30:00;158;931;2\n2017-01-30_05:00:00;158;931;2\n2017-01-30_05:30:00;158;931;2\n2017-01-30_06:00:00;158;931;2\n2017-01-30_06:30:00;157;931;2\n2017-01-30_07:00:00;157;931;2\n2017-01-30_07:30:00;157;931;2\n2017-01-30_08:00:00;157;931;2\n</code></pre>\n\n<p>But the result is:</p>\n\n<pre><code>;931;21-30_00:00:00;158\n;931;21-30_00:30:00;158\n;931;21-30_01:00:00;158\n;931;21-30_01:30:00;158\n;931;21-30_02:00:00;158\n;931;21-30_02:30:00;158\n;931;21-30_03:00:00;158\n;931;21-30_03:30:00;158\n;931;21-30_04:00:00;158\n;931;21-30_04:30:00;158\n;931;21-30_05:00:00;158\n;931;21-30_05:30:00;158\n;931;21-30_06:00:00;158\n;931;21-30_06:30:00;157\n;931;21-30_07:00:00;157\n;931;21-30_07:30:00;157\n;931;21-30_08:00:00;157\n</code></pre>\n\n<p>Note ** 931; 2 ** at the beginning, but it was to be at the end. And even ate a part of 2017.</p>\n\n<p>Why does it happen?</p>\n"}, {"tags": ["arrays", "perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7653425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec78f6489481b68d822b7b55182e9654?s=128&d=identicon&r=PG&f=1", "display_name": "Jawhar Aredsgfs", "link": "https://stackoverflow.com/users/7653425/jawhar-aredsgfs"}, "edited": false, "score": 0, "creation_date": 1488547051, "post_id": 42579537, "comment_id": 72292341, "body": "That definitly looks like it.   Yes i couldn&#39;t even find my keyword to find the question.    You call that a hash table ? ...   I try it and come back, than you..."}, {"owner": {"reputation": 3, "user_id": 7653425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec78f6489481b68d822b7b55182e9654?s=128&d=identicon&r=PG&f=1", "display_name": "Jawhar Aredsgfs", "link": "https://stackoverflow.com/users/7653425/jawhar-aredsgfs"}, "edited": false, "score": 0, "creation_date": 1488548106, "post_id": 42579537, "comment_id": 72293075, "body": "&quot;You need to chomp each line to remove the trailing newline&quot; Do i have to do it since it&#39;s an array ? Aren&#39;t the spaces only when printing it ?  I updated my original post with more d&#233;tails, can you look at it quickly ?  &quot;$data-&gt;{T}-&gt;[4]; # first index is 0&quot; That is good, i don&#39;t have to set a secondary key then.   &quot;hash map, or simply something where you access it by name&quot; Technical terms you know. Excellent ^^.   &quot;As you can see, the program to read that data is quite simple without a map.&quot; Yes, it looks simple. It was more a thinking problem than a technical one.  Thank you."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3, "user_id": 7653425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec78f6489481b68d822b7b55182e9654?s=128&d=identicon&r=PG&f=1", "display_name": "Jawhar Aredsgfs", "link": "https://stackoverflow.com/users/7653425/jawhar-aredsgfs"}, "edited": false, "score": 0, "creation_date": 1488549334, "post_id": 42579537, "comment_id": 72293884, "body": "@JawharAredsgfs I was assuming a text file. You already have Text::CSV to read your file, so that&#39;s great. You don&#39;t need to bother about chomping and splitting. The important part of the answer is the data structure anyway. The rest is just to demonstrate."}, {"owner": {"reputation": 3, "user_id": 7653425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec78f6489481b68d822b7b55182e9654?s=128&d=identicon&r=PG&f=1", "display_name": "Jawhar Aredsgfs", "link": "https://stackoverflow.com/users/7653425/jawhar-aredsgfs"}, "edited": false, "score": 0, "creation_date": 1488549619, "post_id": 42579537, "comment_id": 72294101, "body": "Thank you again for your help simbabque. I did this :      &#39;my $hashab1; while (my $l3 = @tabab) {     chomp $l3;     my ($cle3, @valeurs3) = split /\\s/, $l3;     $hashab1-&gt;{$cle3} = [ @valeurs3 ]; }  print $hashab1-&gt;{T}-&gt;[4]; # first index is 0&#39;  But not working, i guess i&#39;m not using it well, How to use an array in place of  &#39;&lt;DATA&gt;&#39;"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3, "user_id": 7653425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec78f6489481b68d822b7b55182e9654?s=128&d=identicon&r=PG&f=1", "display_name": "Jawhar Aredsgfs", "link": "https://stackoverflow.com/users/7653425/jawhar-aredsgfs"}, "edited": false, "score": 0, "creation_date": 1488554922, "post_id": 42579537, "comment_id": 72297895, "body": "@JawharAredsgfs the other answer makes more sense, if you already use Text::CSV anyway."}, {"owner": {"reputation": 3, "user_id": 7653425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec78f6489481b68d822b7b55182e9654?s=128&d=identicon&r=PG&f=1", "display_name": "Jawhar Aredsgfs", "link": "https://stackoverflow.com/users/7653425/jawhar-aredsgfs"}, "edited": false, "score": 0, "creation_date": 1488555516, "post_id": 42579537, "comment_id": 72298271, "body": "Yep, i saw that, it works, thank you anyway @simbabque. It wasn&#39;t clear on my original post, my bad."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1488545974, "creation_date": 1488545974, "answer_id": 42579537, "question_id": 42579144, "link": "https://stackoverflow.com/questions/42579144/how-to-convert-array-of-arrays-to-hash-in-perl-with-tags-inside/42579537#42579537", "title": "How to convert Array of arrays to hash in perl with tags inside?", "body": "<p>Your question is hard to understand, but I think that's a language problem. So what I believe you are trying to say is that you have a file with data like this:</p>\n\n<pre><code>A 12 15 48 63 -5\nT 45 8 96 31 1123\nG 458 96 22 36 54\nC 45 1 32 1 6\n</code></pre>\n\n<p>And you would like to access it using a data structure like a table (called a <em>hash-map</em> in many technologies), where the first level has the letter, and the second level is an array of values.</p>\n\n<p>In Perl, that could look like this</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $data;\nwhile (my $row = &lt;DATA&gt;) {\n    chomp $row;\n    my ($key, @values) = split /\\s/, $row;\n    $data-&gt;{$key} = [ @values ];\n}\n\nCORE::say $data-&gt;{T}-&gt;[4]; # first index is 0\n\nprint Dumper $data;\n\n__DATA__\nA 12 15 48 63 -5\nT 45 8 96 31 1123\nG 458 96 22 36 54\nC 45 1 32 1 6\n</code></pre>\n\n<p>Let's look at what this does.</p>\n\n<ul>\n<li>The <a href=\"http://perldoc.perl.org/perldata.html#Special-Literals\" rel=\"nofollow noreferrer\"><code>__DATA__</code></a> is to simulate reading from a file. You can <code>open</code> an actual file and read from the file handle instead.</li>\n<li><code>$data</code> will hold our data structure</li>\n<li>You need to <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\"><code>chomp</code></a> each line to remove the trailing newline</li>\n<li>You <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a> on whitespace, and the first value is the letter</li>\n<li>You build the data structure. The <code>$key</code> is the letter, and the values go into an array reference.</li>\n</ul>\n\n<p>This program will output two things.</p>\n\n<pre><code>1123\n</code></pre>\n\n<p>That's what you were looking for. Because arrays in Perl are zero-indexed, <code>$data-&gt;{T}-&gt;[4]</code> gives you the 5th value. </p>\n\n<p>The <code>{T}</code> indicates that there is a <em>hash reference</em>. That's an associative array, or a hash map, or simply something where you access it by <em>name</em>. Those structures are not ordered.</p>\n\n<p>The <code>[4]</code> indicates that there is an <em>array reference</em>. That means there is a list of values that are ordered. It starts with index <code>[0]</code>.</p>\n\n<p>You were talking about <code>map</code>, but you don't really need that here. As you can see, the program to read that data is quite simple without a <code>map</code>.</p>\n\n<p>Then we have the debug output using <a href=\"https://metacpan.org/pod/Data::Dumper\" rel=\"nofollow noreferrer\">Data::Dumper</a>. It shows</p>\n\n<pre><code>$VAR1 = {\n          'T' =&gt; [\n                   '45',\n                   '8',\n                   '96',\n                   '31',\n                   '1123'\n                 ],\n          'A' =&gt; [\n                   '12',\n                   '15',\n                   '48',\n                   '63',\n                   '-5'\n                 ],\n          'G' =&gt; [\n                   '458',\n                   '96',\n                   '22',\n                   '36',\n                   '54'\n                 ],\n          'C' =&gt; [\n                   '45',\n                   '1',\n                   '32',\n                   '1',\n                   '6'\n                 ]\n        };\n</code></pre>\n\n<p>For more information, see <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perlref</a>, <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a> and <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>. Maybe also <a href=\"http://perldoc.perl.org/perlopentut.html\" rel=\"nofollow noreferrer\">perlopentut</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 7653425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec78f6489481b68d822b7b55182e9654?s=128&d=identicon&r=PG&f=1", "display_name": "Jawhar Aredsgfs", "link": "https://stackoverflow.com/users/7653425/jawhar-aredsgfs"}, "edited": false, "score": 0, "creation_date": 1488550201, "post_id": 42581037, "comment_id": 72294494, "body": "&quot;directly when reading the csv file, without the transposing&quot; That sound even better XD !   I try it now !"}, {"owner": {"reputation": 3, "user_id": 7653425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec78f6489481b68d822b7b55182e9654?s=128&d=identicon&r=PG&f=1", "display_name": "Jawhar Aredsgfs", "link": "https://stackoverflow.com/users/7653425/jawhar-aredsgfs"}, "edited": false, "score": 0, "creation_date": 1488551020, "post_id": 42581037, "comment_id": 72295025, "body": "It works perfectly  !  Can u explain to me binary and auto_diag in Text::CSV ?  And &#39;munge_column_names&#39; ?  Thank you for you time @jm666"}], "tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": true, "score": 0, "last_activity_date": 1488550112, "creation_date": 1488550112, "answer_id": 42581037, "question_id": 42579144, "link": "https://stackoverflow.com/questions/42579144/how-to-convert-array-of-arrays-to-hash-in-perl-with-tags-inside/42581037#42581037", "title": "How to convert Array of arrays to hash in perl with tags inside?", "body": "<p>For you edited question using <code>csv</code> file you could add values to hash of arrays directly when reading the csv file, without the transposing:</p>\n\n<pre><code>use 5.014;\nuse warnings;\n\nuse Text::CSV;\nuse Data::Dumper;\n\nmy $csv = Text::CSV-&gt;new( { binary =&gt; 1, auto_diag =&gt; 1 } );\nopen my $fh, \"&lt;\", \"gene.csv\" or die \"gene.csv: $!\";\n$csv-&gt;header( $fh, { munge_column_names =&gt; 'none'} );\n\nmy @colnames = $csv-&gt;column_names;\nmy $HoA;\nwhile( my $row = $csv-&gt;getline_hr($fh) ) {\n    push @{$HoA-&gt;{$_}}, $row-&gt;{$_} for @colnames;\n}\nmy $ret = $csv-&gt;getline_all($fh);\n$csv-&gt;eof or $csv-&gt;error_diag();\nclose $fh;\n\nsay \"The second val from the 'T' column: $HoA-&gt;{T}[1]\";\nsay \"Dump of the whole \", Dumper $HoA;\n</code></pre>\n\n<p>So, for the example <code>gene.csv</code></p>\n\n<pre><code>A;T;G;C\n-3;4;-1;1\n0;12;-13;-9\n-7;4;-9;-10\n-6;8;-9;-17\n-5;4;-6;-19\n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>The second val from the 'T' column: 12\nDump of the whole $VAR1 = {\n          'G' =&gt; [\n                   '-1',\n                   '-13',\n                   '-9',\n                   '-9',\n                   '-6'\n                 ],\n          'T' =&gt; [\n                   '4',\n                   '12',\n                   '4',\n                   '8',\n                   '4'\n                 ],\n          'C' =&gt; [\n                   '1',\n                   '-9',\n                   '-10',\n                   '-17',\n                   '-19'\n                 ],\n          'A' =&gt; [\n                   '-3',\n                   '0',\n                   '-7',\n                   '-6',\n                   '-5'\n                 ]\n        };\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7653425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec78f6489481b68d822b7b55182e9654?s=128&d=identicon&r=PG&f=1", "display_name": "Jawhar Aredsgfs", "link": "https://stackoverflow.com/users/7653425/jawhar-aredsgfs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 42581037, "answer_count": 2, "score": -3, "last_activity_date": 1488550112, "creation_date": 1488544836, "last_edit_date": 1488546887, "question_id": 42579144, "link": "https://stackoverflow.com/questions/42579144/how-to-convert-array-of-arrays-to-hash-in-perl-with-tags-inside", "title": "How to convert Array of arrays to hash in perl with tags inside?", "body": "<p>I think i've seen all the posts on this topic, but couldn't find my case, or modify something to match my case, that's why i ask here...</p>\n\n<p>My files are like : </p>\n\n<pre><code>my @tab1;\nA 12 15 48 63 -5 ...\nT 45 8 96 31 1123 ...\nG 458 96 22 36 54 ...\nC 45 1 32 1 6 ...\n</code></pre>\n\n<p><code>...</code> for continuing with a lot of numbers.</p>\n\n<p>I managed to obtain the other configuration ; </p>\n\n<pre><code>my @tab;\nA T C G\n12 45 458 45\n15 8 96 1\n48 31 22 32\n63 31 36 1\n-5 1123 54 6\n... ... ... ...\n</code></pre>\n\n<p>And i want to convert one of thoose to hash,</p>\n\n<p>With A, T, G, C as tags, \nAnd each values at it's position.</p>\n\n<p>Like if i call</p>\n\n<p><code>%Hash [T,5]</code> \n(or [T,4] if hash values starts at 0 i don't know the propre call for it)</p>\n\n<p>It gives me 1123 </p>\n\n<p>I don't know how to call it yet, if you can give me hints =). </p>\n\n<p>Maybe i'm trying to get hash of hashes from array of arrays... \nI'm not sure, my brain overheated... </p>\n\n<p>Thank you for reading me and for trying to help.\nIt sound to me like an easy problem, but i'm stuck on that... </p>\n\n<p>Ps : Geting 4 hash is ok too. \nOne for each letter... \nMaybe <code>map</code> can help, but i got problems using it, i can't find the good arguments... </p>\n\n<p>PPS : </p>\n\n<p>As asked, i'll clarify this.</p>\n\n<p>My input is : </p>\n\n<p>I use : </p>\n\n<pre><code>#!/bin/perl\n\nuse strict;\nuse warnings; \nuse Array::Transpose;\nuse Text::CSV;\n</code></pre>\n\n<p>A csv file :</p>\n\n<pre><code>A;T;G;C\n-3;4;-1;1\n0;12;-13;-9\n-7;4;-9;-10\n-6;8;-9;-17\n-5;4;-6;-19\n-7;13;0;-6\n-22;23;4;-17\n-5;0;-18;-16\n0;0;-9;-7\n4;12;-16;-24\n-13;13;1;-12\n-9;19;5;-21\n-3;0;-12;-12\n-2;22;-4;-26\n[...][...][...][...]\n</code></pre>\n\n<p><code>[...]</code> continues, but same number of values for each column.</p>\n\n<p>Which from i extract datas with : </p>\n\n<pre><code>    my @tabab1;\n    my $csv = Text::CSV-&gt;new({ sep_char =&gt; ';' });\n    my $ligne=0;\n    open my $fhand, '&lt;', \"$ARGV[2]/sortie.csv\" or die \"Soucis d'ouverture de : $ARGV[2]/sortie.csv $!\";\n\n    while( my $ligne = $csv-&gt;getline( $fhand ) ) { \n        #shift @$ligne;       \n        push @tabab1, $ligne;\n    }\nprint \"@{$tabab1[0]}\\n\"; \nprint \"@{$tabab1[1]}\\n\";\nprint \"@{$tabab1[2]}\\n\";\nprint \"@{$tabab1[3]}\\n\";\n</code></pre>\n\n<p>It gives me this : </p>\n\n<pre><code>A T G C\n-3 4 -1 1\n0 12 -13 -9\n-7 4 -9 -10\n</code></pre>\n\n<p>If i reverse it, with : </p>\n\n<pre><code>my @tabab;\nmy $l; #ligne\nmy $c; #colone\n\nfor $l (@tabab1) {\n  for $c (0 .. $#{$l}) {\n    push(@{$tabab[$c]}, $l-&gt;[$c]);\n  };\n};\nfor my $l2 (@tabab) {\n  for my $c2 (@{$l2}) {\n  };\n};\n\nprint \"@{$tabab[0]}\\n\"; #cliquer dessus pr afficher, bug... \nprint \"@{$tabab[1]}\\n\";\nprint \"@{$tabab[2]}\\n\";\nprint \"@{$tabab[3]}\\n\";\n</code></pre>\n\n<p>i get this : </p>\n\n<pre><code>A -3 0 -7 -6 -5 -7 -22 -5 0 4 [...]\nT 4 12 4 8 4 13 23 0 0 12 13 1 [...]\nG -1 -13 -9 -9 -6 0 4 -18 -9 [...]\nC 1 -9 -10 -17 -19 -6 -17 -16 [...]\n</code></pre>\n\n<p>I can't copy the whole lines, it's about 950 values that's why i wrote <code>[...]</code></p>\n\n<p>There is the same number of values in each row/lane and only 4 letters</p>\n\n<p>My goal is to get one of thoose two in hash. \nWith first key A, T, C, and G, and second key, the position of the value. 1st, 2nd, to the last one. </p>\n\n<p>Like a grid with in one axe my 4 letters, and on the other, the position.</p>\n\n<pre><code>1st key : A   T   C   G\n    1st  -3   4   1  -1\n    2nd   0  12  -9 -13\n    3rd  -7   4  -10 -9\n    4th ... and it continues\nPosition is the second key.\n</code></pre>\n\n<p>To be able to call a value by calling the letter and the postion.</p>\n\n<p>Or 4 hashes, one for each lettre.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488537382, "post_id": 42576503, "comment_id": 72286049, "body": "So <code>@test</code> now contains only directories, and you want to find all files in <code>$root</code> and put them in <code>@array</code>?"}, {"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488538561, "post_id": 42576503, "comment_id": 72286819, "body": "exactly what I want to do."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488538727, "post_id": 42576503, "comment_id": 72286926, "body": "try <code>chdir $root; @array = grep -f,&lt;.* *&gt;</code>"}, {"owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "edited": false, "score": 0, "creation_date": 1488542930, "post_id": 42576503, "comment_id": 72289500, "body": "when you have the &#39;@test&#39; with list of sub-directories in it. Don&#39;t you want to find all files in every item (subdir) in &#39;@test&#39; and add them as an child array in &#39;@array&#39; ?"}], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "edited": false, "score": 0, "creation_date": 1488822041, "post_id": 42577560, "comment_id": 72392045, "body": "Thanks a lot for your answer. This was what I want looked for!"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 7, "last_activity_date": 1488540103, "creation_date": 1488540103, "answer_id": 42577560, "question_id": 42576503, "link": "https://stackoverflow.com/questions/42576503/check-if-one-array-is-empty-in-array-of-arrays/42577560#42577560", "title": "check if one array is empty in array of arrays", "body": "<p>Evaluating an array in a scalar context will return the number of elements in the array. We can use that to implement simple logic that checks arrays to see if they contain any data.</p>\n\n<pre><code>if (@array) {\n  # @array contains data\n} else {\n  # @array contains no data\n}\n</code></pre>\n\n<p>If you have an array that contains references to other arrays then we can still use the same logic - we just need to dereference our array reference.</p>\n\n<pre><code>if (@{ $array[0] }) {\n  # $array[0] contains data\n} else {\n  # $array[0] contains no data\n}\n</code></pre>\n\n<p>Of course, we'll probably want to examine <code>@array</code> in a loop to work on all of the child arrays;</p>\n\n<pre><code>for (@array) {\n  if (@$_) {\n    # child array contains data\n  } else {\n    # child array contains no data\n  }\n}\n</code></pre>\n\n<p>Does that help?</p>\n\n<p>Also, if you're walking directory trees, then <a href=\"https://metacpan.org/pod/File::Find\" rel=\"noreferrer\">File::Find</a> might be an easier approach.</p>\n"}, {"tags": [], "owner": {"reputation": 438, "user_id": 1000756, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/84bbaab274ecb471236308e8382036fc?s=128&d=identicon&r=PG", "display_name": "taiko", "link": "https://stackoverflow.com/users/1000756/taiko"}, "is_accepted": false, "score": 0, "last_activity_date": 1488543035, "last_edit_date": 1488543035, "creation_date": 1488540908, "answer_id": 42577847, "question_id": 42576503, "link": "https://stackoverflow.com/questions/42576503/check-if-one-array-is-empty-in-array-of-arrays/42577847#42577847", "title": "check if one array is empty in array of arrays", "body": "<p>I think this might serve you</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @arr_repository;\n#declare working directory\nmy $root = \".\";      \nopendir ROOT, $root or die \"$root:$!\";\n#creating list of directories in working\nmy @list_of_dirs=sort (grep (!/^(\\.|\\.\\.)$/ &amp;&amp; -d   \"$root/$_\",readdir(ROOT)));     directory\nforeach my $dirName (@list_of_dirs) {\n        my @arr_ref_fileList;\n        #reading files in directory and inserting them in array_ref\n        my $arr_ref_fileList = read_directory($dirName);\n        #adding array with filenames into array     \n        push @arr_repository, [@$arr_ref_fileList];    \n        }\n\nsub read_directory {\n    my $input_dir = shift;\n    opendir IN,$input_dir or die \"$input_dir:$!\";\n    my @list_of_files=sort (grep (!/^(\\.|\\.\\.)$/ &amp;&amp; -f \"$input_dir/$_\",readdir(IN))); # reading only files, avoiding  \".\" and \"..\"\n    closedir(IN);\n    return \\@list_of_files;\n    }\n</code></pre>\n\n<ol>\n<li><p>you might want to use hash of arrays instead, then you will be able to see what directory contains what files.</p>\n\n<pre><code>$hash_repository-&gt;{$dirName} = [@$arr_ref_fileList];\n</code></pre></li>\n<li><p>you might to want to make the script recursive in case the directory being checked contains directories itself.</p></li>\n</ol>\n"}], "owner": {"reputation": 419, "user_id": 2014451, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/43e00500aa626b286cd6c3240084e050?s=128&d=identicon&r=PG", "display_name": "Royeh", "link": "https://stackoverflow.com/users/2014451/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1006, "favorite_count": 0, "accepted_answer_id": 42577560, "answer_count": 2, "score": 1, "last_activity_date": 1488543035, "creation_date": 1488537079, "question_id": 42576503, "link": "https://stackoverflow.com/questions/42576503/check-if-one-array-is-empty-in-array-of-arrays", "title": "check if one array is empty in array of arrays", "body": "<p>I am writing a perl script which there should be an array of arrays. This array finds all folders in the current directory and then the size of array depends on folders. The children arrays contains all files name which are included. It may I have an empty folder, but still I would like to create an array for that as well.</p>\n\n<pre><code>my $root = \"myCurrenDir\";\n@test = grep { -d \"$root/$_\" } read_dir($root);\nmy @array = ? # how can be defined\n</code></pre>\n\n<p>Let's assume that in the current directory there are two folders. Then the parent array contains two arrays as children. (Maybe one is empty).</p>\n\n<p>Then I want to check if (both of) arrays are empty or not and proceed to do next.</p>\n\n<p>I googled but could not find a clear solution for that. May I ask your help?\n(maybe it is simple but I stick on!).</p>\n"}, {"tags": ["database", "postgresql", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1488535851, "post_id": 42575446, "comment_id": 72284985, "body": "Is there any more to your program than what you show? Where in the output is the line with the missing <code>eAP</code>\u2014is it at the end of the file? Try <code>close $out</code> after the <code>print</code> loop."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1488536170, "post_id": 42575446, "comment_id": 72285218, "body": "You should set <code>PrintError =&gt; 0</code> as well as <code>RaiseError =&gt; 1</code>; you don&#39;t want a warning as well as an error that both say the same thing."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488555750, "post_id": 42575446, "comment_id": 72298421, "body": "Are you sure <code>nms_incident_config</code> is a regular table and not a view?"}], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 7652240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14ebff350339357ec26e7c9d1daf661?s=128&d=identicon&r=PG&f=1", "display_name": "JaroVojtek", "link": "https://stackoverflow.com/users/7652240/jarovojtek"}, "is_accepted": true, "score": -1, "last_activity_date": 1502123400, "last_edit_date": 1502123400, "creation_date": 1488898967, "answer_id": 42651580, "question_id": 42575446, "link": "https://stackoverflow.com/questions/42575446/different-output-when-selecting-from-postgresql-database-table-via-perl-script/42651580#42651580", "title": "Different output when selecting from Postgresql database table via Perl script", "body": "<p><a href=\"https://stackoverflow.com/questions/42575446/different-output-when-selecting-from-postgresql-database-table-via-perl-script/42651580#comment72284985_42575446\">As Borodin suggested in the comments</a>, I needed to add</p>\n\n<pre><code>close $out\n</code></pre>\n\n<p>after the <code>print</code> loop.</p>\n"}], "owner": {"reputation": 59, "user_id": 7652240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14ebff350339357ec26e7c9d1daf661?s=128&d=identicon&r=PG&f=1", "display_name": "JaroVojtek", "link": "https://stackoverflow.com/users/7652240/jarovojtek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 42651580, "answer_count": 1, "score": 4, "last_activity_date": 1502123400, "creation_date": 1488534230, "question_id": 42575446, "link": "https://stackoverflow.com/questions/42575446/different-output-when-selecting-from-postgresql-database-table-via-perl-script", "title": "Different output when selecting from Postgresql database table via Perl script", "body": "<p>I face quite a strange situation. Via perl script i am connecting to Postgresql database and i am selecting particular columns from concrete table. The output of the SELECT query from DB is saved into File. When the script is executed second time, content of the file from the first select is moved to another file and the actual file is filled with the new select output. Then i am comparing those two files. They should be same at the time of twice script execution. Problem is, that when i run script twice to compare, they differ in one row, when i execute the script third time, the output is the same as it was in frist time and when i execute the forth time, the output is the same as was in second time, and these outputs repeatedly alternates around. I tried 4 different methods how to fetch selected rows from table into file, but still the same situation, however, the content of the table in database is still the same.</p>\n\n<p>See the code below:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse DBI;\nuse DBD::Pg;\nuse File::Copy;\nuse File::Compare;\nuse List::Compare;\nuse MIME::Lite;\nuse Data::Dumper;\nuse Sys::Hostname;\n\nmy $qry1 = \"select id, name from nms_incident_config where enable = 'f' order by name asc\";\nmy $ltraps = '/tmp/traps.list' ;\nmy $ntraps = '/opt/tools/trapcfg_check/actual_traps.list';\n\nif(-e $ntraps ) {\n    print \"Actual trap list exists \\n\";\n    move(\"$ntraps\",\"$ltraps\") or die \"Copy failed! :$!\";\n      };\n\nopen my $out ,\"&gt;\", \"/opt/tools/trapcfg_check/actual_traps.list\";\n\n#connect to db and run selects for further use\n\nmy $db = DBI-&gt;connect( \"dbi:Pg:dbname=&lt;db_name&gt;;host=localhost;\",\"postgres\", \"*******\", {'RaiseError' =&gt; 1});\n\nmy $qry1s = $db-&gt; prepare(\"$qry1\");\n$qry1s-&gt;execute();\n</code></pre>\n\n<p>METHOD 1</p>\n\n<pre><code>  while (my @row = $qry1s -&gt; fetchrow_array()) {\n     $\" = \",\";\n     print $out \"@row \\n\";\n  }\n</code></pre>\n\n<p>METHOD 2</p>\n\n<pre><code>while (my @row = $qry1s-&gt;fetchrow_array()) {\n  #print $out \"$row[0],$row[1]\\n\";\n  print $out join(\", \", @row), \"\\n\"\n}\n</code></pre>\n\n<p>METHOD 3</p>\n\n<pre><code>my ($id,$name);\n$qry1s-&gt;bind_columns(\\($id, $name));\nwhile ($qry1s-&gt;fetch){\n  print $out \"$id, $name\\n\"\n}\n</code></pre>\n\n<p>METHOD 4</p>\n\n<pre><code>my $row;\n$row = $qry1s-&gt;fetchall_arrayref([]);\nforeach my $r (@{$row})\n{\n   print $out join(\", \", @{$r}), \"\\n\";\n}\n</code></pre>\n\n<p>In the scripts, only one method is uncommented and used, rest are commented.</p>\n\n<pre><code>$db-&gt;disconnect();\n\nopen F ,\"&lt;/opt/tools/trapcfg_check/actual_traps.list\" or die $!;\nopen F1 , \"/tmp/traps.list\" or die $!;\n\nmy @ntraps=&lt;F&gt;;\nmy @ltraps=&lt;F1&gt;;\n\nmy @lonly ;\nmy @nonly ;\n\n   if ( compare( $ltraps,$ntraps ) == 0 ) {\n      print \"Files are same \\n\" ;\n      die \"Files are same\\n\";\n      };\n\n   if ( compare( $ltraps,$ntraps ) ne 0 ) { print \"Files are different\\n\";\n\n      my $tc = List::Compare-&gt;new(\\@ltraps, \\@ntraps );\n         @lonly = $tc-&gt;get_complement;\n#        @nonly = $tc-&gt;get_unique;\n      print \"Different row/s in new trap list: \".\"@lonly\\n\";\n\n   };\n</code></pre>\n\n<p>Outputs ></p>\n\n<pre><code># ./tcheck_2.pl\nActual trap list exists\n\nFiles are same\nFiles are same\n\n# cat /opt/tools/trapcfg_check/actual_traps.list | grep -i 2147590214\n2147590214, wlsxStaUnAssociatedFromUnsecureAP\n\n# cat /tmp/traps.list | grep -i 2147590214\n2147590214, wlsxStaUnAssociatedFromUnsecur\n\n# ./tcheck_2.pl\nActual trap list exists\n\nFiles are different\nDifferent row/s in new trap list: 2147590214, wlsxStaUnAssociatedFromUnsecur\n\n# cat /opt/tools/trapcfg_check/actual_traps.list | grep -i 2147590214\n2147590214, wlsxStaUnAssociatedFromUnsecur\n\n# cat /tmp/traps.list | grep -i 2147590214\n2147590214, wlsxStaUnAssociatedFromUnsecureAP\n\n# ./tcheck_2.pl\nActual trap list exists\n\nFiles are same\nFiles are same\n\n# cat /opt/tools/trapcfg_check/actual_traps.list | grep -i 2147590214\n2147590214, wlsxStaUnAssociatedFromUnsecureAP\n\n# cat /tmp/traps.list | grep -i 2147590214\n2147590214, wlsxStaUnAssociatedFromUnsecur\n\n# ./tcheck_2.pl\nActual trap list exists\n\nFiles are different\nDifferent row/s in new trap list: 2147590214, wlsxStaUnAssociatedFromUnsecur\n\n# cat /opt/tools/trapcfg_check/actual_traps.list | grep -i 2147590214\n2147590214, wlsxStaUnAssociatedFromUnsecur\n\n# cat /tmp/traps.list | grep -i 2147590214\n2147590214, wlsxStaUnAssociatedFromUnsecureAP\n</code></pre>\n\n<p>Can you help me ? :)\nThanks</p>\n\n<p>Best Regards\nJaro</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": true, "score": 1, "last_activity_date": 1488532512, "creation_date": 1488532512, "answer_id": 42574845, "question_id": 42574813, "link": "https://stackoverflow.com/questions/42574813/how-to-pass-command-line-arguments-along-with-perl-modules-using-perl/42574845#42574845", "title": "How to pass command line arguments along with perl modules using perl?", "body": "<p>You miss the perl comment in the first line:</p>\n\n<pre><code>#!&lt;path_to_perl&gt;/perl\n\nuse strict;\nuse warnings 'all';\nuse CGI qw(:all);\n#generate the user file arguments\n.....\n</code></pre>\n\n<p>Your program will also work if you call it with the perl Interpreter in front of your command:</p>\n\n<pre><code>perl ./generate.pl -prjroot \"/home/bharat/DATA\" -outdir \"/home/bharat/DATA1\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1488539515, "creation_date": 1488539515, "answer_id": 42577354, "question_id": 42574813, "link": "https://stackoverflow.com/questions/42574813/how-to-pass-command-line-arguments-along-with-perl-modules-using-perl/42577354#42577354", "title": "How to pass command line arguments along with perl modules using perl?", "body": "<p>You've already seen what the problem is. But I'll just add that <a href=\"http://perldoc.perl.org/perldiag.html\" rel=\"nofollow noreferrer\">perldoc perldiag</a> gives pretty good explanations for any error message you get from Perl. In this case, searching for \"command not found\" would give you this:</p>\n\n<blockquote>\n  <p><strong>%s: Command not found</strong></p>\n  \n  <p>(A) You've accidentally run your script through csh or another shell instead of Perl. Check the #! line, or manually feed your script into Perl yourself. The #! line at the top of your file could look like</p>\n\n<pre><code>#!/usr/bin/perl -w\n</code></pre>\n</blockquote>\n\n<p>And that's particularly impressive, given that this  error isn't actually generated by Perl - but by your shell.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7608729"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 42574845, "answer_count": 2, "score": 0, "last_activity_date": 1488539515, "creation_date": 1488532430, "last_edit_date": 1495542712, "question_id": 42574813, "link": "https://stackoverflow.com/questions/42574813/how-to-pass-command-line-arguments-along-with-perl-modules-using-perl", "title": "How to pass command line arguments along with perl modules using perl?", "body": "<hr>\n\n<p>I treid one of my previous example to pass input and output files via command line arguments using perl?</p>\n\n<p>Previous example:</p>\n\n<p>[<a href=\"https://stackoverflow.com/questions/42500436/is-it-possible-to-add-the-file-out-in-the-filefindrule-using-perl][1]\">Is it possible to add the file out in the File::Find::Rule using perl?</a></p>\n\n<p>code which i tried to add input and output file as command line arguments:(<code>generate.pl</code>).I got struck how to include command line arguments to read and copy the files along with perl modules.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse CGI qw(:all);\n#generate the user file arguments\nuse Getopt::Long 'GetOptions';\nuse File::Path       qw( make_path );\nuse File::Copy  qw( copy move);\nuse File::Find::Rule qw( );\nGetOptions(\n    'prjroot=s' =&gt; \\my $input_dir,\n    'outdir=s'  =&gt; \\my $output_dir,\n); \nmy %created;\nfor my $in (\n   File::Find::Rule\n   -&gt;file()\n   -&gt;name(qr/^[^.].*\\.yfg$/)\n   -&gt;in($input_dir)\n) {\n   my $match_file = substr($in, length($input_dir) + 1); \n   my ($match_dir) = $match_file =~ m{^(.*)/} ? $1 : '.';\n   my $out_dir = $output_dir . '/' . $match_dir;\n   my $out     = $output_dir . '/' . $match_file;\n   make_path($out_dir) if !$created{$out_dir}++;\n   copy($in, $out);\n}\n</code></pre>\n\n<p>Error occured:</p>\n\n<pre><code>./generate.pl: line 1: use: command not found\n./generate.pl: line 2: use: command not found\n./generate.pl: line 3: syntax error near unexpected token `('\n./generate.pl: line 3: `use CGI qw(:all);'\n</code></pre>\n\n<p>perl execution should be as follows:</p>\n\n<p>I should copy the contents from one directory to another directory along with perl modulES(I.E File::Find::Rule)</p>\n\n<pre><code>./generate.pl -prjroot \"/home/bharat/DATA\" -outdir \"/home/bharat/DATA1\"\n</code></pre>\n\n<p>Help me fix my issues .</p>\n"}, {"tags": ["bash", "perl", "awk", "grep"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1488528699, "post_id": 42573682, "comment_id": 72280552, "body": "For Perl, see <a href=\"https://metacpan.org/pod/Term::ANSIColor\" rel=\"nofollow noreferrer\">Term::ANSIColor</a>"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1488528740, "post_id": 42573682, "comment_id": 72280573, "body": "<code>perl -e &#39;use Term::ANSIColor; print color(&quot;red&quot;), &quot;Stop!\\n&quot;, color(&quot;reset&quot;); print color(&quot;green&quot;), &quot;Go!\\n&quot;, color(&quot;reset&quot;);&#39;</code>"}, {"owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "edited": false, "score": 0, "creation_date": 1488529214, "post_id": 42573682, "comment_id": 72280811, "body": "In this particular case you can use the context control options of grep: <code>grep -A 2 notmytable input</code>"}, {"owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "reply_to_user": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "edited": false, "score": 0, "creation_date": 1488529272, "post_id": 42573682, "comment_id": 72280839, "body": "@Leon, I thought of it but could not use as number of lines are dynamic in real set of data."}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1488529369, "post_id": 42573682, "comment_id": 72280887, "body": "@PS. You can build the print statement dynamically using this module."}], "answers": [{"comments": [{"owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "edited": false, "score": 0, "creation_date": 1488529985, "post_id": 42574020, "comment_id": 72281192, "body": "thanks, but this is coloring the whole para. Need to color just the matching string. my <code>perl</code> verison <code>This is perl, v5.10.1</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "edited": false, "score": 0, "creation_date": 1488530166, "post_id": 42574020, "comment_id": 72281279, "body": "@PS. Right, it seemed that way but your perl example made me think otherwise.  That&#39;d be too much for one-liner -- have to break the string (paragraph) into lines, match for coloring and for printing others ..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "edited": false, "score": 0, "creation_date": 1488530871, "post_id": 42574020, "comment_id": 72281649, "body": "@PS. Alright, fixed it up ... feel free to put in a script :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "edited": false, "score": 0, "creation_date": 1488783335, "post_id": 42574020, "comment_id": 72367082, "body": "@PS. I realized that you may in fact want only the pattern colored, not that whole line.  This is easier, added to the answer"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 4, "last_activity_date": 1488881890, "last_edit_date": 1488881890, "creation_date": 1488529909, "answer_id": 42574020, "question_id": 42573682, "link": "https://stackoverflow.com/questions/42573682/color-the-search-result-when-the-input-is-paragraph-not-a-single-line/42574020#42574020", "title": "color the search result when the input is paragraph not a single line", "body": "<pre><code>perl \"-MTerm::ANSIColor qw(:constants)\" -00lnE'\n    next if not /notmytable/; \n    for (split \"\\n\") { /notmytable/ ? say RED $_, RESET : say }\n' input\n</code></pre>\n\n<p>The <code>:constants</code> tag provides <code>RED</code> and such. There are other ways, see <a href=\"http://perldoc.perl.org/Term/ANSIColor.html\" rel=\"nofollow noreferrer\">Term::ANSIColor</a></p>\n\n<p>Note that there has to be some duplicate searching, since we need to first identify the paragraph, but then print only that line in color while printing others normally.</p>\n\n<hr>\n\n<p>If only the pattern need be colored, double-parsing isn't needed (and it's far easier and nicer)</p>\n\n<pre><code>perl -MTerm::ANSIColor -00lnE'say if s/(notmytable)/colored($1,\"red\")/eg' input\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 0, "creation_date": 1488548928, "post_id": 42574320, "comment_id": 72293630, "body": "or you can just use after perl <code>|grep --color &#39;.*&#39;</code> and whatever is printed by perl will be in color."}], "tags": [], "owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "is_accepted": false, "score": 1, "last_activity_date": 1488530816, "creation_date": 1488530816, "answer_id": 42574320, "question_id": 42573682, "link": "https://stackoverflow.com/questions/42573682/color-the-search-result-when-the-input-is-paragraph-not-a-single-line/42574320#42574320", "title": "color the search result when the input is paragraph not a single line", "body": "<p>Combine your <code>awk</code> or <code>perl</code> solution with <code>grep</code>:</p>\n\n<pre><code>perl -00lne 'print $_ if /notmytable/' input|grep -C1000 notmytable\n</code></pre>\n\n<p>The <code>-C1000</code> option makes <code>grep</code> keep 1000 lines of surrounding context around the matching line, actually turning <code>grep</code> into a mere colorizer rather than line selector.</p>\n\n<p>You can wrap it into a bash function:</p>\n\n<pre><code>function paragrep() { perl -00lne 'print $_ if /'\"$1\"/ \"$2\"|grep -C1000 \"$1\"; }\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>$ paragrep notmytable input\nCREATE TABLE notmytable ( id SERIAL,    # &lt;---\"notmytable\" is in red\nname varchar(20),\ncost int );\n\n$\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "edited": false, "score": 1, "creation_date": 1488807634, "post_id": 42581344, "comment_id": 72381902, "body": "excellent answer , tweaked a bit to make it work in real data. Although one question , why <code>gsub</code> is not inside <code>{...}</code>  ??  Dont we have to put action inside <code>{....}</code> ?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "edited": false, "score": 1, "creation_date": 1488814533, "post_id": 42581344, "comment_id": 72387016, "body": "No, you don&#39;t have to put an action inside <code>{}</code> but just be aware that if you don&#39;t then it&#39;s result will be treated as a condition and so can cause a new action to occur, <code>print $0</code> by default, if it&#39;s result is <code>true</code>. In this case gsub() returns a count of the number of replacements it performed so I&#39;m using it to perform replacements AND to trigger the default <code>print $0</code> action if it made any replacements. It&#39;s equivalent to writing <code>{ if (&#47;foo&#47;) { gsub(&#47;foo&#47;,bar); print $0 } }</code>"}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 2, "last_activity_date": 1488552627, "last_edit_date": 1488552627, "creation_date": 1488551036, "answer_id": 42581344, "question_id": 42573682, "link": "https://stackoverflow.com/questions/42573682/color-the-search-result-when-the-input-is-paragraph-not-a-single-line/42581344#42581344", "title": "color the search result when the input is paragraph not a single line", "body": "<p>If a string matching the desired regexp is found then surround it by the appropriate characters to change its color and print the record containing it:</p>\n\n<pre><code>$ awk -v RS=';' -v ORS=';\\n' 'gsub(/notmytable/,\"&lt;RED&gt;&amp;&lt;/RED&gt;\")' file\nCREATE TABLE &lt;RED&gt;notmytable&lt;/RED&gt; ( id SERIAL,\nname varchar(20),\ncost int );\n</code></pre>\n\n<p>Just change <code>&lt;RED&gt;</code> and <code>&lt;/RED&gt;</code> to the escape sequences for that color, e.g.</p>\n\n<pre><code>awk -v RS=';' -v ORS=';\\n' 'gsub(/notmytable/,\"\\033[31m&amp;\\033[0m\")' file\n</code></pre>\n\n<p>or if you don't want to hard-code those color values you could do:</p>\n\n<pre><code>awk -v RS=';' -v ORS=';\\n' -v red=\"$(tput setaf 1)\" -v nrm=\"$(tput sgr0)\" 'gsub(/notmytable/,red\"&amp;\"nrm)' file\n</code></pre>\n\n<p>BTW if you have blank lines between all records you'll probably find using <code>-v RS= -v ORS='\\n\\n'</code> works better for you than <code>-v RS=';' -v ORS=';\\n'</code>.</p>\n"}], "owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 42581344, "answer_count": 3, "score": 1, "last_activity_date": 1488881890, "creation_date": 1488528523, "question_id": 42573682, "link": "https://stackoverflow.com/questions/42573682/color-the-search-result-when-the-input-is-paragraph-not-a-single-line", "title": "color the search result when the input is paragraph not a single line", "body": "<p>I am trying to print the contents of the whole file with highlighted search string. </p>\n\n<p>For a simple file where Record is equal to a single line then I can do this easily using:</p>\n\n<pre><code>grep --color=auto \"myseacrchpattern\" inputfile\n</code></pre>\n\n<p>Here my records are in form of paragraphs not single line. Example:</p>\n\n<pre><code>CREATE TABLE mytable ( id SERIAL,\nname varchar(20),\ncost int );\n\nCREATE TABLE notmytable ( id SERIAL,\nname varchar(20),\ncost int );\n</code></pre>\n\n<p>If I do use grep for keyword : \"<code>notmytable</code>\",it will give me colored output but only that line is printed. </p>\n\n<pre><code>grep --color=auto 'notmytable' inputfile\nCREATE TABLE notmytable ( id SERIAL,  # &lt;-- \"notmytable\" is in red but its not the whole query\n</code></pre>\n\n<p>I need something like this :</p>\n\n<pre><code>CREATE TABLE notmytable ( id SERIAL,   # &lt;---\"notmytable\" is in red\nname varchar(20),\ncost int ); \n</code></pre>\n\n<p>I can print the desired paragraph with awk or perl but how to color it : </p>\n\n<pre><code>awk -v RS=';' -v ORS=';\\n' '/notmytable/' inputfile\n\n\nCREATE TABLE notmytable ( id SERIAL,\nname varchar(20),\ncost int );\n</code></pre>\n\n<p>OR perl :</p>\n\n<pre><code>perl -00lne 'print $_ if /notmytable/' inputfile\nCREATE TABLE notmytable ( id SERIAL,\nname varchar(20),\ncost int );\n</code></pre>\n"}, {"tags": ["perl", "cdata", "soaplite"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "edited": false, "score": 0, "creation_date": 1488563816, "post_id": 42583500, "comment_id": 72303285, "body": "I created CDATA but unfortunately SOAP::Data-&gt;value() replaces  character &#39;&lt;&#39; with &#39;&amp;lt;&#39; and character &#39;&gt;&#39; with &#39;&amp;gt;&#39;"}, {"owner": {"reputation": 41, "user_id": 5435872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a6106925371c3e549175e6e99a5436?s=128&d=identicon&r=PG&f=1", "display_name": "rahed h", "link": "https://stackoverflow.com/users/5435872/rahed-h"}, "reply_to_user": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "edited": false, "score": 0, "creation_date": 1488664451, "post_id": 42583500, "comment_id": 72334182, "body": "The type should be: SOAP::Data-&gt;type(&#39;xml&#39; =&gt; $xml_content)"}], "tags": [], "owner": {"reputation": 41, "user_id": 5435872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a6106925371c3e549175e6e99a5436?s=128&d=identicon&r=PG&f=1", "display_name": "rahed h", "link": "https://stackoverflow.com/users/5435872/rahed-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1488557215, "creation_date": 1488557215, "answer_id": 42583500, "question_id": 42573397, "link": "https://stackoverflow.com/questions/42573397/perl-soaplite-adding-cdata/42583500#42583500", "title": "Perl SOAP::Lite Adding CDATA", "body": "<p>Use XML::Generator to encode the CDATA section. Then put it in the relevant soap structure.</p>\n"}], "owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1488557215, "creation_date": 1488527341, "last_edit_date": 1488529881, "question_id": 42573397, "link": "https://stackoverflow.com/questions/42573397/perl-soaplite-adding-cdata", "title": "Perl SOAP::Lite Adding CDATA", "body": "<p>I am calling a web service using <a href=\"https://metacpan.org/pod/SOAP::Lite\" rel=\"nofollow noreferrer\">SOAP::Lite</a> module as follows:</p>\n\n<pre><code>my $som = $soap-&gt;call('ns:xxx' =&gt;\n           (\n            SOAP::Data-&gt;name('ns:data' =&gt;\n            \\SOAP::Data-&gt;value(\n               SOAP::Data-&gt;name('username')-&gt;type('')-&gt;value($username),\n             )\n          )\n      )\n  );\n</code></pre>\n\n<p>It did not work. So I called web service using SOAPUI tool to see xml structure.</p>\n\n<p>Then I run my code at debug mode (use SOAP::Lite 'debug'), see created xml and compared with the xml of SOAPUI tool. The only difference is that SOAPUI xml contains CDATA tag as follow:</p>\n\n<pre><code>&lt;![CDATA[\n   xml\n]]&gt;\n</code></pre>\n\n<p>I searched and saw that CDATA is used to prevent error caused by special characters</p>\n\n<p>How can I add this tag using Perl code?</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488525939, "post_id": 42572971, "comment_id": 72279180, "body": "Do you insist on using <code>tie</code> -- do you have some (very) particular reason for it?"}, {"owner": {"reputation": 254, "user_id": 6752390, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6071587a3b51842ff285ac4f5c43c0a7?s=128&d=identicon&r=PG&f=1", "display_name": "questionar", "link": "https://stackoverflow.com/users/6752390/questionar"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1488526209, "post_id": 42572971, "comment_id": 72279350, "body": "No...found this way to be easy for editing the particular line in the file"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1488526995, "post_id": 42572971, "comment_id": 72279775, "body": "I would <i>not</i> recomment using <code>tie</code> unless you have very strong reasons for that.  I posted how to do what you aske in a fairly standard. Let me know how it goes."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488535374, "post_id": 42572971, "comment_id": 72284660, "body": "@zdim: I very much disagree. <code>Tie::File</code> can make &quot;simple things easy&quot;. It is pointless to fret about the overhead that <code>tie</code> imposes if it is in the order of a few milliseconds or less. (I presume that is your objection? You don&#39;t explain.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488536662, "post_id": 42572971, "comment_id": 72285554, "body": "@Borodin I didn&#39;t mean to debate the value of it. It&#39;s like a piece of magic. I meant to say that it shouldn&#39;t be used for jobs that are done easily with only the most basic tools. It just raises the complexity right there.  If the OP had used a simple loop this question would not happen. (I should have explained what I meant.) I didn&#39;t mean to complain about the overhead. Assessing that correctly is a part of using any tool."}], "answers": [{"comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1488532400, "post_id": 42573265, "comment_id": 72282554, "body": "Maybe, filter for files only: <code>grep -f, glob &quot;$dir&#47;*.pm&quot;;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1488538034, "post_id": 42573265, "comment_id": 72286449, "body": "I&#39;m not sure you can do that <code>move</code> while <code>$file</code> is still open"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488562783, "post_id": 42573265, "comment_id": 72302762, "body": "@Borodin  Oh, yes. Thank you very much. That would be bad."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1515924269, "last_edit_date": 1515924269, "creation_date": 1488526901, "answer_id": 42573265, "question_id": 42572971, "link": "https://stackoverflow.com/questions/42572971/tie-file-not-working-for-loops/42573265#42573265", "title": "Tie file not working for loops", "body": "<p>I would not recommend to use <code>tie</code> for that. This simple code below should do as asked</p>\n\n<pre><code>use warnings;\nuse strict;\nuse File::Copy qw(move);    \nuse File::Glob ':bsd_glob';\n\nmy $dir = '/home/...';\n\nmy @pm_files = grep { -f } glob \"$dir/*.pm\";\n\nforeach my $file (@pm_files) \n{\n    my $outfile = 'new_' . $file;  # but better use File::Temp\n\n    open my $fh,     '&lt;', $file    or die \"Can't open $file: $!\";\n    open my $fh_out, '&gt;', $outfile or die \"Can't open $outfile: $!\";\n\n    while (my $line = &lt;$fh&gt;)\n    {\n        $line =~ s/PERL/perl/g;\n        print $fh_out $line;     # write out the line, changed or not\n    }\n    close $fh;\n    close $fh_out;\n\n    # Uncomment after testing, to actually overwrite the original file\n    #move $outfile, $file  or die \"Can't move $outfile to $file: $!\";\n}\n</code></pre>\n\n<p>The <code>glob</code> from <a href=\"http://perldoc.perl.org/File/Glob.html\" rel=\"nofollow noreferrer\">File::Glob</a> allows you to specify filenames similarly as in the shell.  See docs for accepted <em>metacharacters</em>.  The <code>:bsd_glob</code> is better for treatment of spaces in filenames. <sup>&dagger;</sup></p>\n\n<p>If you need to process files recursively then you indeed want a module. See <a href=\"http://search.cpan.org/~rclamp/File-Find-Rule-0.34/lib/File/Find/Rule.pm\" rel=\"nofollow noreferrer\">File::Find::Rule</a></p>\n\n<p>The rest of the code does what we must do when changing file content: copy the file.  The loop reads each line, changes the ones that match, and writes each line to another file. If the match fails then <code>s/</code> makes no changes to <code>$line</code>, so we just copy those that are unchanged.</p>\n\n<p>In the end we <code>move</code> that file to overwrite the original using <a href=\"http://perldoc.perl.org/File/Copy.html\" rel=\"nofollow noreferrer\">File::Copy</a>.</p>\n\n<p>The new file is temporary and I suggest to create it using <a href=\"http://perldoc.perl.org/File/Temp.html\" rel=\"nofollow noreferrer\">File::Temp</a>.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup> &nbsp; The <code>glob</code> pattern <code>\"$dir/...\"</code> allows for an injection bug for directories with particular names. While this is very unusual it is safer to use the <a href=\"https://perldoc.perl.org/perlre.html#Quoting-metacharacters\" rel=\"nofollow noreferrer\">escape sequence</a> </p>\n\n<pre><code>my @pm_files = grep { -f } glob \"\\Q$dir\\E/*.pm\";\n</code></pre>\n\n<p>In this case <code>File::Glob</code> isn't needed since <code>\\Q</code> escapes spaces as well.</p>\n"}, {"comments": [{"owner": {"reputation": 254, "user_id": 6752390, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6071587a3b51842ff285ac4f5c43c0a7?s=128&d=identicon&r=PG&f=1", "display_name": "questionar", "link": "https://stackoverflow.com/users/6752390/questionar"}, "edited": false, "score": 0, "creation_date": 1488533618, "post_id": 42573352, "comment_id": 72283388, "body": "works fine for me...had some permission issue in writing files"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1488535096, "post_id": 42573352, "comment_id": 72284471, "body": "The <code>my @array = ()</code> isn&#39;t better?"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1488535127, "post_id": 42573352, "comment_id": 72284496, "body": "also, you don&#39;t need the <code>@content = grep{$_ =~ &#47;.*\\.pm$&#47;} @content;</code> because you can filter the filenames directly in the <code>wanted</code> function, like: <code>find( sub{ push @content, $File::Find::name if -f &amp;&amp; &#47;\\.pm$&#47;i; }, q{.} );</code>"}], "tags": [], "owner": {"reputation": 81, "user_id": 1737991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e80336e9b7bea4d4de3047f541760ac?s=128&d=identicon&r=PG", "display_name": "Demiurg", "link": "https://stackoverflow.com/users/1737991/demiurg"}, "is_accepted": true, "score": 0, "last_activity_date": 1488527207, "creation_date": 1488527207, "answer_id": 42573352, "question_id": 42572971, "link": "https://stackoverflow.com/questions/42572971/tie-file-not-working-for-loops/42573352#42573352", "title": "Tie file not working for loops", "body": "<p>Working fine for me:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse common::sense;\nuse File::Find;\nuse Tie::File;\n\nmy @content;\n\nfind(\\&amp;wanted, '/home/mishkin/test/t/');\n\nsub wanted {\n    push @content, $File::Find::name;\n    return;\n}\n\n@content = grep{$_ =~ /.*\\.pm$/} @content;\n\nfor my $absolute_path (@content) {\n    my @array='';\n    say $absolute_path;\n    tie @array, 'Tie::File', $absolute_path or die \"Not working: $!\";\n\n    for my $line (@array) {\n        $line =~ s/PERL/perl/g;\n    }\n\n    untie @array;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1488536343, "post_id": 42576026, "comment_id": 72285328, "body": "Agreed, the &quot;unfortunately&quot; included :)"}], "tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 1, "last_activity_date": 1488535812, "creation_date": 1488535812, "answer_id": 42576026, "question_id": 42572971, "link": "https://stackoverflow.com/questions/42572971/tie-file-not-working-for-loops/42576026#42576026", "title": "Tie file not working for loops", "body": "<p>Solution using my favorite module: <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow noreferrer\">Path::Tiny</a>. Unfortunately, it isn't a core module.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Path::Tiny;\n\nmy $iter = path('/some/path')-&gt;iterator({recurse =&gt; 1});\nwhile( my $p = $iter-&gt;() ) {\n        next unless $p-&gt;is_file &amp;&amp; $p =~ /\\.pm\\z/i;\n        $p-&gt;edit_lines(sub {\n            s/PERL/perl/;\n            #add more line-editing\n        });\n        #also check the path(...)-&gt;edit(...) as an alternative\n}\n</code></pre>\n"}], "owner": {"reputation": 254, "user_id": 6752390, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6071587a3b51842ff285ac4f5c43c0a7?s=128&d=identicon&r=PG&f=1", "display_name": "questionar", "link": "https://stackoverflow.com/users/6752390/questionar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 42573352, "answer_count": 3, "score": 1, "last_activity_date": 1515924269, "creation_date": 1488525669, "last_edit_date": 1506976095, "question_id": 42572971, "link": "https://stackoverflow.com/questions/42572971/tie-file-not-working-for-loops", "title": "Tie file not working for loops", "body": "<p>I have a script which pulls all the pm files in my directory and look for certain pattern and change them to desired value, i tried Tie::File but it's not looking to content of the file</p>\n\n<pre><code>use File::Find;\nuse Data::Dumper qw(Dumper);\nuse Tie::File;\nmy @content;\nfind( \\&amp;wanted, '/home/idiotonperl/project/');\n\nsub wanted {\n    push @content, $File::Find::name;\nreturn;  \n}\nmy @content1 = grep{$_ =~ /.*.pm/} @content;\n@content = @content1;\nfor my $absolute_path (@content) {\n    my @array='';\n    print $absolute_path;\n    tie @array, 'Tie::File', $absolute_path or die qq{Not working};\n    print Dumper @array;\n    foreach my $line(@array) {\n         $line=~s/PERL/perl/g;\n    }\n    untie @array;\n }\n</code></pre>\n\n<p>the output is </p>\n\n<pre><code> Not working at tiereplacer.pl line 22.\n /home/idiotonperl/main/content.pm\n</code></pre>\n\n<p>this is not working as intended(looking into the content of all pm file), if i try to do the same operation for some test file under my home for single file, the content is getting replaced</p>\n\n<pre><code>  @content = \u2018home/idiotonperl/option.pm\u2019\n</code></pre>\n\n<p>it\u2019s working as intended</p>\n"}, {"tags": ["python", "bash", "perl", "awk"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 8, "creation_date": 1488493515, "post_id": 42567105, "comment_id": 72268229, "body": "Please, <i>please</i>, show us that which you have done.  It helps a lot for a question to be legitimate for SO"}, {"owner": {"reputation": 205702, "user_id": 7552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60298053f87465641c1b1192338c8cd?s=128&d=identicon&r=PG", "display_name": "glenn jackman", "link": "https://stackoverflow.com/users/7552/glenn-jackman"}, "edited": false, "score": 0, "creation_date": 1488506217, "post_id": 42567105, "comment_id": 72272550, "body": "when I see a question with &quot;I want the <i>last</i> line where ...&quot; I tend to think: reverse the file, then find the <i>first</i> line where ..."}], "answers": [{"comments": [{"owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "edited": false, "score": 0, "creation_date": 1488501428, "post_id": 42567348, "comment_id": 72271153, "body": "Note that on line 8 you need to grab only the date part and discard the time, like I do in line 5 of my code. Also, you could use a <code>collections.defaultdict</code> in line 3 in order to avoid lines 12 and 13 and you could even store it all in a single dictionary instead of nested dictionaries by using a tuple of <code>(date, element)</code> as your key."}, {"owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "edited": false, "score": 0, "creation_date": 1488501493, "post_id": 42567348, "comment_id": 72271175, "body": "Oh, and your last 4 lines can be written as one: <code>d[date][element] = 1 if before &lt; after else 1</code>. It makes things more readable when you get used to it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "edited": false, "score": 0, "creation_date": 1488534877, "post_id": 42567348, "comment_id": 72284318, "body": "@JosepValls: It would be a good idea to <i>test</i> your own solution before you go criticising other people&#39;s solutions"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488534981, "post_id": 42567348, "comment_id": 72284385, "body": "@heyiamt: <code>before</code> and <code>after</code> are <code>row[3]</code> and <code>row[4]</code>"}, {"owner": {"reputation": 191, "user_id": 4045886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YyS7l.png?s=128&g=1", "display_name": "heyiamt", "link": "https://stackoverflow.com/users/4045886/heyiamt"}, "reply_to_user": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "edited": false, "score": 0, "creation_date": 1488554723, "post_id": 42567348, "comment_id": 72297742, "body": "@JosepValls I agree that there&#39;s a fair amount of compression that can go on in the example. I thought it prudent to be a bit more pedantic, but perhaps that&#39;s an unfair assessment of the OP&#39;s python background"}], "tags": [], "owner": {"reputation": 191, "user_id": 4045886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YyS7l.png?s=128&g=1", "display_name": "heyiamt", "link": "https://stackoverflow.com/users/4045886/heyiamt"}, "is_accepted": false, "score": 0, "last_activity_date": 1488554627, "last_edit_date": 1488554627, "creation_date": 1488494359, "answer_id": 42567348, "question_id": 42567105, "link": "https://stackoverflow.com/questions/42567105/iterating-through-a-csv-and-pulling-out-the-last-line-of-the-day-for-each-elemen/42567348#42567348", "title": "Iterating through a CSV and pulling out the last line of the day for each element", "body": "<p>This appears to be a <code>dict</code> of <code>dict</code>s application.</p>\n\n<p>Since you can count on overwriting the value with the most recent one, in unixtime, you can just dynamically build a <code>dict</code>, keyed by date, and then add <code>dict</code>s therein for each element.</p>\n\n<pre><code>import csv\n\nd = {}\nwith open('inputfile.csv', 'rb') as f:\n    reader = csv.reader(f)\n    for row in reader:\n        element = row[0]\n        date = row[1]\n        before = float(row[3])\n        after = float(row[4])\n\n        if date not in d:\n              d[date] = {}\n\n        if before &lt; after:\n              d[date][element] =  1\n        else:\n              d[date][element] = -1\n</code></pre>\n\n<p>If you need the output to necessarily be in order by date, you can grab the dates and sort them.</p>\n\n<pre><code>from datetime import datetime\ndates = [datetime.strptime(date.split(None)[0], '%y/%m/%d') \n         for date d.keys()]\nsorted(dates)\n</code></pre>\n\n<p>Otherwise you can just grab the dates as strings as is.</p>\n\n<pre><code>dates = d.keys()\n</code></pre>\n\n<p>Then just write the output file</p>\n\n<pre><code>with open('outfile.csv', 'wb') as f:\n    writer = csv.writer(f)\n    writer.writerow(['element', 'date', 'direction'])\n    for date in dates:\n        for element in d[date]:\n            writer.writerow([delement, date, d[date][element]])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "edited": false, "score": 0, "creation_date": 1488500946, "post_id": 42567631, "comment_id": 72270986, "body": "The OP mentions that the file is already sorted and there are &quot;millions&#39;&#39; of lines so I avoided assuming that the data is already loaded and avoided resorting it. In my experience, if the data is NOT already sorted, when working with big files you are better sorting it OUTSIDE of Python (with the <code>sort</code> command)"}], "tags": [], "owner": {"reputation": 71, "user_id": 7643429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dbc854adb6292a6d7c069cf31568a47?s=128&d=identicon&r=PG&f=1", "display_name": "Owlette", "link": "https://stackoverflow.com/users/7643429/owlette"}, "is_accepted": false, "score": 0, "last_activity_date": 1488495663, "creation_date": 1488495663, "answer_id": 42567631, "question_id": 42567105, "link": "https://stackoverflow.com/questions/42567105/iterating-through-a-csv-and-pulling-out-the-last-line-of-the-day-for-each-elemen/42567631#42567631", "title": "Iterating through a CSV and pulling out the last line of the day for each element", "body": "<p>You can also consider using groupby</p>\n\n<p>If your data is already in this format:</p>\n\n<pre><code>[\n['CZ', '12/27/07 3:55 PM', '1198788900', '42345', '42346',],\n['CZ', '12/27/07 5:30 PM', '1198794600', '42346', '42300',],\n['CZ', '12/27/07 7:05 PM','1198800300', '42300', '42000',],\n['JB', '12/27/07 7:05 PM','1198800300', '13722', '13500',],\n['I', '12/27/07 7:05 PM', '1198800300', '4475', '4572']\n]\n</code></pre>\n\n<p>Then you can do this:</p>\n\n<pre><code>#truncate out the time portion of the second col:\nfor row in data:\n    row[1] = row[1].split(\" \")[0]\n\n#sort by symbol and date    \ndata = sorted(data, key = lambda x: (x[0], int(x[2]))) \nfrom itertools import groupby\n\nfor k, g in groupby(data, lambda x:x[:2]):\n    before,after = list(g)[-1][-2:] #extracts the last line.\n    k.append( \"1\" if int(after) &gt; int(before) else \"-1\" )\n    print \",\".join(k)\n</code></pre>\n\n<p>With the following output:</p>\n\n<pre><code>CZ,12/27/07,-1\nI,12/27/07,1\nJB,12/27/07,-1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 150, "user_id": 5451380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FI99D.jpg?s=128&g=1", "display_name": "ded", "link": "https://stackoverflow.com/users/5451380/ded"}, "is_accepted": false, "score": 0, "last_activity_date": 1488670816, "last_edit_date": 1488670816, "creation_date": 1488496079, "answer_id": 42567713, "question_id": 42567105, "link": "https://stackoverflow.com/questions/42567105/iterating-through-a-csv-and-pulling-out-the-last-line-of-the-day-for-each-elemen/42567713#42567713", "title": "Iterating through a CSV and pulling out the last line of the day for each element", "body": "<p>Perl (tested):</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy ($inputfile, %output) = \"input.csv\";\nopen (my $pfile, '&lt;', \"$inputfile\") or die \"Couldn't open file '$inputfile'\\n\";\n\n&lt;$pfile&gt;; #  SKIPS HEADER LINE, delete if there is no header present\n\nwhile (my $row = &lt;$pfile&gt;) {\n    die \"Malformed line: $row\" if $row !~ /^\\s*(\\S+)\\s*,\\s*(\\d\\d\\/\\d\\d\\/)(\\d\\d)(\\d\\d)?\\s[^,]*,[^,]*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*$/;\n    my ($element, $date, $before, $after) = ($1, $2.($4 ? $4 : $3), $5, $6);\n    $output{$element . $date} = [ $element, $date, $before - $after &lt; 0 ? -1 : 1 ];\n}\nclose $pfile;\n\nprint join(',', @$_).\"\\n\" foreach ([ \"element\", \"date\", \"direction\" ], values %output);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "is_accepted": false, "score": 0, "last_activity_date": 1488537750, "last_edit_date": 1488537750, "creation_date": 1488525655, "answer_id": 42572968, "question_id": 42567105, "link": "https://stackoverflow.com/questions/42567105/iterating-through-a-csv-and-pulling-out-the-last-line-of-the-day-for-each-elemen/42572968#42572968", "title": "Iterating through a CSV and pulling out the last line of the day for each element", "body": "<p>In GNU awk (regex <code>FS</code>). It only buffers the previous (and current) records so it expects sorted input file and for once the size doesn't matter:</p>\n\n<pre><code>$ awk -F\"(, |,| )\" -v OFS=\",\" '\np!=($1 OFS $2) &amp;&amp; NR&gt;1 {                                 # when $1 and $2 change\n    print p, q                                           # print previous\n}\n{\n    p=$1 OFS $2                                          # set previous \n    q=$7-$6\n    q=( q ? q/sqrt(q^2) : ( NR==1 ? \"direction\" : 0 ) )  # determine -1,0,1\n}\nEND {\n    print p, q                                           # last line handling\n}\n' file\n\nelement,date,direction\nCZ,12/27/07,-1\nJB,12/27/07,-1\nI,12/27/2007,1\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 3798612, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3d80cd522f10f0fd973d4039611de5a4?s=128&d=identicon&r=PG&f=1", "display_name": "user3798612", "link": "https://stackoverflow.com/users/3798612/user3798612"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 1, "answer_count": 4, "score": -6, "last_activity_date": 1488670816, "creation_date": 1488493208, "question_id": 42567105, "link": "https://stackoverflow.com/questions/42567105/iterating-through-a-csv-and-pulling-out-the-last-line-of-the-day-for-each-elemen", "title": "Iterating through a CSV and pulling out the last line of the day for each element", "body": "<p>I asked this yesterday and didn't get a working answer but much of it was failing to be specific enough.</p>\n\n<p>I've got an interesting problem I'm not quite sure how best to tackle, with iterating through a list. With the following format -</p>\n\n<pre><code>element, date, unixTime, before, after\nCZ, 12/27/07 3:55 PM, 1198788900, 42345, 42346\nCZ, 12/27/07 5:30 PM, 1198794600, 42346, 42300\nCZ, 12/27/07 7:05 PM,1198800300, 42300, 42000\nJB, 12/27/07 7:05 PM,1198800300, 13722, 13500\nI, 12/27/2007 7:05 PM, 1198800300, 4475, 4572\n</code></pre>\n\n<p>I want to iterate through, for each unique element and for each date, and get the sign of the change in the before/after columns. For instance, I would want 3 lines for 12/27/2007, for CZ JB and I. There are millions of lines, sometimes thousands for each day, and I just need to print of the last line for each element of the day. So there's multiple, maybe hundreds or thousands, of \"CZ\" lines for 12/27. I just need to pull out that last one, and print to output \"CZ, 12/27/07, 1\" or \"CZ, 12/27/07, -1\". For 12/27, the last line of CZ is a negative direction so it prints -1. And it would do the same for JB, and I, and all the other elements. The file is sorted by unix time, and the elements can be mixed up. I would want the output to look like the following</p>\n\n<pre><code>element, date, direction\nCZ, 12/27/07, -1\nJB, 12/27/07, -1\nI, 12/27/07, 1\nCZ, 12/28/07, 1\nJB, 12/27/07, -1\nI, 12/27/07, -1\n</code></pre>\n\n<p>Trying to figure out a succinct way in bash, python, perl, or even something like awk to do something like this. For each day, it will have a direction for each element that has at least one line during that day. I considered slow methods of doing so like reading through the file, populating an \"elements\" and \"dates\" table, then doing a foreach and comparing each set to find the largest unix time and then print with that, but there's got to be a much better way to run through it once instead. </p>\n"}, {"tags": ["perl", "www-mechanize", "lwp", "chunked-encoding", "chunked"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488500242, "post_id": 42565941, "comment_id": 72270779, "body": "The reason chunked is only used when callback is used is because the content length is otherwise known in advance, and there&#39;s no point to using chunked encoding if the content length is known."}], "answers": [{"comments": [{"owner": {"reputation": 3734, "user_id": 425893, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/150bcdb3aa4e2b8096065f19f1b6d568?s=128&d=identicon&r=PG", "display_name": "John O", "link": "https://stackoverflow.com/users/425893/john-o"}, "edited": false, "score": 0, "creation_date": 1488493255, "post_id": 42566983, "comment_id": 72268113, "body": "I&#39;m ok with using LWP directly, I just don&#39;t want to resort to system()ing the curl command, nor would I want to rewrite what&#39;s already a large script in python or something else. Thank for this, I&#39;ll get to tinkering with it. Trying to follow along with what I was seeing in dev tools, and I don&#39;t think I understood how this worked until you pointed it out."}, {"owner": {"reputation": 3734, "user_id": 425893, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/150bcdb3aa4e2b8096065f19f1b6d568?s=128&d=identicon&r=PG", "display_name": "John O", "link": "https://stackoverflow.com/users/425893/john-o"}, "edited": false, "score": 0, "creation_date": 1488786820, "post_id": 42566983, "comment_id": 72368860, "body": "Is there a way to do this with other fields besides the file contents? I can make the file upload, but it stumbles on several other missing values (as near as I can tell)."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1488492595, "creation_date": 1488492595, "answer_id": 42566983, "question_id": 42565941, "link": "https://stackoverflow.com/questions/42565941/how-do-i-do-a-chunked-transfer-encoding-upload-with-wwwmechanize/42566983#42566983", "title": "How do I do a chunked transfer-encoding upload with WWW:Mechanize?", "body": "<p>Do you really need <code>WWW::Mechanize</code>? It is a subclass of <code>LWP::UserAgent</code> with additional functionality that gives browser-like functionality like filling in and submitting forms, clicking links, a page history with a \"back\" operation etc. If you don't need all of that then you may as well use <code>LWP::UserAgent</code> directly</p>\n\n<p>Either way, the <code>post</code> method is inherited unchanged from <code>LWP::UserAgent</code>, and it's fine to use it directly as you have done</p>\n\n<p>The way to send a chunked <code>POST</code> is to set the <code>Content</code> to a reference to a subroutine. The subroutine must return the next chunk of data each time it is called, and finally ann empty string or <code>undef</code> when there is no more to send</p>\n\n<p>Is the data supposed to be a JSON string?</p>\n\n<p>It's easiest to write a factory subroutine that returns a closure, like this</p>\n\n<pre><code>sub make_callback {\n    my ($data) = shift;\n    sub { substr($data, 0, 512, \"\") }\n}\n</code></pre>\n\n<p>Then you can call <code>post</code> like this</p>\n\n<pre><code>my $payload = to_json(...);\n\n$mech-&gt;post(\n    \"https://$server/upload\",\n    Content_Type =&gt; 'multipart/form-data',\n    Content      =&gt; make_callback($payload)\n);\n</code></pre>\n\n<p><em>Please be aware that all of this is untested</em></p>\n"}, {"comments": [{"owner": {"reputation": 3734, "user_id": 425893, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/150bcdb3aa4e2b8096065f19f1b6d568?s=128&d=identicon&r=PG", "display_name": "John O", "link": "https://stackoverflow.com/users/425893/john-o"}, "edited": false, "score": 0, "creation_date": 1488564821, "post_id": 42571193, "comment_id": 72303760, "body": "Thank you, this solution seems to work correctly... json response has no errors now. I&#39;ve still got a few things to figure out besides the (previous) error, but I think I can get the rest now."}], "tags": [], "owner": {"reputation": 124, "user_id": 7208743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2087289e2d292c565a792961070ec894?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Motani", "link": "https://stackoverflow.com/users/7208743/sagar-motani"}, "is_accepted": true, "score": 4, "last_activity_date": 1488576345, "last_edit_date": 1488576345, "creation_date": 1488518162, "answer_id": 42571193, "question_id": 42565941, "link": "https://stackoverflow.com/questions/42565941/how-do-i-do-a-chunked-transfer-encoding-upload-with-wwwmechanize/42571193#42571193", "title": "How do I do a chunked transfer-encoding upload with WWW:Mechanize?", "body": "<p>You can do it using HTTP::Request::StreamingUpload</p>\n\n<pre><code>my $starttime = time();\nmy $req = HTTP::Request::StreamingUpload-&gt;new(\n    POST     =&gt; $url,\n    path    =&gt; $file,\n    headers =&gt; HTTP::Headers-&gt;new(\n        'Transfer-Encoding' =&gt; 'chunked' \n    ),\n);\n\nmy $gen = $req-&gt;content;\ndie unless ref($gen) eq \"CODE\";\n\nmy $total = 0;\n$req-&gt;content(sub {\n    my $chunk = &amp;$gen();\n    $total += length($chunk);\n\n    print \"\\r$total / $size bytes (\"\n        . int($total/$size*100)\n        . \"%) sent, \"\n        . int($total/1000/(time()-$starttime+1))\n        . \" k / sec \";\n\n    return $chunk;\n});\n\nmy $resp = $ua-&gt;request($req);\nprint \"\\n\";\n\nunless ($resp-&gt;is_success) {\n    die \"Failed uploading the file: \", $resp-&gt;status_line;\n}\n\nmy $con = $resp-&gt;content;\nreturn $con;\n</code></pre>\n"}], "owner": {"reputation": 3734, "user_id": 425893, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/150bcdb3aa4e2b8096065f19f1b6d568?s=128&d=identicon&r=PG", "display_name": "John O", "link": "https://stackoverflow.com/users/425893/john-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 948, "favorite_count": 0, "accepted_answer_id": 42571193, "answer_count": 2, "score": 3, "last_activity_date": 1488576345, "creation_date": 1488488763, "question_id": 42565941, "link": "https://stackoverflow.com/questions/42565941/how-do-i-do-a-chunked-transfer-encoding-upload-with-wwwmechanize", "title": "How do I do a chunked transfer-encoding upload with WWW:Mechanize?", "body": "<p>I'm attempting to use a particular web service, and I can successfully perform the upload with the following command:</p>\n\n<pre><code>curl -X POST  --header \"Transfer-Encoding: chunked\" -d @Downloads/file.pdf https://some.webservice/upload\n</code></pre>\n\n<p>I get back a json response indicate success.</p>\n\n<p>However, I'm unable to figure out how to do the same with WWW::Mechanize.</p>\n\n<pre><code>$mech-&gt;post(\"https://\" . $server . \"/upload\", Content_Type =&gt; 'multipart/form-data', Content =&gt; [upID =&gt; $upid, name =&gt; $dlfile, userID =&gt; 0, userK =&gt; 0, file_0 =&gt; [$dlfile]]);\n</code></pre>\n\n<p>This receives a similar json response with a big fat error message in it. </p>\n\n<p>Do I need to explicitly set the Transfer-Encoding header first? Is there some other trick to it? Google's not shedding much light on this, Perlmonks neither, and the documentation's a little obtuse.</p>\n"}, {"tags": ["arrays", "perl", "split"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1488486341, "post_id": 42564685, "comment_id": 72264466, "body": "Why is <code>blahnothing2</code> missing from expected output (and for 3)? It doesn&#39;t start with <code>*</code>."}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488497127, "post_id": 42564685, "comment_id": 72269780, "body": "There are a lot of lines that begin with asteriks. Some lines do not begin with an asterisk.  I really should have left it out of the question. Only the information between the two pipes is essential, the rest is nothing."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488498022, "post_id": 42564685, "comment_id": 72270114, "body": "Alright, fair enough.  Still, the asterisks are handled below as well, along with the rest (in both answers, as far as I can tell). Please let us know if there is a problem with any of it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488533556, "post_id": 42564685, "comment_id": 72283342, "body": "@capser: But <code>blahnothing2</code> is &quot;between two pipes&quot;. Is there some other way to distinguish the blocks you want to keep from the ones you want to discard?"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1490637127, "last_edit_date": 1490637127, "creation_date": 1488485412, "answer_id": 42565011, "question_id": 42564685, "link": "https://stackoverflow.com/questions/42564685/perl-push-lines-inbetween-regex-into-one-element-of-array/42565011#42565011", "title": "Perl - push lines inbetween regex into one element of array", "body": "<p>It seems that you want to merge lines between <code>|</code>, into a string, which gets placed on an array.</p>\n\n<p>One way is to set the <code>|</code> as <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\">input record separator</a>, so read a chunk between pipes each time</p>\n\n<pre><code>{  # localize the change to $/\n\n    local $/ = \"|\";\n    open(my $fh, '&lt;:encoding(UTF-8)' , $filename) \n        or die \"could not open file $filename $!\";\n\n    my @records;\n    while (my $section = &lt;$fh&gt;)\n    {\n        next if $section =~ /^\\s*\\*/;  \n        chomp $section;                # remove the record separator (| here)\n        $section =~ s/\\R/ /g;          # clean up newlines\n        $section =~ s/^\\s*//;          # clean up leading spaces\n        push @records, $section if $section;\n    }\n    print \"$_\\n\" for @records;\n}\n</code></pre>\n\n<p>I skip a \"section\" if it <em>starts</em> with <code>*</code> (and an optional space). There can be more restrictive versions. The <code>$section</code> can end up being an emtpy string, so we <code>push</code> it on the array conditionally.</p>\n\n<p>Output, with the example in the question copy-pasted into the input file with <code>$filename</code></p>\n\n<pre>\nblah1a blah1b blah1c \nblah2a blah2b blah2c \nblahnothing2 \nblah3a blah3b blah3c \nblahnothing3 \n</pre>\n\n<hr>\n\n<p>The approach in the question is fine, but you need to merge lines within a \"section\" (between pipes) and place each such string on the array. So you need a flag to track when enter/leave a section.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1488486753, "creation_date": 1488486753, "answer_id": 42565387, "question_id": 42564685, "link": "https://stackoverflow.com/questions/42564685/perl-push-lines-inbetween-regex-into-one-element-of-array/42565387#42565387", "title": "Perl - push lines inbetween regex into one element of array", "body": "\n\n<p>This seems to satisfy your requirement</p>\n\n<p>I've left the two lines <code>blahnothing2</code> and <code>blahnothing3</code> in place as I couldn't see a rationale for removing them</p>\n\n<p>The <code>\\R</code> regex pattern is the <em>generic newline</em>, and matches the newline sequences from any platform, i.e. CR, LF, or CRLF</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy $data = do {\n    open my $fh, '&lt;:raw', 'blah.txt' or die $!;\n    local $/;\n    &lt;$fh&gt;;\n};\n\n$data =~ s/^\\s*\\*.*\\R/ /gm; # Remove lines starting with *\n$data =~ s/\\R/ /g;          # Change all line endings to spaces\n\n# Split on pipe and remove blank elements\nmy @data = grep /\\S/, split /\\s*\\|\\s*/, $data; \n\nuse Data::Dump;\ndd \\@data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>[\n  \"blah1a blah1b blah1c\",\n  \"blah2a blah2b blah2c\",\n  \"blahnothing2\",\n  \"blah3a blah3b blah3c\",\n  \"blahnothing3 \",\n]\n</code></pre>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "accepted_answer_id": 42565387, "answer_count": 2, "score": 0, "last_activity_date": 1490637127, "creation_date": 1488484360, "last_edit_date": 1488484911, "question_id": 42564685, "link": "https://stackoverflow.com/questions/42564685/perl-push-lines-inbetween-regex-into-one-element-of-array", "title": "Perl - push lines inbetween regex into one element of array", "body": "<p>This is the log file I am dealing with - </p>\n\n<pre><code>|\nblah1a\nblah1b\nblah1c\n|\n****blahnothing1\n|\nblah2a\nblah2b\nblah2c\n|\nblahnothing2\n|\nblah3a\nblah3b\nblah3c\n|\nblahnothing3\n</code></pre>\n\n<p>The information that I need is nestled between two pipe characters. There are alot of lines with that start with asteriks, I skip over them. Each line has windows end of line characters.  The data in between these pipe characters is contigious, but when read on a linux host, it is chopped up with the windows new lines. \nI wrote the perl script with a range operator between the two lines hoping that everything that starts with a pipe delimiter would get pushed into an array element and then stop at the next pipe delimiter, then start again.  Each array element would have all the lines in between the two pipes characters. </p>\n\n<p>Ideally the arrays would look like this, sans the windows control characters.</p>\n\n<pre><code>$lines[0] blah1a blah1b blah1c\n$lines[1] blah2a blah2b blah2c\n$lines[2] blah3a blah3b blah3c\n</code></pre>\n\n<p>However each arrays do not look like that.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict ;\nuse warnings ;\n\nmy $delimiter = \"|\";\nmy $filename = $ARGV[0] ;\nmy @lines ;\nopen(my $fh, '&lt;:encoding(UTF-8)' , $filename) or die \"could not open file $filename $!\";\n\nwhile (my $line = readline $fh) {\n    next if ($line =~/^\\*+/) ;\n    if ($line =~ /$delimiter/ ... $line =~/$delimiter/) {\n    push (@lines, $line) ;\n    }\n\n\n}\n\nprint  $lines[0] ;\nprint  $lines[1] ;\nprint  $lines[2] ;\n</code></pre>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1488478453, "post_id": 42562680, "comment_id": 72259797, "body": "I am sorry for not being up to reading that regex carefully -- how do you want to change those lines?  Can you state it, or show the desired output?"}, {"owner": {"reputation": 161, "user_id": 693984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/arLfs.jpg?s=128&g=1", "display_name": "clamport", "link": "https://stackoverflow.com/users/693984/clamport"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488482796, "post_id": 42562680, "comment_id": 72262336, "body": "So basically what I want to do is parse any strings out, in order, and then parse out any of the variables or function calls in order to make   <code>(&quot;Unable to check thing state &#39;&quot; + otherThingId + &quot;&#39; using &#39;&quot; + address + &quot;&#39;&quot;, e);</code>    look like     <code>(&quot;Unable to check thing state &#39;{}&#39; using &#39;{}&#39;&quot;, otherThingId, address, e);</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488483484, "post_id": 42562680, "comment_id": 72262782, "body": "You need to show the code that uses this regex pattern <i>in context</i> so that we can see what you need it to do. Otherwise I can only suggest that <code>&#47;.*&#47;</code> will match all of your statements."}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 693984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/arLfs.jpg?s=128&g=1", "display_name": "clamport", "link": "https://stackoverflow.com/users/693984/clamport"}, "edited": false, "score": 0, "creation_date": 1488482557, "post_id": 42563066, "comment_id": 72262197, "body": "I like the example, though this does miss matching the <code>, e)</code> and <code>countInUse</code> as a variable at the end of   <code>(&quot;Count in use for thing=&quot; + secondThingId + &quot; is &quot; + countInUse);</code>  <code>(&quot;Unable to check thing state &#39;&quot; + otherThingId + &quot;&#39; using &#39;&quot; + address + &quot;&#39;&quot;, e);</code>   <code>(&quot;Exception occured while updating thingId=&quot;+ thingCollection.get(0).getMyId(), e);</code>"}, {"owner": {"reputation": 176, "user_id": 7416863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GMK0A.png?s=128&g=1", "display_name": "jjspace", "link": "https://stackoverflow.com/users/7416863/jjspace"}, "reply_to_user": {"reputation": 161, "user_id": 693984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/arLfs.jpg?s=128&g=1", "display_name": "clamport", "link": "https://stackoverflow.com/users/693984/clamport"}, "edited": false, "score": 0, "creation_date": 1488483130, "post_id": 42563066, "comment_id": 72262542, "body": "I updated the expression to include a case for those end variables"}], "tags": [], "owner": {"reputation": 176, "user_id": 7416863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GMK0A.png?s=128&g=1", "display_name": "jjspace", "link": "https://stackoverflow.com/users/7416863/jjspace"}, "is_accepted": false, "score": 0, "last_activity_date": 1488483072, "last_edit_date": 1488483072, "creation_date": 1488479081, "answer_id": 42563066, "question_id": 42562680, "link": "https://stackoverflow.com/questions/42562680/matching-regular-expressions/42563066#42563066", "title": "Matching regular expressions", "body": "<p>You should be able to simplify your regex to match things in between '+' signs.</p>\n\n<p><code>(?:\\+)([^\"]*?)(?:[\\+,])</code>\n<a href=\"https://regex101.com/r/n2aCnh/2\" rel=\"nofollow noreferrer\">Working Example</a></p>\n\n<p>(Note the ? after the * this makes the * lazy so it matches as little as possible to catch all occurrences)</p>\n\n<p>If you want just the variable you could access the first capture group from that expression or ignore the capture group to get the full match.</p>\n\n<hr>\n\n<p>Updated Version <code>(?:\\+)([^\"]*?)(?:[\\+,])|\\s([^\"+]*?)\\);</code><a href=\"https://regex101.com/r/n2aCnh/3\" rel=\"nofollow noreferrer\">Working Example</a></p>\n\n<p>Note with the new version that the variable might get placed into capture group 2 instead of 1</p>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 693984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/arLfs.jpg?s=128&g=1", "display_name": "clamport", "link": "https://stackoverflow.com/users/693984/clamport"}, "edited": false, "score": 0, "creation_date": 1488482521, "post_id": 42563437, "comment_id": 72262167, "body": "This is close, though I notice with this one it doesn&#39;t seem split the  <code>thingCollection.get(0).getMyId(), e);</code> in <code>(&quot;Exception occured while updating thingId=&quot;+ thingCollection.get(0).getMyId(), e);</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 161, "user_id": 693984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/arLfs.jpg?s=128&g=1", "display_name": "clamport", "link": "https://stackoverflow.com/users/693984/clamport"}, "edited": false, "score": 0, "creation_date": 1488483003, "post_id": 42563437, "comment_id": 72262464, "body": "<code>**  Grp 0 -  ( pos 366 , len 39 )  + thingCollection.get(0).getMyId(), e); </code> looks like <i>split</i> to me  <a href=\"https://regex101.com/r/n2aCnh/4\" rel=\"nofollow noreferrer\">regex101.com/r/n2aCnh/4</a>"}, {"owner": {"reputation": 161, "user_id": 693984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/arLfs.jpg?s=128&g=1", "display_name": "clamport", "link": "https://stackoverflow.com/users/693984/clamport"}, "edited": false, "score": 0, "creation_date": 1488484581, "post_id": 42563437, "comment_id": 72263421, "body": "The regex101 link you sent shows it as matching ` + thingCollection.get(0).getMyId(), e);` not ` + thingCollection.get(0).getMyId(),` and ` e);` Note, the comma can be on either side, doesn&#39;t really matter to me"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 161, "user_id": 693984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/arLfs.jpg?s=128&g=1", "display_name": "clamport", "link": "https://stackoverflow.com/users/693984/clamport"}, "edited": false, "score": 0, "creation_date": 1488486709, "post_id": 42563437, "comment_id": 72264688, "body": "Update post. <a href=\"https://regex101.com/r/n2aCnh/5\" rel=\"nofollow noreferrer\">(?:^&#40;\\s*|\\s*\\+\\s*|,\\s*)(?:&#91;\\w().\\s+&#93;+|&#40;&#91;&zwnj;&#8203;\\w().\\s+-&#93;*&#41;&zwnj;&#8203;)(?:(?=,)|\\s*\\+\\s*|\\&zwnj;&#8203;s*&#41;;)</a>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1488486651, "last_edit_date": 1488486651, "creation_date": 1488480271, "answer_id": 42563437, "question_id": 42562680, "link": "https://stackoverflow.com/questions/42562680/matching-regular-expressions/42563437#42563437", "title": "Matching regular expressions", "body": "<p>You might be able to pare it down to this <code>(?:^\\(\\s*|\\s*\\+\\s*|,\\s*)(?:[\\w().\\s+]+|\\([\\w().\\s+-]*\\))(?:(?=,)|\\s*\\+\\s*|\\s*\\);)\n</code>  </p>\n\n<p><a href=\"https://regex101.com/r/n2aCnh/5\" rel=\"nofollow noreferrer\">101 regex</a></p>\n\n<p>It consolidates some constructs.  </p>\n\n<p>To fix the immediate problem, I added a comma in some classes.<br>\nA note that this kind of regex is fraught with problematic type of flow.  </p>\n\n<pre><code> (?:\n      ^ \\( \\s* \n   |  \\s* \\+ \\s* \n   |  , \\s* \n )\n (?:\n      [\\w().\\s+]+ \n   |  \\( [\\w().\\s+-]* \\) \n )\n (?:\n      (?= , )\n   |  \\s* \\+ \\s* \n   |  \\s* \\); \n )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1488485865, "creation_date": 1488485865, "answer_id": 42565141, "question_id": 42562680, "link": "https://stackoverflow.com/questions/42562680/matching-regular-expressions/42565141#42565141", "title": "Matching regular expressions", "body": "\n\n<p>For some reason, when some people are writing a regex pattern, they forget that the whole of the Perl language is still available</p>\n\n<p>I would just delete all the strings and find the remaining substrings that look like variable names</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature qw/ say fc /;\n\nuse List::Util 'uniq';\n\nmy @variables;\n\nwhile ( &lt;DATA&gt; ) {\n    s/\"[^\"]*\"//g;\n    push @variables, /\\b[a-z]\\w*/ig;\n}\n\nsay for sort { fc $a cmp fc $b } uniq @variables;\n\n__DATA__\n(\"Unable to retrieve things associated with this='\" + thingId + \"' in \" + (endTime - startTime) + \" ms\");\n(\"Persisting \" + things.size() + \" new or updated thing(s)\");\n(\"Count in use for thing=\" + secondThingId + \" is \" + countInUse);\n(\"Unable to check thing state '\" + otherThingId + \"' using '\" + address + \"'\", e);\n(\"Exception occured while updating thingId=\"+ thingCollection.get(0).getMyId(), e);\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>address\ncountInUse\ne\nendTime\nget\ngetMyId\notherThingId\nsecondThingId\nsize\nstartTime\nthingCollection\nthingId\nthings\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 693984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/arLfs.jpg?s=128&g=1", "display_name": "clamport", "link": "https://stackoverflow.com/users/693984/clamport"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1488489471, "creation_date": 1488477774, "question_id": 42562680, "link": "https://stackoverflow.com/questions/42562680/matching-regular-expressions", "title": "Matching regular expressions", "body": "<p>I have a regular expression, it's basically to update log4j syntax to log4j2 syntax, removing the string replacement. The regular expression is as follows</p>\n\n<pre><code>(?:^\\(\\s*|\\s*\\+\\s*|,\\s*)(?:[\\w\\(\\)\\.\\d+]*|\\([\\w\\(\\)\\.\\d+]*\\s*(?:\\+|-)\\s*[\\w\\(\\)\\.\\d+]*\\))(?:\\s\\+\\s*|\\s*\\);)\n</code></pre>\n\n<p>This will successfully match the variables in the following strings</p>\n\n<pre><code>(\"Unable to retrieve things associated with this='\" + thingId + \"' in \" + (endTime - startTime) + \" ms\");\n(\"Persisting \" + things.size() + \" new or updated thing(s)\");\n(\"Count in use for thing=\" + secondThingId + \" is \" + countInUse);\n(\"Unable to check thing state '\" + otherThingId + \"' using '\" + address + \"'\", e);\n</code></pre>\n\n<p>But not '+ thingCollection.get(0).getMyId()' in</p>\n\n<pre><code>(\"Exception occured while updating thingId=\"+ thingCollection.get(0).getMyId(), e);\n</code></pre>\n\n<p>I am getting better with regular expressions, but this one has me a bit stumped. Thanks!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 96886, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1488476257, "post_id": 42562196, "comment_id": 72258467, "body": "Please do not tag languages that have nothing to do with your question. If you are asking for this Perl code to be translated into Python, that is off-topic for Stack Overflow."}, {"owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "reply_to_user": {"reputation": 96886, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1488476326, "post_id": 42562196, "comment_id": 72258500, "body": "wanted suggestion in any (perl/python) scripting language"}, {"owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 3, "creation_date": 1488476407, "post_id": 42562196, "comment_id": 72258547, "body": "This review echoes your poor performance results: <a href=\"http://cpanratings.perl.org/dist/Tie-File-AsHash\" rel=\"nofollow noreferrer\">cpanratings.perl.org/dist/Tie-File-AsHash</a>"}, {"owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "reply_to_user": {"reputation": 96886, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1488476461, "post_id": 42562196, "comment_id": 72258583, "body": "@CoryKramer, its just a common problem in perl and python of handling huge associative array, so optimized approach would be helpful."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1488476467, "post_id": 42562196, "comment_id": 72258589, "body": "Do you insist on tie-ing it? Are there particular reasons for that?"}, {"owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488476663, "post_id": 42562196, "comment_id": 72258713, "body": "@zdim: No, I was browsing for optimal approach and found this one. though, I tried similar approach of opening file and reading it line by line and inserting element in associative array. but it also took almost 1 hour to process it. :("}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1488476681, "post_id": 42562196, "comment_id": 72258727, "body": "The fact you&#39;re iterating your hash using <code>each</code> suggests to me that you don&#39;t actually need to use an on-disk data structure in the first place. What problem are you <i>actually</i> trying to solve here?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1488476768, "post_id": 42562196, "comment_id": 72258769, "body": "@Nitin Tripathi, Anything providing a tie-based interface will inherently be slower than if it didn&#39;t."}, {"owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1488476824, "post_id": 42562196, "comment_id": 72258812, "body": "@Sobrique: I have two files with over 300 Millions records, with first column as primary key in random order, now I have merge the data in new file. can have some extra records in 2nd file."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1488476966, "post_id": 42562196, "comment_id": 72258892, "body": "@NitinTripathi That is indeed <i>a lot</i> to keep in RAM -- do you have to have it all  at once? If you are going to work with it more than once, perhaps feed it to a database first?"}, {"owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "edited": false, "score": 0, "creation_date": 1488477007, "post_id": 42562196, "comment_id": 72258909, "body": "My basic question would be, is 1 hour to process 300 Million records is really good or really bad?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1488477216, "post_id": 42562196, "comment_id": 72259047, "body": "@NitinTripathi It&#39;s really bad. Take an average disk read speed to be 100Mb/s. You seem to have some 20Gb there, so it&#39;d be 200sec to read that. Three minutes or so"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1488477931, "post_id": 42562196, "comment_id": 72259490, "body": "I would import both files into an sqlite and let it deal with it. Let it be on disk, let it take some time, but don&#39;t try to load everything into memory."}, {"owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488478023, "post_id": 42562196, "comment_id": 72259529, "body": "@zdim: data is extracted from DB, as final extract which is needed has to be joined over 15 tables with some inner queries and maximum parallel that can be used is only 8. which is taking almost 1.5 hours to process data. Oracle cannot be locked be locked for 1.5 hours in production env, so we decided to go with file handling."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1488478081, "post_id": 42562196, "comment_id": 72259554, "body": "Can you <a href=\"https://stackoverflow.com/posts/42562196/edit\">edit</a> your question and show how you want to combine them? Include a few lines of both files and show what the result should be."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1488478326, "post_id": 42562196, "comment_id": 72259720, "body": "Could you add an example of a row from each file, and the row they would produce when merged. Also, could you mention if there&#39;s an upper limit on the size of the fields?"}, {"owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488479158, "post_id": 42562196, "comment_id": 72260208, "body": "@ikegami: Added example"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488479481, "post_id": 42562196, "comment_id": 72260392, "body": "And <code>1231112</code> from the <i>Sample File 2</i> is not part of the output?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488483062, "post_id": 42562196, "comment_id": 72262496, "body": "<i>&quot;with first column as primary key&quot;</i> Text files don&#39;t have keys, primary or otherwise."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488483083, "post_id": 42562196, "comment_id": 72262515, "body": "How many different values for the first columns are there?"}, {"owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488496377, "post_id": 42562196, "comment_id": 72269447, "body": "@Borodin: First Column will be a unique value."}, {"owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1488496459, "post_id": 42562196, "comment_id": 72269479, "body": "@simbabque: Since File1 is the driving file, only records matched with first file will be printed."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1488484201, "post_id": 42563133, "comment_id": 72263229, "body": "Re &quot;<i>You&#39;re pulling everything into memory.</i>&quot;, No, the whole point of Tie::File::AsHash is that it <i>doesn&#39;t</i> pull everything into memory. It&#39;s a thin wrapper for Tie::File."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1488484706, "post_id": 42563133, "comment_id": 72263485, "body": "Re &quot;<i>Tying is extremely slow</i>&quot;, That&#39;s not the problem either. The problem is that fetching from a Tie::File::AsHash hash peforms a linear scan of a Tie::File array, which you means you read half the file (on average) every time you lookup a hash element!!!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1488484721, "post_id": 42563133, "comment_id": 72263489, "body": "For me, this took twice as long as using <code>sort</code> plus merging with Perl. See my answer."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488484960, "post_id": 42563133, "comment_id": 72263607, "body": "@ikegami After they&#39;ve read them from the file, they&#39;re storing all the keys and values in memory. And yes, I&#39;m sure there&#39;s other performance issues. Anyhow, the wallclock performance doesn&#39;t really matter. This technique requires very little coding or debugging, so you can set it and walk away, and it only has to be done once. Once it&#39;s done, you&#39;ve got it in a very useful and efficient format for further manipulation. <a href=\"http://stackoverflow.com/questions/40695905/sqlite-vs-csv-file-manipulation-performance/40696615#40696615\">I have an answer that lays out the CSV vs SQLite trade offs</a>."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488485043, "post_id": 42563133, "comment_id": 72263663, "body": "@ikegami Oh, I see, &quot;twice as long&quot; means 30 seconds vs a 1 minute. How long did it take you to write the code? :P"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1488486193, "post_id": 42563133, "comment_id": 72264369, "body": "Re &quot;<i>After they&#39;ve read them from the file, they&#39;re storing all the keys and values in memory</i>&quot;, No. Again, the whole point of using Tie::File::AsHash is that it doesn&#39;t do this."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488486238, "post_id": 42563133, "comment_id": 72264396, "body": "Re &quot;<i>&quot;twice as long&quot; means 30 seconds vs a 1 minute.</i>&quot;, Actually, if we extrapolate for 300 million rows, it&#39;s 15 minutes vs 30 minutes. /// Re &quot;<i>How long did it take you to write the code?</i>&quot;, Far less than writing the <code>sqlite3</code> script, actually, but it doesn&#39;t matter. This is obviously something that will run regularly, or the fact that it previously <i>completed</i> in three hours wouldn&#39;t matter."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 6, "last_activity_date": 1488479792, "last_edit_date": 1488479792, "creation_date": 1488479286, "answer_id": 42563133, "question_id": 42562196, "link": "https://stackoverflow.com/questions/42562196/very-huge-assosiative-array-in-perl/42563133#42563133", "title": "very huge assosiative array in perl", "body": "<p>Your technique is extremely inefficient for a few reasons.</p>\n\n<ul>\n<li>Tying is extremely slow.</li>\n<li>You're pulling everything into memory.</li>\n</ul>\n\n<p>The first can be mitigated by doing the reading and splitting yourself, but the latter is always going to be a problem. The rule of thumb is to avoid pulling big hunks of data into memory. It'll hog all the memory and probably cause it to swap to disk and slow down waaaay down, especially if you're using a spinning disk.</p>\n\n<p>Instead, there's various \"on disk hashes\" you can use with modules like <a href=\"https://metacpan.org/pod/GDBM_File\" rel=\"noreferrer\">GDBM_File</a> or <a href=\"https://metacpan.org/pod/BerkeleyDB\" rel=\"noreferrer\">BerkleyDB</a>.</p>\n\n<p>But really there's no reason to mess around with them because we have SQLite and it does everything they do faster and better.</p>\n\n<hr>\n\n<p>Create a table in SQLite.</p>\n\n<pre><code>create table imported (\n    id integer,\n    value text\n);\n</code></pre>\n\n<p>Import your file using the sqlite shell's <code>.import</code> adjusting for your format using the <code>.mode</code> and <code>.separator</code>.</p>\n\n<pre><code>sqlite&gt;     create table imported (\n   ...&gt;         id integer,\n   ...&gt;         value text\n   ...&gt;     );\nsqlite&gt; .mode list\nsqlite&gt; .separator |\nsqlite&gt; .import test.data imported\nsqlite&gt; .mode column\nsqlite&gt; select * from imported;\n12345       NITIN     \n12346       NITINfoo  \n2398        bar       \n9823        baz     \n</code></pre>\n\n<p>And now you, and anyone else who has to work with the data, can do whatever you like with it in efficient, flexible SQL. Even if it takes a while to import, you can go do something else while it does.</p>\n"}, {"comments": [{"owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "edited": false, "score": 0, "creation_date": 1488963281, "post_id": 42563784, "comment_id": 72458617, "body": "For <code>10M</code> Record, its really efficient even it took <code>1.30 min</code> to process it. But when I went further for <code>300M</code> Records, it crashed as Temp space on my machine was <code>5GB</code> while, the actual file was <code>10GB+</code>, as sorting took place in Temp space, it crashed. After removing the sorting part, and keeping only merging part, provided file is already sorted. It took <code>42 Min</code> to Merge, keeping in mind out of <code>32GB</code> only <code>2GB</code> was available and it ran with <code>50% CPU Usage</code>. After killing all process, It took 24 Min, with <code>93% CPU Usage</code>.  It seems, for 93% CPU Usage, its still slower!!"}, {"owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "edited": false, "score": 0, "creation_date": 1488963491, "post_id": 42563784, "comment_id": 72458719, "body": "Even I tried the splitting the file into <code>30M</code> Each and it took <code>2 Minutes</code> each. But when I ran all <code>10 process</code> in parallel, it took <code>12 Minutes</code> all together cumulative but, actually each process in real took <code>2 Min</code> individually."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1488483988, "last_edit_date": 1488483988, "creation_date": 1488481279, "answer_id": 42563784, "question_id": 42562196, "link": "https://stackoverflow.com/questions/42562196/very-huge-assosiative-array-in-perl/42563784#42563784", "title": "very huge assosiative array in perl", "body": "<p>I'd use <code>sort</code> to sort the data very quickly (5 seconds for 10,000,000 rows), and then merge the sorted files.</p>\n\n<pre><code>perl -e'\n   sub get {\n      my $fh = shift;\n      my $line = &lt;$fh&gt;;\n      return () if !defined($line);\n\n      chomp($line);\n      return split(/\\|/, $line);\n   }\n\n   sub main {\n      @ARGV == 2\n         or die(\"usage\\n\");\n\n      open(my $fh1, \"-|\", \"sort\", \"-n\", \"-t\", \"|\", $ARGV[0]);\n      open(my $fh2, \"-|\", \"sort\", \"-n\", \"-t\", \"|\", $ARGV[1]);\n\n      my ($key1, $val1) = get($fh1)  or return;\n      my ($key2, $val2) = get($fh2)  or return;\n\n      while (1) {\n         if    ($key1 &lt; $key2) { ($key1, $val1) = get($fh1)  or return; }\n         elsif ($key1 &gt; $key2) { ($key2, $val2) = get($fh2)  or return; }\n         else {\n            print(\"$key1,$val1,$val2\\n\");\n            ($key1, $val1) = get($fh1)  or return;\n            ($key2, $val2) = get($fh2)  or return;\n         }\n      }\n   }\n\n   main();\n' file1 file2 &gt;file\n</code></pre>\n\n<p>For 10,000,000 records in each file, this took 37 seconds on a slowish machine.</p>\n\n<pre><code>$ perl -e'printf \"%d|%s\\n\", 10_000_000-$_, \"X15X1211,J,S,12,15,100.05\" for 1..10_000_000' &gt;file1\n\n$ perl -e'printf \"%d|%s\\n\", 10_000_000-$_, \"AJ15,,,16,PP\" for 1..10_000_000' &gt;file2\n\n$ time perl -e'...' file1 file2 &gt;file\nreal    0m37.030s\nuser    0m38.261s\nsys     0m1.750s\n</code></pre>\n\n<hr>\n\n<p>Alternatively, one could dump the data in database and letting it handle the details.</p>\n\n<pre><code>sqlite3 &lt;&lt;'EOI'\nCREATE TABLE file1 ( id INTEGER, value TEXT );\nCREATE TABLE file2 ( id INTEGER, value TEXT );\n.mode list\n.separator |\n.import file1 file1\n.import file2 file2\n.output file\nSELECT file1.id || \",\" || file1.value || \",\" || file2.value\n  FROM file1\n  JOIN file2\n    ON file2.id = file1.id;\n.exit\nEOI\n</code></pre>\n\n<p>But you pay for the flexbility. This took twice as long.</p>\n\n<pre><code>real    1m14.065s\nuser    1m11.009s\nsys     0m2.550s\n</code></pre>\n\n<p>Note: I originally had <code>CREATE INDEX file2_id ON file2 ( id );</code> after the <code>.import</code> commands, but removing it greatly helped performance..</p>\n"}], "owner": {"reputation": 1074, "user_id": 5312548, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/89a837174bf7e62b26df5afb3e2bc497?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Tripathi", "link": "https://stackoverflow.com/users/5312548/nitin-tripathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 3, "answer_count": 2, "score": 1, "last_activity_date": 1488483988, "creation_date": 1488476221, "last_edit_date": 1488479921, "question_id": 42562196, "link": "https://stackoverflow.com/questions/42562196/very-huge-assosiative-array-in-perl", "title": "very huge assosiative array in perl", "body": "<p>I need to merge two files into a new file.</p>\n\n<p>The two have over 300 Millions pipe-separated records, with first column as primary key. The rows aren't sorted. The second file may have records the first file does not.</p>\n\n<p>Sample File 1:</p>\n\n<pre><code>1001234|X15X1211,J,S,12,15,100.05\n</code></pre>\n\n<p>Sample File 2:</p>\n\n<pre><code>1231112|AJ32,,,18,JP     \n1001234|AJ15,,,16,PP\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1001234,X15X1211,J,S,12,15,100.05,AJ15,,,16,PP\n</code></pre>\n\n<p>I am using following piece of code:</p>\n\n<pre><code>tie %hash_REP, 'Tie::File::AsHash', 'rep.in', split =&gt; '\\|'\nmy $counter=0;\nwhile (($key,$val) = each %hash_REP) {\n    if($counter==0) {\n        print strftime \"%a %b %e %H:%M:%S %Y\", localtime;\n    }\n}\n</code></pre>\n\n<p>it takes almost 1 hour prepare associative array.\nis it really good or is it really bad?\nIs there any faster way to handle such size of records in associative array?\nAny suggestion in any scripting language would really help.</p>\n\n<p>Thanks,\nNitin T.</p>\n\n<p>I also tried the following program, walso took 1+ Hour is as below: </p>\n\n<pre><code>#!/usr/bin/perl\nuse POSIX qw(strftime);\nmy $now_string = strftime \"%a %b %e %H:%M:%S %Y\", localtime;\nprint $now_string . \"\\n\";\n\nmy %hash;\nopen FILE, \"APP.in\" or die $!;\nwhile (my $line = &lt;FILE&gt;) {\n     chomp($line);\n      my($key, $val) = split /\\|/, $line;\n      $hash{$key} = $val;\n }\n close FILE;\n\nmy $filename = 'report.txt';\nopen(my $fh, '&gt;', $filename) or die \"Could not open file '$filename' $!\";\nopen FILE, \"rep.in\" or die $!;\nwhile (my $line = &lt;FILE&gt;) {\n      chomp($line);\n  my @words = split /\\|/, $line;\n  for (my $i=0; $i &lt;= $#words; $i++) {\n    if($i == 0)\n    {\n       next;\n    }\n    print $fh  $words[$i] . \"|^\"\n  }\n  print $fh  $hash{$words[0]} . \"\\n\";\n }\n close FILE;\n close $fh;\n print \"done\\n\";\n\nmy $now_string = strftime \"%a %b %e %H:%M:%S %Y\", localtime;\nprint $now_string . \"\\n\";\n</code></pre>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1488475915, "post_id": 42562064, "comment_id": 72258257, "body": "If you don&#39;t need interpolation, don&#39;t use double quotes. In your HEREDOC, you can do <code>&lt;&lt;&#39;REQUEST_INCLUDES&#39;</code> with single quotes <code>&#39;&#39;</code>. In any case, you do not need to escape the percent sign <code>\\%</code>, because Perl never interpolates hashes. There is no sane way to do that because they are not ordered. Also, it would break <code>sprintf</code>. :)"}, {"owner": {"reputation": 124613, "user_id": 3522312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c5b53060bf7f71994265a9ef7c17cc5?s=128&d=identicon&r=PG", "display_name": "scaisEdge", "link": "https://stackoverflow.com/users/3522312/scaisedge"}, "edited": false, "score": 3, "creation_date": 1488476041, "post_id": 42562064, "comment_id": 72258334, "body": "I never  seen ||  in mysql .. are you sure of this  ?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488476110, "post_id": 42562064, "comment_id": 72258384, "body": "Re. the duplicate: don&#39;t enable the option given in the accepted answer. I&#39;m writing a new answer about the correct way to do this."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 124613, "user_id": 3522312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c5b53060bf7f71994265a9ef7c17cc5?s=128&d=identicon&r=PG", "display_name": "scaisEdge", "link": "https://stackoverflow.com/users/3522312/scaisedge"}, "edited": false, "score": 0, "creation_date": 1488476128, "post_id": 42562064, "comment_id": 72258395, "body": "@scaisEdge you&#39;re right. They might already be able to execute more than one query. Can you even join with a <code>like</code>?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488476173, "post_id": 42562064, "comment_id": 72258419, "body": "@ThisSuitIsBlackNot if you think that&#39;s not the right answer, why did you vtc? It looked correct at first glance, but I think I&#39;ll hammer-reopen it because there is also wrong SQL syntax in the question."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488476249, "post_id": 42562064, "comment_id": 72258464, "body": "Because the issue is the same in both questions. We don&#39;t need two questions asking the same thing. That&#39;s the whole point of duplicates."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 124613, "user_id": 3522312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c5b53060bf7f71994265a9ef7c17cc5?s=128&d=identicon&r=PG", "display_name": "scaisEdge", "link": "https://stackoverflow.com/users/3522312/scaisedge"}, "edited": false, "score": 1, "creation_date": 1488476259, "post_id": 42562064, "comment_id": 72258469, "body": "@scaisEdge @simbabque It is valid, given the self-explanatory flag <code>SET sql_mode = PIPES_AS_CONCAT;</code> <a href=\"https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_pipes_as_concat\" rel=\"nofollow noreferrer\">Docs</a>. Don&#39;t be too quick to judge! As I said, this works when thrown in phpMyAdmin, it just doesn&#39;t work when pushing through DBI."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1488477269, "post_id": 42562064, "comment_id": 72259083, "body": "Removing the flag, and going with the original sql alternative solves the problem. This is a shame because I was trying to create a script that works on MySQL as wel as PostgreSQL without changes."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 2, "creation_date": 1488477433, "post_id": 42562064, "comment_id": 72259183, "body": "Have you tried to send the <code>SET sql_mode = PIPES_AS_CONCAT;</code> as a seperate statement?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1488477734, "post_id": 42562064, "comment_id": 72259372, "body": "As @dgw says, that should then solve the problem. You can <code>$dbh-&gt;do(&#39;SET sql_mode PIPES_AS_CONCAT&#39;);</code> before. If you truly want to have support for two different engines, maybe DBIC is a better approach?"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "reply_to_user": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1488478837, "post_id": 42562064, "comment_id": 72260020, "body": "Try as @dgw &amp; @ simababque has commented, I think you won&#39;t be able to execute 2 different type of statement, One is just Mysql command while the other one you trying to retrieve the data."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488482433, "post_id": 42562064, "comment_id": 72262111, "body": "What&#39;s wrong with <code>CONCAT(r.path, &#39;%&#39;)</code>? PostgreSQL has a <code>CONCAT</code> function; it just has a fancy non-standard operator as well, and it&#39;s better to avoid confusing others who read your code."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488482865, "post_id": 42562064, "comment_id": 72262384, "body": "Tip: You should always use <a href=\"https://metacpan.org/pod/DBI#RaiseError\" rel=\"nofollow noreferrer\"><code>RaiseError</code></a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1488482918, "post_id": 42562064, "comment_id": 72262412, "body": "@Borodin Unfortunately, it&#39;s off by default. :("}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488482996, "post_id": 42562064, "comment_id": 72262459, "body": "@Borodin I figured that out now as well. I was led to believe that PostgreSQL and MySQL only have different concatenating functions. That&#39;s a fault on my side."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1488489298, "post_id": 42562064, "comment_id": 72266098, "body": "@ThisSuitIsBlackNot: You&#39;re right. I was certain it defaulted to on! Ah well, I guess I was thinking of <code>PrintError</code>. Thanks for saying."}], "answers": [{"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1488492148, "post_id": 42563901, "comment_id": 72267623, "body": "Are sure about the need for escaping characters? Because I am now looking at direct input into phpMyAdmin&#39;s MySQL, and <code>WRPECsmain%hd</code> matches <code>WRPECsmain%hd</code> literally, whereas <code>WRPECsmain\\%hd</code> does not. It seems as if escaping is not necessary? Or is this only necessary when working in ANSI mode? In your example code you have a boolean variable <code>$mysql</code>. How do you create this?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1488492998, "post_id": 42563901, "comment_id": 72268005, "body": "Escaping is necessary on the RHS of <code>LIKE</code>, regardless of the SQL mode. How <code>$mysql</code> gets set is up to you; to work with either a MySQL or a Postgres database, you&#39;ll need a different DSN and connection options anyway. I would recommend storing your MySQL credentials in an <a href=\"https://dev.mysql.com/doc/refman/5.7/en/option-files.html\" rel=\"nofollow noreferrer\">option file</a> and your Postgres credentials in <a href=\"https://www.postgresql.org/docs/9.4/static/libpq-pgpass.html\" rel=\"nofollow noreferrer\">.pgpass</a>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1488493468, "post_id": 42563901, "comment_id": 72268204, "body": "Users of your script could specify the configuration details (like the path to their MySQL options file) in a config file."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1488494106, "post_id": 42563901, "comment_id": 72268492, "body": "Yes, the RHS of LIKE but not in the subsequent WHERE class though? As I said, it only works if you do NOT escape."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1488494259, "post_id": 42563901, "comment_id": 72268554, "body": "I just said wildcards have to be escaped in <code>r.path</code>, which isn&#39;t used in the <code>WHERE</code> clause."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1488554031, "post_id": 42563901, "comment_id": 72297243, "body": "@BramVanroy Oh, you must be talking about <code>r.bf = &#39;WRPECsmain\\%hd&#39;</code>...I assumed you wanted to match literal backslash, literal percent sign. If not, you need to do <code>r.bf = &#39;WRPECsmain%hd&#39;</code>."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 1, "last_activity_date": 1488488078, "last_edit_date": 1495540952, "creation_date": 1488481726, "answer_id": 42563901, "question_id": 42562064, "link": "https://stackoverflow.com/questions/42562064/multi-line-mysql-in-perl/42563901#42563901", "title": "Multi-line MySQL in Perl", "body": "<p>You're getting a SQL syntax error because by default, <a href=\"https://stackoverflow.com/q/13333230\">DBD::mysql doesn't allow you to execute multiple statements at once</a>. You should run two separate DBI commands instead:</p>\n\n<pre><code>$dbh-&gt;do( q{SET sql_mode = 'PIPES_AS_CONCAT'} );\n\nmy $sth = $dbh-&gt;prepare(q{\n    SELECT DISTINCT t.bf\n    FROM `wrpec` t\n    JOIN `wrpec` r\n    ON t.path LIKE r.path || '%'\n    WHERE r.bf = 'WRPECsmain\\%hd' AND t.has_tree\n});\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>I was trying to create a script that works on MySQL as wel as PostgreSQL without changes.</p>\n</blockquote>\n\n<p>Enable MySQL's <a href=\"https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sqlmode_ansi\" rel=\"nofollow noreferrer\">ANSI mode</a> and double quote your identifiers:</p>\n\n<pre><code>$dbh-&gt;do( q{SET sql_mode = 'ANSI'} ) if $mysql;\n\nmy $sth = $dbh-&gt;prepare(q{\n    SELECT DISTINCT t.bf\n    FROM \"wrpec\" t\n    JOIN \"wrpec\" r\n    ON t.path LIKE r.path || '%'\n    WHERE r.bf = 'WRPECsmain\\%hd' AND t.has_tree\n});\n</code></pre>\n\n<p>There are a couple other issues, though:</p>\n\n<ul>\n<li>unescaped <code>_</code> and <code>%</code> in <code>r.path</code> will be interpreted as wildcards</li>\n<li><code>'foo' LIKE 'foo%'</code> is true</li>\n</ul>\n\n<p>To only fetch rows where the <code>t.path</code> is a prefix of <code>r.path</code>, but they're not equal, do:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT DISTINCT t.bf\nFROM \"wrpec\" t\nJOIN \"wrpec\" r\n  ON POSITION(t.path IN r.path) = 1\n  AND t.path != r.path\nWHERE r.bf = 'WRPECsmain\\%hd'\n  AND t.has_tree\n</code></pre>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 852, "favorite_count": 0, "accepted_answer_id": 42563901, "answer_count": 1, "score": 0, "last_activity_date": 1488488078, "creation_date": 1488475774, "last_edit_date": 1488478040, "question_id": 42562064, "link": "https://stackoverflow.com/questions/42562064/multi-line-mysql-in-perl", "title": "Multi-line MySQL in Perl", "body": "<p>I am trying to pass a command to my database (MariaDB/MySQLi) but Perl's DBI is giving me an error, whatever I try. The thing is that I can execute the MySQL fine in phpMyAdmin without fault. The error that I receive is:</p>\n\n<blockquote>\n  <p>DBD::mysql::st execute failed: You have an error in your SQL syntax;\n  check the manual that corresponds to your MariaDB server version for\n  the right syntax to use near <code>SELECT DISTINCT t.bf FROM wrpec t JOIN wrpec r ON t.path LIKE r.path || '%'</code> at line 2 at\n  retrieve-includes.pl line 20.</p>\n  \n  <p>DBD::mysql::st fetchrow_array failed:\n  <code>fetch()</code> without <code>execute()</code> at retrieve-includes.pl line 22.</p>\n</blockquote>\n\n<p>The full test file (fake database obviously) is as below.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse DBI;\nuse Data::Dumper;\n\nmy $dsn = \"DBI:mysql:database=mydatabase;host=machine\";\nmy $dbh = DBI-&gt;connect($dsn, 'root', '') or die \"Couldn't connect to database: \" . DBI-&gt;errstr;;\n\nmy $request_includes = \"\nSET sql_mode = PIPES_AS_CONCAT;\nSELECT DISTINCT t.bf\nFROM `wrpec` t\nJOIN `wrpec` r\nON t.path LIKE r.path || '%'\nWHERE r.bf = 'WRPECsmain\\%hd' AND t.has_tree;\";\n\nmy $sth = $dbh-&gt;prepare($request_includes) or die \"Couldn't prepare statement: \" . $dbh-&gt;errstr;\n$sth-&gt;execute();\n\nwhile (my @row = $sth-&gt;fetchrow_array()) {\n   print Dumper(\\@row);\n}\n\n$sth-&gt;finish();\n</code></pre>\n\n<p>I have also tried some ideas I found online: using a clean-up sub that replaces all white-space characters by hard spaces to make sure you're passing a string, and I also tried this notation (I forgot the name) but it doesn't work either (same error).</p>\n\n<pre><code>my $request_includes = &lt;&lt;\"REQUEST_INCLUDES\";\n\nSET sql_mode = PIPES_AS_CONCAT;\nSELECT DISTINCT t.bf\nFROM `wrpec` t\nJOIN `wrpec` r\nON t.path LIKE r.path || '%'\nWHERE r.bf = 'WRPECsmain\\%hd' AND t.has_tree;\nREQUEST_INCLUDES\n</code></pre>\n"}, {"tags": ["perl", "diamond-operator"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1488462664, "post_id": 42556774, "comment_id": 72248809, "body": "<code>&#47;start&#47;</code> is shorthand for <code>$_ =~ &#47;start&#47;</code>. I think you can imagine the answer to your question given that!"}, {"owner": {"reputation": 10389, "user_id": 317266, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b4f5deafa991b6d0f2b87ef20e9159fd?s=128&d=identicon&r=PG", "display_name": "Seki", "link": "https://stackoverflow.com/users/317266/seki"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488463346, "post_id": 42556774, "comment_id": 72249296, "body": "@Borodin: yes, so I tried something like <code>if ($line =~ &#47;start&#47; .. &#47;stop&#47;)</code> but obviously it failed. So it is a so trivial fix?"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 3, "creation_date": 1488463573, "post_id": 42556774, "comment_id": 72249453, "body": "well, as much as <code>&#47;start&#47;</code> is shorthand for <code>$_ =~ &#47;start&#47;</code>, <code>&#47;stop&#47;</code> is shorthand for <code>$_ =~ &#47;stop&#47;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488465021, "post_id": 42556774, "comment_id": 72250563, "body": "So you have changed it to <code>$line =~ &#47;start&#47; ... $_ =~ &#47;stop&#47;</code>. Anyway, you have the solution below."}], "answers": [{"comments": [{"owner": {"reputation": 10389, "user_id": 317266, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b4f5deafa991b6d0f2b87ef20e9159fd?s=128&d=identicon&r=PG", "display_name": "Seki", "link": "https://stackoverflow.com/users/317266/seki"}, "edited": false, "score": 0, "creation_date": 1488463544, "post_id": 42556895, "comment_id": 72249432, "body": "So simple that I did not find it... Thanks!"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 4, "last_activity_date": 1488461577, "creation_date": 1488461577, "answer_id": 42556895, "question_id": 42556774, "link": "https://stackoverflow.com/questions/42556774/how-can-i-use-the-range-operator-with-regexes-when-the-text-to-match-is-not-in/42556895#42556895", "title": "How can I use the range operator with regexes when the text to match is not in $_?", "body": "<p>You could do:</p>\n\n<pre><code>while (my $line = &lt;DATA&gt;) {\n    if ($line =~ /start/ .. $line =~ /stop/) {\n        print $line;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 10389, "user_id": 317266, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b4f5deafa991b6d0f2b87ef20e9159fd?s=128&d=identicon&r=PG", "display_name": "Seki", "link": "https://stackoverflow.com/users/317266/seki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 42556895, "answer_count": 1, "score": 1, "last_activity_date": 1488475134, "creation_date": 1488461263, "last_edit_date": 1488475134, "question_id": 42556774, "link": "https://stackoverflow.com/questions/42556774/how-can-i-use-the-range-operator-with-regexes-when-the-text-to-match-is-not-in", "title": "How can I use the range operator with regexes when the text to match is not in $_?", "body": "<p>I am trying to use the range operator while parsing a portion of a file. Basically, my code consists of:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;){\n    if (/start/ .. /stop/){\n        print; #print only lines between the two markers\n    }\n}\n__DATA__\nignored 1\nignored 2\nstart\ntaken 1\ntaken 2\nstop\nignored 3\n</code></pre>\n\n<p>My problem is that this code uses the implicit <code>$_</code> variable. </p>\n\n<p>My actual code uses a variable to store the current line because I am making some changes to <code>$line</code> before testing it with the range operator. I have not found a way to use the <code>..</code> operator with an explicit variable. I have found a  workaround by assigning <code>$_</code> right before the test but that looks like an ugly hack to me:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile (defined (my $line = &lt;DATA&gt;)){\n    $_ = $line;\n    if (/start/ .. /stop/){\n        print $line;\n    }\n}\n__DATA__\nignored 1\nignored 2\nstart\ntaken 1\ntaken 2\nstop\nignored 3\n</code></pre>\n\n<p>Is there a cleaner way to do this?</p>\n"}, {"tags": ["perl", "awk", "sed"], "comments": [{"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 3, "creation_date": 1488452730, "post_id": 42553654, "comment_id": 72242008, "body": "So what did you try for yourself? and how did you fail? Please post your own research efforts"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1488453397, "post_id": 42553895, "comment_id": 72242432, "body": "What, so... you&#39;re setting the record separator, but then iterating the whole file concatenating it? And then regex matching? That&#39;s a pretty ugly way of writing <code>my $joinline = do { local $&#47;; &lt;DATA&gt; };</code>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1488453816, "post_id": 42553895, "comment_id": 72242698, "body": "That&#39;s why in my answer <code>And you can try to simplify as much as possible.</code>"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1488453774, "last_edit_date": 1488453774, "creation_date": 1488453246, "answer_id": 42553895, "question_id": 42553654, "link": "https://stackoverflow.com/questions/42553654/extract-records-from-a-huge-file-using-a-text-pattern-with-sed-awk-or-perl/42553895#42553895", "title": "extract records from a huge file, using a text pattern, with sed, awk, or perl", "body": "<p>Please check this code may be helpful you on this one. And you can try to simplify as much as possible.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $joinline = do { local $/; &lt;DATA&gt; }; \nwhile($joinline=~m/\\n{2}((?:(?!moredata2).)*)moredata2\\n/gs)\n{\n    print \"Matched: $&amp;\\n\";\n}\n\n\n__DATA__\nfirstrecord\ndata\nmoredata\n\nsecondrecord\ndata\nmoredata2\n\nthirdrecord\ndata\nmoredata\n\nfourthrecord\ndata\nmoredata2\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": [], "owner": {"reputation": 12672, "user_id": 1200821, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Cm117.jpg?s=128&g=1", "display_name": "Juan Diego Godoy Robles", "link": "https://stackoverflow.com/users/1200821/juan-diego-godoy-robles"}, "is_accepted": false, "score": 0, "last_activity_date": 1488453284, "creation_date": 1488453284, "answer_id": 42553908, "question_id": 42553654, "link": "https://stackoverflow.com/questions/42553654/extract-records-from-a-huge-file-using-a-text-pattern-with-sed-awk-or-perl/42553908#42553908", "title": "extract records from a huge file, using a text pattern, with sed, awk, or perl", "body": "<p>An <code>awk</code>:</p>\n\n<pre><code>awk '/moredata2/' RS=\"\" yourfile\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<blockquote>\n  <p>Another technique is to have blank lines separate records. By a\n  special dispensation, an empty string as the value of RS indicates\n  that records are separated by one or more blank lines. <strong>When RS is set\n  to the empty string, each record always ends at the first blank line\n  encountered. The next record doesn\u2019t start until the first nonblank\n  line that follows</strong>. No matter how many blank lines appear in a row,\n  they all act as one record separator. (Blank lines must be completely\n  empty; lines that contain only whitespace do not count.)</p>\n</blockquote>\n\n<p>Check the <a href=\"https://www.gnu.org/software/gawk/manual/html_node/Multiple-Line.html\" rel=\"nofollow noreferrer\"><code>docs</code></a></p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7646879"}, "edited": false, "score": 0, "creation_date": 1488454126, "post_id": 42553913, "comment_id": 72242894, "body": "how would you read DATA, from an external file? and how would you read also moredata2 and more patterns, again from an external file?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1488455759, "post_id": 42553913, "comment_id": 72243997, "body": "That&#39;s not the question you asked. But reading from a file is as simple as <code>open</code> and then using that file handle in the <code>while</code> loop instead of <code>DATA</code>. Reading patterns from another file... is also a question of <code>open</code>, read it, and compile up a regular expression that matches appropriately."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1488453295, "creation_date": 1488453295, "answer_id": 42553913, "question_id": 42553654, "link": "https://stackoverflow.com/questions/42553654/extract-records-from-a-huge-file-using-a-text-pattern-with-sed-awk-or-perl/42553913#42553913", "title": "extract records from a huge file, using a text pattern, with sed, awk, or perl", "body": "<p>My answer would be - use perl, set <code>$/</code> and regex match your desired records. </p>\n\n<p><code>$/</code> is the record separator. Setting it to an empty string sets in to 'paragraph' mode, and thus iterates looking for blank lines. Which is exactly what you need. </p>\n\n<p><code>m/moredata2/</code> is implicitly matching the current block. </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nlocal $/ = '';\n\nwhile ( &lt;DATA&gt; ) { \n    if ( m/moredata2/ ) { \n        print \"Matched:\\n\";\n        print;\n    }\n}\n\n__DATA__\nfirstrecord\ndata\nmoredata\n\nsecondrecord\ndata\nmoredata2\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7646879"}, "edited": false, "score": 0, "creation_date": 1488453934, "post_id": 42553928, "comment_id": 72242781, "body": "how would you alter this, so as to be able to read the moredata2 like values, from a txt file, and output in a separate file each time we find a new pattern?"}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "edited": false, "score": 0, "creation_date": 1488454705, "post_id": 42553928, "comment_id": 72243293, "body": "<code>while read -r p; do awk -v RS= -v pattern=&quot;$p&quot; &#39;$0 ~ pattern{print (f?&quot;\\n&quot;:&quot;&quot;)$0; f=1}&#39; input_file.txt &gt; &quot;$p.output&quot;; done &lt; patterns.txt</code> something like this"}], "tags": [], "owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "is_accepted": true, "score": -1, "last_activity_date": 1488453356, "creation_date": 1488453356, "answer_id": 42553928, "question_id": 42553654, "link": "https://stackoverflow.com/questions/42553654/extract-records-from-a-huge-file-using-a-text-pattern-with-sed-awk-or-perl/42553928#42553928", "title": "extract records from a huge file, using a text pattern, with sed, awk, or perl", "body": "<p><code>awk</code> does magic in this case</p>\n\n<pre><code>awk -v RS= '/moredata2/{print (f?\"\\n\":\"\")$0; f=1}' original.txt\n</code></pre>\n\n<p>you get,</p>\n\n<pre>\nsecondrecord\ndata\nmoredata2\n\n...\n</pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7646879"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 295, "favorite_count": 0, "accepted_answer_id": 42553928, "answer_count": 4, "score": -1, "last_activity_date": 1488453774, "creation_date": 1488452647, "last_edit_date": 1488453202, "question_id": 42553654, "link": "https://stackoverflow.com/questions/42553654/extract-records-from-a-huge-file-using-a-text-pattern-with-sed-awk-or-perl", "title": "extract records from a huge file, using a text pattern, with sed, awk, or perl", "body": "<p>I have a huge file, which has each record separated by a blank line. I need to extract only those records, that contain a particular string in them. How would you approach this, should I use sed, awk, perl?</p>\n\n<p>Example of input:</p>\n\n<pre><code>firstrecord\ndata\nmoredata\n\nsecondrecord\ndata\nmoredata2\n\n...\n</code></pre>\n\n<p>I need to extract all records containing <code>moredata2</code>, so output would be</p>\n\n<pre><code>secondrecord\ndata\nmoredata2\n</code></pre>\n\n<p>perl code i have tried, but extracts each record to a new file,</p>\n\n<p>how i could extract all records at once, and how could the patterns, be read from a file?</p>\n\n<pre><code>perl -00ne 's#PAT.*/(.*)\\n##; open($F,\"&gt;\",\"$1.txt\"); s/\\n\\s*(\\n|$)//g; \n        print $F \"$_\\n\"' original.txt \n</code></pre>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1488450475, "post_id": 42552708, "comment_id": 72240534, "body": "Just create a table, and insert one checkox to each row in a loop while generating the table."}, {"owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1488451819, "post_id": 42552708, "comment_id": 72241409, "body": "I&#39;m not expert with perl so probably I&#39;m missing something obvious but How do i put the table within the form / checkbox to read the user choice?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1488452636, "post_id": 42552708, "comment_id": 72241945, "body": "You don&#39;t have a Perl problem. You are using the outdated HTML generation stuff from CGI.pm, which has been deprecated and moved away into its own package. CGI.pm itself has been removed from the core and its author suggests that it is past its prime. Anyway, don&#39;t use the HTML generation stuff. Either use a proper template engine, or if that is not an option, just write the HTML yourself and <code>print</code> that. It&#39;s easier to read and less code."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1488453756, "creation_date": 1488453756, "answer_id": 42554078, "question_id": 42552708, "link": "https://stackoverflow.com/questions/42552708/perl-cgi-form-output/42554078#42554078", "title": "Perl CGI form output", "body": "<p>Just create a table, and insert one checkox to each row in a loop while generating the table.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse CGI;\n\nmy %labels = ( file1 =&gt; { size      =&gt; '61.33MB',\n                          bytes     =&gt; 62799,\n                          timestamp =&gt; '2017-02-22T07:13:00',\n                        },\n               file2 =&gt; { size      =&gt; '62.52MB',\n                          bytes     =&gt; 64020,\n                          timestamp =&gt; '2017-02-22T07:13:00',\n                        });\n\n\nmy $q = 'CGI'-&gt;new;\nprint $q-&gt;header;\nprint $q-&gt;start_html;\n\nprint $q-&gt;start_form;\nprint $q-&gt;table({-border =&gt; 1},\n    map {\n        my $filename = $_;\n        $q-&gt;Tr,\n        $q-&gt;td(\n            $q-&gt;checkbox('files', 0, $filename, $filename)\n        ),\n        map $q-&gt;td($labels{$filename}{$_}), qw( size bytes timestamp )\n    } sort keys %labels\n);\n\nprint $q-&gt;submit;\n\nprint $q-&gt;end_form;\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 3297371, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8970d935086faf17d72e5df204e96edd?s=128&d=identicon&r=PG&f=1", "display_name": "Cris", "link": "https://stackoverflow.com/users/3297371/cris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 42554078, "answer_count": 1, "score": -1, "last_activity_date": 1488453756, "creation_date": 1488450099, "question_id": 42552708, "link": "https://stackoverflow.com/questions/42552708/perl-cgi-form-output", "title": "Perl CGI form output", "body": "<p>Hi all I'm trying to write a form displaying a list of file with their size and timestamp and have user select one or more file to download them. \nI used hash to include filename size and timestamp related to each file the form look like this:</p>\n\n<pre><code>print $q-&gt;start_form(\n        -name    =&gt; 'main_form',\n        -method  =&gt; 'GET',\n        -enctype =&gt; &amp;CGI::URL_ENCODED,\n        -onsubmit =&gt; '',\n        -action =&gt; 'download_form.cgi', # Defaults to the current program\n   );\n    print $q-&gt;checkbox_group(\n        -name     =&gt; 'file',\n        -values   =&gt; \\@files,\n        -defaults =&gt; [''],\n        -labels     =&gt; \\%labels,\n        -columns  =&gt; 1,\n        -rows     =&gt; 1500,\n    );   \n\n    print $q-&gt;submit(\n        -name     =&gt; 'submit_form',\n        -value    =&gt; 'Download',\n        -onsubmit =&gt; '',\n    );\nprint $q-&gt;end_form;\n</code></pre>\n\n<p>Where\n@files contain a list of the file I may want to download\nand\n%labels the name of file the size and the timestamp</p>\n\n<p>this works fine I get a valid output but is not very nice to read, see an example below:</p>\n\n<hr>\n\n<p>filename1.zip Size: 61.33MB [62799] Timestamp: 2017-02-22T07:13:00</p>\n\n<p>filename2.txt Size: 62.52MB [64020] Timestamp: 2017-02-22T07:13:00</p>\n\n<p>filename000003.log Size: 73.27MB [75033] Timestamp: 2017-02-22T06:00:00</p>\n\n<p>file4.tar Size: 63.46MB [64982] Timestamp: 2017-02-22T05:59:00</p>\n\n<hr>\n\n<p>It's all very compact and not optimal for the user, is there a way to have this displayed either in a table with 1 column for filename and the checkbox one for file size and one for the time stamp, or even display the 3 info in different color/font, i have available eventually 1 array @size with the size of each file and another @time with timestamp of each file, obviously @size[1] correspond to @files[1] and so on</p>\n"}, {"tags": ["perl", "signals", "core"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1488448045, "post_id": 42551824, "comment_id": 72238839, "body": "Accesing undefined array element doesn&#39;t exit in Perl: <code>perl -e &#39;print $arr[20]; print &quot;still here&quot;&#39;</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1488448867, "post_id": 42551824, "comment_id": 72239410, "body": "Still no error for me."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1488465964, "post_id": 42551824, "comment_id": 72251218, "body": "&quot;dump core&quot; is not usually one of the steps in debugging a perl script."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488516527, "post_id": 42551824, "comment_id": 72275311, "body": "One way to always get something is to put it in the <code>END</code> block.  It runs at every <code>die</code> or <code>exit</code>. But it may not be specific enough. Another way is to &quot;protect&quot; against errors as you code along -- use careful error checking.  Then, you can get very specific information.  Or, override the <code>die</code> but providing a hook (subroutine) for <code>$SIG{__DIE__}</code> &quot;signal&quot;. See for example <a href=\"http://stackoverflow.com/a/42183690/4653379\">this answer</a> for a debugger that fires off on any <code>die</code>, in a dozen lines of code."}], "answers": [{"tags": [], "owner": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "is_accepted": false, "score": 0, "last_activity_date": 1488465928, "creation_date": 1488465928, "answer_id": 42558453, "question_id": 42551824, "link": "https://stackoverflow.com/questions/42551824/making-perl-process-to-dump-core-instead-of-directly-exiting-from-the-process/42558453#42558453", "title": "Making perl process to dump core instead of directly exiting from the process", "body": "<p>Instead generate a core dump or something similar, I would recommended you log messages in your script and do some checks specially when you are trying to access something that does not exists.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlhacktips.html#Using-a-source-level-debugger\" rel=\"nofollow noreferrer\">Using a source level debugger</a> as suggested in perldoc are for some rare cases:</p>\n\n<blockquote>\n  <p>If the debugging output of -D doesn't help you, it's time to step\n  through perl's execution with a source-level debugger.</p>\n  \n  <p>We'll use gdb for our examples here; the principles will apply to\n  any debugger (many vendors call their debugger dbx ), but check the\n  manual of the one you're using.</p>\n</blockquote>\n\n<p>Trying to access a position of an array that does not exists can be avoided by using <code>if</code> and <code>else</code> for example:</p>\n\n<pre><code>my $wanted_position = 2;\n\nif ( $wanted_position &gt;= @array )\n{\n\n    #log a possible error\n    #Do something else\n}\n\n@a = @{$array[$wanted_position]};\n</code></pre>\n\n<p>You can handle <a href=\"http://perldoc.perl.org/perlipc.html#Signals\" rel=\"nofollow noreferrer\">signals</a> inside your script also.</p>\n\n<blockquote>\n  <p>Perl uses a simple signal handling model: the %SIG hash contains names\n  or references of user-installed signal handlers. These handlers will\n  be called with an argument which is the name of the signal that\n  triggered it. A signal may be generated intentionally from a\n  particular keyboard sequence like control-C or control-Z, sent to you\n  from another process, or triggered automatically by the kernel when\n  special events transpire, like a child process exiting, your own\n  process running out of stack space, or hitting a process file-size\n  limit.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code> $SIG{DIE} = sub { #dump code here };\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 4764142, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8ed4e031865bdef2683cd2a398d2866a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanchita Ghai", "link": "https://stackoverflow.com/users/4764142/sanchita-ghai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488465928, "creation_date": 1488447832, "last_edit_date": 1488448440, "question_id": 42551824, "link": "https://stackoverflow.com/questions/42551824/making-perl-process-to-dump-core-instead-of-directly-exiting-from-the-process", "title": "Making perl process to dump core instead of directly exiting from the process", "body": "<p>In my perl script (which actually runs as daemon), I accidentally tried to access an array element(which is also an array) which was not defined before.My script is exiting at this point but is not dumping any core.Is it possible to dump core in this case? I tried killing my perl process by kill -6 command,the core gets generated in this case But I want to generate core in every instance when we exit unexpecteldy from script.</p>\n\n<pre><code>my @array = ();\nmy @a;\n@a = @{$array[1]};\n</code></pre>\n"}, {"tags": ["perl", "global-variables"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1488447728, "post_id": 42551529, "comment_id": 72238628, "body": "It&#39;s unclear what you want. Global variables aren&#39;t recommended because they make the code harder to maintain."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1488447760, "post_id": 42551529, "comment_id": 72238648, "body": "Why don&#39;t you pass a parameter to the function?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1488452109, "post_id": 42551529, "comment_id": 72241591, "body": "You should <i>always</i> return <code>$variable</code> from <code>f1</code> and ignore it if it isn&#39;t needed."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488456631, "post_id": 42551529, "comment_id": 72244608, "body": "@Borodin maybe he returns something else if the caller isn&#39;t <code>f1</code>... (I agree that regardless, it&#39;s an unusual design)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1488457342, "post_id": 42551529, "comment_id": 72245072, "body": "@Dada: They say <i>&quot; if f1 is called from f2 alone, I want the f1 to return a variable. otherwise no need&quot;</i> which implies that no value is returned unless <code>f1</code> has been called from <code>f2</code>. Of course we can only guess, but there&#39;s no point in saving a <code>return</code> statement, and it&#39;s an economy only worthwhile if there&#39;s a significant amount of processing done to generate the returned value. There&#39;s always the option of checking <code>wantarray</code> as well."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488459445, "post_id": 42551529, "comment_id": 72246528, "body": "@Borodin indeed. I&#39;ve updated my answer with your suggestion to always return something."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1488471904, "post_id": 42552419, "comment_id": 72255502, "body": "You could also base on context. <code>if (defined(wantarray)) { ... }</code>"}], "tags": [], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "is_accepted": true, "score": 4, "last_activity_date": 1488465430, "last_edit_date": 1488465430, "creation_date": 1488449321, "answer_id": 42552419, "question_id": 42551529, "link": "https://stackoverflow.com/questions/42551529/how-to-use-global-variable-in-perl/42552419#42552419", "title": "How to use global variable in perl?", "body": "<p>Using global variables is usually a bad idea, as they make the code harder to maintain (as mentioned by @choroba in the comments) and to write.</p>\n\n<p>As mentioned by @Borodin, if <code>f1</code> should only <code>return</code> something if called by <code>f2</code> and nothing otherwise, the simplest is to let <code>f1</code> return something, regardless of whether it was called by <code>f2</code> or not, and just ignore that return value if you are not in <code>f2</code>.</p>\n\n<p>If however, <code>f1</code> needs to return a special value when called from <code>f2</code>, and something else when called from somewhere else, there are several possibilities: You could pass a parameter to <code>f1</code> that would identify who called it. Or you could use <a href=\"http://perldoc.perl.org/functions/caller.html\" rel=\"nofollow noreferrer\"><code>caller</code></a> to know who called <code>f1</code>. Or, if you really want to, you can use a global variable. Bellow are examples of each way.  </p>\n\n<p>(You can replace my <code>say</code> with your <code>return</code>.)</p>\n\n<hr>\n\n<p>Using <code>caller</code>:</p>\n\n<pre><code>use strict; \nuse warnings qw( all );\nuse feature qw( say );\n\nsub f1 {\n    my $caller = (caller(1))[3];\n    if ($caller &amp;&amp; $caller eq 'main::f2') {\n        say \"Called from f2\";\n    } else {\n        say \"Not called from f2\";\n    }\n}\n\nsub f2 {\n    f1();\n}\n\nf1();\nf2();\n</code></pre>\n\n<p><code>caller</code> returns an array containing information about where the current function was called from (line, package, function, etc.). The 4th element of this array is the function who called it, fully qualified with its package, hence the use of <code>main::f2</code> and not just <code>f2</code>.</p>\n\n<hr>\n\n<p>Using an additional parameter:</p>\n\n<pre><code>use strict; \nuse warnings qw( all );\nuse feature qw( say );\n\nsub f1 {\n    my $caller = shift // '';\n    if ($caller eq 'f2') {\n        say \"Called from f2\";\n    } else {\n        say \"Not called from f2\";\n    }\n}\n\nsub f2 {\n    f1('f2');\n}\n\nf1();\nf2();\n</code></pre>\n\n<p>In this example, the parameter to <code>f1</code> is optional. However, if <code>f1</code> has other parameters, you might consider making it non-optional.</p>\n\n<hr>\n\n<p>Using a global variable :</p>\n\n<pre><code>use strict; \nuse warnings qw( all );\nuse feature qw( say );\n\nour $f1_flag = 0;\n\nsub f1 {\n    if ($f1_flag == 1) {\n        say \"Called by f2\";\n    } else {\n        say \"Called outside f2\";\n    }\n}\n\nsub f2 {\n    local $f1_flag = 1;\n    f1();\n}\n\nf1();\nf2();\n</code></pre>\n\n<p>You'll noticed that I renamed your <code>$count</code> for <code>$f1_flag</code>: it's already bad enough to have global variables, so better try to give them significant names. (That way, you shouldn't have to much trouble knowing what this variable is for, and you probably won't be tempted to reuse the same name for another variable).</p>\n\n<p><a href=\"http://perldoc.perl.org/functions/our.html\" rel=\"nofollow noreferrer\"><code>our</code></a> declares a global (or package) variable. Then, instead of setting it to <code>1</code> inside <code>f2</code>, and then back to <code>0</code> inside <code>f1</code>, I prefer to use <a href=\"http://perldoc.perl.org/functions/local.html\" rel=\"nofollow noreferrer\"><code>local</code></a>: <code>$f1_flag</code> will be <code>1</code> for every function or instruction inside the dynamic scope of <code>f2</code>.</p>\n"}], "owner": {"reputation": 15, "user_id": 7640827, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GYmggSC-SAQ/AAAAAAAAAAI/AAAAAAAAABM/XC_xmLTGUJc/photo.jpg?sz=128", "display_name": "Sivananda Ganapathy", "link": "https://stackoverflow.com/users/7640827/sivananda-ganapathy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 42552419, "answer_count": 1, "score": 0, "last_activity_date": 1488465430, "creation_date": 1488447085, "question_id": 42551529, "link": "https://stackoverflow.com/questions/42551529/how-to-use-global-variable-in-perl", "title": "How to use global variable in perl?", "body": "<p>I will write a pseudo code</p>\n\n<pre><code>f1 {\n..\n..\nif (count==1) {\ncount=0;// set it back to 0\nreturn $variable;\n}\n\n\nf2\n{\ncount=1;\nvar2=f1(..); // \n}\n</code></pre>\n\n<p>ie. if f1 is called from f2 alone, I want the f1 to return a variable. otherwise no need. I want to achieve this using global variable. can u help . or is there any other way also? \nThanx in advance.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1488442387, "post_id": 42549164, "comment_id": 72235112, "body": "What is your question? You don&#39;t make any changes to <code>$o_name</code>, so your <code>rename</code> won&#39;t change the name of the files. You are also looking in only a single directory so your subdirectories won&#39;t get processed."}, {"owner": {"reputation": 688, "user_id": 2141046, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5147f276e7c11f3a1c7b99f0323d7ce1?s=128&d=identicon&r=PG", "display_name": "user2141046", "link": "https://stackoverflow.com/users/2141046/user2141046"}, "edited": false, "score": 0, "creation_date": 1488443322, "post_id": 42549164, "comment_id": 72235673, "body": "duplicate :<a href=\"http://stackoverflow.com/questions/42527874/how-to-rename-the-directory-structure-by-matching-the-text-file-using-perl\" title=\"how to rename the directory structure by matching the text file using perl\">stackoverflow.com/questions/42527874/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7608729"}, "edited": false, "score": 0, "creation_date": 1488443990, "post_id": 42549164, "comment_id": 72236074, "body": "i think there they are changing the directory names by matching with some file.Here i like to change the text file with directory names inside the respective directories.Then how it will be duplicate of that question@user2141046"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7608729"}, "edited": false, "score": 0, "creation_date": 1488444072, "post_id": 42549164, "comment_id": 72236120, "body": "My question is to rename the .txt files with respected directory names.@Borodin"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7608729"}, "edited": false, "score": 0, "creation_date": 1488514666, "post_id": 42556567, "comment_id": 72274769, "body": "i have few queries 1)why you had used($$) 2) if i execute this code it names the directory if i again execute the same code it renames the file names twice why it happens like that..for example(rest1-rest1-rest_rest1-rest1-rest.txt) @ v.sheldeshov"}, {"owner": {"reputation": 168, "user_id": 2248929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d5d4773df1b60f21c66ee6a235390e9?s=128&d=identicon&r=PG", "display_name": "v.sheldeshov", "link": "https://stackoverflow.com/users/2248929/v-sheldeshov"}, "edited": false, "score": 0, "creation_date": 1488518658, "post_id": 42556567, "comment_id": 72276047, "body": "($$) - it was just to define that runDir wants strictly 2 variables. To avoid errors when use it later. &quot;res-res&quot; problem: well it is not too hard to add additional check if filename starts from prefix. Replace } elsif ( ( -f $dir . &#39;/&#39; . $file ) &amp;&amp; ( $file =~ /\\.txt$/ ) ) {     ...................... with } elsif ( ( -f $dir . &#39;/&#39; . $file ) &amp;&amp; ( $file =~ /\\.txt$/ ) &amp;&amp; ( $file !~ /^$prefix/ ) ) {"}], "tags": [], "owner": {"reputation": 168, "user_id": 2248929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d5d4773df1b60f21c66ee6a235390e9?s=128&d=identicon&r=PG", "display_name": "v.sheldeshov", "link": "https://stackoverflow.com/users/2248929/v-sheldeshov"}, "is_accepted": true, "score": 0, "last_activity_date": 1488460646, "creation_date": 1488460646, "answer_id": 42556567, "question_id": 42549164, "link": "https://stackoverflow.com/questions/42549164/how-to-rename-files-with-its-linking-directory-names-using-perl/42556567#42556567", "title": "How to rename files with its linking directory names using perl?", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nsub runDir($$);\nsub runDir($$) {\n    my $prefix = shift @_;\n    my $dir = shift @_;\n    opendir(DIR, $dir) or die $!;\n    my @entries = readdir(DIR);\n    close(DIR);\n    foreach my $file (@entries) {\n        next if ($file =~ /^\\.+$/);\n        if ( -d $dir . '/' . $file) {\n            runDir($prefix . $file . '_', $dir . '/' . $file);\n        } elsif ( ( -f $dir . '/' . $file ) &amp;&amp; ( $file =~ /\\.txt$/ ) ) {\n            my $suffix = $file;\n            $suffix =~ s/^(\\S+)-.+\\.txt$/$1.txt/;\n            print \"rename $dir . '/' . $file, $dir . '/' . $prefix . $suffix . \\n\";\n        }\n    }\n}\nrunDir('output_', '/home/user1/output');\n</code></pre>\n\n<p>But beware of filename collisions:</p>\n\n<pre><code>rest1-rest1-rest.txt\nrest1-rest1-rest1-rest.txt\n</code></pre>\n\n<p>in same dir...</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7608729"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 42556567, "answer_count": 1, "score": 0, "last_activity_date": 1488460646, "creation_date": 1488439496, "question_id": 42549164, "link": "https://stackoverflow.com/questions/42549164/how-to-rename-files-with-its-linking-directory-names-using-perl", "title": "How to rename files with its linking directory names using perl?", "body": "<hr>\n\n<p>I like to rename my files with directory names using perl.I included my directory structure as follows:</p>\n\n<pre><code>    |-- Basket\n    |   |-- ICC\n    |   |   |-- rest10-rest10-rest10-test.txt\n    |   |   `-- rest1\n    |   |       `-- rest1-rest1-rest1-rest.txt\n    |   |-- bl2-bl2-bl2-b1.txt\n</code></pre>\n\n<p>Expected :</p>\n\n<pre><code>    |-- Basket\n    |   |-- ICC\n    |   |   |-- ICC_rest10.txt\n    |   |   `-- rest1\n    |   |       `-- ICC_rest1.txt\n    |   |-- Basket_bl2.txt\n</code></pre>\n\n<p>My code:(i tried by taking all .txt files)</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $dir = '/home/user1/output';\nmy @files = glob \"${dir}*.txt*\";\nforeach (@files) {\n    next if -d;\n    my $o_name = $_;\n    rename $o_name, $_  or\n        $_ = $o_name,\n        print $_;\n}\n</code></pre>\n"}, {"tags": ["performance", "perl", "system", "parent-child"], "comments": [{"owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "edited": false, "score": 0, "creation_date": 1488441196, "post_id": 42549141, "comment_id": 72234401, "body": "Could be a race condition, i.e. the outcome of operations depend on the details of scheduling each process or thread. Without code to see, this is next to impossible to diagnose. And your shift key appears broken..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1488442296, "post_id": 42549141, "comment_id": 72235053, "body": "Please use Capital Letters where appropriate. It would make your question much easier to read."}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 1737991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e80336e9b7bea4d4de3047f541760ac?s=128&d=identicon&r=PG", "display_name": "Demiurg", "link": "https://stackoverflow.com/users/1737991/demiurg"}, "is_accepted": true, "score": 1, "last_activity_date": 1488442231, "creation_date": 1488442231, "answer_id": 42549941, "question_id": 42549141, "link": "https://stackoverflow.com/questions/42549141/perl-script-performance-misbehave-while-calling-another-script/42549941#42549941", "title": "perl script performance misbehave while calling another script", "body": "<p>Running Perl scripts for every DB insert is very ineffective.</p>\n\n<p>You should notice that Perl will first compile called script (every time it has been called) - so it creates significant overhead.</p>\n\n<p>Much better to use OOP and to put DB handling code into separate class - it will be compiled only once - at run time. Or you can use modules and put DB code into functions, they will be compiled only once too. Look at \"use\" pragma.</p>\n\n<p>For example: simple programm with module</p>\n\n<p>main_file.pl</p>\n\n<pre><code>use strict;\nuse DB_code;\nDB_code::insert($data);\n</code></pre>\n\n<p>DB_code.pm</p>\n\n<pre><code>package DB_code;\nuse strict;\n\nsub insert {\n    my $data = shift;\n    print \"Your data has been inserted!\";\n}\n\n1;\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 4422783, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/04e34ec0193d21b45fb9a281a23994cb?s=128&d=identicon&r=PG&f=1", "display_name": "VasaraBharat", "link": "https://stackoverflow.com/users/4422783/vasarabharat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 42549941, "answer_count": 1, "score": 0, "last_activity_date": 1488455820, "creation_date": 1488439436, "last_edit_date": 1488455820, "question_id": 42549141, "link": "https://stackoverflow.com/questions/42549141/perl-script-performance-misbehave-while-calling-another-script", "title": "perl script performance misbehave while calling another script", "body": "<p>I have a <code>perl</code>script which calls another <code>perl</code> script which functions normal database queries.</p>\n\n<p>But sometimes when the inner script calling is so frequent then it will not inserting proper values in database, in debug I found that it was not able to fetch all the records from database which is most important before inserting the new calculated values.</p>\n\n<p>I used <code>system()</code> method to call child script. this will wait till the child process end but then how it is possible to misbehave while the calling of child is frequently. In normal scenario main script will hold for 30 seconds which results proper executions of child script.</p>\n\n<p>can anyone have any suggestion for debugging my code or any solution for this kind of issue.  </p>\n"}]