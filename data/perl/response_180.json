[{"tags": ["perl", "oop", "module", "package"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1529534448, "post_id": 50957982, "comment_id": 88913413, "body": "<i>&quot;I guess the module needs to accept a list and then create a list of objects?&quot;</i> Well if you pass it a list of <code>Person</code> objects then there&#39;s nothing to create. Your object needs another field, <code>_children</code> which is an array. You can initialise it with an empty array in the constructor <code>_children =&gt; []</code> and add to it using another setter. You would create a number of children in the same way as you created <code>$object</code> and assign them with something like <code>$object-&gt;setChildren($kid1, $kid2, $kid3)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 6, "last_activity_date": 1529536313, "last_edit_date": 1529536313, "creation_date": 1529534920, "answer_id": 50958099, "question_id": 50957982, "link": "https://stackoverflow.com/questions/50957982/perl-module-that-accepts-list-and-creates-objects/50958099#50958099", "title": "Perl module that accepts list and creates objects", "body": "<p>Just use a list of objects in the setter:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\n{   package Person;\n\n    sub new {\n        my $class = shift;\n        my $self = {\n            _firstName =&gt; shift,\n            _lastName  =&gt; shift,\n            _children =&gt; [],\n        };\n        return bless $self, $class\n    }\n\n    sub setFirstName {\n        my ($self, $firstName) = @_;\n        $self-&gt;{_firstName} = $firstName if defined $firstName;\n        return $self-&gt;{_firstName}\n    }\n\n    sub getFirstName {\n        my ($self) = @_;\n        return $self-&gt;{_firstName}\n    }\n\n    sub setLastName {\n        my ($self, $lastName) = @_;\n        $self-&gt;{_lastName} = $lastName if defined $lastName;\n        return $self-&gt;{_lastName}\n    }\n\n    sub getLastName {\n        my ($self) = @_;\n        return $self-&gt;{_lastName}\n    }\n\n    sub getFullName {\n        my ($self) = @_;\n        return $self-&gt;{_lastName} . ', ' . $self-&gt;{_firstName}\n    }\n\n    sub getChildren {\n        my ($self) = @_;\n        return @{ $self-&gt;{_children} }\n    }\n\n    sub setChildren {\n        my ($self, @children) = @_;\n        $self-&gt;{_children} = [ @children ];\n    }\n\n}\n\nmy $object = 'Person'-&gt;new('Elvis', 'Presley');\n\n# Get first name which is set using constructor.\nmy $firstName = $object-&gt;getFirstName;\nmy $lastName = $object-&gt;getLastName;\nmy $fullname = $object-&gt;getFullName;\n\n$object-&gt;setChildren('Person'-&gt;new('Lisa', 'Presley'),\n                     'Person'-&gt;new('Deborah', 'Presley'));\n\nsay \"(Getting) First Name is: $firstName\";\nsay \"(Getting) Last Name is: $lastName\";\nsay \"(Getting) Full Name is: $fullname\";\n\nsay \"Children: \";\nsay $_-&gt;getFullName for $object-&gt;getChildren;\n</code></pre>\n\n<p>Note that there are modules to make building objects easier, e.g. <a href=\"http://p3rl.org/Moo\" rel=\"noreferrer\">Moo</a>:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\n{   package Person;\n    use Moo;\n\n    has first_name =&gt; (is =&gt; 'ro');\n    has last_name =&gt; (is =&gt; 'ro');\n    has full_name =&gt; (is =&gt; 'lazy');\n    has _children =&gt; (is =&gt; 'ro',\n                      init_arg =&gt; undef,\n                      default =&gt; sub { [] });\n\n    sub _build_full_name {\n        my ($self) = @_;\n        return $self-&gt;last_name . ', ' . $self-&gt;first_name\n    }\n\n    sub add_child {\n        my ($self, $child) = @_;\n        push @{ $self-&gt;_children }, $child\n    }\n\n    sub children {\n        my ($self) = @_;\n        return @{ $self-&gt;_children }\n    }\n\n}\n\nmy $object = 'Person'-&gt;new(first_name =&gt; 'Elvis',\n                           last_name  =&gt; 'Presley');\n\n# Get first name which is set using constructor.\nmy $firstName = $object-&gt;first_name;\nmy $lastName = $object-&gt;last_name;\nmy $fullname = $object-&gt;full_name;\n\n$object-&gt;add_child($_) for 'Person'-&gt;new(first_name =&gt; 'Lisa',\n                                         last_name =&gt; 'Presley'),\n                           'Person'-&gt;new(first_name =&gt; 'Deborah',\n                                         last_name =&gt; 'Presley');\n\nsay \"(Getting) First Name is: $firstName\";\nsay \"(Getting) Last Name is: $lastName\";\nsay \"(Getting) Full Name is: $fullname\";\n\nsay \"Children: \";\nsay $_-&gt;full_name for $object-&gt;children;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1603606381, "last_edit_date": 1603606381, "creation_date": 1529535099, "answer_id": 50958125, "question_id": 50957982, "link": "https://stackoverflow.com/questions/50957982/perl-module-that-accepts-list-and-creates-objects/50958125#50958125", "title": "Perl module that accepts list and creates objects", "body": "<p>The requirement means that there should be an attribute which can accommodate a collection of objects, so a reference to an array. This is defined in the constructor</p>\n<pre><code>sub new\n{\n    my $class = shift;\n    my $self = {\n        _firstName =&gt; shift,\n        _lastName  =&gt; shift,\n        _children  =&gt; [ @_ ],\n    };\n    bless $self, $class;\n    return $self;\n}\n</code></pre>\n<p>where <code>[ ]</code> creates an anonymous array and returns its reference, which is a scalar so it can be used for a hash value.  The <code>@_</code> in it contains the optional rest of the arguments (<code>Person</code> objects) after the class and names have been <code>shift</code>-ed.</p>\n<p>Arguments need be checked but this gets hard with a plain list, when they are used positionally. Instead, consider using <a href=\"https://stackoverflow.com/q/1703046/4653379\">named parameters</a>, ie. passing a hash(ref) to the constructor, with which it's easy to check which arguments have or have not been supplied.</p>\n<p>Next, you need a method to add children to this attribute, for example</p>\n<pre><code>sub add_children {\n    my ($self, @children) = @_;             # and check what's passed\n    push @{$self-&gt;{_children}}, @children;\n    return $self;                           # for chaining if desired\n}\n</code></pre>\n<p>Finally, when you invoke this method you pass objects of the class <code>Person</code> to it</p>\n<pre><code>use warnings;\nuse strict;\n\nuse Person;\n\nmy $object = Person-&gt;new('Elvis', 'Presley');\n\nmy $child = Person-&gt;new('First', 'Last');\n\n$object-&gt;add_children( $child );\n</code></pre>\n<p>or, if there is no use of a <code>$child</code> variable (object) in the rest of the code</p>\n<pre><code>$object-&gt;add_children( Person-&gt;new(...) );\n</code></pre>\n<p>You can add a list of children, <code>add_children($c1, $c2, ...)</code>, for example to initially populate the data structure, or can add them individually as they appear.</p>\n<p>A list of <code>Person</code> children can be used in the constructor as well</p>\n<pre><code>my $obj = Person-&gt;new('First', 'Last', $c1, $c2,...);\n</code></pre>\n<p>This gets clearer and far more flexible with mentioned named parameters, which are unpacked and sorted out in the constructor.   But more to the point, once you learn the Perl's native OO system look at modules for this, best <a href=\"http://search.cpan.org/%7Eether/Moose-2.2011/lib/Moose.pm\" rel=\"nofollow noreferrer\">Moose</a> and its light-weight counterpart <a href=\"http://search.cpan.org/%7Ehaarg/Moo-2.003004/lib/Moo.pm\" rel=\"nofollow noreferrer\">Moo</a>.</p>\n<p>Comments</p>\n<ul>\n<li><p><em>Always</em> have <code>use warnings;</code> and <code>use strict;</code> at the beginning</p>\n</li>\n<li><p><em>Don't use</em> the <a href=\"http://perldoc.perl.org/perlobj.html#Invoking-Class-Methods\" rel=\"nofollow noreferrer\">indirect object notation</a></p>\n<pre><code> my $obj = new ClassName(...);   # DO NOT USE\n</code></pre>\n</li>\n</ul>\n<p>See <a href=\"https://stackoverflow.com/q/32955172/4653379\">this post</a> and <a href=\"https://stackoverflow.com/q/11695110/4653379\">this great example</a>. The fact that it <em>can</em> be used to call a constructor is really an abuse of its other legitimate uses. Use a normal method call</p>\n<pre><code>    my $obj = ClassName-&gt;new(...);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1529574849, "creation_date": 1529574849, "answer_id": 50965594, "question_id": 50957982, "link": "https://stackoverflow.com/questions/50957982/perl-module-that-accepts-list-and-creates-objects/50965594#50965594", "title": "Perl module that accepts list and creates objects", "body": "<p>It's great that your college is teaching you Perl, but slightly disappointing that they're teaching you the \"classic\" version of Perl OO, when in the real world most OO work in Perl uses a framework like <a href=\"https://metacpan.org/pod/Moo\" rel=\"nofollow noreferrer\">Moo</a> or <a href=\"https://metacpan.org/pod/Moose\" rel=\"nofollow noreferrer\">Moose</a>.</p>\n\n<p>For interest, I've included a Moo version of the Person object below:</p>\n\n<pre><code>package Person;\n\nuse Moo;\nuse Types::Standard qw[Str ArrayRef Object];\n\nhas first_name =&gt; (\n  is =&gt; 'rw',\n  isa =&gt; Str,\n  required =&gt; 1,\n);\n\nhas last_name =&gt; (\n  is =&gt; 'rw',\n  isa =&gt; Str,\n  required =&gt; 1,\n);\n\nhas children =&gt; (\n  is =&gt; 'rw',\n  isa =&gt; ArrayRef[Object],\n);\n\nsub full_name {\n  my $self = shift;\n\n  return $self-&gt;first_name . ' ' . $self-&gt;last_name;\n}\n\n1;\n</code></pre>\n\n<p>And here's a simple test program:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nuse Person;\n\nmy $elvis = Person-&gt;new(\n  first_name =&gt; \"Elvis\",\n  last_name  =&gt; \"Presley\",\n  children   =&gt; [Person-&gt;new(\n    first_name =&gt; 'Lisa Marie',\n    last_name  =&gt; 'Presley',\n  )],\n);\n\nmy $first_name = $elvis-&gt;first_name;\nmy $last_name  = $elvis-&gt;last_name;\nmy $full_name  = $elvis-&gt;full_name;\n\nsay \"(Getting) First Name is : $first_name\";\nsay \"(Getting) Last Name is: $last_name\";\nsay \"(Getting) Full Name is: $full_name\";\n\nsay \"Elvis's first child is \", $elvis-&gt;children-&gt;[0]-&gt;full_name;\n</code></pre>\n\n<p>A few things to note:</p>\n\n<ul>\n<li>Always include <code>use strict</code> and <code>use warnings</code> in your code</li>\n<li>Always use <code>Class-&gt;new</code> in preference to <code>new Class</code></li>\n<li>Perl programmers prefer <code>snake_case</code> to <code>camelCase</code></li>\n<li>Moo likes you to use named parameters to an object constructor</li>\n<li>Declarative attributes (using <code>has</code>) are far less repetitive than writing all your own getter and setter methods</li>\n<li>People programmers tend to prefer a single method (<code>foo()</code> which can be used as both a getter and a setter over separate <code>get_foo()</code> and <code>set_foo()</code> methods.</li>\n</ul>\n"}], "owner": {"reputation": 1629, "user_id": 488188, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a8386e30a6c1771deb4814f5bb75ef9?s=128&d=identicon&r=PG", "display_name": "Jane WIlkie", "link": "https://stackoverflow.com/users/488188/jane-wilkie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 50958099, "answer_count": 3, "score": 1, "last_activity_date": 1603606381, "creation_date": 1529534055, "question_id": 50957982, "link": "https://stackoverflow.com/questions/50957982/perl-module-that-accepts-list-and-creates-objects", "title": "Perl module that accepts list and creates objects", "body": "<p>I am working on an college problem ( in Perl ). We are working on creating modules and I need to write a simple module that \"has get/set methods for four attributes: lastname, firstname, full_name and a list of children who are also person objects\".</p>\n\n<p>I think I have it down but it's the list of children who are also person objects that throws me. I guess the module needs to accept a list and then create a list of objects? Python is my core language so this one is throwing me. The get/set methods are working fine. Any ideas?</p>\n\n<p>My module is here...</p>\n\n<pre><code>#!/usr/bin/perl\n\npackage Person;\n\nsub new\n{\n    my $class = shift;\n    my $self = {\n        _firstName =&gt; shift,\n        _lastName  =&gt; shift,\n    };\n    bless $self, $class;\n    return $self;\n}\nsub setFirstName {\n    my ( $self, $firstName ) = @_;\n    $self-&gt;{_firstName} = $firstName if defined($firstName);\n    return $self-&gt;{_firstName};\n}\n\nsub getFirstName {\n    my( $self ) = @_;\n    return $self-&gt;{_firstName};\n}\n\nsub setLastName {\n    my ( $self, $lastName ) = @_;\n    $self-&gt;{_lastName} = $lastName if defined($lastName);\n    return $self-&gt;{_lastName};\n}\n\nsub getLastName {\n    my( $self ) = @_;\n    return $self-&gt;{_lastName};\n}\n\nsub getFullName {\n    my( $self ) = @_;\n    return $self-&gt;{_lastName}.\",\".$self-&gt;{_firstName};\n}\n\n1;\n</code></pre>\n\n<p>My code is here.....</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Person;\n\n$object = new Person(\"Elvis\",\"Presley\");\n# Get first name which is set using constructor.\n$firstName = $object-&gt;getFirstName();\n$lastName = $object-&gt;getLastName();\n$fullname = $object-&gt;getFullName();\n\nprint \"(Getting) First Name is : $firstName\\n\";\nprint \"(Getting) Last Name is: $lastName\\n\";\nprint \"(Getting) Full Name is: $fullname\\n\";\n</code></pre>\n"}, {"tags": ["regex", "bash", "function", "shell", "perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1529538252, "post_id": 50957507, "comment_id": 88914257, "body": "<a href=\"http://metacpan.org/pod/Env::Modify\" rel=\"nofollow noreferrer\"><code>Env::Modify</code></a> might be able to help with this. But this is some pretty dense input, so I&#39;m not sure."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1529552408, "post_id": 50957507, "comment_id": 88917005, "body": "Try using the dot command (spelled <code>.</code>) instead of <code>source</code>.  The errors are saying that <code>sh</code> doesn&#39;t understand <code>source</code>, so it probably isn&#39;t Bash (or Csh, which is where <code>source</code> originated; Bourne shell use the name <code>.</code>).  Running multiple copies of Perl feeding into each other is peculiar.  The function you want to use looks ripe for conversion to Perl.  I can&#39;t (be bothered to) make out exactly what you&#39;re doing, but it looks fiendishly complex \u2014 and to this &#39;80s era shell programmer, it looks absurd."}, {"owner": {"reputation": 111, "user_id": 7668244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8710b3a8cc864a0f2a067a2963829888?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Moore", "link": "https://stackoverflow.com/users/7668244/tyler-moore"}, "edited": false, "score": 0, "creation_date": 1529598097, "post_id": 50957507, "comment_id": 88942896, "body": "Sourcing with the <code>.</code> command originally from Dash shell gives the 2nd output example. i.e. <code>sh: 1: evalPS: not found</code>. The only issue with converting the function to perl is I don&#39;t know how to go about doing the &quot;set debug&quot; hack I used in the shell function in perl&#39;s syntax.. Essentially I parse the evaluated prompt value from <code>set -x</code> ---&gt; what would a comparable perl statement be?"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 7668244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8710b3a8cc864a0f2a067a2963829888?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Moore", "link": "https://stackoverflow.com/users/7668244/tyler-moore"}, "edited": false, "score": 0, "creation_date": 1529707999, "post_id": 50978929, "comment_id": 88987236, "body": "<b>lessons learned</b> in this post: If you run into a wall with 1 solution, double check your alternatives :)"}], "tags": [], "owner": {"reputation": 111, "user_id": 7668244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8710b3a8cc864a0f2a067a2963829888?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Moore", "link": "https://stackoverflow.com/users/7668244/tyler-moore"}, "is_accepted": true, "score": 0, "last_activity_date": 1529625630, "creation_date": 1529625630, "answer_id": 50978929, "question_id": 50957507, "link": "https://stackoverflow.com/questions/50957507/source-and-run-shell-function-within-perl-regex/50978929#50978929", "title": "Source and run shell function within perl regex", "body": "<p>The answer was to scrap this whole idea and use a better one..</p>\n\n<p>Lets step back first.. Big Picture:<br>\nGoal was to make the <code>script</code> program output an executable shell script of the entire recorded session.</p>\n\n<p>Back to Answers..<br>\nThe above implementation was supposed to remove all prompts and control characters from the output of <code>script</code> (which is the input examples I gave) and then remove the output of each command (i.e. any line that didn't contain control characters).<br>\nPassing the <code>evalPS</code> function to <code>perl</code> to execute proved to be quite redundant and getting <code>bash</code> and <code>perl</code> to expand the parameters correctly was a nightmare..</p>\n\n<p><strong>The Final Solution</strong><br>\nScrapped the perl regex idea and used a combination of subshell and history redirection to grab the commands for the entire <code>script</code> session, while it was running.</p>\n\n<p>The entire implementation looks like this:</p>\n\n<pre><code># log cmds to script file as they are entered (unbuffered)\n# spawn script cmd in subshell and wait for it to finish\nwait -n\n( \n    history -c\n    export HISTFILE=\"${SCRIPT_FILE}\"\n    shopt -s histappend\n    script -q --timing=\"${TIME_FILE}\" \"${REC_FILE}\"\n    history -a\n)\n...\n</code></pre>\n\n<p>Simple and much easier to read! :)<br>\nHope this helps anyone trying to make their own mods to <code>script</code> in the future, cheers!</p>\n"}], "owner": {"reputation": 111, "user_id": 7668244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8710b3a8cc864a0f2a067a2963829888?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Moore", "link": "https://stackoverflow.com/users/7668244/tyler-moore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 1, "accepted_answer_id": 50978929, "answer_count": 1, "score": 7, "last_activity_date": 1529625630, "creation_date": 1529531064, "last_edit_date": 1529536119, "question_id": 50957507, "link": "https://stackoverflow.com/questions/50957507/source-and-run-shell-function-within-perl-regex", "title": "Source and run shell function within perl regex", "body": "\n\n<h2>The Problem</h2>\n\n<p>I am attempting to reuse a shell function I have defined in bash script later on in the script, within a perl cmd execution block.   The call to perl cmd basically needs to to run the defined shell function after matching a piece of the regex (capture group #2).   See code definitions below.</p>\n\n<h2>The Code</h2>\n\n<p>The pertinent <strong>function definition</strong> in bash shell script:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>    evalPS() {\n        PS_ARGS=$(eval 'echo -en \"'${1}'\"' | sed -e 's#\\\\\\[##g' -e 's#\\\\\\]##g')\n        PS_STR=$((set +x; (PS4=\"+.$PS_ARGS\"; set -x; :) 2&gt;&amp;1) | cut -d':' -f1 | cut -d'.' -f2)\n        echo -en \"${PS_STR}\"\n    }\n</code></pre>\n\n<p>The definition above uses some bashisms and hacks to evaluate the users real prompt to a string.</p>\n\n<p>That function needs to be <strong>called within perl</strong> in the next function:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>    remPS() {\n        # store evalPS definition\n        EVALPS_SOURCE=$(declare -f evalPS)\n        # initalize prompt\n        eval \"$PROMPT_COMMAND\" &amp;&gt; /dev/null\n        # handle args\n        ( [[ $# -eq 0 ]] &amp;&amp; cat - || cat \"${1}\" ) |\n        # ridiculous regex\n        perl -pe 's/^[^\\e].*//gs' | \n        perl -s -0777 -e '`'\"$EVALPS_SOURCE\"'`; while (&lt;&gt;) { s%(.*?\\Q$ps1\\E)(?{`eval $PROMPT_COMMAND`})|(.*?\\Q$ps2\\E)(?{$ps2=`$\\(evalPS \"${PS2}\"\\)`})|(\\Q$ps3\\E)|(^\\Q$ps4\\E+.*?\\b)%%g; } continue {print;}' -- \\\n             -ps1=\"$(evalPS \"${PS1}\")\" -ps2=\"$(evalPS \"${PS2}\")\" \\\n             -ps3=\"${PS3}\" -ps4=\"${PS4:0:1}\" |\n        perl -pe 's/(.*?)\\e\\[[A-Z](\\a)*/\\1/g'\n    }\n</code></pre>\n\n<p>The call to perl could be moved to a separate script but either way the issue is I can not find a way to \"import\" or \"source\" the <code>remPS()</code> function, within the perl script.   I also tried sourcing the function from a separate file definition, into the perl command. Like so:  </p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>    perl -s -0777 -e '`. /home/anon/Desktop/flyball_labs/scripts/recsesh_lib.sh`; while (&lt;&gt;) { s%(.*?\\Q$ps1\\E)(?{`eval $PROMPT_COMMAND`})|(.*?\\Q$ps2\\E)(?{$ps2=`$\\(evalPS \"${PS2}\"\\)`})|(\\Q$ps3\\E)|(^\\Q$ps4\\E+.*?\\b)%%g; } continue {print;}'\n    ...\n</code></pre>\n\n<p>Or using the <code>source</code> builtin:  </p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>    perl -s -0777 -e '`source /home/anon/Desktop/flyball_labs/scripts/recsesh_lib.sh`; while (&lt;&gt;) { s%(.*?\\Q$ps1\\E)(?{`eval $PROMPT_COMMAND`})|(.*?\\Q$ps2\\E)(?{$ps2=`$\\(evalPS \"${PS2}\"\\)`})|(\\Q$ps3\\E)|(^\\Q$ps4\\E+.*?\\b)%%g; } continue {print;}'\n    ...\n</code></pre>\n\n<p>And for clarity, the final attempt was passing the function declaration into perl like so:  </p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>    perl -s -0777 -e '`'\"$EVALPS_SOURCE\"'`; while (&lt;&gt;) { s%(.*?\\Q$ps1\\E)(?{`eval $PROMPT_COMMAND`})|(.*?\\Q$ps2\\E)(?{$ps2=`$\\(evalPS \"${PS2}\"\\)`})|(\\Q$ps3\\E)|(^\\Q$ps4\\E+.*?\\b)%%g; } continue {print;}'\n    ...\n</code></pre>\n\n<h2>The Results</h2>\n\n<p>With no luck in any of the above cases..   It seems that the <code>.</code> cmd runs whereas the <code>source</code> cmd does not, and the syntax for passing the declaration of the function into perl may not be possible, as shown from the output of my tests:  </p>\n\n<p><strong>Sourcing library definitions w/ <code>source</code> cmd</strong>  </p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>    (1)|anon@devbox /tmp|$ remPS \"${TEXT_FILE}\"\n    sh: 1: source: not found\n    ...\n</code></pre>\n\n<p><strong>Sourcing w/ shell <code>.</code> cmd</strong>  </p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>    (1)|anon@devbox /tmp|$ remPS \"${TEXT_FILE}\"\n    sh: 1: evalPS: not found\n    ...\n</code></pre>\n\n<p><strong>Passing declaration to perl</strong>  </p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>    (1)|anon@devbox /tmp|$ remPS \"${TEXT_FILE}\"\n    sh: 3: Syntax error: \")\" unexpected (expecting \"}\")\n    sh: 1: evalPS: not found\n    ...\n</code></pre>\n\n<h2>To summarize</h2>\n\n<p><strong>Q)</strong> How to \"import\" and run a user defined shell command within perl?</p>\n\n<p><strong>A)</strong> 2 Possible solutions:</p>\n\n<ol>\n<li>source the function from separate file definition  </li>\n<li>pass into perl command from bash using variable expansion</li>\n</ol>\n\n<h2>Sources &amp; Research</h2>\n\n<p>Evaluating real bash prompt value:  </p>\n\n<p><a href=\"https://stackoverflow.com/questions/22322879/how-to-print-current-bash-prompt\">how-to-print-current-bash-prompt</a>   <a href=\"https://stackoverflow.com/questions/3451993/echo-expanded-ps1?noredirect=1&amp;lq=1\">echo-expanded-ps1</a></p>\n\n<p><strong>Note</strong>: I chose this implementation of <code>evalPS()</code> because using the <code>script</code> cmd workaround was unreliable and using <code>call bind_variable()</code> bash function required root privileges (effectively changing user's prompt).</p>\n\n<p><a href=\"https://perldoc.perl.org/perlre.html#Embedded-Code-Execution-Frequency\" rel=\"nofollow noreferrer\">Perl regex embeded code</a></p>\n\n<p><strong>Note</strong>: the function has to be run after every match of <code>$PS2</code> to re-evaluate the new prompt and effectively match the next iteration (as it would in a real shell session).   The use case I have for this is many people have (including myself) set their <code>$PROMPT_COMMAND</code> to iterate an integer indicating which line number (or offset from <code>$PS1</code>) the current line is, and displayed within <code>$PS2</code>.  </p>\n\n<p><a href=\"https://stackoverflow.com/questions/3854651/how-can-i-store-the-result-of-a-system-command-in-a-perl-variable\">running a shell command in perl</a></p>\n\n<p>Sourcing shell code in perl:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/33781557/how-to-run-source-command-linux-from-a-perl-script\">how-to-run-source-command-linux-from-a-perl-script</a>   <a href=\"https://stackoverflow.com/questions/3675646/can-we-source-a-shell-script-in-perl-script\">can-we-source-a-shell-script-in-perl-script</a>   <a href=\"https://stackoverflow.com/questions/42851830/sourcing-a-shell-script-from-a-perl-script\">sourcing-a-shell-script-from-a-perl-script</a>  </p>\n\n<p>Alternatively if anyone knows how to translate my implementation of <code>evalPS()</code> into perl code, that would work too, but I believe this is impossible because the evaluated string is obtained using a \"set hack\" which as far as I know is strictly a bashism.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1152400/how-can-i-translate-a-shell-script-to-perl\">how-can-i-translate-a-shell-script-to-perl</a>  </p>\n\n<p>Any suggestions would be much appreciated!</p>\n\n<h2>Edit</h2>\n\n<p>Some more info on the data being parsed.. </p>\n\n<p>The text file looks like the following (<code>cat -A</code> output):</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>^[]0;anon@ - 3^G^[[1m^[[31m(^[[36m1^[[31m)|^[[33manon^[[32m@^[[34mdevbox ^[[35m/tmp^[[31m|^[[36m^[[37m$ ^[(B^[[mecho test^M$\ntest^M$\n^[[1m^[[31m(^[[36m1^[[31m)|^[[33manon^[[32m@^[[34mdevbox ^[[35m/tmp^[[31m|^[[36m^[[37m$ ^[(B^[[mecho \\^M$\n^[[1m^[[31m[^[[36m2^[[31m]|^[[33m-^[[32m-^[[34m-^[[35m&gt; ^[(B^[[m\\^M$\n^[[1m^[[31m[^[[36m3^[[31m]|^[[33m-^[[32m-^[[34m-^[[35m&gt; ^[(B^[[m\\^M$\n^[[1m^[[31m[^[[36m4^[[31m]|^[[33m-^[[32m-^[[34m-^[[35m&gt; ^[(B^[[mtest^M$\ntest^M$\n^[[1m^[[31m(^[[36m1^[[31m)|^[[33manon^[[32m@^[[34mdevbox ^[[35m/tmp^[[31m|^[[36m^[[37m$ ^[(B^[[mexit^M$\nexit^M$\n</code></pre>\n\n<p>Or similarly (<code>less</code> formatted):</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>ESC]0;anon@ - 3^GESC[1mESC[31m(ESC[36m1ESC[31m)|ESC[33manonESC[32m@ESC[34mdevbox ESC[35m/tmpESC[31m|ESC[36mESC[37m$ ESC(BESC[mecho test\ntest\nESC[1mESC[31m(ESC[36m1ESC[31m)|ESC[33manonESC[32m@ESC[34mdevbox ESC[35m/tmpESC[31m|ESC[36mESC[37m$ ESC(BESC[mecho \\\nESC[1mESC[31m[ESC[36m2ESC[31m]|ESC[33m-ESC[32m-ESC[34m-ESC[35m&gt; ESC(BESC[m\\\nESC[1mESC[31m[ESC[36m3ESC[31m]|ESC[33m-ESC[32m-ESC[34m-ESC[35m&gt; ESC(BESC[m\\\nESC[1mESC[31m[ESC[36m4ESC[31m]|ESC[33m-ESC[32m-ESC[34m-ESC[35m&gt; ESC(BESC[mtest\ntest\nESC[1mESC[31m(ESC[36m1ESC[31m)|ESC[33manonESC[32m@ESC[34mdevbox ESC[35m/tmpESC[31m|ESC[36mESC[37m$ ESC(BESC[mexit\nexit\n</code></pre>\n\n<p>My <code>$PROMPT_COMMAND</code> and corresponding prompts (<code>$PS1</code>-<code>$PS4</code>) for example:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>PROMPT_COMMAND='TERM_LINE_NO=1'\nPS1=\"\\[$(tput bold)\\]\\[$(tput setaf 1)\\](\\[$(tput setaf 6)\\]\\${TERM_LINE_NO}\\[$(tput setaf 1)\\])|\\[$(tput setaf 3)\\]\\u\\[$(tput setaf 2)\\]@\\[$(tput setaf 4)\\]\\h \\[$(tput setaf 5)\\]\\w\\[$(tput setaf 1)\\]|\\[$(tput setaf 6)\\]\\$(parse_git_branch)\\[$(tput setaf 7)\\]\\\\$ \\[$(tput sgr0)\\]\"\nPS2=\"\\[$(tput bold)\\]\\[$(tput setaf 1)\\][\\[$(tput setaf 6)\\]\\$((++TERM_LINE_NO))\\[$(tput setaf 1)\\]]|\\[$(tput setaf 3)\\]-\\[$(tput setaf 2)\\]-\\[$(tput setaf 4)\\]-\\[$(tput setaf 5)\\]&gt; \\[$(tput sgr0)\\]\"\nPS3=\"\"\nPS4=\"+ \"\n</code></pre>\n"}, {"tags": ["perl", "referer"], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 41, "user_id": 6771461, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210423209278911/picture?type=large", "display_name": "Ki Hun Nam", "link": "https://stackoverflow.com/users/6771461/ki-hun-nam"}, "edited": false, "score": 0, "creation_date": 1529540243, "post_id": 50957094, "comment_id": 88914696, "body": "@KiHunNam <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 6, "last_activity_date": 1529529125, "creation_date": 1529529125, "answer_id": 50957094, "question_id": 50956597, "link": "https://stackoverflow.com/questions/50956597/set-a-referer-header-in-mojouseragent/50957094#50957094", "title": "Set a Referer header in Mojo::UserAgent", "body": "<p>You would set the <code>Referer</code> header the same way you'd set any other request header with <a href=\"https://metacpan.org/pod/Mojo::UserAgent\" rel=\"noreferrer\">Mojo::UserAgent</a>: </p>\n\n<pre><code>my $data = $ua-&gt;get('https://test.com' =&gt; {Referer =&gt; 'https://stackoverflow.com/questions/50956597'})-&gt;res-&gt;body;\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6771461, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210423209278911/picture?type=large", "display_name": "Ki Hun Nam", "link": "https://stackoverflow.com/users/6771461/ki-hun-nam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1529529658, "creation_date": 1529526741, "last_edit_date": 1592644375, "question_id": 50956597, "link": "https://stackoverflow.com/questions/50956597/set-a-referer-header-in-mojouseragent", "title": "Set a Referer header in Mojo::UserAgent", "body": "<p>I am writing a program to access the web using\n<a href=\"https://metacpan.org/pod/Mojo::UserAgent\" rel=\"nofollow noreferrer\"><code>Mojo::UserAgent</code></a></p>\n<p>I want to set the <code>Referer</code> header value but I do not know how.</p>\n<h3>Perl code</h3>\n<pre><code>my $ua   = Mojo::UserAgent-&gt;new();\nmy $data = $ua-&gt;get('https://test.com')-&gt;res-&gt;body;\n\nprint $data,&quot;\\n&quot;;\n</code></pre>\n"}, {"tags": ["r", "perl", "transpose"], "comments": [{"owner": {"reputation": 1453, "user_id": 4932791, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/P5G5H.jpg?s=128&g=1", "display_name": "kRazzy R", "link": "https://stackoverflow.com/users/4932791/krazzy-r"}, "edited": false, "score": 0, "creation_date": 1529522616, "post_id": 50955153, "comment_id": 88908829, "body": "once see this : <a href=\"https://stackoverflow.com/questions/47000380/splitting-dataframes-in-r-based-on-empty-rows\" title=\"splitting dataframes in r based on empty rows\">stackoverflow.com/questions/47000380/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 32063, "user_id": 4752675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6PS6.png?s=128&g=1", "display_name": "G5W", "link": "https://stackoverflow.com/users/4752675/g5w"}, "is_accepted": false, "score": 0, "last_activity_date": 1529522579, "creation_date": 1529522579, "answer_id": 50955614, "question_id": 50955153, "link": "https://stackoverflow.com/questions/50955153/transposing-long-list-of-numbers/50955614#50955614", "title": "Transposing long list of numbers", "body": "<p>If you are quite certain that you want the first half of the entries in column 1 and the second half in column two, you could do this with <code>matrix</code>. </p>\n\n<pre><code>Input = read.csv(\"Input.csv\", header=FALSE)\nM = matrix(Input$V1, ncol=2)\n          [,1]     [,2]\n [1,] 6.83e-05 2.56e-05\n [2,] 1.93e-04 7.33e-05\n [3,] 4.36e-04 1.63e-04\n [4,] 7.17e-04 2.63e-04\n [5,] 1.04e-03 3.79e-04\n [6,] 1.37e-03 5.03e-04\n [7,] 1.30e-03 4.83e-04\n [8,] 1.39e-03 5.45e-04\n [9,] 1.34e-03 5.76e-04\n[10,] 1.34e-03 6.33e-04\n[11,] 1.58e-03 8.06e-04\n[12,] 1.30e-03 7.36e-04\n[13,] 8.82e-04 5.43e-04\n[14,] 1.09e-03 6.69e-04\n[15,] 9.61e-04 6.12e-04\n[16,] 8.19e-04 5.36e-04\n[17,] 7.03e-04 4.66e-04\n[18,] 6.21e-04 4.13e-04\n[19,] 5.54e-04 3.66e-04\n[20,] 4.98e-04 3.27e-04\n</code></pre>\n\n<p>If you want to write it back out to a csv with the new structure, you can use:</p>\n\n<pre><code>write.table(M, \"Input2.csv\", row.names=FALSE, col.names=FALSE, sep=\",\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": false, "score": 1, "last_activity_date": 1529620404, "last_edit_date": 1529620404, "creation_date": 1529525036, "answer_id": 50956213, "question_id": 50955153, "link": "https://stackoverflow.com/questions/50955153/transposing-long-list-of-numbers/50956213#50956213", "title": "Transposing long list of numbers", "body": "<p>Here is a perl solution adapted by another question (solution by ikegami). It outputs a csv file.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse List::UtilsBy::XS 'zip_by';\n\n# adapted method by ikegami\n# http://stackoverflow.com/questions/37288627/how-to-read-every-3-lines-in-perl/37289263#37289263\n\nmy @in = split /\\n/, &lt;&lt;EOF;\n6.83E-05\n1.93E-04\n4.36E-04\n7.17E-04\n1.04E-03\n1.37E-03\n1.30E-03\n1.39E-03\n1.34E-03\n1.34E-03\n1.58E-03\n1.30E-03\n8.82E-04\n1.09E-03\n9.61E-04\n8.19E-04\n7.03E-04\n6.21E-04\n5.54E-04\n4.98E-04\n\n2.56E-05\n7.33E-05\n1.63E-04\n2.63E-04\n3.79E-04\n5.03E-04\n4.83E-04\n5.45E-04\n5.76E-04\n6.33E-04\n8.06E-04\n7.36E-04\n5.43E-04\n6.69E-04\n6.12E-04\n5.36E-04\n4.66E-04\n4.13E-04\n3.66E-04\n3.27E-04\nEOF\n\nmy $rec = [];\nmy @data = $rec;\n\nfor (@in) {\n    if (/^\\s*$/) {\n        $rec = [];\n        push @data, $rec;\n    }\n    else {\n        push @$rec, $_;\n    }\n}   \n\nprint zip_by { join(\",\", @_) . \"\\n\"} @data;\n</code></pre>\n\n<p><strong>Update:</strong> Turns out to be a simpler solution given the changed input. (89 rows and ~171 cols)</p>\n\n<pre><code>my @data;\nmy $i = 0;\n\nfor (@in) {\n    if (/^\\s*$/) {\n        $i = 0;\n    }\n    else {\n        push @{ $data[$i++] }, $_;\n    }\n}   \n\nfor my $aref (@data) {\n    print join(\",\", @$aref), \"\\n\";  \n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>6.83E-05,2.56E-05\n1.93E-04,7.33E-05\n4.36E-04,1.63E-04\n7.17E-04,2.63E-04\n1.04E-03,3.79E-04\n1.37E-03,5.03E-04\n1.30E-03,4.83E-04\n1.39E-03,5.45E-04\n1.34E-03,5.76E-04\n1.34E-03,6.33E-04\n1.58E-03,8.06E-04\n1.30E-03,7.36E-04\n8.82E-04,5.43E-04\n1.09E-03,6.69E-04\n9.61E-04,6.12E-04\n8.19E-04,5.36E-04\n7.03E-04,4.66E-04\n6.21E-04,4.13E-04\n5.54E-04,3.66E-04\n4.98E-04,3.27E-04\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32063, "user_id": 4752675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6PS6.png?s=128&g=1", "display_name": "G5W", "link": "https://stackoverflow.com/users/4752675/g5w"}, "edited": false, "score": 0, "creation_date": 1529543850, "post_id": 50958949, "comment_id": 88915332, "body": "If you do not know the number of rows, but it will always be 89 columns, use <code>nrow= 89</code> but do not specify  <code>ncol</code>"}], "tags": [], "owner": {"reputation": 55, "user_id": 9969144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1daefc00dc4fc8f623a559bc244412?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Blough", "link": "https://stackoverflow.com/users/9969144/joe-blough"}, "is_accepted": false, "score": 0, "last_activity_date": 1529542744, "creation_date": 1529542744, "answer_id": 50958949, "question_id": 50955153, "link": "https://stackoverflow.com/questions/50955153/transposing-long-list-of-numbers/50958949#50958949", "title": "Transposing long list of numbers", "body": "<p>Thanks.  So using R I ran:</p>\n\n<p><code>Input = read.csv(\"RawOutput.csv\", header=FALSE)\nM = matrix(Input$V1, nrow= 89, ncol=171)</code></p>\n\n<p>And it gave me the output I wanted, 89 rows and 171 columns.  However there may be some input files of different lengths.  They may require more or less than 171 columns (they will always have 89 rows though).  </p>\n\n<p>Is there a way to tell R to stop processing the input CSV when it reaches a marker (eg. puttng \"EOF\" in the final cell)?  Otherwise it will loop around to the beginning again and keep adding columns up to whatever number is specified with ncol.</p>\n"}], "owner": {"reputation": 55, "user_id": 9969144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1daefc00dc4fc8f623a559bc244412?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Blough", "link": "https://stackoverflow.com/users/9969144/joe-blough"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "closed_date": 1529570468, "answer_count": 3, "score": 0, "last_activity_date": 1529620404, "creation_date": 1529520658, "question_id": 50955153, "link": "https://stackoverflow.com/questions/50955153/transposing-long-list-of-numbers", "closed_reason": "Needs more focus", "title": "Transposing long list of numbers", "body": "<p>I have an Excel CSV file with a long list of numbers in a single column, separated by an empty space:</p>\n\n<p><code>6.83E-05\n1.93E-04\n4.36E-04\n7.17E-04\n1.04E-03\n1.37E-03\n1.30E-03\n1.39E-03\n1.34E-03\n1.34E-03\n1.58E-03\n1.30E-03\n8.82E-04\n1.09E-03\n9.61E-04\n8.19E-04\n7.03E-04\n6.21E-04\n5.54E-04\n4.98E-04</code></p>\n\n<p><code>2.56E-05\n7.33E-05\n1.63E-04\n2.63E-04\n3.79E-04\n5.03E-04\n4.83E-04\n5.45E-04\n5.76E-04\n6.33E-04\n8.06E-04\n7.36E-04\n5.43E-04\n6.69E-04\n6.12E-04\n5.36E-04\n4.66E-04\n4.13E-04\n3.66E-04\n3.27E-04</code></p>\n\n<p>I want to re-organize it so they appear like this:</p>\n\n<p><code>6.83E-05  2.56E-05\n1.93E-04    7.33E-05\n4.36E-04    1.63E-04\n7.17E-04    2.63E-04\n1.04E-03    3.79E-04\n1.37E-03    5.03E-04\n1.30E-03    4.83E-04\n1.39E-03    5.45E-04\n1.34E-03    5.76E-04\n1.34E-03    6.33E-04\n1.58E-03    8.06E-04\n1.30E-03    7.36E-04\n8.82E-04    5.43E-04\n1.09E-03    6.69E-04\n9.61E-04    6.12E-04\n8.19E-04    5.36E-04\n7.03E-04    4.66E-04\n6.21E-04    4.13E-04\n5.54E-04    3.66E-04\n4.98E-04    3.27E-04</code></p>\n\n<p>I'm looking to do this with Perl or R.  Would the R transpose function work in this case?  I tried awk, but that didn't seem to work.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1529530946, "post_id": 50954713, "comment_id": 88912314, "body": "Your config file says you are logging to <code>&#47;user&#47;Desktop&#47;Records.log</code> but your question says <code>count.log</code>. Which is it?"}, {"owner": {"reputation": 11, "user_id": 9969130, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K1IbB3E-0_U/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0zbkwxYiwqkgskX-gPcbegp8s4yg/mo/photo.jpg?sz=128", "display_name": "Raj", "link": "https://stackoverflow.com/users/9969130/raj"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1529602072, "post_id": 50954713, "comment_id": 88944980, "body": "Hey sorry for the mistake, its Records.log only"}], "owner": {"reputation": 11, "user_id": 9969130, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K1IbB3E-0_U/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0zbkwxYiwqkgskX-gPcbegp8s4yg/mo/photo.jpg?sz=128", "display_name": "Raj", "link": "https://stackoverflow.com/users/9969130/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1529529988, "creation_date": 1529518709, "last_edit_date": 1529529988, "question_id": 50954713, "link": "https://stackoverflow.com/questions/50954713/roll-the-file-over-using-loglog4perl", "title": "Roll the file over using Log::Log4perl", "body": "<p></p>\n\n<p>I am using the\n<a href=\"https://metacpan.org/pod/Log::Log4perl\" rel=\"nofollow noreferrer\"><code>Log::Log4perl</code></a>\nmodule to capture log data. After midnight I am trying to roll the file over from <code>count.log</code> to <code>count.log.1</code> in write mode, but I am not able to do so.</p>\n\n<p>Below is the logfile info:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>log4perl.rootLogger               = INFO, myFILE\nlog4perl.appender.myFILE          = Log::Dispatch::FileRotate\nlog4perl.appender.myFILE.filename = /user/Desktop/Records.log\nlog4perl.appender.myFILE.max      = 4\nlog4perl.appender.myFILE.mode     = write\nlog4perl.appender.myFILE.DatePattern = yyyy-MM-dd\nlog4perl.appender.myFILE.TZ       = UTC\nlog4perl.appender.myFILE.layout   = PatternLayout\n#log4perl.appender.myFILE.layout.ConversionPattern = %d %m %n\n#log4perl.appender.myFILE.layout.ConversionPattern = %m %n\nlog4perl.appender.myFILE.layout.ConversionPattern = [%d] [%F:%L] [%p %c] %m%n\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1529510048, "post_id": 50952107, "comment_id": 88902358, "body": "You have called <code>print</code> with the parameter <code>&quot;barney &quot; x 4</code> and added one to the result. <code>print(&quot;barney &quot; x 4) + 1</code>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1529511805, "post_id": 50952107, "comment_id": 88903445, "body": "See also: <a href=\"https://stackoverflow.com/questions/3806368/why-is-print-52-8042-different-than-print-4252-80-in-perl\" title=\"why is print 52 8042 different than print 4252 80 in perl\">stackoverflow.com/questions/3806368/&hellip;</a>"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1529653792, "post_id": 50952107, "comment_id": 88961228, "body": "Just to be sure : you are aware that <code>x</code> is the repetition operator whereas <code>*</code> is the multiplication?"}, {"owner": {"reputation": 53, "user_id": 9564657, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214158226621315/picture?type=large", "display_name": "Michele Fattoruso", "link": "https://stackoverflow.com/users/9564657/michele-fattoruso"}, "edited": false, "score": 0, "creation_date": 1529672967, "post_id": 50952107, "comment_id": 88971898, "body": "Yes, awere of that."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1529509405, "creation_date": 1529509405, "answer_id": 50952184, "question_id": 50952107, "link": "https://stackoverflow.com/questions/50952107/perl-string-conversion/50952184#50952184", "title": "Perl string conversion", "body": "<p>Turn on <code>warnings</code> to get more information:</p>\n\n<pre><code>print (...) interpreted as function at -e line 1.\nUseless use of addition (+) in void context at -e line 1.\n</code></pre>\n\n<p>The last expression was interpreted as</p>\n\n<pre><code>(print (\"barney \" x 4)) + 1;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1529510109, "creation_date": 1529510109, "answer_id": 50952409, "question_id": 50952107, "link": "https://stackoverflow.com/questions/50952107/perl-string-conversion/50952409#50952409", "title": "Perl string conversion", "body": "<p>You have called <code>print</code> with the parameter <code>\"barney \" x 4</code> and added one to the result.</p>\n\n<p>The parentheses in</p>\n\n<pre><code>print(\"barney \" x 4) + 1\n</code></pre>\n\n<p>delimit the parameter list, just like most other languages</p>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 5, "last_activity_date": 1529511250, "creation_date": 1529511250, "answer_id": 50952778, "question_id": 50952107, "link": "https://stackoverflow.com/questions/50952107/perl-string-conversion/50952778#50952778", "title": "Perl string conversion", "body": "<p>Always use strict and warnings; they point out your problem.</p>\n\n<p>With respect to \"every string not containing numeric values\", that is vague but true.  If there is a number at the beginning of the string after leading whitespace is ignored, that will be the value.  So 0+\"   123abc\" is 123.</p>\n\n<p>But \"number\" includes <code>/inf|nan/i</code>.  So 0+\"nanotechnology\" is NaN.</p>\n\n<p>Another surprise is that the bitwise operators <code>~ &amp; | ^</code> have a string mode; if neither operand is numeric or has been used in a numeric context, they will operate on the bits of the strings and return a string, instead of converting to numeric values.</p>\n\n<p>And <code>++</code> also has a string mode: <code>++($x=\"abc\")</code> is \"abd\".</p>\n"}], "owner": {"reputation": 53, "user_id": 9564657, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214158226621315/picture?type=large", "display_name": "Michele Fattoruso", "link": "https://stackoverflow.com/users/9564657/michele-fattoruso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 50952778, "answer_count": 3, "score": 0, "last_activity_date": 1529511250, "creation_date": 1529509158, "question_id": 50952107, "link": "https://stackoverflow.com/questions/50952107/perl-string-conversion", "title": "Perl string conversion", "body": "<p>Simple question about Perl 5.</p>\n\n<p>As far as I understood in reading the first chapters of string conversion in perl, every string not containing numeric values used in a numeric operation gets automatically converted to the value of zero.</p>\n\n<p>Just as testing I used the following print statements:</p>\n\n<pre><code>print 1 + (\"barney \" x 4);\nprint \"\\n\";\nprint \"barney \" x 4 + 1;\nprint \"\\n\";\nprint (\"barney \" x 4) + 1;\n</code></pre>\n\n<p>from this, I was expecting to receive as output always the number 1, as the string repetition operator has higher priority than the sum operator, but the output is the following:</p>\n\n<pre><code>1\n1\nbarney barney barney barney \n</code></pre>\n\n<p>Why the last print statement doesn't print again 1, and Just prints \"barney \" four times? The last 1 also isn't printed at all</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 5951584, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/ZVPFa.jpg?s=128&g=1", "display_name": "shinoy.m", "link": "https://stackoverflow.com/users/5951584/shinoy-m"}, "edited": false, "score": 0, "creation_date": 1529498057, "post_id": 50948229, "comment_id": 88894238, "body": "Thank you Borodin,  its the problem with the system function like you said,I just changed and it worked"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 101, "user_id": 5951584, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/ZVPFa.jpg?s=128&g=1", "display_name": "shinoy.m", "link": "https://stackoverflow.com/users/5951584/shinoy-m"}, "edited": false, "score": 1, "creation_date": 1529498362, "post_id": 50948229, "comment_id": 88894468, "body": "@shinoy.m: Note that you should be using the Perl <code>rename</code> operator in preference to starting a whole new process just to rename a file."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 1, "creation_date": 1529507176, "post_id": 50948229, "comment_id": 88900500, "body": "<a href=\"http://p3rl.org/File::Copy#move\" rel=\"nofollow noreferrer\"><code>move</code></a> is the better working <code>rename</code>. <a href=\"http://perlpunks.de/corelist/mversion?module=File%3A%3ACopy\" rel=\"nofollow noreferrer\">File::Copy is in core.</a>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1529497522, "creation_date": 1529497522, "answer_id": 50948229, "question_id": 50947292, "link": "https://stackoverflow.com/questions/50947292/folder-name-with-space-issue/50948229#50948229", "title": "Folder name with space issue", "body": "<p>The error message <code>The syntax of the command is incorrect</code> comes from the Windows command line, not from Perl</p>\n\n<p>The issue is not to do with <code>File::Glob</code>, but with whatever you are doing with the contents of <code>@flist</code>. It's my guess that you're using backticks or <code>system</code> to rename one or more of the files or directories. This will fail if you use paths that contain spaces without enclosing the complete path in double quotes</p>\n\n<p>If you need any more help then you must show the relevant part of your code</p>\n"}], "owner": {"reputation": 101, "user_id": 5951584, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/ZVPFa.jpg?s=128&g=1", "display_name": "shinoy.m", "link": "https://stackoverflow.com/users/5951584/shinoy-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 50948229, "answer_count": 1, "score": 0, "last_activity_date": 1529497522, "creation_date": 1529494557, "last_edit_date": 1529496498, "question_id": 50947292, "link": "https://stackoverflow.com/questions/50947292/folder-name-with-space-issue", "title": "Folder name with space issue", "body": "<p>How do I handle a folder name containing spaces in Perl? For example <code>C:\\Sample Picture\\Data</code>.</p>\n\n<p>I wrote this</p>\n\n<pre><code>use File::Glob ':glob';\n\n$indir = \"C:\\\\Sample Picture\\\\Data\\\\\";\n\n@flist =  bsd_glob( $indir.'*');\n</code></pre>\n\n<p>This is throwing an error</p>\n\n<blockquote>\n  <p>The syntax of the command is incorrect.</p>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1529490124, "post_id": 50945674, "comment_id": 88889026, "body": "What have you tried? What problems are you having?"}, {"owner": {"reputation": 2422, "user_id": 9112798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2689048404de2b747c712b6782e8c7?s=128&d=identicon&r=PG&f=1", "display_name": "David Collins", "link": "https://stackoverflow.com/users/9112798/david-collins"}, "edited": false, "score": 1, "creation_date": 1529490185, "post_id": 50945674, "comment_id": 88889071, "body": "Hi. Any chance you could re-format your code - removing the line numbers (if that&#39;s what they are), fix indentation, etc.?"}, {"owner": {"reputation": 49, "user_id": 9396900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dd387abbfe6618dc71844c1b1d20649?s=128&d=identicon&r=PG&f=1", "display_name": "ray", "link": "https://stackoverflow.com/users/9396900/ray"}, "edited": false, "score": 0, "creation_date": 1529491572, "post_id": 50945674, "comment_id": 88889968, "body": "This command - lsdev | grep en | grep VLAN | awk &#39;{ print \\$1 }&#39;  should produce ent3, which it is doing. After that i want the number  3 from ent3 to be stored in a variable. But i am not able to do that."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1529504980, "post_id": 50945674, "comment_id": 88898954, "body": "Either this is an anonymous subroutine (which seems ambitious for someone who&#39;s asking basic regex questions) or you&#39;ve retyped the code for our benefit and made some mistakes in the process."}, {"owner": {"reputation": 49, "user_id": 9396900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dd387abbfe6618dc71844c1b1d20649?s=128&d=identicon&r=PG&f=1", "display_name": "ray", "link": "https://stackoverflow.com/users/9396900/ray"}, "edited": false, "score": 0, "creation_date": 1529506048, "post_id": 50945674, "comment_id": 88899678, "body": "I have just started and not very familiar with perl, so if anybody can help, please do"}], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 6335661, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9jQqgf-UmH8/AAAAAAAAAAI/AAAAAAAAAZs/Oc10yUgd6d8/photo.jpg?sz=128", "display_name": "Aritra Kundu", "link": "https://stackoverflow.com/users/6335661/aritra-kundu"}, "is_accepted": false, "score": 0, "last_activity_date": 1529524079, "creation_date": 1529524079, "answer_id": 50955995, "question_id": 50945674, "link": "https://stackoverflow.com/questions/50945674/how-can-i-extract-the-number-from-the-output-of-a-shell-command/50955995#50955995", "title": "How can I extract the number from the output of a shell command?", "body": "<p>Using regex, something like this should work:</p>\n\n<pre><code>if($result =~ /([0-9]+)/) {\n    $num = $1;\n}\nprint $num;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1529735847, "creation_date": 1529735847, "answer_id": 50998623, "question_id": 50945674, "link": "https://stackoverflow.com/questions/50945674/how-can-i-extract-the-number-from-the-output-of-a-shell-command/50998623#50998623", "title": "How can I extract the number from the output of a shell command?", "body": "<p>Your code that is doing the work here is:</p>\n\n<pre><code>my $num = $result =~ /([0-9]+)/;\n</code></pre>\n\n<p>Let's put that into a simple program so we can see what's going on.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy $result = 'ext3';\n\nmy $num = $result =~ /([0-9]+)/;\n\nsay $num;\n</code></pre>\n\n<p>And that prints <code>1</code>. Which isn't what we want. What's going on?</p>\n\n<p>Well, if you read the documentation for the match operator (in the section <a href=\"https://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">Regexp Quote-Like Operators</a> in \"perlop\"), you'll see what the operator returns under different circumstances. It says:</p>\n\n<blockquote>\n  <p>Searches a string for a pattern match, and in scalar context returns true if it succeeds, false if it fails.</p>\n</blockquote>\n\n<p>So that explains the behaviour we're seeing. That \"1\" is just a true value saying that the match succeeded. But how do we get the value that we have captured in our parentheses. There are a couple of ways. Firstly, it's written into the <code>$1</code> variable.</p>\n\n<pre><code>my $num;\n\nif ($result =~ /([0-9]+)/) {\n  $num = $1;\n}\n\nsay $num;\n</code></pre>\n\n<p>But I think the other approach is what you were looking for. If you read on, you'll see what the operator returns in list context:</p>\n\n<blockquote>\n  <p><code>m//</code> in list context returns a list consisting of the subexpressions matched by the parentheses in the pattern, that is, (<code>$1</code>, <code>$2</code>, <code>$3</code> ...) </p>\n</blockquote>\n\n<p>So if we put the match operator in list context, then we'll get the contents of <code>$1</code> returned. How do we put a match into list context? By making the expression a list assignment - which we can do by putting parentheses around the left-hand side of the assignment.</p>\n\n<pre><code>my ($num) = $result =~ /([0-9]+)/;\n\nsay $num;\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 9396900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dd387abbfe6618dc71844c1b1d20649?s=128&d=identicon&r=PG&f=1", "display_name": "ray", "link": "https://stackoverflow.com/users/9396900/ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 50998623, "answer_count": 2, "score": -3, "last_activity_date": 1529735847, "creation_date": 1529489470, "last_edit_date": 1529492990, "question_id": 50945674, "link": "https://stackoverflow.com/questions/50945674/how-can-i-extract-the-number-from-the-output-of-a-shell-command", "title": "How can I extract the number from the output of a shell command?", "body": "<p>The output for the command is <code>ent3</code>, and from that output I want <code>3</code> to be stored in a variable</p>\n\n<h3>Perl code</h3>\n\n<pre><code>            sub {\n            if ( $exit == 1 )\n           {\n            $cmdStr = \"lsdev | grep en | grep VLAN | awk '{ print \\$1 }'\\r\";\n            $result =_run_cmd($cmdStr);\n            my @PdAt_val =    split(\"\\r?\\n\", $result);\n            my $num = $result =~ /([0-9]+)/;\n            print \"The char is $num\\n\";\n            $exit = 0;\n                exp_continue;\n</code></pre>\n\n<h3>Tidied code</h3>\n\n<pre><code>sub {\n\n    if ( $exit == 1 ) {\n\n        $cmdStr = \"lsdev | grep en | grep VLAN | awk '{ print \\$1 }'\\r\";\n        $result = _run_cmd($cmdStr);\n\n        my @PdAt_val = split(\"\\r?\\n\", $result);\n\n        my $num = $result =~ /([0-9]+)/;\n        print \"The char is $num\\n\";\n\n        $exit = 0;\n\n        exp_continue;\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1529502026, "post_id": 50945484, "comment_id": 88896860, "body": "Stack Overflow is not a code writing service. We really need a <i>&quot;Givez mez the codez&quot;</i> Stack Exchange for folks who want to dump requirements without making an effort."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1529502309, "post_id": 50945484, "comment_id": 88897055, "body": "Here are potential duplicates. You probably would have found them if you made an effort. <a href=\"https://stackoverflow.com/q/28181797/608639\">Read specific column in perl</a>, <a href=\"https://stackoverflow.com/q/17438782/608639\">Parsing a text file with multiple columns</a>, <a href=\"https://stackoverflow.com/q/22976409/608639\">Efficient way to read columns in a file using Perl</a>, <a href=\"https://stackoverflow.com/q/7093571/608639\">How can I use Perl extract a particular column from a tab-separated file?</a>, etc."}, {"owner": {"reputation": 17, "user_id": 8956086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c484c38781d87ee8929257c2942d7a37?s=128&d=identicon&r=PG&f=1", "display_name": "abhi shek", "link": "https://stackoverflow.com/users/8956086/abhi-shek"}, "reply_to_user": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1529660432, "post_id": 50945484, "comment_id": 88964936, "body": "@jww thank you .. i got the logic how i need                   while($line=&lt;RD&gt;) { if($line=~m/^\\#\\w+/) { } elsif($line=~m/^\\s*\\w+/) { $line1=$&amp;; $line1=~s/\\s+//g; push(@arr,split(&quot; &quot;,$line)); $test_count=$arr[1]; for($i=1;$i&lt;=$test_count;$i=$i+1) { print &quot;make $arr[0] $arr[2] $arr[3] $arr[4]\\n&quot;; } $#arr=-1; } }"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8956086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c484c38781d87ee8929257c2942d7a37?s=128&d=identicon&r=PG&f=1", "display_name": "abhi shek", "link": "https://stackoverflow.com/users/8956086/abhi-shek"}, "edited": false, "score": 0, "creation_date": 1529660365, "post_id": 50950805, "comment_id": 88964906, "body": "i got my logic. here is my logic                                                while($line=&lt;RD&gt;) { \tif($line=~m/^\\#\\w+/) \t{ \t} \telsif($line=~m/^\\s*\\w+/) \t{ \t\t$line1=$&amp;; \t\t$line1=~s/\\s+//g; \t\tpush(@arr,split(&quot; &quot;,$line)); \t\t$test_count=$arr[1]; \t\tfor($i=1;$i&lt;=$test_count;$i=$i+1) \t\t{ \t\t\tprint &quot;make $arr[0] $arr[2] $arr[3] $arr[4]\\n&quot;; \t\t} \t$#arr=-1; \t} }"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 17, "user_id": 8956086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c484c38781d87ee8929257c2942d7a37?s=128&d=identicon&r=PG&f=1", "display_name": "abhi shek", "link": "https://stackoverflow.com/users/8956086/abhi-shek"}, "edited": false, "score": 1, "creation_date": 1529662027, "post_id": 50950805, "comment_id": 88965925, "body": "@abhishek: Please don&#39;t dump code in a comment where it is unreadable. If you have new information to add, then please edit it into your question"}, {"owner": {"reputation": 17, "user_id": 8956086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c484c38781d87ee8929257c2942d7a37?s=128&d=identicon&r=PG&f=1", "display_name": "abhi shek", "link": "https://stackoverflow.com/users/8956086/abhi-shek"}, "edited": false, "score": 0, "creation_date": 1529662310, "post_id": 50950805, "comment_id": 88966068, "body": "sorry. i haven&#39;t seen. i will make from next time"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1529505436, "creation_date": 1529505436, "answer_id": 50950805, "question_id": 50945484, "link": "https://stackoverflow.com/questions/50945484/reading-a-particular-column-value-from-a-file-using-perl/50950805#50950805", "title": "Reading a particular column value from a file using Perl", "body": "<p>You say:</p>\n\n<blockquote>\n  <p>I want to store into one variable after that 5 and 10 into the\n  different variables like $test=in, $count=5 and $seed= 100</p>\n</blockquote>\n\n<p>I bet that's not what you want. I bet it will be far more useful for you to store the data in a complex data structure. Something like this:</p>\n\n<pre><code>my @data;\nmy @cols;\n\n# Assuming you've opened the file and stored\n# the filehandle in $fh\nwhile (&lt;$fh&gt;) {\n  # Skip lines without any data\n  next unless /\\S/;\n\n  if ($. == 1) {\n    @cols = split;\n    next;\n  }\n\n  my %row;\n  @row{@cols} = split;\n  push @data, \\%row;\n}\n</code></pre>\n\n<p>As you've made no effort to attempt the problem (or, at least, you've not shown any evidence of any effort) I'm not going to spend time explaining my solution to you. You'll get some useful information from reading <a href=\"https://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldoc perldsc</a>.</p>\n"}], "owner": {"reputation": 17, "user_id": 8956086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c484c38781d87ee8929257c2942d7a37?s=128&d=identicon&r=PG&f=1", "display_name": "abhi shek", "link": "https://stackoverflow.com/users/8956086/abhi-shek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1539779044, "creation_date": 1529488866, "last_edit_date": 1539779044, "question_id": 50945484, "link": "https://stackoverflow.com/questions/50945484/reading-a-particular-column-value-from-a-file-using-perl", "title": "Reading a particular column value from a file using Perl", "body": "<p>I am very new to Perl.  I have a file called test.txt, the following code shows the data in the file</p>\n\n<pre><code>test       count    seed    \n\nin          5       100\nchecks      5       100  \ncomb        5       100\nreload      5       100 \nreset       5       100\n</code></pre>\n\n<p>There are 3 columns in the file those are test, count and seed. First, I want to read test name \"in\" and then I want to store into one variable after that 5 and 10 into the different variables like $test=in, $count=5 and $seed= 100, because I will call these variables into one more file, that's why I'm storing the variables and after that checks, comb, reload and reset likewise. Each and  every time it should call test and it has to store into the the declared variables.<br>\nI'm able to read the file, but I'm not able to do this. Finally, I'll print those values to see whether the values a storing are not.</p>\n\n<p>finally i got the answer with my brain, here is the code</p>\n\n<pre><code>while($line=&lt;RD&gt;)\n{\n    if($line=~m/^\\#\\w+/)                        \n    {\n    }\n    elsif($line=~m/^\\s*\\w+/)                    \n    {\n        $line1=$&amp;;                      \n        $line1=~s/\\s+//g;                   \n        #print \"$line1\\n\";\n        push(@arr,split(\" \",$line));\n        $test_count=$arr[1];\n        for($i=1;$i&lt;=$test_count;$i=$i+1)\n        {\n            print \"make $arr[0] $arr[2] $arr[3] $arr[4]\\n\";\n        }\n    $#arr=-1;\n    }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1529465989, "post_id": 50939822, "comment_id": 88877658, "body": "Do you mean how to access them when you call the sub and get what it returns? The title is unclear."}, {"owner": {"reputation": 311, "user_id": 6057413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1e2e2b60be0c22e958a60052489ab283?s=128&d=identicon&r=PG&f=1", "display_name": "Phoenix", "link": "https://stackoverflow.com/users/6057413/phoenix"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1529466364, "post_id": 50939822, "comment_id": 88877731, "body": "Yes. That&#39;s the issue."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1529466479, "post_id": 50939822, "comment_id": 88877752, "body": "Then which &quot;values&quot; do you want?  Your <code>log_level</code> hashref has an arrayref &quot;value&quot; for one key but a string for the other."}, {"owner": {"reputation": 311, "user_id": 6057413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1e2e2b60be0c22e958a60052489ab283?s=128&d=identicon&r=PG&f=1", "display_name": "Phoenix", "link": "https://stackoverflow.com/users/6057413/phoenix"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1529466569, "post_id": 50939822, "comment_id": 88877769, "body": "I need to access both. I need to fetch the values and help keys of operating_mode as well as log_level"}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 6057413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1e2e2b60be0c22e958a60052489ab283?s=128&d=identicon&r=PG&f=1", "display_name": "Phoenix", "link": "https://stackoverflow.com/users/6057413/phoenix"}, "edited": false, "score": 0, "creation_date": 1529467219, "post_id": 50939929, "comment_id": 88877901, "body": "Thank you @zdim . I know Data Dumper and use it frequently. Here my objective is to return the values to another sub routine to validate the values entered from php front end."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 311, "user_id": 6057413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1e2e2b60be0c22e958a60052489ab283?s=128&d=identicon&r=PG&f=1", "display_name": "Phoenix", "link": "https://stackoverflow.com/users/6057413/phoenix"}, "edited": false, "score": 0, "creation_date": 1529467302, "post_id": 50939929, "comment_id": 88877921, "body": "@Phoenix Ah, OK.  Then your sub is written accordingly -- its return is a scalar (hashref), easy and nice to pass around. Then in the other sub you can dereference, etc."}, {"owner": {"reputation": 311, "user_id": 6057413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1e2e2b60be0c22e958a60052489ab283?s=128&d=identicon&r=PG&f=1", "display_name": "Phoenix", "link": "https://stackoverflow.com/users/6057413/phoenix"}, "edited": false, "score": 1, "creation_date": 1529467459, "post_id": 50939929, "comment_id": 88877965, "body": "Yup :)  Thanks for the quick response and help."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529504389, "post_id": 50939929, "comment_id": 88898536, "body": "Why copy the hash (<code>my %sys = %{ system_details() };</code>) instead of just using the referfence?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529516067, "post_id": 50939929, "comment_id": 88905765, "body": "@ikegami  There wasn&#39;t a special reason (except that at first I wasn&#39;t sure what was wanted, given the title).  But it turned out reasonable, since the purpose is to do this in another sub, to check; then it is generally safer to have a local copy."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1529534248, "last_edit_date": 1529534248, "creation_date": 1529466636, "answer_id": 50939929, "question_id": 50939822, "link": "https://stackoverflow.com/questions/50939822/how-to-fetch-values-that-are-hard-coded-in-a-perl-subroutine/50939929#50939929", "title": "How to fetch values that are hard coded in a Perl subroutine?", "body": "<p>The <code>system_details()</code> returns a hashref, which has two keys with values being hashrefs. So you can dereference the sub's return and assign into a hash, and then extract what you need</p>\n\n<pre><code>my %sys = %{ system_details() };\n\nmy @loglevel_vals = @{ $sys{log_level}-&gt;{values} };\n\nmy $help_msg = $sys{log_level}-&gt;{help};\n</code></pre>\n\n<p>The <code>@loglevel_vals</code> array contains <code>FATAL</code>, <code>ERROR</code> etc, while <code>$help_msg</code> has the message string.</p>\n\n<p>This makes an extra copy of a hash while one can work with a reference, as in <a href=\"https://stackoverflow.com/a/50943771/4653379\">doimen's answer</a></p>\n\n<pre><code>my $sys = system_details();\nmy @loglevel_vals = @{ $sys-&gt;{log_level}-&gt;{values} };\n</code></pre>\n\n<p>But as the purpose is to interrogate the data in another sub it also makes sense to work with a local copy, what is generally safer (against accidentally changing data in the caller).</p>\n\n<p>There are modules that help with deciphering complex data structures, by displaying them.  This helps devising ways to work with data. Often quoted is <a href=\"https://perldoc.perl.org/Data/Dumper.html\" rel=\"nofollow noreferrer\">Data::Dumper</a>, which also does more than show data.  Some of the others are meant to simply display the data. A couple of nice ones are <a href=\"http://search.cpan.org/~gaas/Data-Dump-1.23/lib/Data/Dump.pm\" rel=\"nofollow noreferrer\">Data::Dump</a> and <a href=\"http://search.cpan.org/~garu/Data-Printer-0.40/lib/Data/Printer.pm\" rel=\"nofollow noreferrer\">Data::Printer</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 311, "user_id": 6057413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1e2e2b60be0c22e958a60052489ab283?s=128&d=identicon&r=PG&f=1", "display_name": "Phoenix", "link": "https://stackoverflow.com/users/6057413/phoenix"}, "edited": false, "score": 0, "creation_date": 1529485039, "post_id": 50943771, "comment_id": 88885685, "body": "Thank you for answering."}], "tags": [], "owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "is_accepted": false, "score": 2, "last_activity_date": 1529484011, "last_edit_date": 1529484011, "creation_date": 1529483685, "answer_id": 50943771, "question_id": 50939822, "link": "https://stackoverflow.com/questions/50939822/how-to-fetch-values-that-are-hard-coded-in-a-perl-subroutine/50943771#50943771", "title": "How to fetch values that are hard coded in a Perl subroutine?", "body": "<pre><code>my $sys = system_details;\nmy $log_level = $sys-&gt;{'log_level'};\n\nmy @values = @{ $log_level-&gt;{'values'} };\nmy $help = $log_level-&gt;{'help'};\n</code></pre>\n\n<p>If you need to introspect the type of structure stored in help (for example <code>help</code> in <code>operating_mode</code> is a hash, but in <code>log_level</code> it is a string), use the <a href=\"http://perldoc.perl.org/perlfunc.html#ref-EXPR\" rel=\"nofollow noreferrer\"><code>ref</code></a>  builtin func.</p>\n"}], "owner": {"reputation": 311, "user_id": 6057413, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1e2e2b60be0c22e958a60052489ab283?s=128&d=identicon&r=PG&f=1", "display_name": "Phoenix", "link": "https://stackoverflow.com/users/6057413/phoenix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 50939929, "answer_count": 2, "score": 0, "last_activity_date": 1529534248, "creation_date": 1529465810, "last_edit_date": 1529483601, "question_id": 50939822, "link": "https://stackoverflow.com/questions/50939822/how-to-fetch-values-that-are-hard-coded-in-a-perl-subroutine", "title": "How to fetch values that are hard coded in a Perl subroutine?", "body": "<p>I have a perl code like this:</p>\n\n<pre><code>use constant OPERATING_MODE_MAIN_ADMIN  =&gt; 'super_admin';\nuse constant OPERATING_MODE_ADMIN       =&gt; 'admin';\nuse constant OPERATING_MODE_USER        =&gt; 'user';\nsub system_details\n{\n    return {\n        operating_modes =&gt; {\n            values =&gt; [OPERATING_MODE_MAIN_ADMIN, OPERATING_MODE_ADMIN, OPERATING_MODE_USER],\n            help   =&gt; {\n                'super_admin'  =&gt; 'The system displays the settings for super admin',\n                'admin' =&gt; 'The system displays settings for normal admin',\n                'user' =&gt; 'No settings are displayed. Only user level pages.'\n            }\n        },\n        log_level =&gt; {\n            values =&gt; [qw(FATAL ERROR WARN INFO DEBUG TRACE)],\n            help   =&gt; \"http://search.cpan.org/~mschilli/Log-Log4perl-1.49/lib/Log/Log4perl.pm#Log_Levels\"\n        },\n    };\n}\n</code></pre>\n\n<p>How will I access the \"value\" fields and \"help\" fields of each key from another subroutine? Suppose I want the values of operating_mode alone or log_level alone?</p>\n"}, {"tags": ["perl", "post", "httprequest", "lwp"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529465981, "post_id": 50939798, "comment_id": 88877656, "body": "<code>substr($res2-&gt;status_line,0,3)</code> is better written as <code>$res2-&gt;code</code>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1529476068, "last_edit_date": 1529476068, "creation_date": 1529465869, "answer_id": 50939831, "question_id": 50939798, "link": "https://stackoverflow.com/questions/50939798/perl-need-an-lwp-httprequest-post-code-that-actually-works/50939831#50939831", "title": "Perl: Need an LWP &amp; HTTP::Request POST code that actually works", "body": "<pre><code>my $res = $ua-&gt;post($url,\n   Content =&gt; [\n      'frm-advSearch' =&gt; 'frmadvSearch',\n   ],\n);\n</code></pre>\n\n<p>which is short for</p>\n\n<pre><code>use HTTP::Request::Common qw( POST );\n\nmy $req = POST($url,\n   Content =&gt; [\n      'frm-advSearch' =&gt; 'frmadvSearch',\n   ],\n);\n\nmy $res = $ua-&gt;request($req);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529504549, "post_id": 50941606, "comment_id": 88898658, "body": "Re &quot;<i>which I find easier to debug</i>&quot;, <code>say $tx-&gt;req-&gt;to_string;</code> is not really easier than <code>say $req2-&gt;to_string;</code> or <code>say $tx-&gt;request-&gt;to_string;</code>"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529524746, "post_id": 50941606, "comment_id": 88909744, "body": "I find it easier. You may not."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529524988, "post_id": 50941606, "comment_id": 88909845, "body": "Oh I agree. Typing 4 fewer chars is easier."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1529476080, "creation_date": 1529476080, "answer_id": 50941606, "question_id": 50939798, "link": "https://stackoverflow.com/questions/50939798/perl-need-an-lwp-httprequest-post-code-that-actually-works/50941606#50941606", "title": "Perl: Need an LWP &amp; HTTP::Request POST code that actually works", "body": "<p>Here's a <a href=\"https://mojolicious.org/perldoc/Mojo/UserAgent\" rel=\"nofollow noreferrer\">Mojo::UserAgent</a> example, which I find easier to debug:</p>\n\n<pre><code>use Mojo::UserAgent;\nmy $ua = Mojo::UserAgent-&gt;new;\n$ua-&gt;transactor-&gt;name( 'Mozilla/5.0 (compatible; MSIE 6.0; Windows 98)' );\n\nmy $url = 'http://www.example.com/form/';\nmy $tx = $ua-&gt;post( $url, form =&gt; { 'frm-advSearch' =&gt; 'frmadvSearch' } );\nsay $tx-&gt;req-&gt;to_string;\n</code></pre>\n\n<p>The transaction in <code>$tx</code> knows about the request so I can look at that:</p>\n\n<pre><code>POST /form/ HTTP/1.1\nContent-Type: application/x-www-form-urlencoded\nUser-Agent: Mozilla/5.0 (compatible; MSIE 6.0; Windows 98)\nAccept-Encoding: gzip\nHost: www.example.com\nContent-Length: 26\n\nfrm-advSearch=frmadvSearch\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 9965023, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215903089791205/picture?type=large", "display_name": "Michelle Bradley", "link": "https://stackoverflow.com/users/9965023/michelle-bradley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 50939831, "answer_count": 2, "score": -1, "last_activity_date": 1529476080, "creation_date": 1529465667, "question_id": 50939798, "link": "https://stackoverflow.com/questions/50939798/perl-need-an-lwp-httprequest-post-code-that-actually-works", "title": "Perl: Need an LWP &amp; HTTP::Request POST code that actually works", "body": "<p>I have been scratching my head trying to get LWP and HTTP::Request to actually pass a POST parameter to a web server.  The web server can see the fact that the request was a POST transaction, but it is not picking up the passed parameters.  I have been searching all day on this and have tried different things and I have yet to find something that works.  (The web server is working, I am able to manually send post transactions and when running the whole script, I am getting '200' status but I am not seeing any posted elements.  Any help would be appreciated.  Tnx.</p>\n\n<pre><code>my $ua2 = LWP::UserAgent-&gt;new;\n$ua2-&gt;agent(\"Mozilla/5.0 (compatible; MSIE 6.0; Windows 98)\");\nmy $req2 = HTTP::Request-&gt;new(POST =&gt; \"$url\", [ frm-advSearch =&gt; 'frmadvSearch' ]);\n$req2-&gt;content_type('text/html');\nmy $res2 = $ua2-&gt;request($req2);\n$http_stat = substr($res2-&gt;status_line,0,3);\n</code></pre>\n"}, {"tags": ["perl", "docker", "cpan", "unixodbc", "cpanm"], "comments": [{"owner": {"reputation": 2047, "user_id": 1589074, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w6pws.jpg?s=128&g=1", "display_name": "Abhinav", "link": "https://stackoverflow.com/users/1589074/abhinav"}, "edited": false, "score": 0, "creation_date": 1529442661, "post_id": 50936429, "comment_id": 88872431, "body": "Can you share some sample code that we can run to reproduce this problem? Also, can you try changing the base image to <code>debian:wheezy</code>."}, {"owner": {"reputation": 3862, "user_id": 2663059, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/6a354b616773a9f9359212dd14f20ecf?s=128&d=identicon&r=PG", "display_name": "pelican", "link": "https://stackoverflow.com/users/2663059/pelican"}, "reply_to_user": {"reputation": 2047, "user_id": 1589074, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w6pws.jpg?s=128&g=1", "display_name": "Abhinav", "link": "https://stackoverflow.com/users/1589074/abhinav"}, "edited": false, "score": 0, "creation_date": 1529497501, "post_id": 50936429, "comment_id": 88893862, "body": "My base image is actually <i><code>perl:5.22</code></i> which when you drill down further ends up on <i><code>debian:stretch</code></i> so I can&#39;t change that since <i><code>perl:5.22</code></i> is a requirement for our app; but I could look for a different perl tag which would end up on <i><code>debian:wheezy</code></i> and experiment with that. Just curious, why did you suggest <i><code>debian:wheezy</code></i> over <i><code>debian:stretch</code></i>? Is that more stable? I&#39;ll see how share my dockerfile in a way that&#39;ll make sense"}, {"owner": {"reputation": 3862, "user_id": 2663059, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/6a354b616773a9f9359212dd14f20ecf?s=128&d=identicon&r=PG", "display_name": "pelican", "link": "https://stackoverflow.com/users/2663059/pelican"}, "reply_to_user": {"reputation": 2047, "user_id": 1589074, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w6pws.jpg?s=128&g=1", "display_name": "Abhinav", "link": "https://stackoverflow.com/users/1589074/abhinav"}, "edited": false, "score": 0, "creation_date": 1529498470, "post_id": 50936429, "comment_id": 88894531, "body": "Actually I just double checked and there&#39;s no wheezy base image for perl as of today. But i&#39;m still wondering if there&#39;s a benefit to using a wheezy base over the stretch base. Maybe I could build my own custom image if it&#39;s worth the effort"}], "owner": {"reputation": 3862, "user_id": 2663059, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/6a354b616773a9f9359212dd14f20ecf?s=128&d=identicon&r=PG", "display_name": "pelican", "link": "https://stackoverflow.com/users/2663059/pelican"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1529440021, "creation_date": 1529440021, "question_id": 50936429, "link": "https://stackoverflow.com/questions/50936429/perl-symbol-lookup-error-opt-microsoft-msodbcsql-lib64-libmsodbcsql-11-0-so-2", "title": "perl: symbol lookup error: /opt/microsoft/msodbcsql/lib64/libmsodbcsql-11.0.so.2270.0: undefined symbol: SSLeay", "body": "<p>I'm building a perl application inside of a docker container based on <em><code>perl:5.22 which is based on debian:stretch</code></em><br>\nI have used cpan to install a bunch of perl related packages.</p>\n\n<p>I get the following error when running an <em><code>odbc_test.pl script</code></em>. \nI haven't ran into that error before, the issue seems related to <em><code>libssl1.0.0 libssl-dev</code></em> which I found googling around but I'm not sure whether that's what's causing my issues.</p>\n\n<p>I get this error below:</p>\n\n<p><em><code>perl: symbol lookup error: /opt/microsoft/msodbcsql/lib64/libmsodbcsql-11.0.so.2270.0:  undefined symbol: SSLeay</code></em></p>\n\n<p>P.S I'm completly new to Perl, my job is to only package this app inside of a docker container so the inner workings of perl are somewhat obscure/blackbox to me. </p>\n\n<p>Has anyone ran into that error before? </p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "edited": false, "score": 0, "creation_date": 1529423553, "post_id": 50932095, "comment_id": 88863585, "body": "You might want to consider switching to passing array references and to @_ as choroba has suggested. Next time you may want to pass two arrays, and print them separately."}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 1, "last_activity_date": 1529422293, "creation_date": 1529422293, "answer_id": 50932095, "question_id": 50932010, "link": "https://stackoverflow.com/questions/50932010/problems-iterating-over-array/50932095#50932095", "title": "Problems iterating over array", "body": "<p>You need to pass the refenrece to array.</p>\n\n<pre><code>my @date_strings_array = (\"Jun 1, 2026\", \"Aug 26, 2018 GMT-05:00\", \"Aug 26, 2018\");\nprint_datetimes(\\@date_strings_array);\n\nsub print_datetimes {\n    my $date_string_array = shift;\n\n    foreach my $date_string (@$date_string_array) {\n       print \"The current iteration is $date_string.\\n\";  \n    }\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1529422478, "post_id": 50932133, "comment_id": 88863009, "body": "Wow - that&#39;s quite irritating.  This works - thanks! :)"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 1, "creation_date": 1529422834, "post_id": 50932133, "comment_id": 88863233, "body": "Irritating? I almost always use <code>my ($self, $whatever) = @_</code> instead of shifting @_."}, {"owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "edited": false, "score": 0, "creation_date": 1529423113, "post_id": 50932133, "comment_id": 88863373, "body": "I mean that your answer makes sense and is elegant.  But as a language feature, the syntactic differences between <code>shift</code> and <code>@_</code> are very dramatic.  It&#39;s very non-intuitive to me."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1529423951, "post_id": 50932133, "comment_id": 88863770, "body": "It&#39;s not &quot;differences between <code>shift</code> and <code>@_</code>&quot; as both versions deal with <code>@_</code> (<code>shift()</code> acts on <code>@_</code> if given no other argument). The difference is between <code>shift()</code> (which removes a single element from the start of an array) and list assignment (which copies all values from the list on the right hand side ot the operator into variables on the left hand side of the operator)."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1529424073, "post_id": 50932133, "comment_id": 88863840, "body": "You could, of course, do this without your <code>@date_string_array</code> variable. <code>foreach my $date_string (@_) { print ... }</code> or even just <code>print &quot;... $_&quot; for @_</code>"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1529422393, "creation_date": 1529422393, "answer_id": 50932133, "question_id": 50932010, "link": "https://stackoverflow.com/questions/50932010/problems-iterating-over-array/50932133#50932133", "title": "Problems iterating over array", "body": "<p><a href=\"http://p3rl.org/shift\" rel=\"nofollow noreferrer\">shift</a> only retrieves one element. You can assign the whole argument array, though:</p>\n\n<pre><code>my @date_string_array = @_;\nfor my $date_string (@date_string_array) {\n    ...\n</code></pre>\n"}], "owner": {"reputation": 4629, "user_id": 3474146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rb7ih.jpg?s=128&g=1", "display_name": "alex", "link": "https://stackoverflow.com/users/3474146/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 50932133, "answer_count": 2, "score": 0, "last_activity_date": 1529422393, "creation_date": 1529422079, "question_id": 50932010, "link": "https://stackoverflow.com/questions/50932010/problems-iterating-over-array", "title": "Problems iterating over array", "body": "<p>I tried writing a subroutine that iterates through a list of strings and prints each string, but it doesn't work:</p>\n\n<pre><code>use HTTP::Date;\n\nmy @date_strings_array = (\"Jun 1, 2026\", \"Aug 26, 2018 GMT-05:00\", \"Aug 26, 2018\");\nprint_datetimes(@date_strings_array);\n\nsub print_datetimes {\n    my @date_string_array = shift;\n\n    foreach $date_string (@date_string_array) {\n       print(\"The current iteration is $date_string.\");  \n    }\n }\n</code></pre>\n\n<p>It only prints the first iteration:</p>\n\n<pre><code>$ perl /example/test.pl\nThe current iteration is Jun 1, 2026.\n</code></pre>\n\n<p>Why does this only print the first item in the array?</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 547, "user_id": 8059407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/934f6ca1d34101080b991ef766e3a165?s=128&d=identicon&r=PG", "display_name": "itChi", "link": "https://stackoverflow.com/users/8059407/itchi"}, "edited": false, "score": 0, "creation_date": 1529418372, "post_id": 50930406, "comment_id": 88860530, "body": "Are you writing this file with another script? you can increment a variable with <code>((variable++))</code>"}, {"owner": {"reputation": 861, "user_id": 1651499, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/abe7235d2a5944f6656545de90ebe2c4?s=128&d=identicon&r=PG", "display_name": "rem", "link": "https://stackoverflow.com/users/1651499/rem"}, "reply_to_user": {"reputation": 547, "user_id": 8059407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/934f6ca1d34101080b991ef766e3a165?s=128&d=identicon&r=PG", "display_name": "itChi", "link": "https://stackoverflow.com/users/8059407/itchi"}, "edited": false, "score": 0, "creation_date": 1529420861, "post_id": 50930406, "comment_id": 88862104, "body": "Sure, but this file is handwritten!"}], "answers": [{"tags": [], "owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "is_accepted": false, "score": 1, "last_activity_date": 1529421955, "last_edit_date": 1529421955, "creation_date": 1529418504, "answer_id": 50930867, "question_id": 50930406, "link": "https://stackoverflow.com/questions/50930406/regexp-replacement-with-increment/50930867#50930867", "title": "regexp replacement with increment", "body": "<p>A perl one-liner:</p>\n\n<pre><code>perl -pe'BEGIN{$i=1} s/^##[ ]+Step[ ]*[0-9]*$/## Step $i/ and $i++;'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": true, "score": 3, "last_activity_date": 1529418582, "creation_date": 1529418582, "answer_id": 50930888, "question_id": 50930406, "link": "https://stackoverflow.com/questions/50930406/regexp-replacement-with-increment/50930888#50930888", "title": "regexp replacement with increment", "body": "<p>For a Perl solution, you have most of what the regex would look like in your question.</p>\n\n<pre><code>s/^##[ ]+Step[ ]*[0-9]*$/\"## Step \".(++$i)/e;\n</code></pre>\n\n<p>The /e modifier turns the replacement into an expression which is evaluated, so each time it matches, it'll increment <code>$i</code>.</p>\n\n<p>To use this you can pipe your text through this command</p>\n\n<pre><code>perl -pe 's/^##[ ]+Step[ ]*[0-9]*$/\"## Step \".(++$count)/e;' \n</code></pre>\n\n<p>The -p flag adds a <code>while</code> loop around the code executed</p>\n"}], "owner": {"reputation": 861, "user_id": 1651499, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/abe7235d2a5944f6656545de90ebe2c4?s=128&d=identicon&r=PG", "display_name": "rem", "link": "https://stackoverflow.com/users/1651499/rem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 50930888, "answer_count": 2, "score": 0, "last_activity_date": 1529421955, "creation_date": 1529417033, "question_id": 50930406, "link": "https://stackoverflow.com/questions/50930406/regexp-replacement-with-increment", "title": "regexp replacement with increment", "body": "<p>Using simple linux script (bash, perl, awk), from that text :</p>\n\n<pre><code>## Step\n### Action :  \n * press \n\n## Step 10\n\n## Step 1\n</code></pre>\n\n<p>I want to replace all occurences of <code>^##[ ]+Step[ ]*[0-9]*$</code> with <code>## Step $i</code>\nwith i the number of substitutions already done + 1</p>\n\n<pre><code>## Step 1\n### Action :  \n * press \n\n## Step 2\n\n## Step 3\n</code></pre>\n\n<p>In fact, I just need it to automatically add numbered heading to my markdown docs!</p>\n"}, {"tags": ["perl", "pointers", "memory", "reference", "hdl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1529414848, "post_id": 50929637, "comment_id": 88858098, "body": "Perl doesn&#39;t have <i>pointers</i> you are dealing with <i>references</i> here."}, {"owner": {"reputation": 115, "user_id": 8278183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f39893532f42c1a136ba2fd95a6739?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/8278183/akhil"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1529415182, "post_id": 50929637, "comment_id": 88858314, "body": "@simbabque, aren&#39;t perl <i>references</i> functionally almost identical to <i>pointers</i> in languages like C?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1529415403, "post_id": 50929637, "comment_id": 88858480, "body": "I don&#39;t understand enough C to answer that. They are similar, but not the same. However, for the actual question, I think you ought to explain what you are trying to achieve here."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1529416126, "post_id": 50929637, "comment_id": 88858987, "body": "I think it would be useful for us to know why you want to do this. I suspect you&#39;re asking us for help with an implementation detail when asking us for help with the approach to take would be more fruitful. I&#39;m not sure what you&#39;re doing, but I&#39;m pretty sure you&#39;re going about it the wrong way :-)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529435268, "post_id": 50929637, "comment_id": 88869335, "body": "Contrary to your implications, this doesn&#39;t work in C either. <a href=\"https://pastebin.com/bz6LuJav\" rel=\"nofollow noreferrer\">demo</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529436278, "post_id": 50929637, "comment_id": 88869754, "body": "Is it fair to say <a href=\"https://pastebin.com/sJJw88d2\" rel=\"nofollow noreferrer\">this program</a> correctly demonstrates the behaviour you want to achieve?"}, {"owner": {"reputation": 115, "user_id": 8278183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f39893532f42c1a136ba2fd95a6739?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/8278183/akhil"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529436398, "post_id": 50929637, "comment_id": 88869811, "body": "@ikegami The implementation in the question wouldn&#39;t work in any language (I don&#39;t think any language handles memory weirdly enough for this to work). The issue is with the algorithm, not the implementation. I added an answer that seems to have solved my problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529436607, "post_id": 50929637, "comment_id": 88869898, "body": "Could you answer the question in my second comment please? If you can confirm that&#39;s the spec, I can write a solution."}, {"owner": {"reputation": 115, "user_id": 8278183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f39893532f42c1a136ba2fd95a6739?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/8278183/akhil"}, "edited": false, "score": 0, "creation_date": 1529436773, "post_id": 50929637, "comment_id": 88869971, "body": "Sorry for the dumb question, but where&#39;s the <code>fuse</code> function defined in the link? The outputs are more or less what I want them to be. I&#39;m not really sure why all the outputs became <code>4</code> after the three fuses, but this shouldn&#39;t really be an issue."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529437170, "post_id": 50929637, "comment_id": 88870154, "body": "Re &quot;<i>I&#39;m not really sure why all the outputs became 4 after the three fuses</i>&quot;, Well, they&#39;re all fused, so they can only have one value, right? What value would you expect if not 4? (Note that I reversed the order of the arguments to the more normal <code>op(dst, src)</code> order.)"}, {"owner": {"reputation": 115, "user_id": 8278183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f39893532f42c1a136ba2fd95a6739?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/8278183/akhil"}, "edited": false, "score": 0, "creation_date": 1529437272, "post_id": 50929637, "comment_id": 88870203, "body": "Since we can set the value before reading the voltage, I would consider the program you posted <a href=\"https://pastebin.com/sJJw88d2\" rel=\"nofollow noreferrer\">here</a> correct."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529437377, "post_id": 50929637, "comment_id": 88870258, "body": "So you want to be able to set the values before or after fusing, and you want to be able to fuse any part of a fused set with any part of another fused set. This will requires backreferences like Perl&#39;s CoW mechanism uses."}, {"owner": {"reputation": 115, "user_id": 8278183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f39893532f42c1a136ba2fd95a6739?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/8278183/akhil"}, "edited": false, "score": 0, "creation_date": 1529437405, "post_id": 50929637, "comment_id": 88870274, "body": "Using <code>op(dst, src)</code>, shouldn&#39;t the value be 1 for <a href=\"https://pastebin.com/sJJw88d2\" rel=\"nofollow noreferrer\">this</a> code?"}, {"owner": {"reputation": 115, "user_id": 8278183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f39893532f42c1a136ba2fd95a6739?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/8278183/akhil"}, "edited": false, "score": 0, "creation_date": 1529437542, "post_id": 50929637, "comment_id": 88870348, "body": "I am fine with not being able to set the value before fusing. That is the reason I said <a href=\"https://pastebin.com/sJJw88d2\" rel=\"nofollow noreferrer\">this</a> code is fine."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529437549, "post_id": 50929637, "comment_id": 88870353, "body": "Re &quot;<i>shouldn&#39;t the value be 1 for this code?</i>&quot;, o2 and o1 become fused with value 1. o3 and o4 become fused with value 4. o3 (and o4) and o1 (and o2) become fused with value 1. Oops yes."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529437622, "post_id": 50929637, "comment_id": 88870380, "body": "Re &quot;<i>I am fine with not being able to set the value before fusing.</i>&quot;, That&#39;s &quot;free&quot;. The hard part is fusing with part of something already fused."}, {"owner": {"reputation": 115, "user_id": 8278183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f39893532f42c1a136ba2fd95a6739?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/8278183/akhil"}, "edited": false, "score": 0, "creation_date": 1529437817, "post_id": 50929637, "comment_id": 88870464, "body": "Re &quot;<i>This will requires backreferences like Perl&#39;s CoW mechanism uses</i>&quot;, I have no idea about this. It would be really helpful if you could explain this in an answer. (For solving this particular problem, the answer I wrote using the disjoint-set data structure seems to be working. Any solution using a different approach would also be useful.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529439278, "post_id": 50929637, "comment_id": 88871128, "body": "I will. I was working on it, but I gave to go for now. I&#39;ll also check your solution to make sure it actually works."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 8278183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f39893532f42c1a136ba2fd95a6739?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/8278183/akhil"}, "edited": false, "score": 0, "creation_date": 1529435968, "post_id": 50935368, "comment_id": 88869619, "body": "There is no funky pointer logic involved in this implementation. Of course, it would be much more usable if put inside an object with a constructor and all."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529440400, "post_id": 50935368, "comment_id": 88871599, "body": "<a href=\"https://pastebin.com/J1DdxDkY\" rel=\"nofollow noreferrer\">Confirmed to work</a>. Getting/setting the voltage is O(N) whereas a solution exists where it&#39;s O(1). This could make a huge difference it you often get/set the voltage."}, {"owner": {"reputation": 115, "user_id": 8278183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f39893532f42c1a136ba2fd95a6739?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/8278183/akhil"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529593086, "post_id": 50935368, "comment_id": 88939789, "body": "@ikegami Thanks for fixing the memory leak. But unfortunately, I&#39;m using perl 5.6.1 and Scalar::Util isn&#39;t installed on my system. I guess we have to do some <code>undef</code>s manually to prevent leaks on older versions such as this."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529593323, "post_id": 50935368, "comment_id": 88939963, "body": "It would make far more sense to just install the module. There&#39;s no reason it wouldn&#39;t install on Solaris"}], "tags": [], "owner": {"reputation": 115, "user_id": 8278183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f39893532f42c1a136ba2fd95a6739?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/8278183/akhil"}, "is_accepted": false, "score": 2, "last_activity_date": 1529615157, "last_edit_date": 1529615157, "creation_date": 1529435132, "answer_id": 50935368, "question_id": 50929637, "link": "https://stackoverflow.com/questions/50929637/whats-a-good-way-to-fuse-the-locations-pointed-to-by-different-pointers/50935368#50935368", "title": "What&#39;s a good way to &quot;fuse&quot; the locations pointed to by different pointers?", "body": "<p>I almost gave up before stumbling upon this marvelous thing called <a href=\"https://en.wikipedia.org/wiki/Disjoint-set_data_structure\" rel=\"nofollow noreferrer\">disjoint-set data structure</a> which seems to have been invented for solving this exact problem. The following is the code I used:</p>\n\n<pre><code>use Scalar::Util qw( weaken );\n\nmy $ref1 = {}; $ref1-&gt;{voltage} = 1; weaken( $ref1-&gt;{parent} = $ref1 );\nmy $ref2 = {}; $ref2-&gt;{voltage} = 2; weaken( $ref2-&gt;{parent} = $ref2 );\nmy $ref3 = {}; $ref3-&gt;{voltage} = 3; weaken( $ref3-&gt;{parent} = $ref3 );\nmy $ref4 = {}; $ref4-&gt;{voltage} = 4; weaken( $ref4-&gt;{parent} = $ref4 );\n\nprint \"@{[map(get_vol($_), ($ref1, $ref2, $ref3, $ref4))]}\\n\";\n# Above line print 1 2 3 4\n\nfuse($ref1, $ref2); # &lt;-- Second argument gets set to first\nprint \"@{[map(get_vol($_), ($ref1, $ref2, $ref3, $ref4))]}\\n\";\n# Above line print 1 1 3 4\n\nfuse($ref4, $ref3);\nset_vol($ref3, 5);\nprint \"@{[map(get_vol($_), ($ref1, $ref2, $ref3, $ref4))]}\\n\";\n# Above line print 1 1 5 5\n\nfuse($ref2, $ref3);\nset_vol($ref3, 7);\nprint \"@{[map(get_vol($_), ($ref1, $ref2, $ref3, $ref4))]}\\n\";\n# Above line print 7 7 7 7\n\n\nsub fuse\n{\n    my ($node1, $node2) = ($_[0], $_[1]);\n    $node2 = $node2-&gt;{parent} while ($node2-&gt;{parent} != $node2);\n    $node2-&gt;{parent} = $node1;\n}\n\nsub get_vol\n{\n    my $node = shift;\n    $node = $node-&gt;{parent} while ($node != $node-&gt;{parent});\n    return $node-&gt;{voltage};\n}\n\nsub set_vol\n{\n    my $node = shift;\n    $node = $node-&gt;{parent} while ($node != $node-&gt;{parent});\n    $node-&gt;{voltage} = shift;\n}\n</code></pre>\n\n<p>After this, setting any of the <code>$ref</code>s using <code>set_vol</code> will reflect in the <code>get_vol</code> output of all the other <code>$ref</code>s.</p>\n\n<p>Apparently, we can add other optimizations in reading and setting the voltage so that we don't have to traverse the entire tree when reading or writing for some nodes.</p>\n\n<hr>\n\n<p><strong>Update</strong>: The following uses the simple principle as above, but avoids memory leaks without using <code>weaken</code>, and it optimizes the voltage lookups (so that only the first lookup after a fuse is \"slow\").</p>\n\n<pre><code>package Wire;\n\nuse strict;\nuse warnings qw( all );\n\nsub new {\n   my ($class, %args) = @_;\n   my $voltage = $args{voltage} // 0;\n   my $self = bless({}, $class);\n   $self-&gt;{voltage_indirect_chain} = { next =&gt; undef, value =&gt; $voltage };\n   return $self;\n}\n\nsub _tail {\n   my ($self) = @_;\n   $self-&gt;{voltage_indirect_chain} = $self-&gt;{voltage_indirect_chain}{next}\n      while $self-&gt;{voltage_indirect_chain}{next};\n\n   return $self-&gt;{voltage_indirect_chain};\n}\n\nsub get_voltage { $_[0]-&gt;_tail()-&gt;{value} }\nsub set_voltage { $_[0]-&gt;_tail()-&gt;{value} = $_[1]; }\n\nsub fuse {\n   my ($self, $new) = @_;\n   my $tail = $self-&gt;_tail();\n   delete $tail-&gt;{value};\n   $tail-&gt;{next} = $new-&gt;_tail();\n}\n\n1;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529488288, "post_id": 50938484, "comment_id": 88887888, "body": "@ikegami Updated, and kept the class data.  Thank you for comments."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1530955704, "last_edit_date": 1530955704, "creation_date": 1529453326, "answer_id": 50938484, "question_id": 50929637, "link": "https://stackoverflow.com/questions/50929637/whats-a-good-way-to-fuse-the-locations-pointed-to-by-different-pointers/50938484#50938484", "title": "What&#39;s a good way to &quot;fuse&quot; the locations pointed to by different pointers?", "body": "<p>This basic implementation relies on a class attribute, with all disjoint groups of \"fused\" nodes, keyed by their values. They are updated and merged as needed with each fusing.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\nuse FindBin qw($RealBin);\nuse lib $RealBin;         # to load from ./\n#use Data::Dump qw(dd);\n\nuse Nodes;\n\nmy $n1 = Nodes-&gt;new(volt =&gt; 10);\nmy $n2 = Nodes-&gt;new(volt =&gt; 20);\nmy $n3 = Nodes-&gt;new(volt =&gt; 30);\nmy $n4 = Nodes-&gt;new(volt =&gt; 40);\n\nsay \"\\nFuse n1 with (set to) n3:\";\n$n1-&gt;fuse_with($n3);  # n1 is now at same voltage as n3\nsay \"\\tvoltage for node \", $_-&gt;label, \" is: \", $_-&gt;volt\n    for ($n1, $n2, $n3, $n4);\n\nsay \"\\nFuse n4 with (set to) n2:\";\n$n4-&gt;fuse_with($n2);  # n4 is now same as n2\nsay \"\\tvoltage for node \", $_-&gt;label, \" is: \", $_-&gt;volt\n    for ($n1, $n2, $n3, $n4);\n\nsay \"\\nFuse n1 with (set to) n4:\";\n$n1-&gt;fuse_with($n4);  # n1 is now same as n4, and so are n2 and n3\nsay \"\\tvoltage for node \", $_-&gt;label, \" is: \", $_-&gt;volt\n    for ($n1, $n2, $n3, $n4);\n\n# dd \\%Nodes::Fused;\n</code></pre>\n\n<p><strong>Nodes.pm</strong></p>\n\n<pre><code>package Nodes;\n\nuse warnings;\nuse strict;\nuse feature 'say';    \n#use Data::Dump qw(dd);\n\nour $Label = 0;\nour %Fused;   # disjoint groups ( value =&gt; { label =&gt; node, ... }, ... )\n\nsub new {\n    my ($class, %args) = @_;\n    my $self = { _volt =&gt; $args{volt}, _label =&gt; ++$Label };  \n    say \"New node: volt = \", $self-&gt;{_volt}, \", label = \", $self-&gt;{_label};\n    $Fused{$self-&gt;{_volt}} = { $self-&gt;{_label} =&gt; $self };\n    return bless $self, $class;\n}\n\nsub volt {\n    my ($self, $val) = @_; \n    $self-&gt;{_volt} = $val if $val;\n    return $self-&gt;{_volt};\n}\n\nsub label { return $_[0]-&gt;{_label} }\n\nsub fuse_with {\n    my ($self, $node) = @_; \n    # Retrieve groups that have $self or $node\n    my %groups = map { \n        ( exists $Fused{$_}-&gt;{$self-&gt;{_label}} or\n          exists $Fused{$_}-&gt;{$node-&gt;label} )\n            ? ($_ =&gt; $Fused{$_}) : ()  \n    } keys %Fused;\n    # Add these nodes if they are in no groups, or\n    # Remove %groups from %Fused, fuse them into new one, update voltage\n    if (not keys %groups) {\n        $Fused{$node-&gt;volt}-&gt;{$_-&gt;label} = $_  for ($self, $node);\n        $self-&gt;{_volt} = $node-&gt;volt;\n    }   \n    else {\n        delete $Fused{$_} for keys %groups;\n        $Fused{$node-&gt;volt} = { map { %{$groups{$_}} } keys %groups };\n        $Fused{$node-&gt;volt}-&gt;{$node-&gt;label}    //= $node;  #/\n        $Fused{$node-&gt;volt}-&gt;{$self-&gt;{_label}} //= $self;  #/\n        $Fused{$node-&gt;volt}-&gt;{$_}-&gt;{_volt} = $node-&gt;volt  \n            for keys %{$Fused{$node-&gt;volt}};\n    }\n    # dd \\%Fused;\n}   \n\nsub cleanup {\n    my ($self, $voltage) = @_;\n    if ($voltage) {  # new voltage (and label) for the fused group\n        $Fused{$voltage} = $Fused{$self-&gt;{_volt}};\n        delete $Fused{$self-&gt;{_volt}};\n        $Fused{$voltage}-&gt;{$_}-&gt;{_volt} = $voltage\n            for keys %{$Fused{$voltage}};\n    }\n    $self-&gt;DESTROY;\n}\n\n# Must be called manually, via cleanup(), when object leaves scope\nsub DESTROY {\n    my ($self) = @_;\n    return if ${^GLOBAL_PHASE} eq 'DESTRUCT';\n    delete $Fused{$_}-&gt;{$self-&gt;{_label}}  for keys %Fused;\n}       \n\nreturn 1;\n</code></pre>\n\n<p>This prints</p>\n\n<pre>\nNew node: volt = 10, label = 1\nNew node: volt = 20, label = 2\nNew node: volt = 30, label = 3\nNew node: volt = 40, label = 4\n\nFuse n1 with (set to) n3:\n        voltage for node 1 is: 30\n        voltage for node 2 is: 20\n        voltage for node 3 is: 30\n        voltage for node 4 is: 40\n\nFuse n4 with (set to) n2:\n        voltage for node 1 is: 30\n        voltage for node 2 is: 20\n        voltage for node 3 is: 30\n        voltage for node 4 is: 20\n\nFuse n1 with (set to) n4:\n        voltage for node 1 is: 20\n        voltage for node 2 is: 20\n        voltage for node 3 is: 20\n        voltage for node 4 is: 20\n</pre>\n\n<p>Uncomment (and add) prints of <code>%Nodes::Fused</code> to see how \"fused\" groups are kept track of.</p>\n\n<p>This approach comes with the following demand: If an object is to be destroyed (going out of scope) the destructor need be called explicitly. There is <code>cleanup()</code> method provided for that</p>\n\n<pre><code>{ # lexical will go out of scope while the object is in fused groups\n    my $n5 = Node-&gt;new(volt =&gt; 500);\n    $n2-&gt;fuse_with($n5);\n    $n5-&gt;cleanup(25);    # with new voltage for the group (optional)\n}\n</code></pre>\n\n<p>The reason is precisely the convenient class attribute, which keeps references to objects so the destructor isn't called automatically.</p>\n\n<p>The alternative is to have the \"fused\" lists in each object. This gets expensive if there are many nodes and fusing is often since each object must rework the whole list, <em>O(N<sup>2</sup>)</em>. This is a possible scenario in modeling a circuit and for that reason I kept the class attribute.</p>\n\n<p>A few more comments</p>\n\n<ul>\n<li><p>This does what it needs to but it has missing bits and pieces</p></li>\n<li><p>It relies on a class attribute, what isn't the cleanest design if it is involved. It entangles objects, creating a global entity, what is in principle against independence of objects</p></li>\n<li><p>Some basic methods are missing, in particular to \"unfuse\" a node and to independently set a new value (and update all fused nodes if needed)</p></li>\n<li><p>Needs checks. Needs some low level optimizations</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1529612732, "last_edit_date": 1529612732, "creation_date": 1529467839, "answer_id": 50940098, "question_id": 50929637, "link": "https://stackoverflow.com/questions/50929637/whats-a-good-way-to-fuse-the-locations-pointed-to-by-different-pointers/50940098#50940098", "title": "What&#39;s a good way to &quot;fuse&quot; the locations pointed to by different pointers?", "body": "<p>I believe </p>\n\n<ul>\n<li>You want to be able to fuse any part of a fused set with any part of another fused set. </li>\n<li>You want to be able to set the values such that every part of the fused set is updated.</li>\n</ul>\n\n<p>Which means the following program defines the expected behaviour:</p>\n\n<pre><code>use strict;\nuse warnings qw( all );\nuse feature qw( say );\nuse FindBin qw( $RealBin );\nuse lib $RealBin;\n\nuse Wire qw( );\n\nmy $o1 = Wire-&gt;new( voltage =&gt; 1 );\nmy $o2 = Wire-&gt;new( voltage =&gt; 2 );\nmy $o3 = Wire-&gt;new( voltage =&gt; 3 );\nmy $o4 = Wire-&gt;new( voltage =&gt; 4 );\nsay join \" \", map $_-&gt;get_voltage(), $o1, $o2, $o3, $o4;  # 1 2 3 4\n\n$o2-&gt;fuse($o1);\n$o3-&gt;fuse($o4);\n$o1-&gt;fuse($o3);\nsay join \" \", map $_-&gt;get_voltage(), $o1, $o2, $o3, $o4;  # 4 4 4 4\n\n$o1-&gt;set_voltage(5);\nsay join \" \", map $_-&gt;get_voltage(), $o1, $o2, $o3, $o4;  # 5 5 5 5\n\n$o3-&gt;set_voltage(6);\nsay join \" \", map $_-&gt;get_voltage(), $o1, $o2, $o3, $o4;  # 6 6 6 6\n</code></pre>\n\n<p>This class achieves that:</p>\n\n<pre><code>package Wire;\n\nuse strict;\nuse warnings qw( all );\n\nsub new {\n   my ($class, %args) = @_;\n   my $voltage = $args{voltage} // 0;\n   my $self = bless({}, $class);\n   $self-&gt;{shared_voltage} = { value =&gt; $voltage, backrefs =&gt; [] };\n   push @{ $self-&gt;{shared_voltage}{backrefs} }, \\( $self-&gt;{shared_voltage} );\n   return $self;\n}\n\nsub get_voltage { $_[0]{shared_voltage}{value} }\nsub set_voltage { $_[0]{shared_voltage}{value} = $_[1]; }\n\nsub fuse {\n   my ($self, $new) = @_;\n   my $old_sv = $self-&gt;{shared_voltage};  my $old_sv_br = $old_sv-&gt;{backrefs};\n   my $new_sv = $new-&gt;{shared_voltage};   my $new_sv_br = $new_sv-&gt;{backrefs};\n   for my $backref (@$old_sv_br) {\n      $$backref = $new_sv;\n      push @$new_sv_br, $backref;\n   }\n}\n\nsub DESTROY {\n   my ($self) = @_;\n   @{ $self-&gt;{shared_voltage}{backrefs} } =\n      grep { $_ != \\( $self-&gt;{shared_voltage} ) }\n         @{ $self-&gt;{shared_voltage}{backrefs} };\n}\n\n1;\n</code></pre>\n\n<p>The result is achieved by storing a list of of references to the fused nodes alongside the shared value. This is the same approach used by Copy-on-Write strings in Perl. The fused structure looks like this:</p>\n\n<pre><code>+-$o1--+             +-Wire----------------+\n| Ref --------------&gt;| +-shared_voltage--+ |               +-anon hash------+\n+------+   +----------&gt;| Reference      ------------------&gt;| +-value------+ |\n           |         | +-----------------+ |   / / /       | | 4          | |\n           |         +---------------------+   | | |       | +-backrefs---+ |\n           |                                   | | |       | | Reference -------+\n           |                                   | | |       | +------------+ |   |\n+-$o2--+   |         +-Wire----------------+   | | |       +----------------+   |\n| Ref -----(--------&gt;| +-shared_voltage--+ |   | | |                            |\n+------+   | +--------&gt;| Reference      -------+ | |   +------------------------+\n           | |       | +-----------------+ |     | |   |\n           | |       +---------------------+     | |   |   +-anon array-----+\n           | |                                   | |   +--&gt;| +-0----------+ |\n           | |                                   | |       | | Reference -------------+\n+-$o3--+   | |       +-Wire----------------+     | |       | +-1----------+ |         |\n| Ref -----(-(------&gt;| +-shared_voltage--+ |     | |       | | Reference -----------+ |\n+------+   | | +------&gt;| Reference      ---------+ |       | +-2----------+ |       | |\n           | | |     | +-----------------+ |       |       | | Reference ---------+ | |\n           | | |     +---------------------+       |       | +-3----------+ |     | | |\n           | | |                                   |       | | Reference -------+ | | |\n           | | |                                   |       | +------------+ |   | | | |\n+-$o4--+   | | |     +-Wire----------------+       |       +----------------+   | | | |\n| Ref -----(-(-(----&gt;| +-shared_voltage--+ |       |                            | | | |\n+------+   | | | +----&gt;| Reference      -----------+                            | | | |\n           | | | |   | +-----------------+ |                                    | | | |\n           | | | |   +---------------------+                                    | | | |\n           | | | |                                                              | | | |\n           | | | |                                                              | | | |\n           | | | +--------------------------------------------------------------+ | | |\n           | | +------------------------------------------------------------------+ | |\n           | +----------------------------------------------------------------------+ |\n           +--------------------------------------------------------------------------+\n</code></pre>\n\n<p>(The order of the backrefs is not accurately represented.)</p>\n\n<p>I think you'll find this much faster in practice than <a href=\"https://stackoverflow.com/a/50935368/589924\">your solution</a>. Like in yours, fusing is O(N). However, getting and setting the voltage is O(1) instead of O(N). And while object destruction is O(N) instead of O(1) in mine, it could be made O(1) by using a hash instead of an array for the backrefs. That said. It's probably practically faster as an array. This is what Perl does for CoW strings.  N is the size of the fusing (4 in our test case).</p>\n"}], "owner": {"reputation": 115, "user_id": 8278183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f39893532f42c1a136ba2fd95a6739?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/8278183/akhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 50940098, "answer_count": 3, "score": 2, "last_activity_date": 1550610283, "creation_date": 1529414679, "last_edit_date": 1529417040, "question_id": 50929637, "link": "https://stackoverflow.com/questions/50929637/whats-a-good-way-to-fuse-the-locations-pointed-to-by-different-pointers", "title": "What&#39;s a good way to &quot;fuse&quot; the locations pointed to by different pointers?", "body": "<p>I have many pointers pointing to different (or same) locations in memory. I want to implement a mechanism that allows us to \"fuse\" the locations pointed to by a given subset of the pointers.</p>\n\n<p>I am using perl 5.6.1 right now, but I am open to implementations in other languages. I came up with the following dumb implementation in perl:</p>\n\n<pre><code>my $ref1 = \\1;\nmy $ref2 = \\2;\nprint \"${$ref1} : ${$ref2}\\n\"; # &lt;-- prints 1 : 2\n\nfuse(\\$ref1, \\$ref2);          # &lt;-- Make $ref2 point to same location as $ref1\nprint \"${$ref1} : ${$ref2}\\n\"; # &lt;-- prints 1 : 1 (which is correct)\n\nsub fuse\n{\n    ${$_[1]} = ${$_[0]}; \n}\n</code></pre>\n\n<p>But this doesn't work as expected when we have to fuse more than once:</p>\n\n<pre><code>my $ref1 = \\1;\nmy $ref2 = \\2;\nmy $ref3 = \\3;\nprint \"${$ref1} : ${$ref2} : ${$ref3}\\n\"; # &lt;-- prints 1 : 2 : 3\n\nfuse(\\$ref1, \\$ref2);                     # &lt;-- Make $ref2 point to same location as $ref1\nprint \"${$ref1} : ${$ref2} : ${$ref3}\\n\"; # &lt;-- prints 1 : 1 : 3 (which is correct)\n\nfuse(\\$ref3, \\$ref1);                     # &lt;-- Make $ref1 point to same location as $ref3\nprint \"${$ref1} : ${$ref2} : ${$ref3}\\n\"; # &lt;-- prints 3 : 1 : 3 ($ref2 is useless now)\n\nsub fuse\n{\n    ${$_[1]} = ${$_[0]}; \n}\n</code></pre>\n\n<p>In the above example, I want all the three variables <code>$ref1</code>, <code>$ref2</code>, and <code>$ref3</code> to finally point to a location which contains <code>3</code>.</p>\n\n<p>Is there a good way to accomplish this \"fusing\" without manually re-assigning every pointer whose referent we want to change?</p>\n\n<p><strong>Context:</strong><br>\nI am trying to simulate a circuit (which has wires). When two nodes are connected by a wire, one of the attributes of both the nodes (let's say voltage) becomes the same. When one of these nodes is connected to a third node (with a wire), the voltages at all the three nodes become the same irrespective of what values they had previously and continues to remain same as long as the connection exists.</p>\n\n<p>My attempts at googling how HDLs implement wires failed (I probably didn't know what to google).</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 2, "creation_date": 1529413272, "post_id": 50929049, "comment_id": 88857046, "body": "<a href=\"http://perldoc.perl.org/perlop.html#Comma-Operator\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#Comma-Operator</a>"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1529413335, "creation_date": 1529413335, "answer_id": 50929162, "question_id": 50929049, "link": "https://stackoverflow.com/questions/50929049/syntax-for-do-something-if-condition/50929162#50929162", "title": "syntax for &quot;do something&quot; if &quot;condition&quot;", "body": "<blockquote>\n  <p>Is this behavior specific to using the if statement in this way, or does it work due to some other feature of Perl? </p>\n</blockquote>\n\n<p><strong>No</strong>, this is not specific to the post-fix <code>if</code>. In fact, every statement can be a list of several things. Sometimes that makes sense, and sometimes it doesn't.</p>\n\n<pre><code>print 1, 2;\nprint(1, 2);\nprint( (1, 2) );\nprint( ( (1), (2) ) );\n</code></pre>\n\n<p>These are all equal, because lists will be flattened in Perl. The same way, you can have function calls there.</p>\n\n<pre><code>foo(), bar();\n( foo(), bar() );\n</code></pre>\n\n<p>The associativity will not always be as clear as here, so it makes sense to use parenthesis in certain cases.</p>\n\n<p>However, if you want a post-fix <code>if</code> and a block, you should use a block. You answered your own question in the title, really. Use the <code>do</code> language construct.</p>\n\n<pre><code>do {\n    foo();\n    bar();\n} if $condition;\n</code></pre>\n\n<p>Of course, if you do that, you can just as well use a proper <code>if</code> block.</p>\n"}], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 50929162, "answer_count": 1, "score": 3, "last_activity_date": 1529413335, "creation_date": 1529413030, "last_edit_date": 1529413122, "question_id": 50929049, "link": "https://stackoverflow.com/questions/50929049/syntax-for-do-something-if-condition", "title": "syntax for &quot;do something&quot; if &quot;condition&quot;", "body": "<p>For as long as i have been using Perl I have been aware of three ways to use <code>if</code>.</p>\n\n<pre><code>if(condition){\n  \"do this\";\n  \"do that\";\n}\n</code></pre>\n\n\n\n<pre><code>\"do this\" if condition; \n</code></pre>\n\n\n\n<pre><code>condition ? \"do this\" : \"or this\";\n</code></pre>\n\n<p>However I thought the last two could only be used if you only had a single command to be performed. However recently I learned that when using the second option you can do more than one command by separating them with a comma. </p>\n\n<pre><code>perl -e '$count++, $var=\"Hello\" if 4 &lt; 5; print \"COUNT: $count, VAR: $var\\n\"'\nCOUNT: 1, VAR: Hello\n</code></pre>\n\n<p>I realise the use cases are limited for this but it sparked my interest. I was trying to look through the perldoc to find the syntax that documents this behavior but couldn't see anything explaining that multiple commands can be used if separated by comma. </p>\n\n<p>Is this behavior specific to using the if statement in this way, or does it work due to some other feature of Perl? if someone can point me to any documentation on the behavior that would be great.</p>\n"}, {"tags": ["arrays", "perl", "hashtable"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1529411379, "post_id": 50928147, "comment_id": 88855736, "body": "You seem to be misunderstanding some data structure basics. I suggest you read <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perldsc.html</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1529412289, "post_id": 50928147, "comment_id": 88856352, "body": "<i>&quot;an entry in a hash that it is already storing an array&quot;</i> I don&#39;t understand this part of your question. Your <code>%ConfigurationHash</code> is initially empty."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1529411970, "post_id": 50928491, "comment_id": 88856121, "body": "<i>&quot;you&#39;ll find it only contains the last element of <code>@Values1Array</code>&quot;</i> This is completely wrong. An array is not the same thing as a list. Arrays return their <i>length</i> in scalar context, and the hash element will be set to 2 in this case."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1529412437, "post_id": 50928491, "comment_id": 88856449, "body": "@Borodin ah, thanks for pointing that out - didn&#39;t spot that as the array I was testing with had numbers in it"}], "tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": false, "score": 2, "last_activity_date": 1529412309, "last_edit_date": 1529412309, "creation_date": 1529411374, "answer_id": 50928491, "question_id": 50928147, "link": "https://stackoverflow.com/questions/50928147/add-an-array-to-a-hash-entry-that-is-already-storing-an-array/50928491#50928491", "title": "Add an array to a hash entry that is already storing an array", "body": "<p>This line isn't doing what you think it does.</p>\n\n<pre><code>$ConfigurationHash{$Variable1} = @Values1Array;\n</code></pre>\n\n<p>If you printed out what <code>$ConfigurationHash{$Variable1}</code> contains you'll find it only contains the size of <code>@Values1Array</code>.</p>\n\n<p>You should be fine to use <code>push</code> but with a slight modification to what you've written. </p>\n\n<pre><code>push @{$ConfigurationHash{$Variable1}}, @Values1Array;\n</code></pre>\n\n<p>I've also removed the brackets as you don't need them.</p>\n\n<p>As for iterating over the array, it is no different to iterating over a regular array. You were likely having problems iterating over it before as you didn't have an array</p>\n\n<pre><code>foreach my $whatever (@{$ConfigurationHash{$Variable1}})\n  {\n  # Code\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1529411802, "creation_date": 1529411802, "answer_id": 50928646, "question_id": 50928147, "link": "https://stackoverflow.com/questions/50928147/add-an-array-to-a-hash-entry-that-is-already-storing-an-array/50928646#50928646", "title": "Add an array to a hash entry that is already storing an array", "body": "<p>It's unclear why you have <code>$String2</code> and its derivatives in your code as they are never used. This code processes both strings</p>\n\n<p>You simply need to <code>push</code> the list of values to the array corresponding to <code>$Variable1</code> (dreadful choice of identifier) in the hash. Accomplish this by <em>dereferencing</em> the array element</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %config;\n\nmy $s1 = 'Editor=John,Mary';\nmy $s2 = 'Editor=Jane,Peter';\n\nfor ( $s1, $s2 ) {\n    my ($key, @values) = split /[=,]/;\n    push @{ $config{$key} }, @values;\n}\n\nuse Data::Dumper;\nprint Dumper \\%config;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>$VAR1 = {\n          'Editor' =&gt; [\n                        'John',\n                        'Mary',\n                        'Jane',\n                        'Peter'\n                      ]\n        };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 1835143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vojDe.png?s=128&g=1", "display_name": "Luis A.", "link": "https://stackoverflow.com/users/1835143/luis-a"}, "is_accepted": true, "score": 1, "last_activity_date": 1529478095, "creation_date": 1529478095, "answer_id": 50942145, "question_id": 50928147, "link": "https://stackoverflow.com/questions/50928147/add-an-array-to-a-hash-entry-that-is-already-storing-an-array/50942145#50942145", "title": "Add an array to a hash entry that is already storing an array", "body": "<p>Thank you to all who posted answers. @Borodin, you're right, I missed a second block that used <code>$String2</code> and its derivatives, but I think it was obvious it was at the end and was similar to the if-else block in my original code.</p>\n\n<p>Thank you, @chris-turner, for giving me the hint on how to use <code>push</code> the right way and pointing out the error in the <code>$ConfigurationHash{$Variable1} = @Values1Array;</code></p>\n\n<p>With all these contributions I figured out that the right code I was expecting is:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %ConfigurationHash;\n\nmy $String1 = \"Editor=John,Mary\";\nmy $String2 = \"Editor=Jane,Peter\";\n\nmy @Line1 = split (\"=\", $String1);\nmy @Line2 = split (\"=\", $String2);\n\nmy $Variable1 = $Line1[0];\nmy $Value1    = $Line1[1];\n\nmy $Variable2 = $Line2[0];\nmy $Value2    = $Line2[1];\n\nmy @Values1Array = split(\",\", $Value1);\nmy @Values2Array = split(\",\", $Value2);\n\nif ( ! exists $ConfigurationHash{$Variable1} ) {\n    $ConfigurationHash{$Variable1} = \\@Values1Array;\n}\nelse {\n    #push (@ConfigurationHash{$Variable1}, @Values1Array);\n    push @{$ConfigurationHash{$Variable1}}, @Values1Array;\n}\n\nif ( ! exists $ConfigurationHash{$Variable2} ) {\n    $ConfigurationHash{$Variable2} = \\@Values2Array;\n}\nelse {\n    #push (@ConfigurationHash{$Variable2}, @Values2Array);\n    push @{$ConfigurationHash{$Variable2}}, @Values2Array;\n}\n\nuse Data::Dumper;\nprint Dumper \\%ConfigurationHash;\n</code></pre>\n\n<p>Which outputs the following:</p>\n\n<pre><code>$VAR1 = {\n          'Editor' =&gt; [\n                        'John',\n                        'Mary',\n                        'Jane',\n                        'Peter'\n                      ]\n        };\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 1835143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vojDe.png?s=128&g=1", "display_name": "Luis A.", "link": "https://stackoverflow.com/users/1835143/luis-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 50942145, "answer_count": 3, "score": 0, "last_activity_date": 1529478095, "creation_date": 1529410338, "last_edit_date": 1529411273, "question_id": 50928147, "link": "https://stackoverflow.com/questions/50928147/add-an-array-to-a-hash-entry-that-is-already-storing-an-array", "title": "Add an array to a hash entry that is already storing an array", "body": "<p>I need to evaluate a series of strings that I want to convert into a hash of arrays. Take into account that, in this case, I want to add an array to an entry in a hash that it is already storing an array. I need to get the following hash:</p>\n\n<pre><code>ConfigurationHash{'Editor'} = (John, Mary, Jane, Peter)\n</code></pre>\n\n<p>I have stripped down my code to this example:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %ConfigurationHash;\n\nmy $String1 = \"Editor=John,Mary\";\nmy $String2 = \"Editor=Jane,Peter\";\n\nmy @Line1 = split (\"=\", $String1);\nmy @Line2 = split (\"=\", $String2);\n\nmy $Variable1 = @Line1[0];\nmy $Value1    = @Line1[1];\n\nmy $Variable2 = @Line2[0];\nmy $Value2    = @Line2[1];\n\nmy @Values1Array = split(\",\", $Value1);\nmy @Values2Array = split(\",\", $Value2);\n\nif ( ! exists $ConfigurationHash{$Variable1} ) {\n    $ConfigurationHash{$Variable1} = @Values1Array;\n}\nelse {\n    push (@ConfigurationHash{$Variable1}, @Values1Array);\n}\n</code></pre>\n\n<p>which produces the following error:</p>\n\n<blockquote>\n  <p>Experimental push on scalar is now forbidden at ./test.pl line 25, near \"@Values1Array)\"\n  Execution of ./test.pl aborted due to compilation errors.</p>\n</blockquote>\n\n<p>I know that the problem lies in references/dereferences, but my knowledge of perl is so basic that I'm not able to figure how to get there by myself.</p>\n\n<p>Could anybody show me how to do it? I would also appreciate if you could show me how to iterate the values of the array in the hash once it is created.</p>\n"}, {"tags": ["bash", "perl", "ghostscript"], "answers": [{"comments": [{"owner": {"reputation": 27865, "user_id": 701996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hx9ep.jpg?s=128&g=1", "display_name": "KenS", "link": "https://stackoverflow.com/users/701996/kens"}, "edited": false, "score": 0, "creation_date": 1529423823, "post_id": 50927201, "comment_id": 88863721, "body": "Actually, I&#39;d disagree with these being &#39;best practice&#39;. -dSAFER has nothing to do with file output, it prevents PostScript programs from accessing most of the filesystem. Fundamentally this is used to prevent programs creating or delteing files. -dNOPAUSE simply means &#39;don&#39;t pause between pages&#39;, and -dBATCH means &#39;exit when complete&#39; instead of returning to the interactive prompt."}, {"owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "edited": false, "score": 0, "creation_date": 1529428164, "post_id": 50927201, "comment_id": 88865789, "body": "I tried adding <code>-dSAFER -dBATCH -dNOPAUSE</code>, still getting the same error. Any other ideas?"}, {"owner": {"reputation": 331, "user_id": 1652584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f802a36458b99b70ffeb09a788bfe58d?s=128&d=identicon&r=PG", "display_name": "cmevoli", "link": "https://stackoverflow.com/users/1652584/cmevoli"}, "edited": false, "score": 0, "creation_date": 1529492412, "post_id": 50927201, "comment_id": 88890500, "body": "I&#39;m not sure why that is happening to you.  Only the devices that start with x11 should require an X-server.  What are you redirecting into the gs command?  Could it be the application that you are redirecting thats requiring the display?  Try passing an image name instead of - to attempt to rule out ghostscript."}], "tags": [], "owner": {"reputation": 331, "user_id": 1652584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f802a36458b99b70ffeb09a788bfe58d?s=128&d=identicon&r=PG", "display_name": "cmevoli", "link": "https://stackoverflow.com/users/1652584/cmevoli"}, "is_accepted": false, "score": 1, "last_activity_date": 1529407341, "creation_date": 1529407341, "answer_id": 50927201, "question_id": 50927011, "link": "https://stackoverflow.com/questions/50927011/linux-unable-to-open-x-server/50927201#50927201", "title": "Linux unable to open X server", "body": "<p>Try adding <code>-dSAFER -dBATCH -dNOPAUSE</code> to the options.  These are standard best-practice flags to use when outputting to file.</p>\n"}], "owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1434, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1529407341, "creation_date": 1529406706, "question_id": 50927011, "link": "https://stackoverflow.com/questions/50927011/linux-unable-to-open-x-server", "title": "Linux unable to open X server", "body": "<p>I am creating some images using the following script.  The script runs and creates the file. However I am getting an error. If I ssh into the server using the -Y it I do not receive the error.</p>\n\n<pre><code>gs -sDEVICE=pngalpha -sOutputFile=/home/pi/my_image.png -q -r200 -g200x100 -\ndisplay: unable to open X server `' @ error/display.c/DisplayImageCommand/426\n</code></pre>\n\n<p>I am using perl and I did set the <code>EVN{DISPLAY}'\"0.0\"</code> still errors. However I actually don't want to display the file.  Only create them and store the file in the <code>/home/pi/</code> directory.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 4, "creation_date": 1529405061, "post_id": 50926388, "comment_id": 88851961, "body": "Try this <code>&#47;^\\$ABC\\d[^2\\D]$&#47;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1529408325, "post_id": 50926388, "comment_id": 88853868, "body": "I imagine that you have fabricated this data as something sufficiently close to the real data to illustrate your question. But it can be difficult to generate something that is properly representative and you need to be careful. For instance, are there really blank spaces at the start of each line?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1529481184, "post_id": 50926388, "comment_id": 88883483, "body": "Yeah, if there are spaces, just add <code>\\h*</code> after <code>^</code>, <code>&#47;^\\h*\\$ABC(?!02$)[0-9]+$&#47;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "is_accepted": false, "score": 2, "last_activity_date": 1529405384, "creation_date": 1529405384, "answer_id": 50926578, "question_id": 50926388, "link": "https://stackoverflow.com/questions/50926388/how-to-not-match-a-particular-number-at-the-end-of-a-string-in-regex-perl/50926578#50926578", "title": "how to not match a particular number at the end of a string in regex perl?", "body": "<p>What your regex currently does is find \"$ABC\" followed by one digit. You need to split that <code>[^02]</code> into matching 2 characters like this.</p>\n\n<pre><code>/^\\$ABC[^0][^2]$/\n</code></pre>\n\n<p>...but...that will also match strings that have non-digits at the end. So rather than using what you don't want to find - put in what you do want to find.</p>\n\n<pre><code>/^\\$ABC([1-9][0-9]|0[013-9])$/\n</code></pre>\n\n<p>This will look for either 1 to 9 followed by any digit or 0 followed by any digit except for a 2. You can replace the <code>(...)</code> with <code>(?:...)</code> if you don't want a capture group.</p>\n"}, {"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 2, "last_activity_date": 1529405527, "creation_date": 1529405527, "answer_id": 50926630, "question_id": 50926388, "link": "https://stackoverflow.com/questions/50926388/how-to-not-match-a-particular-number-at-the-end-of-a-string-in-regex-perl/50926630#50926630", "title": "how to not match a particular number at the end of a string in regex perl?", "body": "<p>Note that <code>[^02]</code> is a negated character class that matches any character other than <code>0</code> and <code>2</code>, and it does not have to be a digit, BTW.</p>\n\n<p>You may use <code>(?!02$)</code> negative lookahead after <code>C</code> to avoid matching strings that end with <code>02</code>, but end with any other number (including <code>0210</code>,etc.):</p>\n\n<pre><code>/^\\$ABC(?!02$)[0-9]+$/\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/BzE7TJ/2\" rel=\"nofollow noreferrer\">this regex demo</a></p>\n\n<p>If you do not want to match numbers after <code>C</code> that *start with <code>02</code>, remove <code>$</code> from the lookahead:</p>\n\n<pre><code>/^\\$ABC(?!02)[0-9]+$/\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/BzE7TJ/3\" rel=\"nofollow noreferrer\">another regex demo</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1529407958, "last_edit_date": 1529407958, "creation_date": 1529405975, "answer_id": 50926773, "question_id": 50926388, "link": "https://stackoverflow.com/questions/50926388/how-to-not-match-a-particular-number-at-the-end-of-a-string-in-regex-perl/50926773#50926773", "title": "how to not match a particular number at the end of a string in regex perl?", "body": "<p>It looks like you just need to eliminate one specific line from your file. Rather than writing a fancy regex pattern that matches <code>$ABC</code> followed by anything but <code>02</code>, you can simply use the language to discard the given string. Something like <code>print if not /\\$ABC02/</code></p>\n\n<p>In a Perl one-line command, this checks whether the whole line matches the value and ignores it if so</p>\n\n<pre><code>perl -ne 'print unless /^\\$ABC02$/' myfile\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8322053, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211457495886072/picture?type=large", "display_name": "Niharika ", "link": "https://stackoverflow.com/users/8322053/niharika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1529407958, "creation_date": 1529404746, "last_edit_date": 1529405332, "question_id": 50926388, "link": "https://stackoverflow.com/questions/50926388/how-to-not-match-a-particular-number-at-the-end-of-a-string-in-regex-perl", "title": "how to not match a particular number at the end of a string in regex perl?", "body": "<p>I have a file that has a list that looks like this:</p>\n\n<pre><code>    $ABC01\n    $ABC02\n    $ABC03\n    $ABC04\n    $ABC05\n</code></pre>\n\n<p>I want all those strings that are not <code>$ABC02</code>. This is a part of a code and before this step I got string ABC recorded in one variable, and the number 02 recorded in other. I basically want all those entries that start with ABC, and end with a 2 digit number apart from <code>02</code>.</p>\n\n<p>I tried this but it is not working:</p>\n\n<pre><code>/^\\$ABC[^02]$/\n</code></pre>\n\n<p>What is the correct regex to be used in this case?</p>\n"}, {"tags": ["perl", "perlnetssh"], "comments": [{"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1529525146, "post_id": 50924971, "comment_id": 88909910, "body": "<code>libssh2</code> keep alive support is mostly broken. Don&#39;t use it!"}], "owner": {"reputation": 23, "user_id": 2320867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odDr1.jpg?s=128&g=1", "display_name": "red-eno", "link": "https://stackoverflow.com/users/2320867/red-eno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1529401979, "creation_date": 1529400609, "last_edit_date": 1529401979, "question_id": 50924971, "link": "https://stackoverflow.com/questions/50924971/perl-netssh2-let-channel-active", "title": "Perl NET::SSH2 let channel active", "body": "<p>I need to execute shell script on remote host and wait for it but pipe is broken after 30 minutes. I'm using NET::SSH2.</p>\n\n<p>How can I let the ssh channel active? </p>\n\n<p>I tried: </p>\n\n<ul>\n<li><code>$ssh2-&gt;keepalive_config( 1, 2000);</code> pipe broken, after 30minutes (1800)</li>\n<li><code>$ssh2-&gt;keepalive_send;</code></li>\n</ul>\n\n<p>How can I wait for remote script over this timeout? </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["perl", "http"], "comments": [{"owner": {"reputation": 2422, "user_id": 9112798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2689048404de2b747c712b6782e8c7?s=128&d=identicon&r=PG&f=1", "display_name": "David Collins", "link": "https://stackoverflow.com/users/9112798/david-collins"}, "edited": false, "score": 3, "creation_date": 1529394032, "post_id": 50922637, "comment_id": 88845303, "body": "Maybe <a href=\"https://metacpan.org/pod/Archive::Har\" rel=\"nofollow noreferrer\">metacpan.org/pod/Archive::Har</a> would be useful?"}, {"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "reply_to_user": {"reputation": 2422, "user_id": 9112798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2689048404de2b747c712b6782e8c7?s=128&d=identicon&r=PG&f=1", "display_name": "David Collins", "link": "https://stackoverflow.com/users/9112798/david-collins"}, "edited": false, "score": 0, "creation_date": 1529395007, "post_id": 50922637, "comment_id": 88845838, "body": "@DavidCollins ok - shame on me for not finding and mentioning it.  However it does not convert the entry to a HTTP string I can then parse. I&#39;d still have to create the reques &quot;by hand&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1529399790, "creation_date": 1529399790, "answer_id": 50924695, "question_id": 50922637, "link": "https://stackoverflow.com/questions/50922637/how-can-i-convert-har-requests-to-http-string/50924695#50924695", "title": "How can I convert .har requests to HTTP string?", "body": "<p><a href=\"https://metacpan.org/pod/Archive::Har\" rel=\"nofollow noreferrer\">Archive::Har</a> has an <code>entries()</code> method which returns a list of <a href=\"https://metacpan.org/pod/Archive::Har::Entry\" rel=\"nofollow noreferrer\">Archive::Har::Entry</a> objects. Each Archive::Har::Entry object has a <code>request()</code> method which returns a <a href=\"https://metacpan.org/pod/Archive::Har::Entry::Request\" rel=\"nofollow noreferrer\">Archive::Har::Entry::Request</a> containing details of the request that was made.</p>\n\n<p>It's not the string representation that you ask for, but I expect you could use the various methods on Archive::Har::Entry::Request to generate the HTTP::Request object that you want.</p>\n\n<p>(I haven't tried this, I'm just browsing through documentation.)</p>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1529399790, "creation_date": 1529392715, "question_id": 50922637, "link": "https://stackoverflow.com/questions/50922637/how-can-i-convert-har-requests-to-http-string", "title": "How can I convert .har requests to HTTP string?", "body": "<p>I'd like to convert requests in .har file (<a href=\"https://en.wikipedia.org/wiki/.har\" rel=\"nofollow noreferrer\">see here</a>) to their string version for use with <a href=\"https://metacpan.org/pod/LWP\" rel=\"nofollow noreferrer\">LWP</a>. Is there a tool that does it already?</p>\n\n<p>Specifically I'd like to be able to generate the string in order to parse it like this:</p>\n\n<pre><code>my $str = har_to_string($har);\nmy $r = HTTP::Request-&gt;parse( $str ) \n</code></pre>\n\n<p>See docs <a href=\"https://metacpan.org/pod/release/OALDERS/HTTP-Message-6.18/lib/HTTP/Request.pm#$r-=-HTTP::Request-%3Eparse(-$str-)\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I could probably roll my own <code>har_to_string</code> in Perl, but I'd like a reference to test against.</p>\n"}, {"tags": ["perl", "binary", "hex"], "comments": [{"owner": {"reputation": 991, "user_id": 2413548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96d6ec5ea2e353b5979f01f9f38f47fa?s=128&d=identicon&r=PG", "display_name": "hootnot", "link": "https://stackoverflow.com/users/2413548/hootnot"}, "edited": false, "score": 0, "creation_date": 1529395391, "post_id": 50922150, "comment_id": 88846050, "body": "And these then <a href=\"https://users.cs.cf.ac.uk/Dave.Marshall/PERL/node36.html\" rel=\"nofollow noreferrer\">users.cs.cf.ac.uk/Dave.Marshall/PERL/node36.html</a> ?"}, {"owner": {"reputation": 2422, "user_id": 9112798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2689048404de2b747c712b6782e8c7?s=128&d=identicon&r=PG&f=1", "display_name": "David Collins", "link": "https://stackoverflow.com/users/9112798/david-collins"}, "edited": false, "score": 0, "creation_date": 1529395961, "post_id": 50922150, "comment_id": 88846361, "body": "Do you need to replace bits for every value in the array - or just the first one?"}, {"owner": {"reputation": 235, "user_id": 2536125, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a36bb57906a8ffb4d5a388f9cd0fe04?s=128&d=identicon&r=PG", "display_name": "user2536125", "link": "https://stackoverflow.com/users/2536125/user2536125"}, "reply_to_user": {"reputation": 2422, "user_id": 9112798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2689048404de2b747c712b6782e8c7?s=128&d=identicon&r=PG&f=1", "display_name": "David Collins", "link": "https://stackoverflow.com/users/9112798/david-collins"}, "edited": false, "score": 0, "creation_date": 1529396226, "post_id": 50922150, "comment_id": 88846500, "body": "@DavidCollins I need to replace only specific bits, this can be variable (from one bit to all bits) but i tried to simplify my example. This is why i prefer to do that using <code>substr</code>"}, {"owner": {"reputation": 235, "user_id": 2536125, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a36bb57906a8ffb4d5a388f9cd0fe04?s=128&d=identicon&r=PG", "display_name": "user2536125", "link": "https://stackoverflow.com/users/2536125/user2536125"}, "reply_to_user": {"reputation": 991, "user_id": 2413548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96d6ec5ea2e353b5979f01f9f38f47fa?s=128&d=identicon&r=PG", "display_name": "hootnot", "link": "https://stackoverflow.com/users/2413548/hootnot"}, "edited": false, "score": 0, "creation_date": 1529396650, "post_id": 50922150, "comment_id": 88846767, "body": "@user2413548 this is not necessarily helpfull as I don&#39;t want to perform any logical bitwise operations. instead, I just want to specify Byte and Bit positions, as well as the new bits sequence to obtain the new Bytes sequence"}], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 2536125, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a36bb57906a8ffb4d5a388f9cd0fe04?s=128&d=identicon&r=PG", "display_name": "user2536125", "link": "https://stackoverflow.com/users/2536125/user2536125"}, "edited": false, "score": 0, "creation_date": 1529397099, "post_id": 50923793, "comment_id": 88847041, "body": "Thanks. This is almost exactly what I was looking for. However, I want to keep leading zeros when I convert to binary or hexadecimal"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 235, "user_id": 2536125, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a36bb57906a8ffb4d5a388f9cd0fe04?s=128&d=identicon&r=PG", "display_name": "user2536125", "link": "https://stackoverflow.com/users/2536125/user2536125"}, "edited": false, "score": 1, "creation_date": 1529397296, "post_id": 50923793, "comment_id": 88847160, "body": "<code>sprintf( &quot;%08b&quot;, ..)</code> where 8 is total number of binary places."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1529396687, "creation_date": 1529396687, "answer_id": 50923793, "question_id": 50922150, "link": "https://stackoverflow.com/questions/50922150/convert-a-byte-stored-as-string-into-bits-in-perl-and-modify-it/50923793#50923793", "title": "Convert a byte stored as string into bits in Perl and modify it", "body": "<p><code>strict</code> and <code>warnings</code> will always give you hints when mistyping something.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub stringdecimal {\n    # return unpack(\"N\", pack(\"B32\", substr(\"0\" x 32 . shift, -32)));\n    return oct(\"0b\" . shift);\n}\n\nmy $str = '5B CD 02 01 10';   #Initialize my variable:in my function, this is passed as input\nmy $OldByte_str = substr($str,0,2); #extract the two characters to form a Byte\n\nmy $PDM_OldBits =  sprintf( \"%b\", hex($OldByte_str) );#Convert to binary. Supposed to give '0101 1011'\n\nsubstr($PDM_OldBits,1,2)= '10';  #Replace two bits.Supposed to give '01**10** 1011'\n\nmy $NewByte_str= sprintf(\"%X\", stringdecimal($PDM_OldBits)); #Convert back to Bytes. Supposed to give'6B'\n\nsubstr($str,0,2)= $NewByte_str; #Substitute back into the original Bytes string.Supposed to give: '**6B** CD 02 01 10'\n\nprint $str, \"\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2422, "user_id": 9112798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e2689048404de2b747c712b6782e8c7?s=128&d=identicon&r=PG&f=1", "display_name": "David Collins", "link": "https://stackoverflow.com/users/9112798/david-collins"}, "is_accepted": false, "score": 2, "last_activity_date": 1529402004, "last_edit_date": 1529402004, "creation_date": 1529398797, "answer_id": 50924393, "question_id": 50922150, "link": "https://stackoverflow.com/questions/50922150/convert-a-byte-stored-as-string-into-bits-in-perl-and-modify-it/50924393#50924393", "title": "Convert a byte stored as string into bits in Perl and modify it", "body": "<p>Here's an alternative solution - using only <code>pack()</code> and <code>unpack()</code> and one call to <code>substr()</code> (no <code>sprintf()</code>). It will modify each value in the array. (If you don't want that just take out the <code>for()</code> loop and replace <code>$_</code> with <code>$bytes[0]</code>.)</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature('say');\n\nmy $str = '5B CD 02 01 10';\n\nmy ($orig, $bits, $hex);\nmy @bytes = split(/ /, $str);\nfor (@bytes) {\n    $bits = unpack('B8', chr(hex($_)));\n    $orig = $bits; # for 'debugging'\n    substr($bits, 2, 2) = '10';\n    say $orig . ' -&gt; ' . $bits;\n    $hex = unpack('H2', pack('B8', $bits));\n    say $_ . ' -&gt; ' . uc($hex);\n}\n</code></pre>\n\n<p>Output ...</p>\n\n<pre><code>01011011 -&gt; 01101011\n5B -&gt; 6b\n11001101 -&gt; 11101101\nCD -&gt; ed\n00000010 -&gt; 00100010\n02 -&gt; 22\n00000001 -&gt; 00100001\n01 -&gt; 21\n00010000 -&gt; 00100000\n10 -&gt; 20\n</code></pre>\n\n<p>Using <code>substr($str, 0, 2);</code> to extract the bytes of interest - aside from being unwieldy - is potentially unreliable. If there is inconsistent white spacing in the input, for example, then it could extract <code>'B '</code> instead of <code>'5B'</code> or <code>' C'</code> instead of <code>'CD'</code>. That's why I split the string in to bytes using <code>split()</code> instead.</p>\n"}], "owner": {"reputation": 235, "user_id": 2536125, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a36bb57906a8ffb4d5a388f9cd0fe04?s=128&d=identicon&r=PG", "display_name": "user2536125", "link": "https://stackoverflow.com/users/2536125/user2536125"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 631, "favorite_count": 0, "accepted_answer_id": 50923793, "answer_count": 2, "score": 2, "last_activity_date": 1529402004, "creation_date": 1529390770, "last_edit_date": 1529394984, "question_id": 50922150, "link": "https://stackoverflow.com/questions/50922150/convert-a-byte-stored-as-string-into-bits-in-perl-and-modify-it", "title": "Convert a byte stored as string into bits in Perl and modify it", "body": "<p>I am trying to perform the following using a Perl script:</p>\n\n<ul>\n<li>extract two characters from a hexadecimal number stored as a string --> This will give a byte written as string</li>\n<li>Convert this byte to binary (I must keep leading zeros if they exist)</li>\n<li>change specific bits in the binary </li>\n<li>convert back to hexadecimal</li>\n<li>replace into the original hexadecimal number</li>\n</ul>\n\n<p>To do so, after a long research on the internet, I came up with the following lines:</p>\n\n<pre><code># Initialize my variable: in my function, this is passed as input\n$str = '5B CD 02 01 10';\n\n# Extract the two characters to form a Byte\n$OldByte_str = substr($str,0,2); \n\n# Convert to binary. Supposed to give '0101 1011'\n$PDM_OldBits =  ( \"Binary: %b\\n\", $PDM_OldByte );\n\n# Replace two bits.Supposed to give '01**10** 1011'\nsubstr($PDM_OldBit,2,2)= '10';\n\n# Convert back to Bytes. Supposed to give'6B'\n$NewByte_str= sprintf(\"0x%x\", stringdecimal(arraystring($PDM_OldBits))); \n\n# Substitute back into the original Bytes string.\n# Supposed to give: '**6B** CD 02 01 10'\nsubstr($str,0,2)= $PDM_NewByte;\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>sub stringdecimal {\n    return unpack(\"N\", pack(\"B32\", substr(\"0\" x 32 . shift, -32)));\n}\n\nsub arraystring {\n    my $string = join('', @_);\n    return $string;\n}\n</code></pre>\n\n<p>However, the conversion to binary is not taking place; thus i am also not able to check the rest of the code.</p>\n\n<p>As a beginner to Perl, I am asking this question here - in case someone has some hints or solutions to my problem.</p>\n"}, {"tags": ["perl", "optimization", "inline", "subroutine"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1529388852, "post_id": 50921578, "comment_id": 88842684, "body": "Re &quot;<i>Will the subroutine test be inlined?</i>&quot;, Only if <code>#do my logic</code> is a constant or a lexically-scoped var."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529388941, "post_id": 50921578, "comment_id": 88842704, "body": "@ikegami That sounds like an answer and might stay the only one. Would you like to make it an answer which gets this out of the list of unanswered questions?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1529389067, "post_id": 50921578, "comment_id": 88842762, "body": "If your program is slow, use a profiler. See <a href=\"http://p3rl.org/Devel::NYTProf\" rel=\"nofollow noreferrer\">Devel::NYTProf</a>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1529389469, "post_id": 50921578, "comment_id": 88842946, "body": "Even thinking about inlining implies that the function is small and simple.  Is that the case?  (If it isn&#39;t just forget about it, in any language.)  Can you then show the function?"}, {"owner": {"reputation": 79, "user_id": 8503833, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tAeVjqjk2ys/AAAAAAAAAAI/AAAAAAAAAAo/14pqgHVPEHE/photo.jpg?sz=128", "display_name": "Jaya Surya S Athikesavan", "link": "https://stackoverflow.com/users/8503833/jaya-surya-s-athikesavan"}, "edited": false, "score": 0, "creation_date": 1529389767, "post_id": 50921578, "comment_id": 88843069, "body": "i donot understand what is meant by - constant or a lexically-scoped var."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 7, "last_activity_date": 1529390305, "last_edit_date": 1529390305, "creation_date": 1529389962, "answer_id": 50921944, "question_id": 50921578, "link": "https://stackoverflow.com/questions/50921578/subroutine-perl-with-inline/50921944#50921944", "title": "subroutine perl with inline", "body": "<p>This is answered in <a href=\"https://perldoc.perl.org/perlsub.html#Constant-Functions\" rel=\"noreferrer\">Constant Functions in perlsub</a></p>\n\n<blockquote>\n  <p>Functions with a prototype of <code>()</code> are potential candidates for inlining. If the result after optimization and constant folding is either a constant or a lexically-scoped scalar which has no other references, then it will be used in place of function calls made without <code>&amp;</code>. Calls made using <code>&amp;</code> are never inlined. (See <code>constant.pm</code> for an easy way to declare most constants.)</p>\n</blockquote>\n\n<p>So your <code>sub test()</code> should be inlined if it satisfies the above conditions.  Nobody can tell without seeing the function, so either show it or try.</p>\n\n<p>This is most easily checked with <a href=\"https://perldoc.perl.org/B/Deparse.html\" rel=\"noreferrer\">B::Deparse</a>, see further down the linked <code>perlsub</code> section.</p>\n\n<p>I would urge you to profile the program to ensure that the function call overhead is the problem.</p>\n"}], "owner": {"reputation": 79, "user_id": 8503833, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tAeVjqjk2ys/AAAAAAAAAAI/AAAAAAAAAAo/14pqgHVPEHE/photo.jpg?sz=128", "display_name": "Jaya Surya S Athikesavan", "link": "https://stackoverflow.com/users/8503833/jaya-surya-s-athikesavan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 50921944, "answer_count": 1, "score": 6, "last_activity_date": 1529390772, "creation_date": 1529388253, "last_edit_date": 1529390772, "question_id": 50921578, "link": "https://stackoverflow.com/questions/50921578/subroutine-perl-with-inline", "title": "subroutine perl with inline", "body": "<p>I have a Perl function, which does not return any value. It does not take any arguments also.</p>\n\n<pre><code>sub test {\n    #do my logic\n}\n</code></pre>\n\n<p>Can I do as :</p>\n\n<pre><code>sub test() {\n    #do my logic\n}\n</code></pre>\n\n<p>Will the subroutine <strong>test</strong> be inlined? Will this work? (meaning will the function call be replaced with the function definition. And will my program execute faster?)</p>\n\n<p>The function test() is being called 5000 times. And my Perl program takes a longer time to execute than expected. So I want to make my program faster.\nThanks in advance!</p>\n"}, {"tags": ["perl", "imagemagick"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1529384304, "post_id": 50920824, "comment_id": 88841225, "body": "Find an image-manipulation module for Perl that can handle PNG images (I believe there&#39;s a Perl binding for the ImageMagick library).  Install it.  Read the documentation to learn how to use it to crop the image in memory.  Write the code.  What&#39;s your question?"}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1529385409, "post_id": 50920824, "comment_id": 88841544, "body": "The question is the one you didn&#39;t answer: What&#39;s a good way to accomplish this? Looking for suggestions on easy-to-use modules."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1529385465, "post_id": 50920824, "comment_id": 88841563, "body": "THAT is off-topic according to the rules here.  You are expected to do your own research.  Please visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively.  Also, I <b><i>DID</i></b> tell you <b><i>exactly</i></b> where to look.  Did you bother to Google &quot;Perl ImageMagick&quot;?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1529420366, "post_id": 50920824, "comment_id": 88861815, "body": "See also <a href=\"https://stackoverflow.com/questions/17978193/crop-image-using-gd-library\">cropping an image with GD</a>. ImageMagick is powerful, but it&#39;s a beast to work with. BTW I don&#39;t think asking for recommendations on which library to use for such a task should be off-topic, but indeed it is."}], "answers": [{"comments": [{"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1529419750, "post_id": 50923697, "comment_id": 88861410, "body": "Yes, I finally figured out how to do it very similarly with BlobToImage(). Took a long time to figure out. The docs are very scarce and it&#39;s confusing for someone that doesn&#39;t use ImageMagick much."}, {"owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "reply_to_user": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1529420446, "post_id": 50923697, "comment_id": 88861860, "body": "Glad you worked it out. Feel free to add an answer showing your Perl code and accept your own answer - it will help other folk who also find the ImageMagick Perl docs difficult to understand and I am not worried about &quot;losing&quot; the points."}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1529432489, "post_id": 50923697, "comment_id": 88867943, "body": "Yup, will do. Just got to clean it up a little. I actually decided to save the data in a file system, but still made use of the BlobToImage() call."}], "tags": [], "owner": {"reputation": 144799, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "is_accepted": true, "score": 1, "last_activity_date": 1529396323, "creation_date": 1529396323, "answer_id": 50923697, "question_id": 50920824, "link": "https://stackoverflow.com/questions/50920824/process-png-file-in-memory/50923697#50923697", "title": "Process png file in memory", "body": "<p>Sorry I mistook the Perl dollar signs for PHP, but the interface and functions will be pretty similar and hopefully you can adapt.</p>\n\n<hr>\n\n<p>You need <code>readImageBlob()</code>. The first chunk of code synthesizes a blob and the second chunk crops it and saves to disk:</p>\n\n<pre><code>&lt;?php\n\n    // Synthesize blob by creating a radial gradient\n    $image = new \\Imagick();\n    $image-&gt;newPseudoImage(300, 300, \"radial-gradient:red-blue\");\n    $image-&gt;setImageFormat(\"png\");\n    $blob=$image-&gt;getImageBlob();\n\n    // Now crop the blob\n    $imgFromBlob=new \\Imagick();\n    $imgFromBlob-&gt;readImageBlob($blob);\n    $imgFromBlob-&gt;cropImage(150,150,150,150);\n    $imgFromBlob-&gt;writeImage(\"result.png\");\n\n?&gt;\n</code></pre>\n\n<p>Before cropping:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JLX9E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JLX9E.png\" alt=\"enter image description here\"></a></p>\n\n<p>After:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ID8Y7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ID8Y7.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "closed_date": 1529420698, "accepted_answer_id": 50923697, "answer_count": 1, "score": 0, "last_activity_date": 1529433694, "creation_date": 1529383769, "last_edit_date": 1529433694, "question_id": 50920824, "link": "https://stackoverflow.com/questions/50920824/process-png-file-in-memory", "closed_reason": "Needs more focus", "title": "Process png file in memory", "body": "<p>I've got a perl program that grabs a screenshot as a png and inserts it into a variable:</p>\n\n<pre><code>my $png_data = $s-&gt;chrome-&gt;render_content(format =&gt; 'png');\n</code></pre>\n\n<p>Currently, I save the <code>$png_data</code> straight to a disk and then crop the resulting file with Imagemagick. Then I load the file back into a variable which I write to the database as a BLOB.</p>\n\n<p>This is obviously wasteful.</p>\n\n<p>Rather than saving it to disk, and then reading it back off disk, I'd just like to crop it while in memory and then save to the database.</p>\n\n<p>How can I accomplish this?</p>\n\n<p><strong>* UPDATE *</strong>\nHere is the solution I ended up going with, which took a bit of time to find and noodle out as I'm not very familiar with Imagemagick:</p>\n\n<pre><code>use Image::Magick;\n# screenshot grabbed with WWW::Mechanize::Chrome;\n# returned value of $png_data is a \"blob\" which can be saved in db or to file\nmy $png_data    = $s-&gt;chrome-&gt;render_content(format =&gt; 'png');\n\n# create object to process image\nmy $img         = Image::Magick-&gt;new(magick=&gt;'png');\n\n# BlobToImage functions converts data to image that IM can process\n$img-&gt;BlobToImage($png_data);\n\n# do some processing of image\nmy $x = $img-&gt;Crop(geometry =&gt; \"1028x5000+370+880\");\nprint \"$x\" if \"$x\";\n\n# now, the tricky part is saving the image by writing the $img back into a Perl string like this:\nopen (my $fh, '&gt;', \\$png_data) || die 'Could not write to string';\n$img-&gt;Write(filename =&gt; $fh, quality =&gt; 100, depth =&gt; 4);\nclose $fh;\n\n# The Write() method basically converts it back to a blob. Then you can store the $png_data string into the database in a BLOB column.\n\n# NOTE: I'm not 100% sure if last line worked as I decided to save the image to a file. It seemed to work as I didn't get any errors but I did not verify that the data was actually in the database. But some variation of that last line should work if that one doesn't.\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 2, "creation_date": 1529384586, "post_id": 50920767, "comment_id": 88841307, "body": "Do you understand what 403 means?  Your code must provide the required credential to access the resource."}, {"owner": {"reputation": 11, "user_id": 9959875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2e2721d8981eff4e3b53f784201067?s=128&d=identicon&r=PG&f=1", "display_name": "ham", "link": "https://stackoverflow.com/users/9959875/ham"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1529384701, "post_id": 50920767, "comment_id": 88841352, "body": "Does it means that i do not have permission to access the resource on this? So it means that the code is correct but just due to the permission stuff?"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1529384811, "post_id": 50920767, "comment_id": 88841377, "body": "The site is expecting authentication credentials on every request, and while your browser provides them (you had to login, right?) your Perl code is not providing them, so the server is refusing to service the request.  You should find a tutorial on HTTP and read the parts about authentication and authorization carefully."}, {"owner": {"reputation": 11, "user_id": 9959875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2e2721d8981eff4e3b53f784201067?s=128&d=identicon&r=PG&f=1", "display_name": "ham", "link": "https://stackoverflow.com/users/9959875/ham"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1529385233, "post_id": 50920767, "comment_id": 88841491, "body": "as i can manually save the image by entering the url in the browser without any login needed. those image are actually comic and what i plan to do is it automate to save all the pages into local instead to save it one by one. So may i know that do i need to fill up my prel code on this?"}, {"owner": {"reputation": 11, "user_id": 9959875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2e2721d8981eff4e3b53f784201067?s=128&d=identicon&r=PG&f=1", "display_name": "ham", "link": "https://stackoverflow.com/users/9959875/ham"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1529385322, "post_id": 50920767, "comment_id": 88841516, "body": "okok noted. I will look into the HTTP on the authentication as your suggested."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1529385347, "post_id": 50920767, "comment_id": 88841522, "body": "You may have logged in at one time in the past and the session is long-lasting.  Alternatively, the site defends against automated downloaders by checking the <code>User-agent:</code> header."}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1529385411, "post_id": 50920767, "comment_id": 88841546, "body": "I just tried the URL and was able to see the image, so it is probably checking <code>User-agent:</code> and refusing to serve images to non-browsers."}, {"owner": {"reputation": 11, "user_id": 9959875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2e2721d8981eff4e3b53f784201067?s=128&d=identicon&r=PG&f=1", "display_name": "ham", "link": "https://stackoverflow.com/users/9959875/ham"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1529385922, "post_id": 50920767, "comment_id": 88841705, "body": "If thats the case then there is no way to save the image with non-browser without a proper authentication for that url. Appreciate for your advice on this."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1529397465, "post_id": 50920767, "comment_id": 88847258, "body": "<i>If thats the case then there is no way to save the image with non-browser without a proper authentication for that url</i> No, that&#39;s not true. If the server is checking the User-Agent header, then you just need to change that header in the request that you send."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1529414624, "last_edit_date": 1529414624, "creation_date": 1529398596, "answer_id": 50924346, "question_id": 50920767, "link": "https://stackoverflow.com/questions/50920767/status-403-when-using-the-lwpsimple/50924346#50924346", "title": "Status 403 when using the LWP::Simple", "body": "<p>The book <em>LWP and Perl</em> (<a href=\"http://lwp.interglacial.com\" rel=\"nofollow noreferrer\">available legally for free online</a>) is a great introduction to the LWP toolkit. In particular, the section <a href=\"http://lwp.interglacial.com/ch11_02.htm\" rel=\"nofollow noreferrer\">Adding Extra Request Header Lines</a> has a useful discussion of the kind of problem you're having here.</p>\n\n<p>Unfortunately, LWP::Simple isn't up to the job. You'll want to switch to <a href=\"https://metacpan.org/pod/LWP::UserAgent\" rel=\"nofollow noreferrer\">LWP::UserAgent</a> and <a href=\"https://metacpan.org/pod/HTTP::Request\" rel=\"nofollow noreferrer\">HTTP::Request</a> instead. Then you can use the <code>agent()</code> method on your LWP::UserAgent object and <code>header()</code> on your HTTP::Request object to craft exactly the request that you need.</p>\n\n<p><strong>Update:</strong> I played with this a bit during my lunch break. Looks like they are blocking on the UserAgent string. Just changing that to anything will make it work.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;agent('Foo');\n\nmy $url = 'http://automanga.com/uploads/manga/bleach/chapters/12/09.jpg';\nmy $file = '09.jpg';\n\nmy $resp = $ua-&gt;get($url);\n\nif ($resp-&gt;is_error) {\n  die $resp-&gt;status_line, \"\\n\";\n}\n\nopen my $fh, '&gt;', $file or die $!;\nbinmode $fh;\nprint $fh $resp-&gt;decoded_content;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9959875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2e2721d8981eff4e3b53f784201067?s=128&d=identicon&r=PG&f=1", "display_name": "ham", "link": "https://stackoverflow.com/users/9959875/ham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1529414624, "creation_date": 1529383427, "last_edit_date": 1529383883, "question_id": 50920767, "link": "https://stackoverflow.com/questions/50920767/status-403-when-using-the-lwpsimple", "title": "Status 403 when using the LWP::Simple", "body": "<p>Below is the simple code that I used:</p>\n\n<pre><code>use strict; \nuse warnings; \nuse LWP::Simple;\n\nmy $url = \"http://automanga.com/uploads/manga/bleach/chapters/12/09.jpg\";\nmy $file = \"09.jpg\"; \nmy $rc = getstore($url, $file);\n\n\nif (is_error($rc)) \n{\n    print \"getstore failed with $rc\\n\";\n}\n</code></pre>\n\n<p>The link is working as I try it in the browser but somehow it just return <code>403</code> status.</p>\n\n<p>Appreciate for your advice on this.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1529351359, "post_id": 50916489, "comment_id": 88833046, "body": "&quot;<i>get the output like in script1</i>&quot; - Do you expect everyone here to copy/paste your code into a file and run it? Why not just post the output here so everyone knows what you&#39;re talking about?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "edited": false, "score": 0, "creation_date": 1529351487, "post_id": 50916489, "comment_id": 88833096, "body": "Make each paragraph a function call? <code>addToResults(\\@results, &#39;Chemisty&#39;, &#39;87&#39;)</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529352146, "post_id": 50916489, "comment_id": 88833383, "body": "Ideally, execute <code>my</code> twice (<code>my @row1 = (&#39;Chemisty&#39;, &#39;87&#39;); my @row2 = (&#39;French&#39;, &#39;80&#39;); my @results = ( \\@row1, \\@row2 );</code> or <code>while ( my @row = get() ) { push @results, \\@row; }</code>), but you can also make a copy of the array if you have unusual code that reuses the same array (<code>push @results, [ @row ];</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1529351463, "creation_date": 1529351463, "answer_id": 50916552, "question_id": 50916489, "link": "https://stackoverflow.com/questions/50916489/how-can-i-keep-the-referent-from-changing-when-the-underlying-data-is-modified/50916552#50916552", "title": "How can I keep the referent from changing when the underlying data is modified?", "body": "<p><code>push @foo, \\@bar</code> adds a reference to the named array <code>@bar</code> to the array <code>@foo</code>. If the contents of <code>@bar</code> are updated later, then it will affect the contents of <code>@foo</code>, too.</p>\n\n<p>A workaround, when you anticipate that <code>@bar</code> will be updated, is to push a reference to a current <em>copy</em> of <code>@bar</code> onto <code>@foo</code>. This can be accomplished with the <code>[ @bar ]</code> syntax which creates a new array reference, initialized by <code>@bar</code>.</p>\n\n<pre><code>@bar = ( ... );\npush @foo, [ @bar ];\n@bar = ( ... ); # something else\npush @foo, [ @bar ];\n...\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 2538857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d200c37294f00a7699a69df5847b5ce0?s=128&d=identicon&r=PG", "display_name": "mbbxedh2", "link": "https://stackoverflow.com/users/2538857/mbbxedh2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "closed_date": 1529352013, "answer_count": 1, "score": 0, "last_activity_date": 1529351821, "creation_date": 1529351089, "last_edit_date": 1529351821, "question_id": 50916489, "link": "https://stackoverflow.com/questions/50916489/how-can-i-keep-the-referent-from-changing-when-the-underlying-data-is-modified", "closed_reason": "Duplicate", "title": "How can I keep the referent from changing when the underlying data is modified?", "body": "<p><strong>Script1</strong> </p>\n\n<pre><code>use strict;\nuse Data::Dumper;\nuse Getopt::Long qw(GetOptions);\n\nmy @results;\nmy @result1 = ('Chemisty', '87');\nmy @result2 = ('French', '80');\n\nmy $results_len = scalar @results;\nprint \"============   results [$results_len] ==========================\\n\";\nprint Dumper(\\@results);\nprint \"==========================**\\n\";\n\n#\npush @results, \\@result1;\n$results_len = scalar @results;\nprint \"============   results [$results_len] ==========================\\n\";\nprint Dumper(\\@results);\nprint \"==========================**\\n\";\n\n#\npush @results, \\@result2;\n$results_len = scalar @results;\nprint \"============   results [$results_len] ==========================\\n\";\nprint Dumper(\\@results);\nprint \"==========================**\\n\";\n</code></pre>\n\n<p><strong>Script2</strong></p>\n\n<pre><code>use strict;\nuse Data::Dumper;\nuse Getopt::Long qw(GetOptions);\n\nmy @results;\nmy @result1 = ('Chemisty', '87');\n\nmy $results_len = scalar @results;\nprint \"============   results [$results_len] ==========================\\n\";\nprint Dumper(\\@results);\nprint \"==========================**\\n\";\n\n#\npush @results, \\@result1;\n$results_len = scalar @results;\nprint \"============   results [$results_len] ==========================\\n\";\nprint Dumper(\\@results);\nprint \"==========================**\\n\";\n\n@result1 = ('French', '80');\n\n#\npush @results, \\@result1;\n$results_len = scalar @results;\nprint \"============   results [$results_len] ==========================\\n\";\nprint Dumper(\\@results);\nprint \"==========================**\\n\";\n</code></pre>\n\n<p>In script2... how should I clear result1 so I can reuse it again and get the output like in script1? </p>\n\n<p>I tried undef, setting it to a blank... if I reset it again with \"my result1\" again it takes but that will flag a warning </p>\n"}, {"tags": ["perl", "aix"], "comments": [{"owner": {"reputation": 1339, "user_id": 2141064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56d69ec8f5e469a8c6ca22d60271e9b?s=128&d=identicon&r=PG", "display_name": "Lorinczy Zsigmond", "link": "https://stackoverflow.com/users/2141064/lorinczy-zsigmond"}, "edited": false, "score": 0, "creation_date": 1529384000, "post_id": 50916177, "comment_id": 88841136, "body": "As a start, find your <code>libcrypto.so</code> file and check if it exports this symbol: edit this command according to your system: <code>dump -Tv -X64 &#47;usr&#47;local&#47;lib64&#47;libcrypto.so | grep EVP_DigestInit</code> (Note: I&#39;ve written some random thoughts about linking in AIX, you might want to read it: <a href=\"http://web.axelero.hu/lzsiga/aix-linking.html\" rel=\"nofollow noreferrer\">web.axelero.hu/lzsiga/aix-linking.html</a>)"}], "answers": [{"tags": [], "owner": {"reputation": 47, "user_id": 4095154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fdc63859b0cb4348f4afc40d7a1d3fc?s=128&d=identicon&r=PG&f=1", "display_name": "mjp", "link": "https://stackoverflow.com/users/4095154/mjp"}, "is_accepted": false, "score": 0, "last_activity_date": 1529958544, "creation_date": 1529958544, "answer_id": 51031370, "question_id": 50916177, "link": "https://stackoverflow.com/questions/50916177/perl-net-ssleay-installation-on-aix/51031370#51031370", "title": "Perl Net-SSLeay installation on AIX", "body": "<p>The problem was with our installation of openssl 1.0.2o.  It was built as 32-bit.  We fixed it by rebuilding it with exporting OBJECT_MODE=64 before running config and make commands.</p>\n\n<p>The sequence was as follows:\nfor openssl</p>\n\n<p>export OBJECT_MODE=64</p>\n\n<p>config -- make -- make test -- make install</p>\n\n<p>For Net-SSLeay</p>\n\n<p>export OPENSSL_PREFIX=/usr/local/ssl (where openssl installed on our system)</p>\n\n<p>perl Makefile.PL -- make -- make test -- make install</p>\n\n<p>That got Net-SSLeay installed correctly.</p>\n"}], "owner": {"reputation": 47, "user_id": 4095154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fdc63859b0cb4348f4afc40d7a1d3fc?s=128&d=identicon&r=PG&f=1", "display_name": "mjp", "link": "https://stackoverflow.com/users/4095154/mjp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1529958544, "creation_date": 1529349676, "question_id": 50916177, "link": "https://stackoverflow.com/questions/50916177/perl-net-ssleay-installation-on-aix", "title": "Perl Net-SSLeay installation on AIX", "body": "<p>When running make test for Net-SSLeay, this error is repeated.</p>\n\n<p>Failed test 'use Net::SSLeay::Handle;' </p>\n\n<p>at t/handle/local/05_use.t line 8. </p>\n\n<p>Tried to use 'Net::SSLeay::Handle'. </p>\n\n<p>Error:  Can't load '/ld01/perlsrc/Net-SSLeay-1.85/blib/arch/auto/Net/SSLeay/SSLeay.so' for module Net::SSLeay: rtld: 0712-001 Symbol EVP_DigestInit was referenced </p>\n\n<p>from module /ld01/perlsrc/Net-SSLeay-1.85/blib/arch/auto/Net/SSLeay/SSLeay.so(), but a runtime definition</p>\n\n<p>of the symbol was not found.</p>\n\n<p>System is running AIX 7.1 Perl 5.24.4 and openssl 1.0.2o all compiled with gcc 6.3 (64-bit)</p>\n\n<p>Has anyone seen this error before?</p>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 342, "user_id": 2038089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b63f7e356acc7018e0c5c57bbf632532?s=128&d=identicon&r=PG", "display_name": "Ahmad Bilal", "link": "https://stackoverflow.com/users/2038089/ahmad-bilal"}, "edited": false, "score": 3, "creation_date": 1529324135, "post_id": 50909287, "comment_id": 88818509, "body": "You question is horribly explained, please elaborate and be clear. Thank you. -"}, {"owner": {"reputation": 64716, "user_id": 157957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBRE7.jpg?s=128&g=1", "display_name": "IMSoP", "link": "https://stackoverflow.com/users/157957/imsop"}, "edited": false, "score": 0, "creation_date": 1529324187, "post_id": 50909287, "comment_id": 88818539, "body": "This question is a bit of a muddle. How are you processing this file (what web server are you using, what configuration do you have that would process the <code>#exec cgi</code> line)? And is the PHP code just a second question? If so, please <a href=\"https://stackoverflow.com/posts/50909287/edit\">edit</a> to keep to one question per page. You might want to take the <a href=\"https://stackoverflow.com/tour\">tour</a> to understand how things work on this site."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1529325402, "post_id": 50909287, "comment_id": 88819260, "body": "There is no such word as <b><i>Plz</i></b>. You&#39;re not sending a text message."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7091103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/542ed56c3ad62b2b3cb9d43a8ea75f2b?s=128&d=identicon&r=PG&f=1", "display_name": "Somesh", "link": "https://stackoverflow.com/users/7091103/somesh"}, "edited": false, "score": 0, "creation_date": 1529324554, "post_id": 50909387, "comment_id": 88818737, "body": "But then i have to write the whole code again. Is there any other way i can just include the .pl file in the code."}, {"owner": {"reputation": 4008, "user_id": 2960971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGf2S.png?s=128&g=1", "display_name": "IncredibleHat", "link": "https://stackoverflow.com/users/2960971/incrediblehat"}, "edited": false, "score": 0, "creation_date": 1529324636, "post_id": 50909387, "comment_id": 88818787, "body": "You could exec it locally (security risk), and handle the output as a string in php and echo it where it goes. But thats quite the kludge."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 0, "last_activity_date": 1529324396, "creation_date": 1529324396, "answer_id": 50909387, "question_id": 50909287, "link": "https://stackoverflow.com/questions/50909287/how-to-include-perl-script-in-html/50909387#50909387", "title": "how to include perl script in html", "body": "<p>You can't use SSI to send HTTP headers; by the time the SSI runs, it is too late.</p>\n\n<p>You should approach the problem from the opposite direction and have Perl generate the whole page (using <a href=\"https://plackperl.org/\" rel=\"nofollow noreferrer\">PSGI</a>), preferably using a template language (such as <a href=\"https://metacpan.org/pod/Text::Xslate\" rel=\"nofollow noreferrer\">Text::Xslate</a>), possibly using a MVC framework (such as <a href=\"http://perldancer.org/\" rel=\"nofollow noreferrer\">Dancer</a>).</p>\n"}], "owner": {"reputation": 3, "user_id": 7091103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/542ed56c3ad62b2b3cb9d43a8ea75f2b?s=128&d=identicon&r=PG&f=1", "display_name": "Somesh", "link": "https://stackoverflow.com/users/7091103/somesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 50909387, "answer_count": 1, "score": -5, "last_activity_date": 1529324404, "creation_date": 1529323996, "last_edit_date": 1529324404, "question_id": 50909287, "link": "https://stackoverflow.com/questions/50909287/how-to-include-perl-script-in-html", "title": "how to include perl script in html", "body": "<p>This is my php code and I have got this code in perl script.</p>\n\n<pre><code>if (isset($_COOKIE['user'])) {\n            setcookie(\"user\", $_REQUEST[\"username\"], time()-86400);\n        }\n        session_destroy();\n    header(\"location:index.php\");\n</code></pre>\n\n<p>Well there is just one prolblem I am facing, I need to inlcude this index.pl (in code it is index.php but I have wrote  the same code into perl script) in the code the same way as in php code.\nCan I use, this to include</p>\n\n<pre><code>&lt;!--#exec cgi = \"/index.pl\"--&gt;\n</code></pre>\n\n<p>But what about header in php code.\nI use xampp server. </p>\n\n<p>Plz help.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1529320042, "post_id": 50907938, "comment_id": 88815907, "body": "Could this be that <code>blurb()</code> is called somewhere in void context? Possibly with a <code>goto</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1529329587, "post_id": 50907938, "comment_id": 88821828, "body": "@simbabque, What wouldn&#39;t to it either."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1529329623, "post_id": 50907938, "comment_id": 88821853, "body": "@lanti, The code you posted does not produce a warning. Even if it did, it doesn&#39;t have 27 lines. You appear to have run some different code than the one you posted."}, {"owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "edited": false, "score": 0, "creation_date": 1529329743, "post_id": 50907938, "comment_id": 88821918, "body": "No <code>goto</code> in the whole project - but does your questions also imply that I may have to check from where and how this sub is called?"}, {"owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529329911, "post_id": 50907938, "comment_id": 88822017, "body": "@ikegami yes it&#39;s heavily shortened by removing anything I considered not relevant. (I tried to make that clear with the <code># ...</code>.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1529330271, "post_id": 50907938, "comment_id": 88822265, "body": "@lanti, You are mistaken. You have removed something relevant. I repeat: The code you posted does not produce the output you posted. Please fix your question."}, {"owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "edited": false, "score": 0, "creation_date": 1529330632, "post_id": 50907938, "comment_id": 88822500, "body": "A copy of the whole FlashCache.pm is now here: <a href=\"https://cloud.lantschner.name/index.php/s/HSwwWHGATqAyMKw\" rel=\"nofollow noreferrer\">cloud.lantschner.name/index.php/s/HSwwWHGATqAyMKw</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1529331028, "post_id": 50907938, "comment_id": 88822741, "body": "That&#39;s still not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Running that file doesn&#39;t produce the warning. (Produces error for missing module)"}, {"owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "edited": false, "score": 1, "creation_date": 1529331413, "post_id": 50907938, "comment_id": 88822985, "body": "As I wrote I can&#39;t reproduce that myself and though that it may be Perl-version specific. I&#39;ll come back w/ a complete example once I found a way to reproduce it. Thanks so far!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1529331832, "post_id": 50907938, "comment_id": 88823267, "body": "You can get the error (at a different line than the one reported) by calling <code>blurb</code> without parens before <code>blurb</code> is compiled."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1529337917, "post_id": 50907938, "comment_id": 88827060, "body": "Use <code>Carp::Always</code> to get a stack trace and see where <code>blurb()</code> is being called from."}], "answers": [{"comments": [{"owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "edited": false, "score": 0, "creation_date": 1529328771, "post_id": 50908143, "comment_id": 88821366, "body": "The line 27 of NetApp/Dox/FlashCache.pm is the one line in the sub blurb. So given the example in my original post it would be the string <code>q{Checks several metrics of (...)};</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "edited": false, "score": 1, "creation_date": 1529330767, "post_id": 50908143, "comment_id": 88822576, "body": "OK, try running the same code under <a href=\"http://p3rl.org/Carp::Always\" rel=\"nofollow noreferrer\">Carp::Always</a>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1529320212, "creation_date": 1529320212, "answer_id": 50908143, "question_id": 50907938, "link": "https://stackoverflow.com/questions/50907938/subroutine-returning-a-string-warns-about-useless-use-of-a-constant-in-void-con/50908143#50908143", "title": "Subroutine returning a string warns about &quot;Useless use of a constant in void context&quot;", "body": "<p>Void context is a context where there's nothing to consume what's been returned.</p>\n\n<p>The warnings occurs where the sub is defined with an empty prototype:</p>\n\n<pre><code>use warnings;\nsub blurb () { q(some string) }\nblurb();\n</code></pre>\n\n<p>Can you show NetApp/Dox/FlashCache.pm line 27?</p>\n"}, {"tags": [], "owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "is_accepted": false, "score": 0, "last_activity_date": 1530779712, "creation_date": 1530779712, "answer_id": 51186752, "question_id": 50907938, "link": "https://stackoverflow.com/questions/50907938/subroutine-returning-a-string-warns-about-useless-use-of-a-constant-in-void-con/51186752#51186752", "title": "Subroutine returning a string warns about &quot;Useless use of a constant in void context&quot;", "body": "<p>Oh no, finally we have found the reason for that error message \"Useless use of a constant\" on some customers server. The problem had been introduced by a bug in the distribution chain on the way to the customer.</p>\n\n<p>The code we have sent was (example, reduced):</p>\n\n<pre><code>#!/usr/local/bin/perl -w\nuse warnings;\nuse strict;\nuse feature \":5.10\";\n\nsay blurb();\n\nsay \"\\n\\n\\nDESCRIPTION and EXAMPLES\\n\\n\" . extra();\n\nsub blurb {\nq{I am the blurb - print me wherever you want me to be shown.};\n}\n\n\nsub extra {\n&lt;&lt;END;\nSome extra documentation - spanning several lines including indents.\n\nEXAMPLES:\n\n    # so something\n    do_something.pl -H &lt;hostname&gt;\n\nDoes something with hostname.\n\nHINT: Da also lag der Hund begraben (German saying, \"that's where the dog is buried\" translates to \"there's the fly in the ointment\")\nEND\n}\n</code></pre>\n\n<p>The code which had actually been run on the customers server and which caused that error was slightly different:</p>\n\n<pre><code>#!/usr/local/bin/perl -w\nuse warnings;\nuse strict;\nuse feature \":5.10\";\n\nsay blurb();\n\nsay \"\\n\\n\\nDESCRIPTION and EXAMPLES\\n\\n\" . extra();\n\nsub blurb {\nq{I am the blurb - print me wherever you want me to be shown.};\nmy $status;\n}\n\n\nsub extra {\n&lt;&lt;END;\nSome extra documentation - spanning several lines including indents.\n\nEXAMPLES:\n\n    # so something\n    do_something.pl -H &lt;hostname&gt;\n\nDoes something with hostname.\n\nHINT: Da also lag der Hund begraben (German saying, \"that's where the dog is buried\" translates to \"there's the fly in the ointment\")\nEND\n}\n</code></pre>\n\n<p>The cause for the error-message was the additional line in the blurb-sub.</p>\n\n<h2>Conclusions</h2>\n\n<p>Beside of fixing the distribution chain future code will be made a bit more robust by either storing the text in a variable and returning that variable later or leaving out the last semicolon which would have thrown a clear error during compile-time and would have saved hours of debugging.</p>\n\n<pre><code>#!/usr/local/bin/perl -w\nuse warnings;\nuse strict;\nuse feature \":5.10\";\n\nsay blurb();\n\nsay \"\\n\\n\\nDESCRIPTION and EXAMPLES\\n\\n\" . extra();\n\nsub blurb {\nq{I am the blurb - print me wherever you want me to be shown.}\n}\n\n\nsub extra {\n    my $extra = \n&lt;&lt;END;\nSome extra documentation - spanning several lines including indents.\n\nEXAMPLES:\n\n    # so something\n    do_something.pl -H &lt;hostname&gt;\n\nDoes something with hostname.\n\nHINT: Da also lag der Hund begraben (German saying, \"that's where the dog is buried\" translates to \"there's the fly in the ointment\")\nEND\nreturn $extra;\n}\n</code></pre>\n\n<p>Sorry for the first miss-leading code-example and thanks for all your comments!</p>\n"}], "owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1530779712, "creation_date": 1529319481, "last_edit_date": 1529340524, "question_id": 50907938, "link": "https://stackoverflow.com/questions/50907938/subroutine-returning-a-string-warns-about-useless-use-of-a-constant-in-void-con", "title": "Subroutine returning a string warns about &quot;Useless use of a constant in void context&quot;", "body": "<p></p>\n\n<p>I have a simple function <code>blurb</code> in a module that returns some text</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>package Il::NetApp::Dox::FlashCache;\n\nuse strict;\nuse warnings;\nno if $] &gt;= 5.018, warnings =&gt; \"experimental::smartmatch\";\n\nuse Carp;\nuse Carp::Heavy;\nuse Data::Dumper;\n\nuse FindBin qw($Bin);\nuse Il::SysMon::Tools 3.2.1 qw( :debug :special_chars :text_format :help_snippets);\nuse Il::NetApp::Tools qw( :help_snippets ); \n\n# ===========================================================================\n# = Texte  - ab hier wird \u00fcbersetzt =\n# ===========================================================================\n\n# ===========================================================================\n# Markdown Syntax in blurb, extra und examples=&gt;txt!\n#\n# Verwendbare Variablen in den Texten:\n#\n# $VERBOSE_HINT = Hinweis -v einzusetzen\n#\n# ===========================================================================\n\nsub blurb {\nq{Checks several metrics of NetApps FlashCache (PAM II).}; # Line 27\n}\n\nsub extra {\n&lt;&lt;END_EXTRA,\nThis plugin checks various performance counters of the NetApp-system.\n\nA list of supported counters is printed via the `--counter` switch.\n\n$HELP_DISCOVER_COUNTERS\nEND_EXTRA\n} \n\n#\n# Examples: Hier ist jeweils nur txt =&gt; zu \u00fcbersetzen\n# \n\nsub simple_examples {\n    my $examples = \n        [\n            {\n                cmd =&gt; q{--explore=counters},\n                txt =&gt; q{List all available and supported counters on the target system.}\n            },\n            {\n                cmd =&gt; q{-z hit_percent -w 0 -c 0},\n                txt =&gt; q{Monitor the hitrate for trendanalyses but do not alarm.}\n            },\n        ]\n    ; # Ende von my $examples =\n    return $examples;\n}\n\n# sub advanced_examples {\n#     my $examples = \n#         [\n#             {\n#                 cmd =&gt; q{},\n#                 txt =&gt; q{}\n#             },\n#         ]\n#     ; # Ende von my $examples =\n#     return $examples;\n# }\n\n\n# ===========================================================================\n# = ENDE der Texte - ab hier ist nichts mehr zu \u00fcbersetzen =\n# ===========================================================================\n\n1;  # return true\n</code></pre>\n\n<p>On one server we are getting occasional warnings:</p>\n\n<blockquote>\n  <p>Useless use of a constant (\"Checks several metrics of \"...) in void context at .../lib/Il/NetApp/Dox/FlashCache.pm line 27.</p>\n</blockquote>\n\n<p>A Perl subroutine returns the value of the last statement executed if it is an expression, and this technique has worked before. I can't reproduce the problem with Perl v5.10.1 or v5.18.2.</p>\n\n<p>The site having these warnings is running Perl v5.16.3</p>\n\n<pre class=\"lang-none prettyprint-override\"><code># perl --version\n\nThis is perl 5, version 16, subversion 3 (v5.16.3) built for x86_64-linux-thread-multi\n(with 33 registered patches, see perl -V for more detail)\n</code></pre>\n\n<p>Could this be a bug in a specific Perl version?</p>\n"}, {"tags": ["perl", "system"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1529319452, "post_id": 50907801, "comment_id": 88815621, "body": "What Perl version do you have? I&#39;m getting totally different error, and a nice warning, too, in 5.18.2: <code>Possible unintended interpolation of @g in string at .... Global symbol &quot;@g&quot; requires explicit package name (did you forget to declare &quot;my @g&quot;?)</code>"}, {"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1529320970, "post_id": 50907801, "comment_id": 88816474, "body": "This is perl, v5.6.0 built for sun4-solaris"}, {"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1529321099, "post_id": 50907801, "comment_id": 88816566, "body": "It&#39;s working now after put in to backslash <code>echo Ra@@\\@g | p4 -u raj login</code>;"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1529321364, "post_id": 50907801, "comment_id": 88816722, "body": "5.6.0 is 18 years old!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1529324608, "post_id": 50907801, "comment_id": 88818774, "body": "I&#39;ve edited your code to fix the indentation. you&#39;re welcome, but please do it yourself in the future. Sensible indentation is one of the best ways to make your code easy to understand. If you&#39;re asking a large group of people to read and understand your code, it&#39;s a good idea to make that as easy as possible for them."}], "answers": [{"comments": [{"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "edited": false, "score": 0, "creation_date": 1529320057, "post_id": 50907976, "comment_id": 88815913, "body": "Thanks for your support."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529331334, "post_id": 50907976, "comment_id": 88822937, "body": "oh, weird. Comment retracted. <code>@@</code> doesn&#39;t get interpolated somehow. I&#39;d still escape them than relying on that behaviour."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 6, "last_activity_date": 1529319635, "creation_date": 1529319635, "answer_id": 50907976, "question_id": 50907801, "link": "https://stackoverflow.com/questions/50907801/global-symbol-doesnt-recognized-on-perl/50907976#50907976", "title": "Global symbol doesn&#39;t recognized on perl", "body": "<p><code>@g</code> is interpreted as the <code>@g</code> array, as backquotes interpolate variables including arrays.</p>\n\n<p>Moreover, the error message has been changed years ago, it seems your Perl version is very old. Consider upgrading it.</p>\n\n<p>To use <code>@g</code> as a string in backquotes, you need to escape the at-sign:</p>\n\n<pre><code>my $connection = `echo Ra@@\\@g | p4 -u raj login`;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529329902, "post_id": 50908058, "comment_id": 88822011, "body": "That will still fail if the password contains spaces, parens, etc"}], "tags": [], "owner": {"reputation": 59, "user_id": 7203941, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154668860349757/picture?type=large", "display_name": "Dejan Lazar", "link": "https://stackoverflow.com/users/7203941/dejan-lazar"}, "is_accepted": false, "score": 0, "last_activity_date": 1529320491, "last_edit_date": 1529320491, "creation_date": 1529319914, "answer_id": 50908058, "question_id": 50907801, "link": "https://stackoverflow.com/questions/50907801/global-symbol-doesnt-recognized-on-perl/50908058#50908058", "title": "Global symbol doesn&#39;t recognized on perl", "body": "<p>what you would like to achieve with this:</p>\n\n<pre><code>echo Ra@@@g\n</code></pre>\n\n<p>what about using:</p>\n\n<pre><code>my $tmp = 'Ra@@@g';\nmy $connection=`echo $tmp|p4 -u raj login`;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1529331268, "last_edit_date": 1529331268, "creation_date": 1529330158, "answer_id": 50911139, "question_id": 50907801, "link": "https://stackoverflow.com/questions/50907801/global-symbol-doesnt-recognized-on-perl/50911139#50911139", "title": "Global symbol doesn&#39;t recognized on perl", "body": "<p><code>qx&#x60;...&#x60;</code> aka <code>&#x60;...&#x60;</code> interpolates like double-quoted strings (<code>qq\"...\"</code> aka <code>\"...\"</code>).</p>\n\n<pre><code>my $connection = `echo Ra\\@\\@\\@g | p4 -u raj login`;\n</code></pre>\n\n<p>Ideally, though, the password would be a separate variable.</p>\n\n<pre><code>use String::ShellQuote qw( shell_quote );\n\nmy $password = 'Ra@@@g';\n\nmy $cmd1 = shell_quote(\"printf\", \"%s\", $password);\nmy $cmd2 = shell_quote(\"p4\", \"-u\", \"raj\", \"login\");\n\nmy $connection = `$cmd1 | $cmd2`;\n</code></pre>\n"}], "owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 50907976, "answer_count": 3, "score": 0, "last_activity_date": 1529348678, "creation_date": 1529319013, "last_edit_date": 1529348678, "question_id": 50907801, "link": "https://stackoverflow.com/questions/50907801/global-symbol-doesnt-recognized-on-perl", "title": "Global symbol doesn&#39;t recognized on perl", "body": "<p>I am getting an error because Global symbol doesn't take. please help me on this matter.</p>\n\n<p>Error Message : </p>\n\n<p>In the string, @@g now must be written as \\@g at gsx.pl line 5, near \"echo Ra@@@g\"\nGlobal symbol \"@@g\" requires explicit package name at ggg.pl line 5.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint \"connect to Perforce Server\\n\";\nmy $connection=`echo Ra@@@g|p4 -u raj login`;\nif ( !$connection ) {\n    print \"Failed to connect to Perforce Server\\n\";\n    exit(1);\n}\n\nmy $status = system(\"p4 sync\");\nif ($status == 0) {\n    my $workon = system(\"workon demo_project\");\n    my $build = system(\"gmake \u2013f Makefile bin\");         \n} else {\n    exit 1;\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1529318066, "post_id": 50907512, "comment_id": 88814842, "body": "what is your requirement"}, {"owner": {"reputation": 45516, "user_id": 838807, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/372d495ca83f81cfadb782894ee41b17?s=128&d=identicon&r=PG", "display_name": "musefan", "link": "https://stackoverflow.com/users/838807/musefan"}, "edited": false, "score": 1, "creation_date": 1529318087, "post_id": 50907512, "comment_id": 88814852, "body": "Well what exactly don&#39;t you understand about it?"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 7697143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b3cf7fc8db04d04c8517afa41bbaef5?s=128&d=identicon&r=PG&f=1", "display_name": "Prawin", "link": "https://stackoverflow.com/users/7697143/prawin"}, "edited": false, "score": 0, "creation_date": 1529318179, "post_id": 50907568, "comment_id": 88814900, "body": "Is that an array or scalar variable?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 59, "user_id": 7697143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b3cf7fc8db04d04c8517afa41bbaef5?s=128&d=identicon&r=PG&f=1", "display_name": "Prawin", "link": "https://stackoverflow.com/users/7697143/prawin"}, "edited": false, "score": 1, "creation_date": 1529318234, "post_id": 50907568, "comment_id": 88814929, "body": "@Prawin \u2014 See the second paragraph of the answer."}, {"owner": {"reputation": 59, "user_id": 7697143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b3cf7fc8db04d04c8517afa41bbaef5?s=128&d=identicon&r=PG&f=1", "display_name": "Prawin", "link": "https://stackoverflow.com/users/7697143/prawin"}, "edited": false, "score": 0, "creation_date": 1529318678, "post_id": 50907568, "comment_id": 88815179, "body": "Ok got it, Thank You."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 5, "last_activity_date": 1529318108, "creation_date": 1529318108, "answer_id": 50907568, "question_id": 50907512, "link": "https://stackoverflow.com/questions/50907512/variable-declaration-in-perl-with-multiple-values/50907568#50907568", "title": "variable declaration in perl with multiple values", "body": "<p>The <code>[]</code> syntax creates an <a href=\"https://perldoc.perl.org/perlref.html#Making-References\" rel=\"noreferrer\">array reference</a>.</p>\n\n<p>References are scalar values so can be assigned to <code>$Signal_Values</code>.</p>\n\n<p>Arrays are data structures designed to hold an ordered list of values.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1529330553, "creation_date": 1529330553, "answer_id": 50911259, "question_id": 50907512, "link": "https://stackoverflow.com/questions/50907512/variable-declaration-in-perl-with-multiple-values/50911259#50911259", "title": "variable declaration in perl with multiple values", "body": "<pre><code>my $Signal_Values;\n$Signal_Values = [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0];\n</code></pre>\n\n<p>is basically equivalent to</p>\n\n<pre><code>my $Signal_Values;\nmy @anon = (1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0);\n$Signal_Values = \\@anon;\n</code></pre>\n\n<p><code>[ LIST ]</code> creates an array, assigns the results of <code>LIST</code> to the array, then returns a reference to the array. References are scalars, so they can be passed to a sub, returned by a sub and placed inside other arrays and hashes. (You can't do any of those things with arrays.)</p>\n"}], "owner": {"reputation": 59, "user_id": 7697143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b3cf7fc8db04d04c8517afa41bbaef5?s=128&d=identicon&r=PG&f=1", "display_name": "Prawin", "link": "https://stackoverflow.com/users/7697143/prawin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1529330553, "creation_date": 1529317977, "last_edit_date": 1529318229, "question_id": 50907512, "link": "https://stackoverflow.com/questions/50907512/variable-declaration-in-perl-with-multiple-values", "title": "variable declaration in perl with multiple values", "body": "<p>I'm new to perl, I don't understand how does this line work.</p>\n\n<pre><code>my $Signal_Values;\n$Signal_Values = [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0];\n</code></pre>\n\n<p>TIA.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "edited": false, "score": 0, "creation_date": 1529316916, "post_id": 50907145, "comment_id": 88814143, "body": "Consider <code>map</code> function."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1529316989, "post_id": 50907145, "comment_id": 88814187, "body": "Please <a href=\"https://stackoverflow.com/posts/50907145/edit\">edit</a> your question and show us how you get the values in <code>@tables</code>. The obvious solution is to remove the whitespace, but I would look at the data in the database. <code>chomp</code> removes newlines, not spaces."}, {"owner": {"reputation": 17, "user_id": 9083541, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j1C4q3Agw_o/AAAAAAAAAAI/AAAAAAAAAEc/fcSOQvr_k2s/photo.jpg?sz=128", "display_name": "Prashant Varun", "link": "https://stackoverflow.com/users/9083541/prashant-varun"}, "edited": false, "score": 0, "creation_date": 1529317697, "post_id": 50907145, "comment_id": 88814620, "body": "@Arkadiy: # Shell Script to run a sql command from command line . /.profile 1&gt; /dev/null 2&gt; /dev/null DBUSER=$1 DBPASS=$2 SQLCMD=$3 PGPASSWORD=$DBPASS psql -d $dbname -h krh7posdb -U $dbuser -t &lt;&lt;EOF $SQLCMD; EOF   And then,   my $cmd = &quot;runsql.sh $LocalDBUser $LocalDBPassword &#39;select TABLE_NAME from SOME_TABLE where UPDATE_TIME &gt; SYNC_TIME&#39; 2&gt;&amp;1&quot;;   my $ret = qx/$cmd/;   RESULT IS:  2018-06-18 18:08:22.837937 &lt; APP &gt; get_updated_tables(): get updated table success:  NEW_ENTRY  SAMPLE  NEW_ENTRY  SAMPLE"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "edited": false, "score": 0, "creation_date": 1529317887, "post_id": 50907145, "comment_id": 88814737, "body": "Please edit your attempt with map into the question (chomp is not suitable, I think). Provide the input and the output."}, {"owner": {"reputation": 17, "user_id": 9083541, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j1C4q3Agw_o/AAAAAAAAAAI/AAAAAAAAAEc/fcSOQvr_k2s/photo.jpg?sz=128", "display_name": "Prashant Varun", "link": "https://stackoverflow.com/users/9083541/prashant-varun"}, "edited": false, "score": 0, "creation_date": 1529318046, "post_id": 50907145, "comment_id": 88814829, "body": "Would you suggest the map operation ON ?       map { s/^\\s+|\\s+$//g; } @tables; OR     map { s/^\\s+|\\s+$//g; } $table_list; \t OR Any other syntax,if missed out."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "edited": false, "score": 0, "creation_date": 1529318891, "post_id": 50907145, "comment_id": 88815295, "body": "I&#39;d suggest map on the list, not on the string :). Oh, and what is that regexp? Should it not be <code>s&#47;\\s&#47;_&#47;r</code> (forgot <code>r</code> initiallly)?  (please, please edit your code into the question!)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1529324283, "post_id": 50907145, "comment_id": 88818600, "body": "The best approach is to fix the data in your database so that the <code>table_name</code> column does not include those extra spaces. And fix whatever populates that column as well."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1529317941, "creation_date": 1529317941, "answer_id": 50907504, "question_id": 50907145, "link": "https://stackoverflow.com/questions/50907145/joining-the-array-elements-and-then-removing-spaces-from-result/50907504#50907504", "title": "Joining the array elements and then removing spaces from result", "body": "<p>You need</p>\n\n<pre><code>my $table_list = join '|', map { s/^\\s+//r } @tables\n</code></pre>\n\n<p>But as <strong>simbabque</strong> says in his comment, you should investigate where these spaces are coming from and fix the underlying problem. It may be that the database has been populated incorrectly or the error may be in the code you have written to read it.</p>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1529321030, "creation_date": 1529321030, "answer_id": 50908386, "question_id": 50907145, "link": "https://stackoverflow.com/questions/50907145/joining-the-array-elements-and-then-removing-spaces-from-result/50908386#50908386", "title": "Joining the array elements and then removing spaces from result", "body": "<pre><code>( my $table_list = join( \"|\", @tables )) =~ s/\\s+//g;\n</code></pre>\n\n<p>You can apply a substitution after an assignment if you place the assignment in parentheses.</p>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 6366580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iIEHS.jpg?s=128&g=1", "display_name": "rawatsandeep1989", "link": "https://stackoverflow.com/users/6366580/rawatsandeep1989"}, "is_accepted": false, "score": -1, "last_activity_date": 1529340189, "creation_date": 1529340189, "answer_id": 50914049, "question_id": 50907145, "link": "https://stackoverflow.com/questions/50907145/joining-the-array-elements-and-then-removing-spaces-from-result/50914049#50914049", "title": "Joining the array elements and then removing spaces from result", "body": "<p>I would suggest you to run splite once again and then again join the contents.\nchomp didn't work here, because ( I think space is at the front) secondly if you want to go by map you can.</p>\n\n<pre><code>my $table=\" NEW_ENTRY| SAMPLE| NEW_ENTRY| SAMPLE\";\nmy @arr=split(' ',$table);\nmy $arr1=join('',@arr);\n</code></pre>\n\n<p>OUTPUT:\nNEW_ENTRY|SAMPLE|NEW_ENTRY|SAMPLE</p>\n"}], "owner": {"reputation": 17, "user_id": 9083541, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j1C4q3Agw_o/AAAAAAAAAAI/AAAAAAAAAEc/fcSOQvr_k2s/photo.jpg?sz=128", "display_name": "Prashant Varun", "link": "https://stackoverflow.com/users/9083541/prashant-varun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1529340189, "creation_date": 1529316748, "last_edit_date": 1529316920, "question_id": 50907145, "link": "https://stackoverflow.com/questions/50907145/joining-the-array-elements-and-then-removing-spaces-from-result", "title": "Joining the array elements and then removing spaces from result", "body": "<p>I have certain result from a SELECT query from PSQL in a way that, every table is coming out with a leading space.</p>\n\n<p>I am then joining the elements through pipe as below:</p>\n\n<pre><code>my @tables = @_;\nmy $table_list = join \"|\",@tables;\n</code></pre>\n\n<p>I am getting the result as: </p>\n\n<pre><code>TABLE LIST IS: NEW_ENTRY| SAMPLE| NEW_ENTRY| SAMPLE\n</code></pre>\n\n<p>I want the output as:</p>\n\n<pre><code>TABLE LIST IS: NEW_ENTRY|SAMPLE|NEW_ENTRY|SAMPLE\n</code></pre>\n\n<p>I tried with map, chomp but dont know what i am missing.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1529331573, "post_id": 50905872, "comment_id": 88823087, "body": "Since <code>$car</code> contains a caract&#232;re and not a regex pattern, one should use <code>s&#47;\\Q$car\\E&#47;\\\\$car&#47;</code> (or the slower <code>s&#47;(\\Q$car\\E)&#47;\\\\$1&#47;</code>)."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 6, "last_activity_date": 1529331766, "last_edit_date": 1529331766, "creation_date": 1529312254, "answer_id": 50905872, "question_id": 50905834, "link": "https://stackoverflow.com/questions/50905834/perl-replace-parameter/50905872#50905872", "title": "Perl replace parameter", "body": "<p>The pattern for <a href=\"http://perldoc.perl.org/functions/tr.html\" rel=\"nofollow noreferrer\"><code>tr///</code></a> gets compiled during compile time. For a dynamic substitution you need to use a regular expression substitution with <a href=\"http://perldoc.perl.org/functions/s.html\" rel=\"nofollow noreferrer\"><code>s///</code></a>.</p>\n\n<p>What <code>tr///</code> does is called <em>transliteration</em>. That means it replaces one character with another character. What you are trying to do is <em>substitution</em>, where you want to replace one flexible string with another string. Those are fundamentally different things.</p>\n\n<p>You also need to escape the backslash <code>\\\\</code>. If you put a single one, it'll escape the dollar sign <code>$</code>, and replace the content of <code>$car</code> with the literal string <code>'$car'</code>.</p>\n\n<pre><code>$ligne =~ s/$car/\\\\$car/\n</code></pre>\n\n<p>If you're unsure what is in your <code>$car</code>, you should escape it. There could be characters in it that have special meaning in regular expressions, such as <code>.</code>. The <code>\\Q ... \\E</code> will escape those so they will be treated as literal characters instead.</p>\n\n<pre><code>$ligne =~ s/\\Q$car\\E/\\\\$car/\n</code></pre>\n\n<p>Also see <a href=\"https://stackoverflow.com/q/3638205/1331451\">What&#39;s the difference between tr/// and s/// when using regex in Perl?</a>, which is not a direct duplicate.</p>\n"}], "owner": {"reputation": 59, "user_id": 2784372, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/56d647dc832ed59e526d9145ef8b6b9b?s=128&d=identicon&r=PG&f=1", "display_name": "ERV", "link": "https://stackoverflow.com/users/2784372/erv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1529414995, "creation_date": 1529312118, "last_edit_date": 1529312473, "question_id": 50905834, "link": "https://stackoverflow.com/questions/50905834/perl-replace-parameter", "title": "Perl replace parameter", "body": "<p>I would like to modify a Perl script but I have a problem.</p>\n\n<p>I read the documentation about \"tr\" command but but my problem is when the string to be replaced is customizable.</p>\n\n<p>For example, my var \"$car\" contains \"&amp;\" et I want to replace this string by \"\\&amp;\".</p>\n\n<p>I try this but it doesn't work </p>\n\n<pre><code>ligne =~ tr/$car/\\$car/\n</code></pre>\n\n<p>Who can help me ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1529318290, "post_id": 50904328, "comment_id": 88814958, "body": "It&#39;s not clear what is in <code>$attribute</code>. Is it a string with all the values separated by commas <code>test1,test2</code> or does it somehow have just one of these values at a time using code you haven&#39;t shown? Either way, your XPath expression <code>&#47;&#47;sr:root&#47;sr:test[$attribute]</code> is wrong, and should be like <code>&#47;sr:root&#47;sr:test[@name=&quot;test1&quot;]</code> etc. (Why search everywhere in the data for an <code>&lt;sr:root&gt;</code> element when it&#39;s right at the top?)"}, {"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1529320960, "post_id": 50904328, "comment_id": 88816465, "body": "@Borodin As I have written in my explanation it is the attribute <code>name</code> of test nodes, i.e. in <code>&lt;test name=&quot;test1&quot;&gt;</code> is for example  <code>test1</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1529321239, "post_id": 50904328, "comment_id": 88816648, "body": "And as I said, what you wrote isn&#39;t clear. You say that <code>$attribute</code> is <code>(test1, test2, ....)</code>, but does that include the parentheses and the dots? Either way, stuffing that into an XPath predicate doesn&#39;t make sense. Please show the code that defines <code>$attribute</code> and some examples of its value."}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "edited": false, "score": 0, "creation_date": 1529307361, "post_id": 50904579, "comment_id": 88809036, "body": "please see my revised version. I hope it is clear now! Thanks for your answer. But What I need is to use <code>-&gt;get_nodelist</code>. Because I want to go through each node one by one, rather than using <code>findnodes</code> in first place."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "edited": false, "score": 2, "creation_date": 1529307503, "post_id": 50904579, "comment_id": 88809116, "body": "@Royeh: Too late :-) But you should be able to get the exact solution from my answer, anyway. Note that I slightly improved it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "edited": false, "score": 0, "creation_date": 1529321565, "post_id": 50904579, "comment_id": 88816837, "body": "@Royeh: The code for the <code>get_nodelist</code> method is exactly <code>@$test_nodes</code>. The two are exactly equivalent."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1529307458, "last_edit_date": 1529307458, "creation_date": 1529307037, "answer_id": 50904579, "question_id": 50904328, "link": "https://stackoverflow.com/questions/50904328/getting-all-child-nodes-of-a-node-list-with-xmllibxml/50904579#50904579", "title": "Getting all child nodes of a node list with XML::LibXML", "body": "<p>Your code isn't runnable. Where has <code>$attribute</code> come from? Also, you don't show the definition of the <code>sr</code> namespace in the XML, so it's hard to guess what the problem is, but my guess is the <code>child</code> also belongs to the namespace. If that's the case, you have to use the prefix for it, too, and use the XPath context to search for it. Also, use XPath to specify the conditions instead of iterating over childnodes:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse XML::LibXML;\n\nmy $tree = 'XML::LibXML'-&gt;load_xml(IO =&gt; *DATA);\nmy $xpc = 'XML::LibXML::XPathContext'-&gt;new($tree);\n$xpc-&gt;registerNs(sr =&gt; 'http://sr');\n\nmy $attribute = '@name';\nmy $test_nodes = $xpc-&gt;findnodes(\"/sr:root/sr:test[$attribute]\");\nfor my $test_node (@$test_nodes) {\n    for my $child_node ($xpc-&gt;findnodes('sr:child', $test_node)) {\n        my $newresults = $xpc-&gt;findnodes('sr:grandChild', $child_node);\n        say join ' ',\n            $test_node-&gt;{name},\n            $child_node-&gt;{line},\n            $_-&gt;{name}\n            for @$newresults;\n    }\n}\n\n__DATA__\n&lt;root xmlns='http://sr'&gt;\n    &lt;test name=\"test1\"&gt;\n        &lt;node name=\"node1\"&gt;\n\n        &lt;/node&gt;\n        &lt;child type=\"\" line=\"321\" name=\"\"&gt;\n            &lt;grandChild name=\"WM\"&gt;\n                ....\n            &lt;/grandChild&gt;\n        &lt;/child&gt;\n\n    &lt;/test&gt;\n    &lt;test name=\"test2\"&gt;\n        &lt;node name=\"node2\"&gt;\n\n        &lt;/node&gt;\n        &lt;child type=\"\" line=\"123\" name=\"\"&gt;\n            &lt;grandChild name=\"WM\"&gt;\n                ....\n            &lt;/grandChild&gt;\n        &lt;/child&gt;\n    &lt;/test&gt;\n&lt;/root&gt;\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 6396392, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/86784409a165e563a12e84dfc0344ed2?s=128&d=identicon&r=PG&f=1", "display_name": "Royeh", "link": "https://stackoverflow.com/users/6396392/royeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1097, "favorite_count": 0, "accepted_answer_id": 50904579, "answer_count": 1, "score": 0, "last_activity_date": 1529316056, "creation_date": 1529306145, "last_edit_date": 1529316056, "question_id": 50904328, "link": "https://stackoverflow.com/questions/50904328/getting-all-child-nodes-of-a-node-list-with-xmllibxml", "title": "Getting all child nodes of a node list with XML::LibXML", "body": "<p></p>\n\n<p>I have the following XML file</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root&gt;\n  &lt;test name=\"test1\"&gt;\n    &lt;node name=\"node1\"&gt;\n    &lt;/node&gt;\n    &lt;child type=\"\" line=\"321\" name=\"\"&gt;\n      &lt;grandChild name=\"WM\"&gt;\n        ....\n      &lt;/grandChild&gt;\n    &lt;/child&gt;\n  &lt;/test&gt;\n  &lt;test name=\"test2\"&gt;\n    &lt;node name=\"node2\"&gt;\n    &lt;/node&gt;\n    &lt;child type=\"\" line=\"123\" name=\"\"&gt;\n      &lt;grandChild name=\"WM\"&gt;\n        ....\n      &lt;/grandChild&gt;\n    &lt;/child&gt;\n  &lt;/test&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>I want to access some of the nodes if a condition holds, but I am failing to get the <code>&lt;grandChild&gt;</code> child elements.</p>\n\n<p>My Perl code is as follows</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $xml = XML::LibXML::XPathContext-&gt;new();\n\nmy $xpc = XML::LibXML::XPathContext-&gt;new();\n$xpc-&gt;registerNs(sr =&gt; 'http://www.froglogic.com/XML2');\n\nmy $tree         = $parser-&gt;parse_file($xmlFile);\nmy $nodes        = $xml-&gt;findnodes(\"//sr:root/sr:test[$attribute]\", $tree);\nmy $childTagName = 'child';\n\nforeach my $node ( $nodes-&gt;get_nodelist ) {\n\n    my $childNodes = $node-&gt;getChildNodes();\n\n    foreach my $childNode ( $childNodes-&gt;get_nodelist ) {\n\n        if ( $childNode-&gt;getName() eq $childTagName ) {\n\n            my $newresults = $childNode-&gt;findnodes('//child');\n        }\n    }\n}\n</code></pre>\n\n<p>Of course the main part of it is deleted to simplify my question.</p>\n\n<p>I should mention that <code>$attribute</code> is the test names (test1, test2, ....).</p>\n\n<p>Would you please let me know why I could not get grandchild in <code>$newresults</code> and it is always empty when I am printing to the command console.</p>\n"}, {"tags": ["linux", "perl", "awk"], "comments": [{"owner": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "edited": false, "score": 0, "creation_date": 1529303965, "post_id": 50903691, "comment_id": 88807385, "body": "is <code>A B C D</code> always on 4 lines?"}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "reply_to_user": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "edited": false, "score": 0, "creation_date": 1529304232, "post_id": 50903691, "comment_id": 88807511, "body": "Yep, A B C D is always on 4 lines."}, {"owner": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "edited": false, "score": 0, "creation_date": 1529304361, "post_id": 50903691, "comment_id": 88807573, "body": "So your first file contains N=4*n lines (where n is an integer) with a repetition of the first 4th lines all over the file?"}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "reply_to_user": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "edited": false, "score": 0, "creation_date": 1529304453, "post_id": 50903691, "comment_id": 88807614, "body": "Yes, that is correct."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 1, "creation_date": 1529305394, "post_id": 50904100, "comment_id": 88808052, "body": "Hi Allan, thanks for answering my question. I will try your sample code first, and will let you know if it is good."}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 1, "creation_date": 1529310556, "post_id": 50904100, "comment_id": 88810587, "body": "Your script works very well on my sample, but it didn&#39;t work on my real assignment. Anyway it is good for my future reference as it gave me an idea to solve another problem. Thanks Allan."}], "tags": [], "owner": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "is_accepted": false, "score": 1, "last_activity_date": 1529305044, "creation_date": 1529305044, "answer_id": 50904100, "question_id": 50903691, "link": "https://stackoverflow.com/questions/50903691/how-to-add-and-sort-specific-rows-of-textline/50904100#50904100", "title": "How to add and sort specific rows of textline?", "body": "<p>Then it will be quite straightforwards:</p>\n\n<pre><code>BUFF=`sed -n '1,4p' first.txt`; awk -v buff=\"$BUFF\" '!/^1 header$/{print}/^1 header$/{print buff;print}' second.txt\nA\nB\nC\nD\n1 header\n123\n456\n2 header\n123\nA\nB\nC\nD\n1 header\n123\n2 header\n123\n456\n</code></pre>\n\n<p>You store in a variable the 4th lines using <code>sed -n '1,4p'</code>. Then you pass that variable content to <code>awk</code> by using the syntax <code>-v buff=\"$BUFF\"</code>. The core of the <code>sed</code> program will read the second file and for each line that does not contain exactly <code>1 header</code> your print the line, when you reach a line whose content is <code>1 header</code> then you print the 4 lines extracted with your <code>sed</code> command before printing that specific line. </p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1529306421, "post_id": 50904202, "comment_id": 88808548, "body": "Hi Ravinder, thanks for answering my question. I will try your sample code and will let you know if it good."}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1529308514, "post_id": 50904202, "comment_id": 88809603, "body": "Hi Ravin, could you explain a little bit on your code? Thanks."}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 1, "creation_date": 1529310093, "post_id": 50904202, "comment_id": 88810343, "body": "This script works very well on both sample and my assignment. I just need to edit the /header/, count==3 and FNR%4==0 &amp;&amp; FNR&gt;1 on my assignment. Thank you very much for sharing your ideas."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1529311778, "post_id": 50904202, "comment_id": 88811244, "body": "@Amz, added explanation to my code now too, please do let me know in case of any queries on same."}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 0, "creation_date": 1529313394, "post_id": 50904202, "comment_id": 88812154, "body": "DOWN VOTER: This is not fair, without giving reason down votes, this is 2nd for the day for me."}, {"owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "edited": false, "score": 1, "creation_date": 1529315064, "post_id": 50904202, "comment_id": 88813140, "body": "Great explanation. I don&#39;t  know whom downvote it. Anyway, thanks again Ravin."}, {"owner": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "edited": false, "score": 1, "creation_date": 1529366801, "post_id": 50904202, "comment_id": 88837863, "body": "@RavinderSingh13: Let me up vote it! I am also getting pissed off with all those down vote who do not leave a feedback... As usual great answer! Buddy!"}, {"owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "reply_to_user": {"reputation": 11092, "user_id": 8794221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e2de0a8497383ad1889e87d91adc91?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/8794221/allan"}, "edited": false, "score": 1, "creation_date": 1529372833, "post_id": 50904202, "comment_id": 88838970, "body": "@Allan, thanks buddy it really discourages when someone down votes without any reasons :("}], "tags": [], "owner": {"reputation": 95936, "user_id": 5866580, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1de2cd722d865edac1575102a48ecc0a?s=128&d=identicon&r=PG&f=1", "display_name": "RavinderSingh13", "link": "https://stackoverflow.com/users/5866580/ravindersingh13"}, "is_accepted": true, "score": 1, "last_activity_date": 1529311749, "last_edit_date": 1529311749, "creation_date": 1529305497, "answer_id": 50904202, "question_id": 50903691, "link": "https://stackoverflow.com/questions/50903691/how-to-add-and-sort-specific-rows-of-textline/50904202#50904202", "title": "How to add and sort specific rows of textline?", "body": "<p>Could you please try following and let me know if this helps you.</p>\n\n<pre><code>awk '\nFNR==NR{\n  if(FNR%4==0 &amp;&amp; FNR&gt;1){\n     a[++i]=val ORS $0;\n     val=\"\";\n     next};\n  val=val?val ORS $0:$0;\n  next\n}\ncount==3{\n  print a[++j] ORS val;\n  count=\"\";\n  val=\"\"}\n/header/{\n  count++}\n{\n  val=val?val ORS $0:$0\n}\nEND{\n  if(count){\n    print a[++j] ORS val}\n}' first.txt second.txt\n</code></pre>\n\n<p>Output will be as follows.</p>\n\n<pre><code>A\nB\nC\nD\n1 header\n123\n456\n2 header\n123\nA\nB\nC\nD\n1 header\n123\n2 header\n123\n456\n</code></pre>\n\n<p><strong><em>Explanation:</em></strong> Adding explanation of above code too now.</p>\n\n<pre><code>awk '\nFNR==NR{                 ##Checking condition if FNR value is eqaul to NR value which will be TRUE when first Input_file is being read.\n  if(FNR%4==0 &amp;&amp; FNR&gt;1){ ##Checking condition if line is completly divided by 4 and NOT the first line then do following.\n     a[++i]=val ORS $0;  ##Creating an array named a whose index is variable i increasing value and value is variable val value along with new line and current line.\n     val=\"\";             ##Nullifying the variable val here.\n     next};              ##Using next keyword to skip al next statements here.\n  val=val?val ORS $0:$0; ##Creating variable named val whose value is concatenating its own value in it.\n  next                   ##Using next keyword to skip all further statements from here now.\n}\ncount==3{                ##Checking condition if variable named count is 3 then do following.\n  print a[++j] ORS val;  ##Printing value of array a whose index is variable j with increasing value of 1 in it then ORS and value of variable val here.\n  count=\"\";              ##Nullifying the variable count here.\n  val=\"\"}                ##Nullifying the variable val here now.\n/header/{                ##Checking condition if a line is having string header in it then do following.\n  count++}               ##Increasing the value of variable count with 1 here.\n{\n  val=val?val ORS $0:$0  ##Creating variable named val whose value is concatenating its own values.\n}\nEND{                     ##Starting END section here of awk.\n  if(count){             ##Checking condition if variable count value is NOT NULL then do following.\n    print a[++j] ORS val}##Printing value of array a whose index is variable j and ORS and then value of variable val here.\n}' first.txt second.txt  ##Mentioning Input_file(s) named first.txt and second.txt here.\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 7839296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUMy3.png?s=128&g=1", "display_name": "Amz", "link": "https://stackoverflow.com/users/7839296/amz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 1, "accepted_answer_id": 50904202, "answer_count": 2, "score": 2, "last_activity_date": 1529311749, "creation_date": 1529303183, "question_id": 50903691, "link": "https://stackoverflow.com/questions/50903691/how-to-add-and-sort-specific-rows-of-textline", "title": "How to add and sort specific rows of textline?", "body": "<p>I have 2 files:</p>\n\n<ul>\n<li>first.txt</li>\n<li>second.txt</li>\n</ul>\n\n<p>first.txt contain:</p>\n\n<pre><code>A\nB\nC\nD\nA\nB\nC\nD\n</code></pre>\n\n<p>second.txt contain:</p>\n\n<pre><code>1 header\n123\n456\n2 header\n123\n1 header\n123\n2 header\n123\n456\n</code></pre>\n\n<blockquote>\n  <p>How to add and sort every 1 header 123 to 2 header 123 of second.txt into every\n  ABCD of first.txt like below:</p>\n</blockquote>\n\n<pre><code>A\nB\nC\nD\n1 header\n123\n456\n2 header\n123\nA\nB\nC\nD\n1 header\n123\n2 header\n123\n456\n</code></pre>\n\n<p>I tried using <code>cat first.txt second.txt</code>, but it only output like below:</p>\n\n<pre><code>A\nB\nC\nD\nA\nB\nC\nD\n1 header\n123\n456\n2 header\n123\n1 header\n123\n2 header\n123\n456\n</code></pre>\n\n<p>Do you guys have any ideas?<br>\nThese are sample problem, the real problem have million rows of textline, due to sensitive dataset I can only share sample problem only.</p>\n\n<p>Thanks,<br>\nAm</p>\n"}, {"tags": ["regex", "perl", "expression", "substitution"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1529254304, "post_id": 50898550, "comment_id": 88797047, "body": "Didn&#39;t bother to look, did you? &quot;<i>A <code>&#47;e</code> will cause the replacement portion to be treated as a full-fledged Perl expression and evaluated right then and there.</i>&quot; Also, <code>$1 ($i + 1)</code> is not a valid Perl expression."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529254657, "post_id": 50898550, "comment_id": 88797151, "body": "That said, you&#39;re making things much more complicated than they need to be.  Appending to a string shouldn&#39;t involve <code>s&#47;&#47;&#47;</code>, and iterating over a list shouldn&#39;t involve <code>while</code>. All you need is <code>$tags[$_ - 1] .= &quot; ($_)&quot; for 1..@tags;</code>"}, {"owner": {"reputation": 711, "user_id": 8998596, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210068954830186/picture?type=large", "display_name": "Martin Melichar", "link": "https://stackoverflow.com/users/8998596/martin-melichar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529258811, "post_id": 50898550, "comment_id": 88798160, "body": "Well, I am really new to Perl and regexp. I have only known /gmi modifiers and didn&#39;t really have a clue, that it could be done with another modifier. Also this snippet was very simplified, to not bother you with additional code, which would be only misleading.  Still thanks for that optimisation, I will definitely use it somewhere :)"}, {"owner": {"reputation": 711, "user_id": 8998596, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210068954830186/picture?type=large", "display_name": "Martin Melichar", "link": "https://stackoverflow.com/users/8998596/martin-melichar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529258970, "post_id": 50898550, "comment_id": 88798210, "body": "The thing is also, that I do not want to concatenate it on every item, it has a condition and I will most likely need to sort that string, while there wont be just once (.+), but something more precise..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529261299, "post_id": 50898550, "comment_id": 88798830, "body": "The passage I quoted was from the docs (perlop), and used the very word you used (&quot;evaluate&quot;). Not sure what being new to Perl has to do with anything."}], "answers": [{"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": true, "score": 2, "last_activity_date": 1529321398, "creation_date": 1529321398, "answer_id": 50908505, "question_id": 50898550, "link": "https://stackoverflow.com/questions/50898550/how-to-evaluate-an-expression-in-regular-expressions-substitution/50908505#50908505", "title": "How to evaluate an expression in regular expressions&#39; substitution", "body": "<pre><code>$tags[$i] =~ s/(.+)/\"$1 \" . ($i + 1)/e;\n</code></pre>\n\n<p>The <code>/e</code> modifier on the end means to evaluate the replacement part. See <a href=\"http://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\"><code>perldoc perlre</code></a>. Note that the replacement must be a valid Perl expression.</p>\n\n<p>It may be easier just to append the text:</p>\n\n<pre><code>$tags[$i] .= \" \" . ($i + 1 );\n</code></pre>\n"}], "owner": {"reputation": 711, "user_id": 8998596, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210068954830186/picture?type=large", "display_name": "Martin Melichar", "link": "https://stackoverflow.com/users/8998596/martin-melichar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 50908505, "answer_count": 1, "score": -1, "last_activity_date": 1529321398, "creation_date": 1529253438, "last_edit_date": 1529255774, "question_id": 50898550, "link": "https://stackoverflow.com/questions/50898550/how-to-evaluate-an-expression-in-regular-expressions-substitution", "title": "How to evaluate an expression in regular expressions&#39; substitution", "body": "<p>I need to evaluate <code>($i + 1)</code> in its cycle. Or to call a subroutine with return value.</p>\n\n<pre><code>  my $i = 0;\n\n  my @tags = qw/ something anything everything /;\n\n  until ( $i == scalar @tags ) {\n\n     $tags[$i] =~ s/(.+)/$1 ($i + 1)/;\n     $i++;\n  }\n</code></pre>\n\n<p>I just got an idea: that I can evaluate it right before that substitution and save it to a variable, which I can then insert, but it seems quite unclean and I would not be able to use it on backreference variables.</p>\n"}, {"tags": ["perl", "mojolicious-lite"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1529250788, "post_id": 50898036, "comment_id": 88796127, "body": "Your code is running as a shell script and not through the perl interpreter. Run as <code>perl hello.pl ...</code> or add a shebang line."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1529250905, "post_id": 50898036, "comment_id": 88796160, "body": "<b><i>Always</i></b> <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of every Perl program you write."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1529250963, "post_id": 50898036, "comment_id": 88796174, "body": "@mob: Please write up an answer."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1529277389, "post_id": 50898036, "comment_id": 88802211, "body": "@Borodin <a href=\"https://metacpan.org/pod/Mojolicious::Lite#SYNOPSIS\" rel=\"nofollow noreferrer\">Mojolicious::Lite</a> &quot;<i>Automatically enables &quot;strict&quot;, &quot;warnings&quot;, &quot;utf8&quot; and Perl 5.10 features</i>&quot;."}, {"owner": {"reputation": 2617, "user_id": 1184510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3152289ebed501d45a3a3488b45720?s=128&d=identicon&r=PG", "display_name": "memowe", "link": "https://stackoverflow.com/users/1184510/memowe"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1529487355, "post_id": 50898036, "comment_id": 88887211, "body": "@mob Although the correct answer (add a shebang line) might be the same this is not at all a duplicate of a hello world program."}], "owner": {"reputation": 133, "user_id": 9953339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaf93406cf92366a4bda545ba358e1ab?s=128&d=identicon&r=PG&f=1", "display_name": "Dont9889", "link": "https://stackoverflow.com/users/9953339/dont9889"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "closed_date": 1529251424, "answer_count": 0, "score": 2, "last_activity_date": 1529249204, "creation_date": 1529249204, "question_id": 50898036, "link": "https://stackoverflow.com/questions/50898036/mojolicious-lite-command-not-found-error-when-trying-to-run-any-command-line-com", "closed_reason": "Duplicate", "title": "Mojolicious-lite command not found error when trying to run any command line commands", "body": "<p>I created my mojolicious-lite app on my own(just created files I needed manually instead of using the \"create app\" commands). I am following along with the tutorial here: <a href=\"https://www.perl.com/article/193/2015/9/18/How-to-send-verification-emails-using-Mojolicious/\" rel=\"nofollow noreferrer\">https://www.perl.com/article/193/2015/9/18/How-to-send-verification-emails-using-Mojolicious/</a></p>\n\n<p>When trying to use any command line commands with my app I am getting errors. From the tutorial specifically I am trying to run:</p>\n\n<pre><code>./hello.pl minion job\n</code></pre>\n\n<p>But more generally I also notice no commands seem to be working for me e.g:</p>\n\n<pre><code>./hello.pl help\n./hello.pl routes\n</code></pre>\n\n<p>The error seems to be with parsing of my postgres helper? Here is the exact error message:</p>\n\n<pre><code>./hello.pl help\n./hello.pl: line 1: use: command not found\n./hello.pl: line 2: use: command not found\n./hello.pl: line 3: use: command not found\n./hello.pl: line 4: use: command not found\n./hello.pl: line 5: use: command not found\n./hello.pl: line 6: use: command not found\n./hello.pl: line 7: use: command not found\n./hello.pl: line 10: syntax error near unexpected token `('\n./hello.pl: line 10: `helper pg =&gt; sub { state $pg = Mojo::Pg-&gt;new('postgresql://postgres@/test_users') };'\n</code></pre>\n\n<p>My app is working fine other than invoking commands from the command line.</p>\n\n<p>Here are the first 11 lines of my app:</p>\n\n<pre><code>use Mojolicious::Lite;\nuse Mojo::ByteStream;\nuse Mojo::JWT;\nuse Mojo::Pg;\nuse Mojolicious::Plugin::Bcrypt;\nuse Mojolicious::Plugin::Minion;\nuse Data::Dumper;\n\n\nhelper pg =&gt; sub { state $pg = Mojo::Pg-&gt;new('postgresql://postgres@/test_users') };\napp-&gt;pg-&gt;migrations-&gt;from_data-&gt;migrate;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529188325, "post_id": 50892216, "comment_id": 88785189, "body": "Tip: Those <code>scalar</code> are redundant since the expressions are already being evaluated in scalar context. You should get rid of them."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529188394, "post_id": 50892216, "comment_id": 88785194, "body": "Tip: If you want to dump an array, use <code>Dumper \\@a</code>, not <code>Dumper @a</code>. Less confusing, especially in the very situation you find yourself in"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1529189546, "post_id": 50892216, "comment_id": 88785355, "body": "Are persons and results by any chance related? You may be better served by a complex data structure if that is the case."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1529192789, "post_id": 50892216, "comment_id": 88785735, "body": "@zdim, The code is building the data structure you mention. I think @person is a person record, and @record is an augmented person record. (<code>my @record = ( @person, \\@results );</code>?)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529193458, "post_id": 50892216, "comment_id": 88785798, "body": "@ikegami That makes sense. (I missed that person is first-last name :(.  They may actually want exactly what they have, with hashrefs (except for <code>\\@results</code> as you say), so that further person+result in the same format can be tacked onto arrays (<code>@person</code> etc)."}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1529188095, "post_id": 50892251, "comment_id": 88785143, "body": "Or <code>my $person_len = scalar @$person;</code> (where <code>scalar</code> might be safely dropped, as in any other scalar context)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1529189944, "post_id": 50892251, "comment_id": 88785416, "body": "@choroba They also assign to array (not <code>$person</code>) so it&#39;d be <code>@{$person[0]}</code>. But I thought that it was just a mistake in using <code>[]</code>"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1529190584, "last_edit_date": 1529190584, "creation_date": 1529187945, "answer_id": 50892251, "question_id": 50892216, "link": "https://stackoverflow.com/questions/50892216/not-getting-array-length-as-expected/50892251#50892251", "title": "not getting array length as expected", "body": "<p>The <code>[ ]</code> constructs an <em>anonymous array</em> and returns a reference to it -- a scalar.  So you are assigning a scalar to all three arrays, what creates the first and only element in each.</p>\n\n<p>The last one also has <code>@person</code> and <code>@results</code> flattened into one list, likely not intended.</p>\n\n<p>I am not sure of the intent of your code but here is a guess as to what you may want</p>\n\n<pre><code>my @person  = (\"John\", \"Barnes\");\nmy @results = (['Chemisty', '87'], ['French', '40'], ['Maths', '90']);\nmy @record  = (\\@person, \\@results);\n</code></pre>\n\n<p>These are now arrays, first with strings and the other two with array references. </p>\n\n<p>Now you can get sizes as you wanted, but lose that <code>scalar</code>: when an array is used in a scalar <a href=\"https://perldoc.perl.org/perldata.html#Context\" rel=\"nofollow noreferrer\">context</a> &ndash; assigned to a scalar variable for example &ndash; the number of elements is returned. </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1529188470, "last_edit_date": 1529188470, "creation_date": 1529188081, "answer_id": 50892265, "question_id": 50892216, "link": "https://stackoverflow.com/questions/50892216/not-getting-array-length-as-expected/50892265#50892265", "title": "not getting array length as expected", "body": "<p><code>[ LIST ]</code> creates an array, assigns <code>LIST</code> to it, then returns a reference to that array as if you had done the following:</p>\n\n<pre><code>do { my @anon = ( LIST ); \\@anon }\n</code></pre>\n\n<p>This reference is the only thing you assign to your array. Fix:</p>\n\n<pre><code>my @person = ( \"John\", \"Barnes\" );\nmy @results = ( ['Chemisty', '87'], ['French', '40'], ['Maths', '90'] );\n</code></pre>\n\n<p>It's unclear what you want <code>@record</code> to contain. Is it a reference to <code>@person</code> and a reference to <code>@results</code>? That's just two elements (but you said you expected 3). Fix:</p>\n\n<pre><code>my @record = ( \\@person, \\@results );\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 2538857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d200c37294f00a7699a69df5847b5ce0?s=128&d=identicon&r=PG", "display_name": "mbbxedh2", "link": "https://stackoverflow.com/users/2538857/mbbxedh2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1529190584, "creation_date": 1529187483, "question_id": 50892216, "link": "https://stackoverflow.com/questions/50892216/not-getting-array-length-as-expected", "title": "not getting array length as expected", "body": "<pre><code>#!/usr/bin/perl -w\n#\n\nuse 5.010;\nuse strict;\nuse Data::Dumper;\nuse Getopt::Long qw(GetOptions);\n\nmy @person = [ \"John\", \"Barnes\" ] ;\nmy @results = [ ['Chemisty', '87'], ['French', '40'], ['Maths', '90'] ] ;\nmy @record = [ @person, @results ];\n\nmy $person_len = scalar @person;\nmy $results_len = scalar @results;\nmy $record_len = scalar @record;\n\nprint \"======= PERSON [$person_len] ===========\\n\";\nprint Dumper @person;\nprint \"========= RESULTS [$results_len] ===========\\n\";\nprint Dumper @results;\nprint \"============= RECORD [$record_len] =============\\n\";\nprint Dumper @record;\nprint \"**=========================**\\n\";\n</code></pre>\n\n<p>... when you run this I get a length of one for each array - I was expecting lengths of 2, 3 and 3 respectively </p>\n\n<p>What am I doing wrong here? (other stackoverflow Q&amp;A seems to suggest (to me!) that using scalar as per above was the way! </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 4, "creation_date": 1529155012, "post_id": 50888249, "comment_id": 88777798, "body": "Do you know about scalar vs list context in Perl?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1529159440, "post_id": 50888249, "comment_id": 88778818, "body": "You need parenthesis to create so-called list context, as noted by @melpomene ,see <a href=\"https://perldoc.perl.org/perlretut.html#Extracting-matches\" rel=\"nofollow noreferrer\">perlretut</a> and <a href=\"https://perldoc.perl.org/perldata.html#Context\" rel=\"nofollow noreferrer\">perldata</a> for more information."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1529167304, "post_id": 50888249, "comment_id": 88780712, "body": "<a href=\"https://perlmaven.com/scalar-and-list-context-in-perl\" rel=\"nofollow noreferrer\">perlmaven.com/scalar-and-list-context-in-perl</a>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1529171198, "post_id": 50888249, "comment_id": 88781607, "body": "See <a href=\"https://perldoc.perl.org/perldata.html#Context\" rel=\"nofollow noreferrer\">Context in <code>perldoc perldata</code></a>. This documentation is installed along with <code>perl</code>, there is no need to search the intarwebs. See also, <code>$ perldoc perltoc</code>."}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1529224313, "post_id": 50891318, "comment_id": 88789966, "body": "@ysth Ok, I agree. I will delete my previous comments. But the answer is still not clear to me. For example: <i>&quot;The list assignment evaluates both of its operands in list context&quot;</i> and later <i>&quot;The list assignment in scalar context evaluates to the...&quot;</i> First it says that list assignment evaluates both its operands in list context, and later it talks about list assignment in scalar context. I cannot make sense out of it yet."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1529245564, "post_id": 50891318, "comment_id": 88794785, "body": "@H&#229;konH&#230;gland the context in which the assignment is evaluated is not necessarily the same as the context in which it evaluates its operands. Example of a list assignment in scalar context: <code>while ( my ($k,$v) = each (%h) ) { ... }</code> Another: <code>my $count = () = f();</code>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1529301873, "post_id": 50891318, "comment_id": 88806553, "body": "Thanks for the clarification! It makes sense now."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1529254530, "last_edit_date": 1529254530, "creation_date": 1529179207, "answer_id": 50891318, "question_id": 50888249, "link": "https://stackoverflow.com/questions/50888249/why-are-there-parentheses-around-scalar-when-assigning-the-return-value-of-regex/50891318#50891318", "title": "Why are there parentheses around scalar when assigning the return value of regex match in this Perl snippet?", "body": "<p>There are two assignment operators denoted by <code>=</code>:</p>\n\n<ul>\n<li>The scalar assignment operator.</li>\n<li>The list assignment operator.</li>\n</ul>\n\n<p>Perl decides which one to use based on whether the left-hand side (LHS) of the assignment is some kind of aggregate or not. The following are considered to be aggregates, which result in the use of the list assignment operator:</p>\n\n<ul>\n<li><code>(...)</code> (any expression in parentheses)</li>\n<li><code>@array</code></li>\n<li><code>@array[...]</code></li>\n<li><code>%hash</code></li>\n<li><code>@hash{...}</code></li>\n<li>Any of the above preceded by <code>my</code>, <code>our</code> or <code>local</code></li>\n</ul>\n\n<p>There are two differences between the operators.</p>\n\n<p>The first is the context in which its operands are evaluated.</p>\n\n<ul>\n<li>The scalar assignment evaluates both of its operands in scalar context.</li>\n<li>The list assignment evaluates both of its operands in list context. </li>\n</ul>\n\n<p>The second difference is what they return.</p>\n\n<ul>\n<li>The scalar assignment evaluates to the LHS as an lvalue.</li>\n<li>The list assignment in scalar context evaluates to the number of scalars returned by the RHS.</li>\n<li>The list assignment in list context evaluates to the scalars returned by the LHS as lvalues.</li>\n</ul>\n\n<p>Examples are found <a href=\"https://www.perlmonks.org/?node_id=790129\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>The first difference is the one that matters in your case.</p>\n\n<ul>\n<li><p><code>my $digits = $str =~ /(\\d+)/;</code> uses the scalar assignment operator, which evaluates <code>$str =~ /(\\d+)/</code> and thus <code>/(\\d+)/</code> in scalar context. In scalar context, <code>/(\\d+)/</code> and thus <code>$str =~ /(\\d+)/</code> evaluates to whether the match was successful or not.</p></li>\n<li><p><code>my ($digits) = $str =~ /(\\d+)/;</code> uses the list assignment operator, which evaluates <code>$str =~ /(\\d+)/</code> and thus <code>/(\\d+)/</code> in list context. In list context, <code>/(\\d+)/</code> and thus <code>$str =~ /(\\d+)/</code> evaluates to the strings captured by the match.</p></li>\n</ul>\n"}], "owner": {"reputation": 710, "user_id": 9218410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c988d41e9d827d1c64078fa1a73bb4c8?s=128&d=identicon&r=PG&f=1", "display_name": "TTaJTa4", "link": "https://stackoverflow.com/users/9218410/ttajta4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1529254530, "creation_date": 1529154952, "last_edit_date": 1529171038, "question_id": 50888249, "link": "https://stackoverflow.com/questions/50888249/why-are-there-parentheses-around-scalar-when-assigning-the-return-value-of-regex", "title": "Why are there parentheses around scalar when assigning the return value of regex match in this Perl snippet?", "body": "<p>I wrote the following regex in order to get the digits from a string:</p>\n\n<pre><code>my ($digits) = ($str =~ /(\\d+)/);\n</code></pre>\n\n<p>It works as expected but I was wondering why I need to use parentheses around <code>$digits</code>? Why doesn't it work without the parenthesis? I tried to find some information about it on the web but didn't find any.</p>\n\n<p>Why can I use it like this:</p>\n\n<pre><code>my $digits = ($str =~ /(\\d+)/);\n</code></pre>\n\n<p>Can I make the changes on the <code>$str</code>? something like this: <code>$str =~ /(\\d+)/;</code>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 790, "user_id": 1198482, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YmbJH.png?s=128&g=1", "display_name": "Baba", "link": "https://stackoverflow.com/users/1198482/baba"}, "edited": false, "score": 0, "creation_date": 1529110928, "post_id": 50884169, "comment_id": 88770335, "body": "what is output of <code>returnsHash</code> ?"}, {"owner": {"reputation": 2819, "user_id": 1340097, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0914468667cea81f7c28d10cc4702f8a?s=128&d=identicon&r=PG", "display_name": "Gorkem Yurtseven", "link": "https://stackoverflow.com/users/1340097/gorkem-yurtseven"}, "reply_to_user": {"reputation": 790, "user_id": 1198482, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/YmbJH.png?s=128&g=1", "display_name": "Baba", "link": "https://stackoverflow.com/users/1198482/baba"}, "edited": false, "score": 0, "creation_date": 1529111166, "post_id": 50884169, "comment_id": 88770364, "body": "It can be anything that returns an hash, edited my question"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1529123514, "post_id": 50884169, "comment_id": 88771810, "body": "Always use <code>use strict; use warnings qw( all );</code>!!! It would have identified the problem you are asking about."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1529124015, "post_id": 50884169, "comment_id": 88771899, "body": "Re &quot;<i>It can be anything that returns an hash, edited my question</i>&quot;, The <code>returnHash</code> in your question doesn&#39;t return a hash; it returns 6 strings. In fact, it&#39;s impossible to return a hash; sub can only return scalars. It is possible for a sub to return a reference to a hash, but that&#39;s not what you have or said."}], "answers": [{"comments": [{"owner": {"reputation": 2819, "user_id": 1340097, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0914468667cea81f7c28d10cc4702f8a?s=128&d=identicon&r=PG", "display_name": "Gorkem Yurtseven", "link": "https://stackoverflow.com/users/1340097/gorkem-yurtseven"}, "edited": false, "score": 0, "creation_date": 1529113145, "post_id": 50884292, "comment_id": 88770599, "body": "is there a way to define a variable inline and then use it with each, perhaps using <code>do {}</code> or something similar?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2819, "user_id": 1340097, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0914468667cea81f7c28d10cc4702f8a?s=128&d=identicon&r=PG", "display_name": "Gorkem Yurtseven", "link": "https://stackoverflow.com/users/1340097/gorkem-yurtseven"}, "edited": false, "score": 0, "creation_date": 1529126716, "post_id": 50884292, "comment_id": 88772230, "body": "@GorkemYurtseven I don&#39;t see how that would be possible, since it would run every time through, restarting the iterator.  See ikegami&#39;s answer for a complete explanation of what your code does, and for options."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2819, "user_id": 1340097, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0914468667cea81f7c28d10cc4702f8a?s=128&d=identicon&r=PG", "display_name": "Gorkem Yurtseven", "link": "https://stackoverflow.com/users/1340097/gorkem-yurtseven"}, "edited": false, "score": 0, "creation_date": 1529126885, "post_id": 50884292, "comment_id": 88772249, "body": "@GorkemYurtseven I must ask, why? It isn&#39;t that the code needs this (to generate data for <code>while</code> dynamically), right?  You can just define the hash right there, or if you&#39;d rather not have it floating around put it all in a sub. Perhaps return an iterator, what can turn out much nicer, too."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529135951, "post_id": 50884292, "comment_id": 88773788, "body": "Alternative iterator: <code>sub get_each_it { my @a = @_; sub { splice @a, 0, 2 } }</code> Unlike <code>each</code>, it doesn&#39;t reset, but that shouldn&#39;t be a problem. I considered mentioning a custom iterator when I was writing my answer, but I ended up not including it because it doesn&#39;t help the OP at all; it still needs a loop-scoped variable."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529186718, "post_id": 50884292, "comment_id": 88784884, "body": "@ikegami Thank you, added to my answer for when the resetting isn&#39;t needed or desired (and as it avoids <code>each</code>).  As for the purpose, the one reasonable aim I can see in the question is to iterate over key-value pairs from a dynamically generated list (without adding a variable at that scope).  Added this statement to the answer.  This is why I decided to add the iterator (where the variable is hidden in the sub). Also, since OP uses <code>each</code> I thought it useful to show that the hash iterator is resettable."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529188567, "post_id": 50884292, "comment_id": 88785223, "body": "Re &quot;<i>without adding a variable at that scope [...] This is why I decided to add the iterator</i>&quot;, But your iterator solution also adds a variable at that scope?? Thus my comment about not helping."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529188773, "post_id": 50884292, "comment_id": 88785254, "body": "@ikegami Um, right, the iterator itself. (I didn&#39;t even notice it. I thought more of data.)  I am not sure what they want (perhaps just curious about doing it on the fly?) but I thought that this made sense to mention."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1529222178, "last_edit_date": 1529222178, "creation_date": 1529112633, "answer_id": 50884292, "question_id": 50884169, "link": "https://stackoverflow.com/questions/50884169/define-perl-while-each-loop-with-inline-hash/50884292#50884292", "title": "Define Perl while() = each {} loop with inline hash", "body": "<p>That can't be done since <a href=\"https://perldoc.perl.org/functions/each.html\" rel=\"nofollow noreferrer\">each</a> only works as intended with an actual <em>variable</em>, a hash or an array. See the synopsis in docs.  Same goes for <a href=\"https://perldoc.perl.org/functions/keys.html\" rel=\"nofollow noreferrer\">keys</a> and <a href=\"http://perldoc.perl.org/functions/values.html\" rel=\"nofollow noreferrer\">values</a>.</p>\n\n<p>It is the same with the second attempt, where the function is also called anew in every iteration.</p>\n\n<p>Note that a sensible thing to try would be <code>%{ {...} }</code> (and not <code>%{ (...) }</code>) since the thing inside <code>%{}</code> must be a hash reference. This applies to both attempts as the function returns a hash, whereby you get back a list of scalars. (This still wouldn't help, per the first statement.)</p>\n\n<hr>\n\n<p>I am not sure what the need is for this, as a hash can be defined before the loop. Also, I'd like to suggest to carefully look at <code>each</code> before using it since it comes with complexities. </p>\n\n<p>I take it that you want to iterate over key-value pairs of a dynamically created list of such pairs. Here is a way to do that using a custom iterator (which wraps the hash iterator used by <code>each</code>)</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy $hit = get_each_it(a =&gt; 1, b =&gt; 2, c =&gt; 3);\n\nwhile (my ($k, $v) = $hit-&gt;()) {\n    say \"$k =&gt; $v\";\n}\n\nmy ($k, $v) = $hit-&gt;();  # restarts the iterator\nsay \"$k --&gt; $v\";\n($k, $v) = $hit-&gt;();     # next (keeps state)\nsay \"$k --&gt; $v\";\n\nsub get_each_it {\n    my %h = @_;\n    return sub { return each %h }\n}\n</code></pre>\n\n<p>The repeated and continued iteration (after the hash is exhausted or for individual calls) is a basic property of the hash iterator that <a href=\"https://perldoc.perl.org/functions/each.html\" rel=\"nofollow noreferrer\">each</a> uses, and in doing that</p>\n\n<blockquote>\n  <p>So long as a given hash is unmodified you may rely on <code>keys</code>, <code>values</code> and <code>each</code> to repeatedly return the same order as each other. </p>\n</blockquote>\n\n<p>Please study carefully how this works.</p>\n\n<p>See <a href=\"https://www.perl.com/pub/2005/06/16/iterators.html/\" rel=\"nofollow noreferrer\">this article on Perl.com</a> about iterators, with a number of examples. A detailed discussion of iterators is given in <a href=\"http://search.cpan.org/dist/Iterator/Iterator.pm\" rel=\"nofollow noreferrer\">Iterator</a> module, along with a tutorial. I don't know the module well but docs are worth reading; each and every warning and caveat applies to <code>each</code>.</p>\n\n<hr>\n\n<p>In case you don't need (or want) the capability to reset the iterator for continued iterations once the hash is exhausted, here is an alternative iterator from <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a>'s comment using <a href=\"https://perldoc.perl.org/functions/splice.html\" rel=\"nofollow noreferrer\">splice</a></p>\n\n<pre><code>sub get_each_it {\n    my @kv = @_;\n    return sub { return splice @kv, 0, 2 }\n}\n</code></pre>\n\n<p>This doesn't get entangled with <code>each</code> and it also iterates in the order of the submitted list.</p>\n\n<p>Note that by properties of a <a href=\"https://perldoc.perl.org/perlsub.html#Persistent-Private-Variables\" rel=\"nofollow noreferrer\">closure</a> each code reference returned by the generator still retains its own iterator, which maintains its state when  invoked from various pieces of code. Use with care.</p>\n\n<p>Also see an introductory note on <a href=\"https://perldoc.perl.org/perlfaq7.html#What%27s-a-closure%3F\" rel=\"nofollow noreferrer\">closure in perlfaq7</a></p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529123692, "post_id": 50884414, "comment_id": 88771846, "body": "No reason to use a hash. Probably faster: <code>for (my @h = ( ... ); my ($key, $value) = splice(@h, 0, 2); ) { ... }</code>"}], "tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": false, "score": 1, "last_activity_date": 1529115843, "last_edit_date": 1529115843, "creation_date": 1529114915, "answer_id": 50884414, "question_id": 50884169, "link": "https://stackoverflow.com/questions/50884169/define-perl-while-each-loop-with-inline-hash/50884414#50884414", "title": "Define Perl while() = each {} loop with inline hash", "body": "<p>A possibility to do what you apparently want to do, would be using a <code>for</code> loop. The (not so) anonymous hash goes in the initialisation expression. The test expression is the assignment of <code>each</code> and the iteration expression stays empty.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nfor (my %h = (\n              apple =&gt; 'red',\n              orange =&gt; 'orange',\n              grape =&gt; 'purple',\n             );\n     my ($key, $value) = each(%h);\n    ) {\n  print(\"$key: $value\\n\");\n}\n</code></pre>\n\n<p>This can actually be seen as a sort of a <code>while</code> loop with an initialisation local to the loop. <code>%h</code> is only in scope in the loop. So it's not anonymous to the <code>for</code> loop and can be used with <code>each</code> but ceases to exist after the loop is done.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 11, "last_activity_date": 1529136102, "last_edit_date": 1529136102, "creation_date": 1529123117, "answer_id": 50884943, "question_id": 50884169, "link": "https://stackoverflow.com/questions/50884169/define-perl-while-each-loop-with-inline-hash/50884943#50884943", "title": "Define Perl while() = each {} loop with inline hash", "body": "<p>A list/comma operator in scalar context evaluates to the result of the last item evaluated in scalar context. That means</p>\n\n<pre><code>each %{ apple =&gt; \"red\", orange =&gt; \"orange\", grape  =&gt; \"purple\" }\n</code></pre>\n\n<p>is equivalent to </p>\n\n<pre><code>each %{ \"purple\" }\n</code></pre>\n\n<p>This is what both of your snippets are doing, but it's undesired, and it's a strict violation. (<em>Always</em> use <code>use strict; use warnings qw( all );</code>!!!)</p>\n\n<p>You are using a hash dereference (<code>%{ ... }</code>), but you have no hash, much less a reference to a hash that you can dereference. To build a hash and return a reference to the hash, use <code>{ ... }</code>.</p>\n\n<pre><code>each %{ { apple  =&gt; \"red\", orange =&gt; \"orange\", grape  =&gt; \"purple\" } }\n</code></pre>\n\n<p>While that solves a problem, but just reveals another problem: You get an endless loop.</p>\n\n<p>The iterator used by <code>each</code>, <code>keys</code> and <code>values</code> is associated with the hash, not the operator. Since you are creating a new hash each time through the loop, you are creating a new iterator each time through the loop, so you will always get the first element of the newly created hash, and your loop will never end.</p>\n\n<p>Since you have no need to look up items by key, I don't see why you're using a hash at all. You could use the following instead:</p>\n\n<pre><code>for (\n   [ apple  =&gt; \"red\"    ],\n   [ orange =&gt; \"orange\" ],\n   [ grape  =&gt; \"purple\" ],\n) {\n   my ($key, $val) = @$_;\n   ...\n}\n</code></pre>\n\n<p>The following is how you'd write the above if you got the list from a sub.</p>\n\n<pre><code>use List::Util qw( pairs );\n\nfor (pairs(f())) {\n   my ($key, $val) = @$_;\n   ...\n}\n</code></pre>\n\n<p>Both of those create many arrays, though. Since there's no issue with being destructive, I would use the following which avoids the issue:</p>\n\n<pre><code>{\n   my @kvs = f();\n   while ( my ($key, $val) = splice(@kvs, 0, 2) ) {\n      ...\n   }\n}\n</code></pre>\n\n<p>You could also use the following, but I think many would be confused by it:</p>\n\n<pre><code>for (\n   my @kvs = f();\n   my ($key, $val) = splice(@kvs, 0, 2);\n) {\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 2819, "user_id": 1340097, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0914468667cea81f7c28d10cc4702f8a?s=128&d=identicon&r=PG", "display_name": "Gorkem Yurtseven", "link": "https://stackoverflow.com/users/1340097/gorkem-yurtseven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "accepted_answer_id": 50884943, "answer_count": 3, "score": 2, "last_activity_date": 1529222178, "creation_date": 1529110344, "last_edit_date": 1529111136, "question_id": 50884169, "link": "https://stackoverflow.com/questions/50884169/define-perl-while-each-loop-with-inline-hash", "title": "Define Perl while() = each {} loop with inline hash", "body": "<p>I am trying to define an inline hash in a while each loop, my program is not throwing any errors but also doesn't execute the print statement. Is it possible to define an inline hash like below: </p>\n\n<pre><code>while (my (key, value) = each %{ (apple  =&gt; \"red\", orange =&gt; \"orange\", grape  =&gt; \"purple\")}) { \n    print \"something\";\n}\n</code></pre>\n\n<p>or alternatively I can't while each loop to work if I directly call a sub in the each statement that returns a hash like the following:</p>\n\n<pre><code>sub returnsHash {\n    my %fruits = (\n        apple  =&gt; \"red\",\n        orange =&gt; \"orange\",\n        grape  =&gt; \"purple\",\n    );\n    return %fruits;\n}\n\nwhile (my (key, value) = each %{ returnsHash() }) { \n    print \"something\";\n}\n</code></pre>\n"}, {"tags": ["python", "perl", "availability-monitoring"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9944041"}, "is_accepted": false, "score": 0, "last_activity_date": 1529098446, "creation_date": 1529098446, "answer_id": 50882935, "question_id": 50881285, "link": "https://stackoverflow.com/questions/50881285/code-for-uptime-availability-of-an-api-call/50882935#50882935", "title": "code for uptime availability of an API call", "body": "<p>My approach would be to be to do this with 2 scripts. The monitoring script would  write a date-time stamp and a 1 or 0 for success or failure to a new line in a txt results file every run.  Another script would run maybe once per day and parse the results file counting the number of fail responses compared to overall responses. It is then a simple percentage calculation to get the result which you could put in a txt file that the front end guy could read. </p>\n\n<p>As you loop through the file reading each line once you get to results 90 or 365 days from today you start writing the results back out to a file.  When complete replace the existing results file with the new one. </p>\n\n<p>If you have access to a database then you could use the same principal but it would be more flexible.</p>\n"}], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1529143090, "creation_date": 1529088859, "last_edit_date": 1529143090, "question_id": 50881285, "link": "https://stackoverflow.com/questions/50881285/code-for-uptime-availability-of-an-api-call", "title": "code for uptime availability of an API call", "body": "<p>I have a Perl script that runs every 5 minutes which does an API call. This API call consist of a REST call to authenticate to the database. If I authenticate successfully, it returns an 'ok' or a '1'.</p>\n\n<p>I've been tasked to give our front end developer the uptime availability of this API call. For example, something to the nature of '99.98888' that reflects a range; for example, a range of 90 days or possibility 365 days.</p>\n\n<p>Here is the script that does the API call.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse LWP::UserAgent;\nuse Data::Dumper;\nuse XML::Simple;\nuse JSON;\n\n\n## Perl's way of slurping the xml file\nmy $message = do {\n  open my $fh, '&lt;', '/usr/lib/xymon/server/ext/States/Puerto-Rico/credentials.xml' or die \"Could not open file: $!\";\n  local $/;\n  &lt;$fh&gt;;\n};\n\n\n    my $start = `date +%s.%N`;\n    my $webpage = \"https://xxxxxxxxx/xxxxxx.asp\";\n\n    my $ua = LWP::UserAgent-&gt;new;\n    my $response = $ua-&gt;post($webpage, Content_Type =&gt; 'text/xml',\n                                            Content =&gt; $message);\n    my $end = `date +%s.%N`;\n    my $eventtime = `date +%c`;\n    my $time = $end - $start;\n    my $response_time = sprintf \"%.1f\", $time;\n\n\n    if ( $response-&gt;is_success) {\n\nmy $xml = new XML::Simple;\nmy $x = $response-&gt;decoded_content;\n\n# read XML file\nmy $data = $xml-&gt;XMLin($x);\n\n\n\nmy $success =  $data-&gt;{'success'};\n\n\n\nif ( $response_time &lt; 5 &amp;&amp; $success == '1' )\n{\nprint \"good\\n\";\n}\n</code></pre>\n\n<p>I need to add the code or mathematical formula to give me the uptime availability of this API call for 90 or 365 days (script can run every 1 or 5 minutes) in this Perl script so it can populate a text file. Then the front end developer will retrieve the data from the text file and make a pretty web page or JavaScript call. Any hints will be appreciated and I could write this in python too.</p>\n"}, {"tags": ["perl", "mojolicious", "module-build"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1529074193, "post_id": 50877920, "comment_id": 88758006, "body": "Can you show the relevant application code as well please? How is Module::Build related to this? I don&#39;t see the relevance."}, {"owner": {"reputation": 1386, "user_id": 1897839, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4c0e6f8798265cc958340ee121a018b7?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1897839/carsten"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1529074361, "post_id": 50877920, "comment_id": 88758094, "body": "I suppose Module::Build is not related, it just causes the test to be run with <code>.&#47;Build test</code>. However, I was not sure there might be a non-obvious relation. I&#39;ve added the relevant server-side code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1529087899, "post_id": 50877920, "comment_id": 88764369, "body": "Why are you accessing a URL path <code>&#47;process</code> with curl, but <code>&#47;v1&#47;documents&#47;process</code> in your Perl code? Likewise, why are you sending <code>file.txt</code> with curl but <code>t&#47;file.txt</code> with Perl? I suspect the problem is that you are using <code>filename</code> instead of <code>file</code> to specify the content of the <code>inputFile</code> form field. Without either <code>file</code> or <code>content</code> there is nothing to specify the data to be sent. If you write <code>inputFile =&gt; { file =&gt; &#39;t&#47;file.txt&#39; }</code> then Mojolicious will add appropriate <code>filename</code> and <code>Content-Type</code> values."}, {"owner": {"reputation": 1386, "user_id": 1897839, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4c0e6f8798265cc958340ee121a018b7?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1897839/carsten"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1529147225, "post_id": 50877920, "comment_id": 88776026, "body": "@Borodin thanks, I had shortened the endpoints for readability, but unfortunately not consistently; fixed. It seems like you are right that it needs to be <code>file</code> instead of <code>fileName</code>, but I could not try yet. By following the inheritance, I have been able to locate a probably suitable example in the Mojo::UserAgent documentation (<a href=\"https://mojolicious.org/perldoc/Mojo/UserAgent/Transactor#tx\" rel=\"nofollow noreferrer\">mojolicious.org/perldoc/Mojo/UserAgent/Transactor#tx</a>)."}], "answers": [{"tags": [], "owner": {"reputation": 1386, "user_id": 1897839, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4c0e6f8798265cc958340ee121a018b7?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1897839/carsten"}, "is_accepted": true, "score": 1, "last_activity_date": 1529307991, "creation_date": 1529307991, "answer_id": 50904816, "question_id": 50877920, "link": "https://stackoverflow.com/questions/50877920/file-uploaded-with-testmojo-post-is-empty/50904816#50904816", "title": "File uploaded with Test::Mojo post is empty", "body": "<p>The solution, as indicated by @Boroding, was indeed to replace <code>fileName</code> with <code>file</code>:</p>\n\n<pre><code>my $data = {\n  inputFile =&gt; { file =&gt; 't/file.txt' },\n};\n$t-&gt;post_ok('/process' =&gt; form =&gt; $data)-&gt;status_is(200);\n</code></pre>\n\n<p>Presumably, the reason why this is missing in the <a href=\"https://mojolicious.org/perldoc/Test/Mojo#post_ok\" rel=\"nofollow noreferrer\">documentation example</a> is that test should not depend on external files. So the cleaner way to do this is:</p>\n\n<pre><code>my $data = {\n  inputFile =&gt; { content =&gt; \"File content\", fileName =&gt; 'file.txt' },\n};\n$t-&gt;post_ok('/process' =&gt; form =&gt; $data)-&gt;status_is(200);\n</code></pre>\n"}], "owner": {"reputation": 1386, "user_id": 1897839, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4c0e6f8798265cc958340ee121a018b7?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1897839/carsten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 50904816, "answer_count": 1, "score": 1, "last_activity_date": 1529307991, "creation_date": 1529074065, "last_edit_date": 1529145861, "question_id": 50877920, "link": "https://stackoverflow.com/questions/50877920/file-uploaded-with-testmojo-post-is-empty", "title": "File uploaded with Test::Mojo post is empty", "body": "<p>I have implemented a Mojolicious Web Service as a <a href=\"http://search.cpan.org/~leont/Module-Build-0.4224/lib/Module/Build.pm\" rel=\"nofollow noreferrer\">module</a> that accepts file uploads via POST. An example cURL command:</p>\n\n<pre><code>curl -X POST http://localhost:3000/process -F inputFile=@file.txt\n</code></pre>\n\n<p>This works as expected, the file is processed and the result is returned.</p>\n\n<p>I am now trying to test it using <a href=\"https://mojolicious.org/perldoc/Test/Mojo\" rel=\"nofollow noreferrer\">Test::Mojo</a> like this:</p>\n\n<pre><code>my $t = Test::Mojo-&gt;new( 'TK::Proxy' );\n\nmy $data = {\n    inputFile =&gt; { filename =&gt; 't/file.txt' },\n};\n\n$t-&gt;post_ok('/process' =&gt; form =&gt; $data)\n    -&gt;status_is(200)\n</code></pre>\n\n<p>The test fails:</p>\n\n<pre><code>$ ./Build test\n[...]\n#   Failed test '200 OK'\n#   at t/20_app.t line 44.\n#          got: '400'\n#     expected: '200'\n</code></pre>\n\n<p>Debugging the code reveals that the uploaded content is empty.</p>\n\n<p>I have verified that it finds the file by adding a simple print before the test:</p>\n\n<pre><code>open FILE,'&lt;', 't/file.pdf' or die(\"Could not read file\");\n\nwhile (my $line = &lt;FILE&gt;) {\n    print STDERR ($line . \"\\n\");\n}\n</code></pre>\n\n<p>This outputs the file as expected.</p>\n\n<p>My conclusion is hence that the error is in the <code>post_ok</code> call and/or the structure of <code>$data</code>, but I could not figure out where. As far as I can tell, the call looks exactly like in the example given in the <a href=\"https://mojolicious.org/perldoc/Test/Mojo#post_ok\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n\n<p>This is how the file content is processed on the server-side:</p>\n\n<pre><code>my $self = shift()-&gt;openapi()-&gt;valid_input() or return;\n\nmy $input  = $self-&gt;validation()-&gt;output();\n\nmy $content;\neval {\n    my $document = $input-&gt;{inputFile}-&gt;slurp;\n\n    $content = $self-&gt;textractor()\n        -&gt;process(\n            $input-&gt;{source},\n            $input-&gt;{target},\n            $document,\n            _parse_runtime_params($input-&gt;{runtimeParams}),\n        );\n};\n</code></pre>\n\n<p>It turns out that the result of <code>$input-&gt;{inputFile}-&gt;slurp;</code> is an empty string for the test. In the cURL call, however, it correctly contains the file content.</p>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1529065007, "post_id": 50875261, "comment_id": 88752306, "body": "<code>print format_row(@row)</code>"}, {"owner": {"reputation": 10803, "user_id": 2548147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cfKie.jpg?s=128&g=1", "display_name": "Raymond Nijland", "link": "https://stackoverflow.com/users/2548147/raymond-nijland"}, "edited": false, "score": 2, "creation_date": 1529065085, "post_id": 50875261, "comment_id": 88752357, "body": "it&#39;s known for MySQL that LIMIT with large offset number is indeed slow..  <a href=\"http://mysql.rjweb.org/doc.php/pagination\" rel=\"nofollow noreferrer\">mysql.rjweb.org/doc.php/pagination</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1529067391, "post_id": 50875261, "comment_id": 88753745, "body": "Read through <a href=\"https://www.perlmonks.org/?node=Speeding%20up%20the%20DBI\" rel=\"nofollow noreferrer\">perlmonks.org/?node=Speeding%20up%20the%20DBI</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1819, "user_id": 2123612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q6N4b.jpg?s=128&g=1", "display_name": "py3r3str", "link": "https://stackoverflow.com/users/2123612/py3r3str"}, "edited": false, "score": 0, "creation_date": 1529329288, "post_id": 50876190, "comment_id": 88821662, "body": "Unfortunately this solution dosen&#39;t resolve memory issue. All data is storr in memory after execute... It is not what I am looking for but still thank you."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1529073400, "last_edit_date": 1529073400, "creation_date": 1529067674, "answer_id": 50876190, "question_id": 50875261, "link": "https://stackoverflow.com/questions/50875261/how-to-get-data-from-big-table-row-by-row/50876190#50876190", "title": "How to get data from big table row by row", "body": "<p>The <a href=\"https://metacpan.org/pod/DBI#fetchall_arrayref\" rel=\"nofollow noreferrer\"><code>fetchall_arrayref</code></a>\nmethod takes two parameters, the second of which allows you to limit the number of rows fetched from the table at once</p>\n\n<p>The following code reads 1,000 lines from the table at a time and processes each one</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare(\"SELECT * FROM table\");\n$sth-&gt;execute;\n\nwhile ( my $chunk = $sth-&gt;fetchall_arrayref( undef, 1000 ) ) {\n\n    last unless @$chunk;    # Empty array returned at end of table\n\n    for my $row ( @$chunk ) {\n\n        print format_row(@$row);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1819, "user_id": 2123612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q6N4b.jpg?s=128&g=1", "display_name": "py3r3str", "link": "https://stackoverflow.com/users/2123612/py3r3str"}, "edited": false, "score": 0, "creation_date": 1529328698, "post_id": 50908652, "comment_id": 88821316, "body": "Great! Thank you. That&#39;s exactly what I am looking for;)"}], "tags": [], "owner": {"reputation": 1033, "user_id": 77193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82705f5ab43c73273ab5d690866b3?s=128&d=identicon&r=PG", "display_name": "Tim Bunce", "link": "https://stackoverflow.com/users/77193/tim-bunce"}, "is_accepted": true, "score": 2, "last_activity_date": 1529321872, "creation_date": 1529321872, "answer_id": 50908652, "question_id": 50875261, "link": "https://stackoverflow.com/questions/50875261/how-to-get-data-from-big-table-row-by-row/50908652#50908652", "title": "How to get data from big table row by row", "body": "<blockquote>\n  <p>apparently all results from query is store in memory after execute() command </p>\n</blockquote>\n\n<p>That is the default behaviour of the mysql client library. You can disable it by using the <a href=\"https://metacpan.org/pod/DBD::mysql#mysql_use_result\" rel=\"nofollow noreferrer\">mysql_use_result attribute</a> on the database or statement handle.</p>\n\n<p>Note that the read lock you'll have on the table will be held much longer while all the rows are being streamed to the client code. If that might be a concern you may want to use <a href=\"https://dev.mysql.com/doc/refman/8.0/en/select.html\" rel=\"nofollow noreferrer\">SQL_BUFFER_RESULT</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 185, "user_id": 7774231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmzCR.jpg?s=128&g=1", "display_name": "Bodo Hugo Barwich", "link": "https://stackoverflow.com/users/7774231/bodo-hugo-barwich"}, "is_accepted": false, "score": 0, "last_activity_date": 1529410886, "creation_date": 1529410886, "answer_id": 50928322, "question_id": 50875261, "link": "https://stackoverflow.com/questions/50875261/how-to-get-data-from-big-table-row-by-row/50928322#50928322", "title": "How to get data from big table row by row", "body": "<p>When working with Huge Tables I build Data Packages with dynamically built SQL Statements like</p>\n\n<pre><code>$sql = \"SELECT * FROM table WHERE id&gt;\" . $lastid . \" ORDER BY id LIMIT \" . $packagesize\n</code></pre>\n\n<p>The Application will dynamically fill in <code>$lastid</code> according to each Package it processes.</p>\n\n<p>If <code>table</code> has an ID Field <code>id</code> it has also an Index built on that Field so that the Performance is quite well.<br />\nIt also limits Database Load by little rests between each Query.<br /></p>\n"}], "owner": {"reputation": 1819, "user_id": 2123612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q6N4b.jpg?s=128&g=1", "display_name": "py3r3str", "link": "https://stackoverflow.com/users/2123612/py3r3str"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 50908652, "answer_count": 3, "score": 0, "last_activity_date": 1529410886, "creation_date": 1529064337, "last_edit_date": 1529066020, "question_id": 50875261, "link": "https://stackoverflow.com/questions/50875261/how-to-get-data-from-big-table-row-by-row", "title": "How to get data from big table row by row", "body": "<p>I need to get all data from mysql table. What I've try so far is:</p>\n\n<pre><code>my $query = $connection-&gt;prepare(\"select * from table\");\n$query-&gt;execute();\nwhile (my @row=$query-&gt;fetchrow_array)\n{\n    print format_row(@row);\n}\n</code></pre>\n\n<p>but there is always a but... </p>\n\n<p>Table has about 600M rows and apparently all results from query is store in memory after <code>execute()</code> command. There is not enough memory for this:(</p>\n\n<p>My question is:</p>\n\n<p>Is there a way to use perl DBI to get data from table row by row?Something like this:</p>\n\n<pre><code>my $query = $connection-&gt;prepare(\"select * from table\");\nwhile (my @row=$query-&gt;fetchrow_array)\n{\n    #....do stuff\n}\n</code></pre>\n\n<p>btw, pagination is to slow:/</p>\n"}, {"tags": ["linux", "perl"], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1529067038, "post_id": 50875889, "comment_id": 88753520, "body": "Oops. Stupid typo. Thanks @daxim."}, {"owner": {"reputation": 59, "user_id": 5591381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb35c5aa2e86e602d991fd8ea4a4836d?s=128&d=identicon&r=PG&f=1", "display_name": "Xuti", "link": "https://stackoverflow.com/users/5591381/xuti"}, "edited": false, "score": 0, "creation_date": 1529069078, "post_id": 50875889, "comment_id": 88754781, "body": "Hi, Thanks it installed the MIME:Lite. Now the script is asking me for Net::SMTPS. I&#39;ve tried to install it using apt-get install libnet-smtp-ssl-perl but it is already installed. and perl -MCPAN -e &#39;install Net::SMTPS&#39; fails too running Make. Thanks"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 59, "user_id": 5591381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb35c5aa2e86e602d991fd8ea4a4836d?s=128&d=identicon&r=PG&f=1", "display_name": "Xuti", "link": "https://stackoverflow.com/users/5591381/xuti"}, "edited": false, "score": 1, "creation_date": 1529069260, "post_id": 50875889, "comment_id": 88754909, "body": "@Xuti: <code>sudo apt-get install libnet-smtps-perl</code>. There&#39;s a pretty simple mapping between CPAN distribution names and .deb filenames."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1529066722, "last_edit_date": 1529066722, "creation_date": 1529066599, "answer_id": 50875889, "question_id": 50874664, "link": "https://stackoverflow.com/questions/50874664/error-installing-perl-module-mimelite/50875889#50875889", "title": "Error installing Perl module MIME::Lite", "body": "<p>Looks like you're using the system Perl. So why not use the pre-packaged version of the module?</p>\n\n<pre><code>$ sudo apt-get install libmime-lite-perl\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 5591381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb35c5aa2e86e602d991fd8ea4a4836d?s=128&d=identicon&r=PG&f=1", "display_name": "Xuti", "link": "https://stackoverflow.com/users/5591381/xuti"}, "is_accepted": false, "score": 1, "last_activity_date": 1529069316, "creation_date": 1529069316, "answer_id": 50876599, "question_id": 50874664, "link": "https://stackoverflow.com/questions/50874664/error-installing-perl-module-mimelite/50876599#50876599", "title": "Error installing Perl module MIME::Lite", "body": "<p>I've found the problem. Before installing any new PERL module, Linux must have MAKE installed. My debian 9 installation was fresh and make command was not installed. I ran</p>\n\n<pre><code>apt-get install make\n</code></pre>\n\n<p>And again the perl module</p>\n\n<pre><code>perl -MCPAN -e 'install Net::SMTPS'\n</code></pre>\n\n<p>And works!</p>\n\n<p>Thanks for your time</p>\n"}], "owner": {"reputation": 59, "user_id": 5591381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb35c5aa2e86e602d991fd8ea4a4836d?s=128&d=identicon&r=PG&f=1", "display_name": "Xuti", "link": "https://stackoverflow.com/users/5591381/xuti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1735, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1529069316, "creation_date": 1529061949, "question_id": 50874664, "link": "https://stackoverflow.com/questions/50874664/error-installing-perl-module-mimelite", "title": "Error installing Perl module MIME::Lite", "body": "<p>I am running Debian 9 x64 and I want to run a small script in perl which needs MIME::Lite module. To install it run this command:</p>\n\n<blockquote>\n  <p>perl -MCPAN -e 'install MIME::Lite'</p>\n</blockquote>\n\n<p>And this is the result:</p>\n\n<pre><code>    root@XutiHTPC:/home/xuti# perl -MCPAN -e 'install MIME::Lite'\nReading '/root/.cpan/Metadata'\n  Database was generated on Fri, 15 Jun 2018 10:41:02 GMT\nRunning install for module 'MIME::Lite'\nChecksum for /root/.cpan/sources/authors/id/R/RJ/RJBS/MIME-Lite-3.030.tar.gz ok\n'YAML' not installed, will not store persistent state\nConfiguring R/RJ/RJBS/MIME-Lite-3.030.tar.gz with Makefile.PL\nMIME::Lite is designed to take advantage of a variety of external modules\nif they are not present then MIME::Lite will attempt to do its best\nbut its strongly recommend that you install them.\n\nThese modules are:\n        MIME::Types\n        Mail::Address\nI can add these modules to the prereq list which will cause the files to be\nautomatically installed if they aren't already present\nAdd prereqs? [Yes]\nChecking if your kit is complete...\nLooks good\nWarning: prerequisite Email::Date::Format 1.000 not found.\nWarning: prerequisite MIME::Types 1.28 not found.\nWarning: prerequisite Mail::Address 1.62 not found.\nGenerating a Unix-style Makefile\nWriting Makefile for MIME::Lite\nWriting MYMETA.yml and MYMETA.json\n  RJBS/MIME-Lite-3.030.tar.gz\n  /usr/bin/perl Makefile.PL INSTALLDIRS=site -- OK\nRunning make for R/RJ/RJBS/MIME-Lite-3.030.tar.gz\n---- Unsatisfied dependencies detected during ----\n----        RJBS/MIME-Lite-3.030.tar.gz       ----\n    Mail::Address [requires]\n    Email::Date::Format [requires]\n    MIME::Types [requires]\nRunning install for module 'Mail::Address'\nChecksum for /root/.cpan/sources/authors/id/M/MA/MARKOV/MailTools-2.20.tar.gz ok\nConfiguring M/MA/MARKOV/MailTools-2.20.tar.gz with Makefile.PL\nChecking if your kit is complete...\nLooks good\nWarning: prerequisite Date::Format 0 not found.\nWarning: prerequisite Date::Parse 0 not found.\nGenerating a Unix-style Makefile\nWriting Makefile for MailTools\nWriting MYMETA.yml and MYMETA.json\n  MARKOV/MailTools-2.20.tar.gz\n  /usr/bin/perl Makefile.PL INSTALLDIRS=site -- OK\nRunning make for M/MA/MARKOV/MailTools-2.20.tar.gz\n---- Unsatisfied dependencies detected during ----\n----       MARKOV/MailTools-2.20.tar.gz       ----\n    Date::Format [requires]\n    Date::Parse [requires]\nRunning install for module 'Date::Format'\nChecksum for /root/.cpan/sources/authors/id/G/GB/GBARR/TimeDate-2.30.tar.gz ok\nConfiguring G/GB/GBARR/TimeDate-2.30.tar.gz with Makefile.PL\nChecking if your kit is complete...\nLooks good\nGenerating a Unix-style Makefile\nWriting Makefile for Date::Parse\nWriting MYMETA.yml and MYMETA.json\n  GBARR/TimeDate-2.30.tar.gz\n  /usr/bin/perl Makefile.PL INSTALLDIRS=site -- OK\nRunning make for G/GB/GBARR/TimeDate-2.30.tar.gz\n  GBARR/TimeDate-2.30.tar.gz\n  make -- NOT OK\nRunning install for module 'Date::Parse'\n  GBARR/TimeDate-2.30.tar.gz\n  Has already been unwrapped into directory /root/.cpan/build/TimeDate-2.30-WvSQXd\n  GBARR/TimeDate-2.30.tar.gz\n  Has already been prepared\n  GBARR/TimeDate-2.30.tar.gz\n  Could not make: Unknown error\n\n  MARKOV/MailTools-2.20.tar.gz\n  Has already been unwrapped into directory /root/.cpan/build/MailTools-2.20-noZ3M9\n  MARKOV/MailTools-2.20.tar.gz\n  Has already been prepared\nRunning make for M/MA/MARKOV/MailTools-2.20.tar.gz\nWarning: Prerequisite 'Date::Format =&gt; 0' for 'MARKOV/MailTools-2.20.tar.gz' failed when processing 'GBARR/TimeDate-2.30.tar.gz' with 'make =&gt; NO'. Continuing, but chances to succeed are limited.\nWarning: Prerequisite 'Date::Parse =&gt; 0' for 'MARKOV/MailTools-2.20.tar.gz' failed when processing 'GBARR/TimeDate-2.30.tar.gz' with 'make =&gt; NO'. Continuing, but chances to succeed are limited.\n  MARKOV/MailTools-2.20.tar.gz\n  make -- NOT OK\nRunning install for module 'Email::Date::Format'\nChecksum for /root/.cpan/sources/authors/id/R/RJ/RJBS/Email-Date-Format-1.005.tar.gz ok\nConfiguring R/RJ/RJBS/Email-Date-Format-1.005.tar.gz with Makefile.PL\nChecking if your kit is complete...\nLooks good\nGenerating a Unix-style Makefile\nWriting Makefile for Email::Date::Format\nWriting MYMETA.yml and MYMETA.json\n  RJBS/Email-Date-Format-1.005.tar.gz\n  /usr/bin/perl Makefile.PL INSTALLDIRS=site -- OK\nRunning make for R/RJ/RJBS/Email-Date-Format-1.005.tar.gz\n  RJBS/Email-Date-Format-1.005.tar.gz\n  make -- NOT OK\nRunning install for module 'MIME::Types'\nChecksum for /root/.cpan/sources/authors/id/M/MA/MARKOV/MIME-Types-2.17.tar.gz ok\nConfiguring M/MA/MARKOV/MIME-Types-2.17.tar.gz with Makefile.PL\nChecking if your kit is complete...\nLooks good\nGenerating a Unix-style Makefile\nWriting Makefile for MIME::Types\nWriting MYMETA.yml and MYMETA.json\n  MARKOV/MIME-Types-2.17.tar.gz\n  /usr/bin/perl Makefile.PL INSTALLDIRS=site -- OK\nRunning make for M/MA/MARKOV/MIME-Types-2.17.tar.gz\n  MARKOV/MIME-Types-2.17.tar.gz\n  make -- NOT OK\n  RJBS/MIME-Lite-3.030.tar.gz\n  Has already been unwrapped into directory /root/.cpan/build/MIME-Lite-3.030-bAZrWv\n  RJBS/MIME-Lite-3.030.tar.gz\n  Has already been prepared\nRunning make for R/RJ/RJBS/MIME-Lite-3.030.tar.gz\nWarning: Prerequisite 'MIME::Types =&gt; 1.28' for 'RJBS/MIME-Lite-3.030.tar.gz' failed when processing 'MARKOV/MIME-Types-2.17.tar.gz' with 'make =&gt; NO'. Continuing, but chances to succeed are limited.\nWarning: Prerequisite 'Mail::Address =&gt; 1.62' for 'RJBS/MIME-Lite-3.030.tar.gz' failed when processing 'MARKOV/MailTools-2.20.tar.gz' with 'make =&gt; NO'. Continuing, but chances to succeed are limited.\nWarning: Prerequisite 'Email::Date::Format =&gt; 1.000' for 'RJBS/MIME-Lite-3.030.tar.gz' failed when processing 'RJBS/Email-Date-Format-1.005.tar.gz' with 'make =&gt; NO'. Continuing, but chances to succeed are limited.\n  RJBS/MIME-Lite-3.030.tar.gz\n  make -- NOT OK\n</code></pre>\n\n<p>I've tried to install prerequisites MIME::Types and Mail::Address but no luck, MARKOV/MailTools fails.</p>\n\n<p>Any advice?</p>\n\n<p>Thanks a lot</p>\n"}, {"tags": ["perl", "ubuntu", "docker", "dockerfile", "libssl"], "answers": [{"comments": [{"owner": {"reputation": 3862, "user_id": 2663059, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/6a354b616773a9f9359212dd14f20ecf?s=128&d=identicon&r=PG", "display_name": "pelican", "link": "https://stackoverflow.com/users/2663059/pelican"}, "edited": false, "score": 0, "creation_date": 1529062860, "post_id": 50874727, "comment_id": 88751116, "body": "Thanks for quick response, could I use this package, <b><i><code>libssl-dev</code></i></b>, instead of the <b><i><code>libssl1.0.0</code></i></b>? I was NOT alluding 1.1.0 vs 1.0.0 - the base perl image comes preinstalled with libssl-dev so ... can I use libssl-dev instead of the libssl1.0.0 ? or there&#39;s a difference between those two packages?"}, {"owner": {"reputation": 1769, "user_id": 5791702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67491242fc6c826b5e1445780981e8af?s=128&d=identicon&r=PG&f=1", "display_name": "tsnowlan", "link": "https://stackoverflow.com/users/5791702/tsnowlan"}, "reply_to_user": {"reputation": 3862, "user_id": 2663059, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/6a354b616773a9f9359212dd14f20ecf?s=128&d=identicon&r=PG", "display_name": "pelican", "link": "https://stackoverflow.com/users/2663059/pelican"}, "edited": false, "score": 0, "creation_date": 1529063138, "post_id": 50874727, "comment_id": 88751299, "body": "<code>libssl-dev</code> contains version 1.1.0. If you need specifically 1.0.0, you have to install 1.0.0 directly."}, {"owner": {"reputation": 3862, "user_id": 2663059, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/6a354b616773a9f9359212dd14f20ecf?s=128&d=identicon&r=PG", "display_name": "pelican", "link": "https://stackoverflow.com/users/2663059/pelican"}, "edited": false, "score": 0, "creation_date": 1529063312, "post_id": 50874727, "comment_id": 88751395, "body": "Thanks, when you ran that apt show ... you were trying to show that libssl-dev and libssl1.0.0 are the same utility package but just different versions right? I&#39;m not familiar with those 2 packages; putting the versions aside, I want to know if one could use the libdev or the libssl interchangeably; are they the same package but one is optimized for prod and the other for development i.e the dash dev part (libssl-dev) ?"}, {"owner": {"reputation": 1769, "user_id": 5791702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67491242fc6c826b5e1445780981e8af?s=128&d=identicon&r=PG&f=1", "display_name": "tsnowlan", "link": "https://stackoverflow.com/users/5791702/tsnowlan"}, "reply_to_user": {"reputation": 3862, "user_id": 2663059, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/6a354b616773a9f9359212dd14f20ecf?s=128&d=identicon&r=PG", "display_name": "pelican", "link": "https://stackoverflow.com/users/2663059/pelican"}, "edited": false, "score": 1, "creation_date": 1529063713, "post_id": 50874727, "comment_id": 88751595, "body": "Right. Though strictly speaking <code>libssl-dev</code> contains headers and development libraries, whereas <code>libssl1.0.0</code> contains shared libraries. Their uses are a bit different."}, {"owner": {"reputation": 3862, "user_id": 2663059, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/6a354b616773a9f9359212dd14f20ecf?s=128&d=identicon&r=PG", "display_name": "pelican", "link": "https://stackoverflow.com/users/2663059/pelican"}, "edited": false, "score": 0, "creation_date": 1529063805, "post_id": 50874727, "comment_id": 88751654, "body": "Makes sense! And it worked for me now with the above solution, thanks"}], "tags": [], "owner": {"reputation": 1769, "user_id": 5791702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67491242fc6c826b5e1445780981e8af?s=128&d=identicon&r=PG&f=1", "display_name": "tsnowlan", "link": "https://stackoverflow.com/users/5791702/tsnowlan"}, "is_accepted": true, "score": 2, "last_activity_date": 1529064215, "last_edit_date": 1529064215, "creation_date": 1529062243, "answer_id": 50874727, "question_id": 50874328, "link": "https://stackoverflow.com/questions/50874328/docker-base-image-for-perl-e-package-libssl1-0-0-has-no-installation-candida/50874727#50874727", "title": "Docker base image for perl; E: Package &#39;libssl1.0.0&#39; has no installation candidate", "body": "<p>Actually, it is already installed by default.</p>\n\n<pre><code>$ docker run -it perl:5.22 /bin/bash\nroot@e5315bc25223:~# apt search libssl\nSorting... Done\nFull Text Search... Done\nlibssl-dev/now 1.1.0f-3+deb9u2 amd64 [installed,local]\n  Secure Sockets Layer toolkit - development files\n\nlibssl1.0.0/now 1.0.1t-1+deb8u8 amd64 [installed,local]\n  Secure Sockets Layer toolkit - shared libraries\n</code></pre>\n\n<hr>\n\n<p><s>The perl image is based on debian:stretch, which no longer supports libssl1.0.0. You can pull the package from jessie (<a href=\"https://packages.debian.org/jessie/libssl1.0.0\" rel=\"nofollow noreferrer\">https://packages.debian.org/jessie/libssl1.0.0</a>) and install with <code>dpkg</code>.</p>\n\n<p>Sample Dockerfile addition:</p>\n\n<pre><code>RUN wget \"http://security.debian.org/debian-security/pool/updates/main/o/openssl/libssl1.0.0_1.0.1t-1+deb8u8_amd64.deb\" \\\n    &amp;&amp; dpkg -i libssl1.0.0_1.0.1t-1+deb8u8_amd64.deb\n</code></pre>\n\n<p></s></p>\n\n<p>Regarding the version, <code>apt show libssl-dev</code> gives:</p>\n\n<blockquote>\n  <p>Package: libssl-dev</p>\n  \n  <p>Version: 1.1.0f-3+deb9u2</p>\n</blockquote>\n\n<p>As far as if you can use 1.1.0 instead of 1.0.0, that really depends on your software's requirements.</p>\n"}], "owner": {"reputation": 3862, "user_id": 2663059, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/6a354b616773a9f9359212dd14f20ecf?s=128&d=identicon&r=PG", "display_name": "pelican", "link": "https://stackoverflow.com/users/2663059/pelican"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5608, "favorite_count": 1, "accepted_answer_id": 50874727, "answer_count": 1, "score": 0, "last_activity_date": 1529064215, "creation_date": 1529060817, "last_edit_date": 1529062820, "question_id": 50874328, "link": "https://stackoverflow.com/questions/50874328/docker-base-image-for-perl-e-package-libssl1-0-0-has-no-installation-candida", "title": "Docker base image for perl; E: Package &#39;libssl1.0.0&#39; has no installation candidate", "body": "<p>I have a dockerfile that uses perl:5.22 as the base image\nWhen I do:</p>\n\n<pre><code>#Dockerfile:\n\nFrom perl:5.22\nRUN apt-get update &amp;&amp; apt-get install libssl1.0.0 libssl-dev\n</code></pre>\n\n<p>I get this error:\nWhen I do: <code>sudo apt-cache policy libssl1.0.0</code> in the dockerfile, like this:</p>\n\n<pre><code>#Dockerfile:\n\nFrom perl:5.22\nRUN apt-cache policy libssl1.0.0 &amp;&amp; \\\n    apt-cache policy libssl-dev\nRUN apt-get update &amp;&amp; apt-get install libssl1.0.0\n</code></pre>\n\n<p>I get:</p>\n\n<blockquote>\n  <p>Step 2/3 : RUN apt-cache policy libssl1.0.0 &amp;&amp;     apt-cache policy\n  libssl-dev  ---> Running in a60f0185ef5a libssl1.0.0:<br>\n  Installed: (none)\n  Candidate: (none)<br>\n  Version table: \n  libssl-dev:<br>\n  Installed: 1.1.0f-3+deb9u2<br>\n  Candidate: 1.1.0f-3+deb9u2<br>\n  Version table:<br>\n  *** 1.1.0f-3+deb9u2 500\n          500 <a href=\"http://security.debian.org/debian-security\" rel=\"nofollow noreferrer\">http://security.debian.org/debian-security</a> stretch/updates/main amd64 Packages\n          100 /var/lib/dpkg/status\n       1.1.0f-3+deb9u1 500\n          500 <a href=\"http://deb.debian.org/debian\" rel=\"nofollow noreferrer\">http://deb.debian.org/debian</a> stretch/main amd64 Packages</p>\n</blockquote>\n\n<p>There's no available candidate to install <strong><em><code>libssl1.0.0</code></em></strong>; I get: </p>\n\n<blockquote>\n  <p>E: Package 'libssl1.0.0' has no installation candidate</p>\n</blockquote>\n\n<p>However there's a candidate to install the <strong><em><code>libssl-dev</code></em></strong> package, but none for the <strong><em><code>libssl1.0.0</code></em></strong></p>\n\n<p>I'm new with docker; <strong><em>does <a href=\"https://github.com/perl/docker-perl/blob/1c201e950ebe90f35c449f69df6ca7151cb0068d/5.022.004-64bit/Dockerfile\" rel=\"nofollow noreferrer\">the perl 5.22 base image</a> already come with libssl1.0.0 already preinstalled in the image?</em></strong> I couldn't see it in their base image and secondly, <strong>*how do I install this package <em></strong><code>(libssl1.0.0)</code><strong></em> in my dockerfile if there's no candidate available to install it*</strong>?</p>\n\n<p>Lastly, since the base image already comes preinstalled with the libssl-dev could I use this package, <strong><em><code>libssl-dev</code></em></strong>, instead of the libssl1.0.0, <strong><em>is there a difference between <code>libssl-dev</code> and <code>libssl1.0.0</code></em></strong> ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1529043194, "post_id": 50869891, "comment_id": 88741661, "body": "<code>print DATA4 $_, $_ if 8..12;</code> what is this <code>8..12</code>?"}, {"owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "edited": false, "score": 0, "creation_date": 1529045945, "post_id": 50869891, "comment_id": 88742732, "body": "Why the double semicolons <code>;;</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1529057625, "post_id": 50869891, "comment_id": 88748412, "body": "The language isn&#39;t called PERL, just like your name isn&#39;t MATT."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1529060259, "post_id": 50869891, "comment_id": 88749749, "body": "someone&#39;s attitude is basically depends upon the grade. Is it right @Borodin?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1529060336, "post_id": 50869891, "comment_id": 88749787, "body": "@ssr1012: I don&#39;t know what you mean by that. Grade of what?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1529060506, "post_id": 50869891, "comment_id": 88749849, "body": "That means of <code>knowledge</code>. In my passport firstname and surname in full caps only."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1529060767, "post_id": 50869891, "comment_id": 88749982, "body": "@ssr1012: I don&#39;t see how &quot;grade&quot; (of anything) has anything to do with &quot;knowledge&quot;. Are you saying that I shouldn&#39;t insist on a correct spelling of &quot;Perl&quot;? Your passport is probably handwritten, and the name is written in BLOCK CAPITALS to ensure that it is readable. Readability has no bearing on computer text."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1529061769, "post_id": 50869891, "comment_id": 88750506, "body": "Your <code>for</code> loop is executing the correct number of times (as your <code>print()</code> statement shows you. But you are giving each file the same name. You should not reset <code>$count</code> to 0 on each iteration of the loop."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1529062127, "post_id": 50869891, "comment_id": 88750710, "body": "@Borodin: <code>Perl</code> is not related to any other names <i>just like your name isn&#39;t MATT</i> I am wonder about this comment. (Might be unrelated parable) That&#39;s why I said."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1529063723, "post_id": 50869891, "comment_id": 88751604, "body": "@ssr1012: <i>&quot;Perl is not related to any other names&quot;</i> What do you mean? It&#39;s just a <i>proper noun</i> and is no different from names such as <i>Eiffel Tower</i> or <i>Matthew Ward</i>. I also don&#39;t know what you mean by an <i>&quot;unrelated parable&quot;</i>."}], "answers": [{"tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": false, "score": 3, "last_activity_date": 1529046279, "last_edit_date": 1529046279, "creation_date": 1529045718, "answer_id": 50870533, "question_id": 50869891, "link": "https://stackoverflow.com/questions/50869891/why-is-this-perl-foreach-loop-only-executing-only-once/50870533#50870533", "title": "Why is this Perl foreach loop only executing only once?", "body": "<p>You construct the output file name including <code>$count</code> in it.</p>\n\n<p>But note what you do with this variable:</p>\n\n<ul>\n<li>initially, but <strong>inside the loop</strong> you set it to 0,</li>\n<li>the output file name is constructed with <code>0</code> in it,</li>\n<li>then you increment it, but this has no effect, because this variable\nis again set to 0 in the next execution of the loop..</li>\n</ul>\n\n<p>The effect is that:</p>\n\n<ul>\n<li>the loop executes the required numer of times,</li>\n<li>but the output file name <strong>every time</strong> contains 0 as the \"number\",\nso you keep overwriting <strong>the same file</strong> with a new content.</li>\n</ul>\n\n<p>Move <code>my $count = 0;</code> instruction <strong>before the loop</strong> and everything\nshould be OK.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1529061809, "creation_date": 1529061809, "answer_id": 50874619, "question_id": 50869891, "link": "https://stackoverflow.com/questions/50869891/why-is-this-perl-foreach-loop-only-executing-only-once/50874619#50874619", "title": "Why is this Perl foreach loop only executing only once?", "body": "<p>You seem to be clinging to a specific form of code in fear of everything falling apart if you change a single thing. I recommend that you dare to stray a little more from the formula so that the code is more concise and readable</p>\n\n<p>The problem is that you reset your <code>$count</code> to zero before processing each input file, so all the output files have the same name and overwrite one another. The remaining output file contains only the data from the <em>last</em> input file</p>\n\n<p>Here's a refactoring of your code. I can't guarantee that it will run correctly but it looks right and does compile</p>\n\n<ul>\n<li><p>I've added <code>use autodie</code> to avoid having to check the status of every IO operation</p></li>\n<li><p>I've used the same lexical file handle <code>$fh</code> for all the input file. Opening another file on a file handle that is already open will close it first, and a lexical file handle will be closed by perl when it goes out of scope at the end of the block</p></li>\n<li><p>I've used a <code>while</code> loop to iterate over the input file names instead of reading the whole list into an array which unnecessarily uses an additional variable <code>@files</code> and wastes space </p></li>\n<li><p>I've used forward slashes instead of backslashes in all the file paths. This is fine in library calls on Windows: it is only a problem if they appear in command line input</p></li>\n</ul>\n\n<p>I hope you'll agree that this form is more readable. I think you would have stood a much better chance of finding the problem if your code were in this form</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\nuse autodie;\nuse feature qw/ say /;\n\nmy $indir     = 'D:/Downloads';\nmy $subdir    = 'A0.1';                    # And M3.1 and P3.1\nmy $extrasdir = 'C:/Users/Owner/Documents/MoreKnotVis/ScriptsForAdditionalDataSets';\n\nmy $outdir     = \"$indir/Colors$subdir\";\nmy $topfile    = \"$extrasdir/VectFileHeader.vect\";\nmy $bottomfile = \"$extrasdir/VectFileCloser.vect\";\n\nmy $filenum;\n\nwhile ( my $vectfile = glob \"$indir/$subdir/*.vect\" ) {\n\n    say qq/Processing \"$vectfile\"/;\n\n    $filenum++;\n\n    open my $outfh, '&gt;', \"$outdir/$filenum.vect\";\n\n    my $fh;\n\n    open $fh, '&lt;', $topfile;\n    print { $outfh } $_ while &lt;$fh&gt;;\n\n    open $fh, '&lt;', $vectfile;\n    while ( &lt;$fh&gt; ) {\n        print { $outfh } $_, $_ if 8..12;\n    }\n\n    open $fh, '&lt;', $bottomfile;\n    print { $outfh } $_ while &lt;$fh&gt;;\n}\n\nsay 'DONE';\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 5432071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11260624fc07b5f472581e992e006aa3?s=128&d=identicon&r=PG&f=1", "display_name": "Matt  Ward", "link": "https://stackoverflow.com/users/5432071/matt-ward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1529061809, "creation_date": 1529042365, "last_edit_date": 1529058606, "question_id": 50869891, "link": "https://stackoverflow.com/questions/50869891/why-is-this-perl-foreach-loop-only-executing-only-once", "title": "Why is this Perl foreach loop only executing only once?", "body": "<p>I am trying to copy the content of three separate <code>.vect</code> files into one. I want to do this for all 5,000 files in the <code>$fromdir</code> directory.</p>\n\n<p>When I run this program it generates just a single modified <code>.vect</code> file in the output directory. If I include the <code>close(DATA)</code> calls after individual <code>while</code> loops inside the <code>foreach</code> loop, I get the same behavior: a single output file in the output directory instead of the wanted 5,000 files.</p>\n\n<p>I have done some reading, and at first thought I may not be opening the files. But if I <code>print($vectfile)</code> in the <code>foreach</code> loop every file name in the directory is printed.</p>\n\n<p>My second thought was that it was how I was closing the files, but\nI get the same behavior whether\nI close the file handles inside or outside the <code>foreach</code> loop.</p>\n\n<p>My final thought was maybe I don't have write permission to the file or directory, but I don't know how to change this.</p>\n\n<p>How can I get this loop to run all 5,000 times and not just once?</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw(say);\n\nmy $dir = \"D:\\\\Downloads\";\n\n# And M3.1 and P3.1\nmy $subfolder = \"A0.1\";\n\nmy $fromdir = $dir . \"\\\\\" . $subfolder;\n\nmy @files = &lt;$fromdir/*vect&gt;;\n\n# Top of file\nmy $readfiletop = \"C:\\\\Users\\\\Owner\\\\Documents\\\\MoreKnotVis\\\\ScriptsForAdditionalDataSets\\\\VectFileHeader.vect\";\n\n# Bottom of file\nmy $readfilebottom = \"C:\\\\Users\\\\Owner\\\\Documents\\\\MoreKnotVis\\\\ScriptsForAdditionalDataSets\\\\VectFileCloser.vect\";\n\n\nforeach my $vectfile ( @files ) {\n\n    say(\"$vectfile\");\n\n    my $count        = 0;\n    my $readfilebody = $vectfile;\n    my $out_file     = \"D:\\\\Downloads\\\\ColorsA0.1\\\\\" . \"$count\" . \".vect\";\n\n    $count++;\n\n    # open top part of each file\n    open(DATA1, \"&lt;\", $readfiletop) or die \"Can't open '$readfiletop': $!\";\n\n    # open bottom part of each file\n    open(DATA3, \"&lt;\",  $readfilebottom) or die \"Can't open '$readfilebottom': $!\";\n\n    # open a file to read\n    open(DATA2, \"&lt;\", $vectfile) or die \"Can't open '$vectfile': $!\";\n\n    # open a file to write to\n    open(DATA4, \"&gt;\" ,$out_file) or die \"Can't open '$out_file': $!\";\n\n    # Copy data from VectFileTop file to another.\n    while ( &lt;DATA1&gt; ) {\n        print DATA4 $_; \n    }\n\n    # Copy the data from VectFileBody to another.\n    while ( &lt;DATA2&gt; ) {\n        print DATA4 $_, $_ if 8..12;\n    }\n\n\n    # Copy the data from VectFileBottom to another.\n    while ( &lt;DATA3&gt; ) {\n        print DATA4 $_;\n    }    \n}\n\nclose( DATA1 );\nclose( DATA2 );\nclose( DATA3 );\nclose( DATA4 );\n\nprint(\"quit\\n\");\n</code></pre>\n"}, {"tags": ["perl", "docker", "apache2", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 3523406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a2acbf5cfb0549667ed2e0a393a52b?s=128&d=identicon&r=PG&f=1", "display_name": "user3523406", "link": "https://stackoverflow.com/users/3523406/user3523406"}, "edited": false, "score": 0, "creation_date": 1529023578, "post_id": 50867507, "comment_id": 88737634, "body": "It works after I removed those <a href=\"https://github.com/docker-library/php/blob/master/5.6/jessie/apache/Dockerfile#L84-L98\" rel=\"nofollow noreferrer\">lines</a>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9944041"}, "is_accepted": false, "score": 0, "last_activity_date": 1529021026, "creation_date": 1529021026, "answer_id": 50867507, "question_id": 50867334, "link": "https://stackoverflow.com/questions/50867334/perl-cgi-does-work-in-apache2/50867507#50867507", "title": "Perl cgi does work in apache2", "body": "<p>Have you tried changing  <code>RUN echo \"AddHandler cgi-script .pl</code> to <code>RUN echo \"AddHandler cgi-script .cgi</code>  </p>\n"}], "owner": {"reputation": 97, "user_id": 3523406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a2acbf5cfb0549667ed2e0a393a52b?s=128&d=identicon&r=PG&f=1", "display_name": "user3523406", "link": "https://stackoverflow.com/users/3523406/user3523406"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 423, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1529021026, "creation_date": 1529019583, "question_id": 50867334, "link": "https://stackoverflow.com/questions/50867334/perl-cgi-does-work-in-apache2", "title": "Perl cgi does work in apache2", "body": "<p>My cgi scripts are written in Perl (*.cgi) and are located in different folders. When the cgi script gets loaded inside the browser the actual scripts appears rather than HTML. </p>\n\n<p>The log shows:</p>\n\n<pre><code>phpapache_1  | 172.19.20.214 - - [15/Jun/2018:09:51:24 +0000] \"GET /blast/blast_link2.cgi HTTP/1.1\" 304 181 \"http://131.181.10.150:8080/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Safari/537.36\"\n</code></pre>\n\n<p>The Dockerfile looks like this:</p>\n\n<pre><code>FROM debian:jessie\n# based on https://github.com/docker-library/php/blob/master/5.6/jessie/apache/Dockerfile\n\nRUN apt-get update  &amp;&amp; apt-get install -y --no-install-recommends \\\n        libapache2-mod-perl2 \\\n        libcgi-pm-perl \\\n        php5-cgi \\\n        php5-mysql \\\n        libapache2-mod-php5 \\\n        php5-mysql \\\n        php5-gd &amp;&amp; \\\n        rm -rf /var/lib/apt/lists/*\n...\n\nCOPY apache2-foreground /usr/local/bin/\nRUN chmod +x /usr/local/bin/apache2-foreground\n\nWORKDIR /var/www/html\nRUN /usr/sbin/a2enmod cgi\nRUN echo \"&lt;Directory /var/www/html/*&gt;\" &gt;&gt; /etc/apache2/apache2.conf\nRUN echo \"Options ExecCGI Includes FollowSymlinks\" &gt;&gt; /etc/apache2/apache2.conf\nRUN echo \"AddHandler cgi-script .pl\" &gt;&gt; /etc/apache2/apache2.conf\nRUN echo \"&lt;/Directory&gt;\" &gt;&gt; /etc/apache2/apache2.conf\n\nEXPOSE 80\nCMD [\"apache2-foreground\"]\n</code></pre>\n\n<p>What did I miss?</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["perl", "file", "file-io", "scripting", "vector-graphics"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5432071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11260624fc07b5f472581e992e006aa3?s=128&d=identicon&r=PG&f=1", "display_name": "Matt  Ward", "link": "https://stackoverflow.com/users/5432071/matt-ward"}, "edited": false, "score": 0, "creation_date": 1529013397, "post_id": 50866308, "comment_id": 88735308, "body": "Excellent! Thank you very much! This will help a ton!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1529012344, "creation_date": 1529012344, "answer_id": 50866308, "question_id": 50866287, "link": "https://stackoverflow.com/questions/50866287/perl-copying-specific-lines-of-vect-file/50866308#50866308", "title": "Perl copying specific lines of VECT File", "body": "<p>Just modify the <code>print</code> line to</p>\n\n<pre><code>print DATA2 $_, $_ if 7 .. 12;\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">Range Operators in \"perlop - Perl operators and precedence\"</a> for details.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1529016450, "last_edit_date": 1529016450, "creation_date": 1529013840, "answer_id": 50866568, "question_id": 50866287, "link": "https://stackoverflow.com/questions/50866287/perl-copying-specific-lines-of-vect-file/50866568#50866568", "title": "Perl copying specific lines of VECT File", "body": "<p>It's worth remembering the\n<a href=\"https://metacpan.org/pod/Tie::File\" rel=\"nofollow noreferrer\"><code>Tie::File</code></a>\nmodule which maps a file line by line to a Perl array and allows you to manipulate text files using simple array operations. It can be slow when working with large amounts of data, but it is ideal for the majority of applications involving regular text files</p>\n\n<p>Copying a range of lines from one file to another becomes a simple matter of copying an array slice. Remember that the file starts with line one in array element zero, so lines 7 to 12 are at indexes 6...11</p>\n\n<p>This is the Perl code to do what you ask</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Tie::File;\n\nchdir 'D:\\Downloads' or die $!;\n\ntie my @infile,  'Tie::File', '2290-00002.vect' or die $!;\ntie my @outfile, 'Tie::File', 'file2.vect' or die $!;\n\n@outfile = map { $_, $_ } @infile[6..11];\n</code></pre>\n\n<p>Nothing else is required. Isn't that neat?</p>\n"}], "owner": {"reputation": 85, "user_id": 5432071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11260624fc07b5f472581e992e006aa3?s=128&d=identicon&r=PG&f=1", "display_name": "Matt  Ward", "link": "https://stackoverflow.com/users/5432071/matt-ward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1529016450, "creation_date": 1529012163, "last_edit_date": 1529014248, "question_id": 50866287, "link": "https://stackoverflow.com/questions/50866287/perl-copying-specific-lines-of-vect-file", "title": "Perl copying specific lines of VECT File", "body": "<p>I want to copy lines 7-12 of files, like\n<a href=\"https://i.stack.imgur.com/tSvDj.png\" rel=\"nofollow noreferrer\">this example <code>.vect</code> file</a>,\ninto another <code>.vect</code> file in the same directory.</p>\n\n<p>I want each line, to be copied twice, and the two copies of each line to be pasted consecutively in the new file.</p>\n\n<p>This is the code I have used so far, and would like to continue using these methods/packages in Perl.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw(say);\n\n# This method works for reading a single file\nmy $dir = \"D:\\\\Downloads\";\n\nmy $readfile  = $dir .\"\\\\2290-00002.vect\";\nmy $writefile = $dir . \"\\\\file2.vect\";\n\n#open a file to read\nopen(DATA1, \"&lt;\". $readfile) or die \"Can't open '$readfile': $!\";;\n\n# Open a file to write\nopen(DATA2, \"&gt;\" . $writefile) or die \"Can't open '$writefile': $!\";;\n\n# Copy data from one file to another.\nwhile ( &lt;DATA1&gt; ) {\n    print DATA2 $_;\n}\n\nclose( DATA1 );\nclose( DATA2 );\n</code></pre>\n\n<p>What would be a simple way to do this using the same opening and closing file syntax I have used above?</p>\n"}, {"tags": ["perl", "solaris", "io-socket"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529035844, "post_id": 50864741, "comment_id": 88739660, "body": "Not binding at all should result in a dynamic port. Unfortunately, IO::Socket::INET always calls <code>bind</code> when <code>Listen</code> is provided."}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 5, "last_activity_date": 1529037367, "last_edit_date": 1529037367, "creation_date": 1529005890, "answer_id": 50864907, "question_id": 50864741, "link": "https://stackoverflow.com/questions/50864741/does-iosocketinet-new-return-undefined-on-error/50864907#50864907", "title": "Does IO::Socket::INET-&gt;new return undefined on error?", "body": "<p><code>IO::Socket::INET-&gt;new</code> works like most Perl constructors: it returns an instance of the class on success, a false value on error. There's some side channel to get the error reason. Exactly what that false value is deliberately not documented, all that matters is it's false.</p>\n\n<p>This leads to the general pattern <code>my $obj = Class-&gt;new or die $reason;</code>. In the case of IO::Socket, you get the error from <code>$@</code> (which is pretty gross).</p>\n\n<pre><code>my $port = 999;\nmy $lsn = IO::Socket::INET-&gt;new(Listen =&gt; 1, LocalPort =&gt; $port)\n    or die \"Couldn't listen on port $port: $@\";\n\n# Couldnt listen on port 999: Permission denied at -e line 1.\n</code></pre>\n\n<blockquote>\n  <p>I tested passing in 0 on my local windows machine(again, the documentation doesn't seem to mention how to get it to choose the port to bind), and that seemed to make it 'choose any available port', which is what I wanted, but maybe it behaves differently on Solaris (which is where this problem occurred)?</p>\n</blockquote>\n\n<p>Yes, this is implementation specific. IO::Socket::INET is just a thin layer around the Socket library which uses <code>bind</code>. If you pass <code>bind</code> port 0 it will find a port for you. This is generally true for all modern implementations.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms737550(v=vs.85).aspx\" rel=\"nofollow noreferrer\">Windows <code>bind</code></a>...</p>\n\n<blockquote>\n  <p>For TCP/IP, if the port is specified as zero, the service provider assigns a unique port to the application from the dynamic client port range. On Windows Vista and later, the dynamic client port range is a value between 49152 and 65535. This is a change from Windows Server 2003 and earlier where the dynamic client port range was a value between 1025 and 5000.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 3716, "user_id": 331059, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcddae70351aff62451086cd399801f9?s=128&d=identicon&r=PG", "display_name": "Bwmat", "link": "https://stackoverflow.com/users/331059/bwmat"}, "edited": false, "score": 0, "creation_date": 1529017380, "post_id": 50867055, "comment_id": 88736339, "body": "I was passing in &#39;0&#39; for the port to use, in the attempt to get it to choose an unused port for me."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9944041"}, "is_accepted": false, "score": 0, "last_activity_date": 1529017301, "creation_date": 1529017301, "answer_id": 50867055, "question_id": 50864741, "link": "https://stackoverflow.com/questions/50864741/does-iosocketinet-new-return-undefined-on-error/50867055#50867055", "title": "Does IO::Socket::INET-&gt;new return undefined on error?", "body": "<p>Is it trying to bind to a privileged port (on Solaris less than 1024)?  If so it may be a permissions issue and would need root access to bind. </p>\n"}], "owner": {"reputation": 3716, "user_id": 331059, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcddae70351aff62451086cd399801f9?s=128&d=identicon&r=PG", "display_name": "Bwmat", "link": "https://stackoverflow.com/users/331059/bwmat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "accepted_answer_id": 50864907, "answer_count": 2, "score": 1, "last_activity_date": 1529037367, "creation_date": 1529005171, "question_id": 50864741, "link": "https://stackoverflow.com/questions/50864741/does-iosocketinet-new-return-undefined-on-error", "title": "Does IO::Socket::INET-&gt;new return undefined on error?", "body": "<p>I have the following code (part of a larger script)</p>\n\n<pre><code>my $lsn = IO::Socket::INET-&gt;new(Listen =&gt; 1, LocalPort =&gt; 0); # just use any available port.\n$port = $lsn-&gt;sockport();\n</code></pre>\n\n<p>I'm getting the error <code>Can't call method \"sockport\" on an undefined value</code>.</p>\n\n<p>The documentation for <code>IO::Socket::INET</code> doesn't say much on this issue: <a href=\"https://perldoc.perl.org/IO/Socket/INET.html\" rel=\"nofollow noreferrer\">https://perldoc.perl.org/IO/Socket/INET.html</a> (is there a better place to look? Not too familiar with this module).</p>\n\n<p>Strange thing is that I recently changed this, before it passed in a non-zero, randomly-generated port number, and that would sometimes break, when the port was in use.</p>\n\n<p>I tested passing in <code>0</code> on my local windows machine(again, the documentation doesn't seem to mention how to get it to choose the port to bind), and that seemed to make it 'choose any available port', which is what I wanted, but maybe it behaves differently on Solaris (which is where this problem occurred)?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1529005371, "post_id": 50864669, "comment_id": 88732088, "body": "You can use a <i>lookbehind assertion</i>: <code>(?&lt;!,)&quot;&quot;,</code> to &quot;look behind&quot; from the current position without to include in the match result what you are testing inside it, or use the <code>\\K</code> escape sequence to start the match result at the position you want in the pattern: <code>(?:[^,]|^)\\K&quot;&quot;,</code>. Note that if you are trying to fix a badly formatted csv file, there are few chances to obtain a trusted result, but who know."}], "answers": [{"comments": [{"owner": {"reputation": 280, "user_id": 4301184, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b25293793923d386acde700a1361f51b?s=128&d=identicon&r=PG&f=1", "display_name": "searcot jabali", "link": "https://stackoverflow.com/users/4301184/searcot-jabali"}, "edited": false, "score": 0, "creation_date": 1529006281, "post_id": 50864863, "comment_id": 88732514, "body": "I wish I could, but since this is a production server at work, I cannot install any module I like."}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1529005686, "creation_date": 1529005686, "answer_id": 50864863, "question_id": 50864669, "link": "https://stackoverflow.com/questions/50864669/perl-regex-substitution/50864863#50864863", "title": "Perl regex substitution", "body": "<p>You are trying to fix a broken CSV file.\nDoing it with a pattern match is not the best solution.\nYou should try fixing it by using <strong>Text::CSV_XS</strong> module with <strong>allow_loose_quotes => 1</strong> option.</p>\n"}, {"comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1529013051, "post_id": 50865282, "comment_id": 88735202, "body": "There&#39;s no advantage to exclude the quote from the character class: if indeed you handle cases like <code>&quot;&quot;&quot;abc&quot;&quot;&quot;</code>, you also break cases like <code>&quot;&quot;&quot;abc&quot;&quot;&quot;&quot;</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529036663, "post_id": 50865282, "comment_id": 88739859, "body": "Fixed: <code>s&#47;(?:\\G|[^&quot;,])(?:&quot;&quot;)*\\K&quot;&quot;,&#47;&quot;,&#47;g</code>"}, {"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529047119, "post_id": 50865282, "comment_id": 88743273, "body": "@ikegami very nice, yet one can have things like <code>&quot;&quot;&quot;a&quot;&quot;,&quot;&quot;b&quot;&quot;&quot;</code>... Don&#39;t think it&#39;s possible to parse a CSV with regex with 100% accuracy (especially a broken one)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1529055265, "post_id": 50865282, "comment_id": 88747189, "body": "@rustyx, Re &quot;<i>yet one can have things like</i>&quot;, Not according to the OP. /// Re &quot;<i>Don&#39;t think it&#39;s possible to parse a CSV with regex with 100% accuracy</i>&quot;, That&#39;s ridiculous."}], "tags": [], "owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "is_accepted": false, "score": 2, "last_activity_date": 1529007465, "creation_date": 1529007465, "answer_id": 50865282, "question_id": 50864669, "link": "https://stackoverflow.com/questions/50864669/perl-regex-substitution/50865282#50865282", "title": "Perl regex substitution", "body": "<p>Use a group replacement:</p>\n\n<pre><code>$line =~ s/([^,])\"\",/$1\",/g\n</code></pre>\n\n<p>Or a lookbehind:</p>\n\n<pre><code>$line =~ s/(?&lt;!,)\"\",/\",/g\n</code></pre>\n\n<p>Having said that, <code>\"\"</code> is a CSV quoted quote, it can appear inside a string. For example, this is valid: <code>\"\"\"abc\"\"\"</code>. To avoid breaking that, also exclude <code>\"</code> from the lookbehind:</p>\n\n<pre><code>$line =~ s/(?&lt;![,\"])\"\",/\",/g\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 300, "user_id": 6701530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a176c0213539f76b5f4abd78c40b365f?s=128&d=identicon&r=PG&f=1", "display_name": "James Aanderson", "link": "https://stackoverflow.com/users/6701530/james-aanderson"}, "is_accepted": false, "score": -1, "last_activity_date": 1529007862, "creation_date": 1529007862, "answer_id": 50865384, "question_id": 50864669, "link": "https://stackoverflow.com/questions/50864669/perl-regex-substitution/50865384#50865384", "title": "Perl regex substitution", "body": "<p>This converts the broken col to an empty col and double quotes the last column. Not quite sure if that is what your looking for but there you go. </p>\n\n<pre><code>use strict ;\n\nmy $line = '\"abc\",\"123\",\"def\",\"\",\"asd\",\"876\"\",345' ;\n\n$line =~ s/\\,{0,1}\\\"\\\"\\,/\\,\\\"\\\"\\,/g ;\nmy @foo = split(/\\,/,$line) ;\n$foo[$#foo] =~ s/^|$/\\\"/g ;\n$line = join \",\", @foo ;\n\nprint \"\\n$line\\n\" ;\n</code></pre>\n"}], "owner": {"reputation": 280, "user_id": 4301184, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b25293793923d386acde700a1361f51b?s=128&d=identicon&r=PG&f=1", "display_name": "searcot jabali", "link": "https://stackoverflow.com/users/4301184/searcot-jabali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1529011702, "creation_date": 1529004842, "last_edit_date": 1529011702, "question_id": 50864669, "link": "https://stackoverflow.com/questions/50864669/perl-regex-substitution", "title": "Perl regex substitution", "body": "<p>I need to match exactly <code>\"\",</code> but not <code>,\"\",</code>\nfor example in this string</p>\n\n<pre><code>\"abc\",\"123\",\"def\",\"\",\"asd\",\"876\"\",345\n</code></pre>\n\n<p>I need to substitute the <code>\"\",</code> following the <code>\"876\"</code> but leave the <code>\"\"</code> after <code>\"def\"</code> alone.</p>\n\n<p>The regex I have right now is </p>\n\n<pre><code>$line =~ s/[^,]\"\",/\",/g\n</code></pre>\n\n<p>However this substitutes the <code>6</code> from <code>\"876\"</code>.</p>\n"}, {"tags": ["perl", "sorting"], "answers": [{"tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": true, "score": 4, "last_activity_date": 1528989971, "creation_date": 1528989971, "answer_id": 50861022, "question_id": 50860863, "link": "https://stackoverflow.com/questions/50860863/sort-command-in-perl-can-someone-explain-what-is-happening-in-this-script/50861022#50861022", "title": "Sort command in Perl - Can someone explain what is happening in this script?", "body": "<p><code>$#animals</code> is the index of the last entry in <code>@animals</code>; in your example, that'd be <code>5</code>.</p>\n\n<p>The range operator takes that <code>0 .. 5</code> and expands it to <code>0, 1, 2, 3, 4, 5</code>.</p>\n\n<p>That list of integers gets passed to <code>sort</code>, which treats them as indexes into <code>@animals</code> and sorts them based on the value in that array.</p>\n\n<p><em>Incidentally, parallel arrays make a great candidate for some other structure, like an array of hash references.</em></p>\n"}], "owner": {"reputation": 15, "user_id": 9942419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfec2be272f79c81ffd5566ae1caa4f7?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Field", "link": "https://stackoverflow.com/users/9942419/chris-field"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 50861022, "answer_count": 1, "score": 0, "last_activity_date": 1528989971, "creation_date": 1528989449, "question_id": 50860863, "link": "https://stackoverflow.com/questions/50860863/sort-command-in-perl-can-someone-explain-what-is-happening-in-this-script", "title": "Sort command in Perl - Can someone explain what is happening in this script?", "body": "<p>new coder here working in Perl.  Can someone explain to me what the following portion of the below code is doing?  I know that it is performing an alphabetical sort of the elements in array @animals and I think it is then assigning the sorted index values to @idx.  I have no idea what the last portion \"0 .. $#animals;\" is doing.  It appears that '..' is the range operator in Perl.</p>\n\n<pre><code>my @idx = sort { \n$animals[$a] cmp $animals[$b] \n} 0 .. $#animals;\n</code></pre>\n\n<p>Here is the full code:</p>\n\n<pre><code>@animals = (dog,cat,iguana,parakeet,monkey, giraffe);\n@diets = (beef,chicken,chickpeas,seeds,bananna,tree);\n@age = (7,3,5,2,20,18);\n\nmy @idx = sort { \n$animals[$a] cmp $animals[$b] \n} 0 .. $#animals;\n\n@animals = @animals[@idx];\n@diets = @diets[@idx];\n@age = @age[@idx];\n\nprint \"@animals\\n\";\nprint \"@diets\\n\";\nprint \"@age\\n\";\n</code></pre>\n"}, {"tags": ["mongodb", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1528978280, "post_id": 50857204, "comment_id": 88716912, "body": "<a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 1533, "user_id": 4364101, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JoPAj.jpg?s=128&g=1", "display_name": "Jordan Mackie", "link": "https://stackoverflow.com/users/4364101/jordan-mackie"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1528978502, "post_id": 50857204, "comment_id": 88717040, "body": "@\u0421\u0443\u0445\u043e\u043927 I&#39;m not really sure what other information I&#39;d need to add to this, versions of perl/Mongodb?"}, {"owner": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 0, "creation_date": 1528978632, "post_id": 50857204, "comment_id": 88717115, "body": "How about showing a document you expect to return in result and the other lines of code including the collection selection and <code>-&gt;find()</code>. Did you also read the documentation about the other valid structures to use and did you try them? If so then show that as well."}, {"owner": {"reputation": 1533, "user_id": 4364101, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JoPAj.jpg?s=128&g=1", "display_name": "Jordan Mackie", "link": "https://stackoverflow.com/users/4364101/jordan-mackie"}, "reply_to_user": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 0, "creation_date": 1528979038, "post_id": 50857204, "comment_id": 88717333, "body": "@NeilLunn updated with the entire script. The .find definitely works, but I&#39;m graphing this data later using the google api and would like to sort it at query time."}, {"owner": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 0, "creation_date": 1528979197, "post_id": 50857204, "comment_id": 88717443, "body": "Having a little knowledge of Perl data structures will help you. Generally <code>{ recorded_at =&gt; 1 }</code> should be what you want here because it&#39;s just a single field. For &quot;multiple&quot; fields in a sort see <a href=\"https://stackoverflow.com/questions/32967038/how-can-i-sort-by-multiple-fields-in-mongodb-with-perl\">How can I sort by multiple fields in mongodb with Perl?</a> which might give a bit more insight into what the documentation alludes to."}, {"owner": {"reputation": 1533, "user_id": 4364101, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JoPAj.jpg?s=128&g=1", "display_name": "Jordan Mackie", "link": "https://stackoverflow.com/users/4364101/jordan-mackie"}, "reply_to_user": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 0, "creation_date": 1528979378, "post_id": 50857204, "comment_id": 88717570, "body": "@NeilLunn that worked great thank you! If you want to post that as an answer for the rep I&#39;ll mark it as accepted. Would it be correct to say that the Docs are wrong (or maybe just outdated)? As the example you linked also uses curly brackets rather than square."}, {"owner": {"reputation": 2855, "user_id": 11800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d37a63484d9878cf6c07dcc08adda9e2?s=128&d=identicon&r=PG", "display_name": "xdg", "link": "https://stackoverflow.com/users/11800/xdg"}, "edited": false, "score": 0, "creation_date": 1529068140, "post_id": 50857204, "comment_id": 88754230, "body": "What version of the driver are you using?  That shouldn&#39;t be happening on recent versions of the driver."}, {"owner": {"reputation": 1533, "user_id": 4364101, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JoPAj.jpg?s=128&g=1", "display_name": "Jordan Mackie", "link": "https://stackoverflow.com/users/4364101/jordan-mackie"}, "reply_to_user": {"reputation": 2855, "user_id": 11800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d37a63484d9878cf6c07dcc08adda9e2?s=128&d=identicon&r=PG", "display_name": "xdg", "link": "https://stackoverflow.com/users/11800/xdg"}, "edited": false, "score": 0, "creation_date": 1529068516, "post_id": 50857204, "comment_id": 88754446, "body": "@xdg likely an older one, the only reason I&#39;m working in perl in the first place is because of a legacy codebase"}, {"owner": {"reputation": 2855, "user_id": 11800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d37a63484d9878cf6c07dcc08adda9e2?s=128&d=identicon&r=PG", "display_name": "xdg", "link": "https://stackoverflow.com/users/11800/xdg"}, "edited": false, "score": 1, "creation_date": 1529073501, "post_id": 50857204, "comment_id": 88757577, "body": "OK.  Keep in mind that if it&#39;s older that v1.0, the current docs you linked to won&#39;t help."}], "answers": [{"tags": [], "owner": {"reputation": 1533, "user_id": 4364101, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JoPAj.jpg?s=128&g=1", "display_name": "Jordan Mackie", "link": "https://stackoverflow.com/users/4364101/jordan-mackie"}, "is_accepted": true, "score": 1, "last_activity_date": 1529154297, "last_edit_date": 1529154297, "creation_date": 1528982624, "answer_id": 50858618, "question_id": 50857204, "link": "https://stackoverflow.com/questions/50857204/error-when-trying-to-use-mongodbs-cursor-sort-in-perl/50858618#50858618", "title": "Error when trying to use MongoDB&#39;s cursor sort in Perl", "body": "<pre><code>$cursor-&gt;sort({recorded_at =&gt; 1});\n</code></pre>\n\n<p>Can also be used to sort by <a href=\"https://stackoverflow.com/questions/32967038/how-can-i-sort-by-multiple-fields-in-mongodb-with-perl\">multiple fields.</a></p>\n\n<p>The documentation is for the newer MongoDB driver for perl, which I bet if you're looking this up too, you're stuck with.</p>\n"}], "owner": {"reputation": 1533, "user_id": 4364101, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JoPAj.jpg?s=128&g=1", "display_name": "Jordan Mackie", "link": "https://stackoverflow.com/users/4364101/jordan-mackie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 50858618, "answer_count": 1, "score": 0, "last_activity_date": 1529154542, "creation_date": 1528978059, "last_edit_date": 1529154542, "question_id": 50857204, "link": "https://stackoverflow.com/questions/50857204/error-when-trying-to-use-mongodbs-cursor-sort-in-perl", "title": "Error when trying to use MongoDB&#39;s cursor sort in Perl", "body": "<p><a href=\"http://search.cpan.org/dist/MongoDB/lib/MongoDB/Cursor.pm#sort\" rel=\"nofollow noreferrer\">This documentation</a> described how to sort the results once you've obtained a cursor.</p>\n\n<p>However, When I try to compile with my own implementation:</p>\n\n<pre><code>#!/asp_share/linopt/perl-5.8.8/bin/perl\n\nuse CGI;\nuse Fcntl;\nuse MongoDB;\nuse JSON;\nuse Text::CSV;\nuse strict;\nuse warnings;\n\nmy $q = new CGI;\nmy $dbhost = $q-&gt;param('dbhost') || 'sb2mdb01';\nprint $q-&gt;header('application/json');\n\n# Connect to db and retrieve stats for given db\nmy $client = MongoDB::Connection-&gt;new(\"host\" =&gt; $dbhost);\nmy $tracking_db = $client-&gt;get_database(\"db_size_tracking\");\nmy $db_name = \"st_\" . ($q-&gt;param('db') || \"db_size_tracking\" );\nmy $collection = $tracking_db-&gt;get_collection($db_name);\nmy $every = $q-&gt;param('every') || 1;  # sample per $every line\nmy $date = $q-&gt;param('date') || `date +%Y%m%d`; # date to start from\nchomp($date);\nmy $year = substr($date,0,4);\nmy $month = \"\".substr($date,4,2);\nmy $day = \"\".substr($date,6,2);\nmy $cursor = $collection-&gt;find({recorded_at =&gt; {'$gte' =&gt; DateTime-&gt;new( year =&gt; $year, month =&gt; $month, day =&gt; $day)}});\n$cursor-&gt;sort([recorded_at =&gt; 1]);\n# Generate and return JSON\nmy @sizeTimes;\nmy $count = 0;\nwhile (my $doc = $cursor-&gt;next) {\n    next if ($count++ % $every != 0);\n    my $recorded_at = $doc-&gt;{'recorded_at'}-&gt;iso8601;\n    my $datasize = $doc-&gt;{'datasize'};\n    my %row;\n    $row{'recorded_at'} = $recorded_at;\n    $row{'datasize'} = $datasize;\n    push @sizeTimes, \\%row;\n}\n\nprint encode_json {sizeTimes =&gt; \\@sizeTimes};\n</code></pre>\n\n<p>I get </p>\n\n<pre><code>not a hash reference at /linopt/perl-5.8.8/lib/site_perl/5.8.8/i686-linux/MongoDB/Cursor.pm line 182\n        MongoDB::Cursor::sort('MongoDB::Cursor=HASH(0x8e87160)', 'ARRAY(0x8e86614)')\n</code></pre>\n\n<p>I'm fairly new to perl, so I'm not really sure how to interpret this error message, any help would be really appreciated!</p>\n\n<p>The documents returned are of the form </p>\n\n<pre><code>{recorded_at: recorded_at, datasize: datasize}\n</code></pre>\n\n<p>Perl: v5.8.8\nMongoDB: 3.0.7</p>\n"}, {"tags": ["bash", "perl", "text", "awk", "sed"], "comments": [{"owner": {"reputation": 308, "user_id": 9300441, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/36f3656ad148b9901f9138bf991a8300?s=128&d=identicon&r=PG&f=1", "display_name": "Shred", "link": "https://stackoverflow.com/users/9300441/shred"}, "edited": false, "score": 0, "creation_date": 1528971717, "post_id": 50854745, "comment_id": 88712977, "body": "Please don&#39;t downvote just for 7 mins. Give me a reasonable time to post what you&#39;ve asked."}, {"owner": {"reputation": 7829, "user_id": 4950584, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xTMYK-wVa7U/AAAAAAAAAAI/AAAAAAAAAGA/x2vE5BBF-hM/photo.jpg?sz=128", "display_name": "Chris Turner", "link": "https://stackoverflow.com/users/4950584/chris-turner"}, "edited": false, "score": 0, "creation_date": 1528972842, "post_id": 50854745, "comment_id": 88713623, "body": "Why don&#39;t you use one of the solutions in the duplicates you mention?"}, {"owner": {"reputation": 308, "user_id": 9300441, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/36f3656ad148b9901f9138bf991a8300?s=128&d=identicon&r=PG&f=1", "display_name": "Shred", "link": "https://stackoverflow.com/users/9300441/shred"}, "edited": false, "score": 0, "creation_date": 1528973249, "post_id": 50854745, "comment_id": 88713881, "body": "Because I&#39;m unable to find a way to add an <i>if</i> statement in awk to print the &quot;NO MATCH&quot; item, and to extend this comparison to three files. That&#39;s mainly because awk answers are usually just the code, with absolutely none description."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1528973810, "post_id": 50854745, "comment_id": 88714184, "body": "awk answers are often just code because they&#39;re usually clear, simple, and trivial to understand given a glance at the documentation."}], "answers": [{"comments": [{"owner": {"reputation": 308, "user_id": 9300441, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/36f3656ad148b9901f9138bf991a8300?s=128&d=identicon&r=PG&f=1", "display_name": "Shred", "link": "https://stackoverflow.com/users/9300441/shred"}, "edited": false, "score": 0, "creation_date": 1528973986, "post_id": 50855839, "comment_id": 88714283, "body": "Thanks for the answer. Could you please explain what is <i>vals</i> , <i>ARGIND</i> ?"}, {"owner": {"reputation": 308, "user_id": 9300441, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/36f3656ad148b9901f9138bf991a8300?s=128&d=identicon&r=PG&f=1", "display_name": "Shred", "link": "https://stackoverflow.com/users/9300441/shred"}, "edited": false, "score": 1, "creation_date": 1528975179, "post_id": 50855839, "comment_id": 88714956, "body": "Works like a charm. Thanks a lot"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 308, "user_id": 9300441, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/36f3656ad148b9901f9138bf991a8300?s=128&d=identicon&r=PG&f=1", "display_name": "Shred", "link": "https://stackoverflow.com/users/9300441/shred"}, "edited": false, "score": 0, "creation_date": 1528975777, "post_id": 50855839, "comment_id": 88715343, "body": "You&#39;re welcome. <code>vals</code> is an array of the input values analogous to <code>a</code> in your code, <code>ARGIND</code> is clearly defined in the documentation as the current input file number, see <a href=\"https://www.gnu.org/software/gawk/manual/gawk.html\" rel=\"nofollow noreferrer\">gnu.org/software/gawk/manual/gawk.html</a>. The difference between this answer and @anubhava&#39;s btw is that this will work for any number of input files instead of just 3 and uses the file names as the column headers instead of hard-coding them. To learn awk I highly recommend you get the book Effective Awk Programming, 4th Edition, by Arnold Robbins."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 3, "last_activity_date": 1528973743, "creation_date": 1528973743, "answer_id": 50855839, "question_id": 50854745, "link": "https://stackoverflow.com/questions/50854745/3-file-string-matching-pattern-awk-in-tab-separated-file/50855839#50855839", "title": "3 file string matching pattern awk in tab separated file", "body": "<p>With GNU awk for true multi-dimensional arrays and ARGIND:</p>\n\n<pre><code>$ cat tst.awk\nBEGIN { OFS=\"\\t\" }\n(NR==FNR) || ($1 in vals) {\n    vals[$1][ARGIND] = $2\n}\nEND {\n    printf \"%s%s\", \"Query\", OFS\n    for (fileNr=1; fileNr&lt;=ARGIND; fileNr++) {\n        printf \"%s%s\", ARGV[fileNr], (fileNr&lt;ARGIND ? OFS : ORS)\n    }\n    for (key in vals) {\n        printf \"%s%s\", key, OFS\n        for (fileNr=1; fileNr&lt;=ARGIND; fileNr++) {\n            val = (fileNr in vals[key] ? vals[key][fileNr] : \"NO MATCH\")\n            printf \"%s%s\", val, (fileNr&lt;ARGIND ? OFS : ORS)\n        }\n    }\n}\n\n$ awk -f tst.awk file1 file2 file3\nQuery   file1   file2   file3\nNODE_2020       Cancer  Mikro   Gold\nNODE_0902       Snap    Mini    NO MATCH\nNODE_2029       Thug    Bold    NO MATCH\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1528976789, "post_id": 50855856, "comment_id": 88716006, "body": "Yes you&#39;re right because <code>ARGIND</code> is printed null. However I have edited this <code>awk</code> to get rid of <code>ARGIND</code> to make it work on BSD or any other older <code>awk</code>."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 2, "last_activity_date": 1528976713, "last_edit_date": 1528976713, "creation_date": 1528973803, "answer_id": 50855856, "question_id": 50854745, "link": "https://stackoverflow.com/questions/50854745/3-file-string-matching-pattern-awk-in-tab-separated-file/50855856#50855856", "title": "3 file string matching pattern awk in tab separated file", "body": "<p>You may use this <code>awk</code>:</p>\n\n<pre><code>awk -v OFS='\\t' 'function bval(p,q) {\n    return ((p,q) in b ? b[p,q] : \"NO MATCH\")\n}\nFNR == NR {\n   a[$1] = $2\n   next\n}\n{\n   b[FILENAME,$1] = $2\n}\nEND {\n   print \"Query\", ARGV[1], ARGV[2], ARGV[3]\n   for (i in a)\n      print i, a[i], bval(ARGV[2],i), bval(ARGV[3],i)\n}' file{1,2,3}\n</code></pre>\n\n<p></p>\n\n<pre><code>Query   file1   file2   file3\nNODE_2020   Cancer  Mikro   Gold\nNODE_0902   Snap    Mini    NO MATCH\nNODE_2029   Thug    Bold    NO MATCH\n</code></pre>\n"}], "owner": {"reputation": 308, "user_id": 9300441, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/36f3656ad148b9901f9138bf991a8300?s=128&d=identicon&r=PG&f=1", "display_name": "Shred", "link": "https://stackoverflow.com/users/9300441/shred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 50855839, "answer_count": 2, "score": 2, "last_activity_date": 1528976713, "creation_date": 1528970399, "last_edit_date": 1528973204, "question_id": 50854745, "link": "https://stackoverflow.com/questions/50854745/3-file-string-matching-pattern-awk-in-tab-separated-file", "title": "3 file string matching pattern awk in tab separated file", "body": "<p>I've got 3 file:</p>\n\n<p><strong>FILE 1</strong></p>\n\n<pre><code>NODE_2020   Cancer\nNODE_2029   Thug\nNODE_0902   Snap\n</code></pre>\n\n<p><strong>FILE 2</strong></p>\n\n<pre><code>NODE_2020   Mikro   \nNODE_2029   Bold\nNODE_0902   Mini\n</code></pre>\n\n<p><strong>FILE 3</strong></p>\n\n<pre><code>NODE_2020   Gold\nNODE_2080   Damn\nNODE_0900   Gueo\n</code></pre>\n\n<p>I need to search for the first column of file 1 into the other two: if value matches, then <em>column 2 of file 2</em> and <em>column 2 of file 3</em> will be printed into a single file; if not, a \"NO MATCH\" string will be printed in return. Output file will be made like this:</p>\n\n<pre><code>Query   File1   File2   File3\n\nNODE_2020   Cancer  Mikro   Gold    \nNODE_2029   Thug    Bold    NO MATCH    \nNODE_0902   Snap    Mini    NO MATCH\n</code></pre>\n\n<p>Awk/sed/perl solutions are really appreciated. What I'm stuck on doing is to use first column of file 1 as a variable to look with just an <em>if</em> statement into other 2 files. </p>\n\n<p>Here's what I've tried, to use column from file 1 and match into file 2:</p>\n\n<pre><code>awk 'NR==FNR{a[NR]=$1;next} { print a[FNR],\"\\t\", $2 }' file1 file2\n</code></pre>\n\n<p>It actually works for 2 files. No idea on how to extend to three file, and to add the \"NO MATCH\" pattern.</p>\n"}, {"tags": ["perl", "perforce", "perl-module"], "answers": [{"comments": [{"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "edited": false, "score": 0, "creation_date": 1528959250, "post_id": 50851164, "comment_id": 88705301, "body": "Thanks for your help in this matter. let me check it."}, {"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "edited": false, "score": 0, "creation_date": 1528961187, "post_id": 50851164, "comment_id": 88706305, "body": "I am getting an error while excusing script also pastes error message in below."}, {"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "edited": false, "score": 1, "creation_date": 1528961290, "post_id": 50851164, "comment_id": 88706368, "body": "Can&#39;t locate auto/P4/autosplit.ix in @INC (INC contains: C:/Perl64/site/lib C:/Perl64/lib .) at C:/Perl64/lib/AutoLoader.pm line 181.  at C:/Perl64/lib/P4.pm line 67."}, {"owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "edited": false, "score": 0, "creation_date": 1528961295, "post_id": 50851164, "comment_id": 88706373, "body": "Compilation failed in require at C:\\Users\\sysadmin\\perl-excs\\perforce.pl line 3. BEGIN failed--compilation aborted at C:\\Users\\sysadmin\\perl-excs\\perforce.pl line 3."}, {"owner": {"reputation": 1245, "user_id": 986696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7faEG.jpg?s=128&g=1", "display_name": "Alex Jansen", "link": "https://stackoverflow.com/users/986696/alex-jansen"}, "edited": false, "score": 0, "creation_date": 1557968044, "post_id": 50851164, "comment_id": 98947231, "body": "I found the Linux version <a href=\"http://www.perforce.com/downloads/perforce/r18.2/bin.tools/p4perl.tgz\" rel=\"nofollow noreferrer\">here</a>.  There isn&#39;t an obvious readme file or installation script so I have no idea what to do with it.  I vaguely recall something about a collection of C++ sources which were failing to compile when I tried this last year.  I reached out to Perforce for help at the time but they refused to speak with me because my company&#39;s license had lapsed for one week.  I&#39;m not even sure why the code I&#39;m working with has a runtime dependency on Perforce in the first place.  FML..."}, {"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1557993853, "post_id": 50851164, "comment_id": 98954691, "body": "Alex Johnson, <a href=\"https://stackoverflow.com/questions/ask\">open a new question</a> for that"}], "tags": [], "owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "is_accepted": false, "score": 2, "last_activity_date": 1528958679, "creation_date": 1528958679, "answer_id": 50851164, "question_id": 50850947, "link": "https://stackoverflow.com/questions/50850947/how-to-download-the-p4-pmperforce-module-for-perl-script/50851164#50851164", "title": "How to download the p4.pm(perforce) module for Perl script?", "body": "<blockquote>\n  <p>How to download</p>\n</blockquote>\n\n<p><a href=\"https://swarm.workshop.perforce.com/projects/p4perl/archives/main.zip\" rel=\"nofollow noreferrer\">https://swarm.workshop.perforce.com/projects/p4perl/archives/main.zip</a></p>\n\n<blockquote>\n  <p>Is it possible to use modules without installing them?</p>\n</blockquote>\n\n<p>Yes, see <a href=\"http://p3rl.org/blib\" rel=\"nofollow noreferrer\"><code>blib</code></a>. What's the point, though? The code <em>has</em> to sit somewhere as a file so that Perl is able to read it, then it might as well be in the intended installation directories so that <a href=\"http://perldoc.perl.org/perlfaq8.html#How-do-I-add-a-directory-to-my-include-path-%28%40INC%29-at-runtime%3f\" rel=\"nofollow noreferrer\">manipulating the include path</a> becomes unnecessary.</p>\n"}], "owner": {"reputation": 614, "user_id": 3300422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6kMVK.jpg?s=128&g=1", "display_name": "Nataraj", "link": "https://stackoverflow.com/users/3300422/nataraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528958679, "creation_date": 1528957725, "question_id": 50850947, "link": "https://stackoverflow.com/questions/50850947/how-to-download-the-p4-pmperforce-module-for-perl-script", "title": "How to download the p4.pm(perforce) module for Perl script?", "body": "<p>How to download the p4.pm(perforce) module for Perl script? </p>\n\n<p>Is it possible to use modules without installing them?</p>\n"}, {"tags": ["php", "perl", "docker", "cgi", "fastcgi"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1528964255, "post_id": 50849120, "comment_id": 88708240, "body": "Why are you installing all those PHP modules and tagging this question <a href=\"https://stackoverflow.com/questions/tagged/php\">php</a> when the CGI program is written in Perl?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1528964286, "post_id": 50849120, "comment_id": 88708259, "body": "Don&#39;t use <code>-w</code>! Use <code>use warnings;</code>! And always <code>use strict;</code>!"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1528964338, "post_id": 50849120, "comment_id": 88708281, "body": "Why is this tagged <a href=\"https://stackoverflow.com/questions/tagged/fastcgi\">fastcgi</a> when you are using CGI? (For that matter, why aren&#39;t you using FastCGI?)"}], "owner": {"reputation": 97, "user_id": 3523406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a2acbf5cfb0549667ed2e0a393a52b?s=128&d=identicon&r=PG&f=1", "display_name": "user3523406", "link": "https://stackoverflow.com/users/3523406/user3523406"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1528964316, "answer_count": 0, "score": 0, "last_activity_date": 1528964177, "creation_date": 1528946438, "last_edit_date": 1528964177, "question_id": 50849120, "link": "https://stackoverflow.com/questions/50849120/how-to-setup-cgi-for-php5-apache", "closed_reason": "Duplicate", "title": "How to setup cgi for php5-apache", "body": "<p>My Dockerfile looks like this:</p>\n\n<pre><code>FROM php:5-apache\n\nRUN docker-php-source extract \\\n    &amp;&amp; docker-php-ext-install mysql mysqli pdo pdo_mysql \\\n    &amp;&amp; docker-php-source delete\n</code></pre>\n\n<p>Unfortunately, when I click on a cgi file I see the actual cgi script rather than the HTML file inside the browser: </p>\n\n<pre><code>#!/usr/bin/perl -w\nprint \"Content-type: text/html\\n\\n\";\n... \n</code></pre>\n\n<p>How is it possible to configure cgi?</p>\n\n<p>Thank you in advance,</p>\n"}, {"tags": ["perl", "package", "freebsd", "cpan"], "answers": [{"comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 0, "creation_date": 1528959135, "post_id": 50848707, "comment_id": 88705246, "body": "Sorry, the error message could be a little bit more clear. ISTR this happens when a proxy error message in HTML or some other unexpected or incomplete junk ends up in the <code>0*.txt.gz</code> files, and then the CPAN client gets confused about the contents. Starting over cleanly was the correct thing to do."}], "tags": [], "owner": {"reputation": 93, "user_id": 9171212, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PGbzRyoPho0/AAAAAAAAAAI/AAAAAAAAF5o/G2UJVuYDk4I/photo.jpg?sz=128", "display_name": "Deeptanshu Goel", "link": "https://stackoverflow.com/users/9171212/deeptanshu-goel"}, "is_accepted": true, "score": 2, "last_activity_date": 1528942707, "creation_date": 1528942707, "answer_id": 50848707, "question_id": 50848491, "link": "https://stackoverflow.com/questions/50848491/error-while-installing-perl-packages-in-freebsd/50848707#50848707", "title": "Error While installing perl Packages in Freebsd?", "body": "<p>I have just tried this </p>\n\n<pre><code>mv /root/.cpan /root/.cpanbackup\n</code></pre>\n\n<p>and used CPAN again It is working fine.</p>\n"}], "owner": {"reputation": 93, "user_id": 9171212, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PGbzRyoPho0/AAAAAAAAAAI/AAAAAAAAF5o/G2UJVuYDk4I/photo.jpg?sz=128", "display_name": "Deeptanshu Goel", "link": "https://stackoverflow.com/users/9171212/deeptanshu-goel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 50848707, "answer_count": 1, "score": 2, "last_activity_date": 1528942707, "creation_date": 1528940749, "question_id": 50848491, "link": "https://stackoverflow.com/questions/50848491/error-while-installing-perl-packages-in-freebsd", "title": "Error While installing perl Packages in Freebsd?", "body": "<p>I am getting this error while installing any perl module in a freebsd server when I googled it I Found that cpan is broken then how to update cpan without using ports want to use only pkg..</p>\n\n<pre><code>cpan JSON\nGoing to read '/root/.cpan/Metadata'\n  Database was generated on Tue, 04 Oct 2016 19:17:02 GMT\nGoing to read '/root/.cpan/sources/authors/01mailrc.txt.gz'\nDONE\nGoing to read '/root/.cpan/sources/modules/02packages.details.txt.gz'\nWarning: Your /root/.cpan/sources/modules/02packages.details.txt.gz does not contain a Line-Count header.\nPlease check the validity of the index file by comparing it to more\nthan one CPAN mirror. I'll continue but problems seem likely to\nhappen.\nWarning: Your /root/.cpan/sources/modules/02packages.details.txt.gz does not contain a Last-Updated header.\nPlease check the validity of the index file by comparing it to more\nthan one CPAN mirror. I'll continue but problems seem likely to\nhappen.\nDONE\nGoing to read '/root/.cpan/sources/modules/03modlist.data.gz'\nCan't locate object method \"data\" via package \"CPAN::Modulelist\" (perhaps you forgot to load \"CPAN::Modulelist\"?) at (eval 28) line 1.\n at /usr/local/lib/perl5/5.14.2/CPAN/Index.pm line 524\n    CPAN::Index::rd_modlist('CPAN::Index', '/root/.cpan/sources/modules/03modlist.data.gz') called at /usr/local/lib/perl5/5.14.2/CPAN/Index.pm line 85\n    CPAN::Index::reload('CPAN::Index') called at /usr/local/lib/perl5/5.14.2/CPAN.pm line 975\n    CPAN::exists('CPAN=HASH(0x8021b7570)', 'CPAN::Module', 'JSON') called at /usr/local/lib/perl5/5.14.2/CPAN/Shell.pm line 1255\n    CPAN::Shell::expandany('CPAN::Shell', 'JSON') called at /usr/local/lib/perl5/5.14.2/CPAN/Shell.pm line 1680\n    CPAN::Shell::rematein('CPAN::Shell', 'install', 'JSON') called at /usr/local/lib/perl5/5.14.2/CPAN/Shell.pm line 1976\n    CPAN::Shell::__ANON__('CPAN::Shell', 'JSON') called at /usr/local/lib/perl5/5.14.2/App/Cpan.pm line 459\n    App::Cpan::__ANON__('JSON') called at /usr/local/lib/perl5/5.14.2/App/Cpan.pm line 468\n    App::Cpan::_default('ARRAY(0x801060798)', 'HASH(0x8021c1ab0)') called at /usr/local/lib/perl5/5.14.2/App/Cpan.pm line 386\n    App::Cpan::run('App::Cpan', 'JSON') called at /usr/local/bin/cpan line 11\n</code></pre>\n"}]