[{"tags": ["perl", "logging", "graceful-degradation", "log4perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1470267663, "post_id": 38754967, "comment_id": 64884332, "body": "See <a href=\"http://stackoverflow.com/questions/251694/how-can-i-check-if-i-have-a-perl-module-before-using-it\"><code>How can I check if I have a perl module before using it</code></a>. Seems to be an exact duplicate.  The point is, you need to do it at runtime, and then need to use <code>require</code>."}, {"owner": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1470337248, "post_id": 38754967, "comment_id": 64922158, "body": "Thanks! That is certainly <i>a</i> solution, but I&#39;m wondering what <i>the</i> best practice solution among log4perl users is. I have edited my question to reflect this."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1470390148, "post_id": 38754967, "comment_id": 64942482, "body": "Alright.  While I don&#39;t know what is usual among <code>log4perl</code> users, the main point here <i>is</i> that you can only do such checks at runtime, while <code>use</code> is a <code>BEGIN</code> block. Thus you must resort to loading the module using <code>require</code> (and then <code>import</code>), at runtime, and there aren&#39;t too many ways to do that. I don&#39;t see how a module or its users can go around that, unless you use yet other modules. This is a generic problem and I think that you want to go with what would be Perl&#39;s most sensible and idiomatic way, not some particular trick.  The linked post offers good discussion and examples."}, {"owner": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1470863687, "post_id": 38754967, "comment_id": 65128176, "body": "You are in-fact correct. :-) I did finally find this in the faq: <a href=\"http://log4perl.sourceforge.net/releases/Log-Log4perl/docs/html/Log/Log4perl/FAQ.html#e193b\" rel=\"nofollow noreferrer\">log4perl.sourceforge.net/releases/Log-Log4perl/docs/html/Log&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1470864016, "post_id": 38754967, "comment_id": 65128344, "body": "Great :) In my opinion it is important to seek best practices!  Also -- you were correct in looking for something <code>log4perl</code> related, from what I see in your link the <code>import</code>s are specific!"}], "owner": {"reputation": 987, "user_id": 1104581, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e8be95b1d1cf7308d42a2025128ba398?s=128&d=identicon&r=PG", "display_name": "ipetrik", "link": "https://stackoverflow.com/users/1104581/ipetrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "closed_date": 1470267709, "answer_count": 0, "score": 0, "last_activity_date": 1470337121, "creation_date": 1470265115, "last_edit_date": 1470337121, "question_id": 38754967, "link": "https://stackoverflow.com/questions/38754967/best-practice-to-gracefully-fallback-in-perl-module-if-log4perl-not-installed", "closed_reason": "Duplicate", "title": "Best practice to gracefully fallback in perl module if log4perl not installed", "body": "<p>Ok, so I'm trying to learn to properly use log4perl.</p>\n\n<p>It seems like it would make sense that I could write a module that uses log4perl, but can also be distributed to a system where log4perl is not installed and still run without failing, just not log. If I have <code>use Log::Log4Perl qw(:easy);</code> in the module, compile fails with:</p>\n\n<pre><code>Can't locate Log/Log4Perl.pm in @INC ...\n</code></pre>\n\n<p>Basically, <strong>what is standard and best practice among users of log4perl to enable log4perl compatibility in a module without forcing it</strong>? It seems like something that should be common, but I can't find it to save my life.</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>EDIT:</strong> Thanks for the feedback! I have edited the question to reflect that I am looking for the best practice among users of log4perl in this situation, given that certainly this <em>must</em> be a common issue among log4perl users... right?</p>\n"}, {"tags": ["postgresql", "perl", "sqlite", "dbi", "dbix-class"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470301111, "post_id": 38751928, "comment_id": 64897426, "body": "Can you add an example ::View with the two different values that you need to use? I think I have an idea of how to do that, but I&#39;m not firm enough with my DBIC to set it up myself."}, {"owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470338669, "post_id": 38751928, "comment_id": 64923000, "body": "<a href=\"https://gist.github.com/simonecesano/568ed87082914c1c25fa881cdcca8bfc\" rel=\"nofollow noreferrer\">gist.github.com/simonecesano/568ed87082914c1c25fa881cdcca8bf&zwnj;&#8203;c</a> and <a href=\"https://gist.github.com/simonecesano/50da29e94de4301bba789ed1bbdfa7ec\" rel=\"nofollow noreferrer\">gist.github.com/simonecesano/50da29e94de4301bba789ed1bbdfa7e&zwnj;&#8203;c</a> I hope it helps. The SQL might not work in practice, I might have mangled it too badly"}], "answers": [{"tags": [], "owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "is_accepted": false, "score": 0, "last_activity_date": 1470953208, "creation_date": 1470953208, "answer_id": 38906849, "question_id": 38751928, "link": "https://stackoverflow.com/questions/38751928/can-i-define-a-dbixclassresultsourceview-after-connecting/38906849#38906849", "title": "Can I define a DBIx::Class::ResultSource::View after connecting?", "body": "<p>You could exclude the view from deployment, add the ddl sql in your schema class depending on the database you're connected to and not define it as a virtual view in which case the sql in the result class isn't used for anything.</p>\n"}], "owner": {"reputation": 3574, "user_id": 676192, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fcef8c55deae46cc0bfe986b2c189f70?s=128&d=identicon&r=PG", "display_name": "simone", "link": "https://stackoverflow.com/users/676192/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1470953208, "creation_date": 1470251775, "question_id": 38751928, "link": "https://stackoverflow.com/questions/38751928/can-i-define-a-dbixclassresultsourceview-after-connecting", "title": "Can I define a DBIx::Class::ResultSource::View after connecting?", "body": "<p>I have a virtual table in DBIx::Class whose definition needs to differ depending on the deployment. If I deploy against sqlite3 I can use <code>group_concat</code> but when I deploy on Postgres I need to use <code>string_agg</code> in the definition that I then use in</p>\n\n<pre><code>__PACKAGE__-&gt;result_source_instance-&gt;view_definition($sql);\n</code></pre>\n\n<p>Is there a way to do it depending on the connection?</p>\n"}, {"tags": ["sql", "perl", "sqlite"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470256759, "post_id": 38751469, "comment_id": 64880260, "body": "I&#39;ve edited your question to display the image in line, but it looks like it&#39;s a broken link"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470256905, "post_id": 38751469, "comment_id": 64880347, "body": "You need a <i>lot</i> more white space to make your code readable. And <code>use strict</code> is mandatory."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1470261942, "post_id": 38751469, "comment_id": 64882670, "body": "It looks like you are not familiar enough with computers let alone programming. You are trying to do something by editing some script you found somewhere, but that is bound to end in disappointment."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6673821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f94b0f97f000bd0652289c9610c63d?s=128&d=identicon&r=PG&f=1", "display_name": "user6673821", "link": "https://stackoverflow.com/users/6673821/user6673821"}, "edited": false, "score": 0, "creation_date": 1470277727, "post_id": 38754238, "comment_id": 64887580, "body": "Thank you for the response, I know I&#39;m a little slow with this but I appreciate it. I&#39;m not sure if you can see the picture I originally submitted but does it make sense to put those sqlite files in the &quot;sap_populate&quot; file and then run it?  When you say I need to specify a database file can you walk me through what that means slowly? Thank you again."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 1, "user_id": 6673821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f94b0f97f000bd0652289c9610c63d?s=128&d=identicon&r=PG&f=1", "display_name": "user6673821", "link": "https://stackoverflow.com/users/6673821/user6673821"}, "edited": false, "score": 0, "creation_date": 1470278328, "post_id": 38754238, "comment_id": 64887744, "body": "The answer is no. SO is not a free one-on-one tutoring service. You lack the knowledge and skills to accomplish this task at this point in time."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1470261088, "creation_date": 1470261088, "answer_id": 38754238, "question_id": 38751469, "link": "https://stackoverflow.com/questions/38751469/getting-an-error-coding-in-perl-when-im-try-to-use-a-dbi-to-use-sqlite/38754238#38754238", "title": "Getting an error coding in Perl when I&#39;m try to use a DBI to use SQlite", "body": "<blockquote>\n<pre><code>$DSN='dbi:SQLite:dbname=C:\\\\Users\\\\pdk11.UFAD\\\\Desktop\\\\RA\\\\sap_populate';\n</code></pre>\n</blockquote>\n\n<p>It looks to me like <code>C:\\Users\\pdk11.UFAD\\Desktop\\RA\\sap_populate</code> is a directory. You need to specify a database file in that directory.</p>\n"}], "owner": {"reputation": 1, "user_id": 6673821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f94b0f97f000bd0652289c9610c63d?s=128&d=identicon&r=PG&f=1", "display_name": "user6673821", "link": "https://stackoverflow.com/users/6673821/user6673821"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1470261382, "creation_date": 1470250173, "last_edit_date": 1470261382, "question_id": 38751469, "link": "https://stackoverflow.com/questions/38751469/getting-an-error-coding-in-perl-when-im-try-to-use-a-dbi-to-use-sqlite", "title": "Getting an error coding in Perl when I&#39;m try to use a DBI to use SQlite", "body": "<p>I'm trying to run this block of code and I'm getting this error:</p>\n\n<blockquote>\n  <p>DBI connect('dbname=C:\\Users\\pdk11.UFAD\\Desktop\\RA\\sap_populate','',...) failed: unable to open database file(1) at dbdimp.c line 94 at C:\\Users\\pdk11.UFAD\\Desktop\\RA\\Perl\\Extract items\\04createheader_SAP_pk.pl line 41.</p>\n</blockquote>\n\n<pre><code>#!/usr/bin/perl -w\nuse HTML::Scrubber;\nuse HTML::TreeBuilder;\nuse HTML::FormatText;\nuse DBI;\nuse Time::HiRes qw(gettimeofday);\n# Creates a table that holds heading information from Edgar 10-K Files.\n\n$total1=gettimeofday;\n\n#First specify the directory containing the files you want to get.\n#use random sort, a file containing 10 files\n$directory=\"D:\\\\ExternalFiles\\\\Edgar\\\\tenks\\\\\";\n#if windows, slash is \"\\\\\", mac \"/\";\n$slash=\"\\\\\";\n\n#Connect to database\n#$DSN is data source name\n#$DSN='dbi:SQLite:dbname=A:\\\\MyFiles\\\\MyPapers\\\\Differential_Contagion\\\\Analysis\\\\Input\\\\acctgchanges.sqlite';\n$DSN='dbi:SQLite:dbname=C:\\\\Users\\\\pdk11.UFAD\\\\Desktop\\\\RA\\\\sap_populate';\n$use='';$pword='';\n#connect to the sqlite database\n$dbh=DBI-&gt;connect($DSN,$use,$pword,{RaiseError=&gt;1, AutoCommit=&gt;1});\n</code></pre>\n\n<p><img src=\"https://i.imgur.com/JcfI5HY.png\" alt=\"I&#39;ve attached a picture of the SQL files that I&#39;ve downloaded onto my hard drive.\"></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1470249872, "post_id": 38751307, "comment_id": 64876592, "body": "are you sure you meant remove all non-ascii characters and not remove all punctuation and whitespace? Because <code>my $str = &quot;FO&#195;&#172;O BAR&quot;; print $str =~ s&#47;[[:ascii:]]&#47; &#47;gr;</code> outputs <code>&quot;  &#195;&#172;     &quot;</code>. Which is probably not what you wanted."}, {"owner": {"reputation": 3, "user_id": 4692098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/372ff8da10a16aaa6e0b7baa5bf25ac5?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/4692098/mary"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1470256350, "post_id": 38751307, "comment_id": 64880059, "body": "I need punctuation other than quotation make (\u201cdouble quotes\u201d).  The double quotes are causing a problem in PL/SQL (&quot;ORA-00911: invalid character&quot;) when I try to load the data in Data using PL/SQL: The non-ascii are just a nuisance and need the data to look clean."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4692098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/372ff8da10a16aaa6e0b7baa5bf25ac5?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/4692098/mary"}, "edited": false, "score": 0, "creation_date": 1470258294, "post_id": 38751492, "comment_id": 64881022, "body": "my 2: $str =~ s/[^!-~\\s]/ /g;  works to get rid of non ascii.  The problem I have is to also remove the double quotes on the string: For instance LASD&#195;&#172;BA&quot;, becomes: LASD  BA&quot; but I need it to be LASD  BA"}, {"owner": {"reputation": 3, "user_id": 4692098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/372ff8da10a16aaa6e0b7baa5bf25ac5?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/4692098/mary"}, "edited": false, "score": 0, "creation_date": 1470281986, "post_id": 38751492, "comment_id": 64888619, "body": "2: $str =~ s/[^!-~\\s]| &quot;/  /g;   Worked and output was what I needed.               LASD&#195;&#172;BA&quot; =  LASD BA  ;"}], "tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1470250251, "creation_date": 1470250251, "answer_id": 38751492, "question_id": 38751307, "link": "https://stackoverflow.com/questions/38751307/remove-non-ascii-characters-and-append-a-space-in-the-field-where-the-non-ascii/38751492#38751492", "title": "remove non-ascii characters and append a space in the field where the non-ascii characters were using a Perl all remove the double &quot;quote&quot;?", "body": "<p>I believe this replaces all special and invisible characters with spaces.</p>\n\n<pre><code>$str =~ s/(.)/(ord($1) &gt; 127) ? \" \" : $1/egs;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4692098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/372ff8da10a16aaa6e0b7baa5bf25ac5?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/4692098/mary"}, "edited": false, "score": 0, "creation_date": 1470319761, "post_id": 38759740, "comment_id": 64910587, "body": "This also worked; thanks. I had solved it with 2: $str =~ s/[^!-~\\s]/ /g;"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": true, "score": 0, "last_activity_date": 1470291267, "creation_date": 1470291267, "answer_id": 38759740, "question_id": 38751307, "link": "https://stackoverflow.com/questions/38751307/remove-non-ascii-characters-and-append-a-space-in-the-field-where-the-non-ascii/38759740#38759740", "title": "remove non-ascii characters and append a space in the field where the non-ascii characters were using a Perl all remove the double &quot;quote&quot;?", "body": "<p>You can try this code:</p>\n\n<pre><code>while(&lt;DATA&gt;)\n{\n    $_=~s/([^[:ascii:]]|\")/ /g;\n    print $_;\n}\n\n\n__DATA__\nFO\u00c3\u00acO BAR       PO BOX 1234\nLASD\u00c3\u00acBA\"       PO BOX 1234\nV\u00c3\u00acD\"Sxxx       PO BOX 1234\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>FO  O BAR       PO BOX 1234\nLASD  BA        PO BOX 1234\nV  D Sxxx       PO BOX 1234\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4692098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/372ff8da10a16aaa6e0b7baa5bf25ac5?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/4692098/mary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 1, "accepted_answer_id": 38759740, "answer_count": 2, "score": -1, "last_activity_date": 1470291267, "creation_date": 1470249557, "question_id": 38751307, "link": "https://stackoverflow.com/questions/38751307/remove-non-ascii-characters-and-append-a-space-in-the-field-where-the-non-ascii", "title": "remove non-ascii characters and append a space in the field where the non-ascii characters were using a Perl all remove the double &quot;quote&quot;?", "body": "<p>I am passing a fixed (flat file). I need help to remove non-ascii characters and append a space in the field where the non-ascii characters were using a Perl all remove the double \"quote\"? I also need to remove any non visible characters and leave data:\nI need to do this using regex;</p>\n\n<p>Please see example below:  </p>\n\n<pre><code>FO\u00c3\u00acO BAR       PO BOX 1234          \nLASD\u00c3\u00acBA\"       PO BOX 1234\nV\u00c3\u00acD\"Sxxx       PO BOX 1234\n\n1: $str =~ s/\"/ /g; removes the \" and replaces it with a space (good)\n\n2: $str =~ s/[^!-~\\s]/ /g;\n</code></pre>\n\n<p>Please help: j</p>\n"}, {"tags": ["xml", "perl", "parameters", "subroutine"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1470245962, "post_id": 38750209, "comment_id": 64874410, "body": "<a href=\"http://stackoverflow.com/questions/29354417\">stackoverflow.com/questions/29354417</a>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1470245991, "post_id": 38750209, "comment_id": 64874430, "body": "<a href=\"http://stackoverflow.com/questions/1161043\">stackoverflow.com/questions/1161043</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6673553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949eb5f45ab5c44f72c5bda9b467ad46?s=128&d=identicon&r=PG&f=1", "display_name": "sannag", "link": "https://stackoverflow.com/users/6673553/sannag"}, "edited": false, "score": 0, "creation_date": 1470248607, "post_id": 38750343, "comment_id": 64875823, "body": "Well when I reference the hash it throws me an error. Here is the code for it. I am new to perl       sub buildXMLElements() {  my($elementTags, $hashTags, $parentElement) = @_;     for my $name (@$elementTags) {     my $reportTag = $doc-&gt;createElement($name);     my $reportValue = $hashTags-&gt;[$name];     $reportTag-&gt;appendTextNode($reportValue);     $parentElement-&gt;appendChild($reportTag); } } it dies at the line my $reportValue = $hashTags-&gt;[$name]; :("}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "reply_to_user": {"reputation": 13, "user_id": 6673553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949eb5f45ab5c44f72c5bda9b467ad46?s=128&d=identicon&r=PG&f=1", "display_name": "sannag", "link": "https://stackoverflow.com/users/6673553/sannag"}, "edited": false, "score": 0, "creation_date": 1470248808, "post_id": 38750343, "comment_id": 64875934, "body": "Don&#39;t put code in a comment.  Either edit your original post or ask a new question with the updated code.  That said, the code <code>$reportValue = $hashTags-&gt;[$name];</code> is invalid because you used brackets <code>[]</code> instead of braces <code>{}</code> for a hash."}], "tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": true, "score": 3, "last_activity_date": 1470246037, "creation_date": 1470246037, "answer_id": 38750343, "question_id": 38750209, "link": "https://stackoverflow.com/questions/38750209/how-to-pass-parameters-in-perl-with-out-data-getting-altered/38750343#38750343", "title": "How to pass parameters in Perl with out data getting altered", "body": "<pre><code>buildXMLElements(\\@sortedReportTag, %reportHashTags, $report);\n...\nsub buildXMLElements() {\n  my( @elementTags, %hashTags, $parentElement) = @_;\n</code></pre>\n\n<p>You can't do that.  The entire contents of <code>@_</code> will be assigned to <code>@elementTags</code>.  To pass arrays or hashes to a subroutine you must pass a reference.  Try instead</p>\n\n<pre><code>buildXMLElements(\\@sortedReportTag, \\%reportHashTags, $report);\n...\nsub buildXMLElements() {\n  my( $elementTags, $hashTags, $parentElement) = @_;\n</code></pre>\n\n<p>Now, in the subroutine <code>$elementTags</code> is an array reference, and <code>$hashTags</code> is a hash reference. To refer to an element of <code>elementTags</code> use <code>$elementTags-&gt;[$i]</code> or to refer to the entire array do <code>@$elementTags</code>.\nLikewise, for <code>reportHashTags</code> key lookup use <code>$hashTags-&gt;[$key]</code>, or for the entire hash use <code>%$hashTags</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 6673553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/949eb5f45ab5c44f72c5bda9b467ad46?s=128&d=identicon&r=PG&f=1", "display_name": "sannag", "link": "https://stackoverflow.com/users/6673553/sannag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 38750343, "answer_count": 1, "score": 0, "last_activity_date": 1470256733, "creation_date": 1470245514, "last_edit_date": 1470256733, "question_id": 38750209, "link": "https://stackoverflow.com/questions/38750209/how-to-pass-parameters-in-perl-with-out-data-getting-altered", "title": "How to pass parameters in Perl with out data getting altered", "body": "<p>I have curious problem I can't get around. Can you please see what I am doing wrong. I am trying to build an XML in Perl using XML::LibXML. All works fine until I start building sub routine and pass arguments.</p>\n\n<p>First The code that works</p>\n\n<pre><code> my $root = $doc-&gt;createElement(\"XML_FILE\");\n my @sortedOuterTags = qw ( JMS_VERSION\n                       FILE_NAME\n                       SUBMIT_BY\n                       SUBMIT_DATE\n                      );\n\n# Use hash slice to access the list in hash elements\n# Remember has elements are accessed randomly, hence hash slice-ing\n\n my %outHashTags;\n @outHashTags { @sortedOuterTags } = ( 'data1',\n                                'data2',\n                                'data3',\n                                'data3');\n\nfor my $name (@sortedOuterTags) {\n    my $outTag = $doc-&gt;createElement($name);\n    my $outValue = $outHashTags{$name};\n    $outTag-&gt;appendTextNode($outValue);\n    $root-&gt;appendChild($outTag);\n}\n</code></pre>\n\n<p>Builds output:</p>\n\n<pre><code>&lt;JMS_VERSION&gt;data1&lt;/JMS_VERSION&gt;\n\n&lt;FILE_NAME&gt;data2&lt;/FILE_NAME&gt;\n\n&lt;SUBMIT_BY&gt;data3&lt;/SUBMIT_BY&gt;\n\n&lt;SUBMIT_DATE&gt;data4&lt;/SUBMIT_DATE&gt;\n</code></pre>\n\n<p>Now the error:</p>\n\n<p>As soon as I spin off for loop to an sub routine as show below I get errors. I am passing 3 paramenters.\n1) can't get array values of storedReportTag\n2) can't get %reportHashTag data\n3) $report element is empty</p>\n\n<p>Code:</p>\n\n<pre><code>buildXMLElements(\\@sortedReportTag, %reportHashTags, $report);\n\nsub buildXMLElements() {\n    my( @elementTags, %hashTags, $parentElement) = @_;\n\n    for my $name (@elementTags) {\n        my $reportTag = $doc-&gt;createElement($name);\n        my $reportValue = $hashTags{$name};\n        $reportTag-&gt;appendTextNode($reportValue);\n        $parentElement-&gt;appendChild($reportTag);\n    }\n}\n</code></pre>\n\n<p>I want to put in sub as I have several tags to build to re-use the code. I tried passing parameters both directly and as reference.......</p>\n\n<p>Thank you</p>\n\n<p>Update:</p>\n\n<p>After editing my Sub it now looks like this:</p>\n\n<pre><code>buildXMLElements(\\@sortedReportTag, \\%reportHashTags, $report);\n\nsub buildXMLElements() {\n    my($elementTags, $hashTags, $parentElement) = @_;\n    for my $name (@$elementTags) {\n        my $reportTag = $doc-&gt;createElement($name);\n        my $reportValue = $hashTags-&gt;[$name];\n        $reportTag-&gt;appendTextNode($reportValue);\n        $parentElement-&gt;appendChild($reportTag);\n    }\n}\n</code></pre>\n\n<p>it dies at the line:</p>\n\n<pre><code>my $reportValue = $hashTags-&gt;[$name];\n</code></pre>\n\n<p>Final update:</p>\n\n<p>With Jim's help I corrected the code: Here is final version that works</p>\n\n<pre><code>buildXMLElements(\\@sortedReportTag, \\%reportHashTags, $report);\n\nsub buildXMLElements() {\n    my($elementTags, $hashTags, $parentElement) = @_;\n        for my $name (@$elementTags) {\n        my $reportTag = $doc-&gt;createElement($name);\n        my $reportValue = $hashTags-&gt;{$name};\n        $reportTag-&gt;appendTextNode($reportValue);\n        $parentElement-&gt;appendChild($reportTag);\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "windows-7", "mount"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1470259320, "post_id": 38748479, "comment_id": 64881486, "body": "Create a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, verifiable example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 48, "user_id": 2186776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/575382bf98cb71532f32e676915a067a?s=128&d=identicon&r=PG", "display_name": "Heisenberg", "link": "https://stackoverflow.com/users/2186776/heisenberg"}, "edited": false, "score": 0, "creation_date": 1470242493, "post_id": 38748843, "comment_id": 64872362, "body": "actually the script works when I restard it again. That means the line  if (-d &quot;G:/&quot;) die &quot;..&quot; will not signal an error at the second try. That is why I assume Perl caches the disks somewhere .."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 0, "last_activity_date": 1470240979, "creation_date": 1470240979, "answer_id": 38748843, "question_id": 38748479, "link": "https://stackoverflow.com/questions/38748479/reload-the-list-of-disk-partition-in-perl-script/38748843#38748843", "title": "reload the list of disk partition in Perl script", "body": "<p>In cygwin, try <code>/cygdrive/g</code> to refer to <code>G:</code>. You might also have better luck saying <code>G:/</code> instead of just <code>G:</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1470259044, "creation_date": 1470259044, "answer_id": 38753807, "question_id": 38748479, "link": "https://stackoverflow.com/questions/38748479/reload-the-list-of-disk-partition-in-perl-script/38753807#38753807", "title": "reload the list of disk partition in Perl script", "body": "<p>There is something else going on in the code you are not showing us. Here is what I get in a Cygwin bash window on my Windows 10 Pro laptop:</p>\n\n<pre><code>$ perl -E 'say \"yes\" if -d \"C:\"'\n$\n</code></pre>\n\n<p>which is to be expected because <code>C:</code> is not a directory.</p>\n\n<p>On the other hand,</p>\n\n<pre><code>$ perl -E 'say \"yes\" if -d \"C:\\\\\"'\nyes\n$\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$ perl -E 'say \"yes\" if -d \"C:/\"'\nyes\n$\n</code></pre>\n\n<p>Also,</p>\n\n<blockquote>\n<pre><code>if (-d \"G:\") die \"G: not found\";\n</code></pre>\n</blockquote>\n\n<p>This is not Perl and your logic is reversed.</p>\n\n<p>Try:</p>\n\n<pre><code>unless (-d 'G:/') {\n    die 'G: not found';\n}\n</code></pre>\n"}], "owner": {"reputation": 48, "user_id": 2186776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/575382bf98cb71532f32e676915a067a?s=128&d=identicon&r=PG", "display_name": "Heisenberg", "link": "https://stackoverflow.com/users/2186776/heisenberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1470259044, "creation_date": 1470239913, "question_id": 38748479, "link": "https://stackoverflow.com/questions/38748479/reload-the-list-of-disk-partition-in-perl-script", "title": "reload the list of disk partition in Perl script", "body": "<p>I have a Perl script that is executed in Cygwin command prompt. It calls a batch file to create and mount a virtual disk (VHD file).\nAfter it is mounted, Perl script tries to access the new disk but fails and signals that the directory is not found.\n my script looks like:</p>\n\n<pre><code>(...)   \nsystem (\"create_mount_G_disk.bat\");\n# G:\\ mounted \nif (-d \"G:\") die \"G: not found\";\n(...)\n</code></pre>\n\n<p>I suppose here that Perl caches at script startup the disk list and that is why it failes to access the new directory. Is there a way to reload the cache at runtime ?</p>\n\n<p>I would be glad for any help!\nthanks :)</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1470233776, "post_id": 38745414, "comment_id": 64866001, "body": "This is a good example of a case where <code>use diagnostics</code> does a particularly good job of explaining the problem. Try <code>perl -Mdiagnostics -E&#39;my %h = {}&#39;</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1470241045, "post_id": 38745414, "comment_id": 64871494, "body": "@DaveCross: I agree, but <code>use diagnostics</code> in the program will spew vast amounts of useless words. Used as <code>perl -Mdiagnostics</code> in the same way you might use <code>perl -d</code> is essential. Just keep it out of the code."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470242600, "post_id": 38745414, "comment_id": 64872429, "body": "Good use for PERL5OPT :-)"}], "answers": [{"comments": [{"owner": {"reputation": 470, "user_id": 1738447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/690e2b5f3c1f933d0a08c67d1112cbe7?s=128&d=identicon&r=PG", "display_name": "VeZoul", "link": "https://stackoverflow.com/users/1738447/vezoul"}, "edited": false, "score": 0, "creation_date": 1470232410, "post_id": 38745455, "comment_id": 64864973, "body": "That&#39;s it !! Thanks :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 470, "user_id": 1738447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/690e2b5f3c1f933d0a08c67d1112cbe7?s=128&d=identicon&r=PG", "display_name": "VeZoul", "link": "https://stackoverflow.com/users/1738447/vezoul"}, "edited": false, "score": 2, "creation_date": 1470241323, "post_id": 38745455, "comment_id": 64871662, "body": "@PierrickFlajoulot: Except that, while your code may <i>work</i>, you seem to be scared of white space, indenting, layout, etc."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470241688, "post_id": 38745455, "comment_id": 64871875, "body": "&quot;perltidy&quot; is big and clever :)"}, {"owner": {"reputation": 470, "user_id": 1738447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/690e2b5f3c1f933d0a08c67d1112cbe7?s=128&d=identicon&r=PG", "display_name": "VeZoul", "link": "https://stackoverflow.com/users/1738447/vezoul"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470304776, "post_id": 38745455, "comment_id": 64900001, "body": "@Borodin: The way I use to code in PHP. But you&#39;re right, it would be clearer with some spaces"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 12, "last_activity_date": 1470231951, "creation_date": 1470231951, "answer_id": 38745455, "question_id": 38745414, "link": "https://stackoverflow.com/questions/38745414/in-perl-why-am-i-getting-reference-found-where-even-size-list-expected-when-i/38745455#38745455", "title": "In Perl, why am I getting &quot;reference found where even-size list expected&quot; when I try to initialize a hash?", "body": "<p>On line 22, we have:</p>\n\n<pre><code>my %h_tmp = {};\n</code></pre>\n\n<p>Change that to:</p>\n\n<pre><code>my %h_tmp;\n</code></pre>\n\n<p>And you will be fine. </p>\n\n<p>The problem here is - <code>{}</code> is used to define an anonymous hash - and return a reference. </p>\n\n<p>So you could do:</p>\n\n<pre><code>my $hash_ref = {}; \n</code></pre>\n\n<p>And that's effectively what you're doing. </p>\n\n<pre><code>my %h_tmp = $hash_ref; \n</code></pre>\n\n<p>Initialising a hash with a single value like this, gives exactly the error you are getting, because a hash expects key value pairs. </p>\n\n<p>You could do:</p>\n\n<pre><code>my %h_tmp = (); \n</code></pre>\n\n<p>This would work, but would be redundant - you're creating an empty hash either way.</p>\n"}], "owner": {"reputation": 470, "user_id": 1738447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/690e2b5f3c1f933d0a08c67d1112cbe7?s=128&d=identicon&r=PG", "display_name": "VeZoul", "link": "https://stackoverflow.com/users/1738447/vezoul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1992, "favorite_count": 0, "closed_date": 1470232886, "accepted_answer_id": 38745455, "answer_count": 1, "score": -2, "last_activity_date": 1470232772, "creation_date": 1470231858, "last_edit_date": 1470232772, "question_id": 38745414, "link": "https://stackoverflow.com/questions/38745414/in-perl-why-am-i-getting-reference-found-where-even-size-list-expected-when-i", "closed_reason": "Duplicate", "title": "In Perl, why am I getting &quot;reference found where even-size list expected&quot; when I try to initialize a hash?", "body": "<p>I have a script tha ttake as inputs two files :</p>\n\n<ul>\n<li>An extraction of 200k lines</li>\n<li>The source file</li>\n</ul>\n\n<p>I have to compare extraction against source : each line of the extraction should be in source. If not, I have to log the line a log file.</p>\n\n<p>Below the script :</p>\n\n<pre><code>#!/perl/bin/perl\nuse strict;\nuse warnings;\nuse feature 'say';\n# Open log file\nopen(LOG, '&gt;', 'log.txt');\n# Start log\nsay LOG '['.localtime().'] D\u00e9but execution';\n# Declare extraction number of line counter\nmy $i_extraction_counter = 1;\n# Define files to be compared (extraction against source)\nmy ($extraction_file, $source_file) = @ARGV;\n# Open extraction file\nopen my $f_extraction, \"&lt;\", $extraction_file;\n# Store extraction file in a hash\nmy %h_extraction;\nwhile(defined(my $extr_line = &lt;$f_extraction&gt;)){\n    $h_extraction{$extr_line} = $extr_line;\n    $i_extraction_counter++;\n}\n# Declare temp hash and counter\nmy %h_tmp = {};\nmy $i_counter = 1;\n# Open source file\nopen my $f_source, \"&lt;\", $source_file;\n# For each source line, compare against extraction hash\nwhile(defined(my $source_line = &lt;$f_source&gt;)){\n    # If the current line exists in extration hash, stores it in the temp hash &amp; increase counter\n    if(defined($h_extraction{$source_line})){\n        $h_tmp{$source_line} = $source_line;\n        $i_counter++;\n    }\n    # TO DO : check in elsif if the line should be stored in log (name + firstname OR contract number)\n}\n# If not all lines of extraction has been stored in temp hash = some lines of extraction are not in source file\nif($i_counter &lt; $i_extraction_counter){\n    # Declare a second temp hash (used to log missing lines)\n    my %h_missing_lines = %h_extraction;\n    # For each line of extraction, check if it exists in the first temp hash. If yes, unset it. Only missing line will remain\n    foreach my $s_line (keys(%h_missing_lines)){\n        if(defined($h_tmp{$s_line})){\n            delete($h_missing_lines{$s_line});\n        }\n    }\n    # For each line of missing lines hash, stores it in log file\n    foreach my $s_line (keys(%h_missing_lines)){\n        say LOG 'Ligne d\\'extraction non pr\u00e9sente dans fichier source : '.$s_line;\n    }\n}\nsay LOG '['.localtime().'] Fin execution';\n</code></pre>\n\n<p>At the execution, this message shows up : <code>Reference found where even-sized list expected at script.pl line 22, &lt;$f_extraction&gt; line 200000.</code></p>\n"}, {"tags": ["perl", "sockets", "tcp", "recv"], "comments": [{"owner": {"reputation": 91, "user_id": 3848751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21f562f44f3c28edecab9cbe5442329?s=128&d=identicon&r=PG&f=1", "display_name": "Sergun_spb", "link": "https://stackoverflow.com/users/3848751/sergun-spb"}, "edited": false, "score": 0, "creation_date": 1470230738, "post_id": 38743534, "comment_id": 64863678, "body": "<a href=\"http://perldoc.perl.org/functions/recv.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/recv.html</a>   recv - return address of the sender if scket&#39;s protocol supports this"}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1470234033, "post_id": 38743534, "comment_id": 64866214, "body": "The return value of <code>recv()</code> is a binary value that you have to pass to <code>Socket::unpack_sockaddr_in()</code> to obtain the IP address and port. I suppose it will usually print as gibberish but it may be that it just didn&#39;t contain any printable characters in your case. You can try piping your output to <code>xxd</code> to see those. That said, while it can be mae to work <code>recv()</code> isn&#39;t actually the function of choice for TCP servers. You can just use <code>print()</code> and <code>&lt;&gt;</code> for line based communication or <code>read()</code>/<code>write()</code> for fancier things."}], "answers": [{"comments": [{"owner": {"reputation": 424, "user_id": 6376481, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3xFd2.jpg?s=128&g=1", "display_name": "Nivetha Jaishankar", "link": "https://stackoverflow.com/users/6376481/nivetha-jaishankar"}, "edited": false, "score": 0, "creation_date": 1470303502, "post_id": 38746487, "comment_id": 64899115, "body": "yes, I have used the <code>use strict</code> and <code>use warnings</code>. But it didn&#39;t warn me, also It didn&#39;t print any value"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1470237476, "last_edit_date": 1470237476, "creation_date": 1470234584, "answer_id": 38746487, "question_id": 38743534, "link": "https://stackoverflow.com/questions/38743534/how-to-check-the-return-value-of-the-recv-and-send-using-tcp-protocol-in-per/38746487#38746487", "title": "How to check the return value of the recv() and send() using TCP protocol in perl?", "body": "<p>It's probably undef, indicating an error occurred<sup>[1]</sup>.</p>\n\n<pre><code>use Socket qw( unpack_sockaddr_in );\n\ndefined($return_value)\n   or die(\"Can't recv: $!\\n\");\n\nmy ($peer_port, $peer_addr) = unpack_sockaddr_in($return_value);\n</code></pre>\n\n<p>You already know the address and port of the peer with which you are communicating, so this isn't very useful. This brings up the question of why are you using <code>recv</code> (instead of <code>sysread</code>) with connected streaming protocols like TCP? Do you realize you will sometimes get less than the <code>50</code> characters you requested?</p>\n\n<hr>\n\n<ol>\n<li>Always use <code>use strict; use warnings 'all';</code>! If <code>$return_value</code> is undef, <code>\"return value is: $return_value\\n\"</code> would have warned.</li>\n</ol>\n"}], "owner": {"reputation": 424, "user_id": 6376481, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3xFd2.jpg?s=128&g=1", "display_name": "Nivetha Jaishankar", "link": "https://stackoverflow.com/users/6376481/nivetha-jaishankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470237476, "creation_date": 1470226916, "last_edit_date": 1495542184, "question_id": 38743534, "link": "https://stackoverflow.com/questions/38743534/how-to-check-the-return-value-of-the-recv-and-send-using-tcp-protocol-in-per", "title": "How to check the return value of the recv() and send() using TCP protocol in perl?", "body": "<p>I wrote the sample <code>client and server</code> program using <code>TCP protocol</code> in Perl.\nSo I used <code>send()</code> and <code>recv()</code> function.\nIn that I tried to get the return value of <code>recv()</code> function.\nThe sample code is,</p>\n\n<pre><code>my $return_value;\n $return_value = recv($client_socket, $data, 50, 0);\n print \"return value is: $return_value\\n\";\n</code></pre>\n\n<p>When I execute my code, it doesn't print any value.\nFor example:</p>\n\n<pre><code>return value is:\n</code></pre>\n\n<p>After that I read the below link, even though I didn't get any return value.\n<a href=\"https://stackoverflow.com/questions/10579477/return-value-of-recv-function-in-perl\">return value of recv() function in perl</a></p>\n\n<p>How could I solve this?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["windows", "perl", "sdl", "cpan"], "answers": [{"comments": [{"owner": {"reputation": 6607, "user_id": 6717178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QbOLx.jpg?s=128&g=1", "display_name": "JHBonarius", "link": "https://stackoverflow.com/users/6717178/jhbonarius"}, "edited": false, "score": 1, "creation_date": 1516700297, "post_id": 38749170, "comment_id": 83784525, "body": "I&#39;ve edited this into the question: please delete this, as it its not an answer"}], "tags": [], "owner": {"reputation": 1, "user_id": 6332441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f40ea8a6a0b27693d9f6eafdda80ec?s=128&d=identicon&r=PG", "display_name": "user6332441", "link": "https://stackoverflow.com/users/6332441/user6332441"}, "is_accepted": false, "score": -1, "last_activity_date": 1516700215, "last_edit_date": 1516700215, "creation_date": 1470242003, "answer_id": 38749170, "question_id": 38742816, "link": "https://stackoverflow.com/questions/38742816/errors-in-sdl-install-and-use-in-perl-on-windows/38749170#38749170", "title": "Errors in sdl install and use in perl on windows", "body": "<p>So I tried:</p>\n\n<pre><code>cpan -i --force SDL\n</code></pre>\n\n<p>No errors, but I can't run Padre anymore. I tried</p>\n\n<pre><code>perl name.pl\n</code></pre>\n\n<p>(with sdl code program) and it gives:</p>\n\n<p><img src=\"https://i.stack.imgur.com/1WNjc.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 1, "user_id": 6332441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f40ea8a6a0b27693d9f6eafdda80ec?s=128&d=identicon&r=PG", "display_name": "user6332441", "link": "https://stackoverflow.com/users/6332441/user6332441"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516700261, "creation_date": 1470225087, "last_edit_date": 1516700261, "question_id": 38742816, "link": "https://stackoverflow.com/questions/38742816/errors-in-sdl-install-and-use-in-perl-on-windows", "title": "Errors in sdl install and use in perl on windows", "body": "<p>i have tried:</p>\n\n<ul>\n<li>in menu start: <code>CPAN Client</code></li>\n<li><code>install Alien::SDL SDL</code></li>\n<li>i choose 64 bit and after a long while errors:\n<a href=\"https://i.stack.imgur.com/M6vBb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M6vBb.png\" alt=\"enter image description here\"></a></li>\n</ul>\n\n<p>what is wrong? it seems simple, but it's not</p>\n\n<p>so i tried: <code>cpan -i --force SDL</code></p>\n\n<p>no errors, but i can't run Padre anymore :/\ni try <code>perl name.pl</code> (with sdl code program) and it gives:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1WNjc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1WNjc.png\" alt=\"enter image description here\"></a></p>\n\n<p>in 'cmd' in Windows 7: <code>cpan -i SDL</code> and it gives me (last part):</p>\n\n<pre><code>&lt;pre&gt;\nt\\sdlx_controller_interface.t ... ok\nt\\sdlx_fps.t .................... ok\nt\\sdlx_layermanager.t ........... ok\nt\\sdlx_music.t .................. ok\nt\\sdlx_rect.t ................... ok\nt\\sdlx_sfont.t .................. ok\nt\\sdlx_sound.t .................. ok\nt\\sdlx_sprite.t ................. ok\nt\\sdlx_sprite_animated.t ........ ok\nt\\sdlx_surface.t ................ ok\nt\\sdlx_text.t ................... ok\nt\\sdlx_validate.t ............... ok\nt\\smpeg.t ....................... skipped: smpeg support not compiled\nt\\ttf.t ......................... ok\nt\\ttf_font.t .................... ok\n\nTest Summary Report\n-------------------\nt\\core.t                      (Wstat: 0 Tests: 28 Failed: 0)\n  TODO passed:   21-22\nt\\core_video.t                (Wstat: 768 Tests: 71 Failed: 0)\n  TODO passed:   57, 59\n  Non-zero exit status: 3\n  Parse errors: No plan found in TAP output\nFiles=59, Tests=3788, 188 wallclock secs ( 0.56 usr +  0.08 sys =  0.64 CPU)\nResult: FAIL\nFailed 1/59 test programs. 0/3788 subtests failed.\n  FROGGS/SDL-2.546.tar.gz\n  E:\\_win_7\\Dwimperl\\perl\\bin\\perl.exe ./Build test -- NOT OK\n//hint// to see the cpan-testers results for installing this module, try:\n  reports FROGGS/SDL-2.546.tar.gz\nRunning Build install\n  make test had returned bad status, won't install without force\n</code></pre>\n\n<p>So... i have tried \"cpan -i SDL --force\"</p>\n\n<p>gives:</p>\n\n<pre><code>Test Summary Report\n-------------------\nt\\core.t                      (Wstat: 0 Tests: 28 Failed: 0)\n  TODO passed:   21-22\nt\\core_video.t                (Wstat: 768 Tests: 71 Failed: 0)\n  TODO passed:   57, 59\n  Non-zero exit status: 3\n  Parse errors: No plan found in TAP output\nFiles=59, Tests=3788, 147 wallclock secs ( 0.47 usr +  0.13 sys =  0.59 CPU)\nResult: FAIL\nFailed 1/59 test programs. 0/3788 subtests failed.\n  FROGGS/SDL-2.546.tar.gz\n  E:\\_win_7\\Dwimperl\\perl\\bin\\perl.exe ./Build test -- NOT OK\n//hint// to see the cpan-testers results for installing this module, try:\n  reports FROGGS/SDL-2.546.tar.gz\nRunning Build install\n  make test had returned bad status, won't install without force\nWarning: Cannot install --force, don't know what it is.\nTry the command\n\n    i /--force/\n\nto find objects with matching identifiers.\n</code></pre>\n"}, {"tags": ["java", "php", "perl", "utf-8", "pentaho-data-integration"], "comments": [{"owner": {"reputation": 469127, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1470221680, "post_id": 38741388, "comment_id": 64856943, "body": "What exactly is the actual expected value? &quot;&#193;x\u2014350&quot;? You simply fail to handle UTF-8 correctly all the way through. See <a href=\"http://stackoverflow.com/q/279170/476\">stackoverflow.com/q/279170/476</a> and <a href=\"http://kunststube.net/frontback/\" rel=\"nofollow noreferrer\">Handling Unicode Front To Back In A Web App</a> for starters."}, {"owner": {"reputation": 1, "user_id": 6578084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05829080a09d33301e0075ee1bb6536b?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6578084/yog"}, "reply_to_user": {"reputation": 469127, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1470223643, "post_id": 38741388, "comment_id": 64858227, "body": "thanks @deceze, yes the expected value is &#193;x\u2014350"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 1, "creation_date": 1470228214, "post_id": 38741388, "comment_id": 64861668, "body": "the code you are using to convert is Java, not JavaScript no?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1470228250, "post_id": 38741388, "comment_id": 64861707, "body": "<code>java.lang.String</code> ... That is <b><i>Java</i></b>, <i>not</i> Javascript!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470237704, "post_id": 38741388, "comment_id": 64869142, "body": "Please provide the output of the SQL function <code>HEX()</code> for those values."}, {"owner": {"reputation": 1, "user_id": 6578084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05829080a09d33301e0075ee1bb6536b?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6578084/yog"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470298121, "post_id": 38741388, "comment_id": 64895447, "body": "@ikegami Thanks, HEX() values for  &#195;x&#226;\u20ac\u201d350 = C383C28178C3A2E282ACE2809D333530 and for &#195;\u2018z&#226;\u20ac\u201c401 = C383E280987AC3A2E282ACE2809C343031"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6578084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05829080a09d33301e0075ee1bb6536b?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6578084/yog"}, "edited": false, "score": 0, "creation_date": 1470298894, "post_id": 38744588, "comment_id": 64895932, "body": "Thanks, I was checking the encoding and decoding schemes and found from this [link](<a href=\"http://string-functions.com/encodedecode.aspx\" rel=\"nofollow noreferrer\">string-functions.com/encodedecode.aspx</a> ) when entering <b>&#195;x&#226;\u20ac\u201d350 string to encode / decode ** as Encode with as  ** Windows-1252 ** and decode with as ** utf-8 ** result is correct which is as **&#193;x\u2014350</b> So i am not getting although i am <code>new java.lang.String(new java.lang.String(CODE).getBytes(&quot;Windows-1252&quot;), &quot;UTF-8&quot;) </code> trying to encode and decode with the same schemes i am not getting the desired results. Any suggestions ?"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "reply_to_user": {"reputation": 1, "user_id": 6578084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05829080a09d33301e0075ee1bb6536b?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6578084/yog"}, "edited": false, "score": 0, "creation_date": 1470310840, "post_id": 38744588, "comment_id": 64903859, "body": "I don&#39;t know Java but I&#39;m pretty sure your Java command encodes the string twice. it never decodes. I&#39;m editing my answer to show how decode and encode in Perl"}], "tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 0, "last_activity_date": 1470311212, "last_edit_date": 1470311212, "creation_date": 1470229675, "answer_id": 38744588, "question_id": 38741388, "link": "https://stackoverflow.com/questions/38741388/issues-in-converting-values-to-utf-8/38744588#38744588", "title": "Issues in Converting values to UTF-8", "body": "<p>The <code>CHARSET</code> setting in your db being set to utf-8 doesn't necessarily mean that the data there is properly encoded in utf-8 (or even in utf-8 at all), as we can see. It looks like you are dealing with <a href=\"https://en.wikipedia.org/wiki/Mojibake\" rel=\"nofollow\">mojibake</a> - characters that that were at one time decoded using the wrong encoding scheme, then therefore in turn encoded wrong. Fixing that is a usually tedious process of figuring out past decode/encode errors and then undoing them.</p>\n\n<p>Long story short: if you have mojibake, there isn't any automatic conversions you can do unless you know (or can figure out) what conversions were made in the past.</p>\n\n<p>Converting is a matter of first decoding, then encoding. To convert in Perl:</p>\n\n<pre><code>my $string = \"some windows-1252 string\";\n\nuse Encode;\nmy $raw = decode('windows-1252',$string);\nmy $encoded = encode('utf-8',$raw);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6578084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05829080a09d33301e0075ee1bb6536b?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6578084/yog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1353, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1470324241, "creation_date": 1470221185, "last_edit_date": 1470324241, "question_id": 38741388, "link": "https://stackoverflow.com/questions/38741388/issues-in-converting-values-to-utf-8", "title": "Issues in Converting values to UTF-8", "body": "<p>I am encountering issues in reporting in displaying names. My application uses different technologies PHP, Perl and for BI Pentaho. </p>\n\n<p>We are using MYSQL as DB and my table is of <code>CHARSET=utf8</code>.</p>\n\n<p>My table is been stored with values in rows as below which is wrong</p>\n\n<pre><code>Row1 = \u00c3x\u00e2\u20ac\u201d350\nRow2 = \u00c3\u2018z\u00e2\u20ac\u201c401\n</code></pre>\n\n<p>PHP and Perl are using different in built functions to convert the above values which is stored in DB and it is displaying in UI as below which is correct</p>\n\n<pre><code>Expected Row1 = \u00c1x\u2014350\nExpected Row2 = \u00d1z\u2013401\n</code></pre>\n\n<p>Coming to reports which is using pentaho I am using ETL to transform the data before showing data in reports. In order to convert the above DB stored values I am trying to convert the data through Java step as below</p>\n\n<pre><code>new java.lang.String(new java.lang.String(CODE).getBytes(\"Windows-1252\"), \"UTF-8\") \n</code></pre>\n\n<p>But it is not converting the values properly, among the above 2 wrong values only <strong>Row2</strong> value is been converted properly but the first <strong>Row1</strong> is wrongly converting as below</p>\n\n<pre><code>Converted Row1 = \ufffd?x\u2014350\nConverted Row2 = \u00d1z\u2013401\n</code></pre>\n\n<p>Please suggest what way I can convert the values properly so that for example <strong>Row1</strong> value should be converted properly to <strong>\u00c1x\u2014350</strong>.</p>\n\n<p>I wrote a small Java program as below to convert the <strong>\u00c3x\u00e2\u20ac\u201d350</strong> string to <strong>\u00c1x\u2014350</strong></p>\n\n<pre><code>String input = \"\u00c3x\u00e2\u20ac\u201d350\";\nbyte[] b1 = input.getBytes(\"Windows-1252\");\nSystem.out.println(\"Input Get Bytes = \"+b1.toString());\n\nString szUT8 = new String(b1, \"UTF-8\");\nSystem.out.println(\"Input Encoded = \" + szUT8);\n</code></pre>\n\n<p>The output from the above code is as below</p>\n\n<pre><code>Input Get Bytes = [B@157ee3e5\nInput Encoded = \ufffd?x\u2014350-350\u2014\u00c91\n</code></pre>\n\n<p>If we see the output the string is wrong where the actual expected output is <strong>\u00c1x\u2014350</strong>. </p>\n\n<p>To confirm on the <strong>encoding/decoding</strong> schemes i tried testing string <a href=\"http://string-functions.com/encodedecode.aspx\" rel=\"nofollow\">online</a> and tested with string <strong>\u00c3x\u00e2\u20ac\u201d350</strong> and output is as expected <strong>\u00c1x\u2014350</strong> which is correct.</p>\n\n<p>So from this any one please point why java code is not able to convert properly although i am using the proper encoding/decoding schemes, anything else which iam missing or my approach is wrong.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 6, "creation_date": 1470219861, "post_id": 38740841, "comment_id": 64855781, "body": "Please post the code. From the error message - I&#39;m guessing you&#39;ve got some backticks in there, or are otherwise doing something strange with your script."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 1, "creation_date": 1470234560, "post_id": 38740841, "comment_id": 64866629, "body": "That  you say it works fine by telling perl to run it, and it doesn&#39;t run by itself, should tell you that, called by itself, perl isn&#39;t running it. That you specify that you gave it the extension &quot;.pl&quot; and expected it to run under perl, tells me that you&#39;re thinking along the lines of win32, where extensions matter. However, they don&#39;t matter to unix/linux. Which is why you need the &quot;shbang line&quot; to tell the shell what should execute the executable."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470219904, "post_id": 38740908, "comment_id": 64855811, "body": "I&#39;d suggest this also needs <code>use strict; use warnings;</code> - it&#39;s good to get that habit early! :)"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1470220175, "post_id": 38740908, "comment_id": 64855970, "body": "@Sobrique Thank you :) post edited"}, {"owner": {"reputation": 35, "user_id": 4748584, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/xJdgY.jpg?s=128&g=1", "display_name": "grovile", "link": "https://stackoverflow.com/users/4748584/grovile"}, "edited": false, "score": 0, "creation_date": 1470280282, "post_id": 38740908, "comment_id": 64888233, "body": "It worked, thanks a lot!"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 10, "last_activity_date": 1530785060, "last_edit_date": 1530785060, "creation_date": 1470219856, "answer_id": 38740908, "question_id": 38740841, "link": "https://stackoverflow.com/questions/38740841/perl-hello-world-not-working/38740908#38740908", "title": "Perl Hello World Not Working", "body": "<p>Use <a href=\"https://en.wikipedia.org/wiki/Shebang_%28Unix%29\" rel=\"nofollow noreferrer\">shebang line</a> in the top of the program. It tells the kernel or Apache to interpret the file as a Perl script. and should put the <code>use warnings;</code> and <code>use strict;</code> in the top of the program   </p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nprint \"hello world\";\n</code></pre>\n\n<p>And more about shebang </p>\n\n<p><a href=\"https://unix.stackexchange.com/questions/87560/does-the-shebang-determine-the-shell-which-runs-the-script\" >Does the shebang determine the shell which runs the script?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/12910744/why-should-the-shebang-line-always-be-the-first-line\">Why should the shebang line always be the first line?</a></p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1470221268, "last_edit_date": 1495540928, "creation_date": 1470220927, "answer_id": 38741296, "question_id": 38740841, "link": "https://stackoverflow.com/questions/38740841/perl-hello-world-not-working/38741296#38741296", "title": "Perl Hello World Not Working", "body": "<p>Without seeing your code, this is just a guess (why do people think we can debug their programs without seeing them?) but do you have the right kind of quote characters in your program?</p>\n\n<p>You program should look like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nsay 'Hello World';\n</code></pre>\n\n<p>Or (with older versions of Perl) like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nprint \"Hello World\\n\";\n</code></pre>\n\n<p>My first version uses single quote characters around the string and my second version uses double quote characters. If you're getting an error saying \"no such file\" then it seems likely that you're using backticks - which are used to execute an external program. Does your <code>print</code> line look like this:</p>\n\n<pre><code>print `Hello World\\n`; # Warning! Wrong kind of quotes!\n</code></pre>\n\n<p><strong>Update:</strong> No, this isn't the problem. If this was the case, you wouldn't be able to run the program with <code>perl hello.pl</code>. This is very likely to be some confusion over the shebang line as <a href=\"https://stackoverflow.com/a/38740908/7231\">mkHun says</a>. But, once again, we can't really help you without seeing your code.</p>\n"}], "owner": {"reputation": 35, "user_id": 4748584, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/xJdgY.jpg?s=128&g=1", "display_name": "grovile", "link": "https://stackoverflow.com/users/4748584/grovile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 942, "favorite_count": 0, "closed_date": 1529298388, "answer_count": 2, "score": -3, "last_activity_date": 1530785060, "creation_date": 1470219702, "last_edit_date": 1470223340, "question_id": 38740841, "link": "https://stackoverflow.com/questions/38740841/perl-hello-world-not-working", "closed_reason": "Duplicate", "title": "Perl Hello World Not Working", "body": "<p>I've just started learning perl. I wrote a Hello World program - hello.pl and made it executable using '+x'.</p>\n\n<p>I can execute it using perl hello.pl, but when I try ./hello.pl, an error is coming: Error: no such file \"Hello World\"</p>\n\n<p>What is the reason?</p>\n\n<p>Edit:</p>\n\n<p>My program</p>\n\n<pre><code>use warnings;\nuse strict;\nuse 5.010;\n\nprint \"Hello World\";\n</code></pre>\n\n<p>My errors:</p>\n\n<blockquote>\n  <p>./hello.pl: line 1: use: command not found\n  ./hello.pl: line 2: use: command not found\n  ./hello.pl: line 3: use: command not found\n  Error: no such file \"Hello World\"</p>\n</blockquote>\n"}, {"tags": ["perl", "yaml", "swagger", "mojolicious"], "answers": [{"comments": [{"owner": {"reputation": 4620, "user_id": 5130652, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3rnqy.jpg?s=128&g=1", "display_name": "GreensterRox", "link": "https://stackoverflow.com/users/5130652/greensterrox"}, "edited": false, "score": 0, "creation_date": 1470231180, "post_id": 38742432, "comment_id": 64864000, "body": "You are right ! I discovered a &#39;hook&#39; that was manipulating the parameters. Thanks for the steer !"}], "tags": [], "owner": {"reputation": 126, "user_id": 1510250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b850d96978b5b07e2e523b81db30c26b?s=128&d=identicon&r=PG", "display_name": "Jan Henning Thorsen", "link": "https://stackoverflow.com/users/1510250/jan-henning-thorsen"}, "is_accepted": true, "score": 3, "last_activity_date": 1470224105, "creation_date": 1470224105, "answer_id": 38742432, "question_id": 38740698, "link": "https://stackoverflow.com/questions/38740698/collectionformat-multi-not-working-with-perl-mojolicious-swagger2/38742432#38742432", "title": "collectionFormat: multi not working with Perl Mojolicious Swagger2", "body": "<p>I think you're making your example up or you might have some hooks that mess up the input. The test below runs successfully:</p>\n\n<pre><code>use Mojo::Base -strict;\nuse Test::Mojo;\nuse Test::More;\n\npackage MyApp::Example;\nuse Mojo::Base 'Mojolicious::Controller';\n\nsub search {\n  my ($self, $args, $cb) = @_;\n  $self-&gt;$cb($args, 200);\n}\n\npackage main;\nuse Mojolicious::Lite;\nplugin Swagger2 =&gt; {url =&gt; 'data://main/multi-param.json'};\n\nmy $t = Test::Mojo-&gt;new;\n$t-&gt;get_ok('/search?myfield=1&amp;myfield=2&amp;myfield=3')-&gt;status_is(200)-&gt;json_is('/myfield', [1, 2, 3]);\n\ndone_testing;\n\n__DATA__\n@@ multi-param.json\n{\n  \"swagger\": \"2.0\",\n  \"info\": {\"version\": \"1.0\", \"title\": \"Test multi\"},\n  \"paths\": {\n    \"/search\": {\n      \"get\": {\n        \"x-mojo-controller\": \"MyApp::Example\",\n        \"operationId\": \"search\",\n        \"parameters\": [\n          {\n            \"name\": \"myfield\",\n            \"in\": \"query\",\n            \"type\": \"array\",\n            \"collectionFormat\": \"multi\",\n            \"uniqueItems\": true,\n            \"items\": { \"type\": \"string\" },\n            \"required\": false\n          }\n        ],\n        \"responses\": {\n          \"200\": {\"description\": \"whatever\", \"schema\": {\"type\": \"object\"}}\n        }\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>There's already a test for this: <a href=\"https://github.com/jhthorsen/swagger2/blob/master/t/multi-param.t\" rel=\"nofollow\">https://github.com/jhthorsen/swagger2/blob/master/t/multi-param.t</a></p>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 1510250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b850d96978b5b07e2e523b81db30c26b?s=128&d=identicon&r=PG", "display_name": "Jan Henning Thorsen", "link": "https://stackoverflow.com/users/1510250/jan-henning-thorsen"}, "is_accepted": false, "score": 1, "last_activity_date": 1470224567, "creation_date": 1470224567, "answer_id": 38742615, "question_id": 38740698, "link": "https://stackoverflow.com/questions/38740698/collectionformat-multi-not-working-with-perl-mojolicious-swagger2/38742615#38742615", "title": "collectionFormat: multi not working with Perl Mojolicious Swagger2", "body": "<p>You might want to try out this plugin instead: <a href=\"https://metacpan.org/release/Mojolicious-Plugin-OpenAPI\" rel=\"nofollow\">https://metacpan.org/release/Mojolicious-Plugin-OpenAPI</a></p>\n\n<p>It's plays more along with the \"mojolicious rules\", meaning you would extract the params like this:</p>\n\n<pre><code>sub search {\n  my $c = shift-&gt;openapi-&gt;valid_input or return; \n  my $values = $c-&gt;every_param(\"myfield\");\n  $c-&gt;reply-&gt;openapi(200 =&gt; $values);\n}\n</code></pre>\n"}], "owner": {"reputation": 4620, "user_id": 5130652, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3rnqy.jpg?s=128&g=1", "display_name": "GreensterRox", "link": "https://stackoverflow.com/users/5130652/greensterrox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 38742432, "answer_count": 2, "score": 3, "last_activity_date": 1470224567, "creation_date": 1470219282, "question_id": 38740698, "link": "https://stackoverflow.com/questions/38740698/collectionformat-multi-not-working-with-perl-mojolicious-swagger2", "title": "collectionFormat: multi not working with Perl Mojolicious Swagger2", "body": "<p>I'm trying to make my API support multiple parameters of the same name: e.g.</p>\n\n<pre><code>/myAPI/search?myfield=1&amp;myfield=2&amp;myfield=3\n</code></pre>\n\n<p>I'm using Perl and cpan modules Mojolicious and Swagger2 </p>\n\n<p>My swagger file (yaml) has this definition (is validated):</p>\n\n<pre><code>/search:\n    get:\n      x-mojo-controller: \"Search\"\n      operationId: search\n      description: Search\n      parameters:\n        - name: myfield\n          description: Array of types\n          in: query\n          type: array\n          collectionFormat: multi\n          uniqueItems: true\n          items:\n            type: string\n          required: false\n</code></pre>\n\n<p>My controller looks like this:</p>\n\n<pre><code>package myAPI::Controller::Search;\nuse Mojo::Base 'Mojolicious::Controller';\nsub search {\n    my( $self, $args, $cb ) = @_;\n    $self-&gt;render(text =&gt; Dumper $args);\n}\n</code></pre>\n\n<p>When args are dumped to browser the 'myfield' field appears to be an array, yet it only ever has the last value in it.</p>\n\n<pre><code>$VAR1 = { 'myfield' =&gt; [ '3' ] };\n</code></pre>\n\n<p>Swagger2 version is:</p>\n\n<pre><code>our $VERSION = '0.83';\n</code></pre>\n\n<p>What am I doing wrong ?</p>\n"}, {"tags": ["perl", "mmap"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470221674, "post_id": 38740052, "comment_id": 64856938, "body": "If all you&#39;re doing is counting the <code>&gt;</code> - do you actually need to read the whole file into memory at all?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470222153, "post_id": 38740052, "comment_id": 64857252, "body": "@Sobrique I&#39;m trying to find the repeats in a file. So I want to count the headers in a file. Then I&#39;ll proceed."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470222543, "post_id": 38740052, "comment_id": 64857502, "body": "Point is - you might <i>still</i> find a &#39;two-pass&#39; approach (read the file looking for the markers, read the file again to process it) is altogether more efficient, unless you need to do a lot of data set cross referencing."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470222761, "post_id": 38740052, "comment_id": 64857640, "body": "@Sobrique Ohh yes thank you. Now my doubt is, this kind of situation (processing the big file) File::Map is use full or not?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470223347, "post_id": 38740052, "comment_id": 64858035, "body": "Depends an AWFUL LOT on what you&#39;re doing with the data - there is no need to hold it in memory, unless you&#39;re needing to access the whole thing."}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1470228059, "post_id": 38740052, "comment_id": 64861553, "body": "<code>mmap</code>ping the file is usually a great technique because it holds just as much of the file in memory as the system can afford. I just tried (see my amended answer) with a 5 GB file of zeroes that had three <code>&gt;</code> characters sprinkled into it, and it takes less than 6s to count them. Could you try just writing <code>$map</code> to another file after the <code>map_file()</code> call and see how much you get at different sizes of the input file?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1470233788, "post_id": 38740052, "comment_id": 64866018, "body": "@mbethke: <i>&quot;Could you try just writing <code>$map</code>&quot;</i> Do you mean <code>mmap</code>? And I think the OP has already tried what you call <code>mmap</code>. What is your suggestion to use <code>mmap</code> from within Perl?"}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470234528, "post_id": 38740052, "comment_id": 64866602, "body": "@Borodin no, I meant the contents of the <code>$map</code> scalar that should reflect the contents of <code>human_genome</code>. <code>mmap()</code> is just what <code>File::Map</code> uses internally. Apparently he doesn&#39;t get a single match once the file gets bigger than what I suppose are 2^31 bytes, so I&#39;d be curious what Perl sees in the variable in that case. May be that it gets cut off at 2G, or some overflow resets it to zero-length, or it gets corrupted, ..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1470235455, "post_id": 38740052, "comment_id": 64867378, "body": "Are you sure you don&#39;t get <code>Use of uninitialized value $map in pattern match (m&#47;&#47;)</code> or <code>Use of uninitialized value $m in pattern match (m&#47;&#47;)</code> beforehand?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470235909, "post_id": 38740052, "comment_id": 64867773, "body": "There is no <code>$map</code> scalar in what you&#39;ve shown. You&#39;re doing a very poor job of presenting your problem so I&#39;m voting to close it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470236231, "post_id": 38740052, "comment_id": 64868035, "body": "What platform are you working on? As far as I can tell <code>File::Map</code> works fine on Windows, Linux, and OSX."}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470236343, "post_id": 38740052, "comment_id": 64868102, "body": "@Borodin, you might want to read the OP&#39;s code. And no, it&#39;s not my problem, the OP&#39;s code works fine here. I&#39;m trying to find out what else might be broken in his setup."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1470236800, "post_id": 38740052, "comment_id": 64868444, "body": "@mbethke: You aren&#39;t working with an unmoderated forum here. <i>&quot;what else might be broken in his setup&quot;</i> is not the subject of the question. You might want to enjoy <a href=\"http://stackoverflow.com/tour\">the Stack Overflow Tour</a> and assess your own input."}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470238647, "post_id": 38740052, "comment_id": 64869797, "body": "@Borodin, the subject is &quot;I don&#39;t know what is the problem here?&quot;. So tell me, what direction of investigation is permissible here? It&#39;s not the OP&#39;s code nor <code>File::Map</code>. I have verified it. It works as expected here. Have you?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1470239233, "post_id": 38740052, "comment_id": 64870232, "body": "@mbethke: I&#39;m sorry, I&#39;m talking about a very different question. If I google for that subject line then I get a list of many other questions, but not this one. What are you trying to say?"}], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1470219400, "post_id": 38740615, "comment_id": 64855481, "body": "I&#39;m working with 64 bit centOS 7, 32 GB ram. Okay what about  <code>File::Map</code>? From my understanding which create the direct link with the file. so why this also can&#39;t work?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1470219968, "post_id": 38740615, "comment_id": 64855853, "body": "What does <code>perl -v</code> say?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470220616, "post_id": 38740615, "comment_id": 64856266, "body": "@Sobrique It shows <code>This is perl 5, version 16, subversion 3 (v5.16.3) built for x86_64-linux-thread-multi (with 29 registered patches, ..</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1470563575, "post_id": 38740615, "comment_id": 64993292, "body": "@mkHun: A few lines down it will have a value for <code>use64bitint</code>. It&#39;s probably <code>undef</code>."}], "tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": false, "score": 0, "last_activity_date": 1470227834, "last_edit_date": 1495535628, "creation_date": 1470219042, "answer_id": 38740615, "question_id": 38740052, "link": "https://stackoverflow.com/questions/38740052/is-there-any-limit-for-scalar-variable-in-perl/38740615#38740615", "title": "Is there any limit for scalar variable in perl?", "body": "<p>The problem is indeed the maximum scalar size. Theoretically it can go up to 4 GB on a 32bit perl but as your address space is limited to accommodate things like the OS, 2-3.5 GB is usually the real limit. Using a 64-bit OS and perl it should work though.</p>\n\n<p><a href=\"https://stackoverflow.com/a/22819092/5403907\">See this answer</a> for some details.</p>\n\n<p>Edit: works fine here, perl 5.22.2 on Fedora, x86_64-linux-thread-multi:</p>\n\n<pre><code>$ dd if=/dev/zero of=zero bs=1M count=5000\n5000+0 records in\n5000+0 records out\n5242880000 bytes (5.2 GB) copied, 34.8694 s, 150 MB/s\n$ perl -e 'sub wat{open my $fh, \"&gt;&gt;zero\" or die $!;\n   seek($fh,shift,0); syswrite($fh, \"&gt;\");}\n   wat(1000);\n   wat(100_000_000);\n   wat(4_500_000_000);'\n$ time perl map.pl \n3\nreal    0m5.638s\nuser    0m3.921s\nsys     0m1.717s\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1470234851, "post_id": 38746061, "comment_id": 64866872, "body": "That&#39;s what I thought but from his perl version that sounds unlikely. And <code>File::Map</code> can definitely handle &gt;4 GB so it&#39;s really a bit mysterious. Of course a slow working version is better than a fast broken one but grepping through 5 GB in 5.6s thanks to <code>File::Map</code> is sexy enough to keep trying a bit ;)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1470235080, "post_id": 38746061, "comment_id": 64867065, "body": "Okay I&#39;ll bite <i>&quot;that sounds unlikely&quot;</i>. Why? And what is it about the Perl code that swayed your judgement?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1470235180, "post_id": 38746061, "comment_id": 64867131, "body": "<i>&quot;And <code>File::Map</code> can definitely handle &gt;4 GB&quot;</i> If you have evidence of that then please show your code so that it can be verified."}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 1, "creation_date": 1470235718, "post_id": 38746061, "comment_id": 64867618, "body": "OP: &quot;I&#39;m working with 64 bit centOS 7&quot;. I don&#39;t have a CentOS 7 to checkbut I don&#39;t think  (hence &quot;unlikely&quot;) they would include a 32bit perl on x86_64. My evidence that <code>File::Map</code> can handle &gt;4GB is that the OP&#39;s first script correctly counted the <code>&gt;</code> characters in a 5 GB file on my machine, with the last one beyond 4 GB threshold. I didn&#39;t use any other code than what I showed already, and the OP&#39;s of course."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": -1, "last_activity_date": 1470233518, "creation_date": 1470233518, "answer_id": 38746061, "question_id": 38740052, "link": "https://stackoverflow.com/questions/38740052/is-there-any-limit-for-scalar-variable-in-perl/38746061#38746061", "title": "Is there any limit for scalar variable in perl?", "body": "<p>You have hit a signed 32-bit integer limit in one of several places</p>\n\n<p>A 32-bit signed value allows for values from <code>0x1000_0000</code> to <code>0x7FFF_FFFF</code>, which is -2,147,483,648 to 2,147,483,647. Hence your 2.1GB limit</p>\n\n<p>I don't know whether that is a limit of your build of perl, or if it is part of <a href=\"https://metacpan.org/pod/File::Map\" rel=\"nofollow\"><code>File::Map</code></a></p>\n\n<p>Files of any size can be handled very simply by reading one line at a time, and since your purpose here seems to be just to count the number of Unicode <code>GREATER-THAN SIGN</code> characters, you could do it easily like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse constant HUMAN_GENOME =&gt; '/root/Desktop/test_sequence/human_genome';\n\nmy $count = do {\n\n    open my $fh, '&lt;', HUMAN_GENOME or die sprintf qq{Unable to open \"%s\": $!}, HUMAN_GENOME;\n\n    my $n = 0;\n\n    $n += tr/&gt;// while &lt;$fh&gt;;\n\n    $n;\n};\n\nprint $count;\n</code></pre>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 0, "accepted_answer_id": 38746061, "answer_count": 2, "score": 2, "last_activity_date": 1470233518, "creation_date": 1470217603, "question_id": 38740052, "link": "https://stackoverflow.com/questions/38740052/is-there-any-limit-for-scalar-variable-in-perl", "title": "Is there any limit for scalar variable in perl?", "body": "<p>Now I'm working with large file, which size is greater than (1.5 GB). So I used <code>File::Map</code>. When the input is greater than <code>2.1 GB</code> script failed with showing error <code>Use of uninitialized value $count in print at file.pl line 16.</code>.</p>\n\n<p><strong>But script is running <code>2.1GB and below 2.1GB</code></strong></p>\n\n<p>My script is as below</p>\n\n<pre><code>use warnings;\nuse strict;\nuse File::Map 'map_file';\nmy $filename =\"/root/Desktop/test_sequence/human_genome\";\n\nmap_file (my $map,$filename);\n\nmy $count;\n\n$count++ while ($map=~/&gt;/g);\n\nprint $count; #The file has only 14 `&gt;` so result is 14.\n</code></pre>\n\n<p>At the same time I tried it without the module. It is also terminate with same error.</p>\n\n<pre><code>use warnings;\nuse strict;\nmy $filename =\"/root/Desktop/test_sequence/human_genome\";\n\nopen my $fh,\"&lt;\",$filename or die \"$!\";\n\nmy $m = do{local $/; &lt;$fh&gt;};\n\nmy $count;\n\n$count++ while ($m=~/&gt;/g);\n\nprint $count;\n</code></pre>\n\n<p>I don't know what is the problem here?</p>\n"}, {"tags": ["perl", "amazon-s3", "image-uploading"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1470220439, "creation_date": 1470220439, "answer_id": 38741120, "question_id": 38739183, "link": "https://stackoverflow.com/questions/38739183/image-upload-from-browser-to-amazon-s3-using-perl/38741120#38741120", "title": "Image upload from browser to amazon S3 using perl", "body": "<p>I Googled \"browser upload to Amazon S3\". The first result was this link - <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingHTTPPOST.html\" rel=\"nofollow\">Browser-Based Uploads Using POST (AWS Signature Version 2)</a>. The actual details are on <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/HTTPPOSTForms.html\" rel=\"nofollow\">this page</a>. Basically, you set the form's action to the URL of your S3 bucket and set all of the authentication stuff in the forms' hidden fields.</p>\n\n<p>But wouldn't you be worried that a user could incur huge S3 charges on your behalf?</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4427757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db1769f2fc16202e1ef7c8a2c170dcd?s=128&d=identicon&r=PG&f=1", "display_name": "Shalice Moideen", "link": "https://stackoverflow.com/users/4427757/shalice-moideen"}, "edited": false, "score": 0, "creation_date": 1475070661, "post_id": 38745389, "comment_id": 66795157, "body": "I didn&#39;t mean from client side upload, how to upload the image from server side once we get the binary image in perl script."}], "tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": 0, "last_activity_date": 1470231787, "creation_date": 1470231787, "answer_id": 38745389, "question_id": 38739183, "link": "https://stackoverflow.com/questions/38739183/image-upload-from-browser-to-amazon-s3-using-perl/38745389#38745389", "title": "Image upload from browser to amazon S3 using perl", "body": "<p>JavaScript and the AWS.S3 class would be a good bet if you want to do that from a browser.</p>\n"}], "owner": {"reputation": 1, "user_id": 4427757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db1769f2fc16202e1ef7c8a2c170dcd?s=128&d=identicon&r=PG&f=1", "display_name": "Shalice Moideen", "link": "https://stackoverflow.com/users/4427757/shalice-moideen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1470231787, "creation_date": 1470215340, "question_id": 38739183, "link": "https://stackoverflow.com/questions/38739183/image-upload-from-browser-to-amazon-s3-using-perl", "title": "Image upload from browser to amazon S3 using perl", "body": "<p>I want to upload image from browser to amazon s3 bucket using perl. I have found some link to save the image to our server then migrate to amazon s3 bucket.I want to know that is there any option to directly upload image ?</p>\n"}, {"tags": ["apache", "perl", "ubuntu"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470210327, "post_id": 38737392, "comment_id": 64849596, "body": "Which browser you use is irrelevant. The browser only displays what the web server sends it. Your problem lies on the server side. Is CGI processing enabled for the <code>var&#47;cgi-bin</code>?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1470210413, "post_id": 38737392, "comment_id": 64849640, "body": "@Quentin I found <a href=\"http://stackoverflow.com/a/560862/1331451\">stackoverflow.com/a/560862/1331451</a> but didn&#39;t like it as a duplicate target too much."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1470210419, "post_id": 38737392, "comment_id": 64849643, "body": "You might want to consider moving away from CGI to <a href=\"https://metacpan.org/pod/CGI::Alternatives#PSGI-Plack\" rel=\"nofollow noreferrer\">Plack</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470221383, "post_id": 38737392, "comment_id": 64856749, "body": "What does your Apache server log say?"}, {"owner": {"reputation": 1, "user_id": 5633455, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i-lbF34bNEQ/AAAAAAAAAAI/AAAAAAAAAbY/QJak1XyzHFw/photo.jpg?sz=128", "display_name": "Zatchooze Naut", "link": "https://stackoverflow.com/users/5633455/zatchooze-naut"}, "edited": false, "score": 0, "creation_date": 1470490127, "post_id": 38737392, "comment_id": 64978380, "body": "There was nothing in the access log. The error log:  [Sat Aug 06 20:21:03.953564 2016] [mpm_event:notice] [pid 1026:tid 140525480413056] AH00489: Apache/2.4.12 (Ubuntu) configured -- resuming normal operations [Sat Aug 06 20:21:03.953580 2016] [core:notice] [pid 1026:tid 140525480413056] AH00094: Command line: &#39;/usr/sbin/apache2&#39;"}, {"owner": {"reputation": 1, "user_id": 5633455, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i-lbF34bNEQ/AAAAAAAAAAI/AAAAAAAAAbY/QJak1XyzHFw/photo.jpg?sz=128", "display_name": "Zatchooze Naut", "link": "https://stackoverflow.com/users/5633455/zatchooze-naut"}, "edited": false, "score": 0, "creation_date": 1470490325, "post_id": 38737392, "comment_id": 64978441, "body": "I tried to use CGI again in a 32 bit system and ran into the same problem. I think I may have forgotten how to properly set up apache2. Does anyone know a detailed guide to setting up Apache2?"}], "owner": {"reputation": 1, "user_id": 5633455, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i-lbF34bNEQ/AAAAAAAAAAI/AAAAAAAAAbY/QJak1XyzHFw/photo.jpg?sz=128", "display_name": "Zatchooze Naut", "link": "https://stackoverflow.com/users/5633455/zatchooze-naut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "closed_date": 1470210373, "answer_count": 0, "score": 0, "last_activity_date": 1470210252, "creation_date": 1470210194, "last_edit_date": 1470210252, "question_id": 38737392, "link": "https://stackoverflow.com/questions/38737392/executing-cgi-files-in-browser-displays-code", "closed_reason": "Duplicate", "title": "Executing CGI files in browser displays code", "body": "<p>I'm trying to run some simple CGI files in my browser. The code is as follows:</p>\n\n<pre><code>#!/usr/bin/perl -wT\nuse strict;\nuse warnings; \n\nprint \"Content-type: text/html\\n\\n\";\nprint \"HTML, CGI &amp; PERL Programming\\n\";\n</code></pre>\n\n<p>I've tried to use both Mozilla Firefox and Google Chrome as the browser. I've installed Apache2. The default page, Localhost works. I've placed the file in var/cgi-bin/ and changed modes with chmod 755. </p>\n\n<p>This code has worked before in a virtualbox Ubuntu 32 bit. Now I'm using Ubuntu 64 bit.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 105827, "user_id": 3037257, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/nq6Zo.jpg?s=128&g=1", "display_name": "Pranav C Balan", "link": "https://stackoverflow.com/users/3037257/pranav-c-balan"}, "edited": false, "score": 3, "creation_date": 1470200947, "post_id": 38734801, "comment_id": 64845145, "body": "<code>&#47;(?:[^-]+-){5}([^-]+)-&#47;</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1470215273, "post_id": 38734801, "comment_id": 64852732, "body": "Don&#39;t, and use &#39;split&#39;. <code>my $value =  ( split &#47;-&#47;, $sa ) [6];</code>"}], "answers": [{"tags": [], "owner": {"reputation": 105827, "user_id": 3037257, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/nq6Zo.jpg?s=128&g=1", "display_name": "Pranav C Balan", "link": "https://stackoverflow.com/users/3037257/pranav-c-balan"}, "is_accepted": true, "score": 7, "last_activity_date": 1470202138, "last_edit_date": 1470202138, "creation_date": 1470201410, "answer_id": 38734933, "question_id": 38734801, "link": "https://stackoverflow.com/questions/38734801/is-there-any-possible-way-to-match-the-nth-character/38734933#38734933", "title": "Is there any possible way to match the n&#39;th character?", "body": "<p>Use <a href=\"http://www.regular-expressions.info/repeat.html\">limiting repetition quantifier</a></p>\n\n<pre><code>/(?:[^-]+-){5}([^-]+)-/\n</code></pre>\n\n<p><img src=\"https://www.debuggex.com/i/3679VC7a5vW9AnVJ.png\" alt=\"Regular expression visualization\"></p>\n\n<p><a href=\"https://regex101.com/r/tE2qC7/1\">Regex explanation here.</a></p>\n\n<hr>\n\n<p>The capturing group can be within the repetitive group only the last one gets captured.</p>\n\n<pre><code>/(?:([^-]+)-){6}/\n</code></pre>\n\n<p><img src=\"https://www.debuggex.com/i/C9E75q9xzNeeRBnf.png\" alt=\"Regular expression visualization\"></p>\n\n<p><a href=\"https://regex101.com/r/sJ9sJ8/1\">Regex explanation here.</a></p>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 1, "closed_date": 1470210621, "accepted_answer_id": 38734933, "answer_count": 1, "score": 3, "last_activity_date": 1470202138, "creation_date": 1470200817, "question_id": 38734801, "link": "https://stackoverflow.com/questions/38734801/is-there-any-possible-way-to-match-the-nth-character", "closed_reason": "Duplicate", "title": "Is there any possible way to match the n&#39;th character?", "body": "<p>My input data as below. I want to group the word between the 6th and 7th position of the <code>-</code>.</p>\n\n<pre><code>my $sa = \"a1a1a1-b1b1b1-c-ddd-eee-fff-gggggg-hHhH-iiii-j-KKKKK\";\n</code></pre>\n\n<p>For this, the actual regex was </p>\n\n<pre><code>/[^-]+-[^-]+-[^-]+-[^-]+-[^-]+-([^-]+)-/\n</code></pre>\n\n<p>For to build the regex, I tried as below,</p>\n\n<pre><code>my $avc = \"[^-]+-\" x 5 . \"([^-]+)-\";\n\nmy $ar = qr\"$avc\";\n\n$sa =~m/$ar/g;\n\nprint $1;\n</code></pre>\n\n<p>My doubt, Is there any options are available for within regex. Without using <code>x</code>. How can I do it in a single regex?</p>\n"}, {"tags": ["perl", "for-loop", "foreach"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1470195943, "post_id": 38733892, "comment_id": 64843679, "body": "What is data of <code>$row</code>? And what about <a href=\"http://perldoc.perl.org/functions/last.html\" rel=\"nofollow noreferrer\">last</a> .?"}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1470197339, "post_id": 38733892, "comment_id": 64844032, "body": "wouldn&#39;t <code>@array</code> be single dimensional array? and its elements will be of string type, where you need to use <code>eq</code> for comparison... ex: <code>if($str1 eq $str2)</code>"}, {"owner": {"reputation": 9, "user_id": 6616498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8988cd55b2d8795de57df2edd846a5ae?s=128&d=identicon&r=PG&f=1", "display_name": "user652256", "link": "https://stackoverflow.com/users/6616498/user652256"}, "edited": false, "score": 0, "creation_date": 1470197494, "post_id": 38733892, "comment_id": 64844077, "body": "$row is a line of the @file."}, {"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 3, "creation_date": 1470199667, "post_id": 38733892, "comment_id": 64844694, "body": "Hi @user652256, it would help a great deal if you could share some sample input and expected output. There are a number of issues with your script and it&#39;s difficult to determine exactly what you&#39;re trying to do, despite your explanation."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1470200383, "post_id": 38733892, "comment_id": 64844954, "body": "what do you mean by &quot;<b>move to the next position in element1</b>&quot;. Looks like a element1 is an array element and how it has multiple elements?"}], "answers": [{"tags": [], "owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "is_accepted": false, "score": 1, "last_activity_date": 1470216766, "last_edit_date": 1470216766, "creation_date": 1470200954, "answer_id": 38734825, "question_id": 38733892, "link": "https://stackoverflow.com/questions/38733892/perl-if-two-elements-match-print-elements-else-iterate-until-match-and-then-pr/38734825#38734825", "title": "Perl: If two elements match print elements, else iterate until match and then print", "body": "<p>There are a number of issues with your script. Briefly:</p>\n\n<ul>\n<li>You should always use <a href=\"http://perldoc.perl.org/strict.html\" rel=\"nofollow\">strict</a> and <a href=\"http://perldoc.perl.org/warnings.html\" rel=\"nofollow\">warnings</a>.</li>\n<li>Array indices start at 0, not 1.</li>\n<li>You get an element of an array with <code>$array[0]</code>, not <code>@array[0]</code>. This is a common frustration for new Perl programmers. The thing to remember is that the sigil (the symbol preceding a variable name) indicates the type of value being passed (e.g. <code>$scalar</code>, <code>@array</code>, or <code>%hash</code>) to the left-hand side of the expression, not the type of datastructure being accessed on the right-hand side.</li>\n<li>As @sp-asic pointed out in the comments on the OP, string comparisons are performed with <code>eq</code>, not <code>==</code>.</li>\n<li>References to datastructures are stored in scalars, and you dereference by prepending the sigil of the original datastructure. If <code>$foo</code> is a reference to an array, <code>@$foo</code> gets you the original array.</li>\n<li>You apparently want to break out of your inner loops when you find a match, but you'll want to make it clear (for people who look at this code in the future, which may include yourself) which loop you're breaking out of.</li>\n</ul>\n\n<p>Most critically, <code>@array</code> will be an array of strings after you split another string (the row) on commas, so it's not clear why you expect to be able to treat the strings in the first and second position as arrays that you can loop through. I have a few guesses about what you're actually trying to do, and what your inputs and expected outputs actually look like, but I'll wait for you to provide some additional information and leave the information above as general guidance in the meantime, along with a lightly-reworked version of your code below.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @array = split(',', $row);\n\nforeach my $element1 (@$array[0]) {\n    foreach my $element2 (@$array[1]) {\n        if ($element1 eq $element2) {\n            print \"1 = $element1  :  2 = $element2\\n\";\n            last;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6616498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8988cd55b2d8795de57df2edd846a5ae?s=128&d=identicon&r=PG&f=1", "display_name": "user652256", "link": "https://stackoverflow.com/users/6616498/user652256"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470216766, "creation_date": 1470195051, "question_id": 38733892, "link": "https://stackoverflow.com/questions/38733892/perl-if-two-elements-match-print-elements-else-iterate-until-match-and-then-pr", "title": "Perl: If two elements match print elements, else iterate until match and then print", "body": "<p>I'm new to Perl and I'm trying to iterate over two elements of an array with multiple indices in each element and look for a match. If element2 matches element1, I want to print both and move to the next position in element1 and continue the loop looking for the next match. If I don't have a match, loop until I get a match. Here is what I have:</p>\n\n<pre><code>@array = split(',',$row);\n\nforeach $element1(@array[1])\n{\n  foreach $element2(@array[2])\n  {\n    if($element1 == $element2)\n    {\n       print \"1 = $element1  :  2 = $element2 \\n\";\n    }\n  }\n}\n</code></pre>\n\n<p>I'm not getting the the matched output. I've tried multiple iterations with different syntactical changes.\nI can get both elements when I do this:</p>\n\n<pre><code>foreach $element1(@array[1])\n{\n  foreach $element2(@array[2])\n  {\n       print \"1 = $element1  :  2 = $element2 \\n\";\n  }\n}\n</code></pre>\n\n<p>I thought I might not be dereferencing correctly. Any guidance or suggestions would be appreciated. Thanks.</p>\n"}, {"tags": ["perl", "text"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470170685, "post_id": 38727363, "comment_id": 64836521, "body": "<code>my</code> creates a new variable, so <code>my $count++;</code>, <code>my $count + 1</code>, <code>my $counter - my $count</code> and <code>my $count--;</code> make no sense."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470170802, "post_id": 38727363, "comment_id": 64836582, "body": "<code>foreach my $word{ my $count++; }</code> is missing the list of things over which to loop!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470170872, "post_id": 38727363, "comment_id": 64836616, "body": "<code>open FILE, ...</code> should be <code>open my $FILE, ...</code>. Don&#39;t use global vars for nothing."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470169264, "post_id": 38727729, "comment_id": 64835744, "body": "<code>local our</code> should be used instead of <code>my</code> for variable used within <code>(?{ })</code> or <code>(??{ })</code> but declared outside of the <code>(?{ })</code> or <code>(??{ })</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470170729, "post_id": 38727729, "comment_id": 64836542, "body": "There&#39;s no need for fancy experimental stuff. This will do the same thing <code>s&#47;$word\\K&#47; ++$count &#47;eg</code>"}, {"owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470174907, "post_id": 38727729, "comment_id": 64838538, "body": "@ikegami, why? They can be closured or something?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "edited": false, "score": 0, "creation_date": 1470178840, "post_id": 38727729, "comment_id": 64839846, "body": "@Vadim Pushtaev, That&#39;s exactly it. They capture when the pattern is compiled, so they suffer from the same problem as named subs inside of other subs. <code>perl -E&#39;sub f { my $x = shift; &quot;&quot; =~ &#47;(?{ say $x })&#47; } f(&quot;abc&quot;); f(&quot;def&quot;);&#39;</code>  [uh... this works now. It doesn&#39;t work on older version of Perl, though]"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": -1, "last_activity_date": 1470161732, "creation_date": 1470161732, "answer_id": 38727729, "question_id": 38727363, "link": "https://stackoverflow.com/questions/38727363/perl-number-every-instance-of-a-word-in-a-text-file/38727729#38727729", "title": "Perl: Number every instance of a word in a text file", "body": "<p>You could use a zero-width <a href=\"http://perldoc.perl.org/perlretut.html#A-bit-of-magic%3a-executing-Perl-code-in-a-regular-expression\" rel=\"nofollow\">code evaluation expression</a> assertion, eg: <code>(?{...})</code> within the regex to increase the count value on each match, then use that count in the substitution side:</p>\n\n<p>Note that code eval expressions are considered experimental, according to the docs.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $word = 'Word';\nmy $file = 'file.txt';\n\nopen my $fh, '&lt;', $file or die $!;\n\nmy $count;\n\nwhile (&lt;$fh&gt;){\n    s/$word(?{$count++})/$word$count/g;\n    print;\n}\n</code></pre>\n\n<p>Input:</p>\n\n<pre><code>&gt; Word text text text text\nText\nText\n&gt; Word text text text text\nText\nText\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&gt; Word1 text text text text\nText\nText\n&gt; Word2 text text text text\nText\nText\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1470170903, "last_edit_date": 1470170903, "creation_date": 1470168964, "answer_id": 38729676, "question_id": 38727363, "link": "https://stackoverflow.com/questions/38727363/perl-number-every-instance-of-a-word-in-a-text-file/38729676#38729676", "title": "Perl: Number every instance of a word in a text file", "body": "<p>There's no reason to use <code>(?{ })</code>. When you use <code>/e</code>, the substitution expression is evaluated as Perl code for every match. That's all you need here.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $word = 'Word';\n\nmy $count;\nwhile (&lt;&gt;) {\n    s/\\b\\Q$word\\E\\b/ $word . ++$count /eg;\n    print;\n}\n</code></pre>\n\n<p>5.10 introduced <code>\\K</code> which can make the key line even shorter!</p>\n\n<pre><code>s/\\b\\Q$word\\E\\b\\K/ ++$count /eg;\n</code></pre>\n\n<p>Other improvements:</p>\n\n<ul>\n<li>The <code>\\b</code> make it so <code>sword</code> or <code>wordy</code> aren't matched.</li>\n<li>The <code>\\Q</code>..<code>\\E</code> make it so <code>$word</code> can safely contain non-word characters.</li>\n</ul>\n"}], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 38729676, "answer_count": 2, "score": 0, "last_activity_date": 1470170903, "creation_date": 1470160465, "last_edit_date": 1470160816, "question_id": 38727363, "link": "https://stackoverflow.com/questions/38727363/perl-number-every-instance-of-a-word-in-a-text-file", "title": "Perl: Number every instance of a word in a text file", "body": "<p>I need to edit a text file that is formatted something like:</p>\n\n<pre><code>&gt; Word text text text text\nText\nText\n&gt; Word text text text text\nText\nText\n</code></pre>\n\n<p>And make it look like:</p>\n\n<pre><code>&gt;Word1 text text text text\nText\nText\n&gt;Word2 text text text text\nText\nText\n</code></pre>\n\n<p>Basically, I need to modify every instance of the string \" Word\" and turn it into \"Word\" followed by a number corresponding to the number of instances the string has appeared in the text file so far. I'm new to perl and have no idea what I'm doing. Here's what I have:</p>\n\n<pre><code>$file = \"test.txt\";\n\nmy %count;\nmy $word = \" Word\";\n\n#Open and read data\nopen (FILE, \"&lt;$file\") or die \"Cannot open $file: $!\\n\";\n@lines= &lt;FILE&gt;;\nforeach my $word{\n    my $count++;\n}\nclose FILE;\n\nmy $counter = my $count + 1;\nmy $curr_ct = my $counter - my $count;\n\n#Open same file for editing now\nopen (STDOUT, \"&gt;$file\") or die \"Cannot open $file: $!\\n\";\n\n\nwhile (my $count &gt; 0){\n    s/ Word/Word$curr_ct/\n    my $count--;\n    my $curr_ct = my $counter - my $count;\n    print;\n}\n\nclose STDOUT;\n</code></pre>\n"}, {"tags": ["mysql", "perl", "blob", "batch-processing"], "comments": [{"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 2, "creation_date": 1470159408, "post_id": 38726936, "comment_id": 64829918, "body": "since you tagged this question with <code>perl</code> I would suggest the whole script would be better written entirely in Perl and using <code>DBD::mysql</code>"}, {"owner": {"reputation": 21, "user_id": 6668890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060309bfe396161848c66bef0806298b?s=128&d=identicon&r=PG&f=1", "display_name": "Mally", "link": "https://stackoverflow.com/users/6668890/mally"}, "reply_to_user": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1470236096, "post_id": 38726936, "comment_id": 64867926, "body": "Well the problem is that i unfortunately cannot code in perl :/"}, {"owner": {"reputation": 8891, "user_id": 89211, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d8b4889359df45a8c8099ef16bd96be9?s=128&d=identicon&r=PG", "display_name": "Relequestual", "link": "https://stackoverflow.com/users/89211/relequestual"}, "edited": false, "score": 0, "creation_date": 1471338711, "post_id": 38726936, "comment_id": 65295398, "body": "Then do not use perl and use a langauge that you do know?"}], "owner": {"reputation": 21, "user_id": 6668890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060309bfe396161848c66bef0806298b?s=128&d=identicon&r=PG&f=1", "display_name": "Mally", "link": "https://stackoverflow.com/users/6668890/mally"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1470161894, "creation_date": 1470158857, "last_edit_date": 1470161894, "question_id": 38726936, "link": "https://stackoverflow.com/questions/38726936/batch-insert-pictures-from-folder-to-mysql-table", "title": "Batch insert pictures from folder to mysql table", "body": "<p>I have a folder containing around 20.000 png images with size of around 500kb (barcodes) and i want to batch insert them into a mysql table.</p>\n\n<p>I found this script but i could not get it to work properly</p>\n\n<pre><code>#! /bin/bash\n\ndir=/folder/barcodes\next=png\nchmod a+r $dir/*.$ext\nmysql -u root -p DBNAME &lt;&lt;eot\nUSE DBNAME;\ndrop table if exists t1;\ncreate table t1 (name varchar(128), data mediumblob, PRIMARY KEY(ID));\nUSE DBNAME;\neot\nls -1 $dir/*.$ext | perl -e 'print \"insert into t1(name,data) values \".join(\",\",map {chop;$f=\"\\\"\".$_.\"\\\"\"; \"($f,load_file($f))\"} &lt;&gt;);' | mysql -u root -p DBNAME\n</code></pre>\n\n<p>my issues are:</p>\n\n<ul>\n<li>table does not get a primary key (i add one afterwords using phpmyadmin)</li>\n<li>the pictures are somehow not loades into the database (all values are NULL)</li>\n</ul>\n"}, {"tags": ["bash", "perl", "permutation"], "comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 0, "creation_date": 1470157874, "post_id": 38726214, "comment_id": 64829111, "body": "This might help: <a href=\"http://stackoverflow.com/questions/4736626/how-can-i-generate-all-ordered-combinations-of-length-k-in-perl\" title=\"how can i generate all ordered combinations of length k in perl\">stackoverflow.com/questions/4736626/&hellip;</a>"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1470158433, "post_id": 38726214, "comment_id": 64829415, "body": "The regular expression can&#39;t match something that isn&#39;t there."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1470159008, "post_id": 38726214, "comment_id": 64829683, "body": "There are over 4,000 different six-character combinations of four characters. Do you really want 4,000 lines of output, most of them zeroes?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1470200028, "last_edit_date": 1470200028, "creation_date": 1470158695, "answer_id": 38726885, "question_id": 38726214, "link": "https://stackoverflow.com/questions/38726214/how-to-count-the-number-of-occurences-of-n-length-combinations-of-characters-in/38726885#38726885", "title": "How to count the number of occurences of n-length combinations of characters in string", "body": "<p>Since <code>uniq -c</code> counts the number of times a line occurs, it can't possibly return 0. The requested change requires a complete rewrite.</p>\n\n<pre><code>perl -e'\n   while (&lt;&gt;) {\n      ++$counts{$_} for /(?=([ATCG]{6}))/g;\n   }\n\n   for my $seq (glob(\"{A,C,G,T}\" x 6)) {\n      printf(\"%7d %s\\n\", $counts{$seq}, $seq);\n   }\n' \"$file\" &gt;\"${base}_hexhits_6mer.txt\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1470167813, "post_id": 38727005, "comment_id": 64834976, "body": "This turns out to be faster than the borodin and ikegami&#39;s solution, at least on my machine, but it matches substrings which do include letters outside of the alphabet (in particular, newline characters)."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1470169054, "post_id": 38727005, "comment_id": 64835638, "body": "@rici - interesting. Should have fixed the issue with matching non-ATCG characters"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470170463, "post_id": 38727005, "comment_id": 64836386, "body": "<code>next unless &#39;A|G|C|T&#39;</code> is a no-op because <code>&#39;A|G|C|T&#39;</code> is a simple string which is always <i>true</i>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470171437, "post_id": 38727005, "comment_id": 64836899, "body": "Sorry, achieving what?"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 0, "last_activity_date": 1470236173, "last_edit_date": 1470236173, "creation_date": 1470159181, "answer_id": 38727005, "question_id": 38726214, "link": "https://stackoverflow.com/questions/38726214/how-to-count-the-number-of-occurences-of-n-length-combinations-of-characters-in/38727005#38727005", "title": "How to count the number of occurences of n-length combinations of characters in string", "body": "<p>What you're asking to do is much more complicated. To know what you <strong>haven't</strong> seen requires that you first know <strong>all the possible combinations</strong> of characters, that you can then filter against.</p>\n\n<p>Here, I use a sliding window approach using <a href=\"http://perldoc.perl.org/functions/substr.html\" rel=\"nofollow\">substr</a> in Perl to find tally all \"seen\" <code>ATCG</code> characters in a string of <code>As</code>, <code>Ts</code>, <code>Cs</code> and <code>Gs</code> (as read from <code>__DATA__</code>) in a hash. These are then sorted, so that the most commonly observed 6-mer is shown first, and printed out. </p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @bases = qw/ A G C T /;\n\nmy %data; \n\nfor my $a1(@bases){\n    for my $a2(@bases){\n        for my $a3(@bases){ \n            for my $a4(@bases){\n                for my $a5(@bases){\n                    for my $a6(@bases){\n                        $data{\"$a1$a2$a3$a4$a5$a6\"} = 0;\n                    }\n                }\n            }\n        }\n    }\n}\n\nmy $nucs = &lt;DATA&gt;; \n\nmy $len = length($nucs);\n\nfor (my $i = 0; $i &lt;= $len - 6; $i++) {\n     my $kmer = substr($nucs, $i, 6);\n     next if $kmer =~ tr/ACGT//c;\n     $data{$kmer}++; # populate hash with \"seen\" 6-mers\n}\n\n# print out sorted hash\nforeach my $seq (sort { $data{$b} &lt;=&gt; $data{$a} } keys %data ){\n    print \"$seq,$data{$seq}\\n\";\n}\n\n__DATA__\nATGCCCGTCGTAGTCATGCATGCATCGATCGATGCATGCTACGTGTTGT\n</code></pre>\n\n<p>There is clearly going to be a better/prettier way of calculating all permutations of characters in a string than what I've done, but it works.    </p>\n\n<p>As Borodin says, this prints out mostly variations of \"unseen\" strings.</p>\n"}, {"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 2, "creation_date": 1470197016, "post_id": 38727172, "comment_id": 64843960, "body": "&#39;{A,C,G,T}&#39; x 6 It is really great."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1470159837, "creation_date": 1470159837, "answer_id": 38727172, "question_id": 38726214, "link": "https://stackoverflow.com/questions/38726214/how-to-count-the-number-of-occurences-of-n-length-combinations-of-characters-in/38727172#38727172", "title": "How to count the number of occurences of n-length combinations of characters in string", "body": "<p>The simplest way is to build a hash of occurrence counts for each pattern, and then print the count of all possible patterns</p>\n\n<p>This program uses the <code>glob</code> trick to generate a list of all possible six-character strings formed from A, T, C and G</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy @files = qw/ e_coli.fa /;\n\nmy %counts;\n\nfor my $file ( @files ) {\n\n    open my $fh, '&lt;', $file or die qq{Unable to open \"$file\" for input: $!};\n\n    while ( &lt;$fh&gt; ) {\n        ++$counts{$1} while /(?= ( [ATCG]{6} ) ) /gx;\n    }\n}\n\nfor my $pattern ( glob '{A,T,C,G}' x 6 ) {\n    printf \"%4d %s\\n\", $counts{$pattern} // 0, $pattern;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470198271, "post_id": 38729444, "comment_id": 64844324, "body": "I could definitely speed up my solution (by using nested loops instead of <code>glob</code>, and maybe by replacing the regex with <code>substr</code>), but the OP seem to want something he could easily place in another script, so I went with conciseness. Obviously, it still wouldn&#39;t be nearly as fast as this."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1470199514, "post_id": 38729444, "comment_id": 64844655, "body": "@ikegami: hard to believe that glob call is a major contributor to the execution time, but you should definitely fix the quotes; I had to change them to &quot; to avoid terminating the surrounding shell quotes. Fwie, I was also aiming at concision but that means something else in C :-) Sometimes Perl is competitive but I suspect this isn&#39;t going to be one of them. However, fugu&#39;s answer seems to suggest that substr would help. In this C prog, I use a sliding window to avoid even substr; that wouldn&#39;t be a natural idiom in Perl, I think. Anyway, it wasn&#39;t meant as a criticism."}], "tags": [], "owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "is_accepted": false, "score": 1, "last_activity_date": 1470168045, "creation_date": 1470168045, "answer_id": 38729444, "question_id": 38726214, "link": "https://stackoverflow.com/questions/38726214/how-to-count-the-number-of-occurences-of-n-length-combinations-of-characters-in/38729444#38729444", "title": "How to count the number of occurences of n-length combinations of characters in string", "body": "<p>In case you have a lot of data and you need something a little faster, here's a C solution:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n\nvoid reader(FILE* in, unsigned long hist[4096]) {\n  for (unsigned long key=0, count=0;;) {\n    switch(getc(in)) {\n      case EOF:                      return;\n      case 'A': key &lt;&lt;= 2;           break;\n      case 'C': key &lt;&lt;= 2; key += 1; break;\n      case 'G': key &lt;&lt;= 2; key += 2; break;\n      case 'T': key &lt;&lt;= 2; key += 3; break;\n      default:  count=0;             continue;\n    }\n    if (count == 5) ++hist[key &amp; 0xFFF];\n    else ++count;\n  }\n}\n\nint putkey(FILE* out, unsigned long key) {\n  char s[6];\n  for (int j=6; j--; key &gt;&gt;= 2) s[j] = \"ACGT\"[key&amp;3];\n  return fprintf(out, \"%.6s\", s); \n}\n\nvoid writer(FILE* out, unsigned long hist[4096]) {\n  for (unsigned long key = 0; key &lt; 4096; ++key) {\n    fprintf(stdout, \"%7lu \", hist[key]);\n    putkey(out, key);\n    putchar('\\n');\n  }\n}\n\nint main(int argc, char** argv) {\n  FILE* in = stdin;\n  if (argc &gt; 1) in = fopen(argv[1], \"r\");\n  if (!in) { perror(argv[1]); exit(1); }\n  unsigned long hist[4096] = {0};\n  reader(in, hist);\n  writer(stdout, hist);\n  return 0;\n}\n</code></pre>\n\n<p>It took a bit less than half a second to process a 31MB fastq sample (which, as it happens, includes all 4096 possible six-character sequences); the Perl solutions took 12 seconds (fugu) and 18 seconds (ikegami/borodin), respectively.</p>\n"}], "owner": {"reputation": 13, "user_id": 6668713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b772c112521fb99e2e3f0cc9f4e0b46?s=128&d=identicon&r=PG&f=1", "display_name": "JDnoble", "link": "https://stackoverflow.com/users/6668713/jdnoble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 38726885, "answer_count": 4, "score": 0, "last_activity_date": 1470236173, "creation_date": 1470156383, "last_edit_date": 1470235875, "question_id": 38726214, "link": "https://stackoverflow.com/questions/38726214/how-to-count-the-number-of-occurences-of-n-length-combinations-of-characters-in", "title": "How to count the number of occurences of n-length combinations of characters in string", "body": "<p>I am using the following one liner to list the occurrences of combinations of <code>ATCG</code>, forming string of length 6. It works fine aside from not printing the occurrence of 0 matches. Is there a way to change the regex, or another part, to where it will print something like \"0 ATTTAG\"? </p>\n\n<pre><code>#!/bin/bash\nfor file in e_coli.fa\ndo\n    base=$(basename $file .fa)\n    cat $file | perl -nE 'say for /(?&lt;=([ATCG]{6}))/g' \\\n        | sort | uniq -c &gt;&gt; ${base}_hexhits_6mer.txt\ndone\n\nstdout:\n    465 AAAAAA\n    607 AAAAAC\n    661 AAAAAG\n    581 AAAAAT\n    563 AAAACA\n    807 AAAACC\n    770 AAAACG\n    373 AAAACT\n    663 AAAAGA\n   1213 AAAAGC\n</code></pre>\n"}, {"tags": ["perl", "parsing", "postfix-operator"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1470157067, "post_id": 38726197, "comment_id": 64828673, "body": "Sounds like a job for a <a href=\"http://perldoc.perl.org/perlfilter.html\" rel=\"nofollow noreferrer\">source filter</a>. Understand, though, that <a href=\"http://stackoverflow.com/questions/1785852/why-are-perl-source-filters-bad-and-when-is-it-ok-to-use-them\">source filters are almost always a bad idea</a>. I would recommend an approach that doesn&#39;t require screwing with perl&#39;s parsing rules; it&#39;s not as pretty, but I would prefer something like <code>$T = My::Measurement-&gt;new(value =&gt; 25, units =&gt; &#39;C&#39;);</code>."}, {"owner": {"reputation": 500, "user_id": 1644925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd6b59cb8b550984582d0db4473779ce?s=128&d=identicon&r=PG", "display_name": "alexchandel", "link": "https://stackoverflow.com/users/1644925/alexchandel"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1470158166, "post_id": 38726197, "comment_id": 64829271, "body": "The goal of this module is to explicitly allow the terse form, like a domain-specific language."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470158169, "post_id": 38726197, "comment_id": 64829274, "body": "Please describe more precisely the result that you would like. Is <code>$T = &#39;25 C&#39;</code> acceptable?"}, {"owner": {"reputation": 500, "user_id": 1644925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd6b59cb8b550984582d0db4473779ce?s=128&d=identicon&r=PG", "display_name": "alexchandel", "link": "https://stackoverflow.com/users/1644925/alexchandel"}, "edited": false, "score": 0, "creation_date": 1470158731, "post_id": 38726197, "comment_id": 64829536, "body": "No. My goal is to not quote these expressions and parse them later manually, but to teach the perl compiler (or hack into perl&#39;s parsing) just enough so that it can parse these postfix expressions itself."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1470166864, "post_id": 38726197, "comment_id": 64834398, "body": "I don&#39;t think you can do this with Devel::Declare because it only lets you inject new text starting at the position of your declarator (e.g. <code>C</code> in <code>$T = 25 C;</code>). You <i>could</i> write your own XS module that uses the same hooks as Devel::Declare, though."}, {"owner": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "edited": false, "score": 3, "creation_date": 1470182764, "post_id": 38726197, "comment_id": 64840750, "body": "Would you find writing <code>$T = 25 .C</code> acceptable? The idea is to (ab)use operator overloading to construct the objects. Proof of concept <a href=\"https://ideone.com/CxyPBw\" rel=\"nofollow noreferrer\">here</a>."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1470214546, "last_edit_date": 1470214546, "creation_date": 1470211956, "answer_id": 38738009, "question_id": 38726197, "link": "https://stackoverflow.com/questions/38726197/perl-custom-syntax-for-suffixes-or-custom-postfix-operators/38738009#38738009", "title": "Perl custom syntax for suffixes or custom postfix operators", "body": "<p>You can abuse overloading to get something close to what you want.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Data::Dumper;\nuse MyUnits;\n\nmy $T = '25 C';\n\nsay Dumper $T;\n\nmy @specs = ('273.15 K', '23 bar', '2.0 mol/s');\n\nsay Dumper \\@specs;\n</code></pre>\n\n<p>As you'll see, you get objects back with \"value\" and \"type\" attributes.</p>\n\n<p>MyUnits.pm looks like this:</p>\n\n<pre><code>package MyUnits;\n\nuse strict;\nuse warnings;\n\nuse overload\n  '\"\"' =&gt; \\&amp;to_string;\n\nmy %_const_handlers = (\n  q =&gt; \\&amp;string_parser,\n);\n\nsub string_parser {\n  my $c = eval { __PACKAGE__-&gt;new($_[0]) };\n  return $_[1] if $@;\n  return $c;\n}\n\nsub import {\n  overload::constant %_const_handlers;\n}\n\nsub new {\n  my $class = shift;\n\n  # -&gt;new(type =&gt; ..., value =&gt; ...)\n  if (@_ == 4) {\n    return bless { @_ }, $class;\n  }\n  # -&gt;new({ type =&gt; ..., value =&gt; ...)\n  if (@_ == 1 and ref $_[0] eq 'HASH') {\n    return bless $_[0], $class;\n  }\n  # -&gt; new('999xxx')\n  if (@_ == 1 and ! ref $_[0]) {\n    my ($val, $type) = $_[0] =~ /(\\d+\\.?\\d*)\\s*(.+)/;\n    return bless({\n      value =&gt; $val, type =&gt; $type,\n    });\n  }\n}\n\nsub to_string {\n  return \"$_[0]-&gt;{value}$_[0]-&gt;{type}\";\n}\n\n1;\n</code></pre>\n\n<p>You'd want to add more methods to enable it to do something useful.</p>\n\n<p>In most cases, overloading isn't much less of a party trick than source filters are. It will almost certainly make your program far slower.</p>\n"}, {"tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": false, "score": 0, "last_activity_date": 1470218123, "creation_date": 1470218123, "answer_id": 38740252, "question_id": 38726197, "link": "https://stackoverflow.com/questions/38726197/perl-custom-syntax-for-suffixes-or-custom-postfix-operators/38740252#38740252", "title": "Perl custom syntax for suffixes or custom postfix operators", "body": "<p>Source filters are notoriously brittle but probably the easiest way of getting what you want without diving deep into perl's less than appetizing bowels. Something like this perhaps:</p>\n\n<pre><code>package U;\nuse strict;\nuse warnings;\nuse Filter::Simple;\n\nmy @UNITS = qw( degC degK bar mol s );\n\nFILTER {\n    my $unit_re = '(?:' . join('|', @UNITS) . ')';\n    s#(\\d+(?:\\.\\d\\+)?)\\s?((?:${unit_re}[*/])*$unit_re)\\b#Units-&gt;new({value =&gt; $1, unit =&gt; '$2'})#g;\n};\n\npackage Units;\nuse Class::Accessor 'antlers';\nhas value =&gt; ( is =&gt; \"ro\", isa =&gt; \"Num\" );\nhas unit =&gt; ( is =&gt; \"ro\", isa =&gt; \"Str\" );\n\n1;\n</code></pre>\n\n<p>I was anal about it and changed the \"C\" as it looks you don't mean Coulomb. You could probably go all <code>use utf8</code> and write <code>\u00b0C</code> though ;)</p>\n\n<p>Test:</p>\n\n<pre><code>perl -I. -MU -e'my $val = 23 degK/s; printf \"Value: %g, Unit: %s\\n\", $val-&gt;value, $val-&gt;unit'\nValue: 23, Unit: degK/s\n</code></pre>\n\n<p>Of course the simple regexp leaves much to be desired, like parentheses and such for which you'd probably need <code>Text::Balanced</code>, and the <code>Units</code> class may actually want to to a lot more like parsing that unit string and overloading a few operators so you can calculate with units.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1470245023, "last_edit_date": 1470245023, "creation_date": 1470244443, "answer_id": 38749889, "question_id": 38726197, "link": "https://stackoverflow.com/questions/38726197/perl-custom-syntax-for-suffixes-or-custom-postfix-operators/38749889#38749889", "title": "Perl custom syntax for suffixes or custom postfix operators", "body": "<p>If you are willing to use an intermediating function, you can get something that sorta looks like what you want if you squint hard enough. I don't it is possible to write Haskell in Perl ;-)</p>\n\n<pre><code>package My::Units;\n\nuse strict;\nuse warnings;\n\nuse Importer 'Math::Units::PhysicalValue', 'PV';\n\nour @EXPORT = qw();\nour @EXPORT_OK = qw( with_units );\n\nsub with_units(\\$@) {\n    my (undef, $value, $units) = @_;\n    ${ $_[0] } = PV \"$value $units\";\n    return;\n}\n\n__PACKAGE__;\n__END__\n</code></pre>\n\n<p>Use it from a script:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse feature 'say';\nuse strict;\nuse warnings;\n\nuse lib '.';\nuse Importer 'My::Units', 'with_units';\n\nwith_units my $x =&gt; 25 =&gt; 'C';\nwith_units my $y =&gt; 20 =&gt; 'F';\nwith_units my $z =&gt;  0 =&gt; 'C';\n\nsay $x + $y;\nsay $y + $z;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>C:\\...\\t> perl t.pl\n97 F\n-6.67 C</pre>\n\n<p>Now, <a href=\"https://metacpan.org/pod/Math::Units::PhysicalValue\" rel=\"nofollow\">Math::Units::PhysicalValue</a> unconditionally uses <a href=\"https://metacpan.org/pod/Math::BigFloat\" rel=\"nofollow\">Math::BigFloat</a> so arithmetic should be slow, but accurate. If you really need this kind of thing, you might want to look into scavenging parts of <a href=\"https://metacpan.org/pod/Math::Units\" rel=\"nofollow\">Math::Units</a> and <a href=\"https://metacpan.org/pod/Math::Units::PhysicalValue\" rel=\"nofollow\">Math::Units::PhysicalValue</a> and creating something speedier from those parts.</p>\n"}], "owner": {"reputation": 500, "user_id": 1644925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd6b59cb8b550984582d0db4473779ce?s=128&d=identicon&r=PG", "display_name": "alexchandel", "link": "https://stackoverflow.com/users/1644925/alexchandel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 2, "answer_count": 3, "score": 5, "last_activity_date": 1470245023, "creation_date": 1470156307, "last_edit_date": 1470158928, "question_id": 38726197, "link": "https://stackoverflow.com/questions/38726197/perl-custom-syntax-for-suffixes-or-custom-postfix-operators", "title": "Perl custom syntax for suffixes or custom postfix operators", "body": "<p>I'd like to know how I can run operations like this</p>\n\n<pre><code>$T = 25 C;\n@specs = (273.15 K, 23 bar, 2.0 mol/s);\n</code></pre>\n\n<p>and get them to compile. I'm not picky about what their result is, or how it's implemented. My goal is to let expressions for physical quantities with conventional postfix unit annotations compile to perl expressions for those units.</p>\n\n<p>I think I need to use custom parsing techniques, but I'd prefer to use any existing functionality or parsing modules over just applying regex filters to my raw source.</p>\n\n<p><a href=\"https://metacpan.org/pod/Parse%3a%3aKeyword\">Parse::Keyword</a> seemed promising, but I can't see whether it can parse postfix operations, and it claims to be deprecated.</p>\n\n<p><strong>Edit:</strong> I'd like to avoid source filters if possible because I'd rather not write regexes for Perl's syntactical corner cases (e.g. \"25 (J/K)\").</p>\n\n<p>The error Perl produces here is telling:</p>\n\n<pre><code>perl -E \"25 C\"\nBareword found where operator expected at -e line 1, near \"25 C\"\n(Missing operator before C?)\n</code></pre>\n\n<p>It seems like I need to hook into where Perl detects operators after numeric literals.</p>\n\n<p>Could <a href=\"http://search.cpan.org/~ether/Devel-Declare/lib/Devel/Declare.pm\">Devel::Declare</a> add postfix operators? If so, how?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1470153867, "creation_date": 1470153867, "answer_id": 38725475, "question_id": 38725319, "link": "https://stackoverflow.com/questions/38725319/filtering-lines-from-file/38725475#38725475", "title": "Filtering lines from file", "body": "<p><code>&amp;</code> doesn't mean \"and\" in regular expressions. Match twice with <code>&amp;&amp;</code> instead:</p>\n\n<pre><code>while (&lt;&gt;) {\n    next if /^#/ || /\\bFusion\\b/ &amp;&amp; /\\bNoCall\\b/;\n    next unless /\\b(?:Fusion|5p3pAssays|ExprControl)\\b/;\n    print;\n}\n</code></pre>\n\n<p>Tested against:</p>\n\n<pre><code>a ExprControl b\nc 5p3pAssays d\ne Fusion f NoCall g\nh NoCall i Fusion j\nk Fusion l\n</code></pre>\n"}], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 38725475, "answer_count": 1, "score": -2, "last_activity_date": 1470153867, "creation_date": 1470153442, "question_id": 38725319, "link": "https://stackoverflow.com/questions/38725319/filtering-lines-from-file", "title": "Filtering lines from file", "body": "<p>I would like to capture lines from a file that contain:  \"ExprControl\" or \"5p3pAssays\" or \"Fusion\".</p>\n\n<p>However, I would like to skip lines that contain both \u201cFusion\u201d and \u201cNoCall\u201d. How do I correctly omit these lines? The code below fails to skip lines that contain both \"Fusion\" and \"NoCall\". Thank you.</p>\n\n<pre><code>...\n       open my $in_fh, '&lt;', $full_tsv_file\n       or die qq{Unable to open \"$full_tsv_file\" for input: $!};\n\n         while ( &lt;$in_fh&gt; ) {\n\n            next if /^#/;\n            next if /\\b(?:Fusion&amp;NoCall)\\b/;\n     next unless /\\b(?:ExprControl|5p3pAssays|Fusion)\\b/;\n\n\n            my @fields = split('\\t');\n\n            my $location = $fields[$location_col]; $location =~ s/\"//g;\n...\n</code></pre>\n"}, {"tags": ["regex", "bash", "perl"], "comments": [{"owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "edited": false, "score": 0, "creation_date": 1470153482, "post_id": 38724290, "comment_id": 64826549, "body": "Modified the question to include the formats where the 1st part of the number is only 2 digits."}, {"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 1, "creation_date": 1470153794, "post_id": 38724290, "comment_id": 64826800, "body": "Yes, it is possible! ;-P"}, {"owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1470154385, "post_id": 38724290, "comment_id": 64827157, "body": "Modified the solution from Jose to solve my question the regex used is s/&#40;?(\\d+)&#41;?[-.]?(\\d\\d\\d)[-.]?(\\d\\d\\d)/($1)$2-$3/g;"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "edited": false, "score": 0, "creation_date": 1470152030, "post_id": 38724402, "comment_id": 64825491, "body": "@Dren - Yeah but will the format always work to your solution."}, {"owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "edited": false, "score": 0, "creation_date": 1470152303, "post_id": 38724402, "comment_id": 64825685, "body": "@sln Pardon my test showed a loop hole on the solution. it would not work if there is a missing digit on the 1st part. for example: 23.456.7890 but it works if it is 123.456.789"}, {"owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470153523, "post_id": 38724402, "comment_id": 64826576, "body": "@ikegami modified the question to include the patterns mentioned"}, {"owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "edited": false, "score": 0, "creation_date": 1470154272, "post_id": 38724402, "comment_id": 64827084, "body": "@Jose i was able to modify your solution to capture missing digits on the 1st part of the pattern. I made it to look like this s/&#40;?(\\d+)&#41;?[-.]?(\\d\\d\\d)[-.]?(\\d\\d\\d)/($1)$2-$3/g;"}], "tags": [], "owner": {"reputation": 631, "user_id": 2532388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f36529bfd03515462331695824deaa0?s=128&d=identicon&r=PG", "display_name": "Jos&#233; Castro", "link": "https://stackoverflow.com/users/2532388/jos%c3%a9-castro"}, "is_accepted": true, "score": 2, "last_activity_date": 1470151046, "creation_date": 1470151046, "answer_id": 38724402, "question_id": 38724290, "link": "https://stackoverflow.com/questions/38724290/reformat-numbers-using-regex/38724402#38724402", "title": "reformat numbers using regex", "body": "<p>Yes, it is:</p>\n\n<pre><code>s/\\(?(\\d\\d\\d)\\)?[-.]?(\\d\\d\\d)[-.]?(\\d\\d\\d\\d)/($1)$2-$3/g\n</code></pre>\n\n<p>I should mention that the above will also parse the following two:</p>\n\n<pre><code>123)456.7890\n(123456.7890\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": false, "score": 2, "last_activity_date": 1470151705, "last_edit_date": 1470151705, "creation_date": 1470151189, "answer_id": 38724463, "question_id": 38724290, "link": "https://stackoverflow.com/questions/38724290/reformat-numbers-using-regex/38724463#38724463", "title": "reformat numbers using regex", "body": "<p>You can do this using two substitutions:</p>\n\n<pre><code>perl -lpe 's/\\D//g; s/(\\d{3})(\\d{3})(\\d{4})/($1)$2-$3/' file\n</code></pre>\n\n<p>The first one removes all characters that aren't numeric. The second one inserts the desired characters between each group.</p>\n\n<p>You should take into account that this approach will make a mess of any lines that aren't like the ones in your sample input. One means of protecting yourself could be something like this:</p>\n\n<pre><code>if ((@a = /\\d/g ) == 10) { /* perform substitutions */ }\n</code></pre>\n\n<p>i.e. ensure that the number of matches on the line is 10 before proceeding.</p>\n"}], "owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "closed_date": 1470155008, "accepted_answer_id": 38724402, "answer_count": 2, "score": 0, "last_activity_date": 1470153435, "creation_date": 1470150744, "last_edit_date": 1470153435, "question_id": 38724290, "link": "https://stackoverflow.com/questions/38724290/reformat-numbers-using-regex", "closed_reason": "Duplicate", "title": "reformat numbers using regex", "body": "<p>I have a file that contains any of the following number format</p>\n\n<pre><code>12.456.7890\n12-456-7890    \n123.456.7890\n(123)456.7890\n(123).456.7890\n123-456-7890\n(123)-456-7890\n(123)456-7890\n</code></pre>\n\n<p>Is it possible to use regex substitution so that the final output number will always be on a format (123)456-7890 or (12)456-7890</p>\n"}, {"tags": ["perl", "cgi", "mime"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1470149515, "post_id": 38723680, "comment_id": 64823519, "body": "I think you need to include more of your modified unit test file, and possibly also some of the real code in the question. The <code>upload.t</code> file is for unit-testing CGI.pm, while you want to test your code that uses CGI. If you want to test the behavior of your program and trust that CGI does the right thing (that&#39;s what a unit-test is) then you can simply mock the CGI object."}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 1, "creation_date": 1470149892, "post_id": 38723680, "comment_id": 64823820, "body": "CGI has its own tests. Write your code in a way that it can be tested separately."}, {"owner": {"reputation": 3822, "user_id": 792456, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6706944a2a8b4e2d37b330dd64cf9c69?s=128&d=identicon&r=PG", "display_name": "arved", "link": "https://stackoverflow.com/users/792456/arved"}, "edited": false, "score": 0, "creation_date": 1470150177, "post_id": 38723680, "comment_id": 64824061, "body": "thanks simbabque. I added the code for the Environment. Indeed before my CONTENT_LENGTH was wrong. But now cgi_error is set to 400"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470150444, "post_id": 38723680, "comment_id": 64824262, "body": "What is in <code>run()</code>? Is that part of your regular program? In order for this to work, you need to inject the <code>$cgi</code> object into your regular code somehow. Also the <code>local *STDIN</code> without a narrow scope doesn&#39;t really make much sense as it&#39;s scoped until the end of the file like that."}, {"owner": {"reputation": 3822, "user_id": 792456, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6706944a2a8b4e2d37b330dd64cf9c69?s=128&d=identicon&r=PG", "display_name": "arved", "link": "https://stackoverflow.com/users/792456/arved"}, "edited": false, "score": 1, "creation_date": 1470150883, "post_id": 38723680, "comment_id": 64824584, "body": "Sorry for not providing enough context. the injection works, there already about 50 tests."}], "owner": {"reputation": 3822, "user_id": 792456, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6706944a2a8b4e2d37b330dd64cf9c69?s=128&d=identicon&r=PG", "display_name": "arved", "link": "https://stackoverflow.com/users/792456/arved"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1473676433, "creation_date": 1470149210, "last_edit_date": 1470150777, "question_id": 38723680, "link": "https://stackoverflow.com/questions/38723680/how-do-i-unittest-cgi-pms-file-upload", "title": "How do I unittest CGI.pm&#39;s file upload?", "body": "<p>I have a CGI which gets a File uploaded and does something with it.</p>\n\n<p>I would like a Unittest for the fileupload functionality</p>\n\n<p>After reading <a href=\"http://www.perlmonks.org/?node_id=249917\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=249917</a></p>\n\n<p>I tried to adapt the code in CGI.pm's <code>t/upload.t</code></p>\n\n<pre><code>{\n%ENV = (\n%ENV, \n      'SCRIPT_NAME' =&gt; '/data.cgi',\n      'SERVER_NAME' =&gt; 'localhost',\n      'HTTP_CONNECTION' =&gt; 'TE, close',\n      'REQUEST_METHOD' =&gt; 'POST',\n      'SCRIPT_URI' =&gt; 'http://localhost/data.cgi',\n      'CONTENT_LENGTH' =&gt; '160',\n      'SCRIPT_FILENAME' =&gt; '/var/www/cgi-bin/data.cgi',\n      'SERVER_SOFTWARE' =&gt; 'Apache/1.3.27 (Unix) ',\n      'HTTP_TE' =&gt; 'deflate,gzip;q=0.3',\n      'QUERY_STRING' =&gt; '',\n      'REMOTE_PORT' =&gt; '1855',\n      'HTTP_USER_AGENT' =&gt; 'libwww-perl/5.69',\n      'SERVER_PORT' =&gt; '80',\n      'REMOTE_ADDR' =&gt; '127.0.0.1',\n      'CONTENT_TYPE' =&gt; 'multipart/form-data; boundary=xYzZY',\n      'SERVER_PROTOCOL' =&gt; 'HTTP/1.1',\n      'PATH' =&gt; '/usr/local/bin:/usr/bin:/bin',\n      'REQUEST_URI' =&gt; '/data.cgi',\n      'GATEWAY_INTERFACE' =&gt; 'CGI/1.1',\n      'SCRIPT_URL' =&gt; '/data.cgi',\n      'SERVER_ADDR' =&gt; '127.0.0.1',\n      'DOCUMENT_ROOT' =&gt; '/var/www/html',\n      'HTTP_HOST' =&gt; 'localhost'\n    );\n\nlocal *STDIN;\nopen STDIN, '&lt;test.txt' or die 'argh';\nbinmode STDIN;\n\n$cgi = new CGI;\n\nrun()\n}\n</code></pre>\n\n<p>test.txt:</p>\n\n<pre>\n--xYzZY\nContent-Disposition: form-data; name=\"hello_world\"; filename=\"goodbye_world.txt\"\nContent-Length: 13\nContent-Type: text/plain\n\nGoodbye World!\n--xYzZY--\n</pre>\n\n<p>Now i get \"400 Bad request (malformed multipart POST)\" in cgi_error when i try to access the filehandle with</p>\n\n<pre><code>  our $cgi;\n\n  sub run() {\n  $cgi = new CGI unless $cgi;\n  my $upload_fh =  $cgi-&gt;upload('upload');\n  }\n</code></pre>\n"}, {"tags": ["performance", "perl", "file"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1470148981, "post_id": 38723558, "comment_id": 64823156, "body": "... or is there a better way, like using a hash?"}, {"owner": {"reputation": 470, "user_id": 1738447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/690e2b5f3c1f933d0a08c67d1112cbe7?s=128&d=identicon&r=PG", "display_name": "VeZoul", "link": "https://stackoverflow.com/users/1738447/vezoul"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1470149097, "post_id": 38723558, "comment_id": 64823232, "body": "like storing 30 millions lines in a hash and checking if each of the 200k lines is in it ?"}, {"owner": {"reputation": 470, "user_id": 1738447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/690e2b5f3c1f933d0a08c67d1112cbe7?s=128&d=identicon&r=PG", "display_name": "VeZoul", "link": "https://stackoverflow.com/users/1738447/vezoul"}, "edited": false, "score": 0, "creation_date": 1470149813, "post_id": 38723558, "comment_id": 64823754, "body": "Well, my case is a bit specific. In fact, my files are like : File A : name number (per line) File B : name date location number (per line) And I have to check if File B contains the lines matching datas of File A (ignoring date and location for example) So it&#39;s not an exact match, a treatment must be applied before"}], "answers": [{"comments": [{"owner": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "edited": false, "score": 1, "creation_date": 1470149689, "post_id": 38723770, "comment_id": 64823661, "body": "This won&#39;t work if lines can be longer than what SQL database can use as index."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "edited": false, "score": 0, "creation_date": 1470149859, "post_id": 38723770, "comment_id": 64823794, "body": "@MarkusLaire True. Updated my answer."}, {"owner": {"reputation": 470, "user_id": 1738447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/690e2b5f3c1f933d0a08c67d1112cbe7?s=128&d=identicon&r=PG", "display_name": "VeZoul", "link": "https://stackoverflow.com/users/1738447/vezoul"}, "edited": false, "score": 0, "creation_date": 1470149878, "post_id": 38723770, "comment_id": 64823813, "body": "I have to run the program on a machine that has no connection to any server nor a localhost. So the only way is memory storage..."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 470, "user_id": 1738447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/690e2b5f3c1f933d0a08c67d1112cbe7?s=128&d=identicon&r=PG", "display_name": "VeZoul", "link": "https://stackoverflow.com/users/1738447/vezoul"}, "edited": false, "score": 1, "creation_date": 1470149942, "post_id": 38723770, "comment_id": 64823866, "body": "@PierrickFlajoulot SQLite is a file based database. BerkeleyDB also is a file based key-value store. Use as little memory as possible in your program, let the OS cache the data as needed."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 470, "user_id": 1738447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/690e2b5f3c1f933d0a08c67d1112cbe7?s=128&d=identicon&r=PG", "display_name": "VeZoul", "link": "https://stackoverflow.com/users/1738447/vezoul"}, "edited": false, "score": 1, "creation_date": 1470150025, "post_id": 38723770, "comment_id": 64823931, "body": "@Pierrick Flajoulot: <a href=\"https://www.biostars.org/p/106737/#107046\" rel=\"nofollow noreferrer\">This will may helps you</a>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "edited": false, "score": 0, "creation_date": 1470150139, "post_id": 38723770, "comment_id": 64824030, "body": "@MarkusLaire Yes, but the assumption is that the OP does not have enough memory to store the contents of the larger lookup file in memory."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 7, "last_activity_date": 1470150093, "last_edit_date": 1470150093, "creation_date": 1470149419, "answer_id": 38723770, "question_id": 38723558, "link": "https://stackoverflow.com/questions/38723558/how-can-i-match-data-from-two-large-files-in-perl/38723770#38723770", "title": "How can I match data from two large files in Perl?", "body": "<p>You have File A and File B. You want to check if lines in File A appear in File B.</p>\n\n<p>If you have enough memory to hold the contents of File B in a hash using one entry per line, that's the simplest. Go ahead.</p>\n\n<p>However, if you do not, I recommend you put both files in tables in an SQL database. <a href=\"https://sqlite.org/\" rel=\"nofollow\">SQLite</a> might be enough to start. Then, your problem is reduced to a simple <a href=\"https://en.wikipedia.org/wiki/Join_(SQL)\" rel=\"nofollow\"><code>JOIN</code></a>. If line length is an issue, use a fast hash such as <a href=\"https://metacpan.org/pod/Digest::xxHash\" rel=\"nofollow\">xxHash</a>. If implemented correctly, the 64-bit version is blazing fast on a 64-bit machine, especially if you enabled optimizations in your Perl. Store two columns, hash and the actual line. If hashes match, check if the lines match. Make sure to index on the hash column.</p>\n\n<p>You say:</p>\n\n<blockquote>\n  <p>In fact, my files are like : File A : name number (per line) File B : name date location number (per line) And I have to check if File B contains the lines matching datas of File A (ignoring date and location for example) So it's not an exact match ...</p>\n</blockquote>\n\n<p>In that case, you are set. You do not even have to worry about the hash stuff (which I am leaving here for reference). Put the interesting bits of data on which you need to match against in separate columns in an SQLite database. Write a join. ... Profit.</p>\n\n<p>Alternatively, you could use <a href=\"https://metacpan.org/pod/distribution/BerkeleyDB/BerkeleyDB.pod\" rel=\"nofollow\">BerkeleyDB</a> which gives you the conceptual simplicity of having an in memory hash while storing the table on disk. If you have multiple attributes on which to match, this will not scale well.</p>\n"}, {"comments": [{"owner": {"reputation": 470, "user_id": 1738447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/690e2b5f3c1f933d0a08c67d1112cbe7?s=128&d=identicon&r=PG", "display_name": "VeZoul", "link": "https://stackoverflow.com/users/1738447/vezoul"}, "edited": false, "score": 0, "creation_date": 1470211709, "post_id": 38729678, "comment_id": 64850402, "body": "Thanks ! My first test gives me 45 seconds of execution time. I have to improve my search in lines now but I don&#39;t think this will extend execution time that much :)"}], "tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": true, "score": 1, "last_activity_date": 1470169602, "last_edit_date": 1470169602, "creation_date": 1470168970, "answer_id": 38729678, "question_id": 38723558, "link": "https://stackoverflow.com/questions/38723558/how-can-i-match-data-from-two-large-files-in-perl/38729678#38729678", "title": "How can I match data from two large files in Perl?", "body": "<p>Store the first file's lines in a hash, then iterate through the second file without storing it in memory. </p>\n\n<p>It might be counterintuitive to store the first file and iterate the second file as opposed to vice-versa, but it allows you to avoid creating a 30 million element hash.</p>\n\n<pre><code>use feature 'say';\n\nmy ($path_1, $path_2) = @ARGV;\n\nopen my $fh1,\"&lt;\",$path_1;\nmy %f1;\n$f1{$_} = $. while (&lt;$fh1&gt;);\n\nopen my $fh2,\"&lt;\",$path_2;\nwhile (&lt;$fh2&gt;) {\n    if (my $f1_line = $f1{$_}) {\n        say \"file 1 line $f1_line appears in file 2 line $.\";  \n    }\n}\n</code></pre>\n\n<p>Note that without further processing, the duplicated lines will display in the order they appear in the second file, not first.</p>\n\n<p>Also, this assumes file 1 does not have duplicate lines, but that can be handled if necessary.</p>\n"}], "owner": {"reputation": 470, "user_id": 1738447, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/690e2b5f3c1f933d0a08c67d1112cbe7?s=128&d=identicon&r=PG", "display_name": "VeZoul", "link": "https://stackoverflow.com/users/1738447/vezoul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 38729678, "answer_count": 2, "score": 0, "last_activity_date": 1470169602, "creation_date": 1470148883, "last_edit_date": 1470150403, "question_id": 38723558, "link": "https://stackoverflow.com/questions/38723558/how-can-i-match-data-from-two-large-files-in-perl", "title": "How can I match data from two large files in Perl?", "body": "<p>I have 2 (large) files. The first one is about 200k lines, the second one about 30 millions lines.</p>\n\n<p>I want to check if each line of the first one is in the second one using Perl.\nIs it faster to compare directly each line of the first to each line of the second or is it better to store them all in two different arrays and then manipulate arrays?</p>\n"}, {"tags": ["php", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470141302, "post_id": 38719406, "comment_id": 64817215, "body": "Note that <code>pack(&#39;C&#39;, hex($1))</code> is less easy to read, and rather slower than, the equivalent <code>chr hex $1</code>"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 3381968, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6025158f8e726f1c7009795d378e520d?s=128&d=identicon&r=PG&f=1", "display_name": "user3381968", "link": "https://stackoverflow.com/users/3381968/user3381968"}, "edited": false, "score": 0, "creation_date": 1470140425, "post_id": 38719662, "comment_id": 64816666, "body": "can you please tell me that how to implement the same thing in php"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 43, "user_id": 3381968, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6025158f8e726f1c7009795d378e520d?s=128&d=identicon&r=PG&f=1", "display_name": "user3381968", "link": "https://stackoverflow.com/users/3381968/user3381968"}, "edited": false, "score": 0, "creation_date": 1470140551, "post_id": 38719662, "comment_id": 64816748, "body": "See the last paraphraph."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1470140774, "last_edit_date": 1470140774, "creation_date": 1470138606, "answer_id": 38719662, "question_id": 38719406, "link": "https://stackoverflow.com/questions/38719406/not-able-to-understand-the-a-fa-f0-92-packc-hex1-eg-regular-exp/38719662#38719662", "title": "Not able to understand the /\\%([A-Fa-f0-9]{2})/pack(&#39;C&#39;, hex($1))/eg regular Expression", "body": "<p><code>$var =~ s/PAT/EXPR/eg</code> is an operator that replaces all instances of strings matching regex pattern <code>PAT</code> in <code>$var</code> with the result Perl expression <code>EXPR</code> (evaluated for each match). </p>\n\n<p><code>\\%([A-Fa-f0-9]{2})</code> is a regular expression that matches a percent sign (<code>%</code>) followed by two hexadecimal characters. Two the hex characters are captured.</p>\n\n<p><code>pack('C', hex($1))</code> is a Perl expression that returns the character indicated by the captured hex string.</p>\n\n<p>As a whole, the <code>UrlDecode</code> function is used to decode components of URIs, as does PHP's builtin <a href=\"http://php.net/manual/en/function.urldecode.php\" rel=\"nofollow\"><code>urldecode</code></a>. However, you should simply use <code>$_GET['myvar']</code> or <code>$_POST['myvar']</code> if you're trying to extract CGI form variables.</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1470140580, "last_edit_date": 1470140580, "creation_date": 1470138904, "answer_id": 38719762, "question_id": 38719406, "link": "https://stackoverflow.com/questions/38719406/not-able-to-understand-the-a-fa-f0-92-packc-hex1-eg-regular-exp/38719762#38719762", "title": "Not able to understand the /\\%([A-Fa-f0-9]{2})/pack(&#39;C&#39;, hex($1))/eg regular Expression", "body": "<p>You don't need to translate your Perl function line by line as PHP already brings this functionality. The Perl code is equivalent to <a href=\"http://php.net/manual/en/function.urldecode.php\" rel=\"nofollow\">the PHP builtin <code>urldecode</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "is_accepted": false, "score": -1, "last_activity_date": 1470147598, "last_edit_date": 1470147598, "creation_date": 1470139259, "answer_id": 38719877, "question_id": 38719406, "link": "https://stackoverflow.com/questions/38719406/not-able-to-understand-the-a-fa-f0-92-packc-hex1-eg-regular-exp/38719877#38719877", "title": "Not able to understand the /\\%([A-Fa-f0-9]{2})/pack(&#39;C&#39;, hex($1))/eg regular Expression", "body": "<p>The regular expression replaces the hexadecimal representation of a number as a string and replaces it with the character represented by that number. </p>\n\n<p>For example, <code>4A</code> is the hexadecimal representation of <code>74</code>. So the regex would replace instances of the string <code>%4A</code> with the character represented by the number 74.</p>\n\n<pre><code>my $str = \"%4A\"; \nmy $str  =~ s/\\%([A-Fa-f0-9]{2})/pack('C', hex($1))/eg; \nprint $str;\n# J\n</code></pre>\n\n<p>Note that the replacement side of the substitution is Perl code, <em>not</em> regex syntax. The <code>e</code> switch at the end of the <code>s///</code> means that Perl should evaluate the replacement section as code and use the result as the replacement. </p>\n\n<p><code>pack</code> is a useful but somewhat obscure function used to encode and decode binary data in various ways. In this case it's taking a number (<code>hex($1)</code> converts the caputred hex number to base 10) and returning a byte of data (a character) representing that number. You will have to know the encoding scheme used in the encoded url to make sure that character is being interpreted correctly in whatever application is using it.</p>\n"}], "owner": {"reputation": 43, "user_id": 3381968, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6025158f8e726f1c7009795d378e520d?s=128&d=identicon&r=PG&f=1", "display_name": "user3381968", "link": "https://stackoverflow.com/users/3381968/user3381968"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1046, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1470147598, "creation_date": 1470137901, "question_id": 38719406, "link": "https://stackoverflow.com/questions/38719406/not-able-to-understand-the-a-fa-f0-92-packc-hex1-eg-regular-exp", "title": "Not able to understand the /\\%([A-Fa-f0-9]{2})/pack(&#39;C&#39;, hex($1))/eg regular Expression", "body": "<p>I have given a task to Convert a Perl function to PHP \nBut while doing the same ,I came across a regular expression which is Perl and not able to find its alternative in PHP </p>\n\n<pre><code> Perl Function :\n\nsub UrlDecode{\n my $android_desc = shift;\n $android_desc =~ tr/\\+/ /;\n $android_desc =~ s/\\%([A-Fa-f0-9]{2})/pack('C', hex($1))/eg;\n return $android_desc;\n}\n</code></pre>\n\n<p>I am not able to understand the functioning of this function &amp; also I am not able to convert the same in PHP .\nCan anyone please help me .</p>\n"}, {"tags": ["perl", "scripting"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470137456, "post_id": 38719185, "comment_id": 64814489, "body": "Please <a href=\"https://stackoverflow.com/posts/38719185/edit\">edit</a> your question and use proper markup for code. See the <a href=\"http://stackoverflow.com/help/formatting\">markdown help</a> for details on how that works. Please mark code-blocks and inline code appropriately. It is very hard to read your question right now."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470138074, "post_id": 38719185, "comment_id": 64814893, "body": "I&#39;ve tried to format your question better myself, but I can&#39;t be sure of your meaning in several places. Please fix it."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1470138760, "post_id": 38719185, "comment_id": 64815420, "body": "can you define the meaning of  <b>multi-able ranges</b>. I  do not know the meaning."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1470138983, "post_id": 38719185, "comment_id": 64815586, "body": "you can generate those IPs using any loop and there is no need to forth argument. but what do you mean by scan and how the scan will work"}, {"owner": {"reputation": 13, "user_id": 6666999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4762c8299a31f4b7059c0c4ec7b8fc27?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6666999/mike"}, "edited": false, "score": 0, "creation_date": 1470139280, "post_id": 38719185, "comment_id": 64815791, "body": "i need this to ping 192.168.1.x through 192.168.5.x as it is.. it only pings 1 range that i define..the base, the starting  and end ip."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1470140078, "post_id": 38719185, "comment_id": 64816400, "body": "<i>&quot;as it is.. it only pings 1 range that i define&quot;</i> Your code does nothing but copy three arguments from <code>@ARGV</code>. Where is the rest of your program?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470140222, "post_id": 38719185, "comment_id": 64816507, "body": "<i>&quot;Im guessing it would need a 4th argument. like <code>my $extranet=$ARGV[3]</code>&quot;</i> I think you have your answer there. Unless you show what the code already does and what you want it to do with <code>$extranet</code> there&#39;s nothing more to add."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470143684, "post_id": 38719185, "comment_id": 64819015, "body": "If you want to ping everything between <code>192.168.1.0</code> and <code>92.168.5.255</code> then why don&#39;t you just pass those to addresses as parameters? I&#39;m unclear what your fourth parameter is supposed to do."}, {"owner": {"reputation": 13, "user_id": 6666999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4762c8299a31f4b7059c0c4ec7b8fc27?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6666999/mike"}, "edited": false, "score": 0, "creation_date": 1470248587, "post_id": 38719185, "comment_id": 64875810, "body": "Hello Borodin, can you show me a example?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6666999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4762c8299a31f4b7059c0c4ec7b8fc27?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6666999/mike"}, "edited": false, "score": 0, "creation_date": 1470166183, "post_id": 38720253, "comment_id": 64834016, "body": "Thanks so much!!  this will work for 1 range.. can you help and make it for several ranges... for example  192.168.1.1-192.168.2.254?  thank you again! perl.pl 192.168.1 1 254 2 this should check if ip&#39;s 1-254 are active and the last number is for the base going up. the base was 1 so 1+1=2.. please help with this. Thanks!"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 13, "user_id": 6666999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4762c8299a31f4b7059c0c4ec7b8fc27?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6666999/mike"}, "edited": false, "score": 0, "creation_date": 1470200058, "post_id": 38720253, "comment_id": 64844840, "body": "you can take total 5 arguments like <code>perl.pl 192.168. 1 254 1 2</code>  last two arguments for 3rd position of the IP. It will be much easier"}, {"owner": {"reputation": 13, "user_id": 6666999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4762c8299a31f4b7059c0c4ec7b8fc27?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6666999/mike"}, "edited": false, "score": 0, "creation_date": 1470246930, "post_id": 38720253, "comment_id": 64874952, "body": "can you show me a example of that? or how the syntax would be?"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 13, "user_id": 6666999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4762c8299a31f4b7059c0c4ec7b8fc27?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6666999/mike"}, "edited": false, "score": 0, "creation_date": 1470288758, "post_id": 38720253, "comment_id": 64890611, "body": "you can take another for loop for the range for example <code>for(my $j = $start_range ; $j &lt;=$end_range; $j++)</code> to process your range part and create the new ip using <code>$i</code> and <code>$j</code>"}, {"owner": {"reputation": 13, "user_id": 6666999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4762c8299a31f4b7059c0c4ec7b8fc27?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6666999/mike"}, "edited": false, "score": 0, "creation_date": 1470332154, "post_id": 38720253, "comment_id": 64919352, "body": "can you modify the answer to include this change? i don&#39;t understand."}, {"owner": {"reputation": 13, "user_id": 6666999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4762c8299a31f4b7059c0c4ec7b8fc27?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6666999/mike"}, "edited": false, "score": 0, "creation_date": 1470414158, "post_id": 38720253, "comment_id": 64957890, "body": "Hello Arjit, thanks so much, i need help using this code and putting it to this website to make it scan multible ranges <a href=\"http://fm4dd.com/security/check-console-defaults.htm\" rel=\"nofollow noreferrer\">fm4dd.com/security/check-console-defaults.htm</a> can you help me?skp i7monster  pleasee.."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 13, "user_id": 6666999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4762c8299a31f4b7059c0c4ec7b8fc27?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6666999/mike"}, "edited": false, "score": 0, "creation_date": 1470469184, "post_id": 38720253, "comment_id": 64972933, "body": "what kind of problem, you are facing  ? explain it properly.Otherwise its very difficult to help."}, {"owner": {"reputation": 13, "user_id": 6666999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4762c8299a31f4b7059c0c4ec7b8fc27?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6666999/mike"}, "edited": false, "score": 0, "creation_date": 1470852245, "post_id": 38720253, "comment_id": 65122159, "body": "Hi Arjit, I believe i will make you the correct answer for your great work. But Please can you help me by going to this website. and tell me what to modify to make it scan mutible ranges.. like you have there..please! add me to skp"}], "tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": true, "score": -2, "last_activity_date": 1470374816, "last_edit_date": 1470374816, "creation_date": 1470140354, "answer_id": 38720253, "question_id": 38719185, "link": "https://stackoverflow.com/questions/38719185/need-help-to-set-an-argument/38720253#38720253", "title": "need help to set an argument", "body": "<p>Code</p>\n\n<pre><code> use strict;\n use warnings;\n\n use Net::Ping;\n use LWP::UserAgent;\nmy $num_args = $#ARGV + 1;\nif ($num_args != 5) {\n  print \"Usage: perl.pl [network-base] [start_ip] [end_ip] [range_start] [range_end]\\n\\n\";\n  print \"Example: perl.pl 192.168 20 30 1 2\\n\";\n  print \"This will run the check on these IP's: 192.168.1.20- 192.168.2.30.\\n\";\n  exit -1;\n}\n\nmy $basenet=$ARGV[0];\nmy $start_host=$ARGV[1];\nmy $end_host=$ARGV[2];\nmy $range_start =$ARGV[3];\nmy $range_end = $ARGV[4];\n\nfor(my $j =$range_start; $j&lt;= $range_end ;$j++ )\n{\n        for(my $i =$start_host; $i&lt;= $end_host ;$i++)\n        {\n                my $new_ip = \"$basenet.$j.$i\";\n                print \"$new_ip\\n\";\n\n                my $p = Net::Ping-&gt;new();\n                if ($p-&gt;ping($new_ip)) {\n                        print \"$new_ip : active\\n\";\n                }\n                else{\n                        print \"$new_ip : inactive\\n\";\n                }\n\n\n        }\n}\n</code></pre>\n\n<p>The above code will process your basenet , start_host and end_host data and generate a IP based on those iputs and then checks the IP is active or not . </p>\n\n<p>output (running using :  <code>perl abc.pl  192.168 20 30 1 2</code> )</p>\n\n<pre><code>192.168.1.20 : inactive\n192.168.1.21 : inactive\n192.168.1.22 : inactive\n192.168.1.23 : inactive\n192.168.1.24 : inactive\n192.168.1.25 : inactive\n192.168.1.26 : inactive\n192.168.1.27 : inactive\n192.168.1.28 : inactive\n192.168.1.29 : inactive\n192.168.1.30 : inactive\n192.168.2.20 : inactive\n192.168.2.21 : inactive\n192.168.2.22 : inactive\n192.168.2.23 : inactive\n192.168.2.24 : inactive\n192.168.2.25 : inactive\n192.168.2.26 : inactive\n192.168.2.27 : inactive\n192.168.2.28 : inactive\n192.168.2.29 : inactive\n192.168.2.30 : inactive\n</code></pre>\n\n<p>Hope this will help you</p>\n"}], "owner": {"reputation": 13, "user_id": 6666999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4762c8299a31f4b7059c0c4ec7b8fc27?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6666999/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 38720253, "answer_count": 1, "score": -1, "last_activity_date": 1470374816, "creation_date": 1470137273, "last_edit_date": 1470138415, "question_id": 38719185, "link": "https://stackoverflow.com/questions/38719185/need-help-to-set-an-argument", "title": "need help to set an argument", "body": "<p>I need help modifying this code to scan multi-able ranges. It is in perl, however I'm sure you can help me figure out how to get it to take a start and finish and scan through all of the IPs between these 2 point. Here is the code:</p>\n\n<pre><code>#!C:\\Program Files\\perl\\bin\\Perl.exe -w\n\n\n # ------------------------------------------------------------ #\n use Net::Ping;\n use LWP::UserAgent;\n\n# ------------------------------------------------------------ #\n# my $basenet = \"192.168.240\";                                 #\n# my $start_host = 1;                                          #\n# my $end_host = 25;                                           #\n# ------------------------------------------------------------ #\n$num_args = $#ARGV + 1;\nif ($num_args != 3) {\n  print \"Usage: perl.pl [network-base] [start_ip] [end_ip]\\n\\n\";\n  print \"Example: perl.pl 192.168.1 20 44\\n\";\n  print \"This will run the check on these IP's: 192.168.1.20-44.\\n\";\n  exit -1;\n}\n\nmy $basenet=$ARGV[0];\nmy $start_host=$ARGV[1];\nmy $end_host=$ARGV[2];\n</code></pre>\n\n<p>Im guessing it would need a 4th argument. like</p>\n\n<p>my $extranet=$ARGV[3];</p>\n\n<p>Please help.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 5, "creation_date": 1470124472, "post_id": 38714388, "comment_id": 64806078, "body": "Hello Sruthi, did you try something on your own? It will be great, if you can show us <i>what you tried</i> and <i>what problems are you facing</i>. Meanwhile, you should also check <a href=\"http://stackoverflow.com/help/how-to-ask\"><code>How to ask</code></a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1470126107, "post_id": 38714388, "comment_id": 64807019, "body": "This sounds like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. What are you trying to accomplish? Can you show us your code to give us an idea of what you&#39;re doing?"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1470128227, "creation_date": 1470128227, "answer_id": 38715975, "question_id": 38714388, "link": "https://stackoverflow.com/questions/38714388/how-to-do-match-a-word-in-a-line-in-perl-and-remove-it-and-using-them-separately/38715975#38715975", "title": "how to do match a word in a line in perl and remove it and using them separately?", "body": "<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy $count = 0;\n\nwhile (&lt;DATA&gt;) {\n  chomp;\n  for (split / abc /) {\n    $count++;\n    say \"value $count=\", ($count == 1 ? '' : ' '), $_;\n  }\n}\n\n__DATA__\n123 abc xyz\n456 abc sdf\n789 abc ghj\n</code></pre>\n\n<p>Or, perhaps a more data-driven approach to determining which rows omit the space after the <code>=</code>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy %nospace = (\n  1 =&gt; 1,\n);\n\nmy $count = 0;\n\nwhile (&lt;DATA&gt;) {\n  chomp;\n  for (split / abc /) {\n    $count++;\n    say \"value $count=\", ($nospace{$count} ? '' : ' '), $_;\n  }\n}\n\n__DATA__\n123 abc xyz\n456 abc sdf\n789 abc ghj\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6592324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f992ac0d52c3b048d9f0a816928545c6?s=128&d=identicon&r=PG&f=1", "display_name": "Sruthi Chowdavarapu", "link": "https://stackoverflow.com/users/6592324/sruthi-chowdavarapu"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "closed_date": 1470145767, "accepted_answer_id": 38715975, "answer_count": 1, "score": -9, "last_activity_date": 1470128227, "creation_date": 1470123263, "last_edit_date": 1470124380, "question_id": 38714388, "link": "https://stackoverflow.com/questions/38714388/how-to-do-match-a-word-in-a-line-in-perl-and-remove-it-and-using-them-separately", "closed_reason": "Not suitable for this site", "title": "how to do match a word in a line in perl and remove it and using them separately?", "body": "<p>for example in one perl file it is like this:</p>\n\n<pre><code>123 abc xyz\n456 abc sdf\n789 abc ghj\n</code></pre>\n\n<p>Now from above lines I need to separate remove <code>abc</code> and assign </p>\n\n<pre><code>value 1=123\nvalue 2= xyz\nvalue 3= 456\nvalue 4= sdf\n</code></pre>\n\n<p>Help me how to code for above requirement.</p>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1470138102, "post_id": 38712791, "comment_id": 64814914, "body": "Compare to: `perl -we &#39;print qx/ echo $ENV{FOO} /&#39;."}], "answers": [{"comments": [{"owner": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "edited": false, "score": 0, "creation_date": 1470129772, "post_id": 38713005, "comment_id": 64809359, "body": "<a href=\"http://stackoverflow.com/questions/6697753/difference-between-single-and-double-quotes-in-bash\">Here</a> is a more detailed explanation."}], "tags": [], "owner": {"reputation": 6731, "user_id": 725163, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Kgxeq.jpg?s=128&g=1", "display_name": "e.dan", "link": "https://stackoverflow.com/users/725163/e-dan"}, "is_accepted": true, "score": 5, "last_activity_date": 1470118583, "creation_date": 1470118583, "answer_id": 38713005, "question_id": 38712791, "link": "https://stackoverflow.com/questions/38712791/shell-variable-visible-in-double-quoted-perl-one-liner/38713005#38713005", "title": "Shell variable visible in double quoted Perl one-liner", "body": "<p>It's because of shell variable interpolation in double-quoted strings.</p>\n\n<p>The <code>$FOO</code> variable is evaluated in the parent shell - in which <code>$FOO</code> has value <code>bar</code> - and interpolated into the quoted string.</p>\n\n<p>Therefore the perl code you are actually running is:</p>\n\n<pre><code>print qx'echo bar'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "edited": false, "score": 0, "creation_date": 1470128240, "post_id": 38713007, "comment_id": 64808293, "body": "Another way is to use single quotes for the inline Perl code: <code>perl -we &#39;print qx&#39;\\&#39;&#39;echo $FOO&#39;\\&#39;&#39;&#39;</code>."}], "tags": [], "owner": {"reputation": 7547, "user_id": 6019417, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/nA455.jpg?s=128&g=1", "display_name": "J. Chomel", "link": "https://stackoverflow.com/users/6019417/j-chomel"}, "is_accepted": false, "score": 4, "last_activity_date": 1470118589, "creation_date": 1470118589, "answer_id": 38713007, "question_id": 38712791, "link": "https://stackoverflow.com/questions/38712791/shell-variable-visible-in-double-quoted-perl-one-liner/38713007#38713007", "title": "Shell variable visible in double quoted Perl one-liner", "body": "<p>This is because your shell translates the content of <code>$FOO</code> before it is submitted to Perl.</p>\n\n<p>If you want to use this <code>$FOO</code> from your Perl environment, do this:</p>\n\n<pre><code>perl -we \"print qx'echo \\$FOO'\"\n</code></pre>\n\n<p>The shell should translate <code>\\$</code> in to <code>$</code> before passing it away.</p>\n"}], "owner": {"reputation": 1073, "user_id": 1039320, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/28ba137ea03056ffb3a2e6db49ac29cd?s=128&d=identicon&r=PG", "display_name": "jreisinger", "link": "https://stackoverflow.com/users/1039320/jreisinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 38713005, "answer_count": 2, "score": 3, "last_activity_date": 1470118589, "creation_date": 1470117675, "question_id": 38712791, "link": "https://stackoverflow.com/questions/38712791/shell-variable-visible-in-double-quoted-perl-one-liner", "title": "Shell variable visible in double quoted Perl one-liner", "body": "<p>I understand shell variables are local to the current shell while environment variables (the <code>export</code>ed ones) are passed onto child processes forked by the shell.</p>\n\n<p>When I run a Perl one-liner within double quotes I can access the (local) shell variable from the <code>fork</code>ed perl process:</p>\n\n<pre><code>$ FOO=bar\n$ perl -we \"print qx'echo $FOO'\"\nbar\n</code></pre>\n\n<p>Why is that?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470115599, "post_id": 38711725, "comment_id": 64801593, "body": "Try replacing <code>sleep(20);</code> with <code>sleep(20) or warn($!); print(&quot;done\\n&quot;);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1470668224, "last_edit_date": 1470668224, "creation_date": 1470114869, "answer_id": 38712201, "question_id": 38711725, "link": "https://stackoverflow.com/questions/38711725/under-what-circumstances-are-end-blocks-skipped-in-perl/38712201#38712201", "title": "Under what circumstances are END blocks skipped in Perl?", "body": "<p>By default, SIGINT kills the process<sup>[1]</sup>. By kill, I mean the process is immediately terminated by the kernel. The process doesn't get to perform any cleanup.</p>\n\n<p>By setting a handler for SIGINT, you override this behaviour. Instead of killing the process, the signal handler is called. It might not do anything, but its very existence prevented the process from being killed. In this situation, the program won't exit as a result of the signal unless it chooses to exit (by calling <code>die</code> or <code>exit</code> in the handler. If it does, it would get a chance to cleanup as normal.</p>\n\n<p>Note that if a signal for which a handler was defined comes in during a system call, the system call exits with error <code>EINTR</code> in order to allow the program to safely handle the signal. This is why <code>sleep</code> returns as soon as SIGINT is received. </p>\n\n<p>If instead you had used <code>$SIG{INT} = 'IGNORE';</code>, the signal would have been completely ignored. Any systems calls in progress won't be interrupted.</p>\n\n<hr>\n\n<ol>\n<li>On my system, <code>man 1 kill</code> lists the default actions of signals.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 5, "last_activity_date": 1470115047, "creation_date": 1470115047, "answer_id": 38712236, "question_id": 38711725, "link": "https://stackoverflow.com/questions/38711725/under-what-circumstances-are-end-blocks-skipped-in-perl/38712236#38712236", "title": "Under what circumstances are END blocks skipped in Perl?", "body": "<p>Your signal handler <code>$SIG{INT} = sub {}</code> isn't doing nothing, it is trapping the signal and preventing the program from exiting.</p>\n\n<p>But to answer your original question, <code>END</code> blocks, as <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlmod.pod#BEGIN-UNITCHECK-CHECK-INIT-and-END\" rel=\"noreferrer\"><code>perlmod</code></a> says:</p>\n\n<blockquote>\n  <p>is executed as late as possible, that is, after perl has finished running the program and just before the interpreter is being exited, even if it is exiting as a result of a die() function. (But not if it's morphing into another program via exec, or being blown out of the water by a signal--you have to trap that yourself (if you can).)</p>\n</blockquote>\n\n<p>That is, a fatal signal, if not trapped, circumvents Perl's global destruction and does not call <code>END</code> blocks. </p>\n"}], "owner": {"reputation": 5900, "user_id": 931154, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/bTrZd.jpg?s=128&g=1", "display_name": "Gregory Nisbet", "link": "https://stackoverflow.com/users/931154/gregory-nisbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 1, "accepted_answer_id": 38712201, "answer_count": 2, "score": 6, "last_activity_date": 1470668224, "creation_date": 1470111683, "last_edit_date": 1470112423, "question_id": 38711725, "link": "https://stackoverflow.com/questions/38711725/under-what-circumstances-are-end-blocks-skipped-in-perl", "title": "Under what circumstances are END blocks skipped in Perl?", "body": "<p>I have a long-running program that used <code>File::Temp::tempdir</code> to create a temporary file and sometimes interrupted it via <code>^C</code>.</p>\n\n<p>The following program prints the name of the temporary directory it creates and the name of a file in it.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse File::Temp qw[tempdir];\n\nmy $dir = tempdir(CLEANUP =&gt; 1);\nprint \"$dir\\n\";\nprint \"$dir/temp.txt\\n\";\n\n`touch $dir/temp.txt`;\nexit;\n</code></pre>\n\n<p>On OS X, this creates a directory inside <code>/var/folders</code></p>\n\n<p>If the last line is <code>exit;</code> or <code>die;</code>, then the folder will get cleaned up and the temporary file inside it will get deleted.</p>\n\n<p>However, if we replace the last line with <code>sleep 20;</code> and then interrupt the perl program via <code>^C</code>, the temporary directory remains.</p>\n\n<pre><code>% perl maketemp.pl\n/var/folders/dr/cg4fl5m11vg3jfxny3ldfplc0000gn/T/ycilyLSFs6\n/var/folders/dr/cg4fl5m11vg3jfxny3ldfplc0000gn/T/ycilyLSFs6/temp.txt\n^C\n% stat /var/folders/dr/cg4fl5m11vg3jfxny3ldfplc0000gn/T/ycilyLSFs6/temp.txt\n16777220 6589054 -rw-r--r-- 1 &lt;name&gt; staff 0 0 \"Aug  1 20:46:27 2016\" \"Aug  1 20:46:27 2016\" \"Aug  1 20:46:27 2016\" \"Aug  1 20:46:27 2016\" 4096 0 0 \n/var/folders/dr/cg4fl5m11vg3jfxny3ldfplc0000gn/T/ycilyLSFs6/temp.txt\n%\n</code></pre>\n\n<p>using a signal handler that just calls <code>exit;</code> does clean up the directory. E.g.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse File::Temp qw[tempdir];\n\n$SIG{INT} = sub { exit; };\n\nmy $dir = tempdir(CLEANUP =&gt; 1);\nprint \"$dir\\n\";\nprint \"$dir/temp.txt\\n\";\n\n`touch $dir/temp.txt`;\nsleep 20;\n</code></pre>\n\n<p>As does using a \"trivial\" signal handler</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse File::Temp qw[tempdir];\n\n$SIG{INT} = sub { };\n\nmy $dir = tempdir(CLEANUP =&gt; 1);\nprint \"$dir\\n\";\nprint \"$dir/temp.txt\\n\";\n\n`touch $dir/temp.txt`;\nsleep 20;\n</code></pre>\n\n<p>I tried looking through the source code (<a href=\"https://github.com/Perl-Toolchain-Gang/File-Temp/blob/master/lib/File/Temp.pm\" rel=\"noreferrer\">https://github.com/Perl-Toolchain-Gang/File-Temp/blob/master/lib/File/Temp.pm</a>) to determine how <code>tempdir</code> is registering a cleanup action </p>\n\n<p>Here's the exit handler installation</p>\n\n<p><a href=\"https://github.com/Perl-Toolchain-Gang/File-Temp/blob/master/lib/File/Temp.pm#L1716\" rel=\"noreferrer\">https://github.com/Perl-Toolchain-Gang/File-Temp/blob/master/lib/File/Temp.pm#L1716</a></p>\n\n<p>which calls <code>_deferred_unlink</code></p>\n\n<p><a href=\"https://github.com/Perl-Toolchain-Gang/File-Temp/blob/master/lib/File/Temp.pm#L948\" rel=\"noreferrer\">https://github.com/Perl-Toolchain-Gang/File-Temp/blob/master/lib/File/Temp.pm#L948</a></p>\n\n<p>which modified the global hashes <code>%dirs_to_unlink</code> and <code>%files_to_unlink</code>, but uses the pid <code>$$</code> as a key for some reason (probably in case the Perl interpreter forks? Not sure why that's necessary though since removing a directory seems like it would be an idempotent operation.)</p>\n\n<p>The actual logic to clean up the files is here, in the <code>END</code> block.</p>\n\n<p><a href=\"https://github.com/Perl-Toolchain-Gang/File-Temp/blob/master/lib/File/Temp.pm#L878\" rel=\"noreferrer\">https://github.com/Perl-Toolchain-Gang/File-Temp/blob/master/lib/File/Temp.pm#L878</a></p>\n\n<p>A quick experiment shows that <code>END</code> blocks are indeed run when perl has exited normally or abnormally.</p>\n\n<pre><code>sleep 20;\n\nEND {\n    print \"5\\n\";\n}\n\n# does not print 5 when interrupted\n</code></pre>\n\n<p>And are run here</p>\n\n<pre><code>$SIG{INT} = sub {};\nsleep 20;\n\nEND {\n    print \"5\\n\";\n}\n\n# does print 5 when interrupted\n</code></pre>\n\n<p>So ... why does the <code>END</code> block get skipped after a SIGINT unless there's a signal handler, even one that seems like it should do nothing?</p>\n"}, {"tags": ["arrays", "perl", "size", "glob"], "comments": [{"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1470111173, "post_id": 38711581, "comment_id": 64800319, "body": "@user2864740 How do I turn the list into an array in the same statement?"}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1470111266, "post_id": 38711581, "comment_id": 64800340, "body": "Oh, I was so wrong: see <a href=\"http://perldoc.perl.org/perlfunc.html#glob-EXPR\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlfunc.html#glob-EXPR</a> &quot;In <i>scalar context</i>, glob iterates through such filename expansion..&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1470125830, "post_id": 38711675, "comment_id": 64806862, "body": "I&#39;d use concatenation instead of <code>0+</code> to enforce the scalar context - e.g. <code>print &quot;Number of .DOC and .PDF files is: &quot; . ( () = &lt;*.PDF *.DOC&gt; );</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1470135929, "post_id": 38711675, "comment_id": 64813413, "body": "@Dave Cross, That&#39;s what I would use too, and since I&#39;m not sticking to what the OP used anyway, I&#39;ve updated my answer"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 10, "last_activity_date": 1470139211, "last_edit_date": 1470139211, "creation_date": 1470111382, "answer_id": 38711675, "question_id": 38711581, "link": "https://stackoverflow.com/questions/38711581/size-of-array-generated-by/38711675#38711675", "title": "Size of array generated by &lt;&gt;?", "body": "<p>Let's start by clearing up some of your misconceptions.</p>\n\n<ul>\n<li><p><a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\"><code>glob</code></a><sup>[1]</sup> never returns an array. Operators don't return arrays<sup>[2]</sup>; they return scalars. Sometimes none, sometimes one, sometimes many.</p></li>\n<li><p><code>scalar</code> affects operators, not the values they return. Specifically, <code>scalar</code> causes the operator within to be evaluated in scalar context.</p></li>\n<li><p>How an operator is affected by context is up to each individual operator. The only constant is that they must return exactly one scalar in scalar context. There is a lot of <a href=\"http://www.perlmonks.org/?node_id=347416\" rel=\"nofollow\">variety</a> in what they choose to return in scalar context.</p></li>\n</ul>\n\n<p>In scalar context, <code>glob</code> acts an iterator, returning the next item it would have returned in list context, or <code>undef</code> to signal there are no further values to return.</p>\n\n<hr>\n\n<p>Solutions: </p>\n\n<ul>\n<li><p>A memory-efficient solution:</p>\n\n<pre><code>my $num_files = 0;\n++$num_files while &lt;*.PDF *.DOC&gt;; \nprint \"Number of .DOC and .PDF files is: $num_files\\n\";\n</code></pre></li>\n<li><p>A faster solution:</p>\n\n<pre><code>my @qfns = &lt;*.PDF *.DOC&gt;; \nprint \"Number of .DOC and .PDF files is: \" . @qfns . \"\\n\";\n</code></pre></li>\n<li><p>An inlined version of the above:</p>\n\n<pre><code>print \"Number of .DOC and .PDF files is: \" . @{[ &lt;*.PDF *.DOC&gt; ]} . \"\\n\";\n</code></pre></li>\n<li><p>An even faster, less wasteful, but more advanced solution:</p>\n\n<pre><code>print \"Number of .DOC and .PDF files is: \" . ( () = &lt;*.PDF *.DOC&gt; ) . \"\\n\";\n</code></pre>\n\n<p>The <a href=\"http://www.perlmonks.org/?node_id=790129\" rel=\"nofollow\">list assignment operator</a> in scalar context returns the number of scalars returned by its RHS.</p></li>\n<li><p>Cleaner/clearer?</p>\n\n<pre><code>my $num_files = () = &lt;*.PDF *.DOC&gt;;\nprint \"Number of .DOC and .PDF files is: $num_files\\n\";\n</code></pre></li>\n</ul>\n\n<hr>\n\n<ol>\n<li><p><code>&lt;*.PDF *.DOC&gt;</code> is a shortcut for <code>glob(qq&lt;*.PDF *.DOC&gt;)</code></p></li>\n<li><p>Except for <code>@a</code> in certain situations (including <code>\\@a</code>, <code>@a = LIST</code>, and array manipulators like <code>push @a, LIST</code>).</p></li>\n</ol>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1470139211, "creation_date": 1470110697, "question_id": 38711581, "link": "https://stackoverflow.com/questions/38711581/size-of-array-generated-by", "title": "Size of array generated by &lt;&gt;?", "body": "<p>If I want to find the size of an array generated by <code>&lt;&gt;</code>, why doesn't the following work?</p>\n\n<pre><code>print \"Number of .DOC and .PDF files is: \" scalar(&lt;*.PDF *.DOC&gt;);\n</code></pre>\n\n<p>It gives the name of the first matching file instead.</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1470092941, "post_id": 38709309, "comment_id": 64796385, "body": "See also: <a href=\"http://stackoverflow.com/questions/28480241/how-do-i-store-an-array-as-a-value-in-a-perl-hash\">How do I store an array as a value in a Perl hash?</a>."}, {"owner": {"reputation": 49, "user_id": 6607399, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh3.googleusercontent.com/-wfc2Zry9D6M/AAAAAAAAAAI/AAAAAAAAAqI/WSBAsJ-nmls/photo.jpg?sz=128", "display_name": "Mina Shaigan", "link": "https://stackoverflow.com/users/6607399/mina-shaigan"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1470311347, "post_id": 38709309, "comment_id": 64904230, "body": "there is another problem:for each book it print the information of last book"}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 4, "last_activity_date": 1470101181, "last_edit_date": 1470101181, "creation_date": 1470092509, "answer_id": 38709365, "question_id": 38709309, "link": "https://stackoverflow.com/questions/38709309/how-do-i-access-an-array-in-an-array-of-hash-in-perl/38709365#38709365", "title": "How do I access an array in an array of hash in perl?", "body": "<p>The problem here is that the Hash reference you are pushing on the <code>@books</code> array is not be created correctly. </p>\n\n<p>The Hash reference you are creating looks like this: </p>\n\n<pre><code> {  'subject' =&gt; 'hello',\n    'part'    =&gt; 1,\n    '2'       =&gt; 3,\n    '4'       =&gt; 5,\n }\n</code></pre>\n\n<p>when you probably expected it to look like this: </p>\n\n<pre><code>{  'subject' =&gt; 'hello',\n   'part' =&gt; [\n        1,\n        2,\n        3,\n        4,\n        5,\n    ],\n}\n</code></pre>\n\n<p>This is happening because values in Hashes and Arrays <em>have to be</em> SCALAR values. To create the Hash reference correctly to need to store a <em>reference</em> to the <code>@title</code> Array under the key <code>part</code>, you create a reference with a <code>\\</code>:</p>\n\n<pre><code>push @books, { subject =&gt; \"hello\", part =&gt; \\@title };\n</code></pre>\n\n<p>Note: This also means that when you want to extract the <code>part</code> key into the <code>@temp</code> Array you need to de-reference it (since it is an Array reference):</p>\n\n<pre><code>@temp = @{ $books[$i]{part} };\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 6607399, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh3.googleusercontent.com/-wfc2Zry9D6M/AAAAAAAAAAI/AAAAAAAAAqI/WSBAsJ-nmls/photo.jpg?sz=128", "display_name": "Mina Shaigan", "link": "https://stackoverflow.com/users/6607399/mina-shaigan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 38709365, "answer_count": 1, "score": 1, "last_activity_date": 1470101181, "creation_date": 1470092117, "question_id": 38709309, "link": "https://stackoverflow.com/questions/38709309/how-do-i-access-an-array-in-an-array-of-hash-in-perl", "title": "How do I access an array in an array of hash in perl?", "body": "<p>I have an array of hash that one of the value of hash is an array .\n-> I push \"@title\" to \"part\"\nand for print ,\n-> I put each of books{part} in a temporary array to access each element of title but it just print the first element\nI can't access all element of \"title\" in array \"books\"</p>\n\n<pre><code>@books = ();\n@title = (1,2,3,4,5);\npush @books,{subject=&gt;\"hello\" , part =&gt;@title };\nfor($i=0;$i&lt;scalar(@books);++$i)\n{\n    print $books[$i]{subject};\n\n    @temp = $books[$i]{part};\n    for($j=0;$j&lt;scalar(@temp);++$j)\n    {\n        print $temp[$j]; #this print just first element \"1\"\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "csv", "transpose"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1470088057, "post_id": 38708569, "comment_id": 64794824, "body": "What do you mean by &quot;except for the entire input CSV&quot;?"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1470088093, "post_id": 38708569, "comment_id": 64794840, "body": "what is the desired output? are you just trying to extract certain lines from a csv?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1470088252, "post_id": 38708569, "comment_id": 64794918, "body": "What was wrong with <a href=\"http://stackoverflow.com/a/38682489/176646\">Borodin&#39;s solution</a> to your previous question?"}, {"owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "edited": false, "score": 0, "creation_date": 1470089682, "post_id": 38708569, "comment_id": 64795459, "body": "I have looked at that solution and I had the discussion with him that this is using the hardcoded input that is in the <code>__DATA__</code> filehandler. I have tried to modify his answer to use my input filehandler <code>FILE</code> but to no avail. When I asked him, in the comments which have since been deleted, how to accomplish this he became quite hostile."}, {"owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1470089739, "post_id": 38708569, "comment_id": 64795478, "body": "@choroba I mean the <code>CSV</code> is 300+ rows long and i am only after rows 5 - 7"}, {"owner": {"reputation": 2465, "user_id": 302249, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/38c467a8b11ef0dde2bc97919502a047?s=128&d=identicon&r=PG", "display_name": "Dan Walmsley", "link": "https://stackoverflow.com/users/302249/dan-walmsley"}, "edited": false, "score": 0, "creation_date": 1470089911, "post_id": 38708569, "comment_id": 64795536, "body": "Could you please supply a link to an example input file?"}, {"owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "reply_to_user": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1470090033, "post_id": 38708569, "comment_id": 64795577, "body": "@beasy Please see the edited question for the desired output."}, {"owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "reply_to_user": {"reputation": 2465, "user_id": 302249, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/38c467a8b11ef0dde2bc97919502a047?s=128&d=identicon&r=PG", "display_name": "Dan Walmsley", "link": "https://stackoverflow.com/users/302249/dan-walmsley"}, "edited": false, "score": 0, "creation_date": 1470090127, "post_id": 38708569, "comment_id": 64795616, "body": "@DanWalmsley Please see the edited section of the question and I will put both inputs in there, the full <code>CSV</code> (ar and extract of it) and the desired input rows. (Rows 5 - 8)"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "edited": false, "score": 0, "creation_date": 1470092212, "post_id": 38709263, "comment_id": 64796213, "body": "so this is outputting the format I am after but it is missing the rest of the columns (2+) on each of the rows. so it is returning the following: Site Activity, Promotional Activity, Fiscal week, Week, Date but nothing else."}, {"owner": {"reputation": 2465, "user_id": 302249, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/38c467a8b11ef0dde2bc97919502a047?s=128&d=identicon&r=PG", "display_name": "Dan Walmsley", "link": "https://stackoverflow.com/users/302249/dan-walmsley"}, "reply_to_user": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "edited": false, "score": 0, "creation_date": 1470092772, "post_id": 38709263, "comment_id": 64796347, "body": "So you are not getting the same out put in the latest edit? Or is that not the output you are after?"}, {"owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "edited": false, "score": 0, "creation_date": 1470093053, "post_id": 38709263, "comment_id": 64796422, "body": "so the output in your last edit is what I&#39;m after but not what I am getting."}, {"owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "edited": false, "score": 0, "creation_date": 1470093413, "post_id": 38709263, "comment_id": 64796513, "body": "I have only added a <code>close FILE or die $!;</code> line to the very end of the file but even if I comment this out I still get the same."}, {"owner": {"reputation": 2465, "user_id": 302249, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/38c467a8b11ef0dde2bc97919502a047?s=128&d=identicon&r=PG", "display_name": "Dan Walmsley", "link": "https://stackoverflow.com/users/302249/dan-walmsley"}, "reply_to_user": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "edited": false, "score": 0, "creation_date": 1470093791, "post_id": 38709263, "comment_id": 64796605, "body": "Okay that is strange, it may be a Perl version issue or a range of other things. Just to rule out anything silly would you mind trying this <a href=\"https://www.dropbox.com/sh/pt5tg6ocpfrptt9/AADXHGp50VNJ3ThVc6NQRcv7a?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/sh/pt5tg6ocpfrptt9/AADXHGp50VNJ3ThVc6NQRcv7a?dl=&zwnj;&#8203;0</a>  I&#39;ve shared my version of the script and input file. If there are differences there it may explain the problem."}, {"owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "edited": false, "score": 0, "creation_date": 1470094165, "post_id": 38709263, "comment_id": 64796696, "body": "hmmm that seems to output perfectly"}, {"owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "edited": false, "score": 0, "creation_date": 1470094352, "post_id": 38709263, "comment_id": 64796750, "body": "Ahhh got it in the test.pl you have the 2 for loops at the end. I removed them from mine. I have put these back in and it works perfectly. thank you:)"}, {"owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "edited": false, "score": 1, "creation_date": 1470094380, "post_id": 38709263, "comment_id": 64796758, "body": "just realised there was a scroll bar -.- what you get for working on something at midnight."}], "tags": [], "owner": {"reputation": 2465, "user_id": 302249, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/38c467a8b11ef0dde2bc97919502a047?s=128&d=identicon&r=PG", "display_name": "Dan Walmsley", "link": "https://stackoverflow.com/users/302249/dan-walmsley"}, "is_accepted": true, "score": 1, "last_activity_date": 1470092747, "last_edit_date": 1470092747, "creation_date": 1470091837, "answer_id": 38709263, "question_id": 38708569, "link": "https://stackoverflow.com/questions/38708569/transpose-select-lines-in-a-csv-via-perl/38709263#38709263", "title": "Transpose select lines in a CSV via Perl", "body": "<p>I think this is what you are after</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings 'all';\n\nmy @rows = ();\nmy @pivot = ();\n\nopen (FILE, \"test.csv\") or die $!; #Opens File or returns error thrown ($!) \n\nwhile (&lt;FILE&gt;) {\n    if ($. &lt; 4 ) {\n        #next will just go to the next line of the csv\n        next;\n    }\n    elsif ($. &gt; 8) {\n        #last will mean you jump out of the while loop and stop reading the csv\n        last;\n    }\n    #So the regex is a little more complex the brackets are capture groups basically what is in side them will get put in $1, $2 and so on. \n    elsif ($_ =~ /^\\,\\,\\,\\,(.*?)\\,(.*)/) {\n        #in the first group is the header you want\n        # the .* matches every thing, the ? Makes it non greedy (so you will stop with you see the next , \n        # then there is the funny $. == 8 ? I'm checking if your on line 8 , if you are you get the code in the first () else you get the second()\n        # it's called the turnary operator. I want to avoid adding the last comma if we're on the last line\n        $. == 8 ? (print \"$1\") : (print \"$1, \");\n        # now instead of in an else clause you want to grab the rest of the line here. \n        # what was happening before is you were ignoring the rest of the line and only getting into the else when nothing else matched\n        # the $2 contains the rest of the line so basically doing what you were doing before but with $2\n        chomp $2;\n        push @rows, [split /,/, $2];\n    }\n}\n#This is just to separate the header line\nprint \"\\n\";\n\nfor my $row (@rows) {\n    for my $column (0 .. $#{$row}) {\n    push(@{$pivot[$column]}, $row-&gt;[$column]);\n    }\n}\n\nfor my $newrow (@pivot) {\n    for my $newcol (@{$newrow}) {\n    print $newcol,\",\";\n    }\n    print \"\\n\";\n}\n\nclose FILE or die $!;\n</code></pre>\n\n<p>You were close, the main issue was that you were thinking you were dealing with rest of the line in your else block. But you were actually on the lines that were the ones you wanted to throw away</p>\n\n<p>EDIT</p>\n\n<p>I'm getting the following output </p>\n\n<pre><code>Site Activity, Promotional Activity, Fiscal week, Week, Date\nMI Report Outage 14:30 - 15:30,0,18,31,31/7/16,\n03:00 - 09:00 - Level 0 Diverter Installation - SCS Loop,0,18,31,1/8/16,\n03:00 - 09:00 - Level 1 Diverter Installation - SCS Loop,0,18,31,2/8/16,\n0,0,18,31,3/8/16,\n0,0,18,31,4/8/16,\n0,0,18,31,5/8/16,\n0,0,18,31,6/8/16,\nMI Report Outage 14:30 - 15:30,0,19,32,7/8/16,\n0,0,19,32,8/8/16,\nWCS/WMS Release 16.5 - Outage 03:00 - 11:00,0,19,32,9/8/16,\n0,0,19,32,10/8/16,\n0,0,19,32,11/8/16,\n0,0,19,32,12/8/16,\n0,0,19,32,13/8/16,\nMI Report Outage 14:30 - 15:30,0,20,33,14/8/16,\n0,Sparks Preview to Sale,20,33,15/8/16,\n0,Sale,20,33,16/8/16,\n0,Sale,20,33,17/8/16,\n0,Sale,20,33,18/8/16,\n0,Sale,20,33,19/8/16,\n0,Sale,20,33,20/8/16,\nMI Report Outage 14:30 - 15:30,Sale,21,34,21/8/16,\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 38709263, "answer_count": 1, "score": 0, "last_activity_date": 1470092747, "creation_date": 1470087624, "last_edit_date": 1495541693, "question_id": 38708569, "link": "https://stackoverflow.com/questions/38708569/transpose-select-lines-in-a-csv-via-perl", "title": "Transpose select lines in a CSV via Perl", "body": "<p>I know there are already threads about this already (<a href=\"https://stackoverflow.com/questions/18731502/transposing-csv-data-in-perl\">This</a> and <a href=\"https://stackoverflow.com/questions/3249508/transpose-in-perl\">This</a>) but I can't seem to edit <a href=\"https://stackoverflow.com/questions/18731502/transposing-csv-data-in-perl\">This script</a> to only return certain rows in a <code>CSV</code>. I will point out that I am relatively new to <code>Perl</code> and I am/have read the <code>Perl</code> docs for I/O but I can't seem to see what is wrong with my script.</p>\n\n<p>My script currently looks like the following:</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings 'all';\n\nmy @rows = ();\nmy @pivot = ();\n\nopen (FILE, \"EDCNDC-Daily-Volume-Forecast_Ops Forecast by Shift.csv\") or die $!; #Opens File or returns error thrown ($!) \n\nwhile (&lt;FILE&gt;) {\n    if ($. &lt; 4 ) {print \"\"}\n    elsif ($. &gt; 8) {print \"\"}\n    elsif ($_ =~ /^\\,\\,\\,\\,/) {print substr($_,4)}\n    else {\n            chomp;\n            push @rows, [split /,/];\n         }\n}\n\nfor my $row (@rows) {\n    for my $column (0 .. $#{$row}) {\n    push(@{$pivot[$column]}, $row-&gt;[$column]);\n    }\n}\n\nfor my $newrow (@pivot) {\n    for my $newcol (@{$newrow}) {\n    print $newcol,\",\";\n    }\n    print \"\\n\";\n}\n\nclose FILE or die $!;\n</code></pre>\n\n<p>This returns the following:</p>\n\n<pre><code>Site Activity,MI Report Outage 14:30 - 15:30,03:00 - 09:00 - Level 0 Diverter Installation - SCS Loop,03:00 - 09:00 - Level 1 Diverter Installation - SCS Loop,0,0,0,0,MI Report Outage 14:30 - 15:30,0,WCS/WMS Release 16.5 - Outage 03:00 - 11:00,0,0,0,0,MI Report Outage 14:30 - 15:30,0,0,0,0,0,0,MI Re\nport Outage 14:30 - 15:30,0,0,0,0,0,0,MI Report Outage 14:30 - 15:30,Bank Hol,0,0,0,0,0,0,0,0,0,0,0,0,0,0,WCS/WMS Release 16.6 - Outage 03:00 - 11:00,0,0,0,0,0,0,0,0,0,0,0,0,0,WCS/WMS Release 16.7 - Outage 03:00 - 11:00,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n0,0,0\nPromotional Activity,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Sparks Preview to Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale &amp; Cyber,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Sale,Sale,Sale,Sale,Sale,England vs Slovakia,Sale,Sale,Sa\nle,Sale,Sale,Sale,0,0,0,0,F&amp;F,F&amp;F,F&amp;F,F&amp;F,F&amp;F,0,0,0,0,0,0,Sparks Preview to Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,England vs Malta,0,0,0,0,0,0,England vs Malta,0,0,England vs Scotland,0,0,0,0,0,0,0,0,F&amp;F,F&amp;F,F&amp;F,F&amp;F,F&amp;F,0,Home Event,Home Event,Home Event,Home Event,Home Event,H\nome Event,Home Event,0,Cyber,0,0,0,0,0,0,0,0,0,0,0,0,0,F&amp;F &amp; Beauty Advent Calendar Launch (TBC),F&amp;F,F&amp;F,F&amp;F,F&amp;F,0,Black Friday,Black Friday,Black Friday,Black Friday,Black Friday,Black Friday,0,0,Gifting Weekend,Gifting Weekend,Gifting Weekend,Gifting Weekend,Gifting Weekend,0,0,Xmas Countdown,Xmas\n Countdown,Xmas Countdown,Xmas Countdown,Xmas Countdown,0,0,Wrap Up,Wrap Up,Wrap Up,Wrap Up,Wrap Up,0,0,0,0,0,Sale,Sale,Sale,Sale,Sale,Sale,Sale,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Cyber,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,F&amp;F,F&amp;F,F&amp;F,F&amp;F,F&amp;F,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n,0,0,0,0,0,0,0,0,0,0,0,0,0,Mothers Day    England vs Lithuania,0,0,0,0,0,0\nFiscal week,18,18,18,18,18,18,18,19,19,19,19,19,19,19,20,20,20,20,20,20,20,21,21,21,21,21,21,21,22,22,22,22,22,22,22,23,23,23,23,23,23,23,24,24,24,24,24,24,24,25,25,25,25,25,25,25,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,29,29,29,29,29,29,29,30,30,30,30,30,\n30,30,31,31,31,31,31,31,31,32,32,32,32,32,32,32,33,33,33,33,33,33,33,34,34,34,34,34,34,34,35,35,35,35,35,35,35,36,36,36,36,36,36,36,37,37,37,37,37,37,37,38,38,38,38,38,38,38,39,39,39,39,39,39,39,40,40,40,40,40,40,40,41,41,41,41,41,41,41,42,42,42,42,42,42,42,43,43,43,43,43,43,43,44,44,44,44,44,44,44,\n45,45,45,45,45,45,45,46,46,46,46,46,46,46,47,47,47,47,47,47,47,48,48,48,48,48,48,48,49,49,49,49,49,49,49,50,50,50,50,50,50,50,51,51,51,51,51,51,51,52,52,52,52,52,52,52\nWeek,31,31,31,31,31,31,31,32,32,32,32,32,32,32,33,33,33,33,33,33,33,34,34,34,34,34,34,34,35,35,35,35,35,35,35,36,36,36,36,36,36,36,37,37,37,37,37,37,37,38,38,38,38,38,38,38,39,39,39,39,39,39,39,40,40,40,40,40,40,40,40,40,40,40,40,40,40,41,41,41,41,41,41,41,42,42,42,42,42,42,42,43,43,43,43,43,43,43,4\n4,44,44,44,44,44,44,45,45,45,45,45,45,45,46,46,46,46,46,46,46,47,47,47,47,47,47,47,48,48,48,48,48,48,48,49,49,49,49,49,49,49,50,50,50,50,50,50,50,51,51,51,51,51,51,51,52,52,52,52,52,52,52,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4,5,5,5,5,5,5,5,6,6,6,6,6,6,6,7,7,7,7,7,7,7,8,8,8,8,8,8,8,\n9,9,9,9,9,9,9,10,10,10,10,10,10,10,11,11,11,11,11,11,11,12,12,12,12,12,12,12,13,13,13,13,13,13,13\nDate,31/7/16,1/8/16,2/8/16,3/8/16,4/8/16,5/8/16,6/8/16,7/8/16,8/8/16,9/8/16,10/8/16,11/8/16,12/8/16,13/8/16,14/8/16,15/8/16,16/8/16,17/8/16,18/8/16,19/8/16,20/8/16,21/8/16,22/8/16,23/8/16,24/8/16,25/8/16,26/8/16,27/8/16,28/8/16,29/8/16,30/8/16,31/8/16,1/9/16,2/9/16,3/9/16,4/9/16,5/9/16,6/9/16,7/9/16\n,8/9/16,9/9/16,10/9/16,11/9/16,12/9/16,13/9/16,14/9/16,15/9/16,16/9/16,17/9/16,18/9/16,19/9/16,20/9/16,21/9/16,22/9/16,23/9/16,24/9/16,25/9/16,26/9/16,27/9/16,28/9/16,29/9/16,30/9/16,1/10/16,2/10/16,3/10/16,4/10/16,5/10/16,6/10/16,7/10/16,8/10/16,2/10/16,3/10/16,4/10/16,5/10/16,6/10/16,7/10/16,8/10/\n16,09/10/2016,10/10/2016,11/10/2016,12/10/2016,13/10/2016,14/10/2016,15/10/2016,16/10/2016,17/10/2016,18/10/2016,19/10/2016,20/10/2016,21/10/2016,22/10/2016,23/10/2016,24/10/2016,25/10/2016,26/10/2016,27/10/2016,28/10/2016,29/10/2016,30/10/2016,31/10/2016,01/11/2016,02/11/2016,03/11/2016,04/11/2016,\n05/11/2016,06/11/2016,07/11/2016,08/11/2016,09/11/2016,10/11/2016,11/11/2016,12/11/2016,13/11/2016,14/11/2016,15/11/2016,16/11/2016,17/11/2016,18/11/2016,19/11/2016,20/11/2016,21/11/2016,22/11/2016,23/11/2016,24/11/2016,25/11/2016,26/11/2016,27/11/2016,28/11/2016,29/11/2016,30/11/2016,01/12/2016,02/\n12/2016,03/12/2016,04/12/2016,05/12/2016,06/12/2016,07/12/2016,08/12/2016,09/12/2016,10/12/2016,11/12/2016,12/12/2016,13/12/2016,14/12/2016,15/12/2016,16/12/2016,17/12/2016,18/12/2016,19/12/2016,20/12/2016,21/12/2016,22/12/2016,23/12/2016,24/12/2016,25/12/2016,26/12/2016,27/12/2016,28/12/2016,29/12/\n2016,30/12/2016,31/12/2016,01/01/2017,02/01/2017,03/01/2017,04/01/2017,05/01/2017,06/01/2017,07/01/2017,08/01/2017,09/01/2017,10/01/2017,11/01/2017,12/01/2017,13/01/2017,14/01/2017,15/01/2017,16/01/2017,17/01/2017,18/01/2017,19/01/2017,20/01/2017,21/01/2017,22/01/2017,23/01/2017,24/01/2017,25/01/201\n7,26/01/2017,27/01/2017,28/01/2017,29/01/2017,30/01/2017,31/01/2017,01/02/2017,02/02/2017,03/02/2017,04/02/2017,05/02/2017,06/02/2017,07/02/2017,08/02/2017,09/02/2017,10/02/2017,11/02/2017,12/02/2017,13/02/2017,14/02/2017,15/02/2017,16/02/2017,17/02/2017,18/02/2017,19/02/2017,20/02/2017,21/02/2017,2\n2/02/2017,23/02/2017,24/02/2017,25/02/2017,26/02/2017,27/02/2017,28/02/2017,01/03/2017,02/03/2017,03/03/2017,04/03/2017,05/03/2017,06/03/2017,07/03/2017,08/03/2017,09/03/2017,10/03/2017,11/03/2017,12/03/2017,13/03/2017,14/03/2017,15/03/2017,16/03/2017,17/03/2017,18/03/2017,19/03/2017,20/03/2017,21/0\n3/2017,22/03/2017,23/03/2017,24/03/2017,25/03/2017,26/03/2017,27/03/2017,28/03/2017,29/03/2017,30/03/2017,31/03/2017,01/04/2017\n</code></pre>\n\n<p>If I change the script to the following :</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings 'all';\n\nmy @rows = ();\nmy @pivot = ();\n\nopen (FILE, \"EDCNDC-Daily-Volume-Forecast_Ops Forecast by Shift.csv\") or die $!; #Opens File or returns error thrown ($!) \n\nwhile (&lt;FILE&gt;) {\n    chomp;\n    push @rows, [split /,/];\n}\n\nfor my $row (@rows) {\n    for my $column (0 .. $#{$row}) {\n    push(@{$pivot[$column]}, $row-&gt;[$column]);\n    }\n}\n\nfor my $newrow (@pivot) {\n    for my $newcol (@{$newrow}) {\n    print $newcol,\",\";\n    }\n    print \"\\n\";\n}\n\nclose FILE or die $!;\n</code></pre>\n\n<p>It returns the desired output except for the entire input <code>CSV</code></p>\n\n<p>Any help/hints would be greatly appreciated.</p>\n\n<h2>EDIT</h2>\n\n<p>The desired output for this script should be something like the following:</p>\n\n<pre><code>Site Activity, Promotional Activity, Fiscal week, Week, Date\nMI Report Outage 14:30 - 15:30, 0, 18, 31, 31/07/2016\n03:00 - 09:00 - Level 0 Diverter Installation - SCS Loop, 0, 18, 31, 01/08/2016\n03:00 - 09:00 - Level 1 Diverter Installation - SCS Loop, 0, 18, 31, 02/08/2016\n0, 0, 18, 31, 03/08/2016\n0, 0, 18, 31, 04/08/2016\n</code></pre>\n\n<h1>EDIT 2</h1>\n\n<p>Input file without stripping it down:</p>\n\n<pre><code>EDCNDC  -Daily Volume Forecast,,,,,Issued,28th July,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\nw/c 31st August,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\n,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\n,,,,Site Activity,MI Report Outage 14:30 - 15:30,03:00 - 09:00 - Level 0 Diverter Installation - SCS Loop,03:00 - 09:00 - Level 1 Diverter Installation - SCS Loop,0,0,0,0,MI Report Outage 14:30 - 15:30,0,WCS/WMS Release 16.5 - Outage 03:00 - 11:00,0,0,0,0,MI Report Outage 14:30 - 15:30,0,0,0,0,0,0,MI Report Outage 14:30 - 15:30,0,0,0,0,0,0,MI Report Outage 14:30 - 15:30,Bank Hol,0,0,0,0,0,0,0,0,0,0,0,0,0,0,WCS/WMS Release 16.6 - Outage 03:00 - 11:00,0,0,0,0,0,0,0,0,0,0,0,0,0,WCS/WMS Release 16.7 - Outage 03:00 - 11:00,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\n,,,,Promotional Activity,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Sparks Preview to Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale &amp; Cyber,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Sale,Sale,Sale,Sale,Sale,England vs Slovakia,Sale,Sale,Sale,Sale,Sale,Sale,0,0,0,0,F&amp;F,F&amp;F,F&amp;F,F&amp;F,F&amp;F,0,0,0,0,0,0,Sparks Preview to Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,England vs Malta,0,0,0,0,0,0,England vs Malta,0,0,England vs Scotland,0,0,0,0,0,0,0,0,F&amp;F,F&amp;F,F&amp;F,F&amp;F,F&amp;F,0,Home Event,Home Event,Home Event,Home Event,Home Event,Home Event,Home Event,0,Cyber,0,0,0,0,0,0,0,0,0,0,0,0,0,F&amp;F &amp; Beauty Advent Calendar Launch (TBC),F&amp;F,F&amp;F,F&amp;F,F&amp;F,0,Black Friday,Black Friday,Black Friday,Black Friday,Black Friday,Black Friday,0,0,Gifting Weekend,Gifting Weekend,Gifting Weekend,Gifting Weekend,Gifting Weekend,0,0,Xmas Countdown,Xmas Countdown,Xmas Countdown,Xmas Countdown,Xmas Countdown,0,0,Wrap Up,Wrap Up,Wrap Up,Wrap Up,Wrap Up,0,0,0,0,0,Sale,Sale,Sale,Sale,Sale,Sale,Sale,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Cyber,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,F&amp;F,F&amp;F,F&amp;F,F&amp;F,F&amp;F,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Mothers Day    England vs Lithuania,0,0,0,0,0,0\n,,,,Fiscal week,18,18,18,18,18,18,18,19,19,19,19,19,19,19,20,20,20,20,20,20,20,21,21,21,21,21,21,21,22,22,22,22,22,22,22,23,23,23,23,23,23,23,24,24,24,24,24,24,24,25,25,25,25,25,25,25,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,29,29,29,29,29,29,29,30,30,30,30,30,30,30,31,31,31,31,31,31,31,32,32,32,32,32,32,32,33,33,33,33,33,33,33,34,34,34,34,34,34,34,35,35,35,35,35,35,35,36,36,36,36,36,36,36,37,37,37,37,37,37,37,38,38,38,38,38,38,38,39,39,39,39,39,39,39,40,40,40,40,40,40,40,41,41,41,41,41,41,41,42,42,42,42,42,42,42,43,43,43,43,43,43,43,44,44,44,44,44,44,44,45,45,45,45,45,45,45,46,46,46,46,46,46,46,47,47,47,47,47,47,47,48,48,48,48,48,48,48,49,49,49,49,49,49,49,50,50,50,50,50,50,50,51,51,51,51,51,51,51,52,52,52,52,52,52,52\n,,,,Week,31,31,31,31,31,31,31,32,32,32,32,32,32,32,33,33,33,33,33,33,33,34,34,34,34,34,34,34,35,35,35,35,35,35,35,36,36,36,36,36,36,36,37,37,37,37,37,37,37,38,38,38,38,38,38,38,39,39,39,39,39,39,39,40,40,40,40,40,40,40,40,40,40,40,40,40,40,41,41,41,41,41,41,41,42,42,42,42,42,42,42,43,43,43,43,43,43,43,44,44,44,44,44,44,44,45,45,45,45,45,45,45,46,46,46,46,46,46,46,47,47,47,47,47,47,47,48,48,48,48,48,48,48,49,49,49,49,49,49,49,50,50,50,50,50,50,50,51,51,51,51,51,51,51,52,52,52,52,52,52,52,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4,5,5,5,5,5,5,5,6,6,6,6,6,6,6,7,7,7,7,7,7,7,8,8,8,8,8,8,8,9,9,9,9,9,9,9,10,10,10,10,10,10,10,11,11,11,11,11,11,11,12,12,12,12,12,12,12,13,13,13,13,13,13,13\n,,,,Date,31/7/16,1/8/16,2/8/16,3/8/16,4/8/16,5/8/16,6/8/16,7/8/16,8/8/16,9/8/16,10/8/16,11/8/16,12/8/16,13/8/16,14/8/16,15/8/16,16/8/16,17/8/16,18/8/16,19/8/16,20/8/16,21/8/16,22/8/16,23/8/16,24/8/16,25/8/16,26/8/16,27/8/16,28/8/16,29/8/16,30/8/16,31/8/16,1/9/16,2/9/16,3/9/16,4/9/16,5/9/16,6/9/16,7/9/16,8/9/16,9/9/16,10/9/16,11/9/16,12/9/16,13/9/16,14/9/16,15/9/16,16/9/16,17/9/16,18/9/16,19/9/16,20/9/16,21/9/16,22/9/16,23/9/16,24/9/16,25/9/16,26/9/16,27/9/16,28/9/16,29/9/16,30/9/16,1/10/16,2/10/16,3/10/16,4/10/16,5/10/16,6/10/16,7/10/16,8/10/16,2/10/16,3/10/16,4/10/16,5/10/16,6/10/16,7/10/16,8/10/16,09/10/2016,10/10/2016,11/10/2016,12/10/2016,13/10/2016,14/10/2016,15/10/2016,16/10/2016,17/10/2016,18/10/2016,19/10/2016,20/10/2016,21/10/2016,22/10/2016,23/10/2016,24/10/2016,25/10/2016,26/10/2016,27/10/2016,28/10/2016,29/10/2016,30/10/2016,31/10/2016,01/11/2016,02/11/2016,03/11/2016,04/11/2016,05/11/2016,06/11/2016,07/11/2016,08/11/2016,09/11/2016,10/11/2016,11/11/2016,12/11/2016,13/11/2016,14/11/2016,15/11/2016,16/11/2016,17/11/2016,18/11/2016,19/11/2016,20/11/2016,21/11/2016,22/11/2016,23/11/2016,24/11/2016,25/11/2016,26/11/2016,27/11/2016,28/11/2016,29/11/2016,30/11/2016,01/12/2016,02/12/2016,03/12/2016,04/12/2016,05/12/2016,06/12/2016,07/12/2016,08/12/2016,09/12/2016,10/12/2016,11/12/2016,12/12/2016,13/12/2016,14/12/2016,15/12/2016,16/12/2016,17/12/2016,18/12/2016,19/12/2016,20/12/2016,21/12/2016,22/12/2016,23/12/2016,24/12/2016,25/12/2016,26/12/2016,27/12/2016,28/12/2016,29/12/2016,30/12/2016,31/12/2016,01/01/2017,02/01/2017,03/01/2017,04/01/2017,05/01/2017,06/01/2017,07/01/2017,08/01/2017,09/01/2017,10/01/2017,11/01/2017,12/01/2017,13/01/2017,14/01/2017,15/01/2017,16/01/2017,17/01/2017,18/01/2017,19/01/2017,20/01/2017,21/01/2017,22/01/2017,23/01/2017,24/01/2017,25/01/2017,26/01/2017,27/01/2017,28/01/2017,29/01/2017,30/01/2017,31/01/2017,01/02/2017,02/02/2017,03/02/2017,04/02/2017,05/02/2017,06/02/2017,07/02/2017,08/02/2017,09/02/2017,10/02/2017,11/02/2017,12/02/2017,13/02/2017,14/02/2017,15/02/2017,16/02/2017,17/02/2017,18/02/2017,19/02/2017,20/02/2017,21/02/2017,22/02/2017,23/02/2017,24/02/2017,25/02/2017,26/02/2017,27/02/2017,28/02/2017,01/03/2017,02/03/2017,03/03/2017,04/03/2017,05/03/2017,06/03/2017,07/03/2017,08/03/2017,09/03/2017,10/03/2017,11/03/2017,12/03/2017,13/03/2017,14/03/2017,15/03/2017,16/03/2017,17/03/2017,18/03/2017,19/03/2017,20/03/2017,21/03/2017,22/03/2017,23/03/2017,24/03/2017,25/03/2017,26/03/2017,27/03/2017,28/03/2017,29/03/2017,30/03/2017,31/03/2017,01/04/2017\nFunction,Stock Type,Process,Unit,Shift,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,\nInbound,Boxed,Total Boxed Inbound,Singles,Nights,28753,40776,40776,40776,40776,40776,28753,30776,54628,27699,54628,54628,54628,30776,33886,48057,48057,48057,48057,48057,33886,34232,48547,48547,48547,48547,48547,34232,31036,44014,44014,44014,44014,44014,31036,27777,39394,39394,39394,39394,39394,27777,28758,51046,25883,51046,51046,51046,28758,29189,41396,41396,41396,41396,41396,29189,26718,46756,46756,26718,46756,46756,26718,44613,63270,63270,63270,63270,63270,44613,39952,56660,56660,56660,56660,56660,39952,42442.17878,60190.72627,60190.72627,60190.72627,60190.72627,60190.72627,42442.17878,36979.88005,52444.19353,52444.19353,52444.19353,52444.19353,52444.19353,36979.88005,40308.06908,57164.17069,57164.17069,57164.17069,57164.17069,57164.17069,40308.06908,46676.58717,66195.88726,66195.88726,66195.88726,66195.88726,66195.88726,46676.58717,39409.75945,55890.20431,55890.20431,55890.20431,55890.20431,55890.20431,39409.75945,43296.5707,61402.40936,61402.40936,61402.40936,61402.40936,61402.40936,43296.5707,42459.3679,60215.10356,60215.10356,60215.10356,60215.10356,60215.10356,42459.3679,46535.68254,65996.05887,65996.05887,65996.05887,65996.05887,65996.05887,46535.68254,39267.83205,55688.92545,55688.92545,55688.92545,55688.92545,55688.92545,39267.83205,35169.72953,49877.07097,49877.07097,49877.07097,49877.07097,49877.07097,35169.72953,28787.26072,40825.56974,40825.56974,40825.56974,40825.56974,40825.56974,28787.26072,0,34683.57367,32858.12242,27381.76869,23730.86619,36509.02491,27381.76869,7889.088977,29978.53811,28400.72032,23667.26693,20511.63134,31556.35591,15778.17795,34548.03526,48995.39545,48995.39545,48995.39545,48995.39545,48995.39545,34548.03526,29586.82654,41959.49946,41959.49946,41959.49946,41959.49946,41959.49946,29586.82654,29142.11368,41328.81577,41328.81577,41328.81577,41328.81577,41328.81577,29142.11368,24446.63191,34669.7689,34669.7689,34669.7689,34669.7689,34669.7689,24446.63191,21871.48748,31017.74588,17894.85339,31813.07269,35789.70678,31017.74588,21871.48748,25878.56489,36700.51021,36700.51021,36700.51021,36700.51021,36700.51021,25878.56489,34473.60269,48889.83655,48889.83655,48889.83655,48889.83655,48889.83655,34473.60269,25470.73167,36122.12855,36122.12855,36122.12855,36122.12855,36122.12855,25470.73167,18392.09341,26083.33247,26083.33247,26083.33247,26083.33247,26083.33247,18392.09341,17921.55403,25416.02208,25416.02208,25416.02208,25416.02208,25416.02208,17921.55403,28883.3673,40961.86635,40961.86635,40961.86635,40961.86635,40961.86635,28883.3673,24868.17244,35267.59001,35267.59001,35267.59001,35267.59001,35267.59001,24868.17244\n,,Total Boxed Inbound,Singles,AM,28753,40776,40776,40776,40776,40776,28753,30776,54628,27699,54628,54628,54628,30776,33886,48057,48057,48057,48057,48057,33886,34232,48547,48547,48547,48547,48547,34232,31036,44014,44014,44014,44014,44014,31036,27777,39394,39394,39394,39394,39394,27777,28758,51046,25883,51046,51046,51046,28758,29189,41396,41396,41396,41396,41396,29189,26718,46756,46756,26718,46756,46756,26718,44613,63270,63270,63270,63270,63270,44613,39952,56660,56660,56660,56660,56660,39952,42442.17878,60190.72627,60190.72627,60190.72627,60190.72627,60190.72627,42442.17878,36979.88005,52444.19353,52444.19353,52444.19353,52444.19353,52444.19353,36979.88005,40308.06908,57164.17069,57164.17069,57164.17069,57164.17069,57164.17069,40308.06908,46676.58717,66195.88726,66195.88726,66195.88726,66195.88726,66195.88726,46676.58717,39409.75945,55890.20431,55890.20431,55890.20431,55890.20431,55890.20431,39409.75945,43296.5707,61402.40936,61402.40936,61402.40936,61402.40936,61402.40936,43296.5707,42459.3679,60215.10356,60215.10356,60215.10356,60215.10356,60215.10356,42459.3679,46535.68254,65996.05887,65996.05887,65996.05887,65996.05887,65996.05887,46535.68254,39267.83205,55688.92545,55688.92545,55688.92545,55688.92545,55688.92545,39267.83205,35169.72953,49877.07097,49877.07097,49877.07097,49877.07097,49877.07097,35169.72953,28787.26072,40825.56974,40825.56974,40825.56974,40825.56974,40825.56974,28787.26072,0,34683.57367,32858.12242,27381.76869,23730.86619,36509.02491,27381.76869,7889.088977,29978.53811,28400.72032,23667.26693,20511.63134,31556.35591,15778.17795,34548.03526,48995.39545,48995.39545,48995.39545,48995.39545,48995.39545,34548.03526,29586.82654,41959.49946,41959.49946,41959.49946,41959.49946,41959.49946,29586.82654,29142.11368,41328.81577,41328.81577,41328.81577,41328.81577,41328.81577,29142.11368,24446.63191,34669.7689,34669.7689,34669.7689,34669.7689,34669.7689,24446.63191,21871.48748,31017.74588,17894.85339,31813.07269,35789.70678,31017.74588,21871.48748,25878.56489,36700.51021,36700.51021,36700.51021,36700.51021,36700.51021,25878.56489,34473.60269,48889.83655,48889.83655,48889.83655,48889.83655,48889.83655,34473.60269,25470.73167,36122.12855,36122.12855,36122.12855,36122.12855,36122.12855,25470.73167,18392.09341,26083.33247,26083.33247,26083.33247,26083.33247,26083.33247,18392.09341,17921.55403,25416.02208,25416.02208,25416.02208,25416.02208,25416.02208,17921.55403,28883.3673,40961.86635,40961.86635,40961.86635,40961.86635,40961.86635,28883.3673,24868.17244,35267.59001,35267.59001,35267.59001,35267.59001,35267.59001,24868.17244\n</code></pre>\n\n<p>Input after the following section of code:</p>\n\n<pre><code>...\nif ($. &lt; 4 ) {print \"\"}\nelsif ($. &gt; 8) {print \"\"}\nelsif ($_ =~ /^\\,\\,\\,\\,/) {print substr($_,4)} #Tidy up excess white space\n...\n</code></pre>\n\n<p>This outputs the following:</p>\n\n<pre><code>Site Activity,MI Report Outage 14:30 - 15:30,03:00 - 09:00 - Level 0 Diverter Installation - SCS Loop,03:00 - 09:00 - Level 1 Diverter Installation - SCS Loop,0,0,0,0,MI Report Outage 14:30 - 15:30,0,WCS/WMS Release 16.5 - Outage 03:00 - 11:00,0,0,0,0,MI Report Outage 14:30 - 15:30,0,0,0,0,0,0,MI Report Outage 14:30 - 15:30,0,0,0,0,0,0,MI Report Outage 14:30 - 15:30,Bank Hol,0,0,0,0,0,0,0,0,0,0,0,0,0,0,WCS/WMS Release 16.6 - Outage 03:00 - 11:00,0,0,0,0,0,0,0,0,0,0,0,0,0,WCS/WMS Release 16.7 - Outage 03:00 - 11:00,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0\nPromotional Activity,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Sparks Preview to Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale &amp; Cyber,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Home Event &amp; Sale,Sale,Sale,Sale,Sale,Sale,England vs Slovakia,Sale,Sale,Sale,Sale,Sale,Sale,0,0,0,0,F&amp;F,F&amp;F,F&amp;F,F&amp;F,F&amp;F,0,0,0,0,0,0,Sparks Preview to Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,Sale,England vs Malta,0,0,0,0,0,0,England vs Malta,0,0,England vs Scotland,0,0,0,0,0,0,0,0,F&amp;F,F&amp;F,F&amp;F,F&amp;F,F&amp;F,0,Home Event,Home Event,Home Event,Home Event,Home Event,Home Event,Home Event,0,Cyber,0,0,0,0,0,0,0,0,0,0,0,0,0,F&amp;F &amp; Beauty Advent Calendar Launch (TBC),F&amp;F,F&amp;F,F&amp;F,F&amp;F,0,Black Friday,Black Friday,Black Friday,Black Friday,Black Friday,Black Friday,0,0,Gifting Weekend,Gifting Weekend,Gifting Weekend,Gifting Weekend,Gifting Weekend,0,0,Xmas Countdown,Xmas Countdown,Xmas Countdown,Xmas Countdown,Xmas Countdown,0,0,Wrap Up,Wrap Up,Wrap Up,Wrap Up,Wrap Up,0,0,0,0,0,Sale,Sale,Sale,Sale,Sale,Sale,Sale,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Cyber,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,F&amp;F,F&amp;F,F&amp;F,F&amp;F,F&amp;F,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Mothers Day    England vs Lithuania,0,0,0,0,0,0\nFiscal week,18,18,18,18,18,18,18,19,19,19,19,19,19,19,20,20,20,20,20,20,20,21,21,21,21,21,21,21,22,22,22,22,22,22,22,23,23,23,23,23,23,23,24,24,24,24,24,24,24,25,25,25,25,25,25,25,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,29,29,29,29,29,29,29,30,30,30,30,30,30,30,31,31,31,31,31,31,31,32,32,32,32,32,32,32,33,33,33,33,33,33,33,34,34,34,34,34,34,34,35,35,35,35,35,35,35,36,36,36,36,36,36,36,37,37,37,37,37,37,37,38,38,38,38,38,38,38,39,39,39,39,39,39,39,40,40,40,40,40,40,40,41,41,41,41,41,41,41,42,42,42,42,42,42,42,43,43,43,43,43,43,43,44,44,44,44,44,44,44,45,45,45,45,45,45,45,46,46,46,46,46,46,46,47,47,47,47,47,47,47,48,48,48,48,48,48,48,49,49,49,49,49,49,49,50,50,50,50,50,50,50,51,51,51,51,51,51,51,52,52,52,52,52,52,52\nWeek,31,31,31,31,31,31,31,32,32,32,32,32,32,32,33,33,33,33,33,33,33,34,34,34,34,34,34,34,35,35,35,35,35,35,35,36,36,36,36,36,36,36,37,37,37,37,37,37,37,38,38,38,38,38,38,38,39,39,39,39,39,39,39,40,40,40,40,40,40,40,40,40,40,40,40,40,40,41,41,41,41,41,41,41,42,42,42,42,42,42,42,43,43,43,43,43,43,43,44,44,44,44,44,44,44,45,45,45,45,45,45,45,46,46,46,46,46,46,46,47,47,47,47,47,47,47,48,48,48,48,48,48,48,49,49,49,49,49,49,49,50,50,50,50,50,50,50,51,51,51,51,51,51,51,52,52,52,52,52,52,52,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4,5,5,5,5,5,5,5,6,6,6,6,6,6,6,7,7,7,7,7,7,7,8,8,8,8,8,8,8,9,9,9,9,9,9,9,10,10,10,10,10,10,10,11,11,11,11,11,11,11,12,12,12,12,12,12,12,13,13,13,13,13,13,13\nDate,31/7/16,1/8/16,2/8/16,3/8/16,4/8/16,5/8/16,6/8/16,7/8/16,8/8/16,9/8/16,10/8/16,11/8/16,12/8/16,13/8/16,14/8/16,15/8/16,16/8/16,17/8/16,18/8/16,19/8/16,20/8/16,21/8/16,22/8/16,23/8/16,24/8/16,25/8/16,26/8/16,27/8/16,28/8/16,29/8/16,30/8/16,31/8/16,1/9/16,2/9/16,3/9/16,4/9/16,5/9/16,6/9/16,7/9/16,8/9/16,9/9/16,10/9/16,11/9/16,12/9/16,13/9/16,14/9/16,15/9/16,16/9/16,17/9/16,18/9/16,19/9/16,20/9/16,21/9/16,22/9/16,23/9/16,24/9/16,25/9/16,26/9/16,27/9/16,28/9/16,29/9/16,30/9/16,1/10/16,2/10/16,3/10/16,4/10/16,5/10/16,6/10/16,7/10/16,8/10/16,2/10/16,3/10/16,4/10/16,5/10/16,6/10/16,7/10/16,8/10/16,09/10/2016,10/10/2016,11/10/2016,12/10/2016,13/10/2016,14/10/2016,15/10/2016,16/10/2016,17/10/2016,18/10/2016,19/10/2016,20/10/2016,21/10/2016,22/10/2016,23/10/2016,24/10/2016,25/10/2016,26/10/2016,27/10/2016,28/10/2016,29/10/2016,30/10/2016,31/10/2016,01/11/2016,02/11/2016,03/11/2016,04/11/2016,05/11/2016,06/11/2016,07/11/2016,08/11/2016,09/11/2016,10/11/2016,11/11/2016,12/11/2016,13/11/2016,14/11/2016,15/11/2016,16/11/2016,17/11/2016,18/11/2016,19/11/2016,20/11/2016,21/11/2016,22/11/2016,23/11/2016,24/11/2016,25/11/2016,26/11/2016,27/11/2016,28/11/2016,29/11/2016,30/11/2016,01/12/2016,02/12/2016,03/12/2016,04/12/2016,05/12/2016,06/12/2016,07/12/2016,08/12/2016,09/12/2016,10/12/2016,11/12/2016,12/12/2016,13/12/2016,14/12/2016,15/12/2016,16/12/2016,17/12/2016,18/12/2016,19/12/2016,20/12/2016,21/12/2016,22/12/2016,23/12/2016,24/12/2016,25/12/2016,26/12/2016,27/12/2016,28/12/2016,29/12/2016,30/12/2016,31/12/2016,01/01/2017,02/01/2017,03/01/2017,04/01/2017,05/01/2017,06/01/2017,07/01/2017,08/01/2017,09/01/2017,10/01/2017,11/01/2017,12/01/2017,13/01/2017,14/01/2017,15/01/2017,16/01/2017,17/01/2017,18/01/2017,19/01/2017,20/01/2017,21/01/2017,22/01/2017,23/01/2017,24/01/2017,25/01/2017,26/01/2017,27/01/2017,28/01/2017,29/01/2017,30/01/2017,31/01/2017,01/02/2017,02/02/2017,03/02/2017,04/02/2017,05/02/2017,06/02/2017,07/02/2017,08/02/2017,09/02/2017,10/02/2017,11/02/2017,12/02/2017,13/02/2017,14/02/2017,15/02/2017,16/02/2017,17/02/2017,18/02/2017,19/02/2017,20/02/2017,21/02/2017,22/02/2017,23/02/2017,24/02/2017,25/02/2017,26/02/2017,27/02/2017,28/02/2017,01/03/2017,02/03/2017,03/03/2017,04/03/2017,05/03/2017,06/03/2017,07/03/2017,08/03/2017,09/03/2017,10/03/2017,11/03/2017,12/03/2017,13/03/2017,14/03/2017,15/03/2017,16/03/2017,17/03/2017,18/03/2017,19/03/2017,20/03/2017,21/03/2017,22/03/2017,23/03/2017,24/03/2017,25/03/2017,26/03/2017,27/03/2017,28/03/2017,29/03/2017,30/03/2017,31/03/2017,01/04/2017\n</code></pre>\n"}, {"tags": ["perl", "passwords", "expect.pm"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1470107744, "post_id": 38704757, "comment_id": 64799605, "body": "Try putting it in single quotes <code>&#39;@password&#39;</code>"}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1470113706, "post_id": 38704757, "comment_id": 64801015, "body": "Have you tried setting <code>$Expect::Exp_Internal = 1;</code>? I&#39;m no expert on Expect but I&#39;d, uh, expect it to be rather brittle when faced with programs like telnet that want to talk to a terminal and do fancy things like turning echo on and off. If <code>@</code> is in any way special to Expect, perhaps you need <code>&quot;\\\\\\@password&quot;</code> or, simpler, &#39;\\@password&#39;. Failing that, communicating with the service yourself using <code>Net::TCP</code> or something may be more robust."}, {"owner": {"reputation": 11, "user_id": 6664396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af1767ba5b71a7e2a7c5e946eb30f70b?s=128&d=identicon&r=PG&f=1", "display_name": "A. P.", "link": "https://stackoverflow.com/users/6664396/a-p"}, "edited": false, "score": 0, "creation_date": 1470126837, "post_id": 38704757, "comment_id": 64807446, "body": "I have already tried with single quotes, but it doesn&#39;t work."}, {"owner": {"reputation": 11, "user_id": 6664396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af1767ba5b71a7e2a7c5e946eb30f70b?s=128&d=identicon&r=PG&f=1", "display_name": "A. P.", "link": "https://stackoverflow.com/users/6664396/a-p"}, "edited": false, "score": 0, "creation_date": 1470126907, "post_id": 38704757, "comment_id": 64807491, "body": "Thanks for the advice, I have tried to set $Expect::Exp_Internal = 1; and I saw that anyway my script send the correct password."}, {"owner": {"reputation": 11, "user_id": 6664396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af1767ba5b71a7e2a7c5e946eb30f70b?s=128&d=identicon&r=PG&f=1", "display_name": "A. P.", "link": "https://stackoverflow.com/users/6664396/a-p"}, "edited": false, "score": 0, "creation_date": 1470126947, "post_id": 38704757, "comment_id": 64807516, "body": "But the login fails. I don&#39;t know why. Thank you anyway for your help."}], "owner": {"reputation": 11, "user_id": 6664396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af1767ba5b71a7e2a7c5e946eb30f70b?s=128&d=identicon&r=PG&f=1", "display_name": "A. P.", "link": "https://stackoverflow.com/users/6664396/a-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 656, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504624096, "creation_date": 1470072427, "last_edit_date": 1504624096, "question_id": 38704757, "link": "https://stackoverflow.com/questions/38704757/how-to-send-a-password-with-special-characters-by-using-expect-module", "title": "How to send a password with special characters by using Expect module?", "body": "<p>I have a big problem with special characters of Perl.</p>\n\n<p>I'm trying to establish a Telnet connection.</p>\n\n<p>So, after the command \"Telnet $ipAddress\" I have to send the credentials.</p>\n\n<p>I have done this way:</p>\n\n<pre><code>my $exp = new Expect;\n\n$exp-&gt;send(\"username\");\n$exp-&gt;send(\"@password\");\n</code></pre>\n\n<p>The problem is that my password has the @ character as first character and it is a special character.</p>\n\n<p>I have already tried with <code>'@password'</code>, <code>\"\\@password\"</code> or <code>\"\\\\@password\"</code>, but the login fails.</p>\n\n<p>How can I get my password to work?</p>\n"}, {"tags": ["perl", "shell", "scripting"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1470164408, "post_id": 38704720, "comment_id": 64832995, "body": "Are you intent on writing your code in Perl or Shell?  Are Batch &amp; PowerShell off the table?"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1470174693, "post_id": 38704720, "comment_id": 64838440, "body": "why can&#39;t you use Strawberry? it&#39;s free and doesn&#39;t require CPAN"}, {"owner": {"reputation": 1, "user_id": 6664368, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oLxbI4q27m0/AAAAAAAAAAI/AAAAAAAAAE0/Ne6RDfsI4t8/photo.jpg?sz=128", "display_name": "Joy banerjee", "link": "https://stackoverflow.com/users/6664368/joy-banerjee"}, "reply_to_user": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1470380039, "post_id": 38704720, "comment_id": 64936468, "body": "@beasy I guess Strawberry perl also don&#39;t have all the modules present and needed to be installed from CPAN. Like <code>Mail::Sender</code> can&#39;t locate Mail/Sender.pm in <code>@inc</code> and need to be installed."}], "answers": [{"comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1470145421, "post_id": 38721123, "comment_id": 64820346, "body": "Because a proxy that disallows access to CPAN is <i>sure</i> to allow access to the PPM Repository....  =/"}, {"owner": {"reputation": 1, "user_id": 6664368, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oLxbI4q27m0/AAAAAAAAAAI/AAAAAAAAAE0/Ne6RDfsI4t8/photo.jpg?sz=128", "display_name": "Joy banerjee", "link": "https://stackoverflow.com/users/6664368/joy-banerjee"}, "reply_to_user": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1470379539, "post_id": 38721123, "comment_id": 64936220, "body": "@tjd  I tried using activeperl to run my script. I get the following error to install any module ppm install File::Slurp, get the following error <code>Downloading ActiveState Package Repository packlist...failed 500 Can&#39;t connect t o ppm4.activestate.com:80</code>....... Is this also bcos of firewall/proxy settings?"}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "reply_to_user": {"reputation": 1, "user_id": 6664368, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oLxbI4q27m0/AAAAAAAAAAI/AAAAAAAAAE0/Ne6RDfsI4t8/photo.jpg?sz=128", "display_name": "Joy banerjee", "link": "https://stackoverflow.com/users/6664368/joy-banerjee"}, "edited": false, "score": 0, "creation_date": 1470400530, "post_id": 38721123, "comment_id": 64948868, "body": "@Joybanerjee Most likely.  I expect you&#39;ve already set your http_proxy environment variable.  What you <i>really</i> need to do is get your proxy admin on board with your issue."}], "tags": [], "owner": {"reputation": 617, "user_id": 2364438, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/lhmZW.gif?s=128&g=1", "display_name": "tvs", "link": "https://stackoverflow.com/users/2364438/tvs"}, "is_accepted": false, "score": 0, "last_activity_date": 1470143208, "last_edit_date": 1470143208, "creation_date": 1470142709, "answer_id": 38721123, "question_id": 38704720, "link": "https://stackoverflow.com/questions/38704720/how-to-run-perl-or-shell-scripts-in-windows-in-secured-environment-without-straw/38721123#38721123", "title": "How to run perl or shell scripts in windows in secured environment without strawberry perl or Cygwin", "body": "<p>Why you don't use Activestate? I think is the best perl packaged system for Windows.</p>\n\n<p>Here's the link for the free community edition:</p>\n\n<p><a href=\"http://www.activestate.com/activeperl/downloads\" rel=\"nofollow\">http://www.activestate.com/activeperl/downloads</a></p>\n\n<p>As for editors, you can also use Komod Edit: <a href=\"http://komodoide.com/komodo-edit/\" rel=\"nofollow\">http://komodoide.com/komodo-edit/</a></p>\n"}], "owner": {"reputation": 1, "user_id": 6664368, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oLxbI4q27m0/AAAAAAAAAAI/AAAAAAAAAE0/Ne6RDfsI4t8/photo.jpg?sz=128", "display_name": "Joy banerjee", "link": "https://stackoverflow.com/users/6664368/joy-banerjee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470143208, "creation_date": 1470072313, "last_edit_date": 1470111644, "question_id": 38704720, "link": "https://stackoverflow.com/questions/38704720/how-to-run-perl-or-shell-scripts-in-windows-in-secured-environment-without-straw", "title": "How to run perl or shell scripts in windows in secured environment without strawberry perl or Cygwin", "body": "<p>I need to write perl or shell scripts in windows environment for automation. Please suggest some freeware.</p>\n\n<p>For perl I tried padre perl but post installation it requires connection with CPAN which my proxy doesn't allows.Hence its unable to identify modules once I run perl scripts.</p>\n\n<p>Also for running Shell scripts  I tried cygwin but its unable to identify loop statements while running shell scripts.</p>\n\n<p>How should I go ahead?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["windows", "perl", "amazon-web-services"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470072903, "post_id": 38704566, "comment_id": 64787366, "body": "@ikegami: I meant &quot;don&#39;t require any non-core modules&quot;. I&#39;ll give your suggestion a try here shortly. Currently AFK"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470073101, "post_id": 38704566, "comment_id": 64787488, "body": "@ikegami: both variants of your <code>perl</code> strings hang the same as the <code>cpanm</code> call"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470073242, "post_id": 38704566, "comment_id": 64787578, "body": "@ikegami: the server script cmd window requires an ENTER keystroke before the <code>cpanm</code> command returns anything. The perl proc that is handling it fires, but does nothing until a keystroke"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470073275, "post_id": 38704566, "comment_id": 64787595, "body": "@ikegami: yes, the server doesn&#39;t respond to client until keystroke in the server window"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1470073293, "post_id": 38704566, "comment_id": 64787605, "body": "because I have two cmd windows open..."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470073496, "post_id": 38704566, "comment_id": 64787725, "body": "@ikegami: the server script outputs &quot;executing: ...&quot;, but until I hit ENTER, the return from the cpanm command isn&#39;t returned. I haven&#39;t thoroughly tested whether the <code>qx</code> code is actually processed before or after I hit ENTER though. I&#39;ve got to run for a little bit, but I&#39;ll be back at it when I return. Thanks for your suggestions/questions thus far"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470073650, "post_id": 38704566, "comment_id": 64787815, "body": "@ikegami: no, I don&#39;t"}], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1470074589, "creation_date": 1470071819, "last_edit_date": 1470074589, "question_id": 38704566, "link": "https://stackoverflow.com/questions/38704566/why-does-a-perl-background-process-require-an-enter-keystroke-on-windows-2012", "title": "Why does a Perl background process require an ENTER keystroke on Windows 2012?", "body": "<p>On my Amazon Web Services (AWS) Windows 2012 systems, a Perl script that runs in the background listening for network requests requires an ENTER keystroke in the server script (background proc) cmd window before the backticks return. This does not happen on my non-AWS Windows 2008 R2 systems (the proc runs properly with no interaction). It also works properly (no interaction required) on my AWS Linux systems.</p>\n\n<p>My question is, is whether this is a Windows 2012 issue or an AWS issue, as I don't have any 2k12 servers to test on that aren't in AWS. I'd appreciate if anyone with 2k12 systems could test this to see if it works properly.</p>\n\n<p>To repro:</p>\n\n<pre><code>- copy below code to client.pl and server.pl respectively\n- start the server in the background: \n    perl server.pl bg\n\n- run the client (different cmd window):\n    perl client.pl\n</code></pre>\n\n<p>On my local servers, the server returns to the client properly without any interaction. On my AWS systems, it hangs. Hitting ENTER in the server cmd window causes backticks to return and the response to be sent across. Running the server script in foreground mode <code>perl server.pl run</code>, the whole shebang works properly on 2012 with no interaction.</p>\n\n<p>NOTE: there's no method in this test code to stop the <code>server.pl</code> background proc. It has to be killed via Task Manager. Also, the test scripts require no non-core modules (at least with Strawberry Perl).</p>\n\n<p>client.pl:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse IO::Socket::INET;\nuse Storable;\n\nmy $mod = 'IO::Socket::INET';\n\nmy $sock = new IO::Socket::INET (\n    PeerHost =&gt; 'localhost',\n    PeerPort =&gt; 7800,\n    Proto =&gt; 'tcp',\n);\ndie \"can't create socket\\n\" unless $sock;\n\n$sock-&gt;send(\"cpanm $mod\");\n\nmy $recv = Storable::fd_retrieve($sock);\n\nprint $$recv;\n</code></pre>\n\n<p>server.pl</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse IO::Socket::INET;\nuse Storable;\n\nif (@ARGV &amp;&amp; $ARGV[0] eq 'bg'){\n    system 1, 'perl', $0, 'run';\n}\nif (@ARGV &amp;&amp; $ARGV[0] eq 'run') {\n    my $sock = new IO::Socket::INET (\n        LocalHost =&gt; '0.0.0.0',\n        LocalPort =&gt; 7800,\n        Proto =&gt; 'tcp',\n        Listen =&gt; 5,\n        Reuse =&gt; 1,\n    );\n    die \"cannot create socket $!\\n\" unless $sock;\n\n    while (1){\n        my $conn = $sock-&gt;accept;\n\n        my $cmd;\n        $conn-&gt;recv($cmd, 1024);\n\n        print \"executing: $cmd\\n\";\n        my $ret = `$cmd`;\n        print \"return: $ret\\n\";\n        Storable::nstore_fd(\\$ret, $conn);\n\n        shutdown($conn, 1);\n    }\n\n    $sock-&gt;close;\n}\n</code></pre>\n"}, {"tags": ["perl", "database-connection", "dbi", "disconnect"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1470052711, "post_id": 38698270, "comment_id": 64774471, "body": "DBI will disconnect implicitly for you when the statement handle goes out of scope."}, {"owner": {"reputation": 33, "user_id": 4939337, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/12ed56dd4920ac0dd84f67a591522349?s=128&d=identicon&r=PG&f=1", "display_name": "Husk01inJun", "link": "https://stackoverflow.com/users/4939337/husk01injun"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470054124, "post_id": 38698270, "comment_id": 64775375, "body": "@simbabque : i am getting error as: Issuing rollback() due to DESTROY without explicit disconnect().....i am using separate disconnect function to prevent this , but it would be great to use a single disconnect function for all the strings ."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470055606, "post_id": 38699141, "comment_id": 64776341, "body": "Nice. I didn&#39;t know about <code>visit_handles</code>. But calling <code>disconnect</code> on everything explicitly will produce the same warning as the implicit disconnects done when perl destroys a program, and you need to <code>rollback</code> or <code>commit</code> on every handle that has an open transaction."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470055720, "post_id": 38699141, "comment_id": 64776403, "body": "@borodin hmm true. I&#39;ll edit when I get back to my computer."}, {"owner": {"reputation": 33, "user_id": 4939337, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/12ed56dd4920ac0dd84f67a591522349?s=128&d=identicon&r=PG&f=1", "display_name": "Husk01inJun", "link": "https://stackoverflow.com/users/4939337/husk01injun"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470130441, "post_id": 38699141, "comment_id": 64809795, "body": "@Borodin i was unaware of this , thanks for the information . i am trying to connect with different drivers like oracle,postgres and mysql. Just skeptical about whether this will work or not , will try when i get back to my computer"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 5, "last_activity_date": 1470139722, "last_edit_date": 1495540295, "creation_date": 1470055126, "answer_id": 38699141, "question_id": 38698270, "link": "https://stackoverflow.com/questions/38698270/how-to-disconnect-from-all-database-connection-strings/38699141#38699141", "title": "How to disconnect from all database connection strings", "body": "<p>You can implement that yourself using <a href=\"https://metacpan.org/pod/DBI#visit_handles\" rel=\"nofollow noreferrer\"><code>visit_handles</code> from DBI</a>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse DBI;\n\nmy $dbh  = DBI-&gt;connect( 'DBI:mysql:database=test;host=localhost', 'root', 'pw' );\nmy $dbh2 = DBI-&gt;connect( 'DBI:mysql:database=test;host=localhost', 'root', 'pw' );\n\nDBI-&gt;visit_handles(\n    sub {\n        my ( $driver_handle, $info ) = @_;\n\n        if ($driver_handle-&gt;{Type} eq 'db') {\n            # clean up transaction or simply disconnect for each handle\n            $driver_handle-&gt;disconnect;\n        }\n\n        return 1;\n    }\n);\n</code></pre>\n\n<p>The code reference passed to <code>visit_handles</code> will be called for each driver handle. If it returns a true value, it will subsequently call <a href=\"https://metacpan.org/pod/DBI#visit_child_handles\" rel=\"nofollow noreferrer\"><code>visit_child_handles</code></a> with the same code reference. That way, you can match which ones are database handles (<code>db</code>) and disconnect them explicitly.</p>\n\n<p>As <a href=\"https://stackoverflow.com/a/38699216/1331451\">Borodin states in their answer</a> you need to take care of the half-done transactions before disconnecting. This solution only gives you a means to get all the connection handles from a single place.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1470062218, "last_edit_date": 1470062218, "creation_date": 1470055335, "answer_id": 38699216, "question_id": 38698270, "link": "https://stackoverflow.com/questions/38698270/how-to-disconnect-from-all-database-connection-strings/38699216#38699216", "title": "How to disconnect from all database connection strings", "body": "<p></p>\n\n<p>Each database connection will be represented as a separate database handle <code>$dbh</code></p>\n\n<p>Clearly you could write a subroutine that disconnects from all connected database handles, as long as your list of connected databases is always the same</p>\n\n<p>I'm not sure why you're fixating on the connection strings. Presumably you mean  the DSNs (Data Source Names) that you used in the call to <code>DBI-&gt;connect</code>? They are simply parameters to the connection operation and a database handle cannot be identified after the fact from its original DSN</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Issuing rollback() due to DESTROY without explicit disconnect()\n</code></pre>\n</blockquote>\n\n<p>This implies that you are using transactions. The best way would be to call <code>rollback</code> or <code>commit</code> yourself to end the transaction. It's a bad idea to leave a transaction open when the program terminates as you are relying on the default behaviour of the database driver</p>\n\n<p>The <a href=\"https://metacpan.org/pod/DBI#disconnect\" rel=\"nofollow\">documentation for <code>DBI::disconnect</code></a> says this</p>\n\n<blockquote>\n  <p>Generally, if you want your changes to be committed or rolled back when you disconnect, then you should explicitly call \"commit\" or \"rollback\" before disconnecting.</p>\n</blockquote>\n\n<p>You will also get the same warning if you call <code>disconnect</code> while a transaction is still open, so a <code>commit</code> or <code>rollback</code> is definitely the correct method</p>\n\n<p>It is fine to let Perl's destruction sequence implcitly disconnect all database handles as long as no transactions are left open at the time</p>\n"}], "owner": {"reputation": 33, "user_id": 4939337, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/12ed56dd4920ac0dd84f67a591522349?s=128&d=identicon&r=PG&f=1", "display_name": "Husk01inJun", "link": "https://stackoverflow.com/users/4939337/husk01injun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1202, "favorite_count": 2, "answer_count": 2, "score": 1, "last_activity_date": 1470139722, "creation_date": 1470052599, "last_edit_date": 1470054601, "question_id": 38698270, "link": "https://stackoverflow.com/questions/38698270/how-to-disconnect-from-all-database-connection-strings", "title": "How to disconnect from all database connection strings", "body": "<p>I have a Perl script which connects to many databases using different connection drivers.</p>\n\n<p>Is there any way I can write a single disconnect function in the end to disconnect if there are any active session?</p>\n\n<p>Example :</p>\n\n<pre><code>connection 1: $dbh-&gt;oracle;\nconnection 2: $dbh-&gt;sql\n</code></pre>\n\n<p>Can I have a common disconnect string for both databases?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 2, "creation_date": 1470048378, "post_id": 38696844, "comment_id": 64771963, "body": "Did you try anything so far?"}, {"owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1470048511, "post_id": 38696844, "comment_id": 64772051, "body": "@Zaid I tried upto spliting elements by &quot;,&quot; but gone clueless that what should I do next."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 3, "creation_date": 1470048556, "post_id": 38696844, "comment_id": 64772078, "body": "Please post your code, no matter how broken it is"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470048563, "post_id": 38696844, "comment_id": 64772082, "body": "Is this another XML question? Because it looks like your previous ones, which were actually about XML. If so, this is an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a> - explain what you&#39;re trying to accomplish."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1470048788, "post_id": 38696844, "comment_id": 64772219, "body": "OK. So is this a recursive problem or only 3 keys deep? Because it looks like you&#39;re generating permutations."}, {"owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1470048893, "post_id": 38696844, "comment_id": 64772276, "body": "@Sobrique This is Excel problem. The elements are Excel cells. &amp; Its a recursive problem. Array length varies as per input."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1470049058, "post_id": 38697055, "comment_id": 64772386, "body": "... wow. There&#39;s a trick I&#39;d not seen before. Much impressed. (my solution involved some recursive muckery)."}], "tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": true, "score": 7, "last_activity_date": 1470048994, "creation_date": 1470048994, "answer_id": 38697055, "question_id": 38696844, "link": "https://stackoverflow.com/questions/38696844/how-can-i-generate-permutations-from-this-array/38697055#38697055", "title": "How can I generate permutations from this array?", "body": "<p>You could perform dynamic recursion or reach out to a CPAN module, but I'd use <a href=\"http://perldoc.perl.org/functions/glob.html\"><code>glob</code></a> in this case:</p>\n\n<pre><code>my @out = glob join '', map \"{$_}\", @arr1;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1470061551, "post_id": 38698800, "comment_id": 64780418, "body": "@ysth: Despite Brian&#39;s affectations, I live in a free nation and I may still call him whatever I like. I have honoured him by adding the meaningless <code>D</code> and that&#39;s as far as I will go. Actually, thinking about it, that has gone too."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1470065912, "post_id": 38698800, "comment_id": 64783289, "body": "maybe better to not mention his name at all than to mention it in a way that he explicitly says he doesn&#39;t feel indicates him?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1470070945, "post_id": 38698800, "comment_id": 64786328, "body": "@ysth: I&#39;m sure his parents never called him brian d foy, and I have little doubt that they mentioned him. The man is not a god, Just Another Perl Hacker, and pandering to his pretentiousness can only encourage him to think otherwise. He&#39;s &quot;the artist formerly known as Brian Foy&quot; and it&#39;s exactly the same joke. I wonder what he does for his car registration plates, which cannot contain lower-case letters."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1470086773, "last_edit_date": 1495535552, "creation_date": 1470054211, "answer_id": 38698800, "question_id": 38696844, "link": "https://stackoverflow.com/questions/38696844/how-can-i-generate-permutations-from-this-array/38698800#38698800", "title": "How can I generate permutations from this array?", "body": "\n\n<p>For some inscrutable reason I have an aversion to using <code>glob</code> to generate cross-products like this. It goes along with my dislike of using <code>say</code> in production code, perhaps because it feels like a debugging tool</p>\n\n<p>I can think of nothing wrong with using <code>glob</code> in this way, but I thought I should offer a module-based solution in addition to <a href=\"https://stackoverflow.com/a/38697055/622310\"><strong>Zaid's</strong> fine answer</a></p>\n\n<p>It's easy to assume that either <a href=\"https://metacpan.org/pod/Math::Combinatorics\" rel=\"nofollow noreferrer\"><code>Math::Combinatorics</code></a> or <a href=\"https://metacpan.org/pod/Algorithm::Combinatorics\" rel=\"nofollow noreferrer\"><code>Algorithm::Combinatorics</code></a> will help us here. Together with <a href=\"https://metacpan.org/pod/Graph\" rel=\"nofollow noreferrer\"><code>Graph</code></a>, one of these modules is invaluable a component of a Perl programmer's toolbox, but they both work on only a single set of values and it is a cross-product of multiple sets that is required here</p>\n\n<p>I have chosen Brian Foy's <a href=\"https://metacpan.org/pod/Set::CrossProduct\" rel=\"nofollow noreferrer\"><code>Set::CrossProduct</code></a> here</p>\n\n<p>My benchmarks show that it is around 150 times faster than the <code>glob</code> trick, but that shouldn't matter unless the calculation is on the critical path of an application that you are trying to optimise</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse Set::CrossProduct;\n\nmy @arr1 = ('A1', 'B1,B2', 'C1,C2,C3');\n\nmy $iterator = Set::CrossProduct-&gt;new( [ map [ split /,/ ], @arr1 ] );\n\nwhile ( my $tuple = $iterator-&gt;get ) {\n    say join '', @$tuple;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>A1B1C1\nA1B1C2\nA1B1C3\nA1B2C1\nA1B2C2\nA1B2C3\n</code></pre>\n\n<p>To use this module in a way plug-compatible with <strong>Zaid's</strong> answer, you would write</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>my @out = map { join '', @$_ } $iterator-&gt;combinations;\n</code></pre>\n"}], "owner": {"reputation": 613, "user_id": 3109685, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DqGSA.jpg?s=128&g=1", "display_name": "waghso", "link": "https://stackoverflow.com/users/3109685/waghso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "accepted_answer_id": 38697055, "answer_count": 2, "score": 2, "last_activity_date": 1470086773, "creation_date": 1470048329, "last_edit_date": 1470063225, "question_id": 38696844, "link": "https://stackoverflow.com/questions/38696844/how-can-i-generate-permutations-from-this-array", "title": "How can I generate permutations from this array?", "body": "<p>I have an array </p>\n\n<pre><code>my @arr1 = (\"A1\", \"B1,B2\", \"C1,C2,C3\", ..); \n</code></pre>\n\n<p>how to create new array from this by appending the elements in such a way that it will take one sub-element from @arr1 like A1, B1 &amp; C1 to create a new element \"A1B1C1\". Sub-elements are separated by \",\". The array element number is dynamic.</p>\n\n<p>So the resulting array should look as</p>\n\n<pre><code>@out = qw/A1B1C1 A1B1C2 A1B1C3 A1B2C1 A1B2C2 A1B2C3/; \n</code></pre>\n"}, {"tags": ["perl", "batch-file", "robocopy"], "comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1470043561, "post_id": 38694913, "comment_id": 64769144, "body": "As you can see <a href=\"https://technet.microsoft.com/en-us/library/cc733145(v=ws.11).aspx\" rel=\"nofollow noreferrer\">here</a> , for <code>ROBOCOPY</code> there is no option for setting the user name and password so you need to grant that acces before calling the <code>ROBOCOPY</code>."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1470044470, "post_id": 38694913, "comment_id": 64769692, "body": "@John Doe: Could you please suggest if we can able to write in perl script without ROBOCOPY?"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1470045048, "post_id": 38694913, "comment_id": 64770032, "body": "Have a look on this <a href=\"https://metacpan.org/pod/File%3a%3aCopy%3a%3aRecursive\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1470045668, "post_id": 38694913, "comment_id": 64770371, "body": "@John Doe: There is no rights into the destination path to copy files and folders. Hence I need to provide the username/password in the script to process the same."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1470046430, "post_id": 38694913, "comment_id": 64770818, "body": "as in the example <a href=\"http://stackoverflow.com/questions/1894967/how-to-request-administrator-access-inside-a-batch-file\">here</a>, you may want to create a batch that will grant the admin rights and inside that batch you can call your perl script to do the job that you need"}], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1470229955, "post_id": 38744356, "comment_id": 64863111, "body": "<code>You can create a scheduled task on windows with the rights of the user.</code> I am not clear on this Shall we give the admin rights to the user? Its not a big task and its tedious"}, {"owner": {"reputation": 56, "user_id": 6556089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PM1WB.png?s=128&g=1", "display_name": "Korsakof", "link": "https://stackoverflow.com/users/6556089/korsakof"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1470292812, "post_id": 38744356, "comment_id": 64892284, "body": "The main problem in my scenario it is that &quot;net use&quot; command it is not active and not allowed on the servers and we need to launch scripts to do operations on the server. Also &quot;net use&quot; it&#180;s quite risky to use because you are writing the password on a text plain file. The other way with the scheduled task you just activate the user on the task that you are launching with the correct rights and it&#180;s more difficult to know the user and password used. There is an option that you can check &quot;Run with the highest privileges&quot; if the user is admin you can run as admin or the role that the user has."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1470293401, "post_id": 38744356, "comment_id": 64892578, "body": "We are creating the exe and its windows hence we get these above issues?"}, {"owner": {"reputation": 56, "user_id": 6556089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PM1WB.png?s=128&g=1", "display_name": "Korsakof", "link": "https://stackoverflow.com/users/6556089/korsakof"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1470295376, "post_id": 38744356, "comment_id": 64893751, "body": "I don&#180;t understand quite well. What do you mean with your last comment?How to solve it? To make an exe file is a good step. ;)"}], "tags": [], "owner": {"reputation": 56, "user_id": 6556089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PM1WB.png?s=128&g=1", "display_name": "Korsakof", "link": "https://stackoverflow.com/users/6556089/korsakof"}, "is_accepted": false, "score": 1, "last_activity_date": 1470229044, "creation_date": 1470229044, "answer_id": 38744356, "question_id": 38694913, "link": "https://stackoverflow.com/questions/38694913/copy-the-files-and-folders-recursively-with-the-same-permissions-previleges-usin/38744356#38744356", "title": "Copy the files and folders recursively with the same permissions/previleges using Perl &amp; ROBOCOPY", "body": "<p>You can use something intermediate. You can create a scheduled task on windows with the rights of the user. You should create as \"One time\" task. You can launch as many as you want.</p>\n\n<p><a href=\"http://i.stack.imgur.com/BzEI4.png\" rel=\"nofollow\">Task view User</a></p>\n\n<p>You can invoke from your perl script with this command.</p>\n\n<p>SCHTASKS /RUN /TN \"Name of the task\"</p>\n\n<p>Its an idea. I hope this helps.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6572950"}, "is_accepted": true, "score": 0, "last_activity_date": 1470231828, "creation_date": 1470231828, "answer_id": 38745400, "question_id": 38694913, "link": "https://stackoverflow.com/questions/38694913/copy-the-files-and-folders-recursively-with-the-same-permissions-previleges-usin/38745400#38745400", "title": "Copy the files and folders recursively with the same permissions/previleges using Perl &amp; ROBOCOPY", "body": "<pre><code>my $source = \"\\\\\\\\server1\\\\Robo\\\\Source\\\\ISBN\";\nprint \"DEPT: $dept\\t$dest\\n\"; #$dest = \"\\\\\\\\server2\\\\Robo\\\\Destination\\\\ISBN\";\nsystem(\"net use $source /user:.\\\\\\\\\\administrator xxxx\");\nsystem(\"net use $dest /user:.\\\\\\\\administrator xxxx\");\nsystem(\"ROBOCOPY $source $dest /MIR /SEC /SECFIX\");\n</code></pre>\n\n<p>The above lines supports to copy the files and folders as per the actual privileges to the destinations. Hope its great day!</p>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 682, "favorite_count": 1, "accepted_answer_id": 38745400, "answer_count": 2, "score": 0, "last_activity_date": 1470231828, "creation_date": 1470042531, "last_edit_date": 1470230427, "question_id": 38694913, "link": "https://stackoverflow.com/questions/38694913/copy-the-files-and-folders-recursively-with-the-same-permissions-previleges-usin", "title": "Copy the files and folders recursively with the same permissions/previleges using Perl &amp; ROBOCOPY", "body": "<p>I am trying to copy the files and folders (Including subfolders) to the destination folder (which is getting from User end) by ROBOCOPY. However, I don't have permission to create the folder on destination. I am having the administrator username and password. How to implement this code to use the username/password in this script or batch file. (Don't consider the \"project\" getting from user)</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Cwd;\n\nwhile(1)\n{\n    print \"Enter the project \\&amp; Destination Folder: \";\n    my $input_rec = &lt;STDIN&gt;;\n    chomp($input_rec);\n    if($input_rec=~m/(exit|q|x)/i) {  exit;  }\n    elsif(!$input_rec &amp;&amp; $input_rec eq '') { }\n    elsif($input_rec!~m/(\\s|\\t)/s) { }\n    else\n    {\n        my ($dept, $dest) = split /\\s/, $input_rec;\n        print \"DEPT: $dept\\t$dest\\n\";\n        system(\"ROBOCOPY \\\\\\\\server1\\\\Robo\\\\Source\\\\ISBN \\\\\\\\server2\\\\Robo\\\\Source\\\\ISBN /MIR /SEC /SECFIX\");\n        exit;\n    }\n}\n</code></pre>\n\n<p>Or ELSE I need to copy files and folders without ROBOCOPY using perl script to the destination folders with using administrator credentials which is not user can able to access.</p>\n\n<p>The task is, if user requested admin to create a folders/subfolders with rights/permissions/structure as it is in the source original and its should be created by admin as well requested destination by user end. Each and every time admin can't do this hence we have trying to automate this process. User can't access the server to copy the folders.</p>\n\n<p>It would be appreciated if anyone suggested how to solve this.</p>\n"}, {"tags": ["perl", "ssh", "module"], "comments": [{"owner": {"reputation": 2370, "user_id": 786691, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6hxSw.jpg?s=128&g=1", "display_name": "Himanshu", "link": "https://stackoverflow.com/users/786691/himanshu"}, "edited": false, "score": 0, "creation_date": 1470049389, "post_id": 38694035, "comment_id": 64772577, "body": "Try another command to see if that works. I&#39;ve not been able to install Net::SSH on my system to tell what&#39;s happening. Also see <a href=\"http://stackoverflow.com/questions/9868001/netsshperl-hands-without-output?rq=1\" title=\"netsshperl hands without output\">stackoverflow.com/questions/9868001/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/10406736/losing-connection-with-netsshperl?rq=1\" title=\"losing connection with netsshperl\">stackoverflow.com/questions/10406736/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 5893645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GeVOx.jpg?s=128&g=1", "display_name": "Pierro", "link": "https://stackoverflow.com/users/5893645/pierro"}, "reply_to_user": {"reputation": 2370, "user_id": 786691, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6hxSw.jpg?s=128&g=1", "display_name": "Himanshu", "link": "https://stackoverflow.com/users/786691/himanshu"}, "edited": false, "score": 0, "creation_date": 1470052173, "post_id": 38694035, "comment_id": 64774155, "body": "You mean another command for the switch in my variable $cmd ? If it&#39;s that i tested many commands ofc. But its an interseting things yeah. But i&#39;m pretty sure there is no ssh identificaiton and now i don&#39;t know what to think, if it the old version of ssh or my script or what. I can&#39;t test with SSH1 on the Windows prompt but i tested with SSH2 and it works with the Windows prompt but not with an other swtich which accept ssh2."}, {"owner": {"reputation": 2370, "user_id": 786691, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6hxSw.jpg?s=128&g=1", "display_name": "Himanshu", "link": "https://stackoverflow.com/users/786691/himanshu"}, "edited": false, "score": 0, "creation_date": 1470053410, "post_id": 38694035, "comment_id": 64774914, "body": "Yes that&#39;s what I meant. Your use of wireshark looks clever. I can&#39;t think of anything except possibly putting in some print statements in /Net/SSH/Perl/SSH1.pm or running the script with the -d switch if that&#39;s allowed."}, {"owner": {"reputation": 11, "user_id": 5893645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GeVOx.jpg?s=128&g=1", "display_name": "Pierro", "link": "https://stackoverflow.com/users/5893645/pierro"}, "reply_to_user": {"reputation": 2370, "user_id": 786691, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6hxSw.jpg?s=128&g=1", "display_name": "Himanshu", "link": "https://stackoverflow.com/users/786691/himanshu"}, "edited": false, "score": 0, "creation_date": 1470062123, "post_id": 38694035, "comment_id": 64780802, "body": "In fact i don&#39;t realy know where i could put some print statments in SSH1 but it&#39;s intersting to work with this file, and i&#39;m not sure to understand what you mean with &quot;-d&quot;, i tried to run my script like perl.exe -d ../myscript.pl; it opens a big prompt pannel that i don&#39;t know use yet. Thanks for your suggestions :) If i have results i will update my post."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5893645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GeVOx.jpg?s=128&g=1", "display_name": "Pierro", "link": "https://stackoverflow.com/users/5893645/pierro"}, "is_accepted": false, "score": 0, "last_activity_date": 1470819050, "last_edit_date": 1470819050, "creation_date": 1470756656, "answer_id": 38854882, "question_id": 38694035, "link": "https://stackoverflow.com/questions/38694035/netsshperl-cant-login-ssh1/38854882#38854882", "title": "Net::SSH:Perl can&#39;t login SSH1", "body": "<p>It seems that it's a problem about my 3 HP switch (2524,5304, 5130). I finally tested on a cisco switch and it works perfeclty........\nI will search a solution in they key size or something like that </p>\n\n<p>Edit : i'm using python now and its the same problem but i found the solution here <a href=\"http://forums.juniper.net/t5/ScreenOS-Firewalls-NOT-SRX/Python-Paramiko-with-netscreen/m-p/294864\" rel=\"nofollow\">http://forums.juniper.net/t5/ScreenOS-Firewalls-NOT-SRX/Python-Paramiko-with-netscreen/m-p/294864</a></p>\n"}], "owner": {"reputation": 11, "user_id": 5893645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GeVOx.jpg?s=128&g=1", "display_name": "Pierro", "link": "https://stackoverflow.com/users/5893645/pierro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470819050, "creation_date": 1470039637, "question_id": 38694035, "link": "https://stackoverflow.com/questions/38694035/netsshperl-cant-login-ssh1", "title": "Net::SSH:Perl can&#39;t login SSH1", "body": "<p>I'm trying to connect me to a switch using SSH1 (the switch is old and does not support ssh2) and after the firsts steps, my program dosen't do nothing and i have to Ctrl+C to stop it</p>\n\n<pre><code># Perl v5.8.8 built for MSWin32-x86-multi-thread\n#!perl\nuse strict;\nuse warnings;\nuse Net::SSH::Perl;\n\nmy $host = \"10.*.*.*\";\nmy $username = \"***\";\nmy $password = \"***\";\n\n\nmy $cmd = 'show version';\nmy $ssh = Net::SSH::Perl-&gt;new($host, debug =&gt; 1);\n$ssh-&gt;login($username, $password);\nmy($stdout, $stderr, $exit) = $ssh-&gt;cmd($cmd); #the script stops here\nprint $stdout;\n</code></pre>\n\n<p>logs : </p>\n\n<pre><code> Connecting to 10.*.*.*, port 22.\n Remote version string: SSH-1.5-OpenSSH_2.9p1\n Remote protocol version 1.5, remote software version OpenSSH_2.9p1\n Net::SSH::Perl Version 1.42, protocol version 1.5.\n No compat match: OpenSSH_2.9p1.\n Connection established.\n Waiting for server public key.\n Received server public key (512 bits) and host key (896 bits).\n Host '10.*.*.*' is known and matches the host key.\n Encryption type: DES3\n Sent encrypted session key.\n Received encryption confirmation.\n Trying password authentication.\n Sending command: show version\n Entering interactive session.\n Terminating on signal SIGINT(2) #Ctrl-C\n</code></pre>\n\n<p>i can log me in with putty and it works.</p>\n\n<p>I used wiresharck and we can see that the password and maybe the login are not used counter to putty <a href=\"http://image.noelshack.com/fichiers/2016/31/1470038197-troubleshooting2-ssh1.png\" rel=\"nofollow\">http://image.noelshack.com/fichiers/2016/31/1470038197-troubleshooting2-ssh1.png</a>, packets are too lights. \nI don't understand what's going wrong, why the connection failed and logs say nothing about it. </p>\n"}, {"tags": ["linux", "perl", "directory"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1470035748, "post_id": 38692927, "comment_id": 64764639, "body": "See the file test operators <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">-X</a> and <a href=\"http://stackoverflow.com/questions/2601027/how-can-i-check-if-a-file-exists-in-perl\">How can I check if a file exists in Perl?</a>"}, {"owner": {"reputation": 41, "user_id": 6662080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e0ebaf1c6c29b79cf4f206d82d3c48?s=128&d=identicon&r=PG", "display_name": "Carmz", "link": "https://stackoverflow.com/users/6662080/carmz"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1470036043, "post_id": 38692927, "comment_id": 64764822, "body": "Hi Hakon,yes I have also tried it, but what I get is, everytime I input a valid and invalid directory, it always returns true."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1470036204, "post_id": 38692927, "comment_id": 64764906, "body": "Ok, please post you code as inline text not as a link to an image. See <a href=\"http://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">Discourage screenshots of code and/or errors</a>"}, {"owner": {"reputation": 41, "user_id": 6662080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e0ebaf1c6c29b79cf4f206d82d3c48?s=128&d=identicon&r=PG", "display_name": "Carmz", "link": "https://stackoverflow.com/users/6662080/carmz"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1470036280, "post_id": 38692927, "comment_id": 64764943, "body": "Sorry, first timer in here :( And also, I don&#39;t know how to copy and paste in Linux"}, {"owner": {"reputation": 41, "user_id": 6662080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e0ebaf1c6c29b79cf4f206d82d3c48?s=128&d=identicon&r=PG", "display_name": "Carmz", "link": "https://stackoverflow.com/users/6662080/carmz"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1470038867, "post_id": 38692927, "comment_id": 64766352, "body": "@hakon Now, I have added a function with file test operators                                                                                                                  <code>sub directory {</code>     <code>my $direc = $_[0];</code>     <code>if(-e $direc and -d $direc) {</code>         <code>print &quot;Is a directory\\n&quot;;</code>     <code>}else{</code>         <code>print &quot;Not a directory!\\n&quot;;</code>    ` }` <code>}</code>"}, {"owner": {"reputation": 41, "user_id": 6662080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e0ebaf1c6c29b79cf4f206d82d3c48?s=128&d=identicon&r=PG", "display_name": "Carmz", "link": "https://stackoverflow.com/users/6662080/carmz"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1470039065, "post_id": 38692927, "comment_id": 64766474, "body": "But it always returns <code>Not a directory</code> even if I have inputted a valid path"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 6662080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e0ebaf1c6c29b79cf4f206d82d3c48?s=128&d=identicon&r=PG", "display_name": "Carmz", "link": "https://stackoverflow.com/users/6662080/carmz"}, "edited": false, "score": 0, "creation_date": 1470037241, "post_id": 38693282, "comment_id": 64765479, "body": "For the directory, the user input a relative path. Example: /data/edbcp/tmpwks. Then the user will have to input the filename. Example: sample.pl. I will have to append the directory and filename after then verify if the filename exists in that directory."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 41, "user_id": 6662080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e0ebaf1c6c29b79cf4f206d82d3c48?s=128&d=identicon&r=PG", "display_name": "Carmz", "link": "https://stackoverflow.com/users/6662080/carmz"}, "edited": false, "score": 0, "creation_date": 1470037308, "post_id": 38693282, "comment_id": 64765514, "body": "Edid your comment and put a valid link to &quot;here&quot;"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 41, "user_id": 6662080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e0ebaf1c6c29b79cf4f206d82d3c48?s=128&d=identicon&r=PG", "display_name": "Carmz", "link": "https://stackoverflow.com/users/6662080/carmz"}, "edited": false, "score": 0, "creation_date": 1470037709, "post_id": 38693282, "comment_id": 64765727, "body": "Those folders are relative to a specific folder ? Or they can be anywhere on your hard drive?"}, {"owner": {"reputation": 41, "user_id": 6662080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e0ebaf1c6c29b79cf4f206d82d3c48?s=128&d=identicon&r=PG", "display_name": "Carmz", "link": "https://stackoverflow.com/users/6662080/carmz"}, "edited": false, "score": 0, "creation_date": 1470037881, "post_id": 38693282, "comment_id": 64765811, "body": "These folders can be anywhere in a Linux hard drive. And I am only running the perl file in a certain folder"}, {"owner": {"reputation": 41, "user_id": 6662080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e0ebaf1c6c29b79cf4f206d82d3c48?s=128&d=identicon&r=PG", "display_name": "Carmz", "link": "https://stackoverflow.com/users/6662080/carmz"}, "edited": false, "score": 0, "creation_date": 1470038674, "post_id": 38693282, "comment_id": 64766240, "body": "Now, I have added a function with file test operators                                                                                                                  <code>sub directory {</code>     <code>my $direc = $_[0];</code>     <code>if(-e $direc and -d $direc) {</code>         <code>print &quot;Is a directory\\n&quot;;</code>     <code>}else{</code>         <code>print &quot;Not a directory!\\n&quot;;</code>    ` }` <code>}</code>"}, {"owner": {"reputation": 41, "user_id": 6662080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e0ebaf1c6c29b79cf4f206d82d3c48?s=128&d=identicon&r=PG", "display_name": "Carmz", "link": "https://stackoverflow.com/users/6662080/carmz"}, "edited": false, "score": 0, "creation_date": 1470039069, "post_id": 38693282, "comment_id": 64766477, "body": "But it always returns <code>Not a directory</code> even if I have inputted a valid path"}], "tags": [], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "is_accepted": false, "score": 1, "last_activity_date": 1470083365, "last_edit_date": 1470083365, "creation_date": 1470036934, "answer_id": 38693282, "question_id": 38692927, "link": "https://stackoverflow.com/questions/38692927/checking-if-a-directory-exists-in-linux-using-perl/38693282#38693282", "title": "Checking if a directory exists in Linux using perl", "body": "<p>You must have specified if the path to the directory is absolute or relative. If it is absolute, you can check with <code>-e</code> to see if it exists and with <code>-d</code> if the input given it is a directory or not.</p>\n\n<pre><code>if ( -e $dir and -d $dir) {\n    print \"\\nyour folder exists\";\n}\n</code></pre>\n\n<p>If the path is relative, then you must create the absolute path. For that you will have to use as <code>$base</code> your drvives (you need to do that for each drive) and after, use <code>rel2abs</code> to find an absolute path for the given relative path. If the folder exists, <code>$abs_path</code> will contain the absolute path, else it's value will be undef. Bellow as an example for searching your folder with a relative path on drive <code>c:\\</code>:</p>\n\n<pre><code>$base = 'c:\\';\n$abs_path = File::Spec-&gt;rel2abs( $relative_path ) ;\n$abs_path = File::Spec-&gt;rel2abs( $relative_path, $base ) ;\nif ( defined $abs_path ) {\n    print \"\\n folder exists \";\n}\n</code></pre>\n\n<p>For more options, see <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlfunc.pod#X-FILEHANDLE\" rel=\"nofollow\">perldoc -f -X</a></p>\n"}], "owner": {"reputation": 41, "user_id": 6662080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e0ebaf1c6c29b79cf4f206d82d3c48?s=128&d=identicon&r=PG", "display_name": "Carmz", "link": "https://stackoverflow.com/users/6662080/carmz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4109, "favorite_count": 0, "closed_date": 1470040285, "answer_count": 1, "score": -3, "last_activity_date": 1470083365, "creation_date": 1470035627, "last_edit_date": 1470038265, "question_id": 38692927, "link": "https://stackoverflow.com/questions/38692927/checking-if-a-directory-exists-in-linux-using-perl", "closed_reason": "Duplicate", "title": "Checking if a directory exists in Linux using perl", "body": "<p><img src=\"https://i.stack.imgur.com/APksA.png\" alt=\"subroutine: searchFileFromDirec \"></p>\n\n<p>I am programming in linux using perl. I am creating a program where a user can input a directory and a filename. The program will then check if the given directory exists or not and also searches the given filename in that directory. But my problem is verifying if the inputted directory is valid.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "edited": false, "score": 0, "creation_date": 1470014169, "post_id": 38689729, "comment_id": 64759074, "body": "Check your <code>$strData</code>. Does it contain all wanted fields? If it contains only 6 %-separated fields, then <code>$intReason</code> and <code>$arrNickname</code> will be uninitialized."}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "edited": false, "score": 0, "creation_date": 1470014332, "post_id": 38689729, "comment_id": 64759107, "body": "What do you mean by <code>%-</code>"}, {"owner": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "edited": false, "score": 0, "creation_date": 1470014404, "post_id": 38689729, "comment_id": 64759125, "body": "You are splitting <code>$strData</code> by character <code>%</code>"}, {"owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "reply_to_user": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "edited": false, "score": 0, "creation_date": 1470014426, "post_id": 38689729, "comment_id": 64759135, "body": "Oh yes it does contain all of them"}, {"owner": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "edited": false, "score": 0, "creation_date": 1470015165, "post_id": 38689729, "comment_id": 64759272, "body": "Can you give example of <code>$strData</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1470019003, "creation_date": 1470019003, "answer_id": 38690275, "question_id": 38689729, "link": "https://stackoverflow.com/questions/38689729/use-of-uninitialized-value-intreason-in-array-element-perl/38690275#38690275", "title": "Use of uninitialized value $intReason in array element PERL", "body": "<p>The string in <code>$strData</code> contains fewer than six <code>%</code>, causing <code>$intReason</code> (and <code>$arrNickname</code>) to be undefined.</p>\n\n<p>As such, </p>\n\n<pre><code>$objClient-&gt;botSay($reasons[$intReason]);\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>$objClient-&gt;botSay($reasons[undef]);\n</code></pre>\n\n<p>which warns and is otherwise equivalent to</p>\n\n<pre><code>$objClient-&gt;botSay($reasons[0]);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "is_accepted": false, "score": 0, "last_activity_date": 1470035330, "creation_date": 1470035330, "answer_id": 38692847, "question_id": 38689729, "link": "https://stackoverflow.com/questions/38689729/use-of-uninitialized-value-intreason-in-array-element-perl/38692847#38692847", "title": "Use of uninitialized value $intReason in array element PERL", "body": "<p>Before this line :<br>\n<code>my $intPID = $arrData[5];</code><br>\nTry to print the value that you will assign to <code>$intPID</code> <br>\n<code>use Data::Dumper;\nprint Dumper $arrData[5];</code><br>\nYou will get an <code>use of uninitialized...</code> warning. This means that your array does not have an element defined on fifth index.</p>\n"}], "owner": {"reputation": 111, "user_id": 2494766, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/531c8be4b4a9a311e05cf5f0b7128f80?s=128&d=identicon&r=PG", "display_name": "Reed", "link": "https://stackoverflow.com/users/2494766/reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1470035330, "creation_date": 1470013378, "question_id": 38689729, "link": "https://stackoverflow.com/questions/38689729/use-of-uninitialized-value-intreason-in-array-element-perl", "title": "Use of uninitialized value $intReason in array element PERL", "body": "<p>So I've been working on a report system using arrays but whenever I try to send a report it gives me this </p>\n\n<p><code>Use of uninitialized value $intReason in array element at Server/Systems/Messaging.pm line 26.</code></p>\n\n<p>I don't think it's really an error more like a warning cause everything works fine but it gives me that though.</p>\n\n<p>here is the code</p>\n\n<pre><code>method handleSendReport($strData, $objClient){\n    my @arrData = split('%', $strData);\n    my $intPID = $arrData[5];\n    my $intReason = $arrData[6];\n    my $arrNickname = $arrData[7];\n    my @reasons = (\"Swearing\", \"Sexual Language\", \"Racial Words\", \"Personal Info\", \"Email Address\", \"Real Name\", \"Name Calling\", \"Bad Penguin Name\");\n    $objClient-&gt;botSay($reasons[$intReason]); #Line 26\n}\n</code></pre>\n"}, {"tags": ["perl", "encoding"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 5, "creation_date": 1470002275, "post_id": 38688627, "comment_id": 64757045, "body": "<a href=\"https://metacpan.org/source/DANKOGAI/Encode-2.84/Encode.pm#L186\" rel=\"nofollow noreferrer\">metacpan.org/source/DANKOGAI/Encode-2.84/Encode.pm#L186</a> There is only a warning if you are using the module wrong. Muting warnings is a bad idea in this case, too."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 4, "creation_date": 1470002718, "post_id": 38688627, "comment_id": 64757135, "body": "I would recommend that you post a minimal example that issues the warning. See <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"}], "answers": [{"comments": [{"owner": {"reputation": 573, "user_id": 656780, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a44da833e35ca617e406fe3989dfa37?s=128&d=identicon&r=PG", "display_name": "Timothy R. Butler", "link": "https://stackoverflow.com/users/656780/timothy-r-butler"}, "edited": false, "score": 0, "creation_date": 1470066846, "post_id": 38691851, "comment_id": 64783983, "body": "Thanks, Dave! You were correct. I located the problem and noted it, below."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 6, "last_activity_date": 1470030985, "creation_date": 1470030985, "answer_id": 38691851, "question_id": 38688627, "link": "https://stackoverflow.com/questions/38688627/disable-encode-pms-warnings/38691851#38691851", "title": "Disable Encode.pm&#39;s Warnings", "body": "<p>Looking up the line referenced in the error message you copied in the question (<a href=\"https://metacpan.org/source/DANKOGAI/Encode-2.84/Encode.pm#L186\">https://metacpan.org/source/DANKOGAI/Encode-2.84/Encode.pm#L186</a>), we find that <code>$name</code> comes directly from the parameters provided to the <code>decode</code> function.  If that warning is emitted, it is a direct result of your code calling <code>decode</code> incorrectly.</p>\n\n<p>According to Encode's documentation, the correct usage of <code>decode</code> is of the form <code>$string = decode(ENCODING, OCTETS[, CHECK])</code>, with the concrete example given as <code>$string = decode(\"iso-8859-1\", $octets);</code>.  Going back to the source, the first parameter goes into <code>$name</code> - it's the name of the encoding used by <code>$octets</code>.</p>\n\n<p>The warning, therefore, is telling you about a serious problem in your code - you can't reasonably expect to get meaningful results by attempting to decode a value without specifying its encoding.  You need to fix this very real problem in your code, not just silence the warnings that result from it.  If you need help to fix your calls to <code>decode</code>, then please update your question to add a small, runnable script which produces the warning and we can help you to clean it up.</p>\n"}, {"tags": [], "owner": {"reputation": 573, "user_id": 656780, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a44da833e35ca617e406fe3989dfa37?s=128&d=identicon&r=PG", "display_name": "Timothy R. Butler", "link": "https://stackoverflow.com/users/656780/timothy-r-butler"}, "is_accepted": false, "score": 0, "last_activity_date": 1470066764, "creation_date": 1470066764, "answer_id": 38703133, "question_id": 38688627, "link": "https://stackoverflow.com/questions/38688627/disable-encode-pms-warnings/38703133#38703133", "title": "Disable Encode.pm&#39;s Warnings", "body": "<p>I finally located the problem. In my code, I take a block of text and detect the encoding it uses:</p>\n\n<pre><code>my $encoding_name = Encode::Detect::Detector::detect($hdata);\n</code></pre>\n\n<p>However, some of the text is plain text and Detector doesn't return an encoding name on those blocks. This blank encoding name gets passed on to the <code>decode</code> function, causing it to give the warning I reported. To avoid that, I simply started checking to make sure I had an <code>$encoding_name</code> before running decode:</p>\n\n<pre><code>if ($encoding_name) {\n    $hdata = decode($encoding_name, $hdata); \n}\n</code></pre>\n"}], "owner": {"reputation": 573, "user_id": 656780, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9a44da833e35ca617e406fe3989dfa37?s=128&d=identicon&r=PG", "display_name": "Timothy R. Butler", "link": "https://stackoverflow.com/users/656780/timothy-r-butler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1470066764, "creation_date": 1470001265, "question_id": 38688627, "link": "https://stackoverflow.com/questions/38688627/disable-encode-pms-warnings", "title": "Disable Encode.pm&#39;s Warnings", "body": "<p>I'm using Perl's Encode.pm module, downloaded directly from CPAN (I have updated to the latest version, 2.84, and it is running on Perl 5.10.1 on RHEL). As I use it, it issues warnings about lines 111, 115, and 172 of Encode.pm that look like this:</p>\n\n<pre><code>Use of uninitialized value $name in concatenation (.) or string at /usr/lib64/perl5/Encode.pm line 186.\n</code></pre>\n\n<p>This is rather frustrating, since the warning seems to be about something in Encode.pm rather than my code and I would really like to only see warnings from my code. I do not have the \"-w\" flag on, but Encode.pm has <code>use warnings</code> enabled inside of itself. Is there a way to hide the module's warnings or otherwise fix this situation without having to fork Encode.pm? </p>\n\n<p>I know that muting warnings may, in some ways, be a bad idea, but the overwhelming number of warnings from Encode.pm makes it hard for me to spot the warnings being generated by my own code as I seek to debug it. It is also needlessly messy in the web server logs.</p>\n"}, {"tags": ["perl", "oop", "constructor", "super"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469990293, "post_id": 38687184, "comment_id": 64753672, "body": "You really shouldn&#39;t be asking this. Of course it&#39;s possible, as most things are in Perl. But the design of your class structure is badly at fault and you shouldn&#39;t be writing code to get around it."}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469990499, "post_id": 38687184, "comment_id": 64753741, "body": "You certainly can help me to point me towards what I should be asking instead."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469990786, "post_id": 38687184, "comment_id": 64753815, "body": "You need help with your class structure which, if you&#39;re really at a loss to know how to proceed, involves publishing all of your relevant code. Most likely you will need to employ a contractor. If there are only one or two classes then we may be able to help you here if you show everything you have, but I think that&#39;s unlikely."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469990896, "post_id": 38687184, "comment_id": 64753847, "body": "Why can&#39;t the parent simply inherit from the grandparent everything that is required by its child?"}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469991237, "post_id": 38687184, "comment_id": 64753947, "body": "This is pretty much what I have. Why the parent cannot simply inherit from the grandparent everything that is required by its child, I cannot tell, because I have neither written <code>Net::FTP::File</code> nor <code>Net::FTP</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469992179, "post_id": 38687184, "comment_id": 64754220, "body": "It&#39;s nothing like what you have. You don&#39;t show your main program at all, and you don&#39;t say what files your sources are in. You have a thing with <code>package Child</code> that inherits from <code>Parent</code> which isn&#39;t defined anywhere. You also have a thing with <code>package tq84_ftp</code> (which in all decency should be <code>package TQ84::FTP</code>) which inherits from <code>Net::FTP::File</code>. Those two things are totally unrelated, and I can&#39;t think what relationship you might imagine between them. I would try to help if I could see you mistake, but there is only nonsense."}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469992380, "post_id": 38687184, "comment_id": 64754286, "body": "When I referred to <code>Child</code> and <code>Parent</code>, I used these terms as generic names to point at their relationship, and not, of course, as  as actually used package names. Think <code>Net::FTP::File</code> and <code>Net::FTP</code> as their actual real world concrete counterparts. The problem I want to solve is that I have lot&#39;s of code that uses <code>Net::FTP::File</code>, but If I could change the way that its <code>new</code> actually handles a particular thing, I wouldn&#39;t have to change the whole litany of existing code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469993281, "post_id": 38687184, "comment_id": 64754593, "body": "@Ren&#233;Nyffenegger: I have explained that what you have written is potentially two unrelated modules, so there is no problem to find. If your real code is significantly different then you should reduce the problem in the manner of a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\"><i>Short, Self Contained, Correct Example</i></a> that we can run and experience the same issues."}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469994568, "post_id": 38687184, "comment_id": 64754943, "body": "@Borodin, I have posted an example that is Short and Self Contained, and, if the <code>...</code> are filled in with username and password, is also correct (in that it compiles and exhibits the behaviour I try to get around, not in that it does what I want)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469995296, "post_id": 38687184, "comment_id": 64755167, "body": "No, it&#39;s not self-contained. It doesn&#39;t demonstrate the problem as-is. Fixed."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1470007176, "post_id": 38687184, "comment_id": 64757922, "body": "@Ren&#233;Nyffenegger Reading between the lines, it seems you assume that <code>Net::FTP::File</code> is a subclass of <code>Net::FTP</code>. <b>It is not</b>."}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1470007406, "post_id": 38687184, "comment_id": 64757956, "body": "@Sinan&#220;n&#252;r, I did, in fact, assume exactly that. Thanks for pointing out what I was missing."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469998563, "post_id": 38687656, "comment_id": 64756101, "body": "Added to my answer. In the future, please post code that you actually ran, and please provide the actual output from that code."}, {"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "edited": false, "score": 0, "creation_date": 1470007595, "post_id": 38687656, "comment_id": 64757989, "body": "@ikegame Thanks for the effort you put to answer my question. After a day too long I must have made a sloppy mistake, although I was sure I copy/pasted the correct error message. Anyway, I will do better next time."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 6, "last_activity_date": 1469998474, "last_edit_date": 1469998474, "creation_date": 1469993255, "answer_id": 38687656, "question_id": 38687184, "link": "https://stackoverflow.com/questions/38687184/how-do-i-call-the-grandparents-constructor-because-the-parents-constructor-is/38687656#38687656", "title": "How do I call the grandparent&#39;s constructor (because the parent&#39;s constructor is not defined)?", "body": "<blockquote>\n  <p><em>However, this construct doesn't seem to work if <code>Parent</code> does not explicitely define a new function (but <code>Grandparent</code> does).</em></p>\n</blockquote>\n\n<p>Not true.</p>\n\n<pre><code>$ perl -E'\n   package Grandparent {\n      sub new { CORE::say(__PACKAGE__) }\n   }\n\n   package Parent {\n      our @ISA = \"Grandparent\";\n   }\n\n   package Child {\n      our @ISA = \"Parent\";\n      sub new { my $class = shift; $class-&gt;SUPER::new(); }\n   }\n\n   Child-&gt;new();\n'\nGrandparent\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><em><code>Can't locate package Net::FTP::File</code></em></p>\n</blockquote>\n\n<p>This a warning obtained when you try to inherit from a class that hasn't been declared. Specifically, you are trying to use Net::FTP::File without having loaded it.</p>\n\n<p>Replace</p>\n\n<pre><code>our @ISA = 'Net::FTP::File';\n</code></pre>\n\n<p>with</p>\n\n<pre><code>use Net::FTP::File qw( );\nour @ISA = 'Net::FTP::File';\n</code></pre>\n\n<p>or with</p>\n\n<pre><code>use parent 'Net::FTP::File';\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><em><code>Can't locate object method \"new\" via package \"tq84_ftp\"</code></em></p>\n</blockquote>\n\n<p>This message is a bit unclear, but it's due to the fact that <code>Net::FTP::File-&gt;new</code> doesn't exist. Net::FTP::File isn't a class, much less a subclass of Net::FTP. It has no methods, much less a <code>new</code> method. It makes no sense to inherit from Net::FTP::File.</p>\n\n<p>You appear to want to create a Net::FTP object, so replace</p>\n\n<pre><code>use parent 'Net::FTP::File';\n</code></pre>\n\n<p>with</p>\n\n<pre><code>use parent 'Net::FTP';\n</code></pre>\n\n<hr>\n\n<p>Finally, you want to load Net::FTP::File for the methods it adds to Net::FTP objects (which includes object of classes that inherit from Net::FTP). To do that, simply add</p>\n\n<pre><code>use Net::FTP::File qw( );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 5, "last_activity_date": 1470007439, "creation_date": 1470007439, "answer_id": 38689219, "question_id": 38687184, "link": "https://stackoverflow.com/questions/38687184/how-do-i-call-the-grandparents-constructor-because-the-parents-constructor-is/38689219#38689219", "title": "How do I call the grandparent&#39;s constructor (because the parent&#39;s constructor is not defined)?", "body": "<p>It seems you assume that <code>Net::FTP::File</code> is a subclass of <code>Net::FTP</code> and, therefore</p>\n\n<pre><code>my $self = $class-&gt;SUPER::new('localhost') ...\n</code></pre>\n\n<p>should invoke <code>Net::FTP</code>'s <code>new</code> method.</p>\n\n<p>However, in fact, <code>Net::FTP::File</code> <strong><em>does not</em></strong> inherit from <code>Net::FTP</code>. Instead, it redefines some methods in <code>Net::FTP</code>. Therefore, if your class inherits from <code>Net::FTP::File</code>, it will not be child of <code>Net::FTP</code>.</p>\n\n<p>You can see this easily if you look at the <a href=\"https://metacpan.org/source/DMUEY/Net-FTP-File-0.06/File.pm\">source code for <code>Net::FTP</code></a>. Note that there is no <code>use base 'Net::FTP'</code> or <code>use parent 'Net::FTP'</code> or <code>our @ISA = qw( Net::FTP )</code> below:</p>\n\n<pre><code>package Net::FTP::File;\n\nuse strict;\nuse warnings;\nuse Net::FTP;\n\n# ...\n\nsub Net::FTP::pretty_dir {\n    shift;\n    my $newp = shift;\n    if ( defined $newp ) {\n        $pretty = $newp;\n        $DirProcHash{cols} = $cols{pretty}  if $pretty;\n        $DirProcHash{cols} = $cols{utility} if !$pretty;\n    }\n    return $pretty;\n}\n\n# ...\n\nsub Net::FTP::isfile {\n    my $ftp = shift;\n    return 1 if $ftp-&gt;exists(@_) &amp;&amp; !$ftp-&gt;isdir(@_);\n    0;\n}\n</code></pre>\n\n<p>etc etc.</p>\n"}], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 38689219, "answer_count": 2, "score": 2, "last_activity_date": 1470007439, "creation_date": 1469989982, "last_edit_date": 1469998933, "question_id": 38687184, "link": "https://stackoverflow.com/questions/38687184/how-do-i-call-the-grandparents-constructor-because-the-parents-constructor-is", "title": "How do I call the grandparent&#39;s constructor (because the parent&#39;s constructor is not defined)?", "body": "<p>I believe, the canonical way to call the parent's class' constructor in Perl is:</p>\n\n<pre><code>package Child;\nour @ISA = 'Parent';\n\nsub new {\n  my $class = shift;\n  my @args = @_;\n  my $self = $class-&gt;SUPER::new(@args);\n  return $self;\n}\n</code></pre>\n\n<p>However, this construct doesn't seem to work if <code>Parent</code> does not explicitely define a <code>new</code> function (but <code>Grandparent</code> does).</p>\n\n<p>This is the case, for example, with <code>Net::FTP::File</code>.</p>\n\n<p><code>tq84_ftp.pm</code>:</p>\n\n<pre><code>package tq84_ftp;\n\nuse warnings;\nuse strict;\n\nour @ISA = qw(Net::FTP::File);\n\nsub new {\n  my $class = shift;\n  my $self = $class-&gt;SUPER::new('localhost')\n     or die($@);\n  return $self;\n}    \n\n1;\n</code></pre>\n\n<p><code>script.pl</code>:</p>\n\n<pre><code>use tq84_ftp;\ntq84_ftp-&gt;new();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Can't locate package Net::FTP::File for @tq84_ftp::ISA at tq84_ftp.pm line 10.\nCan't locate package Net::FTP::File for @tq84_ftp::ISA at tq84_ftp.pm line 10.\nCan't locate object method \"new\" via package \"tq84_ftp\" at tq84_ftp.pm line 10.\n</code></pre>\n\n<p>How do I specify that I want Perl to find the correct (here: grantparent's) <code>new</code> function?</p>\n"}, {"tags": ["linux", "perl", "debian", "virtual-machine"], "answers": [{"tags": [], "owner": {"reputation": 4790, "user_id": 4491743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aXCqO.jpg?s=128&g=1", "display_name": "Knud Larsen", "link": "https://stackoverflow.com/users/4491743/knud-larsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1469980488, "creation_date": 1469980488, "answer_id": 38685762, "question_id": 38685309, "link": "https://stackoverflow.com/questions/38685309/cant-install-libnet-server-perl-on-debian-8x/38685762#38685762", "title": "Cant install libnet-server-perl on Debian 8x", "body": "<p><code>libnet-server-perl, libipc-shareable-perl</code> : </p>\n\n<pre><code># apt-get update &amp;&amp; apt-get install libnet-server-perl libipc-shareable-perl\n</code></pre>\n\n<p><a href=\"https://packages.debian.org/search?suite=jessie&amp;searchon=names&amp;keywords=libnet-server-perl\" rel=\"nofollow\">https://packages.debian.org/search?suite=jessie&amp;searchon=names&amp;keywords=libnet-server-perl</a></p>\n\n<p><a href=\"https://packages.debian.org/search?suite=jessie&amp;keywords=libipc-shareable-perl\" rel=\"nofollow\">https://packages.debian.org/search?suite=jessie&amp;keywords=libipc-shareable-perl</a></p>\n"}], "owner": {"reputation": 7, "user_id": 6660318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e0bf04640df6c71ae3d505b4cd2ed3?s=128&d=identicon&r=PG&f=1", "display_name": "CyberSea Pirate", "link": "https://stackoverflow.com/users/6660318/cybersea-pirate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1469980488, "creation_date": 1469977561, "last_edit_date": 1469978705, "question_id": 38685309, "link": "https://stackoverflow.com/questions/38685309/cant-install-libnet-server-perl-on-debian-8x", "title": "Cant install libnet-server-perl on Debian 8x", "body": "<p>I keep getting these after Depends: in terminal. </p>\n\n<pre><code>libnet-server-perl but it is not installable\n</code></pre>\n\n<p>and </p>\n\n<pre><code>libipic-shareable-perl but it is not installable\n</code></pre>\n\n<p>I have found many different posts on how to install these and none have worked on <strong>Debian 8x</strong>.  I have both packages downloaded and they include <code>.tar.gz</code> and <code>tar.xz</code> but can't not figure out how to install them so they are recognized.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1469962989, "post_id": 38682985, "comment_id": 64745751, "body": "You realise that this code doesn&#39;t compile? (you can&#39;t use <code>read</code> as a filehandler, and there is no capital <code>i</code> in <code>if</code>) ... (about how to match a dot, see @Arunesh Singh&#39;s answer)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1469966486, "post_id": 38682985, "comment_id": 64746662, "body": "@Dada: It&#39;s a <i>file handle</i> a file handler is something completely different."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469968700, "post_id": 38682985, "comment_id": 64747170, "body": "@Borodin whups, my poor english may have failed me... my bad, thanks for pointing it out."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1469969642, "post_id": 38682985, "comment_id": 64747418, "body": "Are you sure about the blank between the dot <code>.</code> and <code>txt</code>? Really <code>&#47;. txt&#47;</code>? Besides that the code seems strange to me. It adds &quot; following files are updated &quot; to the beginning of a file if its filename ends in &quot;.txt&quot; or &quot;.pl&quot;. But that would be another question (if at all)."}, {"owner": {"reputation": 1, "user_id": 6659657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689ed6d49d72bcf45fe41e7b7cb3e18a?s=128&d=identicon&r=PG&f=1", "display_name": "Akt 715", "link": "https://stackoverflow.com/users/6659657/akt-715"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1469987274, "post_id": 38682985, "comment_id": 64752736, "body": "@perl  dog... Yes u r right this script is going to do that only and there is no space between .  And txt"}, {"owner": {"reputation": 1, "user_id": 6659657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689ed6d49d72bcf45fe41e7b7cb3e18a?s=128&d=identicon&r=PG&f=1", "display_name": "Akt 715", "link": "https://stackoverflow.com/users/6659657/akt-715"}, "edited": false, "score": 0, "creation_date": 1469987420, "post_id": 38682985, "comment_id": 64752787, "body": "I have written this code from my mobile, thats why there are some syntax errors so please ignore them"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1469988968, "post_id": 38682985, "comment_id": 64753261, "body": "LOL, I exactly know what you mean. <b>tl;dr Paste! your code.</b> Posting code from a mobile is a mess. It&#39;s not SO&#39;s fault, it simply doesn&#39;t work properly because of all the mobile&#39;s auto-thingies. That is why it is strongly recommended to <b>paste</b> the code you have in your editor instead of keying it in, so we can face the <i>very same</i> code you have and not something &quot;approximately like&quot; or &quot;almost similar to&quot; your code. We don&#39;t know which of the errors are due to your spell-checker and which you made on your own."}, {"owner": {"reputation": 1, "user_id": 6659657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689ed6d49d72bcf45fe41e7b7cb3e18a?s=128&d=identicon&r=PG&f=1", "display_name": "Akt 715", "link": "https://stackoverflow.com/users/6659657/akt-715"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1469989731, "post_id": 38682985, "comment_id": 64753493, "body": "@Perl Dog... None of the errors are committed by me. It&#39;s coz of the mob and plus have one more doubt i&#39;m using glob for finding the files and it works for a single directory but for director within a directory it is not that good as i have to give path for each dir"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1469991707, "post_id": 38682985, "comment_id": 64754077, "body": "So you need to recursively find your files? That would be another question. Currently you asked how to match a dot <code>.</code> in a regex. This question was answered. Please post another question or -- even better -- see whether that was asked &amp; answered before. I&#39;m sure it was."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 3, "creation_date": 1469969049, "post_id": 38683188, "comment_id": 64747264, "body": "I&#39;d suggest adding two dollars: <code>if ( $file =~ &#47;\\.txt$&#47; or $file =~ &#47;.pl$&#47; ) {\u2026</code> to avoid false-positives (like <code>$file=&#39;sim.ply-wrong&#39;</code>)."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1469969985, "post_id": 38683188, "comment_id": 64747512, "body": "@PerlDog You should use <code>\\z</code> instead of <code>$</code> unless you want <code>&quot;file.txt\\n&quot;</code> to be considered a valid file name."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1469970851, "post_id": 38683188, "comment_id": 64747777, "body": "@Sinan&#220;n&#252;r You are right. Thank you. I&#39;m so used to <code>chomp</code>ing my input that I always forget about <code>\\z</code> vs. <code>$</code> because then there&#39;s no difference."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469999012, "post_id": 38683188, "comment_id": 64756204, "body": "It&#39;s best not to have to think whether it makes a difference or not (regardless of whether you are the coder or the reader)."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 6, "last_activity_date": 1469962669, "last_edit_date": 1469962669, "creation_date": 1469962214, "answer_id": 38683188, "question_id": 38682985, "link": "https://stackoverflow.com/questions/38682985/can-anyone-help-me-to-match-a-dot-in-perl/38683188#38683188", "title": "Can anyone help me to match a dot in perl", "body": "<p><code>.</code> by default matches any character except newline.\nFor matching <code>.</code> literally you need to escape it in regex.</p>\n\n<pre><code>if( $file =~ /\\.txt/ or $file =~ /\\.pl/) {\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6659657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689ed6d49d72bcf45fe41e7b7cb3e18a?s=128&d=identicon&r=PG&f=1", "display_name": "Akt 715", "link": "https://stackoverflow.com/users/6659657/akt-715"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 1, "answer_count": 1, "score": -4, "last_activity_date": 1469988028, "creation_date": 1469960578, "last_edit_date": 1469988028, "question_id": 38682985, "link": "https://stackoverflow.com/questions/38682985/can-anyone-help-me-to-match-a-dot-in-perl", "title": "Can anyone help me to match a dot in perl", "body": "<pre><code>  if( $file =~ /.txt/ or $file =~ /.pl/){\n        open(readFile,\"&lt;$file\") ;\n        @m=&lt;readFile&gt;;\n        open(writeFile, \"&gt;$file\") ;\n        print  writeFile\" following files are updated \";\n        print writeFile  @m; \n        close writeFile ;\n     }  \n</code></pre>\n\n<p>This code is not matching  the  . Txt its just matching txt what can i do to match the dot</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1469955850, "post_id": 38682285, "comment_id": 64744156, "body": "Seems to be a duplicate of the post <a href=\"http://stackoverflow.com/questions/3249508/transpose-in-perl\"><code>transpose in perl</code></a> and, subsequently, of the post <a href=\"http://stackoverflow.com/questions/18731502/transposing-csv-data-in-perl\"><code>transposing-csv-data-in-perl</code></a>. Let me know if I am missing some critical difference ...?"}, {"owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1469955939, "post_id": 38682285, "comment_id": 64744178, "body": "ahh I must have missed these. I&#39;ll have a quick read of these 2."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1469957216, "post_id": 38682285, "comment_id": 64744455, "body": "To add to my note of duplicates -- the solution below by <a href=\"http://stackoverflow.com/users/622310/borodin\">Borodin</a> is in my opinion better."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1469958863, "last_edit_date": 1469958863, "creation_date": 1469956542, "answer_id": 38682489, "question_id": 38682285, "link": "https://stackoverflow.com/questions/38682285/transpose-csv-data/38682489#38682489", "title": "Transpose CSV data", "body": "\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy @data = map {\n    chomp;\n    [ split /,/ ];\n} &lt;DATA&gt;;\n\nfor my $i ( 0 .. $#{ $data[0] } ) {\n    say join ', ', map { $_-&gt;[$i] // \"\" } @data;\n}\n\n__DATA__\nSite Activity,MI Report Outage 14:30 - 15:30,03:00 - 09:00 - Level 0 Diverter Installation - SCS Loop,03:00 - 09:00 - Level 1 Diverter Installation - SCS Loop,0,0,...\nPromotional Activity,0,0,0,0,0,...\nFiscal week,18,18,18,18,18,...\nWeek,31,31,31,31,31,...\nDate,31/07/2016,01/08/2016,02/08/2016,03/08/2016,04/08/2016,.....\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Site Activity, Promotional Activity, Fiscal week, Week, Date\nMI Report Outage 14:30 - 15:30, 0, 18, 31, 31/07/2016\n03:00 - 09:00 - Level 0 Diverter Installation - SCS Loop, 0, 18, 31, 01/08/2016\n03:00 - 09:00 - Level 1 Diverter Installation - SCS Loop, 0, 18, 31, 02/08/2016\n0, 0, 18, 31, 03/08/2016\n0, 0, 18, 31, 04/08/2016\n..., ..., ..., ..., .....\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 38682489, "answer_count": 1, "score": -1, "last_activity_date": 1469958863, "creation_date": 1469954618, "last_edit_date": 1592644375, "question_id": 38682285, "link": "https://stackoverflow.com/questions/38682285/transpose-csv-data", "title": "Transpose CSV data", "body": "\n<p>I have been looking around and I can see how to turn columns into rows but not vice versa.</p>\n<p><a href=\"https://stackoverflow.com/questions/25746610/transform-pivot-array-in-perl\">Example A</a></p>\n<p>What I am trying to achieve is the following:</p>\n<h3>Input data</h3>\n<pre class=\"lang-none prettyprint-override\"><code>Site Activity,MI Report Outage 14:30 - 15:30,03:00 - 09:00 - Level 0 Diverter Installation - SCS Loop,03:00 - 09:00 - Level 1 Diverter Installation - SCS Loop,0,0,...\nPromotional Activity,0,0,0,0,0,...\nFiscal week,18,18,18,18,18,...\nWeek,31,31,31,31,31,...\nDate,31/07/2016,01/08/2016,02/08/2016,03/08/2016,04/08/2016,.....\n</code></pre>\n<p>This is a snippet of the input data the actual data has over 200 fields (x axis)</p>\n<p>The output I am trying to achieve is as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Site Activity, Promotional Activity, Fisclal Week, Week, Date\nMI Report Outage 14:30 - 15:30, 0, 18, 31,31/07/2016\n03:00 - 09:00 - Level 0 Diverter Installation - SCS Loop, 0, 18, 31, 01/08/2016\n03:00 - 09:00 - Level 1 Diverter Installation - SCS Loop, 0, 18, 31, 02/08/2016\netc etc\n</code></pre>\n<p>My current code to return the input format is as follows:</p>\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/local/bin/perl\n\nopen file, &quot;EDCNDC-Daily-Volume-Forecast_Ops Forecast by Shift.csv&quot;\n        or die $!;    #Opens File or returns error thrown ($!)\n\nwhile ( &lt;file&gt; ) {\n\n    if ( $. &lt; 4 ) {\n        print &quot;&quot;;\n    }\n    elsif ( $. &gt; 8 ) {\n        print &quot;&quot;;\n    }\n    elsif ( $_ =~ /^\\,\\,\\,\\,/ ) {\n        print substr( $_, 4 );\n    }\n    else {\n        print $_;\n    }\n}\n\nclose file\n</code></pre>\n<p>I am having to transform CSV into a usable format hence why I am limiting the lines that are returned. (lines 8 and 11)</p>\n"}, {"tags": ["excel", "perl", "shell", "csv"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1469901974, "post_id": 38676866, "comment_id": 64733537, "body": "Hi Josh. This question as-is is off-topic here. SO is for getting help with specific code-related questions (eg: &quot;this is my snippet of code, but on line X, I can&#39;t figure out why Y isn&#39;t doing Z. I&#39;ve tried this, that and the other&quot;). It&#39;s not meant as a code writing service, code review service or overall &quot;why doesn&#39;t this program work&quot;. Please see <a href=\"http://stackoverflow.com/help/on-topic\">SO rules</a>. You&#39;re best off either learning how to code, or hire someone to write an application to your specifications. If you attempt it yourself, come back here with specific questions as you go."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6658131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3BIjlQPshaw/AAAAAAAAAAI/AAAAAAAAAAs/Obex_ACYv6E/photo.jpg?sz=128", "display_name": "Josh Carter", "link": "https://stackoverflow.com/users/6658131/josh-carter"}, "edited": false, "score": 0, "creation_date": 1469906069, "post_id": 38677300, "comment_id": 64734825, "body": "Thanks Borodin! Apologies for not following the rules, I will most definitely pay attention to these things in the future. Your solution works perfectly!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1469904092, "last_edit_date": 1469904092, "creation_date": 1469903785, "answer_id": 38677300, "question_id": 38676866, "link": "https://stackoverflow.com/questions/38676866/using-shell-script-to-redesign-a-csv-file/38677300#38677300", "title": "Using shell script to redesign a CSV file", "body": "<p>Put the output from your Perl script through this. It will generate the result you require</p>\n\n<p>You can pass the previous output as a parameter on the command line, or you can use a pipe to pass output of the previous script to this one without saving a file at all</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy @data;\n\nwhile ( &lt;&gt; ) {\n\n    s/\\s*-\\s*/-/;\n\n    my @fields = grep /\\d/, split;\n\n    pop @fields if /Overall|First Shell/;\n\n    if ( /mosaicity|Overall|First Shell|Last Shell/ ) {\n        push @data, \\@fields;\n    }\n    elsif ( /SG &amp; cell/ ) {\n        unshift @data, \\@fields;\n    }\n}\n\nprint join(' ', map @$_, @data), \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>p21 64.3 78.1 67.0 90.0 96.8 90.0 0.52-1.59 50.00-2.40 60827 23031 2.6 89.1 0.073 50.00-5.17 7173 2431 3.0 91.9 0.044 2.49-2.40 3105 1722 1.8 66.9 0.343 2.1\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6658131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3BIjlQPshaw/AAAAAAAAAAI/AAAAAAAAAAs/Obex_ACYv6E/photo.jpg?sz=128", "display_name": "Josh Carter", "link": "https://stackoverflow.com/users/6658131/josh-carter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 38677300, "answer_count": 1, "score": -3, "last_activity_date": 1469904092, "creation_date": 1469901223, "last_edit_date": 1495539860, "question_id": 38676866, "link": "https://stackoverflow.com/questions/38676866/using-shell-script-to-redesign-a-csv-file", "title": "Using shell script to redesign a CSV file", "body": "<p></p>\n\n<p>Currently I am using a Perl script that parses a log file and outputs a CSV file in this format:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ read_scalepack.pl HR00169_07.log \n\nmosaicity  0.52 -  1.59\n\nSG &amp; cell: p21    64.3    78.1    67.0    90.0    96.8    90.0            \n\n\n\nResolution    Measured    Unique  Redun.  %Complete  R-value  I/sigI\n\n\nOverall       50.00-2.40   60827       23031    2.6       89.1    0.073     11.3 \nFirst Shell   50.00-5.17   7173        2431     3.0       91.9    0.044     21.1 \n3 sig Shell   2.85-2.70    6473        2446     2.6       95.4    0.316     3.4 \nPenult Shell  2.59-2.49    4149        2056     2.0       80.1    0.370     2.4 \nLast Shell    2.49-2.40    3105        1722     1.8       66.9    0.343     2.1\n\nRejected observations.  Number: 1599   Percent: 2.6\n</code></pre>\n\n<p>I then use a very long method of importing this into separate worksheet in Excel, copying values in the format I want to the \"needed\" sheet then deleting the imported CSV sheet (painful to watch). What I need is to either edit the Perl script (which I have no experience with) or use a shell script to have the CSV file be as follows:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>p21 64.3 78.1 67.0 90.0 96.8 90.0 0.52-1.59 50.00-2.40 60827 23031 2.6 89.1 0.073 50.00-5.17 7173 2431 3.0 91.9 0.044 2.49-2.40 3105 1722 1.8 66.9 0.343 2.1\n</code></pre>\n\n<p>Basically one long line of statistics instead of stacked statistics with words.</p>\n\n<p>I am using in one line the values from (\"SG and cell\", \"mosaicity\", \"Overall\", \"First Shell\", \"Last Shell\"). So I am ignoring some lines as they are not useful. </p>\n\n<p>I researched the following article: <a href=\"https://stackoverflow.com/questions/33307972/editing-csv-files-design-implementation\"><em>Editing CSV Files (Design Implementation)</em></a></p>\n\n<p>This person seems to be doing what I want to do, however they do not show exactly how, or at least the part I need. </p>\n\n<p>I am also attaching a part of the Perl script in case it is better to approach it from that end, but again I have very little experience with Perl (warning Perl script is long).</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl -w\n\n...\n\n        #\n        #initialize\n        $int_over_sigma_cutoff = 2.95;\n        $flag_correct_lp       = 0;\n\n        # get information on file\n        if ( defined($last_file) ) {\n            @stat_list = stat( $images_directory . '/' . $images_dir_list[$last_file] );\n            $date_time = localtime( $stat_list[9] );\n            $date_time =~ s/^\\s+//;    # remove white space at beginning of line\n            @date_parts = split( / +/, $date_time );\n            $date = $date_parts[2] . '-' . uc( $date_parts[1] ) . '-' . $date_parts[4];\n        }\n    }\n\n    return $date;\n}\n\nsub read_xscale_lp {\n    #\n    my $junk;\n    my $flag_sg_cell   = 0;\n    my $flag_by_shells = 0;\n    #\n    # Read XSCALE.LP log file\n    while ( &lt;&gt; ) {\n        #\n        # get space group\n        if (/ THE DATA COLLECTION STATISTICS REPORTED BELOW ASSUMES:/) {\n            $flag_sg_cell = 1;\n        }\n        #\n        # get unit cell parameters\n        elsif ($flag_sg_cell) {\n\n            $line = $_;\n            chomp($line);\n            $line =~ s/^\\s+//;    # remove white space at beginning of line\n\n            @line_parts = split( / +/, $line );\n\n            if (/ SPACE_GROUP_NUMBER=/) {\n                $space_group = &amp;get_space_group_name( $line_parts[1] );\n            }\n            elsif (/ UNIT_CELL_CONSTANTS=/) {\n                @cell         = @line_parts[ 1 .. 7 ];\n                $flag_sg_cell = 0;\n            }\n        }\n        #\n        # get rejected measurements and total number of measured reflections\n        elsif (/REFLECTIONS REJECTED/) {\n\n            $line = $_;\n            chomp($line);\n            $line =~ s/^\\s+//;    # remove white space at beginning of line\n\n            @line_parts             = split( / +/, $line );\n            $number_rejected        = $line_parts[0];\n            $overall_measured_w_rej = $line_parts[3];\n        }\n        #\n        # test whether column 10 will be Rmrgd-F or CC(1/2)\n        elsif (/ Rmrgd-F/) {\n            $column10 = \"Rmrgd-F\";\n        }\n        elsif (m| CC\\(1/2\\)|) {\n            $column10 = \"CC1/2\";\n        }\n        #\n        # Find table and set flag\n        elsif (/ SUBSET OF INTENSITY DATA WITH SIGNAL\\/NOISE &gt;= \\-3.0 AS FUNCTION OF RESOLUTION/) {\n\n            $flag_by_shells = 1;\n            $is             = 0;\n\n            for ( $i = 0; $i &lt;= 2; $i++ ) {\n                $junk = &lt;&gt;;\n            }\n        }\n        #\n        # Make sure table flag is turned off\n        elsif (/ SUBSET OF INTENSITY DATA WITH SIGNAL\\/NOISE &gt;= \\-2.0 AS FUNCTION OF RESOLUTION/) {\n            $flag_by_shells = 0;\n        }\n        #\n        # Get information about R-values, I/sigI, etc.\n        elsif ($flag_by_shells) {\n\n            $line = $_;\n            chomp($line);\n            $line =~ s/^\\s+//;    # remove white space at beginning of line\n            $line =~ s/%//g;      # remove percentage sign from numbers\n\n            @line_parts = split( / +/, $line );\n            #\n            # Get overall values\n            if ( $line =~ /total/ ) {\n                $overall_measured = $line_parts[1];\n                $overall_unique   = $line_parts[2];\n\n                #       $overall_theoretical[is] = $line_parts[3];\n                $overall_complete     = $line_parts[4];\n                $overall_rvalue       = $line_parts[5] / 100;\n                $overall_int_over_sig = $line_parts[8];\n\n                #       $overall_r_redun_i[$is] = $line_parts[9];\n                if ( $column10 eq 'Rmrgd-F' ) {\n\n                    #       $overall_r_redun_f[$is] = $line_parts[10];\n                }\n                elsif ( $column10 eq 'CC1/2' ) {\n                    $line_parts[10] =~ s/\\*//;\n                    $overall_cc_onehalf = $line_parts[10] / 100.;\n                }\n\n                $flag_by_shells = 0;\n            }\n            #\n            # Store individuals shells in arrays\n            else {\n\n                if ( $is &gt; 0 ) {\n                    $low_res[$is] = $high_res[ $is - 1 ];\n                }\n\n                $high_res[$is] = $line_parts[0];\n                $measured[$is] = $line_parts[1];\n                $unique[$is]   = $line_parts[2];\n\n                #       $theoretical[is] = $line_parts[3];\n                $complete[$is]     = $line_parts[4];\n                $rvalue[$is]       = $line_parts[5] / 100;\n                $int_over_sig[$is] = $line_parts[8];\n\n                #       $r_redun_i[$is] = $line_parts[9];\n                if ( $column10 eq 'Rmrgd-F' ) {\n\n                    #       $r_redun_f[$is] = $line_parts[10];\n                }\n                elsif ( $column10 eq 'CC1/2' ) {\n                    $line_parts[10] =~ s/\\*//;\n                    $cc_onehalf[$is] = $line_parts[10] / 100.;\n                }\n\n                $is++;\n            }\n        }\n    }\n    #\n    # Get overall low and high resolution\n    if ( !defined( $low_res[0] ) ) {\n        $low_res[0] = 50.;\n    }\n\n    $overall_low_res  = $low_res[0];\n    $overall_high_res = $high_res[$#high_res];\n}\n\nsub read_mrfana {\n    #\n    # read autoPROC mrfana file and reduce binning to 10\n    my $line;\n    my @line_parts;\n    my $flag_table = 0;\n    my $ishell     = 0;\n    my $jshell     = 0;\n    #\n    while (&lt;&gt;) {\n        if (/binning will be in/) {\n\n            $line = $_;\n            $line =~ s/ +//;    # delete spaces at beginning of line\n            chomp($line);\n\n            @line_parts       = split( / +/, $line );\n\n            $no_of_shells     = $line_parts[4];\n            $no_of_new_shells = $no_of_shells / 10;\n\n            if ( $no_of_new_shells != int($no_of_new_shells) ) {\n                $flag_not_integer = 1;\n            }\n        }\n        elsif ( defined($flag_not_integer) &amp;&amp; /binning for run/ ) {\n\n            $line = $_;\n            $line =~ s/ +//;    # delete spaces at beginning of line\n            chomp($line);\n\n            @line_parts       = split( / +/, $line );\n\n            $no_of_shells     = $line_parts[7];\n            $no_of_new_shells = $no_of_shells / 10;\n\n            if ( $no_of_new_shells != int($no_of_new_shells) ) {\n                die \"$no_of_new_shells not evenly divisible by 10\\n\";\n            }\n            else {\n                undef($flag_not_integer);\n            }\n        }\n        elsif (/^            Resolution      \\#uniq   \\#R\\w\\w\\w /) {\n            $line       = &lt;&gt;;\n            $flag_table = 1;\n        }\n        elsif ( $flag_table == 1 ) {\n\n            if (/^ -------/) {\n\n                if ( $ishell != 10 ) {\n\n                    $high_res[$ishell] = $line_parts[2];\n\n                    if ( $unique[$ishell] &gt; 0 ) {\n                        $rvalue[$ishell]       = $rvalue[$ishell] / $unique[$ishell];\n                        $int_over_sig[$ishell] = $int_over_sig[$ishell] / $unique[$ishell];\n                        $complete[$ishell]     = 100. * $complete[$ishell] / $unique[$ishell];\n                        $redundancy[$ishell]   = $measured[$ishell] / $unique[$ishell];\n                    }\n                }\n                else {\n                    next;\n                }\n            }\n            elsif (/^ Total/) {\n\n                $line = $_;\n                $line =~ s/ +//;    # delete spaces at beginning of line\n                chomp($line);\n\n                @line_parts           = split( / +/, $line );\n\n                $overall_low_res      = $line_parts[1];\n                $overall_high_res     = $line_parts[3];\n                $overall_unique       = $line_parts[4];\n                $overall_measured     = $line_parts[5];\n                $overall_rvalue       = $line_parts[6];\n                $overall_int_over_sig = $line_parts[13];\n                $overall_complete     = 100. * $line_parts[14];\n                $overall_redundancy   = $line_parts[16];\n\n                if ( $#line_parts &lt;= 17 ) {\n                    $number_rejected = 0;\n                }\n                elsif ( $#line_parts &gt;= 25 ) {\n                    $number_rejected\n                            = $line_parts[18]\n                            + $line_parts[19]\n                            + $line_parts[20]\n                            + $line_parts[21]\n                            + $line_parts[22]\n                            + $line_parts[23]\n                            + $line_parts[24]\n                            + $line_parts[25];\n                }\n                else {\n                    $number_rejected = $line_parts[18];\n                }\n                last;\n            }\n            else {\n\n                $line = $_;\n                $line =~ s/ +//;    # delete spaces at beginning of line\n                chomp($line);\n\n                @line_parts = split( / +/, $line );\n\n                if ( $jshell % 10 == 0 ) {\n                    $low_res[$ishell]      = $line_parts[0];\n                    $unique[$ishell]       = $line_parts[3];\n                    $measured[$ishell]     = $line_parts[4];\n                    $rvalue[$ishell]       = $line_parts[5] * $line_parts[3];\n                    $int_over_sig[$ishell] = $line_parts[12] * $line_parts[3];\n                    $complete[$ishell]     = $line_parts[13] * $line_parts[3];\n                }\n                else {\n                    $unique[$ishell]   = $unique[$ishell] + $line_parts[3];\n                    $measured[$ishell] = $measured[$ishell] + $line_parts[4];\n                    $rvalue[$ishell]   = $rvalue[$ishell] + $line_parts[5] * $line_parts[3];\n                    $int_over_sig[$ishell]\n                            = $int_over_sig[$ishell] + $line_parts[12] * $line_parts[3];\n                    $complete[$ishell] = $complete[$ishell] + $line_parts[13] * $line_parts[3];\n                }\n\n                if ( $jshell % 10 == 9 ) {\n\n                    $high_res[$ishell] = $line_parts[2];\n\n                    if ( $unique[$ishell] &gt; 0 ) {\n                        $rvalue[$ishell]       = $rvalue[$ishell] / $unique[$ishell];\n                        $int_over_sig[$ishell] = $int_over_sig[$ishell] / $unique[$ishell];\n                        $complete[$ishell]     = 100. * $complete[$ishell] / $unique[$ishell];\n                        $redundancy[$ishell]   = $measured[$ishell] / $unique[$ishell];\n                    }\n\n                    $ishell++;\n                }\n\n                $jshell++;\n            }\n        }\n    }\n\n    return;\n}\n\nsub read_xengen {\n    #\n    my $i;\n    my $junk;\n    my $flag_sg_cell      = 0;\n    my $flag_redundancy   = 0;\n    my $flag_int_over_sig = 0;\n    #\n    while (&lt;&gt;) {\n        if (/Statistical Treatment of Crystallographic Data for/) {\n            $flag_sg_cell = 1;\n        }\n        #\n        # read through 2 blank lines and \"Crystal Description:\"\n        elsif ($flag_sg_cell) {\n            #\n            # get space group\n            if (/Crystal Spacegroup\\:/) {\n\n                $line = $_;\n                chomp($line);\n                $line =~ s/^\\s+//;    # remove white space at beginning of line\n\n                @line_parts = split( / +/, $line );\n\n                $line_parts[5] =~ s/\\,//;\n                $space_group = &amp;get_space_group_name( $line_parts[5] );\n            }\n            #\n            # get unit cell parameters\n            elsif (/Real-Space Parameters\\:/) {\n\n                $_    = &lt;&gt;;    # parameters are on next line\n                $line = $_;\n                chomp($line);\n                $line =~ s/^\\s+//;    # remove white space at beginning of line\n\n                @line_parts   = split( / +/, $line );\n\n                @cell         = @line_parts[ 0 .. 5 ];\n                $flag_sg_cell = 0;\n            }\n        }\n        elsif (/Summary of Observation Redundancies by Shells\\:/) {\n\n            for ( $i = 0; $i &lt;= 2; $i++ ) {\n                $junk = &lt;&gt;;\n            }\n\n            $is              = 0;\n            $flag_redundancy = 1;\n        }\n        elsif ($flag_redundancy) {\n\n            $line = $_;\n            chomp($line);\n            $line =~ s/^\\s+//;    # remove white space at beginning of line\n\n            @line_parts = split( / +/, $line );\n            #\n            # Get overall values\n            if ( $line =~ /Totals\\:/ ) {\n\n                #       $overall_theoretical = $line_parts[2];\n                $overall_unique = $line_parts[3];\n\n                if ( $line_parts[2] &gt; 0 ) {\n                    $overall_complete = 100 * $line_parts[3] / $line_parts[2];\n                }\n                else {\n                    $overall_complete = 0;\n                }\n\n                $overall_measured = $line_parts[13];\n                $flag_redundancy  = 0;\n            }\n            else {\n\n                if ( $is &gt; 0 ) {\n                    $low_res[$is] = $high_res[ $is - 1 ];\n                }\n\n                $high_res[$is] = $line_parts[0];\n\n                #       $theoretical[$is] = $line_parts[2];\n                $unique[$is] = $line_parts[3];\n\n                if ( $line_parts[2] &gt; 0 ) {\n                    $complete[$is] = 100 * $line_parts[3] / $line_parts[2];\n                }\n                else {\n                    $complete[$is] = 0;\n                }\n                $measured[$is] = $line_parts[13];\n                $is++;\n            }\n        }\n        elsif (/Summary of Reflection Intensities and R-factors by Shells\\:/) {\n\n            for ( $i = 0; $i &lt;= 3; $i++ ) {\n                $junk = &lt;&gt;;\n            }\n\n            $is                = 0;\n            $flag_int_over_sig = 1;\n        }\n        elsif ($flag_int_over_sig) {\n\n            $line = $_;\n            chomp($line);\n            $line =~ s/^\\s+//;    # remove white space at beginning of line\n\n            @line_parts = split( / +/, $line );\n            #\n            # Get overall values for I/sigI and R-value\n            if ( $line =~ /Totals\\:/ ) {\n                $overall_int_over_sig = $line_parts[2];\n                $overall_rvalue       = $line_parts[17] / 100;\n                $flag_int_over_sig    = 0;\n            }\n            #\n            # Store individual shells in arrays for I/sigI and R-value\n            else {\n                $int_over_sig[$is] = $line_parts[2];\n                $rvalue[$is]       = $line_parts[17] / 100;\n                $is++;\n            }\n        }\n    }\n}\n\nsub check_for_scala_log {\n    my @dir_pieces = split( /\\//, $_[0] );\n    my $line;\n    my @line_parts;\n    my $scala_log;\n    my $flag_dataset_id  = 0;\n    my $flag_space_group = 0;\n    my $count            = 0;\n    #\n    if ( $#dir_pieces &gt; 0 ) {\n        $scala_log = join( '/', @dir_pieces[ 0 .. $#dir_pieces - 1 ] ) . '/scala.log';\n    }\n    else {\n        $scala_log = 'scala.log';\n    }\n    if ( -e $scala_log ) {\n\n        open( LOG, \"&lt;$scala_log\" ) || die \"Unable to open $scala_log\\n\";\n\n        while (&lt;LOG&gt;) {\n\n            if ( m|Dataset ID, project/crystal/dataset names, cell dimensions, wavelength|\n                &amp;&amp; $flag_dataset_id == 0 ) {\n\n                $flag_dataset_id = 1;\n\n                $line            = &lt;LOG&gt;;    # blank line -- skip\n                $line            = &lt;LOG&gt;;    # Dataset ID project name\n                $line            = &lt;LOG&gt;;    # crystal name\n                $line            = &lt;LOG&gt;;    # dataset name\n                $line            = &lt;LOG&gt;;    # cell dimensions\n                $line =~ s/ +//;             # delete spaces at beginning of line\n                chomp($line);\n\n                @cell = split( / +/, $line );\n\n                $line = &lt;LOG&gt;;    # wavelength\n                $line =~ s/ +//;    # delete spaces at beginning of line\n                chomp($line);\n\n                $wavelength = $line;\n                $count      = $count + 6;\n            }\n            elsif ( /Space group =/ &amp;&amp; $flag_space_group == 0 ) {\n                $flag_space_group = 1;\n                $line             = $_;\n                $space_group      = substr(\n                    $line,\n                    index( $line, \"\\'\" ) + 1,\n                    rindex( $line, \"\\'\" ) - ( index( $line, \"\\'\" ) + 1 ) );\n                $space_group =~ s/ //g;\n                $count = $count + 2;\n            }\n\n            $count++;\n        }\n    }\n}\n\nsub check_for_aimless_log {\n    my @dir_pieces = split( /\\//, $_[0] );\n    my $line;\n    my @line_parts;\n    my $aimless_log;\n    my $flag_average_unit_cell = 0;\n    my $flag_space_group       = 0;\n    #\n    if ( $#dir_pieces &gt; 0 ) {\n        $aimless_log = join( '/', @dir_pieces[ 0 .. $#dir_pieces - 1 ] ) . '/aimless.log';\n    }\n    else {\n        $aimless_log = 'aimless.log';\n    }\n\n    if ( -e $aimless_log ) {\n\n        open( LOG, \"&lt;$aimless_log\" ) || die \"Unable to open $aimless_log\\n\";\n\n        while (&lt;LOG&gt;) {\n\n            if ( /Average unit cell/ &amp;&amp; $flag_average_unit_cell == 0 ) {\n\n                $flag_average_unit_cell = 1;\n\n                $line = $_;\n                $line =~ s/ +//;    # delete spaces at beginning of line\n                chomp($line);\n\n                @line_parts = split( / +/, $line );\n\n                @cell = @line_parts[ 3 .. 8 ];\n            }\n            elsif (/Wavelength/) {\n\n                $line = $_;\n                $line =~ s/ +//;    # delete spaces at beginning of line\n                chomp($line);\n\n                @line_parts = split( / +/, $line );\n\n                $wavelength = $line_parts[1];\n            }\n            elsif (/Space group\\:/) {\n\n                $line = $_;\n                $line =~ s/ +//;    # delete spaces at beginning of line\n                chomp($line);\n\n                $space_group = substr( $line, index( $line, \"\\:\" ) + 1 );\n                $space_group =~ s/ //g;\n            }\n            elsif (/Average mosaicity/) {\n\n                $line = $_;\n                $line =~ s/ +//;    # delete spaces at beginning of line\n\n                @line_parts = split( / +/, $line );\n\n                $average_mosaicity = $line_parts[2];\n\n                if ( $mosaicity_min &gt;= 1000. ) {\n                    $mosaicity_min = $average_mosaicity;\n                }\n\n                if ( $mosaicity_max &lt;= -1000. ) {\n                    $mosaicity_max = $average_mosaicity;\n                }\n            }\n        }\n    }\n}\n\nsub read_scl_in {\n    #\n    # read scl.in, extract some information, and store scl.in in list\n    my $i_zone = 0;\n    my $line;\n    my @line_parts;\n    my $flag_est_err = 0;\n    my $file;\n    #\n    my @dir_pieces = split( /\\//, $_[0] );\n\n    if ( $#dir_pieces &gt; 0 ) {\n        $file = join( '/', @dir_pieces[ 0 .. $#dir_pieces - 1 ] ) . '/scl.in';\n    }\n    else {\n        $file = 'scl.in';\n    }\n    #\n    # Open old file\n    #    open(INFILE,\"&lt;$file\") or die \"unable to open $file\";\n    open( INFILE, \"&lt;$file\" ) or return;\n\n    while (&lt;INFILE&gt;) {\n\n        $line = $_;\n        chomp($line);\n\n        if (/number of zones/) {\n\n            $line =~ s/^\\s+//;    # remove white space at beginning of line\n\n            @line_parts = split( / +/, $line );\n\n            $n_zone = $line_parts[3];\n        }\n        elsif (/estimated error/) {\n            $flag_est_err = 1;\n        }\n        elsif ( /space group/ &amp;&amp; !defined($space_group) ) {\n            $space_group = 1;\n        }\n        elsif ( $flag_est_err == 1 ) {\n\n            $line =~ s/^\\s+//;    # remove white space at beginning of line\n\n            @line_parts = split( / +/, $line );\n\n            if ( $i_zone == 0 ) {\n                @est_err = @line_parts;\n            }\n            else {\n                push( @est_err, @line_parts );\n            }\n\n            $i_zone = $i_zone + scalar(@line_parts);\n\n            if ( $i_zone == $n_zone ) {\n                last;\n            }\n        }\n    }\n\n    close(INFILE);\n}\n\nsub read_output_sca {\n    #\n    # read output.sca to get cell parameters when reading scale.out for statistics\n    my $junk;\n    my $line;\n    my @line_parts;\n    my $file;\n    #\n    my @dir_pieces = split( /\\//, $_[0] );\n\n    if ( $#dir_pieces &gt; 0 ) {\n        $file = join( '/', @dir_pieces[ 0 .. $#dir_pieces - 1 ] ) . '/output.sca';\n    }\n    else {\n        $file = 'output.sca';\n    }\n    #\n    if ( -e $file ) {\n\n        open( SCA, \"&lt;$file\" );\n        $junk = &lt;SCA&gt;;    # Skip first and second lines\n        $junk = &lt;SCA&gt;;\n        $line = &lt;SCA&gt;;    # Unit cell and space group are third line\n        close(SCA);\n\n        $line =~ s/^\\s+//;    # remove white space at beginning of line\n\n        @line_parts  = split( / +/, $line );\n\n        @cell        = @line_parts[ 0 .. 5 ];    # Unit cell parameters are first 6 values\n        $space_group = $line_parts[6];           # Space group is 7th value\n    }\n}\n\nsub get_space_group_name {\n    #\n    # Use space group dictionary to translate from number to name\n    $space_group_number = $_[0];\n\n    open( SGDIC, \"&lt;/ap/bms/mmc/space.dic\" );\n\n    while (&lt;SGDIC&gt;) {\n\n        if (/^(P|A|B|C|I|F|R)/) {\n\n            $line = $_;\n            chomp($line);\n\n            if ( substr( $line, 21, 3 ) == $space_group_number ) {\n                @line_parts = split( / +/, $line );\n                $space_group = $line_parts[0];\n                last;\n            }\n        }\n    }\n\n    return $space_group;\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1469893644, "post_id": 38675354, "comment_id": 64731206, "body": "Beware that <code>[0-999]</code> does <i>not</i> mean &quot;the numbers from 0 to 999&quot;. It means &quot;a digit (only one!) in the range 0-9 or a 9 or a 9&quot; which reduces to &quot;a single digit from 0 to 9&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "edited": false, "score": 0, "creation_date": 1469891661, "post_id": 38675406, "comment_id": 64730577, "body": "awesome thanks. Could you just explain what that does does perl evaluate the brackets first and also what does the \\1 and \\2 mean/do?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "edited": false, "score": 1, "creation_date": 1469891945, "post_id": 38675406, "comment_id": 64730653, "body": "@glly: the <code>\\1</code> and <code>\\2</code> represent capture groups. The parens <code>()</code> in a Perl regex in this case captures. The left side one captures <code>&quot;\\d+</code>, the second one on the right captures <code>\\d+&quot;</code>, and they go into <code>\\1</code> and <code>\\2</code> respectively. The comma is outside of both capture groups, so it has to match, but it isn&#39;t captured. In the substitution side, the first and second capture groups are put back in, less the comma. So it&#39;s not really replacing the comma in this case, it&#39;s just capturing what its surrounded by and replacing the whole string with itself, less the comma"}, {"owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "edited": false, "score": 0, "creation_date": 1469892142, "post_id": 38675406, "comment_id": 64730710, "body": "ahh that makes sense looking at it now, Thank you. Is always good to know."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1469893240, "post_id": 38675406, "comment_id": 64731072, "body": "Perl isn&#39;t sed. You should read <a href=\"http://perldoc.perl.org/perlre.html#Warning-on-%5c1-Instead-of-%241\" rel=\"nofollow noreferrer\"><i>Warning on <code>\\1</code> Instead of <code>$1</code></i></a>"}, {"owner": {"reputation": 5466, "user_id": 1803692, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/umD6Q.jpg?s=128&g=1", "display_name": "Vogel612", "link": "https://stackoverflow.com/users/1803692/vogel612"}, "edited": false, "score": 0, "creation_date": 1469898973, "post_id": 38675406, "comment_id": 64732721, "body": "You could be more exact in your digit matching groups by using <code>{1,3}</code> for the first and <code>{3}</code> for the second."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 5466, "user_id": 1803692, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/umD6Q.jpg?s=128&g=1", "display_name": "Vogel612", "link": "https://stackoverflow.com/users/1803692/vogel612"}, "edited": false, "score": 0, "creation_date": 1469899616, "post_id": 38675406, "comment_id": 64732892, "body": "@Vogel612 True for the example lines shown here but that won&#39;t catch &quot;1234,56&quot;. It depends on the actual input. A simple <code>\\d+</code> will catch them all."}, {"owner": {"reputation": 5466, "user_id": 1803692, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/umD6Q.jpg?s=128&g=1", "display_name": "Vogel612", "link": "https://stackoverflow.com/users/1803692/vogel612"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1469899769, "post_id": 38675406, "comment_id": 64732932, "body": "@PerlDog check the original post. I am rather sure OP only wants to match numbers smaller than 1000. (check for the incorrect character-class). Also removing the comma is only possible without data loss if you know how many places there are after the comma in the first place. This (and the fact that the example only contains 3 digits after the comma) leads me to believe that this fits OP&#39;s criteria better."}], "tags": [], "owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "is_accepted": true, "score": 1, "last_activity_date": 1512719750, "last_edit_date": 1512719750, "creation_date": 1469891384, "answer_id": 38675406, "question_id": 38675354, "link": "https://stackoverflow.com/questions/38675354/remove-commas-from-numeric-fields-of-a-csv-file/38675406#38675406", "title": "Remove commas from numeric fields of a CSV file", "body": "<pre><code>perl -pe 's/(\"\\d+),(\\d+\")/$1$2/g' infile.txt\n</code></pre>\n\n<ul>\n<li><code>\"\\d+</code> double quote followed by one or more digits</li>\n<li><code>,</code> match a comma</li>\n<li><code>\\d+\"</code> one or more digits followed by double quote</li>\n<li><code>()</code> grouping used to capture matched pattern</li>\n<li><code>$1</code> first captured group</li>\n<li><code>$2</code> second captured group</li>\n</ul>\n\n<p>If you want to change the file inplace, use</p>\n\n<pre><code>perl -i.bkp -pe 's/(\"\\d+),(\\d+\")/$1$2/g' infile.txt\n</code></pre>\n\n<p>which will change <code>infile.txt</code> as well create a backup of original file as <code>infile.txt.bkp</code> </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1469894976, "last_edit_date": 1469894976, "creation_date": 1469893774, "answer_id": 38675744, "question_id": 38675354, "link": "https://stackoverflow.com/questions/38675354/remove-commas-from-numeric-fields-of-a-csv-file/38675744#38675744", "title": "Remove commas from numeric fields of a CSV file", "body": "\n\n<p>If there is only ever a single comma in the numeric fields then you can use</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -pe 's/\"\\d+\\K,//g' input.txt\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>13/9/16,\"71150\",\"49122\",\"13212\",\"3135\",\"3652\",\"140271\",0,Pull,301 Off,Standard,0,\"6237\",43,53,0,\"6141\",\"3641\",\"2500\",\"25353\",\"4136\",\"4004\",335,89,\"1909\",312,382,49,183,0,\"44778\"\n14/9/16,\"72799\",\"53420\",\"13130\",\"3359\",\"3798\",\"146506\",0,Pull,301 Off,Standard,0,\"6779\",45,56,0,\"6678\",\"4178\",\"2500\",\"25940\",\"4232\",\"3979\",349,96,\"1953\",319,409,51,190,0,\"46525\"\n15/9/16,\"97532\",\"16861\",\"12386\",\"6066\",\"17323\",\"150168\",F&amp;F,+24,301 On,Standard,0,\"2413\",203,102,0,\"2108\",\"1054\",\"1054\",\"34753\",\"5670\",\"3754\",\"1588\",172,\"2616\",427,739,231,867,0,\"49546\"\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 3963654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/830a19cd20383125c5e5794b6b0a31d9?s=128&d=identicon&r=PG&f=1", "display_name": "glly", "link": "https://stackoverflow.com/users/3963654/glly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 38675406, "answer_count": 2, "score": 0, "last_activity_date": 1512719750, "creation_date": 1469891131, "last_edit_date": 1469893496, "question_id": 38675354, "link": "https://stackoverflow.com/questions/38675354/remove-commas-from-numeric-fields-of-a-csv-file", "title": "Remove commas from numeric fields of a CSV file", "body": "<p></p>\n\n<p>I have a input file like the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>13/9/16,\"71,150\",\"49,122\",\"13,212\",\"3,135\",\"3,652\",\"140,271\",0,Pull,301 Off,Standard,0,\"6,237\",43,53,0,\"6,141\",\"3,641\",\"2,500\",\"25,353\",\"4,136\",\"4,004\",335,89,\"1,909\",312,382,49,183,0,\"44,778\"\n14/9/16,\"72,799\",\"53,420\",\"13,130\",\"3,359\",\"3,798\",\"146,506\",0,Pull,301 Off,Standard,0,\"6,779\",45,56,0,\"6,678\",\"4,178\",\"2,500\",\"25,940\",\"4,232\",\"3,979\",349,96,\"1,953\",319,409,51,190,0,\"46,525\"\n15/9/16,\"97,532\",\"16,861\",\"12,386\",\"6,066\",\"17,323\",\"150,168\",F&amp;F,+24,301 On,Standard,0,\"2,413\",203,102,0,\"2,108\",\"1,054\",\"1,054\",\"34,753\",\"5,670\",\"3,754\",\"1,588\",172,\"2,616\",427,739,231,867,0,\"49,546\"\n</code></pre>\n\n<p>I am trying to delete the commas <code>,</code> in strings that start and end with double-quote <code>\"</code>.</p>\n\n<p>So for example line 1 has the string <code>\"71,150\"</code> I would like that to look like <code>\"71150\"</code> with the rest of line 1 around it.</p>\n\n<p>so the complete output for line 1 would look like the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>13/9/16,\"71150\",\"49122\",\"13212\",\"3135\",\"3652\",\"140271\",0,Pull,301 Off,Standard,0,\"6237\",43,53,0,\"6141\",\"3641\",\"2500\",\"25353\",\"4136\",\"4004\",335,89,\"1909\",312,382,49,183,0,\"44778\"\n</code></pre>\n\n<p>I was thinking of something like </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>s/\\,//g\n</code></pre>\n\n<p>but that will replace all of the commas in the entire file.</p>\n\n<p>I know I can use the following line of code to find the strings that I want to change:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/\\\"[0-999]\\,[0-999]\\\"/\n</code></pre>\n\n<p>but I don't know where to go from there.</p>\n"}, {"tags": ["perl", "docker", "dockerfile", "cpan"], "comments": [{"owner": {"reputation": 7887, "user_id": 786662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S1PVE.jpg?s=128&g=1", "display_name": "ldg", "link": "https://stackoverflow.com/users/786662/ldg"}, "edited": false, "score": 0, "creation_date": 1469906362, "post_id": 38674674, "comment_id": 64734909, "body": "Option 3 or some variant would seem the most &quot;Docker-appropriate&quot; solution. If you follow an organized tagging strategy, users &quot;upgrading&quot; to the most recent version would be able to utilize the previous image layers and only need to build the most recent. You may want to create a &quot;base&quot; version with a different name to avoid having to do a full build in case you ever need to a full re-build."}, {"owner": {"reputation": 391, "user_id": 40631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1fe1bdfdb320554f92c92a61d1a8088?s=128&d=identicon&r=PG", "display_name": "Gilimanjaro", "link": "https://stackoverflow.com/users/40631/gilimanjaro"}, "edited": false, "score": 0, "creation_date": 1532676952, "post_id": 38674674, "comment_id": 90072960, "body": "I found this (old) question because I&#39;m investigating what strategy to use for a similar problem. You&#39;ve probably solved this already, but I just wanted to chime in with a few points: 1. Sounds like you are using the OS&#39;s perl and package manager. Most OS&#39;s will only update perl module packages if there are security implications, so for updates I&#39;d probably indeed rebuild the base image. Same for new additional packages (once you want them in actual production at least). Also consider locking what versions you want in your application, maybe with the help of Carton. No solution, just tips :-)"}], "answers": [{"comments": [{"owner": {"reputation": 3167, "user_id": 1751825, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c157caf2d0f9ff38e5a9820315c0a15f?s=128&d=identicon&r=PG&f=1", "display_name": "user1751825", "link": "https://stackoverflow.com/users/1751825/user1751825"}, "edited": false, "score": 0, "creation_date": 1469924644, "post_id": 38679367, "comment_id": 64738970, "body": "Yes, I&#39;ve been using official packages when I can find them. I&#39;m most familiar with Ubuntu, so have been using apt-get. I have been wondering though if it might be safer to use an official perl docker base, with a specific perl version that is known to work with our applications. The trouble with this is that it seems to ignore the apt-get packaged libraries."}, {"owner": {"reputation": 3167, "user_id": 1751825, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c157caf2d0f9ff38e5a9820315c0a15f?s=128&d=identicon&r=PG&f=1", "display_name": "user1751825", "link": "https://stackoverflow.com/users/1751825/user1751825"}, "edited": false, "score": 0, "creation_date": 1469924896, "post_id": 38679367, "comment_id": 64739005, "body": "Unfortunately there are quite a few modules we need which don&#39;t seen to be in the official os packages."}, {"owner": {"reputation": 3167, "user_id": 1751825, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c157caf2d0f9ff38e5a9820315c0a15f?s=128&d=identicon&r=PG&f=1", "display_name": "user1751825", "link": "https://stackoverflow.com/users/1751825/user1751825"}, "edited": false, "score": 0, "creation_date": 1469957398, "post_id": 38679367, "comment_id": 64744505, "body": "Another option I&#39;ve seen suggested is using something like local::lib, and then installing all required modules on a build instance running the same os and perl, and then manually packaging and deploying the whole lib folder. Would this offer any benefits over creating individual packages from modules?"}, {"owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "reply_to_user": {"reputation": 3167, "user_id": 1751825, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c157caf2d0f9ff38e5a9820315c0a15f?s=128&d=identicon&r=PG&f=1", "display_name": "user1751825", "link": "https://stackoverflow.com/users/1751825/user1751825"}, "edited": false, "score": 0, "creation_date": 1469959104, "post_id": 38679367, "comment_id": 64744863, "body": "You could use a docker volume where all the modules are installed to which  would be shared across all images on a host. I think it would work but you would be bound to that OS and version"}], "tags": [], "owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "is_accepted": true, "score": 3, "last_activity_date": 1469952210, "last_edit_date": 1469952210, "creation_date": 1469920733, "answer_id": 38679367, "question_id": 38674674, "link": "https://stackoverflow.com/questions/38674674/how-should-i-handle-perl-module-updates-when-maintaining-docker-images/38679367#38679367", "title": "How should I handle Perl module updates when maintaining docker images?", "body": "<p>You could use the standard module installer for your underlying OS on your docker image.</p>\n\n<p>For example, if its RedHat then use yum and only use CPAN when they are not available </p>\n\n<pre><code>FROM centos:centos7\n  RUN  yum -y install cpanm gcc perl perl-App-cpanminus perl-Config-Tiny &amp;&amp;  yum clean all\n  RUN cpanm install Some::Module; rm -fr root/.cpanm; exit 0\n</code></pre>\n\n<p>taken from <a href=\"https://hub.docker.com/r/jeremymarshall/docker-teradata-client-perl/~/dockerfile/\" rel=\"nofollow\">here</a> and modified</p>\n\n<p>I would try to have a base image which the actual applications use</p>\n\n<p>I would also avoid doing things interactively (e.g. script a dockerfile) as you want to be able to repeat the build when upstream dependencies change, which docker hub does for you.</p>\n\n<hr>\n\n<p>EDIT\nYou can convert perl modules into your own packages using <a href=\"http://search.cpan.org/~dam/DhMakePerl-0.89/dh-make-perl\" rel=\"nofollow\">dh-make-perl</a> </p>\n\n<p>You can load these into your own Ubuntu repo using <a href=\"https://wikitech.wikimedia.org/wiki/Reprepro\" rel=\"nofollow\">reprepro</a> or a paid solution of <a href=\"https://www.jfrog.com/confluence/display/RTF/Debian+Repositories\" rel=\"nofollow\">Artifactory</a></p>\n\n<p>These can then be installed using apt-get when you use your repo as a source from within a dockerfile. </p>\n\n<p>When I have tried a similar thing before There are a few problems</p>\n\n<ul>\n<li>Your apps don't work with the latest version of modules</li>\n<li>There are far more dependencies than you expected</li>\n<li>Some modules wont package</li>\n</ul>\n\n<p>Benefits are</p>\n\n<ul>\n<li>You keep the build tools (gcc, etc) off the app servers</li>\n<li>You know much more about your dependencies</li>\n</ul>\n"}], "owner": {"reputation": 3167, "user_id": 1751825, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c157caf2d0f9ff38e5a9820315c0a15f?s=128&d=identicon&r=PG&f=1", "display_name": "user1751825", "link": "https://stackoverflow.com/users/1751825/user1751825"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4224, "favorite_count": 3, "accepted_answer_id": 38679367, "answer_count": 1, "score": 5, "last_activity_date": 1469952210, "creation_date": 1469886695, "last_edit_date": 1469904607, "question_id": 38674674, "link": "https://stackoverflow.com/questions/38674674/how-should-i-handle-perl-module-updates-when-maintaining-docker-images", "title": "How should I handle Perl module updates when maintaining docker images?", "body": "<p>I'm working on building a docker image to be able to run all of our Perl applications. The applications require hundreds of CPAN modules to be installed. The full build of the docker image takes about an hour to complete.</p>\n\n<p>After doing the initial image, I'm not sure how best to handle ongoing updates.</p>\n\n<ol>\n<li><p>We could keep a single Dockerfile in git, and then modify this as required, and push new builds up to dockerhub. However if the person doing the build doesn't have all of the intermediate images, then adding a single CPAN module could be an extremely tedious process, and it might take an hour before they even know if the new module installs correctly. Also it would be downloading every CPAN module again, which seems a bit risky, as there might be a breaking change in the new module.</p></li>\n<li><p>Alternatively, the person doing the build could pull the latest docker-hub image, and then install the cpan module interactively, commit the build and push the new image to dockerhub. However then we only have our dockerhub images, but not master Dockerfile.</p></li>\n<li><p>Or another option would be to create a Dockerfile for each new build, which references the previous dockerhub image. This seems overly complicated though.</p></li>\n</ol>\n\n<p>Option 1) seems wrong. I'm fairly sure we don't want to be rebuilding the entire image from the base OS just to install one additional module. However being dependent on images without Dockerfiles seems risky as well.</p>\n"}, {"tags": ["perl", "dbi", "storable"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 5, "creation_date": 1469829265, "post_id": 38667901, "comment_id": 64716986, "body": "That sounds like a terrible idea. Also, where&#39;s the rest of your code?"}, {"owner": {"reputation": 11, "user_id": 6656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fa90bbddd5614f7d4b71d28df270ad6?s=128&d=identicon&r=PG&f=1", "display_name": "everton gava", "link": "https://stackoverflow.com/users/6656057/everton-gava"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1469830168, "post_id": 38667901, "comment_id": 64717226, "body": "My code have 10 packages (class). My application need optimized number connections with database. My application begin with one connection with database, it did 100 forks sharing connections. If one child open connection, it share the connection with parent and other process. I did same semaphores to control access to connections"}, {"owner": {"reputation": 11, "user_id": 6656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fa90bbddd5614f7d4b71d28df270ad6?s=128&d=identicon&r=PG&f=1", "display_name": "everton gava", "link": "https://stackoverflow.com/users/6656057/everton-gava"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1469830792, "post_id": 38667901, "comment_id": 64717436, "body": "Could I send to you?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1469830961, "post_id": 38667901, "comment_id": 64717492, "body": "This sounds like an elaborate attempt at connection pooling."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fa90bbddd5614f7d4b71d28df270ad6?s=128&d=identicon&r=PG&f=1", "display_name": "everton gava", "link": "https://stackoverflow.com/users/6656057/everton-gava"}, "edited": false, "score": 0, "creation_date": 1469831175, "post_id": 38668197, "comment_id": 64717569, "body": "So as I share connections open after the fork?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 11, "user_id": 6656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fa90bbddd5614f7d4b71d28df270ad6?s=128&d=identicon&r=PG&f=1", "display_name": "everton gava", "link": "https://stackoverflow.com/users/6656057/everton-gava"}, "edited": false, "score": 2, "creation_date": 1469831338, "post_id": 38668197, "comment_id": 64717625, "body": "@evertongava: fork is a system call which clones the whole processes. This includes all user space and all kernel data. So it will work first. But it might stop working if you use the same database handle after the fork from multiple processes because there might be a state involved which gets not shared between these processes. This might be different between database drivers but it is definitely true if the database connection is done with TLS."}, {"owner": {"reputation": 11, "user_id": 6656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fa90bbddd5614f7d4b71d28df270ad6?s=128&d=identicon&r=PG&f=1", "display_name": "everton gava", "link": "https://stackoverflow.com/users/6656057/everton-gava"}, "edited": false, "score": 0, "creation_date": 1469832360, "post_id": 38668197, "comment_id": 64717902, "body": "The idea is to have an application that could have 10-100 connections with database. I start one semget with 100 semaphores but only one connection. As demand increases, it open another connections and use another semaphores. If demand decrease and connections are idle for one minute, they are closed. This system controls on-board computers of 300,000 vehicles are 3,000 messages per minute. But there are times of the day It need more resources and times It less resources. Each vehicle has an intelligent agent (process) that track it for a period. It is a legacy system made in perl."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 11, "user_id": 6656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fa90bbddd5614f7d4b71d28df270ad6?s=128&d=identicon&r=PG&f=1", "display_name": "everton gava", "link": "https://stackoverflow.com/users/6656057/everton-gava"}, "edited": false, "score": 5, "creation_date": 1469856648, "post_id": 38668197, "comment_id": 64722001, "body": "@evertongava: it does not matter what kind of application you have: serialization of database handle will still not work. If you want to know how to design the application with that limitation in mind please ask a different question with more details about the application and its current design."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 12, "last_activity_date": 1469830338, "creation_date": 1469830338, "answer_id": 38668197, "question_id": 38667901, "link": "https://stackoverflow.com/questions/38667901/serialize-and-deserialize-perl-dbi-connection-object/38668197#38668197", "title": "Serialize and deserialize perl DBI connection object", "body": "<p>You cannot serialize a database handle/connection since it consists of user space data not reachable by Storable (i.e. outside Perl and inside the database library and maybe also in the TLS library) and also kernel data like file descriptors. </p>\n"}], "owner": {"reputation": 11, "user_id": 6656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fa90bbddd5614f7d4b71d28df270ad6?s=128&d=identicon&r=PG&f=1", "display_name": "everton gava", "link": "https://stackoverflow.com/users/6656057/everton-gava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469830338, "creation_date": 1469828613, "last_edit_date": 1469829127, "question_id": 38667901, "link": "https://stackoverflow.com/questions/38667901/serialize-and-deserialize-perl-dbi-connection-object", "title": "Serialize and deserialize perl DBI connection object", "body": "<p>I need serialize one array with DBI connection objects to shared with others process using shared memory. But deserialize not working.</p>\n\n<p>use storable qw/freeze thaw/;</p>\n\n<pre><code>my @connections;\n\nfor(my $c = 0;$c &lt; 5;$c++) {\n  my $conn = DBI-&gt;connect($dsn,$user,$password,{'AutoCommit' =&gt; 1, 'RaiseError' =&gt; 1, 'PrintError' =&gt; 0});\n  push(@connections,$conn);\n}\n\nmy $shm = freeze(@connections);\nmy $obj = thaw($shm);\n</code></pre>\n\n<p>Return error:\nGlobal symbol </p>\n\n<blockquote>\n  <p>\"$drh\" requires explicit package name (did you forget to declare \"my\n  $drh\"?) at (eval 33) line 6.</p>\n</blockquote>\n"}, {"tags": ["perl", "svg", "interactive"], "comments": [{"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1469865464, "post_id": 38667654, "comment_id": 64723745, "body": "crosspost at <a href=\"http://perlmonks.com/?node_id=1168835\" rel=\"nofollow noreferrer\">perlmonks.com/?node_id=1168835</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1469933727, "creation_date": 1469933727, "answer_id": 38680341, "question_id": 38667654, "link": "https://stackoverflow.com/questions/38667654/mouse-action-svg/38680341#38680341", "title": "Mouse Action SVG", "body": "<p>The documentation is a little sparse, but you can always consult a package's test files for inspiration.   </p>\n\n<p><a href=\"https://github.com/szabgab/SVG/blob/master/t/09-script.t\" rel=\"nofollow\">https://github.com/szabgab/SVG/blob/master/t/09-script.t</a></p>\n\n<p><strong>t/09-script.t - lines 39-49</strong></p>\n\n<pre><code>my $rect = $svg-&gt;rect(\n    x       =&gt; 10,\n    y       =&gt; 10,\n    fill    =&gt; 'red',\n    stroke  =&gt; 'black',\n    width   =&gt; '10',\n    height  =&gt; '10',\n    onclick =&gt; \"alert('hello'+' '+'world')\"\n);\n\n$out = $rect-&gt;xmlify;\n</code></pre>\n\n<p><strong>produces svg snippet</strong></p>\n\n<pre><code>&lt;rect fill=\"red\" height=\"10\" onclick=\"alert('hello'+' '+'world')\" stroke=\"black\" width=\"10\" x=\"10\" y=\"10\" /&gt;\n</code></pre>\n\n<p>The other mouse actions can similarly be included in the list of key/value pairs.  The complete list of attributes: <a href=\"https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute\" rel=\"nofollow\">SVG Attribute Reference</a></p>\n"}], "owner": {"reputation": 7, "user_id": 6553690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5174629309ad30441aca1225bd0b2e89?s=128&d=identicon&r=PG&f=1", "display_name": "Ezhil", "link": "https://stackoverflow.com/users/6553690/ezhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1469933727, "creation_date": 1469827182, "question_id": 38667654, "link": "https://stackoverflow.com/questions/38667654/mouse-action-svg", "title": "Mouse Action SVG", "body": "<p>Can anyone please provide me a simple example that uses svg's mouse action? I couldn't find any good example online. I would like to show a message when I click on a rectangle. I am using SVG module for developing graphics.</p>\n"}, {"tags": ["perl", "hash", "perl-module", "subroutine"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469827336, "post_id": 38667597, "comment_id": 64716255, "body": "I&#39;m guessing you really have <code>@collection = ( ... )</code>, not <code>@collection = [ ... ]</code>. Otherwise you would get something like <code>$VAR1 = &#39;ARRAY(0x20a1d68)&#39;;</code>."}, {"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469827477, "post_id": 38667597, "comment_id": 64716322, "body": "ha.. what is that difference between them? ( ... ) is for Hash and  [ ... ] is for Array. Am i right? Because declared like this @collection = [ ... ] in the code."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "edited": false, "score": 0, "creation_date": 1469831011, "post_id": 38668033, "comment_id": 64717508, "body": "because it wasn&#39;t part of the question I won&#39;t explain in great detail, I will say this... refs are often the preferred way to go when passing data around, as when passing arrays or hashes around, it results in perl having to make copies of the structures instead of just sending a pointer. When you work on a ref, you work on the original structure. A case where you want to send in the actual variable is when you need a copy made, so the original structure isn&#39;t modified in the work you need to do."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1469904591, "post_id": 38668033, "comment_id": 64734375, "body": "<code>[]</code> is also uses for slices. Also, <code>$aref-&gt;@[]</code> is equivalent to <code>@$aref</code>. Similarly for hashes."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 5, "last_activity_date": 1469904423, "last_edit_date": 1469904423, "creation_date": 1469829329, "answer_id": 38668033, "question_id": 38667597, "link": "https://stackoverflow.com/questions/38667597/perl-pass-hash-reference-to-subroutine-from-foreach-loop-array-of-hash/38668033#38668033", "title": "Perl pass hash reference to Subroutine from Foreach loop (Array of Hash)", "body": "<p>You are confusing references with hashes and arrays.</p>\n\n<p>An array is declared with:</p>\n\n<pre><code>my @array = (1, 2, 3);\n</code></pre>\n\n<p>A hash is declared with:</p>\n\n<pre><code>my %hash = (1 =&gt; 2, 3 =&gt; 4);\n</code></pre>\n\n<p>That's because both hashes and arrays are simply lists (fancy lists, but I digress). The only time you need to use the <code>[]</code> and <code>{}</code> is when you want to use the values contained in the list, or you want to create a reference of either list (more below).</p>\n\n<p>Note that the <code>=&gt;</code> is just a special (ie. fat) comma, that quotes the left-hand side, so although they do the same thing, <code>%h = (a, 1)</code> would break, <code>%h = (\"a\", 1)</code> works fine, and <code>%h = (a =&gt; 1)</code> also works fine because the <code>a</code> gets quoted.</p>\n\n<p>An array <em>reference</em> is declared as such:</p>\n\n<pre><code>my $aref = [1, 2, 3];\n</code></pre>\n\n<p>...note that you need to put the array reference into a scalar. If you don't and do it like this:</p>\n\n<pre><code>my @array = [1, 2, 3];\n</code></pre>\n\n<p>... the reference is pushed onto the first element of <code>@array</code>, which is probably not what you want.</p>\n\n<p>A hash reference is declared like this:</p>\n\n<pre><code>my $href = {a =&gt; 1, b =&gt; 2};\n</code></pre>\n\n<p>The only time <code>[]</code> is used on an array (not an aref) is when you're using it to use an element: <code>$array[1];</code>. Likewise with hashes, unless it's a reference, you only use <code>{}</code> to get at a key's value: <code>$hash{a}</code>.</p>\n\n<p>Now, to fix your problem, you can keep using the references with these changes:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Data::Dumper;\n\n# declare an array ref with a list of hrefs\n\nmy $collection = [\n    {\n        'name' =&gt; 'Flo',\n        ...\n    },\n    {\n        'name' =&gt; 'Flo1',\n        ...\n    }\n];\n\n# dereference $collection with the \"circumfix\" operator, @{}\n# ...note that $row will always be an href (see bottom of post)\n\nforeach my $row (@{ $collection }) {\n    my $build_status = build_config($row);\n    print Dumper $build_status;\n}\n\nsub build_config {\n    # shift, as we're only accepting a single param...\n    # the $row href\n\n    my $collect_rows = shift;\n    return $collect_rows;\n}\n</code></pre>\n\n<p>...or change it up to use non-refs:</p>\n\n<pre><code>my @collection = (\n    {\n        'name' =&gt; 'Flo',\n        ...\n    },\n    {\n        'name' =&gt; 'Flo1',\n        ...\n    }\n);\n\nforeach my $row (@collection) {\n    my $build_status = build_config($row);\n\n    # build_config() accepts a single href ($row)\n    # and in this case, returns an href as well\n\n    print Dumper $build_status;\n}\n\nsub build_config {\n    # we've been passed in a single href ($row)\n\n    my $row = shift;\n\n    # return an href as a scalar\n\n    return $row;\n}\n</code></pre>\n\n<p>I wrote a tutorial on Perl references you may be interested in <a href=\"http://stevieb-tech.blogspot.ca/2012/04/use-perl-guide-to-references-part-1.html\" rel=\"nofollow\">guide to Perl references</a>. There's also <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a>.</p>\n\n<p>One last point... the hashes are declared with <code>{}</code> inside of the array because they are indeed hash references. With multi-dimentional data, only the top level of the structure in Perl can contain multiple values. Everything else underneath must be a single scalar value. Therefore, you can have an array of hashes, but technically and literally, it's an array containing scalars where their value is a pointer (reference) to another structure. The pointer/reference is a single value.</p>\n"}], "owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 0, "accepted_answer_id": 38668033, "answer_count": 1, "score": 1, "last_activity_date": 1469904423, "creation_date": 1469826886, "question_id": 38667597, "link": "https://stackoverflow.com/questions/38667597/perl-pass-hash-reference-to-subroutine-from-foreach-loop-array-of-hash", "title": "Perl pass hash reference to Subroutine from Foreach loop (Array of Hash)", "body": "<p>This may be something very simple for you but i have been trying for it for more than one hour.</p>\n\n<p>Ok.. Here is my code,</p>\n\n<pre><code>@collection = [\n{\n            'name' =&gt; 'Flo',\n            'model' =&gt; '23423',\n            'type' =&gt; 'Associate',\n            'id' =&gt; '1-23928-2392',\n            'age' =&gt; '23',\n},\n{\n            'name' =&gt; 'Flo1',\n            'model' =&gt; '23424',\n            'type' =&gt; 'Associate2',\n            'id' =&gt; '1-23928-23922',\n            'age' =&gt; '25',\n}];\n\nforeach my $row (@collection) {\n  $build_status = $self-&gt;build_config($row);\n}\n\nsub build_config {\n    my $self = shift;\n    my %collect_rows = @_;\n    #my %collect_rows = shift;\n\n    print Dumper %collect_rows; exit;\n    exit;\n}\n</code></pre>\n\n<p>Where $row is really an Hash. But when i Print it.. It gives output like below (I am using Dumper),</p>\n\n<pre><code>$VAR1 = 'HASH(0x20a1d68)';\n</code></pre>\n"}, {"tags": ["html", "mysql", "forms", "perl", "cgi"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1469826634, "post_id": 38667514, "comment_id": 64715896, "body": "Exactly HOW is this not working?"}, {"owner": {"reputation": 81, "user_id": 6655140, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a39bede9434bfecf0dfdee4de91f5a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/6655140/allen"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1469827165, "post_id": 38667514, "comment_id": 64716181, "body": "@MarcB how do I display the retrieved info from the database to the user in the form fields so it can be modified without the info being submitted to the second database first. also I have this jquery code for my button. hope it helps                                                                           &#39;                                                                \\$(document).ready(function() {  \t\\$(&#39;#importFromCAD&#39;).click(function () { \t\t\\$(&#39;#importNav&#39;).val(&#39;&#39;); \t\treturn true; &#39;"}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 0, "creation_date": 1469865512, "post_id": 38667514, "comment_id": 64723752, "body": "cross post at <a href=\"http://perlmonks.com/?node_id=1168832\" rel=\"nofollow noreferrer\">perlmonks.com/?node_id=1168832</a>"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1469864631, "creation_date": 1469864631, "answer_id": 38671606, "question_id": 38667514, "link": "https://stackoverflow.com/questions/38667514/perl-info-from-database-into-a-formhtml/38671606#38671606", "title": "Perl: info from database into a form(HTML)", "body": "<p>Execute your SQL statement before you produce the HTML output. Then use the variable that contains your database data (<code>@ID_data</code>) in the HTML. Something like this:</p>\n\n<pre><code>print \"   &lt;div style=\\\"z-index:86;\\\" class=\\\"group-shell\\\"&gt;\";\nprint \"   &lt;table&gt;\\n\";\nforeach (0 .. $#ID_data) {\n  print \"&lt;tr&gt;&lt;td&gt;ID data $_:&lt;/td&gt;&lt;td&gt;&lt;input name=\\\"ID_data_$_\\\" value=\\\"$ID_data[$_]\\\"&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\n}\nprint \"   &lt;tr&gt;&lt;td&gt;&lt;input class=\\\"dial-red-button\\\" id=\\\"importFromCAD\\\"  type=\\\"submit\\\" value=\\\"Import Info\\\"&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\n</code></pre>\n\n<p>Note that your code will be cleaner if you learn to use heredocs and <code>qq(...)</code>.</p>\n\n<pre><code>print &lt;&lt;END_OF_HTML;\n&lt;div style=\"z-index:86;\" class=\"group-shell\"&gt;\n&lt;table&gt;\nEND_OF_HTML\n\nforeach (0 .. $#ID_data) {\n  print qq(&lt;tr&gt;&lt;td&gt;ID data $_:&lt;/td&gt;&lt;td&gt;&lt;input name=\"ID_data_$_\" value=\"$ID_data[$_]\"&gt;&lt;/td&gt;&lt;/tr&gt;\\n);\n}\nprint qq(&lt;tr&gt;&lt;td&gt;&lt;input class=\"dial-red-button\" id=\"importFromCAD\"  type=\"submit\" value=\"Import Info\"&gt;&lt;/td&gt;&lt;/tr&gt;\\n);\n</code></pre>\n\n<p>And it will get even cleaner if you use <a href=\"https://metacpan.org/release/Template-Toolkit\" rel=\"nofollow\">a templating engine</a>.</p>\n"}], "owner": {"reputation": 81, "user_id": 6655140, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a39bede9434bfecf0dfdee4de91f5a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/6655140/allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1469864631, "creation_date": 1469826504, "question_id": 38667514, "link": "https://stackoverflow.com/questions/38667514/perl-info-from-database-into-a-formhtml", "title": "Perl: info from database into a form(HTML)", "body": "<p>I'm working on a very specific problem at my work place and have not been able to find answers for what I'm searching for</p>\n\n<p>I'm looking to retrieve information from a MySQL DB and adding it to a form so it can be added(submitted) to a different DB, but before submitting the user needs to be able to make changes and add more data to the retrieved information form the first database.(imagine \"copy and pasting if you will\" from first database into the  HTML form without submitting, if it makes any sense)</p>\n\n<p>I have the HTML button and the SQL statmenet ready but dont know where to go from here?</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>print \"   &lt;div style=\\\"z-index:86;\\\" class=\\\"group-shell\\\"&gt;\";\nprint \"   &lt;table&gt;\\n\";\nprint \"   &lt;tr&gt;&lt;td&gt;&lt;input class=\\\"dial-red-button\\\" id=\\\"importFromCAD\\\"  type=\\\"submit\\\" value=\\\"Import Info\\\"&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\n</code></pre>\n\n<p><strong>Perl SQL statement:</strong></p>\n\n<pre><code>    $sql_statement20 = \"select * FROM CT_AL_CAD_ID where CAD='$CAD' ORDER BY KeyField DESC\";\n    $sth20 = $dbh-&gt;prepare($sql_statement20);\n    $sth20-&gt;execute();\n    $sth20-&gt;bind_columns(undef, \\$ID_data[0], \\$ID_data[1], \\$ID_data[2], \\$ID_data[3], \\$ID_data[4], \\$ID_data[5], \\$ID_data[6], \\$ID_data[7], \\$ID_data[8], \\$ID_data[9], \\$ID_data[10], \\$ID_data[11], \\$ID_data[12]);\n\n    $sth20-&gt;fetch();\n</code></pre>\n\n<p>I've been stuck on this problem for for a few days. Any help or ideas are appreciated.</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 9, "creation_date": 1469821142, "post_id": 38666306, "comment_id": 64713682, "body": "Something else was different. <code>for</code> and <code>foreach</code> are completely indistinguishable from the lexer onwards. They&#39;re two names for exactly the same thing."}], "answers": [{"comments": [{"owner": {"reputation": 502, "user_id": 5215641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9f736b3f0f80310b99ae1ebbd840041?s=128&d=identicon&r=PG&f=1", "display_name": "James Goe", "link": "https://stackoverflow.com/users/5215641/james-goe"}, "edited": false, "score": 1, "creation_date": 1469824192, "post_id": 38666779, "comment_id": 64714886, "body": "I seriously hate/love how stupid you guys make me feel..  Saying that, thanks for the clarification!  I don&#39;t understand your solution at all atm, so I&#39;m going to have to spend my friday night on this."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 502, "user_id": 5215641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9f736b3f0f80310b99ae1ebbd840041?s=128&d=identicon&r=PG&f=1", "display_name": "James Goe", "link": "https://stackoverflow.com/users/5215641/james-goe"}, "edited": false, "score": 0, "creation_date": 1469824337, "post_id": 38666779, "comment_id": 64714943, "body": "<code>my %exclude = map { $_ =&gt; 1 } @exclude;</code> creates a lookup table, so you can efficiently lookup if a string should be excluded. <code>@array = grep { !$exclude{$_} } @array;</code> keeps all the elements of <code>@array</code> except those present in the lookup table."}, {"owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "edited": false, "score": 0, "creation_date": 1469898310, "post_id": 38666779, "comment_id": 64732543, "body": "Just for completeness, the hash slice method <code>my %exclude; @exclude{@exclude} = (1) x @exclude</code> is twice again as fast. If you only do it once it may not be worth the two lines though."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 14, "last_activity_date": 1469823813, "last_edit_date": 1469823813, "creation_date": 1469823125, "answer_id": 38666779, "question_id": 38666306, "link": "https://stackoverflow.com/questions/38666306/perl-why-does-for-and-foreach-give-me-different-results/38666779#38666779", "title": "Perl: Why does for and foreach give me different results?", "body": "<pre><code># Foreach loop                               \\           \nforeach my $item (@array)                     &gt; same     \\\nfor my $item (@array)                        /            \\\n                                                           &gt; different\n# Augmented while loop                       \\            /\nfor (my $i=0; $i &lt; scalar @array; $i++)       &gt; same     /\nforeach (my $i=0; $i &lt; scalar @array; $i++)  /\n</code></pre>\n\n<hr>\n\n<p>You must not modify an array over which you iterating. From perlsyn,</p>\n\n<blockquote>\n  <p>If any part of LIST is an array, <code>foreach</code> will get very confused if you add or remove elements within the loop body, for example with <code>splice</code>. So don't do that.</p>\n</blockquote>\n\n<p>Therefore,</p>\n\n<pre><code>foreach (@array){\n   ...\n   splice @array, $i, 1;   # XXX Error\n   ...\n}\n</code></pre>\n\n<p>Note that you may safely modify the elements of an array over which are you iterating.</p>\n\n<pre><code>foreach (@array){\n   $_ = uc($_);  # ok\n}\n</code></pre>\n\n<hr>\n\n<p>Finally, a far better solution:</p>\n\n<pre><code>chomp(@exclude);\n\nmy %exclude = map { $_ =&gt; 1 } @exclude;\n\n@array = grep { !$exclude{$_} } @array;\n</code></pre>\n\n<p>Aside from being much simpler, it scales much much better<sup>[1]</sup>.</p>\n\n<hr>\n\n<ol>\n<li>It executes in O(E+A) time, whereas the OP's executed in O(E * A<sup>2</sup>) time.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "is_accepted": false, "score": 6, "last_activity_date": 1469823174, "creation_date": 1469823174, "answer_id": 38666789, "question_id": 38666306, "link": "https://stackoverflow.com/questions/38666306/perl-why-does-for-and-foreach-give-me-different-results/38666789#38666789", "title": "Perl: Why does for and foreach give me different results?", "body": "<p>When people say they are used interchangably, they mean that the <code>foreach</code> keyword is just a synonym for the <code>for</code> keyword. That means the following two lines mean exactly the same thing:</p>\n\n<pre><code>foreach my $item (@array) {...}\nfor my $item (@array) {...}\n</code></pre>\n\n<p>For the avoidance of doubt I will ignore the <code>foreach</code> keyword and use only <code>for</code> below.</p>\n\n<p>The following two lines, as you have seen, do not behave identically:</p>\n\n<pre><code>for my $item (@array) {...}\nfor (my $i = 0; $i &lt; scalar @array; $i++) {...}\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/perlsyn.html#Foreach-Loops\">manual</a> advises against adding or removing elements in <code>@array</code> in the loop body of the first line, and doesn't say what would be the result.</p>\n\n<p>If the loop body of the second line removes an element in <code>@array</code> at or before <code>$i</code>, the result will be that the element at new position <code>$i</code> will be skipped over. If it adds an element at or before <code>$i</code>, the result will be that the element at old position <code>$i</code> will be seen by the loop a second time.</p>\n"}], "owner": {"reputation": 502, "user_id": 5215641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d9f736b3f0f80310b99ae1ebbd840041?s=128&d=identicon&r=PG&f=1", "display_name": "James Goe", "link": "https://stackoverflow.com/users/5215641/james-goe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 1, "accepted_answer_id": 38666779, "answer_count": 2, "score": 2, "last_activity_date": 1469823813, "creation_date": 1469820926, "last_edit_date": 1469821688, "question_id": 38666306, "link": "https://stackoverflow.com/questions/38666306/perl-why-does-for-and-foreach-give-me-different-results", "title": "Perl: Why does for and foreach give me different results?", "body": "<p>I looked online and everyone seems to say they are used interchangeably.  However, it gave me different results when I was iterating through my array.  </p>\n\n<p>I had an array of approx. 60 string elements and were filtering out whatever matched in another array.  But when I used <code>foreach</code>, it only saw an array of 45 elements so when I printed the final result, it did not filter everything out.</p>\n\n<p>It was only when I used <code>for</code> that it worked as I wanted.  What is the reason behind this?  </p>\n\n<p>I managed to solve the problem, now I just want to understand the way this works.  Thanks!</p>\n\n<p>EDIT: So i didn't provide any examples so here's what I did:</p>\n\n<pre><code>my $i = 0;\nforeach my $item (@array){\n    print \"\\n$i : $item\";\n    foreach my $exclude_item (@exclude){\n        chomp $exclude_item;\n        if ($exclude_item eq $item){\n            print \"\\nDEBUG: Removing $item\";\n            splice @array, $i, 1;\n        }\n    }\n    $i++;\n}\n</code></pre>\n\n<p>The above wasn't giving me a complete list of <code>@array</code> so when I printed the final result, there were elements inside that should've been filtered out.</p>\n\n<p>So I tried this instead (which worked as I wanted):</p>\n\n<pre><code>for (my $i=0; $i &lt; scalar @array; $i++){\n    print \"\\n$i : $array[$i]\";\n    foreach my $exclude_item (@exclude){\n        chomp $exclude_item;\n        if ($exclude_item eq $array[$i]){\n            print \"\\nDEBUG: Removing $array[$i]\";\n            splice @array, $i, 1;\n        }\n    }\n}\n</code></pre>\n\n<p>Just additional info, the <code>@array</code> was created by searching for list of subdirectories in multiple folders.  It's possible that <code>@array</code> contained duplicates. </p>\n"}, {"tags": ["string", "perl"], "comments": [{"owner": {"reputation": 3170, "user_id": 630284, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/TMKok.png?s=128&g=1", "display_name": "SQLMason", "link": "https://stackoverflow.com/users/630284/sqlmason"}, "edited": false, "score": 1, "creation_date": 1469820426, "post_id": 38666149, "comment_id": 64713348, "body": "<a href=\"http://regexr.com/\" rel=\"nofollow noreferrer\">regexr.com</a> is helpful"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1469820751, "last_edit_date": 1469820751, "creation_date": 1469820346, "answer_id": 38666172, "question_id": 38666149, "link": "https://stackoverflow.com/questions/38666149/what-does-string-matching-s-r-n-g-mean-in-perl/38666172#38666172", "title": "what does string matching &quot;s/\\r\\n/ /g&quot; mean in perl", "body": "<p>It replaces each instance of the sequence Carriage Return (U+000D) followed by Line Feed (U+000A) with a space.</p>\n\n<ul>\n<li>The substitution operator (<code>s///</code>) is documented in <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow\">perlop</a>.</li>\n<li>Regular expressions are documented in <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\">perlre</a>.\n\n<ul>\n<li><code>\\r</code> matches a Carriage Return (U+000D).</li>\n<li><code>\\n</code> matches a Line Feed (U+000A).</li>\n</ul></li>\n</ul>\n\n<p>If you want a tutorial rather than a reference, checkout <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow\">perlretut</a></p>\n"}, {"tags": [], "owner": {"reputation": 1442, "user_id": 4115522, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/KR2bz.jpg?s=128&g=1", "display_name": "Reenactor Rob", "link": "https://stackoverflow.com/users/4115522/reenactor-rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1469820792, "creation_date": 1469820792, "answer_id": 38666269, "question_id": 38666149, "link": "https://stackoverflow.com/questions/38666149/what-does-string-matching-s-r-n-g-mean-in-perl/38666269#38666269", "title": "what does string matching &quot;s/\\r\\n/ /g&quot; mean in perl", "body": "<p>$CAD_Line=~s/\\r\\n/ /g;</p>\n\n<p>Substitute carriage return and line feed with a space. The trailing g means globally.  So if you have an entire file in the $CAD_Line variable, it would remove all instances of \\r\\n, not just the first one. This is called a regular expression or \"regex\" and is the most often cited feature of the Perl language.</p>\n\n<p>It should be noted that different operating systems and file types use different line feed characters.  \\r\\n is a windows type format whearas unix/linux and apple/mac will use \\n  newline.  </p>\n\n<p>Whole books have been written on regular expressions.</p>\n\n<p><a href=\"http://www.tutorialspoint.com/perl/perl_regular_expression.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/perl/perl_regular_expression.htm</a></p>\n"}], "owner": {"reputation": 81, "user_id": 6655140, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a39bede9434bfecf0dfdee4de91f5a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/6655140/allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8381, "favorite_count": 0, "accepted_answer_id": 38666172, "answer_count": 2, "score": -1, "last_activity_date": 1469820792, "creation_date": 1469820248, "last_edit_date": 1469820403, "question_id": 38666149, "link": "https://stackoverflow.com/questions/38666149/what-does-string-matching-s-r-n-g-mean-in-perl", "title": "what does string matching &quot;s/\\r\\n/ /g&quot; mean in perl", "body": "<p>Can someone explain what does this string matching command do in Perl</p>\n\n<pre><code> $CAD_Line=~s/\\r\\n/ /g;\n</code></pre>\n\n<p>where can I get additional information on this type of matching?(What do I search for?)</p>\n"}, {"tags": ["sql-server", "database", "perl", "odbc", "dbi"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469815681, "post_id": 38664951, "comment_id": 64710866, "body": "Did <code>cpan DBD::ODBC</code> show that the installation succeeded? The error indicates that perl can&#39;t find the module, so either the installation failed, or the module was installed somewhere that perl can&#39;t find it."}, {"owner": {"reputation": 402, "user_id": 5244303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/080fa55d914ce0587eb7d55800c8a802?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barbieri", "link": "https://stackoverflow.com/users/5244303/m-barbieri"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469816206, "post_id": 38664951, "comment_id": 64711121, "body": "@ThisSuitIsBlackNot Thanks for the quick response! I updated the question, and I posted the response message of &quot;cpan DBD::ODBC&quot;, however, I don&#39;t know what to make of this. I noticed that there are some things that didn&#39;t install correctly now that you mention it, but I am not sure what to make of this."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1469831135, "post_id": 38664951, "comment_id": 64717551, "body": "Have you read through the README file on CPAN? <a href=\"http://search.cpan.org/dist/DBD-ODBC/\" rel=\"nofollow noreferrer\">search.cpan.org/dist/DBD-ODBC</a>"}, {"owner": {"reputation": 402, "user_id": 5244303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/080fa55d914ce0587eb7d55800c8a802?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barbieri", "link": "https://stackoverflow.com/users/5244303/m-barbieri"}, "reply_to_user": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1469889435, "post_id": 38664951, "comment_id": 64729905, "body": "yes, I&#39;ve done everything it&#39;s said and the &quot;make&quot; commands fail and output the same error above. @tale852150"}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1469906579, "post_id": 38664951, "comment_id": 64734978, "body": "What O/S and version are your using? (Appears to be Linux). And what version of Perl?"}, {"owner": {"reputation": 402, "user_id": 5244303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/080fa55d914ce0587eb7d55800c8a802?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barbieri", "link": "https://stackoverflow.com/users/5244303/m-barbieri"}, "reply_to_user": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1470059259, "post_id": 38664951, "comment_id": 64778886, "body": "Ubuntu Server 14.04, perl 5.18.2 @tale852150"}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1470067585, "post_id": 38664951, "comment_id": 64784490, "body": "I&#39;ll see if I can stand up an Ubuntu Server and see if I can reproduce this problem. ( I accidentally put this in the answer section but have since deleted it. :-)"}, {"owner": {"reputation": 402, "user_id": 5244303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/080fa55d914ce0587eb7d55800c8a802?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barbieri", "link": "https://stackoverflow.com/users/5244303/m-barbieri"}, "reply_to_user": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1470067755, "post_id": 38664951, "comment_id": 64784594, "body": "Wow, @tale852150 Thanks! That would be great. It&#39;s all good, thanks for the help!"}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1470159461, "post_id": 38664951, "comment_id": 64829951, "body": "Glad I could help. It may take a few days before I get to it, just letting you know."}, {"owner": {"reputation": 402, "user_id": 5244303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/080fa55d914ce0587eb7d55800c8a802?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barbieri", "link": "https://stackoverflow.com/users/5244303/m-barbieri"}, "reply_to_user": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1470159686, "post_id": 38664951, "comment_id": 64830093, "body": "@tale852150 Not a problem! Thanks again!"}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1473531651, "post_id": 38664951, "comment_id": 66181810, "body": "@M.Barbieri I have not been able to reproduce this issue."}], "owner": {"reputation": 402, "user_id": 5244303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/080fa55d914ce0587eb7d55800c8a802?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barbieri", "link": "https://stackoverflow.com/users/5244303/m-barbieri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 360, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470067491, "creation_date": 1469815394, "last_edit_date": 1469816140, "question_id": 38664951, "link": "https://stackoverflow.com/questions/38664951/perl-odbc-driver-error-cant-insert-data-into-remote-sql-server-database", "title": "Perl ODBC Driver error. Can&#39;t insert data into Remote SQL Server Database", "body": "<p>I am trying to run a perl script to insert data into a remote SQL Server Database. I have installed the DBI module and ran the following commands: </p>\n\n<pre><code>aptitude install tdsodbc\ndpkg-reconfigure tdsodbc\naptitude install unixodbc-dev\ncpan DBD::ODBC\n</code></pre>\n\n<p>to install the <code>DBD:ODBC</code> driver.</p>\n\n<p>This is the error I keep getting in my <code>/var/log/apache2/error.log</code>:</p>\n\n<pre><code>[Fri Jul 29 13:51:53.838633 2016] [cgi:error] [pid 27482] [client MY_IP:49390] AH01215: Perhaps the DBD::ODBC perl module hasn't been fully installed,, referer: http://MY_IP:8080/\n[Fri Jul 29 13:51:53.838649 2016] [cgi:error] [pid 27482] [client MY_IP:49390] AH01215: or perhaps the capitalisation of 'ODBC' isn't right., referer: http://MY_IP:8080/\n[Fri Jul 29 13:51:53.838667 2016] [cgi:error] [pid 27482] [client MY_IP:49390] AH01215: Available drivers: DBM, ExampleP, File, Gofer, Proxy, Sponge, mysql., referer: http://MY_IP:8080/\n[Fri Jul 29 13:51:53.838681 2016] [cgi:error] [pid 27482] [client MY_IP:49390] AH01215:  at /var/www/html/src/cgi-bin/login.pl line 88., referer: http://MY_IP:8080/\n[Fri Jul 29 13:51:53.854105 2016] [cgi:error] [pid 27473] [client MY_IP:49386] AH01215: install_driver(ODBC) failed: Can't locate DBD/ODBC.pm in @INC (you may need to install the DBD::ODBC module) (@INC contains: GeoIP/Geo-IP-1.38/lib/ /etc/perl /usr/local/lib/perl/5.18.2 /usr/local/share/perl/5.18.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.18 /usr/share/perl/5.18 /usr/local/lib/site_perl) at (eval 177) line 3., referer: http://MY_IP:8080/\n</code></pre>\n\n<p>Here is my code to connect with the database (<code>login.pl</code>):</p>\n\n<pre><code>my $database = \"&lt;DB NAME&gt;\";\nmy $host = \"&lt;REMOTE_IP&gt;\";\nmy $username = \"&lt;USERNAME&gt;\";\nmy $password = \"&lt;PASSWORD&gt;\";\nmy $dbs = \"dbi:ODBC:DRIVER={FreeTDS};SERVER={$host};DATABASE=$database\";\n# Invoke connection to MySQL\n#my $connection = ConnectToMySql($database, $host, $username, $password);\nmy $connection = DBI-&gt;connect($dbs,\n                              $username,\n                              $password,\n                              {RaiseError =&gt; 1, AutoCommit =&gt; 1}) or die (\"Can't connect to database $database on $host: \" . $DBI::errstr . \"\\n\");\n</code></pre>\n\n<p>Message when running <code>cpan DBD::ODBC</code>:</p>\n\n<pre><code>This looks like a unixodbc type of driver manager.\nLooking for odbcinst\n  Found odbcinst in /usr/bin\n  odbcinst -j reports:\n\nunixODBC 2.2.14\nDRIVERS............: /etc/odbcinst.ini\nSYSTEM DATA SOURCES: /etc/odbc.ini\nFILE DATA SOURCES..: /etc/ODBCDataSources\nUSER DATA SOURCES..: /home/openflow/.odbc.ini\nSQLULEN Size.......: 8\nSQLLEN Size........: 8\nSQLSETPOSIROW Size.: 8\n\nPlease note these files as they are where you define your ODBC drivers and data sources.\n\nLooking for odbc_config to get cflags\n  odbc_config not found - ok\nWarning: LD_LIBRARY_PATH= doesn't include /usr/lib/x86_64-linux-gnu\n\nChecking if your kit is complete...\nLooks good\nUsing DBI 1.63 (for perl 5.018002 on x86_64-linux-gnu-thread-multi) installed in /usr/lib/perl5/auto/DBI/\nUsing DBI 1.63 (for perl 5.018002 on x86_64-linux-gnu-thread-multi) installed in /usr/lib/perl5/auto/DBI/\nWriting Makefile for DBD::ODBC\nWriting MYMETA.yml and MYMETA.json\nWarning: not all required environment variables are set.\n\nWarning: Will not be able to run tests as you have not defined\nall of DBI_DSN, DBI_USER and DBI_PASS environment variables.\n  MJEVANS/DBD-ODBC-1.52.tar.gz\n  make -- NOT OK\n'YAML' not installed, will not store persistent state\nRunning make test\n  Can't test without successful make\nRunning make install\n  Make had returned bad status, install seems impossible\n</code></pre>\n"}, {"tags": ["javascript", "html", "forms", "perl", "cgi"], "comments": [{"owner": {"reputation": 81, "user_id": 6655140, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a39bede9434bfecf0dfdee4de91f5a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/6655140/allen"}, "edited": false, "score": 0, "creation_date": 1469822779, "post_id": 38663861, "comment_id": 64714351, "body": "I&#39; hoping this will clarify my question a little more. I&#39;m hoping to find out once the &quot;Process Activity&quot; is pressed where does the sequence of process go? Any hints is really appreciated"}], "answers": [{"tags": [], "owner": {"reputation": 2494, "user_id": 1921546, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fe4ac75c43b846d9665f422cdac5cb03?s=128&d=identicon&r=PG", "display_name": "pii_ke", "link": "https://stackoverflow.com/users/1921546/pii-ke"}, "is_accepted": false, "score": 2, "last_activity_date": 1469863667, "last_edit_date": 1469863667, "creation_date": 1469863080, "answer_id": 38671409, "question_id": 38663861, "link": "https://stackoverflow.com/questions/38663861/perl-cgi-multiple-forms-and-multiple-submit-button-with-action-on-the-same-page/38671409#38671409", "title": "Perl CGI, Multiple forms and multiple submit button with action on the same page", "body": "<p>Give all your <code>submit</code> buttons unique <code>name</code> attributes, the submission data will have only one <code>submit</code> parameter, the one that was clicked. Find out what it is by checking for their <code>name</code>s and process accordingly. Some example code is given below.</p>\n\n<p>Client Side:</p>\n\n<pre><code>&lt;form method=\"POST\" action=\"/act\"&gt;\n    &lt;input name=\"formid\" value=\"1\" type=\"hidden\"&gt;\n    &lt;input class=\"delete\" value=\"D\" name=\"delete\" type=\"submit\"&gt;\n    &lt;input class=\"edit\" value=\"E\" name=\"edit\" type=\"submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Server Side:</p>\n\n<pre><code>if ( defined param('edit')) {\n    # perhaps identify form by some checking for some hidden element\n    # process the data for edit\n}\nelsif ( defined param('delete') ) {\n    # perhaps identify form and process the data for delete\n}\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6655140, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a39bede9434bfecf0dfdee4de91f5a3b?s=128&d=identicon&r=PG&f=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/6655140/allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 855, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469863667, "creation_date": 1469811140, "last_edit_date": 1469813108, "question_id": 38663861, "link": "https://stackoverflow.com/questions/38663861/perl-cgi-multiple-forms-and-multiple-submit-button-with-action-on-the-same-page", "title": "Perl CGI, Multiple forms and multiple submit button with action on the same page", "body": "<p>How do I specify which action is taken hitting one of the multiple buttons on my Perl CGI HTML output given I have several buttons and \"action=\" is also on the same page?</p>\n\n<p>This is the html output and the buttons(Process Activity and Duplicate record) work correctly but \"Import Info\"(which I'm trying to implement) calls the \"Process Activity\"</p>\n\n<p>here is the java-script code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"$HostedSiteURL/$ScriptDirectory/jquery-1.11.3.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n\\$(document).ready(function() {\n\n\\$('#importFromCAD').click(function () {\n    \\$('#importNav').val('');\n    return true;\n\n\\$('#process-activity').click(function () {\n    \\$('#DupNav').val('');\n    return true;\n});\n</code></pre>\n\n<p>And the Perl CGI HTML Code:</p>\n\n<pre><code>sub NewRightSide\n{\n  print \"   &lt;div style=\\\"z-index:86;\\\" class=\\\"group-shell\\\"&gt;\";\n  print \"   &lt;table&gt;\\n\";\n  print \"   &lt;tr&gt;&lt;td&gt;&lt;input class=\\\"dial-red-button\\\" id=\\\"importFromCAD\\\"  type=\\\"submit\\\" value=\\\"Import Info\\\"&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\n  print \"   &lt;tr&gt;&lt;td&gt;&lt;input class=\\\"dial-red-button\\\" id=\\\"process-activity\\\" type=\\\"submit\\\" value=\\\"Process Activity\\\"&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\n  print \"   &lt;tr&gt;&lt;td&gt;&lt;input class=\\\"dial-red-button\\\" id=\\\"duplicate-record\\\" type=\\\"submit\\\" value=\\\"Duplicate Record\\\"&gt;&lt;/td&gt;&lt;/tr&gt;\\n\";\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/zlSBH.png\" rel=\"nofollow\">picture of button layout</a></p>\n\n<p>I believe this is the form which gets called:</p>\n\n<pre><code> print \"&lt;form name=\\\"form\\\" accept-charset=\\\"utf-8\\\" method=\\\"post\\\"    action=\\\"A_CT_DIAL8.pl\\\"&gt;\\n\";\n if ($Nav eq \"\" || $Nav eq \"None\")         {$Nav=\"NewEntry\";}\n print \"&lt;input type=\\\"hidden\\\" name=\\\"s\\\" value=\\\"$escape_session\\\" /&gt;\\n\";\n print \"&lt;input type=\\\"hidden\\\" name=\\\"nav\\\" value=\\\"DIAL\\\" id=\\\"nav\\\"&gt;\\n\";\n print \"&lt;input type=\\\"hidden\\\" name=\\\"Nav\\\" value=\\\"$Nav\\\" id=\\\"Nav\\\"&gt;\\n\";\n print \"&lt;input type=\\\"hidden\\\" name=\\\"SubNav\\\" value=\\\"$SubNav\\\"&gt;\\n\";\n print \"&lt;input type=\\\"hidden\\\" name=\\\"DupNav\\\" value=\\\"\\\" id=\\\"DupNav\\\"&gt;\\n\";\n print \"&lt;input type=\\\"hidden\\\" name=\\\"nav_tab\\\" value=\\\"\\\" id=\\\"nav_tab\\\"&gt;\\n\";\n print \"&lt;input type=\\\"hidden\\\" name=\\\"Report\\\" value=\\\"\\\" id=\\\"Report\\\"&gt;\\n\";\n print \"&lt;input type=\\\"hidden\\\" name=\\\"TransLimit\\\" value=\\\"$TransLimit\\\"&gt;\\n\"; \n</code></pre>\n\n<p>This is the Perl Subroutine called \"DupNav\" which I'm not sure it plays a role in how the form functions. Is this the subroutine the second <code>.click(function ())</code>  class?</p>\n\n<pre><code>  if ($DupNav eq \"\")\n  {\n     $Nav           = \"\";    $KeyField      = \"\";  # $CAD              = \"\";\n     $In            = \"\";    $Out           = \"\";    $Via              = \"\";\n     $Status        = \"\";    $Device        = \"\";    $ActivitySubject  = \"\";\n     $Memo          = \"\";    $currenttime   = \"\";    $NormalMemo       = \"\";\n     $CheckNewMemo  = \"\";    $PostMile      = \"\";\n   }\n   else\n   {\n      $CheckRadio=\"No\";\n   if ($DupWarn ne \"Off\")\n   {\n    $JavaWarn=$JavaWarn.\"Duplicated Last Entry.             \";\n    $Warn=$Warn.\" [ Duplicated Last Entry ]\";\n    $SubNav=\"Go\";\n    }\n    else\n    {\n    $JavaWarn=$JavaWarn.\"Use the Duplicate Record button to pre fill the         next entry with the same information as the last entry.             \";\n    $Warn=$OldWarn.\" [ Use the Duplicate Record button to pre fill the next   entry with the same information as the last entry ]\";\n    }\n  }\n  if ($Device == 0) {$Device=\"\";}\n  $currentdate   = \"\";\n\n\n  $SplitMemo=$CheckNewMemo;\n  @GetEntries=split(\":DOSEP:\", $SplitMemo);\n  $EntryCount=@GetEntries;\n  $Memo=$GetEntries[0];\n\n  $b=1;\n  while ($b &lt; $EntryCount)\n  {\n  $SplitExtras=$GetEntries[$b];\n  @GetExtras=split(\":\", $SplitExtras);\n  $ExtraListName=$GetExtras[0];\n  $ExtraListInfo=$GetExtras[1];\n   if ($ExtraListName eq \"PostMile\") {$PostMile=$ExtraListInfo;             $DisablePostMileSection=\"No\";}else{$Extra_Information{$ExtraListName}=\"$ExtraLis     tInfo\";}\n $b++;\n }\n\n}\n</code></pre>\n\n<p>I know this is very long and I'd really appreciate any feedback I can get. I can post additional information as required. Thank you again.</p>\n"}, {"tags": ["multithreading", "perl", "file-descriptor", "shared-objects"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1469808617, "post_id": 38662836, "comment_id": 64707314, "body": "Note: Always <code>use use strict; use warnings &#39;all&#39;;</code>! You have many improperly scoped variables, and this will help you found those problems."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1469808626, "post_id": 38662836, "comment_id": 64707317, "body": "Note: <code>&lt;</code> should be <code>+&lt;</code> here."}, {"owner": {"reputation": 377, "user_id": 2988665, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8c92c7d8ad6c8e2b06c2571ae311c80d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Anderson", "link": "https://stackoverflow.com/users/2988665/thomas-anderson"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469818537, "post_id": 38662836, "comment_id": 64712437, "body": "as you said to change &quot;&lt;&quot; onto &quot;+&lt;&quot; so &quot;+&lt;&amp;=$fd&quot; still produces the same error"}, {"owner": {"reputation": 377, "user_id": 2988665, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8c92c7d8ad6c8e2b06c2571ae311c80d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Anderson", "link": "https://stackoverflow.com/users/2988665/thomas-anderson"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469818676, "post_id": 38662836, "comment_id": 64712513, "body": "also added pasted code"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1469819626, "post_id": 38662836, "comment_id": 64712977, "body": "Changing <code>&lt;</code> to <code>+&lt;</code> just makes it so you can write to the socket."}], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 2988665, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8c92c7d8ad6c8e2b06c2571ae311c80d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Anderson", "link": "https://stackoverflow.com/users/2988665/thomas-anderson"}, "edited": false, "score": 0, "creation_date": 1469814609, "post_id": 38663100, "comment_id": 64710294, "body": "In the thread I just need to accept connection and then the thread continue do his job waiting for new connections. It never close file descriptor. All file readings/writings and closing perform in another worker thread. So I know exactly it does not close FD. And I know exactly that connection do not lose via client because it tested with other software."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 377, "user_id": 2988665, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8c92c7d8ad6c8e2b06c2571ae311c80d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Anderson", "link": "https://stackoverflow.com/users/2988665/thomas-anderson"}, "edited": false, "score": 0, "creation_date": 1469816649, "post_id": 38663100, "comment_id": 64711358, "body": "Re &quot;It never close file descriptor&quot;, The code you showed does. The next time you assign to <code>$a</code>, you remove the last reference to the handle that <code>$a</code> previously contained, causing the underlying fd to be closed."}, {"owner": {"reputation": 377, "user_id": 2988665, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8c92c7d8ad6c8e2b06c2571ae311c80d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Anderson", "link": "https://stackoverflow.com/users/2988665/thomas-anderson"}, "edited": false, "score": 0, "creation_date": 1469817987, "post_id": 38663100, "comment_id": 64712133, "body": "please explain where if it implicitly close file descriptor I have one mistake in the code: $a = $socket-&gt;accept() should be my $a = $socket-&gt;accept()"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 377, "user_id": 2988665, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8c92c7d8ad6c8e2b06c2571ae311c80d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Anderson", "link": "https://stackoverflow.com/users/2988665/thomas-anderson"}, "edited": false, "score": 0, "creation_date": 1469819590, "post_id": 38663100, "comment_id": 64712955, "body": "Since you are using lexical (<code>my</code>) variable like I did, you implicitly close the variable exactly the same place I did in my demonstration, at the end of the scope, where it says &quot;File handle closed here&quot;. /// Updated my answer to reflect the updated question."}, {"owner": {"reputation": 377, "user_id": 2988665, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8c92c7d8ad6c8e2b06c2571ae311c80d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Anderson", "link": "https://stackoverflow.com/users/2988665/thomas-anderson"}, "edited": false, "score": 0, "creation_date": 1469821483, "post_id": 38663100, "comment_id": 64713834, "body": "Thanks a lot. I understood."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1469822325, "last_edit_date": 1469822325, "creation_date": 1469808185, "answer_id": 38663100, "question_id": 38662836, "link": "https://stackoverflow.com/questions/38662836/forward-pass-file-descriptors-between-threads/38663100#38663100", "title": "Forward/pass file descriptors between threads", "body": "<p><code>my $client</code> creates a variable scoped to the loop body. And the end of the pass, the last reference to the contained handle is relinquished, freeing the file handle, which closes the associated file descriptor.<sup>[1]</sup></p>\n\n<p>This happens before the other thread reaches <code>open &lt;&amp;=</code>, so the file descriptor is no longer valid when you try to create a new file handle for it.</p>\n\n<p>Self-contained demonstration:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $fd;\n\n{\n   open(my $fh, '&lt;', $0)\n      or die($!);\n\n   $fd = fileno($fh);\n}                               # File handle closed here.\n\n{\n   open(my $fh, '&lt;&amp;=', $fd)\n      or die($!);               # Bad file descriptor\n}\n</code></pre>\n\n<p>You'll have to ensure that the file handle doesn't get closed prematurely. You could store them in an array or hash keyed by fd, and the other thread could let the parent thread know which handles it no longer needs via another shared structure.</p>\n\n<hr>\n\n<ol>\n<li>In your code you linked in the comments (as opposed to the code you posted), the file descriptor is instead closed when you call <code>close $client;</code>.</li>\n</ol>\n"}], "owner": {"reputation": 377, "user_id": 2988665, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8c92c7d8ad6c8e2b06c2571ae311c80d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Anderson", "link": "https://stackoverflow.com/users/2988665/thomas-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 38663100, "answer_count": 1, "score": 2, "last_activity_date": 1469822325, "creation_date": 1469807355, "last_edit_date": 1469819329, "question_id": 38662836, "link": "https://stackoverflow.com/questions/38662836/forward-pass-file-descriptors-between-threads", "title": "Forward/pass file descriptors between threads", "body": "<p>I have a task where I'm waiting for connections in one thread and forward them to another thread. \nMaybe I something misunderstood but why I cannot reopen file descriptor in main thread?</p>\n\n<p>Very simplified code:</p>\n\n<pre><code>sub inthread {\n    $socket = new IO::Socket::INET ( ... );\n    # ...\n    while ( my $client = $socket-&gt;accept() ) {\n       #if i print STDOUT, (fileno $client); # there i'll get 4\n       push ( @shared, fileno $client);\n    }\n}\n\n\nsub mainthread {\n   if ( scalar @shared ) {\n      $fd = shift @shared;\n      # if i print (fileno $fd); # there i'll get 4\n      open my $f, \"&lt;&amp;=$fd\" or die \" error $!\"; ### error here: Can't open 4: Bad file descriptor\n      while ( &lt;$f&gt; ) { ... }\n   }\n}\n\nthreads-&gt;create(\\&amp;inthread);\nwhile(1) { mainthread; }\n</code></pre>\n\n<p>whole code is there <a href=\"http://dpaste.com/3381RKV\" rel=\"nofollow\">http://dpaste.com/3381RKV</a></p>\n\n<p>test:</p>\n\n<pre>perl -w ./testcode.pl --port=10102 &\nwget -O - http://127.0.0.1:10102/</pre>\n"}, {"tags": ["linux", "bash", "perl", "curl", "wget"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1469809297, "post_id": 38662297, "comment_id": 64707628, "body": "&quot;Is the _csrf header string important?&quot; Yes. If your request does not send that, the web site assumes the request is a forgery attempt."}], "answers": [{"tags": [], "owner": {"reputation": 23303, "user_id": 48382, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/5CQEv.jpg?s=128&g=1", "display_name": "Krzysztof Kraso\u0144", "link": "https://stackoverflow.com/users/48382/krzysztof-kraso%c5%84"}, "is_accepted": true, "score": 1, "last_activity_date": 1469805886, "creation_date": 1469805886, "answer_id": 38662373, "question_id": 38662297, "link": "https://stackoverflow.com/questions/38662297/how-to-wget-curl-past-a-redirect-to-download-content/38662373#38662373", "title": "How to wget/curl past a redirect to download content?", "body": "<p>Use <code>-L</code> option in <code>curl</code>:</p>\n\n<pre><code>curl -s -L -H 'email: my@email.com' -H 'password: mypw' https://sharelatex.com/login\n</code></pre>\n"}], "owner": {"reputation": 5139, "user_id": 3293148, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a5b0a16cfd67f7e3944d886fd1bebde5?s=128&d=identicon&r=PG", "display_name": "Jasmine Lognnes", "link": "https://stackoverflow.com/users/3293148/jasmine-lognnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1612, "favorite_count": 0, "accepted_answer_id": 38662373, "answer_count": 1, "score": 1, "last_activity_date": 1469808190, "creation_date": 1469805633, "last_edit_date": 1469808190, "question_id": 38662297, "link": "https://stackoverflow.com/questions/38662297/how-to-wget-curl-past-a-redirect-to-download-content", "title": "How to wget/curl past a redirect to download content?", "body": "<p>I would like to use <code>wget</code>, <code>curl</code> or even use Perl to download a copy of my projects each night from <a href=\"https://www.sharelatex.com/login\" rel=\"nofollow noreferrer\">ShareLatex</a>, but when I look at Network in Chrome, I see it redirects from <code>/login</code> to <code>/projects</code> in a successful login.</p>\n\n<p>Because of the redirect I it flushes the Chrome network debug log, but if I do a wrong login attempt I can see what it sends. See below screenshot.</p>\n\n<p><strong>Question</strong></p>\n\n<p>Can anyone explain how I can figure out which string I should post in order to login?</p>\n\n<p>Is the <code>_csrf</code> header string important?</p>\n\n<p>I have no luck with</p>\n\n<pre><code>curl -s --cookie-jar cookie https://sharelatex.com/login\ncurl -s --cookie cookie -H 'email: my@email.com' -H 'password: mypw' https://sharelatex.com/login\n</code></pre>\n\n<p>as it just gives me a failed login screen.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wshcJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wshcJ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469803486, "post_id": 38661509, "comment_id": 64704108, "body": "Please <a href=\"https://stackoverflow.com/posts/38661509/edit\">edit</a> your question and include the expected output for the first problem. The second one seems to have it. You might also want to separate those two with more paragraphs and maybe headings."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1469804133, "post_id": 38661509, "comment_id": 64704506, "body": "which is your inifile"}, {"owner": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469804351, "post_id": 38661509, "comment_id": 64704665, "body": "@simbabque, made it clearer"}, {"owner": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1469804367, "post_id": 38661509, "comment_id": 64704671, "body": "@ssr1012, infile is the blastn output"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1469806364, "post_id": 38661509, "comment_id": 64705983, "body": "When you have duplicate blastn result then the subject length ,query length etc may differ. In that case which one you will consider?"}, {"owner": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1469811055, "post_id": 38661509, "comment_id": 64708558, "body": "@Arijit, from these particular blastn runs, they do not different in that regard, at least not for very many. This is due to a lot of previous filtering and comparisons during earlier analyses. If there are some that differ, then ideally the ones that have the longest <code>sstart</code> and <code>send</code> range."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1469812609, "post_id": 38661509, "comment_id": 64709314, "body": "Then you need to consier subject length(<code>send -sstart</code> ) while removing the duplicates.am I correct? Can you please help me to identify the code to print your sequence. then I can suggest you a way to print it."}, {"owner": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "edited": false, "score": 0, "creation_date": 1469812763, "post_id": 38661509, "comment_id": 64709394, "body": "This is the code that appears to print my sequences. Anything before really only generated the output files with no content <code># iterate through the individual hits for ($jter=0; $jter&lt;$t1; $jter++) {     (@templine) = split(&#47;\\s+&#47;, $temparray[$jter]);     $com = &quot;.&#47;extract_from_genome2 $transcriptomes $templine[2] $templine[8] $templine[9] $templine[2]&quot;;     # print &quot;$com\\n&quot;;     system(&quot;$com&quot;);     system(&quot;cat temp.3 &gt;&gt; $seqfname&quot;);     } # end for ($jter=0; $jter&lt;$t1...</code>"}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1469822793, "post_id": 38661509, "comment_id": 64714358, "body": "Do your sstart and send count the letters in the sequence beginning with 0 or 1? If you are off by 1, would it be correct to say <code>length = send - sstart +1</code>?"}, {"owner": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "reply_to_user": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1469822965, "post_id": 38661509, "comment_id": 64714425, "body": "@Chris Charley - they start at one, but the currently proposed solution in the &quot;Answer&quot; section seems to have taken care of this issue."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "edited": false, "score": 0, "creation_date": 1469814763, "post_id": 38664645, "comment_id": 64710363, "body": "thanks for providing this. I tried running the script with the modification and got the following errors: <code>Bareword &quot;subject_length&quot; not allowed while &quot;strict subs&quot; in use at test.pl line 73. Bareword &quot;subject_length&quot; not allowed while &quot;strict subs&quot; in use at test.pl line 81.</code> The relevant lines are <code>if(exists $filterhash{$templine[2]} and $filterhash{$templine[2]} &lt; subject_length ){</code> and <code>if(exists $filterhash{$templine[2]} and $filterhash{$templine[2]} == subject_length ){</code>"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "edited": false, "score": 0, "creation_date": 1469815216, "post_id": 38664645, "comment_id": 64710627, "body": "I missed $ symbol in subject_length and I corrected it you can check now"}, {"owner": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "edited": false, "score": 0, "creation_date": 1469815631, "post_id": 38664645, "comment_id": 64710851, "body": "Ok, I tried again, but now it doesn&#39;t produce an output file. I only updated the <b># iterate through the individual hits</b> part of my script"}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "edited": false, "score": 0, "creation_date": 1469816942, "post_id": 38664645, "comment_id": 64711524, "body": "This time I checked and updated the code. For me its working fine. you also check"}, {"owner": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "edited": false, "score": 0, "creation_date": 1469817607, "post_id": 38664645, "comment_id": 64711891, "body": "Awesome! That definitely took care of the redundant sequence and base pair offset issues! Thanks @Arijit!"}, {"owner": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "edited": false, "score": 0, "creation_date": 1469819605, "post_id": 38664645, "comment_id": 64712961, "body": "Well, it did what it was suppose to for some but not all. For example, I have an infile with 9 hits, and with this script, I should be getting 4 sequences. It only outputs 1 sequence. I&#39;ll modify my original post to provide the infile. I&#39;m not sure if the script is having issues when a sequence&#39;s <code>sstart</code> and <code>send</code> are in the opposite orientation."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "edited": false, "score": 0, "creation_date": 1469849963, "post_id": 38664645, "comment_id": 64720990, "body": "I also had the same thought before answering the question and to remove the duplicate you can consider the length column I believe which will be more appropriate. If you still want to calculate the subject_length using <code>sstart</code> and <code>send</code> you can put a <code>if condition</code> for reverse strand.forexample <code>if ($sstart &gt;$send){$subject_length = $sstart -$send} </code>"}, {"owner": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "edited": false, "score": 0, "creation_date": 1469888341, "post_id": 38664645, "comment_id": 64729571, "body": "Alright! Getting closer! I tried it with that infile and got the four sequences. Unlike the original solution, this time it doesn&#39;t seem to take care of the bp offset, i.e., I&#39;m back to the sequences outputted being off anywhere from one to two base pairs, not that it is a really big deal in the end. I tried the suggestion by @Chris Charley and added <code>+ 1</code> to the end of <code>$subject_length = $sstart -$send</code> and <code>$subject_length = $send -$sstart</code>, but this didn&#39;t change anything."}, {"owner": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "edited": false, "score": 0, "creation_date": 1469889738, "post_id": 38664645, "comment_id": 64729992, "body": "Just did another spot check and found this that when using the script on this other infile (see edited post), <code>Btri_comp15171_c0_seq1</code> sequence was not outputted. In this case, i cannot figure out why it didn&#39;t."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "reply_to_user": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "edited": false, "score": 0, "creation_date": 1469892166, "post_id": 38664645, "comment_id": 64730716, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/118702/discussion-between-arijit-and-mike-f\">continue this discussion in chat</a>."}, {"owner": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "edited": false, "score": 0, "creation_date": 1469901279, "post_id": 38664645, "comment_id": 64733343, "body": "I just saw your comments. I&#39;ve reached out to you via chat. Cheers!"}], "tags": [], "owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "is_accepted": true, "score": 1, "last_activity_date": 1469893671, "last_edit_date": 1469893671, "creation_date": 1469814238, "answer_id": 38664645, "question_id": 38661509, "link": "https://stackoverflow.com/questions/38661509/modifying-perl-script-to-not-print-duplicates-and-extract-sequences-of-a-certain/38664645#38664645", "title": "Modifying perl script to not print duplicates and extract sequences of a certain length", "body": "<p>You can use hash to remove duplicates</p>\n\n<p>The bellow code remove  duplicates depending on their subject length (keep larger subject length rows).</p>\n\n<p>Just update your <strong># iterate through the individual hits</strong> part with</p>\n\n<pre><code># iterate through the individual hits\nmy %filterhash;\nmy $subject_length;\nfor ($jter=0; $jter&lt;$t1; $jter++) {\n    (@templine) = split(/\\s+/, $temparray[$jter]);\n        $subject_length = $templine[9] -$templine[8];\n        if(exists $filterhash{$templine[2]} ){\n                if($filterhash{$templine[2]} &lt; $subject_length){\n\n                        $filterhash{$templine[2]}= $subject_length;\n                }\n        }\n        else{\n                $filterhash{$templine[2]}= $subject_length;\n        }\n    }\nmy %printhash;\nfor ($jter=0; $jter&lt;$t1; $jter++) {\n    (@templine) = split(/\\s+/, $temparray[$jter]);\n        $subject_length = $templine[9] -$templine[8];\n         if(not exists $printhash{$templine[2]})\n        {\n            $printhash{$templine[2]}=1;\n            if(exists $filterhash{$templine[2]} and $filterhash{$templine[2]} == $subject_length ){\n\n                    $com = \"./extract_from_genome2 $transcriptomes $templine[2] $templine[8] $templine[9] $templine[2]\";\n                    # print \"$com\\n\";\n                    system(\"$com\");\n                    system(\"cat temp.3 &gt;&gt; $seqfname\");\n            }\n        }\n        else{\n            if(exists $filterhash{$templine[2]} and $filterhash{$templine[2]} == $subject_length ){\n\n                    $com = \"./extract_from_genome2 $transcriptomes $templine[2] $templine[8] $templine[9] $templine[2]\";\n                    #print \"$com\\n\";\n                    system(\"$com\");\n                    system(\"cat temp.3 &gt;&gt; $seqfname\");\n            }\n        }\n\n    } # end for ($jter=0; $jter&lt;$t1...\n</code></pre>\n\n<p>Hope this will help you. </p>\n\n<p><strong>Edit part update</strong> </p>\n\n<p>for negative stand you need to replace </p>\n\n<pre><code> $subject_length = $templine[9] -$templine[8];\n</code></pre>\n\n<p>with</p>\n\n<pre><code>if($templine[8] &gt; $templine[9]){\n                $subject_length = $templine[8] -$templine[9];\n        }else{\n                $subject_length = $templine[9] -$templine[8];\n        }\n</code></pre>\n\n<p>You also need to update your <code>extract_from_genome2</code> code for negative strand sequences.</p>\n"}], "owner": {"reputation": 101, "user_id": 6556667, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d2d13eaff1e477fb365cbd38b205979c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike F", "link": "https://stackoverflow.com/users/6556667/mike-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 38664645, "answer_count": 1, "score": 1, "last_activity_date": 1469893671, "creation_date": 1469803009, "last_edit_date": 1469890109, "question_id": 38661509, "link": "https://stackoverflow.com/questions/38661509/modifying-perl-script-to-not-print-duplicates-and-extract-sequences-of-a-certain", "title": "Modifying perl script to not print duplicates and extract sequences of a certain length", "body": "<p>I want to first apologize for the biological nature of this post. I thought I should post some background first. I have a set of gene files that contain anywhere from one to five DNA sequences from different species. I used a bash shell script to perform blastn with each gene file as a query and a file of all transcriptome sequences (<code>all_transcriptome_seq.fasta</code>) from the five species as the subject. I now want to process these output files (and there are many) so that I can get all subject sequences that hit into one file per gene, with duplicate sequences removed (except to keep one), and ensure I'm getting the length of the sequences that actually hit the query.</p>\n\n<p>Here is what the blastn output looks like for one gene file (columns: <code>qseqid qlen sseqid slen qframe qstart qend sframe sstart send evalue bitscore pident nident length</code>)</p>\n\n<pre><code>Acur_01000750.1_OFAS014956-RA-EXON04    248 Apil_comp17195_c0_seq1  1184    1   1   248 1   824 1072    2e-73    259    85.60   214 250\nAcur_01000750.1_OFAS014956-RA-EXON04    248 Atri_comp5613_c0_seq1   1067    1   2   248 1   344 96  8e-97    337    91.16   227 249\nAcur_01000750.1_OFAS014956-RA-EXON04    248 Acur_01000750.1 992 1   1   248 1   655 902 1e-133   459    100.00  248 248\nAcur_01000750.1_OFAS014956-RA-EXON04    248 Btri_comp17734_c0_seq1  1001    1   1   248 1   656 905 5e-69    244    84.40   211 250\nBtri_comp17734_c0_seq1_OFAS014956-RA-EXON04 250 Atri_comp5613_c0_seq1   1067    1   2   250 1   344 96  1e-60    217    82.33   205 249\nBtri_comp17734_c0_seq1_OFAS014956-RA-EXON04 250 Acur_01000750.1 992 1   1   250 1   655 902 5e-69    244    84.40   211 250\nBtri_comp17734_c0_seq1_OFAS014956-RA-EXON04 250 Btri_comp17734_c0_seq1  1001    1   1   250 1   656 905 1e-134   462    100.00  250 250\n</code></pre>\n\n<p>I've been working on a perl script that would, in short, take the <code>sseqid</code> column to pull out the corresponding sequences from the <code>all_transcriptome_seq.fasta</code> file, place these into a new file, and trim the transcripts to the <code>sstart</code> and <code>send</code> positions. Here is the script, so far:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\nuse Data::Dumper;\n\n############################################################################\n# blastn_post-processing.pl v. 1.0 by Michael F., XXXXXX\n############################################################################\n\nmy($progname) = $0;\n\n############################################################################\n# Initialize variables\n############################################################################\n\nmy($jter);\n\nmy($com);\nmy($t1);\n\nif ( @ARGV != 2 ) {\n    print \"Usage:\\n  \\$ $progname &lt;infile&gt; &lt;transcriptomes&gt;\\n\";\n    print \"  infile         = tab-delimited blastn text file\\n\";\n    print \"  transcriptomes = fasta file of all transcriptomes\\n\";\n    print \"exiting...\\n\";\n    exit;\n}\n\nmy($infile)=$ARGV[0];\nmy($transcriptomes)=$ARGV[1];\n\n############################################################################\n# Read the input file\n############################################################################\nprint \"Reading the input file... \";\nopen (my $INF, $infile) or die \"Unable to open file\";\nmy @data = &lt;$INF&gt;;\nprint @data;\nclose($INF) or die \"Could not close file $infile.\\n\";\nmy($nlines) = $#data + 1;\nmy($inlines) = $nlines - 1;\nprint \"$nlines blastn hits read\\n\\n\";\n\n############################################################################\n# Extract hits and place sequences into new file\n############################################################################\nmy @temparray;\nmy @templine;\nmy($seqfname);\n\nopen ($INF, $infile) or die \"Could not open file $infile for input.\\n\";\n@temparray = &lt;$INF&gt;;\nclose($INF) or die \"Could not close file $infile.\\n\";\n$t1 = $#temparray + 1;\nprint \"$infile\\t$t1\\n\";\n$seqfname = \"$infile\" . \".fasta\";\nif ( -e $seqfname ) {\n        print \"    --&gt; $seqfname exists. overwriting\\n\";\n        unlink($seqfname);\n    }   \n\n# iterate through the individual hits\nfor ($jter=0; $jter&lt;$t1; $jter++) {\n    (@templine) = split(/\\s+/, $temparray[$jter]);\n    $com = \"./extract_from_genome2 $transcriptomes $templine[2] $templine[8] $templine[9] $templine[2]\";\n    # print \"$com\\n\";\n    system(\"$com\");\n    system(\"cat temp.3 &gt;&gt; $seqfname\");\n    } # end for ($jter=0; $jter&lt;$t1...\n\n# Arguments for \"extract_from_genome2\"\n#   // argv[1] = name of genome file\n#   // argv[2] = gi number for contig\n#   // argv[3] = start of subsequence\n#   // argv[4] = end of subsequence\n#   // argv[5] = name of output sequence\n</code></pre>\n\n<p>Using this script, here is the output I'm getting:</p>\n\n<pre><code>&gt;Apil_comp17195_c0_seq1\nGATTCTTGCATCTGCAGTAAGACCAGAAATGCTCATTCCTATATGGCTATCTAATGGTATTATTTTTTTCTGATGTGCTGATAATTCAGACGAAGCTCTTTTAAGAGCCACAAGAACTGCATACTGCTTGTTTTTTACTCCAACAGTAGCAGCTCCCAGTTTTACAGCTTCCATTGCATATTCGACTTGGTGCAGGCGTCCCTGGGGACTCCAGACGGTAACGTCAGAATCATACTGGTTACGGAACA\n&gt;Atri_comp5613_c0_seq1\nGAGAATTCTAGCATCAGCAGTGAGGCCTGAAATACTCATGCCTATGTGACTATCTAGAGGTATTATTTTTTTTTGATGAGCTGACAGTTCAGAAGAAGCTCTTTTGAGAGCTACAAGAACTGCATACTGTTTATTTTTTACTCCAACTGTTGCTGCTCCAAGCTTTACAGCCTCCATTGCATATTCCACTTGGTGTAAACGCCCCTGAGGACTCCATACCGTAACATCAGAATCATACTGATTACGGA\n&gt;Acur_01000750.1\nGAATTCTAGCGTCAGCAGTGAGTCCTGAAATACTCATCCCTATGTGGCTATCTAGAGGTATTATTTTTTCTGATGGGCCGACAGTTCAGAGGATGCTCTTTTAAGAGCCACAAGAACTGCATACTCTTTATTTTTACTCCAACAGTAGCAGCTCCAAGCTTCACAGCCTCCATTGCATATTCCACCTGGTGTAAACGTCCCTGAGGGCTCCATACCGTAACATCAGAATCATACTGGTTACGGAACA\n&gt;Btri_comp17734_c0_seq1\nGAATCCTTGCATCTGCAGTAAGTCCAGAAATGCTCATTCCAATATGGCTATCTAATGGTATTATTTTTTTCTGGTGAGCAGACAATTCAGATGATGCTCTTTTAAGAGCTACCAGTACTGCAAAATCATTGTTCTTCACTCCAACAGTTGCAGCACCTAATTTGACTGCCTCCATTGCATACTCCACTTGGTGCAATCTTCCCTGAGGGCTCCATACCGTAACATCAGAATCATACTGGTTACGGAACA\n&gt;Atri_comp5613_c0_seq1\nGAGAATTCTAGCATCAGCAGTGAGGCCTGAAATACTCATGCCTATGTGACTATCTAGAGGTATTATTTTTTTTTGATGAGCTGACAGTTCAGAAGAAGCTCTTTTGAGAGCTACAAGAACTGCATACTGTTTATTTTTTACTCCAACTGTTGCTGCTCCAAGCTTTACAGCCTCCATTGCATATTCCACTTGGTGTAAACGCCCCTGAGGACTCCATACCGTAACATCAGAATCATACTGATTACGGA\n&gt;Acur_01000750.1\nGAATTCTAGCGTCAGCAGTGAGTCCTGAAATACTCATCCCTATGTGGCTATCTAGAGGTATTATTTTTTCTGATGGGCCGACAGTTCAGAGGATGCTCTTTTAAGAGCCACAAGAACTGCATACTCTTTATTTTTACTCCAACAGTAGCAGCTCCAAGCTTCACAGCCTCCATTGCATATTCCACCTGGTGTAAACGTCCCTGAGGGCTCCATACCGTAACATCAGAATCATACTGGTTACGGAACA\n&gt;Btri_comp17734_c0_seq1\nGAATCCTTGCATCTGCAGTAAGTCCAGAAATGCTCATTCCAATATGGCTATCTAATGGTATTATTTTTTTCTGGTGAGCAGACAATTCAGATGATGCTCTTTTAAGAGCTACCAGTACTGCAAAATCATTGTTCTTCACTCCAACAGTTGCAGCACCTAATTTGACTGCCTCCATTGCATACTCCACTTGGTGCAATCTTCCCTGAGGGCTCCATACCGTAACATCAGAATCATACTGGTTACGGAACA\n</code></pre>\n\n<p>As you can see, it's pretty close to what I'm wanting. Here are the two issues I have and cannot seem to figure out how to resolve with my script. The <strong>first</strong> is that a sequence may occur more than once in the <code>sseqid</code> column, and with the script in its current form, it will print out duplicates of these sequences. I only need one. How can I modify my script to not duplicate sequences (i.e., how do I only retain one but remove the other duplicates)? Expected output:</p>\n\n<pre><code>&gt;Apil_comp17195_c0_seq1\nGATTCTTGCATCTGCAGTAAGACCAGAAATGCTCATTCCTATATGGCTATCTAATGGTATTATTTTTTTCTGATGTGCTGATAATTCAGACGAAGCTCTTTTAAGAGCCACAAGAACTGCATACTGCTTGTTTTTTACTCCAACAGTAGCAGCTCCCAGTTTTACAGCTTCCATTGCATATTCGACTTGGTGCAGGCGTCCCTGGGGACTCCAGACGGTAACGTCAGAATCATACTGGTTACGGAACA\n&gt;Atri_comp5613_c0_seq1\nGAGAATTCTAGCATCAGCAGTGAGGCCTGAAATACTCATGCCTATGTGACTATCTAGAGGTATTATTTTTTTTTGATGAGCTGACAGTTCAGAAGAAGCTCTTTTGAGAGCTACAAGAACTGCATACTGTTTATTTTTTACTCCAACTGTTGCTGCTCCAAGCTTTACAGCCTCCATTGCATATTCCACTTGGTGTAAACGCCCCTGAGGACTCCATACCGTAACATCAGAATCATACTGATTACGGA\n&gt;Acur_01000750.1\nGAATTCTAGCGTCAGCAGTGAGTCCTGAAATACTCATCCCTATGTGGCTATCTAGAGGTATTATTTTTTCTGATGGGCCGACAGTTCAGAGGATGCTCTTTTAAGAGCCACAAGAACTGCATACTCTTTATTTTTACTCCAACAGTAGCAGCTCCAAGCTTCACAGCCTCCATTGCATATTCCACCTGGTGTAAACGTCCCTGAGGGCTCCATACCGTAACATCAGAATCATACTGGTTACGGAACA\n&gt;Btri_comp17734_c0_seq1\nGAATCCTTGCATCTGCAGTAAGTCCAGAAATGCTCATTCCAATATGGCTATCTAATGGTATTATTTTTTTCTGGTGAGCAGACAATTCAGATGATGCTCTTTTAAGAGCTACCAGTACTGCAAAATCATTGTTCTTCACTCCAACAGTTGCAGCACCTAATTTGACTGCCTCCATTGCATACTCCACTTGGTGCAATCTTCCCTGAGGGCTCCATACCGTAACATCAGAATCATACTGGTTACGGAACA\n</code></pre>\n\n<p>The <strong>second</strong> is the script is not quite extracting the right base pairs. It's super close, off by one or two, but its not exact.</p>\n\n<p>For example, take the first subject hit <code>Apil_comp17195_c0_seq1</code>. The <code>sstart</code> and <code>send</code> values are 824 and 1072, respectively. When I go to the <code>all_transcriptome_seq.fasta</code>, I get</p>\n\n<pre><code>AAGATTCTTGCATCTGCAGTAAGACCAGAAATGCTCATTCCTATATGGCTATCTAATGGTATTATTTTTTTCTGATGTGCTGATAATTCAGACGAAGCTCTTTTAAGAGCCACAAGAACTGCATACTGCTTGTTTTTTACTCCAACAGTAGCAGCTCCCAGTTTTACAGCTTCCATTGCATATTCGACTTGGTGCAGGCGTCCCTGGGGACTCCAGACGGTAACGTCAGAATCATACTGGTTACGGAAC\n</code></pre>\n\n<p>at that base pair range, not</p>\n\n<pre><code>GATTCTTGCATCTGCAGTAAGACCAGAAATGCTCATTCCTATATGGCTATCTAATGGTATTATTTTTTTCTGATGTGCTGATAATTCAGACGAAGCTCTTTTAAGAGCCACAAGAACTGCATACTGCTTGTTTTTTACTCCAACAGTAGCAGCTCCCAGTTTTACAGCTTCCATTGCATATTCGACTTGGTGCAGGCGTCCCTGGGGACTCCAGACGGTAACGTCAGAATCATACTGGTTACGGAACA\n</code></pre>\n\n<p>as outputted by my script, which is what I'm expecting. You will also notice that the sequence outputted by my script is slightly shorter than it should be. Does anyone know how I can fix these issues in my script?</p>\n\n<p>Thanks, and sorry for the lengthy post!</p>\n\n<p><strong>Edit 1: a solution was offered that work for some of the infiles. However, some were causing the script to output fewer sequences than expected. Here is one such infile with 9 hits, from which I was expecting only 4 sequences.</strong></p>\n\n<p><strong>Note: this issue has been largely resolved based on the solution provided below the answer section</strong></p>\n\n<pre><code>Apil_comp16418_c0_seq1_OFAS000119-RA-EXON01 1587    Apil_comp16418_c0_seq1  2079    1   1   1587    1   416 2002    0.0 2931    100.00  1587    1587\nApil_comp16418_c0_seq1_OFAS000119-RA-EXON01 1587    Atri_comp13712_c0_seq1  1938    1   1   1587    1   1651    75  0.0 1221    80.73   1286    1593\nApil_comp16418_c0_seq1_OFAS000119-RA-EXON01 1587    Ctom_01003023.1 2162    1   1   1406    1   1403    1   0.0 1430    85.07   1197    1407\nAtri_comp13712_c0_seq1_OFAS000119-RA-EXON01 1441    Apil_comp16418_c0_seq1  2079    1   1   1437    1   1866    430 0.0 1170    81.43   1175    1443\nAtri_comp13712_c0_seq1_OFAS000119-RA-EXON01 1441    Atri_comp13712_c0_seq1  1938    1   1   1441    1   201 1641    0.0 2662    100.00  1441    1441\nAtri_comp13712_c0_seq1_OFAS000119-RA-EXON01 1441    Acur_01000228.1 2415    1   1   1440    1   2231    797 0.0 1906    90.62   1305    1440\nCtom_01003023.1_OFAS000119-RA-EXON01    1289    Apil_comp16418_c0_seq1  2079    1   3   1284    1   1714    430 0.0 1351    85.69   1102    1286\nCtom_01003023.1_OFAS000119-RA-EXON01    1289    Acur_01000228.1 2415    1   1   1287    1   2084    797 0.0 1219    83.81   1082    1291\nCtom_01003023.1_OFAS000119-RA-EXON01    1289    Ctom_01003023.1 2162    1   1   1289    1   106 1394    0.0 2381    100.00  1289    1289\n</code></pre>\n\n<p><strong>Edit 2: There is still an occasional output lacking fewer sequences than expected, although not as many after incorporating modifications to my script from</strong> Edit 1 <strong>suggestion (i.e., accounting for reverse direction). I cannot figure out why the script would be outputting fewer sequences in these other cases. Below the infile in question. The output is lacking</strong> <code>Btri_comp15171_c0_seq1</code><strong>:</strong></p>\n\n<pre><code>Apil_comp19456_c0_seq1_OFAS000248-RA-EXON07 2464    Apil_comp19456_c0_seq1  3549    1   1   2464    1   761 3224    0.0 4551    100.00  2464    2464\nApil_comp19456_c0_seq1_OFAS000248-RA-EXON07 2464    Btri_comp15171_c0_seq1  3766    1   1   2456    1   3046    591 0.0 1877    80.53   1985    2465\nBtri_comp15171_c0_seq1_OFAS000248-RA-EXON07 2457    Apil_comp19456_c0_seq1  3549    1   1   2457    1   3214    758 0.0 1879    80.54   1986    2466\nBtri_comp15171_c0_seq1_OFAS000248-RA-EXON07 2457    Atri_comp28646_c0_seq1  1403    1   1256    2454    1   1401    203 0.0  990    81.60   980 1201\nBtri_comp15171_c0_seq1_OFAS000248-RA-EXON07 2457    Btri_comp15171_c0_seq1  3766    1   1   2457    1   593 3049    0.0 4538    100.00  2457    2457\n</code></pre>\n"}, {"tags": ["perl", "dbix-class"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1469794724, "post_id": 38658494, "comment_id": 64698118, "body": "I don&#39;t understand the question. Can you please <a href=\"https://stackoverflow.com/posts/38658494/edit\">edit</a> and clarify what you&#39;re trying to do. Please use proper inline-code markup for the things that are methods or config values. It&#39;s very hard to read your question."}, {"owner": {"reputation": 331, "user_id": 1342636, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b861b89252438bf839cdfa7dfd52df95?s=128&d=identicon&r=PG", "display_name": "melutovich", "link": "https://stackoverflow.com/users/1342636/melutovich"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469798761, "post_id": 38658494, "comment_id": 64700868, "body": "@simbabque updated; you can also look at nwellnhof&#39;s answer."}], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 1342636, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b861b89252438bf839cdfa7dfd52df95?s=128&d=identicon&r=PG", "display_name": "melutovich", "link": "https://stackoverflow.com/users/1342636/melutovich"}, "edited": false, "score": 0, "creation_date": 1469796739, "post_id": 38658747, "comment_id": 64699429, "body": "Does your prefetch cache the board and locks relationships, so that $result-&gt;expansion_board and $result-&gt;expansion_board-&gt;locks will not need the DB again?  Is there a way to have this setup so that on the first occurrence of my $board = $result-&gt;expansion_board; would at the same time as loading in the expansion_board to also get the locks.  (i.e. old code is using $result-&gt;expansion_board )"}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "reply_to_user": {"reputation": 331, "user_id": 1342636, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b861b89252438bf839cdfa7dfd52df95?s=128&d=identicon&r=PG", "display_name": "melutovich", "link": "https://stackoverflow.com/users/1342636/melutovich"}, "edited": false, "score": 1, "creation_date": 1469797503, "post_id": 38658747, "comment_id": 64699946, "body": "@melutovich (1) The only thing I know for sure is that <code>$board-&gt;locks</code> shouldn&#39;t hit the DB. I don&#39;t think other accesses through the original <code>$result</code> are cached. Try to run DBIC with SQL tracing and have a look at the statements it generates. (2) Maybe you could try to override the <code>expansion_board</code> method in the result class, but I wouldn&#39;t recommend that."}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": false, "score": 1, "last_activity_date": 1469796652, "last_edit_date": 1469796652, "creation_date": 1469794951, "answer_id": 38658747, "question_id": 38658494, "link": "https://stackoverflow.com/questions/38658494/dbix-might-have-and-prefetch-its-relationships-on-first-access/38658747#38658747", "title": "dbix might_have and prefetch it&#39;s relationships on first access?", "body": "<p>IIUC, you have something like</p>\n\n<pre><code>my $board = $result-&gt;expansion_board;\n</code></pre>\n\n<p>and want to prefetch the board's locks. In this case, you could use the <a href=\"https://metacpan.org/pod/DBIx::Class::Relationship::Base#search_related\" rel=\"nofollow\"><code>search_related</code> method</a> with a <a href=\"https://metacpan.org/pod/DBIx::Class::ResultSet#prefetch\" rel=\"nofollow\"><code>prefetch</code> attribute</a>:</p>\n\n<pre><code>my $board = $result-&gt;search_related('expansion_board', undef, {\n    prefetch =&gt; 'locks',\n})-&gt;single;\n</code></pre>\n\n<p>Or you could try the <a href=\"https://metacpan.org/pod/DBIx::Class::Relationship::Base#find_related\" rel=\"nofollow\"><code>find_related</code> method</a>:</p>\n\n<pre><code>my $board = $result-&gt;find_related('expansion_board', undef, {\n    prefetch =&gt; 'locks',\n});\n</code></pre>\n"}], "owner": {"reputation": 331, "user_id": 1342636, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b861b89252438bf839cdfa7dfd52df95?s=128&d=identicon&r=PG", "display_name": "melutovich", "link": "https://stackoverflow.com/users/1342636/melutovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469798276, "creation_date": 1469794181, "last_edit_date": 1469798276, "question_id": 38658494, "link": "https://stackoverflow.com/questions/38658494/dbix-might-have-and-prefetch-its-relationships-on-first-access", "title": "dbix might_have and prefetch it&#39;s relationships on first access?", "body": "<p>Example</p>\n\n<p>I have a table that might_have an expansion board; an expansion board has_many locks</p>\n\n<p>Is it possible to when the might_have is first accessed to prefetch the locks?</p>\n\n<p>(Yes I know that when I get the table I can prefetch the board and it's locks; just wondering if I have to do it this way.)</p>\n\n<pre><code>package Table;\n\n__PACKAGE__-&gt;might_have(\"expansion_board\", \"ExpansionBoard\",\n{ \"foreign.boardid\" =&gt; \"self.boardid\" });\n\n#etc.\n\npackage ExpansionBoard;\n\n__PACKAGE__-&gt;has_many(\"locks\",\"Lock\",\n{ \"foreign.boardid\" =&gt; \"self.boardid\" },\nundef);\n\n#etc.\n\npackage Lock;\n\n#etc.\n</code></pre>\n\n<p>I would most like that $table->expansion_board on first access to also load in it's locks from the database.</p>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1469790290, "post_id": 38656857, "comment_id": 64695492, "body": "<code>use warnings</code> is similar to <code>-w</code> on your shebang line. You only need one of them (and most people would go with the <code>use warnings</code>)."}, {"owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1469791770, "post_id": 38656857, "comment_id": 64696373, "body": "Missed that, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "edited": false, "score": 0, "creation_date": 1469792310, "post_id": 38657133, "comment_id": 64696656, "body": "I&#39;m not sure you understood my problem right: what I&#39;m struggling with is the  <code>my @motcherches = qw&#47;blop blup blip blap&#47;;</code> line :  it works great as it is, but I&#39;d like not to have &quot;blop blup blip blap&quot; as values but instead words from a file, as I did with the other file. What I&#39;ve tried up until now returned errors."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "edited": false, "score": 0, "creation_date": 1469792491, "post_id": 38657133, "comment_id": 64696773, "body": "@Baptiste Please add example input ."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1469792264, "last_edit_date": 1469792264, "creation_date": 1469789941, "answer_id": 38657133, "question_id": 38656857, "link": "https://stackoverflow.com/questions/38656857/perl-compare-array-content-to-hash-values/38657133#38657133", "title": "Perl compare array content to hash values", "body": "<p>Everything is fine but add the <code>chomp</code> in your program</p>\n\n<pre><code>  while ( my $line = &lt;FILE&gt;)\n  {\n     chomp($line);\n     my %elements = split(\" \",$line);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "edited": false, "score": 1, "creation_date": 1469799421, "post_id": 38658834, "comment_id": 64701343, "body": "@Baptiste - Great. I&#39;m going to keep the answer as is (rejecting your edit suggestion), just because using <code>__DATA__</code> to read in data within a script is so common"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": true, "score": 1, "last_activity_date": 1469795210, "creation_date": 1469795210, "answer_id": 38658834, "question_id": 38656857, "link": "https://stackoverflow.com/questions/38656857/perl-compare-array-content-to-hash-values/38658834#38658834", "title": "Perl compare array content to hash values", "body": "<pre><code>use strict;\nuse warnings;\nuse feature qw/ say /;  \n\n# Read in your paragraph of text here:\nopen my $text, '&lt;', 'in.txt' or die $!; \n\nmy %data;\nwhile(&lt;$text&gt;){\n    chomp;\n    $data{$_}++ for split; # by default split splits on ' '\n}\n\nmy %players;\nwhile(&lt;DATA&gt;){\n    chomp;\n    my @field = split;\n    say if $data{$field[0]};\n}\n\n\n__DATA__\nZieler player\nChilwell player\nUlloa player\nMahrez player\nRanieri coach\n</code></pre>\n"}], "owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 38658834, "answer_count": 2, "score": 1, "last_activity_date": 1469795210, "creation_date": 1469789104, "last_edit_date": 1469793505, "question_id": 38656857, "link": "https://stackoverflow.com/questions/38656857/perl-compare-array-content-to-hash-values", "title": "Perl compare array content to hash values", "body": "<p>I'm trying to check the existence of words from a file in a hash, and if so to display the corresponding hash key and value.</p>\n\n<p>So far, I've been able to do it with an array <code>@motcherches</code> which values are given in the script.</p>\n\n<p>I can't find a way to give as values to this array words from a external file (here <code>FILEDEUX</code>). \nCould you point me in the right direction?</p>\n\n<p>(Please don't hesitate to correct my way of explaining my problem.)</p>\n\n<pre><code>#!/usr/bin/perl\nuse v5.10;\nuse strict;\nuse warnings;\nmy $hashtable = $ARGV[0];\nmy $textecompare = $ARGV[1];\nopen FILE,\"&lt;$hashtable\" or die \"Could not open $hashtable: $!\\n\";\nopen FILEDEUX,\"&lt;$textecompare\" or die \"Could not open $textecompare: $!\\n\";\n\n\n    while ( my $line = &lt;FILE&gt;)\n    {\n        chomp($line);\n        my %elements = split(\" \",$line);\n\n        my @motcherches = qw/blop blup blip blap/;\n        foreach my $motcherches (@motcherches) {\n\n            while ((my $key, my $value) = each (%elements)) {\n                # Check if element is in hash :\n                say \"$key , $value\" if (exists $elements{$motcherches}) ;\n            }\n        }\n    }\n\nclose FILE;\nclose FILEDEUX;\n</code></pre>\n\n<p>EDIT: Example inputs</p>\n\n<p><code>FILE</code> (transformed into <code>%elements</code> hash)</p>\n\n<pre><code>Zieler player\nChilwell player\nUlloa player\nMahrez player\nRanieri coach\n</code></pre>\n\n<p>============================================================================</p>\n\n<p><code>FILEDEUX</code> (transformed into <code>motcherches</code>array)</p>\n\n<p>One save is quickly followed by another, and this time Zieler had to be a little sharper to keep it out.\nIzaguirre gives Mahrez a taste of his own medicine by beating him all ends up down the left flank, although the Leicester winger gave up far too easily.\nClaudio Ranieri will be happy with what he has seen from his side so far.</p>\n\n<p>=============================================================================</p>\n\n<p>Expected output:</p>\n\n<pre><code>Zieler player\nMahrez player\nRanieri coach\n</code></pre>\n"}, {"tags": ["perl", "apache-lucy"], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 3149355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PTMJD.png?s=128&g=1", "display_name": "user3149355", "link": "https://stackoverflow.com/users/3149355/user3149355"}, "is_accepted": false, "score": 0, "last_activity_date": 1501681557, "last_edit_date": 1501681557, "creation_date": 1501619818, "answer_id": 45447255, "question_id": 38656511, "link": "https://stackoverflow.com/questions/38656511/indexation-and-searching-with-lucy/45447255#45447255", "title": "Indexation and searching with Lucy", "body": "<p>You need to create the path directory first:</p>\n\n<pre><code>mkdir /home/akpinar/Desktop/lucyindex/text\n</code></pre>\n\n<p>I was confused too because <code>Lucy::Simple</code> and <code>Lucy::Index::Indexer</code> do not give the same api.\n<code>path=&gt;</code> for <code>::Simple</code> versus <code>index=&gt;</code> for <code>::Indexex</code>.\nAnd, this second may create the directory.</p>\n\n<pre><code>$indexer = Lucy::Index::Indexer-&gt;new(\nschema =&gt; $schema,\nindex  =&gt; $outIndex,\ncreate =&gt; 1,\ntruncate =&gt;0,\n);\n</code></pre>\n"}], "owner": {"reputation": 229, "user_id": 4288967, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/0cb9aea9752ccef0937caa13e7450aa7?s=128&d=identicon&r=PG&f=1", "display_name": "oezlem", "link": "https://stackoverflow.com/users/4288967/oezlem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501681557, "creation_date": 1469788058, "last_edit_date": 1469803455, "question_id": 38656511, "link": "https://stackoverflow.com/questions/38656511/indexation-and-searching-with-lucy", "title": "Indexation and searching with Lucy", "body": "<p>I am trying to index a folder with text files, and search the files which contain a word using lucy::simple module.\nHere is my code so far:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Lucy::Simple;\nuse Lucy::Search::IndexSearcher;\n\n\n#make_path($ch_Index);\n\n    my $index = Lucy::Simple-&gt;new(\n        path     =&gt; \"/home/akpinar/Desktop/lucyindex/text\",\n        language =&gt; 'en',\n    );\n\n    while ( my ( $title, $content ) = each my %source_docs ) {\n        my $index-&gt;add_doc({\n            title    =&gt; $title,\n            content  =&gt; $content,\n        });\n    }\n    #print \"Indexation finie\\n\"; \n\n\n###requete\n    print \"Veuillez taper votre requ\u00eate : \\n\"; \n    my $requete = &lt;STDIN&gt;;\n    chomp $requete ; \n    $requete=lc($requete); \n\n\n    my $nbTrouve = $index-&gt;search(\n        query =&gt;$requete, \n        offset=&gt;0, \n        num_wanted=&gt;100, \n    );\n\n    print \"Total hits: $nbTrouve\\n\";\n    while ( my $hit = $index-&gt;next ) {\n        print \"$hit-&gt;{title}\\n\",\n    }\n</code></pre>\n\n<p>but i get the error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Failed to read seg_1\n    S_try_open_elements at core/Lucy/Index/PolyReader.c line 290\n    at lucyrequete.pl line 21, &lt;STDIN&gt; line 1.\n    eval {...} called at lucyrequete.pl line 21\n    lucy_PolyReader_do_open at core/Lucy/Index/PolyReader.c line 439\n    at lucyrequete.pl line 21, &lt;STDIN&gt; line 1.\n</code></pre>\n\n<p>Does anybody know why I get this?</p>\n"}, {"tags": ["linux", "bash", "perl", "shell", "background-process"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1469789262, "post_id": 38652522, "comment_id": 64694861, "body": "It is difficult to follow your explanation. Please try to be more precise or include more details. Also see <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"}], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 5403907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3lnS.jpg?s=128&g=1", "display_name": "mbethke", "link": "https://stackoverflow.com/users/5403907/mbethke"}, "is_accepted": false, "score": 1, "last_activity_date": 1469815502, "creation_date": 1469815502, "answer_id": 38664980, "question_id": 38652522, "link": "https://stackoverflow.com/questions/38652522/exiting-a-shell-script-running-on-the-host/38664980#38664980", "title": "Exiting a shell script running on the host", "body": "<p>That's not a problem in Perl or SSH, it's the way you use <code>nohup</code>. The script will hang just the same if you call it as</p>\n\n<pre><code>ssh host2 ./sabkuch.sh\n</code></pre>\n\n<p><code>nohup</code> only truly detaches to let the calling ssh process terminate if you redirect stdout/stderr like this:</p>\n\n<pre><code>nohup perl server.pl &gt;/dev/null 2&gt;&amp;1 &amp;\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 1814300, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/89276a0bf4a6744ed172bb2819dc348d?s=128&d=identicon&r=PG", "display_name": "hanish", "link": "https://stackoverflow.com/users/1814300/hanish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469815502, "creation_date": 1469775977, "question_id": 38652522, "link": "https://stackoverflow.com/questions/38652522/exiting-a-shell-script-running-on-the-host", "title": "Exiting a shell script running on the host", "body": "<p>this is my script code that I launch from machine 1 to machine 2 (remotely)</p>\n\n<pre><code> #!/bin/bash\n nohup perl server.pl &amp;\n echo \"script ends\"\n exit\n</code></pre>\n\n<p>the file server.pl runs in a <strong>while(1)</strong> kind of loop listening for sockets forever.</p>\n\n<p>the problem I am facing now is : as i launch this shell script remotely after i invoke this script i have other work to be done inside the file which launches this shell script.\neg:</p>\n\n<pre><code>#this script launches the shell script \n$cmd = \"sabkuch.sh\";\n$ssh-&gt;system($cmd);#using Openssh perl package to remotely run commands\n#do some other processing\nprint \"Welcome to USA\\n\";\n</code></pre>\n\n<p>When running the above code I am unable to print statement until i give a <strong>Ctrl-C</strong>.</p>\n\n<p>If i launch this shell script on machine 2 itself ( without remotely launching it from machine 1) i get the desired result, i don't know where i am going wrong, what could be the problem? </p>\n\n<p>PS : i have commented all the print statements in shell script ( to avoid some stdout problems bringing the process to fg again inspite of <strong>&amp;</strong> )</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1469776299, "post_id": 38651317, "comment_id": 64686926, "body": "provide the test.dtd"}, {"owner": {"reputation": 889, "user_id": 1505752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f115c18fc65d4914c7ae1dac7997308c?s=128&d=identicon&r=PG", "display_name": "VSr", "link": "https://stackoverflow.com/users/1505752/vsr"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1469782761, "post_id": 38651317, "comment_id": 64690653, "body": "&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!ELEMENT test (name+)&gt; &lt;!ELEMENT name (firstName, lastName)&gt; &lt;!ELEMENT firstName (#PCDATA)&gt; &lt;!ENTITY dagger  &quot;&amp;#8224;&quot; &gt;&lt;!-- dagger, U+2020 ISOpub --&gt; &lt;!ENTITY Dagger  &quot;&amp;#8225;&quot; &gt;&lt;!-- double dagger, U+2021 ISOpub --&gt; &lt;!ELEMENT lastName (#PCDATA)&gt;"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1469794735, "post_id": 38651317, "comment_id": 64698132, "body": "add this line by importing modules. <code>binmode STDOUT, &#39;:utf8&#39;;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1469808782, "post_id": 38651317, "comment_id": 64707380, "body": "The reason you are getting that error message is because you didn&#39;t tell Perl how to encode the output. <code>use open &#39;:std&#39;, &#39;:encoding(UTF-8)&#39;;</code> will fix that. (Even if you don&#39;t decode the entities, you still need to fix this bug.)"}], "answers": [{"tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": false, "score": 3, "last_activity_date": 1469774061, "creation_date": 1469774061, "answer_id": 38651998, "question_id": 38651317, "link": "https://stackoverflow.com/questions/38651317/do-not-disturb-encoded-entites-wide-characters-in-xmllibxml/38651998#38651998", "title": "Do not disturb encoded entites (wide characters) in XML::LibXML", "body": "<p>This will probably require tweaking the serializer, if it's possible at all.  </p>\n\n<p>Entities are syntactic sugar and get replaced with the 'real' characters while parsing.  The entity strings <code>&amp;[entity-name];</code> do not exist in the DOM representation.  </p>\n\n<p>If the output encoding (UTF-8 in your case) supports the characters natively that's what the serializer is going to write as it has no idea what the characters looked like in the source document.  </p>\n\n<p>I took a quick look at the documentation and didn't see anything of use for controlling entity output.</p>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 3, "last_activity_date": 1469796183, "creation_date": 1469796183, "answer_id": 38659195, "question_id": 38651317, "link": "https://stackoverflow.com/questions/38651317/do-not-disturb-encoded-entites-wide-characters-in-xmllibxml/38659195#38659195", "title": "Do not disturb encoded entites (wide characters) in XML::LibXML", "body": "<p>This can be done by the <code>expand_entities()</code>;</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::LibXML;\nmy $parser = new XML::LibXML;\n\n#for the output you need utf8 \nbinmode STDOUT, ':utf8'; \n\n$parser-&gt;validation(1);\n$parser-&gt;load_ext_dtd(1);\n\n#Use expand_entities for retain the entities\n$parser-&gt;expand_entities(0);\nmy $doc  = $parser-&gt;parse_file(\"test.xml\");\nforeach my $new ($doc-&gt;findnodes('test'))\n{\nmy($name) = $new-&gt;findnodes('//firstName');\nprint $name.\"\\n\";\n}\n</code></pre>\n\n<p><a href=\"http://search.cpan.org/dist/XML-LibXML/lib/XML/LibXML/Parser.pod\" rel=\"nofollow noreferrer\">check more info</a></p>\n"}], "owner": {"reputation": 889, "user_id": 1505752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f115c18fc65d4914c7ae1dac7997308c?s=128&d=identicon&r=PG", "display_name": "VSr", "link": "https://stackoverflow.com/users/1505752/vsr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1469803543, "creation_date": 1469771206, "last_edit_date": 1469803543, "question_id": 38651317, "link": "https://stackoverflow.com/questions/38651317/do-not-disturb-encoded-entites-wide-characters-in-xmllibxml", "title": "Do not disturb encoded entites (wide characters) in XML::LibXML", "body": "<p>I am trying to add an additional attribute to the existing XML node using XML:LibXML, when I trying to achieve this, all encoded entities like <code>&amp;dagger</code>, <code>&amp;para;</code> are converted into plain UTF-8 character. How to avoid this conversion and retain the original encoding?</p>\n\n<p>XML:</p>\n\n<pre><code>     &lt;?xml version=\"1.0\"?&gt;\n     &lt;!DOCTYPE test SYSTEM \"test.dtd\"&gt;\n     &lt;test&gt;\n     &lt;name&gt;\n          &lt;firstName&gt;firstname&amp;Dagger;&lt;/firstName&gt;\n         &lt;lastName&gt;last name&lt;/lastName&gt;\n     &lt;/name&gt;\n     &lt;name&gt;\n        &lt;firstName&gt;first name&lt;/firstName&gt;\n        &lt;lastName&gt;last name&lt;/lastName&gt;\n    &lt;/name&gt;\n  &lt;/test&gt;\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>  use strict;\n  use warnings;\n  use XML::LibXML;\n  my $parser = new XML::LibXML;\n  $parser-&gt;validation(1);\n  $parser-&gt;load_ext_dtd(1);\n  my $doc  = $parser-&gt;parse_file($instance);\n  foreach my $new ($doc-&gt;findnodes('test'))\n   {\n    my($name) = $new-&gt;findnodes('//firstName');\n    print $name.\"\\n\";\n   }\n</code></pre>\n\n<p>I am getting the output <code>&lt;firstName&gt;firstname\u2021&lt;/firstName&gt;</code> with converted encode, along with warning <code>Wide character in print at perlfile.pl</code>.</p>\n\n<p>If I use encode print encode_entities($name).\"\\n\"; with the help of <code>use HTML::Entities;</code> I can get the encoded entities but I don't want to use this since I may get a utf-8 character instead of an entity in my text. So I want to retain the text as it is in the output. Is there any way to do this?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "edited": false, "score": 2, "creation_date": 1469771220, "post_id": 38651280, "comment_id": 64684497, "body": "You&#39;re missing a quote: <code>&quot;key&quot;: </code>, not <code>&quot;key: </code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469803884, "post_id": 38651280, "comment_id": 64704358, "body": "Please note that the language is called <b><i>Perl</i></b>"}], "answers": [{"tags": [], "owner": {"reputation": 16403, "user_id": 2963652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eU05w.jpg?s=128&g=1", "display_name": "nicael", "link": "https://stackoverflow.com/users/2963652/nicael"}, "is_accepted": false, "score": 2, "last_activity_date": 1469771814, "last_edit_date": 1469771814, "creation_date": 1469771234, "answer_id": 38651322, "question_id": 38651280, "link": "https://stackoverflow.com/questions/38651280/removing-from-json-like-data/38651322#38651322", "title": "Removing &quot;: &quot; from JSON-like data", "body": "<p>You should use this:</p>\n\n<pre><code>\"key\": \"(.*?)\"\n</code></pre>\n\n<p>Do it in the regex check:</p>\n\n<pre><code>if($line =~ /\"key\": \"(.*?)\",/){\n   ...\n</code></pre>\n\n<p>This way, the first capture group (<code>$1</code>) will contain exactly what you want.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "edited": false, "score": 0, "creation_date": 1469783164, "post_id": 38651405, "comment_id": 64690920, "body": "@MJSuriya  Great :)  Thanks for the feedback and the attribution.  I added <code>&quot;,</code> at the end as I think that it is good to have that as an additional format check (like you have it)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469805448, "post_id": 38651405, "comment_id": 64705376, "body": "@zdim: I don&#39;t like literal spaces in regex patterns because they&#39;re so easily misread, and are discounted altogether if there is a <code>&#47;x</code> modifier in effect. You have <code>\\s</code> and <code>\\h</code> for the normal cases, but to express exactly one space with graphical characters I know nothing better than <code>\\x20</code> or <code>\\N{SPACE}</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469830011, "post_id": 38651405, "comment_id": 64717187, "body": "@Borodin  Thank you for that comment -- this has been nagging me for years, how to (nicely and safely) specify one simple space. I&#39;ve always thought that there was something simple and clean hidden somewhere. It&#39;s also hard to decide between the two you provide (thank you), but I&#39;d lean toward Unicode <code>charnames</code> ...? I&#39;ll research.  I guess another solution (which I had used) is to explicitely escape it, in order to draw attention and protect against <code>&#47;x</code>, but that sure isn&#39;t pretty. I am adding a note on this to the post, thank you."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1470075760, "post_id": 38651405, "comment_id": 64788863, "body": "@Sinan&#220;n&#252;r Right, thank you -- that&#39;s much better than escaping it. Added."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1470873084, "last_edit_date": 1495540897, "creation_date": 1469771571, "answer_id": 38651405, "question_id": 38651280, "link": "https://stackoverflow.com/questions/38651280/removing-from-json-like-data/38651405#38651405", "title": "Removing &quot;: &quot; from JSON-like data", "body": "<p>With the lines you show all you need is</p>\n\n<pre><code>my $key_assoc = $line =~ /: \"([^\"]+)/;\n\nprint \"$key_assoc\\n\" if $key_assoc;\n</code></pre>\n\n<p>Or you can throw in the <code>\"key\"</code> string and <code>\",</code> for extra assurance and a format check</p>\n\n<pre><code>if ($line =~ /\"key\": \"([^\"]+)\",/) {\n    # ...\n}\n</code></pre>\n\n<p>Note that <code>+</code> makes it <em>not</em> capture anything if there are empty quotes (<code>\"key\": \"\",</code>) while <code>.*</code> would get you the empty string in that case. A detail which may not matter, but they are different. </p>\n\n<hr>\n\n<p>Note that the use of a single literal space <kbd>&nbsp;</kbd> in a regex is prone to being overlooked (or doubled) and can also get swallowed if <code>/x</code> is added later, introducing a bug if not tested.  </p>\n\n<p>Better ways to specify a single simple space? We can use <code>\\x20</code>, or Unicode <code>\\N{SPACE}</code> via the <a href=\"http://perldoc.perl.org/charnames.html\" rel=\"nofollow noreferrer\"><code>charnames</code></a> pragma.  Thanks to <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a> for bringing this up and specifying these two.</p>\n\n<p>A nice workaround, from <a href=\"https://stackoverflow.com/users/100754/sinan-%C3%9Cn%C3%BCr\">Sinan \u00dcn\u00fcr</a>, is to use a character class with space only, <code>/a [ ] b/x</code>. This both emphasizes that a literal space is intended (without <code>/x</code>), and allows it under <code>/x</code>.</p>\n\n<p>Another fix is to explicitly escape it, <code>/\\ /</code>, which draws attention to it and protects it from <code>/x</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1469804736, "creation_date": 1469804736, "answer_id": 38662026, "question_id": 38651280, "link": "https://stackoverflow.com/questions/38651280/removing-from-json-like-data/38662026#38662026", "title": "Removing &quot;: &quot; from JSON-like data", "body": "<p>Here's what I would write. It scans every line from the input file for two double-quoted strings, and then prints the second one if it was there</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy ($file) = @ARGV;\n\nopen my $fh, $file or die qq{Could not open \"$file\": $!};\n\nwhile ( &lt;$fh&gt; ) {\n\n    my ($key, $val) = / \" ( [^\"]+ ) \" /xg;\n\n    next unless $key and $key eq 'key';\n\n    print $val, \"\\n\" if $val;\n}\n</code></pre>\n\n<h3>output</h3>\n"}], "owner": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 38651405, "answer_count": 3, "score": 3, "last_activity_date": 1470873084, "creation_date": 1469771032, "last_edit_date": 1592644375, "question_id": 38651280, "link": "https://stackoverflow.com/questions/38651280/removing-from-json-like-data", "title": "Removing &quot;: &quot; from JSON-like data", "body": "<p>I have a 1,00,000-line JSON text file. Manual extraction is not fair. I have written a Perl program to read each line of the file, which meets my needs.</p>\n<p>Here's a sample text file</p>\n<h3>Sample.txt</h3>\n<pre><code>  &quot;key&quot;: &quot;Programming&quot;,\n  &quot;doc_count&quot;: 1\n  \n  &quot;key&quot;: &quot;Base&quot;,\n  &quot;doc_count&quot;: 1,\n  \n  &quot;key&quot;: &quot;Experience&quot;,\n  &quot;doc_count&quot;: 1\n\n  &quot;key&quot;: &quot;Electrophoresis&quot;,\n  &quot;doc_count&quot;: 1\n</code></pre>\n<p>I would like to take the key value alone delimited by double brackets, say <strong>Programming, Base, Experience and Electrophoresis</strong>.</p>\n<p>Here's the Perl code that I tried:</p>\n<h3>ExtractKeyValue.pl</h3>\n<pre><code>use strict;\nuse warnings;\n\nmy $file = $ARGV[0];\nopen my $info, $file or die &quot;Could not open $file: $!&quot;;\n\nwhile ( my $line = &lt;$info&gt; ) {\n    if ( $line =~ /&quot;key(.*)&quot;,/ ) {\n        print $1;\n        print &quot;\\n&quot;;\n    }\n}\n\nclose $info;\n</code></pre>\n<p>By using this, I am getting this output</p>\n<pre><code>&quot;: &quot;Programming\n&quot;: &quot;Base\n&quot;: &quot;Experience\n&quot;: &quot;Electrophoresis\n</code></pre>\n<p>I don't want the leading colon and space.</p>\n<p>I have tried <code>$line =~ /&quot;key: &quot;(.*)&quot;,/</code>. But it is not working. The command executes but no output and no error symptoms.</p>\n<pre><code>G:\\ExtractKeyValue_Regex&gt;perl ExtractKeyValue.pl Sample.txt &gt; Output_Sample.txt\n\nG:\\ExtractKeyValue_Regex&gt;\n</code></pre>\n<p>The output should be like,</p>\n<h3>Expected Output:</h3>\n<pre><code>Programming\nBase\nExperience\nElectrophoresis\n</code></pre>\n<p>I could not figure out why the colon <code>:</code> and space and double quotes <code>&quot;</code> are not tracked by the pattern.</p>\n"}, {"tags": ["java", "perl", "stream", "outputstream"], "comments": [{"owner": {"reputation": 8072, "user_id": 1408143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXgAB.jpg?s=128&g=1", "display_name": "copeg", "link": "https://stackoverflow.com/users/1408143/copeg"}, "edited": false, "score": 0, "creation_date": 1469748972, "post_id": 38648302, "comment_id": 64679218, "body": "<code>Java&#39;s parsing of this is too slow</code> Passing it off to perl wouldn&#39;t be my first choice (adds an additional dependency/point of failure) - consider posting the java parsing code as there may be ways to optimize"}, {"owner": {"reputation": 231, "user_id": 4191647, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/kFi8q.jpg?s=128&g=1", "display_name": "Himself12794", "link": "https://stackoverflow.com/users/4191647/himself12794"}, "reply_to_user": {"reputation": 8072, "user_id": 1408143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXgAB.jpg?s=128&g=1", "display_name": "copeg", "link": "https://stackoverflow.com/users/1408143/copeg"}, "edited": false, "score": 0, "creation_date": 1469749275, "post_id": 38648302, "comment_id": 64679283, "body": "@copeg sure, have added that per your suggestion"}, {"owner": {"reputation": 776, "user_id": 4405881, "user_type": "registered", "profile_image": "https://graph.facebook.com/791465595/picture?type=large", "display_name": "saml", "link": "https://stackoverflow.com/users/4405881/saml"}, "edited": false, "score": 0, "creation_date": 1469749810, "post_id": 38648302, "comment_id": 64679394, "body": "I think multithreading this code would be a better and faster idea than passing off to another process...?"}, {"owner": {"reputation": 8072, "user_id": 1408143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXgAB.jpg?s=128&g=1", "display_name": "copeg", "link": "https://stackoverflow.com/users/1408143/copeg"}, "edited": false, "score": 2, "creation_date": 1469749883, "post_id": 38648302, "comment_id": 64679411, "body": "How many lines? How did you profile? How slow is this?"}, {"owner": {"reputation": 231, "user_id": 4191647, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/kFi8q.jpg?s=128&g=1", "display_name": "Himself12794", "link": "https://stackoverflow.com/users/4191647/himself12794"}, "reply_to_user": {"reputation": 8072, "user_id": 1408143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXgAB.jpg?s=128&g=1", "display_name": "copeg", "link": "https://stackoverflow.com/users/1408143/copeg"}, "edited": false, "score": 0, "creation_date": 1469751966, "post_id": 38648302, "comment_id": 64679914, "body": "@copeg I added a link to something else that provides a little context. As for lines, a lot. At times, up to 100,000+ lines to parse."}, {"owner": {"reputation": 231, "user_id": 4191647, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/kFi8q.jpg?s=128&g=1", "display_name": "Himself12794", "link": "https://stackoverflow.com/users/4191647/himself12794"}, "reply_to_user": {"reputation": 776, "user_id": 4405881, "user_type": "registered", "profile_image": "https://graph.facebook.com/791465595/picture?type=large", "display_name": "saml", "link": "https://stackoverflow.com/users/4405881/saml"}, "edited": false, "score": 0, "creation_date": 1469752460, "post_id": 38648302, "comment_id": 64680045, "body": "@Sam you might be right, Since I have little experience with multi threading, I hadn&#39;t considered that."}, {"owner": {"reputation": 776, "user_id": 4405881, "user_type": "registered", "profile_image": "https://graph.facebook.com/791465595/picture?type=large", "display_name": "saml", "link": "https://stackoverflow.com/users/4405881/saml"}, "edited": false, "score": 0, "creation_date": 1469752606, "post_id": 38648302, "comment_id": 64680089, "body": "I just saw 100,000+ lines above.  The issue is the number of lines, rather than the speed Java does it.  I doubt you would get a substantive benefit using perl. You need to multithread this.  Which version of java are you using?"}, {"owner": {"reputation": 231, "user_id": 4191647, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/kFi8q.jpg?s=128&g=1", "display_name": "Himself12794", "link": "https://stackoverflow.com/users/4191647/himself12794"}, "reply_to_user": {"reputation": 776, "user_id": 4405881, "user_type": "registered", "profile_image": "https://graph.facebook.com/791465595/picture?type=large", "display_name": "saml", "link": "https://stackoverflow.com/users/4405881/saml"}, "edited": false, "score": 0, "creation_date": 1469753277, "post_id": 38648302, "comment_id": 64680240, "body": "@Sam I&#39;m using 1.7 for ease of integration with existing components, but I can easily use 1.8 if I thought it would make things easier/faster"}, {"owner": {"reputation": 776, "user_id": 4405881, "user_type": "registered", "profile_image": "https://graph.facebook.com/791465595/picture?type=large", "display_name": "saml", "link": "https://stackoverflow.com/users/4405881/saml"}, "edited": false, "score": 1, "creation_date": 1469754560, "post_id": 38648302, "comment_id": 64680565, "body": "No it doesn&#39;t make too much of a difference.  Java 8 does have some syntax sugar.  Take a look around the oracle documentation and some tutorials - like this one <a href=\"http://howtodoinjava.com/core-java/multi-threading/java-thread-pool-executor-example/\" rel=\"nofollow noreferrer\">howtodoinjava.com/core-java/multi-threading/&hellip;</a> and raise questions if you get stuck! :)"}, {"owner": {"reputation": 231, "user_id": 4191647, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/kFi8q.jpg?s=128&g=1", "display_name": "Himself12794", "link": "https://stackoverflow.com/users/4191647/himself12794"}, "reply_to_user": {"reputation": 776, "user_id": 4405881, "user_type": "registered", "profile_image": "https://graph.facebook.com/791465595/picture?type=large", "display_name": "saml", "link": "https://stackoverflow.com/users/4405881/saml"}, "edited": false, "score": 0, "creation_date": 1469754677, "post_id": 38648302, "comment_id": 64680588, "body": "@Sam yes, I&#39;m particularly fond of the stream utility"}, {"owner": {"reputation": 776, "user_id": 4405881, "user_type": "registered", "profile_image": "https://graph.facebook.com/791465595/picture?type=large", "display_name": "saml", "link": "https://stackoverflow.com/users/4405881/saml"}, "edited": false, "score": 0, "creation_date": 1469754825, "post_id": 38648302, "comment_id": 64680622, "body": "Well one thing you could do is use a parallel stream if you were using Java 8 which would replace your loop and handle the multi threading without you knowing in a ForkJoinThreadPool.  This does have some disadvantages since the thread pool is shared for the whole application, but in the this case I don&#39;t think that would be a problem."}], "answers": [{"comments": [{"owner": {"reputation": 231, "user_id": 4191647, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/kFi8q.jpg?s=128&g=1", "display_name": "Himself12794", "link": "https://stackoverflow.com/users/4191647/himself12794"}, "edited": false, "score": 0, "creation_date": 1469758841, "post_id": 38649262, "comment_id": 64681462, "body": "I confess, before today, I had never written anything in Perl. This is mostly a result of copy-pasting my Java code and modifying it to execute."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 231, "user_id": 4191647, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/kFi8q.jpg?s=128&g=1", "display_name": "Himself12794", "link": "https://stackoverflow.com/users/4191647/himself12794"}, "edited": false, "score": 0, "creation_date": 1469803225, "post_id": 38649262, "comment_id": 64703931, "body": "@Himself12794: I&#39;m pleased to help, but if your Java code is also trying to cache the entire stream, as <a href=\"http://stackoverflow.com/a/38652955/622310\">Vladim&#237;r Sch&#228;fer says</a> then you&#39;re in trouble. I have few Java skills so I can&#39;t help at that end, but I imagine that there is a way to read a stream and pass it to your Perl child process incrementally. Perl will certainly oblige."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1469756754, "creation_date": 1469756754, "answer_id": 38649262, "question_id": 38648302, "link": "https://stackoverflow.com/questions/38648302/send-bytearrayoutputstream-to-perl-script-then-read-response/38649262#38649262", "title": "Send ByteArrayOutputStream to Perl script, then read response", "body": "<p>I'm using a tablet at present so I can't help much, but your Perl needs some work.</p>\n\n<p>You shouldn't use <code>for $line ( &lt;&gt; )</code> as that will try to read <em>all</em> of the input into a list before starting to iterate. You also don't use <code>$line</code> so you should read straight into <code>$_</code> with</p>\n\n<pre><code>while ( &lt;&gt; ) { ... }\n</code></pre>\n\n<p>There's also no need to <code>chomp</code> every line, and I dont understand why do you call <code>print</code> for every record? It's after the <code>chomp</code> so the output will be a copy of the input all on one very long line with the aggregate values at the very end.</p>\n\n<p>I suspect the Perl script is receiving the data just fine, but having trouble fitting all of the input into memory at once together with a second copy of everything as output!</p>\n"}, {"comments": [{"owner": {"reputation": 231, "user_id": 4191647, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/kFi8q.jpg?s=128&g=1", "display_name": "Himself12794", "link": "https://stackoverflow.com/users/4191647/himself12794"}, "edited": false, "score": 0, "creation_date": 1469794635, "post_id": 38652955, "comment_id": 64698063, "body": "Unfortunately, that&#39;s the format in which I receive the data."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469803714, "post_id": 38652955, "comment_id": 64704249, "body": "Tribalism isn&#39;t welcome here. <b><i>&quot;Java will be much faster at whatever task you throw at it, compared to Perl&quot;</i></b> That requires a citation. I believe you are talking nonsense. The main reasons for using Java have always been its cross-platform performance and its open-source origins, and <a href=\"http://arstechnica.com/information-technology/2016/07/how-oracles-business-as-usual-is-threatening-to-kill-java/\" rel=\"nofollow noreferrer\">Oracle are changing that</a>. Beyond that, its level of abstraction will make it more or less efficient than Perl, depending on the task at hand. Its demands for formal typing make it less popular."}, {"owner": {"reputation": 14499, "user_id": 3510410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07358920039f332b308d4caeafe9e03?s=128&d=identicon&r=PG", "display_name": "Vladim&#237;r Sch&#228;fer", "link": "https://stackoverflow.com/users/3510410/vladim%c3%adr-sch%c3%a4fer"}, "edited": false, "score": 0, "creation_date": 1469804609, "post_id": 38652955, "comment_id": 64704839, "body": "Check the benchmarks above and throw at it experience in processing of billions of records a day on both platforms."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469887318, "post_id": 38652955, "comment_id": 64729283, "body": "Take a look at <a href=\"http://raid6.com.au/~onlyjob/posts/arena/\" rel=\"nofollow noreferrer\"><i>Perl, Python, Ruby, PHP, C, C++, Lua, Tcl, JavaScript and Java comparison</i></a>, where Java comes off by far the worst for a simple string concatenation and regex substitution task."}, {"owner": {"reputation": 14499, "user_id": 3510410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07358920039f332b308d4caeafe9e03?s=128&d=identicon&r=PG", "display_name": "Vladim&#237;r Sch&#228;fer", "link": "https://stackoverflow.com/users/3510410/vladim%c3%adr-sch%c3%a4fer"}, "edited": false, "score": 0, "creation_date": 1469902422, "post_id": 38652955, "comment_id": 64733684, "body": "The Java code in that benchmark is compiling the regexp on every call, instead of using Pattern, that makes it slow. See <a href=\"http://stackoverflow.com/questions/6262397/string-replaceall-is-considerably-slower-than-doing-the-job-yourself\" title=\"string replaceall is considerably slower than doing the job yourself\">stackoverflow.com/questions/6262397/&hellip;</a>"}, {"owner": {"reputation": 231, "user_id": 4191647, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/kFi8q.jpg?s=128&g=1", "display_name": "Himself12794", "link": "https://stackoverflow.com/users/4191647/himself12794"}, "edited": false, "score": 0, "creation_date": 1470759651, "post_id": 38652955, "comment_id": 65076006, "body": "It turned out that the majority of the slowdown was not coming from the parsing the text, but from the diff operation itself. In this case, it happens that the delta between Perl and Java parsing is not significant enough to warrant passing it off to another process."}], "tags": [], "owner": {"reputation": 14499, "user_id": 3510410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c07358920039f332b308d4caeafe9e03?s=128&d=identicon&r=PG", "display_name": "Vladim&#237;r Sch&#228;fer", "link": "https://stackoverflow.com/users/3510410/vladim%c3%adr-sch%c3%a4fer"}, "is_accepted": false, "score": 0, "last_activity_date": 1469804968, "last_edit_date": 1469804968, "creation_date": 1469777340, "answer_id": 38652955, "question_id": 38648302, "link": "https://stackoverflow.com/questions/38648302/send-bytearrayoutputstream-to-perl-script-then-read-response/38652955#38652955", "title": "Send ByteArrayOutputStream to Perl script, then read response", "body": "<p>Using <code>ByteArrayOutputStream</code> means that the whole result of the diff needs to be stored in memory, all at once, instead of getting processed and garbage collected in chunks. Your Java program may have been slow due to running out of memory and performing garbage collection all the time.</p>\n\n<p>Java will be much faster at whatever task you throw at it, compared to Perl. It's a just-in-time compiled language, as opposed to an interpreted language in case of Perl. See e.g. <a href=\"http://blog.carlesmateo.com/2014/10/13/performance-of-several-languages/\" rel=\"nofollow\">http://blog.carlesmateo.com/2014/10/13/performance-of-several-languages/</a>, <a href=\"https://attractivechaos.github.io/plb/\" rel=\"nofollow\">https://attractivechaos.github.io/plb/</a> or <a href=\"https://en.wikipedia.org/wiki/Java_performance\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Java_performance</a> (comparison to other langauges).</p>\n\n<p>If you need performance, you should optimize your Java code instead of creating dependency on Perl.</p>\n"}], "owner": {"reputation": 231, "user_id": 4191647, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/kFi8q.jpg?s=128&g=1", "display_name": "Himself12794", "link": "https://stackoverflow.com/users/4191647/himself12794"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 38649262, "answer_count": 2, "score": 1, "last_activity_date": 1469804968, "creation_date": 1469748453, "last_edit_date": 1492087233, "question_id": 38648302, "link": "https://stackoverflow.com/questions/38648302/send-bytearrayoutputstream-to-perl-script-then-read-response", "title": "Send ByteArrayOutputStream to Perl script, then read response", "body": "<p>I have a ByteArrayOuputStream I received from performing a diff. Java's parsing of this is too slow, so I decided to try to pass the parsing off to a Perl script. I'm having a little trouble getting the script to receive data from this output stream. When I run my code, the application hangs indefinitely. This is what I have so far:</p>\n\n<pre><code>public static Diff analyzeDiff(ByteArrayOutputStream baos) throws IOException {\n\n    ProcessBuilder pb = new ProcessBuilder();\n    pb.command(\"perl/path/perl\", TEMP.getAbsolutePath());\n    Process process = pb.start();\n    OutputStream str = process.getOutputStream();\n    baos.writeTo(str);\n    str.flush();\n    try {\n        process.waitFor();\n    } catch (InterruptedException e) {\n        BufferedReader bf = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String line;\n        while ((line = bf.readLine()) != null) {\n            System.out.println(line);\n        }\n    }\n\n    return null;\n}\n\n@Test\npublic void testDiffParser() throws IOException {\n    DiffParser.init();\n\n    File test = new File(\"path/to/file/test.diff\");\n\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    baos.write(FileUtils.readFileToByteArray(test));\n    //String output = baos.toString();\n    //System.out.println(output);\n\n    DiffParser.analyzeDiff(baos);\n    //DiffParser.analyzeDiff(output);\n}\n</code></pre>\n\n<p>And here is my Perl script:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $additions = 0;\nmy $deletions = 0;\nmy $filesChanged = 0;\n\nmy $fileAdded = 0;\nmy $line;\n\nforeach $line ( &lt;&gt; ) {\n    $_ = $line;\n    chomp( $_ );\n    print( $_ );\n    if ( /^\\-\\-\\-/m ) {\n        $fileAdded = 1;\n    } elsif ( /^\\+\\+\\+/m &amp;&amp; $fileAdded ) {\n        $filesChanged++;\n        $fileAdded = 0;\n    } elsif ( /^\\+/ ) {\n        $additions++;\n        $fileAdded = 0;\n    } elsif ( /^\\-/ ) {\n        $deletions++;\n        $fileAdded = 0;\n    } else {\n        $fileAdded = 0;\n    }\n}\n\nprint(\"$additions $deletions $filesChanged\\n\")\n</code></pre>\n\n<p>Is there a way to actually do what I am trying to do?</p>\n\n<p><strong>Edit:</strong> This is how I was doing it in Java:</p>\n\n<pre><code>private Diff parseDiff(final ByteArrayOutputStream baos) {\n\n    final Diff diff = new Diff();\n\n    int filesChanged = 0;\n    int additions = 0;\n    int deletions = 0;\n\n    boolean fileAdded = false;\n\n    final String[] lines = baos.toString().split(\"\\n\");\n\n    for (final String line : lines) {\n\n        if (line.startsWith(\"---\")) {\n            fileAdded = true;\n        } else if (line.startsWith(\"+++\") &amp;&amp; fileAdded) {\n            filesChanged++;\n            fileAdded = false;\n        } else if (line.startsWith(\"+\")) {\n            additions++;\n            fileAdded = false;\n        } else if (line.startsWith(\"-\")) {\n            deletions++;\n            fileAdded = false;\n        } else {\n            fileAdded = false;\n        }\n\n    }\n\n    diff.additions = additions;\n    diff.deletions = deletions;\n    diff.changedFiles = filesChanged;\n\n    return diff;\n}\n</code></pre>\n\n<p><strong>Edit 2</strong>\nIf you want some context, you can refer to this <a href=\"https://codereview.stackexchange.com/questions/135711/efficiently-calculating-differences-between-file-using-diff-file/135759#135759\">Related question</a></p>\n"}, {"tags": ["perl", "unix", "awk", "sed"], "comments": [{"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 3, "creation_date": 1469749761, "post_id": 38648209, "comment_id": 64679385, "body": "See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and try again."}], "answers": [{"tags": [], "owner": {"reputation": 7273, "user_id": 2193968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1beed39f2b04409ff584a0af1d59325c?s=128&d=identicon&r=PG", "display_name": "Jerry Jeremiah", "link": "https://stackoverflow.com/users/2193968/jerry-jeremiah"}, "is_accepted": false, "score": 0, "last_activity_date": 1469749429, "creation_date": 1469749429, "answer_id": 38648417, "question_id": 38648209, "link": "https://stackoverflow.com/questions/38648209/unix-in-a-line-like-below-output-of-ps-i-need-to-extract-just-the-server/38648417#38648417", "title": "UNIX : in a line like below ( output of ps ) , i need to extract just the server name ( that comes after -Dweblogic.Name=)", "body": "<p>What about:</p>\n\n<pre><code>ps ...parameters... | sed -e \"s/^.* -Dweblogic.Name=\\([^ ]*\\).*$/\\1/\"\n</code></pre>\n\n<p>What that does is use sed to delete all the stuff from the beginnging of the string (^) up to and including \"-Dweblogic.Name=\" as well as all the stuff after the value of weblogic.Name until the end of the string ($).</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469755385, "post_id": 38648513, "comment_id": 64680743, "body": "<i>&quot;Perl probably isn&#39;t the best tool&quot;</i> Some people would disagree! What language do you prefer for text manipulation?"}, {"owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469758760, "post_id": 38648513, "comment_id": 64681438, "body": "If someone isn&#39;t interested in programming as a whole they might get a lot more mileage out of learning sed, awk, or related tools."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469987312, "post_id": 38648513, "comment_id": 64752750, "body": "That is a salesman&#39;s phrase. Of course &quot;anyone&quot; <i>might</i> get a lot more mileage out of &quot;anything&quot;, but what would they be doing with sed or awk if they had no interest in programming? People are mostly interested either in learning new skills or in paying for someone who has those skills already. Stack Overflow has revealed a third category of people who have no wish to learn but refuse to pay a fee. I don&#39;t think it&#39;s a great idea to encourage anyone who puts themselves in that category."}], "tags": [], "owner": {"reputation": 695, "user_id": 2060441, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e093d389dd8919b616a4835e4adcf22f?s=128&d=identicon&r=PG", "display_name": "Nick P", "link": "https://stackoverflow.com/users/2060441/nick-p"}, "is_accepted": false, "score": -1, "last_activity_date": 1469750274, "creation_date": 1469750274, "answer_id": 38648513, "question_id": 38648209, "link": "https://stackoverflow.com/questions/38648209/unix-in-a-line-like-below-output-of-ps-i-need-to-extract-just-the-server/38648513#38648513", "title": "UNIX : in a line like below ( output of ps ) , i need to extract just the server name ( that comes after -Dweblogic.Name=)", "body": "<p>Perl probably isn't the best tool, but if you prefer it something like this will work. I'm assuming the server name can't have spaces in it. It'll exclude lines that don't match. You can filter it through grep first for that if you find it easier.</p>\n\n<pre><code>ps whatever_args | perl -ne \"print \\\"$1\\n\\\" if (/Dweblogic.Name=([^\\s]+)/)\"\n</code></pre>\n\n<p>I tested on Windows hence the \\\" but I think unix is more accepting of single quotes on the command line.</p>\n"}], "owner": {"reputation": 1, "user_id": 6651921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1af9cc930949e578dd0e16b0a211c606?s=128&d=identicon&r=PG&f=1", "display_name": "Deva", "link": "https://stackoverflow.com/users/6651921/deva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1469750274, "creation_date": 1469747790, "last_edit_date": 1469748695, "question_id": 38648209, "link": "https://stackoverflow.com/questions/38648209/unix-in-a-line-like-below-output-of-ps-i-need-to-extract-just-the-server", "title": "UNIX : in a line like below ( output of ps ) , i need to extract just the server name ( that comes after -Dweblogic.Name=)", "body": "<p>UNIX : in a line like below ( output of ps ) , i need to extract just the server name ( that comes after -Dweblogic.Name=)</p>\n\n<p>user 25765 25711  0 Jun11 ?        10:21:15 /opt/bea/wls1033/jdk1.6.0_22/bin/java -server -Xms512m -Xmx512m -XX:PermSize=128m -XX:MaxPermSize=256m -verbose:gc -Xloggc:/var/prod/logs/DEVA/DEVA_SDAT202A/gc_DEVA_.log -Dweblogic.Name=<strong>DEVA_SDAT202A</strong> -Djava.security.policy=/opt/bea/wls1033/wlserver_10.3/server/lib/weblogic.policy -Dweblogic.ProductionModeEnabled=true -Dweblogic.system.BootIdentityFile=/usr/prod/domains/DEVA/servers/DEVA_SDAT202A/data/nodemanager/boot.properties -Dweblogic.nodemanager.ServiceEnabled=true -Dweblogic.security.SSL.ignoreHostnameVerification=false -Dweblogic.ReverseDNSAllowed=false -Dsdat.config=/usr/prod/domains/DEVA/sdat/config/sdat.properties</p>\n"}, {"tags": ["windows", "perl", "file", "directory"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1469747080, "post_id": 38647464, "comment_id": 64678692, "body": "You will have to show the program that you have tried before we can help you to fix it"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1469848096, "post_id": 38647464, "comment_id": 64720760, "body": "I edited the code in your question to add some indentation and blank lines, for readability. If you don&#39;t like that please roll it back -- click on &quot;<i>edited ...</i>&quot; (above the username) and then click on &quot;<i>rollback</i>&quot; under the previous version."}, {"owner": {"reputation": 13, "user_id": 4384482, "user_type": "registered", "profile_image": "https://graph.facebook.com/840650723/picture?type=large", "display_name": "Steve", "link": "https://stackoverflow.com/users/4384482/steve"}, "edited": false, "score": 0, "creation_date": 1469868697, "post_id": 38647464, "comment_id": 64724445, "body": "thats great, thanks. There are blank lines and greater indentation in the code I wrote but when I was pasting it in as a comment the formatting went a bit pear shaped so I deleted blank lines thinking that was causing the formatting issues. Again, many thanks."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469747134, "post_id": 38647573, "comment_id": 64678706, "body": "Does <code>make_path</code> really die on failure?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469747179, "post_id": 38647573, "comment_id": 64678723, "body": "@Borodin Yes, I believe so. I always <code>eval</code> it, and I tried on cmdline now."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469747295, "post_id": 38647573, "comment_id": 64678757, "body": "What was the cause of failure?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469747379, "post_id": 38647573, "comment_id": 64678781, "body": "@Borodin  I attempted to make path right in <code>&#47;</code>, for which I don&#39;t have permissions (and the rest of the one-liner isn&#39;t executed).  When I <code>eval</code> it I get <code>mkdir  &#47;new_dir: Permission denied</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469747692, "post_id": 38647573, "comment_id": 64678866, "body": "You&#39;re right. I don&#39;t like that at all. It doesn&#39;t even appear to be documented."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469747765, "post_id": 38647573, "comment_id": 64678887, "body": "@Borodin Yes, completely agree.  I learned about it by being bit.  But I don&#39;t know enough about alternatives (and it&#39;s always in a little library for me)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469747858, "post_id": 38647573, "comment_id": 64678910, "body": "From the contents of <code>$@</code> it seems to be using the shell. I think I&#39;ll raise a bug report for that."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1469752800, "post_id": 38647573, "comment_id": 64680136, "body": "You could use <a href=\"https://metacpan.org/pod/File::Path::Tiny\" rel=\"nofollow noreferrer\">File::Path::Tiny</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1469781522, "post_id": 38647573, "comment_id": 64689915, "body": "@Sinan&#220;n&#252;r  Thank you -- that looks exactly like what the doctor ordered. I am adding it to the post, as well."}, {"owner": {"reputation": 13, "user_id": 4384482, "user_type": "registered", "profile_image": "https://graph.facebook.com/840650723/picture?type=large", "display_name": "Steve", "link": "https://stackoverflow.com/users/4384482/steve"}, "edited": false, "score": 0, "creation_date": 1469828109, "post_id": 38647573, "comment_id": 64716567, "body": "The answers were great, really appreciate the help. However I wasn&#39;t able to use FILE::PATH::TINY as it wasn&#39;t found, I guess I would have had to add the library = working on an old win7 machine with Perl5 installed"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 13, "user_id": 4384482, "user_type": "registered", "profile_image": "https://graph.facebook.com/840650723/picture?type=large", "display_name": "Steve", "link": "https://stackoverflow.com/users/4384482/steve"}, "edited": false, "score": 0, "creation_date": 1469828875, "post_id": 38647573, "comment_id": 64716843, "body": "@Steve  Glad that it helped. There is nothing wrong with using <code>File::Path</code>, which I first review, which is &quot;core&quot; (so it&#39;s installed) and one of the well known Perl tools. It&#39;s just that with the other one you don&#39;t need the <code>eval</code>, it&#39;s a bit simpler. You would need to install that module -- and this is very easy to do, search &#39;install Perl module&#39; or so.  I hope that this did enough so that you can put it together in a loop over file names. Let me know if not. Finally, you may want to look at <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1469860641, "last_edit_date": 1495535325, "creation_date": 1469743863, "answer_id": 38647573, "question_id": 38647464, "link": "https://stackoverflow.com/questions/38647464/file-organisation-in-windows-using-perl/38647573#38647573", "title": "file organisation in windows using perl", "body": "<p>Given your description of file names, this regex should parse what you need</p>\n\n<pre><code>my ($cust, $num) = $filename =~ m/(\\D+)(\\d+)/;\n</code></pre>\n\n<p>Use a more precise pattern if you wish or need to be more specific about what precedes the number, for example <code>[a-zA-Z]</code> for letters only.</p>\n\n<p>With that on hand, you can create directories using the core module <a href=\"http://perldoc.perl.org/File/Path.html\" rel=\"nofollow noreferrer\"><code>File::Path</code></a>, for example</p>\n\n<pre><code>use File::Path qw(make_path);\nmy $dirname = \"$cust/$num\";\nmy @dirs_made = make_path($dirname, { verbose =&gt; 1 });\n</code></pre>\n\n<p>This creates the path as needed, returning the names of created directories. It also prints the names with the <code>verbose</code>. If the directory exists it quietly skips it. If there are problems it raises a <a href=\"http://perldoc.perl.org/5.8.8/functions/die.html\" rel=\"nofollow noreferrer\"><code>die</code></a> so you may want to wrap it in <a href=\"http://perldoc.perl.org/5.8.8/functions/eval.html\" rel=\"nofollow noreferrer\"><code>eval</code></a></p>\n\n<pre><code>eval { make_path($dirname) };\nif ($@) { \n    warn \"Error with make_path($dirname): $@\";\n}\n</code></pre>\n\n<p>Also note the <a href=\"http://search.cpan.org/dist/File-Path-Tiny/lib/File/Path/Tiny.pod\" rel=\"nofollow noreferrer\"><code>File::Path::Tiny</code></a> module as an alternative, thanks to <a href=\"https://stackoverflow.com/users/100754/sinan-%C3%9Cn%C3%BCr\">Sinan \u00dcn\u00fcr</a> for bringing it up. Other than being far lighter, it also has the more common error-handling policy whereby a false is returned on failure so you don't need an <code>eval</code> but only the usual check</p>\n\n<pre><code>use File::Path::Tiny;\nFile::Path::Tiny::mk($path) or warn \"Can't mk($path): $!\";\n</code></pre>\n\n<p>The module behaves similarly to <a href=\"http://search.cpan.org/~cwest/ppt-0.14/bin/rmdir\" rel=\"nofollow noreferrer\"><code>mkdir</code></a> in many ways, see the linked documentation.</p>\n\n<p>Move the files using the <code>move</code> function form the core module <a href=\"http://perldoc.perl.org/File/Copy.html\" rel=\"nofollow noreferrer\"><code>File::Copy</code></a>, for example</p>\n\n<pre><code>use File::Copy qw(move);\nmove($file, $dirname)  or warn \"Can't move $file to $dirname: $!\";\n</code></pre>\n\n<p>All this can be in a loop over the array with the file names.</p>\n"}], "owner": {"reputation": 13, "user_id": 4384482, "user_type": "registered", "profile_image": "https://graph.facebook.com/840650723/picture?type=large", "display_name": "Steve", "link": "https://stackoverflow.com/users/4384482/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 1, "accepted_answer_id": 38647573, "answer_count": 1, "score": 0, "last_activity_date": 1469860641, "creation_date": 1469743288, "last_edit_date": 1469847714, "question_id": 38647464, "link": "https://stackoverflow.com/questions/38647464/file-organisation-in-windows-using-perl", "title": "file organisation in windows using perl", "body": "<p>I am working on a windows machine and I have a directory filled with ~200k of files which I need to organise. This is a job I will need to do regularly with different filename sets but with similar patterns so perl seemed a good tool to use.</p>\n\n<p>Each filename is made up of {a string A}{2 or 3 digit number B}{single letter \"r\" or \"x\"}{3 digit number}.extension</p>\n\n<p>I want to create a folder for each string A</p>\n\n<p>Within each folder I want a sub-folder for each B</p>\n\n<p>I then want to move each file into its relevant sub-folder</p>\n\n<p>So it will end up looking something like</p>\n\n<pre><code>/CustomerA/1\n/CustomerA/2\n/CustomerA/3\n/CustomerB/1\n/CustomerB/2\n/CustomerB/3\n</code></pre>\n\n<p>etc with the files in each sub-folder</p>\n\n<p>so CustomerA888x123.xml is moved into /CustomerA/888/</p>\n\n<p>I have the list of files in an array but I am struggling with splitting the file name out to its constituent parts and using the parts effectively.</p>\n\n<p>Thanks for the answer. I ended up with this:</p>\n\n<pre><code>#!usr/bin/perl\nuse warnings;\nuse strict;\nuse File::Copy qw(move);\nuse File::Path qw(make_path);\n\nopendir my $dir, \".\";\nmy @files = readdir($dir);\nclosedir $dir;\n\nforeach my $file (@files) {\n    my ($cust, $num) = $file =~ m/(\\D+)(\\d+)/;\n    my $dirname = \"$cust/$num\";\n    my @dirs_made = make_path($dirname, { verbose =&gt; 1 });\n    move($file, $dirname) or warn \"cant move $file to $dirname: $!\";\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "variables", "substitution", "evaluation"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469741549, "post_id": 38647017, "comment_id": 64676777, "body": "That&#39;s a very convoluted and (as you&#39;ve discovered) error-prone way to implement <a href=\"http://perldoc.perl.org/functions/ucfirst.html\" rel=\"nofollow noreferrer\"><code>ucfirst</code></a>."}, {"owner": {"reputation": 197, "user_id": 5253336, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9816da99c833fc2df2b3524db2413253?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Olson", "link": "https://stackoverflow.com/users/5253336/erik-olson"}, "edited": false, "score": 1, "creation_date": 1469742841, "post_id": 38647017, "comment_id": 64677353, "body": "This is merely a simplified example for a more complex script involving variable complex regexes generally."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1469742125, "post_id": 38647177, "comment_id": 64677023, "body": "<code>my $regex2 = &#39;\\u$1&#39;;</code> isn&#39;t enough, you need <code>my $regex2 = q{&quot;\\u$1&quot;};</code>"}, {"owner": {"reputation": 197, "user_id": 5253336, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9816da99c833fc2df2b3524db2413253?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Olson", "link": "https://stackoverflow.com/users/5253336/erik-olson"}, "edited": false, "score": 0, "creation_date": 1469742951, "post_id": 38647177, "comment_id": 64677407, "body": "Say the $regex variables are being split from a string input by the user, so they type &quot;first part/second part&quot; and it splits on &quot;/&quot; to produce $regex1 and $regex2 for the s/// line. How can I prevent interpolation in this instance as well? Thanks!"}, {"owner": {"reputation": 793, "user_id": 4651679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/msgFn.png?s=128&g=1", "display_name": "Ruslan Batdalov", "link": "https://stackoverflow.com/users/4651679/ruslan-batdalov"}, "edited": false, "score": 1, "creation_date": 1469743529, "post_id": 38647177, "comment_id": 64677650, "body": "Enclosing into quotes works, at least, with the example you gave: <code>my ($regex1, $regex2) = split &#39;&#47;&#39;, $line; $regex2 = &#39;&quot;&#39; . $regex2 . &#39;&quot;&#39;;</code> By the way, do not forget to <code>chomp</code> the input line, otherwise newline will be considered a part of the regexp too."}], "tags": [], "owner": {"reputation": 793, "user_id": 4651679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/msgFn.png?s=128&g=1", "display_name": "Ruslan Batdalov", "link": "https://stackoverflow.com/users/4651679/ruslan-batdalov"}, "is_accepted": true, "score": 1, "last_activity_date": 1469742741, "last_edit_date": 1469742741, "creation_date": 1469741958, "answer_id": 38647177, "question_id": 38647017, "link": "https://stackoverflow.com/questions/38647017/predefining-a-complex-replacement-for-substitution/38647177#38647177", "title": "Predefining a complex replacement for substitution", "body": "<p>You need to prevent interpolation of meta-characters:</p>\n\n<pre><code>my $regex1 = '^(\\w)';\nmy $regex2 = '\"\\u$1\"';\n</code></pre>\n\n<p>(Updated according to @ThisSuitIsBlackNot's comment)</p>\n\n<p>The reason is that Perl interpolates double-quoted strings, so your variables <code>$regex1</code> and <code>$regex2</code> do not contain what you need:</p>\n\n<pre><code>my $regex1 = \"^(\\w)\";\nmy $regex2 = \"\\u$1\";\nprint \"$regex1\\n\"; # ^(w)\nprint \"$regex2\\n\"; # empty line\n</code></pre>\n\n<p>So, the substitution operator works as <code>s/^(w)//gee</code> and, of course, fails to find anything.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1469745985, "last_edit_date": 1469745985, "creation_date": 1469745591, "answer_id": 38647878, "question_id": 38647017, "link": "https://stackoverflow.com/questions/38647017/predefining-a-complex-replacement-for-substitution/38647878#38647878", "title": "Predefining a complex replacement for substitution", "body": "\n\n<p>You <em>really</em> don't want to do this, because allowing people to pass Perl code into your program that will be given to <code>eval</code> isn't a nice thing to do. Apart from being horribly complex it will open you to malice without careful checking. If someone typed <code>aaa/\"unlink *\"</code> then the necessary <code>/ee</code> will delete your current folder</p>\n\n<p>Let's clear something up first. In <code>s/PATTERN/REPLACEMENT/</code>, only <code>PATTERN</code> is a regex. <code>REPLACEMENT</code> is a simple string evaluated as if it were in double quotes</p>\n\n<p>So lets write your program like this. I've put all of your strings in single quotes as you don't want to use escape sequences or variable interpolation. I've also chnaged your <code>/eeg</code> modifiers to just <code>/g</code>. It looks like you were spraying <code>/e</code> around in the hope that it might work, and that's no way to write software</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy $regex       = 'e';\nmy $replacement = '2';\n\nmy @array = ('one two three', 'green blue red');\n\ns/$regex/$replacement/g for @array;\n\nprint \"$_\\n\" for @array;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>on2 two thr22\ngr22n blu2 r2d\n</code></pre>\n\n<p>Now you wanted to change this to</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $regex       = \"^(\\w)\";\nmy $replacement = \"\\u$1\";\n</code></pre>\n\n<p>and this is why I threw out your double quotes. Perl tries to compile <code>\"^(\\w)\"</code> and sees <code>\\w</code> as an escape sequence that it doesn't recognise, so you get</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Unrecognized escape \\w passed through\n</code></pre>\n</blockquote>\n\n<p>and it assumes that you meant just <code>w</code>. Unless you want to escape the backslashes like <code>\"^(\\\\w)\"</code> you need single quotes to represent the string <code>^(\\w)</code></p>\n\n<p>A similar thing applies to <code>$replacement</code>.\n = \"\\u$1\";</p>\n\n<p>The first thing you'll see is Perl trying to interpolate the current value of <code>$1</code> into the double-quoted string. It's currently undefined, so you get</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Use of uninitialized value $1 in ucfirst\n</code></pre>\n</blockquote>\n\n<p>But even so it obliges and uses the empty string for <code>$1</code> and then upper-cases it for you leaving ... the empty string</p>\n\n<p>So now you have set</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$regex       = '^(w)';\n$replacement = '';\n</code></pre>\n\n<p>so it's unsurprising that nothing works</p>\n\n<p>Let's do your program again, but this time using single quotes so that nothing gets messed with</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy $regex       = '^(\\w)';\nmy $replacement = '\\u$1';\n\nmy @array = ('one two three', 'green blue red');\n\ns/$regex/$replacement/g for @array;\n\nprint \"$_\\n\" for @array;\n</code></pre>\n\n<p>Now <code>$regex</code> really is <code>^(\\w)</code> and <code>$replacement</code> really is <code>\\u$1</code>. What can go wrong?</p>\n\n<p>It works fine. We get</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\\u$1ne two three\n\\u$1reen blue red\n</code></pre>\n\n<p>which is exactly what we asked for</p>\n\n<p>But now your <code>/e</code> modifier comes in useful. A <em>single</em> <code>/e</code> evaluates the <code>REPLACEMENT</code> as an <em>expression</em>. That would be useful if we wanted to stick <code>$1 . 'xxx'</code> or similar in there, but since the expression is <code>$replacement</code> we get no advantage at all: the expression <code>$replacement</code> is the same as interpolating <code>$replacement</code></p>\n\n<p>Do we need another <code>/e</code>? That will call <code>eval</code> on the result of the first <code>/e</code>, so we're asking for <code>eval '\\u$1'</code>, and that won't compile since <code>\\u$1</code> isn't a viable Perl program, so <code>eval</code> returns <code>undef</code> and we get</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Use of uninitialized value in substitution iterator\n</code></pre>\n</blockquote>\n\n<p>The solution is to make <code>$replacement</code> into a compileable program. Putting double quotes around it, like <code>\"\\u$1\"</code> turns it into a very short Perl program which returns the current value of <code>$1</code> with the first character upper-cased</p>\n\n<p>We need to set <code>$replacement</code> to that string, including the double quotes and avoiding the processing of escaped characters and <code>$1</code> as before. If I write</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $replacement = '\"\\u$1\"';\n</code></pre>\n\n<p>then I get exactly the string <code>\"\\u$1\"</code> including the double-quotes</p>\n\n<p>Now let's try</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy $regex       = '^(\\w)';\nmy $replacement = '\"\\u$1\"';\n\nmy @array = ('one two three', 'green blue red');\n\ns/$regex/$replacement/eeg for @array;\n\nprint \"$_\\n\" for @array;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>One two three\nGreen blue red\n</code></pre>\n\n<p>As I said, you <strong><em>really</em></strong> don't want to do this!</p>\n"}], "owner": {"reputation": 197, "user_id": 5253336, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9816da99c833fc2df2b3524db2413253?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Olson", "link": "https://stackoverflow.com/users/5253336/erik-olson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 38647177, "answer_count": 2, "score": 0, "last_activity_date": 1469745985, "creation_date": 1469741110, "last_edit_date": 1469745764, "question_id": 38647017, "link": "https://stackoverflow.com/questions/38647017/predefining-a-complex-replacement-for-substitution", "title": "Predefining a complex replacement for substitution", "body": "<p>I am trying to use variables in <code>s///</code>. This example code works as expected:</p>\n\n<pre><code>my $regex1 = \"e\";\nmy $regex2 = \"2\";\n\nmy @array = (\"one two three\", \"green blue red\");\n\n$_ =~ s/$regex1/$regex2/gee foreach (@array);\n\nprint $_ foreach (@array);\n</code></pre>\n\n<p>However, if I try to do a more complex regex, such as:</p>\n\n<pre><code>my $regex1 = \"^(\\w)\";\nmy $regex2 = \"\\u$1\";\n</code></pre>\n\n<p>Then the substitution doesn't work at all. I get the feeling Perl is literally looking for \"caret parenthesis backslash\" and so on, and not interpreting it as a regex.</p>\n"}, {"tags": ["xml", "perl", "debian"], "comments": [{"owner": {"reputation": 191202, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1469740315, "post_id": 38646604, "comment_id": 64676242, "body": "You should be using an XML parser if you&#39;re trying to modify XML data."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1469741230, "post_id": 38646604, "comment_id": 64676655, "body": "...there are actually some <i>really great</i> XML parsers for perl, too."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1469742037, "post_id": 38646604, "comment_id": 64676982, "body": "@CharlesDuffy: Unfortunately there are even more clunky ones than great ones, and it&#39;s a minefield for the uninitiated"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469741765, "post_id": 38647046, "comment_id": 64676877, "body": "Yeah, except for the attributes of the <code>&#47;user-mapping&#47;authorize</code> elements."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469742316, "post_id": 38647046, "comment_id": 64677098, "body": "Thanks to your post, I&#39;ve just discovered that <i>XMLStarlet</i> is available for Windows, although I think I&#39;d prefer an established SAX approach."}], "tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": false, "score": 1, "last_activity_date": 1469741787, "last_edit_date": 1469741787, "creation_date": 1469741302, "answer_id": 38647046, "question_id": 38646604, "link": "https://stackoverflow.com/questions/38646604/changing-a-field-in-an-xml-document/38647046#38647046", "title": "Changing a field in an XML document", "body": "<p>Use a real XML parser. For instance, with XMLStarlet, this would be as easy as:</p>\n\n<pre><code>xmlstarlet ed \\\n  -u '//authorize/@password' -v \"new-password\" \\\n  -u '//connection/param[@name=\"password\"]' -v \"new-password\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1469741750, "post_id": 38647124, "comment_id": 64676868, "body": "I was working on an xsh extension for my answer, but with this there&#39;s no need."}, {"owner": {"reputation": 33, "user_id": 2566032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30975e035e7698f65d8b3fef8ae0a1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Ti2", "link": "https://stackoverflow.com/users/2566032/ti2"}, "edited": false, "score": 0, "creation_date": 1469778899, "post_id": 38647124, "comment_id": 64688367, "body": "@Borodin i have tested your script but i faced this issues :  1- it will change the password for all authorize and all machines , as i said i have around 20 user that have the same ex. so how i can select authorizes where username = user3 / user 4 etc , and change passwords only for this users and corresponding machines . 2- the output is only in the terminal window, i wanted the script to change the values inside the file, i tried this but it didn&#39;t work print  <code>{$XMLpath} $twig-&gt;sprint();</code> 3- password location is replaced with username location Thanks alot mate ."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 33, "user_id": 2566032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30975e035e7698f65d8b3fef8ae0a1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Ti2", "link": "https://stackoverflow.com/users/2566032/ti2"}, "edited": false, "score": 0, "creation_date": 1469801761, "post_id": 38647124, "comment_id": 64703011, "body": "@Ti2: <b><i>1&gt;&gt;</i></b> I have altered my code to change the passwords only for <code>user2</code> <b><i>2&gt;&gt;</i></b> Surely you know that you can redirect the output of a command to whatever file you like? It is a bad idea to write a program that modifies source data in-place as the source will be damaged if there is a bug in the program <b><i>3&gt;&gt;</i></b> I don&#39;t know what you mean by this.     <i>I think I have answered your question. If you can&#39;t progress then you should open a new question.</i>"}, {"owner": {"reputation": 33, "user_id": 2566032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30975e035e7698f65d8b3fef8ae0a1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Ti2", "link": "https://stackoverflow.com/users/2566032/ti2"}, "edited": false, "score": 0, "creation_date": 1469822674, "post_id": 38647124, "comment_id": 64714316, "body": "@Borodin This is perfect man, Thanks a lot , this is exactly what i was looking for, i will add MD5 encoding as you advised , and redirect output to new file and create check integrity functions , its only 1 XML file that has all user info. <b><i>3&gt;&gt;</i></b> i meant the location of username value and password value in &lt;authorize node &gt; are swapped { username 1st -&gt; password 2nd } after edited it becomes { password 1st -&gt; username 2nd }  , but i think its no problem , will see if the server will be able to read it correctly or no"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1469802010, "last_edit_date": 1469802010, "creation_date": 1469741695, "answer_id": 38647124, "question_id": 38646604, "link": "https://stackoverflow.com/questions/38646604/changing-a-field-in-an-xml-document/38647124#38647124", "title": "Changing a field in an XML document", "body": "\n\n<p>I hope you understand that keeping passwords as plain text is a very bad idea?</p>\n\n<p>You must use a proper XML parser, and I suggest that you use <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\"><code>XML::Twig</code></a> as it is a little friendlier than some alternatives</p>\n\n<p>Here's a program that does as you ask. It changes the password to <code>abc123</code> throughout. As you can see, it's even rather shorter than your original program</p>\n\n<p>It uses XPath expressions to find all the <code>/user-mapping/authorize</code> elements in the document and changes their password attributes to the new password. Then it finds every <code>connection/param</code> element within each <code>authorize</code> element that has a <code>name=\"password\"</code> attribute, and changes the text value of those too</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse XML::Twig;\n\nuse constant XML_FILE     =&gt; 'user-mapping.xml';\nuse constant NEW_PASSWORD =&gt; 'abc123';\nuse constant USER_NAME    =&gt; 'user2';\n\nmy $twig = XML::Twig-&gt;new;\n$twig-&gt;parsefile(XML_FILE);\n\nfor my $auth ( $twig-&gt;findnodes('/user-mapping/authorize') ) {\n\n    next unless $auth-&gt;att('username') eq USER_NAME;\n\n    $auth-&gt;set_att(password =&gt; NEW_PASSWORD);\n\n    for my $pass ( $auth-&gt;findnodes('connection/param[@name=\"password\"]') ) {\n\n        $pass-&gt;set_text(NEW_PASSWORD);\n\n    }    \n}\n\n$twig-&gt;set_pretty_print('indented');\n$twig-&gt;print;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;user-mapping&gt;\n  &lt;authorize password=\"abc123\" username=\"user2\"&gt;\n    &lt;connection name=\"U2 - Windows 7 \"&gt;\n      &lt;protocol&gt;rdp&lt;/protocol&gt;\n      &lt;param name=\"hostname\"&gt;192.168.203.2&lt;/param&gt;\n      &lt;param name=\"port\"&gt;21122&lt;/param&gt;\n      &lt;param name=\"password\"&gt;abc123&lt;/param&gt;\n      &lt;param name=\"username\"&gt;user&lt;/param&gt;\n    &lt;/connection&gt;\n    &lt;connection name=\"U2 - Windows XP SP3 \"&gt;\n      &lt;protocol&gt;rdp&lt;/protocol&gt;\n      &lt;param name=\"hostname\"&gt;192.168.203.2&lt;/param&gt;\n      &lt;param name=\"port\"&gt;21120&lt;/param&gt;\n      &lt;param name=\"password\"&gt;abc123&lt;/param&gt;\n      &lt;param name=\"username\"&gt;user&lt;/param&gt;\n    &lt;/connection&gt;\n  &lt;/authorize&gt;\n&lt;/user-mapping&gt;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 2566032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30975e035e7698f65d8b3fef8ae0a1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Ti2", "link": "https://stackoverflow.com/users/2566032/ti2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 38647124, "answer_count": 2, "score": 1, "last_activity_date": 1469802010, "creation_date": 1469739419, "last_edit_date": 1469740349, "question_id": 38646604, "link": "https://stackoverflow.com/questions/38646604/changing-a-field-in-an-xml-document", "title": "Changing a field in an XML document", "body": "\n\n<p>I have an XML file that has this structure:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;user-mapping&gt;\n  &lt;authorize username=\"user2\" password=\"asdasdsss\" &gt;\n    &lt;connection name=\"U2 - Windows 7 \"&gt;\n      &lt;protocol&gt;rdp&lt;/protocol&gt;\n      &lt;param name=\"hostname\"&gt;192.168.203.2&lt;/param&gt;\n      &lt;param name=\"port\"&gt;21122&lt;/param&gt;\n      &lt;param name=\"password\"&gt;asdasdsss&lt;/param&gt;\n      &lt;param name=\"username\"&gt;user&lt;/param&gt;\n    &lt;/connection&gt;\n    &lt;connection name=\"U2 - Windows XP SP3 \"&gt;\n      &lt;protocol&gt;rdp&lt;/protocol&gt;\n      &lt;param name=\"hostname\"&gt;192.168.203.2&lt;/param&gt;\n      &lt;param name=\"port\"&gt;21120&lt;/param&gt;\n      &lt;param name=\"password\"&gt;asdasdsss&lt;/param&gt;\n      &lt;param name=\"username\"&gt;user&lt;/param&gt;\n    &lt;/connection&gt;\n  &lt;/authorize&gt;\n&lt;/user-mapping&gt;\n</code></pre>\n\n<p>This file has around 20 users (<code>authorize</code> elements) and each user has around 15 machine connections.</p>\n\n<p>I have created a Perl program to change only the password field, but it is based on counting lines and characters until the field is found. If I add additional <code>param</code> elements then the script has to be modified.</p>\n\n<p>I want to have a dynamic way of doingit, so that Perl can select the correct user node and change the password field in all related machines. I tried many ways but I couldn't get it to work.</p>\n\n<p>The password should be changed for the user and for all machines. They will all will be changed to the same password</p>\n\n<p>My code which is used now:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>open( FILL, \"&lt; /etc/user-mapping.xml\" );\n\n@strings = &lt;FILL&gt;;\n$i = 0;\n\nforeach $line (@strings) {\n    print $i;\n    print $line;\n    $i++;\n}\n\nprint \"Number: \";\nprint $set_id;\n\n$set_id = $set_id - 2;\n$set_id = $set_id * 102;\n\nprint \"Line: \";\nprint $set_id;\n\nsubstr( @strings[ 1 + $set_id ],  43, 9 ) = \"$password\";\nsubstr( @strings[ 6 + $set_id ],  39, 9 ) = \"$password\";\nsubstr( @strings[ 13 + $set_id ], 39, 9 ) = \"$password\";\n\nforeach $line ( @strings ) {\n    print $i;\n    print $line;\n    $i++;\n}\n\nopen( FH, \"&gt; /etc/user-mapping.xml\" );\nforeach $line (@strings) {\n    print( FH $line );\n}\n\nclose(FH);\n\nclose(FILL);\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1469736608, "post_id": 38645600, "comment_id": 64674427, "body": "which dot i will escape?"}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "edited": false, "score": 1, "creation_date": 1469737140, "post_id": 38645669, "comment_id": 64674680, "body": "I modified the code a bit to appear like below it worked. ([(]?\\d{3}[)]?[.-]?\\d{3}[.-]?\\d{4})  Thanks."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 1, "last_activity_date": 1469735966, "creation_date": 1469735966, "answer_id": 38645669, "question_id": 38645600, "link": "https://stackoverflow.com/questions/38645600/capture-alphanumeric-string-using-regex/38645669#38645669", "title": "capture alphanumeric string using regex", "body": "<p>You can use this regex with optional delimiters to match your inputs:</p>\n\n<pre><code>/[(]?\\d{3}[)]?[.-]?\\d{3}[.-]?\\d{4}\\b/\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/zY1yY7/1\" rel=\"nofollow\">RegEx Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1469739312, "last_edit_date": 1469739312, "creation_date": 1469738688, "answer_id": 38646389, "question_id": 38645600, "link": "https://stackoverflow.com/questions/38645600/capture-alphanumeric-string-using-regex/38646389#38646389", "title": "capture alphanumeric string using regex", "body": "\n\n<p>It looks like you want to search for</p>\n\n<ol>\n<li><p>Three digits in parentheses, or just three digits</p></li>\n<li><p>A dot or a hyphen, or nothing</p></li>\n<li><p>Three more digits</p></li>\n<li><p>At least one dot or hyphen</p></li>\n<li><p>Four more digits</p></li>\n</ol>\n\n<p>This regex is a transliteration of that. Note that it's always sensible to add the <code>/x</code> modifier with complex patterns so that you can add insignificant spaces and newlines to make your program more readable</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nwhile ( &lt;DATA&gt; ) {\n    next unless / (\n        (?: \\( \\d{3} \\) | \\d{3} )\n        ([.-]|)\n        \\d{3}\n        [.-]\n        \\d{4}\n    ) /x;\n\n    say $1;\n\n}\n\n\n__DATA__\n\"155\"\n&gt;555.123.4567\n&gt;555-123-4567\n&gt;(555).123.4567\n&gt;(555)123-4567\n&gt;(555)-123-4567\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>555.123.4567\n555-123-4567\n(555).123.4567\n(555)123-4567\n(555)-123-4567\n</code></pre>\n\n<p>But that's very specific, and it looks like you're verifying manually-input phone numbers. I'm not sure you wouldn't be better off with this</p>\n\n<ol>\n<li><p>Some digits and parentheses</p></li>\n<li><p>A dot or a hyphen</p></li>\n<li><p>More digits, dots, or hyphens</p></li>\n</ol>\n\n<p>which looks like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>/ ( [()\\d]+ [.-] [\\d.-]+  ) /x\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 5440142, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-lp_EoM5Ir3E/AAAAAAAAAAI/AAAAAAAAAfo/V3zBxoziCdU/photo.jpg?sz=128", "display_name": "Dren", "link": "https://stackoverflow.com/users/5440142/dren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 38645669, "answer_count": 2, "score": 2, "last_activity_date": 1469739312, "creation_date": 1469735689, "last_edit_date": 1469738044, "question_id": 38645600, "link": "https://stackoverflow.com/questions/38645600/capture-alphanumeric-string-using-regex", "title": "capture alphanumeric string using regex", "body": "<p>I have a file that contain any of the following strings</p>\n\n<pre><code>\"155\"\n&gt;555.123.4567\n&gt;555-123-4567\n&gt;(555).123.4567\n&gt;(555)123-4567\n&gt;(555)-123-4567\n</code></pre>\n\n<p>I would like to capture the strings except the 1st with the output like below using regex</p>\n\n<pre><code>555.123.4567\n555-123-4567\n(555).123.4567\n(555)123-4567\n(555)-123-4567\n</code></pre>\n\n<p>So far I am only able to come up with the regex below but it work only to the last three strings</p>\n\n<pre><code>/(\\([\\d]+\\).\\-?(-|)[\\d]+.-?[\\d]+)/g\n</code></pre>\n"}, {"tags": ["arrays", "string", "perl", "hashmap", "initialization"], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 2, "last_activity_date": 1469734624, "creation_date": 1469734624, "answer_id": 38645314, "question_id": 38645201, "link": "https://stackoverflow.com/questions/38645201/perl-mindmelting-uninitialized-variable-in-scalar-from-array-exception/38645314#38645314", "title": "Perl MindMelting uninitialized variable in scalar from array exception", "body": "<p>This line: </p>\n\n<pre><code>my %HashArrayThing = ('EnglishArray' =&gt; @strArray, \n    'FrenchArray' =&gt; ('julier', 'aout', 'septembre'));\n</code></pre>\n\n<p>is actually creating this structure: </p>\n\n<pre><code>(\n      'AccidentType' =&gt; '01',\n      'FrenchArray' =&gt; 'julier',\n      'EnglishArray' =&gt; 'TypeKey',\n      'aout' =&gt; 'septembre'\n)\n</code></pre>\n\n<p>where I imagine you were expecting:</p>\n\n<pre><code>(\n      'FrenchArray'  =&gt; ['julier', 'aout', 'septembre'],\n      'EnglishArray' =&gt; ['TypeKey', 'AccidentType', '01'],\n)\n</code></pre>\n\n<p>This is happening because the <em>value</em> of a key/value pair in a Hash <em>must</em> be a SCALAR. So it is a simple value like a number or a string or a <em>reference</em> to Hash or an Array.</p>\n\n<p>The following is the correct way to initialize your Hash: </p>\n\n<pre><code>my %HashArrayThing = (\n    'EnglishArray' =&gt; [@strArray], \n    'FrenchArray'  =&gt; ['julier', 'aout', 'septembre']\n);\n</code></pre>\n\n<p>Notice that the arrays you passed in previously are now wrapped in <code>[]</code> which creates a reference to an array.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1469860194, "last_edit_date": 1469860194, "creation_date": 1469734701, "answer_id": 38645330, "question_id": 38645201, "link": "https://stackoverflow.com/questions/38645201/perl-mindmelting-uninitialized-variable-in-scalar-from-array-exception/38645330#38645330", "title": "Perl MindMelting uninitialized variable in scalar from array exception", "body": "<p>A hash pair <code>key =&gt; value</code> needs to have scalars for <code>key</code> and <code>value</code>.  Having an array for either doesn't make sense.</p>\n\n<p>Hash is a list with an even number of elements in which each pair of two consecutive elements forms a key-value pair. For example, the following two hashes are exactly the same</p>\n\n<pre><code>my %h1 = ('one', 1, 'two', 2);  # $h1{'one'} --&gt; 1\nmy %h2 = (one =&gt; 1, two =&gt; 2);  # same\n</code></pre>\n\n<p>The <em>fat comma</em> <code>=&gt;</code> is a <a href=\"http://perldoc.perl.org/perlop.html#Comma-Operator\" rel=\"nofollow\"><code>synonym for a comma</code></a> which also makes a bareword to its left quoted.</p>\n\n<p>So when you say </p>\n\n<pre><code>my %HashArrayThing = ('EnglishArray' =&gt; @strArray, \n    'FrenchArray' =&gt; ('julier', 'aout', 'septembre'));\n</code></pre>\n\n<p>the whole list gets flattened and you assign to <code>%HashArrayThing</code> the following list</p>\n\n<pre><code>('EnglishArray', 'TypeKey', 'AccidentType', '01', \n 'FrenchArray', 'julier', 'aout', 'septembre')\n</code></pre>\n\n<p>Being assigned to a <code>%</code> variable this <em>is</em> a hash, with the funny (unintended) pairing of consecutive elements into key-value pairs -- so <code>EnglishArray</code> is a key and its value is <code>TypeKey</code>, etc. That is, if the number of elements happens to be even.  If the number is odd you'll get the warning -- but you still get the hash as well. So keep your warnings on, as always.</p>\n\n<hr>\n\n<p>For packing arrays into a hash you need to use references,</p>\n\n<pre><code>my %HashArrayThing = ('EnglishArray' =&gt; \\@strArray, \n    'FrenchArray' =&gt; ['julier', 'aout', 'septembre']);\n</code></pre>\n\n<p>Note that <code>\\@</code> takes the reference of an existing array, so if the <code>@strArray</code> changes later that will be reflected in the hash. On the other hand, the <code>[...]</code> creates an <em>anonymous array</em>, copying listed values. Which is better suited for the purpose at hand depends on what your code does with this.</p>\n\n<p>Then you access elements by dereferencing, for example</p>\n\n<pre><code>$HashArrayThing{'EnglishArray'}-&gt;[0];  # is 'TypeKey'\n$HashArrayThing{'FrenchArray'}-&gt;[0];   # is 'julier'\n</code></pre>\n\n<p>For references see <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\"><code>perlreftut</code></a> and <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\"><code>perlref</code></a>, while <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\"><code>perldsc</code></a> is a basic cookbook of complex (nested) data structures.</p>\n"}], "owner": {"reputation": 91, "user_id": 6557829, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ae98484a1392cce8b37852c6accd3aa7?s=128&d=identicon&r=PG&f=1", "display_name": "WorkingOnBeingBetter", "link": "https://stackoverflow.com/users/6557829/workingonbeingbetter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 38645314, "answer_count": 2, "score": -1, "last_activity_date": 1469860194, "creation_date": 1469734210, "question_id": 38645201, "link": "https://stackoverflow.com/questions/38645201/perl-mindmelting-uninitialized-variable-in-scalar-from-array-exception", "title": "Perl MindMelting uninitialized variable in scalar from array exception", "body": "<p>I had a hard time titleing this question, as I am truly stumped as to what could be causing this error. </p>\n\n<p>when I have the code typed as such: </p>\n\n<pre><code>my @strArray= ('TypeKey', 'AccidentType', '01');\nmy %HashArrayThing = ('EnglishArray' =&gt; @strArray, \n        'FrenchArray' =&gt; ('julier', 'aout', 'septembre'));\nmy $scalar = @HashArrayThing{EnglishArray};\nmy @ARR = @HashArrayThing{EnglishArray};\nsay $scalar,\nsay $ARR[0];\n</code></pre>\n\n<p>the output is: </p>\n\n<pre><code>TypeKey\nTypeKey1\n</code></pre>\n\n<p>when I change ONLY the <code>say $ARR[0]</code> to <code>say $ARR[1]</code> (or any other number) I get the error: \"Uninitialized value in say at line 50\"(same line as the 'say $scalar')</p>\n\n<p>This makes no sense to me. I could understand that the $ARR[1] could be out of bounds having maybe olny gotten the first value from the array stored in the hashset, but I don't understand at all where this is coming from. \nI hope there is someone out there with a thourough understanding of perl who can enlighten me.  </p>\n\n<p>PS. also where is the '1'coming from that is bieng added to typekey.</p>\n"}, {"tags": ["eclipse", "perl", "maven", "eclipse-plugin", "epic"], "comments": [{"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1469730723, "post_id": 38643078, "comment_id": 64671365, "body": "What version of Eclipse are you using?"}, {"owner": {"reputation": 118, "user_id": 4430266, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/26dbd022c9a4707bf6b072568071212e?s=128&d=identicon&r=PG&f=1", "display_name": "Anand Ganesh S S", "link": "https://stackoverflow.com/users/4430266/anand-ganesh-s-s"}, "reply_to_user": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1469790512, "post_id": 38643078, "comment_id": 64695638, "body": "I am using Eclipse Luna"}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1469790924, "post_id": 38643078, "comment_id": 64695881, "body": "And what operating system?"}], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "is_accepted": false, "score": 1, "last_activity_date": 1469799867, "creation_date": 1469799867, "answer_id": 38660463, "question_id": 38643078, "link": "https://stackoverflow.com/questions/38643078/cannot-install-eclipse-perl-plugin/38660463#38660463", "title": "Cannot install Eclipse Perl plugin", "body": "<p>I had no issues.<br>\nI installed <strong>Eclipse (Luna) IDE for Java EE Developers</strong> on Windows 7.<br>\nDid you use the EPIC download site at <a href=\"http://www.epic-ide.org/download.php\" rel=\"nofollow noreferrer\">EPIC download</a> for the EPIC software?</p>\n\n<p><a href=\"https://i.stack.imgur.com/LwgoG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LwgoG.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/OHSh7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OHSh7.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/ja8TF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ja8TF.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 118, "user_id": 4430266, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/26dbd022c9a4707bf6b072568071212e?s=128&d=identicon&r=PG&f=1", "display_name": "Anand Ganesh S S", "link": "https://stackoverflow.com/users/4430266/anand-ganesh-s-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469799867, "creation_date": 1469727029, "last_edit_date": 1469730661, "question_id": 38643078, "link": "https://stackoverflow.com/questions/38643078/cannot-install-eclipse-perl-plugin", "title": "Cannot install Eclipse Perl plugin", "body": "<p>I am not able to install EPIC in my eclipse. The \"Problem Occurred\" dialog says:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>An error occurred while collecting items to be installed\nsession context was:(profile=epp.package.jee, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\nUnable to read repository at http://www.epic-ide.org/updates/testing/plugins/org.epic.doc_0.7.1.jar.\nRead timed out\nUnable to read repository at http://www.epic-ide.org/updates/testing/plugins/org.epic.lib_0.7.1.jar.\nRead timed out\nUnable to read repository at http://www.epic-ide.org/updates/testing/plugins/org.epic.source_0.7.2.jar.\nRead timed out\n</code></pre>\n"}, {"tags": ["regex", "linux", "bash", "perl", "linefeed"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1469726747, "post_id": 38642827, "comment_id": 64669082, "body": "<a href=\"http://stackoverflow.com/questions/3321829/how-do-i-best-pass-arguments-to-a-perl-one-liner\" title=\"how do i best pass arguments to a perl one liner\">stackoverflow.com/questions/3321829/&hellip;</a>"}, {"owner": {"reputation": 100758, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "edited": false, "score": 0, "creation_date": 1469726846, "post_id": 38642827, "comment_id": 64669148, "body": "<code>man perlrun</code> shows that <code>-p</code> will cause <code>perl</code> to run your command for each line. You can necessarily not replace multiline patterns in a single line. Try to get this working purely with <code>perl</code> first, and get to the <code>bash</code> part later"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1469727104, "post_id": 38642827, "comment_id": 64669323, "body": "Possible duplicate <a href=\"http://stackoverflow.com/q/36533282/2173773\">How to replace multiple any-character (including newline) in Perl RegEx?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1469728531, "post_id": 38643079, "comment_id": 64670162, "body": "Technically, <code>-0777</code> is slurp mode (<code>-0</code> splits on null bytes). It makes no difference in this case, but it could in other (admittedly rare) scenarios."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469728673, "post_id": 38643079, "comment_id": 64670259, "body": "Yes indeed <code>-0</code> splits file by null"}, {"owner": {"reputation": 37450, "user_id": 363573, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e14a13f1a3b0f11a39496f47c0606cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Stephan", "link": "https://stackoverflow.com/users/363573/stephan"}, "edited": false, "score": 1, "creation_date": 1469788490, "post_id": 38643079, "comment_id": 64694378, "body": "The non use of <code>grep</code> is a great hint. However, it introduces a new problem resumed in a new question. Would you mind see it? <a href=\"http://stackoverflow.com/q/38656531/363573\">stackoverflow.com/q/38656531/363573</a>"}, {"owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "edited": false, "score": 0, "creation_date": 1508752810, "post_id": 38643079, "comment_id": 80720288, "body": "note: bash is not passing variable to perl but generates perl command with newline, injection may be done if variable contains <code>&#47;</code> (regex delimiter), safier solution is to pass by evironment or by argument"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 1, "last_activity_date": 1469729969, "last_edit_date": 1469729969, "creation_date": 1469727029, "answer_id": 38643079, "question_id": 38642827, "link": "https://stackoverflow.com/questions/38642827/bash-how-to-pass-a-line-feed-to-perl-from-within-a-bash-script/38643079#38643079", "title": "bash - How to pass a line feed to perl from within a bash script?", "body": "<p>You don't even need <code>grep</code> since it is just matching <code>.+</code>, just use <code>perl</code> with <code>-0777</code> option (slurp mode) to match across the lines:</p>\n\n<pre><code>#!/bin/bash\n\nMY_VAR=\"\\d+\na\"\n\nperl -0777pe \"s/$MY_VAR/D/g\" test.txt\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>D1\nbD\n</code></pre>\n"}], "owner": {"reputation": 37450, "user_id": 363573, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e14a13f1a3b0f11a39496f47c0606cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Stephan", "link": "https://stackoverflow.com/users/363573/stephan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "closed_date": 1469785492, "accepted_answer_id": 38643079, "answer_count": 1, "score": 0, "last_activity_date": 1469729969, "creation_date": 1469726138, "question_id": 38642827, "link": "https://stackoverflow.com/questions/38642827/bash-how-to-pass-a-line-feed-to-perl-from-within-a-bash-script", "closed_reason": "Duplicate", "title": "bash - How to pass a line feed to perl from within a bash script?", "body": "<p>I am trying to replace all digits sequences followed by a line feed and the letter <code>a</code>. Those digits sequences are located in a file called <code>test.txt</code>. The bash script <code>command.sh</code> is used to perform the task (see below).</p>\n\n<p><strong>test.txt</strong></p>\n\n<pre><code>00\na1\nb2\na\n</code></pre>\n\n<p><strong>command.sh</strong></p>\n\n<pre><code>#!/bin/bash\n\nMY_VAR=\"\\d+\na\"\n\ngrep -P \"^.+$\" test.txt | perl -pe \"s/$MY_VAR/D/\";\n</code></pre>\n\n<hr>\n\n<p>When I call the <code>command.sh</code> file, here is what I see:</p>\n\n<pre><code>$ ./command\n00\na1\nb2\na\n</code></pre>\n\n<p>However, I'm expecting this output:</p>\n\n<pre><code>$ ./command\nD1\nbD\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 8, "creation_date": 1469721993, "post_id": 38641478, "comment_id": 64666140, "body": "Looks like JSON. You should use a Parser for JSON"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469724866, "post_id": 38641478, "comment_id": 64667976, "body": "Please show all the scripts that you have tried. It&#39;s usually much easier to fix existing code than to write something from scratch, it will help you to learn if someone explains what you have done wrong, and it&#39;s rather cheeky to expect us to write a solution for you."}, {"owner": {"reputation": 2029, "user_id": 6016064, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a5c4e2adb9a67f0af1a58f9c9c651c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Edward Peters", "link": "https://stackoverflow.com/users/6016064/edward-peters"}, "edited": false, "score": 0, "creation_date": 1469725638, "post_id": 38641478, "comment_id": 64668410, "body": "You should show us both your scripts, and what sort of wrong output they are producing."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1469722734, "post_id": 38641608, "comment_id": 64666647, "body": "yep, will not work without the list brackets, so either OP didn&#39;t include them in the input, or whatever created the input is reinventing the JSON wheel, incorrectly."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1472142680, "post_id": 38641608, "comment_id": 65644314, "body": "Yes. Anyone who generates &#39;almost JSON, but not quite&#39; needs to be smacked around the head with a rolled up copy of the spec :)"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1472143019, "post_id": 38641608, "comment_id": 65644547, "body": "hard copy if the implementation is destined for prod, and not just purely educational ;)"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1469722219, "creation_date": 1469722219, "answer_id": 38641608, "question_id": 38641478, "link": "https://stackoverflow.com/questions/38641478/extracting-sub-string-using-perl/38641608#38641608", "title": "Extracting sub string using Perl", "body": "<p>Looks a lot like JSON. </p>\n\n<p>If it is:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings 'all'; \n\nuse JSON;\n\nmy $json = from_json(do{local $/;&lt;DATA&gt;});\n\nmy @header = qw ( id Name State Comp ); \n\nprint join ( \"\\t\", @header ), \"\\n\"; \n\nforeach my $row ( @$json ) { \n    print join ( \"\\t\",@{$row}{@header} ),\"\\n\";\n}\n\n__DATA__\n[{\n\"id\": \"1304145\"\n,\"Name\" : \"Ravi\"\n,\"State\" : \"KAR\"\n,\"Comp\" : \"CTL\"\n},\n{\n\"id\": \"2488398\"\n,\"Name\" : \"Abhik\"\n,\"State\" : \"TEL\"\n,\"Comp\" : \"WFG\"\n}\n,{\n\"id\": \"89039487\"\n,\"Name\" : \"Jana\"\n,\"State\" : \"ODS\"\n,\"Comp\" : \"TOT\"\n}\n]\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>id  Name    State   Comp\n1304145 Ravi    KAR CTL\n2488398 Abhik   TEL WFG\n89039487    Jana    ODS TOT\n</code></pre>\n\n<p>That's assuming that you do have JSON though - I had to add <code>[]</code> around your snippet. If it isn't <code>JSON</code> then someone's done something dirty, in creating something that looks a lot like JSON, but that isn't. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1469725399, "creation_date": 1469725399, "answer_id": 38642620, "question_id": 38641478, "link": "https://stackoverflow.com/questions/38641478/extracting-sub-string-using-perl/38642620#38642620", "title": "Extracting sub string using Perl", "body": "\n\n<p>If for some reason the data <em>isn't</em> supposed to be JSON, and the keys and values are <em>always</em> enclosed in double-quotes, then you can parse it easily with regular expressions</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\n\nmy $s = &lt;&lt;END_STRING;\n{\n\"id\": \"1304145\"\n,\"Name\" : \"Ravi\"\n,\"State\" : \"KAR\"\n,\"Comp\" : \"CTL\"\n}\n,{\n\"id\": \"2488398\"\n,\"Name\" : \"Abhik\"\n,\"State\" : \"TEL\"\n,\"Comp\" : \"WFG\"\n}\n,{\n\"id\": \"89039487\"\n,\"Name\" : \"Jana\"\n,\"State\" : \"ODS\"\n,\"Comp\" : \"TOT\"\n}\nEND_STRING\n\nmy @data = map { { /\"([^\"]*)\"/g } } $s =~ /\\{[^{}]*\\}/g;\n\nmy $fmt = \"%-11s %-7s %-7s %s\\n\";\n\nprintf $fmt, qw/ ID Name State Comp /;\nfor my $item ( @data ) {\n    printf $fmt, @{$item}{qw/ id Name State Comp /};\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>ID          Name    State   Comp\n1304145     Ravi    KAR     CTL\n2488398     Abhik   TEL     WFG\n89039487    Jana    ODS     TOT\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 6650631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97ba641942cf2be1642e55c490802a32?s=128&d=identicon&r=PG&f=1", "display_name": "Tapas Dash", "link": "https://stackoverflow.com/users/6650631/tapas-dash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 38641608, "answer_count": 2, "score": -2, "last_activity_date": 1469725399, "creation_date": 1469721827, "last_edit_date": 1469721888, "question_id": 38641478, "link": "https://stackoverflow.com/questions/38641478/extracting-sub-string-using-perl", "title": "Extracting sub string using Perl", "body": "<p>I have string as follows.</p>\n\n<pre><code>{\n\"id\": \"1304145\"\n,\"Name\" : \"Ravi\"\n,\"State\" : \"KAR\"\n,\"Comp\" : \"CTL\"\n}\n,{\n\"id\": \"2488398\"\n,\"Name\" : \"Abhik\"\n,\"State\" : \"TEL\"\n,\"Comp\" : \"WFG\"\n}\n,{\n\"id\": \"89039487\"\n,\"Name\" : \"Jana\"\n,\"State\" : \"ODS\"\n,\"Comp\" : \"TOT\"\n}\n</code></pre>\n\n<p>I want to extract each of the sub-string present in a {} and make a format as follws</p>\n\n<pre><code>ID          Name    State   Comp\n1304145     Ravi    KAR     CTL\n2488398     Abhik   TEL     WFG\n89039487    Jana    ODS     TOT\n</code></pre>\n\n<p>I tried it, but my scripts are not giving the exact outputs.\nNeed your help in solving this.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1469717121, "post_id": 38639594, "comment_id": 64662472, "body": "@quentin I was literally clicking the submit button with my pretty long answer... :P"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1469717180, "post_id": 38639594, "comment_id": 64662521, "body": "@simbabque \u2014 You can always put it on the original question \u2026 if it is better than the answers it has already."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1469717245, "post_id": 38639594, "comment_id": 64662583, "body": "@Quentin it was pretty much the same. There&#39;s not much else to say here. I should search and hammer more often."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1469717891, "post_id": 38639594, "comment_id": 64663096, "body": "@simbabque: I know, it&#39;s a pain right? The idea is to sanction the OP by preventing them from getting any solutions, but it often backfires and leaves the OP with just what they needed while wasting many people&#39;s time writing a response."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1469718930, "post_id": 38639594, "comment_id": 64663865, "body": "What version of Perl are you using. Since Perl 5.10, <code>++</code> is a possessive quantifier which doesn&#39;t produce a regex error with <code>(?^:^al4odb++$)</code>. Before all the mind readers showed up, it should have been asked <i>why are you getting this error not related to your code</i> ??"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469724383, "post_id": 38639594, "comment_id": 64667678, "body": "@sln You answered your own question: the OP is using perl &lt; 5.10. I get the same error that they posted with 5.8.8."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469731121, "post_id": 38639594, "comment_id": 64671592, "body": "@ThisSuitIsBlackNot - It&#39;s hard to believe anybody uses &lt; 5.10. There is really not that much difference except in the regex."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1469731561, "post_id": 38639594, "comment_id": 64671854, "body": "@sln Why is that hard to believe? <a href=\"http://stackoverflow.com/search?tab=newest&amp;q=%5Bperl%5D%205.8.8%20is%3aq\">I see questions on SO all the time from people who explicitly say they&#39;re using 5.8.8.</a> Don&#39;t underestimate the number of companies still using ancient software (for a wide variety of stupid reasons)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1469732110, "post_id": 38639594, "comment_id": 64672167, "body": "@ThisSuitIsBlackNot - Yeah, I used to work for companies like that. They invest so heavily in <i>unit test</i> (or have none is more likely) it makes their pea brain managers head&#39;s explode."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1469719422, "post_id": 38639595, "comment_id": 64664246, "body": "It&#39;s never too late to actually read about Perl Regular Expressions."}], "tags": [], "owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "is_accepted": true, "score": 0, "last_activity_date": 1469716837, "creation_date": 1469716837, "answer_id": 38639595, "question_id": 38639594, "link": "https://stackoverflow.com/questions/38639594/perl-regex-to-bypass-special-characters/38639595#38639595", "title": "perl regex to bypass special characters", "body": "<p>Fortunately i found this in web, i replace my code with below code snippet</p>\n\n<pre><code>if(grep(/^\\Q$feat\\E$/, @feature))\n</code></pre>\n\n<p>which solved my issue.</p>\n\n<p>thought to post such question so that others also find the solution easily</p>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=291766\" rel=\"nofollow\">solution is here</a></p>\n"}], "owner": {"reputation": 1040, "user_id": 3882175, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/93YQI.jpg?s=128&g=1", "display_name": "Shantesh", "link": "https://stackoverflow.com/users/3882175/shantesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "closed_date": 1469717035, "accepted_answer_id": 38639595, "answer_count": 1, "score": 0, "last_activity_date": 1469716837, "creation_date": 1469716837, "question_id": 38639594, "link": "https://stackoverflow.com/questions/38639594/perl-regex-to-bypass-special-characters", "closed_reason": "Duplicate", "title": "perl regex to bypass special characters", "body": "<p>I am getting below error while executing this script</p>\n\n<pre><code> $perl slaveScript.pl \n Nested quantifiers in regex; marked by &lt;-- HERE in m/^al4odb++ &lt;-- HERE $/ at     slaveScript.pl line 104, &lt;IFH&gt; line 333.\n</code></pre>\n\n<p>code snippet is </p>\n\n<pre><code>    if(grep(/^$feat$/, @feature))\n</code></pre>\n\n<p>and the $feat value was al4odb++ some how it was getting greeping this value into the array @feature.</p>\n\n<p>i am stuck here and searching for solution to skip this issue</p>\n"}, {"tags": ["perl", "warnings"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 4, "creation_date": 1469802688, "post_id": 38639882, "comment_id": 64703591, "body": "<a href=\"https://rt.perl.org/Public/Bug/Display.html?id=128765\" rel=\"nofollow noreferrer\">Here&#39;s my bug report</a>. I&#39;ve yet to respond. <b><i>Father Chrysostomos</i></b> says <i>&quot;Some time ago I suspected we had a problem like this&quot;</i>. His description of the underlying code is illuminating."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 12, "last_activity_date": 1561206275, "last_edit_date": 1561206275, "creation_date": 1469717552, "answer_id": 38639882, "question_id": 38638692, "link": "https://stackoverflow.com/questions/38638692/why-should-use-warnings-go-last/38639882#38639882", "title": "Why should use warnings; go last?", "body": "\n\n<p>This may be what you're referring to. Either way it's something to be aware of and I'm submitting it as a bug.  <strong>Edit</strong> The <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=128765\" rel=\"nofollow noreferrer\">bug</a> was fixed in v5.27.6.</p>\n\n<h3>My/Warnings.pm</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>package My::Warnings;\n\nuse warnings::register;\n\nsub test {\n    warnings::warnif 'This is my warning';\n}\n\n1;\n</code></pre>\n\n<h3>main.pl</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse feature 'switch';\n\nuse warnings 'all';\n\nuse My::Warnings;\n\nprint undef;\n\ngiven (1) { }\n\nMy::Warnings::test();\n</code></pre>\n\n<p>As expected, this will output</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>given is experimental at E:\\Perl\\source\\main.pl line 10.\nUse of uninitialized value in print at E:\\Perl\\source\\main.pl line 8.\nThis is my warning at E:\\Perl\\source\\main.pl line 12.\n</code></pre>\n\n<p>However, if <em>any</em> warnings category is disabled, it will also disable the custom category. Like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse feature 'switch';\n\nuse warnings 'all';\nno warnings 'experimental';\n\nuse My::Warnings;\n\nprint undef;\n\ngiven (1) { }\n\nMy::Warnings::test();\n</code></pre>\n\n<p>This outputs just</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Use of uninitialized value in print at E:\\Perl\\source\\main.pl line 9.\n</code></pre>\n\n<p>and it seems to be necessary to enable warnings <em>after</em> the <code>use My::Warnings</code> to get them to perform</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse feature 'switch';\n\nuse My::Warnings;\n\nuse warnings 'all';\nno warnings 'experimental';\n\nprint undef;\n\ngiven (1) { }\n\nMy::Warnings::test();\n</code></pre>\n\n<p>Produces</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Use of uninitialized value in print at E:\\Perl\\source\\main.pl line 9.\nThis is my warning at E:\\Perl\\source\\main.pl line 13.\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>What's more, reenabling the category that switched off the custom warnings leaves them disabled</p>\n\n<p>Something like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>use strict;\nuse feature 'switch';\n\nuse warnings 'all';\nno warnings 'experimental';\nuse warnings 'experimental';\n\nuse My::Warnings;\n\nprint undef;\n\ngiven (1) { }\n\nMy::Warnings::test();\n</code></pre>\n\n<p>prints just</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>given is experimental at E:\\Perl\\source\\main.pl line 12.\nUse of uninitialized value in print at E:\\Perl\\source\\main.pl line 10.\n</code></pre>\n"}], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 38639882, "answer_count": 1, "score": 15, "last_activity_date": 1561206275, "creation_date": 1469714410, "question_id": 38638692, "link": "https://stackoverflow.com/questions/38638692/why-should-use-warnings-go-last", "title": "Why should use warnings; go last?", "body": "<p>I vaguely recall that the <code>warnings</code> pragma should go last in the list of us modules being loaded with <code>use</code>.  I also vaguely remember that it has something to do with modules registering their own warning categories, but I can't reproduce any problems.  Can someone point to a relevant article or show an example where the placement of the <code>warnings</code> pragma makes a difference?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1469711429, "post_id": 38637357, "comment_id": 64657735, "body": "Can I suggest: Not. Just write some perl, and don&#39;t use perl to start perl"}, {"owner": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "edited": false, "score": 0, "creation_date": 1469711588, "post_id": 38637357, "comment_id": 64657875, "body": "2nd and 3rd example has &quot;mgd&quot; instead of &quot;my&quot;. Also I think you might need to use <code>\\\\\\@my</code> in 1st and 2nd examples because of double interpolation (backticks/quotes and <code>s&#47;&#47;&#47;</code>)"}, {"owner": {"reputation": 456, "user_id": 4902679, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4c798e668824f0209721b21bcb86ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/4902679/goku"}, "reply_to_user": {"reputation": 2488, "user_id": 6600109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d018ddca1b281e434c1ae6696a0195?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Laire", "link": "https://stackoverflow.com/users/6600109/markus-laire"}, "edited": false, "score": 0, "creation_date": 1469711808, "post_id": 38637357, "comment_id": 64658067, "body": "@Markus Laire : Sorry ,edited the question.TYPO"}, {"owner": {"reputation": 1268, "user_id": 3402772, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000733159561/picture?type=large", "display_name": "SibiCoder", "link": "https://stackoverflow.com/users/3402772/sibicoder"}, "edited": false, "score": 0, "creation_date": 1469712231, "post_id": 38637357, "comment_id": 64658429, "body": "If your file needs simple operations, you can use text editors like vim to do such operations."}], "answers": [{"comments": [{"owner": {"reputation": 456, "user_id": 4902679, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4c798e668824f0209721b21bcb86ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/4902679/goku"}, "edited": false, "score": 0, "creation_date": 1469714276, "post_id": 38638271, "comment_id": 64660160, "body": "Perfect , thanks a ton. and for the best practice suggestion!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1469713432, "creation_date": 1469713432, "answer_id": 38638271, "question_id": 38637357, "link": "https://stackoverflow.com/questions/38637357/perl-one-liner-is-not-working-inside-perl-script/38638271#38638271", "title": "Perl one liner is not working inside perl script", "body": "<p>There are two problems here. Firstly you have escaped the backslashes in the file path but not in the regex pattern, and secondly you have used single quotes around the parameter to the <code>-e</code> option, which Windows doesn't recognise as delimiters</p>\n\n<p>This variation should work for you. It uses single quotes (actually <code>q{...}</code>) to protect the backslashes so that <em>nothing</em> needs to be escaped</p>\n\n<pre><code>system q{perl -pi.bak -e \"s/\\s+\\@my\\.mail\\.com\\s+//g\" D:\\myfolder\\list.txt};\n</code></pre>\n\n<p>However it is poor practice to shell out to another perl process from within your Perl program. It can be done directly in your main code by adding this, which is much more readable and less easy to get wrong</p>\n\n<pre><code>{\n    local @ARGV = 'D:\\myfolder\\list.txt';\n    local $^I = '.bak';\n\n    while ( &lt;&gt; ) {\n        s/\\s+\\@my\\.mail\\.com\\s+//g;\n        print;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 456, "user_id": 4902679, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4c798e668824f0209721b21bcb86ba1f?s=128&d=identicon&r=PG&f=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/4902679/goku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 38638271, "answer_count": 1, "score": 0, "last_activity_date": 1469713432, "creation_date": 1469711317, "last_edit_date": 1469711758, "question_id": 38637357, "link": "https://stackoverflow.com/questions/38637357/perl-one-liner-is-not-working-inside-perl-script", "title": "Perl one liner is not working inside perl script", "body": "<p>I'm trying to remove the string <strong>@my.mail.com</strong> from the file - list.txt,  using the one liner from my perl script.\n(Perl script is kicked off from windows server)</p>\n\n<pre><code>r12355  test@my.mail.com\nr29555  test@my.mail.com\nr29555  trial@my.mail.com\n    @my.mail.com\nr295721 xxx@my.mail.com\nr295722 yyyy@my.mail.com\n    @my.mail.com\nr295140 test@my.mail.com\nr295145 test@my.mail.com\n    @my.mail.com\n</code></pre>\n\n<p>Below are the options  I have tried while calling inside the perl script:</p>\n\n<pre><code>`perl -pi.bak -e 's/\\s+\\@my\\.mail\\.com\\s+//g;' D:\\\\myfolder\\\\list.txt`;\n\nsystem(\"perl -pi.bak -e 's/\\s+\\@my\\.mail\\.com\\s+//g;' D:\\\\myfolder\\\\list.txt\");\n\nsystem( q( perl -l -pi.bak -e 's/\\s+\\@my\\.mail\\.com\\s+//g;' D:\\\\myfolder\\\\list.txt ) );\n</code></pre>\n\n<p>I'm expecting result like </p>\n\n<pre><code>r12355  test@my.mail.com\nr29555  test@my.mail.com\nr29555  trial@my.mail.com\nr295721 xxx@my.mail.com\nr295722 yyyy@my.mail.com\nr295140 test@my.mail.com\nr295145 test@my.mail.com\n</code></pre>\n\n<p>Not sure If I'm missing something silly , any inputs are really appreciated. Thanks in advance! </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469710831, "post_id": 38636846, "comment_id": 64657243, "body": "<code>waitpid</code> is your friend."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469711094, "post_id": 38636846, "comment_id": 64657454, "body": "@Sobrique waitpid inside while(1) to see if $brcmd has finished?"}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469711184, "post_id": 38636846, "comment_id": 64657533, "body": "@does it require pid of $brcmd? how would you get that?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469711202, "post_id": 38636846, "comment_id": 64657550, "body": "<code>open</code> returns the <code>pid</code> when you open like this."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1469711221, "post_id": 38636846, "comment_id": 64657572, "body": "ohhhhhhh i didnt know that"}], "answers": [{"comments": [{"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1469711042, "post_id": 38637194, "comment_id": 64657408, "body": "yeah its just something that does for a long time (i used to read stuff from it but no longer need to). I just want to be able to know if it is finished."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1469711069, "post_id": 38637194, "comment_id": 64657432, "body": "i need to do completely something else while that is running but when that&#39;s finished i need to exit out. so i need to able to poll if it&#39;s done without capturing any out from it"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1469710928, "creation_date": 1469710928, "answer_id": 38637194, "question_id": 38636846, "link": "https://stackoverflow.com/questions/38636846/perl-execute-a-command-via-open-and-see-if-the-command-has-finished/38637194#38637194", "title": "perl: execute a command via open and see if the command has finished", "body": "<p>You don't give any hint about what <code>$brcmd</code> might be, but since you have opened a pipe from it I suggest that you read from that pipe and wait for end of file</p>\n\n<p>Something like this, perhaps?</p>\n\n<pre><code>open my $br_fh, '-|', $brcmd or die \"Cannot open BR command: $!\";\n\nmy @output = &lt;$br_fh&gt;;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1469713965, "post_id": 38637841, "comment_id": 64659899, "body": "yes, nonblocking waitpid is what i was looking for. thank you"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1469712436, "last_edit_date": 1592644375, "creation_date": 1469712436, "answer_id": 38637841, "question_id": 38636846, "link": "https://stackoverflow.com/questions/38636846/perl-execute-a-command-via-open-and-see-if-the-command-has-finished/38637841#38637841", "title": "perl: execute a command via open and see if the command has finished", "body": "<blockquote>\n<p>it's just something that does for a long time (i used to read stuff from it but no longer need to). I just want to be able to know if it is finished.</p>\n<p>i need to do completely something else while that is running but when that's finished i need to exit out. so i need to able to poll if it's done without capturing any out from it.</p>\n</blockquote>\n<p>If those are your requirements, you should save the pid of the child (the return value of <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlfunc.pod#open-FILEHANDLE-EXPR\" rel=\"nofollow noreferrer\"><code>open</code></a>), and then, when the parent is done, <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlfunc.pod#waitpid-PID-FLAGS\" rel=\"nofollow noreferrer\">waitpid</a> on the child.</p>\n<p><a href=\"https://metacpan.org/pod/distribution/perl/pod/perlfunc.pod#open-FILEHANDLE-EXPR\" rel=\"nofollow noreferrer\">perldoc -f open</a> actually has an example of this:</p>\n<pre><code>my $child_pid = open(my $from_kid, &quot;-|&quot;) // die &quot;Can't fork: $!&quot;;\n\n# ...\n\nif ($child_pid) {\n    # am the parent:\n    # either write $to_kid or else read $from_kid\n    ...\n   waitpid $child_pid, 0;\n} else {\n    # am the child; use STDIN/STDOUT normally\n    ...\n    exit;\n}\n</code></pre>\n<p>Of course, if you really do not need to read anything from the external command, you can <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlfunc.pod#fork\" rel=\"nofollow noreferrer\">fork</a> then execute the external command using <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlfork.pod#exec\" rel=\"nofollow noreferrer\">exec</a>.</p>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 38637841, "answer_count": 2, "score": 0, "last_activity_date": 1469712436, "creation_date": 1469710092, "question_id": 38636846, "link": "https://stackoverflow.com/questions/38636846/perl-execute-a-command-via-open-and-see-if-the-command-has-finished", "title": "perl: execute a command via open and see if the command has finished", "body": "<pre><code>sub do_something {\n    while(1) {\n        #see if $brcmd has finished here\n        # if ($BR finished) ?\n        sleep 1;\n\n\n    }\n}\n\nopen $BR, q{-|}, $brcmd\n    or die 'Cannot open BR';\n\ndo_something();\n\nmy $err = !(close $BR)\n</code></pre>\n\n<p>in the above code, i am open <code>$brcmd</code> which does something long\ninside <code>do_something()</code>, I want to be able to check if <code>$brcmd</code> has finished</p>\n\n<p>any suggestions?</p>\n"}, {"tags": ["perl", "dbi"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1469710562, "post_id": 38636009, "comment_id": 64657026, "body": "You wrote <i>&quot;In that I have used the <code>do</code> method to execute the query&quot;</i> but your program <i>doesn&#39;t</i> use the <code>do</code> method so I deleted that sentence. Please also indent your Perl code properly so that it is readable, especially before asking for help with it."}, {"owner": {"reputation": 171, "user_id": 5060800, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rClwOHM5848/AAAAAAAAAAI/AAAAAAAAABk/3DBFZKA7ERE/photo.jpg?sz=128", "display_name": "adhi .b", "link": "https://stackoverflow.com/users/5060800/adhi-b"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1469713114, "post_id": 38636009, "comment_id": 64659176, "body": "Thanks Borodin .I will change it."}], "answers": [{"tags": [], "owner": {"reputation": 793, "user_id": 4651679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/msgFn.png?s=128&g=1", "display_name": "Ruslan Batdalov", "link": "https://stackoverflow.com/users/4651679/ruslan-batdalov"}, "is_accepted": true, "score": 11, "last_activity_date": 1506310624, "last_edit_date": 1506310624, "creation_date": 1469708163, "answer_id": 38636094, "question_id": 38636009, "link": "https://stackoverflow.com/questions/38636009/why-am-i-getting-0e0-for-the-return-value-of-the-dbi-execute-method/38636094#38636094", "title": "Why am I getting 0E0 for the return value of the DBI &quot;execute&quot; method?", "body": "<p>It is done in this way to allow to test whether the operation was successful. The reason is that <code>'0E0'</code> (as a string) is a true value, but <code>0</code> is a false value in Perl. Therefore:</p>\n\n<ol>\n<li><p>you can test the return value in <code>if</code> to determine whether the operation was successful (true means success),</p></li>\n<li><p>but you can also use the return value as a number to know the exact number of deleted rows, since 0E0 evaluates to 0 when used as a number.</p></li>\n</ol>\n\n<p>If you need just the number of deleted rows, you can use <code>$res + 0</code> or <code>$res * 1</code>. But only after you have tested that the operation was successful.</p>\n"}], "owner": {"reputation": 171, "user_id": 5060800, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rClwOHM5848/AAAAAAAAAAI/AAAAAAAAABk/3DBFZKA7ERE/photo.jpg?sz=128", "display_name": "adhi .b", "link": "https://stackoverflow.com/users/5060800/adhi-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1910, "favorite_count": 2, "accepted_answer_id": 38636094, "answer_count": 1, "score": 5, "last_activity_date": 1506310624, "creation_date": 1469707929, "last_edit_date": 1469710464, "question_id": 38636009, "link": "https://stackoverflow.com/questions/38636009/why-am-i-getting-0e0-for-the-return-value-of-the-dbi-execute-method", "title": "Why am I getting 0E0 for the return value of the DBI &quot;execute&quot; method?", "body": "<p>I have written a sample Perl program  to delete data from a database table.</p>\n\n<p>This is the code I have written,</p>\n\n<pre><code>use DBI;\n\nmy $dbh = DBI-&gt;connect(\"DBI:Pg:host=192.168.12.23;port=5432;\", \"adhi\");                                                                                \nif ( $dbh ) {\n\n    print \"Connected successfully\\n\";\n\n    my $exe = $dbh-&gt;prepare(\"delete from perl_test.test\");\n    my $res = $exe-&gt;execute();\n    if ( $res ) {\n        print \"deleted the table successfully of rows: $res\\n\";\n    }\n}\n</code></pre>\n\n<p>If I have executed the above it should print successful message and then the number of rows deleted.</p>\n\n<p>If the table was empty it was printing <code>0E0</code> instead of <code>0</code>. \nI don't know how it is returning the value like this?</p>\n\n<p>Can someone please explain me how it was working?</p>\n"}, {"tags": ["perl", "xml-parsing"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1469707164, "post_id": 38635697, "comment_id": 64654421, "body": "That&#39;s not valid XML -- there&#39;s a <code>&amp;</code> that does not denote the start of an entity -- thus the error."}, {"owner": {"reputation": 5423, "user_id": 937922, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/VsV8g.png?s=128&g=1", "display_name": "Takkun", "link": "https://stackoverflow.com/users/937922/takkun"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469707205, "post_id": 38635697, "comment_id": 64654455, "body": "@ikegami What part of it is invalid?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469707693, "post_id": 38635697, "comment_id": 64654835, "body": "Note that XML::Simple is a pretty poor choice if you want to deal with namespaces"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1469709890, "last_edit_date": 1469709890, "creation_date": 1469709354, "answer_id": 38636555, "question_id": 38635697, "link": "https://stackoverflow.com/questions/38635697/not-well-formed-error-from-xmlsimple/38636555#38636555", "title": "&quot;Not well-formed&quot; error from XML::Simple", "body": "\n\n<p><strong><em>Please take note of the warning</em></strong> in the <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow\">documentation for <code>XML::Simple</code></a>, which reads as follows:</p>\n\n<blockquote>\n  <p>The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces. In particular, <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow\"><code>XML::LibXML</code></a> is highly recommended and <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\"><code>XML::Twig</code></a> is an excellent alternative.</p>\n</blockquote>\n\n<p>XML documents may not contain ampersands <code>&amp;</code> or angle brackets <code>&lt;</code> <code>&gt;</code> outside CDATA sections. Within ordinary (PDATA) data sections and attribute values they need to be replaced by <em>entities</em> <code>&amp;amp;</code> <code>&amp;lt;</code> and <code>&amp;gt;</code> respectively</p>\n\n<p>Your program is correct and your data is malformed. Character 53 of line 3 is here</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;something id=\"207\" xlink:href=\"http://someurl.com&amp;op=yeah\"&gt;Something 207&lt;/something&gt;\n                                                    ^\n                                                Column 53\n</code></pre>\n\n<p>so it is reporting the <code>p</code> (because <code>&amp;op</code> isn't the start of any known entity) and the problem is nothing to do with namespaces</p>\n\n<p>My version of <code>XML::Simple</code> (currently the most recent version 2.22) gives a more explicit message</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Entity: line 3: parser error : EntityRef: expecting ';'\n&lt;something id=\"207\" xlink:href=\"http://someurl.com&amp;op=yeah\"&gt;Something 207&lt;/somet\n                                                     ^\n</code></pre>\n</blockquote>\n\n<p>You can fix things by replacing the ampersand with its entity, like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Data::Dump;\nuse XML::Simple;\n\nmy $string = &lt;&lt;END_XML;\n&lt;result&gt;\n  &lt;something id=\"207\" xlink:href=\"http://someurl.com&amp;amp;op=yeah\"&gt;Something 207&lt;/something&gt;\n&lt;/result&gt;\nEND_XML\n\ndd XMLin($string);\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>{\n  something =&gt; {\n    \"content\" =&gt; \"Something 207\",\n    \"id\" =&gt; 207,\n    \"xlink:href\" =&gt; \"http://someurl.com&amp;op=yeah\",\n  },\n}\n</code></pre>\n"}], "owner": {"reputation": 5423, "user_id": 937922, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/VsV8g.png?s=128&g=1", "display_name": "Takkun", "link": "https://stackoverflow.com/users/937922/takkun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1469710164, "creation_date": 1469707060, "last_edit_date": 1469710164, "question_id": 38635697, "link": "https://stackoverflow.com/questions/38635697/not-well-formed-error-from-xmlsimple", "title": "&quot;Not well-formed&quot; error from XML::Simple", "body": "<p>I'm trying to parse some XML that contains a namespace but <a href=\"https://metacpan.org/pod/XML::Simple\" rel=\"nofollow\"><code>XML::Simple</code></a> is throwing an error.</p>\n\n<blockquote>\n<pre><code>not well-formed (invalid token) at line 3, column 53, byte 63\n</code></pre>\n</blockquote>\n\n<pre><code>use Data::Dumper;\nuse XML::Simple;\n\nmy $string = q(\n&lt;result&gt;\n&lt;something id=\"207\" xlink:href=\"http://someurl.com&amp;op=yeah\"&gt;Something 207&lt;/something&gt;\n&lt;/result&gt;\n);\n\nprint Dumper(XMLin($string));\n</code></pre>\n\n<p>Is there a way I can get this to work with <code>XML::Simple</code>? Or do I have to use a different XML parsing library?</p>\n"}, {"tags": ["perl", "ansible"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 1514992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8115be46fb1f5a5d565e51fc490d3f43?s=128&d=identicon&r=PG", "display_name": "user1514992", "link": "https://stackoverflow.com/users/1514992/user1514992"}, "edited": false, "score": 0, "creation_date": 1469709516, "post_id": 38635852, "comment_id": 64656131, "body": "Magic Variables? Well, that is definitely a doc page I missed. I will let you know and get back to you."}, {"owner": {"reputation": 33, "user_id": 1514992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8115be46fb1f5a5d565e51fc490d3f43?s=128&d=identicon&r=PG", "display_name": "user1514992", "link": "https://stackoverflow.com/users/1514992/user1514992"}, "edited": false, "score": 0, "creation_date": 1469721684, "post_id": 38635852, "comment_id": 64665907, "body": "Would it be an issue to only have one script to gather the mount name from? i.e. on the hosts:new-server instead of running a second script, doing something like      - hosts: new-server       tasks:         - file: path=&quot;/myserver{{hostvars[&#39;old-server&#39;].my_mount_name.stdout }}&quot;"}, {"owner": {"reputation": 54590, "user_id": 2795592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fbe4bfb6102057764f046f57f161ac?s=128&d=identicon&r=PG", "display_name": "Konstantin Suvorov", "link": "https://stackoverflow.com/users/2795592/konstantin-suvorov"}, "reply_to_user": {"reputation": 33, "user_id": 1514992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8115be46fb1f5a5d565e51fc490d3f43?s=128&d=identicon&r=PG", "display_name": "user1514992", "link": "https://stackoverflow.com/users/1514992/user1514992"}, "edited": false, "score": 0, "creation_date": 1469722541, "post_id": 38635852, "comment_id": 64666526, "body": "You can do anyway you like. It is just an example. The idea is if you somehow get the fact known on the old-server, you can access it later through <code>hostvars</code> variable while doing tasks on the new-server."}, {"owner": {"reputation": 54590, "user_id": 2795592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fbe4bfb6102057764f046f57f161ac?s=128&d=identicon&r=PG", "display_name": "Konstantin Suvorov", "link": "https://stackoverflow.com/users/2795592/konstantin-suvorov"}, "reply_to_user": {"reputation": 33, "user_id": 1514992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8115be46fb1f5a5d565e51fc490d3f43?s=128&d=identicon&r=PG", "display_name": "user1514992", "link": "https://stackoverflow.com/users/1514992/user1514992"}, "edited": false, "score": 0, "creation_date": 1469722673, "post_id": 38635852, "comment_id": 64666615, "body": "You may also want to read about <code>delegate_to</code> \u2013 you can delegate <code>&#47;get-my-mount-name.sh</code> task to old-server while in the new-server&#39;s play."}, {"owner": {"reputation": 33, "user_id": 1514992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8115be46fb1f5a5d565e51fc490d3f43?s=128&d=identicon&r=PG", "display_name": "user1514992", "link": "https://stackoverflow.com/users/1514992/user1514992"}, "edited": false, "score": 0, "creation_date": 1469725691, "post_id": 38635852, "comment_id": 64668451, "body": "for my understanding, how does ansible know which my_mount_name would go with which new server?"}, {"owner": {"reputation": 33, "user_id": 1514992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8115be46fb1f5a5d565e51fc490d3f43?s=128&d=identicon&r=PG", "display_name": "user1514992", "link": "https://stackoverflow.com/users/1514992/user1514992"}, "edited": false, "score": 0, "creation_date": 1469789927, "post_id": 38635852, "comment_id": 64695268, "body": "for example, server1 needs to get mountvol1, server2 needs to get mountvol2, etc. How does it make sure that they don&#39;t all get mountvol1 or that it doesn&#39;t get mixed up?"}, {"owner": {"reputation": 54590, "user_id": 2795592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fbe4bfb6102057764f046f57f161ac?s=128&d=identicon&r=PG", "display_name": "Konstantin Suvorov", "link": "https://stackoverflow.com/users/2795592/konstantin-suvorov"}, "reply_to_user": {"reputation": 33, "user_id": 1514992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8115be46fb1f5a5d565e51fc490d3f43?s=128&d=identicon&r=PG", "display_name": "user1514992", "link": "https://stackoverflow.com/users/1514992/user1514992"}, "edited": false, "score": 0, "creation_date": 1469827077, "post_id": 38635852, "comment_id": 64716148, "body": "if you have many pairs of <code>serverN</code> and <code>migrate-serverN</code>, you can collect facts on all old servers and then use <code>{{ hostvars[ansible_hostname | replace(&#39;migrate-&#39;,&#39;&#39;)].my_mount_name }}</code> on new servers to get mount name from the server with the same name but without <code>migrate-</code> prefix."}], "tags": [], "owner": {"reputation": 54590, "user_id": 2795592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fbe4bfb6102057764f046f57f161ac?s=128&d=identicon&r=PG", "display_name": "Konstantin Suvorov", "link": "https://stackoverflow.com/users/2795592/konstantin-suvorov"}, "is_accepted": true, "score": 0, "last_activity_date": 1469707462, "creation_date": 1469707462, "answer_id": 38635852, "question_id": 38635431, "link": "https://stackoverflow.com/questions/38635431/get-ansible-to-read-value-from-mysql-and-or-perl-script/38635852#38635852", "title": "Get ansible to read value from mysql and/or perl script", "body": "<blockquote>\n  <p>Goal Recap: dir name must be determined from the oldserver, created on new server.</p>\n</blockquote>\n\n<p>Will <a href=\"http://docs.ansible.com/ansible/playbooks_variables.html#magic-variables-and-how-to-access-information-about-other-hosts\" rel=\"nofollow\">magic variables</a> do?<br>\nSomething like this:</p>\n\n<pre><code>---\n- hosts: old-server\n  tasks:\n    - shell: \"/get-my-mount-name.sh\"\n      register: my_mount_name\n\n- hosts: new-server\n  tasks:\n    - shell: \"/mount-me.sh --mount_name={{ hostvars['old-server'].my_mount_name.stdout }}\"\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 1514992, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8115be46fb1f5a5d565e51fc490d3f43?s=128&d=identicon&r=PG", "display_name": "user1514992", "link": "https://stackoverflow.com/users/1514992/user1514992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 0, "accepted_answer_id": 38635852, "answer_count": 1, "score": 0, "last_activity_date": 1469707462, "creation_date": 1469706364, "question_id": 38635431, "link": "https://stackoverflow.com/questions/38635431/get-ansible-to-read-value-from-mysql-and-or-perl-script", "title": "Get ansible to read value from mysql and/or perl script", "body": "<p>There may be a much better way to do what i need altogether. I'll give the background first then my current (non-working) approach.</p>\n\n<p>The goal is to migrate a bunch of servers from one SLES 11 to SLES 12 making use of ansible playbooks. The problem is that the newserver and the oldserver are supposed to have the same nfs mounted dir. This has to be done at the beginning of the playbook so that all of the other tasks can be completed. The name of the dir being created can be determined in 2 ways - on the oldserver directly or from a mysql db query for the volume name on that oldserver. The newservers are named migrate-(oldservername). I tried to prompt for the volumename in ansible, but that would then apply the same name to every server. Goal Recap: dir name must be determined from the oldserver, created on new server. </p>\n\n<p>Approach 1: I've created a perl script that ansible will copy to the newserver and it will execute the mysql query, and create the dir itself. There are 2 problems with this - 1) mysql-client needs to be installed on each server. This is completely unneccesary for these servers and would have to then be uninstalled after the query is run. 2) Copying files and remotely executing them seems like a bad approach in general.</p>\n\n<p>Approach 2: Create a version of the above except run it on the ansible control machine (where mysql-client is installed already) and store the values in key:value pairs in a file. Problems - 1) I cannot figure out how to in the perl script determine what hosts Ansible is running against and would have to manually enter them into the perl script. 2) I cannot figure out how to get Ansible to import those values correctly from the file created. </p>\n\n<p>Here's the relevant perl code I have for this - </p>\n\n<pre><code> $newserver = migrate-old.server.com\n    ($mig, $oldhost) = split(/\\-/, $newserver);\n    $volname=`mysql -u idm-ansible -p -s -N -e \"select vol_name from                 assets.servers where hostname like '$oldhost'\";`;\n\n     open(FH, \"&gt;vols.yml\");\n     $values = $newhost{$volname};\n     print FH \"$newhost:$volname\\n\";\n     close(FH);\n</code></pre>\n\n<p>My Ansible code is all over the place as I've tried and commented out a ton of things. I can share that here if it is helpful. </p>\n\n<p>Approach 3: Do it completely in Ansible Basically a mysql query for loop over each host. Problem - I have absolutely no idea how to do this. Way too unfamiliar with ansible. I think this is what I would prefer to try and do though.</p>\n\n<p>What is the best approach here? How do I go about getting the right value into ansible to create the correct directory?</p>\n\n<p>Please let me know if I can clarify anything. </p>\n"}, {"tags": ["regex", "linux", "perl", "scripting", "grep"], "comments": [{"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1469705740, "post_id": 38635172, "comment_id": 64653404, "body": "<a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">regular-expressions.info/lookaround.html</a>"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1469705762, "post_id": 38635172, "comment_id": 64653421, "body": "<a href=\"https://regex101.com/r/aM8nT9/1\" rel=\"nofollow noreferrer\">It means right this</a> and can be reduced to <code>(?&lt;=&quot;uuid&quot;:&quot;)[\\w=]*(?=&quot;)</code> since <code>\\w</code> matches the text that <code>\\d</code> matches."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1469707025, "post_id": 38635172, "comment_id": 64654300, "body": "&quot;<code>(?&lt;=&quot;uuid&quot;:&quot;)</code>&quot; means &quot;preceded by <code>&quot;uuid&quot;:&quot;</code>&quot;, and &quot;<code>(?=&quot;)</code>&quot; means &quot;followed by <code>&quot;</code>&quot;. <code>(?&lt;=&quot;uuid&quot;:&quot;)[\\w\\d=]*(?=&quot;)</code> matches the same lines as <code>&quot;uuid&quot;:&quot;[\\w\\d=]*&quot;</code>; the difference is in what <code>-o</code> outputs."}], "owner": {"reputation": 1, "user_id": 6192750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07226490659ea892f4ed31bc9ff7b061?s=128&d=identicon&r=PG&f=1", "display_name": "nnnnnnine", "link": "https://stackoverflow.com/users/6192750/nnnnnnine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1469705725, "answer_count": 0, "score": 0, "last_activity_date": 1469705668, "creation_date": 1469705668, "question_id": 38635172, "link": "https://stackoverflow.com/questions/38635172/what-is-the-expression-mean-in-grep-p-uuid-w-d", "closed_reason": "Duplicate", "title": "What is the expression mean in grep -P &#39;(?&lt;=&quot;uuid&quot;:&quot;)[\\w\\d=]*(?=&quot;)&#39;", "body": "<p>Recently, I was found a grep expression using -P option.</p>\n\n<p>It's looks like the code below:</p>\n\n<pre><code>grep -o -P '(?&lt;=\"uuid\":\")[\\w\\d=]*(?=\")'\n</code></pre>\n\n<p>and the using example is below:</p>\n\n<pre><code>[root@rhel66 worktmp]# cat zdata2\n{\"valid\":\"2016-05-28T\",\"uuid\":\"3BoZXJlLmxvY2FsZXhwaXJhdGlvbjoxNDY5Njk3NzEzMDAwOjVlY2ExMjg3YTBmMjdmNDk1M2YxZTk3ZmQwZTQ3MmFlOW\",:\"localdomain.local\"}\n[root@rhel66 worktmp]#\n[root@rhel66 worktmp]# cat zdata2 | grep -o -P '(?&lt;=\"uuid\":\")[\\w\\d=]*(?=\")'\n3BoZXJlLmxvY2FsZXhwaXJhdGlvbjoxNDY5Njk3NzEzMDAwOjVlY2ExMjg3YTBmMjdmNDk1M2YxZTk3ZmQwZTQ3MmFlOW\n[root@rhel66 worktmp]#\n</code></pre>\n\n<p>I don't understand a few part of this expression.</p>\n\n<ol>\n<li>what is (?&lt;=\"uuid\":\") mean? (I don't known ? &lt;= mean..)</li>\n<li>What is (?=\") mean?</li>\n</ol>\n\n<p>Thank you for any help you can provide.</p>\n"}, {"tags": ["mysql", "perl"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 6588103, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ba5f60d8309d126d2bd8e97dfb9ce98f?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/6588103/rakesh"}, "edited": false, "score": 0, "creation_date": 1469703629, "post_id": 38633585, "comment_id": 64652067, "body": "Thanks simbabque, Is that possible &#39;connection pooling&#39; in DBI or not?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 37, "user_id": 6588103, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ba5f60d8309d126d2bd8e97dfb9ce98f?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/6588103/rakesh"}, "edited": false, "score": 0, "creation_date": 1469703741, "post_id": 38633585, "comment_id": 64652129, "body": "I don&#39;t know. That&#39;s why I answered an alternative."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1469701242, "creation_date": 1469701242, "answer_id": 38633585, "question_id": 38633241, "link": "https://stackoverflow.com/questions/38633241/how-can-i-use-connection-pooling-in-perl-using-mysql/38633585#38633585", "title": "How can I use connection pooling in perl using MySQL?", "body": "<p>If there are multiple connections to the same database with the same DSN inside one process, you can simply replace all calls to <code>DBI-&gt;connect</code> with <code>DBI-&gt;connect_cached</code> and <a href=\"https://metacpan.org/pod/DBI#connect_cached\" rel=\"nofollow\">the DBI will take care of reusing connections</a>. That's not pooling, but it should work.</p>\n"}], "owner": {"reputation": 37, "user_id": 6588103, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ba5f60d8309d126d2bd8e97dfb9ce98f?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/6588103/rakesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "closed_date": 1469722796, "answer_count": 1, "score": 2, "last_activity_date": 1469701298, "creation_date": 1469700327, "last_edit_date": 1469701298, "question_id": 38633241, "link": "https://stackoverflow.com/questions/38633241/how-can-i-use-connection-pooling-in-perl-using-mysql", "closed_reason": "Duplicate", "title": "How can I use connection pooling in perl using MySQL?", "body": "<p>We have a Perl application that is using DBI to connect to MySQL and execute SQL statements. It creates multi connections, so I want to handle this using connection pooling and I have no idea about connection pooling. </p>\n\n<p>How do I do this?</p>\n"}, {"tags": ["perl", "if-statement", "for-loop", "filehandle"], "comments": [{"owner": {"reputation": 21, "user_id": 6500614, "user_type": "registered", "profile_image": "https://graph.facebook.com/1890898874470448/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/6500614/david"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1469695714, "post_id": 38631070, "comment_id": 64646552, "body": "Holy guacamole. Thank you very much. Seems like the simplest answer is the best. I tried so many wierd things and never laid my eye on the <code>||</code> Operator. Stupid me right. Works fine now."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1469696152, "post_id": 38631070, "comment_id": 64646851, "body": "Replacing it with <code>or</code> is indeed fine, but I stand corrected as to the order of evaluations -- see the answer by <a href=\"http://stackoverflow.com/users/622310/borodin\">Borodin</a>. See <a href=\"http://perldoc.perl.org/perlop.html#Operator-Precedence-and-Associativity\" rel=\"nofollow noreferrer\"><code>operator precedence in perlop</code></a>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1469702626, "post_id": 38631070, "comment_id": 64651418, "body": "See also <a href=\"https://stackoverflow.com/questions/12958603/perls-not-operator-not-working-as-expected-with-the-defined-function\">Perl&#39;s \u201cnot\u201d operator not working as expected with the defined() function</a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 6, "last_activity_date": 1469699456, "last_edit_date": 1469699456, "creation_date": 1469695621, "answer_id": 38631353, "question_id": 38631070, "link": "https://stackoverflow.com/questions/38631070/empty-return-of-readline-is-not-caught-by-control-structure/38631353#38631353", "title": "(empty?) return of readline is not caught by control structure", "body": "<p>This is an operator precedence problem. You have used a mixture of low-priority <code>not</code> with high-priority <code>||</code> so your condition</p>\n\n<pre><code>not defined $line || $line eq ''\n</code></pre>\n\n<p>is parsed as</p>\n\n<pre><code>not(  defined($line)  ||  ($line eq '')  )\n</code></pre>\n\n<p>which wrongly negates the <code>$line eq ''</code> part</p>\n\n<p>It is usually safer to use the lower-priority <code>and</code> and <code>or</code>, and <code>not</code> over <code>&amp;&amp;</code>, <code>||</code>, and <code>!</code>, but a mixture is a very bad idea</p>\n\n<p>You can write either</p>\n\n<pre><code>if (not defined $line or $line eq '' ) {\n    ...\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if ( ! defined $line || $line eq '' ) {\n    ...\n}\n</code></pre>\n\n<p>then all will be well</p>\n\n<hr>\n\n<p>I would prefer to see it written like this, because it loses the unnecessary <code>else</code> clause and the <code>next</code> statements, and discards lines that contain just space characters</p>\n\n<p>Also note that I iterate over the <code>values</code> of the hash. Using the keys is wasteful when they are used only to access the values. You will probably be able to think of a better name for the loop control variable <code>$item</code></p>\n\n<p>And there's often no need for the concatenation operator when Perl will interpolate variables directly into double-quoted strings</p>\n\n<pre><code>for my $item ( values %config ) {\n\n    my $line = readline( $item-&gt;{filehandle} );\n\n    if ( defined $line and  $line =~ /\\S/ ) {\n\n        print \"\\nLine: --&gt;$line&lt;--\\n\";\n\n        $line =~ m/(:)(\\d?\\.?\\d\\d?\\d?\\d?\\d?)/;\n        $wert = $2;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1469701058, "creation_date": 1469701058, "answer_id": 38633523, "question_id": 38631070, "link": "https://stackoverflow.com/questions/38631070/empty-return-of-readline-is-not-caught-by-control-structure/38633523#38633523", "title": "(empty?) return of readline is not caught by control structure", "body": "<p>I am a proponent of simple conditions. If it is at all feasible, I avoid compound logical conditions with an associated else so that I don't have to think about set complements etc. So, I would have listed the skip conditions individually:</p>\n\n<pre><code>next unless defined $line;\nnext unless $line =~ /\\S/;\n</code></pre>\n\n<p>This kind of thing also tends to keep the number of nested blocks lower which I find improves the readability of code.</p>\n"}], "owner": {"reputation": 21, "user_id": 6500614, "user_type": "registered", "profile_image": "https://graph.facebook.com/1890898874470448/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/6500614/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1469701058, "creation_date": 1469694801, "last_edit_date": 1469695348, "question_id": 38631070, "link": "https://stackoverflow.com/questions/38631070/empty-return-of-readline-is-not-caught-by-control-structure", "title": "(empty?) return of readline is not caught by control structure", "body": "<p>I have a multidimensional hash containing opened file handles on <code>SEEK_END</code> with the intention to always read the latest line without getting to much I/O (what I would get with <code>tail</code>).</p>\n\n<p>I'm now going through all of these handles with a <code>for</code> loop and calling <code>readline</code> on them.</p>\n\n<p>It looks like this:</p>\n\n<pre><code>for $outer ( keys %config ) {\n\n    my $line = readline($config{$outer}{\"filehandle\"});\n\n    if (not defined $line || $line eq '' ){\n        next;\n    }\n    else{\n        print \"\\nLine: --&gt;\".$line.\"&lt;--\\n\";\n        $line =~ m/(:)(\\d?\\.?\\d\\d?\\d?\\d?\\d?)/;\n        $wert = $2;\n    }\n}\n</code></pre>\n\n<p>If new content is written into these files, my script reads it and behaves just as planned. </p>\n\n<p>The problem is that <code>readline</code> will usually return nothing because there is currently nothing at the end of the file, but my <code>if</code> doesn't seem to identify the empty return of <code>readline</code> as <code>undef</code> as empty -- it just prints nothing, which is would be right because there is nothing in this string, but I don't want it to be processed at all.</p>\n"}, {"tags": ["regex", "perl", "makefile"], "comments": [{"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 2, "creation_date": 1469691530, "post_id": 38629905, "comment_id": 64644003, "body": "Please show how you are invoking it in your bash script. It will not be a shell variable if it is single-quoted, as in your example above; but it will if you put some different quotes around it. For example, <code>foo=$(perl -C -p -i -e &#39;s&#47;([\\?\\.\\!])\\n&#47;$1 &#47;g&#39; html&#47;\u657814.html)</code> is quoted by <code>$()</code>, which will expand <code>$1</code>, and you&#39;d need to escape <code>$1</code> into <code>\\$1</code>."}, {"owner": {"reputation": 627, "user_id": 5180086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yutGB.jpg?s=128&g=1", "display_name": "Poyke", "link": "https://stackoverflow.com/users/5180086/poyke"}, "edited": false, "score": 0, "creation_date": 1469691680, "post_id": 38629905, "comment_id": 64644094, "body": "Read this thread: [<a href=\"http://stackoverflow.com/questions/31557677/how-to-pass-a-regular-expression-as-a-parameter-to-a-perl-one-liner-in-a-bash-sc/31563152#31563152]\" title=\"how to pass a regular expression as a parameter to a perl one liner in a bash sc\">stackoverflow.com/questions/31557677/&hellip;</a>"}, {"owner": {"reputation": 5055, "user_id": 1903257, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/op6HW.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1903257/michael"}, "edited": false, "score": 1, "creation_date": 1469691809, "post_id": 38629905, "comment_id": 64644176, "body": "Yes, sorry. It&#39;s not a bash script, it&#39;s a Makefile. :-|"}, {"owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 2, "creation_date": 1469691941, "post_id": 38629905, "comment_id": 64644260, "body": "Please avoid XY-questions. The answer is <i>very</i> different for Makefiles."}], "answers": [{"tags": [], "owner": {"reputation": 167912, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": true, "score": 3, "last_activity_date": 1469691994, "creation_date": 1469691994, "answer_id": 38630125, "question_id": 38629905, "link": "https://stackoverflow.com/questions/38629905/using-1-in-regexp-within-a-makefile/38630125#38630125", "title": "Using $1 in regexp within a Makefile", "body": "<p>Makefiles always interpret <code>$</code> sequences before executing commands, disregarding any quoting. In order to escape <code>$</code> in a Makefile, write it as <code>$$</code> - that will result in a single <code>$</code> in the command.</p>\n"}], "owner": {"reputation": 5055, "user_id": 1903257, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/op6HW.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1903257/michael"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 624, "favorite_count": 0, "closed_date": 1469692073, "accepted_answer_id": 38630125, "answer_count": 1, "score": -1, "last_activity_date": 1469691994, "creation_date": 1469691373, "last_edit_date": 1469691758, "question_id": 38629905, "link": "https://stackoverflow.com/questions/38629905/using-1-in-regexp-within-a-makefile", "closed_reason": "Duplicate", "title": "Using $1 in regexp within a Makefile", "body": "<p>I try to do a replace with following perl command:</p>\n\n<pre><code>perl -C -p -i -e 's/([\\?\\.\\!])\\n/$1 /g' html/\u657814.html\n</code></pre>\n\n<p>The result is fine when I call it from the command line. When I call it from within a Makefile it doesn't work. Apparently the $1 is interpreted as shell variable. </p>\n\n<p>In the Makefile it looks like this:</p>\n\n<pre><code>\u657814.html: \u657814.adoc 40_2064_Im\\ Strand-Appartment.adoc 41_2064_Ein\\ Plan.adoc  42_1915_In\\ einer\\ Suppenk\u00fcche.adoc \n    asciidoctor -D html parts/\u657814.adoc  \n    perl -C -p -i -e 's/([\\?\\.\\!])\\n/$1 /g' html/\u657814.html\n</code></pre>\n\n<p>How can I have normal regexp behaviour here?</p>\n"}, {"tags": ["perl", "plagiarism-detection"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 3, "creation_date": 1469684140, "post_id": 38627156, "comment_id": 64640058, "body": "There are no Proxy* parameters for IO::Socket::INET so your parameters simply get ignored. Also, there is no general concept for a TCP proxy but there are HTTP proxies and there are SOCKS4/SOCKS5 proxies. It is unknown what you have here and your script is unknown too so it is impossible to help you here with the current information."}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 3, "creation_date": 1469691480, "post_id": 38627156, "comment_id": 64643969, "body": "How about trying to contact the author/distributor of the script?"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 7723555, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p7g8O5d_gCI/AAAAAAAAAAI/AAAAAAAAAX0/1NK1X_I1UKg/photo.jpg?sz=128", "display_name": "Swapnil Agarwal", "link": "https://stackoverflow.com/users/7723555/swapnil-agarwal"}, "is_accepted": false, "score": 1, "last_activity_date": 1581780367, "last_edit_date": 1581780367, "creation_date": 1581780060, "answer_id": 60240120, "question_id": 38627156, "link": "https://stackoverflow.com/questions/38627156/running-stanford-moss-because-of-institution-proxy/60240120#60240120", "title": "Running stanford moss because of institution proxy", "body": "<p>Here is what I did and it worked.\nI used Google colab for it.\nI uploaded the files to be checked for plagiarism and the perl script to colab and then ran the perl script in the notebook</p>\n\n<pre><code>!perl moss.pl -l python -m 53 -c \"Files\" ./*.py\n</code></pre>\n"}], "owner": {"reputation": 901, "user_id": 2759002, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da56a1cda361fe8d877c115da7901e91?s=128&d=identicon&r=PG&f=1", "display_name": "KrunalParmar", "link": "https://stackoverflow.com/users/2759002/krunalparmar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1032, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1581780367, "creation_date": 1469680391, "question_id": 38627156, "link": "https://stackoverflow.com/questions/38627156/running-stanford-moss-because-of-institution-proxy", "title": "Running stanford moss because of institution proxy", "body": "<p>I am running moss by Stanford.\nI am using Perl script sent by Stanford at the time of registration.\nbut it is giving error as :</p>\n\n<pre><code>Checking files . . .\nOK\nCould not connect to server moss.stanford.edu: Connection refused\n</code></pre>\n\n<p>I tried adding institute proxy also in the code as follows :</p>\n\n<pre><code>$sock = new IO::Socket::INET (\n                                  ProxyAddr   =&gt; '10.3.100.207',\n                                   ProxyPort   =&gt; '8080',\n                                  PeerAddr =&gt; $server,\n                                  PeerPort =&gt; $port,\n                                  Proto =&gt; 'tcp',\n                                 );\n</code></pre>\n\n<p>But it is giving the same error as above. \nOne possible solution is to set up a virtual environment and run the script. \nBut what can be another solution ?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1469676670, "post_id": 38626601, "comment_id": 64637923, "body": "See <a href=\"https://metacpan.org/pod/File::Basename\" rel=\"nofollow noreferrer\">File::Basename</a>."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 3118123, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/hLz6x.png?s=128&g=1", "display_name": "Michael Tan", "link": "https://stackoverflow.com/users/3118123/michael-tan"}, "edited": false, "score": 0, "creation_date": 1469772715, "post_id": 38626733, "comment_id": 64685106, "body": "May I ask what is the function of <code>$</code> in the second line beside <code>.exe?</code>?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1470206667, "post_id": 38626733, "comment_id": 64847679, "body": "its end of condition"}], "tags": [], "owner": {"reputation": 42504, "user_id": 1161878, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0157ddd785dc01e95342e3661d34b42a?s=128&d=identicon&r=PG", "display_name": "Gene", "link": "https://stackoverflow.com/users/1161878/gene"}, "is_accepted": false, "score": 1, "last_activity_date": 1469754854, "last_edit_date": 1469754854, "creation_date": 1469677427, "answer_id": 38626733, "question_id": 38626601, "link": "https://stackoverflow.com/questions/38626601/perl-regular-expression-matching/38626733#38626733", "title": "Perl: Regular Expression Matching", "body": "<p>What you wrote isn't even a complete regex. Though you've not said clearly what's in the file (Are the lines just paths?), you probably want something like:</p>\n\n<pre><code>my $pattern = $f_variable;\n$pattern =~ s/\\.exe?$//;\nif ($line =~ m{(/\\S*\\Q$pattern\\E[^/]*\\.exe?)}) {\n  print \"$1\\n\";\n}\n</code></pre>\n\n<p>This removes the file name <code>.ex</code> or <code>.exe</code> suffix to get the base name, then matches the first string that contains the base name including any non-space leading characters and trailing non-space characters ending in <code>.ex</code> or <code>.exe</code>.</p>\n"}], "owner": {"reputation": 65, "user_id": 3118123, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/hLz6x.png?s=128&g=1", "display_name": "Michael Tan", "link": "https://stackoverflow.com/users/3118123/michael-tan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1469754854, "creation_date": 1469676518, "question_id": 38626601, "link": "https://stackoverflow.com/questions/38626601/perl-regular-expression-matching", "title": "Perl: Regular Expression Matching", "body": "<p>Say I have a <strong>fixed</strong> variable:</p>\n\n<pre><code>$f_variable = \"hello.exe\";\n</code></pre>\n\n<p>and I want to search through a file line by line and find the path that contains this word, for example:</p>\n\n<pre><code>/Desktop/Downloads/hello.exe\n</code></pre>\n\n<p>or</p>\n\n<pre><code>/Desktop/Downloads/hello_qwdqd.exe\n</code></pre>\n\n<p>Lets say that the file extension can be either <code>exe</code> or <code>ex</code></p>\n\n<p>and i wrote this line of code:</p>\n\n<pre><code> if ($line =~ m/(\\/$f_variable.*\\.[exe]+)\n</code></pre>\n\n<p>obviously it won't works because the line of code above is actually:</p>\n\n<pre><code>if ($line =~ m/(\\/hello.exe.*\\.[exe]+)\n</code></pre>\n\n<p>which will not match anything.</p>\n\n<p>So my question is what changes should I make in order to match and capture the whole path properly <strong>without</strong> changing the value of <code>$f_variable</code>?</p>\n"}]