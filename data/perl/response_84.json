[{"tags": ["perl", "loops"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1471464994, "post_id": 39005483, "comment_id": 65362702, "body": "they code you have posted does not compile, please provide the actual code you are working with."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1471466694, "post_id": 39005483, "comment_id": 65363541, "body": "Not the issue, but you shouldn&#39;t be modifying <code>$index</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1471469430, "post_id": 39005483, "comment_id": 65364831, "body": "The loop terminates OK when the sequence contains CCG."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1471466763, "post_id": 39005625, "comment_id": 65363603, "body": "The OP problem asked why the termination condition of the until loop is never met. This does not relate to that problem."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1471467363, "post_id": 39005625, "comment_id": 65363909, "body": "@ikegami: That&#39;s not how I understood <b>Is there a way to break out of do-until loop without breaking the for loop</b> ? But not being native English speaker, I might be wrong."}, {"owner": {"reputation": 65, "user_id": 3802685, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/cd9359f1cd3e0e11697847f90f40428f?s=128&d=identicon&r=PG&f=1", "display_name": "user3802685", "link": "https://stackoverflow.com/users/3802685/user3802685"}, "edited": false, "score": 0, "creation_date": 1471468413, "post_id": 39005625, "comment_id": 65364384, "body": "Unforunately I have used the <code>last</code> statement in multiple variations. When I had a <code>LINE: For (){}</code>  I had a <code>last LINE if $index == $amount;</code>, but that failed to get rid of the infinite loop."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 65, "user_id": 3802685, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/cd9359f1cd3e0e11697847f90f40428f?s=128&d=identicon&r=PG&f=1", "display_name": "user3802685", "link": "https://stackoverflow.com/users/3802685/user3802685"}, "edited": false, "score": 0, "creation_date": 1471468819, "post_id": 39005625, "comment_id": 65364570, "body": "@user3802685: <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a> would help a lot."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471468835, "post_id": 39005625, "comment_id": 65364576, "body": "@choroba, That doesn&#39;t contradict what I said. He does indeed want to exit the loop that never exits. And this is done by fixing the broken termination condition."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471468880, "post_id": 39005625, "comment_id": 65364601, "body": "@choroba, For a SSCCE, just replace <code>my $seq = &#39;...&#39;;</code> with <code>my $seq = &#39;xxxxxATGCyyyyyzzzzz&#39;;</code>"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1471469577, "last_edit_date": 1471469577, "creation_date": 1471465335, "answer_id": 39005625, "question_id": 39005483, "link": "https://stackoverflow.com/questions/39005483/how-to-break-out-of-a-nested-until-loop-without-affecting-the-for-loop-its-init/39005625#39005625", "title": "How to break out of a nested until loop, without affecting the for loop its initially in", "body": "<p>As mentioned in <a href=\"http://p3rl.org/perlsyn\" rel=\"nofollow\">perlsyn</a></p>\n\n<blockquote>\n  <p>For \"last\", you have to be more elaborate:</p>\n\n<pre><code>LOOP: { \n    do {\n        last if $x = $y**2;\n        # do something here\n    } while $x++ &lt;= $z;\n}\n</code></pre>\n</blockquote>\n\n<p>If the sequence doesn't contain <code>CCG</code> somewhere later than <code>ATGC</code>, the loop won't terminate. Add <code>or $index == $#dna</code> to the condition.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1471470739, "last_edit_date": 1471470739, "creation_date": 1471468078, "answer_id": 39006299, "question_id": 39005483, "link": "https://stackoverflow.com/questions/39005483/how-to-break-out-of-a-nested-until-loop-without-affecting-the-for-loop-its-init/39006299#39006299", "title": "How to break out of a nested until loop, without affecting the for loop its initially in", "body": "<h2>Case 1</h2>\n\n<pre><code>my $seq = 'xxxxxATGCyyyyyCCGzzzzz';  # Ouputs ATGCyyyyy\n</code></pre>\n\n<p>When every <code>ATGC</code> is followed by a <code>CCG</code>, your code works.</p>\n\n<h2>Case 2</h2>\n\n<pre><code>my $seq = 'xxxxxATGCyyyyy';  # Infinite loop\n</code></pre>\n\n<p>When there's no <code>CCG</code> following a <code>ATGC</code>, you keep incrementing <code>$index</code> past the end of <code>@dna</code>, causing an infinite loop.</p>\n\n<h2>Case 3</h2>\n\n<pre><code>my $seq = 'wwwwwATGCxxxxxATGCyyyyyCCGzzzzz';  # Ouputs ATGCxxxxxATGCyyyyy and ATGCyyyyy\n</code></pre>\n\n<p>You start looking for another match where the previous match <em>started</em> rather than where it <em>ended</em>, so you can end up with overlapping matches. This is partly due to a bad assumption the loop will continue from the value to which you changed <code>$index</code>.</p>\n\n<h2>Solution</h2>\n\n<pre><code>my $seq = '...';\nmy @seq = split //, $seq;\nmy $seq_len = @seq;\nfor (my $i = 0; $i &lt; $seq_len-7; ++$i) {\n    if (   $seq[$i+0] eq 'A'\n        &amp;&amp; $seq[$i+1] eq 'T'\n        &amp;&amp; $seq[$i+2] eq 'G'\n        &amp;&amp; $seq[$i+3] eq 'C'\n     ) {\n        my $start = $i;\n        $i += 4;\n        for (; $i &lt; $seq_len-3; ++$i) {\n            if (   $seq[$i+0] eq 'C'\n                &amp;&amp; $seq[$i+1] eq 'C'\n                &amp;&amp; $seq[$i+2] eq 'G'\n            ) {\n                my $end = $i;\n                print(join('', @seq[$start .. $end-1]), \"\\n\");\n                last;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><code>substr</code> simplifies things.</p>\n\n<pre><code>my $seq = '...';\nmy $seq_len = length($seq);\nfor (my $i = 0; $i &lt; $seq_len-7; ++$i) {\n    if (substr($seq, $i, 4) eq 'ATGC') {\n        my $start = $i;\n        $i += 4;\n        for (; $i &lt; $seq_len-3; ++$i) {\n            if (substr($seq, $i, 3) eq 'CCG') {\n                my $end = $i;\n                print(substr($seq, $start, $end-$start), \"\\n\");\n                last;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>But regular expressions simply things much further.</p>\n\n<pre><code>my $seq = '...';\nwhile ($seq =~ / ( ATGC .*? ) (?= CCG ) /xsg) {\n    print(\"$1\\n\");\n}\n</code></pre>\n\n<p>If you wanted to output the remainder of the string when there is no <code>CCG</code>, you can use the following:</p>\n\n<pre><code>my $seq = '...';\nwhile ($seq =~ / ( ATGC (?:(?! CCG ).)* ) /xsg) {\n    print(\"$1\\n\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 0, "last_activity_date": 1471531897, "last_edit_date": 1471531897, "creation_date": 1471500274, "answer_id": 39010942, "question_id": 39005483, "link": "https://stackoverflow.com/questions/39005483/how-to-break-out-of-a-nested-until-loop-without-affecting-the-for-loop-its-init/39010942#39010942", "title": "How to break out of a nested until loop, without affecting the for loop its initially in", "body": "<p>Although I definitely endorse @ikegami's regular expression-based approach, let's try to salvage what you have.  Some specific issues:</p>\n\n<ul>\n<li>Use the C-style for/foreach loop so that adjustments to $index carry over to the outer loop</li>\n<li>You can't use <code>last</code> or <code>next</code> directly in a <code>do {} until ()</code> or <code>do {} while ()</code> loop -- these aren't <code>while ()</code> or <code>until ()</code> loops, they are <code>do</code> constructs and these keywords don't apply.  See some of the other answers with respect to wrapping the <code>do</code> construct in a one-shot loop to make these keywords viable.</li>\n<li>You need to deal with the possiblity of running out of data before finding the things you're looking for.</li>\n</ul>\n\n<p>Here's my rework of your code to get it to run and clear @ikegami's test hurdles:</p>\n\n<pre><code>use constant { START =&gt; 'ATGC', STOP =&gt; 'CCG' };\nuse constant { START_LENGTH =&gt; length(START), STOP_LENGTH =&gt; length(STOP) };\n\nmy $sequence = 'wwwwwATGCxxxxxATGCyyyyyCCGzzzzz';\nmy @dna = split //, $sequence;\n\nfor (my $index = 0; $index &lt; @dna - START_LENGTH; $index++) {\n\n    if (join('', @dna[$index .. $index + START_LENGTH - 1]) eq START) {\n        do {\n            print $dna[$index++];\n        } until ($index &gt; $#dna or ($index &lt; @dna - STOP_LENGTH and join('', @dna[$index .. $index + STOP_LENGTH - 1]) eq STOP));\n\n        print(\"\\n\");\n    }\n}\n</code></pre>\n\n<p>(Yes, the <code>$#dna</code> messes with the SO formatter as it thinks it's introducing a comment.  I'm sure someone knows how to fix this and will edit this answer accordingly.)</p>\n"}], "owner": {"reputation": 65, "user_id": 3802685, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/cd9359f1cd3e0e11697847f90f40428f?s=128&d=identicon&r=PG&f=1", "display_name": "user3802685", "link": "https://stackoverflow.com/users/3802685/user3802685"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1471531897, "creation_date": 1471464813, "last_edit_date": 1471466945, "question_id": 39005483, "link": "https://stackoverflow.com/questions/39005483/how-to-break-out-of-a-nested-until-loop-without-affecting-the-for-loop-its-init", "title": "How to break out of a nested until loop, without affecting the for loop its initially in", "body": "<p>Got a very technical coding problem with perl. Basically I am search for some specific DNA sequences.</p>\n\n<pre><code>my $seq = '...';\nmy @dna = split //, $seq;\nmy $amount = scalar @dna; \n\nfor my $index (0 .. $amount - 1){\n    if ($dna[$index] eq 'A' and $dna[$index+1] eq 'T' and \n         $dna[$index+2] eq 'G' and $dna[$index+3] eq 'C'\n    ) {\n        do {\n            print $dna[$index++];\n        } until ($dna[$index] eq 'C' and $dna[$index+1] eq 'C' and $dna[$index+2] eq'G')\n    }\n}\n</code></pre>\n\n<p>The problem is,is that the \"until\" portion is in an infinite loop. I am getting all my sequences, but for some reason the until loop wont stop looping. I have tried</p>\n\n<p><code>until ($dna[$index] eq 'C' and $dna[$index+1] eq 'C' and $dna[$index+2] eq 'G' ){last;}</code></p>\n\n<p>But that breaks out of the <em>\"for\"</em> loop.\nIs there a way to break out of <em>do-until</em> loop without breaking the  <em>for</em> loop?</p>\n"}, {"tags": ["perl", "hash", "env"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 3, "creation_date": 1471464633, "post_id": 39005412, "comment_id": 65362527, "body": "no. system environment variables have nothing to do with perl. you cannot store perl data structures in them. You have to serialize to plain text, then store that serialized text in the var."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1471464913, "post_id": 39005412, "comment_id": 65362668, "body": "what is the reasoning behind wanting to do this?"}, {"owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "edited": false, "score": 0, "creation_date": 1471478777, "post_id": 39005412, "comment_id": 65367743, "body": "a convenient way to pass a global variable around many different modules, etc.  for example, if I store the http session hash in %ENV in one module, now any other perl module or routine can check whether an http session exists.  just an execute of a just <code>defined($ENV{&#39;myhash&#39;} and ...&#39;, doing different things depending on whether we have it or not.    I know the </code>no strict vars` trick.  makes sense or not?  but, on reflection, maybe not.  I thought %ENV did not inherit back up to the process itself."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1471479906, "post_id": 39005412, "comment_id": 65368021, "body": "you can set a flag in an env var and fetch that, but that won&#39;t work for a full session hash. why not just call into the main module and get its stored list of sessions, or store it in a file/db?"}], "answers": [{"comments": [{"owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "edited": false, "score": 0, "creation_date": 1471479442, "post_id": 39005615, "comment_id": 65367901, "body": "darn (on the propagation back up).  I thought it was a neat trick to make it easy to inject a global variable.  and, yes, before anyone complains about globals, it can be useful.  `use 5.018&#39; uses a global.  for this matter, the same can be said about %ENV.  it is a global.  I guess it will have to be the no strict vars instead with a new hash, which does not propagate back.  it was also a useful trick to learn.  thanks."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "edited": false, "score": 1, "creation_date": 1471485822, "post_id": 39005615, "comment_id": 65369452, "body": "wut /// Don&#39;t know what you mean by &quot;propagate up&quot;. Are you saying it can&#39;t be used to pass info from child to parent? True. It can&#39;t even be used to pass info from parent to child. /// Actually, <code>use 5.018</code> is lexically scoped, not global. /// What&#39;s with the anti-anti-global rant? Noone said you can&#39;t use globals. There&#39;s very rarely a reason to, but not never. They can be declared using <code>our</code> instead of <code>my</code>. /// Neither knowing that the number is an address nor using <code>newRV</code> to create a reference are tricks."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1471510344, "post_id": 39005615, "comment_id": 65378341, "body": "Could perhaps serialise the data structure as JSON, and retrieve it. But it&#39;s a bit of a hacky sort of IPC."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471528064, "post_id": 39005615, "comment_id": 65390213, "body": "That would only work for passing down to the child, in which case you could just pass the JSON as an argument"}, {"owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "edited": false, "score": 0, "creation_date": 1471528877, "post_id": 39005615, "comment_id": 65390820, "body": "I thought %ENV was the OS passing a copy of %ENV, not a reference to  %ENV (i.e., \\%ENV).    changes would disappear at perl exit.   it would then be a central place for all global info, e.g., with %ENV = ( &#39;session&#39; =&gt; [ ... ], %ENV). %ENV would have been the natural location IMHO to store globals for stuff that may or may not be loaded.  the other solutions seemed uglier and/or more complex."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471533609, "post_id": 39005615, "comment_id": 65394291, "body": "Yes, but the same goes for ordinary variables. As for passing to a child, using an argument would be more straightforward than using the environment"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1471465627, "last_edit_date": 1471465627, "creation_date": 1471465310, "answer_id": 39005615, "question_id": 39005412, "link": "https://stackoverflow.com/questions/39005412/perl-storing-hash-in-env/39005615#39005615", "title": "perl storing hash in %ENV", "body": "<p><code>%ENV</code> is a magical hash. It reflects the process's environment. Reading from it reads from the environment, and writing to it changes the environment.</p>\n\n<p>If you can guarantee the referenced variable is still alive (by it still being in scope or by it having its <code>REFCNT</code> increased), you can indeed create a reference to it from the address.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nuse Inline C =&gt; &lt;&lt;'__EOS__';\n\n   SV* _newRV(IV iv) {\n      return newRV((SV*)iv);\n   }\n\n__EOS__\n\nmy %hash = ( a =&gt; 1, b =&gt; 2 );\nmy $ref = \\%hash;\nmy $ref_string = \"$ref\";\nmy $addr = hex( ( $ref_string =~ /\\((.*)\\)/ )[0] );\nmy $ref2 = _newRV($addr);\nprint(Dumper($ref2));\n</code></pre>\n\n<p>I have no idea why you'd want to do this. It would not permit another process to access the data since one process can't access the memory of another.</p>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 1, "last_activity_date": 1471479408, "last_edit_date": 1471479408, "creation_date": 1471479010, "answer_id": 39008076, "question_id": 39005412, "link": "https://stackoverflow.com/questions/39005412/perl-storing-hash-in-env/39008076#39008076", "title": "perl storing hash in %ENV", "body": "<p>You seem to want to share data. Here's an example I put out there often that shows how to store data in a JSON file, then retrieve it. JSON is cross-language, so the data can be used by many programming languages, not just Perl. Although this example is within a single script, imagine it being two different Perl applications:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse JSON;\n\nmy $file = 'data.json';\n\nmy %h = (\n   foo =&gt; 'bar',\n   raz =&gt; {\n       ABC =&gt; 123,\n       XYZ =&gt; [4, 5, 6],\n   }\n);\n\nmy $json = encode_json \\%h;\n\n# write the JSON to a file, and close it\n\nopen my $fh, '&gt;', $file or die $!;\nprint $fh $json;\nclose $fh or die $!;\n\n# open the JSON file, and read it\n\nopen my $json_file, '&lt;', $file or die $!;\n\nmy $read_json;\n\n{\n    local $/;\n    $read_json = &lt;$json_file&gt;;\n}\n\nmy $perl_hash = decode_json $read_json;\n</code></pre>\n"}], "owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 399, "favorite_count": 0, "accepted_answer_id": 39005615, "answer_count": 2, "score": 0, "last_activity_date": 1471479408, "creation_date": 1471464546, "question_id": 39005412, "link": "https://stackoverflow.com/questions/39005412/perl-storing-hash-in-env", "title": "perl storing hash in %ENV", "body": "<p>I want to (ab-)use the global %ENV to store a hash.  This seems to work differently for %ENV than for ordinary hashes.  in the program below, the <code>$ENV{myhash}</code> still contains <code>'myhash' =&gt; 'HASH(0x7ffad8807380)'</code> and the <code>%ahash</code> is still around.  is it possible to convert the hex address back to point at its location, instead of just containing the string?  I guess I could serialize and unserialize the hash instead.  what is the right way to do this?</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse common::sense;\nuse Data::Dumper;\n\nmy %QENV = ( nohash =&gt; 'noh' );\nmy %ahash= ( hv1 =&gt; 'htext1', hv2 =&gt; 'htext2' );\n$QENV{'myhash'} = \\%ahash;\nprint \"works: \". Dumper(\\%QENV).\"\\n\\n\\n\";\n\n\n$ENV{'myhash'} = \\%ahash;\nprint \"fails: \". Dumper(\\%ENV).\"\\n\";\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1471459547, "post_id": 39004068, "comment_id": 65359915, "body": "Your quote at the end of first line should be after the second double quote of line 2 (just before <code>.HEAD</code>). Furthermore, is there a file named <code>.HEAD</code> in your current directory?"}, {"owner": {"reputation": 630, "user_id": 3470556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xCv2i.jpg?s=128&g=1", "display_name": "Filip Stefanov", "link": "https://stackoverflow.com/users/3470556/filip-stefanov"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1471459891, "post_id": 39004068, "comment_id": 65360076, "body": "Yes .HEAD exist if i put single-quote after the double-quote then my variables does not expand."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1471460948, "post_id": 39004068, "comment_id": 65360628, "body": "Shell variables aren&#39;t Perl variables."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471463365, "post_id": 39004509, "comment_id": 65361847, "body": "Explanation of differences between the two: Because the second snippet doesn&#39;t use <code>ARGV</code>, <code>-i</code> would have no effect, so you need to handle the &quot;in-place&quot; aspect yourself. On the plus side, this means you can avoid clobbering <code>.HEAD</code> if an error occurs."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1471463265, "last_edit_date": 1471463265, "creation_date": 1471461101, "answer_id": 39004509, "question_id": 39004068, "link": "https://stackoverflow.com/questions/39004068/perl-regex-expand-variable-and-die-if-file-does-not-exist/39004509#39004509", "title": "Perl regex expand variable and die if file does not exist", "body": "<p>Perl variables aren't the same as shell variables. To pass values to the script, you can use paramteres, but then you need to stop processing the input on the first <a href=\"http://p3rl.org/eof\" rel=\"nofollow\">eof</a>, otherwise Perl would treat the parameters as filenames, too:</p>\n\n<pre><code>perl -i -0777 -ne 'BEGIN { ($file, $repo, $new) = @ARGV;\n                           die \"$file missing\\n\" unless -f $file;\n                   }\n                   s/^\\Q$repo:\\E.+$/$new/gm;\n                   print;\n                   last if eof;\n                  ' -- .HEAD \"$repo\" \"$newrepo\"\n</code></pre>\n\n<p>Or, open the file yourself:</p>\n\n<pre><code>if perl -0777 -e '($file, $repo, $new) = @ARGV;\n                  open $FH, \"&lt;\", $file or die \"$file: $!\";\n                  while (&lt;$FH&gt;) {\n                      s/^\\Q$repo:\\E.+$/$new/gm;\n                      print;\n                  }' -- .HEAD \"$repo\" \"$newrepo\" &gt; newfile\nthen\n   mv newfile .HEAD\nfi\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1471541044, "last_edit_date": 1471541044, "creation_date": 1471461310, "answer_id": 39004563, "question_id": 39004068, "link": "https://stackoverflow.com/questions/39004068/perl-regex-expand-variable-and-die-if-file-does-not-exist/39004563#39004563", "title": "Perl regex expand variable and die if file does not exist", "body": "<p>Don't (try to) generate Perl code in a shell script!!!</p>\n\n<pre><code>perl -i -pe'\n   BEGIN {\n      $repo    = shift(@ARGV);\n      $newrepo = shift(@ARGV);\n\n      open(my $fh, '&lt;', $ARGV[0])\n         or die(\"Can't open $ARGV[0]: $!\\n\");\n   }\n   s|^\\Q$repo:\\E.+$|$newrepo|g;\n' \"$repo\" \"$newrepo\" .HEAD\n</code></pre>\n\n<p>or</p>\n\n<pre><code>export repo\nexport newrepo\nperl -i -pe'\n   BEGIN {\n      open(my $fh, '&lt;', $ARGV[0])\n         or die(\"Can't open $ARGV[0]: $!\\n\");\n   }\n   s|^\\Q$ENV{repo}:\\E.+$|$ENV{newrepo}|g;\n' .HEAD\n</code></pre>\n\n<p>or</p>\n\n<pre><code>repo=\"$repo\" newrepo=\"$newrepo\" perl -i -pe'\n   BEGIN {\n      open(my $fh, '&lt;', $ARGV[0])\n         or die(\"Can't open $ARGV[0]: $!\\n\");\n   }\n   s|^\\Q$ENV{repo}:\\E.+$|$ENV{newrepo}|g;\n' .HEAD\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li><p>The file can exist even if <code>-f</code> returns false. The actual error is in <code>$!</code>. Using <code>open</code> is even more accurate at checking if the file can be opened than <code>-f</code>.</p></li>\n<li><p>I added line breaks added for readability. Remove them if you want, but there's no need to do so.</p></li>\n<li><p>I removed the useless <code>-0777</code>, and the <code>/m</code> that became useless as a result.</p></li>\n</ul>\n"}], "owner": {"reputation": 630, "user_id": 3470556, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xCv2i.jpg?s=128&g=1", "display_name": "Filip Stefanov", "link": "https://stackoverflow.com/users/3470556/filip-stefanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 39004563, "answer_count": 2, "score": 0, "last_activity_date": 1471541044, "creation_date": 1471459272, "question_id": 39004068, "link": "https://stackoverflow.com/questions/39004068/perl-regex-expand-variable-and-die-if-file-does-not-exist", "title": "Perl regex expand variable and die if file does not exist", "body": "<p>i Found this line:</p>\n\n<pre><code>perl -p -i -e 'BEGIN{ -f $ARGV[0] or die\"no file\" } s/foo/bar/'\nnon-existent-file.txt\n</code></pre>\n\n<p>And i would like to make it work for my case. Expand variables inside the substitution but im not familiar with Perl syntax at all :)</p>\n\n<pre><code>perl -i -0777 -pe 'BEGIN{ -f $ARGV[0] or die\".HEAD file is missing\" }'\n\"s|^\\\\Q${repo}:\\\\E.+$|${newrepo}|gm\" .HEAD;\n</code></pre>\n\n<p>.HEAD file is missing at -e line 1.\nBEGIN failed--compilation aborted at -e line 1.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1471457231, "post_id": 39003435, "comment_id": 65358602, "body": "If <code>foo</code> exists anywhere in the entire file? Or does <code>foo</code> have to come before <code>bar</code>?"}, {"owner": {"reputation": 119, "user_id": 6539489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e5feca270f5f7a6ed4f0a1e35a8ebeb?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/6539489/gary"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1471458007, "post_id": 39003435, "comment_id": 65359043, "body": "in this case it should be before."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1471458791, "post_id": 39003435, "comment_id": 65359485, "body": "without change the code structure a lot, you could use the flip-flop operator. I&#39;m not sure about the readability though : <code>s&#47;bar&#47;soap&#47; if &#47;foo&#47; .. 0</code>"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 6539489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e5feca270f5f7a6ed4f0a1e35a8ebeb?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/6539489/gary"}, "edited": false, "score": 0, "creation_date": 1471458554, "post_id": 39003538, "comment_id": 65359343, "body": "If I were to add a capture group within this line      $flag = 1 if $line =~ /(fo)o/;  would I be able to store that capture group into a variable?  EDIT: NVM I found out if I just add AND $variable = $1 at the end of that line it works just fine."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 119, "user_id": 6539489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e5feca270f5f7a6ed4f0a1e35a8ebeb?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/6539489/gary"}, "edited": false, "score": 0, "creation_date": 1471458686, "post_id": 39003538, "comment_id": 65359428, "body": "@Gary like <code>($group, $flag) = ($1, 1) if $line =~ &#47;(fo)o&#47;</code> for instance."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 119, "user_id": 6539489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e5feca270f5f7a6ed4f0a1e35a8ebeb?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/6539489/gary"}, "edited": false, "score": 0, "creation_date": 1471459061, "post_id": 39003538, "comment_id": 65359649, "body": "@Gary note that adding <code>and $variable = $1</code> at the end will not work if <code>$1</code> is a falsy value (<code>0</code> for instance)."}, {"owner": {"reputation": 119, "user_id": 6539489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e5feca270f5f7a6ed4f0a1e35a8ebeb?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/6539489/gary"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1471459251, "post_id": 39003538, "comment_id": 65359742, "body": "@Dada thank you I will make note of that for the future!"}], "tags": [], "owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "is_accepted": true, "score": 5, "last_activity_date": 1471457271, "creation_date": 1471457271, "answer_id": 39003538, "question_id": 39003435, "link": "https://stackoverflow.com/questions/39003435/if-use-a-regex-expression-to-match-a-string-can-i-substitute-another-line/39003538#39003538", "title": "If use a regex expression to match a string. Can I substitute another line?", "body": "<p>When your <code>if</code> statement matches, the value of <code>$_</code> has not yet changed.  The line that <code>m//</code> has matched against is the same line that you are attempting to have <code>s///</code> search-and-replace.  Instead you need to set a flag that you can later check, once the new line has been hit:</p>\n\n<pre><code>open my $fh, '&lt;', $filename or die \"Cannot open $filename: $!\\n\";\nmy $flag = 0;\nwhile (my $line = &lt;$fh&gt;) {\n   $flag = 1 if $line =~ /foo/;\n   $line =~ s/bar/soap/ if $flag;\n}\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 6539489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e5feca270f5f7a6ed4f0a1e35a8ebeb?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/6539489/gary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 39003538, "answer_count": 1, "score": 0, "last_activity_date": 1471459016, "creation_date": 1471456912, "last_edit_date": 1471459016, "question_id": 39003435, "link": "https://stackoverflow.com/questions/39003435/if-use-a-regex-expression-to-match-a-string-can-i-substitute-another-line", "title": "If use a regex expression to match a string. Can I substitute another line?", "body": "<p>If I use a regex expression to match a string, can I change a string in a different line? Basically, if <code>foo</code> exists, I want to change <code>bar</code> to <code>soap</code>. <code>bar</code> appears on a different line in a text file. <code>foo</code>, if present, will always appear before <code>bar</code>.</p>\n\n<pre><code>while (&lt;FILE&gt;) {\n   if (m/foo/){\n       s/bar/soap/;\n   }\n}\n</code></pre>\n\n<p>Data file:</p>\n\n<pre><code>foo\nfood\nred\nbar\nblue\n</code></pre>\n"}, {"tags": ["javascript", "html", "perl", "text", "utf-8"], "comments": [{"owner": {"reputation": 382, "user_id": 6697953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11281694c81a33ba82772a33aed5b666?s=128&d=identicon&r=PG&f=1", "display_name": "Cory J.", "link": "https://stackoverflow.com/users/6697953/cory-j"}, "edited": false, "score": 1, "creation_date": 1471452118, "post_id": 39002046, "comment_id": 65355829, "body": "Can you give an example of what you&#39;re expecting and what you&#39;re getting?"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1471508454, "creation_date": 1471508454, "answer_id": 39013185, "question_id": 39002046, "link": "https://stackoverflow.com/questions/39002046/how-do-i-represent-other-languages-in-javascript/39013185#39013185", "title": "How do I represent other languages in javascript?", "body": "<p>Your Perl program sends the data not utf-8 encoded. If you look at the header, you'll see that it's Latin-1 (ISO-8859-1).</p>\n\n<pre><code>HTTP/1.1 200 OK\nDate: Thu, 18 Aug 2016 08:14:27 GMT\nServer: Apache/2.2.15 (CentOS)\nConnection: close\nTransfer-Encoding: chunked\nContent-Type: text/html; charset=ISO-8859-1\n</code></pre>\n\n<p>I don't know how you create that output. If it's <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod\" rel=\"nofollow\">CGI.pm</a>, you just need to change your header to include the correct encoding string. It might look something like this.</p>\n\n<pre><code>print $cgi-&gt;header(\n    -type       =&gt; 'text/html',\n    -charset    =&gt; 'utf-8',\n);\n</code></pre>\n\n<hr>\n\n<p>You also do not send a complete HTML document. Your document structure is like this.</p>\n\n<pre><code>&lt;h3&gt;\n...\n&lt;/h3&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>There is stuff missing. That's not related to the problem, but it could give you other problems. If all you want to do is get text, consider switching your response to <code>text/plain</code> and remove the HTML entirely, or just use <code>application/json</code> and wrap it in a JSON object.</p>\n"}], "owner": {"reputation": 77, "user_id": 6243652, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fbd3a0406745ebd636e318a41762375?s=128&d=identicon&r=PG&f=1", "display_name": "Sleepz", "link": "https://stackoverflow.com/users/6243652/sleepz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1471508454, "creation_date": 1471452009, "last_edit_date": 1471507860, "question_id": 39002046, "link": "https://stackoverflow.com/questions/39002046/how-do-i-represent-other-languages-in-javascript", "title": "How do I represent other languages in javascript?", "body": "<p>I have tried to represent text in the website. </p>\n\n<p>However, that text is pulled from the HTML results returned by the Perl. So it is already in UTF-8. The English text shows up just fine but, Thai text doesn't show up right.</p>\n\n<p>This is the Thai text that I stored in the database</p>\n\n<p><a href=\"http://windu.cpe.kmutt.ac.th/cgi-bin/Devel/SeniorProjectAssistant.pl?action=getabstract&amp;projectid=88&amp;english_flag=false&amp;projectyear=2559\" rel=\"nofollow noreferrer\">http://windu.cpe.kmutt.ac.th/cgi-bin/Devel/SeniorProjectAssistant.pl?action=getabstract&amp;projectid=88&amp;english_flag=false&amp;projectyear=2559</a></p>\n\n<p>Set the encoding to UTF-8 and you will see Thai text in the correctly rendered.</p>\n\n<p>but the output I got is not as I expect</p>\n\n<p><a href=\"https://i.stack.imgur.com/okAKx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/okAKx.png\" alt=\"Click here to see the output\"></a></p>\n\n<p>As you can see the English text is correct, but the Thai text is not.</p>\n\n<p>This is the code that I use to pull data from database;</p>\n\n<pre><code>function getAbstract_API(projectYear,projectId,english_flag,successfunction, errorfunction)\n{\nvar requestString = url + \"?action=getabstract&amp;projectyear=\" + projectYear;\nrequestString += \"&amp;projectid=\" + projectId + \"&amp;english_flag=\" + english_flag;\nvar request = new XMLHttpRequest();\nrequest.open(\"Get\",requestString);\nrequest.send(null);\n// Register a handler to take care of the data on return\nrequest.onreadystatechange = function()\n    {\n    if (request.readyState == 4)\n        {           \n        if (request.status == 200) \n            {\n            // If we get here, we got a complete valid HTTP response\n            var response = request.responseText;\n            var errorpattern = /\\w*ERROR/;\n            if (response.match(errorpattern))\n                {\n                var errcode = extractErrorCode(response);\n                var messagedetail = getMessageDetail(errcode);\n                showI18NAlert(messagedetail);\n                if (errorfunction)\n                    errorfunction();\n                return false;\n                }\n            alert(response);\n\n            if (successfunction)\n                successfunction();\n            }\n        else\n            {\n            showI18NAlert('requesterror_msg');\n            }\n        } \n    } \n}\n</code></pre>\n\n<p>I use <code>alert(response)</code> to check the result and the English is fine, Thai is not. So I assume it must be some mistake in this step.</p>\n\n<p>Anybody have any idea how to deal with this situation?</p>\n"}, {"tags": ["arrays", "perl", "multidimensional-array", "hash"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471448532, "post_id": 39000933, "comment_id": 65353693, "body": "Which one is line 1000?"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1471448747, "post_id": 39000933, "comment_id": 65353844, "body": "<code>$foo_bar</code> is a hashref, not an arrayref"}, {"owner": {"reputation": 109, "user_id": 5883596, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/nFnIg.jpg?s=128&g=1", "display_name": "robertwojnar", "link": "https://stackoverflow.com/users/5883596/robertwojnar"}, "edited": false, "score": 0, "creation_date": 1471448759, "post_id": 39000933, "comment_id": 65353855, "body": "That&#39;s a good question.. there is no 1000 line in the scirpt. 417 line is: <code>foreach my $fb(@$foo_bar){</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471448826, "post_id": 39000933, "comment_id": 65353892, "body": "Ah, I didn&#39;t see the 417. It&#39;s probably because you have an open filehandle. If so, don&#39;t use global filehandles (<code>INFILE</code>). Use lexical filehandles (<code>$fh</code>) instead."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 4, "creation_date": 1471448991, "post_id": 39000933, "comment_id": 65353997, "body": "<code>$foo_bar-&gt;{&quot;foo&quot;} &#47;&#47;= [];</code> lines are not needed. Perl autovivifies the structures when needed (and sometimes when not)."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1471450268, "post_id": 39001059, "comment_id": 65354776, "body": "@robertwojnar note that this will get the keys in arbitrary order; if you want foo first, then bar, you need to explictly do that: <code>foreach my $key ( &#39;foo&#39;, &#39;bar&#39; )</code> or keep the desired order in a separate array"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1471452265, "post_id": 39001059, "comment_id": 65355902, "body": "I think ysth meant if you need them in a <i>specific</i> order."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 6, "last_activity_date": 1471449083, "last_edit_date": 1471449083, "creation_date": 1471448761, "answer_id": 39001059, "question_id": 39000933, "link": "https://stackoverflow.com/questions/39000933/print-multidimensional-array-in-perl-with-keys/39001059#39001059", "title": "Print multidimensional array in Perl, with keys", "body": "<p>You need to iterate <code>$foo_bar</code> as a hash ref, not as an array ref. And because it's a hash, you need to get the keys first and then work with them.</p>\n\n<pre><code>use feature 'say';\n\n#                 | you only iterate the keys ...\n#                 |    | this percent is for hash  \n#                 V    V     \nforeach my $key ( keys %{ $foo_bar } ) {\n\n    #    | ... and use the key here \n    #    |                   | this one is an array ref\n    #    |                   |  | ... and the value here\n    #    |                   |  |\n    #    V                   V  VVVVVVVVVVVVVVVV\n    say \"$key \", join( ', ', @{ $foo_bar-&gt;{$key} } );\n}\n</code></pre>\n\n<p>It helps to use <a href=\"http://p3rl.org/Data::Dumper\" rel=\"nofollow\">Data::Dumper</a> or <a href=\"http://p3rl.org/Data::Printer\" rel=\"nofollow\">Data::Printer</a> to look at your data structure. This one is Data::Printer, which is good for human consumption.</p>\n\n<pre><code> \\ {                  # curly braces are hash refs\n    bar   [           # square braces are array refs   \n        [0] \"bar1\",\n        [1] \"bar2\",\n        [2] \"bar3\"\n    ],\n    foo   [\n        [0] \"foo1\",\n        [1] \"foo2\",\n        [2] \"foo3\"\n    ]\n}\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 5883596, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/nFnIg.jpg?s=128&g=1", "display_name": "robertwojnar", "link": "https://stackoverflow.com/users/5883596/robertwojnar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 1, "accepted_answer_id": 39001059, "answer_count": 1, "score": 1, "last_activity_date": 1471449083, "creation_date": 1471448369, "question_id": 39000933, "link": "https://stackoverflow.com/questions/39000933/print-multidimensional-array-in-perl-with-keys", "title": "Print multidimensional array in Perl, with keys", "body": "<p>I have this kind of array in Perl:</p>\n\n<pre><code>my $foo_bar;\n\n$foo_bar-&gt;{\"foo\"} //= [];\npush @{$foo_bar-&gt;{\"foo\"}}, \"foo1\";\npush @{$foo_bar-&gt;{\"foo\"}}, \"foo2\";\npush @{$foo_bar-&gt;{\"foo\"}}, \"foo3\";\n\n$foo_bar-&gt;{\"bar\"} //= [];\npush @{$foo_bar-&gt;{\"bar\"}}, \"bar1\";\npush @{$foo_bar-&gt;{\"bar\"}}, \"bar2\";\npush @{$foo_bar-&gt;{\"bar\"}}, \"bar3\";\n</code></pre>\n\n<p>The result I'm trying to get is:</p>\n\n<ul>\n<li>foo: foo1, foo2, foo3  </li>\n<li>bar: bar1, bar2, bar3</li>\n</ul>\n\n<p>I have no idea.. I'm trying this:</p>\n\n<pre><code>  foreach my $fb(@$foo_bar){\n\n  }\n</code></pre>\n\n<p>I'm getting an error:</p>\n\n<blockquote>\n  <p>Not an ARRAY reference at ./test.pl line 417,  line 1000.</p>\n</blockquote>\n"}, {"tags": ["perl", "formatting"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471443338, "post_id": 38998985, "comment_id": 65349880, "body": "The output is for the screen, not for a CSV reader?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471443428, "post_id": 38998985, "comment_id": 65349955, "body": "@simbabque Finally, I need to put it into excel."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471443461, "post_id": 38998985, "comment_id": 65349996, "body": "Is the example output complete?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471443511, "post_id": 38998985, "comment_id": 65350039, "body": "Yeah, I believe so. Tell me if you have any confusion?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471444340, "post_id": 38998985, "comment_id": 65350777, "body": "Will all arrays under P always have two and all arrays under Q always have one element?"}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471444519, "post_id": 38998985, "comment_id": 65350904, "body": "No, it is dynamic."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471444596, "post_id": 38998985, "comment_id": 65350965, "body": "I meant, can this happen: <code>( &#39;F&#39; =&gt; { 1 =&gt; [ &#39;foo&#39;], 2 =&gt; [ &#39;foo&#39;, &#39;bar&#39; ] } )</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471446058, "post_id": 38998985, "comment_id": 65352012, "body": "You should include the Excel part in the question, and remove the time constraint. It sounds like a <i>do my job for me</i> kind of question like that."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471446292, "post_id": 38998985, "comment_id": 65352183, "body": "Thanks @simbabque for your suggestion and the answer. I will update you once I test it."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471445675, "post_id": 38999694, "comment_id": 65351744, "body": "I don&#39;t get how this is supposed to be used. Please <a href=\"https://stackoverflow.com/posts/38999694/edit\">edit</a> and include a full working example."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1471448115, "post_id": 38999694, "comment_id": 65353408, "body": "You&#39;re now missing a right curly, and once it&#39;s added it will output hashrefs in the form of <code>Q       ARRAY(0x1cc0b20)\\nARRAY(0x1cc09a0)</code>"}], "tags": [], "owner": {"reputation": 351, "user_id": 6704546, "user_type": "registered", "profile_image": "https://graph.facebook.com/1046640955443620/picture?type=large", "display_name": "Emilio Pastor Mira", "link": "https://stackoverflow.com/users/6704546/emilio-pastor-mira"}, "is_accepted": false, "score": 0, "last_activity_date": 1471458576, "last_edit_date": 1471458576, "creation_date": 1471444763, "answer_id": 38999694, "question_id": 38998985, "link": "https://stackoverflow.com/questions/38998985/perl-formatting-output-into-tabular-form-from-complex-hash/38999694#38999694", "title": "Perl: Formatting output into tabular form from complex hash", "body": "<p>Why don't your try:</p>\n\n<pre><code>my %seen;\nmy @headers = sort { $a &lt;=&gt; $b } grep {!$seen{$_}++} map{ keys %{$hash{$_}} }keys %hash;\n\nprintf(\"%-25s\", \"node\");\n\nforeach my $node (@headers)\n{\n    printf(\"%-25s\", $node);\n}\nprint \"\\n\";\n\n\nforeach my $node (keys %hash) {\n\n    printf \"%-25s\", $node;\n    foreach my $num (@headers)\n    {   \n    if(defined($hash{$node}{$num}))\n    {\n        my $string = join(\" \", @{$hash{$node}{$num}});      \n        printf \"%-25s\", $string ;\n    }\n    else\n    {\n            printf \"%-25s\", \" \" ;\n    }      \n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>@simbabque thanks for the comments</p>\n\n<p>This version has been debugged and tested</p>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1471445955, "last_edit_date": 1471445955, "creation_date": 1471445613, "answer_id": 38999990, "question_id": 38998985, "link": "https://stackoverflow.com/questions/38998985/perl-formatting-output-into-tabular-form-from-complex-hash/38999990#38999990", "title": "Perl: Formatting output into tabular form from complex hash", "body": "<p>I've done it with an Excel file directly because I think it's easier to work with rows and cols and target individual fields than messing with output directly.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse Excel::Writer::XLSX;\n\nmy %hash = (\n    'P' =&gt; {\n        '4' =&gt; [ '1/4/1 2', '1/4/1 3' ],\n        '2' =&gt; [ '1/2/1 1', '1/2/5 4' ]\n    },\n    'Q' =&gt; {\n        '4' =&gt; ['1/4/1 3'],\n        '3' =&gt; ['1/3/1 1'],\n        '5' =&gt; ['1/5/1 1']\n    },\n);\nmy %seen;\nmy @headers = sort { $a &lt;=&gt; $b } \n    grep { !$seen{$_}++ } \n    map { keys %{ $hash{$_} } } \n    keys %hash;\n\n# count how many rows each node has\nmy %number_of_rows;\nforeach my $node ( keys %hash ) {\nCOUNT_ROWS: foreach my $header ( keys %{ $hash{$node} } ) {\n        $number_of_rows{$node} = scalar @{ $hash{$node}-&gt;{$header} };\n        last COUNT_ROWS;\n    }\n}\n\nmy $workbook  = Excel::Writer::XLSX-&gt;new('test.xlsx');\nmy $worksheet = $workbook-&gt;add_worksheet;\n\n# write the headers and save the cols\nmy %col_headings;\n$worksheet-&gt;write( 0, 0, 'Node' );\nfor ( my $i = 0; $i &lt;= $#headers; $i++ ) {\n    $col_headings{ $headers[$i] } = $i + 1;\n    $worksheet-&gt;write( 0, $i + 1, $headers[$i] );\n}\n\nmy $row      = 1; # overall row in the Excel file\nmy $node_row = 0; # current row for the current node\nNODE: foreach my $node ( sort keys %hash ) {\n\n    # write the node value (letter P, Q)\n    $worksheet-&gt;write( $row, 0, $node );\n\n    # iterate the columns ...\n    foreach my $header (@headers) {\n        # ... but only write one that has a value\n        $worksheet-&gt;write( \n            $row, \n            $col_headings{$header}, \n            $hash{$node}-&gt;{$header}-&gt;[$node_row] \n        ) if exists $hash{$node}-&gt;{$header};\n    }\n\n    $row++; # always go to a new row\n\n    if ( ++$node_row &lt; $number_of_rows{$node} ) {\n        # but if we have not done all the rows for the current node,\n        # redo this node in a new row with the next node_row\n        redo NODE;\n    }\n    else {\n        # or reset the node_row\n        $node_row = 0;\n    }\n}\n</code></pre>\n\n<p>This will use your code to find all the headers. It assigns which header has which column, and counts the rows per node. It then iterates the nodes, using <a href=\"http://perldoc.perl.org/functions/redo.html\" rel=\"nofollow noreferrer\"><code>redo</code></a> to keep going with one node until all the rows of that node have been exhausted. It does that by keeping a counter of the current node-row that gets incremented. At the same time we always increment the overall row counter so it moves down in the table.</p>\n\n<p>Here is what it looks like.</p>\n\n<p><a href=\"https://i.stack.imgur.com/xhQY0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xhQY0.png\" alt=\"screenshot of open office\"></a></p>\n\n<p>The code is a bit messy, but it gets the job done. It looks like this is a run-once-and-forget kind of task anyway.</p>\n"}], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 1, "accepted_answer_id": 38999990, "answer_count": 2, "score": -3, "last_activity_date": 1471458576, "creation_date": 1471442803, "last_edit_date": 1471446208, "question_id": 38998985, "link": "https://stackoverflow.com/questions/38998985/perl-formatting-output-into-tabular-form-from-complex-hash", "title": "Perl: Formatting output into tabular form from complex hash", "body": "<p>I have a structure Like below.   </p>\n\n<pre><code>my %hash = (\n          'P' =&gt; {\n                   '4' =&gt; [\n                            '1/4/1 2',\n                            '1/4/1 3'\n                          ],\n                   '2' =&gt; [\n                            '1/2/1 1',\n                            '1/2/5 4'\n                          ]\n                 },\n          'Q' =&gt; {\n                    '4' =&gt; [\n                             '1/4/1 3'     \n                           ],\n                    '3' =&gt; [\n                             '1/3/1 1'\n                           ],\n                    '5' =&gt; [\n                             '1/5/1 1'\n                           ]   \n                  },\n       );\n</code></pre>\n\n<p>I want to format it like.</p>\n\n<pre><code>Node                     2           3           4             5\n\nP                        1/2/1 1                  1/4/1 2         \nP                        1/2/5 4                  1/4/1 3\nQ                                    1/3/1 1      1/4/1 3      1/5/1 1\n</code></pre>\n\n<p>I am currently trying for it. Finally, I need to put it into excel. I guess something like this may work with some tweaks.</p>\n\n<pre><code>my %seen;\nmy @headers = sort { $a &lt;=&gt; $b } grep {!$seen{$_}++} map{ keys %{$hash{$_}} }keys %hash;\nprint \"node\", ' ' x 30, join(\" \" x 10, @headers),\"\\n\";\n\nforeach my $node (keys %hash) {\n    my @values;\n    foreach my $num (keys %{$hash{$node}}) {\n        foreach my $klm (@{$hash{$node}{$num}}) {\n           push (@values,$klm);\n        }\n    }\n    foreach my $i (0 .. $#values) {\n        print \"$node  $values[$i]\\n\";\n    }\n}\n</code></pre>\n\n<p>Further suggestions are appreciated.</p>\n"}, {"tags": ["c#", "perl", "hash", "persistence"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1471463225, "post_id": 38996228, "comment_id": 65361771, "body": "See: <a href=\"https://github.com/davidar/sdbm\" rel=\"nofollow noreferrer\">github.com/davidar/sdbm</a> &amp; <a href=\"https://msdn.microsoft.com/en-us/library/aa719104(v=vs.71).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/aa719104(v=vs.71).aspx</a>  &amp; <a href=\"https://msdn.microsoft.com/en-us/library/aa288468(v=vs.71).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/aa288468(v=vs.71).aspx</a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1471436595, "creation_date": 1471436595, "answer_id": 38996561, "question_id": 38996228, "link": "https://stackoverflow.com/questions/38996228/access-sdbm-files-in-c/38996561#38996561", "title": "access SDBM files in C#", "body": "<p>It is very straightforward to embed a Perl interpreter into a C program which will let you code the hash access in Perl. I assume the same will be possible in C#</p>\n\n<p>It will increase the size of your executable, but shouldn't make it significantly slower once the Perl code has been compiled</p>\n\n<p>Take a look at <a href=\"http://perldoc.perl.org/perlembed.html\" rel=\"nofollow\"><strong>perlembed</strong></a> for details. Also look at <a href=\"http://www.perlmonks.org/?node_id=530344\" rel=\"nofollow\"><em>Perl in C#</em></a> on <strong>perlmonks.org</strong> for more help on the C# side of things</p>\n"}], "owner": {"reputation": 293, "user_id": 6212907, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/CxA43.jpg?s=128&g=1", "display_name": "Andr&#233;", "link": "https://stackoverflow.com/users/6212907/andr%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1471436595, "creation_date": 1471435676, "last_edit_date": 1471436074, "question_id": 38996228, "link": "https://stackoverflow.com/questions/38996228/access-sdbm-files-in-c", "title": "access SDBM files in C#", "body": "<p>I'm used to use SDBM files in Perl to persistently store hashes. In Perl this is easy:</p>\n\n<pre><code>my %hash;\ntie (%hash, 'SDBM_File', \"filename\", O_RDWR|O_CREAT, 0666);\n</code></pre>\n\n<p>(<a href=\"http://perldoc.perl.org/SDBM_File.html\" rel=\"nofollow\">http://perldoc.perl.org/SDBM_File.html</a>)</p>\n\n<p>This connects the hash with the two files \"filename.dir\" and \"filename.pag\". Any changes made to the content of the hash is then persistently stored to these files.</p>\n\n<p>I'd like to access (read and write) these existing files using C#, but found no solution yet. Any ideas?</p>\n"}, {"tags": ["perl", "ssl", "x509", "pem"], "answers": [{"tags": [], "owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "is_accepted": false, "score": 2, "last_activity_date": 1471427446, "last_edit_date": 1495540294, "creation_date": 1471423080, "answer_id": 38991829, "question_id": 38991171, "link": "https://stackoverflow.com/questions/38991171/extract-data-from-certificate-with-perl-cryptx509/38991829#38991829", "title": "Extract data from certificate with perl Crypt::X509", "body": "<p>You should not need to open a base64 encoded file in binary mode, as it is already 8-bit clean. However a DER file is binary, and so the use of <code>binmode()</code> is correct in that instance.</p>\n\n<p>The problem, I think, is that the certificate you are trying to\nparse is actually in PEM format and not DER format. If you look at Stephan's <a href=\"https://stackoverflow.com/a/38991864/791908\">answer</a>, he details the difference (mainly that a DER is the base64 decoded variant of the PEM, after removing the PEM header/footer).</p>\n\n<p>If you have access to openssl, you can convert it from PEM to DER with the command:</p>\n\n<pre><code>openssl x509 -inform PEM -outform DER -in cert.pem -out cert.der\n</code></pre>\n\n<p>(where <code>cert.pem</code> is the name of your input certificate).</p>\n\n<p>You should then be able to use that with Crypt::X509.</p>\n\n<p>If I attempt to parse a PEM format file, or base64 decode it and parse it, I get the same error:</p>\n\n<pre><code>Failed to parse cert: decode error 04&lt;=&gt;30 0 8  at /usr/local/share/perl5/Convert/ASN1/_decode.pm line 113.\n</code></pre>\n\n<p>However if I use the DER version, it works correctly:</p>\n\n<pre><code>use warnings 'all';\nuse strict;\n\nuse Crypt::X509;\n\nmy $file = 'cert.der';\nmy $size = (stat $file)[7];\n\nmy $cert;\nopen(my $fh, '&lt;', $file) or die \"failed to open cert: $!\";\nbinmode($fh);\nread $fh, $cert, $size;\nclose($fh);\n\nmy $x509 = Crypt::X509-&gt;new(cert =&gt; $cert);\nif($x509-&gt;error) {\n    die \"Failed to parse cert: \" . $x509-&gt;error;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 2, "last_activity_date": 1471423210, "creation_date": 1471423210, "answer_id": 38991864, "question_id": 38991171, "link": "https://stackoverflow.com/questions/38991171/extract-data-from-certificate-with-perl-cryptx509/38991864#38991864", "title": "Extract data from certificate with perl Crypt::X509", "body": "<p>When converting the certificate from PEM to DER using MIME::Base64::decode you need to remove the PEM header and trailer, i.e. instead of decoding</p>\n\n<pre><code>-----BEGIN CERTIFICATE-----\nMIICVTCCAbegAwIBAgIELwBe7DAKBggqhkjOPQQDAjAaMRgwFgYDVQQDDA9mb28u\n....\n-----END CERTIFICATE-----\n</code></pre>\n\n<p>you should decode only the base64 part:</p>\n\n<pre><code>MIICVTCCAbegAwIBAgIELwBe7DAKBggqhkjOPQQDAjAaMRgwFgYDVQQDDA9mb28u\n....\n</code></pre>\n\n<p>Since <code>-----BEGIN CERTIFICATE-----</code> etc contain valid base64 characters they will be used for decoding and the invalid characters silently ignored.</p>\n"}], "owner": {"reputation": 75, "user_id": 2728557, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1341512409/picture?type=large", "display_name": "En Lora Ilieva", "link": "https://stackoverflow.com/users/2728557/en-lora-ilieva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1794, "favorite_count": 0, "accepted_answer_id": 38991864, "answer_count": 2, "score": 1, "last_activity_date": 1471427446, "creation_date": 1471420966, "last_edit_date": 1471422756, "question_id": 38991171, "link": "https://stackoverflow.com/questions/38991171/extract-data-from-certificate-with-perl-cryptx509", "title": "Extract data from certificate with perl Crypt::X509", "body": "<p>I'm trying to extract the data from a .pem certificate with the Crypt::X509 library, but I get an error in object construction.\nHere is what I'm doing:\n1. Read the .pem file's content: </p>\n\n<pre><code>my ($dev,$ino,$mode,$nlink,$uid,$gid,$rdev,$size,\n   $atime,$mtime,$ctime,$blksize,$blocks) = stat $s_filename;\nopen FILE, \"&lt;$s_filename\" or die \"no such file\";\nbinmode FILE;\nmy $pem_cert;\nread FILE, $pem_cert, $size;\nclose FILE; \n</code></pre>\n\n<p>2. Decode the content from base64 to receive the DER formatted content. This is done because the CPAN documentation of the Crypt::X509 library states that it needs to be passed:</p>\n\n<blockquote>\n  <p>A variable containing the DER formatted certificate to be parsed</p>\n</blockquote>\n\n<pre><code>my $der = MIME::Base64::decode($pem_cert);\n</code></pre>\n\n<ol start=\"3\">\n<li>Call the Crypt::X509 constructor and check for errors:</li>\n</ol>\n\n<p><code>my $oref_x509= Crypt::X509-&gt;new(cert=&gt;$der);\nif ( $oref_x509-&gt;error ) {\n   warn \"Error on parsing certificate: \",\n   $oref_x509-&gt;error;\n}</code></p>\n\n<p>I get the following error:</p>\n\n<pre><code>Error on parsing certificate: decode error 04&lt;=&gt;30 0 8  at ..&lt;path&gt;../Convert/ASN1/_decode.pm line 113.  \n</code></pre>\n\n<p>I've tried with other certificate, but the error is the same.</p>\n"}, {"tags": ["perl", "buffer", "file-handling"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1471420167, "post_id": 38990524, "comment_id": 65333814, "body": "How long a line are we talking here? I don&#39;t think there&#39;s any particular reason why &#39;buffer&#39; size is particularly problematic though - I&#39;ve used this construct with a record separator - quite a few &#39;lines&#39; long - and it works just fine. Are you sure it&#39;s the &#39;while&#39; loop that&#39;s slowing you down?"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1471420799, "post_id": 38990524, "comment_id": 65334194, "body": "@Sobrique I&#39;m not sure, but when I ran this code on a file with much shorter lines, it worked it magic and finished running really fast. The lines are very long. Think of it as if you had a large text file all packed into one or two lines (I don&#39;t have any control over these files&#39; format)."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1471421106, "post_id": 38990524, "comment_id": 65334374, "body": "But you do have the ability to set <code>$&#47;</code> - record separator. Is there anything appropriate you can &#39;split&#39; the line up on?"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1471421262, "post_id": 38990524, "comment_id": 65334442, "body": "Sadly, no. Thought of that, but have no distinguishable separator."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1471421570, "post_id": 38990524, "comment_id": 65334634, "body": "Well, you can also set <code>$&#47;</code> to a numeric value for a number of bytes to read."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1471421730, "post_id": 38990524, "comment_id": 65334730, "body": "You can go to a lower level than <code>readline</code> (<code>&lt;&gt;</code>) and use <code>read</code>.  The <a href=\"http://search.cpan.org/~smueller/File-Stream-2.30/lib/File/Stream.pm\" rel=\"nofollow noreferrer\"><code>File::Stream</code></a> may help as well."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1471423495, "post_id": 38990524, "comment_id": 65335796, "body": "@zdim I didn&#39;t know <code>File::Stream</code>, you solved a future problem of mine. Thanks!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1471431513, "post_id": 38990524, "comment_id": 65341155, "body": "@yonyon100: Please give us some idea of the length of the &quot;very long lines&quot; and the total size of the file."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1471434105, "post_id": 38990524, "comment_id": 65342913, "body": "For example, a file of 20MB with one line in it."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1471443674, "post_id": 38990524, "comment_id": 65350186, "body": "20MB is not very large. It takes a fraction of a second to read a line that size on my system, so there&#39;s almost certainly something else causing your performance issue. You should use a profiler like <a href=\"https://metacpan.org/pod/Devel::NYTProf\" rel=\"nofollow noreferrer\">Devel::NYTProf</a> instead of guessing about the cause."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1471443903, "post_id": 38990524, "comment_id": 65350380, "body": "Unfortunately, this module is not installed on the system I&#39;m working on and getting the sysadmin to install it will take more time than I can waste, but thanks for the hint :)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1471445532, "post_id": 38990524, "comment_id": 65351658, "body": "@yonyon100 You don&#39;t need root access/admin privileges to install modules."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471446252, "post_id": 38990524, "comment_id": 65352151, "body": "Reading 20MB of data will take around 200ms regardless of the buffer size. If your code is taking significantly over a second to run then it is the processing that is taking the time. I think you should show us the contents of the <code>while</code> loop that you say is &quot;not heavy&quot;. If you have regular expressions in there then it is easy to write something that looks simple but suffers from <i>catastrophic backtracking</i> and will take a disproportionately long time for what it does."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1471447065, "post_id": 38990524, "comment_id": 65352742, "body": "@ThisSuitIsBlackNot I know, but let&#39;s just say that in the place I work they would not like that so much. @Borodin it&#39;s just <code>split</code>s, <code>join</code>s and no regex. Something very simple."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1471448633, "post_id": 38990524, "comment_id": 65353763, "body": "If it&#39;s &quot;very simple&quot; then there&#39;s no harm in showing it. Simplify it if you must, but it&#39;s important - or comment it all out, and spin your loop to see what happens."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1471450885, "post_id": 38990524, "comment_id": 65355158, "body": "Added a simplified version"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1471451180, "post_id": 38990524, "comment_id": 65355325, "body": "<code>my @arr = split &#47;&#47;, $_;</code> iterates through your string one character at a time, so yeah, it&#39;s gonna take a while with long lines. This is why <a href=\"http://meta.stackexchange.com/q/66377/234299\">you should always explain your actual problem instead of the solution you think will work</a>; you were barking up the wrong tree!"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1471451471, "post_id": 38990524, "comment_id": 65355489, "body": "it doesn&#39;t iterate over all of it, there&#39;s a limited number of iterations and it&#39;s only a small portion of the string length, I&#39;ll add that info"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1471451880, "post_id": 38990524, "comment_id": 65355702, "body": "@yonyon100 <i>&quot;there&#39;s a limited number of iterations&quot;</i> You didn&#39;t pass a limit to <code>split</code>, so the only limit is the number of characters in <code>$_</code>.  In the case of a 20MB line of ASCII, that&#39;s more than 20 million characters. <i>&quot;it&#39;s only a small portion of the string length&quot;</i> <code>split &#47;&#47;, $_</code> operates on the full length of <code>$_</code>. It doesn&#39;t matter if the things you do after that only work on part of the string; the call to <code>split</code> is what&#39;s expensive."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1471452094, "post_id": 38990524, "comment_id": 65355815, "body": "I think you should post a new question and explain the actual problem you&#39;re trying to solve, complete with sample input and output. Show your current solution and explain your performance requirements, e.g. &quot;I want to process a one-line 20MB file in less than 30 seconds.&quot;"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1471469783, "post_id": 38990524, "comment_id": 65364988, "body": "I got confused between the <code>pop</code> and the <code>split</code>. Need to sleep more, I guess... Of course you are correct about what you said."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1471430490, "post_id": 38991384, "comment_id": 65340502, "body": "That won&#39;t change Perl&#39;s internal buffer size, but that&#39;s highly unlikely to be a problem anyway."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1471448030, "post_id": 38991384, "comment_id": 65353351, "body": "The OP still wants to read in the data as lines, so this will actually make things slightly slower, as you move the line assembling from C to Perl."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1471423986, "last_edit_date": 1471423986, "creation_date": 1471421624, "answer_id": 38991384, "question_id": 38990524, "link": "https://stackoverflow.com/questions/38990524/operator-buffer-size/38991384#38991384", "title": "&lt;&gt; operator buffer size", "body": "<p>It may be that what you need is this:</p>\n\n<p><code>$/</code> - can be set to a numeric value, for a number of bytes to read from a file. </p>\n\n<blockquote>\n  <p>Setting $/ to a reference to an integer, scalar containing an integer, or scalar that's convertible to an integer will attempt to read records instead of lines, with the maximum record size being the referenced integer number of characters. </p>\n</blockquote>\n\n<p>Source: <a href=\"http://perldoc.perl.org/perlvar.html#Variables-related-to-filehandles\" rel=\"nofollow\">perlvar</a></p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1471599675, "last_edit_date": 1471599675, "creation_date": 1471431416, "answer_id": 38994706, "question_id": 38990524, "link": "https://stackoverflow.com/questions/38990524/operator-buffer-size/38994706#38994706", "title": "&lt;&gt; operator buffer size", "body": "<p>Altering Perl's read buffer size is unlikely to make any significant difference to the speed of your program, and the impact you are seeing is much more likely to be a result of the longer read time from the disk drive itself. Take a look at <a href=\"http://www.perlmonks.org/?node_id=580786\" rel=\"nofollow\"><em>Perl Read-Ahead I/O Buffering</em></a> on <strong>perlmonks.org</strong></p>\n\n<p>Furthermore, implementing your own buffering by using <code>read</code> or setting the record separator <code>$/</code> to a fixed size, is more than likely to slow down your program, as you still have to separate what you have read into lines of data but now have to do it in Perl code instead of letting perl do it for you in C</p>\n\n<p>Note also that the measure of changing <code>$/</code> to a fixed record size will still use Perl's standard, probably 8KB, buffer. The only difference is that the amount of data handed back to you will be determined according to a byte count instead of the position of a separator string</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1471462658, "last_edit_date": 1471462658, "creation_date": 1471447443, "answer_id": 39000646, "question_id": 38990524, "link": "https://stackoverflow.com/questions/38990524/operator-buffer-size/39000646#39000646", "title": "&lt;&gt; operator buffer size", "body": "<blockquote>\n  <p><em>How can I modify the <code>&lt;&gt;</code> operator buffer size?</em></p>\n</blockquote>\n\n<p><code>&lt;&gt;</code> reads into a scalar that can grow to any size, so I think you are referring to the size of the buffer passed to the <code>read</code> system call.</p>\n\n<p>Before 5.14, Perl read from file handles in 4 KiB chunks. 5.14 made this configurable, with a default of 8 KiB.</p>\n\n<pre><code>$ perl -e'print(\"x\" x 9_999, \"\\n\") for 1..2' &gt;large_lines\n\n$ strace 5.10.1t/bin/perl -e'my $line = &lt;&gt;' large_lines 2&gt;&amp;1 | grep read.*xxx\nread(3, \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"..., 4096) = 4096\nread(3, \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"..., 4096) = 4096\nread(3, \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"..., 4096) = 4096\n\n$ strace 5.14.2t/bin/perl -e'my $line = &lt;&gt;' large_lines 2&gt;&amp;1 | grep read.*xxx\nread(3, \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"..., 8192) = 8192\nread(3, \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"..., 8192) = 8192\n</code></pre>\n\n<p>It can only be configured when <code>perl</code> is built, using the following command</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>./Configure -Accflags=-DPERLIOBUF_DEFAULT_BUFSIZ=8192\n</code></pre>\n\n<p>This applies to all buffered reading functions, including <code>read</code>, <code>readline</code> (for which <code>&lt;&gt;</code> is an alias), <code>readpipe</code> and <code>eof</code>, but not <code>sysread</code>.</p>\n\n<hr>\n\n<p>Note that setting <code>$/</code> to a reference to a number will cause <code>readline</code> (<code>&lt;&gt;</code>) to act as <code>read</code>, which is still buffered.</p>\n\n<pre><code>$ strace perl -e'$/ = \\8193; my $block = &lt;&gt;' large_lines 2&gt;&amp;1 | grep read.*xxx\nread(3, \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"..., 8192) = 8192\nread(3, \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"..., 8192) = 8192\n</code></pre>\n\n<p>If you actually want to perform a single <code>read</code> system call, you need to use <code>sysread</code>.</p>\n\n<pre><code>$ strace perl -e'sysread(STDIN, $buf, 8193)' &lt;large_lines 2&gt;&amp;1 | grep read.*xxx\nread(0, \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"..., 8193) = 8193\n</code></pre>\n"}], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 1, "accepted_answer_id": 38991384, "answer_count": 3, "score": 1, "last_activity_date": 1471599675, "creation_date": 1471418776, "last_edit_date": 1471451548, "question_id": 38990524, "link": "https://stackoverflow.com/questions/38990524/operator-buffer-size", "title": "&lt;&gt; operator buffer size", "body": "<p>I have a file with very long lines that I need to process and I found that the process gets stuck/'really slow' because the buffer is not big enough or due to the fact that handling a very long line might take a while. Here's a code sample:</p>\n\n<pre><code>open FH, \"&lt;$fname\" or die \"...\";\nwhile (&lt;FH&gt;) {\n    my @arr = split //, $_;\n    pop @arr;\n    pop @arr;\n    ... for some \"limited small portion of the string length\" number of times ...\n    pop @arr;\n    if ($arr[-1] eq '0') {\n        print \"done!\\n\";\n        last;\n    }\n    push @big_arr, join('', @arr);\n}\n</code></pre>\n\n<p>The line processing is not \"heavy\".</p>\n\n<p>I looked for something to solve it and came across <a href=\"http://search.cpan.org/~leont/PerlIO-buffersize-0.001/lib/PerlIO/buffersize.pm\" rel=\"nofollow\"><code>PerlIO::buffersize</code></a> but it looks like it wasn't maintained for a while now and I don't want to use a module with version 0.001. How can I modify the <code>&lt;&gt;</code> operator buffer size? Or alternatively, is there any way to know the line length before reading it with <code>&lt;&gt;</code>?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1471404313, "post_id": 38987001, "comment_id": 65327770, "body": "<code>(&#47;^My name is&#47;..&#47;^End&#47;) !~ &#47;^1?$|E&#47; and print while &lt;file1&gt;</code>"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1471407841, "post_id": 38987001, "comment_id": 65328543, "body": "@ysth In your pattern <code>1</code> means line number then why you used <code>^</code> and <code>$</code>?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 1, "creation_date": 1471412892, "post_id": 38987001, "comment_id": 65330095, "body": "@mkHun no, it is matching against the return of <code>..</code>; see <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#Range-Operators</a> and <a href=\"http://perlmonks.org/?node_id=525406\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=525406</a>"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1471513750, "post_id": 38987001, "comment_id": 65380588, "body": "Does anybody know why <i>all</i> answers -- even the accepted one -- were downvoted? They all got positive feedback in the comments. I know that everyone can vote to his liking but this doesn&#39;t seem justified."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1471412105, "post_id": 38987525, "comment_id": 65329805, "body": "Thanks for the help. I think in your pattern 1 means the line number. What if we had lines prior to &quot;My name ...&quot; , and we don&#39;t know the line number of &quot;My name..&quot;. How would the regex differ in that case.  Also, if there are lines in between &quot;My name...&quot; and &quot;End...&quot; which we want to omit out by filtering them our based on our requirement, how would the regex be implement in this case. I think this is complex. Appreciate your help."}, {"owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "reply_to_user": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1471445806, "post_id": 38987525, "comment_id": 65351832, "body": "@V.Tej I have tested these and they work, even is your file has lines before <code>My name</code>. The <code>\\1</code> does not refer to line number; it is a backreference, as I said. It would be easy to modify the regex to filter out lines."}], "tags": [], "owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "is_accepted": false, "score": -1, "last_activity_date": 1471403608, "last_edit_date": 1495541314, "creation_date": 1471403608, "answer_id": 38987525, "question_id": 38987001, "link": "https://stackoverflow.com/questions/38987001/perl-script-to-copy-file-content-which-is-between-certain-lines/38987525#38987525", "title": "perl script to copy file content which is between certain lines", "body": "<p>You can get the lines between <code>My name is &lt;name&gt;.</code> and <code>End &lt;name&gt;</code> with one of several regexes.</p>\n\n<p>Lazy:</p>\n\n<pre><code>My name is ([^\\n]+)\\.(.*?)End \\1\n</code></pre>\n\n<p>Greedy:</p>\n\n<pre><code>My name is ([^\\n]+)\\.(.*)End \\1\n</code></pre>\n\n<p>Optimized:</p>\n\n<pre><code>My name is ([^\\s]+)\\.((?:[^\\n]*(?!End \\1)\\n)+)End \\1\n</code></pre>\n\n<p>Either way, you'll need the <code>s</code> modifier. If more than one thing needs to be parsed in a file, you will need the <code>g</code> modifier.</p>\n\n<p>The back-references ensure a match without needing to know the name. This means that the content you want will be in capture group 2.</p>\n\n<p>What's the difference between the three regexes? Speed! Depending on how many files you need to parse, you may need the speed.</p>\n\n<p>The optimized one is the best if there is significant variance in what you are parsing. It works the same way as <a href=\"https://stackoverflow.com/a/38962327/6083675\">this other regex I wrote</a>. (You should do some testing if speed is important.)</p>\n\n<p>It should be fairly straight forward to write the code from this.</p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1471411428, "post_id": 38987640, "comment_id": 65329578, "body": "Thanks for the logic. It helps me to an extent. Just to add on to your logic, could you write another case in your while loop to omit the lines of code from the sourcefile.txt  before the line containing &quot;My name&quot;"}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1471412236, "post_id": 38987640, "comment_id": 65329858, "body": "Also, if there are lines in between &quot;My name...&quot; and &quot;End...&quot; which we want to filter. How can we omit them out while copying the contents from SOURCEFILE to NEWFILE.  Thanks for your help in advance."}, {"owner": {"reputation": 1319, "user_id": 5014253, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153353808733890/picture?type=large", "display_name": "Lye Heng Foo", "link": "https://stackoverflow.com/users/5014253/lye-heng-foo"}, "edited": false, "score": 0, "creation_date": 1471428161, "post_id": 38987640, "comment_id": 65338803, "body": "For additional line filtering, you can additional &quot;elsif&quot; statement to my answer below.  Hope it helps."}, {"owner": {"reputation": 49, "user_id": 2303105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/907e009bfd90e8642874377f6f336366?s=128&d=identicon&r=PG", "display_name": "Steven F Kohler", "link": "https://stackoverflow.com/users/2303105/steven-f-kohler"}, "edited": false, "score": 0, "creation_date": 1471446450, "post_id": 38987640, "comment_id": 65352306, "body": "I am busyright now.  I will make the mod to the code in approx 8 hours from now."}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1471468580, "post_id": 38987640, "comment_id": 65364458, "body": "ok Sure. Thanks for the help. Also, when you edit it please consider the case if we had statements in the text file after &quot;End XYZ&quot; and we just want to copy the contents until before the &quot;End XYZ&quot; line. I tried using &quot;last&quot; keyword, to break the loop, but it didn&#39;t work."}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1471544692, "post_id": 38987640, "comment_id": 65400957, "body": "@Steven. Thanks for the code edit. I understand the logic."}], "tags": [], "owner": {"reputation": 49, "user_id": 2303105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/907e009bfd90e8642874377f6f336366?s=128&d=identicon&r=PG", "display_name": "Steven F Kohler", "link": "https://stackoverflow.com/users/2303105/steven-f-kohler"}, "is_accepted": true, "score": -1, "last_activity_date": 1471482590, "last_edit_date": 1471482590, "creation_date": 1471404477, "answer_id": 38987640, "question_id": 38987001, "link": "https://stackoverflow.com/questions/38987001/perl-script-to-copy-file-content-which-is-between-certain-lines/38987640#38987640", "title": "perl script to copy file content which is between certain lines", "body": "<p>OK.  I believe your question is about the perl syntax to print to the output file.  I will try to give you a little more complete solution based on the description of what you are trying to do.    This is just a quick very simple code example. (For somre reference you may want to also look at <a href=\"http://perlmaven.com/slurp\" rel=\"nofollow\">http://perlmaven.com/slurp</a>.)</p>\n\n<p>First lets call your new file \"newfile.txt\".\nThen lets call you source file(s) \"sourcefile.txt\".  Here\nis some code with comments:</p>\n\n<pre><code># First I would set the buffer to flush everything to to newfile.txt  \n$++;\n\n# Now open newfile.txt for writing the intformation you want\nopen my $NEWFILE, '&gt;', 'newfile.txt';\n\n# Now open sourcerfile.txt (or iterate over a list of them)\nopen my $SOURCEFILE, '&lt;', 'sourcefile.txt';\n\n# Now go through the sourcefile and get info you want to \n# add to your newfile\n\n# set a variable to print data to newfile - initialize to\n# N or false\n$data_wanted = \"N\";\n\n# open sourcefile and start reading lines\n\nwhile &lt;$SOURCEFILE&gt; {\n      # Test to see if data is between My Name and \n      if ($_ =~ /^My name/ ) {\n          $data_wanted = \"N\";\n      } \n      elsif ($_ =~ /^End/ ) {\n          $data_wanted = \"N\";\n          next;\n      } \n      elsif ($_ =~ /^STUFF TO OMIT/) {\n          $data_wanted = \"N\";\n      }\n      else {\n          $data_wanted = \"Y\";\n      }\n\n      if ( $data_wanted eq \"Y\" ) {\n          print $NEWFILE $_;\n      }\n\n      # you don't really need this but\n      # it will show you how this works in perl\n      next;  \n\n}  # end of while\n\n# finish by closing the files\n\nclose $SOURCEFILE;\nclose $NEWFILE;\n\n##########################################\n</code></pre>\n\n<p>Hope this helps ;-)</p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1471468219, "post_id": 38993421, "comment_id": 65364295, "body": "Yes, the logic looks similar to the code you wrote. What do the .. in the second line of your code indicate. Does it mean, any line between &quot;My name&quot; and &quot;End&quot;."}, {"owner": {"reputation": 1319, "user_id": 5014253, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153353808733890/picture?type=large", "display_name": "Lye Heng Foo", "link": "https://stackoverflow.com/users/5014253/lye-heng-foo"}, "reply_to_user": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1471486657, "post_id": 38993421, "comment_id": 65369660, "body": "Yes, &quot;..&quot; means all lines between matching &quot;My name&quot; and &quot;End&quot;."}, {"owner": {"reputation": 1319, "user_id": 5014253, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153353808733890/picture?type=large", "display_name": "Lye Heng Foo", "link": "https://stackoverflow.com/users/5014253/lye-heng-foo"}, "reply_to_user": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1471486930, "post_id": 38993421, "comment_id": 65369738, "body": "For additional line filtering (as requested in the comment above), you can additional &quot;elsif&quot; statement to the inner if conditions.  Please let me know if you need further help."}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1471544776, "post_id": 38993421, "comment_id": 65401008, "body": "Thanks for the help. The edited code above is clear enough."}], "tags": [], "owner": {"reputation": 1319, "user_id": 5014253, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153353808733890/picture?type=large", "display_name": "Lye Heng Foo", "link": "https://stackoverflow.com/users/5014253/lye-heng-foo"}, "is_accepted": false, "score": -1, "last_activity_date": 1471427841, "creation_date": 1471427841, "answer_id": 38993421, "question_id": 38987001, "link": "https://stackoverflow.com/questions/38987001/perl-script-to-copy-file-content-which-is-between-certain-lines/38993421#38993421", "title": "perl script to copy file content which is between certain lines", "body": "<p>Is this what you are looking for?</p>\n\n<pre><code>while (&lt;&gt;) {\n    if ( /^My name / .. /^End / ) {\n        if ( /^My name / ) {\n            # Do nothing, or anything you would like for this line.\n        } elsif ( /^End / ) {\n            # Do nothing, or anything you would like for this line.\n        } else {\n           print $_;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1253, "favorite_count": 0, "accepted_answer_id": 38987640, "answer_count": 3, "score": 2, "last_activity_date": 1471482590, "creation_date": 1471399130, "last_edit_date": 1471399487, "question_id": 38987001, "link": "https://stackoverflow.com/questions/38987001/perl-script-to-copy-file-content-which-is-between-certain-lines", "title": "perl script to copy file content which is between certain lines", "body": "<p>I am new to perl scripting and need help regarding a given problem.\nI have many files with details of persons.\nI want to print the contents from each of the file after a particular line and before a particular line.\nExample: (one of the file contains following details:)</p>\n\n<pre><code>My name is XYZ.\nAddress: ***\nID:12414\nCountry:USA\nEnd XYZ\n</code></pre>\n\n<p>Another file contains details like:</p>\n\n<pre><code>My name is ABC.\nAddress: ###\nID:124344\nCountry:Singapore\nEnd ABC\n</code></pre>\n\n<p>I want to print the lines from the first file after <code>My name is XYZ</code> and before <code>End XYZ</code> into my new file. Similarly, I want to print the contents from the second file after <code>My name is ABC</code> and before <code>End ABC</code>, into my new file.</p>\n\n<p>I wrote the logic as below, but I am not sure of the perl syntax to print after and below a particular line.</p>\n\n<pre><code>while(&lt;file1&gt;)\n{\n    if () # if we read the phrase \"My name\" in file1 start printing after this     +line\n    {\n        print  #print the contents into file3(output file)\n        if() # if we read the phrase \"End\" in file1 stop printing the content into     +file3\n    }\n}\n</code></pre>\n\n<p>I hope my question is clear. Any help is appreciated.</p>\n"}, {"tags": ["arrays", "perl", "groovy", "initialization", "ternary-operator"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1471386154, "post_id": 38985171, "comment_id": 65323513, "body": "You want to know if something is <a href=\"http://perldoc.perl.org/functions/defined.html\" rel=\"nofollow noreferrer\"><code>defined</code></a>?"}], "answers": [{"comments": [{"owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 1, "creation_date": 1471424322, "post_id": 38985419, "comment_id": 65336300, "body": "Note: versions of perl earlier than 5.10 do not have the <code>&#47;&#47;</code> operator."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 8, "last_activity_date": 1471386187, "creation_date": 1471386187, "answer_id": 38985419, "question_id": 38985171, "link": "https://stackoverflow.com/questions/38985171/command-to-find-out-if-a-perl-value-is-initialized/38985419#38985419", "title": "Command to find out if a Perl value is initialized", "body": "<pre><code>defined $engVals[i]\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/defined.html\">http://perldoc.perl.org/functions/defined.html</a></p>\n\n<p>Or you can do </p>\n\n<pre><code>$engVals[i] // ''\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlop.html#Logical-Defined-Or\">http://perldoc.perl.org/perlop.html#Logical-Defined-Or</a></p>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 6557829, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ae98484a1392cce8b37852c6accd3aa7?s=128&d=identicon&r=PG&f=1", "display_name": "WorkingOnBeingBetter", "link": "https://stackoverflow.com/users/6557829/workingonbeingbetter"}, "edited": false, "score": 0, "creation_date": 1471533978, "post_id": 38991036, "comment_id": 65394592, "body": "Thank you, sorry the coma in the middle was to give an extra blank space to separate the two columns in the csv."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1471420532, "creation_date": 1471420532, "answer_id": 38991036, "question_id": 38985171, "link": "https://stackoverflow.com/questions/38985171/command-to-find-out-if-a-perl-value-is-initialized/38991036#38991036", "title": "Command to find out if a Perl value is initialized", "body": "<p>You need the <em>defined or</em> operator <code>//</code> which returns its left operand if it is defined, otherwise its right operand</p>\n\n<pre><code>$csv-&gt;print($file, [ $engVals[i] // \"\", $frenchVals[i] // \"\" ] );\n</code></pre>\n\n<p>I was unsure why you had two commas between the two array elements. If that was a a typo then the above statement is what you want, but if you intended that there should be an intermediate blank field in the resulting CSV data then you should write <code>, \"\",</code>.</p>\n"}], "owner": {"reputation": 91, "user_id": 6557829, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ae98484a1392cce8b37852c6accd3aa7?s=128&d=identicon&r=PG&f=1", "display_name": "WorkingOnBeingBetter", "link": "https://stackoverflow.com/users/6557829/workingonbeingbetter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 38985419, "answer_count": 2, "score": 0, "last_activity_date": 1471420850, "creation_date": 1471384843, "last_edit_date": 1471420850, "question_id": 38985171, "link": "https://stackoverflow.com/questions/38985171/command-to-find-out-if-a-perl-value-is-initialized", "title": "Command to find out if a Perl value is initialized", "body": "<p>My question right now is based around a problem I'm having with CSV documents but it is also more general.</p>\n\n<p>I'm looking to use something like the null question mark in Java/Groovy/Gosu to determine if an array index has been initialized.</p>\n\n<p>I have something like: </p>\n\n<pre><code>for ( my i = 0; i &lt; @engVals or i &lt; @frenchVals; i++ ) {\n\n    $csv-&gt;print($file, [ $engVals[i] ?: \"\",  , $frenchVals[i] ?: \"\" ] );\n\n    # Where Elvis ops ensure that the array element at i is initialized, and if not stores blank in the CSV\n}\n</code></pre>\n"}, {"tags": ["perl", "qregexp"], "comments": [{"owner": {"reputation": 399, "user_id": 2337587, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a50dbded857122824f1c44610c0667b5?s=128&d=identicon&r=PG", "display_name": "NepCoder", "link": "https://stackoverflow.com/users/2337587/nepcoder"}, "edited": false, "score": 1, "creation_date": 1471385099, "post_id": 38984988, "comment_id": 65323151, "body": "do you have any code? are you seeing any errors?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 4, "creation_date": 1471386315, "post_id": 38984988, "comment_id": 65323559, "body": "<code>$data =~ s&#47;\\s*\\|\\s*&#47;|&#47;g;</code>"}, {"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 0, "creation_date": 1471398233, "post_id": 38984988, "comment_id": 65326407, "body": "What Matt said, followed by your final line of code <code>s&#47;\\s+$&#47;&#47;</code> to remove any final trailing spaces"}], "answers": [{"tags": [], "owner": {"reputation": 1319, "user_id": 5014253, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153353808733890/picture?type=large", "display_name": "Lye Heng Foo", "link": "https://stackoverflow.com/users/5014253/lye-heng-foo"}, "is_accepted": false, "score": 0, "last_activity_date": 1471429230, "creation_date": 1471429230, "answer_id": 38993916, "question_id": 38984988, "link": "https://stackoverflow.com/questions/38984988/perl-regular-expression-to-remove-leading-and-trailing-whitespace-of-each-column/38993916#38993916", "title": "Perl regular expression to remove leading and trailing whitespace of each column in a string", "body": "<p>This should work to remove all trailing and leading spaces for each column data, including the first one.</p>\n\n<pre><code>$data = \" TEST  |               100|            0.00 |TEST STRING    \";\n$data =~ s/\\s*\\|\\s*/|/g;\n$data =~ s/\\s+$//;\n$data =~ s/^\\s+//;\nprint \"$data\\n\";\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 1433749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0773545614c6bb077592d1f5daaee52?s=128&d=identicon&r=PG", "display_name": "senthilkumar", "link": "https://stackoverflow.com/users/1433749/senthilkumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1471429230, "creation_date": 1471383997, "last_edit_date": 1471385648, "question_id": 38984988, "link": "https://stackoverflow.com/questions/38984988/perl-regular-expression-to-remove-leading-and-trailing-whitespace-of-each-column", "title": "Perl regular expression to remove leading and trailing whitespace of each column in a string", "body": "<p>I have a requirement to remove the leading and trailing spaces in each column of a string delimited by \"|\"</p>\n\n<p>TEST|               100|            0.00 |TEST STRING\n I am using the following regular expressions to remove the spaces, but it does not seem to work.</p>\n\n<pre><code>$data = \"TEST|               100|            0.00 |TEST STRING    \";\n$data =~ s/(^|\\|)\\s+/\\1/g;\n$data =~ s/\\s+$//;\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["perl", "timestamp", "real-time", "subroutine"], "comments": [{"owner": {"reputation": 28990, "user_id": 1114966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af8712b05e5cfb862323a07c83749054?s=128&d=identicon&r=PG", "display_name": "squiguy", "link": "https://stackoverflow.com/users/1114966/squiguy"}, "edited": false, "score": 3, "creation_date": 1471382825, "post_id": 38984196, "comment_id": 65322218, "body": "You have to call your subroutine again for the value to be updated :)"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6717990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0fd876f3f1e4e04ca4f08703babf0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Kittamaru", "link": "https://stackoverflow.com/users/6717990/kittamaru"}, "edited": false, "score": 0, "creation_date": 1471438107, "post_id": 38986353, "comment_id": 65345712, "body": "Ah, thank you Drav - that was exactly what I was after! I didn&#39;t realize you could do a print on the subroutine directly! I would presume that I can call that within another print statement as needed for placement via further concatenation (eg, it doesn&#39;t need to be the first part of the print string to function) Much obliged for the assistance!"}, {"owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "reply_to_user": {"reputation": 15, "user_id": 6717990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0fd876f3f1e4e04ca4f08703babf0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Kittamaru", "link": "https://stackoverflow.com/users/6717990/kittamaru"}, "edited": false, "score": 0, "creation_date": 1471442699, "post_id": 38986353, "comment_id": 65349419, "body": "Absolutely correct, GetLoggingTime() returns a &quot;scalar&quot; which contains a string, which you can concatenate to any other string as you choose."}], "tags": [], "owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "is_accepted": true, "score": 6, "last_activity_date": 1472119461, "last_edit_date": 1472119461, "creation_date": 1471393148, "answer_id": 38986353, "question_id": 38984196, "link": "https://stackoverflow.com/questions/38984196/perl-how-to-generate-an-updating-timestamp/38986353#38986353", "title": "Perl - How to generate an updating timestamp", "body": "<p>You don't need to put the <code>use</code> statement inside your subroutine, that can be placed at the top of your program.</p>\n\n<p>Your code:</p>\n\n<pre><code>my $timestamp = GetLoggingTime();\n\nprint \"$timestamp \\n\";\nsleep(2);\nprint \"$timestamp \\n\";\n</code></pre>\n\n<p>calls <code>GetLoggingTime()</code>, and stores the output inside <code>$timestamp</code>. Which means the value will remain static inside <code>$timestamp</code>. If you want to get the output of the present time each time, you will have to call <code>GetLoggingTime()</code> each time you need an updated value:</p>\n\n<pre><code>my $timestamp = GetLoggingTime();\nprint \"$timestamp \\n\";\nsleep(2);\n$timestamp = GetLoggingTime();\nprint \"$timestamp \\n\";\n</code></pre>\n\n<p>You can avoid using a variable by concatenating the result of <code>GetLoggingTime()</code> directly to your strings:</p>\n\n<pre><code>print GetLoggingTime() . \" \\n\";\nsleep(2);\nprint GetLoggingTime() . \" \\n\";\n</code></pre>\n\n<p>or if your time stamp will always require a space and newline, you can include that inside <code>GetLoggingTime()</code></p>\n\n<pre><code>sub GetLoggingTime {\n    return strftime('%m/%d/%Y %I:%M.%S %p %Z',localtime) . \" \\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1471430705, "creation_date": 1471430705, "answer_id": 38994454, "question_id": 38984196, "link": "https://stackoverflow.com/questions/38984196/perl-how-to-generate-an-updating-timestamp/38994454#38994454", "title": "Perl - How to generate an updating timestamp", "body": "<p>You can achieve what you want using <a href=\"http://perldoc.perl.org/perltie.html\" rel=\"nofollow\">tied variables</a>. But note that <code>tie</code>ing is a rather esoteric corner of Perl and using it will slow down your program.</p>\n\n<p>I was going to demonstrate by writing a simple tied timestamp example. But it seems that <a href=\"https://metacpan.org/pod/Tie::Scalar::Timestamp\" rel=\"nofollow\">Tie::Scalar::Timestamp</a> already exists.</p>\n"}], "owner": {"reputation": 15, "user_id": 6717990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0fd876f3f1e4e04ca4f08703babf0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Kittamaru", "link": "https://stackoverflow.com/users/6717990/kittamaru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "accepted_answer_id": 38986353, "answer_count": 2, "score": 1, "last_activity_date": 1472119461, "creation_date": 1471380436, "question_id": 38984196, "link": "https://stackoverflow.com/questions/38984196/perl-how-to-generate-an-updating-timestamp", "title": "Perl - How to generate an updating timestamp", "body": "<p>I've gotten a decently functioning script going, and am happy with its results so far, thanks in large part to information I've found here.</p>\n\n<p>However, one thing I cannot seem to get right is the timestamp. Currently, I am using this</p>\n\n<pre><code>use POSIX qw/strftime/;\nmy $timestamp = strftime('%m/%d/%Y %I:%M.%S %p %Z',localtime);\n</code></pre>\n\n<p>which works well, except that when I call $timestamp, it will always be the same timestamp for all parts of the code (doesn't update at all).</p>\n\n<p>I attempted to remedy this with a subroutine (which I've never done before):</p>\n\n<pre><code>sub GetLoggingTime {\n    use POSIX qw/strftime/;\n    my $LoggingTime = strftime('%m/%d/%Y %I:%M.%S %p %Z',localtime);\n    return $LoggingTime;\n}\n\nmy $timestamp = GetLoggingTime();\n\nprint \"$timestamp \\n\";\nsleep(2);\nprint \"$timestamp \\n\";\n</code></pre>\n\n<p>obviously the two prints and the sleep are to try and see if it is \"updating\", which it isn't. Both timestamps print with the same time.</p>\n\n<p>I then tried to invoke the subroutine directly, adding a print within the subroutine and calling it using &amp;GetLoggingTime, but that didn't do anything at all (no output).</p>\n\n<p>I know I'm probably missing something obvious, but I just can't seem to find it. Is there a simple way to get that to work or is there a simple way to get a timestamp that updates in real time as the script progresses?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["perl", "asynchronous", "filehandle"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1471378288, "post_id": 38982677, "comment_id": 65320063, "body": "By the way, it&#39;s called a &quot;file handle&quot; (because it holds onto a system resource), not a &quot;file handler&quot; (since it doesn&#39;t handle anything since it&#39;s not code)."}], "answers": [{"comments": [{"owner": {"reputation": 1530, "user_id": 1947061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3cf0148c480f9fa18f1aab777a0740?s=128&d=identicon&r=PG", "display_name": "Dirk St&#246;cker", "link": "https://stackoverflow.com/users/1947061/dirk-st%c3%b6cker"}, "edited": false, "score": 0, "creation_date": 1471505777, "post_id": 38983447, "comment_id": 65375836, "body": "You text is very hard to understand, but after reading several times it became clear what you mean.IPC::Run3 and IPC::Run aren&#39;t useful, see the initial task description, second sentence."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1530, "user_id": 1947061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3cf0148c480f9fa18f1aab777a0740?s=128&d=identicon&r=PG", "display_name": "Dirk St&#246;cker", "link": "https://stackoverflow.com/users/1947061/dirk-st%c3%b6cker"}, "edited": false, "score": 0, "creation_date": 1471540668, "post_id": 38983447, "comment_id": 65398771, "body": "Re &quot;<i>You text is very hard to understand</i>&quot;, if there&#39;s something that isn;t clear, let me know and I&#39;ll explain further. I spoke in simple sentences, so I don&#39;t see where the problem is. /// I know that IPC::Run3 isn&#39;t useful for you, but I included it because you&#39;re not the only reader of this answer, and it&#39;s simpler than IPC::Run. IPC::Run, otoh, does meet your stated needs. (Use <code>start</code>+<code>pump</code>+<code>finish</code> instead of <code>run</code>.)"}, {"owner": {"reputation": 1530, "user_id": 1947061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3cf0148c480f9fa18f1aab777a0740?s=128&d=identicon&r=PG", "display_name": "Dirk St&#246;cker", "link": "https://stackoverflow.com/users/1947061/dirk-st%c3%b6cker"}, "edited": false, "score": 0, "creation_date": 1471589383, "post_id": 38983447, "comment_id": 65415241, "body": "I changed your text a bit. It is possible to directly write variables across processes. I also tried testing threads:shared for the text variables. It is only not supported in this case."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1530, "user_id": 1947061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3cf0148c480f9fa18f1aab777a0740?s=128&d=identicon&r=PG", "display_name": "Dirk St&#246;cker", "link": "https://stackoverflow.com/users/1947061/dirk-st%c3%b6cker"}, "edited": false, "score": 0, "creation_date": 1471631448, "post_id": 38983447, "comment_id": 65440952, "body": "@Dirk St&#246;cker, Don&#39;t replace someone&#39;s answer that explains why an approach isn&#39;t possible with a claim that it&#39;s simply not supported. I reverted your edit. Writing to a system file handle can&#39;t directly cause a variable to be changed in another process."}, {"owner": {"reputation": 1530, "user_id": 1947061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3cf0148c480f9fa18f1aab777a0740?s=128&d=identicon&r=PG", "display_name": "Dirk St&#246;cker", "link": "https://stackoverflow.com/users/1947061/dirk-st%c3%b6cker"}, "edited": false, "score": 0, "creation_date": 1471723975, "post_id": 38983447, "comment_id": 65466050, "body": "When should I edit posts?: To clarify the meaning of the post (without changing that meaning) - If you think that stating the concept of inter-thread/inter-thread data storage is flawed then ok. I simply though that was an bad wording of you. If you think that&#39;s impossible to access other thread or other process memory then it seems you still need to learn a bit."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1530, "user_id": 1947061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3cf0148c480f9fa18f1aab777a0740?s=128&d=identicon&r=PG", "display_name": "Dirk St&#246;cker", "link": "https://stackoverflow.com/users/1947061/dirk-st%c3%b6cker"}, "edited": false, "score": 0, "creation_date": 1471727665, "post_id": 38983447, "comment_id": 65466952, "body": "1) Exactly. Changing the post to say the opposite of what I said is not appropriate. 2) Your edit didn&#39;t mention inter-thread storage. It didn&#39;t mention threads at all. Are you conflating threads and processes? 3) All of a process&#39;s memory is shared by its threads, so &quot;inter-thread storage&quot; is just weird way of saying &quot;storage&quot;."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1471630879, "last_edit_date": 1471630879, "creation_date": 1471377568, "answer_id": 38983447, "question_id": 38982677, "link": "https://stackoverflow.com/questions/38982677/perl-file-handle-with-scalar-target-and-ipcopen3/38983447#38983447", "title": "Perl file handle with scalar target and IPC::Open3", "body": "<p><code>open($out, \"&gt;\", \\$outvar);</code> does not create a system file handle. You'll notice that <code>fileno($out)</code> is <code>-1</code>. One process can't write to another's memory, much less manipulate its variables, so the whole concept is flawed. Use <a href=\"http://search.cpan.org/perldoc?IPC::Run3\" rel=\"nofollow\">IPC::Run3</a> or <a href=\"http://search.cpan.org/perldoc?IPC::Run\" rel=\"nofollow\">IPC::Run</a>; they effectively implement the <code>select</code> loop for you. <code>open3</code> is far too low-level for most applications.</p>\n\n<hr>\n\n<p>The second snippet works because <code>open3</code> is behaving as if <code>$in</code>, <code>$out</code> and <code>$err</code> are unopened handles. You might as well have done</p>\n\n<pre><code>$in = gensym();\n$out = gensym();\n$err = gensym();\n</code></pre>\n\n<p>But again, you should be using IPC::Run3 or IPC::Run. Your hand-rolled version suffers from some bugs, including one that can lead to a deadlock.</p>\n"}], "owner": {"reputation": 1530, "user_id": 1947061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f3cf0148c480f9fa18f1aab777a0740?s=128&d=identicon&r=PG", "display_name": "Dirk St&#246;cker", "link": "https://stackoverflow.com/users/1947061/dirk-st%c3%b6cker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1471630879, "creation_date": 1471374472, "last_edit_date": 1471419933, "question_id": 38982677, "link": "https://stackoverflow.com/questions/38982677/perl-file-handle-with-scalar-target-and-ipcopen3", "title": "Perl file handle with scalar target and IPC::Open3", "body": "<p>My task is to start a program from perl and keep control flow to the starting task as well as capturing the output of the program in scalar variables. The script should only use perl modules available in perl base package.</p>\n\n<p>My first approach was</p>\n\n<pre><code>use POSIX;\nuse IPC::Open3;\nuse strict;\n\nmy ($invar, $outvar, $errvar, $in, $out, $err, $pid, $pidr);\nopen($in, \"&lt;\",\\$invar);\nopen($out, \"&gt;\",\\$outvar);\nopen($err, \"&gt;\",\\$errvar);\nmy $cmd = \"sleep 5; echo Test; sleep 5; echo Test; sleep 5;\";\n$pid = open3($in, $out, $err, $cmd);\nmy $num = 0;\nfor($pidr = $pid; $pidr &gt;= 0;)\n{\n  sleep(1) if ($pidr = waitpid($pid, WNOHANG)) &gt;= 0;\n  print \"$num: $outvar\" if $outvar;\n  ++$num;\n}\nclose($in);\nclose($out);\nclose($err);\n</code></pre>\n\n<p>When started nothing happens. The output of the started program does not go into <code>$outvar</code>. To test if my basic idea fails I tried this:</p>\n\n<pre><code>my $outvar = \"\";\nmy $out;\nopen($out, \"&gt;\", \\$outvar);\nprint $out \"Test\\n\";\nprint \"--1--\\n$outvar\";\nprint $out \"Test2\\n\";\nprint \"--2--\\n$outvar\";\n</code></pre>\n\n<p>which correctly outputs as expected:</p>\n\n<pre><code>--1--\nTest\n--2--\nTest\nTest2\n</code></pre>\n\n<p>The question is: Why does the above program not work as the test example and output the text which should be in <code>$outvar</code>?</p>\n\n<p>A working solution is much more complex (when you add all the security checks left out for this example):</p>\n\n<pre><code>use POSIX;\nuse IPC::Open3;\nuse strict;\n\nmy ($invar, $outvar, $errvar, $in, $out, $err, $pid, $pidr);\nopen($in, \"&lt;\",\\$invar);\nopen($out, \"&gt;\",\\$outvar);\nopen($err, \"&gt;\",\\$errvar);\nmy $cmd = \"sleep 5; echo Test; sleep 5; echo Test; sleep 5;\";\n$pid = open3($in, $out, $err, $cmd);\nmy $num = 0;\nfor($pidr = $pid; $pidr &gt;= 0;)\n{\n  sleep(1) if ($pidr = waitpid($pid, WNOHANG)) &gt;= 0;\n  my $obits; vec($obits, fileno($out), 1) = 1;\n  if(select($obits, undef, undef, 0) &gt; 0)\n  {\n    my $buffer;\n    sysread($out, $buffer, 10240);\n    print \"$num: $buffer\" if $buffer;\n  }\n  ++$num;\n}\nclose($in);\nclose($out);\nclose($err);\n</code></pre>\n\n<p>It correctly prints (as should do the first one as well in similar way):</p>\n\n<pre><code>5: Test\n10: Test\n</code></pre>\n\n<p>For the examples I removed much of the error handling and the similar code for STDERR.</p>\n"}, {"tags": ["string", "perl", "match", "dna-sequence"], "comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 1, "creation_date": 1471370109, "post_id": 38981331, "comment_id": 65315633, "body": "How big is the database?"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1471370394, "post_id": 38981331, "comment_id": 65315822, "body": "Not sure if <a href=\"https://metacpan.org/pod/String::Approx\" rel=\"nofollow noreferrer\"><code>String::Approx</code></a> would help you here."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1471371336, "post_id": 38981331, "comment_id": 65316393, "body": "You can break up your string and go char by char, even as it is picky. Something just like it has been done in <a href=\"http://stackoverflow.com/questions/9106978/perl-partial-match\"><code>this post</code></a>, for example.  Better, find a module -- for example, <a href=\"http://search.cpan.org/~bkb/Text-Fuzzy-0.24/lib/Text/Fuzzy.pod\" rel=\"nofollow noreferrer\"><code>Text::Fuzzy</code></a> should do it."}, {"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 0, "creation_date": 1471375589, "post_id": 38981331, "comment_id": 65318721, "body": "You could look for the minimum Levenshtein edit distance (and convert that into a percentage)."}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1471378198, "post_id": 38981331, "comment_id": 65320030, "body": "I don&#39;t think String::Approx would help here, @Zaid: the sequences aren&#39;t all the same length. Also, the largest database has 1,881 entries, so 3,762 lines. I&#39;ll try using Text::Fuzzy and text::Levenshtein to find a percent match."}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1471378798, "post_id": 38981331, "comment_id": 65320315, "body": "It appears String::Similarity returns a percentage."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1471393248, "post_id": 38981331, "comment_id": 65325379, "body": "I do recommend a good moodule -- but, just btw, it shouldn&#39;t be too hard to roll your own."}], "answers": [{"comments": [{"owner": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 1, "creation_date": 1471438449, "post_id": 38984055, "comment_id": 65345962, "body": "You should see a performance improvement if you pass <code>$highestsim</code> as a third argument to <code>similarity</code> -- it causes it to stop comparing once the similarity drops below the given limit."}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "reply_to_user": {"reputation": 29951, "user_id": 8233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5ed2571484765d12fcb3230f235a8ecc?s=128&d=identicon&r=PG", "display_name": "Michael Carman", "link": "https://stackoverflow.com/users/8233/michael-carman"}, "edited": false, "score": 0, "creation_date": 1471442603, "post_id": 38984055, "comment_id": 65349338, "body": "Makes sense. I&#39;ll add it"}], "tags": [], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "is_accepted": true, "score": 3, "last_activity_date": 1471442643, "last_edit_date": 1471442643, "creation_date": 1471379907, "answer_id": 38984055, "question_id": 38981331, "link": "https://stackoverflow.com/questions/38981331/perl-return-highest-percent-match-for-strings/38984055#38984055", "title": "Perl: Return Highest Percent Match for Strings", "body": "<p><a href=\"http://search.cpan.org/~mlehmann/String-Similarity-1.04/Similarity.pm\" rel=\"nofollow\"><code>String::Similarity</code></a> returns the similarity between strings as a value between 0 and 1, 0 being completely dissimilar and 1 being exactly the same. </p>\n\n<pre><code>my $entry = \"AGGUUG\" ;\nmy $returnval;\nmy $name;\nmy $seq;\nmy $currsim;\nmy $highestsim = 0;\nmy $highestname;\nopen (my $database, \"&lt;\", $db1) or die \"Can't find db1\";\nuntil (eof $database){\n    chomp ($name = &lt;$database&gt;);\n    chomp ($seq = &lt;$database&gt;);\n    $currsim = similarity $entry, $seq, $highestsim;\n    if ($currsim &gt; $highestsim) {\n        $highestsim = $currsim;\n        $highestname = $name;\n    }\n}\n$highestsim = $highestsim * 100;\nmy @names = split(/&gt;/, $highestname);\n$returnval = \"This sequence matches \" . $names[1] . \" the best with \" . $highestsim . \"% similarity\";\nclose $database;\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 38984055, "answer_count": 1, "score": 2, "last_activity_date": 1471461593, "creation_date": 1471369662, "last_edit_date": 1471461593, "question_id": 38981331, "link": "https://stackoverflow.com/questions/38981331/perl-return-highest-percent-match-for-strings", "title": "Perl: Return Highest Percent Match for Strings", "body": "<p>I have a DNA sequence, like ATCGATCG for example. I also have a database of DNA sequences formatted as follows:</p>\n\n<pre><code>&gt;Name of sequence1\nSEQUENCEONEEXAMPLEGATCGATC\n&gt;Name of sequence2\nSEQUENCETWOEXAMPLEGATCGATC\n</code></pre>\n\n<p>(So the odd numbered lines contain a name, and the even numbered lines contain a sequence)\nCurrently, I search for perfect matches between my sequence and sequences in the database as follows (assume all the variables are declared):</p>\n\n<pre><code>my $name;\nmy $seq;\nmy $returnval = \"The sequence does not match any in database\";\nopen (my $database, \"&lt;\", $db1) or die \"Can't find db1\";\nuntil (eof $database){\n    chomp ($name = &lt;$database&gt;);\n    chomp ($seq = &lt;$database&gt;);\n    if (\n        index($seq, $entry) != -1\n        || index($entry, $seq) != -1\n    ) {\n        $returnval = \"The sequence matches: \". $name;\n        last;\n    }\n}\nclose $database;\n</code></pre>\n\n<p>Is there any way for me to return the name of the highest percentage matched sequence as well as percent match there is between the entry and the sequence in the database?</p>\n"}, {"tags": ["linux", "perl", "parallel-processing", "fork"], "comments": [{"owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "edited": false, "score": 0, "creation_date": 1471446931, "post_id": 38981252, "comment_id": 65352629, "body": "Can anyone suggest why this question got down vote?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1471371064, "creation_date": 1471371064, "answer_id": 38981745, "question_id": 38981252, "link": "https://stackoverflow.com/questions/38981252/perl-fork-manager-get-the-output-variable-after-completing-the-forking/38981745#38981745", "title": "Perl fork manager get the output variable after completing the forking", "body": "<p>Everything between <code>$pm-&gt;start</code> and <code>$pm-&gt;finish</code> execute in a fork of the parent. You're adding to the child's copy of <code>@collect_processed_data</code>, but printing the parent's <code>@collect_processed_data</code>.</p>\n\n<p>P::FM provides a mechanism for returning data back to the parent, which is documented under the heading \"<a href=\"https://metacpan.org/pod/Parallel::ForkManager#RETRIEVING-DATASTRUCTURES-from-child-processes\" rel=\"nofollow\">RETRIEVING DATASTRUCTURES from child processes</a>\".</p>\n\n<pre><code>my $pm = Parallel::ForkManager-&gt;new($max_procs);\n\nmy @collect_processed_data;\n$pm-&gt;run_on_finish(sub {\n   my ($pid, $exit_code, $ident, $exit_signal, $core_dump, $processed_data) = @_;\n\n   if ($exit_signal) { warn(\"$pid killed by signal $exit_signal\\n\"); }\n   elsif ($exit_code) { warn(\"$pid exited with error $exit_code\\n\"); }\n\n   push @collect_processed_data, $processed_data\n      if defined($processed_data);\n});\n\nfor (...) {\n   $pm-&gt;start and next;\n   ...\n   my $processed_data = ...;\n   ...\n   $pm-&gt;finish(0, $processed_data);\n}\n</code></pre>\n"}], "owner": {"reputation": 3105, "user_id": 912111, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/u3FQz.jpg?s=128&g=1", "display_name": "Raja", "link": "https://stackoverflow.com/users/912111/raja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 2, "answer_count": 1, "score": -1, "last_activity_date": 1471371064, "creation_date": 1471369300, "question_id": 38981252, "link": "https://stackoverflow.com/questions/38981252/perl-fork-manager-get-the-output-variable-after-completing-the-forking", "title": "Perl fork manager get the output variable after completing the forking", "body": "<p>I am very new to the Perl Parallel Fork manager. Here is the code,</p>\n\n<pre><code>    my $max_procs = 3;\n    my $forking =  Parallel::ForkManager-&gt;new($max_procs);\n\n    my @collect_processed_data;\n    foreach my $row (@data_array) {\n\n       $forking-&gt;start and next;\n\n       # Code processing -- Started\n\n       push(@collect_processed_data, $obtained_data);\n\n       # where $obtained_data is an array which we get it from DB. \n\n       # Code Processing -- Ended. \n\n       #print Dumper @collect_processed_data; --&gt; Works here. \n\n       $forking-&gt;finish; # do the exit in the child process\n\n    }\n\n    $forking-&gt;wait_all_children;\n\n    print Dumper @collect_processed_data; --&gt; But not working here;\n</code></pre>\n\n<p>Here is the issue, The forking works fine here. But the issue i am not able to collect the collect the data outside in the foreach loop. But at the same time, i am able to collect before \"$forking->finish\"</p>\n\n<p>Is there any anything i need to do with \"$forking->finish;\"?</p>\n\n<p>Any help would be appreciated. </p>\n"}, {"tags": ["arrays", "perl", "for-loop"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1471368538, "post_id": 38981024, "comment_id": 65314732, "body": "If you want <code>@csv2years</code> to be accessible outside the block, you&#39;ll need to declare it (<code>my @csv2years;</code>) outside the block."}], "answers": [{"comments": [{"owner": {"reputation": 401, "user_id": 6387429, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/175f9c710daae43c1b58956448c9d9bb?s=128&d=identicon&r=PG", "display_name": "nmh", "link": "https://stackoverflow.com/users/6387429/nmh"}, "edited": false, "score": 0, "creation_date": 1471448473, "post_id": 38981293, "comment_id": 65353653, "body": "Thanks for the reply, can you explain the &quot;push&quot; part?"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 401, "user_id": 6387429, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/175f9c710daae43c1b58956448c9d9bb?s=128&d=identicon&r=PG", "display_name": "nmh", "link": "https://stackoverflow.com/users/6387429/nmh"}, "edited": false, "score": 0, "creation_date": 1471448561, "post_id": 38981293, "comment_id": 65353717, "body": "@nmh <code>push</code> adds on an element to the end of an array. In the example above, the result of the subroutine is added for every loop iteration"}], "tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": true, "score": 10, "last_activity_date": 1471369455, "creation_date": 1471369455, "answer_id": 38981293, "question_id": 38981024, "link": "https://stackoverflow.com/questions/38981024/create-perl-array-without-the-use-of-curly-brackets-so-that-array-is-not-confine/38981293#38981293", "title": "Create Perl array without the use of curly brackets so that array is not confined to specific block", "body": "<p>To answer your immediate need:</p>\n\n<pre><code>my @csv2years;\nfor ( @csv2 ) {\n    ...\n    push @csv2years, find_year($title);\n}\nprint \"$_\\n\" for @csv2years;\n</code></pre>\n\n<p>But there are a ton of improvements that will help you up your Perl-fu. A few of the salient ones are:</p>\n\n<ul>\n<li><code>use strict; use warnings;</code></li>\n<li>use a dedicated CSV parser like <code>Text::CSV</code></li>\n<li>iterate over the file line by line instead of cramming everything into an array and then loop over each element</li>\n<li>replace bareword filehandles with lexical ones (<code>open my $fh, ...</code>)</li>\n<li>assign a default value in case <code>find_year</code> doesn't find a year (empty string, perhaps?)</li>\n<li>assign the result of <code>find_year</code> to a scalar instead of a hash</li>\n</ul>\n"}], "owner": {"reputation": 401, "user_id": 6387429, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/175f9c710daae43c1b58956448c9d9bb?s=128&d=identicon&r=PG", "display_name": "nmh", "link": "https://stackoverflow.com/users/6387429/nmh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 38981293, "answer_count": 1, "score": 1, "last_activity_date": 1471369455, "creation_date": 1471368446, "last_edit_date": 1471368603, "question_id": 38981024, "link": "https://stackoverflow.com/questions/38981024/create-perl-array-without-the-use-of-curly-brackets-so-that-array-is-not-confine", "title": "Create Perl array without the use of curly brackets so that array is not confined to specific block", "body": "<p>I want to maintain an array outside of a block of code. The array that I am interested in is @csv2years. This is currently within a set of curly brackets which contain the code for a <code>for</code> loop. I realise I somehow need to rearrange this so that the curly brackets do not contain the conditions which create the array. I don't know how to specifically reference csv2 without the <code>for { }</code> section. </p>\n\n<pre><code>#!/bin/perl\n# creates subroutines for discovering year\n\nsub find_year {\n   my ( $str ) = @_;\n   my $year;\n   $year = $1 if( $str =~ /\\b((?:19|20)\\d\\d)\\b/ );\n   return $year\n}\n\n#####CREATE CSV2 DATA\n\nmy @csv2 = (); # Creates new empty array @csv2\n\nopen CSV2, \"&lt;csv2\" or die; # Creates the file handle CSV2, inputs the data from csv2 into CVS2\n\n@csv2=&lt;CSV2&gt;; # populates @csv2 array with data from file handle CSV2\nclose CSV2;\n\nmy %csv2hash = ();  # Creates empty hash csv2hash\n\nfor (@csv2) {            # for data in @csv2 array\n    chomp;\n    my ($title) = $_ =~ /^.+?,\\s*([^,]+?),/; #/define the data which is the title\n\n    #Indicate that title data will input into csv2hash\n\n    $csv2hash{$_} = $title;\n    #Create a hash for find year of csv2\n    my %csv2_year = find_year($title);\n\n    my @csv2years = keys(%csv2_year);\n    print \"@csv2years\\n\";\n}\n</code></pre>\n\n<p>The above code currently prints out @csv2years, but if the <code>print \"@csv2years\\n\";</code> is placed outside of the curly brackets, nothing is printed out. How can I rearrange this code so that there is no need for the for loop and/or curly brackets?</p>\n\n<p>Here is the csv2 data:</p>\n\n<pre><code>14564564,1989 the door to the others,546456,47878787\n456456445,the Twin Peaks theory project 1979,45454545,45454545\n456456445,the Twin Peaks forget that,45454545,45454545\n454654564, 1969 hello good world your great ,45456456, 54564654\n</code></pre>\n\n<p>The output of <code>print \"@csv2years\\n\";</code> is :</p>\n\n<pre><code>1989\n1979\n\n1969\n</code></pre>\n"}, {"tags": ["linux", "perl", "awk", "sed", "sas"], "comments": [{"owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 2, "creation_date": 1471357650, "post_id": 38977424, "comment_id": 65307982, "body": "Hi Nick, as previously pointed out you should use <a href=\"http://stackoverflow.com/editing-help\">markup</a> in your questions to make things clearer. Last time I formatted it for you, but I think you should at least learn if you are going to post multiple questions."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1471358069, "post_id": 38977424, "comment_id": 65308248, "body": "You should explain why this question is different than your <a href=\"http://stackoverflow.com/q/38955980/176646\">last one</a>. I was going to vote to close as a duplicate until I saw <a href=\"http://stackoverflow.com/questions/38955980/extract-words-between-2-parentheses-in-unix-linux#comment65306083_38956931\">Ed Morton&#39;s comment</a> suggesting you ask a new question."}, {"owner": {"reputation": 17, "user_id": 6717922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40075b6b0324570ee51dc6a12c082d83?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6717922/nick"}, "edited": false, "score": 0, "creation_date": 1471358242, "post_id": 38977424, "comment_id": 65308381, "body": "My Previous question had one value in parentheses. Ed Morton&#39;s commented a command where I modified little bit. This one is the same as my previous question, but thought of a scenario where I will have multiple values in parentheses. I am trying to automate the process in SAS where I will run unix commands to replace the query using sed command. Hope that make sense."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1471358518, "post_id": 38977424, "comment_id": 65308571, "body": "@Nick Please <a href=\"https://stackoverflow.com/posts/38977424/edit\">edit</a> that info into your question."}, {"owner": {"reputation": 35496, "user_id": 4965549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b2fd3fbe1a522cea4792ee16c718872?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/4965549/tom"}, "edited": false, "score": 0, "creation_date": 1471367495, "post_id": 38977424, "comment_id": 65314199, "body": "What is the source of this text that you are modifying? Why does the text need to have quotes inserted? Is this a one time thing or do you have a lot of these invalid text files?  Also your example SQL is invalid since you cannot use <code>=</code> to test if a value is in a list, need to use IN operator instead. <code>t1.case_status_num IN (1,2,3,4)</code>"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1471370597, "post_id": 38977424, "comment_id": 65315939, "body": "What&#39;s the rule that explains why <code>(new,retired,pending,OPEN,closed)</code> gets it&#39;s elements quoted but <code>(1,2,3,4)</code> doesn&#39;t?"}], "answers": [{"tags": [], "owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "is_accepted": false, "score": 0, "last_activity_date": 1471361927, "last_edit_date": 1495542173, "creation_date": 1471360716, "answer_id": 38978640, "question_id": 38977424, "link": "https://stackoverflow.com/questions/38977424/replace-words-in-the-parentheses-to-put-into-quotations/38978640#38978640", "title": "Replace Words in the parentheses to put into quotations", "body": "<p>Using a <a href=\"https://stackoverflow.com/a/38962950/791908\">solution</a> provided by <a href=\"https://stackoverflow.com/users/557597/sln\">sln</a> using <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">Regex Quote-Like operators</a>, to provide readability/maintainability.</p>\n\n<p>Plus another <a href=\"https://stackoverflow.com/a/38963554/791908\">solution</a> provided by <a href=\"https://stackoverflow.com/users/168657/mob\">mob</a> for an elegant quoting mechanism.</p>\n\n<p>Plus some coding to put it all together for your specific senario:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\n# create a regex quote-like string for our match\nmy $rx = qr{\\(([^)]+)\\)};\n\n# step through STDIN\nwhile(&lt;&gt;) {\n\n    # Replace matching (...) sections by passing the matched part\n    # to QuoteText() and subsituting the result it returns.\n    #\n    # Note the 'e' and 'g' flags to s///, e enables \"extended\"\n    # operations which allows us to call QuoteText() and g \n    # replaces _all_ occurances on a line\n    s/$rx/QuoteText($1)/eg;\n\n    # print out the line (post any possible substitutions)\n    print;\n}\n\nsub QuoteText {\n    my $text = shift;\n\n    # the variable we will use to return our result\n    my $result;\n\n    # Does the text contain commas and also contains alphabetical characters?   \n    if($text =~ /,/ &amp;&amp; $text =~ /[a-z]/i) {\n\n        # split up the text around commas, then rejoin them with the \n        # string ',', and then prepend and append a single quote \n        # at the begining and end of line. So one,two becomes 'one','two'\n        $result = q/'/ . join(q/','/, split (',', $text)) . q/'/;\n\n    # The word _only_ contains numbers, spaces and commas, leave as is\n    } elsif($text =~ /^[\\s\\d,]+$/i) {\n        $result = $text;\n\n    # We possibly have just a single word? default to quoting the word\n    } else {\n        $result = qq/'$text'/;\n    }\n\n    # return our result wrapped in ()'s\n    return \"($result)\";\n}\n</code></pre>\n\n<p>Note: I've not uppercased the quoted words. You will need to <code>map</code> and <code>uc</code> the parts of the <code>split</code> if you want to achieve that. Also in the case where the words to be quoted is a mixture of numbers and words, it will end up quoting all numbers and words. If this is a problem, then this may be better served by splitting the words, looping over each word, evalutaing it's content to see if it needs quoting and then concatenating the result to the returned string.</p>\n"}, {"comments": [{"owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 4, "creation_date": 1471362846, "post_id": 38979218, "comment_id": 65311474, "body": "Did you test this? This does not work. Also, perl prefers <code>$1</code> to <code>\\1</code> (avoid warnings of <code>\\1 better written as $1</code>)."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1471363561, "post_id": 38979218, "comment_id": 65311905, "body": "Yeah, <code>\\1</code> is intended to be used in the regex; you use <code>$1</code> in the replacement text."}], "tags": [], "owner": {"reputation": 432, "user_id": 6542561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uEiJr.png?s=128&g=1", "display_name": "Bruce David Wilner", "link": "https://stackoverflow.com/users/6542561/bruce-david-wilner"}, "is_accepted": false, "score": -3, "last_activity_date": 1471362323, "creation_date": 1471362323, "answer_id": 38979218, "question_id": 38977424, "link": "https://stackoverflow.com/questions/38977424/replace-words-in-the-parentheses-to-put-into-quotations/38979218#38979218", "title": "Replace Words in the parentheses to put into quotations", "body": "<p><strong>WHY ALL THIS INSANE COMPLICATION?</strong>  </p>\n\n<p><strong>How about:</strong>  </p>\n\n<p><strong>$line =~ s/(([^(]+))/\"\\1\"/g;</strong></p>\n\n<p>Note that the () groups a sub-expression; the ( matches a literal '(' (there's no need to elide a ')'); the [^(]+ matches a set of non-parentheses within the asserted parentheses; the \"\\1\" quotes what was matched, viz., what occurred within the parentheses, excepting parentheses themselves.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1471371028, "creation_date": 1471371028, "answer_id": 38981734, "question_id": 38977424, "link": "https://stackoverflow.com/questions/38977424/replace-words-in-the-parentheses-to-put-into-quotations/38981734#38981734", "title": "Replace Words in the parentheses to put into quotations", "body": "<p>That's no longer a simple substitution on individual lines so it's no longer a job for sed, it's a job for awk:</p>\n\n<pre><code>$ cat tst.awk\nBEGIN { RS=\"^$\"; ORS=\"\" }\n{\n    while ( match($0,/(=\\s*\\()([^()]+)(\\))/,a) ) {\n        if ( a[2] ~ /[^0-9,]/) {\n            gsub(/,/,\"\\047,\\047\",a[2])\n            a[2] = \"\\047\" toupper(a[2]) \"\\047\"\n        }\n        print substr($0,1,RSTART-1) a[1] a[2] a[3]\n        $0 = substr($0,RSTART+RLENGTH)\n    }\n    print\n}\n\n$ awk -f tst.awk file\nSELECT          *\nFROM            (\n                       SELECT table1 file2.txt file.txt queues qdefinitions parameters\ntrap-deposit-dstran.dat.2016-08-07\n                       FROM   cs_case\n                       WHERE  ant_cd='FI_BASE_TENANT') t1\nLEFT OUTER JOIN table2 t2\nON              t2.case_id=t1.case_id\nLEFT OUTER JOIN table3 t3\nON              t3.service_xid=t1.service_xid\nLEFT OUTER JOIN table4 t4\nON              t4.service_id=t1.service_id\nWHERE           (\n                                t1.casestatus_cd = ('NEW','RETIRED','PENDING','OPEN','CLOSED')\n                OR              t1.case_status_num = (1,2,3,4) )\nGROUP BY        t1.case_reference,\n                t2.last_scrfp,\n                t1.service_id\nORDER BY        t2.last_scrfp DESC\n</code></pre>\n\n<p>The above uses GNU awk for the 3rd arg to match() and multi-char RS.</p>\n"}], "owner": {"reputation": 17, "user_id": 6717922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40075b6b0324570ee51dc6a12c082d83?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6717922/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1471371066, "creation_date": 1471357233, "last_edit_date": 1495542785, "question_id": 38977424, "link": "https://stackoverflow.com/questions/38977424/replace-words-in-the-parentheses-to-put-into-quotations", "title": "Replace Words in the parentheses to put into quotations", "body": "<p>I want to replace the words in the parentheses to put into quotations. \nMy <a href=\"https://stackoverflow.com/questions/38955980/extract-words-between-2-parentheses-in-unix-linux\">previous question</a> had one value in parentheses. This one is the same as my previous question, but thought of a scenario where I will have multiple values in parentheses.</p>\n\n<p>Below is the data I have in one of the variable data -</p>\n\n<pre><code>SELECT          * \nFROM            ( \n                       SELECT table1 file2.txt file.txt queues qdefinitions parameters trap-deposit-dstran.dat.2016-08-07 \n                       FROM   cs_case \n                       WHERE  ant_cd='FI_BASE_TENANT') t1 \nLEFT OUTER JOIN table2 t2 \nON              t2.case_id=t1.case_id \nLEFT OUTER JOIN table3 t3 \nON              t3.service_xid=t1.service_xid \nLEFT OUTER JOIN table4 t4 \nON              t4.service_id=t1.service_id \nWHERE           ( \n                                t1.casestatus_cd = (new,retired,pending,OPEN,closed) \n                OR              t1.case_status_num = (1,2,3,4) ) \nGROUP BY        t1.case_reference, \n                t2.last_scrfp, \n                t1.service_id \nORDER BY        t2.last_scrfp DESC\n</code></pre>\n\n<p>Here is what I want.</p>\n\n<pre><code>SELECT          * \nFROM            ( \n                       SELECT table1 file2.txt file.txt queues qdefinitions parameters trap-deposit-dstran.dat.2016-08-07 \n                       FROM   cs_case \n                       WHERE  ant_cd='FI_BASE_TENANT') t1 \nLEFT OUTER JOIN table2 t2 \nON              t2.case_id=t1.case_id \nLEFT OUTER JOIN table3 t3 \nON              t3.service_xid=t1.service_xid \nLEFT OUTER JOIN table4 t4 \nON              t4.service_id=t1.service_id \nWHERE           ( \n                                t1.casestatus_cd = ('NEW','RETIRED','PENDING','OPEN','CLOSED') \n                or              t1.case_status_num = (1,2,3,4) ) \nGROUP BY        t1.case_reference, \n                t2.last_scrfp, \n                t1.service_id \nORDER BY        t2.last_scrfp DESC\n</code></pre>\n\n<p>Previously I have used sed command as below</p>\n\n<pre><code>sed -E 's/\\(([^(,$1)'\\'']+)\\)/('\\''\\1'\\'')/g' Filename.txt\n</code></pre>\n"}, {"tags": ["perl", "lua", "gettext"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1471350969, "post_id": 38974935, "comment_id": 65303274, "body": "Why did you tag with Perl?"}, {"owner": {"reputation": 133, "user_id": 4620508, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kvVMne9mwZ4/AAAAAAAAAAI/AAAAAAAAABA/t3MSpd0OaPo/photo.jpg?sz=128", "display_name": "panwar001", "link": "https://stackoverflow.com/users/4620508/panwar001"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471351116, "post_id": 38974935, "comment_id": 65303356, "body": "Because gettext is using perl . From dynamic symbol table of gettext                                                                                            ..    12: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND PL_thr_key 13: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND Perl_sv_setpv  14: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND Perl_sv_2pv_flags"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1471351813, "post_id": 38974935, "comment_id": 65303851, "body": "Fair enough. Can you give a bit more context? What specific version of Lua, what version of the gettext enxtension (or whatever that is called in Lua), what version of the gettext library and so on."}, {"owner": {"reputation": 133, "user_id": 4620508, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kvVMne9mwZ4/AAAAAAAAAAI/AAAAAAAAABA/t3MSpd0OaPo/photo.jpg?sz=128", "display_name": "panwar001", "link": "https://stackoverflow.com/users/4620508/panwar001"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471352207, "post_id": 38974935, "comment_id": 65304172, "body": "Lua 5.3.2 , on 64-bit linux platform"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1471360037, "post_id": 38974935, "comment_id": 65309572, "body": "It sounds like gettext was linked to a threaded perl, but you&#39;re running an unthreaded perl. How did you install gettext? How did you install perl? Do you have multiple versions of perl installed?"}, {"owner": {"reputation": 133, "user_id": 4620508, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kvVMne9mwZ4/AAAAAAAAAAI/AAAAAAAAABA/t3MSpd0OaPo/photo.jpg?sz=128", "display_name": "panwar001", "link": "https://stackoverflow.com/users/4620508/panwar001"}, "edited": false, "score": 0, "creation_date": 1471361310, "post_id": 38974935, "comment_id": 65310464, "body": "gettext came installed with linux  &amp; Perl version is --  perl 5, version 18, subversion 2 (v5.18.2) built for x86_64-linux-gnu-thread-multi"}], "owner": {"reputation": 133, "user_id": 4620508, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kvVMne9mwZ4/AAAAAAAAAAI/AAAAAAAAABA/t3MSpd0OaPo/photo.jpg?sz=128", "display_name": "panwar001", "link": "https://stackoverflow.com/users/4620508/panwar001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 681, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1471360648, "creation_date": 1471350344, "last_edit_date": 1471360648, "question_id": 38974935, "link": "https://stackoverflow.com/questions/38974935/why-do-i-get-gettext-so-undefined-symbol-pl-thr-key-when-i-try-to-use-gett", "title": "Why do I get &quot;./gettext.so: undefined symbol: PL_thr_key&quot; when I try to use gettext in Lua?", "body": "<p>I want to use the gettext library with Lua, but I get an undefined symbol error when I try to load it: </p>\n\n<pre><code>require('gettext')\nerror loading module 'gettext' from file './gettext.so':\n    ./gettext.so: undefined symbol: PL_thr_key\nstack traceback:\n     [C]: in ?\n     [C]: in function 'require'\n     stdin:1: in main chunk\n     [C]: in ?\n</code></pre>\n\n<p><code>PL_thr_key</code> is defined in  perlapi.h, so this appears to be related to Perl.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1471345592, "post_id": 38973215, "comment_id": 65299736, "body": "Which module do you like to install?"}, {"owner": {"reputation": 39, "user_id": 6638417, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/751d9423ce6ecc2a9883602855f84faa?s=128&d=identicon&r=PG&f=1", "display_name": "Ajay Chopra", "link": "https://stackoverflow.com/users/6638417/ajay-chopra"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1471346064, "post_id": 38973215, "comment_id": 65300029, "body": "Excel::Writer::XLSX"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1471346188, "post_id": 38973215, "comment_id": 65300124, "body": "Have you tried <code>ppm install Excel-Writer-XLSX</code>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471349205, "post_id": 38973240, "comment_id": 65302075, "body": "<code>cpan</code> also installs dependencies by default, and generally gives much more useful error messages if something goes wrong."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471350285, "post_id": 38973240, "comment_id": 65302849, "body": "@Borodin: You mean to say <code>prerequisites_policy</code> is set to <code>follow</code> by default?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471351477, "post_id": 38973240, "comment_id": 65303608, "body": "I don&#39;t know about that specific option, but I&#39;ve never had to change anything to get <code>cpan</code> to install dependencies."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1471345443, "creation_date": 1471345443, "answer_id": 38973240, "question_id": 38973215, "link": "https://stackoverflow.com/questions/38973215/how-to-install-a-package-in-perl-using-ppm/38973240#38973240", "title": "How to install a package in perl using PPM", "body": "<blockquote>\n  <p>Module availability is dependent on ActivePerl version and your\n  operating system. The PPM client will show exactly what is available\n  on your current version and operating system. - <a href=\"http://www.activestate.com/activeperl/ppm-perl-modules\" rel=\"nofollow\">ActiveState</a></p>\n</blockquote>\n\n<p>Alternatively you can use <code>cpan</code>.</p>\n\n<p>Use cpan command as <code>cpan Modulename</code></p>\n\n<pre><code>$ cpan HTML::Parser\n</code></pre>\n\n<p>To install dependencies automatically follow the below</p>\n\n<pre><code>$ perl -MCPAN -e shell\ncpan[1]&gt;  o conf prerequisites_policy follow\ncpan[2]&gt;  o conf commit\nexit\n</code></pre>\n\n<p>I prefer <a href=\"https://metacpan.org/pod/App::cpanminus\" rel=\"nofollow\">App::cpanminus</a>, it installs dependencies automatically. Just do</p>\n\n<pre><code>$ cpanm HTML::Parser\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 6638417, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/751d9423ce6ecc2a9883602855f84faa?s=128&d=identicon&r=PG&f=1", "display_name": "Ajay Chopra", "link": "https://stackoverflow.com/users/6638417/ajay-chopra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 849, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1471345458, "creation_date": 1471345382, "last_edit_date": 1471345458, "question_id": 38973215, "link": "https://stackoverflow.com/questions/38973215/how-to-install-a-package-in-perl-using-ppm", "title": "How to install a package in perl using PPM", "body": "<p>I am having a query regarding there is no perl package in PPM for Excel .I have found one package online not able install that . Can any one guide me in installing the same.</p>\n\n<p>I am using the windows machine. Active perl version is 5.20 .</p>\n"}, {"tags": ["perl", "tcl"], "comments": [{"owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 3, "creation_date": 1471345119, "post_id": 38972944, "comment_id": 65299446, "body": "You will probably want to do this with perl&#39;s hash variables, <a href=\"http://perldoc.perl.org/perldsc.html#HASHES-OF-HASHES\" rel=\"nofollow noreferrer\">perldoc.perl.org/perldsc.html#HASHES-OF-HASHES</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 1, "creation_date": 1471346498, "post_id": 38972944, "comment_id": 65300312, "body": "@rustyx arrays wouldn&#39;t really help here."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1471345094, "creation_date": 1471345094, "answer_id": 38973111, "question_id": 38972944, "link": "https://stackoverflow.com/questions/38972944/how-to-save-person-details-in-perl-arrays/38973111#38973111", "title": "how to save person details in perl arrays", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $student_data = {\n    id1 =&gt; {\n        name    =&gt; 'abcd',\n        grade   =&gt; 'A',\n        bloodgroup  =&gt; 'A+'\n    },\n    id2 =&gt; {\n        name    =&gt; 'abcd',\n        grade   =&gt; 'B',\n        bloodgroup  =&gt; 'O+'\n    }\n};\nprint $student_data-&gt;{id1}-&gt;{name};\nprint $student_data-&gt;{id1}-&gt;{grade};\nprint $student_data-&gt;{id2}-&gt;{name};\nprint $student_data-&gt;{id2}-&gt;{grade};\n</code></pre>\n\n<p><a href=\"http://ideone.com/Yl5MlU\" rel=\"nofollow\"><strong>Demo</strong></a></p>\n\n<p>Also read:</p>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">References in Perl [perlref]</a></li>\n<li><a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">Perl data structure [perldsc]</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1471348471, "post_id": 38973304, "comment_id": 65301599, "body": "I don&#39;t think that an array of hashes is a good way to model the original data. In the TCL code, the first level of the data structure was keyed on strings (&#39;ID1&#39;, &#39;ID2&#39;) not integers, so I think that a hash of hashes is a better fit with the original code."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1471350261, "post_id": 38973304, "comment_id": 65302837, "body": "@Dave cross: That&#39;s I said use hashes or 2D arrays what ever. But sample I code 2d arrays"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": -1, "last_activity_date": 1471345598, "last_edit_date": 1495542170, "creation_date": 1471345598, "answer_id": 38973304, "question_id": 38972944, "link": "https://stackoverflow.com/questions/38972944/how-to-save-person-details-in-perl-arrays/38973304#38973304", "title": "how to save person details in perl arrays", "body": "<p>You can use with hashes or multidimensional array for this better.</p>\n\n<pre><code>my @student = (\n    { \n    'name' =&gt; 'abcd', \n    'grade' =&gt; 'A',\n    'bloodgroup' =&gt; 'A+',\n    },\n);\n\nprint $student[0]{'grade'}, \"\\n\";\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/6425893/how-to-create-multi-dimensional-array-in-perl\">Reference1</a>\n<a href=\"https://stackoverflow.com/questions/317310/how-can-i-create-multidimensional-arrays-in-perl\">Reference2</a></p>\n"}, {"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1471348525, "post_id": 38973638, "comment_id": 65301630, "body": "Maybe you could show how to rewrite the hash assignment in a more Perlish way <code>%student = ( ID1 =&gt; { name =&gt; &#39;abcd&#39;, ...</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1471348808, "post_id": 38973638, "comment_id": 65301827, "body": "Good suggestion. Done."}, {"owner": {"reputation": 119001, "user_id": 301832, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/965220a70d38e6a29466f44cdb4f804e?s=128&d=identicon&r=PG", "display_name": "Donal Fellows", "link": "https://stackoverflow.com/users/301832/donal-fellows"}, "edited": false, "score": 0, "creation_date": 1471363754, "post_id": 38973638, "comment_id": 65312011, "body": "Strictly, the 1-to-1 conversion would have code with <code>$student{&quot;ID1,name&quot;} = &#39;abcd&#39;;</code> but that&#39;s probably not translating the true intention."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1471363951, "post_id": 38973638, "comment_id": 65312120, "body": "You could even have something like <code>$student{&#39;ID1&#39;,&#39;name&#39;}</code> and rely on <code>$;</code> to make it work. But I really wouldn&#39;t recommend it :-/"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1471348537, "last_edit_date": 1471348537, "creation_date": 1471346647, "answer_id": 38973638, "question_id": 38972944, "link": "https://stackoverflow.com/questions/38972944/how-to-save-person-details-in-perl-arrays/38973638#38973638", "title": "how to save person details in perl arrays", "body": "<p>Translating each of your TCL lines directly into Perl:</p>\n\n<pre><code># This is an \"associative array\" and they are called \"hashes\" in Perl.\n# array set student{}\nmy %student;\n\n# set student(ID1,name) = \"abcd\"\n$student{ID1}{name} = 'abcd';\n\n# set student(ID1,grade) = \"A\"\n$student{ID1}{grade} = 'A';\n\n# set student(ID1,bloodGroup) = \"A+\"\n$student{ID1}{bloodGroup} = 'A+';\n\n# set student(ID2,name) = \"abcd\"\n$student{ID2}{name} = 'abcd';\n\n# set student(ID2,grade) = \"B\"\n$student{ID2}{grade} = 'B';\n\n# set student(ID2,bloodGroup) = \"O+\"  \n$student{ID2}{bloodGroup} = 'O+';\n</code></pre>\n\n<p>To get the blood group of all the students, you could run code like this:</p>\n\n<pre><code>foreach (keys %student) {\n  say \"Student: $student{$_}{name}, Blood group: $student{$_}{bloodGroup}\";\n}\n</code></pre>\n\n<p><strong>Update:</strong> If you had all of the data when you created the hash, then you could initialise all of the data structure in one statement.</p>\n\n<pre><code>my %student = (\n  ID1 =&gt; {\n    name =&gt; 'abcd',\n    grade =&gt; 'A',\n    bloodgroup =&gt; 'A+',\n  },\n  ID2 =&gt; {\n    name =&gt; 'abcd',\n    grade =&gt; 'B',\n    bloodgroup =&gt; 'O+',\n  },\n);\n</code></pre>\n"}], "owner": {"reputation": 391, "user_id": 2194463, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/206d7d3f2b8570783bc0838ba4ad22ea?s=128&d=identicon&r=PG", "display_name": "surendra", "link": "https://stackoverflow.com/users/2194463/surendra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1471348537, "creation_date": 1471344649, "last_edit_date": 1471347309, "question_id": 38972944, "link": "https://stackoverflow.com/questions/38972944/how-to-save-person-details-in-perl-arrays", "title": "how to save person details in perl arrays", "body": "<p>I would like to save the student details in an array with the some keys in perl scripting how can i do it?</p>\n\n<p>for example like in TCL</p>\n\n<pre><code> array set student{}\n set student(ID1,name) = \"abcd\"\n set student(ID1,grade) = \"A\"\n set student(ID1,bloodGroup) = \"A+\"\n set student(ID2,name) = \"abcd\"\n set student(ID2,grade) = \"B\"\n set student(ID2,bloodGroup) = \"O+\"  \n</code></pre>\n\n<p>is there a way how can I save the information like this in perl and extract the information based on the ID and name or grade or bloodgroup in perl?</p>\n"}, {"tags": ["shell", "perl", "awk", "sed", "pattern-matching"], "comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1471344088, "post_id": 38972736, "comment_id": 65298823, "body": "I am posting an attempt of canonical answer to <a href=\"http://stackoverflow.com/a/17988834/1983854\">How to select lines between two marker patterns which may occur multiple times with awk/sed</a> so that all cases are covered. I follow <a href=\"http://blog.stackoverflow.com/2011/07/its-ok-to-ask-and-answer-your-own-questions/\">It&#39;s OK to Ask and Answer Your Own Questions</a> and posted the answer as Community Wiki, so feel free to improve it!"}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 2, "creation_date": 1471344549, "post_id": 38972736, "comment_id": 65299113, "body": "@Cyrus yes, thank you! I also checked this one before going ahead and posting this question/answer. The point here is to provide a set of tools on this, since the volume of comments (and votes to them) in <a href=\"http://stackoverflow.com/a/17988834/1983854\">my other answer</a> lead me think that a generic post would be of good help to future readers."}, {"owner": {"reputation": 187, "user_id": 2138595, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ca14c942137442ef58aff7f4c93af049?s=128&d=identicon&r=PG", "display_name": "user2138595", "link": "https://stackoverflow.com/users/2138595/user2138595"}, "edited": false, "score": 0, "creation_date": 1471389521, "post_id": 38972736, "comment_id": 65324520, "body": "See also <a href=\"http://www.thelinuxrain.com/articles/how-to-use-flags-in-awk\" rel=\"nofollow noreferrer\">thelinuxrain.com/articles/how-to-use-flags-in-awk</a>"}, {"owner": {"reputation": 11353, "user_id": 3787051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k2G2V.png?s=128&g=1", "display_name": "Alex Harvey", "link": "https://stackoverflow.com/users/3787051/alex-harvey"}, "edited": false, "score": 0, "creation_date": 1555764445, "post_id": 38972736, "comment_id": 98219858, "body": "@fedorqui, I didn&#39;t hear back so I decided to have a go at improving the question to rank better on Google and clarifying what the scope is. Feel free to revert if you&#39;re not happy with it."}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 11353, "user_id": 3787051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k2G2V.png?s=128&g=1", "display_name": "Alex Harvey", "link": "https://stackoverflow.com/users/3787051/alex-harvey"}, "edited": false, "score": 0, "creation_date": 1555797423, "post_id": 38972736, "comment_id": 98228088, "body": "@Alex not sure where my comments back were expected, but in any case thanks for the edit! It looks fine to me. Thanks for taking the time on this"}], "answers": [{"comments": [{"owner": {"reputation": 820, "user_id": 5147708, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d63421f2bf9cb79b3c54df11430d8f6b?s=128&d=identicon&r=PG", "display_name": "Alexey Melezhik", "link": "https://stackoverflow.com/users/5147708/alexey-melezhik"}, "edited": false, "score": 1, "creation_date": 1505126215, "post_id": 38972737, "comment_id": 79268841, "body": "A useful code, I&#39;ve packaged it and uploaded as #sparrow script to make it possible to reuse by others - <a href=\"https://sparrowhub.org/info/awk-select-lines\" rel=\"nofollow noreferrer\">sparrowhub.org/info/awk-select-lines</a>"}, {"owner": {"reputation": 459, "user_id": 4124628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HulDuy2X7y0/AAAAAAAAAAI/AAAAAAAABSY/MPS4moqtZxY/photo.jpg?sz=128", "display_name": "Mukul Anand", "link": "https://stackoverflow.com/users/4124628/mukul-anand"}, "edited": false, "score": 0, "creation_date": 1570613692, "post_id": 38972737, "comment_id": 102964905, "body": "is it shortest match ?"}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 459, "user_id": 4124628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HulDuy2X7y0/AAAAAAAAAAI/AAAAAAAABSY/MPS4moqtZxY/photo.jpg?sz=128", "display_name": "Mukul Anand", "link": "https://stackoverflow.com/users/4124628/mukul-anand"}, "edited": false, "score": 0, "creation_date": 1570619147, "post_id": 38972737, "comment_id": 102967765, "body": "@MukulAnand it depends on the case"}, {"owner": {"reputation": 180, "user_id": 1614809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3ca0a4808bcee21f5a3f7f7f0ba8d1d?s=128&d=identicon&r=PG", "display_name": "Paul M", "link": "https://stackoverflow.com/users/1614809/paul-m"}, "edited": false, "score": 0, "creation_date": 1596552276, "post_id": 38972737, "comment_id": 111844015, "body": "how about if I want to print one word/column from lines in a file between patterns? here&#39;s one answer  echo &quot;n&quot; | yum update | awk &#39;/PAT1/{flag=1; next} /PAT2/{flag=0} flag{ print $5 }&#39;"}, {"owner": {"reputation": 1603, "user_id": 1098479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/75f99ef88c4eb2e5254835b5a5debe92?s=128&d=identicon&r=PG", "display_name": "bit_cracker007", "link": "https://stackoverflow.com/users/1098479/bit-cracker007"}, "edited": false, "score": 0, "creation_date": 1602476489, "post_id": 38972737, "comment_id": 113722034, "body": "Can I do grep over this awk? Like: <code>$ awk &#39;&#47;PAT1&#47;,&#47;PAT2&#47;&#39; | grep &quot;XYZ&quot;</code> ?"}, {"owner": {"reputation": 381, "user_id": 8645860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39de6a7f69842cb9a982fcc56306311a?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant", "link": "https://stackoverflow.com/users/8645860/hemant"}, "edited": false, "score": 0, "creation_date": 1603682814, "post_id": 38972737, "comment_id": 114104247, "body": "how to do it, if lines between PART1 and PART2 are extracted only once using awk?"}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 381, "user_id": 8645860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39de6a7f69842cb9a982fcc56306311a?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant", "link": "https://stackoverflow.com/users/8645860/hemant"}, "edited": false, "score": 0, "creation_date": 1603692728, "post_id": 38972737, "comment_id": 114106002, "body": "@Hemant just pipe normally: <code>awk &#39;... your things ...&#39; | awk &#39;this awk&#39;</code>"}, {"owner": {"reputation": 1908, "user_id": 397210, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/beab7f56266409ebce60dccb54d39934?s=128&d=identicon&r=PG", "display_name": "levigroker", "link": "https://stackoverflow.com/users/397210/levigroker"}, "edited": false, "score": 0, "creation_date": 1608334433, "post_id": 38972737, "comment_id": 115561425, "body": "I&#39;d appreciate a solution where PAT1 may repeat before PAT2 is encountered, and all we want is what is non-greedy between the  PAT1 which is closest to the PAT2. i.e. PAT1(some text we don&#39;t want)PAT1(some text we do want)PAT2"}], "tags": [], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "is_accepted": true, "score": 104, "last_activity_date": 1471618090, "last_edit_date": 1495541891, "creation_date": 1471344013, "answer_id": 38972737, "question_id": 38972736, "link": "https://stackoverflow.com/questions/38972736/how-to-print-lines-between-two-patterns-inclusive-or-exclusive-in-sed-awk-or/38972737#38972737", "title": "How to print lines between two patterns, inclusive or exclusive (in sed, AWK or Perl)?", "body": "<h1>Print lines between PAT1 and PAT2</h1>\n\n<pre><code>$ awk '/PAT1/,/PAT2/' file\nPAT1\n3    - first block\n4\nPAT2\nPAT1\n7    - second block\nPAT2\nPAT1\n10    - third block\n</code></pre>\n\n<p>Or, using variables:</p>\n\n<pre><code>awk '/PAT1/{flag=1} flag; /PAT2/{flag=0}' file\n</code></pre>\n\n<p>How does this work?</p>\n\n<ul>\n<li><code>/PAT1/</code> matches lines having this text, as well as <code>/PAT2/</code> does.  </li>\n<li><code>/PAT1/{flag=1}</code> sets the <code>flag</code> when the text <code>PAT1</code> is found in a line.</li>\n<li><code>/PAT2/{flag=0}</code> unsets the <code>flag</code> when the text <code>PAT2</code> is found in a line.</li>\n<li><code>flag</code> is a pattern with the default action, which is to <code>print $0</code>: if <code>flag</code> is equal 1 the line is printed. This way, it will print all those lines occurring from the time <code>PAT1</code> occurs and up to the next <code>PAT2</code> is seen. This will also print the lines from the last match of <code>PAT1</code> up to the end of the file.</li>\n</ul>\n\n<h1>Print lines between PAT1 and PAT2 - not including PAT1 and PAT2</h1>\n\n<pre><code>$ awk '/PAT1/{flag=1; next} /PAT2/{flag=0} flag' file\n3    - first block\n4\n7    - second block\n10    - third block\n</code></pre>\n\n<p>This uses <code>next</code> to skip the line that contains <code>PAT1</code> in order to avoid this being printed.</p>\n\n<p>This call to <code>next</code> can be dropped by reshuffling the blocks: <code>awk '/PAT2/{flag=0} flag; /PAT1/{flag=1}' file</code>.</p>\n\n<h1>Print lines between PAT1 and PAT2 - including PAT1</h1>\n\n<pre><code>$ awk '/PAT1/{flag=1} /PAT2/{flag=0} flag' file\nPAT1\n3    - first block\n4\nPAT1\n7    - second block\nPAT1\n10    - third block\n</code></pre>\n\n<p>By placing <code>flag</code> at the very end, it triggers the action that was set on either PAT1 or PAT2: to print on PAT1, not to print on PAT2.</p>\n\n<h1>Print lines between PAT1 and PAT2 - including PAT2</h1>\n\n<pre><code>$ awk 'flag; /PAT1/{flag=1} /PAT2/{flag=0}' file\n3    - first block\n4\nPAT2\n7    - second block\nPAT2\n10    - third block\n</code></pre>\n\n<p>By placing <code>flag</code> at the very beginning, it triggers the action that was set previously and hence print the closing pattern but not the starting one.</p>\n\n<h1>Print lines between PAT1 and PAT2 - excluding lines from the last PAT1 to the end of file if no other PAT2 occurs</h1>\n\n<p>This is based on <a href=\"https://stackoverflow.com/a/39018573/1983854\">a solution by Ed Morton</a>.</p>\n\n<pre><code>awk 'flag{\n        if (/PAT2/)\n           {printf \"%s\", buf; flag=0; buf=\"\"}\n        else\n            buf = buf $0 ORS\n     }\n     /PAT1/ {flag=1}' file\n</code></pre>\n\n<p>As a one-liner:</p>\n\n<pre><code>$ awk 'flag{ if (/PAT2/){printf \"%s\", buf; flag=0; buf=\"\"} else buf = buf $0 ORS}; /PAT1/{flag=1}' file\n3    - first block\n4\n7    - second block\n\n# note the lack of third block, since no other PAT2 happens after it\n</code></pre>\n\n<p>This keeps all the selected lines in a buffer that gets populated from the moment PAT1 is found. Then, it keeps being filled with the following lines until PAT2 is found. In that point, it prints the stored content and empties the buffer.</p>\n"}, {"comments": [{"owner": {"reputation": 106, "user_id": 9893738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4745198e0248ddba78e4af95e0c91b24?s=128&d=identicon&r=PG&f=1", "display_name": "jeremy", "link": "https://stackoverflow.com/users/9893738/jeremy"}, "edited": false, "score": 0, "creation_date": 1603885584, "post_id": 38975890, "comment_id": 114176212, "body": "Could you explain why we need (?s) as -z should &quot;remove&quot; new lines to me. I see that it&#39;s not working without, but I am not sure I understand why..."}], "tags": [], "owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "is_accepted": false, "score": 9, "last_activity_date": 1471353008, "creation_date": 1471353008, "answer_id": 38975890, "question_id": 38972736, "link": "https://stackoverflow.com/questions/38972736/how-to-print-lines-between-two-patterns-inclusive-or-exclusive-in-sed-awk-or/38975890#38975890", "title": "How to print lines between two patterns, inclusive or exclusive (in sed, AWK or Perl)?", "body": "<p>Using <code>grep</code> with PCRE (where available) to <strong>print markers and lines between markers</strong>:</p>\n\n<pre><code>$ grep -Pzo \"(?s)(PAT1(.*?)(PAT2|\\Z))\" file\nPAT1\n3    - first block\n4\nPAT2\nPAT1\n7    - second block\nPAT2\nPAT1\n10    - third block\n</code></pre>\n\n<ul>\n<li><code>-P</code> perl-regexp, PCRE. Not in all <code>grep</code> variants</li>\n<li><code>-z</code> Treat the input as a set of lines, each\nterminated by a zero byte instead of a newline </li>\n<li><code>-o</code> print only matching</li>\n<li><code>(?s)</code> DotAll, ie. dot finds newlines as well </li>\n<li><code>(.*?)</code> nongreedy find</li>\n<li><code>\\Z</code> Match only at end of string, or before newline at the end</li>\n</ul>\n\n<p><strong>Print lines between markers excluding end marker</strong>:</p>\n\n<pre><code>$ grep -Pzo \"(?s)(PAT1(.*?)(?=(\\nPAT2|\\Z)))\" file\nPAT1\n3    - first block\n4\nPAT1\n7    - second block\nPAT1\n10    - third block\n</code></pre>\n\n<ul>\n<li><code>(.*?)(?=(\\nPAT2|\\Z))</code> nongreedy find with lookahead for <code>\\nPAT2</code> and <code>\\Z</code></li>\n</ul>\n\n<p><strong>Print lines between markers excluding markers</strong>:</p>\n\n<pre><code>$ grep -Pzo \"(?s)((?&lt;=PAT1\\n)(.*?)(?=(\\nPAT2|\\Z)))\" file\n3    - first block\n4\n7    - second block\n10    - third block\n</code></pre>\n\n<ul>\n<li><code>(?&lt;=PAT1\\n)</code> positive lookbehind for <code>PAT1\\n</code></li>\n</ul>\n\n<p><strong>Print lines between markers excluding start marker</strong>:</p>\n\n<pre><code>$ grep -Pzo \"(?s)((?&lt;=PAT1\\n)(.*?)(PAT2|\\Z))\" file\n3    - first block\n4\nPAT2\n7    - second block\nPAT2\n10    - third block\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 6, "last_activity_date": 1471357788, "creation_date": 1471357788, "answer_id": 38977614, "question_id": 38972736, "link": "https://stackoverflow.com/questions/38972736/how-to-print-lines-between-two-patterns-inclusive-or-exclusive-in-sed-awk-or/38977614#38977614", "title": "How to print lines between two patterns, inclusive or exclusive (in sed, AWK or Perl)?", "body": "<p>Here is another approach</p>\n\n<p><strong>Include both patterns (default)</strong></p>\n\n<pre><code>$ awk '/PAT1/,/PAT2/' file\nPAT1\n3    - first block\n4\nPAT2\nPAT1\n7    - second block\nPAT2\nPAT1\n10    - third block\n</code></pre>\n\n<p><strong>Mask both patterns</strong></p>\n\n<pre><code>$ awk '/PAT1/,/PAT2/{if(/PAT2|PAT1/) next; print}' file\n3    - first block\n4\n7    - second block\n10    - third block\n</code></pre>\n\n<p><strong>Mask start pattern</strong></p>\n\n<pre><code>$ awk '/PAT1/,/PAT2/{if(/PAT1/) next; print}' file\n3    - first block\n4\nPAT2\n7    - second block\nPAT2\n10    - third block\n</code></pre>\n\n<p><strong>Mask end pattern</strong></p>\n\n<pre><code>$ awk '/PAT1/,/PAT2/{if(/PAT2/) next; print}' file\nPAT1\n3    - first block\n4\nPAT1\n7    - second block\nPAT1\n10    - third block\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 2, "creation_date": 1471360525, "post_id": 38978201, "comment_id": 65309931, "body": "Hey, the classic is even shorter!"}, {"owner": {"reputation": 85503, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1483878164, "post_id": 38978201, "comment_id": 70270283, "body": "What about the case of the starting line also matching the end pattern (but perhaps not vice-versa)? That would break your 3rd case at least."}, {"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1483881135, "post_id": 38978201, "comment_id": 70271099, "body": "Then the start and end pattern is not well chosen or the regex need to be more precise."}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 5, "creation_date": 1497951751, "post_id": 38978201, "comment_id": 76283925, "body": "not sure about other versions, but with GNU sed, the first one can be simplified to <code>sed -n &#39;&#47;PAT1&#47;,&#47;PAT2&#47;{&#47;&#47;!p}&#39; file</code> ... from <a href=\"https://www.gnu.org/software/sed/manual/sed.html#Regexp-Addresses\" rel=\"nofollow noreferrer\">manual</a> <code>empty regular expression \u2018&#47;&#47;\u2019 repeats the last regular expression match</code>"}, {"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "reply_to_user": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 1, "creation_date": 1497963854, "post_id": 38978201, "comment_id": 76292934, "body": "@Sundeep That&#39;s for the hint. POSIX says: <code>If an RE is empty (that is, no pattern is specified) sed shall behave as if the last RE used in the last command applied (either as an address or as part of a substitute command) was specified.</code> Looks like the only remaining question here is how to interpret <code>the last RE</code>. BSD is saying something to this. Look here (Point 23): <a href=\"https://github.com/freebsd/freebsd/blob/master/usr.bin/sed/POSIX\" rel=\"nofollow noreferrer\">github.com/freebsd/freebsd/blob/master/usr.bin/sed/POSIX</a>"}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1497964342, "post_id": 38978201, "comment_id": 76293335, "body": "@hek2mgl thanks for additional info... so if I understood correctly, <code>&#47;PAT1&#47;,&#47;PAT2&#47;{&#47;&#47;!p}</code> will work only if last RE is dynamic.. if it was static, <code>&#47;&#47;</code> would resolve to <code>&#47;PAT2&#47;</code>"}, {"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 2, "creation_date": 1497964600, "post_id": 38978201, "comment_id": 76293546, "body": "Looks like. Hard to find an incompatible version to prove that. :)"}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1555566521, "post_id": 38978201, "comment_id": 98156876, "body": "Note there is <a href=\"https://stackoverflow.com/a/55488022/1983854\">a new answer</a> suggesting improvements to this one."}, {"owner": {"reputation": 11353, "user_id": 3787051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k2G2V.png?s=128&g=1", "display_name": "Alex Harvey", "link": "https://stackoverflow.com/users/3787051/alex-harvey"}, "reply_to_user": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1555595657, "post_id": 38978201, "comment_id": 98171994, "body": "@fedorqui, there&#39;s my best go at it."}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 11353, "user_id": 3787051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k2G2V.png?s=128&g=1", "display_name": "Alex Harvey", "link": "https://stackoverflow.com/users/3787051/alex-harvey"}, "edited": false, "score": 3, "creation_date": 1555596049, "post_id": 38978201, "comment_id": 98172226, "body": "@AlexHarvey I think it is a great example of kindness what you did here, by sharing your knowledge to improve other answers. Ultimately, this was my goal when I posted this question, so we could have a canonical (<a href=\"https://xkcd.com/927/\" rel=\"nofollow noreferrer\">yet another one :P</a>) set of sources. Many thanks!"}, {"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "reply_to_user": {"reputation": 11353, "user_id": 3787051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k2G2V.png?s=128&g=1", "display_name": "Alex Harvey", "link": "https://stackoverflow.com/users/3787051/alex-harvey"}, "edited": false, "score": 1, "creation_date": 1555623755, "post_id": 38978201, "comment_id": 98184470, "body": "@AlexHarvey Let me share my view on this: I once answered <a href=\"https://stackoverflow.com/q/17988756/1983854\">How to select lines between two marker patterns which may occur multiple times...</a> and kept getting quite a lot of comments asking for similar cases. Also, when being active in these tags I felt that I was reusing the same one-liners over and over again. For this I thought that a question-answer covering most of the cases could be useful. +25 stars, +30 votes, ~30K visits, lots of duplicates to this seem to agree with this. Of course it is not comprehensive but it seems to be working well."}], "tags": [], "owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "is_accepted": false, "score": 61, "last_activity_date": 1555650640, "last_edit_date": 1555650640, "creation_date": 1471359359, "answer_id": 38978201, "question_id": 38972736, "link": "https://stackoverflow.com/questions/38972736/how-to-print-lines-between-two-patterns-inclusive-or-exclusive-in-sed-awk-or/38978201#38978201", "title": "How to print lines between two patterns, inclusive or exclusive (in sed, AWK or Perl)?", "body": "<p>What about the classic <code>sed</code> solution?</p>\n\n<h3>Print lines between PAT1 and PAT2 - include PAT1 and PAT2</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>sed -n '/PAT1/,/PAT2/p' FILE\n</code></pre>\n\n<h3>Print lines between PAT1 and PAT2 - exclude PAT1 and PAT2</h3>\n\n<em>GNU sed</em>\n\n<pre class=\"lang-none prettyprint-override\"><code>sed -n '/PAT1/,/PAT2/{/PAT1/!{/PAT2/!p}}' FILE\n</code></pre>\n\n<em>Any sed</em><sup>1</sup>\n\n<pre class=\"lang-none prettyprint-override\"><code>sed -n '/PAT1/,/PAT2/{/PAT1/!{/PAT2/!p;};}' FILE\n</code></pre>\n\n<p>or even (Thanks <a href=\"https://stackoverflow.com/questions/38972736/how-to-select-lines-between-two-patterns/38978201#comment76283925_38978201\">Sundeep</a>):</p>\n\n<em>GNU sed</em>\n\n<pre class=\"lang-none prettyprint-override\"><code>sed -n '/PAT1/,/PAT2/{//!p}' FILE\n</code></pre>\n\n<em>Any sed</em>\n\n<pre class=\"lang-none prettyprint-override\"><code>sed -n '/PAT1/,/PAT2/{//!p;}' FILE\n</code></pre>\n\n<h3>Print lines between PAT1 and PAT2 - include PAT1 but not PAT2</h3>\n\n<p>The following includes just the range start:</p>\n\n<em>GNU sed</em>\n\n<pre class=\"lang-none prettyprint-override\"><code>sed -n '/PAT1/,/PAT2/{/PAT2/!p}' FILE\n</code></pre>\n\n<em>Any sed</em>\n\n<pre class=\"lang-none prettyprint-override\"><code>sed -n '/PAT1/,/PAT2/{/PAT2/!p;}' FILE\n</code></pre>\n\n<h3>Print lines between PAT1 and PAT2 - include PAT2 but not PAT1</h3>\n\n<p>The following includes just the range end:</p>\n\n<em>GNU sed</em>\n\n<pre><code>sed -n '/PAT1/,/PAT2/{/PAT1/!p}' FILE\n</code></pre>\n\n<em>Any sed</em>\n\n<pre><code>sed -n '/PAT1/,/PAT2/{/PAT1/!p;}' FILE\n</code></pre>\n\n<hr>\n\n<p><sup>1</sup> Note about BSD/Mac OS X sed</p>\n\n<p>A command like this here:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sed -n '/PAT1/,/PAT2/{/PAT1/!{/PAT2/!p}}' FILE\n</code></pre>\n\n<p>Would emit an error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\u25b6 sed -n '/PAT1/,/PAT2/{/PAT1/!{/PAT2/!p}}' FILE\nsed: 1: \"/PAT1/,/PAT2/{/PAT1/!{/ ...\": extra characters at the end of p command\n</code></pre>\n\n<p>For this reason this answer has been edited to include BSD and GNU versions of the one-liners.</p>\n"}, {"comments": [{"owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1471360634, "post_id": 38978493, "comment_id": 65310005, "body": "Thanks for the interesting one-liners and its breakdown! I have to admit I still prefer awk, it looks clearer to me :)"}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "reply_to_user": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "edited": false, "score": 0, "creation_date": 1471360751, "post_id": 38978493, "comment_id": 65310085, "body": "I got done sorting through this one only to find <i>hek2mgl</i> had a shorter way -- take a look at his <i>classic</i> <code>sed</code> solution."}], "tags": [], "owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "is_accepted": false, "score": 2, "last_activity_date": 1471360875, "last_edit_date": 1471360875, "creation_date": 1471360224, "answer_id": 38978493, "question_id": 38972736, "link": "https://stackoverflow.com/questions/38972736/how-to-print-lines-between-two-patterns-inclusive-or-exclusive-in-sed-awk-or/38978493#38978493", "title": "How to print lines between two patterns, inclusive or exclusive (in sed, AWK or Perl)?", "body": "<p>You can do what you want with <code>sed</code> by <em>suppressing the normal printing of pattern space</em> with <code>-n</code>. For instance to <em>include</em> the patterns in the result you can do:</p>\n\n<pre><code>$ sed -n '/PAT1/,/PAT2/p' filename\nPAT1\n3    - first block\n4\nPAT2\nPAT1\n7    - second block\nPAT2\nPAT1\n10    - third block\n</code></pre>\n\n<p>To <em>exclude</em> the patterns and just print what is between them:</p>\n\n<pre><code>$ sed -n '/PAT1/,/PAT2/{/PAT1/{n};/PAT2/{d};p}' filename\n3    - first block\n4\n7    - second block\n10    - third block\n</code></pre>\n\n<p>Which breaks down as</p>\n\n<ul>\n<li><p><code>sed -n '/PAT1/,/PAT2/</code> - locate the range between <code>PAT1</code> and <code>PAT2</code> and suppress printing;</p></li>\n<li><p><code>/PAT1/{n};</code> - if it matches <code>PAT1</code> move to <code>n</code> (next) line;</p></li>\n<li><p><code>/PAT2/{d};</code> - if it matches <code>PAT2</code> delete line;</p></li>\n<li><p><code>p</code> - print all lines that fell within <code>/PAT1/,/PAT2/</code> and were not skipped or deleted.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 3530290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4a5427af7fb0b7719d9d7c66b7fb4cb?s=128&d=identicon&r=PG&f=1", "display_name": "Daedelus", "link": "https://stackoverflow.com/users/3530290/daedelus"}, "is_accepted": false, "score": 3, "last_activity_date": 1486059208, "creation_date": 1486059208, "answer_id": 42009435, "question_id": 38972736, "link": "https://stackoverflow.com/questions/38972736/how-to-print-lines-between-two-patterns-inclusive-or-exclusive-in-sed-awk-or/42009435#42009435", "title": "How to print lines between two patterns, inclusive or exclusive (in sed, AWK or Perl)?", "body": "<p>Alternatively:</p>\n\n<pre><code>sed '/START/,/END/!d;//d'\n</code></pre>\n\n<p>This deletes all lines except for those between and including START and END, then the <code>//d</code> deletes the START and END lines since <code>//</code> causes sed to use the previous patterns.</p>\n"}, {"tags": [], "owner": {"reputation": 11353, "user_id": 3787051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k2G2V.png?s=128&g=1", "display_name": "Alex Harvey", "link": "https://stackoverflow.com/users/3787051/alex-harvey"}, "is_accepted": false, "score": 5, "last_activity_date": 1555763853, "last_edit_date": 1555763853, "creation_date": 1555762616, "answer_id": 55773449, "question_id": 38972736, "link": "https://stackoverflow.com/questions/38972736/how-to-print-lines-between-two-patterns-inclusive-or-exclusive-in-sed-awk-or/55773449#55773449", "title": "How to print lines between two patterns, inclusive or exclusive (in sed, AWK or Perl)?", "body": "<p>For completeness, here is a Perl solution:</p>\n\n<h3>Print lines between PAT1 and PAT2 - include PAT1 and PAT2</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -ne '/PAT1/../PAT2/ and print' FILE\n</code></pre>\n\n<p>or:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -ne 'print if /PAT1/../PAT2/' FILE\n</code></pre>\n\n<h3>Print lines between PAT1 and PAT2 - exclude PAT1 and PAT2</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -ne '/PAT1/../PAT2/ and !/PAT1/ and !/PAT2/ and print' FILE\n</code></pre>\n\n<p>or:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -ne 'if (/PAT1/../PAT2/) {print unless /PAT1/ or /PAT2/}' FILE \n</code></pre>\n\n<h3>Print lines between PAT1 and PAT2 - exclude PAT1 only</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -ne '/PAT1/../PAT2/ and !/PAT1/ and print' FILE\n</code></pre>\n\n<h3>Print lines between PAT1 and PAT2 - exclude PAT2 only</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>perl -ne '/PAT1/../PAT2/ and !/PAT2/ and print' FILE\n</code></pre>\n\n<p>See also:</p>\n\n<ul>\n<li>Range operator section in <code>perldoc perlop</code> for more on the <code>/PAT1/../PAT2/</code> grammar:</li>\n</ul>\n\n<blockquote>\n  <p><strong>Range operator</strong> </p>\n  \n  <p>...In scalar context, \"..\" returns a boolean value.  The operator is\n  bistable, like a flip-flop, and emulates the line-range (comma)\n  operator of sed, awk, and various editors.</p>\n</blockquote>\n\n<ul>\n<li><p>For the <code>-n</code> option, see <code>perldoc perlrun</code>, which makes Perl behave like <code>sed -n</code>.</p></li>\n<li><p><a href=\"https://docstore.mik.ua/orelly/perl3/cookbook/ch06_09.htm\" rel=\"noreferrer\">Perl Cookbook, 6.8</a> for a detailed discussion of extracting a range of lines.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 448, "user_id": 2553187, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a525d8c7afd6e1fc19a8fa519a01b205?s=128&d=identicon&r=PG", "display_name": "aalosious", "link": "https://stackoverflow.com/users/2553187/aalosious"}, "is_accepted": false, "score": 2, "last_activity_date": 1572071361, "creation_date": 1572071361, "answer_id": 58568587, "question_id": 38972736, "link": "https://stackoverflow.com/questions/38972736/how-to-print-lines-between-two-patterns-inclusive-or-exclusive-in-sed-awk-or/58568587#58568587", "title": "How to print lines between two patterns, inclusive or exclusive (in sed, AWK or Perl)?", "body": "<p>This is like a foot-note to the 2 top answers above (awk &amp; sed). I needed to run it on a large number of files, and hence performance was important. I put the 2 answers to a load-test of 10000 times:</p>\n\n<h3>sedTester.sh</h3>\n\n<pre><code>for i in `seq 10000`;do sed -n '/PAT1/,/PAT2/{/PAT1/!{/PAT2/!p;};}' patternTester &gt;&gt; sedTesterOutput; done\n</code></pre>\n\n<h3>awkTester.sh</h3>\n\n<pre><code> for i in `seq 10000`;do awk '/PAT1/{flag=1; next} /PAT2/{flag=0} flag' patternTester &gt;&gt; awkTesterOutput; done\n</code></pre>\n\n<p>Here are the results:</p>\n\n<pre><code>zsh sedTester.sh  11.89s user 39.63s system 81% cpu 1:02.96 total\nzsh awkTester.sh  38.73s user 60.64s system 79% cpu 2:04.83 total\n</code></pre>\n\n<p>sed solutions seems to be twice as fast as the awk solution (Mac OS).</p>\n"}, {"tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 0, "last_activity_date": 1606143015, "creation_date": 1606143015, "answer_id": 64970718, "question_id": 38972736, "link": "https://stackoverflow.com/questions/38972736/how-to-print-lines-between-two-patterns-inclusive-or-exclusive-in-sed-awk-or/64970718#64970718", "title": "How to print lines between two patterns, inclusive or exclusive (in sed, AWK or Perl)?", "body": "<p>This might work for you (GNU sed) on the proviso that <code>PAT1</code> and <code>PAT2</code> are on separate lines:</p>\n<pre><code>sed -n '/PAT1/{:a:N;/PAT2/!ba;p}' file\n</code></pre>\n<p>Turn off implicit printing by using the <code>-n</code> option and act like grep.</p>\n<p>N.B. All solutions using the range idiom i.e. <code>/PAT1/,/PAT2/ command</code> suffer from the same edge case, where <code>PAT1</code> exists but <code>PAT2</code> does not and therefore will print from <code>PAT1</code> to the end of the file.</p>\n<p>For completeness:</p>\n<pre><code># PAT1 to PAT2 without PAT1\nsed -n '/PAT1/{:a;N;/PAT2/!ba;s/^[^\\n]*\\n//p}' file \n\n# PAT1 to PAT2 without PAT2\nsed -n '/PAT1/{:a;N;/PAT2/!ba;s/\\n[^\\n]*$//p}' file \n\n# PAT1 to PAT2 without PAT1 and PAT2   \nsed -n '/PAT1/{:a;N;/PAT2/!ba;/\\n.*\\n/!d;s/^[^\\n]*\\n\\|\\n[^\\n]*$/gp}' file\n</code></pre>\n<p>N.B. In the last solution <code>PAT1</code> and <code>PAT2</code> may be on consecutive lines and therefore a further edge case may arise. IMO both are deleted and nothing printed.</p>\n"}], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63893, "favorite_count": 41, "accepted_answer_id": 38972737, "answer_count": 9, "score": 65, "last_activity_date": 1606143015, "creation_date": 1471344013, "last_edit_date": 1580277784, "question_id": 38972736, "link": "https://stackoverflow.com/questions/38972736/how-to-print-lines-between-two-patterns-inclusive-or-exclusive-in-sed-awk-or", "title": "How to print lines between two patterns, inclusive or exclusive (in sed, AWK or Perl)?", "body": "<p>I have a file like the following and I would like to print the lines between two given patterns <code>PAT1</code> and <code>PAT2</code>.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1\n2\nPAT1\n3    - first block\n4\nPAT2\n5\n6\nPAT1\n7    - second block\nPAT2\n8\n9\nPAT1\n10    - third block\n</code></pre>\n\n<p>I have read <a href=\"https://stackoverflow.com/q/17988756/1983854\">How to select lines between two marker patterns which may occur multiple times with awk/sed</a> but I am curious to see all the possible combinations of this, either including or excluding the pattern.</p>\n\n<p>How can I print all lines between two patterns?</p>\n"}, {"tags": ["perl", "hash", "data-dumper"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1471341700, "post_id": 38971803, "comment_id": 65297385, "body": "its an array of annonmous hashes so you will need to access it as such with something like <code>$myarray-&gt;{&#39;ref&#39;}</code> or to print them all on a new line <code>print &quot;$_-&gt;{&#39;ref&#39;}\\n&quot; foreach (@myarray);</code>"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1471341847, "post_id": 38971803, "comment_id": 65297470, "body": "Also this <code>print( @way_node_refs[1]-&gt;{&#39;ref&#39;} );</code> should be <code>print( $way_node_refs[1]-&gt;{&#39;ref&#39;} );</code> when accessing an arrays nidex the syntax uses the $ sigil"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471342009, "post_id": 38971803, "comment_id": 65297583, "body": "Don&#39;t use XML::Simple. <a href=\"https://metacpan.org/pod/XML::Simple#STATUS-OF-THIS-MODULE\" rel=\"nofollow noreferrer\">Its documentation discourages using it</a>. If you know what you want to do with the data in your XML file, you can use XML::Twig or XML::LibXML instead to write easier to maintain code that is more terse and less error-prone."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1471343237, "post_id": 38971803, "comment_id": 65298272, "body": "If you post the source XML, we can give you a MUCH better solution, that doesn&#39;t use <code>XML::Simple</code>."}, {"owner": {"reputation": 13, "user_id": 6701714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4505731b81a09b46ac3e794d616e728e?s=128&d=identicon&r=PG&f=1", "display_name": "mad_a_i", "link": "https://stackoverflow.com/users/6701714/mad-a-i"}, "edited": false, "score": 0, "creation_date": 1471345932, "post_id": 38971803, "comment_id": 65299938, "body": "<a href=\"http://wiki.openstreetmap.org/wiki/OpenLayers_osm_file_example\" rel=\"nofollow noreferrer\">wiki.openstreetmap.org/wiki/OpenLayers_osm_file_example</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1471346469, "post_id": 38971803, "comment_id": 65300296, "body": "It&#39;s best if you post a new question asking how you can get to the specific values you want from that input without using XML::Simple."}, {"owner": {"reputation": 13, "user_id": 6701714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4505731b81a09b46ac3e794d616e728e?s=128&d=identicon&r=PG&f=1", "display_name": "mad_a_i", "link": "https://stackoverflow.com/users/6701714/mad-a-i"}, "edited": false, "score": 0, "creation_date": 1471355662, "post_id": 38971803, "comment_id": 65306588, "body": "I don&#39;t want to overdo it simbaque because the implementation in perl is just a prototype. The whole thing will be done in C later on."}], "answers": [{"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": 3, "last_activity_date": 1471342310, "last_edit_date": 1471342310, "creation_date": 1471341576, "answer_id": 38971890, "question_id": 38971803, "link": "https://stackoverflow.com/questions/38971803/understanding-datadumper-output/38971890#38971890", "title": "Understanding Data::Dumper output", "body": "<p>This is called array of hashes. If <code>$array</code> contains the data then below will work :</p>\n\n<p><code>[]</code> is anonymous array reference, while <code>{}</code> is anonymous hash reference. Check <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\"><code>perlref</code></a>.</p>\n\n<pre><code>for (@{ $array }) {\n    print $_ -&gt; {ref},\"\\n\";\n}\n</code></pre>\n\n<p>Further reading: </p>\n\n<ol>\n<li>Using <a href=\"http://perldoc.perl.org/perlop.html#The-Arrow-Operator\" rel=\"nofollow\"><code>Arrow operator(-&gt;)</code></a> - Most suitable for accesing a single item from arrayref or hashref.</li>\n<li>Using <a href=\"http://perldoc.perl.org/perlreftut.html#Using-References\" rel=\"nofollow\"><code>@ { }</code></a> - Suitable for iterating over arrayrefs .</li>\n</ol>\n\n<p><strong>Edit:</strong> </p>\n\n<p>Now after your edit, it is clear that you want something like this:</p>\n\n<pre><code>for (@way_node_refs) {\n    print $_ -&gt; {ref},\"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1471341836, "creation_date": 1471341836, "answer_id": 38971992, "question_id": 38971803, "link": "https://stackoverflow.com/questions/38971803/understanding-datadumper-output/38971992#38971992", "title": "Understanding Data::Dumper output", "body": "<p>You have an array reference where the values inside the array are hash references. To access single values, use the arrow operator <code>-&gt;</code>.</p>\n\n<pre><code> print $foo-&gt;[0]-&gt;{ref};\n print $foo-&gt;[1]-&gt;{ref};\n</code></pre>\n\n<p>Or you can loop through them.</p>\n\n<pre><code>foreach my $elem ( @{ $foo } ) {\n    print Dumper $elem;\n    print $elem-&gt;{ref};\n}\n</code></pre>\n\n<p>You <a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow\">could even <code>sort</code></a> them alphabetically by the values of the <em>ref</em> keys.</p>\n\n<pre><code>my @sorted = sort { $a-&gt;{ref} cmp $b-&gt;{ref} } @$foo; # note @sorted is an array\n</code></pre>\n\n<hr>\n\n<p>See <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perlref</a>, <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a> and <a href=\"http://perldoc.perl.org/perldsc.html#ARRAYS-OF-HASHES\" rel=\"nofollow\">perldsc</a> for more details on data structures and references.</p>\n"}], "owner": {"reputation": 13, "user_id": 6701714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4505731b81a09b46ac3e794d616e728e?s=128&d=identicon&r=PG&f=1", "display_name": "mad_a_i", "link": "https://stackoverflow.com/users/6701714/mad-a-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1118, "favorite_count": 0, "accepted_answer_id": 38971992, "answer_count": 2, "score": 0, "last_activity_date": 1471352023, "creation_date": 1471341271, "last_edit_date": 1471352023, "question_id": 38971803, "link": "https://stackoverflow.com/questions/38971803/understanding-datadumper-output", "title": "Understanding Data::Dumper output", "body": "<p>Simple question:</p>\n\n<pre><code>use warnings;\nuse XML::Simple;\nuse Data::Dumper;\n\nmy $file='test.osm';\n\nmy $test_data = XMLin( $file ); \n\nprint Dumper( $test_data ); \n\nmy @way_node_refs=$test_data-&gt;{'way'}-&gt;{'nd'};\n\nprint Dumper( @way_node_refs ); \n\nprint( @way_node_refs[1]-&gt;{'ref'} );ere\n</code></pre>\n\n<p>It has the following output. The first dump is not given because it does not matter.</p>\n\n<pre><code>$VAR1 = [\n      {\n        'ref' =&gt; '453966480'\n      },\n      {\n        'ref' =&gt; '453966490'\n      },\n      {\n        'ref' =&gt; '453966482'\n      },\n      {\n        'ref' =&gt; '453966130'\n      },\n      {\n        'ref' =&gt; '453966143'\n      },\n      {\n        'ref' =&gt; '453966480'\n      }\n    ];\n</code></pre>\n\n<p>How can I access the values with the key ref. I don't know how to interprete the braces kinda.</p>\n"}, {"tags": ["database", "bash", "perl", "awk"], "comments": [{"owner": {"reputation": 261, "user_id": 4888870, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/j2N4r.jpg?s=128&g=1", "display_name": "Thomas Paine", "link": "https://stackoverflow.com/users/4888870/thomas-paine"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1471339273, "post_id": 38970875, "comment_id": 65295768, "body": "Thank is the line whose information will become null.  I will update my question to reflect that outcome."}, {"owner": {"reputation": 261, "user_id": 4888870, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/j2N4r.jpg?s=128&g=1", "display_name": "Thomas Paine", "link": "https://stackoverflow.com/users/4888870/thomas-paine"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1471339756, "post_id": 38970875, "comment_id": 65296119, "body": "Then together they would have 12 fields, and if that is not the common field count, that is declared in the variable, then &#39;NULL&#39; should be appended to the end of the row."}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1471340148, "creation_date": 1471340148, "answer_id": 38971380, "question_id": 38970875, "link": "https://stackoverflow.com/questions/38970875/awk-sum-of-multiple-records-field-and-combine-if-equal-to-variable/38971380#38971380", "title": "AWK sum of multiple record&#39;s field and combine if equal to variable", "body": "<p>I noticed your question is tagged <code>perl</code>, too. So, here's a readable Perl solution:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %count;\nmy $max = 0;\n\nopen my $FH, '&lt;', shift or die $!;\nwhile (&lt;$FH&gt;) {\n    my $c = split /@/;\n    $count{$c}++;\n    $max = $c if $c &gt; $max;\n}\n\nwarn \"The max count ($max) different from the most common\\n\"\n    if grep $_ &gt; $count{$max}, values %count;\n\nseek $FH, 0, 0;\nmy $leftover = 0;\nwhile (&lt;$FH&gt;) {\n    my $c = $leftover + split /@/;\n    if ($leftover) {\n        print '@';\n        if ($c &gt; $max) {\n            $c -= $leftover;\n            print \"NULL\\n\";\n        }\n    }\n\n    if ($c != $max) {\n        $leftover += $c;\n        chomp;\n    } else {\n        $leftover = 0;\n    }\n    print;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11156, "user_id": 2214695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dee2ef257601e05c5659f04de9cb7c67?s=128&d=identicon&r=PG", "display_name": "oliv", "link": "https://stackoverflow.com/users/2214695/oliv"}, "is_accepted": false, "score": 0, "last_activity_date": 1471347288, "creation_date": 1471347288, "answer_id": 38973856, "question_id": 38970875, "link": "https://stackoverflow.com/questions/38970875/awk-sum-of-multiple-records-field-and-combine-if-equal-to-variable/38973856#38973856", "title": "AWK sum of multiple record&#39;s field and combine if equal to variable", "body": "<p>A possible way forward with <code>awk</code>:</p>\n\n<pre><code>awk -F@ '\n    NF&gt;=10 {\n      if(p!=\"\") {\n         print p \"@NULL\"\n         p=\"\"\n      }\n      print\n    } \n    NF&lt;10 {\n      if(!p || p==\"\") {\n        p=$0\n      } else {\n        print p \"@\" $0;p=\"\"\n      }\n    }' file\n</code></pre>\n\n<p>This script will print all lines having 10 or more fields. It will concatenate consecutive lines if they both have less that 10 fields, and will append the <code>@NULL</code> in case of 9 fields.</p>\n"}], "owner": {"reputation": 261, "user_id": 4888870, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/j2N4r.jpg?s=128&g=1", "display_name": "Thomas Paine", "link": "https://stackoverflow.com/users/4888870/thomas-paine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 38971380, "answer_count": 2, "score": -1, "last_activity_date": 1471347288, "creation_date": 1471338737, "last_edit_date": 1471339382, "question_id": 38970875, "link": "https://stackoverflow.com/questions/38970875/awk-sum-of-multiple-records-field-and-combine-if-equal-to-variable", "title": "AWK sum of multiple record&#39;s field and combine if equal to variable", "body": "<p>I have a challenge with data alignment. In the below example, there are rows that belong at the end of the previous row, and other rows that need to be changed to null.</p>\n\n<pre><code>117@M@7@7@81 1/2@61/2@51/2@41/2@1PAWS@7.40 5w BITE SLOW\n117@M@11@5@41/2@31/2@31@3PAWS@21/2@3.40 4w BITE SLOW\n124@M@2@2@31/2@41/2@41/2@21/2@33/4@1.30* led 1/16p, BITE SLOW\n117@M@3@3@21@21/2@2PAWS@1PAWS@41 3/4 ins, BITE SLOW\n117@--@1@6@61/2@51/2@61/2@61/2@5TEETH@26.25 cut BITE SLOW\n117@--@4@8@7PAWS@82@81/2@81/2@6TEETH@13.10 5w BITE SLOW\n117@M@10@9@91@91/2@9PAWS@91@71 1/4@10.10 4w BITE FAST\n124@M@6@4@51/2@71@71@71/2@8TEETH@15.90 3w BITE FAST\n117@M@9@1@11/2@11/2@11/2@51@9TEETH@8.70 in BITE FAST\n117@M@8@11@11@10PAWS@105@103@10 2 3/4\n19.50 6w upper, no response\n124@M@5@10@101@11@11@11@11@86.50 off slow, no impact\n</code></pre>\n\n<p>What I have done so far is create a variable that outputs the most used field count of all the records.  I want to use that variable in awk to find the rows that are lacking data or are incorrectly formatted.</p>\n\n<pre><code>FLDCNT=$(sed '/^ *$/d' file | sed 's/^ *//g' |awk -F@ '{print NF}' | sort | uniq -c | sort |awk 'END{print $NF}');\n</code></pre>\n\n<p>Using something along the lines of:</p>\n\n<pre><code>awk -F@ -v x=$FLDCNT '{if(NF != x &amp;&amp; [some code to check record and next record's combined field count = $FLDCNT] ) [add the next row to the end of the current rows fields] print }' file\n</code></pre>\n\n<p>I can find the rows/records that I need to work with, but I am unsure on how to preform the steps in the \"[]\" section of the above code.</p>\n\n<p>In the end, the output should be:</p>\n\n<pre><code>117@M@7@7@81 1/2@61/2@51/2@41/2@1PAWS@7.40 5w BITE SLOW\n117@M@11@5@41/2@31/2@31@3PAWS@21/2@3.40 4w BITE SLOW\n124@M@2@2@31/2@41/2@41/2@21/2@33/4@1.30* led 1/16p, BITE SLOW\n117@M@3@3@21@21/2@2PAWS@1PAWS@41 3/4 ins, BITE SLOW@NULL\n117@--@1@6@61/2@51/2@61/2@61/2@5TEETH@26.25 cut BITE SLOW\n117@--@4@8@7PAWS@82@81/2@81/2@6TEETH@13.10 5w BITE SLOW\n117@M@10@9@91@91/2@9PAWS@91@71 1/4@10.10 4w BITE FAST\n124@M@6@4@51/2@71@71@71/2@8TEETH@15.90 3w BITE FAST\n117@M@9@1@11/2@11/2@11/2@51@9TEETH@8.70 in BITE FAST\n117@M@8@11@11@10PAWS@105@103@10 2 3/4@19.50 6w upper, no response\n124@M@5@10@101@11@11@11@11@86.50 off slow, no impact\n</code></pre>\n\n<p>I know from the example that there are some easier solutions, like using an if statement on a known field format. However, I am working with thousands of files, and the field and record counts are different for all of them.</p>\n\n<p>In summary, I am trying to find the most common column count of all the rows, find the rows that don't match that common number, lets call those oddballs, and check if appending the next row to the oddballs will cause the oddballs to have the same column count as the common number, and if so append the rows together.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1471345819, "post_id": 38967855, "comment_id": 65299870, "body": "None of the details that you have added have altered the situation at all. The problem is that <code>$dbh</code> is undefined  when you use it to call <code>prepare()</code>. You need to work out why it isn&#39;t set at that point in your program."}, {"owner": {"reputation": 47, "user_id": 6720426, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-YU-G3fVHJvo/AAAAAAAAAAI/AAAAAAAAAxM/r3VFlfGQQ-A/photo.jpg?sz=128", "display_name": "Jitender Bandari", "link": "https://stackoverflow.com/users/6720426/jitender-bandari"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1471346475, "post_id": 38967855, "comment_id": 65300299, "body": "we are calling sub dbLogin() function for everytime while calling prepare() like  my $dbh= &amp;dbLogin; my $sth = $dbh-&gt;prepare($checkUser) or return ($::FALSE,&quot;checkUser prepare failed &quot;);."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1471346792, "post_id": 38967855, "comment_id": 65300484, "body": "Then <code>dbLogin()</code> is returning an undefined value for some reason. You&#39;ll need to work out why that is. And, please don&#39;t call subroutines with <code>&amp;</code>. It&#39;s potentially confusing and hasn&#39;t been required for over twenty years."}, {"owner": {"reputation": 47, "user_id": 6720426, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-YU-G3fVHJvo/AAAAAAAAAAI/AAAAAAAAAxM/r3VFlfGQQ-A/photo.jpg?sz=128", "display_name": "Jitender Bandari", "link": "https://stackoverflow.com/users/6720426/jitender-bandari"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1471347116, "post_id": 38967855, "comment_id": 65300670, "body": "how come it is giving undefined value i am not getting..because we have 2k lines of code and in that file same my $dbh=&amp;dbLogin(); is used for so many times...here we are getting issue when we are calling $dbh-&gt;prepare() for the last lines of code."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1471347980, "post_id": 38967855, "comment_id": 65301261, "body": "I have no idea. That&#39;s for you to find out. If I was debugging this I&#39;d be printing the value of <code>$dbh</code> in three places - as it&#39;s returned from <code>connect()</code>, just before it&#39;s returned from <code>dbLogin()</code> and just before it&#39;s used to call <code>prepare()</code>. That will show you where it first gets undefined. But if you&#39;re a programmer, you should be able to work this out for yourself."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 6720426, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-YU-G3fVHJvo/AAAAAAAAAAI/AAAAAAAAAxM/r3VFlfGQQ-A/photo.jpg?sz=128", "display_name": "Jitender Bandari", "link": "https://stackoverflow.com/users/6720426/jitender-bandari"}, "edited": false, "score": 0, "creation_date": 1471337836, "post_id": 38968199, "comment_id": 65294863, "body": "Hi Chankey, here we are using sub dbLogin  { } function.in this function we have given $dbh = DBI-&gt;connect(&#39;DBI:Oracle:DBname&#39;, &#39;username&#39;, &#39;pwd&#39;) or die &quot;Couldn&#39;t connect to database: &quot; . DBI-&gt;errstr; like this and this function is returning $dbh; so as per your suggestion we already using that $dbh code of line."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1471338319, "post_id": 38968199, "comment_id": 65295144, "body": "If your <code>dbLogin()</code> function is returning a valid <code>$dbh</code>, but <code>$dbh</code> is undefined by the time you use it to call <code>prepare()</code>, then something must be overwriting the value. Or perhaps you&#39;re not using the correct <code>$dbh</code> variable. Do you have <code>my $dbh</code> somewhere that is masking the original variable?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1471338444, "post_id": 38968199, "comment_id": 65295208, "body": "If you have largish code fragments (like the <code>dbLogin()</code> function, it would be helpful if you could edit your question to include them instead of putting them in comments where they are very hard to read."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 3, "last_activity_date": 1471344483, "last_edit_date": 1471344483, "creation_date": 1471329824, "answer_id": 38968199, "question_id": 38967855, "link": "https://stackoverflow.com/questions/38967855/cant-call-method-prepare-on-an-undefined-value-perl/38968199#38968199", "title": "can&#39;t call method prepare on an undefined value perl", "body": "<p>It means <code>$dbh</code> is not correct. Please write your <code>$dbh</code> like below and see if it's failing to make connection.</p>\n\n<pre><code>my $dbh = DBI-&gt;connect($data_source, $username, $auth, \\%attr)\n                or die \"Couldn't connect to database: \" . DBI-&gt;errstr;\n</code></pre>\n\n<p>Alternatively</p>\n\n<pre><code>my $dbh = DBI-&gt;connect($data_source, $username, $auth, { RaiseError =&gt; 1 });\n</code></pre>\n\n<hr>\n\n<p>As per your edited question:</p>\n\n<p>Print dumper of <code>$dbh</code> after calling the <code>dbLogin</code> subroutine (just before <code>prepare</code> statement) to see if it is undefined. If that's the case then you need to debug further to see what is modifying <code>$dbh</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1471334549, "last_edit_date": 1495541315, "creation_date": 1471334549, "answer_id": 38969552, "question_id": 38967855, "link": "https://stackoverflow.com/questions/38967855/cant-call-method-prepare-on-an-undefined-value-perl/38969552#38969552", "title": "can&#39;t call method prepare on an undefined value perl", "body": "<p>Ok, so let's look at that error.</p>\n\n<blockquote>\n  <p>can't call method prepare on an undefined value</p>\n</blockquote>\n\n<p>Perl tells you that you're calling the method <code>prepare()</code> on an undefined value. What does that mean?</p>\n\n<p>In your code you have this line:</p>\n\n<p><code>my $sth = $dbh-&gt;prepare(...);</code></p>\n\n<p>Here, <code>prepare()</code> is a method which you are calling on the object <code>$dbh</code>. If Perl is telling you that you're calling it on an undefined value, then at this point of your code <code>$dbh</code> must be undefined.</p>\n\n<p>So you need to look at where you think that <code>$dbh</code> is given a value. That code is going wrong somehow. You need to add more error checking around there in order to find out what is going wrong. The code that <a href=\"https://stackoverflow.com/a/38968199/7231\">Chankey suggests</a> looks like an excellent start.</p>\n"}], "owner": {"reputation": 47, "user_id": 6720426, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-YU-G3fVHJvo/AAAAAAAAAAI/AAAAAAAAAxM/r3VFlfGQQ-A/photo.jpg?sz=128", "display_name": "Jitender Bandari", "link": "https://stackoverflow.com/users/6720426/jitender-bandari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5004, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1471344483, "creation_date": 1471328472, "last_edit_date": 1471340078, "question_id": 38967855, "link": "https://stackoverflow.com/questions/38967855/cant-call-method-prepare-on-an-undefined-value-perl", "title": "can&#39;t call method prepare on an undefined value perl", "body": "<p>In dbutils.pm file we are using </p>\n\n<pre><code>my $sth = $dbh-&gt;prepare($checkUser) or return ($::FALSE,\"checkUser prepare failed \"); \n</code></pre>\n\n<p>in this statement getting error like <strong>can't call method prepare on an undefined value</strong>   same statement using in this file for many times but I didn't get any error like this.\nprepare($checkUser) --> checkUser is SQL query and its returning something. there is no issue with query its returning values.</p>\n\n<p>We are using <code>sub dbLogin { }</code> function. In this function we have given:</p>\n\n<pre><code>$dbh = DBI-&gt;connect('DBI:Or\u200c\u200bacle:DBname', 'username', 'pwd')\n  or die \"Couldn't connect to database: \" . DBI-&gt;errstr;\n</code></pre>\n\n<p>And this function is returning <code>$dbh</code> so as per your suggestion we already using that <code>$dbh</code> code of line.</p>\n\n<p>What ever the $dbh is returning that we are using in many times &amp; places in dbUtil.pm file.</p>\n\n<p>Please suggest me to resolve this issue.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 8, "last_activity_date": 1471329528, "last_edit_date": 1495542785, "creation_date": 1471329108, "answer_id": 38968019, "question_id": 38967775, "link": "https://stackoverflow.com/questions/38967775/what-does-perl-i-means/38968019#38968019", "title": "What does perl -I means", "body": "<blockquote>\n  <p>-Idirectory </p>\n  \n  <p>Directories specified by -I are prepended to the search path for modules (@INC ).</p>\n</blockquote>\n\n<p>Source: <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\">perlrun documentation</a></p>\n\n<p>It means <code>perl</code> will include the modules available under specified directory following <code>-I</code> which is <code>$prod_dir</code> in your case.</p>\n\n<p>By default Perl picks up modules from <code>@INC</code>. If you want to use a module which is not available in <code>@INC</code> then you can specify the directory using <code>-I</code>. This specified directory will be appended to <code>@INC</code> at run time.</p>\n\n<p>Also read:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2526804/how-is-perls-inc-constructed-aka-what-are-all-the-ways-of-affecting-where-pe\">How is Perl&#39;s @INC constructed? (aka What are all the ways of affecting where Perl modules are searched for?)</a></li>\n<li><a href=\"http://perlmaven.com/how-to-change-inc-to-find-perl-modules-in-non-standard-locations\" rel=\"nofollow noreferrer\">How to change @INC to find Perl modules in non-standard locations</a></li>\n</ul>\n"}], "owner": {"reputation": 83, "user_id": 5634392, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K9mh4.jpg?s=128&g=1", "display_name": "BashingPerl", "link": "https://stackoverflow.com/users/5634392/bashingperl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 38968019, "answer_count": 1, "score": 1, "last_activity_date": 1471329528, "creation_date": 1471328110, "question_id": 38967775, "link": "https://stackoverflow.com/questions/38967775/what-does-perl-i-means", "title": "What does perl -I means", "body": "<p>I see this a lot in bash scripts and I cannot see this in the manual and other sites.</p>\n\n<p>What does the -I in running a perl script mean?</p>\n\n<p>It is run like this:</p>\n\n<pre><code>perl -I$prod_dir $prod_dir/script.pl &lt;parameter1&gt; &lt;parameter2&gt;\n</code></pre>\n\n<p>Can someone explain it to me?</p>\n"}, {"tags": ["apache", "perl", "nginx", "https", "amazon-elb"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471338645, "post_id": 38965242, "comment_id": 65295353, "body": "Can you give an example of Perl code that uses a CGI function to create a self-referencing URL?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471338889, "post_id": 38965242, "comment_id": 65295529, "body": "It&#39;s using <code>SERVER_PROTOCOL</code>. <a href=\"https://metacpan.org/source/LEEJO/CGI-4.32/lib/CGI.pm#L3157\" rel=\"nofollow noreferrer\">metacpan.org/source/LEEJO/CGI-4.32/lib/CGI.pm#L3157</a> \u2013 if this always runs in the https world, you could just subclass CGI or monkey-patch that function to always return <code>https</code>."}], "answers": [{"tags": [], "owner": {"reputation": 3167, "user_id": 1751825, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c157caf2d0f9ff38e5a9820315c0a15f?s=128&d=identicon&r=PG&f=1", "display_name": "user1751825", "link": "https://stackoverflow.com/users/1751825/user1751825"}, "is_accepted": false, "score": 1, "last_activity_date": 1471344445, "creation_date": 1471344445, "answer_id": 38972887, "question_id": 38965242, "link": "https://stackoverflow.com/questions/38965242/cgi-self-referenced-urls-use-http-instead-of-https-when-using-aws-elb/38972887#38972887", "title": "CGI self-referenced URLs use HTTP instead of HTTPS when using AWS ELB", "body": "<p>I found a relatively simple way to do it.</p>\n\n<p>I just SetEnv HTTPS 'on' in the Apache config. The CGI module is now satisfied that it's HTTPS, so creates URLs accordingly.</p>\n\n<p>I set the other environment variables to match just to be safe, but it just seems to be HTTPS that CGI uses.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1471354847, "last_edit_date": 1471354847, "creation_date": 1471349227, "answer_id": 38974549, "question_id": 38965242, "link": "https://stackoverflow.com/questions/38965242/cgi-self-referenced-urls-use-http-instead-of-https-when-using-aws-elb/38974549#38974549", "title": "CGI self-referenced URLs use HTTP instead of HTTPS when using AWS ELB", "body": "<p><a href=\"https://github.com/leejo/CGI.pm/blob/72ce8e187a95d69cc3e417f022475cc0d9f744f5/lib/CGI.pm#L3140\" rel=\"nofollow\">This</a> is the part of <a href=\"https://metacpan.org/pod/CGI\" rel=\"nofollow\">CGI.pm</a> that is responsible for determining if <code>HTTPS</code> is being used:</p>\n\n<pre><code>sub https {\n    my ($self,$parameter) = self_or_CGI(@_);\n    if ( defined($parameter) ) {\n        $parameter =~ tr/-a-z/_A-Z/;\n        if ( $parameter =~ /^HTTPS(?:_|$)/ ) {\n            return $ENV{$parameter};\n        }\n        return $ENV{\"HTTPS_$parameter\"};\n    }\n    return wantarray\n        ? grep { /^HTTPS(?:_|$)/ } keys %ENV\n        : $ENV{'HTTPS'};\n}\n</code></pre>\n\n<p><a href=\"https://github.com/leejo/CGI.pm/blob/72ce8e187a95d69cc3e417f022475cc0d9f744f5/lib/CGI.pm#L3157\" rel=\"nofollow\"><code>protocol</code></a> consults the return value of this method:</p>\n\n<pre><code>return 'https' if uc($self-&gt;https()) eq 'ON'; \n</code></pre>\n\n<p>So, your solution of <code>SetEnv HTTPS on</code> would work.</p>\n\n<p>However, if you wanted your program to respect <code>HTTP_X_FORWARDED_PROTO</code>, you could monkey patch CGI:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse CGI qw();\n\n{\n    no warnings 'redefine';\n    my $original_https = \\&amp;CGI::https;\n\n    *CGI::https = sub {\n        goto $original_https unless my $proto = $ENV{HTTP_X_FORWARDED_PROTO};\n        return 'on' if lc($proto) eq 'https';\n        return 'off';\n    };\n}\n\nmy $cgi = CGI-&gt;new;\nprint $cgi-&gt;self_url, \"\\n\";\n</code></pre>\n\n<pre>$ HTTP_X_FORWARDED_PROTO=https ./monkey.pl\nhttps://localhost:80\n$ ./monkey.pl\nhttp://localhost</pre>\n\n<p>Of course, this points out that <code>CGI</code> now appends the port number, and because it does not pay attention to <code>HTTP_X_FORWARDED_PORT</code>, it likely gets that wrong as well. If I am not mistaken, for that you'd need to monkey patch <code>virtual_port</code>.</p>\n"}], "owner": {"reputation": 3167, "user_id": 1751825, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c157caf2d0f9ff38e5a9820315c0a15f?s=128&d=identicon&r=PG&f=1", "display_name": "user1751825", "link": "https://stackoverflow.com/users/1751825/user1751825"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1471354847, "creation_date": 1471310023, "last_edit_date": 1471348877, "question_id": 38965242, "link": "https://stackoverflow.com/questions/38965242/cgi-self-referenced-urls-use-http-instead-of-https-when-using-aws-elb", "title": "CGI self-referenced URLs use HTTP instead of HTTPS when using AWS ELB", "body": "<p>I have a Perl HTTPS application which runs behind an Elastic Load Balancer (ELB). The HTTPS is terminated by the ELB, which then forwards the requests as HTTP to my instances.</p>\n\n<p>The issue is that, because the instance itself is accessed via HTTP, when I use the CGI module to generate self-referencing URL's, they incorrectly use HTTP instead of HTTPS, so form POSTs fail.</p>\n\n<p>GET request are ok because they're redirected, but anything that uses POST doesn't work.</p>\n\n<p>If I check my CGI environment variables, I have the following...</p>\n\n<pre><code>HTTP_X_FORWARDED_PORT = 443\nHTTP_X_FORWARDED_PROTO = https\nREQUEST_SCHEME = http\nSERVER_PROTOCOL = HTTP/1.1\n</code></pre>\n\n<p>The CGI module is presumably using <code>REQUEST_SCHEME</code> or <code>SERVER_PROTOCOL</code> to determine that the URLs should use <code>http://</code>.</p>\n\n<p>Is there some way I can fudge the environment variables at the Apache or NGINX level to convince CGI that the site is in fact HTTPS?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1471303690, "post_id": 38963507, "comment_id": 65283784, "body": "<code>$ perl -wE &#39;say join(&quot;,&quot;, map { qq{&quot;$_&quot;} } 0 .. 5)&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1471303767, "post_id": 38963554, "comment_id": 65283813, "body": "Wouldn&#39;t <code>map</code> make this <a href=\"http://stackoverflow.com/questions/38963507/error-while-using-ternary-operator-in-perl#comment65283784_38963507\">cleaner</a>?"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 1, "last_activity_date": 1471297972, "last_edit_date": 1471297972, "creation_date": 1471297594, "answer_id": 38963554, "question_id": 38963507, "link": "https://stackoverflow.com/questions/38963507/error-while-using-ternary-operator-in-perl/38963554#38963554", "title": "Error while using ternary operator in perl", "body": "<pre><code>$new_str = q{\"} . join( q{\",\"}, @new_arr ) . q{\"};\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>@new_arr = (0..5);\n$new_str = q{\"} . join( q{\",\"}, @new_arr ) . q{\"};\nprint $new_str,\"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>\"0\",\"1\",\"2\",\"3\",\"4\",\"5\"\n</code></pre>\n\n<hr>\n\n<p><code>perl -MO=Deparse,-p ...</code> demonstrates the problem with your original code:</p>\n\n<pre><code>$ perl -MO=Deparse,-p ternary.pl\n(@a = (0..5));\nforeach my($index) (0 .. $#a) {\n    print(\"$index .. $new_arr[$index]\\n\");\n    ((($index == $#a) ? ($new_str .= qq[+\"$a[$index]\"]) : $new_str) .= qq[\"$a[$index]\",]);\n}\nprint(\"$new_str \\n\");\n</code></pre>\n\n<p>Namely, that the <code>.=</code> operators in the ternary expression are not grouped correctly. You could salvage it by using parentheses appropriately:</p>\n\n<pre><code>($index == $#new_arr) ? ($new_str.= \"+\\\"$new_arr[$index]\\\"\"):($new_str.=     \"\\\"$new_arr[$index]\\\"\\,\");\n</code></pre>\n\n<p>or pulling <code>$new_str .=</code> out of each side of the ternary expression</p>\n\n<pre><code>$new_str .= $index == $#new_arr ? \"+\\\"$new_arr[$index]\\\"\" : \"\\\"$new_arr[$index]\\\"\\,\";\n</code></pre>\n\n<p>but ultimately this is a good use case for Perl's builtin <code>join</code> function.</p>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1471369003, "creation_date": 1471369003, "answer_id": 38981170, "question_id": 38963507, "link": "https://stackoverflow.com/questions/38963507/error-while-using-ternary-operator-in-perl/38981170#38981170", "title": "Error while using ternary operator in perl", "body": "<pre><code>$ perl -wE 'say join(\",\", map { qq{\"$_\"} } 0 .. 5)'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>\"0\",\"1\",\"2\",\"3\",\"4\",\"5\"\n</code></pre>\n\n<p>The initial <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\"><code>map</code></a> adds the double quotes, and then <a href=\"http://perldoc.perl.org/functions/join.html\" rel=\"nofollow\"><code>join</code></a> creates a comma-separated string from the newly double-quoted list elements. We need to use <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow\"><code>qq</code></a> here because we want an interpolated string containing double quotes.</p>\n"}], "owner": {"reputation": 179, "user_id": 1411198, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d309805d042a717771e668add06b4df6?s=128&d=identicon&r=PG", "display_name": "addousas", "link": "https://stackoverflow.com/users/1411198/addousas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1471369003, "creation_date": 1471297355, "last_edit_date": 1471355437, "question_id": 38963507, "link": "https://stackoverflow.com/questions/38963507/error-while-using-ternary-operator-in-perl", "title": "Error while using ternary operator in perl", "body": "<p>I am trying to print an array with the following format:\n1 .. double quote each element\n2 .. put a comma between elements \nfor some reason my code below doesn't generate the correct format</p>\n\n<pre><code>my @new_arr = (0 .. 5);\nmy $new_str = \"\";\n\nfor my $index ( 0 .. $#new_arr)\n{\n    print \"$index .. $new_arr[$index]\\n\";\n    ($index == $#new_arr) ?  $new_str.= \"+\\\"$new_arr[$index]\\\"\":$new_str.=     \"\\\"$new_arr[$index]\\\"\\,\";\n\n}\nprint \"$new_str \\n\";\n</code></pre>\n"}, {"tags": ["perl", "parameters", "subroutine-prototypes"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471296649, "post_id": 38963158, "comment_id": 65281507, "body": "Please tell me where you learned to apply subroutine prototypes like this?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471297279, "post_id": 38963158, "comment_id": 65281770, "body": "Note that people familiar with Perl would thank you for using <code>snake_case</code> for subroutines and lexical variables. It&#39;s safest to reserve <code>CapitalisedNames</code> for globals. Perl also has a post-fixed conditional, so single-statement <code>if</code> blocks are alien."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471297517, "post_id": 38963158, "comment_id": 65281857, "body": "If there&#39;s any chance that <code>$VULN</code> may contain punctuation characters then they may need to be escaped within a regular expression"}, {"owner": {"reputation": 107, "user_id": 816645, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/683076a6c1f49e2d16e81b54cd22e296?s=128&d=identicon&r=PG", "display_name": "dutsnekcirf", "link": "https://stackoverflow.com/users/816645/dutsnekcirf"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471359729, "post_id": 38963158, "comment_id": 65309370, "body": "Thanks for your comments Borodin.  Being so new to perl I think I was still a bit unclear as to what is meant by prototyping.  I&#39;m comfortable with VB where creating a function you provide the parameters and their types within the function declaration.  I think I just needed an ELI5 explanation such as the one provided by mob in order to wrap my head around it.  I probably do need to adjust my variable format to use snake_case.  In this particular case $VULN wouldn&#39;t ever have any punctuation but I understand what you mean."}], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 4, "last_activity_date": 1471296065, "last_edit_date": 1495541696, "creation_date": 1471296065, "answer_id": 38963252, "question_id": 38963158, "link": "https://stackoverflow.com/questions/38963158/passing-parameters-to-a-subroutine-in-perl/38963252#38963252", "title": "Passing parameters to a subroutine in Perl", "body": "<p><a href=\"https://stackoverflow.com/questions/297034/why-are-perl-5s-function-prototypes-bad\">Avoid prototypes</a>. Prototypes in Perl don't work the way they do in other languages and the way that new programmers expect.</p>\n\n<p><code>Prototype mismatch ...</code> means you have defined (or redefined) a method with a different prototype than the original declaration/definition. In this case.</p>\n\n<pre><code>sub addComment ($$$$);\nsub addComment { ... }\n</code></pre>\n\n<p>have two different prototypes (that is, the second declaration has no prototype). To fix, you could make the sub definition use the same prototype</p>\n\n<pre><code>sub addComment ($$$$);\nsub addComment ($$$$) { ... }\n</code></pre>\n\n<p>but in most cases you are better off without the prototype (and then you don't need the predeclaration, either)</p>\n\n<pre><code># sub addComment ($$$$);  # don't need this\nsub addComment { ... }\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 816645, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/683076a6c1f49e2d16e81b54cd22e296?s=128&d=identicon&r=PG", "display_name": "dutsnekcirf", "link": "https://stackoverflow.com/users/816645/dutsnekcirf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 714, "favorite_count": 0, "closed_date": 1471296438, "accepted_answer_id": 38963252, "answer_count": 1, "score": 0, "last_activity_date": 1471297131, "creation_date": 1471295592, "last_edit_date": 1471297131, "question_id": 38963158, "link": "https://stackoverflow.com/questions/38963158/passing-parameters-to-a-subroutine-in-perl", "closed_reason": "Duplicate", "title": "Passing parameters to a subroutine in Perl", "body": "<p>I am attempting to create a subroutine that will open and edit a file in place.</p>\n\n<p>I've been able to get the subroutine to run on it's own as a single Perl script, but when it's in the form of a subroutine I can't pass the parameters properly.</p>\n\n<p>I come from a background of VB.Net and Objective-C where subroutines/functions are prototyped.</p>\n\n<p><code>$FileName</code> is assigned <code>$ARGV[0]</code> upon executing the script.</p>\n\n<p>Here's my function call:</p>\n\n<pre><code>addComment(\"v-66721\", \"Open\", \"!!!FINDING!!! deployment.config does not exist.\", $FileName);\n</code></pre>\n\n<p>Here is my declaration:</p>\n\n<pre><code>sub addComment($$$$);\n</code></pre>\n\n<p>And here's the subroutine:</p>\n\n<pre><code>sub addComment {\n    my $VULN     = $_[0];\n    my $Result   = $_[1];\n    my $Comment  = $_[2];\n    my $FileName = $_[3];\n\n    # Copy the checklist to a new file name.\n    my $outputFile = $FileName;\n    $outputFile =~ s/\\.ckl/_commented\\.ckl/;\n    copy( $FileName, $outputFile );\n\n    # Create a temporary file to edit.\n    my $tempFile = $FileName;\n    $tempFile =~ s/\\.ckl/\\.ckl_temp/;\n\n    open( OLD, \"&lt;$outputFile\" ) or die \"Can't open $outputFile: $!\";\n    open( NEW, \"&gt;$tempFile\" )   or die \"Can't open $tempFile: $!\";\n\n    my $foundVULN = 0;\n\n    while ( &lt;OLD&gt; ) {\n\n        if ( $foundVULN == 0 &amp;&amp; $_ =~ /$VULN/ ) {\n            $foundVULN = 1;\n        }\n\n        if ( $foundVULN == 1 &amp;&amp; $_ =~ /Not_Reviewed/ ) {\n            s/Not_Reviewed/$Result/;\n        }\n\n        if ( $foundVULN == 1 &amp;&amp; $_ =~ /COMMENTS/ ) {\n            s/&lt;COMMENTS&gt;/&lt;COMMENTS&gt;$Comment/;\n            $foundVULN = 0;\n        }\n\n        print NEW $_;\n    }\n\n    close(OLD);\n    close(NEW);\n\n    # Replace the output file contents with what we did in our temp file.\n    rename( $tempFile, $outputFile ) or die \"Can't rename $tempFile to $outputFile: $!\";\n\n    return;\n}\n</code></pre>\n\n<p>I've tried using</p>\n\n<pre><code>my $VULN = shift\n</code></pre>\n\n\n\n<pre><code>my $Result = shift\n</code></pre>\n\n\n\n<pre><code>my $Comment = shift\n</code></pre>\n\n\n\n<pre><code>my $FileName = shift\n</code></pre>\n\n<p>But that doesn't seem to work.</p>\n\n<p>I've read that I should not use prototyping but it doesn't seem to work whether I do or not.</p>\n\n<p>The error message I'm getting is:</p>\n\n<blockquote>\n<pre><code>Prototype mismatch: sub main::addComment ($$$$) vs none at ./Jre8_manual.pl line 614.\n</code></pre>\n</blockquote>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 4, "creation_date": 1471293026, "post_id": 38962356, "comment_id": 65279881, "body": "I don&#39;t understand how you missed the substitute form. There is only 1 and you have %99 of it and seem to know regex. Where did you get the existing info from? <code>use strict; use warnings</code> should have told you something."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480570925, "post_id": 38962356, "comment_id": 69019895, "body": "A reminder, see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}, {"owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480616967, "post_id": 38962356, "comment_id": 69047858, "body": "@zdim thanks for the reminder. your answer was great but the one after was in my opinion better. if you disagree please inform me why and ill consider changing to you."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1480620792, "post_id": 38962356, "comment_id": 69049986, "body": "@jkushner  Great, thank you for taking care of it.  I did <i>not</i> mean to ask about my answer -- just so that something is marked!  Thank you :)"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 2, "last_activity_date": 1471295110, "last_edit_date": 1471295110, "creation_date": 1471294673, "answer_id": 38962950, "question_id": 38962356, "link": "https://stackoverflow.com/questions/38962356/simple-perl-regex-replacement/38962950#38962950", "title": "Simple perl regex replacement", "body": "<p>So, with all the answers you know the substitute form is  <code>s///</code>   </p>\n\n<p>However, with something this big you should break it up into parts<br>\nto make it easier to maintain. And also helps to get <em>out</em> of the<br>\nquagmire of <em>delimiter hell</em>.   </p>\n\n<p>This uses a pre-compiled regex and a callback function invoked with s///<code>e</code>  </p>\n\n<pre><code>use strict;\nuse warnings;\n\n# Pre-compiled regex\nmy $rx = qr{\\[url=(.+?)\\](.+?)\\[/url\\]};\n\n# Callback\nsub MakeAnchor {\n   my ($href,$text) = @_;\n   return '&lt;a href=\"' . $href . '\" style=\"text-decoration:none;color:#336699\"&gt;' . $text . '&lt;/a&gt;';\n}\n\nmy $input = '[url=/jobs/]click here[/url]';\n$input =~ s/$rx/MakeAnchor($1,$2)/eg;\n\nprint $input;\n</code></pre>\n\n<p>Outout  </p>\n\n<p><code>&lt;a href=\"/jobs/\" style=\"text-decoration:none;color:#336699\"&gt;click here&lt;/a&gt;</code></p>\n"}], "owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 1, "accepted_answer_id": 38962950, "answer_count": 1, "score": -2, "last_activity_date": 1480570890, "creation_date": 1471291969, "question_id": 38962356, "link": "https://stackoverflow.com/questions/38962356/simple-perl-regex-replacement", "title": "Simple perl regex replacement", "body": "<p>Here is my perl code:</p>\n\n<pre><code>my $var=\"[url=/jobs/]click here[/url]\";\n$var =~ /\\[url=(.+?)\\](.+?)\\[\\/url\\]/&lt;a href=\"\\1\" style=\"text-decoration:none;color:#336699\"&gt;\\2&lt;/a&gt;/g\n</code></pre>\n\n<p>I'm very new to perl so i am aware that its incorrect but how do i perform this <code>regex replacement</code> correctly.</p>\n\n<p>The end result would be a transformation of <code>$var</code> to <code>&lt;a href=\"/jobs\"&gt;click here&lt;/a&gt;</code></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 5, "creation_date": 1471290509, "post_id": 38961777, "comment_id": 65278601, "body": "The Perl Git repo at <a href=\"http://perl5.git.perl.org/perl.git\" rel=\"nofollow noreferrer\">perl5.git.perl.org/perl.git</a> includes history going back to release 1.0."}, {"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 0, "creation_date": 1471344792, "post_id": 38961777, "comment_id": 65299262, "body": "I can&#39;t stop wondering - why do people post answers as comments?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471348706, "post_id": 38961777, "comment_id": 65301745, "body": "<a href=\"http://perl5.git.perl.org/perl.git/shortlog?pg=635\" rel=\"nofollow noreferrer\">perl5.git.perl.org/perl.git/shortlog?pg=635</a> lists 4.x versions."}], "answers": [{"tags": [], "owner": {"reputation": 744, "user_id": 97785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/619115168b35ca916912b2cc69e2c0e7?s=128&d=identicon&r=PG", "display_name": "Sean Hayden", "link": "https://stackoverflow.com/users/97785/sean-hayden"}, "is_accepted": true, "score": 11, "last_activity_date": 1471289909, "creation_date": 1471289909, "answer_id": 38961846, "question_id": 38961777, "link": "https://stackoverflow.com/questions/38961777/where-can-i-get-perl-4/38961846#38961846", "title": "Where can I get Perl 4?", "body": "<p>The original simtel archive is down, but this link will give you a version of Perl 4.19 that will run on an 8086:</p>\n\n<p><a href=\"http://ftp.gnome.org/mirror/archive/ftp.sunet.se/pub/simtelnet/msdos/perl/\">http://ftp.gnome.org/mirror/archive/ftp.sunet.se/pub/simtelnet/msdos/perl/</a></p>\n\n<p>The filename is perl419x.zip and has been tested on on DOS 4.3 with 640k of memory and works.</p>\n"}, {"comments": [{"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "edited": false, "score": 0, "creation_date": 1471291940, "post_id": 38961874, "comment_id": 65279309, "body": "Thanks that looks promising"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 4, "creation_date": 1471305369, "post_id": 38961874, "comment_id": 65284159, "body": "If you get it to compile tell us what you did. The last time I tried to get it running using the modern tools I couldn&#39;t get it to happen."}, {"owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1471352940, "post_id": 38961874, "comment_id": 65304738, "body": "@briandfoy I wound up using a precompiled perl from the link Sean Hayden gave running in DosBox as it is sorta close to the final environment. I did look into compiling from source for OS X, but I don&#39;t think it is possible. I think Perl 4 required static linking and OS X doesn&#39;t have static libs. Might try again in Linux, but I have different fish to fry."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 11, "last_activity_date": 1471291656, "last_edit_date": 1471291656, "creation_date": 1471290024, "answer_id": 38961874, "question_id": 38961777, "link": "https://stackoverflow.com/questions/38961777/where-can-i-get-perl-4/38961874#38961874", "title": "Where can I get Perl 4?", "body": "<p><a href=\"http://www.cpan.org/src/unsupported/4.036/\">http://www.cpan.org/src/unsupported/4.036/</a></p>\n\n<p>Which I got to from <a href=\"http://perl.org\">http://perl.org</a> => DOWNLOAD => Perl source code => unsupported</p>\n"}], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 1, "accepted_answer_id": 38961846, "answer_count": 2, "score": 5, "last_activity_date": 1471304540, "creation_date": 1471289588, "question_id": 38961777, "link": "https://stackoverflow.com/questions/38961777/where-can-i-get-perl-4", "title": "Where can I get Perl 4?", "body": "<p>I have a need to test some Perl 4 code.  It will run on an ancient (pre-386) machine that I don't currently have access to.  I would like to compile it for OS X, but I can't find the source on CPAN (it seems to only go back to 5.004).</p>\n"}, {"tags": ["arrays", "perl", "reference", "slice"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1471285128, "post_id": 38960576, "comment_id": 65275766, "body": "Can you explain why you want to do this?"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1471285315, "post_id": 38960576, "comment_id": 65275882, "body": "I&#39;m working on a script that is handling a hierarchical database structure and I want each record to hold an array of its child records.  If one of the records that is referenced in the list of child records is deleted from the whole database, I want the array of child records to be automatically updated to remove the record."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1471285494, "post_id": 38960576, "comment_id": 65276001, "body": "Basically the database has a big array of all of the records and the child record array would be a slice of the big array.  If a record is removed from the big array I want it removed from any slices it is referenced in as well."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1471285762, "post_id": 38960576, "comment_id": 65276140, "body": "Ah okay, so similar to foreign keys and ON DELETE CASCADE in relational databases. I know you try to avoid putting background info like that in your questions, but in this case I think it would be very helpful to include it; XY problem and what not."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1471285775, "post_id": 38960576, "comment_id": 65276146, "body": "There are various aliasing modules on CPAN. But this is a tall order as you&#39;re asking for an array to be aliased to an array slice. You&#39;re asking for index translation effectively. I suggest that it may be easier if you keep your overarching array of data, and deal with arrays of <i>indexes</i> into the data. It should be easy to write a class consisting of a range of indexes and a number of child objects of the same class that behave just as you describe. But a lot depends on what operations you need to perform on this data."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471285884, "post_id": 38960576, "comment_id": 65276206, "body": "@tjwrona1992: ThisSuitIsBlackNot is quite right. The answer to your question is probably a &quot;no&quot;, but you have happened upon an unworkable approach."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471285953, "post_id": 38960576, "comment_id": 65276244, "body": "@Borodin, is there anywhere I can find a very basic example of what you are describing?  I feel like that is probably the answer I am looking for."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1471285995, "post_id": 38960576, "comment_id": 65276264, "body": "@tjwrona1992, It is possible. <code>@array</code> would have to be magical, and <code>@slice</code> would have to be magical or a reference. It would take alot of code, and it would break down very easily. Far better to make an OO interface instead."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471286055, "post_id": 38960576, "comment_id": 65276291, "body": "@ikegami, I&#39;ll look into finding an OO approach ...but magic is what makes Perl great! :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471286217, "post_id": 38960576, "comment_id": 65276371, "body": "I&#39;m not referring to magic in the general sense, but that which is added by <code>sv_magic</code>. Variable::Magic provides a Perl-land interface to this."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471286293, "post_id": 38960576, "comment_id": 65276411, "body": "@tjwrona1992: I&#39;m afraid there isn&#39;t an example that I know of, and there&#39;s unlikely to be one as it&#39;s not a common problem. Start by writing a class that contains an array of indexes and an array of child objects. Then define all the operations that you want to perform on your objects and write them as methods. <code>splice</code>, for instance, involves just splicing the array of indexes and then performing an appropriate splice on each child object that covers the indexes just removed (or part of it). Each child will cascade the operation automatically by doing the same to its children in turn."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471286436, "post_id": 38960576, "comment_id": 65276478, "body": "@ikegami, That&#39;s interesting, I&#39;ve never heard of <code>sv_magic</code> before. I don&#39;t mean to waste your time, but I am really interested in seeing a &quot;magical&quot; solution to this problem as well as an OO approach.  If you have the time it would be very cool to see, if not don&#39;t worry about it. :)"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471286451, "post_id": 38960576, "comment_id": 65276487, "body": "@Borodin, I will give that a try, thank you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471286563, "post_id": 38960576, "comment_id": 65276537, "body": "@tjwrona1992: Be careful what you wish for! I suggest you take a look at the <a href=\"https://metacpan.org/pod/Variable::Magic\" rel=\"nofollow noreferrer\">Variable::Magic</a> module and think about whether you could understand such a solution first. IMO it&#39;s little more than an interesting toy."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471286741, "post_id": 38960576, "comment_id": 65276633, "body": "@tjwrona1992, It&#39;s what powers <code>$!</code>, <code>%ENV</code>, <code>%SIG</code>, etc, variables that act as functions calls. And no, it would take too long to write. A slice can be defined as a starting index and a length/ending index. Inserting/removing from the array would have to update the definition of the splice. That means that each array that&#39;s been spliced would need to keep of list of all existing splices of the array."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471286815, "post_id": 38960576, "comment_id": 65276668, "body": "@tjwrona1992, You can already create a view of a segment of a string, but it&#39;s not quite what you want: <code>perl -E&#39;my $array = join(&quot;&quot;, map chr, 1..12); my $slice_ref = \\substr($array, 3, 8-3+1); substr($array, 5, 2, &quot;&quot;); say for unpack &quot;C*&quot;, $array; say for unpack &quot;C*&quot;, $$slice_ref;&#39;</code> (Magic is used here. Specifically, the value returned by substr in lvalue context is magical.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471287087, "post_id": 38960576, "comment_id": 65276811, "body": "I correct what I said earlier: You can&#39;t quite do what you want because you would need to use a special function instead of <code>splice</code>.  It would add magic to the original array, and it would return a reference to an array (the slice), which would also be magical."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471287198, "post_id": 38960576, "comment_id": 65276880, "body": "@ikegami, Okay I will look into an example of that and see if it helps."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471287221, "post_id": 38960576, "comment_id": 65276899, "body": "Do it using objects first. You need to write all that code anyway!"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1471287263, "post_id": 38960576, "comment_id": 65276921, "body": "Haha okay, thanks for all the help!"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471376390, "post_id": 38972920, "comment_id": 65319128, "body": "This doesn&#39;t work. Adding <code>splice @array, 5, 2; print join &#39;, &#39;, @slice;</code> does not produce the expected output (and neither does <code>splice @array, 5, 2; print join &#39;, &#39;, map $$_, @slice;</code>)"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471414299, "post_id": 38972920, "comment_id": 65330656, "body": "Did you use my code? Explain &quot;does not reproduce the EXPECTED output&quot;"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471415881, "post_id": 38972920, "comment_id": 65331408, "body": "If you READ the whole answer you will see that I actually provided a &quot;workarround&quot; for removed elements."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471444275, "post_id": 38972920, "comment_id": 65350719, "body": "Then why do you use the <code>splice</code>? Does it create references to your <code>@array</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1471444423, "post_id": 38972920, "comment_id": 65350824, "body": "The OP wants <code>splice @array</code> to modify both <code>@array</code> and <code>@slice</code>. If he just wanted to alias elements, <code>my $slice = sub { \\@_ }-&gt;(@array[3..8]);</code> would be a better job"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471444586, "post_id": 38972920, "comment_id": 65350959, "body": "Re &quot;<i>I don&#39;t see that in the OP&#39;s question</i>&quot;, Obviously. That&#39;s why I pointed it out and downvoted your answer. /// Re &quot;<i>And you might consider using a Data::Dumper to see the results</i>&quot; That code should output <code>ARRAY: 1, 2, 3, 4, 5, 8, 9, 10 SLICE: 4, 5, 8, 9</code>. Even changing <code>print join &#39;, &#39;, @slice;</code> to <code>print join &#39;, &#39;, map $$_, @slice;</code> doesn&#39;t help."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471444760, "post_id": 38972920, "comment_id": 65351094, "body": "Ok, I understood now. Thanks for the explanations."}], "tags": [], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "is_accepted": false, "score": -3, "last_activity_date": 1471444373, "last_edit_date": 1471444373, "creation_date": 1471344571, "answer_id": 38972920, "question_id": 38960576, "link": "https://stackoverflow.com/questions/38960576/how-can-i-tie-an-array-slice-to-the-original-array-so-all-changes-that-are-made/38972920#38972920", "title": "How can I tie an array slice to the original array so all changes that are made to one are made to both?", "body": "<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\nmy @array = 1..10;\nmy @slice = \\@array[3..8];\n\nsplice @array, 5, 2;\n\nprint \"ARRAY: \";\nprint join ', ', @array;\nprint \"\\n\";\n\nprint \"SLICE: \";\nprint join ', ', @slice;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>ARRAY: 1, 2, 3, 4, 5, 8, 9, 10\nSLICE: SCALAR(0x29dcef0), SCALAR(0x29dcf20), SCALAR(0x29dcf08), SCALAR(0x29dcfb0), SCALAR(0x29dcfc, SCALAR(0x29dd058)\n</code></pre>\n\n<p>Instead removing the items you could assign a zero value to the item (it will assign a zero value in the <code>@slice</code> too, because <code>@slice</code> holds a refference to <code>@array</code>) and then remove the 0's from you <code>@slice</code> and voila, you have your updated <code>@slice</code> with your deleted elements</p>\n"}, {"tags": [], "owner": {"reputation": 736, "user_id": 1118820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7a96c7abe238afa6c84bbbb8444224?s=128&d=identicon&r=PG", "display_name": "Able Mac", "link": "https://stackoverflow.com/users/1118820/able-mac"}, "is_accepted": false, "score": 1, "last_activity_date": 1559527706, "creation_date": 1559527706, "answer_id": 56420382, "question_id": 38960576, "link": "https://stackoverflow.com/questions/38960576/how-can-i-tie-an-array-slice-to-the-original-array-so-all-changes-that-are-made/56420382#56420382", "title": "How can I tie an array slice to the original array so all changes that are made to one are made to both?", "body": "<p>As has been said, that's a tall order.  The short answer is no.  A slice creates a copy of the elements.</p>\n\n<p>Perl does have a Tie feature that might be just the trick.  </p>\n\n<pre><code>perltie - how to hide an object class in a simple variable\n</code></pre>\n\n<p>So it fundamentally changes what a variable is behind the scenes.  A whole world of possibilities opens up, and your scenario just might be in there.</p>\n\n<p><a href=\"https://perldoc.perl.org/perltie.html\" rel=\"nofollow noreferrer\">perltie on perldoc.perl.org</a></p>\n"}, {"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1563476803, "post_id": 57100291, "comment_id": 100723307, "body": "While this does provide the desired output, it does not &quot;tie&quot; the array to the slice. By &quot;tie&quot; I mean make it so any action performed on the array will implicitly also be performed on the slice without having to duplicate that action separately on the slice. If they were &quot;tied&quot; then <code>splice @x, $position, 1;</code> would also act on <code>@y</code> so the second <code>splice</code> would not be necessary."}, {"owner": {"reputation": 121, "user_id": 3668624, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/822545251/picture?type=large", "display_name": "hashtagjet", "link": "https://stackoverflow.com/users/3668624/hashtagjet"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1563493537, "post_id": 57100291, "comment_id": 100728582, "body": "You just need to create a class using the mentioned the above method. Then It will technically tie both your arrays together. Like call it spliceV2 for example. spliceV2(5,2,@x); would then give you the result you want given you."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1563558128, "post_id": 57100291, "comment_id": 100753171, "body": "I&#39;m not quite sure I follow what you mean. I don&#39;t see clearly how that could be put into a class to make spliceV2 work. Can you elaborate or update the answer to show?"}, {"owner": {"reputation": 121, "user_id": 3668624, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/822545251/picture?type=large", "display_name": "hashtagjet", "link": "https://stackoverflow.com/users/3668624/hashtagjet"}, "reply_to_user": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1563883883, "post_id": 57100291, "comment_id": 100841575, "body": "I have added the object oriented version for SpliceV2. Try it on your machine :-)"}], "tags": [], "owner": {"reputation": 121, "user_id": 3668624, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/822545251/picture?type=large", "display_name": "hashtagjet", "link": "https://stackoverflow.com/users/3668624/hashtagjet"}, "is_accepted": false, "score": 1, "last_activity_date": 1563883848, "last_edit_date": 1563883848, "creation_date": 1563472862, "answer_id": 57100291, "question_id": 38960576, "link": "https://stackoverflow.com/questions/38960576/how-can-i-tie-an-array-slice-to-the-original-array-so-all-changes-that-are-made/57100291#57100291", "title": "How can I tie an array slice to the original array so all changes that are made to one are made to both?", "body": "<p>Updated post as requested using Object oriented method.  Maintained original response after &lt;========> Line</p>\n\n<p>Here's the object oriented approach as mentioned in comments.<br>\nSample.pm</p>\n\n<pre><code>package Sample;\nuse strict;\nuse warnings;\nuse Exporter qw(import);\nuse List::MoreUtils qw(first_index);\nour @y = qw (3 4 5 6 7 8 9); # Add your method of acquiring @y value here\nour @EXPORT = qw (SpliceV2 @y);\n\n##  Your Splice Version 2\n\nsub SpliceV2(@) {\nmy ($position,$length,@x) = @_;\nfor (my $i=1;$i&lt;=$length;$i++) {\nmy $removeditem = $x[$position];\nmy $remove = first_index { $_ eq $removeditem } @y;\nsplice @x, $position, 1;\nsplice @y, $remove, 1;\n}\n\nreturn @x;\n}\n\n1;\n</code></pre>\n\n<p>Main script: </p>\n\n<pre><code>#!/usr/bin/perl\nuse Sample;\nmy @x = qw(1 2 3 4 5 6 7 8 9 10);\n\n@x = SpliceV2(4,2,@x);\nprint \"X: @x\\n\";\nprint \"Y: @y\\n\";\n</code></pre>\n\n<p>Original post below\n&lt;==========>\nAssuming the items you are removing are unique like if you are basing it on primary keys of a database, then you can use first_index from List::MoreUtils;</p>\n\n<p>Here's a sample. </p>\n\n<pre><code>use List::MoreUtils qw(first_index);\nmy @x = qw (1 2 3 4 5 6 7 8 9 10);\nmy @y = qw (4 5 6 7 8 9);\n\n## Let's say you want to remove 2 items after the 5th index\n\nmy $position = 5;\nmy $length = 2;\n\n##      Get the value of items to remove first\n\nfor (my $i=1;$i&lt;=$length;$i++) {\n  my $removeditem = $x[$position];\n  my $remove = first_index { $_ eq $removeditem } @y;\n  splice @x, $position, 1;\n  splice @y, $remove, 1;\n}\nprint \"Array X\\n\";\nprint \"$_,\" foreach(@x);\nprint \"\\nArray Y\\n\";\nprint \"$_,\" foreach(@y);\nprint \"\\n\";\n</code></pre>\n\n<p>You should get the result you wanted.</p>\n\n<pre><code>Array X\n1,2,3,4,5,8,9,10,\nArray Y\n4,5,8,9,\n</code></pre>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 3, "answer_count": 3, "score": 11, "last_activity_date": 1563883848, "creation_date": 1471284808, "question_id": 38960576, "link": "https://stackoverflow.com/questions/38960576/how-can-i-tie-an-array-slice-to-the-original-array-so-all-changes-that-are-made", "title": "How can I tie an array slice to the original array so all changes that are made to one are made to both?", "body": "<p>I need to be able to tie an array slice to the original array in such a way that any changes made to the original array (including removing elements) will also be made to the array slice.  Is there a way to do this?</p>\n\n<hr>\n\n<p>The following example <strong>does not work</strong> how I want it to, but it is simply there to demonstrate the point I am trying to make.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>my @array = 1 .. 10;\nmy @slice = @array[3 .. 8];\n\nsplice @array, 5, 2;\n\nprint \"ARRAY: \";\nprint join ', ', @array;\nprint \"\\n\";\n\nprint \"SLICE: \";\nprint join ', ', @slice;\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>ARRAY: 1, 2, 3, 4, 5, 8, 9, 10\nSLICE: 4, 5, 6, 7, 8, 9\n</code></pre>\n\n<hr>\n\n<p>What I am looking for is a way to tie the slice to the original array so the output would look like this instead:</p>\n\n<pre><code>ARRAY: 1, 2, 3, 4, 5, 8, 9, 10\nSLICE: 4, 5, 8, 9\n</code></pre>\n\n<p><strong><em>Removing 6 and 7 from the original array would also remove it from the array slice.</em></strong></p>\n\n<p>How can I achieve something like this?</p>\n"}, {"tags": ["perl", "dictionary"], "comments": [{"owner": {"reputation": 2971, "user_id": 4975646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XzXhmdjjKB0/AAAAAAAAAAI/AAAAAAAAAeg/9rsygRfbVyk/photo.jpg?sz=128", "display_name": "callyalater", "link": "https://stackoverflow.com/users/4975646/callyalater"}, "edited": false, "score": 0, "creation_date": 1471283032, "post_id": 38960092, "comment_id": 65274685, "body": "This is a multi-dimensional hash reference that appends (via <code>.=</code>) a string to the entry in <code>$connstrings{&quot;V2&quot;}{&quot;Production&quot;}</code>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 6, "creation_date": 1471283240, "post_id": 38960092, "comment_id": 65274785, "body": "This is the kind of thing that a good tutorial can help you with. For starters, take a look at <a href=\"http://perldoc.perl.org/perlintro.html#Perl-variable-types\" rel=\"nofollow noreferrer\">perlintro</a> and <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471284662, "post_id": 38960092, "comment_id": 65275537, "body": "They&#39;re, uh, a dictionary. Perl calls them &quot;hashes&quot;"}, {"owner": {"reputation": 515, "user_id": 550643, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6a3c677d60b90f997d796a8e67809fb3?s=128&d=identicon&r=PG", "display_name": "Bob R", "link": "https://stackoverflow.com/users/550643/bob-r"}, "edited": false, "score": 0, "creation_date": 1471294291, "post_id": 38960092, "comment_id": 65280477, "body": "thanks always learning here.  Don&#39;t get the down votes but whatever."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1471333933, "post_id": 38960092, "comment_id": 65292649, "body": "I expect you&#39;re getting downvotes because hashes are a very basic Perl concept and people don&#39;t understand why you wouldn&#39;t read a simple Perl tutorial."}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 1, "last_activity_date": 1471283043, "creation_date": 1471283043, "answer_id": 38960137, "question_id": 38960092, "link": "https://stackoverflow.com/questions/38960092/perl-dictionary/38960137#38960137", "title": "Perl dictionary?", "body": "<p>In that context, they are how you specify the name of a key on a hash when fetching the value of that key.</p>\n\n<p>Hashes are described in <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow\">perldoc perldata</a>.</p>\n\n<pre><code>my %example = ( foo =&gt; \"bar\", one =&gt; \"two\" );\nif ($example{\"foo\"} eq \"bar\") {\n    print 1;\n}\n</code></pre>\n"}], "owner": {"reputation": 515, "user_id": 550643, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6a3c677d60b90f997d796a8e67809fb3?s=128&d=identicon&r=PG", "display_name": "Bob R", "link": "https://stackoverflow.com/users/550643/bob-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1573, "favorite_count": 0, "answer_count": 1, "score": -7, "last_activity_date": 1471283043, "creation_date": 1471282913, "question_id": 38960092, "link": "https://stackoverflow.com/questions/38960092/perl-dictionary", "title": "Perl dictionary?", "body": "<p>I am new to perl and reading a script, I have not come across these style of curly brackets, in python these are generally a dictionary what is it in this case?</p>\n\n<pre><code>$connstrings{\"V2\"}{\"Production\"} = \"Provider=SQLOLEDB.1;\";\n$connstrings{\"V2\"}{\"Production\"} .= \"Network Library=DBMSSOCN;\";\n$connstrings{\"V2\"}{\"Production\"} .= \"Data\"\n$connstrings{\"V2\"}{\"Production\"} .= \"Persist Security Info=True;\";\n$connstrings{\"V2\"}{\"Production\"} .= \"User ID=sffsupply_build;\";\n$connstrings{\"V2\"}{\"Production\"} .= \"Initial Catalog=dir_sffsupply;\";\n</code></pre>\n"}, {"tags": ["perl", "debugging"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 5, "creation_date": 1471279948, "post_id": 38959304, "comment_id": 65273089, "body": "variables do not interpolate in single quotes, I believe you meant <code>$matches{&quot;$rfc822&quot;}</code>. However since <code>$rfc822</code> is a variable, you can leave off the quotes entirely: <code>$matches{$rfc822}</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1471284571, "post_id": 38959304, "comment_id": 65275484, "body": "If you need to withhold sensitive information from your post, it&#39;s always best to substitute something imagined that generates the same issue. The easier you make it for us to reproduce the problem you&#39;re having, the better quality answer you will get."}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 6679337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe526c123acd818a7983c7b308599882?s=128&d=identicon&r=PG&f=1", "display_name": "dmitchell", "link": "https://stackoverflow.com/users/6679337/dmitchell"}, "is_accepted": false, "score": 1, "last_activity_date": 1471280225, "creation_date": 1471280225, "answer_id": 38959462, "question_id": 38959304, "link": "https://stackoverflow.com/questions/38959304/perl-use-of-unitialized-value/38959462#38959462", "title": "Perl use of unitialized value", "body": "<p>Like @HunterMcMillen said you do not need the quotes around your variables when assigning to a hash. So update the following portions of your code like so.</p>\n\n<pre><code>...\n$matches{$recipient} += $records;\n}\n}\nforeach my $rfc822 (keys %matches) {\nprint $matches{$rfc822}, \" \", $rfc822, \"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 6718583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56edec16be6a4e2087f2f8ed83a103ac?s=128&d=identicon&r=PG&f=1", "display_name": "joesmith", "link": "https://stackoverflow.com/users/6718583/joesmith"}, "edited": false, "score": 0, "creation_date": 1471443936, "post_id": 38960434, "comment_id": 65350412, "body": "thanks! I greatly appreciate the help, I&#39;m very new at this so I will definitely take all your advice into account"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1471444434, "last_edit_date": 1471444434, "creation_date": 1471284216, "answer_id": 38960434, "question_id": 38959304, "link": "https://stackoverflow.com/questions/38959304/perl-use-of-unitialized-value/38960434#38960434", "title": "Perl use of unitialized value", "body": "<p>The reason for the error has already been explained: you have used a variable name in single quotes as a hash key in two places</p>\n\n<p>Here are some more notes on your program</p>\n\n<ul>\n<li><p>There's no tax on whitespace, so you should use it liberally to indent your statements and leave blank lines so as to make your code more easy to read and debug. It is only polite to lay out your code neatly when you are asking for help with it even if you don't want to do it for yourself</p></li>\n<li><p>Variables should be declared as <em>late</em> as possible, preferably at the point they are first used. In this case the only variable that needs to be declared globally is <code>%matches</code> because it needs to persist across iterations of the following <code>for</code> loop. Everything else can be declared within the loop when it is defined</p></li>\n<li><p><code>for</code> and <code>foreach</code> are identical in function, so it is usually best to use the shorter of the two</p></li>\n<li><p>Whenever you're tempted to write <code>split /\\s+/</code>, you almost certainly mean <code>split ' '</code> which is pretty much identical except that it doesn't return an empty string for the first field if the string being split begins with whitespace. (It is different from <code>split / /</code> which splits on individual spaces.) The default parameters for <code>split</code> are <code>split ' ', $_</code>, so you can use just <code>split</code> here</p></li>\n<li><p>It is much neater to use interpolation to build strings consisting of variable values and string constants. <code>$matches{$rfc822}, \" \", $rfc822, \"\\n\"</code> is very much more readable written as <code>\"$matches{$rfc822} $rfc822\\n\"</code></p></li>\n</ul>\n\n<p>Here is your code with the errors fixed and my points taken into account</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Email::Address;\n\nmy %matches;\n\nwhile ( &lt;DATA&gt; ) {\n\n    for my $addr ( Email::Address-&gt;parse($_) ) {\n        my @fields    = split;\n        my $records   = $fields[12];\n        my $recipient = $addr-&gt;address;\n        $matches{$recipient} += $records;\n    }\n}\n\nfor my $rfc822 ( keys %matches ) {\n    print \"$matches{$rfc822} $rfc822\\n\";\n}\n\n__DATA__\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6718583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56edec16be6a4e2087f2f8ed83a103ac?s=128&d=identicon&r=PG&f=1", "display_name": "joesmith", "link": "https://stackoverflow.com/users/6718583/joesmith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1471444434, "creation_date": 1471279571, "last_edit_date": 1471296991, "question_id": 38959304, "link": "https://stackoverflow.com/questions/38959304/perl-use-of-unitialized-value", "title": "Perl use of unitialized value", "body": "<p>I'm new at Perl and need some help debugging.\nHere is my current code (lines of Data at bottom redacted for privacy):</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Email::Address;\n\nmy %matches;\nmy $records = 0;\nmy $recipient = \"\";\nwhile (&lt;DATA&gt;) {\n    foreach my $addr (Email::Address-&gt;parse($_)) {\n        my @fields = split /\\s/, $_;\n        $records = $fields[12];\n        $recipient = $addr-&gt;address;\n        $matches{'$recipient'} += $records;\n    }\n}\nforeach my $rfc822 (keys %matches) {\n    print $matches{'$rfc822'}, \" \", $rfc822, \"\\n\";\n}\n\n__DATA__\n</code></pre>\n\n<p>Here is the error I receive:</p>\n\n<pre><code>Microsoft Windows [Version 6.1.7601]\nCopyright (c) 2009 Microsoft Corporation.  All rights reserved.\n\nC:\\Users\\redacted&gt;C:\\Perl\\test4.pl\nUse of uninitialized value in print at C:\\Perl\\test4.pl line 18, &lt;DATA&gt; line 4.\n$recipient\n</code></pre>\n\n<p>Any help would be much appreciated as I have been stuck on this for days, thanks!!</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1471277200, "post_id": 38958586, "comment_id": 65271615, "body": "XML::Simple itself says that it should not be used in new code. What you are seeing is that you had to code to cater for the weirdness of XML::Simple, and then it doesn&#39;t give consistent results, breaking your code. You should use something else, like XML::Twig or XML::LibXML. Answers with both of them will probably appear here shortly."}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 4719897, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-3DiQJdXtvek/AAAAAAAAAAI/AAAAAAAAASw/2ElZXn255d0/photo.jpg?sz=128", "display_name": "Nirakander", "link": "https://stackoverflow.com/users/4719897/nirakander"}, "edited": false, "score": 0, "creation_date": 1471279138, "post_id": 38958853, "comment_id": 65272656, "body": "Oh I missed that part about XML::Simple. This works! Thanks a lot!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1471277801, "creation_date": 1471277801, "answer_id": 38958853, "question_id": 38958586, "link": "https://stackoverflow.com/questions/38958586/how-do-i-get-an-xml-value-in-perl/38958853#38958853", "title": "How do i get an xml value in perl?", "body": "<p><a href=\"http://p3rl.org/XML::Simple\" rel=\"nofollow\">XML::Simple</a> tells you not to use it. Follow its advice.</p>\n\n<p>Here's how to extract temperature using <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse XML::LibXML;\n\nmy $dom = 'XML::LibXML'-&gt;load_xml(\n    location =&gt; 'http://www.yr.no/place/Norway/Telemark/Sauherad/Gvarv/forecast_hour_by_hour.xml');\n\nfor my $temperature ($dom-&gt;findnodes('//temperature/@value')) {\n    say $temperature-&gt;getValue;\n}\n</code></pre>\n\n<p>With <a href=\"http://metacpan.org/pod/distribution/XML-XSH2/xsh\" rel=\"nofollow\">xsh</a>, which is a wrapper around XML::LibXML, you can just write</p>\n\n<pre><code>open http://www.yr.no/place/Norway/Telemark/Sauherad/Gvarv/forecast_hour_by_hour.xml ;\nfor //temperature echo @value ;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1471278982, "last_edit_date": 1495541696, "creation_date": 1471278982, "answer_id": 38959156, "question_id": 38958586, "link": "https://stackoverflow.com/questions/38958586/how-do-i-get-an-xml-value-in-perl/38959156#38959156", "title": "How do i get an xml value in perl?", "body": "<p><a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\"><code>XML::Simple is discouraged</code></a></p>\n\n<p>Much easier than you think - I will suggest <code>XML::Twig</code>, because I think it has an easier learning curve:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\nuse LWP::Simple;\n\nmy $twig = XML::Twig -&gt; parse (  get('http://www.yr.no/place/Norway/Telemark/Sauherad/Gvarv/forecast_hour_by_hour.xml') );\n#print the first temperature value:\nprint $twig -&gt; get_xpath('//temperature',0 ) -&gt; att('value'),\"\\n\";\n\n# all the temps in an array:\nuse Data::Dumper;\nmy @temps = map { $_ -&gt; att('value') } $twig -&gt; get_xpath('//temperature');\nprint Dumper \\@temps;\n</code></pre>\n\n<p>here we make use of an <code>xpath</code> search - which is a bit like a regular expression for XML. <code>//</code> denotes \"anywhere in the tree\" so is effectively a search for \"temperature\" nodes. (Which seems to work with your XML, but you might want a more specific path in other scenarios).</p>\n"}], "owner": {"reputation": 179, "user_id": 4719897, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-3DiQJdXtvek/AAAAAAAAAAI/AAAAAAAAASw/2ElZXn255d0/photo.jpg?sz=128", "display_name": "Nirakander", "link": "https://stackoverflow.com/users/4719897/nirakander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 900, "favorite_count": 1, "accepted_answer_id": 38958853, "answer_count": 2, "score": 2, "last_activity_date": 1471278982, "creation_date": 1471276843, "question_id": 38958586, "link": "https://stackoverflow.com/questions/38958586/how-do-i-get-an-xml-value-in-perl", "title": "How do i get an xml value in perl?", "body": "<p>Im a beginner to perl and i have a problem that I don't know how to solve. Im trying to fetch xml-data from a website and put the value of temperature in an array. </p>\n\n<p>This is my code so far: </p>\n\n<pre><code>use strict;\nuse warnings;\n\n# For parsing\nuse XML::Simple;\n\n# For downloading\nuse LWP::Simple;\n\n# For debug output\nuse Data::Dumper;\n\n# Turn off output buffering\n$|=1;\n\n# Note, no error checking here!\n\nsub main \n{\n\n    print \"\\nDownloading ....\";\n    my $data = get('http://www.yr.no/place/Norway/Telemark/Sauherad/Gvarv/forecast_hour_by_hour.xml');\n\n    my $parser = new XML::Simple;\n\n    print \"\\nParsing ...\";\n    my $dom = $parser-&gt;XMLin($data);\n\n    print \"\\n\\n\";\n\n    # Debug output. \n    #print Dumper($dom-&gt;{'forecast'});\n\n    # Data structure is a hash containing one key, 'entry'.\n    # Get the hash value and cast to an array.\n    my @entries = $dom-&gt;{'forecast'}-&gt;{'tabular'}-&gt;{'time'};\n    # Go through each array 'entry' element.\n    foreach my $entry(@entries) \n    {   \n        print Dumper($entry);\n        # Each element is a hash.\n        # The band name can be got from one hash key.\n        my $tabular = $entry-&gt;{'temperature'};\n\n\n        #print \"$tabular\\n\";\n\n\n        print \"\\n\\n\";\n    }\n\n\n}\n\nmain();\n</code></pre>\n\n<p>And the output that I get on my terminal is: </p>\n\n<pre><code>    },\n      {\n        'temperature' =&gt; {\n                         'unit' =&gt; 'celsius',\n                         'value' =&gt; '26'\n                       },\n        'windSpeed' =&gt; {\n                       'name' =&gt; 'Light breeze',\n                       'mps' =&gt; '1.9'\n                     },\n        'to' =&gt; '2016-08-17T16:00:00',\n        'pressure' =&gt; {\n                      'unit' =&gt; 'hPa',\n                      'value' =&gt; '1014.1'\n                    },\n        'from' =&gt; '2016-08-17T15:00:00',\n        'precipitation' =&gt; {\n                           'value' =&gt; '0'\n                         },\n        'symbol' =&gt; {\n                    'numberEx' =&gt; '1',\n                    'var' =&gt; '01d',\n                    'number' =&gt; '1',\n                    'name' =&gt; 'Clear sky'\n                  },\n        'windDirection' =&gt; {\n                           'name' =&gt; 'North',\n                           'code' =&gt; 'N',\n                           'deg' =&gt; '4.4'\n                         }\n      },\n      {\n        'precipitation' =&gt; {\n                           'value' =&gt; '0'\n                         },\n        'from' =&gt; '2016-08-17T16:00:00',\n        'windDirection' =&gt; {\n                           'name' =&gt; 'North-northeast',\n                           'code' =&gt; 'NNE',\n                           'deg' =&gt; '20.6'\n                         },\n        'symbol' =&gt; {\n                    'number' =&gt; '1',\n                    'name' =&gt; 'Clear sky',\n                    'var' =&gt; '01d',\n                    'numberEx' =&gt; '1'\n                  },\n        'temperature' =&gt; {\n                         'unit' =&gt; 'celsius',\n                         'value' =&gt; '27'\n                       },\n        'pressure' =&gt; {\n                      'value' =&gt; '1013.4',\n                      'unit' =&gt; 'hPa'\n                    },\n        'to' =&gt; '2016-08-17T17:00:00',\n        'windSpeed' =&gt; {\n                       'mps' =&gt; '1.2',\n                       'name' =&gt; 'Light air'\n                     }\n      },\n      {\n        'symbol' =&gt; {\n                    'numberEx' =&gt; '1',\n                    'var' =&gt; '01d',\n                    'name' =&gt; 'Clear sky',\n                    'number' =&gt; '1'\n                  },\n        'windDirection' =&gt; {\n                           'name' =&gt; 'East',\n                           'code' =&gt; 'E',\n                           'deg' =&gt; '83.0'\n                         },\n        'from' =&gt; '2016-08-17T17:00:00',\n        'precipitation' =&gt; {\n                           'value' =&gt; '0'\n                         },\n        'windSpeed' =&gt; {\n                       'mps' =&gt; '0.7',\n                       'name' =&gt; 'Light air'\n                     },\n        'pressure' =&gt; {\n                      'unit' =&gt; 'hPa',\n                      'value' =&gt; '1012.8'\n                    },\n        'to' =&gt; '2016-08-17T18:00:00',\n        'temperature' =&gt; {\n                         'unit' =&gt; 'celsius',\n                         'value' =&gt; '27'\n                       }\n      }\n    ];\nNot a HASH reference at script.pl line 43.\n</code></pre>\n\n<p>Why do I get this error and how can i fetch the values of temperature? Thanks in advance!</p>\n"}, {"tags": ["perl", "variables", "aix"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471270902, "post_id": 38956845, "comment_id": 65267827, "body": "In <code>$config{variable1}=epaMQMonitor;</code>, is <code>epaMQMonitor</code> supposed to be a string, or is it a function? If it&#39;s a string, you have a syntax error. You should <code>use strict</code> and <code>use warnings</code>. That would tell you what is wrong. You need to quote all your strings."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471271135, "post_id": 38956845, "comment_id": 65267983, "body": "There&#39;s also a difference between <code>or die</code> and <code>|| die</code>. The logical operators have a different <i>stickiness</i>. In general, the <code>||</code> type binary operators have way higher <i>precedence</i> than the <code>or</code> type logical operators. See <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html</a> for more information."}, {"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1471276151, "post_id": 38956845, "comment_id": 65271045, "body": "After you solve the interpolation problem bear in mind that since you are passing <code>$config{variable1}</code> and <code>$config{variable2}</code> through to the shell, you must completely trust the source of what those variables contain. Otherwise you will eventually have a very bad day.  Who controls the configuration files?"}, {"owner": {"reputation": 15, "user_id": 6717990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0fd876f3f1e4e04ca4f08703babf0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Kittamaru", "link": "https://stackoverflow.com/users/6717990/kittamaru"}, "edited": false, "score": 0, "creation_date": 1471282895, "post_id": 38956845, "comment_id": 65274618, "body": "Many thanks for the info - I&#39;m a perl newbie still (a lot of this is existing script that I&#39;m modifying for the config file). Regarding control of the config files - they will be setup by our team (nobody external). the epaMQMonitor is a string (it is just text that we are looking to match)."}], "answers": [{"tags": [], "owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "is_accepted": true, "score": 1, "last_activity_date": 1471271152, "creation_date": 1471271152, "answer_id": 38957008, "question_id": 38956845, "link": "https://stackoverflow.com/questions/38956845/how-can-i-use-variables-in-opencommand-command-function/38957008#38957008", "title": "How can I use variables in open(COMMAND, $command) function?", "body": "<p>In the line</p>\n\n<pre><code>my $command = 'ps -ef |grep -w $config{variable1} |grep -wi $config{variable2} |grep -v grep &gt; /wilyagent/BriansPerlTesting/applytest.txt|';\n</code></pre>\n\n<p>you set up the variable <code>$command</code>. And since you use single quotes <code>'...'</code> the variables will not be substituted. Use double quotes <code>\"...\"</code> instead for variable substitution to take place.</p>\n"}], "owner": {"reputation": 15, "user_id": 6717990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0fd876f3f1e4e04ca4f08703babf0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Kittamaru", "link": "https://stackoverflow.com/users/6717990/kittamaru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 38957008, "answer_count": 1, "score": 0, "last_activity_date": 1471271154, "creation_date": 1471270662, "last_edit_date": 1471271154, "question_id": 38956845, "link": "https://stackoverflow.com/questions/38956845/how-can-i-use-variables-in-opencommand-command-function", "title": "How can I use variables in open(COMMAND, $command) function?", "body": "<p>First time asking a question here, so I hope I get the formatting right:</p>\n\n<pre><code>my %config;\n$config{variable1}=epaMQMonitor;\n$config{variable2}=IntroscopeEPAgent;\n\n#issue the ps grep\nmy $command = 'ps -ef |grep -w $config{variable1} |grep -wi $config{variable2} |grep -v grep &gt; /wilyagent/BriansPerlTesting/applytest.txt|';\nprint \"Command is ps -ef |grep -w $config{variable1} |grep -wi $config{variable2} |grep -v grep &gt; /wilyagent/BriansPerlTesting/applytest.txt|\\n\";\nprint \"$command\\n\";\nopen( COMMAND, $command )\n|| die \"Error when executing \\\"$command\\\": $!\";\n</code></pre>\n\n<p>Now, my expected output for both would be:</p>\n\n<pre><code>Command is ps -ef |grep -w epaMQMonitor |grep -wi IntroscopeEPAgent |grep -v grep &gt; /wilyagent/BriansPerlTesting/applytest.txt|\n</code></pre>\n\n<p>Instead, I'm getting this for the second one (and this appears to be what is being run):</p>\n\n<pre><code>ps -ef |grep -w $config{variable1} |grep -wi $config{variable2} |grep -v grep &gt; /wilyagent/BriansPerlTesting/applytest.txt|\n</code></pre>\n\n<p>Further digging has revealed that Perl is substituting the first level variable ($command) for its contents, but it is not pulling the $config{variable1} and $config{variable2} into it (I think because it considers the $command as a package?)</p>\n\n<p>I found a way to get the output I want:</p>\n\n<pre><code>open my $command, \"ps -ef |grep -w $config{variable1} |grep -wi $config{variable2} |grep -v grep &gt; /wilyagent/BriansPerlTesting/applytest.txt|\";\nclose($command);\n</code></pre>\n\n<p>However, that doesn't work with an \"or die\" function on the end.</p>\n\n<p>My question, ultimately; is it possible to get the variable substitution working in the first method, and if so, how?</p>\n\n<p>Background - the reason for this is we have a series of perl scripts currently that are hard-coded. It has been requested that we make these scripts portable to other servers without having to edit the scripts themselves, having them look at a configuration file that lists what they are looking for (in this case, it is a script that looks for processes that should be running on a server). </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["linux", "perl", "unix", "awk", "sas"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 6, "creation_date": 1471267817, "post_id": 38955980, "comment_id": 65265955, "body": "Welcome to Stack Overflow. Your question is completely unreadable. Please read the <a href=\"http://stackoverflow.com/editing-help\">markdown help</a> and then <a href=\"https://stackoverflow.com/posts/38955980/edit\">edit</a> your question to make code look like code. You should also explain what you have tried so far to solve your problem, and how that has failed."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1471270613, "post_id": 38955980, "comment_id": 65267657, "body": "<a href=\"https://stackoverflow.com/posts/38955980/edit\">edit</a> your question to clarify what <code>list of queries as one of the variable</code> means. Are you saying that block of text is contained in a shell variable? If so why and where did it come from? How should a script identify the text inside parens that you wanted quoted separately from the text inside parens that you don&#39;t want quoted?"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 6717922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40075b6b0324570ee51dc6a12c082d83?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6717922/nick"}, "edited": false, "score": 0, "creation_date": 1471275589, "post_id": 38956931, "comment_id": 65270729, "body": "This is what I am looking for, but when I ran the command it gives an extra quotations - before - (&#39; Select Table1 and after ANT_CD=&#39;FI_BASE_TENANT&#39; &#39;), Also it didn&#39;t quote HighVal_Ind in my case. Thanks for help."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 17, "user_id": 6717922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40075b6b0324570ee51dc6a12c082d83?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6717922/nick"}, "edited": false, "score": 0, "creation_date": 1471277861, "post_id": 38956931, "comment_id": 65271943, "body": "For the first issue, one possible solution would be to add <code>&#39;\\&#39;&#39;</code> within the bracket expression (<code>[^()&#39;\\&#39;&#39;]</code>), for the 2nd - that&#39;s not possible given the input you posted so if you have some other input that&#39;s producing that behavior then you need to include THAT input in your question."}, {"owner": {"reputation": 17, "user_id": 6717922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40075b6b0324570ee51dc6a12c082d83?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6717922/nick"}, "edited": false, "score": 0, "creation_date": 1471350296, "post_id": 38956931, "comment_id": 65302860, "body": "Ed, thank you very much, this function worked for me -- sed -E &#39;s/&#40;([^(,$1)&#39;\\&#39;&#39;]+)&#41;/(&#39;\\&#39;&#39;\\1&#39;\\&#39;&#39;)/g&#39; -- One more question I promise it will be my final question. Is there any way we can put the values in string for the below condition-- WHERE ( t1.CASESTATUs_CD = (NEW, OLD, CLOSED, PENDING)  )                                                                                                Change to - WHERE ( t1.CASESTATUs_CD = (&#39;NEW&#39;, &#39;OLD&#39;, &#39;CLOSED&#39;, &#39;PENDING&#39;)  )"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 17, "user_id": 6717922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40075b6b0324570ee51dc6a12c082d83?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6717922/nick"}, "edited": false, "score": 0, "creation_date": 1471354839, "post_id": 38956931, "comment_id": 65306083, "body": "Of course but that&#39;s a completely different problem to the one you posted. If you want to solve THAT completely different problem then that&#39;ll take a completely different type of solution so post a new question and this time make sure the sample input you post truly covers ALL of your used cases (especially if what you want quoted can be split across lines)."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 0, "last_activity_date": 1471270915, "creation_date": 1471270915, "answer_id": 38956931, "question_id": 38955980, "link": "https://stackoverflow.com/questions/38955980/how-to-extract-words-between-2-parentheses-in-unix-linux/38956931#38956931", "title": "How to extract words between 2 parentheses in Unix/ Linux?", "body": "<p>Your question isn't clear but MAYBE this is what you want:</p>\n\n<pre><code>$ sed -E 's/\\(([^()]+)\\)/('\\''\\1'\\'')/g' file\nSELECT * FROM ( SELECT Table1 file2.txt file.txt QUEUES QDefinitions\nParameters TRAP-Deposit-DSTran.dat.2016-08-07 FROM CS_CASE WHERE\nANT_CD='FI_BASE_TENANT')t1 LEFT OUTER JOIN Table2 t2 ON\nt2.CASE_ID=t1.CASE_ID LEFT OUTER JOIN Table3 t3 ON\nt3.SERVICE_XID=t1.SERVICE_XID LEFT OUTER JOIN Table4 t4 ON\nt4.SERVICE_ID=t1.SERVICE_ID WHERE ( t1.CASESTATUs_CD = ('NEW') OR\nt1.CASE_STATUS_CD = ('OPEN') )\nAND ( t3.SEARCH_VALUE = ('HighVal_Ind') AND t3.SEARCH_VALUE_N &lt;= 3 ) AND\n( t4.SEARCH_VALUE_Nm = ('Curr_Strategy') AND t4.SEARCH_STRG = ('095') )\nGROUP BY t1.CASE_REFERENCE,t2.LAST_SCRFP,t1.SERVICE_ID\nORDER BY t2.LAST_SCRFP DESC\n</code></pre>\n\n<p>The above was run on this input file:</p>\n\n<pre><code>$ cat file\nSELECT * FROM ( SELECT Table1 file2.txt file.txt QUEUES QDefinitions\nParameters TRAP-Deposit-DSTran.dat.2016-08-07 FROM CS_CASE WHERE\nANT_CD='FI_BASE_TENANT')t1 LEFT OUTER JOIN Table2 t2 ON\nt2.CASE_ID=t1.CASE_ID LEFT OUTER JOIN Table3 t3 ON\nt3.SERVICE_XID=t1.SERVICE_XID LEFT OUTER JOIN Table4 t4 ON\nt4.SERVICE_ID=t1.SERVICE_ID WHERE ( t1.CASESTATUs_CD = (NEW) OR\nt1.CASE_STATUS_CD = (OPEN) )\nAND ( t3.SEARCH_VALUE = (HighVal_Ind) AND t3.SEARCH_VALUE_N &lt;= 3 ) AND\n( t4.SEARCH_VALUE_Nm = (Curr_Strategy) AND t4.SEARCH_STRG = (095) )\nGROUP BY t1.CASE_REFERENCE,t2.LAST_SCRFP,t1.SERVICE_ID\nORDER BY t2.LAST_SCRFP DESC\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 787, "user_id": 5962231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4830559ebdb0dd274083e8970ae80616?s=128&d=identicon&r=PG&f=1", "display_name": "Jetzler", "link": "https://stackoverflow.com/users/5962231/jetzler"}, "is_accepted": false, "score": 0, "last_activity_date": 1471272876, "creation_date": 1471272876, "answer_id": 38957521, "question_id": 38955980, "link": "https://stackoverflow.com/questions/38955980/how-to-extract-words-between-2-parentheses-in-unix-linux/38957521#38957521", "title": "How to extract words between 2 parentheses in Unix/ Linux?", "body": "<p>This is best solved using regular expression. In SAS this is done using the <code>prxchange</code> function. Assuming you have no whitespace in your conditions, we check for brackets with no whitespace in between. Adjust the function if there are other conditions.</p>\n\n<pre><code>data query;\n    length want $3000;\n    have= \n        \"SELECT * FROM ( SELECT Table1 file2.txt file.txt QUEUES QDefinitions\n        Parameters TRAP-Deposit-DSTran.dat.2016-08-07 FROM CS_CASE WHERE \n        ANT_CD='FI_BASE_TENANT')t1 LEFT OUTER JOIN Table2 t2 ON \n        t2.CASE_ID=t1.CASE_ID LEFT OUTER JOIN Table3 t3 ON \n        t3.SERVICE_XID=t1.SERVICE_XID LEFT OUTER JOIN Table4 t4 ON \n        t4.SERVICE_ID=t1.SERVICE_ID WHERE ( t1.CASESTATUs_CD = (NEW) OR \n        t1.CASE_STATUS_CD = (OPEN) )\n        AND ( t3.SEARCH_VALUE = (HighVal_Ind) AND t3.SEARCH_VALUE_N &lt;= 3 ) AND \n        ( t4.SEARCH_VALUE_Nm = (Curr_Strategy) AND t4.SEARCH_STRG = (095) ) \n        GROUP BY t1.CASE_REFERENCE,t2.LAST_SCRFP,t1.SERVICE_ID \n        ORDER BY t2.LAST_SCRFP DESC\";\n    want =  prxchange(\"s/\\(([^ ]+)\\)/('\\1')/\", -1, have); \nrun;\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 6717922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40075b6b0324570ee51dc6a12c082d83?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6717922/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 38956931, "answer_count": 2, "score": 1, "last_activity_date": 1471445605, "creation_date": 1471267607, "last_edit_date": 1471445605, "question_id": 38955980, "link": "https://stackoverflow.com/questions/38955980/how-to-extract-words-between-2-parentheses-in-unix-linux", "title": "How to extract words between 2 parentheses in Unix/ Linux?", "body": "<p>I have a SAS dataset with the list of queries as one of the variable. Below is one of the variable value:</p>\n\n<pre><code>SELECT * FROM ( SELECT Table1 file2.txt file.txt QUEUES QDefinitions\nParameters TRAP-Deposit-DSTran.dat.2016-08-07 FROM CS_CASE WHERE \nANT_CD='FI_BASE_TENANT')t1 LEFT OUTER JOIN Table2 t2 ON \nt2.CASE_ID=t1.CASE_ID LEFT OUTER JOIN Table3 t3 ON \nt3.SERVICE_XID=t1.SERVICE_XID LEFT OUTER JOIN Table4 t4 ON \nt4.SERVICE_ID=t1.SERVICE_ID WHERE ( t1.CASESTATUs_CD = (NEW) OR \nt1.CASE_STATUS_CD = (OPEN) )\nAND ( t3.SEARCH_VALUE = (HighVal_Ind) AND t3.SEARCH_VALUE_N &lt;= 3 ) AND \n( t4.SEARCH_VALUE_Nm = (Curr_Strategy) AND t4.SEARCH_STRG = (095) ) \nGROUP BY t1.CASE_REFERENCE,t2.LAST_SCRFP,t1.SERVICE_ID \nORDER BY t2.LAST_SCRFP DESC\n</code></pre>\n\n<p>What I want to do is I want to put the value enter code here's in <code>()</code> as <code>(' ')</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>WHERE ( t1.CASESTATUs_CD = (NEW) OR t1.CASE_STATUS_CD = (OPEN) ) \n</code></pre>\n\n<p>I want to change this to:</p>\n\n<pre><code>WHERE ( t1.CASESTATUs_CD = ('NEW') OR t1.CASE_STATUS_CD = ('OPEN') ) \n</code></pre>\n\n<p>How can I do it?</p>\n"}, {"tags": ["perl", "bigdata"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471262132, "post_id": 38954206, "comment_id": 65262921, "body": "Are the column headings part of the file?"}, {"owner": {"reputation": 3, "user_id": 6556723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cad08bea1d52061844ff188c2cc498d?s=128&d=identicon&r=PG&f=1", "display_name": "JMCS", "link": "https://stackoverflow.com/users/6556723/jmcs"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471262175, "post_id": 38954206, "comment_id": 65262941, "body": "No I just added those in for readability. I will edit that information in."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6556723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cad08bea1d52061844ff188c2cc498d?s=128&d=identicon&r=PG&f=1", "display_name": "JMCS", "link": "https://stackoverflow.com/users/6556723/jmcs"}, "edited": false, "score": 0, "creation_date": 1471263970, "post_id": 38954755, "comment_id": 65263815, "body": "It worked. I cant begin to thank you enough but I will start anyway.                       Thank you!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1471264448, "last_edit_date": 1471264448, "creation_date": 1471262734, "answer_id": 38954755, "question_id": 38954206, "link": "https://stackoverflow.com/questions/38954206/perl-matching-columns-from-two-different-files/38954755#38954755", "title": "Perl: Matching columns from two different files", "body": "\n\n<p>This will do as you ask</p>\n\n<p>It starts by reading <code>file2.txt</code> and building a hash <code>%f2</code> that relates the value of the first column to the value of the second</p>\n\n<p>Thereafter it's just a matter of reading through <code>file1.txt</code>, splitting it into fields, and adding a further field obtained by accessing the hash using the value of the third field</p>\n\n<p>I've used <code>autodie</code> to save the trouble of handling errors in the <code>open</code> calls. Otherwise everything is standard</p>\n\n<h3>Update</h3>\n\n<p>I've just noticed that a column 1 value may be repeated in <code>file2.txt</code>, so I've changed the code to make each key of the hash correspond to an <em>array</em> of values. All the values in the array appear, space-separated, in column 4 of the output</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse autodie;\n\nmy %f2;\n\n{\n    open my $fh, '&lt;', 'file2.txt';\n    while ( &lt;$fh&gt; ) {\n        my ($key, $val) = split;\n        $f2{$key} //= [];\n        push @{ $f2{$key} }, $val if $val;\n    }\n}\n\nopen my $fh, '&lt;', 'file1.txt';\n\nwhile ( &lt;$fh&gt; ) {\n    my @line = split;\n    my $c4 =  $f2{$line[2]};\n    push @line, $c4 ? join(' ', @$c4) : '';\n    local $\" = \"\\t\";\n    print \"@line\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>AG_446337835.1  example1    grgsdt  AAHG\nAG_448352465.1  example2    190197  POKJ YUNIP\nAG_449465753.1  example3    h837h8  JUJN\nAG_449366462.1  example4    d34tw4  \nAG_444725037.1  example5    f45ge4  DFRF\nAG_441227463.1  example6    f3fw4t  YUNIP\nAG_449986090.1  example7    gft7r4  NNHN\nAG_445666926.1  example8    4vsr55  GHGF\nAG_441004541.1  example9    fh893b  YUNIP\nAG_444837264.1  example0    k3883d  YUNIP\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471263596, "post_id": 38954871, "comment_id": 65263635, "body": "It would help if you explained why you think a &quot;left join&quot; is better."}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471263644, "post_id": 38954871, "comment_id": 65263668, "body": "I was wrong. You do also a left join. Both answers are the same."}], "tags": [], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "is_accepted": false, "score": 0, "last_activity_date": 1471263591, "last_edit_date": 1471263591, "creation_date": 1471263246, "answer_id": 38954871, "question_id": 38954206, "link": "https://stackoverflow.com/questions/38954206/perl-matching-columns-from-two-different-files/38954871#38954871", "title": "Perl: Matching columns from two different files", "body": "<p>This one makes a <a href=\"https://en.wikipedia.org/wiki/Join_(SQL)#Left_outer_join\" rel=\"nofollow\">left join</a>. The key idea is to use <code>geneName</code> as a key in a hash.</p>\n\n<pre><code>#! /usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %data = ();\n\nopen $a, \"file1\";\nwhile (&lt;$a&gt;) {\n    chomp;\n    my @c = split;\n    $data{$c[2]} = [$c[0], $c[1], $c[2]];\n}\n\nopen $b, \"file2\";\nwhile (&lt;$b&gt;) {\n    chomp;\n    my @c = split;\n    push @{$data{$c[0]}}, exists $c[1] ? $c[1] : \"\";\n}\n\nprint map { \"@{$_}\\n\" } values %data;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6556723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cad08bea1d52061844ff188c2cc498d?s=128&d=identicon&r=PG&f=1", "display_name": "JMCS", "link": "https://stackoverflow.com/users/6556723/jmcs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 38954755, "answer_count": 2, "score": 0, "last_activity_date": 1505888534, "creation_date": 1471260429, "last_edit_date": 1506102531, "question_id": 38954206, "link": "https://stackoverflow.com/questions/38954206/perl-matching-columns-from-two-different-files", "title": "Perl: Matching columns from two different files", "body": "<p>(Note: Column headers are there for readability and are not in the actual files)</p>\n\n<h3>File 1</h3>\n\n<pre><code>COLUMN1         COLUMN2   COLUMN3\nAG_446337835.1  example1  grgsdt\nAG_448352465.1  example2  190197\nAG_449465753.1  example3  h837h8\nAG_449366462.1  example4  d34tw4\nAG_444725037.1  example5  f45ge4\nAG_441227463.1  example6  f3fw4t\nAG_449986090.1  example7  gft7r4\nAG_445666926.1  example8  4vsr55\nAG_441004541.1  example9  fh893b\nAG_444837264.1  example0  k3883d\n</code></pre>\n\n<h3>File 2</h3>\n\n<pre><code>COLUMN1  COLUMN2\ngrgsdt   AAHG\nh837h8   JUJN\n190197   POKJ\nf45ge4   DFRF\ngft7r4   NNHN\nd34tw4\nfh893b  YUNIP\nk3883d  YUNIP\nf3fw4t  YUNIP\n190197  YUNIP\n4vsr55  GHGF\n</code></pre>\n\n<h3>Desired Output file</h3>\n\n<pre><code>COLUMN1         COLUMN2   COLUMN3 COLUMN4 (formerly column2 from file2)\nAG_446337835.1  example1  grgsdt  AAHG \nAG_448352465.1  example2  190197  POKJ  YUNIP\nAG_449465753.1  example3  h837h8  JUJN\nAG_449366462.1  example4  d34tw4  \nAG_444725037.1  example5  f45ge4  DFRF\nAG_441227463.1  example6  f3fw4t  YUNIP\nAG_449986090.1  example7  gft7r4  NNHN\nAG_445666926.1  example8  4vsr55  GHGF\nAG_441004541.1  example9  fh893b  YUNIP\nAG_444837264.1  example0  k3883d  YUNIP\n</code></pre>\n\n<p>I am barely familiar with Perl (or programming general) and I was wondering if you would mind advising me with this problem.</p>\n\n<p>Essentially, Column 3 in file1 corresponds to Column 1 in File2.</p>\n\n<p>I want to take each line in file1, read column 3 of that line, search file2 for a matching entry, if a matching entry exists print the line from file1 with an extra column from file 2 to a new file (as seen in the example output).</p>\n\n<p>The file sizes are </p>\n\n<p>File1: 2GB </p>\n\n<p>File2: 718MB</p>\n\n<p>This script will be run off a machine with 250GB of ram so memory is not an issue.</p>\n\n<p>This is what I have so far </p>\n\n<pre><code>#!/usr/bin/perl ;\n#use warnings;\n\nuse Getopt::Long qw(GetOptions);\nuse experimental 'smartmatch';\n#Variable to store inputted text file data\nmy $db ;\nmy $db2 ;\n\n\n\n\n#Open and read File one into memory\nopen FPIN, \"file1.txt\" or die \"Could not open\";\nmy @file1 = &lt;FPIN&gt; ;\nclose FPIN;\n\n#Open and read file two into memory\nopen FPIN, \"file2.tab\" or die \"Could not open\";\nmy @file2 = &lt;FPIN&gt; ;\nclose FPIN ;\n\n\n\n\nforeach (@file2)\n  {\n    if (/(^\\w+)\\t(.+)/)\n      { \n        split /\\t/, $2; \n        $db2-&gt;{$1}-&gt;{\"geneName\"} = $1 ;\n        $db2-&gt;{$1}-&gt;{\"protein\"} = $2 ;\n      }             \n\n  }\n\nforeach (@file1)\n    {\n      #if line begins with any word character tab and anything\n      if (/(^\\w+.\\d+)\\t(.+)/)\n        { \n            my @fields = split /\\t/, $2;\n            my $refSeqID = $1;\n\n           #assign the data in the array to variables\n            my ($geneSymbol, $geneName) = @fields[0, 1];\n\n          #Create database data structure and fill it with the info\n            $db-&gt;{$2}-&gt;{\"refSeqID\"} = $refSeqID ;\n            $db-&gt;{$2}-&gt;{\"geneSymbol\"} = $geneSymbol ;\n            $db-&gt;{$2}-&gt;{\"geneName\"} = $geneName ;\n\n       }\n   }         \n\nforeach my $id (sort keys %{$db2}) \n  {\n    if ( exists $db-&gt;{$id} )\n      {   \n        print $db2-&gt;{$id}.\"\\t\".$db-&gt;{$id}-&gt;{$geneSymbol}.\"\\t\".$db-&gt;{$id}-&gt; \n        {$refSeqID}.\"\\t\".$db2-&gt;{$id}-&gt;{$protein}.\"\\n\";\n      }\n\n  }\n</code></pre>\n\n<p>I seem to be able to read both files into memory correctly.\nHowever I have been completely unable to compare the files to each other and I am dumbstruck on how to approach it.</p>\n\n<p>Actually printing it will be another issue I need to tackle.</p>\n"}, {"tags": ["mysql", "macos", "perl"], "comments": [{"owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 0, "creation_date": 1471255735, "post_id": 38953097, "comment_id": 65260195, "body": "You&#39;ve probably ran <code>cpanm</code> with root privileges previously, so now the <code>.cpanm</code> directory has permissions that the admin user has no access to. You probably want to re-run it as root, possibly via <code>sudo</code>"}, {"owner": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "reply_to_user": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 0, "creation_date": 1471255864, "post_id": 38953097, "comment_id": 65260267, "body": "@Drav Sloan do you know what the first error is for ? and how to get rid of it?"}, {"owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 0, "creation_date": 1471255934, "post_id": 38953097, "comment_id": 65260303, "body": "Without seeing the script (or what&#39;s on line 33), I would not be able to help."}, {"owner": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "reply_to_user": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 0, "creation_date": 1471256019, "post_id": 38953097, "comment_id": 65260350, "body": "@Drav Sloan how can I show you the script? or how can I show you what is the line 33? actually I restart my computer even and I open again the terminal and it shows the same error"}, {"owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 0, "creation_date": 1471256020, "post_id": 38953097, "comment_id": 65260351, "body": "If you are getting a different error running it with sudo, edit your question and put it there (as it will be clearer to see the problem)."}, {"owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 0, "creation_date": 1471256153, "post_id": 38953097, "comment_id": 65260414, "body": "Seems you are running the 2nd <code>cpanm</code> without sudo either..."}, {"owner": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "reply_to_user": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 0, "creation_date": 1471256612, "post_id": 38953097, "comment_id": 65260639, "body": "@Drav Sloan I faced another error , this time it has sudo so I don&#39;t know what else I must do, please look at above"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471259677, "post_id": 38953097, "comment_id": 65261854, "body": "Take a look at the startup files <code>~&#47;.bash_profile</code>, <code>~&#47;.profile</code> and <code>~&#47;.bashrc</code> to see if there&#39;s anything that stands out on line 33."}, {"owner": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471264533, "post_id": 38953097, "comment_id": 65264089, "body": "@Borodin thanks for your comment Admins-MBP:~ admin$ ~/.bash_profile -bash: /Users/admin/.bash_profile: Permission denied"}, {"owner": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471264560, "post_id": 38953097, "comment_id": 65264106, "body": "@Borodin Admins-MBP:~ admin$ ~/.profile -bash: /Users/admin/.profile: Permission denied Admins-MBP:~ admin$ ~/.bashrc -bash: /Users/admin/.bashrc: Permission denied"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471265565, "post_id": 38953097, "comment_id": 65264682, "body": "You&#39;re logged in as <code>admin</code>? And you&#39;re locked out from your own startup files? That can&#39;t be right."}], "owner": {"reputation": 1968, "user_id": 5919561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b008619cfd8503c2c7cc599f4282ce28?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/5919561/nik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1471260132, "creation_date": 1471255585, "last_edit_date": 1495542785, "question_id": 38953097, "link": "https://stackoverflow.com/questions/38953097/error-installing-dbdmysql-and-its-dependencies-on-mac", "title": "Error installing DBD::mysql and its dependencies on mac", "body": "<p></p>\n\n<p>I am trying to do as it is described in <a href=\"http://www.ensembl.info/blog/2013/09/09/installing-perl-dbdmysql-and-ensembl-on-osx/\" rel=\"nofollow noreferrer\"><em>Installing Perl, DBD::mysql and Ensembl on OSX</em></a></p>\n\n<p>Then I always get an error when I open my terminal </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>-bash: eval: line 33: syntax error: unexpected end of file\n</code></pre>\n\n<p>However, I successfully installed <code>DBD::mysql</code> but when I try to install core dependency, it gives me an error</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Admins-MBP:~ admin$ sudo ln -s /usr/local/mysql/lib/libmysqlclient.18.dylib /usr/lib/libmysqlclient.18.dylib\nln: /usr/lib/libmysqlclient.18.dylib: Operation not permitted\nAdmins-MBP:~ admin$ \n</code></pre>\n\n<p>so I found a solution in this Stack Overflow question <a href=\"https://stackoverflow.com/questions/33011131/rails-on-osx-10-11-el-capitan-library-not-loaded-libmysqlclient-18-dylib\"><em>Rails on OSX 10.11 El Capitan: Library not loaded: libmysqlclient.18.dylib</em></a></p>\n\n<p>and I used the solution </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sudo ln -s /usr/local/mysql/lib/libmysqlclient.18.dylib /usr/local/lib/libmysqlclient.18.dylib\n</code></pre>\n\n<p>Now I do the following and I get error </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Admins-MBP:~ admin$ sudo ln -s /usr/local/mysql/lib/libmysqlclient.18.dylib /usr/local/lib/libmysqlclient.18.dylib\nAdmins-MBP:~ admin$ perl ~/src/ensembl/misc-scripts/ping_ensembl.pl\nCan't open perl script \"/Users/admin/src/ensembl/misc-scripts/ping_ensembl.pl\": No such file or directory\nAdmins-MBP:~ admin$ \n</code></pre>\n\n<p>Can someone help me to deal with it and get this bioperl run?</p>\n"}, {"tags": ["regex", "perl", "text-processing"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471254033, "post_id": 38952563, "comment_id": 65259434, "body": "Where are those coming from? Are they part of a larger file? Are they always on individual lines, or part of a large block of text that can contain line breaks in the middle?"}, {"owner": {"reputation": 369, "user_id": 3476183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a7dda5864aa1b7c18ec44452576bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Albjenow", "link": "https://stackoverflow.com/users/3476183/albjenow"}, "edited": false, "score": 0, "creation_date": 1471254355, "post_id": 38952563, "comment_id": 65259585, "body": "Just as a corner case: What happens, when single parentheses/braces are part of the formulae, e. g. as literals in a document about Regular Expressions?"}, {"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471254620, "post_id": 38952563, "comment_id": 65259711, "body": "@simbabque Hi, simbabque. The string in my post is a single complete Tex form of a math formula"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1471254714, "post_id": 38952563, "comment_id": 65259735, "body": "For those of us that are not famiilar with TeX, this explanation is meaningless. Please <a href=\"https://stackoverflow.com/posts/38952563/edit\">edit</a> and include a couple of full lines from the file."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471255599, "post_id": 38952563, "comment_id": 65260117, "body": "This is impossible in general unless there is a clear pattern to the errors. That is why programming languages issue an error like <i>missing semicolon</i> instead of just fixing it for you. Where did this data come from, and how were the mistakes made in the first place?"}, {"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471257229, "post_id": 38952563, "comment_id": 65260886, "body": "@Borodin This string is copied from wikiwand page. Wikiwand is an addon for browser to reformat wikipedia page <a href=\"http://www.wikiwand.com/\" rel=\"nofollow noreferrer\">wikiwand.com</a> . However, they mess up the Tex information behind equation image. I contacted the developer, but they don&#39;t give me feedback. So I tried to postprocess copied string myself. But I just found there are not only mismatched brackets, sometimes there are excess bracket. Maybe you are right, without knowing the exact pattern, this may not be done"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471258895, "post_id": 38952563, "comment_id": 65261530, "body": "@user15964: Hmm If I knew the syntax of TeX then I would have a stab at it, but it sounds a lot of work starting from what I already know. You should try an angry tweet: there&#39;s nothing like public criticism to get things fixed!"}], "answers": [{"comments": [{"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "edited": false, "score": 0, "creation_date": 1471254407, "post_id": 38952715, "comment_id": 65259613, "body": "Hi, ceving. Thank you very much for answering. But the matching of bracket is not according to <code>e^</code> or end of line. Sorry for my unclear post. The <code>)</code> is not right, because there is no &#39;(&#39; matching it, and it should be &#39;}&#39; to match previous &#39;{&#39;"}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "reply_to_user": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "edited": false, "score": 0, "creation_date": 1471259204, "post_id": 38952715, "comment_id": 65261661, "body": "If you do not want to write a full TeX parser, you have to find some heuristics."}], "tags": [], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "is_accepted": false, "score": 0, "last_activity_date": 1471254039, "creation_date": 1471254039, "answer_id": 38952715, "question_id": 38952563, "link": "https://stackoverflow.com/questions/38952563/how-to-fix-mismatched-brackets-in-a-tex-string/38952715#38952715", "title": "How to fix mismatched brackets in a TeX string?", "body": "<p>There must be some kind of condition, which indicates where the parenthesis are used instead of the braces. I assume that it is either in front of <code>e^</code> and at the end of the line.</p>\n\n<p>This fixes the first one:</p>\n\n<pre><code>perl -pi~ -e 's/\\)\\)e\\^/}}e^/' file.tex\n</code></pre>\n\n<p>And this the second:</p>\n\n<pre><code>perl -pi~ -e 's/\\)\\)$/}}/' file.tex\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "edited": false, "score": 0, "creation_date": 1471270328, "post_id": 38953291, "comment_id": 65267471, "body": "Thank you yonyon 100 for providing this useful script"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "reply_to_user": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "edited": false, "score": 0, "creation_date": 1471271438, "post_id": 38953291, "comment_id": 65268176, "body": "You&#39;re welcome @user15964. Another idea that comes to mind (if TeX works that way) is to iterate over the lines and for every opening bracket, push it to a stack. When encountering a closing bracket, check the top of the stack and see if it resembles the closing bracket. If so, pop it from the stack. If not, replace the closing bracket with the appropriate bracket (still the one at top of the stack) and pop it. That should give you at least a well written bracket style."}], "tags": [], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "is_accepted": false, "score": 1, "last_activity_date": 1471271677, "last_edit_date": 1471271677, "creation_date": 1471256436, "answer_id": 38953291, "question_id": 38952563, "link": "https://stackoverflow.com/questions/38952563/how-to-fix-mismatched-brackets-in-a-tex-string/38953291#38953291", "title": "How to fix mismatched brackets in a TeX string?", "body": "<p>I don't know if I'm understanding you correctly, but it sounds to me like you need to count brackets and make sure that the number of <code>( or [ or {</code> is equal to the number of corresponding <code>) or ] or }</code>.</p>\n\n<p>One possible solution is using a hash for every line of TeX and storing values in it (not sure how the file looks. I assume all lines are like you provided):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $file = shift;\nmy $line_num = 0;\nopen FH, \"&lt;$file\" or die \"Error: $!\\n\";\nwhile(&lt;FH&gt;) {\n    my %brackets = (\n        '('     =&gt;      0,\n        '['     =&gt;      0,\n        '{'     =&gt;      0\n    );\n    $line_num++;\n    my @chars = split //, $_;\n    ### Count brackets.\n    foreach my $char (@chars) {\n        if ($char eq '(' or $char eq '[' or $char eq '{') {\n            $brackets{$char}++;\n        } elsif ($char eq ')' or $char eq ']' or $char eq '}') {\n            if ($char eq ')') { $brackets{'('}--; }\n            if ($char eq ']') { $brackets{'['}--; }\n            if ($char eq '}') { $brackets{'{'}--; }\n        } else {\n            next;\n        }\n    }\n    ### Check that all hash values are 0.\n    foreach my $bracket (keys %brackets) {\n        if ($brackets{$bracket} != 0) {\n            print \"In line $line_num: '$bracket'    missing $brackets{$bracket} closing brackets.\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>This code will at least tell you where the errors occured and give you a general idea of the nature of these errors. for input such as <code>)ff){gfs[[y[46rw]</code> the output will be:</p>\n\n<pre><code>In line 1: '{'  missing 1 closing brackets.\nIn line 1: '['  missing 2 closing brackets.\nIn line 1: '('  missing -2 closing brackets.\n</code></pre>\n\n<p>Instead of printing the brackets (or storing the number of brackets. Probably better to store index of the brackets) you can write simple code to fix this because at this point, you'll have all the information you need.</p>\n\n<p>This is not a simple question if the errors in the file have no pattern. I recommend looking for one before actually trying</p>\n"}], "owner": {"reputation": 2061, "user_id": 1911722, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5728af95179355c1f422a77e54929928?s=128&d=identicon&r=PG", "display_name": "user15964", "link": "https://stackoverflow.com/users/1911722/user15964"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1471271677, "creation_date": 1471253395, "last_edit_date": 1471254534, "question_id": 38952563, "link": "https://stackoverflow.com/questions/38952563/how-to-fix-mismatched-brackets-in-a-tex-string", "title": "How to fix mismatched brackets in a TeX string?", "body": "<p>For example I have a lot of Tex strings like</p>\n\n<pre><code>|u(x,t)|^2 = \\frac{1}{\\sqrt{1+(4+t)^2))e^{-\\frac{2(x-k_0t)^2}{1+4t^2))\n</code></pre>\n\n<p>The problem with the above Tex is that the bracket is not matching. <code>\\frac{1}{\\sqrt{1+(4+t)^2))</code> should be <code>\\frac{1}{\\sqrt{1+(4+t)^2}}</code> and <code>{-\\frac{2(x-k_0t)^2}{1+4t^2))</code> should be <code>{-\\frac{2(x-k_0t)^2}{1+4t^2}}</code></p>\n\n<pre><code>wrong: \\frac{1}{\\sqrt{1+(4+t)^2))\nright: \\frac{1}{\\sqrt{1+(4+t)^2}}\n\nwrong: {-\\frac{2(x-k_0t)^2}{1+4t^2))\nright: {-\\frac{2(x-k_0t)^2}{1+4t^2}}\n</code></pre>\n\n<p><strong>explanation:  The first example is not right, because for last two <code>)</code> there is no <code>)</code> matching it, and it should be <code>}</code> to match previous <code>{</code></strong></p>\n\n<p>I want to know how to automatically correct such mismatched brackets? I have perl installed and I intended to do it with regex, but can't figure out a way. </p>\n"}, {"tags": ["perl", "pack", "unpack"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6716276, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztO_1O21Ti8/AAAAAAAAAAI/AAAAAAAAADI/3bdmLzr5Hag/photo.jpg?sz=128", "display_name": "Abhishek Shankar", "link": "https://stackoverflow.com/users/6716276/abhishek-shankar"}, "edited": false, "score": 0, "creation_date": 1471296419, "post_id": 38949138, "comment_id": 65281394, "body": "Thnx Grant, but I need not always have an even number of bytes, right? In such cases it means I have to pad with an extra byte?"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "reply_to_user": {"reputation": 13, "user_id": 6716276, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztO_1O21Ti8/AAAAAAAAAAI/AAAAAAAAADI/3bdmLzr5Hag/photo.jpg?sz=128", "display_name": "Abhishek Shankar", "link": "https://stackoverflow.com/users/6716276/abhishek-shankar"}, "edited": false, "score": 0, "creation_date": 1471396097, "post_id": 38949138, "comment_id": 65325953, "body": "You don&#39;t need to provide an even number of bytes - no padding required for odd number of bytes. Each hex digit (or &quot;nybble&quot;) is half a byte (4 bits) of formatted output. If you provide an odd number of hex digits then pack will assume 4 zero bits to pad the last byte."}], "tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 1, "last_activity_date": 1471233612, "creation_date": 1471233612, "answer_id": 38949138, "question_id": 38948631, "link": "https://stackoverflow.com/questions/38948631/unable-to-get-perl-pack-to-work-in-this-case/38949138#38949138", "title": "unable to get perl pack to work in this case", "body": "<p>The <code>'H'</code> format for <code>pack()</code> assembles bytes, so if you supply an odd number of values it will pad out the last byte with a null nybble.</p>\n\n<p>If I correctly understand what you want to achieve, you could do it with:</p>\n\n<pre><code>$a = pack(\"H4\", \"1abc\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$a = pack(\"H*\", \"1abc\");\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6716276, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ztO_1O21Ti8/AAAAAAAAAAI/AAAAAAAAADI/3bdmLzr5Hag/photo.jpg?sz=128", "display_name": "Abhishek Shankar", "link": "https://stackoverflow.com/users/6716276/abhishek-shankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 38949138, "answer_count": 1, "score": 1, "last_activity_date": 1471233612, "creation_date": 1471228918, "last_edit_date": 1471229235, "question_id": 38948631, "link": "https://stackoverflow.com/questions/38948631/unable-to-get-perl-pack-to-work-in-this-case", "title": "unable to get perl pack to work in this case", "body": "<p>I ran following code </p>\n\n<pre><code>$a=pack(\"H1H3\", \"1\",\"abc\");\n$b=unpack(\"B*\", $a);\nprint \"Got $b \\n\";\n\nC:\\Users\\a0875499\\Documents&gt;perl abc.pl\nGot 000100001010101111000000\n</code></pre>\n\n<p>Output looks incorrect to me. There is an extra \"0000\" which shouldn't be present. I am looking for output to be \"0001101010111100\". Do you know what I am missing?</p>\n"}, {"tags": ["c", "perl", "callback", "xs"], "comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 2, "creation_date": 1471219570, "post_id": 38946293, "comment_id": 65250638, "body": "Calling into Perl from an ISR seems like a bad idea. There are a lot of things that could go wrong. For example: Are you running a threaded Perl and is the ISR called from a different thread?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1471269311, "post_id": 38946293, "comment_id": 65266809, "body": "@nwellnhof I&#39;m brand new to interrupt handling, and also a C newb so this is a big learning curve :) You&#39;ve pointed out that I need to do some research here before I proceed. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1496777007, "creation_date": 1496777007, "answer_id": 44398246, "question_id": 38946293, "link": "https://stackoverflow.com/questions/38946293/xs-passing-an-external-librarys-function-a-perl-xs-callback/44398246#44398246", "title": "XS: Passing an external library&#39;s function a Perl XS callback", "body": "<p>Just came across this question and thought I'd give it my own answer as I did resolve it some time ago.</p>\n\n<p>There were some important bits I was missing to set the Perl context, as well as within the C <code>exec_perl_callback()</code> function.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Inline 'C';\nuse Inline 'NoClean';\n\nsub p_callback {\n    print \"hello, world from perl!\\n\";\n}\n\nexec_perl_callback('p_callback');\n\n__END__\n__C__\n\n#define PERL_NO_GET_CONTEXT\n\nPerlInterpreter * mine;\n\nvoid callback(char* perl_callback){\n    PERL_SET_CONTEXT(mine);\n\n    dSP;\n    ENTER;\n    SAVETMPS;\n    PUSHMARK(SP);\n    PUTBACK;\n\n    exec_perl_callback(perl_callback, G_DISCARD|G_NOARGS);\n\n    FREETMPS;\n    LEAVE;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>hello world, from perl!\n</code></pre>\n"}], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "accepted_answer_id": 44398246, "answer_count": 1, "score": 4, "last_activity_date": 1496777007, "creation_date": 1471206269, "question_id": 38946293, "link": "https://stackoverflow.com/questions/38946293/xs-passing-an-external-librarys-function-a-perl-xs-callback", "title": "XS: Passing an external library&#39;s function a Perl XS callback", "body": "<p>Disclaimer: asked over at <a href=\"http://perlmonks.org/?node_id=1169752\" rel=\"nofollow\">perlmonks</a>.</p>\n\n<p>I hope I'm describing and depicting my issue properly... In XS, I'm trying to send a callback into an external library's function, where the callback has Perl specific functions. The XSUB is passed as a function pointer to an external C function. The XSUB callback being sent in turn calls back to a sub in the `main` perl application:</p>\n\n<pre><code>void callback(){\n    dSP;\n    PUSHMARK(SP);\n    call_pv(\"p_callback\", G_DISCARD|G_NOARGS);\n}\n\n// example extern call\n\nexternFunc(&amp;callback);\n</code></pre>\n\n<p>This segfaults. I think it's because the external library doesn't understand the perl functions that are being called. Things work fine if I call the C `callback()` function directly though.</p>\n\n<p>Is there some magic that I can do to make the external library \"see\" the Perl C functions, or am I doing something wrong?</p>\n\n<p>Here's the code I'm testing with:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Inline ('C' =&gt; 'DATA', libs =&gt; '-lwiringPi');\n\ninit();\nsetInterrupt(27, 3);\n\n# direct call\n\ncallback();\n\n# on() triggers the external function and sends\n# it the callback\n\non(27);\n\nsub p_callback {\n    print \"in perl callback\\n\";\n}\n\n__DATA__\n__C__\n\n#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;wiringPi.h&gt;\n\nvoid init();\nvoid on(int pin);\nvoid off(int pin);\nvoid setInterrupt(int pin, int edge);\nvoid callback();\n\nvoid init(){\n    printf(\"in init\\n\");\n    wiringPiSetup();\n}\nvoid on(int pin){\n    pinMode(pin, 1);\n    digitalWrite(pin, 1);\n}\n\nvoid off(int pin){\n    digitalWrite(pin, 0);\n    pinMode(pin, 0);\n}\n\nvoid setInterrupt(int pin, int edge){\n    wiringPiISR(pin, edge, &amp;callback);\n}\n\nvoid callback(){\n    dSP;\n    PUSHMARK(SP);\n    call_pv(\"p_callback\", G_DISCARD|G_NOARGS);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>in init\nin perl callback\nSegmentation fault\n</code></pre>\n\n<p>If I remove the perl specific C calls from within the callback and just do a `printf()` or other pure-C work, things proceed without a segfault.</p>\n"}, {"tags": ["regex", "perl", "url"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1471204638, "post_id": 38945911, "comment_id": 65247028, "body": "What about <code>www.bbc.co.uk</code>?"}, {"owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "edited": false, "score": 1, "creation_date": 1471216014, "post_id": 38945911, "comment_id": 65249968, "body": "That&#39;s what <code>Domain::PublicSuffix</code> tries to do."}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": false, "score": 5, "last_activity_date": 1471203964, "last_edit_date": 1471203964, "creation_date": 1471203587, "answer_id": 38945911, "question_id": 38945854, "link": "https://stackoverflow.com/questions/38945854/perl-extract-domain-name/38945911#38945911", "title": "Perl : Extract domain name", "body": "<p>Use the <a href=\"https://metacpan.org/pod/URI\" rel=\"noreferrer\">URI</a> module:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse v5.10;\n\nuse URI;\n\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my $uri = URI-&gt;new($_);\n    my $host = $uri-&gt;host;\n    my ($domain) = $host =~ m/([^.]+\\.[^.]+$)/;\n    say $domain;\n}\n\n__DATA__\nhttps://vimdoc.sourceforge.net/htmldoc/pattern.html\nhttp://linksyssmartwifi.com/ui/1.0.1.1001/dynamic/login.html\nhttp://www.catonmat.net/download/perl1line.txt\nhttps://github.com/robbyrussell/oh-my-zsh/wiki/Cheatsheet\nhttps://drive.google.com/drive/u/0/folders/0B5jNDUmF2eUJuSnM\nhttp://www.gnu.org/software/coreutils/manual/coreutils.html\nhttp://www.catonmat.net/download/perl1line.txt\nhttps://feedly.com/i/my\nhttp://vimhelp.appspot.com/\nhttps://git-scm.com/doc\nhttps://read.amazon.com/\nhttps://github.com/netsamir/following\nhttps://scotch.io/\nhttps://servicios.dgi.gub.uy/\nhttps://sourcemaking.com/\nhttps://stackedit.io/editor\nhttps://stripe.com/be\nhttps://toolbelt.heroku.com/\nhttps://training.github.com/\nhttps://vimeo.com/54505525\nhttps://vimeo.com/tag:drew+neil\nhttps://web.whatsapp.com/\nhttps://www.ctan.org/\nhttps://www.eff.org/\nhttps://www.mybeluga.com/\nhttps://www.solveforx.com/\nhttps://www.symynd.com/\nhttps://www.symynd.com/#\nhttps://www.tizen.org/\nhttp://workforall.net/CDS-Credit-default-Swaps.html#Credit_Default_Swaps_CDS\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>sourceforge.net\nlinksyssmartwifi.com\ncatonmat.net\ngithub.com\ngoogle.com\ngnu.org\ncatonmat.net\nfeedly.com\nappspot.com\ngit-scm.com\namazon.com\ngithub.com\nscotch.io\ngub.uy\nsourcemaking.com\nstackedit.io\nstripe.com\nheroku.com\ngithub.com\nvimeo.com\nvimeo.com\nwhatsapp.com\nctan.org\neff.org\nmybeluga.com\nsolveforx.com\nsymynd.com\nsymynd.com\ntizen.org\nworkforall.net\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1471203968, "post_id": 38945945, "comment_id": 65246846, "body": "URI::URL is provided for backwards compatibility. For new code, use <a href=\"https://metacpan.org/pod/URI\" rel=\"nofollow noreferrer\">URI</a> instead."}], "tags": [], "owner": {"reputation": 30101, "user_id": 783412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/895a112c66d93cefcd06d2cf371219e6?s=128&d=identicon&r=PG", "display_name": "hd1", "link": "https://stackoverflow.com/users/783412/hd1"}, "is_accepted": false, "score": 3, "last_activity_date": 1471203890, "last_edit_date": 1471203890, "creation_date": 1471203802, "answer_id": 38945945, "question_id": 38945854, "link": "https://stackoverflow.com/questions/38945854/perl-extract-domain-name/38945945#38945945", "title": "Perl : Extract domain name", "body": "<p>My best approximation is <a href=\"https://metacpan.org/pod/URI::URL\" rel=\"nofollow\">URI::URL</a>:</p>\n\n<pre><code>foreach my $uri (@filecontents) {\n    my $uriobj = URL::URL-&gt;new($uri);\n    my $host = $uriobj -&gt; host;\n    my @parts = split /\\./, $host;\n    print \"$uri -- $parts[-2]$parts[-1]\\n\";\n}\n</code></pre>\n\n<p>Hope that helps.</p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1471205258, "post_id": 38945952, "comment_id": 65247213, "body": "What if there is no / after the host name?"}, {"owner": {"reputation": 1412, "user_id": 4667935, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh6.googleusercontent.com/-TG7NPG4iwUQ/AAAAAAAAAAI/AAAAAAAAAys/g2kfOAKIHP8/photo.jpg?sz=128", "display_name": "Samir Sadek", "link": "https://stackoverflow.com/users/4667935/samir-sadek"}, "edited": false, "score": 0, "creation_date": 1471273198, "post_id": 38945952, "comment_id": 65269302, "body": "I have tested this solution and it works and it is line because it is pure one-liners perl with regex.  Without / after the hostname it fails. The (?:[^./]+[.])* make the difference with my own solution. Thank you."}, {"owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "reply_to_user": {"reputation": 1412, "user_id": 4667935, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh6.googleusercontent.com/-TG7NPG4iwUQ/AAAAAAAAAAI/AAAAAAAAAys/g2kfOAKIHP8/photo.jpg?sz=128", "display_name": "Samir Sadek", "link": "https://stackoverflow.com/users/4667935/samir-sadek"}, "edited": false, "score": 0, "creation_date": 1471290031, "post_id": 38945952, "comment_id": 65278333, "body": "@SamirSadek It&#39;s pretty simple to adjust for an optional trailing slash, just add <code>?</code> (see edit.)"}], "tags": [], "owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "is_accepted": false, "score": 1, "last_activity_date": 1471289996, "last_edit_date": 1471289996, "creation_date": 1471203855, "answer_id": 38945952, "question_id": 38945854, "link": "https://stackoverflow.com/questions/38945854/perl-extract-domain-name/38945952#38945952", "title": "Perl : Extract domain name", "body": "<p>A regex solution is:</p>\n\n<pre><code>//(?:[^./]+[.])*([^/.]+[.][^/.]+)/\n</code></pre>\n\n<p>If the trailing slash is optional, just add a <code>?</code>:</p>\n\n<pre><code>//(?:[^./]+[.])*([^/.]+[.][^/.]+)/?\n</code></pre>\n\n<p>This should be used with the global modifier and a delimiter other than <code>/</code>.</p>\n\n<p>Essentially, it's looking between the <code>//</code> and the next <code>/</code>.</p>\n\n<p>If there are any extra sub-domains, they will be caught by the <code>(?:[^./]+[.])*</code>. The main domain will fall into the capture group <code>([^/.]+[.][^/.]+)</code>.</p>\n"}], "owner": {"reputation": 1412, "user_id": 4667935, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh6.googleusercontent.com/-TG7NPG4iwUQ/AAAAAAAAAAI/AAAAAAAAAys/g2kfOAKIHP8/photo.jpg?sz=128", "display_name": "Samir Sadek", "link": "https://stackoverflow.com/users/4667935/samir-sadek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1824, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1471289996, "creation_date": 1471203204, "question_id": 38945854, "link": "https://stackoverflow.com/questions/38945854/perl-extract-domain-name", "title": "Perl : Extract domain name", "body": "<h1>Extract the domaine name of an URL</h1>\n\n<p>Yet another request to parse an URL, but I have found many incomplete or theoretical examples.  I would like to have something that work in perl for sure.</p>\n\n<p>I have the following URLs:</p>\n\n<pre><code>https://vimdoc.sourceforge.net/htmldoc/pattern.html\nhttp://linksyssmartwifi.com/ui/1.0.1.1001/dynamic/login.html\nhttp://www.catonmat.net/download/perl1line.txt\nhttps://github.com/robbyrussell/oh-my-zsh/wiki/Cheatsheet\nhttps://drive.google.com/drive/u/0/folders/0B5jNDUmF2eUJuSnM\nhttp://www.gnu.org/software/coreutils/manual/coreutils.html\nhttp://www.catonmat.net/download/perl1line.txt\nhttps://feedly.com/i/my\nhttp://vimhelp.appspot.com/\nhttps://git-scm.com/doc\nhttps://read.amazon.com/\nhttps://github.com/netsamir/following\nhttps://scotch.io/\nhttps://servicios.dgi.gub.uy/\nhttps://sourcemaking.com/\nhttps://stackedit.io/editor\nhttps://stripe.com/be\nhttps://toolbelt.heroku.com/\nhttps://training.github.com/\nhttps://vimeo.com/54505525\nhttps://vimeo.com/tag:drew+neil\nhttps://web.whatsapp.com/\nhttps://www.ctan.org/\nhttps://www.eff.org/\nhttps://www.mybeluga.com/\nhttps://www.solveforx.com/\nhttps://www.symynd.com/\nhttps://www.symynd.com/#\nhttps://www.tizen.org/\nhttp://workforall.net/CDS-Credit-default-Swaps.html#Credit_Default_Swaps_CDS\n</code></pre>\n\n<p>Try to extract the domain name only. For instance:</p>\n\n<pre><code>linksyssmartwifi.com\namazon.com\ngithub.com\n</code></pre>\n\n<p>I have tried with Perl and Vim but could not accomplish the task.  My best \napproximation is the following</p>\n\n<pre><code> perl -pe 's!(^https?\\://.*[\\.](.+\\..+?)/.*$)!$1 -- [$2] !g' all_urls_sorted.txt\n</code></pre>\n\n<p>Some of them are correctly parsed (see in []), other not :</p>\n\n<pre><code>   https://sites.google.com/site/steveyegge2/singleton-considered-stupid -- [google.com] \nhttps://sourcemaking.com/\nhttps://stackedit.io/editor\nhttps://stripe.com/be\nhttps://toolbelt.heroku.com/ -- [heroku.com] \nhttps://training.github.com/ -- [github.com] \nhttps://vimeo.com/54505525\nhttps://vimeo.com/tag:drew+neil\nhttps://web.whatsapp.com/ -- [whatsapp.com] \nhttps://wiki.haskell.org/GHC -- [haskell.org] \n</code></pre>\n\n<p>As my tests showed, the URL that start straight from // (in https?://) are being excluded.  </p>\n\n<p>If you know how to solve this problem I would be very happy.</p>\n\n<p>Thank</p>\n"}, {"tags": ["perl"], "owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 1, "closed_date": 1471201174, "answer_count": 0, "score": 1, "last_activity_date": 1471199999, "creation_date": 1471199999, "question_id": 38945423, "link": "https://stackoverflow.com/questions/38945423/perl-configuration-or-include-for-boilerplate-pl-and-pm-starts", "closed_reason": "Duplicate", "title": "perl configuration or #include for boilerplate .pl and .pm starts", "body": "<p>I understand 'use', 'require', etc., for including a function in different perl scripts.  I believe the following is impossible in perl (and its just a nuisance), but let me ask anyway.</p>\n\n<p>I would like my perl language to always enforce use of <code>warnings; strict; warnings FATAL =&gt; qw{ uninitialized };</code> on all .pl and .pm files, without me having to write this boilerplate everywhere.  Think perl configuration.  Possible?</p>\n\n<p>More sophisticated, I have many .pm module scripts that start with something like</p>\n\n<pre><code>#!/usr/bin/perl -w\npackage myp1;\nrequire Exporter;\n\n@ISA = qw(Exporter);\n@EXPORT = qw(f1 f2);\n@EXPORT_OK = qw(f3);\n\nuse 5.018;\nuse strict;\nuse warnings FATAL =&gt; qw{ uninitialized };\nuse autodie;\n</code></pre>\n\n<p>and even more .pl scripts that always start with</p>\n\n<pre><code>#!/usr/bin/perl -w   \nuse 5.018;\nuse strict;\nuse warnings FATAL =&gt; qw{ uninitialized };\nuse autodie;\n\nuse myp1 ;\nuse myp2 ;\nuse myp3 ;\nuse myp4 ;\nuse myp5 ;\nuse myp6 ;\n...\n</code></pre>\n\n<p>they really should start with something like</p>\n\n<pre><code>boilerplate myp1 { [f1,f2], [f3] };\nboilerplate qw(myp1 myp2 myp3 ...);\n</code></pre>\n\n<p>I am asking for what amounts almost to a template for perl code itself.</p>\n\n<p>all impossible?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1471181418, "post_id": 38942679, "comment_id": 65240426, "body": "Because the client is using <code>readline</code>, so it&#39;s looping in <code>&lt;STDIN&gt;</code> until a <code>\\n</code> arrives."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1471199387, "post_id": 38942679, "comment_id": 65245583, "body": "@melpomene Of course, I was blind! But then the question is if it is possible to read the message in an other way?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471199981, "post_id": 38942679, "comment_id": 65245759, "body": "@Borodin I am curious why you edited the syntax highlighting using <code>language: lang-perl</code>? The syntax highlighting seemed fine to me also without adding the tag. Or am I missing something?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1471200291, "post_id": 38942679, "comment_id": 65245847, "body": "I added a syntax tag <code>&lt;!-- language-all: lang-none --&gt;</code> at the top of your question, which disables all automatic syntax highlighting. Then I had to reenable Perl highlighting on the Perl sections. The problem was that the Perl highlighting on the output samples looked dreadful. To be honest it&#39;s not the greatest highlighter even on Perl code!"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1471189291, "last_edit_date": 1471189291, "creation_date": 1471188654, "answer_id": 38943717, "question_id": 38942679, "link": "https://stackoverflow.com/questions/38942679/how-to-flush-pipe-handle-obtained-from-open/38943717#38943717", "title": "How to flush pipe handle obtained from open?", "body": "<p>The data is being sent to the client immediately, but the client waits for a newline to arrive.</p>\n\n<hr>\n\n<p><code>readline</code> (for which <code>&lt;&gt;</code> is a shortcut in your program) reads until a newline is encountered before returning (although changing <code>$/</code> can change that behaviour. If you want a call that returns as soon as data is available, use <code>sysread</code>.</p>\n\n<pre><code>use BLOCK_SIZE =&gt; 64*1024;\n\nsay \"Client running..\";\nwhile (1) {\n   my $rv = sysread(\\*STDIN, my $buf, BLOCK_SIZE);\n   die($!) if !defined($rv);\n   last if !$rv;\n   say \"Got: $buf\";\n}\n</code></pre>\n\n<p>Note a single print can result in data being received in multiple chunks. In practice, especially with a socket instead of a pipe, you'd need some way of framing your messages in order to reliably identify them. For example, the following client expects sentinel-terminated messages (the sentinel being a newline):</p>\n\n<pre><code>use BLOCK_SIZE =&gt; 64*1024;\n\nsay \"Client running..\";\nmy $buf = '';\nwhile (1) {\n   my $rv = sysread(\\*STDIN, $buf, BLOCK_SIZE, length($buf));\n   die($!) if !defined($rv);\n   last if !$rv;\n   while ($buf =~ s/^([^\\n]*)\\n//) {\n      my $msg = $1;\n      say \"Got: $msg\";\n   }\n\n   say \"Got a partial message\" if length($buf);\n}\n\ndie(\"Premature EOF\\n\") if length($buf);\n</code></pre>\n\n<p>Try sending:</p>\n\n<pre><code>$fh-&gt;autoflush();\nprint($fh \"abc\");\nsleep(1);\nprint($fh \"def\\n\");\nsleep(1);\nprint($fh \"ghi\\njkl\\nmno\");\nsleep(1);\nprint($fh \"pqr\\n\");\n</code></pre>\n\n<p>This can be adapted to handle length-prefixed messages or any other message format.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 1, "accepted_answer_id": 38943717, "answer_count": 1, "score": 1, "last_activity_date": 1471189291, "creation_date": 1471181006, "last_edit_date": 1471183301, "question_id": 38942679, "link": "https://stackoverflow.com/questions/38942679/how-to-flush-pipe-handle-obtained-from-open", "title": "How to flush pipe handle obtained from open?", "body": "<p></p>\n\n<p>I am trying to flush a pipe handle obtained from <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\"><code>open</code></a> using either <code>autoflush()</code> and <code>flush()</code> methods from the <a href=\"https://metacpan.org/pod/IO::Handle\" rel=\"nofollow\"><code>IO::Handle</code></a> module, but I think it is not working. Here is an example:</p>\n\n<p><strong>host.pl</strong>:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $client_pid = open ( my $fh, '|-', 'client.pl' ) \n    or die \"Could not open client: $!\";\n#$fh-&gt;autoflush(1);  # adding this line does not help\nsleep 2;\nsay \"Host: sent message\";\nprint $fh \"Hello\";\n#print $fh \"Hello\\n\";  # adding a newline works fine\n$fh-&gt;flush() or warn \"$!\";  # this does not work\nsleep 2;\nsay \"Host exits.\";\nclose $fh;\n</code></pre>\n\n<p><strong>client.pl</strong>:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nsay \"Client running..\";\nchomp (my $line = &lt;STDIN&gt;);\nsay \"Client got line: '$line'\";\nsleep 1;\nsay \"Client exits..\";\n</code></pre>\n\n<p>The output of running <code>host.pl</code> is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Client running..\nHost: sent message\nHost exits.\nClient got line: 'Hello'\nClient exits..\n</code></pre>\n\n<p>Expected output would be:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Client running..\nHost: sent message\nClient got line: 'Hello'\nClient exits..\nHost exits.\n</code></pre>\n\n<p>I know I can fix this by adding a newline at the end of string to be printed:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>print $fh \"Hello\\n\";\n</code></pre>\n\n<p>but I am curious why <code>$fh-&gt;flush()</code> is not working here?</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 1, "creation_date": 1471179992, "post_id": 38942509, "comment_id": 65240034, "body": "KISS <code>(?i)\\b[ab]\\S*[ab]\\b</code>"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 2, "creation_date": 1471180219, "post_id": 38942509, "comment_id": 65240078, "body": "More clearer form <code>(?i)(?&lt;!\\S)[ab]\\S*[ab](?!\\S)</code>, &quot;How can I only get strings separated by spaces/newlines/tabs?&quot;"}, {"owner": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1471180396, "post_id": 38942509, "comment_id": 65240109, "body": "@AvinashRaj I always try to avoid first lookaheads (positive, negative), but depending on the source material, it can make sense. At least there is no backtracking involve, apparently."}, {"owner": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1471180462, "post_id": 38942509, "comment_id": 65240133, "body": "Hi @AvinashRaj: Thanks for the reply. How is it working exactly?"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "edited": false, "score": 0, "creation_date": 1471180503, "post_id": 38942509, "comment_id": 65240143, "body": "@saint1729 test both the regexes in this site <a href=\"https://regex101.com/r/pV4iU3/1\" rel=\"nofollow noreferrer\">regex101.com/r/pV4iU3/1</a> . You should find the difference.."}, {"owner": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "reply_to_user": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "edited": false, "score": 0, "creation_date": 1471180576, "post_id": 38942509, "comment_id": 65240172, "body": "@saint1729 on the (?&lt;!\\S) syntax, see <a href=\"http://www.regular-expressions.info/lookaround.html#lookbehind\" rel=\"nofollow noreferrer\">regular-expressions.info/lookaround.html#lookbehind</a>"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1471180654, "post_id": 38942509, "comment_id": 65240185, "body": "<code>(?&lt;!\\S)</code> - Asserts that the match Not preceeded by a non-space  character. <code>(?!\\S)</code> asserts that the match not followed by a non-space character."}, {"owner": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "edited": false, "score": 0, "creation_date": 1471181583, "post_id": 38942509, "comment_id": 65240464, "body": "Okay. Thank You :)"}, {"owner": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "edited": false, "score": 0, "creation_date": 1471186716, "post_id": 38942509, "comment_id": 65241804, "body": "qr/^a.*a$/ is a regular expression that matches all lines that start and end with a. Is there a any generic way to find all the lines that begin and end with the same characters?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "edited": false, "score": 0, "creation_date": 1471206833, "post_id": 38942509, "comment_id": 65247659, "body": "@saint1729 -  Generic = <code>(?m-s)^([a-z]).*\\1$</code>"}], "tags": [], "owner": {"reputation": 1034879, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "is_accepted": true, "score": 3, "last_activity_date": 1471180045, "last_edit_date": 1495540868, "creation_date": 1471179810, "answer_id": 38942509, "question_id": 38942492, "link": "https://stackoverflow.com/questions/38942492/how-to-find-all-the-words-that-begin-with-ab-and-end-with-ab-ex-adverb-an/38942509#38942509", "title": "How to find all the words that begin with a|b and end with a|b. (Ex: \u201cadverb\u201d and \u201cbalalaika\u201d)", "body": "<p>You could consider using an <a href=\"http://www.regular-expressions.info/wordboundaries.html\" rel=\"nofollow noreferrer\">anchor like <code>\\b</code>: word boundary</a></p>\n\n<p>That would help apply the regexp only after and before a word.</p>\n\n<pre><code> \\b(a|b|A|B)\\S*(a|b|A|B)\\b\n</code></pre>\n\n<p>Simpler, as <a href=\"https://stackoverflow.com/users/3297613/avinash-raj\">Avinash Raj</a> adds <a href=\"https://stackoverflow.com/questions/38942492/how-to-find-all-the-words-that-begin-with-ab-and-end-with-ab-ex-adverb-an/38942509?noredirect=1#comment65240034_38942509\">in the comments</a>: </p>\n\n<pre><code>(?i)\\b[ab]\\S*[ab]\\b\n</code></pre>\n\n<p>(using the <a href=\"http://www.regular-expressions.info/modifiers.html\" rel=\"nofollow noreferrer\">case insensitive flag or modifier</a>)</p>\n"}, {"comments": [{"owner": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "edited": false, "score": 0, "creation_date": 1471189484, "post_id": 38943714, "comment_id": 65242590, "body": "Is there a any generic way to find all the lines that begin and end with the same character? Not just &#39;a&#39; or &#39;b&#39;"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "reply_to_user": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "edited": false, "score": 0, "creation_date": 1471189584, "post_id": 38943714, "comment_id": 65242612, "body": "@saint1729 use <a href=\"http://stackoverflow.com/q/9011592/995714\">backtrack</a>. <code>\\b([ab])\\S*\\1\\b</code>"}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "reply_to_user": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "edited": false, "score": 0, "creation_date": 1471189639, "post_id": 38943714, "comment_id": 65242633, "body": "@saint1729 I&#39;ve updated the answer with the regex for your comment"}], "tags": [], "owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "is_accepted": false, "score": 1, "last_activity_date": 1471189607, "last_edit_date": 1471189607, "creation_date": 1471188653, "answer_id": 38943714, "question_id": 38942492, "link": "https://stackoverflow.com/questions/38942492/how-to-find-all-the-words-that-begin-with-ab-and-end-with-ab-ex-adverb-an/38943714#38943714", "title": "How to find all the words that begin with a|b and end with a|b. (Ex: \u201cadverb\u201d and \u201cbalalaika\u201d)", "body": "<p>If you have multiple words in the same line then you can use word boundaries in a regex like this:</p>\n\n<pre><code>(?i)\\b[ab][a-z]*[ab]\\b\n</code></pre>\n\n<p><img src=\"https://www.debuggex.com/i/dCY7SGHib9tCnbFU.png\" alt=\"Regular expression visualization\"></p>\n\n<p>The pattern code is:</p>\n\n<pre><code>$pattern = /\\b[ab][a-z]*[ab]\\b/i;\n</code></pre>\n\n<p>However, if you want to check for lines with only has a word, then you can use:</p>\n\n<pre><code>(?i)$[ab][a-z]*[ab]$\n</code></pre>\n\n<p>Update: for your comment * lines that begin and end with the same character*, you can use this regex:</p>\n\n<pre><code>(?i)\\b([a-z])[a-z]*\\1\\b\n</code></pre>\n\n<p>But if you want any character and not letters only like above you can use:</p>\n\n<pre><code>(?i)\\b(.)[a-z]*\\1\\b\n</code></pre>\n"}], "owner": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 1, "accepted_answer_id": 38942509, "answer_count": 2, "score": 2, "last_activity_date": 1471189607, "creation_date": 1471179673, "question_id": 38942492, "link": "https://stackoverflow.com/questions/38942492/how-to-find-all-the-words-that-begin-with-ab-and-end-with-ab-ex-adverb-an", "title": "How to find all the words that begin with a|b and end with a|b. (Ex: \u201cadverb\u201d and \u201cbalalaika\u201d)", "body": "<p>The following perl program has a regex written to serve my purpose. But, this captures results present within a string too. How can I only get strings separated by spaces/newlines/tabs?</p>\n\n<p>The test data I used is present below:\n<a href=\"http://sainikhil.me/stackoverflow/dictionaryWords.txt\" rel=\"nofollow\">http://sainikhil.me/stackoverflow/dictionaryWords.txt</a></p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub print_a_b {\n    my $file = shift;\n\n    $pattern = qr/(a|b|A|B)\\S*(a|b|A|B)/;\n    open my $fp, $file;\n\n    my $cnt = 0;\n    while(my $line = &lt;$fp&gt;) {\n        if($line =~ $pattern) {\n            print $line;\n            $cnt = $cnt+1;\n        }\n    }\n    print $cnt;\n}\n\nprint_a_b @ARGV;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 1, "creation_date": 1471173374, "post_id": 38941648, "comment_id": 65238379, "body": "don&#39;t escape the dollar sign"}, {"owner": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1471173594, "post_id": 38941648, "comment_id": 65238440, "body": "Are you sure? I get the following error if I do that.  Final $ should be \\$ or $name at ex2.pl line 8, within string syntax error at ex2.pl line 8, near &quot;= &quot;^Pre(.*)al(\\s*)$&quot;&quot;"}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 1, "creation_date": 1471174499, "post_id": 38941648, "comment_id": 65238656, "body": "Actually, the OP is right on this one.  The <code>$</code> needs to be escaped because it&#39;s in a double-quoted string rather than a regex pattern.  <code>&quot;^Pre(.*)al(\\s*)\\$&quot;</code> (needs escaping) vs. <code>&#47;^Pre(.*)al(\\s*)$&#47;</code> (don&#39;t escape). Incidentally, if you want to assign the pattern to a variable as a regular string, you don&#39;t need to escape the <code>$</code> if you use single quotes instead of double quotes."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1471179584, "post_id": 38941648, "comment_id": 65239935, "body": "I rolled back your edit because it completely changed the problem, so none of the answers made sense any more. Editing your question is fine, but please make sure you don&#39;t invalidate existing answers when you do so. Also, <code>$foo = m&#47;bar&#47;;</code> doesn&#39;t do what you think it does; you meant <code>$foo = qr&#47;bar&#47;;</code>"}, {"owner": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1471179793, "post_id": 38941648, "comment_id": 65239991, "body": "@ThisSuitIsBlackNot: Got it. Thanks :)"}], "answers": [{"tags": [], "owner": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "is_accepted": false, "score": 2, "last_activity_date": 1471173591, "creation_date": 1471173591, "answer_id": 38941698, "question_id": 38941648, "link": "https://stackoverflow.com/questions/38941648/regular-expression-that-matches-any-word-that-starts-with-pre-and-ends-in-al/38941698#38941698", "title": "regular expression that matches any word that starts with pre and ends in al", "body": "<p>A few thoughts:</p>\n\n<ul>\n<li>You should not escape the dollar sign</li>\n<li>The capturing group around the whitespaces is useless</li>\n<li>Same for the capturing group around the dot <code>.</code></li>\n</ul>\n\n<p>which leads to:</p>\n\n<pre><code>^Pre.*al\\s*$\n</code></pre>\n\n<p>If you don't want words like <code>precious final</code> to match (because of the middle whitespace, change regex to:</p>\n\n<pre><code>^Pre\\S*al\\s*$\n</code></pre>\n\n<p>Included in your code:</p>\n\n<pre><code>while(my $line = &lt;$fp&gt;) {\n        if($line =~ /^Pre\\S*al\\s*$/m) {\n            print $line;\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "edited": false, "score": 0, "creation_date": 1471175618, "post_id": 38941892, "comment_id": 65238911, "body": "Hi Dave, thanks for sharing knowledge. After looking at your explanation, I recently edited my program. That shows me all lines instead of matching. Any reason why?"}, {"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "reply_to_user": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "edited": false, "score": 0, "creation_date": 1471178578, "post_id": 38941892, "comment_id": 65239703, "body": "@saint1729 - It looks like my last two fixes confused you. If you&#39;re assigning the pattern to a variable, it should be <code>my $pattern = qr&#47;^Pre.*al\\s*$&#47;;</code>, not <code>m&#47;...&#47;</code>. With <code>m&#47;...&#47;</code>, it&#39;s trying to match against the content of <code>$_</code>, getting no matches, and assigning <code>undef</code> to <code>$pattern</code>, which then matches everything. Changing <code>m&#47;...&#47;</code> to <code>qr&#47;...&#47;</code> gives me correct-looking results (Prebendal, Predial, Prejudicial, Preternatural as the only matches)."}], "tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": true, "score": 1, "last_activity_date": 1471175114, "creation_date": 1471175114, "answer_id": 38941892, "question_id": 38941648, "link": "https://stackoverflow.com/questions/38941648/regular-expression-that-matches-any-word-that-starts-with-pre-and-ends-in-al/38941892#38941892", "title": "regular expression that matches any word that starts with pre and ends in al", "body": "<p>You're getting messed up by assigning the pattern to a variable before using it as a regex and putting it in a double-quoted string when you do so.</p>\n\n<p>This is why you need to escape the <code>$</code>, because, in a double-quoted string, a bare <code>$</code> indicates that you want to interpolate the value of a variable. (e.g., <code>my $str = \"foo$bar\";</code>)</p>\n\n<p>The reason this is causing you a problem is because the backslash in <code>\\s</code> is treated as escaping the <code>s</code> - which gives you just plain <code>s</code>:</p>\n\n<pre><code>$ perl -E 'say \"^Pre(.*)al(\\s*)\\$\";'\n^Pre(.*)al(s*)$\n</code></pre>\n\n<p>As a result, when you go to execute the regex, it's looking for zero or more <code>s</code>es rather than zero or more whitespace characters.</p>\n\n<p>The most direct fix for this would be to escape the backslash:</p>\n\n<pre><code>$ perl -E 'say \"^Pre(.*)al(\\\\s*)\\$\";'\n^Pre(.*)al(\\s*)$\n</code></pre>\n\n<p>A better fix would be to use single quotes instead of double quotes and don't escape the <code>$</code>:</p>\n\n<pre><code>$ perl -E \"say '^Pre(.*)al(\\s*)$';\"\n^Pre(.*)al(\\s*)$\n</code></pre>\n\n<p>The best fix would be to use the <code>qr</code> (quote regex) operator instead of single or double quotes, although that makes it a little less human-readable if you print it out later to verify the content of the regex (which I assume to be why you're putting it into a variable in the first place):</p>\n\n<pre><code>$ perl -E \"say qr/^Pre(.*)al(\\s*)$/;\"\n(?^u:^Pre(.*)al(\\s*)$)\n</code></pre>\n\n<p>Or, of course, just don't put it into a variable at all and do your matching with</p>\n\n<pre><code>if($line =~ m/^Pre(.*)al(\\s*)$/) ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "is_accepted": false, "score": 1, "last_activity_date": 1471175590, "creation_date": 1471175590, "answer_id": 38941959, "question_id": 38941648, "link": "https://stackoverflow.com/questions/38941648/regular-expression-that-matches-any-word-that-starts-with-pre-and-ends-in-al/38941959#38941959", "title": "regular expression that matches any word that starts with pre and ends in al", "body": "<p>Try removing trailing newline character(s):</p>\n\n<pre><code>    while(my $line = &lt;$fp&gt;) {\n        $line =~ s/[\\r\\n]+$//s;\n</code></pre>\n\n<p>And, to match only <em>words</em> that begin with <code>Pre</code> and end with <code>al</code>, try this regular expression:</p>\n\n<pre><code>/^Pre\\w*al$/\n</code></pre>\n\n<p>(<code>\\w</code> means any letter of a word, not just any character)</p>\n\n<p>And, if you want to match both <code>Pre</code> and <code>pre</code>, do a case-insensitive match:</p>\n\n<pre><code>/^Pre\\w*al$/i\n</code></pre>\n"}], "owner": {"reputation": 1107, "user_id": 916278, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38d6c5aafe48db8271601ae25a3a8049?s=128&d=identicon&r=PG", "display_name": "Sai Nikhil", "link": "https://stackoverflow.com/users/916278/sai-nikhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 38941892, "answer_count": 3, "score": 0, "last_activity_date": 1471179303, "creation_date": 1471173258, "last_edit_date": 1471179303, "question_id": 38941648, "link": "https://stackoverflow.com/questions/38941648/regular-expression-that-matches-any-word-that-starts-with-pre-and-ends-in-al", "title": "regular expression that matches any word that starts with pre and ends in al", "body": "<p>The following regular expression gives me proper results when tried in Notepad++ editor but when tried with the below perl program I get wrong results. Right answer and explanation please.</p>\n\n<p>The link to file I used for testing my pattern is as follows:</p>\n\n<p>(<a href=\"http://sainikhil.me/stackoverflow/dictionaryWords.txt\" rel=\"nofollow\">http://sainikhil.me/stackoverflow/dictionaryWords.txt</a>)</p>\n\n<p>Regular expression: ^Pre(.*)al(\\s*)$</p>\n\n<p>Perl program:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub print_matches {\n    my $pattern = \"^Pre(.*)al(\\s*)\\$\";\n    my $file = shift;\n\n    open my $fp, $file;\n\n    while(my $line = &lt;$fp&gt;) {\n        if($line =~ m/$pattern/) {\n            print $line;\n        }\n    }\n}\n\nprint_matches @ARGV;\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": true, "score": 4, "last_activity_date": 1471154580, "last_edit_date": 1471154580, "creation_date": 1471153664, "answer_id": 38939543, "question_id": 38939388, "link": "https://stackoverflow.com/questions/38939388/how-do-multiple-arrow-operators-in-series-work-in-perl/38939543#38939543", "title": "How do multiple arrow operators in series work in Perl?", "body": "<pre><code>$lookup -&gt; {$chr} -&gt; {$start} = $end\n</code></pre>\n\n<p><code>$lookup</code> is (being treated as) a pointer to a hash of hashes.  <code>$chr</code> is the first level key, the value is another hash pointer.  <code>$start</code> is the second level key, whose value is <code>$end</code>.</p>\n\n<p>This code is relying on <a href=\"https://en.wikipedia.org/wiki/Autovivification\" rel=\"nofollow\">autovivification</a>.  Although <code>$lookup</code> is never initialized to anything, when working with pointers in Perl, if you pretend/believe that a structure exists, it exists.  Ditto for the <code>$hash</code> variable (a hash of arrays.)</p>\n\n<p>Another Perl feature, not employed here, is <em>arrow collapsing</em> such that arrows between indexes (of either sort) are optional.  So this code can also read:</p>\n\n<pre><code>$lookup-&gt;{$chr}{$start} = $end\n</code></pre>\n\n<p>possibly better revealing the two level hash structure.</p>\n\n<p><code>$lookup</code> and <code>$hash</code> at the top level are parallel hashes, in that their first level keys are the same.  The <code>$hash</code> structure appears to be an optimization as it could be computed from <code>$lookup</code>:</p>\n\n<pre><code>keys(%{$lookup-&gt;{$chr}})\n</code></pre>\n\n<p>vs.</p>\n\n<pre><code>@{$hash-&gt;{$chr}}\n</code></pre>\n\n<p>the difference being that <code>$hash</code> would preserve the file order of the <code>$start</code> values and <code>$lookup</code> would not. </p>\n"}, {"tags": [], "owner": {"reputation": 12533, "user_id": 931027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lWhaB.jpg?s=128&g=1", "display_name": "Kusalananda", "link": "https://stackoverflow.com/users/931027/kusalananda"}, "is_accepted": false, "score": 1, "last_activity_date": 1471153942, "creation_date": 1471153942, "answer_id": 38939564, "question_id": 38939388, "link": "https://stackoverflow.com/questions/38939388/how-do-multiple-arrow-operators-in-series-work-in-perl/38939564#38939564", "title": "How do multiple arrow operators in series work in Perl?", "body": "<p>By saying <code>$lookup-&gt;{$chr}-&gt;{$start} = $end</code> (the second arrow is optional, you may also write <code>$lookup-&gt;{$chr}{$start} = $end</code>), the <code>$lookup</code> scalar is turned into a reference to a hash that has chromosome names as keys.</p>\n\n<p>Each entry in the hash that <code>$lookup</code> is a reference to is in turn a hash reference to a hash with the start position as key and the end position as value.</p>\n\n<p>You may easily investigate the data structure after the loop by adding</p>\n\n<pre><code>use Data::Dumper;\nprint Dumper($lookup);\n</code></pre>\n\n<p>You will see something like</p>\n\n<pre><code>$VAR1 = {\n          'chr2' =&gt; {\n                      '1234' =&gt; 5678\n                    },\n          'chr1' =&gt; {\n                      '1234' =&gt; 5678\n                    }\n        };\n</code></pre>\n\n<p>This tells you that <code>$lookup</code> is (loosely speaking) a \"hash of hashes\".</p>\n"}], "owner": {"reputation": 33, "user_id": 6714055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e542e26946ec5d9982bf368edac325e1?s=128&d=identicon&r=PG&f=1", "display_name": "stayingsong", "link": "https://stackoverflow.com/users/6714055/stayingsong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 1, "accepted_answer_id": 38939543, "answer_count": 2, "score": 3, "last_activity_date": 1471154580, "creation_date": 1471151888, "last_edit_date": 1471152539, "question_id": 38939388, "link": "https://stackoverflow.com/questions/38939388/how-do-multiple-arrow-operators-in-series-work-in-perl", "title": "How do multiple arrow operators in series work in Perl?", "body": "<p>I ran across a piece of Perl code I wasn't sure how to interpret today. Specifically, the line <code>$lookup -&gt; {$chr} -&gt; {$start} = $end</code> as I am not sure how multiple infix dereference operators work in series.</p>\n\n<p>The input file contains tab-delimited chromosome names <code>($chr)</code>, start positions <code>($start)</code>, and end positions <code>($end)</code> on each line. I get that the author is creating a hash table where <code>$chr</code> maps to arrays with <code>$start</code> values corresponding to each chromosome, but I can't establish exactly what he is trying to accomplish with the next line. Any insight would be much appreciated.</p>\n\n<pre><code>my $hash;\nmy $lookup;\nif (defined $bed_file) {\n    open(FILE, $bed_file);\n    while (my $line = &lt;FILE&gt;) {\n        chomp $line;\n        my ($chr, $start, $end) = split(/\\t/, $line);\n        push(@{$hash -&gt; {$chr}}, $start);\n        $lookup -&gt; {$chr} -&gt; {$start} = $end;\n    }\n    close(FILE);\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1227, "user_id": 239337, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2830f6613a8829adc3562e7a603d5e22?s=128&d=identicon&r=PG", "display_name": "safsaf32", "link": "https://stackoverflow.com/users/239337/safsaf32"}, "edited": false, "score": 0, "creation_date": 1471166940, "post_id": 38938524, "comment_id": 65236876, "body": "Thanks, I totally missed that bit about global destruction in <code>perlobj</code>. This is annoying though. I guess I have to resort to an explicit finalization method then."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1227, "user_id": 239337, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2830f6613a8829adc3562e7a603d5e22?s=128&d=identicon&r=PG", "display_name": "safsaf32", "link": "https://stackoverflow.com/users/239337/safsaf32"}, "edited": false, "score": 0, "creation_date": 1471814649, "post_id": 38938524, "comment_id": 65486244, "body": "@safsaf32  Glad it solved it, thank you for the attribution. I&#39;d say that it depends on how your project is organized and classes laid out. You may be able to whip it into shape with a small tweak. Or, have some sort of a catalog of all objects (a class variable keeping track of them?) and have a routine that triggers their destruction in the desire order. It could be in an <code>END</code> block, which could make for a clean design altogether."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 10, "last_activity_date": 1565254999, "last_edit_date": 1565254999, "creation_date": 1471139879, "answer_id": 38938524, "question_id": 38938369, "link": "https://stackoverflow.com/questions/38938369/why-is-the-contained-object-destroyed-first/38938524#38938524", "title": "Why is the contained object destroyed first?", "body": "<p>When it comes to <em>global destruction</em>, which happens as the program is exiting, <a href=\"http://perldoc.perl.org/perlobj.html#Destructors\" rel=\"nofollow noreferrer\"><code>perlobj</code></a> is clear</p>\n\n<blockquote>\n  <p>The order in which objects are destroyed during the global destruction before the program exits is unpredictable. </p>\n</blockquote>\n\n<p>This is clearly the case without the <code>sub abcd</code> in your posted test program. With the sub, the last reference to the object is <em>inside</em> the sub so it reaches the global destruction as well. (I also get different behavior in the two cases, but this is meaningless given the above quote.)</p>\n\n<p>Thus in both cases, with or without the sub, the objects are destroyed in an <em>unpredictable</em> order.</p>\n\n<p>When an object is destroyed because the last reference to it went out of scope, things are different. To see such behavior we can add <code>undef $foo;</code> as the last line, to trigger controlled destruction</p>\n\n<pre><code>my $foo = Foo-&gt;new;\n\nundef $foo;\n\nEND { say \"END block.\" }\n\nsub abcd { $foo; }\n</code></pre>\n\n<p>This results in <code>Foo</code> being destroyed first, with and without the sub. It also happens before the <code>END</code> block and before the global destruction phase. (Add prints to <code>DESTROY</code> in <code>Foo</code> and <code>Bar</code> to see.)</p>\n"}], "owner": {"reputation": 1227, "user_id": 239337, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2830f6613a8829adc3562e7a603d5e22?s=128&d=identicon&r=PG", "display_name": "safsaf32", "link": "https://stackoverflow.com/users/239337/safsaf32"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 38938524, "answer_count": 1, "score": 4, "last_activity_date": 1565254999, "creation_date": 1471137453, "question_id": 38938369, "link": "https://stackoverflow.com/questions/38938369/why-is-the-contained-object-destroyed-first", "title": "Why is the contained object destroyed first?", "body": "<p>In the code snippet below, the object of class <code>Foo</code> contains a reference to an object of class <code>Bar</code>. I would expect that the <code>Foo</code> object is destroyed before the <code>Bar</code> object. Unfortunately, this doesn't always happen. Strangely enough, I get different behaviors on differenct systems: on my laptop and desktop, the code always runs correctly, whereas on 2 VPSs that I tried, the destructors are ran in reverse order (most of the time). All four systems run the same version of perl (5.20.2 on x86_64 linux).</p>\n\n<p>Also, this only happens when a sub (called <code>abcd</code> below) contains a reference to the <code>Foo</code> object. If I remove that, the problem goes away.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $foo = Foo-&gt;new;\n\nsub abcd {\n    $foo;\n}\n\n####################\n\npackage Foo;\n\nsub new {\n    bless {bar =&gt; Bar-&gt;new}, 'Foo';\n}\n\nsub DESTROY {\n    my ($self) = @_;\n    defined $self-&gt;{bar} or print \"bar is undefined, this should not happen\\n\";\n}\n\n####################\n\npackage Bar;\n\nsub new {\n    bless {}, 'Bar';\n}\n</code></pre>\n"}, {"tags": ["string", "perl", "dna-sequence"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1471130049, "post_id": 38937611, "comment_id": 65231549, "body": "That shouldn&#39;t even compile. <code>$name</code> is undeclared."}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1471130140, "post_id": 38937611, "comment_id": 65231562, "body": "This isn&#39;t the actual code. I took out the relevant parts and renamed some variables for ease of reading"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1471130235, "post_id": 38937611, "comment_id": 65231582, "body": "You read one line by the <code>while (&lt;</code>, second line by <code>$nameX = &lt;</code>, third line by <code>$seqX = &lt;</code>. You need to read two lines, not three per iteration."}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1471131152, "post_id": 38937611, "comment_id": 65231730, "body": "Ah so how do I accomplish the same thing as while (&lt; without reading a line?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471131903, "post_id": 38937611, "comment_id": 65231824, "body": "replace your <code>while</code> statements with <code>until (eof $database1) {</code> (changing the 1 for a 2 on the second loop, obviously.)"}, {"owner": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "edited": false, "score": 0, "creation_date": 1471132092, "post_id": 38937611, "comment_id": 65231864, "body": "@AdityaJ. <code>eof $filehandle</code> can be used to tell if there is at least one more line that can be read, but your code needs to know if there are at least two (unless you guarantee an even number of lines in each database). It&#39;s easiest to just read in two lines and check to see that both are defined."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471132123, "post_id": 38937611, "comment_id": 65231871, "body": "Is there really no possibility that the sequence can appear in both files?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "edited": false, "score": 0, "creation_date": 1471133068, "post_id": 38937611, "comment_id": 65232020, "body": "@Slade: If there isn&#39;t an even number of lines in the file then something has gone seriously wrong. At least my solution will throw <i>uninitialised</i> warnings, whereas yours just silently ignores the final line in the file."}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471133622, "post_id": 38937611, "comment_id": 65232082, "body": "I can guarantee an even number of lines for both. @Borodin actually every sequence in database 2 is in database 1, but database 1 is much, much larger than database 2... I guess I forgot to mention that outputting that the sequence is in db2 takes precedence  over outputting that it is in db1"}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1471134734, "post_id": 38937611, "comment_id": 65232220, "body": "I got it working... It outputs db2 when it is in both, but db1 when it is in only db1"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471132243, "post_id": 38937933, "comment_id": 65231886, "body": "There&#39;s no need for the <code>PAIR</code> label. Is that just something you do?"}, {"owner": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471133377, "post_id": 38937933, "comment_id": 65232050, "body": "@Borodin Oh, that&#39;s an oversight. I don&#39;t typically label loops unless it&#39;s necessary."}], "tags": [], "owner": {"reputation": 1324, "user_id": 2884483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2j2D.jpg?s=128&g=1", "display_name": "Slade", "link": "https://stackoverflow.com/users/2884483/slade"}, "is_accepted": true, "score": 2, "last_activity_date": 1471134356, "last_edit_date": 1471134356, "creation_date": 1471131824, "answer_id": 38937933, "question_id": 38937611, "link": "https://stackoverflow.com/questions/38937611/perl-assigning-a-variable-one-of-3-possible-values/38937933#38937933", "title": "Perl: Assigning a variable one of 3 possible values", "body": "<p>The main issue is in the conditions of the while loops, which read and discard a line each iteration and prevent the <code>$name</code> and <code>$seq</code> variables from containing a name and sequence each time. Removing that condition and placing the check for end-of-file inside the loop should fix the problem. It's also possible to loop over the two databases and apply the same logic to both, so you'll only need one loop to examine the contents of each file.</p>\n\n<pre><code>use warnings;\nuse strict;\nmy $entry = 'ATCG';\nmy $returnval = \"The sequence is from neither database\";\nmy @files = qw(db2 db1);\n\nFILE:\nfor my $file (@files) {\n    open my $fh, '&lt;', \"$file.txt\" or die \"Error opening $file: $!\";\n    while (1) {\n        my $name = &lt;$fh&gt;;\n        my $seq  = &lt;$fh&gt;;\n        if (not defined $seq) {\n            warn \"Odd number of lines in $file\" if defined $name;\n            last; # Reached end of file\n        }\n        chomp($name, $seq);\n        if (\n            index($seq, $entry) != -1\n            or index($entry, $seq) != -1\n        ) {\n            $returnval = \"The sequence is from $file: $name\";\n            last FILE; # No need to search the others\n        }\n    }\n}\n\nprint \"$returnval\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1471182669, "creation_date": 1471182669, "answer_id": 38942884, "question_id": 38937611, "link": "https://stackoverflow.com/questions/38937611/perl-assigning-a-variable-one-of-3-possible-values/38942884#38942884", "title": "Perl: Assigning a variable one of 3 possible values", "body": "<p>I would wrap the comparison in a subroutine, especially since you have to do the same thing multiple times</p>\n\n<p>This solution implements a subroutine <code>matches</code>, which returns the name of the matching sequence in the file, or a <em>false</em> value if it was not found</p>\n\n<p>I have altered the record separator <code>$/</code> to the <code>&gt;</code> character so that sequences are split automatically, with each record consisting of the name up to the first newline character, and the sequence thereafter. The <code>tr/\\n//d</code> call removes any newlines from the sequence (so it will handle multi-line sequences as the FAST format supports) and a comparison is made for each sequence</p>\n\n<p>The calling code just uses a <code>for</code> loop to call the subroutine for each file name. The loop exits as soon as a match is found, leaving <code>$name</code> and <code>$file</code> set to the details of the match</p>\n\n<p>The message is built and printed according to whether <code>$name</code> ends up true</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $entry = 'ATCG';\n\nmy ($file, $name);\n\nfor $file ( qw/ db2 db1 / ) {\n    last if $name = matches($entry, \"$file.txt\");\n}\n\nsay $name ?\n    \"The sequence is from $file: $name\" :\n    \"The sequence is from neither database\";\n\n\nsub matches {\n    my ($seq, $file) = @_;\n\n    open my $fh, '&lt;', $file or die qq{Unable to open \"$file\" for input: $!};\n\n    local $/ = '&gt;';\n\n    while ( &lt;$fh&gt; ) {\n        chomp;\n        my ($name, $file_seq) = split /\\n/, $_, 2;\n        $file_seq =~ tr/\\n//d;\n\n        return $name if index($file_seq, $seq) &gt;= 0 or index($seq, $file_seq) &gt;= 0;\n    }\n\n    return;\n}\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 38937933, "answer_count": 2, "score": -1, "last_activity_date": 1471182669, "creation_date": 1471128301, "last_edit_date": 1471133867, "question_id": 38937611, "link": "https://stackoverflow.com/questions/38937611/perl-assigning-a-variable-one-of-3-possible-values", "title": "Perl: Assigning a variable one of 3 possible values", "body": "<p>I have a DNA sequence. Let's call it \"ATCG\". I have 2 small databases of DNA sequences in 2 separate files, which we will call \"db1.txt\" and \"db2.txt\". Both databases are formatted as follows:</p>\n\n<pre><code>&gt;name of sequence\nEXAMPLESEQUENCEATCGATCG\n&gt;name of another sequence\nASECONDEXAMPLESEQUENCEATCGATCG\n</code></pre>\n\n<p>I want to know if my DNA sequence is contained in one of the databases, and if so which one. My result, then, has 3 possible values: my sequence is in neither database, in db1, or in db2. Here's my code:</p>\n\n<pre><code>use warnings;\nuse strict;\nmy $entry = 'ATCG';\nmy $returnval = \"The sequence is from neither database\";\n\n#if in db1\n    my $name1;\n    my $seq1;\n    open (my $database1, \"&lt;\", \"db1.txt\") or die \"Can't find db1\";\n    while (&lt;$database1&gt;){\n        chomp ($name1 = &lt;$database1&gt;);\n        chomp ($seq1 = &lt;$database1&gt;);\n        if (\n            index($seq1, $entry) != -1\n            || index($entry, $seq1) != -1\n        ) {\n            $returnval = \"The sequence is from db1: \". $name1;\n            last;\n        }\n    }\n\n#If in db2:\n    my $name2;\n    my $seq2;\n    open (my $database2, \"&lt;\", \"db2.txt\") or die \"Can't find db2\";\n    while (&lt;$database2&gt;){\n        chomp ($name2 = &lt;$database2&gt;);\n        chomp ($seq2 = &lt;$database2&gt;);\n        if(\n            index($seq2, $entry) != -1\n            || index($entry, $seq2) != -1\n        ) {\n            $returnval = \"The sequence is from db2: \". $name2;\n            last;\n        }\n\n    }\n    print $returnval . \"\\n\";\n</code></pre>\n\n<p>There are a few problems with this code (probably more than a few). No matter what my sequence, $returnval = \"The sequence is from db2: \" with no name at the end. Furthermore, it seems that $name2 and $seq2 are uninitialized values, even though the code is identical to that for db1. If I remove the entire section for testing for db2, the code only returns \"the sequence is from db1: \" followed by the appropriate name for <em>some</em> sequences I copied and pasted from the database, while it returns \"the sequence is from neither database\" for others.</p>\n\n<p>What am I doing wrong? How do I fix the uninitialized values, and why is the code for db2 not working?</p>\n\n<p>EDIT:\nI forgot to mention that outputting that the sequence is in db2 takes precedence over outputting that it is in db1, should a sequence be in both.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 391, "user_id": 2344631, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WDYfQzrarRo/AAAAAAAAAAI/AAAAAAAADE8/dLfjG8491mE/photo.jpg?sz=128", "display_name": "roaima", "link": "https://stackoverflow.com/users/2344631/roaima"}, "edited": false, "score": 0, "creation_date": 1471128403, "post_id": 38939758, "comment_id": 65234800, "body": "Printing assignments is not a beginner&#39;s subject. IMO, of course. I&#39;d suggest that on this basis you look for a better tutorial."}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 2, "creation_date": 1471152382, "post_id": 38939758, "comment_id": 65234801, "body": "There is something else wrong as well: the case of the &#39;t&#39; in &#39;there&#39; has changed to uppercase."}], "answers": [{"tags": [], "owner": {"reputation": 725, "user_id": 616507, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8d687a8800621f8197217dab56e31eab?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/616507/john"}, "is_accepted": false, "score": 8, "last_activity_date": 1471128150, "creation_date": 1471128150, "answer_id": 38939759, "question_id": 38939758, "link": "https://stackoverflow.com/questions/38939758/perl-concatenate/38939759#38939759", "title": "Perl concatenate", "body": "<p>The first statement assigns the value \"Hi\" to $str, then prints it. The second statements adds the value \" there\\n\" to $str, making the $str equal to \"Hi there\\n\", then prints it. Thus, the output you're getting is correct for what you're telling the interpreter to do.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "frankguthrie"}, "edited": false, "score": 0, "creation_date": 1471130237, "post_id": 38939760, "comment_id": 65234802, "body": "I fixed it like this: #!usr/bin/perl  $str = &quot;Hi&quot;; print $str .= &quot; there\\n&quot;;"}, {"owner": {"reputation": 391, "user_id": 2344631, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WDYfQzrarRo/AAAAAAAAAAI/AAAAAAAADE8/dLfjG8491mE/photo.jpg?sz=128", "display_name": "roaima", "link": "https://stackoverflow.com/users/2344631/roaima"}, "edited": false, "score": 0, "creation_date": 1471164297, "post_id": 38939760, "comment_id": 65236285, "body": "@frankguthrie it&#39;s still poor Perl coding style. Take another look at what you&#39;ve been offered in this answer. And abandon the &quot;tutorial&quot; you&#39;re trying to follow."}, {"owner": {"reputation": 129, "user_id": 6723770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4419f77dda3b0010651481c4a6405e7e?s=128&d=identicon&r=PG&f=1", "display_name": "frankguthrie", "link": "https://stackoverflow.com/users/6723770/frankguthrie"}, "edited": false, "score": 0, "creation_date": 1471382651, "post_id": 38939760, "comment_id": 65322142, "body": "Thanks for the tip, but why is the code giving by my by Gilles better then the execution I used? It seems my code contains less lines? So why the anwser Gilles gave the better option?"}], "tags": [], "owner": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "is_accepted": false, "score": 7, "last_activity_date": 1471128345, "creation_date": 1471128345, "answer_id": 38939760, "question_id": 38939758, "link": "https://stackoverflow.com/questions/38939758/perl-concatenate/38939760#38939760", "title": "Perl concatenate", "body": "<p>If the training really shows this script, ditch it \u2014\u00a0it's not code that one would normally write.</p>\n\n<p><code>$str = \"Hi\"</code> sets the variable <code>$str</code> to the string <code>\"Hi\"</code>. Most of the time, the value of an assignment is not used, the assignment is only performed for its side effect which is to change the value of the variable. However, in Perl, an assignment does have a value, which is the value that is assigned to the variable. The instruction <code>print $str = \"Hi\"</code> prints the value that is assigned, i.e. this prints the string <code>\"Hi\"</code>.</p>\n\n<p>The second instructions assigns to <code>$str</code> the value that consists of the old value of <code>$str</code> concatenated with <code>\" there\\n\"</code>, i.e. <code>$str</code> is set to <code>\"Hi there\\n\"</code>. Once again, the value that is assigned is printed, i.e. this prints the string <code>\"Hi there\\n\"</code>.</p>\n\n<p>Normally one would not use the value of the assignments:</p>\n\n<pre><code>#!/usr/bin/env perl\nmy $str = \"Hi\";\n$str .= \" there\\n\";\nprint $str;\n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1471156165, "question_id": 303261}, "owner": {"reputation": 129, "user_id": 6723770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4419f77dda3b0010651481c4a6405e7e?s=128&d=identicon&r=PG&f=1", "display_name": "frankguthrie", "link": "https://stackoverflow.com/users/6723770/frankguthrie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1471156165, "creation_date": 1471127592, "question_id": 38939758, "link": "https://stackoverflow.com/questions/38939758/perl-concatenate", "title": "Perl concatenate", "body": "<p>I'm watching a training video of UDEMY for perl, but the video is not clear and looks like it contains errors.</p>\n\n<p>The training is showing how to concatenate 2 strings with the following example:</p>\n\n<pre><code>#!usr/bin/perl\n\nprint $str = \"Hi\";\nprint $str .= \" there\\n\"; \n</code></pre>\n\n<p>However when I run the script it the output is:\n<strong>HiHi There</strong></p>\n\n<p>Where is the second Hi coming from? Am I missing something?</p>\n"}, {"tags": ["string", "perl", "dna-sequence"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1471116526, "post_id": 38936137, "comment_id": 65228515, "body": "Thanks! Sorry for my poor wording in the question."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1471123154, "last_edit_date": 1471123154, "creation_date": 1471115759, "answer_id": 38936137, "question_id": 38935911, "link": "https://stackoverflow.com/questions/38935911/perl-string-in-substring-or-substring-in-string/38936137#38936137", "title": "Perl: String in Substring or Substring in String", "body": "<p>I will assume that the purpose of this script is to determine if <code>$exampleentry</code> matches any <em>record</em> in the file <code>file.txt</code>. A <em>record</em> describes here a DNA sequence and corresponds to three consecutive lines in the file. The variable <code>$exampleentry</code> will match the sequence if it matches the third line of the record. A match means here that either</p>\n\n<ul>\n<li><code>$exampleentry</code> is a substring of <code>$line</code>, or</li>\n<li><code>$line</code> is a substring of <code>$exampleentry</code>, </li>\n</ul>\n\n<p>where <code>$line</code> referes to the corresponding line in the file.</p>\n\n<p>First, consider the input file <code>file.txt</code>:</p>\n\n<pre><code>&gt;name of sequence\nEXAMPLESEQUENCEATCGATCGATCG\n</code></pre>\n\n<p>in the program you try to read these <em>two</em> lines, using <em>three</em> calls to <a href=\"http://perldoc.perl.org/functions/readline.html\" rel=\"nofollow\"><code>readline</code></a>. Accordingly, that last call to readline will return <code>undef</code> since there are no more lines to read.</p>\n\n<p>It therefore seems reasonable that the two last lines in <code>file.txt</code> are malformed, and the correct format should be:</p>\n\n<pre><code>&gt;name of sequence\nEXAMPLESEQUENCE\nATCGATCGATCG\n</code></pre>\n\n<p>If I now understand you correctly, I hope this could solve your problem:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $filename = \"file.txt\";\nmy $exampleentry = \"ATCG\";\nmy $returnval = \"The sequence does not match any in the file\";\nopen (my $fh, '&lt;', $filename ) or die \"Can't find file: $!\";\nmy @name;\nmy @sequence;\nmy $inx = 0;\nwhile (&lt;$fh&gt;) {\n    chomp ($name[$inx] = &lt;$fh&gt;);\n    chomp ($sequence[$inx] = &lt;$fh&gt;);\n    if (\n        index($sequence[$inx], $exampleentry) != -1\n        || index($exampleentry, $sequence[$inx]) != -1\n    ) {\n        $returnval = \"The sequence matches: \". $name[$inx];\n        last;\n    }\n}\nsay $returnval;\n</code></pre>\n\n<p><strong>Notes:</strong></p>\n\n<ul>\n<li><p>I have changed variable names to follow <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlstyle.pod\" rel=\"nofollow\">snake_case convention</a>. For example the variable <code>@Name</code> is better written using all lower case as <code>@name</code>.</p></li>\n<li><p>I changed the <code>open()</code> call to follow the new recommended 3-parameter style, see <a href=\"http://perlmaven.com/open-files-in-the-old-way\" rel=\"nofollow\">Don't Open Files in the old way</a> for more information.</p></li>\n<li><p>Used feature <a href=\"http://perldoc.perl.org/functions/say.html\" rel=\"nofollow\">say</a> instead of <a href=\"http://perldoc.perl.org/functions/print.html\" rel=\"nofollow\">print</a></p></li>\n<li><p>Added a <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\">chomp</a> after each readline to avoid storing newline characters in the arrays.</p></li>\n</ul>\n"}], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 38936137, "answer_count": 1, "score": 0, "last_activity_date": 1471123154, "creation_date": 1471114188, "question_id": 38935911, "link": "https://stackoverflow.com/questions/38935911/perl-string-in-substring-or-substring-in-string", "title": "Perl: String in Substring or Substring in String", "body": "<p>I'm working with DNA sequences in a file, and this file is formatted something like this, though with more than one sequence:</p>\n\n<pre><code>&gt;name of sequence\nEXAMPLESEQUENCEATCGATCGATCG\n</code></pre>\n\n<p>I need to be able to tell if a variable (which is also a sequence) matches any of the sequences in the file, and what the name of the sequence it matches, if any, is. Because of the nature of these sequences, my entire variable could be contained in a line of the file, or a line of the variable could be a part of my variable. \nRight now my code looks something like this:</p>\n\n<pre><code>use warnings;\nuse strict;\nmy $filename = \"/users/me/file/path/file.txt\";\nmy $exampleentry = \"ATCG\";\nmy $returnval = \"The sequence does not match any in the file\";\nopen file, \"&lt;$filename\" or die \"Can't find file\";\nmy @Name;\nmy @Sequence;\nmy $inx = 0;\nwhile (&lt;file&gt;){\n    $Name[$inx] = &lt;file&gt;;\n    $Sequence[$inx] = &lt;file&gt;;\n    $indx++;\n}unless(index($Sequence[$inx], $exampleentry) != -1 || index($exampleentry, $Sequence[$inx]) != -1){\n    $returnval = \"The sequence matches: \". $Name[$inx];\n}\nprint $returnval;\n</code></pre>\n\n<p>However, even when I purposely set $entry as a match from the file, I still return <code>The sequence does not match any in the file</code>. Also, when running the code, I get <code>Use of uninitialized value in index at thiscode.pl line 14, &lt;file&gt; line 3002.</code> as well as <code>Use of uninitialized value within @Name in concatenation (.) or string at thiscode.pl line 15, &lt;file&gt; line 3002.</code></p>\n\n<p>How can I perform this search?</p>\n"}, {"tags": ["apache", "perl", "mod-rewrite", "cookies", "mod-python"], "owner": {"reputation": 2870, "user_id": 623913, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/nO2YC.jpg?s=128&g=1", "display_name": "Cartucho", "link": "https://stackoverflow.com/users/623913/cartucho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1471112763, "creation_date": 1471112763, "question_id": 38935724, "link": "https://stackoverflow.com/questions/38935724/how-to-hook-requests-in-apache-run-a-script-to-validate-session-cookies-and-red", "title": "How to hook requests in Apache, run a script to validate session cookies and redirect to login if fail", "body": "<p>My problem:</p>\n\n<ol>\n<li>I have a simple website running with Apache, static HTML and some Perl scripts. </li>\n<li>Now, I have to add login and password protection. </li>\n<li>Users will login in an external server (in the same HTTP domain) and that server will set a cookie with some values signed with md5.</li>\n</ol>\n\n<p>How can I hook every request in Apache and execute a script (middleware) that:</p>\n\n<ul>\n<li>If cookie pass validation, forward the request.</li>\n<li>If cookie not exists or fail md5 verification, redirect to login server.</li>\n</ul>\n\n<p>I'd like to do this with <code>mod_rewrite</code>, but I could not find a way to execute a script. May be with <code>mod_perl</code> or <code>mod_python</code> but not sure with the idea of injecting a Perl/Python interpreter in Apache for this task, seems a bit overkill.</p>\n\n<p>Any suggestions?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["regex", "perl", "substitution"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 2581914, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000762543618/picture?type=large", "display_name": "Tom&#225;\u0161 Lu\u010deni\u010d", "link": "https://stackoverflow.com/users/2581914/tom%c3%a1%c5%a1-lu%c4%8deni%c4%8d"}, "edited": false, "score": 0, "creation_date": 1471096032, "post_id": 38933239, "comment_id": 65222498, "body": "Thank you, it works!  This is a nice trick doing a capture of a substring instead of doing a negated string substitution."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 49, "user_id": 2581914, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000762543618/picture?type=large", "display_name": "Tom&#225;\u0161 Lu\u010deni\u010d", "link": "https://stackoverflow.com/users/2581914/tom%c3%a1%c5%a1-lu%c4%8deni%c4%8d"}, "edited": false, "score": 1, "creation_date": 1471098464, "post_id": 38933239, "comment_id": 65223243, "body": "@Tom&#225;\u0161Lu\u010deni\u010d: I don&#39;t know where you got the idea of a &quot;negated string substitution&quot;. There is no such thing."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 8, "last_activity_date": 1471101433, "last_edit_date": 1471101433, "creation_date": 1471095063, "answer_id": 38933239, "question_id": 38933144, "link": "https://stackoverflow.com/questions/38933144/perl-regex-substitution-of-everything-but-the-pattern/38933239#38933239", "title": "Perl regex: Substitution of everything but the pattern", "body": "\n\n<p>A <em>character class</em> matches a <strong>single</strong> character equal to any one of the characters in the class. If the class begins with a caret then the class is negated, so it matches any one character that isn't any of the characters in the class</p>\n\n<p>If <code>$pattern2keep</code> is <code>[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}</code> then <code>[^$pattern2keep]</code> will match any character other than <code>-</code>, <code>0</code>, <code>1</code>, <code>2</code>, <code>4</code>, <code>8</code>, <code>9</code>, <code>[</code>, <code>]</code>, <code>a</code>, <code>f</code>, <code>{</code>, or <code>}</code></p>\n\n<p>You need to capture the substring, like this</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $string = '&lt;iframe src=\"https://foo.bar/embed/b74ed855-63c9-4795-b5d5-c79dd413d613?autoplay=1&amp;context=cGF0aD0yMSwx&lt;/iframe&gt;';\n\nmy $pattern_to_keep = qr/ \\p{hex}{8} (?: - \\p{hex}{4} ){3} - \\p{hex}{12} /x;\n\nmy $kept;\n\n$kept = $1 if $string =~ /($pattern_to_keep)/;\n\nsay $kept // 'undef';\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>b74ed855-63c9-4795-b5d5-c79dd413d613\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 2581914, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000762543618/picture?type=large", "display_name": "Tom&#225;\u0161 Lu\u010deni\u010d", "link": "https://stackoverflow.com/users/2581914/tom%c3%a1%c5%a1-lu%c4%8deni%c4%8d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1036, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1471101433, "creation_date": 1471094365, "question_id": 38933144, "link": "https://stackoverflow.com/questions/38933144/perl-regex-substitution-of-everything-but-the-pattern", "title": "Perl regex: Substitution of everything but the pattern", "body": "<p>In perl, I would like to substitute a negated class character set (everything but the pattern) by nothing, to keep only the expected string.  Normally, this approach should work, but in my case it isn't : </p>\n\n<p><code>$var =~ s/[^PATTERN]//g;</code></p>\n\n<p>the original string:</p>\n\n<pre><code>$string = '&lt;iframe src=\"https://foo.bar/embed/b74ed855-63c9-4795-b5d5-c79dd413d613?autoplay=1&amp;context=cGF0aD0yMSwx&lt;/iframe&gt;'; \n</code></pre>\n\n<p>wished pattern to get:  <code>b74ed855-63c9-4795-b5d5-c79dd413d613</code></p>\n\n<p>(5 hex number groups split with 4 dashes)</p>\n\n<p>my code:</p>\n\n<pre><code>$pattern2keep = \"[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\";  \n</code></pre>\n\n<p>(should match only :  xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx (5 hex number groups split with 4 dashes) , char length :  8-4-4-4-12 )</p>\n\n<p>The following should substitute everything but the pattern by nothing, but in fact it does not.</p>\n\n<pre><code>$string =~ s/[^$pattern2keep]//g;\n</code></pre>\n\n<p>What am I doing wrong please? Thanks.</p>\n"}, {"tags": ["multithreading", "perl"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1471052436, "post_id": 38928349, "comment_id": 65213597, "body": "If you&#39;re starting all of the threads at the same time, then they&#39;ll all time out at the same time, so the situation of continuing to wait for some while others have timed out doesn&#39;t actually occur :)"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1471055075, "post_id": 38928349, "comment_id": 65213913, "body": "Did you take the time to <a href=\"http://perldoc.perl.org/threads.html\" rel=\"nofollow noreferrer\">Read The Fine Manual</a>? Given that using Perl&#39;s interpreter threads is discouraged, you should be intimately familiar with that page and all its caveats.  The section on Thread Signalling is especially important for your question.  Voting to close as &quot;Too Broad&quot; since we cannot and should not duplicate the excellent existing documentation."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1471056416, "post_id": 38928349, "comment_id": 65214111, "body": "@Jim Garrison, The manual is silent on the issue. You can send a virtual signal, but that won&#39;t help if the process is stuck in a regex match on in an XS library. // Perl threads are discouraged only where light threads are needed. That text is misleading and in need of a patch. It&#39;s suppose to be reinforcing the previous paragraph, nothing more."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1471056549, "creation_date": 1471056549, "answer_id": 38928722, "question_id": 38928349, "link": "https://stackoverflow.com/questions/38928349/perl-how-to-kill-rogue-thread-in-perl-while-continuing-other-threads/38928722#38928722", "title": "Perl how to kill &#39;rogue&#39; thread in perl while continuing other threads", "body": "<p>If you want the ability to kill the task, you don't want threads but processes.</p>\n"}], "owner": {"reputation": 179, "user_id": 3547407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e20b804bdcf06c535666cc1fc262d2e1?s=128&d=identicon&r=PG&f=1", "display_name": "user3547407", "link": "https://stackoverflow.com/users/3547407/user3547407"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 1, "accepted_answer_id": 38928722, "answer_count": 1, "score": 1, "last_activity_date": 1471056549, "creation_date": 1471051657, "question_id": 38928349, "link": "https://stackoverflow.com/questions/38928349/perl-how-to-kill-rogue-thread-in-perl-while-continuing-other-threads", "title": "Perl how to kill &#39;rogue&#39; thread in perl while continuing other threads", "body": "<p>I'm creating a perl application which executes in multiple threads and each thread consuming time. This is what I have so far</p>\n\n<pre><code>use strict;\nuse warnings;\nuse threads;\n\nmy @file_list = (\"file1\", \"file2\", \"file3\");\nmy @jobs;\nmy @failed_jobs;\nmy $timeout = 10; #10 seconds timeout\n\nforeach my $s (@file_list){\n    push @jobs, threads-&gt;create(sub{\n        #time consuming task\n    })\n}\n\n$_-&gt;join for @jobs;\n</code></pre>\n\n<p>The problem is that the time consuming task may sometimes get stuck (or take more than $timeout seconds of time to run). So when that happens, I want to get the name of the file and push it to @failed_jobs and then kill that thread. However, I want to continue with the other threads. When all threads are either killed or completed, I want to exit.</p>\n\n<p>Can someone tell me how to modify my above code to achieve this?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1471040771, "post_id": 38927194, "comment_id": 65211415, "body": "It&#39;s not an error; it&#39;s just a warning."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1471040887, "post_id": 38927194, "comment_id": 65211440, "body": "how do you catch a warning. disable it from printing to stdout (preferably not removing &quot;use warnings&quot;) im guessing"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1471041264, "post_id": 38927194, "comment_id": 65211531, "body": "If Try::Tiny did catch an error, then it would be in <code>$_</code>, not <code>$!</code>. Also, warnings go to stderr, not stdout."}], "answers": [{"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 5, "last_activity_date": 1471046960, "last_edit_date": 1471046960, "creation_date": 1471041044, "answer_id": 38927283, "question_id": 38927194, "link": "https://stackoverflow.com/questions/38927194/perl-trytiny-to-catch/38927283#38927283", "title": "Perl: try::tiny to catch", "body": "<p>Try::Tiny doesn't do anything here because the message is just a warning, not an exception.</p>\n\n<p><a href=\"https://metacpan.org/pod/Date::Parse#str2time-DATE-ZONE\" rel=\"nofollow\"><code>perldoc Date::Parse</code></a>:</p>\n\n<blockquote>\n  <p><code>str2time</code> parses <code>DATE</code> and returns a unix time value, or undef upon failure.</p>\n</blockquote>\n\n<p>So if you want to handle a parse error in <code>str2time</code>, you can simply check for <code>undef</code>:</p>\n\n<pre><code>my $parsed_time = str2time($stime);\nif (!defined $parsed_time) {\n    # ... handle this case\n} else {\n    my $dur = $etime - $parsed_time;\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 38927283, "answer_count": 1, "score": 1, "last_activity_date": 1471046960, "creation_date": 1471040336, "question_id": 38927194, "link": "https://stackoverflow.com/questions/38927194/perl-trytiny-to-catch", "title": "Perl: try::tiny to catch", "body": "<pre><code>use strict;\nuse warnings;\nuse Date::Parse;\nuse Try::Tiny;\n\nmy $etime = time;\nmy $stime = \"\";\ntry{\n    my $dur = $etime - str2time($stime);\n} catch {\n    print \"error: $!\\n\";\n};\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code>Use of uninitialized value in subtraction (-) at perl_try.pl line 10.\n</code></pre>\n\n<p>Anyone know how to catch this?<br>\nThis is not being caught in the catch block</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 1, "creation_date": 1471043073, "post_id": 38926963, "comment_id": 65212005, "body": "The two timestamps are NOT 24 hours (86400 seconds) apart, and DST changes reduce the difference further, placing both result times in the same day."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1471119785, "post_id": 38926963, "comment_id": 65229385, "body": "@Jim Garrison, That&#39;s incorrect. Being a factor or 86400 seconds apart is no worse than being exactly 86400 seconds apart. The problem is entirely the DST change, as I answered an hour before your made your comment."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 9, "last_activity_date": 1471046258, "last_edit_date": 1471046258, "creation_date": 1471039231, "answer_id": 38927035, "question_id": 38926963, "link": "https://stackoverflow.com/questions/38926963/why-does-adding-the-same-number-to-epoch-times-for-different-dates-return-the-sa/38927035#38927035", "title": "Why does adding the same number to epoch times for different dates return the same date for both?", "body": "<p>In UTC, all days have 24 hours, so the problem doesn't exhibit itself when using that time zone.</p>\n\n<pre><code>$ TZ=Etc/UTC date --date=@1425884400 +'%Y-%m-%d %H:%M:%S'\n2015-03-09 07:00:00\n\n$ TZ=Etc/UTC date --date=@1478847600 +'%Y-%m-%d %H:%M:%S'\n2016-11-11 07:00:00\n</code></pre>\n\n<p>But you weren't using UTC. Because of DST changes, not all days have 24 hours in many time zones. For example, Nov 6th of 2016 was 25 hours long in America/Los_Angeles, so 1478847600 is an hour short of 613 days later than 1425884400 in that time zone.</p>\n\n<pre><code>$ TZ=America/Los_Angeles date --date=@1425884400 +'%Y-%m-%d %H:%M:%S'\n2015-03-09 00:00:00\n\n$ TZ=America/Los_Angeles date --date=@1478847600 +'%Y-%m-%d %H:%M:%S'\n2016-11-10 23:00:00\n</code></pre>\n\n<p>Using a module such as a DateTime avoids these problems.</p>\n\n<pre><code>$ perl -e'\n   use DateTime qw( );\n   my $dt = DateTime-&gt;from_epoch(\n      epoch =&gt; 1425884400,\n      time_zone =&gt; \"America/Los_Angeles\",  # Often \"local\"\n   );\n   CORE::say( $dt );\n   $dt-&gt;add( days =&gt; 613 );\n   CORE::say( $dt );\n   CORE::say( $dt-&gt;epoch );\n'\n2015-03-09T00:00:00\n2016-11-11T00:00:00\n1478851200               # Not 1478847600!\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 1411198, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d309805d042a717771e668add06b4df6?s=128&d=identicon&r=PG", "display_name": "addousas", "link": "https://stackoverflow.com/users/1411198/addousas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1471046258, "creation_date": 1471038731, "last_edit_date": 1471040073, "question_id": 38926963, "link": "https://stackoverflow.com/questions/38926963/why-does-adding-the-same-number-to-epoch-times-for-different-dates-return-the-sa", "title": "Why does adding the same number to epoch times for different dates return the same date for both?", "body": "<p>Given these epoch times:</p>\n\n<ul>\n<li>1425801600 (2015-03-08)</li>\n<li>1425884400 (2015-03-09)</li>\n</ul>\n\n<p>Adding 613 days (613*24*3600 seconds) gives:</p>\n\n<ul>\n<li>1478764800 (2016-11-10)</li>\n<li>1478847600 (2016-11-10)</li>\n</ul>\n\n<p>How is this possible?</p>\n"}, {"tags": ["multithreading", "perl", "shared"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1471035824, "last_edit_date": 1471035824, "creation_date": 1471034219, "answer_id": 38926105, "question_id": 38925580, "link": "https://stackoverflow.com/questions/38925580/error-code-is-thread-1-terminated-abnormally-invalid-value-for-shared-scalar-a/38926105#38926105", "title": "error code is &#39;Thread 1 terminated abnormally: Invalid value for shared scalar at&#39;", "body": "<p>You can only place references to shared objects into shared vars. <code>@arr</code> isn't shared, and neither is the array onto which you push a reference to <code>@arr</code>. </p>\n\n<p>Replace</p>\n\n<pre><code>my @arr = ('a','b');\npush @{$db_ref-&gt;{'key'}}, \\@arr;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>my @arr :shared = ('a','b');\n\nlock %$db_ref;\n\n# We can't use autovivification as we need a shared array.\n$db_ref-&gt;{'key'} = shared_clone([]);\n\npush @{$db_ref-&gt;{'key'}}, \\@arr;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27, "user_id": 3934476, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d77efd64cd2ec578105b1bb0716a7f9e?s=128&d=identicon&r=PG&f=1", "display_name": "user3934476", "link": "https://stackoverflow.com/users/3934476/user3934476"}, "is_accepted": false, "score": 0, "last_activity_date": 1471038262, "last_edit_date": 1471038262, "creation_date": 1471037615, "answer_id": 38926750, "question_id": 38925580, "link": "https://stackoverflow.com/questions/38925580/error-code-is-thread-1-terminated-abnormally-invalid-value-for-shared-scalar-a/38926750#38926750", "title": "error code is &#39;Thread 1 terminated abnormally: Invalid value for shared scalar at&#39;", "body": "<p>I changed code.\nBut can not save all data in hash(%db). Next code is check code.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse threads;\nuse threads::shared;\n\nmy %db;\nshare(%db);\nmy @threads;\n\nsub test{\n    my $db_ref = $_[0];\n    my @arr :shared = ('a','b');\n    lock %$db_ref;\n    $db_ref-&gt;{'key'} = shared_clone([]);\n    push @{$db_ref-&gt;{'key'}}, \\@arr;\n}\n\nforeach(1..5){\n    my $t = threads-&gt;new(\n        sub {\n            test(\\%db);\n        }\n    );\n    push(@threads,$t);\n}\n\nforeach (@threads) {\n    $_-&gt;join;\n}\n\nwhile(my ($key, $val) = each %db){\n    print \"$key =&gt; $val\\n\";\n    foreach my $value (@$val) {\n        foreach  (@$value) {\n            print $_, \" \";\n        }\n        print \"\\n\";\n    }\n}\n</code></pre>\n\n<p>Only one data(a,b) in %db.\nWe must one more data in %db.</p>\n"}], "owner": {"reputation": 27, "user_id": 3934476, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d77efd64cd2ec578105b1bb0716a7f9e?s=128&d=identicon&r=PG&f=1", "display_name": "user3934476", "link": "https://stackoverflow.com/users/3934476/user3934476"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1471038262, "creation_date": 1471031711, "question_id": 38925580, "link": "https://stackoverflow.com/questions/38925580/error-code-is-thread-1-terminated-abnormally-invalid-value-for-shared-scalar-a", "title": "error code is &#39;Thread 1 terminated abnormally: Invalid value for shared scalar at&#39;", "body": "<p>This is my code.</p>\n\n<p>the code has some problem about hash shared.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse threads;\nuse threads::shared;\n\nmy %db;\nshare(%db);\nmy @threads;\n\nsub test{\n    my $db_ref = $_[0];\n    my @arr = ('a','b');\n    push @{$db_ref-&gt;{'key'}}, \\@arr;\n}\n\nforeach(1..2){\n    my $t = threads-&gt;new(\n        sub {\n            test(\\%db);\n        }\n    );\n    push(@threads,$t);\n}\n\nforeach (@threads) {\n    $_-&gt;join;\n}\n</code></pre>\n\n<p>error code.</p>\n\n<pre><code>Thread 1 terminated abnormally: Invalid value for shared scalar at test1.pl line 13.\nThread 2 terminated abnormally: Invalid value for shared scalar at test1.pl line 13.\n</code></pre>\n\n<p>I waana using threads::shared.</p>\n\n<p>But I don`t know what is problem.</p>\n\n<p>help me plz~</p>\n"}, {"tags": ["perl", "parsing", "hash", "multiple-columns", "subroutine"], "comments": [{"owner": {"reputation": 2264, "user_id": 311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f11daa085e44f0af96a5b76c6adb6547?s=128&d=identicon&r=PG", "display_name": "Bruce Alderman", "link": "https://stackoverflow.com/users/311/bruce-alderman"}, "edited": false, "score": 0, "creation_date": 1471027453, "post_id": 38923528, "comment_id": 65205967, "body": "You&#39;ll probably also want to remove the file write from the loop, or you&#39;ll be writing over it with every line of data."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1471028938, "post_id": 38924425, "comment_id": 65206682, "body": "Thanks for your help and insightful comments. I noticed that in your response, &quot;close $fh_in;&quot; should be really &quot;close $in_fh;&quot;. Also, regarding the second half of my question, do you have any tricks on how to append the name of each file with the number of sequences contained within that specific file? Thanks again for your tremendous help!!!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1471029056, "post_id": 38924425, "comment_id": 65206740, "body": "@Rob Thank you for these comments!  I like to label filehandles as <code>$specs_fh</code> -- will correct.  And, I forgot about your requirement to add the count to name, will add that now.  Thank you for the attribution."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1471029489, "post_id": 38924425, "comment_id": 65206938, "body": "@Rob  I added the count  to the filename. The <code>scalar</code> returns the length of a list (number of elements), and array references can be used as lists by dereferencing, <code>@{ array_ref }</code>, so it&#39;s really simple. I separate the count in the filename by <code>_</code>, if you actually wish <code>.</code> please change <code>&#39;_&#39;</code> to <code>&#39;.&#39;</code>."}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1471029494, "post_id": 38924425, "comment_id": 65206941, "body": "It is very exciting to have this code done! Not only done, but done well and quickly. Thank you so much @zdim."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1471029612, "post_id": 38924425, "comment_id": 65207001, "body": "@Rob Oh, thank you, that&#39;s very nice to hear.  I am glad it works for you :)  Please let me know if any other clarifications or comments or such can be useful."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471086259, "post_id": 38924425, "comment_id": 65219882, "body": "<i>&quot;If there are issues with tabs (converted to spaces?), use <code>&#47;\\s+&#47;</code>&quot;</i> <code>split &#47;\\s+&#47;</code> should almost always be <code>split &#39; &#39;</code>, which is the default."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471135395, "post_id": 38924425, "comment_id": 65232307, "body": "@Borodin  Thank you,sure. Changed, with a comment. I still like to emphasize that it is multiple spaces by using <code>\\s+</code>.  But you are right, I should drop that -- in case of <code>split</code> the  <code>&#39; &#39;</code> is clearer."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1471685475, "last_edit_date": 1495542180, "creation_date": 1471026855, "answer_id": 38924425, "question_id": 38923528, "link": "https://stackoverflow.com/questions/38923528/parsing-file-based-on-column-id-perl/38924425#38924425", "title": "Parsing file based on column ID: perl", "body": "<p>I would still recommend a hash. However, you store all sequences related to the same id in an anonymous array which is the value for that ID key. It's really two lines of code.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature qw(say);\n\nmy $filename = 'rep_seqs.txt';   # input file name\nopen my $in_fh, '&lt;', $filename or die \"Can't open $filename: $!\";\n\nmy %seqs;\nforeach my $line (&lt;$in_fh&gt;) {\n    chomp $line;\n    my ($id, $seq) = split /\\t/, $line;\n    push @{$seqs{$id}}, $seq;\n}\nclose $in_fh;\n\nmy $out_fh;\nfor (sort keys %seqs) {\n    my $outfile = $_ . '_' . scalar @{$seqs{$_}} . '.txt';\n    open $out_fh, '&gt;', $outfile  or do {\n        warn \"Can't open $outfile: $!\";\n        next;\n    };\n    say $out_fh $_ for @{$seqs{$_}};\n}\nclose $out_fh;\n</code></pre>\n\n<p>With your input I get the desired files, named <code>AA..._count.txt</code>, with their corresponding three lines each.  If items separated by <code>|</code> should be split you can do that while writing it out, for example.</p>\n\n<p>Comments</p>\n\n<ul>\n<li><p>The anonymous array for a key <code>$seqs{$id}</code> is created once we <code>push</code>, if not there already</p></li>\n<li><p>If there are issues with tabs (converted to spaces?), use <code>' '</code>. See the comment.</p></li>\n<li><p>A filehandle is closed and re-opened on every <code>open</code>, so no need to close every time</p></li>\n</ul>\n\n<hr>\n\n<p>The default pattern for <code>split</code> is  <code>' '</code>, also triggering specific behavior -- it matches \"<em>any contiguous whitespace</em>\", and also omits leading whitespace. (The pattern <code>/ /</code> matches a single space, turning off this special behavior of <code>' '</code>.) See a more precise description on the <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a> page. Thus it is advisable to use <code>' '</code> when splitting on unspecified number of spaces, since in the case of <code>split</code> this is a bit idiomatic, is perhaps the most common use, and is its default.  Thanks to <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a> for prompting this comment and update (the original post had the equivalent <code>/\\s+/</code>).  </p>\n\n<p>Note that in this case, since <code>' '</code> is the default along with <code>$_</code>, we can shorten it a little</p>\n\n<pre><code>for (&lt;$in_fh&gt;) {\n    chomp;\n    my ($id, $seq) = split;\n    push @{$seqs{$id}}, $seq;\n}\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 38924425, "answer_count": 1, "score": 0, "last_activity_date": 1471685475, "creation_date": 1471023004, "last_edit_date": 1471028773, "question_id": 38923528, "link": "https://stackoverflow.com/questions/38923528/parsing-file-based-on-column-id-perl", "title": "Parsing file based on column ID: perl", "body": "<p>I have a tab delineated file with repeated values in the first column. The single, but repeated values in the first column correspond to multiple values in the second column. It looks something like this: </p>\n\n<pre><code>    AAAAAAAAAA1     m081216|101|123\n    AAAAAAAAAA1     m081216|100|1987\n    AAAAAAAAAA1     m081216|927|463729\n    BBBBBBBBBB2     m081216|254|260489\n    BBBBBBBBBB2     m081216|475|1234\n    BBBBBBBBBB2     m081216|987|240\n    CCCCCCCCCC3     m081216|433|1000\n    CCCCCCCCCC3     m081216|902|366 \n    CCCCCCCCCC3     m081216|724|193 \n</code></pre>\n\n<p>For every type of sequence in the first column, I am trying to print to a file with just the sequences that correspond to it. The name of the file should include the repeated sequence in the first column and the number of sequences that correspond to it in the second column. In the above example I would therefore have 3 files of 3 sequences each. The first file would be named something like \"AAAAAAAAAA1.3.txt\" and look like the following when opened: </p>\n\n<pre><code>    m081216|101|123\n    m081216|100|1987\n    m081216|927|463729\n</code></pre>\n\n<p>I have seen other similar questions, but they have been answered with using a hash. I don't think I can't use a hash because I need to keep the number of relationships between columns. Maybe there is a way to use a hash of hashes? I am not sure. \nHere is my code so far.</p>\n\n<pre><code>    use warnings;\n    use strict;\n    use List::MoreUtils 'true';\n\n    open(IN, \"&lt;\", \"/path/to/in_file\") or die $!;\n\n    my @array;\n    my $queryID;\n\n    while(&lt;IN&gt;){\n            chomp;\n            my $OutputLine = $_;\n            processOutputLine($OutputLine);\n    }\n\n\n    sub processOutputLine {\n            my ($OutputLine) = @_;\n            my @Columns = split(\"\\t\", $OutputLine);\n            my ($queryID, $target) = @Columns;\n            push(@array, $target, \"\\n\") unless grep{$queryID eq $_} @array;\n            my $delineator = \"\\n\";\n            my $count = true { /$delineator/g } @array;\n            open(OUT, \"&gt;\", \"/path/to/out_$..$queryID.$count.txt\") or die $!;\n            foreach(@array){\n                    print OUT @array;\n            }\n     }\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 0, "creation_date": 1471031957, "post_id": 38922314, "comment_id": 65208147, "body": "Dirent is unix only (BSD, to be precise). Perl is platform-independent. Could have something to do with that."}, {"owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "reply_to_user": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 0, "creation_date": 1471033186, "post_id": 38922314, "comment_id": 65208701, "body": "That is probably the reason why perls readdir behaves the way it does, but I had guessed that before asking the question, but that doesn&#39;t mean there couldn&#39;t be a way to get at the information (it could be cached, just like the results of stat are, and there could be a function that I didn&#39;t know of that return them)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471083530, "post_id": 38922314, "comment_id": 65219217, "body": "What puzzles me is why you aren&#39;t just using Perl&#39;s <code>readdir</code> followed by <code>stat</code>, like the rest of the world. Using <code>IO::Dirent</code> will result in non-portable code that most people familiar with Perl won&#39;t understand. If you imagine you are writing faster code then this is certainly premature optimisation, and I very much doubt if reading a directory is a bottleneck for your program."}, {"owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "edited": false, "score": 0, "creation_date": 1471086556, "post_id": 38922314, "comment_id": 65219936, "body": "The code is not meant to be portable, and <code>stat</code>is comparatively expensive."}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 2, "last_activity_date": 1471032886, "creation_date": 1471032886, "answer_id": 38925831, "question_id": 38922314, "link": "https://stackoverflow.com/questions/38922314/getting-the-whole-dirent-structure-in-perl/38925831#38925831", "title": "Getting the whole dirent structure in perl", "body": "<p>You can use <a href=\"https://metacpan.org/pod/IO::Dirent\" rel=\"nofollow\">IO::Dirent</a>:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse 5.010;\n\nuse IO::Dirent qw(:ALL); # import constants DT_REG, DT_LNK, etc.\n\nmy %types = (\n    DT_REG() =&gt; 'regular file',\n    DT_LNK() =&gt; 'symbolic link',\n    DT_DIR() =&gt; 'directory'\n);\n\nmy $dir = 'foo';\nopendir my $dh, $dir or die \"Failed to opendir '$dir': $!\";\n\nwhile (my $entry = nextdirent($dh)) {\n    say join \"\\t\", $entry-&gt;{name}, $types{ $entry-&gt;{type} };\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>..      directory\nbaz     symbolic link\n.       directory\nbar     regular file\n</code></pre>\n"}], "owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 38925831, "answer_count": 1, "score": 1, "last_activity_date": 1471032886, "creation_date": 1471018157, "question_id": 38922314, "link": "https://stackoverflow.com/questions/38922314/getting-the-whole-dirent-structure-in-perl", "title": "Getting the whole dirent structure in perl", "body": "<p>The <code>readdir</code> syscall on linux returns a <code>dirent</code> structure that contains more information that just the file name, but it seems perl's <code>readdir</code> only returns the name (I've tried assigning it to a variable and using <code>Data::Dumper::dumper</code> on that to see if it was just something that stringifies to the filename - I don't know if that is a useable way to do that, but it was the best I could think of). Is there any way to get the other information (specifically I need the <code>d_type</code>), without <code>stat</code>'ing the name?</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 0, "creation_date": 1471014668, "post_id": 38921178, "comment_id": 65199192, "body": "Is the  &quot;ExtraText&quot; the actual string &quot;ExtraText&quot;, or an arbitrary string?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471015739, "post_id": 38921178, "comment_id": 65199792, "body": "Is the input file tab-separated?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1471015814, "creation_date": 1471015814, "answer_id": 38921564, "question_id": 38921178, "link": "https://stackoverflow.com/questions/38921178/perl-or-bash-prefix-remove-swap-text-around/38921564#38921564", "title": "Perl Or Bash - Prefix , remove , swap text around", "body": "<p>Assuming the input file consists of tab-separated values,</p>\n\n<pre><code>while (&lt;&gt;) {\n   chomp;\n   my @fields = split /\\t/;\n   print(\"This place is called $fields[0] and we say \\\"$fields[2]\\\"!\\n\");\n}\n</code></pre>\n\n<p>If not,</p>\n\n<pre><code>while (&lt;&gt;) {\n   my ($name, $text) = /^(\\S+)\\s+\\S+\\s+(.*)/;\n   print(\"This place is called $name and we say \\\"$text\\\"!\\n\");\n}\n</code></pre>\n\n<p>Note that <code>ExtraText</code> can't contain spaces in this scenario.</p>\n"}, {"comments": [{"owner": {"reputation": 367, "user_id": 1935094, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc83a1f925fa01eab4c9ffd8aa112840?s=128&d=identicon&r=PG", "display_name": "Gripsiden", "link": "https://stackoverflow.com/users/1935094/gripsiden"}, "edited": false, "score": 0, "creation_date": 1471351540, "post_id": 38927246, "comment_id": 65303647, "body": "Thank you - sorry for the delay - was out of the office."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "reply_to_user": {"reputation": 367, "user_id": 1935094, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc83a1f925fa01eab4c9ffd8aa112840?s=128&d=identicon&r=PG", "display_name": "Gripsiden", "link": "https://stackoverflow.com/users/1935094/gripsiden"}, "edited": false, "score": 0, "creation_date": 1471351961, "post_id": 38927246, "comment_id": 65303972, "body": "No problem. Glad I could help."}], "tags": [], "owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "is_accepted": true, "score": 1, "last_activity_date": 1471040685, "creation_date": 1471040685, "answer_id": 38927246, "question_id": 38921178, "link": "https://stackoverflow.com/questions/38921178/perl-or-bash-prefix-remove-swap-text-around/38927246#38927246", "title": "Perl Or Bash - Prefix , remove , swap text around", "body": "<p>Here is a <code>bash</code> version of a solution.  My results are based on your input data as given and your requested output.  The input data is in the file <code>input.txt</code> for this code.</p>\n\n<pre><code>#!/bin/bash\n\nwhile IFS='.' read text1 text2\ndo\n  set -f\n  textarr=($text2)\n  echo \"The place is called $text1.${textarr[0]} ${textarr[1]} and we say '${textarr[3]} ${textarr[4]} ${textarr[5]} ${textarr[6]}'!\"\ndone &lt; input.txt\n</code></pre>\n\n<p>Input data (i.e. file <code>input.txt</code>):</p>\n\n<pre><code>Denver.Line 1   ExtraText  I need this information\nDenver.Line 2   ExtraText  I need this information\nDenver.Line 3   ExtraText  I need this information\nNew York.Line 1   ExtraText  I need this information\nNew York.Line 2   ExtraText  I need this information\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>The place is called Denver.Line 1 and we say 'I need this information'!\nThe place is called Denver.Line 2 and we say 'I need this information'!\nThe place is called Denver.Line 3 and we say 'I need this information'!\nThe place is called New York.Line 1 and we say 'I need this information'!\nThe place is called New York.Line 2 and we say 'I need this information'!\n</code></pre>\n"}], "owner": {"reputation": 367, "user_id": 1935094, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc83a1f925fa01eab4c9ffd8aa112840?s=128&d=identicon&r=PG", "display_name": "Gripsiden", "link": "https://stackoverflow.com/users/1935094/gripsiden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 38927246, "answer_count": 2, "score": -2, "last_activity_date": 1471040685, "creation_date": 1471014557, "last_edit_date": 1495541314, "question_id": 38921178, "link": "https://stackoverflow.com/questions/38921178/perl-or-bash-prefix-remove-swap-text-around", "title": "Perl Or Bash - Prefix , remove , swap text around", "body": "<p>Related to a previous <a href=\"https://stackoverflow.com/questions/38919379/perl-or-bash-script-prefix-lines-in-text-file-with-text-from-earlier-in-file/38919979#38919979\">Post</a>. I wanted to add some prefix based on text occurring in a file.</p>\n\n<p>My next piece of the jigsaw - I need to manipulate text a little and have spent a while digging around.</p>\n\n<p>My file now shows: ( the lines will contact differing text - not all the same like im showing ) </p>\n\n<pre><code>Denver.Line 1   ExtraText  I need this information\nDenver.Line 2   ExtraText  I need this information\nDenver.Line 3   ExtraText  I need this information\nNew York.Line 1   ExtraText  I need this information \nNew York.Line 2   ExtraText  I need this information\n</code></pre>\n\n<p>I need </p>\n\n<pre><code>The place is called Denver.Line 1 and we say \"I need this information\"!\nThe place is called Denver.Line 2 and we say 'I need this information'!\nThe place is called Denver.Line 3 and we say 'I need this information'!\nThe place is called New York.Line 1 and we say 'I need this information'!\nThe place is called New York.Line 2 and we say 'I need this information'!\n</code></pre>\n\n<p>So.. \nI need to prefix the lines\nI need to remove \"   ExtraText  \" and replace with \"and we say'\"\nI need to append each line with \"'!\"</p>\n\n<p>Thanks in advance to the gurus here. </p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1471009203, "post_id": 38919379, "comment_id": 65195544, "body": "How do you feel about sed?"}, {"owner": {"reputation": 367, "user_id": 1935094, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc83a1f925fa01eab4c9ffd8aa112840?s=128&d=identicon&r=PG", "display_name": "Gripsiden", "link": "https://stackoverflow.com/users/1935094/gripsiden"}, "reply_to_user": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1471009918, "post_id": 38919379, "comment_id": 65196029, "body": "Thanks for  your response , sed would be perfect. Im more familiar with bash than perl to be honest , so sed would be right up there ;)"}], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 1935094, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc83a1f925fa01eab4c9ffd8aa112840?s=128&d=identicon&r=PG", "display_name": "Gripsiden", "link": "https://stackoverflow.com/users/1935094/gripsiden"}, "edited": false, "score": 0, "creation_date": 1471009967, "post_id": 38919602, "comment_id": 65196051, "body": "Hi Steffan - wow , thank you - This has worked straight out of the box. Im actually looking to build in a little more , but will post additional questions - i dont want to clutter this post. thanks again!"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 2, "last_activity_date": 1471009718, "creation_date": 1471009718, "answer_id": 38919602, "question_id": 38919379, "link": "https://stackoverflow.com/questions/38919379/perl-or-bash-script-prefix-lines-in-text-file-with-text-from-earlier-in-file/38919602#38919602", "title": "Perl or Bash Script - Prefix Lines in text file with text from earlier in file", "body": "<pre><code> perl -ne 'if (s/^!//) { chomp; $p = $_ } elsif (/\\S/) { print \"$p.$_\" }'  &lt; data\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11156, "user_id": 2214695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dee2ef257601e05c5659f04de9cb7c67?s=128&d=identicon&r=PG", "display_name": "oliv", "link": "https://stackoverflow.com/users/2214695/oliv"}, "is_accepted": false, "score": 0, "last_activity_date": 1471009906, "creation_date": 1471009906, "answer_id": 38919689, "question_id": 38919379, "link": "https://stackoverflow.com/questions/38919379/perl-or-bash-script-prefix-lines-in-text-file-with-text-from-earlier-in-file/38919689#38919689", "title": "Perl or Bash Script - Prefix Lines in text file with text from earlier in file", "body": "<p>It can also be done with <code>awk</code>:</p>\n\n<pre><code>awk '/^\\!/{town=substr($0,2)}!/^$|^\\!/{print town \".\" $0}' file\n</code></pre>\n\n<p>The town is catch with the <code>!</code> and is displayed if the line is not empty.</p>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 1, "last_activity_date": 1471009982, "creation_date": 1471009982, "answer_id": 38919715, "question_id": 38919379, "link": "https://stackoverflow.com/questions/38919379/perl-or-bash-script-prefix-lines-in-text-file-with-text-from-earlier-in-file/38919715#38919715", "title": "Perl or Bash Script - Prefix Lines in text file with text from earlier in file", "body": "<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $prefix;\nwhile (&lt;DATA&gt;){ #loop over data line by line\n    chomp; #remove \\n from line\n    next unless $_; #skip empty lines\n    if ($_ =~ /^!/){ #check if line starts with !\n        $prefix = $_; #store line as prefix\n        next; #move to next line\n    }\n    else{\n        print \"$prefix.$_\\n\"; #if line doesn't start with ! then add prefix\n    }\n}\n__DATA__\n!Denver\n\nLine 1\nLine 2\nLine 3\n\n!New York\n\nLine 1 \nLine 2\n</code></pre>\n\n<p><a href=\"http://ideone.com/oICl5U\" rel=\"nofollow\"><strong>Demo</strong></a></p>\n"}, {"tags": [], "owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "is_accepted": false, "score": 1, "last_activity_date": 1471010043, "creation_date": 1471010043, "answer_id": 38919734, "question_id": 38919379, "link": "https://stackoverflow.com/questions/38919379/perl-or-bash-script-prefix-lines-in-text-file-with-text-from-earlier-in-file/38919734#38919734", "title": "Perl or Bash Script - Prefix Lines in text file with text from earlier in file", "body": "<pre><code>#! /usr/bin/perl\n\n# good perl practice\nuse strict;\nuse warnings;\n\n# open the file to be parsed (read only)\nopen(my $fh, '&lt;', 'test.txt')\n    or die \"Failed to open file: $!\";\n\nmy $prefix = '';\n\n# read in the file line by line (each line assigned to $_)\nwhile(&lt;$fh&gt;) {\n\n    # skip blank lines\n    next if /^$/;\n\n    # if the line starts with ! store the rest of the line\n    if(/^!(.+)$/) {\n\n        # store the rest of the line ($1) in $prefix\n        $prefix = $1;\n\n        # remove the newline\n        chomp($prefix);\n\n    # it's a normal line, print the prefix plus line content\n    } else {\n        print \"${prefix}.$_\";\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "is_accepted": false, "score": 1, "last_activity_date": 1471010706, "creation_date": 1471010706, "answer_id": 38919979, "question_id": 38919379, "link": "https://stackoverflow.com/questions/38919379/perl-or-bash-script-prefix-lines-in-text-file-with-text-from-earlier-in-file/38919979#38919979", "title": "Perl or Bash Script - Prefix Lines in text file with text from earlier in file", "body": "<p>You've already accepted an answer, but this also works:</p>\n\n<pre><code>sed '/^$/d;/^!/{s/^!//;s/$/\\./;h;d;};G;s/\\(.*\\)\\n\\(.*\\)/\\2\\1/' filename\n</code></pre>\n"}], "owner": {"reputation": 367, "user_id": 1935094, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc83a1f925fa01eab4c9ffd8aa112840?s=128&d=identicon&r=PG", "display_name": "Gripsiden", "link": "https://stackoverflow.com/users/1935094/gripsiden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 38919602, "answer_count": 5, "score": 0, "last_activity_date": 1471010706, "creation_date": 1471009073, "last_edit_date": 1495540298, "question_id": 38919379, "link": "https://stackoverflow.com/questions/38919379/perl-or-bash-script-prefix-lines-in-text-file-with-text-from-earlier-in-file", "title": "Perl or Bash Script - Prefix Lines in text file with text from earlier in file", "body": "<p>I have a file like:</p>\n\n<pre><code>!Denver\n\nLine 1\nLine 2\nLine 3\n\n!New York\n\nLine 1 \nLine 2\n</code></pre>\n\n<p>I want to do the following - Basically pull the text with prefix ! ( like !Denver ) and append the text , less \"!\" to the next lines until another ! comes along with new text for proceeding lines</p>\n\n<pre><code>Denver.Line 1\nDenver.Line 2\nDenver.Line 3\nNew York.Line 1\nNew York.Line 2\n</code></pre>\n\n<p>This is part of a bigger script - but am hoping to complete the rest myself.</p>\n\n<p>I found the following which i am reviewing:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2099471/add-a-prefix-string-to-beginning-of-each-line\">Add a prefix string to beginning of each line</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13586349/how-can-i-prepend-a-string-to-the-beginning-of-each-line-in-a-file\">How can I prepend a string to the beginning of each line in a file?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13586349/how-can-i-prepend-a-string-to-the-beginning-of-each-line-in-a-file\">How can I prepend a string to the beginning of each line in a file?</a></li>\n</ul>\n\n<p>So I may get an answer myself shortly.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "recursion", "moose"], "comments": [{"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 1, "creation_date": 1471004101, "post_id": 38917569, "comment_id": 65192376, "body": "It seems that replacing <code>if ($self-&gt;id)</code> with <code>if ($self-&gt;has_id)</code> is a solution"}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 1, "creation_date": 1471006047, "post_id": 38917569, "comment_id": 65193503, "body": "Yep. Feel free to answer your own question. Predicates do not cause builders to run."}], "answers": [{"tags": [], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "is_accepted": true, "score": 3, "last_activity_date": 1471011391, "creation_date": 1471011391, "answer_id": 38920199, "question_id": 38917569, "link": "https://stackoverflow.com/questions/38917569/how-to-prevent-infinite-recursion-with-moose/38920199#38920199", "title": "How to prevent infinite recursion (with Moose)?", "body": "<p>Replacing <code>if ($self-&gt;id)</code> with <code>if ($self-&gt;has_id)</code> is a solution.</p>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 38920199, "answer_count": 1, "score": 3, "last_activity_date": 1471011391, "creation_date": 1471003599, "question_id": 38917569, "link": "https://stackoverflow.com/questions/38917569/how-to-prevent-infinite-recursion-with-moose", "title": "How to prevent infinite recursion (with Moose)?", "body": "<p>In the following code fragment (Perl with Moose) there seems to be an infinite recursion:</p>\n\n<pre><code>has 'ORM' =&gt; ( is     =&gt; 'ro',\n               isa     =&gt; 'Model::LazySQLModel',\n               lazy    =&gt; 1,\n               builder =&gt; 'ORM_builder' );\n\nhas 'id' =&gt; ( is        =&gt; 'ro',\n              isa       =&gt; 'Int',\n              lazy      =&gt; 1,\n              builder   =&gt; 'id_builder',\n              predicate =&gt; 'has_id',\n            );\n\nsub id_builder { $_[0]-&gt;ORM-&gt;id }\n\nsub ORM_builder {\n  my ($self) = @_;\n\n  # FIXME: looks like infinite recursion\n  if ($self-&gt;id) {\n    return $self-&gt;ORM_find();\n  } else {\n    return $self-&gt;ORM_insert();\n  }\n}\n</code></pre>\n\n<p>Remark: <code>Model::LazySQLModel</code> is a tied hash which holds ID and other DB fields.</p>\n\n<p>What is the right way to do this (to be sure that we prevent infinite recursion)?</p>\n"}, {"tags": ["javascript", "perl", "cgi"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1471003371, "post_id": 38916434, "comment_id": 65191945, "body": "Why do you load the <code>CGI</code> module and then not use it at all?"}, {"owner": {"reputation": 63, "user_id": 5305236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a8e379d94224ab91d98bb67ccfb7f7?s=128&d=identicon&r=PG&f=1", "display_name": "D.Karthikeyan", "link": "https://stackoverflow.com/users/5305236/d-karthikeyan"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1471526775, "post_id": 38916434, "comment_id": 65389268, "body": "@Quentin My problem is on practically possible ways to implement a Perl array variable inside java script in Perl CGI script but the link you provided for mark my question as duplicate explains about working principle of server side and client side programming.The link you mentioned thought me about server side and client side programming but that doesn&#39;t gave me solution to my question."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 5305236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a8e379d94224ab91d98bb67ccfb7f7?s=128&d=identicon&r=PG&f=1", "display_name": "D.Karthikeyan", "link": "https://stackoverflow.com/users/5305236/d-karthikeyan"}, "edited": false, "score": 0, "creation_date": 1471067718, "post_id": 38916807, "comment_id": 65215797, "body": "We must make use of only perl array in my problem that  constrain I missed to mention.Thanks for the effort."}], "tags": [], "owner": {"reputation": 1230, "user_id": 5779186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0599f9b586109ce9c0093b56aa66a267?s=128&d=identicon&r=PG&f=1", "display_name": "E.Serra", "link": "https://stackoverflow.com/users/5779186/e-serra"}, "is_accepted": false, "score": 0, "last_activity_date": 1471000996, "creation_date": 1471000996, "answer_id": 38916807, "question_id": 38916434, "link": "https://stackoverflow.com/questions/38916434/cgi-how-to-increment-perl-variable-inside-javascript/38916807#38916807", "title": "CGI: How to increment Perl variable inside JavaScript", "body": "<p>There seems to be some funny behaviour in the way javasCript understands the perl arrays and uses them, I would write the array in javasCript code</p>\n\n<p>I would declare the array in javasCript, and use it in javaScript.</p>\n\n<pre><code>&lt;script&gt;\n    var jslabel = ['1','2','3'];\n    var i;\n    for (i = 0; i &lt; 3; i+=1) {\n        document.getElementById(\"para\" + i).innerHTML = jslabel[i];\n    }\n&lt;/script&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 5305236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a8e379d94224ab91d98bb67ccfb7f7?s=128&d=identicon&r=PG&f=1", "display_name": "D.Karthikeyan", "link": "https://stackoverflow.com/users/5305236/d-karthikeyan"}, "edited": false, "score": 0, "creation_date": 1471067772, "post_id": 38917117, "comment_id": 65215807, "body": "Its working for my problem. Thank you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1471086650, "post_id": 38917117, "comment_id": 65219958, "body": "<i>&quot;A title is always nice&quot;</i> A <code>title</code> element is the <i>only</i> outer element that is required by the specification. <code>html</code>, <code>head</code> and <code>body</code> are all optional."}], "tags": [], "owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "is_accepted": true, "score": 3, "last_activity_date": 1471002741, "last_edit_date": 1471002741, "creation_date": 1471002085, "answer_id": 38917117, "question_id": 38916434, "link": "https://stackoverflow.com/questions/38916434/cgi-how-to-increment-perl-variable-inside-javascript/38917117#38917117", "title": "CGI: How to increment Perl variable inside JavaScript", "body": "<p>You may be able to solve the problem by JSON encoding your perl data, and then reading the data from that with your javascript.</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\nuse warnings 'all';\n\nuse CGI;\nuse JSON;\n\n# note that JSON expects array references\nmy $jslabel = [ 1, 2, 3 ];\n\n# if we're using CGI, we may as well use it's functions\nmy $cgi = CGI-&gt;new();\nprint $cgi-&gt;header('text/html');\n\n# convert our array to JSON\nmy $data = to_json($jslabel);\n\nmy $html = qq:\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;A title is always nice&lt;/title&gt;\n\n        &lt;!-- javascript is best served inside the &lt;header&gt; --&gt;\n        &lt;script&gt;\n             &lt;!-- we're inserting the data here because of use of qq// --&gt;\n             var jslabel = $data\n             for(var i=0;i&lt;3;i++) {\n                 document.getElementById(\"para\"+i).innerHTML = jslabel[i];\n             }\n        &lt;/script&gt; \n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;p id=\"para0\"&gt;&lt;/p&gt;\n        &lt;p id=\"para1\"&gt;&lt;/p&gt;\n        &lt;p id=\"para2\"&gt;&lt;/p&gt;\n    &lt;/body&gt;\n&lt;/html&gt;:;\n\nprint $html;\n</code></pre>\n\n<p>However I'd also point that html documents are better served out of \"template files\" and data inserted to them via modules that provide that functionality. Good examples of modules from CPAN that provide that functionality are <code>HTML::Template</code> or <code>Template::Toolkit</code>. However this is beyond the scope of the question.</p>\n\n<p>Another alternative is to use some form of AJAX mechanism to fetch the results \"live\" data from a seperate CGI script and populate from the returned results (that is more of a \"Web 2.0\" way of approaching things).</p>\n"}], "owner": {"reputation": 63, "user_id": 5305236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6a8e379d94224ab91d98bb67ccfb7f7?s=128&d=identicon&r=PG&f=1", "display_name": "D.Karthikeyan", "link": "https://stackoverflow.com/users/5305236/d-karthikeyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "closed_date": 1471003005, "accepted_answer_id": 38917117, "answer_count": 2, "score": 1, "last_activity_date": 1471084257, "creation_date": 1470999811, "last_edit_date": 1471084257, "question_id": 38916434, "link": "https://stackoverflow.com/questions/38916434/cgi-how-to-increment-perl-variable-inside-javascript", "closed_reason": "Duplicate", "title": "CGI: How to increment Perl variable inside JavaScript", "body": "<p>In a Perl CGI script, I need to increment a Perl array index inside a <code>&lt;script&gt;</code> element to add each value in an array in each HTML</p>\n\n<pre><code>&lt;p id=\"para1\"&gt;\n&lt;p id=\"para2\"&gt;\n&lt;p id=\"para3\"&gt;\n...\n&lt;p id=\"paraN\"&gt;\n</code></pre>\n\n<p>one by one.</p>\n\n<p>The number of <code>&lt;p&gt;</code> tags and the length of the Perl array variable is same.</p>\n\n<p>I tried using JavaScript to increment the Perl array index variable, but it's not working.</p>\n\n<p>Is there any other way possible to do this?</p>\n\n<p>Sample code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"content-type:text/html\\n\\n\";\n\nmy @jslabel = ('1', '2', '3');\n\nprint &lt;&lt;EOF;\n&lt;html&gt;\n  &lt;head&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;p id=\"para0\"&gt; hi &lt;/p&gt;\n    &lt;p id=\"para1\"&gt; hi &lt;/p&gt;\n    &lt;p id=\"para2\"&gt; hi &lt;/p&gt;\n  &lt;/body&gt;\n  &lt;script&gt;\n    for( var i = 0; i &lt; 3; i++ )\n    {\n      document.getElementById(\"para\"+i).innerHTML = $jslabel[i];\n    }\n  &lt;/script&gt;\n&lt;/html&gt;\nEOF\n</code></pre>\n\n<p>The web page should show like this:</p>\n\n<pre><code>1\n2\n3\n</code></pre>\n\n<p>But, the outcome for the given code:</p>\n\n<pre><code>1\n1\n1\n</code></pre>\n\n<p>How to achieve the desired result?</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 2, "creation_date": 1470996106, "post_id": 38915192, "comment_id": 65187588, "body": "What does <code>Data::Dumper</code> show the <code>$result</code> hash contains? Also, is the MySQL under a transactional state (that may require a <code>commit</code>)?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 1, "creation_date": 1470996828, "post_id": 38915192, "comment_id": 65188004, "body": "What @DravSloan said. Also, are you sure that you&#39;re connecting to the same database instance in both cases?"}, {"owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 0, "creation_date": 1470998963, "post_id": 38915192, "comment_id": 65189307, "body": "It might be worth pointing out that you can validate an &quot;empty&quot; result from <code>fetchrow_hashref()</code> by issuing <code>if(!%$result)</code>. Testing an empty hash will return false if it has no key/value pairs. (you have to prefix your hash with the <code>%</code> operator because it is a hash reference)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 0, "creation_date": 1470999226, "post_id": 38915192, "comment_id": 65189480, "body": "@DravSloan: That is bad advice. If there were no rows found then the <code>fetchrow_hashref</code> method will return <code>undef</code>."}, {"owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "edited": false, "score": 0, "creation_date": 1470999487, "post_id": 38915192, "comment_id": 65189622, "body": "Oh yeah that&#39;s a bad mistake, so it should of read <code>if(!defined $result || !%$result) { ... }</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1471022670, "post_id": 38915192, "comment_id": 65203610, "body": "<code>print($var);</code> and <code>print(Dumper($var));</code> can&#39;t possibly output <code>HASH(0x3068198)</code> and <code>$VAR1 = undef</code> for the same <code>$var</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1470998808, "post_id": 38916015, "comment_id": 65189200, "body": "I did not get <code>execute($c, $d)</code> part. Can you please explain how it works as I have no idea ."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1470998988, "post_id": 38916015, "comment_id": 65189324, "body": "@Arijit: Please don&#39;t hijack someone else&#39;s question. If you want to ask something then please post a question of your own."}, {"owner": {"reputation": 367, "user_id": 4266540, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GxWGD.jpg?s=128&g=1", "display_name": "Vasanth", "link": "https://stackoverflow.com/users/4266540/vasanth"}, "edited": false, "score": 0, "creation_date": 1470999018, "post_id": 38916015, "comment_id": 65189341, "body": "@Borodin: mysql returns empty set of record. But dumper prints undef. I don&#39;t want to display undef."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 367, "user_id": 4266540, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GxWGD.jpg?s=128&g=1", "display_name": "Vasanth", "link": "https://stackoverflow.com/users/4266540/vasanth"}, "edited": false, "score": 0, "creation_date": 1470999121, "post_id": 38916015, "comment_id": 65189410, "body": "@Vasanth: You should put exactly what you see into the question. Everything is useful. A result of <code>undef</code> means that there was nothing found for the SELECT statement."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1471008024, "post_id": 38916015, "comment_id": 65194821, "body": "@Borodin - I use this question answer platform to gain knowledge. try to understand each question and answer. I tried to understand your answer also. But I failed."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 1, "creation_date": 1471008148, "post_id": 38916015, "comment_id": 65194901, "body": "@Arijit: Then ask another question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1471011134, "post_id": 38916015, "comment_id": 65196896, "body": "@Arijit: In my opinion you must reassess your relationship with Stack Overflow. You seem to treat it as an ordinary forum, whereas it is much more like a <i>wiki</i>, where every submission must be well-formed question or answer. <a href=\"http://stackoverflow.com/users/3835621/arijit\">Your questions</a> have a total of three votes over ten questions, while the votes on your answers have a negative total. Something is going wrong, and I urge you to take <a href=\"http://stackoverflow.com/tour\">the tour</a> again."}, {"owner": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1471013794, "post_id": 38916015, "comment_id": 65198626, "body": "@Borodin :- I always appreciate your comments, feedback  and I strongly believe the votes on my answers are positive in total and I treat it as a special platform to gain and share knowledge. Though my start in stake overflow was not good. I got some negative feedback in my questions."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1159, "user_id": 3835621, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/IROLC.jpg?s=128&g=1", "display_name": "Arijit Panda", "link": "https://stackoverflow.com/users/3835621/arijit-panda"}, "edited": false, "score": 0, "creation_date": 1471017582, "post_id": 38916015, "comment_id": 65200989, "body": "@Arijit: I am sure that you have a lot to offer. But please make sure that your posts are correct (you have tested them) and offer something new. That applies to both questions and answers."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1470998516, "creation_date": 1470998516, "answer_id": 38916015, "question_id": 38915192, "link": "https://stackoverflow.com/questions/38915192/fetchrow-hashref-issue-in-perl/38916015#38916015", "title": "fetchrow_hashref issue in perl", "body": "<p>You must make your code more readable. It's often useful to use a <em>heredoc</em> to quote SQL statements, like this</p>\n\n<pre><code>my $reactivate_sth = $dbh-&gt;prepare(&lt;&lt;END_SQL);\nSELECT a, b\nFROM table\nWHERE c = ? AND d = ?\nORDER BY date DESC\nEND_SQL\n\n$reactivate_sth-&gt;execute($c, $d);\n\nmy $result = $reactivate_sth-&gt;fetchrow_hashref;\n</code></pre>\n\n<p>Now <code>$result</code> is a <em>reference to a hash</em>, because you called the <code>fetchrow_hashref</code> method. Printing it will, as you have found, produce something like <code>HASH(0x1cc5a8)</code>. You need to access the <em>elements</em> of the hash to make sense of the result</p>\n\n<p>After that, I don't know what output you want. You can use the core <code>Data::Dumper</code> module to display the record that you've retrieved like this</p>\n\n<pre><code>use Data::Dumper;\nprint Dumper $result;\n</code></pre>\n\n<p>Does that help? You haven't asked for anything more</p>\n"}, {"comments": [{"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1471004773, "post_id": 38917680, "comment_id": 65192765, "body": "Try this if( keys %hash ) {     # There are keys } else {     # There are no keys }"}], "tags": [], "owner": {"reputation": 367, "user_id": 4266540, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GxWGD.jpg?s=128&g=1", "display_name": "Vasanth", "link": "https://stackoverflow.com/users/4266540/vasanth"}, "is_accepted": true, "score": 1, "last_activity_date": 1471003910, "creation_date": 1471003910, "answer_id": 38917680, "question_id": 38915192, "link": "https://stackoverflow.com/questions/38915192/fetchrow-hashref-issue-in-perl/38917680#38917680", "title": "fetchrow_hashref issue in perl", "body": "<p>Finally I found the solution for this issue. I am not sure this one is a proper fix or not.</p>\n\n<p>Please guide me if the fix is not professional.</p>\n\n<pre><code>if (!defined $result-&gt;{''}) {\n   $result = '';\n}\n</code></pre>\n"}], "owner": {"reputation": 367, "user_id": 4266540, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/GxWGD.jpg?s=128&g=1", "display_name": "Vasanth", "link": "https://stackoverflow.com/users/4266540/vasanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 38917680, "answer_count": 2, "score": 1, "last_activity_date": 1471003910, "creation_date": 1470996022, "last_edit_date": 1470999278, "question_id": 38915192, "link": "https://stackoverflow.com/questions/38915192/fetchrow-hashref-issue-in-perl", "title": "fetchrow_hashref issue in perl", "body": "<p>I am not able to retrieve the output properly using the below code. Please help me to sort it out.</p>\n\n<p>I am getting output differently to run in MySQL and Perl.</p>\n\n<p>As of now it is returning undef when I use Dumper. But I want it to display null.</p>\n\n<pre><code>    $reactivate_sth = $dbh-&gt;prepare(\"\n      SELECT\n        a,\n        b\n      FROM\n        table\n      WHERE\n        c = ?\n      AND\n        d = ?\n      ORDER BY\n        date DESC\n    \");\n$reactivate_sth-&gt;execute($c, $d);\nprint $result = $reactivate_sth-&gt;fetchrow_hashref();\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<p>MySQL:</p>\n\n<pre><code>Empty set (0.00 sec)\n</code></pre>\n\n<p>Perl:</p>\n\n<pre><code>HASH(0x3068198)\n</code></pre>\n\n<p>Data::Dumper</p>\n\n<pre><code>VAR1 = undef\n</code></pre>\n"}, {"tags": ["perl", "upgrade", "perl-module", "mod-perl2"], "comments": [{"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1607614291, "post_id": 38913918, "comment_id": 115333267, "body": "<a href=\"https://dev.perl.org/perl5/news/\" rel=\"nofollow noreferrer\">List of Perl 5 versions</a> (with dates. 1996-02-03 to 2020-11-20. 446 versions)."}, {"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1607615375, "post_id": 38913918, "comment_id": 115333855, "body": "It is a bit terse, though. For instance, it is not easy to deduce that the <b><i>Perl debugger documentation</i></b> was <b><i>broken</i></b> with the renaming of command letters in version 5.7.3 (2002-03-05). The book <i><a href=\"https://en.wikipedia.org/wiki/Programming_Perl\" rel=\"nofollow noreferrer\">Programming Perl</a></i> (the &quot;Camel Book&quot;), 4th edition, released 10 years later (2012-02-13) did not have the changes (and it is still <i>not</i> in the errata - that is <b><i>more than 18 years</i></b> that a sort of canonical documentation has been out of date). There are also copy-paste errors on page 613, with overwritten/missing information."}, {"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1607616004, "post_id": 38913918, "comment_id": 115334197, "body": "@brian d foy: For instance, page 605 (third release, 2013-12-13) claims that the &#39;w&#39; command will display a &quot;window&quot; of source code. That is not the case for later versions of Perl. &#39;w&#39; is now for &quot;watch&quot; (conditional breakpoints). The <i>new</i> command for listing a few lines around the given source line is &#39;v&#39;."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470997214, "post_id": 38914453, "comment_id": 65188227, "body": "I make that nine major public versions, which is plenty. I think it&#39;s disingenuous to count minor and development versions."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470997653, "post_id": 38914453, "comment_id": 65188515, "body": "I didn&#39;t count development versions. Or minor versions that were released after the next major version. But I think it&#39;s fair to count minor versions (as that&#39;s when you should at least be thinking about upgrading). On a more careful recount, I make it 34 versions. But, yes, &quot;only&quot; nine major versions."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470997962, "post_id": 38914453, "comment_id": 65188699, "body": "Nine is plenty :) But I wouldn&#39;t want my team upgrading on every increment unless it was for a bug fix. Mostly stuff keeps working, and upgrades generally offer just new shinies (although I try to keep a v5.10 base)."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1470993864, "creation_date": 1470993864, "answer_id": 38914453, "question_id": 38913918, "link": "https://stackoverflow.com/questions/38913918/upgrade-perl-from-5-6-to-5-24/38914453#38914453", "title": "Upgrade Perl from 5.6 to 5.24", "body": "<p>If you look at the <a href=\"https://metacpan.org/release/RJBS/perl-5.24.0\" rel=\"nofollow\">release page on for Perl 5.24</a> on CPAN, you'll see that the documentation contains a number of files called \"perl5xxxdelta\". Those are the release notes for each new version of Perl. They contain details of everything has changed since the previous version of Perl.</p>\n\n<p>5.6 to 5.24 is a huge leap (about 30 versions!) I can see a <strong>lot</strong> of reading in your future!</p>\n\n<p>Perhaps in the future you'll realise the importance of keeping your software versions a little more up to date :-)</p>\n"}, {"tags": [], "owner": {"reputation": 1532, "user_id": 791908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tmGC4.jpg?s=128&g=1", "display_name": "Drav Sloan", "link": "https://stackoverflow.com/users/791908/drav-sloan"}, "is_accepted": true, "score": 14, "last_activity_date": 1607612672, "last_edit_date": 1607612672, "creation_date": 1470994999, "answer_id": 38914835, "question_id": 38913918, "link": "https://stackoverflow.com/questions/38913918/upgrade-perl-from-5-6-to-5-24/38914835#38914835", "title": "Upgrade Perl from 5.6 to 5.24", "body": "<p>If you go to CPAN for the chosen version of you are moving to (in your case 5.24.0 <a href=\"http://search.cpan.org/%7Erjbs/perl-5.24.0/\" rel=\"nofollow noreferrer\">Perl 5.24.0</a>), and look down in the <em>Documentation</em> section there are bunch of <code>perlXXXdelta</code> links. These files describe the changes between revisions and more importantly they detail the incompatible changes. You can also find these <a href=\"http://perldoc.perl.org/index-history.html\" rel=\"nofollow noreferrer\">online</a>.</p>\n<p>Version 5.24.0 details its changes in <code>pod/perldelta.pod</code>.</p>\n<p>There are number of notable differences:</p>\n<ul>\n<li>5.8 changed binary format, so you have to recompile .XS modules.</li>\n<li>5.8 moved to PerlIO for core I/O operations.</li>\n<li>5.8 changed how wide-character strings work. This changed the role of <code>use utf8</code>.</li>\n<li>5.10 made <code>unpack()</code> and <code>mkdir()</code> default to using <code>$_</code></li>\n<li>5.10 retired <code>$*</code> and <code>$#</code></li>\n<li>5.10 made it that <code>$AUTOLOAD</code>, <code>printf</code> and <code>sprintf</code> are now taintable</li>\n<li>5.12 reordered <code>@INC</code> to allow core modules to be upgraded</li>\n<li>5.12 blesses file handles into <code>IO::File</code></li>\n<li>5.12 suidperl was dropped</li>\n<li>5.12 deprecated <code>UNIVERSAL-&gt;import()</code></li>\n<li>5.14 was another binary incompability change</li>\n<li>5.14 change the referencing of glob handles.</li>\n<li>5.14 <code>local($_)</code> strips all magic from <code>$_</code></li>\n<li>5.14 <code>:=</code> became a syntax error</li>\n<li>5.18 hash ordering is even <a href=\"http://search.cpan.org/%7Erjbs/perl-5.24.0/pod/perl5180delta.pod#Hash_overhaul\" rel=\"nofollow noreferrer\">less predictable</a> than before</li>\n<li>5.18 <code>\\s</code> now matches <code>\\cK</code> (the vertical tab)</li>\n<li>5.18 <code>readline()</code> with <code>$/ = \\N</code> now reads N characters, not N bytes</li>\n<li>5.20 <code>do SUBROUTINE(LIST)</code> became a syntax error</li>\n<li>5.20 for certain data structures, <code>Data::Dumper</code> output has changed</li>\n<li>5.24 Lexical <code>$_</code> was removed</li>\n<li>5.24 <code>chdir('')</code> no longer changes directory to home</li>\n</ul>\n<p>I would suggest you go over these files in detail (it will keep you busy given your huge version bump!). This is especially the case if you have a good knowledge of your code base and the Perl features it utilizes. This should at least give you a sense of the potential pitfalls you may face in migrating to later versions.</p>\n<p>I would also add that Borodin's answer is worth a read, as it details a very good approach to dealing with the upgrade. I agree wholeheartedly with his recommendations, especially unit testing - it is a sure way to increase confidence in the success of the migration. If you have no unit tests, then this would be an excellent time to introduce them, as well as being able to justify the time spent creating them for your organisation.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 10, "last_activity_date": 1607613198, "last_edit_date": 1607613198, "creation_date": 1470996358, "answer_id": 38915310, "question_id": 38913918, "link": "https://stackoverflow.com/questions/38913918/upgrade-perl-from-5-6-to-5-24/38915310#38915310", "title": "Upgrade Perl from 5.6 to 5.24", "body": "<p>I think educating yourselves on the differences will be useful, but there is no way that it is feasible to work through all the delta files and check all of your sources for discrepancies.</p>\n<p>Hopefully you have unit tests for your software suite. If not, then understand now why they are useful and write comprehensive tests for everything that you have.</p>\n<p>Make a fork in your version control system, and add <code>use strict</code> and <code>use warnings 'all'</code> to the top of every source file if they aren't already there. Run your test suite until everything still compiles and works perfectly under Perl v5.5.</p>\n<p>Install Perl v5.24 on a test system and adjust your sources until they pass every test.</p>\n<p>The Perl 5 crew have been excellent about keeping backward compatibility, but there will almost certainly be some casualties.</p>\n<p>When you're confident, make the new version live. There will be more failures, and for every one you must write a new test into your test suites.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1607613243, "last_edit_date": 1607613243, "creation_date": 1470999805, "answer_id": 38916432, "question_id": 38913918, "link": "https://stackoverflow.com/questions/38913918/upgrade-perl-from-5-6-to-5-24/38916432#38916432", "title": "Upgrade Perl from 5.6 to 5.24", "body": "<blockquote>\n<p>Is it advisable to move from this much lower version to advanced level?</p>\n</blockquote>\n<p>Absolutely yes. The Perl 5 team have worked very hard to remove bugs and add features to every release of Perl while keeping 100% backward-compatibility through every release of Perl 5.</p>\n<p>If you encounter any problems then it will be because of dubious code or because a warning is now issued because of newly-deprecated syntax.</p>\n"}], "owner": {"reputation": 93, "user_id": 2659500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6bbae5aeeda9f2d73f66d2c9c445c5?s=128&d=identicon&r=PG", "display_name": "user2659500", "link": "https://stackoverflow.com/users/2659500/user2659500"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2624, "favorite_count": 1, "accepted_answer_id": 38914835, "answer_count": 4, "score": 9, "last_activity_date": 1607613243, "creation_date": 1470992192, "last_edit_date": 1607612362, "question_id": 38913918, "link": "https://stackoverflow.com/questions/38913918/upgrade-perl-from-5-6-to-5-24", "title": "Upgrade Perl from 5.6 to 5.24", "body": "<p>We are currently using 5.6 version of Perl in our organisation, along with MySQL and Apache, but now the client wants to upgrade Perl to v5.24.</p>\n<p>What are all the major changes and key points that must be kept in mind before starting an upgrade?</p>\n<p>I surfed a lot, but I didn't find anything interesting for moving from 5.6 to 5.24.</p>\n<p>Is it advisable to move from this much lower version to advanced level?</p>\n"}, {"tags": ["perl", "pointers", "reference"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470995222, "post_id": 38913470, "comment_id": 65186964, "body": "<i>&quot;Object Oriented Perl&quot;</i> is pretty good, but it hasn&#39;t been updated since 1999. Perl first became <i>object-oriented</i> with Perl 5.0 only in 1994; Damian has always been at the cutting edge of Perl, and has been working on Perl 6 for several years. I think the best writing on object-oriented Perl is <a href=\"http://modernperlbooks.com/\" rel=\"nofollow noreferrer\">Modern Perl</a>. So far the latest edition has always been available on line; the fourth is <a href=\"http://modernperlbooks.com/books/modern_perl_2016/index.html\" rel=\"nofollow noreferrer\">here in HTML</a>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470995557, "post_id": 38913470, "comment_id": 65187232, "body": "@Borodin I agree, but I mentioned it here specifically for the chapter on references. That part is still very current."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470996617, "post_id": 38913470, "comment_id": 65187900, "body": "Yes, of course. I recommend pretty much anything that Damian Conway has written. And Perl 6 is marvellous: by far the best language I have ever seen."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 7, "last_activity_date": 1470990839, "creation_date": 1470990839, "answer_id": 38913470, "question_id": 38913200, "link": "https://stackoverflow.com/questions/38913200/references-to-equal-strings/38913470#38913470", "title": "References to equal strings", "body": "<p>If you take several reference of one variable, all of them will point to the same memory location.</p>\n\n<pre><code>my $foo = 'foo';\nmy $ref1 = \\$foo;\nmy $ref2 = \\$foo;\n\nsay $ref1;\nsay $ref2;\n</code></pre>\n\n<p>The value behind <code>$ref1</code> and <code>$ref2</code> is the same, because they both point to the same variable.</p>\n\n<pre><code>SCALAR(0x171f7b0)\nSCALAR(0x171f7b0)\n</code></pre>\n\n<p>If you assign the string (not the same variable containing a string) to two new variables and then take references for those, they will be different.</p>\n\n<pre><code>my $foo = 'foo';\nmy $bar = 'bar';\nmy $ref1 = \\$foo;\nmy $ref2 = \\$bar;\n\nsay $ref1;\nsay $ref2;\n</code></pre>\n\n<p>Here, <code>$ref1</code> and <code>$ref2</code> are not the same, because they are references to two different variables.</p>\n\n<pre><code>SCALAR(0x20947b0)\nSCALAR(0x2094678)\n</code></pre>\n\n<p>The fact that both variables hold an equal value doesn't matter.</p>\n\n<pre><code>my $ref1 = \\'foo';\nmy $ref2 = \\'foo';\n\nsay $ref1;\nsay $ref2;\n</code></pre>\n\n<p>The same goes for if you directly take references to values without putting them into another variable first.</p>\n\n<pre><code>SCALAR(0x1322528)\nSCALAR(0x12ee6f0)\n</code></pre>\n\n<p>Perl handles the memory internally, but it's not like it has a table with every possible string, and whenever you create a reference, it just uses that memory address.</p>\n\n<p>In Java, strings are objects. Java knows about the objects that are available to it. When you define a string, it makes an object. That is not the case in Perl. Strings and numbers are just values, and they are put into memory when you use them.</p>\n\n<p>What Perl does is keep track of its references. It will free up memory by removing unused values, but only if there are no more references to those values living somewhere else in the running program. That's called the <em>ref count</em>.</p>\n\n<p>You can read about references in <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"noreferrer\">perlref</a>. There also is a pretty good explanation of how all of this works in the book <em>Object Oriented Perl</em> by Damian Conway <a href=\"https://www.manning.com/books/object-oriented-perl\" rel=\"noreferrer\">at Mannings</a>.</p>\n"}], "owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 38913470, "answer_count": 1, "score": 4, "last_activity_date": 1470995603, "creation_date": 1470989946, "last_edit_date": 1495539864, "question_id": 38913200, "link": "https://stackoverflow.com/questions/38913200/references-to-equal-strings", "title": "References to equal strings", "body": "<p>In Perl, if I create two references to an array element, the two pointers are equal.</p>\n\n<pre><code>my $ref1 = \\$array[0];\nmy $ref2 = \\$array[0];\nprint \"$ref1\\n$ref2\";\n</code></pre>\n\n<p>The same applies to two references to a variable which stores a string, those pointers are equal.</p>\n\n<p>If I create two variables in which I store equal strings, the references are not equal.</p>\n\n<p>Why aren't they equal? The same data is stored in different places?</p>\n\n<p>Does Perl refer to the variable instead of the memory location?</p>\n\n<p>In Java, as you can see <a href=\"https://stackoverflow.com/a/15827587/6594367\">here</a>, four equal strings refer to the same memory location.</p>\n\n<p>Can somebody please explain that?</p>\n"}, {"tags": ["gzip", "gunzip", "perl", "storable"], "answers": [{"comments": [{"owner": {"reputation": 14006, "user_id": 2148718, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b458d4a48bebf560c9a90d5ab2db1902?s=128&d=identicon&r=PG", "display_name": "Migwell", "link": "https://stackoverflow.com/users/2148718/migwell"}, "edited": false, "score": 0, "creation_date": 1471013740, "post_id": 38912901, "comment_id": 65198590, "body": "This was right! Unfortunately, I didn&#39;t create the Storable files so I&#39;m not able to choose to use freeze instead of store. However I found it&#39;s still possible to retrieve a <code>store</code> Storable in memory by converting $file into a file handle: <code>open my $fake_fh, &quot;&lt;&quot;, \\$file;</code> and then using <code>fd_retrieve($fake_fh);</code>"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 3, "last_activity_date": 1470988936, "creation_date": 1470988936, "answer_id": 38912901, "question_id": 38912501, "link": "https://stackoverflow.com/questions/38912501/perl-gunzip-to-buffer-and-gunzip-to-file-have-different-byte-orders/38912901#38912901", "title": "perl gunzip to buffer and gunzip to file have different byte orders", "body": "<p>That's not related to unzip but to using <code>retrieve</code> vs. <code>thaw</code>. They both expect different input, i.e. <code>thaw</code> expect the output from <code>freeze</code> while <code>retrieve</code> expects the output from <code>store</code>.\nThis can be verified with a simple test:</p>\n\n<pre><code>$ perl -MStorable -e 'my $x = {}; store($x,q[file.store])'\n$ perl -MStorable=freeze -e 'my $x = {}; print freeze($x)' &gt; file.freeze\n</code></pre>\n\n<p>On my machine this gives 24 bytes for the file created by <code>store</code> and 20 bytes for <code>freeze</code>. If I remove the leading 4 bytes from <code>file.store</code> the file is equivalent to <code>file.freeze</code>, i.e. store just added a 4 byte header. Thus you might try to uncompress the file in memory, remove the leading 4 bytes and run <code>thaw</code> on the rest.</p>\n"}], "owner": {"reputation": 14006, "user_id": 2148718, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b458d4a48bebf560c9a90d5ab2db1902?s=128&d=identicon&r=PG", "display_name": "Migwell", "link": "https://stackoverflow.com/users/2148718/migwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 38912901, "answer_count": 1, "score": 0, "last_activity_date": 1470992277, "creation_date": 1470987586, "last_edit_date": 1470992277, "question_id": 38912501, "link": "https://stackoverflow.com/questions/38912501/perl-gunzip-to-buffer-and-gunzip-to-file-have-different-byte-orders", "title": "perl gunzip to buffer and gunzip to file have different byte orders", "body": "<p></p>\n\n<p>I'm using Perl v5.22.1, <a href=\"https://metacpan.org/pod/Storable\" rel=\"nofollow\"><code>Storable</code></a> 2.53_01, and <a href=\"https://metacpan.org/pod/IO::Uncompress::Gunzip\" rel=\"nofollow\"><code>IO::Uncompress::Gunzip</code></a> 2.068.</p>\n\n<p>I want to use Perl to gunzip a <code>Storable</code> file in memory, without using an intermediate file.</p>\n\n<p>I have a variable <code>$zip_file = '/some/storable.gz'</code> that points to this zipped file.</p>\n\n<p>If I gunzip directly to a file, this works fine, and <code>%root</code> is correctly set to the <code>Storable</code> hash.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>gunzip($zip_file, '/home/myusername/Programming/unzipped');\nmy %root = %{retrieve('/home/myusername/Programming/unzipped')};\n</code></pre>\n\n<p>However if I gunzip into memory like this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>my $file;\ngunzip($zip_file, \\$file);\nmy %root = %{thaw($file)};\n</code></pre>\n\n<p>I get the error</p>\n\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Storable binary image v56.115 more recent than I am (v2.10)`\n</code></pre>\n</blockquote>\n\n<p>so the Storable's magic number has been butchered: it should never be that high.</p>\n\n<p>However, the strings in the unzipped buffer are still correct; the buffer starts with <code>pst</code> which is the correct <code>Storable</code> header. It only seems to be multi-byte variables like integers which are being broken.</p>\n\n<p>Does this have something to do with byte ordering, such that writing to a file works one way while writing to a file buffer works in another? How can I gunzip to a buffer without it ruining my integers?</p>\n"}, {"tags": ["python", "bash", "perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 2, "creation_date": 1470982385, "post_id": 38910958, "comment_id": 65179791, "body": "Do you have tried anything to workout on this?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1470983159, "post_id": 38910958, "comment_id": 65180088, "body": "Sounds like homework to me. Please show us what have you tried so far."}, {"owner": {"reputation": 73, "user_id": 6131177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/599c6be6997a6b845dbe6c7ef7a155f0?s=128&d=identicon&r=PG&f=1", "display_name": "PrMeAsAr", "link": "https://stackoverflow.com/users/6131177/prmeasar"}, "edited": false, "score": 0, "creation_date": 1470983285, "post_id": 38910958, "comment_id": 65180145, "body": "bash-3.2$ cat ./input/* | sort | uniq -c | sort -nr | awk &#39;{print $2 &quot; &quot; $1}&#39; HOSTNAME=host1 2 HOSTNAME=host3 1 HOSTNAME=host2 1  bash-3.2$ cat ./success/* | sort | uniq -c | sort -nr | awk &#39;{print $2 &quot; &quot; $1}&#39; HOSTNAME=host1 2 HOSTNAME=host2 1"}, {"owner": {"reputation": 73, "user_id": 6131177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/599c6be6997a6b845dbe6c7ef7a155f0?s=128&d=identicon&r=PG&f=1", "display_name": "PrMeAsAr", "link": "https://stackoverflow.com/users/6131177/prmeasar"}, "edited": false, "score": 0, "creation_date": 1470983824, "post_id": 38910958, "comment_id": 65180353, "body": "i got the counts for individual dirs.. but need the total across all dir like the output mentioned above. Also read perl and python has better ways to do it. So will appreciate any pointers"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1470991246, "post_id": 38910958, "comment_id": 65184321, "body": "You&#39;re misunderstanding how Stack Overflow works. We&#39;re here to help people get code working, not to do your job for you. Write some code and spend a day or two debugging it, and if you think you&#39;re completely stuck then post it here and ask for help. It doesn&#39;t go down too well here if you just say what you need and expect a solution to come out of the internet. What&#39;s more, if you never try to solve your own problems then you aren&#39;t gaining any skills, and you won&#39;t get very far in software engineering if you&#39;re forever asking for favours to get your code written. Try something, and learn."}, {"owner": {"reputation": 73, "user_id": 6131177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/599c6be6997a6b845dbe6c7ef7a155f0?s=128&d=identicon&r=PG&f=1", "display_name": "PrMeAsAr", "link": "https://stackoverflow.com/users/6131177/prmeasar"}, "edited": false, "score": 0, "creation_date": 1470996846, "post_id": 38910958, "comment_id": 65188022, "body": "I am not expecting a ready made code/solution. As im not an expert in bash/perl/python, i just wanted to know if there any any lib or built in functions that solves the requirement. I got file level result using cat ./input/* | sort | uniq -c | sort -nr | awk &#39;{print $2 &quot; &quot; $1}&#39;  which returns the total count for each hostname in the input dir. I wanted to know if there is a way to get across all dirs. thanks"}], "answers": [{"tags": [], "owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "is_accepted": false, "score": 1, "last_activity_date": 1470985742, "creation_date": 1470985742, "answer_id": 38911939, "question_id": 38910958, "link": "https://stackoverflow.com/questions/38910958/perl-python-bash-script-to-get-values-from-files-and-group-them/38911939#38911939", "title": "perl /python/bash script to get values from files and group them", "body": "<p>I recommend that you either write a proper bash script or, better yet, step up to a full-on scripting language.  </p>\n\n<p>Here's an algorithm that will work:</p>\n\n<ol>\n<li>for each directory in your list:\n\n<ol>\n<li>get a list of <code>*.txt</code> files</li>\n<li>open each file</li>\n<li>read each line of the file looking for a match\n\n<ol>\n<li>On matched files, increment a two-level hash/dict/object/map/associative array (or whatever your language of choice calls them) keyed by host and directory.  Record the hostname found in a list.</li>\n</ol></li>\n</ol></li>\n<li>remove duplicates from the list of hostnames</li>\n<li>sort the list of hostnames</li>\n<li>Use the list of hostnames, the list of directories and the hash of host counts to print a table.</li>\n</ol>\n\n<p>Here's <a href=\"http://perldoc.perl.org/perlfunc.html#Perl-Functions-by-Category\" rel=\"nofollow\">a link to Perl's built in functions organized by category</a>.  The stuff on working with regular expressions, files and directories is particularly relevant.</p>\n"}], "owner": {"reputation": 73, "user_id": 6131177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/599c6be6997a6b845dbe6c7ef7a155f0?s=128&d=identicon&r=PG&f=1", "display_name": "PrMeAsAr", "link": "https://stackoverflow.com/users/6131177/prmeasar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1487600901, "creation_date": 1470981698, "last_edit_date": 1487600901, "question_id": 38910958, "link": "https://stackoverflow.com/questions/38910958/perl-python-bash-script-to-get-values-from-files-and-group-them", "title": "perl /python/bash script to get values from files and group them", "body": "<p>I have a requirement to process values from different files. I have 5 dirs input,success,manual,retry,current. Each dir has multiple <code>*.txt</code> files. Each <code>.txt</code> file has <code>hostname=&lt;hostname&gt;</code>. I would want to know for each hostname how many files are in input,success,retry,current and manual dir.</p>\n\n<p>For eg.</p>\n\n<pre><code>input\n    -&gt; A.txt  (HOSTNAME=host1)\n    -&gt; B.txt  (HOSTNAME=host2)\n    -&gt; C.txt  (HOSTNAME=host3)\n    -&gt; D.txt  (HOSTNAME=host1)\n\nsuccess\n    -&gt; P.txt (HOSTNAME=host1)\n    -&gt; Q.txt (HOSTNAME=host2)\n    -&gt; R.txt (HOSTNAME=host1)\n\nOUTPUT\nHost   | Input | Success | Current | Retry | Manual\nhost1  | 2     | 2       |  0      | 0     | 0\nhost2  | 1     | 1       |  0      | 0     | 0\nhost3  | 1     |0        |  0      | 0     | 0\n</code></pre>\n\n<p>Would like to know if there are any libraries in perl, python or bash to do this.</p>\n"}, {"tags": ["list", "perl", "printing"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1470981622, "post_id": 38910892, "comment_id": 65179493, "body": "this does not happen with the code you show.  please show the actual code you are using that has a problem."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1470981782, "post_id": 38910892, "comment_id": 65179552, "body": "@ysth See edit to question"}, {"owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 3, "creation_date": 1470984668, "post_id": 38910892, "comment_id": 65180742, "body": "Welcome to the unique wonderful world of perl. The right of <code>.</code> expects a scalar value, and so the rhs - a list - evaluates to the last element, &#39;c&#39;."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "edited": false, "score": 0, "creation_date": 1470986724, "post_id": 38910892, "comment_id": 65181849, "body": "You can also use <a href=\"http://search.cpan.org/dist/perlsecret/lib/perlsecret.pod\" rel=\"nofollow noreferrer\"><code>Baby cart operator</code></a> like <code>print &quot;Val:  @{[test()]}&quot;</code> to interpolate list inside a string;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 2, "creation_date": 1470988932, "post_id": 38910892, "comment_id": 65182981, "body": "@JoopEggen: <i>&quot;Welcome to the unique wonderful world of perl&quot;</i> No tribalism please. The comma operator in C and C++ behaves the same way, and other languages probably follow suit. What would you expect <code>print &quot;Val: &quot; . (&#39;a&#39;,&#39;b&#39;,&#39;c&#39;)</code> to do? It doesn&#39;t seem at all obvious to me what is wanted. All three expressions are evaluated in order, in case they have side-effects, and the value of the last evaluated one is used. I can&#39;t think of a better implementation, can you?"}, {"owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470992539, "post_id": 38910892, "comment_id": 65185110, "body": "@Borodin let us not forget <code>@a = (&#39;a&#39;,&#39;b&#39;,&#39;c&#39;);</code>. But you are right. my comment was born from the reminiscence from very early perl days, searching for what to write, what went wrong. <i>A more verbose (<code>-verbose</code>?) compiler could have warned</i> <code>&quot;&#39;a&#39; : no side-effect. expression discarded.&quot;</code>. That said I like it, that the comma is an operator too."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 0, "creation_date": 1470993735, "post_id": 38910892, "comment_id": 65185907, "body": "@JoopEggen: Perl takes the position that programmers generally know what they are doing, so checks on their behaviour aren&#39;t necessary except for the more obvious bugs. I don&#39;t believe that the obsession with preventing a programmer from writing nonsense that prevails in languages like C and Java is any help at all. Perl warns about mistakes like using an undefined variable, defining a hash with a missing value, or failing to escape a character within a string, and I much prefer being able to get a running program from my code to being slapped for every mistake I make."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 1, "creation_date": 1470994049, "post_id": 38910892, "comment_id": 65186139, "body": "@JoopEggen: I can&#39;t find it now, but I have read that Java is <i>&quot;hard to get right, and hard to get wrong&quot;</i> or something similar. The same applies to C++ and, in a different way, to C. Meanwhile there is a quote from Larry Wall <i>&quot;Easy things should be easy, and hard things should be possible&quot;</i>. I think that about sums it up."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 3, "creation_date": 1471023495, "post_id": 38910892, "comment_id": 65203973, "body": "@JoopEggen re &quot;more verbose&quot;, if you enable warnings (which you should always do), it will say <code>Useless use of a constant (&quot;a&quot;) in void context</code>, <code>Useless use of a constant (&quot;b&quot;) in void context</code>"}], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 6647274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0d80427901b14ceb11676dd9d0e7bee?s=128&d=identicon&r=PG", "display_name": "roderick young", "link": "https://stackoverflow.com/users/6647274/roderick-young"}, "is_accepted": false, "score": 5, "last_activity_date": 1470981719, "creation_date": 1470981719, "answer_id": 38910964, "question_id": 38910892, "link": "https://stackoverflow.com/questions/38910892/why-does-printing-a-list-output-last-item-in-list/38910964#38910964", "title": "Why does printing a list output last item in list?", "body": "<p><a href=\"http://blogs.perl.org/users/steven_haryanto/2012/09/the-comma-operator.html\">http://blogs.perl.org/users/steven_haryanto/2012/09/the-comma-operator.html</a></p>\n\n<p>explains the comma operator.  To quote them,</p>\n\n<p>\"...It is just the binary comma operator in action. In the scalar context, the comma operator (quoting the perlop manpage verbatim) \"evaluates its left argument, throws that value away, then evaluates its right argument and returns that value. This is just like C's comma operator.\" So the end result is the rightmost argument...\"</p>\n"}, {"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 3, "last_activity_date": 1470986801, "creation_date": 1470986801, "answer_id": 38912260, "question_id": 38910892, "link": "https://stackoverflow.com/questions/38910892/why-does-printing-a-list-output-last-item-in-list/38912260#38912260", "title": "Why does printing a list output last item in list?", "body": "<p>The concatenation operator (<code>.</code>) takes two scalars as operands, so your list gets evaluated in scalar context.  As explained in roderick young's answer, a list returns its final value when evaluated in scalar context, due to the way the comma operator works.</p>\n\n<p>If you want to print all of the items in the list, you can either use <code>,</code> instead of <code>.</code> in the <code>print</code> statement or (probably better) use <code>join</code> to convert the list to a scalar before concatenating:</p>\n\n<pre><code>$ perl -E 'say \"Val: \", (\"a\", \"b\", \"c\")'\nVal: abc\n~$ perl -E 'say \"Val: \" . join(\"-\", (\"a\", \"b\", \"c\"))'\nVal: a-b-c\n</code></pre>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1470986801, "creation_date": 1470981380, "last_edit_date": 1470981733, "question_id": 38910892, "link": "https://stackoverflow.com/questions/38910892/why-does-printing-a-list-output-last-item-in-list", "title": "Why does printing a list output last item in list?", "body": "<pre><code>print \"Val: \" . ('a','b','c');\n</code></pre>\n\n<p>The output is:</p>\n\n<blockquote>\n  <p>c</p>\n</blockquote>\n\n<p>Why?</p>\n\n<p>It doesn't matter how you do it.  It could be:</p>\n\n<pre><code>sub test {\n    return ('a','b','c');\n}\nprint \"Val: \" . test();\n</code></pre>\n"}, {"tags": ["perl", "fileslurp"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1470977779, "creation_date": 1470977779, "answer_id": 38910219, "question_id": 38909383, "link": "https://stackoverflow.com/questions/38909383/perl6slurp-of-data/38910219#38910219", "title": "Perl6::Slurp of DATA", "body": "<p>A reference to a typeglob is a suitable argument to <code>Perl6::Slurp::slurp</code>, as the <a href=\"https://metacpan.org/pod/Perl6::Slurp\" rel=\"nofollow\">perldoc</a> demonstrates.</p>\n\n<pre><code>use Perl6::Slurp;\n\n$hw = slurp \\*DATA;\nprint $hw;\n\n__DATA__\nhello\nworld\n</code></pre>\n"}], "owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 38910219, "answer_count": 1, "score": 1, "last_activity_date": 1470977779, "creation_date": 1470972153, "question_id": 38909383, "link": "https://stackoverflow.com/questions/38909383/perl6slurp-of-data", "title": "Perl6::Slurp of DATA", "body": "<p>could someone please post a reference example of Perl6::Slurp with the DATA filehandle?</p>\n\n<pre><code>use strict;\nuse Perl6::Slurp;\n\nmy $contents = slurp(*DATA);\n\n__END__\nline 1\nline 2\n</code></pre>\n\n<p>fails.</p>\n"}, {"tags": ["raku", "perl"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5854207"}, "is_accepted": false, "score": 7, "last_activity_date": 1470990777, "last_edit_date": 1470990777, "creation_date": 1470979161, "answer_id": 38910439, "question_id": 38909272, "link": "https://stackoverflow.com/questions/38909272/perl5-code-with-ignored-perl6-data-types/38910439#38910439", "title": "perl5 code with (ignored) perl6 data types", "body": "<p>You would have to write a parser that can parse Perl 5. Unless your code is fairly simple, that's pretty high on the hardness scale.</p>\n\n<p>Also, I found that I structure Perl 6 programs very much different from Perl 5 code. You can technically stay very close to 1:1 one a line by line basis when porting Perl 5 to Perl 6 but the result wont be idiomatic, slow and hard to maintain when you fully switch to Perl 6. Just adding empty macros will not help you much because every mistake you make is just ignored. That may actually increase the burden when you want to port the program for good.</p>\n\n<p>The idea has appeal but you may just increase your workload for no real gain.</p>\n"}, {"tags": [], "owner": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "is_accepted": false, "score": 5, "last_activity_date": 1470991511, "creation_date": 1470991511, "answer_id": 38913691, "question_id": 38909272, "link": "https://stackoverflow.com/questions/38909272/perl5-code-with-ignored-perl6-data-types/38913691#38913691", "title": "perl5 code with (ignored) perl6 data types", "body": "<p>There are several Perl 5 modules that go into that direction. For object orientation you can use <code>Moose</code> and <code>MooseX::Method::Signatures</code>. </p>\n\n<p>For declaring subs and methods there is <code>Method::Signatures</code>, <code>Sub::Signatures</code> and <code>Kavorka</code>.</p>\n\n<p>Also look in the <code>Perl6</code>namespace on CPAN.</p>\n"}], "owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1470991511, "creation_date": 1470971547, "question_id": 38909272, "link": "https://stackoverflow.com/questions/38909272/perl5-code-with-ignored-perl6-data-types", "title": "perl5 code with (ignored) perl6 data types", "body": "<p>I want to start prepping some perl5 code for perl6.  in particular, I like the idea of declaring what types my variables are supposed to be. perl6 defines Bool, Int, Array, Hash, Num, Complex, Pair, and Str.  So I would in essence like to do the equivalent of a C preprocessor <code>#define Int /**/</code> for now.  It would be even better if it would check the data type, but I can live without it.</p>\n\n<p>Easy?  Hard?  Impossible?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": false, "score": 0, "last_activity_date": 1470971476, "creation_date": 1470971476, "answer_id": 38909254, "question_id": 38908924, "link": "https://stackoverflow.com/questions/38908924/how-to-get-the-list-of-files-that-are-not-in-another-directory-in-perl/38909254#38909254", "title": "How to get the list of files that are not in another directory in perl", "body": "<p>This is extremely brute force example, but if you have the contents of the staging directory in an array, you can check against that array when you read the contents of the error directory.</p>\n\n<p>I've made some GIGANTIC assumptions about the relationship of the filenames -- basically that the stage directory contains the file truncated, specifically the way you listed in your example.  If that's universally the case, then a substring would work even faster, but this example is a little more scalable, in the event your example was simplified to illustrate the issue.</p>\n\n<pre><code>use strict;\n\nmy @error = qw(\n  ABC_201608100000.fin.bc_lerr.xml\n  ABD_201608100000.fin.bc_lerr.xml\n  ABE_201608100000.fin.bc_lerr.xml\n  ABF_201608100000.fin.bc_lerr.xml\n);\n\nmy @staging = qw(\n  ABC_201608100000.fin\n  ABD_201608100000.fin\n);\n\nforeach my $error (@error) {\n  my $stage = $error;\n  $stage =~ s/\\.bc_lerr\\.xml//;\n\n  unless (grep { /$stage/ } @staging) {\n     ## process the file here\n  }\n}\n</code></pre>\n\n<p>The <code>grep</code> in this example is O(n), so if you have a really large list of either array you would want to load this into a hash first, which would be O(1).</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1471028745, "post_id": 38909537, "comment_id": 65206599, "body": "@user2570205 This answer is a first take, since I don&#39;t know any of the relevant details of your whole problem.  If you provide feedback or additional requirements or explanations, I can adjust it."}, {"owner": {"reputation": 107, "user_id": 2570205, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3cd43bc2f446af96853b38898be3fa62?s=128&d=identicon&r=PG", "display_name": "user2570205", "link": "https://stackoverflow.com/users/2570205/user2570205"}, "edited": false, "score": 0, "creation_date": 1471223501, "post_id": 38909537, "comment_id": 65251310, "body": "Is there a way we filter in the grep statement ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 107, "user_id": 2570205, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3cd43bc2f446af96853b38898be3fa62?s=128&d=identicon&r=PG", "display_name": "user2570205", "link": "https://stackoverflow.com/users/2570205/user2570205"}, "edited": false, "score": 0, "creation_date": 1471237858, "post_id": 38909537, "comment_id": 65253939, "body": "@user2570205  Yes -- added to the end of the answer.  If you need it one statement let me know.  If I should explain how it works, please let me know."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1472200262, "last_edit_date": 1472200262, "creation_date": 1470973263, "answer_id": 38909537, "question_id": 38908924, "link": "https://stackoverflow.com/questions/38908924/how-to-get-the-list-of-files-that-are-not-in-another-directory-in-perl/38909537#38909537", "title": "How to get the list of files that are not in another directory in perl", "body": "<p>The questions of timing aside, I assume that a snapshot of files may be processed without worrying about new files showing up. I take it that <code>@allfiles</code> has all file names from the <code>ERROR</code> directory. </p>\n\n<p>Remove a file name from the front of the array at each iteration. Check for the corresponding file in <code>STAGING</code> and if it's not there process away, otherwise push it on the back of the array and skip.</p>\n\n<pre><code>while (@allfiles) \n{\n     my $errfile = shift @allfiles;\n\n     my ($file) = $errfile =~ /(.*)\\.bc_lerr\\.xml$/;\n\n     if (-e \"$STAGING/$file\")\n     {\n          push @allfiles, $errfile;\n          sleep 1;                    # more time for existing files to clear\n          next;\n     }\n     # process the error file\n}\n</code></pre>\n\n<p>If the processing is faster than what it takes for existing files in <code>STAGING</code> to go away, we would exhaust all processable files and then continuously run file tests. There is no reason for such abuse of resources, thus the <code>sleep</code>, to give <code>STAGING</code> files some more time to go away. Note that if just one file in <code>STAGING</code> fails to go away this loop will keep checking it and you want to add some guard against that.</p>\n\n<p>Another way would be to process the error files with a <code>foreach</code>, and add those that should be skipped to a separate array. That can then be attempted separately, perhaps with a suitable wait.</p>\n\n<p>How suitable this is depends on details of the whole process. For how long do <code>STAGING</code> files hang around, and is this typical or exceptional? How often do new files show up? How many files are there typically?</p>\n\n<hr>\n\n<p>If you only wish to filter out the error files that have their counterparts in <code>STAGING</code></p>\n\n<pre><code>my @errfiles_nostaging = grep { \n    my ($file) = $_ =~ /(.*)\\.bc_lerr\\.xml$/;\n    not -e \"$STAGING/$file\";\n} @allfiles;\n</code></pre>\n\n<p>The output array contains the files from <code>@allfiles</code> which have no corresponding file in <code>$STAGING</code> and can be readily processed. This would be suitable if the error files are processed very fast in comparison to how long the <code>$STAGING</code> files stay around.</p>\n\n<p>The filter can be written in one statement as well.  For example</p>\n\n<pre><code>grep { not -e \"$STAGING/\" . s/\\.bc_lerr\\.xml$//r }              # / or\ngrep { not -e \"$STAGING/\" . (split /\\.bc_lerr\\.xml$/, $_)[0] }\n</code></pre>\n\n<p>The first example uses the <em>non-destructive</em> <code>/r</code> modifier, available <a href=\"http://search.cpan.org/~flora/perl-5.14.2/pod/perl5140delta.pod#Non-destructive_substitution\" rel=\"nofollow\">since 5.14</a>. It changes the substitution to <em>return</em> the changed string and <em>not change</em> the original one. See it <a href=\"http://perldoc.perl.org/perlrequick.html#Search-and-replace\" rel=\"nofollow\"><code>in perlrequick</code></a> and <a href=\"http://perldoc.perl.org/perlop.html#s%2f_PATTERN_%2f_REPLACEMENT_%2f_msixpodualngcer\" rel=\"nofollow\"><code>in perlop</code></a>.</p>\n"}], "owner": {"reputation": 107, "user_id": 2570205, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3cd43bc2f446af96853b38898be3fa62?s=128&d=identicon&r=PG", "display_name": "user2570205", "link": "https://stackoverflow.com/users/2570205/user2570205"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 38909537, "answer_count": 2, "score": 0, "last_activity_date": 1472200262, "creation_date": 1470968839, "last_edit_date": 1471028492, "question_id": 38908924, "link": "https://stackoverflow.com/questions/38908924/how-to-get-the-list-of-files-that-are-not-in-another-directory-in-perl", "title": "How to get the list of files that are not in another directory in perl", "body": "<p>I have to fix a Perl script, which does the following:</p>\n\n<pre><code># Get the list of files in the staging directory; skip all beginning with '.'\nopendir ERR_STAGING_DIR, \"$ERR_STAGING\" or die \"$PID: Cannot open directory $ERR_STAGING\";\n@allfiles = grep !/^$ERR_STAGING\\/\\./, map \"$ERR_STAGING/$_\", readdir(ERR_STAGING_DIR);\nclosedir(ERR_STAGING_DIR);\n</code></pre>\n\n<p>I have two directories one is <code>STAGING</code> and other is <code>ERROR</code>.  STAGING contains files like <code>ABC_201608100000.fin</code> and <code>ERR_STAGING_DIR</code> contains <code>ABC_201608100000.fin.bc_lerr.xml</code>. Now the Perl script is run as a daemon process which constantly looks for the files in <code>ERR_STAGING_DIR</code> directory and processes the error files.</p>\n\n<p>However, my requirement is to do not process the file if <code>ABC_201608100000.fin</code> exists in STAGING. </p>\n\n<h3>Question:</h3>\n\n<p>Is there a way , I can filter the <code>allfiles</code> array and select files which don't exist in STAGING directory?</p>\n\n<h3>WHAT I HAVE TRIED:</h3>\n\n<p>I have done programmatic way to ignore the files that exist in STAGING dir. Though it is not working. </p>\n\n<pre><code>     # Move file from the staging directory to the processing directory.\n        @splitf = split(/.bc_lerr.xml/,basename($file));\n        my $finFile = $STAGING . \"/\" . $splitf[0];\n        print LOG \"$PID: Staging File $finFile \\n\";\n\n        foreach $file(@sorted_allfiles) {    \n        if ( -e $finFile )\n        {\n            print LOG \"$PID: Staging File still exist.. moving to next $finFile \\n\";\n            next;\n        }\n        # DO THE PROCESSING.\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 4, "last_activity_date": 1470954962, "creation_date": 1470954962, "answer_id": 38907142, "question_id": 38907011, "link": "https://stackoverflow.com/questions/38907011/matching-modifying-characters-after-pattern/38907142#38907142", "title": "Matching modifying characters after pattern", "body": "<p>Use matching in a list context to extract the table name.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy @lines = (\n    \"create unique hash index on MYSCHEMA.MYTABLE (Col1, Col2)  pages=####;\\n\",\n    \"create hash index on MYSCHEMA.ANOTHER_TABLE (Col1, Col2)  pages=####;\\n\"\n);\n\nmy %pages = ( MYTABLE =&gt; 12,\n              ANOTHER_TABLE =&gt; 42,\n);\n\nfor my $line (@lines) {\n    my ($table) = $line =~ /index on MYSCHEMA\\.(\\w+)/;\n    $line =~ s/pages=####/pages=$pages{$table}/;\n    print $line;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470955825, "post_id": 38907146, "comment_id": 65173033, "body": "or <code>s&#47;pages=\\K#+&#47;$number_replacement&#47;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1470956064, "post_id": 38907146, "comment_id": 65173102, "body": "@Borodin  Oh, yes, wonderful :) A perfect use for <code>\\K</code> -- also cleaning it all up!"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 4, "last_activity_date": 1475659160, "last_edit_date": 1495541706, "creation_date": 1470955001, "answer_id": 38907146, "question_id": 38907011, "link": "https://stackoverflow.com/questions/38907011/matching-modifying-characters-after-pattern/38907146#38907146", "title": "Matching modifying characters after pattern", "body": "<p>Extract the schema name</p>\n\n<pre><code>my ($schema_name) = $line =~ s/MYSCHEMA\\.([A-Z_]+)/;\n</code></pre>\n\n<p>Replace the numbers following <code>pages=</code></p>\n\n<pre><code>$line =~ s/(pages=)(#+)/$1$number_replacement/;\n</code></pre>\n\n<p>This works with a few assumptions about the structure of the line -- that schema name contains only caps or underscore, and that numbers follow <code>=</code> without spaces.</p>\n\n<hr>\n\n<p>A better way, provided by <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a> in a comment</p>\n\n<pre>\n$line =~ s/pages=\\K#+/$number_replacement/;\n</pre>\n\n<p>The <code>\\K</code> is a particular form of the <em>positive lookbehind</em> <code>(?&lt;=pattern)</code>, a <em>zero-width assertion</em> that the given pattern preceded the current match position.  This form also discards all previous matches, so the substitution above won't touch <code>pages=</code> part. Thus there is no need for any capturing groups. See lookaround assertions <a href=\"http://perldoc.perl.org/perlretut.html#Looking-ahead-and-looking-behind\" rel=\"nofollow noreferrer\">in perlretut</a> and <code>\\K</code> <a href=\"http://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">in perlre</a> (scroll down a bit).</p>\n"}], "owner": {"reputation": 891, "user_id": 672159, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9a9cd3f8073e1281cf6a59d4d68ffe5c?s=128&d=identicon&r=PG", "display_name": "peter cooke", "link": "https://stackoverflow.com/users/672159/peter-cooke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 38907142, "answer_count": 2, "score": 0, "last_activity_date": 1475659160, "creation_date": 1470954146, "last_edit_date": 1470961281, "question_id": 38907011, "link": "https://stackoverflow.com/questions/38907011/matching-modifying-characters-after-pattern", "title": "Matching modifying characters after pattern", "body": "<p></p>\n\n<p>I did this almost 20 years ago, so I've forgotten much about Perl and I'm not finding an answer from Google.</p>\n\n<p>I have a file with many Times Ten DB <code>create hash index</code> statements of the form</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>create unique hash index on MYSCHEMA.MYTABLE (Col1, Col2)  pages=####;\ncreate hash index on MYSCHEMA.ANOTHER_TABLE (Col1, Col2)  pages=####;\n</code></pre>\n\n<p>I have a hash keyed by table names holding the desired values for \"pages=###\".</p>\n\n<p>I have properly read the line into a string variable, and I need to know how to get the table name following <code>index on MYSCHEMA.</code> into a variable.</p>\n\n<p>Also, how do I replace the numbers in <code>pages=####</code>?</p>\n"}, {"tags": ["perl", "loops", "for-loop"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6707021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8986b01ac09259ca9697eecffb6a1799?s=128&d=identicon&r=PG&f=1", "display_name": "GC30", "link": "https://stackoverflow.com/users/6707021/gc30"}, "edited": false, "score": 0, "creation_date": 1470954781, "post_id": 38907075, "comment_id": 65172700, "body": "Yes, spot on, and how annoying! Thanks!"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 3, "user_id": 6707021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8986b01ac09259ca9697eecffb6a1799?s=128&d=identicon&r=PG&f=1", "display_name": "GC30", "link": "https://stackoverflow.com/users/6707021/gc30"}, "edited": false, "score": 0, "creation_date": 1470954887, "post_id": 38907075, "comment_id": 65172733, "body": "It happens! A fresh eye often helps, I&#39;m glad mine did."}], "tags": [], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "is_accepted": true, "score": 2, "last_activity_date": 1470954552, "creation_date": 1470954552, "answer_id": 38907075, "question_id": 38906962, "link": "https://stackoverflow.com/questions/38906962/for-each-object-in-array-in-perl/38907075#38907075", "title": "For each object in array in perl", "body": "<p><code>[ ... ]</code> is used to create an array reference; you need to use <code>( ... )</code> to create an array :</p>\n\n<pre><code>my @members_array = (\n    {\n        id    =&gt; 1234,\n        email =&gt; 'first@example.com',\n    }, {\n        id    =&gt; 4321,\n        email =&gt; 'second@example.com',\n    }\n);\n</code></pre>\n\n<p>And then the rest of your code will work just fine.</p>\n"}], "owner": {"reputation": 3, "user_id": 6707021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8986b01ac09259ca9697eecffb6a1799?s=128&d=identicon&r=PG&f=1", "display_name": "GC30", "link": "https://stackoverflow.com/users/6707021/gc30"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "accepted_answer_id": 38907075, "answer_count": 1, "score": 0, "last_activity_date": 1470954552, "creation_date": 1470953855, "question_id": 38906962, "link": "https://stackoverflow.com/questions/38906962/for-each-object-in-array-in-perl", "title": "For each object in array in perl", "body": "<p>I am trying to loop through each object in an array in Perl and I think I am making an obvious error.</p>\n\n<pre><code>my @members_array = [\n    {\n        id    =&gt; 1234,\n        email =&gt; 'first@example.com',\n    }, {\n        id    =&gt; 4321,\n        email =&gt; 'second@example.com',\n    }\n];\n\nuse Data::Dumper;\nfor my $member ( @members_array ) {\n    print Dumper( $member );\n}\n</code></pre>\n\n<p>Expected output for first iteration</p>\n\n<pre><code>{\n    id    =&gt; 1234,\n    email =&gt; 'first@example.com',\n}\n</code></pre>\n\n<p>Actual output for first iteration</p>\n\n<pre><code>[{\n    'email' =&gt; 'first@example.com',\n    'id' =&gt; 1234\n }, {\n    'email' =&gt; 'second@example.com',\n    'id' =&gt; 4321\n}];\n</code></pre>\n\n<p>How do I loop through these elements in the array? Thanks!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1470951270, "post_id": 38906390, "comment_id": 65171479, "body": "Welcome to Stack Overflow.  What happens if you put the regex in the title into the program?  You&#39;ll need to adjust the part that matches two characters between slashes to allow just one; you need to add an appropriate quantifier after the second character class.  But that&#39;s just about all."}, {"owner": {"reputation": 12281, "user_id": 1322268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfWtq.jpg?s=128&g=1", "display_name": "shawnt00", "link": "https://stackoverflow.com/users/1322268/shawnt00"}, "edited": false, "score": 0, "creation_date": 1470951650, "post_id": 38906390, "comment_id": 65171641, "body": "Looks like you&#39;re actually limited to hexadecimal characters so <code>[0-9A-Z]</code> may be too broad. Something like <code>m|&#47;.&#47;[0-9]-[0-9A-F]{29}\\.wav|</code>. You can also use <code>[[:xdigit]]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 351, "user_id": 4743686, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/BMNbb.jpg?s=128&g=1", "display_name": "Pinecone", "link": "https://stackoverflow.com/users/4743686/pinecone"}, "is_accepted": false, "score": -1, "last_activity_date": 1470952692, "last_edit_date": 1470952692, "creation_date": 1470952255, "answer_id": 38906677, "question_id": 38906390, "link": "https://stackoverflow.com/questions/38906390/regex-matching-0-9-a-z0-9-wav/38906677#38906677", "title": "Regex matching [0-9]-[A-Z0-9].wav", "body": "<p>What form do you want $1 and $2 to be in? Do you want $1 to be like \"/m\"?\nDo you want $2 to be \"6-23...\"?  Something else?</p>\n\n<pre><code>m|(..)/([[:digit:][:upper:]-]+)(?&gt;\\.wav)$| || die; print \"$1_$2 $_\";\n</code></pre>\n\n<p>This regex produces:</p>\n\n<pre><code>/m_6-23E5CD3A14BC47154F29E25578FC4\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6706896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/923825b553b4e8a2a3ec4172d17c88f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Powers", "link": "https://stackoverflow.com/users/6706896/jim-powers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1470952692, "creation_date": 1470950707, "last_edit_date": 1470951371, "question_id": 38906390, "link": "https://stackoverflow.com/questions/38906390/regex-matching-0-9-a-z0-9-wav", "title": "Regex matching [0-9]-[A-Z0-9].wav", "body": "<p>I have the following Perl code:</p>\n\n<pre><code>perl -ane 'm|/(..)/([1-9zo]+[ab])\\.wav| || die \"bad line $_\"; print \"$1_$2 $_\";'\n</code></pre>\n\n<p>Instead of matching a file path like <code>/m/ad/11b.wav</code> I need to match a file path like:</p>\n\n<pre><code>/m/6-23E5CD3A14BC47154F29E25578FC4.wav\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1470946883, "post_id": 38905326, "comment_id": 65169368, "body": "<code>perl -E &#39;$comment=&quot;a\\&quot;b&quot;;say$comment;$comment=~s&#47;&quot;&#47;\\\\&quot;&#47;g;say$comment&zwnj;&#8203;&#39;</code> shows that your code does his job, so the problem is probaby somewhere else.. Please show us your entire code so we can help."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1470947116, "post_id": 38905326, "comment_id": 65169477, "body": "Out of curiosity, why are you trying to escape the quotes?"}, {"owner": {"reputation": 329, "user_id": 5927716, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70bfdd9b7d85dd80bdc22bee3d1c84d1?s=128&d=identicon&r=PG&f=1", "display_name": "slicks1", "link": "https://stackoverflow.com/users/5927716/slicks1"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1470947150, "post_id": 38905326, "comment_id": 65169495, "body": "@ThisSuitIsBlackNot because some of the data has double quotes and its causing an issue with our xml"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1470947375, "post_id": 38905326, "comment_id": 65169601, "body": "I assume you mean attribute values, right? You don&#39;t have to escape quotes in text nodes in XML."}, {"owner": {"reputation": 329, "user_id": 5927716, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70bfdd9b7d85dd80bdc22bee3d1c84d1?s=128&d=identicon&r=PG&f=1", "display_name": "slicks1", "link": "https://stackoverflow.com/users/5927716/slicks1"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1470947441, "post_id": 38905326, "comment_id": 65169629, "body": "@ThisSuitIsBlackNot yeh this solution works though. thanks"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1578036792, "last_edit_date": 1578036792, "creation_date": 1470946753, "answer_id": 38905409, "question_id": 38905326, "link": "https://stackoverflow.com/questions/38905326/escaping-double-quotes-fix/38905409#38905409", "title": "Escaping double quotes fix", "body": "<p>One way to insert things that would need escaping, and without counting backslashes</p>\n\n<pre><code>$comment =~ s/\"/q(\\\")/eg;\n</code></pre>\n\n<p>With <code>/e</code> modifier the replacement side is evaluated as code, and the result used as replacement. See it <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">in perlop</a> and, say, <a href=\"https://stackoverflow.com/questions/6082219/perl-regex-e-eval-modifier-with-s\">this post</a>. Here this is used to form a string literal with <code>\\</code>, by <code>q()</code>.</p>\n\n<p>Note though that in this simple case <code>s/\"/\\\"/</code> works fine.  There is probably more going on in your code, or your quotes come already escaped in which case extra <code>\\</code> affect what you see later.</p>\n"}, {"tags": [], "owner": {"reputation": 351, "user_id": 4743686, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/BMNbb.jpg?s=128&g=1", "display_name": "Pinecone", "link": "https://stackoverflow.com/users/4743686/pinecone"}, "is_accepted": false, "score": 0, "last_activity_date": 1470949119, "last_edit_date": 1470949119, "creation_date": 1470948028, "answer_id": 38905731, "question_id": 38905326, "link": "https://stackoverflow.com/questions/38905326/escaping-double-quotes-fix/38905731#38905731", "title": "Escaping double quotes fix", "body": "<p>No counting required:</p>\n\n<pre><code>$comment =~ s.(?=\").\\\\.g;\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 5927716, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/70bfdd9b7d85dd80bdc22bee3d1c84d1?s=128&d=identicon&r=PG&f=1", "display_name": "slicks1", "link": "https://stackoverflow.com/users/5927716/slicks1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 38905409, "answer_count": 2, "score": 0, "last_activity_date": 1578036792, "creation_date": 1470946493, "question_id": 38905326, "link": "https://stackoverflow.com/questions/38905326/escaping-double-quotes-fix", "title": "Escaping double quotes fix", "body": "<p>I cannot find the resources for this. I want to escape double quotes with perl and i am new to this language.</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>$comment =~ s/\\\"/\\\\\\\"/g;\n</code></pre>\n\n<p>It doesn't seem to be working. What is a proper solution?</p>\n"}, {"tags": ["regex", "perl", "variables", "fasta"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1470944040, "post_id": 38904644, "comment_id": 65168052, "body": "Which variable is uninitialized?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1470944230, "post_id": 38904644, "comment_id": 65168139, "body": "What&#39;s the exact warning message?"}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1470944275, "post_id": 38904644, "comment_id": 65168165, "body": "Barmar- The $newsequence variable is uninitialized. I will improve my question to include that info. zdim- I am simply taking the two letters that flank the bottom sequence on either side, when it is found in the top sequence. I will clarify that also. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1470944659, "post_id": 38904777, "comment_id": 65168351, "body": "Brilliant. Thanks!"}], "tags": [], "owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 2, "last_activity_date": 1470944234, "creation_date": 1470944234, "answer_id": 38904777, "question_id": 38904644, "link": "https://stackoverflow.com/questions/38904644/assigning-regex-search-to-variable-uninitialized-variable-error/38904777#38904777", "title": "Assigning regex search to variable: Uninitialized variable error", "body": "<p>This line is wrong:</p>\n\n<pre><code>my ($newsequence) = $header =~ /(([CN]{2})($sequence)([CN]{2}))/; \n</code></pre>\n\n<p>The <code>my</code> keyword is creating a new variable <code>$newsequence</code> local to the <code>while</code> loop, not assigning the variable in the main script. So when you try to write <code>$newsequence</code> after the loop is done, the variable is still uninitialized.</p>\n\n<p>Either put the <code>print</code> statement inside the <code>while</code> loop, or remove the <code>my</code> keyword in this assignment.</p>\n\n<p>Also, you should put that assignment statement inside the <code>elseif</code> block. Otherwise, you'll try to use <code>$sequence</code> before you've assigned it. So the whole thing should look like:</p>\n\n<pre><code>foreach my $file (@array){ \n    open (my $fh, $file) or die $!; \n    while (my $line = &lt;$fh&gt;){ \n        chomp $line; \n        if ($line =~ /^&gt;/) { \n            $header = $line; \n        } elsif ($line =~ /^[CN]/) { \n            $sequence = $line; \n            ($newsequence) = $header =~ /(([CN]{2})($sequence)([CN]{2}))/; \n            print OUT $header, \"\\n\", $newsequence, \"\\n\"; \n        } \n    } \n\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 351, "user_id": 4743686, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/BMNbb.jpg?s=128&g=1", "display_name": "Pinecone", "link": "https://stackoverflow.com/users/4743686/pinecone"}, "is_accepted": false, "score": 0, "last_activity_date": 1470956758, "last_edit_date": 1470956758, "creation_date": 1470956268, "answer_id": 38907328, "question_id": 38904644, "link": "https://stackoverflow.com/questions/38904644/assigning-regex-search-to-variable-uninitialized-variable-error/38907328#38907328", "title": "Assigning regex search to variable: Uninitialized variable error", "body": "<p>If your conditions are accurate (each file contains only 2 lines, and the sequence is always found in the header), then you can make your code a lot simpler, including the regex:</p>\n\n<pre><code>for my $file (@array) {\n  open (my $fh, $file) or die $!;\n  chomp ((my $header, my $sequence) = &lt;$fh&gt;);\n  $header =~ /(..)$sequence(..)/;\n  print OUT \"$header\\n$1$sequence$2\";\n}\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 38904777, "answer_count": 2, "score": 0, "last_activity_date": 1470956758, "creation_date": 1470943725, "last_edit_date": 1470944327, "question_id": 38904644, "link": "https://stackoverflow.com/questions/38904644/assigning-regex-search-to-variable-uninitialized-variable-error", "title": "Assigning regex search to variable: Uninitialized variable error", "body": "<p>I am opening files in a directory that contain two lines of sequences in each file. The top sequence is longer than the bottom, but includes the bottom sequence. I would like to extend the bottom sequence by the two flanking letters in each direction once it is found in the top sequence. I am trying this by a doing a regex match, but am getting a uninitialized error for the $newsequence variable. \nHere is what a typical file looks like: </p>\n\n<pre><code>    &gt;CCCCNNNNNCCCC\n    NNNNN \n</code></pre>\n\n<p>I would like to print to one file all the sequences in the following format: </p>\n\n<pre><code>    &gt;CCCCNNNNNCCCC\n    CCNNNNNCC \n</code></pre>\n\n<p>Here is my code so far: </p>\n\n<pre><code>    use strict; \n    use warnings; \n\n    my ($directory) = @ARGV \n    my @array = glob \"$directory/*\"; \n    my $header; \n    my $sequence; \n    my $newsequence; \n\n    open(OUT, \"&gt;\", \"/path/to/out.txt\") or die $!; \n    foreach my $file (@array){ \n        open (my $fh, $file) or die $!; \n        while (my $line = &lt;$fh&gt;){ \n            chomp $line; \n            if ($line =~ /^&gt;/) { \n                $header = $line; \n            } elsif ($line =~ /^[CN]/) { \n                $sequence = $line; \n            } \n            my ($newsequence) = $header =~ /(([CN]{2})($sequence)([CN]{2}))/; \n        } \n        print OUT $header, \"\\n\", $newsequence, \"\\n\"; \n    } \n</code></pre>\n\n<p>How can I improve my regex assignment to $newsequence to get adequate output? Thanks. </p>\n"}, {"tags": ["perl", "hashtable"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1470944018, "post_id": 38904627, "comment_id": 65168043, "body": "In the second case, you assigned a single reference to an anonymous hash to <code>%hash</code>. So, there is only one key: The stringification of the hash reference, and the corresponding <code>undef</code> value. Voting to close."}, {"owner": {"reputation": 41, "user_id": 6706561, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210444257368351/picture?type=large", "display_name": "Brite", "link": "https://stackoverflow.com/users/6706561/brite"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1470944375, "post_id": 38904627, "comment_id": 65168215, "body": "Thanks Sinan, what modifications would rectify the 2nd instance?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 3, "creation_date": 1470944507, "post_id": 38904627, "comment_id": 65168286, "body": "Either you need to assign a list of key value pairs, as in <code>my %h = ( ... )</code>, or assign to a scalar, i.e. <code>my $h = { ... }</code>. If you do the latter, use <code>keys %$h</code>."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1470946270, "post_id": 38904627, "comment_id": 65169108, "body": "@Sinan&#220;n&#252;r Well, it&#39;s not just a typo but merely a wrong sigil, which is a different class of error."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1470946961, "post_id": 38904627, "comment_id": 65169405, "body": "@Sinan&#220;n&#252;r <code>%hash = { }</code> is not a typo, it&#39;s a very common misunderstanding. (I pointed out this same issue to someone <a href=\"http://stackoverflow.com/questions/38878021/why-does-tr-always-return-zero-when-i-pass-it-a-variable#comment65120038_38878021\">just yesterday</a>.) Even though it&#39;s not quite a duplicate, it would be better to point the OP to <a href=\"http://stackoverflow.com/q/11839586/176646\">Why are some hashes initialized using curly braces, and some with parentheses?</a> than to close as a typo."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1470948649, "post_id": 38904627, "comment_id": 65170203, "body": "@ThisSuitIsBlackNot OK, I retracted my close vote (can&#39;t vote again), so there is still a chance to close this as a duplicate of the question you recommend. There are currently 2 votes to close as a typo. If everyone else votes to close it as a duplicate of <a href=\"http://stackoverflow.com/q/11839586/\">this question</a>, this should work out."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1470951216, "post_id": 38904627, "comment_id": 65171447, "body": "@zdim It&#39;s not so easy to search for special characters like curlies or parens, and Perl is full of them. Google (afaik) filters them out. I sometimes use <a href=\"http://symbolhound.com/?q=perl+%24%3F\" rel=\"nofollow noreferrer\">SymbolHound</a>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1470955669, "post_id": 38904627, "comment_id": 65172992, "body": "@PerlDog Agreed, but the OP itself uses &quot;<i>hash initialization methods</i>&quot; and &quot;<i>hash reference</i>&quot;, for example.  Searching for such things does yield, immediately."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1471289513, "post_id": 38904627, "comment_id": 65278060, "body": "@PerlDog  Thanks for that SymbolHound reference, it seems interesting! Most of the time I can work my way around special symbols by formulating the query carefully, but it&#39;d be very nice to be able to just type in some of the line noise sometimes :)  Will try it out."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 8, "last_activity_date": 1470947353, "creation_date": 1470947353, "answer_id": 38905575, "question_id": 38904627, "link": "https://stackoverflow.com/questions/38904627/printing-hash-pairs-in-perl/38905575#38905575", "title": "Printing Hash Pairs in Perl", "body": "<p>Because you have misunderstood what <code>{}</code> does.</p>\n\n<p>It creates an anonymous hash, returning a reference. </p>\n\n<p>What you've just done is functionally similar to:</p>\n\n<pre><code>my %stuff = (\n   'food' =&gt; '4.4', \n    'water' =&gt; '5.0', \n    'shelter' =&gt; '1.1' \n);\n\n\nmy %items = \\%stuff;\n</code></pre>\n\n<p>Which doesn't make a lot of sense. </p>\n\n<p>Use <code>()</code> to init the hash, and it'll work just fine. </p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1470989574, "creation_date": 1470989574, "answer_id": 38913091, "question_id": 38904627, "link": "https://stackoverflow.com/questions/38904627/printing-hash-pairs-in-perl/38913091#38913091", "title": "Printing Hash Pairs in Perl", "body": "<p>This is a good example of why you should <strong>always</strong> turn on warnings in your Perl code.</p>\n\n<pre><code>$ perl -Mwarnings -E'%h = {}; say keys %h'\nReference found where even-sized list expected at -e line 1.\nHASH(0xbb6d48)\n</code></pre>\n\n<p>For more detailed explanation, use \"diagnostics\" too.</p>\n\n<pre><code>$ perl -Mwarnings -Mdiagnostics -E'%h = {}; say keys %h'\nReference found where even-sized list expected at -e line 1 (#1)\n    (W misc) You gave a single reference where Perl was expecting a list\n    with an even number of elements (for assignment to a hash). This usually\n    means that you used the anon hash constructor when you meant to use\n    parens. In any case, a hash requires key/value pairs.\n\n        %hash = { one =&gt; 1, two =&gt; 2, };        # WRONG\n        %hash = [ qw/ an anon array / ];        # WRONG\n        %hash = ( one =&gt; 1, two =&gt; 2, );        # right\n        %hash = qw( one 1 two 2 );              # also fine\n\nHASH(0x253ad48)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6706561, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210444257368351/picture?type=large", "display_name": "Brite", "link": "https://stackoverflow.com/users/6706561/brite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1470989574, "creation_date": 1470943671, "last_edit_date": 1470948705, "question_id": 38904627, "link": "https://stackoverflow.com/questions/38904627/printing-hash-pairs-in-perl", "title": "Printing Hash Pairs in Perl", "body": "<p>Please what is the difference between these two hash initialization methods?</p>\n\n<p><strong>The First Method:</strong></p>\n\n<pre><code>$items{\"food\"} = \"4.4\";\n$items{\"water\"} = \"5.0\";\n$items{\"shelter\"} = \"1.1\";\n\nforeach $item (keys $items) {\n    print \"$item\\n\";\n}\n</code></pre>\n\n<p><strong>The output is:</strong></p>\n\n<pre><code>food\nwater\nshelter\n</code></pre>\n\n<p><strong>The Second Method:</strong></p>\n\n<pre><code>%items = { \n    'food' =&gt; '4.4', \n    'water' =&gt; '5.0', \n    'shelter' =&gt; '1.1' \n};\n\nforeach $item (keys %items) {\n    print \"$item\\n\";\n}\n</code></pre>\n\n<p><strong>The output is a hash reference:</strong></p>\n\n<pre><code>HASH(0x8cc41bc)\n</code></pre>\n\n<p>Why does the second method return a reference instead of the actual values?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1470941458, "post_id": 38904011, "comment_id": 65166622, "body": "given that regexes are intended to find things in &quot;random&quot; positions, yes it&#39;s possible. and you can use lookarounds to say &quot;find randomly positioned X that is (not) followed/preceded by Y&quot;"}, {"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 1, "creation_date": 1470941526, "post_id": 38904011, "comment_id": 65166671, "body": "I would just write a regex that removes all <code>\\[[a-z]*\\]*</code> from a string and then another regex to match <code>regular expression</code>."}, {"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 2, "creation_date": 1470941716, "post_id": 38904011, "comment_id": 65166777, "body": "Questions which ask &quot;is it possible&quot; are not very helpful. The answer is &quot;Yes&quot;, but this isn&#39;t the place to have people write code for you."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6706355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5236e94dc82dd1497e3d9d8be730c02?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Noob", "link": "https://stackoverflow.com/users/6706355/mr-noob"}, "edited": false, "score": 0, "creation_date": 1470943779, "post_id": 38904198, "comment_id": 65167927, "body": "Seems the first one will do, but I will change the non-capture group to capture group as it is matching string only and remain unchanged. Thank you."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1470942185, "last_edit_date": 1470942185, "creation_date": 1470941878, "answer_id": 38904198, "question_id": 38904011, "link": "https://stackoverflow.com/questions/38904011/ignoring-bracketed-sections-in-a-regex-match/38904198#38904198", "title": "Ignoring bracketed sections in a regex match", "body": "<pre><code>/\n   r (?:\\[[a-z]*\\])?\n   e (?:\\[[a-z]*\\])?\n   g (?:\\[[a-z]*\\])?\n   ...\n   i (?:\\[[a-z]*\\])?\n   o (?:\\[[a-z]*\\])?\n   n\n/ix\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $pat = join '(?:\\\\[[a-z]*\\\\])?', map quotemeta, split //, 'regular expression';\nmy $re = qr/$pat/i;\n/$re/\n</code></pre>\n\n<p>or</p>\n\n<pre><code>s/\\[[a-z]*\\]//ig;\n/regular expression/i\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6706355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5236e94dc82dd1497e3d9d8be730c02?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Noob", "link": "https://stackoverflow.com/users/6706355/mr-noob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "closed_date": 1470945080, "answer_count": 1, "score": 0, "last_activity_date": 1470942185, "creation_date": 1470941166, "last_edit_date": 1470942106, "question_id": 38904011, "link": "https://stackoverflow.com/questions/38904011/ignoring-bracketed-sections-in-a-regex-match", "closed_reason": "Needs more focus", "title": "Ignoring bracketed sections in a regex match", "body": "<p>Right now I have this regex:</p>\n\n<pre><code>/regular(\\[[a-z]*\\])* expression/i\n</code></pre>\n\n<p>which correctly matches this string:</p>\n\n<pre><code>Regular[AECC][XVK] Expression\n</code></pre>\n\n<p>but fails to match these:</p>\n\n<pre><code>R[AECC]egular [XVK]Expression\nR[ABC]egular Expression\nRegular[xx] Expressio[]n\n</code></pre>\n\n<p>How can I match <em>all</em> of the above with a single regex?</p>\n"}, {"tags": ["linux", "perl", "hash"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470940477, "post_id": 38903667, "comment_id": 65166057, "body": "What did you think the hash would contain?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1470940583, "post_id": 38903667, "comment_id": 65166120, "body": "Why are you reaching for the hash -- what do you indend to do with it?  If it&#39;s just about the number of lines a list (an array) is what you want.   If there is more, please let us know."}], "answers": [{"tags": [], "owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "is_accepted": true, "score": 2, "last_activity_date": 1470940296, "creation_date": 1470940296, "answer_id": 38903750, "question_id": 38903667, "link": "https://stackoverflow.com/questions/38903667/why-does-the-size-of-my-hash-from-a-csv-read-exactly-half-the-value-of-the-num/38903750#38903750", "title": "Why does the size of my hash (from a csv) read exactly half the value of the number of lines?", "body": "<p>When you assign a list to a hash, Perl assumes the list is a list of key, value pairs.  So you are populating a hash in which key</p>\n\n<pre><code>'311552047969,THE UPSETTERS   RETURN OF THE SUPER APE VINYL LP 1978 ,http://www.ebay.co.uk/itm/UPSETTERS-RETURN-SUPER-APE-VINYL-LP-1978-/311552047969,56.0'\n</code></pre>\n\n<p>has value</p>\n\n<pre><code>'322016291276,Queen A Kind Of Magic NZ Orange Vinyl,http://www.ebay.co.uk/itm/Queen-Kind-Magic-NZ-Orange-Vinyl-/322016291276,165.0'\n</code></pre>\n\n<p>and so on.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 6, "last_activity_date": 1470941211, "last_edit_date": 1470941211, "creation_date": 1470940306, "answer_id": 38903754, "question_id": 38903667, "link": "https://stackoverflow.com/questions/38903667/why-does-the-size-of-my-hash-from-a-csv-read-exactly-half-the-value-of-the-num/38903754#38903754", "title": "Why does the size of my hash (from a csv) read exactly half the value of the number of lines?", "body": "<p>When you assign a list to a hash, the even-indexed elements of the list become keys, and the odd-indexed elements of the list become values. Therefore, there will be half as many keys in the hash as there are elements in the list and half the number of values in the hash as there are elements in the list if the number of elements in the list is even. Otherwise, there will <code>n/2 + 1</code> keys and <code>n</code> values in the hash where <code>n</code> is the number of elements in the list.</p>\n\n<p>What you probably wanted to do was to insert elements in to the hash keyed by the ID in column 0 of your CSV.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Text::CSV_XS;\n\nmy @fields = qw( title url price);\nmy $csv = Text::CSV_XS-&gt;new({ allow_whitespace =&gt; 1});\nmy %data;\n\nwhile (my $row = $csv-&gt;getline(\\*DATA)) {\n    my ($key) = shift @$row;\n    next unless defined($key) and length($key);\n    for ( @$row ) {\n        s/^\\s+//;\n        s/\\s+\\z//;\n    }\n    @{ $data{$key} }{ @fields } = @$row;\n}\n\nuse Data::Dumper;\nprint Dumper \\%data;\n\n__DATA__\n311552047969,THE UPSETTERS   RETURN OF THE SUPER APE VINYL LP 1978 ,http://www.ebay.co.uk/itm/UPSETTERS-RETURN-SUPER-APE-VINYL-LP-1978-/311552047969,56.0\n322016291276,Queen A Kind Of Magic NZ Orange Vinyl,http://www.ebay.co.uk/itm/Queen-Kind-Magic-NZ-Orange-Vinyl-/322016291276,165.0\n252288285264,Goldfrapp Black cherry vinyl record lp,http://www.ebay.co.uk/itm/Goldfrapp-Black-cherry-vinyl-record-lp-/252288285264,70.0\n331782523967,Reggae vinyl johny pram pram ,http://www.ebay.co.uk/itm/Reggae-vinyl-johny-pram-pram-/331782523967,73.0\n391392294381,Various vinyl albums,http://www.ebay.co.uk/itm/Various-vinyl-albums-/391392294381,102.24\n</code></pre>\n\n<h3>Output</h3>\n\n<pre>$ ./pppp.pl\n$VAR1 = {\n          '252288285264' => {\n                              'url' => 'http://www.ebay.co.uk/itm/Goldfrapp-Black-cherry-vinyl-record-lp-/252288285264',\n                              'title' => 'Goldfrapp Black cherry vinyl record lp',\n                              'price' => '70.0'\n                            },\n          '322016291276' => {\n                              'price' => '165.0',\n                              'title' => 'Queen A Kind Of Magic NZ Orange Vinyl',\n                              'url' => 'http://www.ebay.co.uk/itm/Queen-Kind-Magic-NZ-Orange-Vinyl-/322016291276'\n                            },\n          '311552047969' => {\n                              'url' => 'http://www.ebay.co.uk/itm/UPSETTERS-RETURN-SUPER-APE-VINYL-LP-1978-/311552047969',\n                              'title' => 'THE UPSETTERS   RETURN OF THE SUPER APE VINYL LP 1978',\n                              'price' => '56.0'\n                            },\n          '331782523967' => {\n                              'url' => 'http://www.ebay.co.uk/itm/Reggae-vinyl-johny-pram-pram-/331782523967',\n                              'price' => '73.0',\n                              'title' => 'Reggae vinyl johny pram pram'\n                            },\n          '391392294381' => {\n                              'url' => 'http://www.ebay.co.uk/itm/Various-vinyl-albums-/391392294381',\n                              'title' => 'Various vinyl albums',\n                              'price' => '102.24'\n                            }\n        };</pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1472232439, "last_edit_date": 1472232439, "creation_date": 1470940408, "answer_id": 38903781, "question_id": 38903667, "link": "https://stackoverflow.com/questions/38903667/why-does-the-size-of-my-hash-from-a-csv-read-exactly-half-the-value-of-the-num/38903781#38903781", "title": "Why does the size of my hash (from a csv) read exactly half the value of the number of lines?", "body": "<p>A hash is a list, with consecutive elements paired.  So when you assign a list to a hash, key-value pairs are formed of consecutive pairs of its elements.</p>\n\n<pre><code>my %hash = (1, 'one', 2, 'two');   # %hash is: (1 =&gt; 'one', 2 =&gt; 'two')\n</code></pre>\n\n<p>The number of key-value pairs is half of the length of the original list.  If the list had odd number of elements this can't really be done as intended and you get a warning -- if you have warnings on, which you should <em>always do</em>.</p>\n\n<p>If you actually want to only count the lines, get the length of the list</p>\n\n<pre><code>my $num_lines = scalar @csv2;  # or:  my $num_lines = @csv2;\n</code></pre>\n\n<hr>\n\n<p>If you want to organize the content by the apparent ID (the first field),  you can do for example</p>\n\n<pre><code>use warnings;\nuse strict;\n\n# read the file into @csv2 ...\n\nmy %csv = map { split /,/, $_, 2 } @csv2;\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a> is limited to returning <code>2</code> elements, which thus will be the first field, and the rest of the line, forming the key-value pair. Note that the 'rest of the line' retains the commas, and probably need be processed further. Which points us to using a module in the first place.</p>\n"}], "owner": {"reputation": 2848, "user_id": 5334307, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9796a2147e71f886989921a480f2feb1?s=128&d=identicon&r=PG&f=1", "display_name": "neilH", "link": "https://stackoverflow.com/users/5334307/neilh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 38903750, "answer_count": 3, "score": 0, "last_activity_date": 1472232439, "creation_date": 1470939998, "question_id": 38903667, "link": "https://stackoverflow.com/questions/38903667/why-does-the-size-of-my-hash-from-a-csv-read-exactly-half-the-value-of-the-num", "title": "Why does the size of my hash (from a csv) read exactly half the value of the number of lines?", "body": "<p>I've written a simple perl script to calculate the number of value and/or keys in a hash, which was created from the content of a csv. The csv looks like this:</p>\n\n<pre><code>311552047969,THE UPSETTERS   RETURN OF THE SUPER APE VINYL LP 1978 ,http://www.ebay.co.uk/itm/UPSETTERS-RETURN-SUPER-APE-VINYL-LP-1978-/311552047969,56.0                  \n322016291276,Queen A Kind Of Magic NZ Orange Vinyl,http://www.ebay.co.uk/itm/Queen-Kind-Magic-NZ-Orange-Vinyl-/322016291276,165.0                                          \n252288285264,Goldfrapp Black cherry vinyl record lp,http://www.ebay.co.uk/itm/Goldfrapp-Black-cherry-vinyl-record-lp-/252288285264,70.0                                    \n331782523967,Reggae vinyl johny pram pram ,http://www.ebay.co.uk/itm/Reggae-vinyl-johny-pram-pram-/331782523967,73.0                                                       \n391392294381,Various vinyl albums,http://www.ebay.co.uk/itm/Various-vinyl-albums-/391392294381,102.24 \n</code></pre>\n\n<p>Here is my script to calculate the number of lines. </p>\n\n<pre><code>#!/bin/perl\n\n\nopen CSV2, \"&lt;csv2\" or die;\n@csv2=&lt;CSV2&gt;;\nclose CSV2;\n\n\n%hash = @csv2;\n\n@keys = keys %hash;\n@values = values %hash;\n\n$size = @values;\nprint \"Hash size is $size\";\n</code></pre>\n\n<p>The actual number of lines in the csv is 6374, but the output from my code is saying exactly half that- 3187. </p>\n\n<p>I'm sure there is a simple explanation for this, but why doesn't the size of the hash (i.e. the number of values/keys), match the number of lines in my csv?</p>\n"}, {"tags": ["html", "perl", "www-mechanize"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 0, "creation_date": 1470938903, "post_id": 38902755, "comment_id": 65165204, "body": "ah whoops, should&#39;ve used strict. However, even after changing $mech to $browser, the selection still isn&#39;t made. There is no error, but I had my code spit out the URL after pressing submit elsewhere on the page and the result was that the drop-down selection still does not work."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "edited": false, "score": 1, "creation_date": 1470939846, "post_id": 38902755, "comment_id": 65165704, "body": "@AdityaJ.: Use <code>$browser-&gt;dump_forms</code> to see the status of the forms on the page, so that you can check whether your selection has worked. You may need to use one of the form selection methods so that <code>select</code> knows which form to work on."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1470936896, "creation_date": 1470936896, "answer_id": 38902755, "question_id": 38902592, "link": "https://stackoverflow.com/questions/38902592/wwwmechanize-select-from-drop-down-list/38902755#38902755", "title": "WWW::Mechanize- Select from drop down list", "body": "<p>You should <strong><em>always</em></strong> <code>use strict</code> at the top of every Perl program you write, especially before asking for help with your code. It would have revealed the problem immediately</p>\n\n<p>Your <code>WWW::Mechanize</code> object is in <code>$browser</code>, but you have called <code>$mech-&gt;select</code>. <code>$mech</code> hasn't been defined so you are getting an error message saying that <code>select</code> can't be called on an undefined value</p>\n"}], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "accepted_answer_id": 38902755, "answer_count": 1, "score": 0, "last_activity_date": 1470939039, "creation_date": 1470936267, "last_edit_date": 1470939039, "question_id": 38902592, "link": "https://stackoverflow.com/questions/38902592/wwwmechanize-select-from-drop-down-list", "title": "WWW::Mechanize- Select from drop down list", "body": "<p>I am trying to use WWW::Mechanize to select an option from a drop-down menu. Here is the code I have right now (only the part with selecting from the drop down menu):</p>\n\n<pre><code>use warnings;\nuse WWW::Mechanize;\nmy $url = 'http://genome.ucsc.edu/cgi-bin/hgBlat?command=start';\nmy $browser = WWW::Mechanize-&gt;new();\n  $browser-&gt;get($url);\n    $browser-&gt;select('db', 'hg38');\n    $browser-&gt;submit();\n</code></pre>\n\n<p>The selection does not work.</p>\n\n<p>Here is the HTML for this drop-down menu from the site where I've manually selected the desired option:</p>\n\n<pre><code>&lt;select name=\"db\"&gt; = $0\n     &lt;option selected value=\"hg38\"&gt;Dec. 2013 (GRch38/hg38)&lt;/option&gt;\n     &lt;option value=\"hg19\"&gt;Feb. 2009 (GRch17/hg19)&lt;/option&gt;\n     &lt;option value=\"hg18\"&gt;Mar. 2006 (NCBI36/hg18)&lt;/option&gt;\n     &lt;option value=\"hg17\"&gt;May 2004 (NCBI35/hg17)&lt;/option&gt;\n     &lt;option value=\"hg16\"&gt;July 2003 (NCBI34/hg16)&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>How can I use Mech to select the option? The url for the website in question is '<a href=\"http://genome.ucsc.edu/cgi-bin/hgBlat?command=start\" rel=\"nofollow\">http://genome.ucsc.edu/cgi-bin/hgBlat?command=start</a>'.</p>\n"}, {"tags": ["perl", "memcached"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1470935597, "post_id": 38899052, "comment_id": 65163471, "body": "It&#39;s very hard to understand what you are asking. If it throws an exception as you say, and you&#39;re asking how to catch that exception, you can use <code>eval BLOCK</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470940524, "post_id": 38899052, "comment_id": 65166087, "body": "Or <a href=\"http://p3rl.org/Try::Tiny\" rel=\"nofollow noreferrer\">Try::Tiny</a>."}], "answers": [{"tags": [], "owner": {"reputation": 466, "user_id": 4524076, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/kQptW.png?s=128&g=1", "display_name": "Meysam", "link": "https://stackoverflow.com/users/4524076/meysam"}, "is_accepted": false, "score": 0, "last_activity_date": 1471957988, "creation_date": 1471957988, "answer_id": 39102265, "question_id": 38899052, "link": "https://stackoverflow.com/questions/38899052/is-it-possible-to-handle-memcached-memory-geting-overflow/39102265#39102265", "title": "Is it possible to handle memcached memory geting overflow?", "body": "<p>memcached is distributed cache system and can be works on different servers. What is your server? is it couchebase, is it elastic cache of AWS? you can use memcache on many different server and providers and when you are creating those servers you need to configure them and set the size of memory you want memcache to use. for example in the company I am working, the test environment uses couchbase but the live uses Amazon Elastic cache. \nMemcached uses LRU (least recently used) algorithm to insert the new object into the memory if the table is full. You should not have problem because of full memory and handling memcached. The problem can raise from the full memory but not with this reason that memcached cannot handle it. Exceptions and other problem can be in other part of the system which is quite normal if your memory is full. if you configure the server correctly memcache usually does not throw exception. </p>\n\n<p>Is the server that runs memcached same as the server that runs your application? Memcached can be put on another server and in this way you can prevent the memory to become full. </p>\n"}], "owner": {"reputation": 669, "user_id": 5709891, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d02aec741e53d5f3f97de2c9e317342a?s=128&d=identicon&r=PG&f=1", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/5709891/ganesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1471957988, "creation_date": 1470925373, "question_id": 38899052, "link": "https://stackoverflow.com/questions/38899052/is-it-possible-to-handle-memcached-memory-geting-overflow", "title": "Is it possible to handle memcached memory geting overflow?", "body": "<p>I have a serious problem my memcached memory is overflow and server is getting down.\nSo how to handle memcached, If memcached memory is getting full then it will just throw error msg, not set the memcached anymore.</p>\n"}, {"tags": ["xml", "perl", "utf-8"], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 1073888, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd51e7fd185a94f8fc755d15fa64eeca?s=128&d=identicon&r=PG", "display_name": "milesb", "link": "https://stackoverflow.com/users/1073888/milesb"}, "edited": false, "score": 0, "creation_date": 1471014280, "post_id": 38899195, "comment_id": 65198934, "body": "Thank you!  As a result of your answer and a few experiments, a missing piece of the perl-character set jigsaw fell into place for me and I&#39;m very grateful."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1470926849, "last_edit_date": 1470926849, "creation_date": 1470925726, "answer_id": 38899195, "question_id": 38898067, "link": "https://stackoverflow.com/questions/38898067/why-is-perl-xmllibxml-changing-utf8-to-8859-1/38899195#38899195", "title": "Why is Perl XML::LibXML changing UTF8 to 8859-1?", "body": "<p>You have two bugs which cancel out to produce the correct output in the first test.</p>\n\n<hr>\n\n<p><strong>Your home-grown parser doesn't decode the document</strong></p>\n\n<p>You can observe this bug by changing <code>/&lt;title&gt;(.*?)&lt;/</code> to <code>/&lt;title&gt;(.)&lt;/</code>. Rather than getting the first glyph (<code>\u00fa</code>) as intended, it only gets the first byte of its encoding (<code>C3</code>).</p>\n\n<p>To fix this, replace</p>\n\n<pre><code>$raw_xml =~ /&lt;title&gt;(.*?)&lt;/;\nprint \"Regex finds [$1]\\n\";\n</code></pre>\n\n<p>with</p>\n\n<pre><code>use Encode qw( decode_utf8 );\n\nmy $decoded_xml = decode_utf8($raw_xml);\n$decoded_xml =~ /&lt;title&gt;(.*?)&lt;/;\nprint \"Regex finds [$1]\\n\";\n</code></pre>\n\n<p>Now you get the same behaviour from both tests, namely the same garbage output. This brings us to the second problem.</p>\n\n<hr>\n\n<p><strong>You don't encode your outputs</strong></p>\n\n<p>XML::LibXML returns decoded text aka Unicode Code points. <code>\u00fa</code> is therefore returned as character <code>FA</code> since <code>\u00fa</code> is U+000FA. This is proper as you shouldn't have to care about encodings except when doing I/O.</p>\n\n<p>The problem happens when doing I/O. <code>print</code> expects each character it receives to represent a byte, so when you tell it to print character <code>FA</code>, it prints byte <code>FA</code>, and your terminal goes \"wtf?\".</p>\n\n<p>Your terminal expects UTF-8, so you either need to encode the string using <code>UTF-8</code> before passing it to <code>print</code>, or tell <code>print</code> to do it for you.</p>\n\n<pre><code># Decode STDIN (UTF-8).\n# Decode STDOUT and STDERR (UTF-8).\n# The default encoding for files opened in scope is UTF-8.\nuse open ':std', ':encoding(UTF-8)';\n</code></pre>\n\n<hr>\n\n<p>Complete solution:</p>\n\n<pre><code>use open ':std', ':encoding(UTF-8)';\n\nuse Encode qw( decode_utf8 );\n\nmy $raw_xml = read_file(\"test.xml\", binmode =&gt; 'raw');\n\n{\n   my $decoded_xml = decode_utf8($raw_xml);\n   my ($title) = $decoded_xml =~ /&lt;title&gt;(.*?)&lt;/;\n   printf(\"%s: [%s] [%s]\\n\", \"Home-grown\", $title, substr($title, 0, 1));\n}\n\n{\n   my $doc = XML::LibXML-&gt;load_xml(string =&gt; $raw_xml );\n   my ($entry_node) = $doc-&gt;findnodes('entry');\n   my $title = $entry-&gt;findvalue('title');\n   printf(\"%s: [%s] [%s]\\n\", \"LibXML\", $title, substr($title, 0, 1));\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 263, "user_id": 1073888, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd51e7fd185a94f8fc755d15fa64eeca?s=128&d=identicon&r=PG", "display_name": "milesb", "link": "https://stackoverflow.com/users/1073888/milesb"}, "edited": false, "score": 0, "creation_date": 1470986402, "post_id": 38899268, "comment_id": 65181657, "body": "That&#39;s true, but the pod for LibXML <a href=\"http://search.cpan.org/dist/XML-LibXML/LibXML.pod\" rel=\"nofollow noreferrer\">link</a> says explicitly  <code>... the functions related to I&#47;O operations (i.e. parsing and saving) operate with binary data (in the original document encoding) obeying the encoding declaration of the XML documents....  Do NOT apply any encoding-related PerlIO layers (:utf8 or :encoding(...)) to file handles that are an input for the parses or an output for a serializer of (full) XML documents. ... </code>  `"}], "tags": [], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "is_accepted": false, "score": 0, "last_activity_date": 1470925926, "creation_date": 1470925926, "answer_id": 38899268, "question_id": 38898067, "link": "https://stackoverflow.com/questions/38898067/why-is-perl-xmllibxml-changing-utf8-to-8859-1/38899268#38899268", "title": "Why is Perl XML::LibXML changing UTF8 to 8859-1?", "body": "<p>Latin-1 is Perl's default encoding, in particular for strings in the source code. <code>raw</code> encoding is for binary data like images or videos. If you read data as raw data, it has no encoding. If you concatenate a string, which has an encoding, with the raw data, which has no encoding, Perl must guess an encoding for the raw data. Don't treat strings as raw data. And if you still want to, tell Perl the encoding, before you append the raw data to strings.</p>\n"}], "owner": {"reputation": 263, "user_id": 1073888, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fd51e7fd185a94f8fc755d15fa64eeca?s=128&d=identicon&r=PG", "display_name": "milesb", "link": "https://stackoverflow.com/users/1073888/milesb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 607, "favorite_count": 0, "accepted_answer_id": 38899195, "answer_count": 2, "score": 1, "last_activity_date": 1470926895, "creation_date": 1470922885, "last_edit_date": 1470926895, "question_id": 38898067, "link": "https://stackoverflow.com/questions/38898067/why-is-perl-xmllibxml-changing-utf8-to-8859-1", "title": "Why is Perl XML::LibXML changing UTF8 to 8859-1?", "body": "<p>With this input file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;entry&gt;\n   &lt;title&gt;\u00fa&lt;/title&gt;\n&lt;/entry&gt;\n</code></pre>\n\n<p>and this code, </p>\n\n<pre><code>my $raw_xml = read_file(\"test.xml\", binmode =&gt; 'raw');\nprint \"$raw_xml\\n\";\n$raw_xml =~ /&lt;title&gt;(.*?)&lt;/;\nprint \"Regex finds [$1]\\n\";      # prints u+accent to UTF8 terminal\n\nmy $dom  = XML::LibXML-&gt;load_xml(string =&gt; $raw_xml);\nmy $xpc = XML::LibXML::XPathContext-&gt;new($dom);\nmy ($entry) = $xpc-&gt;findnodes('entry');\nmy $title = $xpc-&gt;findvalue('title', $entry) || '';\n\nprint \"title is now [$title]\\n\"; # prints garbage character to UTF8 terminal, u+accent to ISO-8859-1 terminal\n</code></pre>\n\n<p>Where/why is perfectly good utf8 being translated into one of the 8 bit character sets (I'm assuming it's 8859-1, could be cp1252 etc)?</p>\n\n<p>Everything I've found via Google suggests that it should all be utf8 from end to end.  But clearly it's not.</p>\n\n<p>Note: the behaviour is exactly the same if I open the file on a filehandle with binmode and pass it into load_xml; I happen to have the xml in memory in the real code this is distilled from - it also means I can verify with a regex as above.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5193, "user_id": 5996587, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d15f53deb1b5f2cab3534565c91c5394?s=128&d=identicon&r=PG&f=1", "display_name": "codec", "link": "https://stackoverflow.com/users/5996587/codec"}, "edited": false, "score": 0, "creation_date": 1470928603, "post_id": 38898088, "comment_id": 65159430, "body": "@love2code, Yes, though you&#39;ll need to update the shebang (<code>#!</code>) lines of scripts installed with a different <code>perl</code>."}, {"owner": {"reputation": 185, "user_id": 7774231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmzCR.jpg?s=128&g=1", "display_name": "Bodo Hugo Barwich", "link": "https://stackoverflow.com/users/7774231/bodo-hugo-barwich"}, "edited": false, "score": 0, "creation_date": 1603379156, "post_id": 38898088, "comment_id": 114024539, "body": "When using <code>perl-build</code> with <code>perlbrew</code> it is important to install the <i>Perl</i> Version at the right place so that it can be recognized by <code>perlbrew</code>: <code>perl-build 5.10.1 ~&#47;perl5&#47;perlbrew&#47;perls&#47;perl-5.10.1 &amp;&amp; perlbrew switch 5.10.1</code>"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 5, "last_activity_date": 1470928522, "last_edit_date": 1470928522, "creation_date": 1470922935, "answer_id": 38898088, "question_id": 38898031, "link": "https://stackoverflow.com/questions/38898031/how-to-set-correct-perl-path/38898088#38898088", "title": "How to set correct perl path", "body": "<p>See the perlbrew documentation:</p>\n\n<blockquote>\n  <p>switch         Permanently use the specified perl as default</p>\n</blockquote>\n\n<pre><code>perlbrew switch perl-5.20.0\n</code></pre>\n\n<p>If you haven't already, you will need to add <code>source /root/perl5/perlbrew/etc/bashrc</code> to your login script for this to work.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -1, "last_activity_date": 1470926911, "creation_date": 1470926911, "answer_id": 38899647, "question_id": 38898031, "link": "https://stackoverflow.com/questions/38898031/how-to-set-correct-perl-path/38899647#38899647", "title": "How to set correct perl path", "body": "<p>It looks like you have <em>three</em> copies of perl installed, as neither of the paths you mentioned are in the PATH variable yet your shell still finds one</p>\n\n<p>There's no need for <em>perlbrew</em>. All you need to do is set your PATH variable on the command line</p>\n\n<pre><code>$ export PATH=/usr/bin/perl5.18.2:$PATH\n</code></pre>\n\n<p>If you want to make that change permanent then add the command to your profile file at <code>~/.profile</code></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1470928806, "last_edit_date": 1470928806, "creation_date": 1470928140, "answer_id": 38900100, "question_id": 38898031, "link": "https://stackoverflow.com/questions/38898031/how-to-set-correct-perl-path/38900100#38900100", "title": "How to set correct perl path", "body": "<p>The following will add the desired build of Perl to the search path so that it's found first:</p>\n\n<pre><code>export PATH=\"/root/perl5/perlbrew/perls/perl-5.20.0/bin:$PATH\"\n</code></pre>\n\n<p>You may add that to your login script to make this change permanent.</p>\n\n<hr>\n\n<p>Note that you'll need to update the shebang (<code>#!</code>) lines of scripts installed with a different <code>perl</code> to the following:</p>\n\n<pre><code>#!/root/perl5/perlbrew/perls/perl-5.20.0/bin/perl\n</code></pre>\n"}], "owner": {"reputation": 5193, "user_id": 5996587, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d15f53deb1b5f2cab3534565c91c5394?s=128&d=identicon&r=PG&f=1", "display_name": "codec", "link": "https://stackoverflow.com/users/5996587/codec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4896, "favorite_count": 1, "accepted_answer_id": 38898088, "answer_count": 3, "score": 2, "last_activity_date": 1470928806, "creation_date": 1470922795, "last_edit_date": 1470928718, "question_id": 38898031, "link": "https://stackoverflow.com/questions/38898031/how-to-set-correct-perl-path", "title": "How to set correct perl path", "body": "<p>I have 2 versions of perl installed. perl v5.18.2 and v5.20.0 . But when I do <code>perl -v</code> I get perl v5.18.2.  I don't need v5.18.2 at all. I need v5.20.0. How do I change the path to include v5.20.0 and not v5.18.2?</p>\n\n<p>Here is my <code>$PATH</code>:</p>\n\n<pre><code>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games\n</code></pre>\n\n<p>v5.18.2 is installed at <code>/usr/bin/perl</code> and <code>/usr/bin/perl5.18.2</code>, and v5.20.0 at <code>/root/perl5/perlbrew/perls/perl-5.20.0/bin/perl</code>.</p>\n"}, {"tags": ["perl", "openssl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1470922805, "post_id": 38897800, "comment_id": 65154899, "body": "Depending on which crippled Linux distribution you are using, you may have to install a <code>-dev</code>package for OpenSSL. Also, where are the OpenSSL headers and libraries installed? Maybe your <code>perl</code> is not configured to look there."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1470930239, "post_id": 38897800, "comment_id": 65160519, "body": "It sounds like you are using OpenSSL 1.1.0 and <a href=\"http://github.com/openssl/openssl/pull/547\" rel=\"nofollow noreferrer\">Issue 547: Disable EGD support by default</a>. It sounds like it could be a Perl issue; the Perl binaries needs to be aware of <code>OPENSSL_NO_EGD</code>. I guess you need to back peddle and work the two problems: <b><i><code>No library found for -lssl</code></i></b> and <b><i><code>No library found for -lcrypto</code></i></b>. Did you <a href=\"http://stackoverflow.com/q/29858870\">build OpenSSL and Perl with an RPATH</a>?"}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "edited": false, "score": 0, "creation_date": 1471118886, "post_id": 38897800, "comment_id": 65229167, "body": "How did you install the Perl module? This module is available from the package manager (for Debian and CentOS anyway) and it worked for me by just installing the module (on a new image). The package manager route may not be an option but hopefully that helps."}, {"owner": {"reputation": 860, "user_id": 1543853, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72dc5271019735b6ec8f979e4dc17ef9?s=128&d=identicon&r=PG", "display_name": "SES", "link": "https://stackoverflow.com/users/1543853/ses"}, "edited": false, "score": 0, "creation_date": 1471122369, "post_id": 38897800, "comment_id": 65229948, "body": "After I commented I noticed it looks like you are trying to load the module from the source distribution. You&#39;ll probably have to also include the path to &#39;blib/arch/auto&#39; for perl, and install the <code>-dev</code> package as noted above (that is all that was required for me to build the package on Debian). Without knowing the OS though, I&#39;m not sure if we can reproduce the messages you report."}, {"owner": {"reputation": 11, "user_id": 6315529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e74902e12e4cbf1e3dc41b5286526b?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai M", "link": "https://stackoverflow.com/users/6315529/mihai-m"}, "edited": false, "score": 0, "creation_date": 1471344949, "post_id": 38897800, "comment_id": 65299345, "body": "Unfortunately I do not have access to modify the perl and openssl installations. I am working within a very big legacy system with limited access and specific module installations procedures. I tried installing the module by using the make utility."}], "owner": {"reputation": 11, "user_id": 6315529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e74902e12e4cbf1e3dc41b5286526b?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai M", "link": "https://stackoverflow.com/users/6315529/mihai-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 861, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1470922866, "creation_date": 1470922227, "last_edit_date": 1470922866, "question_id": 38897800, "link": "https://stackoverflow.com/questions/38897800/cryptopensslrandom-wont-install-because-of-undefined-symbol-rand-egd", "title": "Crypt::OpenSSL::Random won&#39;t install because of &#39;undefined symbol: RAND_egd&#39;", "body": "<p>I am having trouble installing the <a href=\"https://metacpan.org/pod/Crypt::OpenSSL::Random\" rel=\"nofollow\">Crypt::OpenSSL::Random</a> on a Linux machine. I am first getting these warnings:</p>\n\n<blockquote>\n<pre><code>Note (probably harmless): No library found for -lssl\n\nNote (probably harmless): No library found for -lcrypto\n</code></pre>\n</blockquote>\n\n<p>I'm not sure if these are as harmless as they say, because it then fails with:</p>\n\n<blockquote>\n<pre><code>Can't load 'blib/arch/auto/Crypt/OpenSSL/Random/Random.so' for module\nCrypt::OpenSSL::Random: blib/arch/auto/Crypt/OpenSSL/Random/Random.so:\nundefined symbol: RAND_egd at\n/usr/local/lib/perl5/5.8.8/x86_64-linux/DynaLoader.pm line 230.  at\ntest.pl line 11 Compilation failed in require at test.pl line 11.\n</code></pre>\n</blockquote>\n\n<p>OpenSSL 1.0.1 is properly installed on the machine.</p>\n"}, {"tags": ["perl", "api", "rest", "http-headers"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470922854, "post_id": 38897654, "comment_id": 65154929, "body": "I like to use <a href=\"https://metacpan.org/pod/LWP::UserAgent#Handlers\" rel=\"nofollow noreferrer\">metacpan.org/pod/LWP::UserAgent#Handlers</a> for debugging this kind of thing. You can do something like <code>$ua-&gt;add_handler(request_prepare =&gt; sub { my($request, $ua, $h) = @_; p $request })</code> with Data::Printer and <code>use Data::Printer { class =&gt; { expand =&gt; &#39;all&#39; }}</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470922895, "post_id": 38897654, "comment_id": 65154965, "body": "Also are you sure there are any cookies? Or did you prepare the <code>lwp_cookies.dat</code> file to contain some?"}, {"owner": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470926290, "post_id": 38897654, "comment_id": 65157598, "body": "@simbabque, when I use Postman tool to do the same requests I there&#39;s ASP.NET_SessionId cookie returned."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470926872, "post_id": 38897654, "comment_id": 65158019, "body": "Maybe the server looks at the useragent string? Postman is a browser extension, right? Could be the server gives you a session cookie with Postman because it thinks you&#39;re a web browser, but not when you identify as <i>Perl LWP something</i>. Is that cookie required? Cookies are not exactly typical for REST APIs."}, {"owner": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470927643, "post_id": 38897654, "comment_id": 65158674, "body": "It&#39;s not required, but there&#39;s an anomaly that occurs in web interface of the application I&#39;m using API for after I run my Perl script, which does not occur if I use Postman (yes, it&#39;s a Chrome plugin). I&#39;m investigating why this happens and if I can modify my script to avoid the issue (I did report it to application devs, but there&#39;s no answer yet). The only differences I see are this cookie stuff, and some headers: Connection: &quot;keep-alive&quot; vs &quot;TE, close&quot;, presence of TE in my script&#39;s headers, and some other ones, I assume should not be the issue (UA, Origin)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470927966, "post_id": 38897654, "comment_id": 65158935, "body": "Sounds like a very localized problem though. I doubt we can find a simple answer. It&#39;s more like speculating."}, {"owner": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470928585, "post_id": 38897654, "comment_id": 65159419, "body": "you know, I found the problem -- has nothing to do with what my script is sending (I was not doing <i>exactly</i> the same in Postman, it turned out). bit I really appreciate you trying to help! it&#39;s still strange that the code above doesn&#39;t work as I hoped for, I&#39;ll try the Handlers later. but it&#39;s not urgent anymore. thanks!!!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470928796, "post_id": 38897654, "comment_id": 65159557, "body": "If the server doesn&#39;t send cookies back, it wouldn&#39;t put any in the cookie jar. And if the jar is empty, it wouldn&#39;t send cookies. Good luck figuring the rest out. :)"}], "owner": {"reputation": 2063, "user_id": 72234, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DOqkL.jpg?s=128&g=1", "display_name": "flamey", "link": "https://stackoverflow.com/users/72234/flamey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 689, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1470921822, "creation_date": 1470921822, "question_id": 38897654, "link": "https://stackoverflow.com/questions/38897654/using-cookies-with-restclient", "title": "Using cookies with REST::Client", "body": "<p>I'm trying to get REST::Client to use cookies in its requests. SO, I set it up like this:</p>\n\n<pre><code>my $cookie_jar = HTTP::Cookies-&gt;new( file =&gt; \"lwp_cookies.dat\", autosave =&gt; 1 );\nmy $ua = LWP::UserAgent-&gt;new( cookie_jar =&gt; $cookie_jar );\nmy $client = REST::Client-&gt;new({ useragent =&gt; $ua, host =&gt; $BASE_API_URL });\n</code></pre>\n\n<p>But when I do my <code>$client-&gt;GET()</code> and <code>$client-&gt;PUT</code> calls, there are no cookies headers passed around, and no cookies file is created on disk. I also tried add  <code>keep_alive =&gt; 1</code> option for LWP::UserAgent->new(), but my Connection headers are still <code>Connection: TE, close</code>.</p>\n\n<p>I'm checking the requests with Fiddler/\"raw\" tab. What am I missing?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1470915317, "post_id": 38895054, "comment_id": 65149472, "body": "What are the hash symbols <code>#</code> for in your regex patterns? There are no hashes in the data, so <code>^#</code> won&#39;t match anything. You also appear to be fetching the line <i>after</i> the one that matched and printing that."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470917245, "post_id": 38895207, "comment_id": 65150750, "body": "That looks rather over-complicated. Why copy <code>$_</code> to <code>$in</code>? Why copy <code>$1</code> to <code>$count</code>? Surely it&#39;s just <code>print &quot;Total tests run: $1&quot; if &#47;Total tests run = ([0-9]+)&#47;</code>"}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 0, "creation_date": 1470917507, "post_id": 38895207, "comment_id": 65150949, "body": "For a newbie that might not be the best approach."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470918423, "post_id": 38895207, "comment_id": 65151605, "body": "Perhaps not. But neither is your unnecessary copying of variables :-)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470987897, "post_id": 38895207, "comment_id": 65182457, "body": "It&#39;s your answer, of course, so you should have whatever code you want in it. But matching the string twice seems inefficient. Why not combine them into one: <code>if (&#47;Total tests run = ([0-9]+)&#47;) { print &quot;Total tests run :$1\\n&quot;; }</code>."}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470996257, "post_id": 38895207, "comment_id": 65187689, "body": "@DaveCross its my answer, but your suggestion :)"}], "tags": [], "owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "is_accepted": false, "score": 0, "last_activity_date": 1470996209, "last_edit_date": 1470996209, "creation_date": 1470915193, "answer_id": 38895207, "question_id": 38895054, "link": "https://stackoverflow.com/questions/38895054/not-able-to-extract-a-number-from-a-text-file/38895207#38895207", "title": "Not able to extract a number from a text file", "body": "<pre><code>if($_=~/Total tests run = ([0-9]+)/)\n         {\n              print \"Total tests run :$1\\n\";\n         }\n</code></pre>\n\n<p>In the above code the numbers that you want are captured in perls default variable $1 as they are placed in braces. Similarly you can do for failed number of tests.</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 6704645, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/377d2a81776707a9c45075caf47a4581?s=128&d=identicon&r=PG&f=1", "display_name": "gollusingh09", "link": "https://stackoverflow.com/users/6704645/gollusingh09"}, "edited": false, "score": 0, "creation_date": 1470916417, "post_id": 38895236, "comment_id": 65150195, "body": "It&#39;s working. Thanks for your help. But I am stuck as it returns the data in this format: $VAR1 = {           &#39;failed&#39; =&gt; &#39;10&#39;,           &#39;run&#39; =&gt; &#39;10&#39;,           &#39;passed&#39; =&gt; &#39;0&#39;         };  So, how can I separate the value for the failed field."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470916521, "post_id": 38895236, "comment_id": 65150270, "body": "The stats go into a hash called <code>%stats</code>. So the &quot;failed&quot; number is in <code>$stats{failed}</code> (similarly for &quot;run&quot; and &quot;passed&quot;)."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1470917104, "post_id": 38895236, "comment_id": 65150661, "body": "To be honest, if you couldn&#39;t work that out for yourself by reading the code, then you should really take the time to read a good <a href=\"http://shop.oreilly.com/product/0636920018452.do\" rel=\"nofollow noreferrer\">introduction to Perl</a>."}, {"owner": {"reputation": 25, "user_id": 6704645, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/377d2a81776707a9c45075caf47a4581?s=128&d=identicon&r=PG&f=1", "display_name": "gollusingh09", "link": "https://stackoverflow.com/users/6704645/gollusingh09"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1470925392, "post_id": 38895236, "comment_id": 65156900, "body": "@Dave : Thanks for your suggestion. I am new to perl. I will go through that book."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 7, "last_activity_date": 1470915907, "last_edit_date": 1470915907, "creation_date": 1470915277, "answer_id": 38895236, "question_id": 38895054, "link": "https://stackoverflow.com/questions/38895054/not-able-to-extract-a-number-from-a-text-file/38895236#38895236", "title": "Not able to extract a number from a text file", "body": "<p>You should put the entire line into the pattern and discern based on he last word before the <code>=</code>. That makes it flexible, because you don't need to care if all of the lines are present.</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse Data::Dumper;\n\nmy %stats;\nwhile (&lt;DATA&gt;) {\n    if ( m/^Total tests ([a-z]+) = (\\d+)/ ) {\n        $stats{$1} = $2;\n    }\n}\n\nprint Dumper \\%stats;\n\n__DATA__\nfile_1 has difference\nfile_2 has difference\nfile_3 has difference\nfile_4 has difference\nfile_5 has difference\nfile_6 has difference\nfile_7 has difference\nfile_8 has difference\nevents has difference\nQShrink has difference\nTotal tests run = 10\nTotal tests passed = 0\nTotal tests failed = 10\n</code></pre>\n\n<p>This solution uses a hash to store the matches.</p>\n\n<pre><code>$VAR1 = {\n          'failed' =&gt; '10',\n          'run' =&gt; '10',\n          'passed' =&gt; '0'\n        };\n</code></pre>\n\n<hr>\n\n<p>Let's take a look at what you did.</p>\n\n<blockquote>\n<pre><code>if($_=~/^# run =/ || $_=~/^# failed =/)\n                {\n                    print $_;\n                    my$entry=&lt;FILE&gt;;\n                    print $entry;\n                }\n</code></pre>\n</blockquote>\n\n<p>This code assumes there is something in <code>$_</code>. Maybe you already opened the file and are reading it.</p>\n\n<pre><code>while (&lt;DATA&gt;) {\n    if ($_ =~ /.../) {\n</code></pre>\n\n<p>So you are saying that if the current line matches the beginning of the string, a <code>#</code>, a space, the word <em>run</em>, a space and an <code>=</code> (or the same with <em>failed</em>, it should print the full line, then assign the next line to  a lexical variable that only exists within that block, and print it.</p>\n\n<p>This pattern does not match your input, so the block will never be executed. If it would be, you'd pull away another line of the input for every line that matches.</p>\n\n<p>All of that is not what you want and does not get you anywhere near the numbers.</p>\n"}], "owner": {"reputation": 25, "user_id": 6704645, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/377d2a81776707a9c45075caf47a4581?s=128&d=identicon&r=PG&f=1", "display_name": "gollusingh09", "link": "https://stackoverflow.com/users/6704645/gollusingh09"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 38895236, "answer_count": 2, "score": 0, "last_activity_date": 1470996209, "creation_date": 1470914713, "last_edit_date": 1470915607, "question_id": 38895054, "link": "https://stackoverflow.com/questions/38895054/not-able-to-extract-a-number-from-a-text-file", "title": "Not able to extract a number from a text file", "body": "<p></p>\n\n<p>I have a text file which has the information of the number of tests that were run, passed and failed.</p>\n\n<p>Also it contains information on which of the tests failed.</p>\n\n<p>I want to extract the total number of the tests that were run and failed.</p>\n\n<p>Below is the sample of the log file:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>file_1 has difference\nfile_2 has difference\nfile_3 has difference\nfile_4 has difference\nfile_5 has difference\nfile_6 has difference\nfile_7 has difference\nfile_8 has difference\nevents has difference\nQShrink has difference\nTotal tests run = 10\nTotal tests passed = 0\nTotal tests failed = 10\n</code></pre>\n\n<p>I tried to capture it like this, but didn't work:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>if ( $_=~/^# run =/ || $_=~/^# failed =/ ) {\n    print $_;\n    my $entry = &lt;FILE&gt;;\n    print $entry;\n}\n</code></pre>\n\n<p>My objective is that I should be able to fetch only the corresponding numbers and not the entire string.</p>\n"}, {"tags": ["xml", "perl", "xpath"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470914019, "post_id": 38894663, "comment_id": 65148637, "body": "Please <a href=\"https://stackoverflow.com/posts/38894663/edit\">edit</a> and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that includes parsing the example XML."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1470914332, "post_id": 38894663, "comment_id": 65148831, "body": "You need to inlcude XML tags in inline code markup using <code>`&lt;foo&gt;`</code>. <a href=\"http://stackoverflow.com/revisions/38894663/2\">I had done that for you</a>, but you overwrote my edit."}], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 1382667, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4d0ecaa0e9d043e9a58a7a4896a9fc2f?s=128&d=identicon&r=PG", "display_name": "Holly", "link": "https://stackoverflow.com/users/1382667/holly"}, "edited": false, "score": 0, "creation_date": 1470921230, "post_id": 38895948, "comment_id": 65153702, "body": "Thank you for the tips.  No your right I had left out the &#39;&lt;georss:where&gt;&#39; as it isn&#39;t required by me. What I do need  is to run 2 loops 1 for &#39;&lt;entry&gt;&#39; with child / images and 2nd loop for the pdf files how might I do this?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1470917928, "last_edit_date": 1470917928, "creation_date": 1470917214, "answer_id": 38895948, "question_id": 38894663, "link": "https://stackoverflow.com/questions/38894663/how-to-test-whether-a-node-contains-a-namespace/38895948#38895948", "title": "How to test whether a node contains a namespace", "body": "<blockquote>\n  <p>Can you test if entry node has <code>georss</code> namespace?</p>\n</blockquote>\n\n<p>There is no data in your example that is in the <code>georss</code> namespace. Everything is in the namespace <code>http://www.w3.org/2005/Atom</code> defined in the <code>feed</code> element. The definition <code>xmlns:georss=\"http://www.georss.org/georss/10\"</code> just specifies a namespace prefix <code>georss</code>, but that prefix is never used</p>\n\n<p>You need to create an <a href=\"https://metacpan.org/pod/XML::LibXML::XPathContext\" rel=\"nofollow\"><code>XML::LibXML::XPathContext</code></a> object attached to the <code>XML::LibXML</code> document that allows you to specify namespace abbreviations. The code looks like below</p>\n\n<p>Note that I've also had to fix your XML data to include a definition of the <code>xsi</code> namespace, as without it the data is not well-formed</p>\n\n<p>You shouldn't make a habit of adding <code>//</code> at the start of every XPath expression. It forces the XPath engine to unnecessarily search the entire document each time, and an explicit XPath from the root is better practice. It also produces the wrong result with your XPath <code>//dft:title[not(@type='text')]</code> because you're starting the search from the root each time and ignoring the <code>entry</code> context node. Just <code>dft:title[not(@type=\"text\")]</code> is correct</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse XML::LibXML;\nuse XML::LibXML::XPathContext;\n\nmy $dom = XML::LibXML-&gt;load_xml( location =&gt; 'feed.xml' );\n\nmy $xpc = XML::LibXML::XPathContext-&gt;new($dom);\n$xpc-&gt;registerNs( dft    =&gt; 'http://www.w3.org/2005/Atom' );\n$xpc-&gt;registerNs( georss =&gt; 'http://www.georss.org/georss/10' );\n\nfor my $entry ($xpc-&gt;findnodes('/dft:feed/dft:entry')) {\n\n     for my $images ($xpc-&gt;findnodes('dft:title[not(@type=\"text\")]', $entry)) {\n\n         my $image_val = $images-&gt;textContent;\n\n         print $image_val, \"\\n\";\n     }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>fileName1.jpg\nfileName2.jpg\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 1382667, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4d0ecaa0e9d043e9a58a7a4896a9fc2f?s=128&d=identicon&r=PG", "display_name": "Holly", "link": "https://stackoverflow.com/users/1382667/holly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1470917928, "creation_date": 1470913642, "last_edit_date": 1470917653, "question_id": 38894663, "link": "https://stackoverflow.com/questions/38894663/how-to-test-whether-a-node-contains-a-namespace", "title": "How to test whether a node contains a namespace", "body": "<p>Given the XML snippet bellow how do I tell the difference between </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;entry xmlns:georss=\"...\"&gt;\n</code></pre>\n\n<p>with the children</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;title&gt;fileName1.jpg&lt;/title&gt; \n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;entry&gt;&lt;title type=\"text\"&gt;fileName.pdf&lt;/title&gt;&lt;/entry&gt;\n</code></pre>\n\n<p>I'm using <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow\"><code>XML::LibXML</code></a> to loop through the <code>&lt;entry&gt;</code> but this gets each one so the connection between <code>&lt;type&gt;</code> and <code>&lt;link&gt;</code> is lost. I need to test at the <code>&lt;entry&gt;</code> level not the child <code>&lt;type&gt;</code> level</p>\n\n<p>Can you test if entry node has georss namespace?</p>\n\n<p>Something like this gets the value of <code>&lt;type&gt;</code></p>\n\n<pre><code>foreach my $Entry ($dom-&gt;findnodes(\"//dft:feed/dft:entry\")) {\n\n     foreach my $Images ($dom-&gt;findnodes(\"//dft:title[not(\\@type='text')]\", $Entry)) {\n         my $ImageVal = $Images-&gt;textContent;\n          ####  This finds all the Images\n\n     }\n\n}\n</code></pre>\n\n<p>XML Snippet</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;feed xmlns=\"http://www.w3.org/2005/Atom\" xmlns:georss=\"http://www.georss.org/georss\"&gt;\n\n  &lt;entry xmlns:georss=\"http://www.georss.org/georss/10\" xsi:schemaLocation =\"http://www.url1.net/path/ http://www.url2.net/path/11  http://www.url3.net/path/23\" &gt;\n    &lt;title&gt;fileName1.jpg&lt;/title&gt;\n    &lt;link href=\"PathTo/fileName1.jpg\" /&gt;\n  &lt;/entry&gt;\n\n  &lt;entry xmlns:georss=\"http://www.georss.org/georss/10\" xsi:schemaLocation =\"http://www.url1.net/path/ http://www.url2.net/path/11  http://www.url3.net/path/23\" &gt;\n    &lt;title&gt;fileName2.jpg&lt;/title&gt;\n    &lt;link href=\"PathTo/fileName2.jpg\" /&gt;\n  &lt;/entry&gt;\n\n  &lt;entry&gt;\n    &lt;title type=\"text\"&gt;fileName.pdf&lt;/title&gt;\n    &lt;link type=\"application/pdf\"  href=\"PathTo/fileName.pdf\" /&gt;\n  &lt;/entry&gt;\n\n&lt;/feed&gt;\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 109, "user_id": 4157337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/506149007/picture?type=large", "display_name": "Anthony &#39;Runt&#39; Cleaves", "link": "https://stackoverflow.com/users/4157337/anthony-runt-cleaves"}, "edited": false, "score": 0, "creation_date": 1470913129, "post_id": 38894317, "comment_id": 65148062, "body": "Thanks for the edits, although down voting because of some grammatical errors is pretty lame."}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 4157337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/506149007/picture?type=large", "display_name": "Anthony &#39;Runt&#39; Cleaves", "link": "https://stackoverflow.com/users/4157337/anthony-runt-cleaves"}, "edited": false, "score": 0, "creation_date": 1470912933, "post_id": 38894393, "comment_id": 65147927, "body": "I just realised this as you answered it. The simple things eh? Appreciated."}], "tags": [], "owner": {"reputation": 16507, "user_id": 4787126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a822df86c907c77c792a8f91b2bab41?s=128&d=identicon&r=PG&f=1", "display_name": "Zbynek Vyskovsky - kvr000", "link": "https://stackoverflow.com/users/4787126/zbynek-vyskovsky-kvr000"}, "is_accepted": true, "score": 3, "last_activity_date": 1470912950, "last_edit_date": 1470912950, "creation_date": 1470912867, "answer_id": 38894393, "question_id": 38894317, "link": "https://stackoverflow.com/questions/38894317/perl-regex-hitting-condition-when-not-matching/38894393#38894393", "title": "Perl regex hitting condition when not matching", "body": "<p>The regexp is almost fine, you just used wrong logical operator - or. It should be and:</p>\n\n<pre><code>if ($pri !~ /local/ &amp;&amp; $pri !~ /all/) {\n    ...\n</code></pre>\n\n<p>Also for regexp consider surrounding by ^ and $ to have full string match.</p>\n"}], "owner": {"reputation": 109, "user_id": 4157337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/506149007/picture?type=large", "display_name": "Anthony &#39;Runt&#39; Cleaves", "link": "https://stackoverflow.com/users/4157337/anthony-runt-cleaves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 38894393, "answer_count": 1, "score": -1, "last_activity_date": 1470912950, "creation_date": 1470912645, "last_edit_date": 1470912798, "question_id": 38894317, "link": "https://stackoverflow.com/questions/38894317/perl-regex-hitting-condition-when-not-matching", "title": "Perl regex hitting condition when not matching", "body": "<p>I am checking a status of a program and acting apon it.</p>\n\n<p>So I either receive <strong>all</strong>, <strong>local</strong> or an <strong>error</strong>.</p>\n\n<p>However upon checking it with my <code>regex</code> I am always hitting the condition even when it doesn't match.</p>\n\n<pre><code>    if ($pri !~ /local/ || $pri !~ /all/) {\n            print $pri.\"\\n\";\n            print \"[PRIMARY] Heartbeat is not responding correctly \\n\";\n            $status++;\n    }\n</code></pre>\n\n<p>Above print displays as:</p>\n\n<pre><code>perl test.pl -p xx.xx.xx.xx -s xx.xx.xx.xx\nall\n[PRIMARY] Heartbeat is not responding correctly\n</code></pre>\n\n<p>And a dump looks like</p>\n\n<pre><code>perl test.pl -p xx.xx.xx.xx -s xx.xx.xx.xx\n$VAR1 = 'all';\n[PRIMARY] Heartbeat is not responding correctly\n</code></pre>\n\n<p>Am I missing something obvious? To me the condition should be skipped as the value is <strong>all</strong>.</p>\n\n<p>Any feedback would be appreciated.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470906629, "post_id": 38891584, "comment_id": 65143570, "body": "Since you get a <a href=\"https://metacpan.org/pod/GD\" rel=\"nofollow noreferrer\">GD::Image</a> back, you can use its method to inspect and alter things. Find out if the transparency is set correctly first, then how to make it render as white before you print it."}], "answers": [{"comments": [{"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1470907124, "post_id": 38892026, "comment_id": 65143933, "body": "Thanks for the example. Are you suggesting something like:  \t\t  \t<code>my $image = Image::Resize-&gt;new($read_path); \t\t  \tmy $white = $image-&gt;colorAllocate(255,255,255);         \t   $image-&gt;transparent($white); $image-&gt;interlaced(&#39;true&#39;);         \tmy $gd = $image-&gt;resize(1000,1000);</code>  As that doesn&#39;t seem to work :("}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1470907386, "post_id": 38892026, "comment_id": 65144104, "body": "@AndrewNewby Something like that, yes. I&#39;d first resize then set the background.  The problem is that your result clearly picks up the black background, somewhere else. This isn&#39;t about resizing. The asnwer to that is to use <code>GD::Image</code> -- you can certainly work it out with it (note that this is the <code>GD</code> module, the whole of it).  I guess that you&#39;ll need to identify what sets it to black (and when)."}, {"owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 0, "creation_date": 1470908814, "post_id": 38892026, "comment_id": 65145190, "body": "Thanks.  I ended up doing a bit of a dirty hack, by converting it from PNG into JPG using imagemagick: ``convert &quot;$read_path&quot; -background white -flatten &quot;$path/$filename&quot;<code>;</code>. TBH, thats probably the best option anyway - as JPG&#39;s are much smaller in filesize compared to PNG&#39;s"}, {"owner": {"reputation": 1172, "user_id": 17092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yXHhh.png?s=128&g=1", "display_name": "Wick", "link": "https://stackoverflow.com/users/17092/wick"}, "edited": false, "score": 0, "creation_date": 1502903706, "post_id": 38892026, "comment_id": 78397171, "body": "See <a href=\"https://stackoverflow.com/questions/4900766/how-to-preserve-transparency-when-resizing-png-using-perl-and-gd\" title=\"how to preserve transparency when resizing png using perl and gd\">stackoverflow.com/questions/4900766/&hellip;</a>   ... there&#39;s a saveAlpha() GD setting that needs to be enabled."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "edited": false, "score": 1, "creation_date": 1502904477, "post_id": 38892026, "comment_id": 78397620, "body": "@AndrewNewby  Note the above comment. I added a note to the end of my answer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1172, "user_id": 17092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yXHhh.png?s=128&g=1", "display_name": "Wick", "link": "https://stackoverflow.com/users/17092/wick"}, "edited": false, "score": 0, "creation_date": 1502918650, "post_id": 38892026, "comment_id": 78404296, "body": "@Wick  Thank you for the comment, added to my answer (and pinged the OP)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1502904275, "last_edit_date": 1502904275, "creation_date": 1470906639, "answer_id": 38892026, "question_id": 38891584, "link": "https://stackoverflow.com/questions/38891584/perl-imageresize-module-and-png-images/38892026#38892026", "title": "Perl Image::Resize module, and PNG images", "body": "<p>The <code>Image::Resize</code> module only does that, resizes the image.  </p>\n\n<p>However, it does return a <a href=\"http://search.cpan.org/~lds/GD-2.56/lib/GD.pm\" rel=\"nofollow noreferrer\"><code>GD::Image</code></a> object.  You can then use the full power of <code>gd</code> for your image.</p>\n\n<p>The method <code>GD::Image::transparent</code> may be what you are looking for. Copied from docs</p>\n\n<pre><code># allocate some colors\nmy $white = $im-&gt;colorAllocate(255,255,255);\n\n# make the background transparent and interlaced\n$im-&gt;transparent($white);\n$im-&gt;interlaced('true');\n</code></pre>\n\n<p>The <code>$im</code> is a <code>GD::Image</code> object, in your case returned by <code>Image::Resize::resize</code>. </p>\n\n<p>The particular problem isn't explained and I am not sure how you pick up the black background, but if the above doesn't do it you'll find the specific solution with the <code>GD::Image</code>.</p>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/questions/4900766/how-to-preserve-transparency-when-resizing-png-using-perl-and-gd\">This post</a> may lead to a direct answer, by linking to <a href=\"https://stackoverflow.com/questions/32243/can-png-image-transparency-be-preserved-when-using-phps-gdlib-imagecopyresample\">this post</a>\n: enable the <code>saveAlpha()</code> GD setting. </p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/17092/wick\">Wick</a> for the comment.</p>\n"}, {"tags": [], "owner": {"reputation": 1172, "user_id": 17092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yXHhh.png?s=128&g=1", "display_name": "Wick", "link": "https://stackoverflow.com/users/17092/wick"}, "is_accepted": false, "score": 0, "last_activity_date": 1583522412, "creation_date": 1583522412, "answer_id": 60570342, "question_id": 38891584, "link": "https://stackoverflow.com/questions/38891584/perl-imageresize-module-and-png-images/60570342#60570342", "title": "Perl Image::Resize module, and PNG images", "body": "<p>Oddly enough I ran across this same problem, again, 3 years later after commenting on the accepted answer about the saveAlpha() setting. This time I was working with source PNGs that only had an alpha transparency. Nothing with GD's saveAlpha() or transparent() settings worked when resizing &amp; saving as JPGs. I got the dreaded black background each time.</p>\n\n<p>What I did to fix it was create a new image, apply a white filled rectangle as a background, then apply the resized image on top of that:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>my $width = 320;\r\nmy $height = 240;\r\nmy $image = GD::Image-&gt;new($width,$height);\r\nmy $white = $image-&gt;colorAllocate(255,255,255);\r\n$image-&gt;filledRectangle(0,0,$width,$height,$white);\r\n$image-&gt;saveAlpha(0);\r\n\r\nmy $gdo = GD::Image-&gt;newFromPng(\"filename.png\");\r\n$image-&gt;copyResampled($gdo,0,0,0,0,$width,$height,$gdo-&gt;width,$gdo-&gt;height);\r\n\r\nopen my $FH,'&gt;',\"filename.jpg\";\r\nbinmode $FH;\r\nprint {$FH} $image-&gt;jpeg;\r\nclose $FH;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4155, "user_id": 2006878, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/VepQx.jpg?s=128&g=1", "display_name": "Andrew Newby", "link": "https://stackoverflow.com/users/2006878/andrew-newby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 792, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1583522412, "creation_date": 1470905421, "last_edit_date": 1470909793, "question_id": 38891584, "link": "https://stackoverflow.com/questions/38891584/perl-imageresize-module-and-png-images", "title": "Perl Image::Resize module, and PNG images", "body": "<p>I'm trying to figure out how to use the <code>Image::Resize</code> Perl module, to scale down PNG images. The following code <em>does</em> work:</p>\n\n<pre><code>        my $image = Image::Resize-&gt;new($read_path);\n        my $gd = $image-&gt;resize(1000,1000);\n        open (DISPLAY,\"&gt;$write_path\") || die \"Cant write $write_path, Reason: $!\";\n            binmode DISPLAY;\n            if ($read_path =~ /\\.jpg$/i) {           \n             print DISPLAY  $gd-&gt;jpeg();\n            } elsif ($read_path =~ /\\.gif$/i) {           \n             print DISPLAY  $gd-&gt;gif();\n            } elsif ($read_path =~ /\\.png$/i) {           \n             print DISPLAY  $gd-&gt;png();\n            }\n        close DISPLAY;\n</code></pre>\n\n<p>However, the outcome isn't what I would like (the scaled version has a black background when you convert a transparent PNG)</p>\n\n<p><strong>Original:</strong>\n<a href=\"https://i.stack.imgur.com/L3WeD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L3WeD.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Scaled:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/dUSv8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dUSv8.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I tell it to put a white background on the image? I checked out the manpage, but couldn't see anything helpful:</p>\n\n<p><a href=\"http://search.cpan.org/dist/Image-Resize/Resize.pm\" rel=\"nofollow noreferrer\">http://search.cpan.org/dist/Image-Resize/Resize.pm</a></p>\n\n<p>Thanks!</p>\n\n<p><strong>UPDATE:</strong> For anyone interested, what I ended up doing was just converting them from a .png to .jpg using <code>convert</code>;</p>\n\n<pre><code>convert \"$read_path\" -background white -flatten \"$path/$filename\"\n</code></pre>\n\n<p>That actually works out better in this instance, as we don't need the transparency (and jpg's are much smaller in size)</p>\n"}, {"tags": ["perl", "mpc", "opendds"], "comments": [{"owner": {"reputation": 2841, "user_id": 596545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4726914ef76517e96e937ab607455?s=128&d=identicon&r=PG", "display_name": "Johnny Willemsen", "link": "https://stackoverflow.com/users/596545/johnny-willemsen"}, "edited": false, "score": 0, "creation_date": 1479455129, "post_id": 38891237, "comment_id": 68573764, "body": "MPC stands for MakeProjectCreator and is a tool used by OpenDDS to generate the makefiles. Which GCC are you using?"}], "answers": [{"tags": [], "owner": {"reputation": 2841, "user_id": 596545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adb4726914ef76517e96e937ab607455?s=128&d=identicon&r=PG", "display_name": "Johnny Willemsen", "link": "https://stackoverflow.com/users/596545/johnny-willemsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1496250438, "creation_date": 1496250438, "answer_id": 44290841, "question_id": 38891237, "link": "https://stackoverflow.com/questions/38891237/opendds-perl-script-setup-throwing-error/44290841#44290841", "title": "OpenDDS Perl Script Setup Throwing Error", "body": "<p>You need to make sure that you are using ActiveState perl on windows, other perl variants seem not to work 100%</p>\n"}], "owner": {"reputation": 93, "user_id": 3235290, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/725324c3e100706166ba9d4db2a8dfb3?s=128&d=identicon&r=PG&f=1", "display_name": "user3235290", "link": "https://stackoverflow.com/users/3235290/user3235290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 611, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526593152, "creation_date": 1470904449, "last_edit_date": 1495540417, "question_id": 38891237, "link": "https://stackoverflow.com/questions/38891237/opendds-perl-script-setup-throwing-error", "title": "OpenDDS Perl Script Setup Throwing Error", "body": "<p>Continuing from this SO <a href=\"https://stackoverflow.com/questions/38854253/perl-script-lacking-path-for-compiler-what-compiler?noredirect=1#comment65072692_38854253\">question</a>.</p>\n\n<p>When following the openDDS <a href=\"http://opendds.org/quickstart/GettingStartedWindows.html\" rel=\"nofollow noreferrer\">install guide</a> I attempt to run <code>configure</code> from within the command prompt but receive this output recieve this error set:</p>\n\n<pre><code>C:\\Users\\Supervisor\\Desktop\\opendds&gt;C:\\Users\\Supervisor\\Desktop\\opendds\\configure.cmd\nOptions:\n'compiler' =&gt; 'gcc'\n'verbose' =&gt; 1\nhost system is: win32\ncompiler is: gcc\nUsing ace_src: C:/Users/Supervisor/Desktop/opendds/ACE_wrappers\nUsing tao_src: C:/Users/Supervisor/Desktop/opendds/ACE_wrappers/TAO\nACE_ROOT/ace/config.h exists, skipping configuration of ACE+TAO\nENV: saving current environment\nENV: Appending ;C:\\Users\\Supervisor\\Desktop\\opendds\\ACE_wrappers\\bin;C:\\Users\\Supervisor\\Desktop\\opendds\\bin;C:\\Users\\Supervisor\\Desktop\\opend\nds\\ACE_wrappers\\lib;C:\\Users\\Supervisor\\Desktop\\opendds\\lib to PATH\nENV: Setting ACE_ROOT to C:\\Users\\Supervisor\\Desktop\\opendds\\ACE_wrappers\nENV: Setting MPC_ROOT to C:\\Users\\Supervisor\\Desktop\\opendds\\ACE_wrappers\\MPC\nENV: Setting CIAO_ROOT to unused\nENV: Setting TAO_ROOT to C:\\Users\\Supervisor\\Desktop\\opendds\\ACE_wrappers\\TAO\nENV: Setting DDS_ROOT to C:\\Users\\Supervisor\\Desktop\\opendds\nENV: Setting DANCE_ROOT to unused\nUse of uninitialized value $mpctype in concatenation (.) or string at configure line 1028.\nOpenDDS mwc command line: -type  C:\\Users\\Supervisor\\Desktop\\opendds\\DDS_TAOv2_all.mwc\nUse of uninitialized value $mpctype in string eq at configure line 1031.\nRunning MPC to generate project files.\nMPC_ROOT was set to C:\\Users\\Supervisor\\Desktop\\opendds\\ACE_wrappers\\MPC.\nUsing .../opendds/ACE_wrappers/bin/MakeProjectCreator/config/MPC.cfg\nERROR: Invalid type: C:\\Users\\Supervisor\\Desktop\\opendds\\DDS_TAOv2_all.mwc\nmwc.pl v4.1.8\nUsage: mwc.pl [-global &lt;file&gt;] [-include &lt;directory&gt;] [-recurse]\n              [-ti &lt;dll | lib | dll_exe | lib_exe&gt;:&lt;file&gt;] [-hierarchy]\n              [-template &lt;file&gt;] [-relative NAME=VAL] [-base &lt;project&gt;]\n              [-noreldefs] [-notoplevel] [-static] [-genins] [-use_env]\n              [-value_template &lt;NAME+=VAL | NAME=VAL | NAME-=VAL&gt;]\n              [-value_project &lt;NAME+=VAL | NAME=VAL | NAME-=VAL&gt;]\n              [-make_coexistence] [-feature_file &lt;file name&gt;] [-gendot]\n              [-expand_vars] [-features &lt;feature definitions&gt;]\n              [-exclude &lt;directories&gt;] [-name_modifier &lt;pattern&gt;]\n              [-apply_project] [-version] [-into &lt;directory&gt;]\n              [-gfeature_file &lt;file name&gt;] [-nocomments]\n              [-relative_file &lt;file name&gt;] [-for_eclipse]\n              [-workers &lt;#&gt;] [-workers_dir &lt;dir&gt; | -workers_port &lt;#&gt;]\n              [-language &lt;cplusplus | csharp | java | vb&gt;]\n              [-type &lt;automake | bcb2007 | bcb2009 | bds4 | bmake | cc | cdt6 |\n                      cdt7 | em3 | ghs | gnuace | gnuautobuild | html | make |\n                      nmake | rpmspec | sle | vc6 | vc7 | vc8 | vc10 | vc11 |\n                      vc12 | vc14 | vc71 | vc9 | vxtest | wb26 | wb30 | wix&gt;]\n              [files]\n\n       -base           Add &lt;project&gt; as a base project to each generated\n                       project file.  Do not provide a file extension, the\n                       .mpb extension will be tried first; if that fails the\n                       .mpc extension will be tried.\n       -exclude        Use this option to exclude directories or files when\n                       searching for input files.\n       -expand_vars    Perform direct expansion, instead of performing relative\n                       replacement with either -use_env or -relative options.\n       -feature_file   Specifies the feature file to read before processing.\n                       The default feature file is default.features under the\n                       config directory.\n       -features       Specifies the feature list to set before processing.\n       -for_eclipse    Generate files for use with eclipse.  This is only\n                       useful for make based project types.\n       -gendot         Generate .dot files for use with Graphviz.\n       -genins         Generate .ins files for use with prj_install.pl.\n       -gfeature_file  Specifies the global feature file.  The\n                       default value is global.features under the\n                       config directory.\n       -global         Specifies the global input file.  Values stored\n                       within this file are applied to all projects.\n       -hierarchy      Generate a workspace in a hierarchical fashion.\n       -include        Specifies a directory to search when looking for base\n                       projects, template input files and templates.  This\n                       option can be used multiple times to add directories.\n       -into           Place all output files in a mirrored directory\n                       structure starting at &lt;directory&gt;.  This should be a\n                       full path.  If any project within the workspace is\n                       referenced via a full path, use of this option is\n                       likely to cause problems.\n       -language       Specify the language preference; possible values are\n                       [cplusplus, csharp, java, vb].  The default is\n                       cplusplus.\n       -make_coexistence If multiple 'make' based project types are\n                       generated, they will be named such that they can coexist.\n       -name_modifier  Modify output names.  The pattern passed to this\n                       parameter will have the '*' portion replaced with the\n                       actual output name.  Ex. *_Static\n       -apply_project  When used in conjunction with -name_modifier, it applies\n                       the name modifier to the project name also.\n       -nocomments     Do not place comments in the generated files.\n       -noreldefs      Do not try to generate default relative definitions.\n       -notoplevel     Do not generate the top level target file.  Files\n                       are still processed, but no top level file is created.\n       -recurse        Recurse from the current directory and generate from\n                       all found input files.\n       -relative       Any $() variable in an mpc file that is matched to NAME\n                       is replaced by VAL only if VAL can be made into a\n                       relative path based on the current working directory.\n                       This option can be used multiple times to add multiple\n                       variables.\n       -relative_file  Specifies the relative file to read before processing.\n                       The default relative file is default.rel under the\n                       config directory.\n       -static         Specifies that only static projects will be generated.\n                       By default, only dynamic projects are generated.\n       -template       Specifies the template name (with no extension).\n       -workers        Specifies number of child processes to use to generate\n                       projects.\n       -workers_dir    The directory for storing temporary output files\n                       from the child processes.  The default is '/tmp/mpc'\n                       If neither -workers_dir nor -workers_port is used,\n                       -workers_dir is assumed.\n       -workers_port   The port number for the parent listener. If neither\n                       -workers_dir nor -workers_port is used, -workers_dir\n                       is assumed.\n       -ti             Specifies the template input file (with no extension)\n                       for the specific type (ex. -ti dll_exe:vc8exe).\n       -type           Specifies the type of project file to generate.  This\n                       option can be used multiple times to generate multiple\n                       types.  There is no longer a default.\n       -use_env        Use environment variables for all uses of $() instead\n                       of the relative replacement values.\n       -value_project  This option allows modification of a project variable\n                       assignment.  Use += to add VAL to the NAME's value.\n                       Use -= to subtract and = to override the value.\n                       This can be used to introduce new name value pairs to\n                       a project.  However, it must be a valid project\n                       assignment.\n       -value_template This option allows modification of a template input\n                       name value pair.  Use += to add VAL to the NAME's\n                       value.  Use -= to subtract and = to override the value.\n       -version        Print the MPC version and exit.\nError from MPC, stopped at configure line 1035.\n</code></pre>\n\n<p>The cmd script being run is:</p>\n\n<pre><code>@echo off\n:: Win32 configure script wrapper for OpenDDS\n:: Distributed under the OpenDDS License.\n:: See: http://www.opendds.org/license.html\n\nfor %%x in (perl.exe) do set PERLPATH=%%~dp$PATH:x\nif x%PERLPATH%==x (\n  echo ERROR: perl.exe was not found.  This script requires ActiveState Perl.\n  exit /b 1\n)\nset PERLPATH=\nperl configure -verbose --compiler=gcc %*\nif exist setenv.cmd call setenv.cmd\n</code></pre>\n\n<p>And the section of <code>configure</code> that generates the error is:</p>\n\n<pre><code>  my $mwcargs = \"-type $mpctype $buildEnv-&gt;{'DDS_ROOT'}$slash$ws $static\";\n  $mwcargs .= ' ' . $opts{'mpcopts'} if defined $opts{'mpcopts'};\n  print \"OpenDDS mwc command line: $mwcargs\\n\" if $opts{'verbose'};\n  print 'Running MPC to generate ', ($mpctype eq 'gnuace' ? 'makefiles' :\n                                     'project files'), \".\\n\";\n  if (!$opts{'dry-run'}) {\n    if (system(\"perl $ENV{'ACE_ROOT'}/bin/mwc.pl $mwcargs\") != 0) {\n      die \"Error from MPC, stopped\";\n    }\n  }\n</code></pre>\n\n<p>Where initial unset variable is set:</p>\n\n<pre><code>  my $mpctype = ($slash eq '/') ? 'gnuace' : $opts{'compiler_version'};\n</code></pre>\n\n<p>I have both perl and visual studio installed. Looking up MPC I can find a 'multi-precision library. Could this be because I am using gcc? I have to use GCC in order to create a library to use with the JNI out of this code eventually...</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1470901465, "post_id": 38890156, "comment_id": 65140442, "body": "Your description is not very clear. Can you <a href=\"https://stackoverflow.com/posts/38890156/edit\">edit</a> the question and just make a list of expected output for each of the strings you put in? It sounds like your pattern is wrong, but I don&#39;t understand what you are trying to do."}, {"owner": {"reputation": 61409, "user_id": 485343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e18b024a122df74275dd2c4486e8a2b4?s=128&d=identicon&r=PG", "display_name": "rustyx", "link": "https://stackoverflow.com/users/485343/rustyx"}, "edited": false, "score": 0, "creation_date": 1470902465, "post_id": 38890156, "comment_id": 65141077, "body": "<code>!~</code> means <i>does not match</i> (is just the logical opposite of <code>=~</code>)"}, {"owner": {"reputation": 121, "user_id": 3248582, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000756611427/picture?type=large", "display_name": "Satya", "link": "https://stackoverflow.com/users/3248582/satya"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470906115, "post_id": 38890156, "comment_id": 65143216, "body": "@simbabque , in my case actual_state can be any thing out of <code>ABC+DEF   ABC+DEF,   ABC+DEF,,</code> as i dont have control over it .but what i am passing is constant here i.e <code>ABC+DEF</code> .  i am trying to match negatively  ABC+DEF with what ever will be there with actual_state. i mean ABC+DEF !~ ABC+DEF  or ABC+DEF !~ ABC+DEF,   or ABC+DEF !~ ABC+DEF,, . For all cases it should be false and return 1"}], "answers": [{"comments": [{"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 1, "creation_date": 1470902164, "post_id": 38890291, "comment_id": 65140889, "body": "He also needs to escape the <code>+</code>. Currently this matches <code>ABCCCDEF</code> but not <code>ABC+DEF</code>"}, {"owner": {"reputation": 121, "user_id": 3248582, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000756611427/picture?type=large", "display_name": "Satya", "link": "https://stackoverflow.com/users/3248582/satya"}, "reply_to_user": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1470908161, "post_id": 38890291, "comment_id": 65144710, "body": "working fine after skipping + and removing comma. Thank you and @slebetman"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 121, "user_id": 3248582, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000756611427/picture?type=large", "display_name": "Satya", "link": "https://stackoverflow.com/users/3248582/satya"}, "edited": false, "score": 1, "creation_date": 1470908298, "post_id": 38890291, "comment_id": 65144818, "body": "@Satya Great, glad it helped.  Let me know if any explanation would be useful."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1470984790, "last_edit_date": 1495540860, "creation_date": 1470901560, "answer_id": 38890291, "question_id": 38890156, "link": "https://stackoverflow.com/questions/38890156/not-able-to-understand-in-regex/38890291#38890291", "title": "Not able to understand !~ in regex", "body": "<p>You have a comma <code>,</code> hardcoded in your <code>$actual_state</code>. So it cannot match the input you are testing with, <code>ABC+DEF</code> without a comma. The way you build the pattern you also need to escape the <code>+</code> (thanks to <a href=\"https://stackoverflow.com/users/167735/slebetman\">slebetman</a>), so </p>\n\n<pre><code>my $actual_state = 'ABC\\+DEF';\n</code></pre>\n\n<p>and the posted code works in my tests. </p>\n\n<p>This assumes that your input must indeed end with that string, optionally followed only by commas.</p>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 3248582, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000756611427/picture?type=large", "display_name": "Satya", "link": "https://stackoverflow.com/users/3248582/satya"}, "edited": false, "score": 1, "creation_date": 1470908017, "post_id": 38890540, "comment_id": 65144588, "body": "replaced <b>,</b> and used <b>quotemeta</b> for skipping + , working fine for me. Thank you"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 3, "last_activity_date": 1470902626, "last_edit_date": 1470902626, "creation_date": 1470902297, "answer_id": 38890540, "question_id": 38890156, "link": "https://stackoverflow.com/questions/38890156/not-able-to-understand-in-regex/38890540#38890540", "title": "Not able to understand !~ in regex", "body": "<blockquote>\n  <p>why i wrote my $actual_state   = 'ABC+DEF,'; Because the values\n  ABC+DEF   ABC+DEF,   ABC+DEF,, are coming as a part of a hash value\n  for a specific key eg. my $actual_state   = $status->{state}; .</p>\n</blockquote>\n\n<p>If that's the case then you can either remove trailing comma(s) from <code>$actual_state</code> or ignore them in pattern matching.</p>\n\n<p>Also use <a href=\"http://perldoc.perl.org/functions/quotemeta.html\" rel=\"nofollow\">quotemeta</a>. See below example to get an idea.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $expected = qr{ABC+DEF};\nmy $actual_state = qr{ABC+DEF};\n#my $actual_state = qr{ABC+DEF,};\n#my $actual_state = qr{ABC+DEF,,};\n#if $actual_state has comma then you can do search and replace\n$actual_state =~ s/,//g;\nprint \"Matched\" if $expected =~ /\\Q$actual_state\\E/;\n#prints \"Matched\"\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 3248582, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000756611427/picture?type=large", "display_name": "Satya", "link": "https://stackoverflow.com/users/3248582/satya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 38890291, "answer_count": 2, "score": 2, "last_activity_date": 1470984790, "creation_date": 1470901131, "question_id": 38890156, "link": "https://stackoverflow.com/questions/38890156/not-able-to-understand-in-regex", "title": "Not able to understand !~ in regex", "body": "<p>My requirement is to pass a string with + (eg: ABC+DEF). And it should match with any value for actual_state, values can be <code>ABC+DEF   ABC+DEF,   ABC+DEF,,</code> etc .Here there can be one or more comma after ABC+DEF. But it should not match with <code>ABC+DEF, PQR-SL</code>.</p>\n\n<p>Below is the code snippet what i tried:</p>\n\n<pre><code>sub verify_state{\n     my $expected_state = shift;\n     my $vol            = 'vol';\n     my $actual_state   = 'ABC+DEF,';\n     print \"Verify backend state for $vol\\n\";\n     print \"Expected backend state for $vol = $expected_state\\n\";\n     print \"Actual backend state for $vol = $actual_state\\n\";\n     if ( $expected_state !~ /$actual_state,*$/ ) {\n         print\n             \"Expected state was $expected_state but got $actual_state for $vol\\n\"\n         ;\n         return 0;\n     }\n     return 1;\n }\n\n my $val = verify_state('ABC+DEF');\n print $val,\"\\n\";\n</code></pre>\n\n<p>it should return me 1 if i will pass <code>ABC+DEF</code>.\n0 if i will pass <code>ABC+DEF, PQR-SL</code></p>\n\n<p>why i wrote <code>my $actual_state   = 'ABC+DEF,';</code>\nBecause the values <code>ABC+DEF   ABC+DEF,   ABC+DEF,,</code> are coming as a part of a hash value for a specific key eg. <code>my $actual_state   = $status-&gt;{state};</code> .</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470901071, "post_id": 38889896, "comment_id": 65140203, "body": "Do you want both of them in the same process? Is this about using different versions of the same thing?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1470901971, "post_id": 38889896, "comment_id": 65140765, "body": "Is something wrong with using fully qualified names?"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1470902647, "post_id": 38889896, "comment_id": 65141191, "body": "The most naive way that comes to my mind to do what you&#39;re asking is not a good way (brings up a warning), but works (and still, not recommended which is why I&#39;m not posting this as an answer):     <code>unshift @INC, &quot;yourpath&#47;dir1&quot;;     do &#39;p1.pl&#39;;     package1::sub1();      shift @INC;      unshift @INC,&quot;yourpath&#47;dir2&quot;;     do &#39;p1.pl&#39;;     package1::sub1();</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1470902841, "post_id": 38889896, "comment_id": 65141308, "body": "@yonyon100 brrrr, <code>do</code>. But that might actually work. It just will not remember that it loaded those files. And please, don&#39;t include <i>.pl</i> files. If it has namespaces, it should be <i>.pm</i> files."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470903154, "post_id": 38889896, "comment_id": 65141502, "body": "@simbabque I know, I know, <code>do</code> is a bad practice and including <code>.pl</code> files is bad, but <code>do</code> will work because it doesn&#39;t remember which files it loaded (unlike <code>require</code>) and I wrote <code>.pl</code> in include because I ran a quick try on this and didn&#39;t pay much attention to the suffix. Of course you&#39;re right, it should be <code>.pm</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1470903373, "post_id": 38889896, "comment_id": 65141626, "body": "@yonyon100 it&#39;s actually a good suggestion if it comes with he right disclaimer and an explanation of why and how it works. You should make it an answer."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1470902273, "post_id": 38890451, "comment_id": 65140960, "body": "Actually having <code>qw(fun)</code> on both of the <code>use</code> statements makes no sense. It would import the first, then overwrite it with the second. If you want to call the fully qualified names anyway, tell it to not import anything, because why bother."}, {"owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1470902536, "post_id": 38890451, "comment_id": 65141117, "body": "@simbabque Thanks, Tried to be extra verbose, sounds wrong. Anyways edited."}], "tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1470902512, "last_edit_date": 1470902512, "creation_date": 1470902023, "answer_id": 38890451, "question_id": 38889896, "link": "https://stackoverflow.com/questions/38889896/import-same-named-function-from-to-same-named-packages/38890451#38890451", "title": "Import same named function from to same named packages", "body": "<p>I will suggest you to name the packages based on the directories (for eg <code>Dir1::Package1</code>, <code>Dir2::Package1</code>) on which they are; and keep them into same base (/lib in this case) directory:</p>\n\n<pre><code>/lib--\n     |\n      ---/Dir1--\n     |        |\n     |        --Dir1::Package1\n     |\n     |\n     ---/Dir2--\n              |\n              -- Dir2::Package1\n</code></pre>\n\n<p>Then in the script you can fully qualify the <em>subroutine</em> name to call from those packages according to your wish:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse lib qw(./lib);\nuse Dir1::Package1;\nuse Dir2::Package1;\n\n# call from Dir1 Package1\nDir1::Package1::fun();\n\n# call from Dir2 Package1\nDir2::Package1::fun();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "is_accepted": false, "score": 0, "last_activity_date": 1470904248, "last_edit_date": 1470904248, "creation_date": 1470903885, "answer_id": 38891033, "question_id": 38889896, "link": "https://stackoverflow.com/questions/38889896/import-same-named-function-from-to-same-named-packages/38891033#38891033", "title": "Import same named function from to same named packages", "body": "<p>I'll start of by saying that the way I'm suggesting is highly not recommended and will bring up a warning.\nThe most naive way that comes to my mind to do what you're asking is using <code>do</code>:   </p>\n\n<pre><code>unshift @INC, \"yourpath/dir1\";\ndo 'package1.pm';\npackage1::sub1();\n\nshift @INC;\n\nunshift @INC,\"yourpath/dir2\";\ndo 'package1.pm';\npackage1::sub1();\n</code></pre>\n\n<p>Let's say that <code>sub1</code> prints the current directory, so the output will look like this:</p>\n\n<pre><code>dir1\nSubroutine sub1 redefined at   yourpath/dir2/package1.pm line 8.\ndir2\n</code></pre>\n\n<p>Again, don't use that unless you don't care for some reason for warnings. It's a bad practice that can cause a lot of future bugs.</p>\n\n<p><b>Why it works:</b>\n<code>do</code> loads the code and doesn't remember that it loaded it, meaning that in another invocation of <code>do</code> with a package of the same name, it will be overriden. Usually you won't use <code>do</code>, but <code>require</code> that does remember it loaded a package. The code attached uses <code>do</code> twice. the second time overrides the first one which is why the output looks as it does.</p>\n"}], "owner": {"reputation": 15, "user_id": 5592975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49d4e1f674833ae03f9b9cb3c95f0bb1?s=128&d=identicon&r=PG&f=1", "display_name": "Meme", "link": "https://stackoverflow.com/users/5592975/meme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 38890451, "answer_count": 2, "score": 0, "last_activity_date": 1470904248, "creation_date": 1470900295, "last_edit_date": 1470903128, "question_id": 38889896, "link": "https://stackoverflow.com/questions/38889896/import-same-named-function-from-to-same-named-packages", "title": "Import same named function from to same named packages", "body": "<p>I'm trying to call a function from a package that has the same name with another package in different directory, and the functions are the same name also.</p>\n\n<p>Explanation:\nlet's say that i have <code>package1.pm</code> that exists in <code>dir1/</code> as <code>dir1/package1.pm</code></p>\n\n<p>inside it <code>sub fun1</code> is the one that i want to call</p>\n\n<pre><code>package package1;\n\nsub fun1($$$)\n{\n    #anything;\n}\n</code></pre>\n\n<p>the second package is inside anothee dir: <code>dir2/package1.pm</code></p>\n\n<pre><code>package package1;\n\nsub fun1($$$)\n{\n    #anything;\n}\n</code></pre>\n\n<p>suppose that the functions will take the same number of parameters.</p>\n\n<p>is there any way to call the function that i want exactly?</p>\n"}, {"tags": ["perl", "cmd", "windows-10", "file-association"], "comments": [{"owner": {"reputation": 3926, "user_id": 1206062, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/QOcPu.jpg?s=128&g=1", "display_name": "Harshavardhan Konakanchi", "link": "https://stackoverflow.com/users/1206062/harshavardhan-konakanchi"}, "edited": false, "score": 0, "creation_date": 1470888475, "post_id": 38887076, "comment_id": 65134726, "body": "What happen if we use <code>start script.pl</code>"}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "reply_to_user": {"reputation": 3926, "user_id": 1206062, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/QOcPu.jpg?s=128&g=1", "display_name": "Harshavardhan Konakanchi", "link": "https://stackoverflow.com/users/1206062/harshavardhan-konakanchi"}, "edited": false, "score": 0, "creation_date": 1470888603, "post_id": 38887076, "comment_id": 65134761, "body": "Using <code>start script.pl</code> works fine."}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "reply_to_user": {"reputation": 3926, "user_id": 1206062, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/QOcPu.jpg?s=128&g=1", "display_name": "Harshavardhan Konakanchi", "link": "https://stackoverflow.com/users/1206062/harshavardhan-konakanchi"}, "edited": false, "score": 0, "creation_date": 1470891124, "post_id": 38887076, "comment_id": 65135495, "body": "I uninstalled Perl 5.20.2, and installed the latest (5.24.0), but no change.  I also changed the command in the registry to open notepad.exe instead of perl.exe, and that work right from DOS (<code>script.pl</code>).  It seems that something is messed up with associations that call perl.exe, although only from DOS, not Explorer.  Is it possible that it&#39;s calling wperl.exe somehow?  Can&#39;t find it in the registry though..."}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "reply_to_user": {"reputation": 3926, "user_id": 1206062, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/QOcPu.jpg?s=128&g=1", "display_name": "Harshavardhan Konakanchi", "link": "https://stackoverflow.com/users/1206062/harshavardhan-konakanchi"}, "edited": false, "score": 1, "creation_date": 1470894458, "post_id": 38887076, "comment_id": 65136663, "body": "I don&#39;t think this is specific to Perl.  I created a new extension (.bar) and associated it with a simple BAT script that echo&#39;s &quot;hi&quot; and then pauses.  Works fine from Explorer, but &quot;script.bar&quot; does nothing.  So I don&#39;t think Perl is affecting this, but instead that I can&#39;t create associations to anything other than &quot;notepad&quot;, and other items in C:\\Windows.  Is this some other Windows 10 or GPO restriction?"}], "answers": [{"comments": [{"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 0, "creation_date": 1470919144, "post_id": 38894303, "comment_id": 65152175, "body": "Yes, it does:  <code>PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MS&zwnj;&#8203;C;.PL</code>"}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "edited": false, "score": 1, "creation_date": 1470919748, "post_id": 38894303, "comment_id": 65152587, "body": "PATHEXT is only needed to allow you to drop the extension from a filename and still be able to execute it.  You can &quot;run&quot; any file, even a JPG, just by typing it&#39;s filename in DOS."}], "tags": [], "owner": {"reputation": 1, "user_id": 6701029, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/77a000a8056775b76ae82995b9229e58?s=128&d=identicon&r=PG", "display_name": "Vince", "link": "https://stackoverflow.com/users/6701029/vince"}, "is_accepted": false, "score": 0, "last_activity_date": 1470912596, "creation_date": 1470912596, "answer_id": 38894303, "question_id": 38887076, "link": "https://stackoverflow.com/questions/38887076/perl-scripts-on-windows-10-run-from-explorer-but-not-command-prompt/38894303#38894303", "title": "Perl Scripts on Windows 10 run from Explorer but not Command Prompt", "body": "<p>Make sure your PATHEXT environment variable has .pl in it.</p>\n"}, {"tags": [], "owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "is_accepted": true, "score": 4, "last_activity_date": 1470930771, "creation_date": 1470930771, "answer_id": 38901036, "question_id": 38887076, "link": "https://stackoverflow.com/questions/38887076/perl-scripts-on-windows-10-run-from-explorer-but-not-command-prompt/38901036#38901036", "title": "Perl Scripts on Windows 10 run from Explorer but not Command Prompt", "body": "<p>Turns out that Microsoft reversed the polarity of a Registry setting in Windows 10, and this is biting other Perl programmers too.  The solutions is to set HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\Explorer\\InheritConsoleHandles to \"0\".</p>\n\n<p>MSDN post here: <a href=\"https://social.msdn.microsoft.com/Forums/en-US/f19d740d-21c8-4dc2-a9ab-d5c0527e932b/nasty-file-association-regression-bug-in-windows-10-console\" rel=\"nofollow\">https://social.msdn.microsoft.com/Forums/en-US/f19d740d-21c8-4dc2-a9ab-d5c0527e932b/nasty-file-association-regression-bug-in-windows-10-console</a></p>\n"}], "owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5807, "favorite_count": 0, "accepted_answer_id": 38901036, "answer_count": 2, "score": 6, "last_activity_date": 1470930771, "creation_date": 1470888271, "last_edit_date": 1470928987, "question_id": 38887076, "link": "https://stackoverflow.com/questions/38887076/perl-scripts-on-windows-10-run-from-explorer-but-not-command-prompt", "title": "Perl Scripts on Windows 10 run from Explorer but not Command Prompt", "body": "<p>I've installed ActiveState Perl on my new Windows 10 PC.  I've installed the same exact version of Perl on several of my own PC's, and it's installed on 100's of other users' PC's in my company.  Same exact install, created by me.</p>\n\n<p>This is the first time trying this on Windows 10.  The basic actions of double-clicking a Perl script (*.pl) in Explorer cause a console window to open and Perl to run the script.</p>\n\n<p>Also, in Windows Command Prompt, I can type <code>perl.exe script.pl</code>, and the script runs fine.  But, when I just type <code>script.pl</code>, nothing happens.  No output, no errors, no perl.exe processes visible in Task Manager.</p>\n\n<p>The first time I ran a Perl script (from Windows Command Prompt, I believe, using just the <code>script.pl</code> syntax), Windows popped up a window asking me what program I wanted to use to open this file.  Perl was the default, and I clicked OK.</p>\n\n<p>I've never seen that window in Windows 7 or 8, so I'm thinking it's something specific to Windows 10, and that it's the thing that's somehow preventing me from just typing <code>script.pl</code>.  Because, when launching <code>script.pl</code>, I'm requiring the file associations to pick the right program, but when I type <code>perl.exe script.pl</code>, perl.exe is being launched directly.  But, that Windows 10 \"pick your default program\" thing is getting in the way when running from the command prompt by messing up the file associations.</p>\n\n<p>Not 100% sure why it works from Explorer, though, but I'm pretty sure that I need to clear that default program thing.  I removed the registry entry for <code>.pl</code> files under <code>HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts</code>, but that didn't help.</p>\n\n<p>This seems to be a more generic problem with Windows 10, or possibly just my installation of it, or a Group Policy I'm not aware of.</p>\n\n<p>The following commands (run in a Admin command prompt) work fine in Windows 8.1 but not Windows 10:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>assoc .foo=Foobar\nftype Foobar=C:\\WINDOWS\\system32\\foo.bat %1\necho @echo off &gt; foo.bat\necho echo The filename is %1 &gt;&gt; foo.bat\necho hi &gt; foo.foo\nfoo.foo\n</code></pre>\n\n<p>The result should be the output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>The filename is C:\\WINDOWS\\system32\\foo.foo\n</code></pre>\n\n<p>But Windows 10 does nothing.  It seems to only allow built-in apps to be associated in this manner, and not BAT scripts of downloaded/installed EXEs.</p>\n"}]