[{"tags": ["perl", "email", "gmail"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1481753976, "post_id": 41153198, "comment_id": 69508424, "body": "&quot;this problem is not that my recipients do not see the image; it is that the sending perl script aborts with an error&quot; What is the exact error message?"}, {"owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481780483, "post_id": 41153198, "comment_id": 69515781, "body": "no error.  stranger yet---after updating all cpan modules, the error has gone away.  so I need to apologize for this.  I don&#39;t understand why, but I cannot replicate it any longer---and before, I had replicated it dozens of times."}], "answers": [{"comments": [{"owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "edited": false, "score": 0, "creation_date": 1481780500, "post_id": 41155693, "comment_id": 69515791, "body": "no error.  stranger yet---after updating all cpan modules, the error has gone away.  so I need to apologize for this.  I don&#39;t understand why, but I cannot replicate it any longer---and before, I had replicated it dozens of times."}], "tags": [], "owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "is_accepted": true, "score": 2, "last_activity_date": 1481770657, "creation_date": 1481770657, "answer_id": 41155693, "question_id": 41153198, "link": "https://stackoverflow.com/questions/41153198/perl-emailsend-with-gmail-fails-with-images/41155693#41155693", "title": "perl Email::Send with gmail fails with images", "body": "<p>I ran your script, with some modifications to remove the dependency on <code>readcredentials</code> to make it run in my environment, and the email was delivered with no problem. Problems could be:</p>\n\n<ol>\n<li>You could have some problems with your gmail credentials.</li>\n<li>The script downloads and attaches the image, so perhaps your local environment is preventing the image from being downloaded.</li>\n</ol>\n\n<p>But without your specific error message, it's hard to diagnose any further.</p>\n"}], "owner": {"reputation": 2053, "user_id": 1539216, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/8344afd4bffe759d7d3ae86e933fb29e?s=128&d=identicon&r=PG", "display_name": "ivo Welch", "link": "https://stackoverflow.com/users/1539216/ivo-welch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 1, "accepted_answer_id": 41155693, "answer_count": 1, "score": -1, "last_activity_date": 1481770657, "creation_date": 1481753875, "last_edit_date": 1495540800, "question_id": 41153198, "link": "https://stackoverflow.com/questions/41153198/perl-emailsend-with-gmail-fails-with-images", "title": "perl Email::Send with gmail fails with images", "body": "<p>this question is related to <a href=\"https://stackoverflow.com/questions/21437916/html-image-not-showing-in-gmail\">HTML image not showing in Gmail</a> , but the answers there do not (or no longer) work.</p>\n\n<p>the problem is that my perl program (below) fails when my html-formatted messages that I want to send off as soon as an img tag is included.  it does not matter whether the image itself is served from the google drive or not.  I am guessing that I am running into a novel gmail restriction (my script used to work), but I am not sure.</p>\n\n<p>(of course, this problem is not that my recipients do not see the image;  it is that the sending perl script aborts with an error---unfortunately, not with more information explaining to me why it is an error.  of course, I understand that my recipients need to agree to view images to prevent tracking.)</p>\n\n<p>so here are my questions:</p>\n\n<ol>\n<li><p>is this a gmail or a perl module problem?</p></li>\n<li><p>is it possible to send images, so that <strong>if</strong> my recipients want to see\nimages from my website (preferably not just images from my google drive as in my example below), they can agree to see this?</p></li>\n<li><p>is it possible to get a better error message from google about why it fails?</p></li>\n</ol>\n\n<p>here is the [almost] working code:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\n\nuse Email::MIME::CreateHTML;\nuse Email::Send;\nuse Email::Send::Gmail;\n\nmy $toemail = 'ivo.welch@gmail.com';\nmy $subject = 'testing image mailing';\nmy $bodytext= '&lt;html&gt; &lt;body&gt; fails: &lt;img src=\"https://drive.google.com/open?id=1K4psrWWolTSqx_f6MQP-T1-FMFpegT1Trg\" alt=\"photo\" /&gt;  &lt;/body&gt; &lt;/html&gt;\\n';\n\nuse readcredentials;\nmy $gmailaccount= readcredentials( 'account' );\nmy $gmailuserlogin= readcredentials( 'userlogin');\nmy $gmailpasswd= readcredentials( 'gmailpassword');\n\neval {\n  my $message = Email::MIME-&gt;create_html(\n                                         header =&gt; [\n                                                    From   =&gt; $gmailaccount,\n                                                    To      =&gt; $toemail,\n                                                    Subject =&gt; $subject,\n                                                   ],\n                                         body =&gt; $bodytext,\n                                        );\n\n  my $sender = Email::Send-&gt;new(\n                                {   mailer      =&gt; 'Gmail',\n                                    mailer_args =&gt; [\n                                                    username =&gt; $gmailuserlogin,\n                                                    password =&gt; $gmailpasswd,\n                                                   ]\n                                }\n                               );\n\n  $sender-&gt;send($message);\n};\nwarn \"Error sending email: $@\" if $@;\n\nprint STDERR \"emailed!\\n\";\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1481751736, "post_id": 41152666, "comment_id": 69507515, "body": "What&#39;s the problem?"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 0, "creation_date": 1481751739, "post_id": 41152666, "comment_id": 69507517, "body": "We generally don&#39;t write code for you from scratch. Explain what you&#39;ve tried and where you are having trouble."}, {"owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1481751842, "post_id": 41152666, "comment_id": 69507567, "body": "Oh you want us to fill in your comment... Give it a go yourself, and post what you did and how it didn&#39;t work, then you&#39;ll get help."}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "reply_to_user": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1481752363, "post_id": 41152666, "comment_id": 69507786, "body": "@Jim W I didn&#39;t expect that it would be a problem if I would ask to suggest an idea for the regex and the edit I made now was already attempted initially and I didn&#39;t expect anyone to write code for me from scratch. Thanks for your comment, in future will keep in mind to post my failed attempts."}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "reply_to_user": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1481752418, "post_id": 41152666, "comment_id": 69507816, "body": "@Jim Garrison I didn&#39;t expect that it would be a problem if I would ask to suggest an idea for the regex and the edit I made now was already attempted initially and I didn&#39;t expect anyone to write code for me from scratch. Thanks for your comment, in future will keep in mind to post my failed attempts."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1481752896, "post_id": 41152916, "comment_id": 69508023, "body": "Thanks for the reply. Will this regex work?  <code>&#47;Foo+([A-Za-z_0-9]+)&#47;;</code> and then use <code>print $1</code> to print that character."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1481752966, "post_id": 41152916, "comment_id": 69508049, "body": "Why the plus after Foo? Do your data contain <code>Foooo</code>, too?"}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1481755002, "post_id": 41152916, "comment_id": 69508788, "body": "I mis-understood + in my regex. Got it now. Your regex fixes my issue. Thanks for the help.  One more blocking thing, could you explain the <code>+</code> in your regex."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1481755367, "post_id": 41152916, "comment_id": 69508931, "body": "@V.Tej: <code>[0-9]</code> matches one digit, <code>[0-9]+</code> matches one or more digits."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1481754033, "last_edit_date": 1481754033, "creation_date": 1481752566, "answer_id": 41152916, "question_id": 41152666, "link": "https://stackoverflow.com/questions/41152666/perl-regex-to-grep-for-a-character-in-a-word/41152916#41152916", "title": "perl regex to grep for a character in a word", "body": "<p>Matching without binding <code>=~</code> matches against the $_ variable that you don't use. Furthermore, the dot before <code>Foo</code> means the second regex will match only if Foo is preceded by something (that's not a newline). As all your strings containing <code>Foo</code> start with it, the second regex can never match even if you specify <code>$var =~</code>.</p>\n\n<p>Moreover, you can match the number directly in the condition.</p>\n\n<p>And finally, <code>[A-Z]</code> doesn't match digits. Use <code>[0-9]</code> instead.</p>\n\n<pre><code>my @array = qw( Foo1 Bar Baz Foo5 Foo2 Bak Foo3 );\nforeach my $var (@array){\n    if ($var =~ /Foo([0-9]+)/){\n        print $1, \"\\n\";\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1482011823, "post_id": 41152940, "comment_id": 69606036, "body": "Thanks for the answer"}], "tags": [], "owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1481752680, "creation_date": 1481752680, "answer_id": 41152940, "question_id": 41152666, "link": "https://stackoverflow.com/questions/41152666/perl-regex-to-grep-for-a-character-in-a-word/41152940#41152940", "title": "perl regex to grep for a character in a word", "body": "<p>Try this for your second regex</p>\n\n<pre><code>[^\\w]*([0-9])\n</code></pre>\n\n<p>Then you can use the first group to get the number.</p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1482011842, "post_id": 41163959, "comment_id": 69606040, "body": "Thanks for the answer."}], "tags": [], "owner": {"reputation": 11, "user_id": 5983966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52cfa8f982ada4896513cfee83705ea7?s=128&d=identicon&r=PG&f=1", "display_name": "biswajit dwari", "link": "https://stackoverflow.com/users/5983966/biswajit-dwari"}, "is_accepted": false, "score": 1, "last_activity_date": 1481804650, "last_edit_date": 1481804650, "creation_date": 1481804136, "answer_id": 41163959, "question_id": 41152666, "link": "https://stackoverflow.com/questions/41152666/perl-regex-to-grep-for-a-character-in-a-word/41163959#41163959", "title": "perl regex to grep for a character in a word", "body": "<pre><code>my @array = qw( Foo1 Bar Baz Foo5 Foo2 Bak Foo3 );\nmy @var = map(/Foo(\\w+)/) @array;\n\nprint @var ;\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 0, "accepted_answer_id": 41152916, "answer_count": 3, "score": -2, "last_activity_date": 1481804650, "creation_date": 1481751567, "last_edit_date": 1481752300, "question_id": 41152666, "link": "https://stackoverflow.com/questions/41152666/perl-regex-to-grep-for-a-character-in-a-word", "title": "perl regex to grep for a character in a word", "body": "<p>I am trying to write a perl script to grep for a character in a string. All the strings are stored in an array. We iterate over the array and look if the particular word occurs, if so grep for a particular pattern.</p>\n\n<pre><code>my @array = (\"Foo1\", \"Bar\", \"Baz\", \"Foo5\", \"Foo2\", \"Bak\", \"Foo3\");\nforeach my $ var (@array){\n    if ($var =~ /Foo/){\n        #Regex to grep for the number which is at the end of string Foo\n    }\n}\n</code></pre>\n\n<p>Any leads are welcomed. Thanks for the help.</p>\n\n<p>************Edits***********</p>\n\n<p>Thanks for the comments.</p>\n\n<pre><code>if ($var =~ /Foo/){\n    /.Foo+([A-Z]+)/;\n    print $1, \"\\n\";\n}\n</code></pre>\n\n<p>The above is the code that I tried and it didn't print anything.</p>\n"}, {"tags": ["linux", "perl", "sed"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1481744695, "post_id": 41150794, "comment_id": 69503916, "body": "It&#39;s tricky; you have to work out how many processes are interpreting the string and removing backslashes.  To put a single backslash into the output, <code>sed</code> needs to see two consecutive backslashes in the replacement portion of the <code>s&#47;\u2026&#47;\u2026&#47;</code> operation.  Since you enclose that in double quotes, Perl get&#39;s a chance to interpret the backslashes too; that means you need 4 backslashes in the Perl for each one in the output."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 4, "creation_date": 1481745036, "post_id": 41150794, "comment_id": 69504130, "body": "It&#39;s usually faster to do the replacement in Perl itself without shelling out."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1481800728, "post_id": 41150794, "comment_id": 69526327, "body": "Not only faster, but more importantly: much less error-prone. In fact I&#39;m baffled why you would ever want to call <code>sed</code> from <code>perl</code>, unless you have a complex and well-tested <code>sed</code> script ready to use."}], "answers": [{"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": true, "score": 0, "last_activity_date": 1481746146, "last_edit_date": 1481746146, "creation_date": 1481745591, "answer_id": 41151182, "question_id": 41150794, "link": "https://stackoverflow.com/questions/41150794/replace-a-line-in-a-text-file-using-sed-but-keeping-as-part-of-the-replacement/41151182#41151182", "title": "Replace a line in a text file using sed but keeping \\ as part of the replacement line from perl script", "body": "<p>As noted in a comment:</p>\n\n<blockquote>\n  <p>It's tricky; you have to work out how many processes are interpreting the string and removing backslashes. To put a single backslash into the output, sed needs to see two consecutive backslashes in the replacement portion of the <code>s/\u2026/\u2026/</code> operation. Since you enclose that in double quotes, Perl gets a chance to interpret the backslashes too; that means you need 4 backslashes in the Perl for each one in the output.</p>\n</blockquote>\n\n<p>Because you're using the 'array' notation for the <code>system</code> call (except the syntax is wrong \u2014 you need commas between the items, and quotes around the plain words), you avoid having a shell interpret the string too.</p>\n\n<p>This works for me on macOS Sierra 10.12.2 and should work with GNU <code>sed</code> too (renaming the file to <code>data</code>):</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $NAME = \"Alexander\";\nmy $USER_NAME = \"The Great\";\nsystem \"sed\", \"-e\", \"s/^destinaion=.*/destination=Manager {manager hostname\\\\\\\\=$NAME,Manager port\\\\\\\\=8443} $USER_NAME/\", \"-i.bak\", \"data\";\n</code></pre>\n\n<p>File <code>data</code> before:</p>\n\n<pre><code>##destinaion=Manager {manager hostname=Bill,Manager port=8443} Fred\ndestinaion=Manager {manager hostname=Bill,Manager port=8443} Fred\n</code></pre>\n\n<p>File <code>data</code> after:</p>\n\n<pre><code>##destinaion=Manager {manager hostname=Bill,Manager port=8443} Fred\ndestination=Manager {manager hostname\\=Alexander,Manager port\\=8443} The Great\n</code></pre>\n\n<p>Here's a variant script that shows how different numbers of backslashes are needed.  The example with 8 backslashes in a row has Perl halve the number to 4, the shell halve the number to 2, and <code>sed</code> interpret the 2 as meaning 1 in the output.  When you see 8 backslashes in a row, you can be pretty confident that you're not dealing with something in the best possible way.  (In the days of yore, sometimes a <code>troff</code> file would have 16 backslashes in a row, but not often, and very few people understood why when they were necessary.)</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $NAME = \"Alexander\";\nmy $USER_NAME = \"The Great\";\nsystem \"sed\", \"-e\", \"s/^D1=.*/destination1=Manager {manager hostname\\\\\\\\=$NAME,Manager port\\\\\\\\=8443} $USER_NAME/\", \"-i.bak\", \"data\";\nsystem \"sed -e \\\"s/^D2=.*/destination2=Manager {manager hostname\\\\\\\\\\\\\\\\=$NAME,Manager port\\\\\\\\\\\\\\\\=8443} $USER_NAME/\\\" -i.bak data\";\nsystem \"sed -e 's/^D3=.*/destination3=Manager {manager hostname\\\\\\\\=$NAME,Manager port\\\\\\\\=8443} $USER_NAME/' -i.bak data\";\n</code></pre>\n\n<p>Here's the initial variant data file:</p>\n\n<pre><code>D1=Manager {manager hostname=Bill,Manager port=8443} Fred\nD2=Manager {manager hostname=Bill,Manager port=8443} Fred\nD3=Manager {manager hostname=Bill,Manager port=8443} Fred\n</code></pre>\n\n<p>Here's the result of running the variant script on the variant data file:</p>\n\n<pre><code>destination1=Manager {manager hostname\\=Alexander,Manager port\\=8443} The Great\ndestination2=Manager {manager hostname\\=Alexander,Manager port\\=8443} The Great\ndestination3=Manager {manager hostname\\=Alexander,Manager port\\=8443} The Great\n</code></pre>\n\n<p>If you didn't need <code>$NAME</code> and <code>$USER_NAME</code> expanded, there could be another variant with single quotes around the <code>s/\u2026/\u2026/</code> command in the array notation; it would only need two backslashes, not four.</p>\n"}], "owner": {"reputation": 13, "user_id": 7298560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9331368477e5ce8d59936fd853d2156?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Bell", "link": "https://stackoverflow.com/users/7298560/doug-bell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 41151182, "answer_count": 1, "score": 0, "last_activity_date": 1481748800, "creation_date": 1481744286, "last_edit_date": 1481748800, "question_id": 41150794, "link": "https://stackoverflow.com/questions/41150794/replace-a-line-in-a-text-file-using-sed-but-keeping-as-part-of-the-replacement", "title": "Replace a line in a text file using sed but keeping \\ as part of the replacement line from perl script", "body": "<p>What I need done is to replace a line in a file from perl using a sed command. The issue is the line I need to put into the file has \\ in several places and I have not figured out how to kepp the \\ without perl/sed removing them.</p>\n\n<p>Example is :</p>\n\n<pre><code>system sed \"s/^destinaion=.*/destination=Manager {manager hostname\\=$NAME,Manager port\\=8443} $USER_NAME/\" -i /usr/local/example_file.txt;\n</code></pre>\n\n<p>In the file I get:</p>\n\n<pre><code>destination=Manager {manager hostname=Bill,Manager port=8443} Fred\n</code></pre>\n\n<p>I need to get in the file :</p>\n\n<pre><code>destination=Manager {manager hostname\\=Bill,Manager port\\=8443} Fred\n</code></pre>\n\n<p>This is a properties file for configuration and it needs to be exact.</p>\n\n<p>Using this site I came up with the following solution that works for me:</p>\n\n<p>My command in perl (Just an Example):</p>\n\n<pre><code>$VAR1=$NAME\n\n$VAR2=$USER_NAME\n\n$VAR3='destination=Manager {manager hostname\\\\\\\\'\n\n$VAR4='Manager port\\\\\\\\=8443} '\n\nsystem sed 's/^destinaion=.*/$VAR3=$VAR1,$VAR4 $VAR2/' -i \n/usr/local/example_file.txt;\n</code></pre>\n\n<p>Output was :</p>\n\n<pre><code>destination=Manager {manager hostname\\=Bill,Manager port\\=8443} Fred\n</code></pre>\n\n<p>This worked as I am passing the same line to 4 different property files depending on the answers to the question and the redhat version. The software I am installing has different property files depending on which redhat version is in use. I have to create the property files by doing one install then I change the property file in my script and do an install on all the servers with a foreach so I can run the script and then watch for errors.</p>\n\n<p>We are currently using two versions so I have had to add if statements in my script to select the correct property files.</p>\n"}, {"tags": ["bash", "perl", "tar"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481741637, "post_id": 41149969, "comment_id": 69502342, "body": "What&#39;s up with those weird double double-quotes?"}, {"owner": {"reputation": 602, "user_id": 2608071, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2abaf849fb1d66c9864af9384183b3c2?s=128&d=identicon&r=PG", "display_name": "TriHard8", "link": "https://stackoverflow.com/users/2608071/trihard8"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481743912, "post_id": 41149969, "comment_id": 69503528, "body": "@melpomene I&#39;d be lying if I claimed to be &quot;quote&quot; knowledgeable.  I did remove the doubles b/c i saw the same behavior.  I was really just trying things.  I&#39;m new to perl and bash and still not clear on quote implementations."}, {"owner": {"reputation": 602, "user_id": 2608071, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2abaf849fb1d66c9864af9384183b3c2?s=128&d=identicon&r=PG", "display_name": "TriHard8", "link": "https://stackoverflow.com/users/2608071/trihard8"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481744388, "post_id": 41149969, "comment_id": 69503766, "body": "@ikegami i ran the debugger (perl -d) and checked the variable just before that line executed.  The correct files are in the compressed file, which also lands in the desired directory.  The only issue is that the files inside of the tarball are inside of <code>.&#47;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1481744424, "post_id": 41149969, "comment_id": 69503784, "body": "When I use that command, I get <code>.&#47;foo .&#47;bar .&#47;bar&#47;baz</code>. whether from command-line or from Perl. I call into question your claim that you don&#39;t have a leading <code>.&#47;</code> when you create the archive from the command line."}, {"owner": {"reputation": 602, "user_id": 2608071, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2abaf849fb1d66c9864af9384183b3c2?s=128&d=identicon&r=PG", "display_name": "TriHard8", "link": "https://stackoverflow.com/users/2608071/trihard8"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481744511, "post_id": 41149969, "comment_id": 69503828, "body": "@ikegami i&#39;ll check again."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481744569, "post_id": 41149969, "comment_id": 69503859, "body": "One possibility is that you have an alias for <code>tar</code> that adds an option to remove the leading <code>.&#47;</code>, but I find that unlikely. Try running <code>type tar</code> from the command line."}, {"owner": {"reputation": 602, "user_id": 2608071, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2abaf849fb1d66c9864af9384183b3c2?s=128&d=identicon&r=PG", "display_name": "TriHard8", "link": "https://stackoverflow.com/users/2608071/trihard8"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1481745557, "post_id": 41149969, "comment_id": 69504450, "body": "@ikegami it looks like you&#39;re correct.  I was viewing the file inside of gmail b/c this eventually gets sent via e-mail and it shows <code>.&#47;</code>.  However, when I opened the file in the terminal, it&#39;s as expected.  In an effort to salvage embarrassment, what did you mean about injection bugs in your other comment?  Having a variable name turn into an executable?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1481745764, "post_id": 41149969, "comment_id": 69504568, "body": "Adding double quotes around a string is not sufficient to correctly convert a string into a shell literal. String::ShellQuote can be used, or you can avoid the shell entirely, for example, by using multi-arg <code>system</code>: <code>system(&#39;tar&#39;, &#39;cfz&#39;, &quot;$folder_errors&#47;errors.tar.gz&quot;, &quot;--directory=$folder_errors&quot;)</code>"}, {"owner": {"reputation": 1009, "user_id": 2051109, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/216009d45e1b8e34f936173142f0648f?s=128&d=identicon&r=PG", "display_name": "BOC", "link": "https://stackoverflow.com/users/2051109/boc"}, "edited": false, "score": 0, "creation_date": 1482136462, "post_id": 41149969, "comment_id": 69635458, "body": "&quot;inside of the compressed file is the file structure ./ where all of the files reside.&quot; is unclear. Could you gives the result of tar tvf /path/to/errors.tar.gz ?"}, {"owner": {"reputation": 602, "user_id": 2608071, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2abaf849fb1d66c9864af9384183b3c2?s=128&d=identicon&r=PG", "display_name": "TriHard8", "link": "https://stackoverflow.com/users/2608071/trihard8"}, "reply_to_user": {"reputation": 1009, "user_id": 2051109, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/216009d45e1b8e34f936173142f0648f?s=128&d=identicon&r=PG", "display_name": "BOC", "link": "https://stackoverflow.com/users/2051109/boc"}, "edited": false, "score": 1, "creation_date": 1482173089, "post_id": 41149969, "comment_id": 69657103, "body": "@BOC this has been resolved.  It was an idiot error on my part.  Gmail actually shows the ./ directory when you open the tar.gz file.  When opened from the command line, it behaves as expected."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481743632, "post_id": 41150267, "comment_id": 69503397, "body": "While your version is cleaner, it&#39;s functionally identical to the OP&#39;s second non-working snippet. /// It also suffers from the same (easily avoided) injection bugs as the OP!"}, {"owner": {"reputation": 602, "user_id": 2608071, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2abaf849fb1d66c9864af9384183b3c2?s=128&d=identicon&r=PG", "display_name": "TriHard8", "link": "https://stackoverflow.com/users/2608071/trihard8"}, "edited": false, "score": 0, "creation_date": 1481743944, "post_id": 41150267, "comment_id": 69503547, "body": "Thanks, the code is now more readable, but still suffers the same problem that I had."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": -1, "last_activity_date": 1481742402, "creation_date": 1481742402, "answer_id": 41150267, "question_id": 41149969, "link": "https://stackoverflow.com/questions/41149969/compress-tar-gz-without-directories-in-perl-script/41150267#41150267", "title": "Compress .tar.gz without directories in Perl script", "body": "<p>Try perl's quote operators. <code>qq[...]</code> acts like double-quotes, except you don't have to escape the literal <code>\"</code> inside them.</p>\n\n<pre><code>system qq[tar cfz \"$folder_errors/errors.tar.gz\" --directory=\"$folder_errors\"];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1009, "user_id": 2051109, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/216009d45e1b8e34f936173142f0648f?s=128&d=identicon&r=PG", "display_name": "BOC", "link": "https://stackoverflow.com/users/2051109/boc"}, "is_accepted": false, "score": -1, "last_activity_date": 1481816648, "creation_date": 1481816648, "answer_id": 41168057, "question_id": 41149969, "link": "https://stackoverflow.com/questions/41149969/compress-tar-gz-without-directories-in-perl-script/41168057#41168057", "title": "Compress .tar.gz without directories in Perl script", "body": "<p>Your quotes seem corrects. Have you noticed that you are creating the tar.gz in the same directory where files to archives reside? I think you are exposing yourself to troubles. If you can not change the target directory of tar, you should avoid recursion with:</p>\n\n<pre><code>system qq[tar cfz \"$folder_errors/errors.tar.gz\" --exclude \"./errors.tar.gz\" --directory=\"$folder_errors\" . ];\n</code></pre>\n"}], "owner": {"reputation": 602, "user_id": 2608071, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2abaf849fb1d66c9864af9384183b3c2?s=128&d=identicon&r=PG", "display_name": "TriHard8", "link": "https://stackoverflow.com/users/2608071/trihard8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1481816648, "creation_date": 1481741339, "question_id": 41149969, "link": "https://stackoverflow.com/questions/41149969/compress-tar-gz-without-directories-in-perl-script", "title": "Compress .tar.gz without directories in Perl script", "body": "<p>Seems like a stupid question, but I can't find anything via google or man page...I'm sure it's something with my quotes...When I run the following from the command line, it runs as expected/desired(i.e. only files without any directories):</p>\n\n<pre><code>tar cfz /path/to/file.tar.gz --directory=\"/path/to/\" .\n</code></pre>\n\n<p>However, I have this analogous line in perl, albeit with a variable as the path ($folder_errors='/path/to'):</p>\n\n<pre><code>system('tar cfz '.\"\\\"${folder_errors}\\\"/errors.tar.gz --directory=\\\"\\\"${folder_errors}\\\"/\\\" .\");\n</code></pre>\n\n<p>also tried</p>\n\n<pre><code>system('tar cfz '.\"\\\"${folder_errors}\\\"/errors.tar.gz --directory=\\\"${folder_errors}\\\"/ .\");\n</code></pre>\n\n<p>with the same (unexpected) results.</p>\n\n<p>It compresses the correct files, however, inside of the compressed file is the file structure <code>./</code> where all of the files reside.</p>\n"}, {"tags": ["perl", "mojolicious", "mojo"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7294447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1315b8672191b312f67a08bfc185b3?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Rehder", "link": "https://stackoverflow.com/users/7294447/brian-rehder"}, "edited": false, "score": 0, "creation_date": 1481773542, "post_id": 41155023, "comment_id": 69513909, "body": "Thanks for the recommendation on checking out Mojocast. Very much appreciated ty much."}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": false, "score": 2, "last_activity_date": 1481765755, "creation_date": 1481765755, "answer_id": 41155023, "question_id": 41148685, "link": "https://stackoverflow.com/questions/41148685/trying-to-parse-using-mojodom-not-getting-the-tag-right/41155023#41155023", "title": "Trying to parse using Mojo::DOM, not getting the tag right", "body": "<p>Just use the <a href=\"https://metacpan.org/pod/Mojo::DOM\" rel=\"nofollow noreferrer\">Mojo::DOM</a> that is returned by <a href=\"https://metacpan.org/pod/Mojo::UserAgent\" rel=\"nofollow noreferrer\">Mojo::UserAgent</a>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse v5.10;\n\nuse Mojo::UserAgent;\n\nmy $url = \"http://finance.yahoo.com/quote/MSFT?p=MSFT\";\n\nmy $dom = Mojo::UserAgent-&gt;new-&gt;get($url)-&gt;res-&gt;dom;\n\nmy $stream = $dom-&gt;at('div#quoteNewsStream-0-Stream');\n\nfor my $href ( $stream-&gt;find('a')-&gt;each ) {\n    say $href-&gt;{href};\n}\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>/news/jeff-bezos-trump-tech-summit-was-very-productive-224326329.html\n/news/jeff-bezos-trump-tech-summit-was-very-productive-224326329.html\n/news/donald-trump-tech-summit-at-trump-tower-202517070.html\n/video/microsoft-surface-sales-surge-disappointment-181934121.html\n/news/jeff-bezos-trump-tech-summit-was-very-productive-224326329.html\n/news/microsoft-surface-sales-surge-on-disappointment-with-macbook-pro-163819168.html\n/news/microsoft-surface-sales-surge-on-disappointment-with-macbook-pro-163819168.html\n/m/7f581deb-0089-341a-b637-e1e979e9e210/ss_5-point-checklist-for.html\n</code></pre>\n\n<p>For an 8 minute tutorial on using these tools, check out <a href=\"http://mojocasts.com/e5\" rel=\"nofollow noreferrer\">Mojocast Episode 5</a></p>\n"}], "owner": {"reputation": 21, "user_id": 7294447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1315b8672191b312f67a08bfc185b3?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Rehder", "link": "https://stackoverflow.com/users/7294447/brian-rehder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481765755, "creation_date": 1481736639, "question_id": 41148685, "link": "https://stackoverflow.com/questions/41148685/trying-to-parse-using-mojodom-not-getting-the-tag-right", "title": "Trying to parse using Mojo::DOM, not getting the tag right", "body": "<p>I am using $ua to grab some HTML from my $url = \"<a href=\"http://finance.yahoo.com/quote/MSFT?p=MSFT\" rel=\"nofollow noreferrer\">http://finance.yahoo.com/quote/MSFT?p=MSFT</a>\";</p>\n\n<p>I am able to grab the HTML content from the URL just fine. Then I am using Mojo::DOM to sub parse, that is the correct step, right? I want to further strip the A HREF from the Mojo $url get() html content...This is what I have:</p>\n\n<pre><code>my $ua = Mojo::UserAgent-&gt;new( max_redirects =&gt; 5, timeout =&gt; $timeout );\nmy $dom = Mojo::DOM-&gt;new;\n\nmy $content = $ua-&gt;get($url)-&gt;res-&gt;dom-&gt;at('div#quoteNewsStream-0-Stream')-&gt;content;\nmy $content2 = $content-&gt;$dom-&gt;find('a href#');\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481730592, "post_id": 41145787, "comment_id": 69495732, "body": "how large is very large?  any is much much slower than grep.  have you actually timed how long it takes with grep?"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481744613, "post_id": 41145787, "comment_id": 69503879, "body": "@ysth The amount can run into the hundred thousands."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481746868, "post_id": 41145787, "comment_id": 69505129, "body": "@AdamMillerchip: Why did you delete your answer? It seems fine to me."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481755112, "post_id": 41145787, "comment_id": 69508829, "body": "@BramVanroy and what percentage of the time do you expect to find the element you are looking for?"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481803947, "post_id": 41145787, "comment_id": 69528194, "body": "@ysth That&#39;s hard to say because I&#39;m working with linguistic data. I assume you are getting at the following, that if I don&#39;t expect the result to be found often, grep will be faster because the whole array has to be looked through any way?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481824469, "post_id": 41145787, "comment_id": 69541184, "body": "Is there a reason you can&#39;t use a hash instead of an array?"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481826774, "post_id": 41145787, "comment_id": 69542309, "body": "@ThisSuitIsBlackNot Not really. The outermost hash itself will grow quite big, so I thought to limit memory usage I wouldn&#39;t construct objects that aren&#39;t necessary and I (wrongly?) assumed that a hash (x100.000s) would be significantly more memory consuming than arrays. Am I wrong?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481828920, "post_id": 41145787, "comment_id": 69543445, "body": "In general, hashes use more memory than arrays, but it&#39;s not significant enough to worry about in most cases. A hash with 100,000 keys would be on the order of 10 MB, which is not very much. And a hash of 100,000 words of average English text would actually be significantly smaller than the corresponding array because the array would contain many, many duplicates. Unless you need the elements to be ordered or need to keep duplicates, use a hash; lookups will be much faster."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 1, "creation_date": 1481730810, "post_id": 41145838, "comment_id": 69495890, "body": "@BramVanroy: <code>any { $hash{$item2}{id} } @{$hash{$item1}{field}})</code> <b><i>will not work</i></b>. It simply returns a <i>true</i> value if the value of <code>$hash{$item2}{id}</code> is <i>true</i>, i.e. it exists and is defined and is not <code>0</code> or <code>&quot;0&quot;</code> or the null string. You <i>must</i> set <code>$_</code> for the result of the block to depend on the list of values that you are testing, otherwise your code will just test the same, unrelated value <code>$hash{$item2}{id}</code> over and over again."}], "tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 3, "last_activity_date": 1481728380, "last_edit_date": 1481728380, "creation_date": 1481728026, "answer_id": 41145838, "question_id": 41145787, "link": "https://stackoverflow.com/questions/41145787/using-any-to-check-existence-of-element-in-array-inside-hash/41145838#41145838", "title": "Using any to check existence of element in array inside hash", "body": "<p>You need to import the function:</p>\n\n<pre><code>use List::Util qw(any);\n</code></pre>\n\n<p>UPDATE:  As noted, the 1st arg to <code>any</code> should be a block of code.   In this case, compare the hash value to $_, which is assigned to each value in your array until the condition is true.</p>\n\n<pre><code>unless(any { $_ eq $hash{$item2}{id} } @{$hash{$item1}{field}}) {\n</code></pre>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 41145838, "answer_count": 1, "score": 0, "last_activity_date": 1481729096, "creation_date": 1481727863, "last_edit_date": 1481729096, "question_id": 41145787, "link": "https://stackoverflow.com/questions/41145787/using-any-to-check-existence-of-element-in-array-inside-hash", "title": "Using any to check existence of element in array inside hash", "body": "<p>I am trying to check if an element (array) of a hash contains a specific item by using <code>any</code>. Because my arrays can get very large it seemed <code>any</code> was the most efficient way as it returns true as soon as the item is found. The problem is that CLI returns:</p>\n\n<blockquote>\n  <p>Type of arg 1 to List::Util::any must be block or sub {} (not array\n  dereference) at ...</p>\n</blockquote>\n\n<p>The line is (changed to a fictitious example) reproduced below. I am trying to see if <code>id</code> of <code>item2</code> is inside <code>field</code> of <code>item1</code> in the fictitious example below.</p>\n\n<pre><code>unless(any(@{$hash{$item1}{field}}) eq $hash{$item2}{id}) {\n  # Do magic.\n}\n</code></pre>\n\n<p>What am I doing wrong? As <a href=\"http://perldoc.perl.org/List/Util.html#any\" rel=\"nofollow noreferrer\"><code>any</code></a> is part of <code>List::Util</code>, I have loaded that module at the top.</p>\n\n<pre><code>use List::Util qw(any);\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1481728295, "post_id": 41145724, "comment_id": 69494267, "body": "This looks suspiciously like XML. Is it?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1481728328, "post_id": 41145724, "comment_id": 69494292, "body": "I was going to say the same @Sobrique. Probably XML::Simple."}, {"owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "edited": false, "score": 0, "creation_date": 1481728636, "post_id": 41145724, "comment_id": 69494506, "body": "Oh yeah, the hash is generated from XML pulled via HTTP::Request in an existing application. I&#39;m being asked to add a different format via TCP connection. So I&#39;m trying to mimic the XML hash to passing off to the function that uses the hash."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1481730021, "post_id": 41145724, "comment_id": 69495350, "body": "OK. My suggestion would be to backtrack, and don&#39;t do that. <code>XML::Simple</code> is a road to pain. If you post the <code>XML</code>, I can show you an example that&#39;ll splice it together without the data loss inherent in converting back and forth."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1481731553, "post_id": 41145724, "comment_id": 69496425, "body": "<b><i>Never ever use <code>XML::Simple</code></i></b> if you can possibly avoid it, and even if you can&#39;t you should ask for danger money. The module&#39;s own documentation says <i>&quot;You really don&#39;t want to use this module in new code&quot;</i> and <i>&quot;The use of this module in new code is discouraged&quot;</i>. Please read <a href=\"http://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged?\"><i>Why is XML::Simple &quot;Discouraged&quot;?</i></a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481732601, "post_id": 41145724, "comment_id": 69497158, "body": "<i>&quot;the hash is ... pulled via <code>HTTP::Request</code> in an existing application&quot;</i> That&#39;s the wrong way to look at it. <code>HTTP::Request</code> implements a Perl class that describes an HTTP request message. It won&#39;t do very much on its own. You could say that your code uses <code>LWP::UserAgent</code>, or even just <code>LWP</code>, to fetch the XML data. But the essential information is that you have used <code>XMLin</code> from the dreadful <code>XML::Simple</code> to process the XML document into a Perl data structure."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481732833, "post_id": 41145724, "comment_id": 69497337, "body": "While <code>XML::Simple</code> is poor when <i>reading</i> an XML document, it is far far worse using <code>XMLout</code> to create one. Since that is essentially your requirement, I believe you should adopt <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow noreferrer\">XML::Twig</a> instead. The API is extensive, but then XML data isn&#39;t as simple as <code>XML::Simple</code> tries to make out. There is also <code>XML::LibXML</code>. It is less approachable, but the author of <code>XML::Simple</code> has written <a href=\"http://grantm.github.io/perl-libxml-by-example/\" rel=\"nofollow noreferrer\"><i>Perl XML::LibXML by Example</i></a> which helps to smooth the transfer."}, {"owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "edited": false, "score": 0, "creation_date": 1481736453, "post_id": 41145724, "comment_id": 69499626, "body": "I&#39;m not using XML::Simple guys, but the application I&#39;m working on does. I am retrieving data via IO::Socket TCP connection into a Perl data structure mimicking the same data structure of another function previously written by the former application developer who did use XML::Simple. So I can pass to the same code theirs was passed to, which does something with the array. Does that make sense?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481750236, "post_id": 41145724, "comment_id": 69506843, "body": "@rwfitzy: When people say  <i>&quot;the application I&#39;m working on&quot;</i>, they generally mean the program that they&#39;re writing. If that&#39;s the case then you can use whatever library you like. But you also say <i>&quot;I am retrieving data ... into a Perl data structure</i> which tells us nothing about the nature of the data that is arriving via the socket. I can&#39;t understand the rest of your post, but it would help if you opened a new question and avoided relative pronouns. You should  <i>name</i> &quot;the same code&quot;, &quot;their code&quot; and &quot;the same data structure&quot; for us to understand."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481733531, "post_id": 41145937, "comment_id": 69497803, "body": "@AdamMillerchip: I understand that you weren&#39;t &quot;proving a point&quot;, which implies something more combative. I should probably have used &quot;demonstrate&quot;. Your post would be a valuable comment right here without the associated code and output."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481733731, "post_id": 41145937, "comment_id": 69497933, "body": "As Adam wrote in his deleted answer, you should point out the danger of shallow copies. You should also probably credit him for the nudge."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481734660, "post_id": 41145937, "comment_id": 69498529, "body": "@Borodin better? It&#39;s pretty long now, and dealing more with refs than with the problem the OP tried to solve. I don&#39;t actually think they&#39;ll run into this as it seems they&#39;re doing a one-off thing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481749148, "post_id": 41145937, "comment_id": 69506311, "body": "Hmm. I didn&#39;t use &quot;better&quot; anywhere did I? I have upvoted your answer, but I think it could do with the usual warnings about copying references. Adam&#39;s deleted post would make a useful comment."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481750540, "post_id": 41145937, "comment_id": 69506972, "body": "Ah, sorry :-s If you mean in the sense of &quot;(Is that) better&quot; then yes, that&#39;s ideal! Well done."}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1481768511, "post_id": 41145937, "comment_id": 69512651, "body": "Yeah I deleted the comment/answer partly in frustration at having most of my answer edited away, partly because I decided it was probably too much of a distraction from the original question. Maybe I should just make the comment again and pretend none of this ever happened? xD"}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1481769109, "post_id": 41145937, "comment_id": 69512798, "body": "@simbabque your example for <code>InFile</code> shows <code>111</code> but it should actually be <code>foobar</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1481784140, "post_id": 41145937, "comment_id": 69517124, "body": "@adam since I credited you we can already pretend it never happened. I usually remove my own comments about missing stuff once the author of the answer fixes the problem. Thanks for pointing out the inconsistency, I figured the string would be more obvious but didn&#39;t run the program again. :-)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1481783818, "last_edit_date": 1495539941, "creation_date": 1481728316, "answer_id": 41145937, "question_id": 41145724, "link": "https://stackoverflow.com/questions/41145724/inserting-one-hash-into-another-using-perl/41145937#41145937", "title": "Inserting one hash into another using Perl", "body": "<p>Assuming you have two hash references, this is straight-forward.</p>\n\n<pre><code>my $item = {\n    'ItemData' =&gt; {\n        'Item' =&gt; {\n            'PriceList' =&gt; '25.00',\n            'UOM'       =&gt; ' ',\n            'ItemNum'   =&gt; '2'\n        }\n    }\n};\n\nmy $alt = {\n    'Alternate' =&gt; {\n        'MfgCode'      =&gt; 'FRA',\n        'Description'  =&gt; 'OIL FILTER',\n        'Stocked'      =&gt; 'Y',\n        'InFile'       =&gt; 'Y',\n        'QtyAvailable' =&gt; '29'\n    }\n};\n\n$item-&gt;{ItemData}-&gt;{Item}-&gt;{Alternate} = $alt-&gt;{Alternate};\n</code></pre>\n\n<p>The trick here is not to actually merge <code>$alt</code> into some part of <code>$item</code>, but to only take the specific part you want and put it where you want it. We take the <code>Alternate</code> key from <code>$alt</code> and put it's content into a new <code>Alternate</code> key inside the guts of <code>$item</code>.</p>\n\n<p><a href=\"https://stackoverflow.com/users/1225617/adam-millerchip\">Adam Millerchip</a> pointed out in a hence deleted comment that this is not a copy. If you alter any of the keys inside of <code>$alt-&gt;{Alternative}</code> after sticking it into <code>$item</code>, the data will be changed inside of <code>$item</code> as well because we are dealing with references.</p>\n\n<pre><code>$item-&gt;{ItemData}-&gt;{Item}-&gt;{Alternate} = $alt-&gt;{Alternate};\n$alt-&gt;{Alternate}-&gt;{InFile} = 'foobar';\n</code></pre>\n\n<p>This will actually also change the value of <code>$item-&gt;{ItemData}-&gt;{Item}-&gt;{Alternate}-&gt;{InFile}</code> to <em>foobar</em> as seen below.</p>\n\n<pre><code>$VAR1 = {\n          'ItemData' =&gt; {\n                          'Item' =&gt; {\n                                      'ItemNum' =&gt; '2',\n                                      'Alternate' =&gt; {\n                                                       'Stocked' =&gt; 'Y',\n                                                       'MfgCode' =&gt; 'FRA',\n                                                       'InFile' =&gt; 'foobar',\n                                                       'Description' =&gt; 'OIL FILTER',\n                                                       'QtyAvailable' =&gt; '29'\n                                                     },\n                                      'UOM' =&gt; ' ',\n                                      'PriceList' =&gt; '25.00'\n                                    }\n                        }\n        };\n</code></pre>\n\n<p>References are supposed to do that, because they only reference something. That's what's good about them.</p>\n\n<p>To make a real copy, you need to dereference and create a new anonymous hash reference.</p>\n\n<pre><code>#                                        create a new ref \n#                                          deref\n$item-&gt;{ItemData}-&gt;{Item}-&gt;{Alternate} = { %{ $alt-&gt;{Alternate} } };\n</code></pre>\n\n<p>This will create a shallow copy. The values directly inside of the <code>Alternate</code> key will be copies, but if they contain references, those will not be copied, but referenced.</p>\n\n<hr>\n\n<p>If you do want to merge larger data structures where more than the content of one key needs to be merged, take a look at <a href=\"https://metacpan.org/pod/Hash::Merge\" rel=\"nofollow noreferrer\">Hash::Merge</a> instead.</p>\n"}], "owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 2, "accepted_answer_id": 41145937, "answer_count": 1, "score": 2, "last_activity_date": 1481783818, "creation_date": 1481727668, "last_edit_date": 1481734093, "question_id": 41145724, "link": "https://stackoverflow.com/questions/41145724/inserting-one-hash-into-another-using-perl", "title": "Inserting one hash into another using Perl", "body": "<p></p>\n\n<p>I've tried many different versions of using push and splice, but can't seem to combine two hashes as needed. Trying to insert the second hash into the first inside the 'Item' array:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>(\n  ItemData =&gt; { Item =&gt; { ItemNum =&gt; 2, PriceList =&gt; \"25.00\", UOM =&gt; \" \" } },\n)\n</code></pre>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>(\n  Alternate =&gt; {\n    Description  =&gt; \"OIL FILTER\",\n    InFile       =&gt; \"Y\",\n    MfgCode      =&gt; \"FRA\",\n    QtyAvailable =&gt; 29,\n    Stocked      =&gt; \"Y\",\n  },\n)\n</code></pre>\n\n<p>And I need to insert the second 'Alternate' hash into the 'Item' array of the first hash for this result:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>(\n  ItemData =&gt; {\n    Item =&gt; {\n      Alternate =&gt; {\n        Description  =&gt; \"OIL FILTER\",\n        InFile       =&gt; \"Y\",\n        MfgCode      =&gt; \"FRA\",\n        QtyAvailable =&gt; 29,\n        Stocked      =&gt; \"Y\",\n      },\n      ItemNum =&gt; 2,\n      PriceList =&gt; \"25.00\",\n      UOM =&gt; \" \",\n    },\n  },\n)\n</code></pre>\n\n<p>Can someone suggest how I can accomplish this?</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1481724468, "post_id": 41143638, "comment_id": 69491699, "body": "Please, the language is called <b><i>Perl</i></b>, and its compiler/interpreter is called <b><i>perl</i></b>. I doubt if you&#39;d write <i>PYTHON</i> and I don&#39;t see why Perl is subject to this abuse :)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1481730319, "post_id": 41143638, "comment_id": 69495544, "body": "Since you&#39;re using perlbrew, <code>sudo perl ...</code> and <code>perl ...</code> are invoking different executables. The whole point of perlbrew is to avoid touching the system perl (the one you invoke with <code>sudo perl</code>); to do stuff with perlbrew, drop the sudo."}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 4, "last_activity_date": 1481724132, "creation_date": 1481724132, "answer_id": 41144537, "question_id": 41143638, "link": "https://stackoverflow.com/questions/41143638/installed-json-module-for-perl-but-cannot-load-it-cant-locate-json-pm-in-inc/41144537#41144537", "title": "Installed JSON module for Perl but cannot load it, Can&#39;t locate JSON.pm in @INC", "body": "<p>The list of paths for @INC in the error message implies that you are trying to use the system perl, but you have installed the module for a version of perl managed by perlbrew.</p>\n\n<p>You need to make sure that you are running your script with the correct version of perl.</p>\n\n<p>The most likely reason for this is that you have a shebang line <code>#!/usr/bin/perl</code>. Change it to <code>#!/usr/bin/env perl</code> to search the <code>$PATH</code> for perl. Alternatively, change it to the full path to the version of perl you installed with perlbrew.</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1481730348, "post_id": 41144545, "comment_id": 69495561, "body": "OP is using perlbrew, so they should stop using sudo."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1481724146, "creation_date": 1481724146, "answer_id": 41144545, "question_id": 41143638, "link": "https://stackoverflow.com/questions/41143638/installed-json-module-for-perl-but-cannot-load-it-cant-locate-json-pm-in-inc/41144545#41144545", "title": "Installed JSON module for Perl but cannot load it, Can&#39;t locate JSON.pm in @INC", "body": "<p>Here's the problem:</p>\n\n<ul>\n<li><code>Perl/5.18</code></li>\n<li><code>perl-5.16.0</code></li>\n</ul>\n\n<p>You've got two different versions of perl in play. I would suggest that you need to <code>sudo perl -MCPAN -e 'install JSON'</code> using the path to the one you're using in your script.  (Or change your script to point to the other binary)</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1481724314, "creation_date": 1481724314, "answer_id": 41144587, "question_id": 41143638, "link": "https://stackoverflow.com/questions/41143638/installed-json-module-for-perl-but-cannot-load-it-cant-locate-json-pm-in-inc/41144587#41144587", "title": "Installed JSON module for Perl but cannot load it, Can&#39;t locate JSON.pm in @INC", "body": "<p>You have installed the module for a different instance of perl from the one where you are trying to use it. Try this to see the difference</p>\n\n<pre><code>perl -E'say $^X'\n</code></pre>\n\n<p>and</p>\n\n<pre><code>sudo perl -E'say $^X'\n</code></pre>\n\n<p>I see that you are using <code>perlbrew</code>, so it should be simple enough to switch to the appropriate instance before you run your command</p>\n\n<p>By the way, <code>perl -MCPAN -e 'install JSON'</code> is better written as <code>cpan JSON</code></p>\n"}], "owner": {"reputation": 5023, "user_id": 3021358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/xI263.png?s=128&g=1", "display_name": "snaggs", "link": "https://stackoverflow.com/users/3021358/snaggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19406, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1510344376, "creation_date": 1481721431, "last_edit_date": 1481729970, "question_id": 41143638, "link": "https://stackoverflow.com/questions/41143638/installed-json-module-for-perl-but-cannot-load-it-cant-locate-json-pm-in-inc", "title": "Installed JSON module for Perl but cannot load it, Can&#39;t locate JSON.pm in @INC", "body": "<p></p>\n\n<p>I installed <a href=\"http://search.cpan.org/~makamaka/JSON-2.90/lib/JSON.pm\" rel=\"nofollow noreferrer\">JSON</a> for PERL with command:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sudo perl -MCPAN -e 'install JSON'\n</code></pre>\n\n<p>but I cannot use it, <code>use JSON;</code> causes to  error:</p>\n\n<blockquote>\n  <p>Can't locate JSON.pm in @INC (you may need to install the JSON module)<br>\n  (@INC contains: /Library/Perl/5.18/darwin-thread-multi-2level<br>\n  /Library/Perl/5.18<br>\n  /Network/Library/Perl/5.18/darwin-thread-multi-2level<br>\n  /Network/Library/Perl/5.18 /Library/Perl/Updates/5.18.2<br>\n  /System/Library/Perl/5.18/darwin-thread-multi-2level<br>\n  /System/Library/Perl/5.18<br>\n  /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level<br>\n  /System/Library/Perl/Extras/5.18 .) at<br>\n  /Users/snaggs/Appsflyer/projects/build-machine-sdk/scripts/build_ios.pl\n  line 13. BEGIN failed--compilation aborted at\n  /Users/snaggs/Appsflyer/projects/build-machine-sdk/scripts/build_ios.pl\n  line 13.</p>\n</blockquote>\n\n<p><code>ls -l /Users/snaggs/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/JSON/</code> gives me:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>drwxr-xr-x  3 snaggs  staff    102 Nov 29 12:53 PP\n-r--r--r--  1 snaggs  staff  82532 Nov 29 12:53 PP.pm\n</code></pre>\n\n<p><code>$ perl -V</code> gives me:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Summary of my perl5 (revision 5 version 16 subversion 0) configuration:\n\n  Platform:\n    osname=darwin, osvers=16.1.0, archname=darwin-2level\n    uname='darwin snaggss-macbook-pro.local 16.1.0 darwin kernel version 16.1.0: thu oct 13 21:26:57 pdt 2016; root:xnu-3789.21.3~60release_x86_64 x86_64 '\n    config_args='-de -Dprefix=/Users/snaggs/perl5/perlbrew/perls/perl-5.16.0 -Aeval:scriptdir=/Users/snaggs/perl5/perlbrew/perls/perl-5.16.0/bin'\n    hint=recommended, useposix=true, d_sigaction=define\n    useithreads=undef, usemultiplicity=undef\n    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef\n    use64bitint=define, use64bitall=define, uselongdouble=undef\n    usemymalloc=n, bincompat5005=undef\n  Compiler:\n    cc='cc', ccflags ='-fno-common -DPERL_DARWIN -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include',\n    optimize='-O3',\n    cppflags='-fno-common -DPERL_DARWIN -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include'\n    ccversion='', gccversion='4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.42.1)', gccosandvers=''\n    intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=12345678\n    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=16\n    ivtype='long', ivsize=8, nvtype='double', nvsize=8, Off_t='off_t', lseeksize=8\n    alignbytes=8, prototype=define\n  Linker and Libraries:\n    ld='env MACOSX_DEPLOYMENT_TARGET=10.3 cc', ldflags =' -fstack-protector -L/usr/local/lib'\n    libpth=/usr/local/lib /usr/lib\n    libs=-lgdbm -ldbm -ldl -lm -lutil -lc\n    perllibs=-ldl -lm -lutil -lc\n    libc=, so=dylib, useshrplib=false, libperl=libperl.a\n    gnulibc_version=''\n  Dynamic Linking:\n    dlsrc=dl_dlopen.xs, dlext=bundle, d_dlsymun=undef, ccdlflags=' '\n    cccdlflags=' ', lddlflags=' -bundle -undefined dynamic_lookup -L/usr/local/lib -fstack-protector'\n\n\nCharacteristics of this binary (from libperl): \n  Compile-time options: HAS_TIMES PERLIO_LAYERS PERL_DONT_CREATE_GVSV\n                        PERL_MALLOC_WRAP PERL_PRESERVE_IVUV USE_64_BIT_ALL\n                        USE_64_BIT_INT USE_LARGE_FILES USE_LOCALE\n                        USE_LOCALE_COLLATE USE_LOCALE_CTYPE\n                        USE_LOCALE_NUMERIC USE_PERLIO USE_PERL_ATOF\n  Locally applied patches:\n    Devel::PatchPerl 1.38\n  Built under darwin\n  Compiled at Nov 29 2016 12:51:12\n  %ENV:\n    PERLBREW_BASHRC_VERSION=\"0.78\"\n    PERLBREW_HOME=\"/Users/snaggs/.perlbrew\"\n    PERLBREW_MANPATH=\"/Users/snaggs/perl5/perlbrew/perls/perl-5.16.0/man\"\n    PERLBREW_PATH=\"/Users/snaggs/perl5/perlbrew/bin:/Users/snaggs/perl5/perlbrew/perls/perl-5.16.0/bin\"\n    PERLBREW_PERL=\"perl-5.16.0\"\n    PERLBREW_ROOT=\"/Users/snaggs/perl5/perlbrew\"\n    PERLBREW_VERSION=\"0.78\"\n  @INC:\n    /Users/snaggs/perl5/perlbrew/perls/perl-5.16.0/lib/site_perl/5.16.0/darwin-2level\n    /Users/snaggs/perl5/perlbrew/perls/perl-5.16.0/lib/site_perl/5.16.0\n    /Users/snaggs/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0/darwin-2level\n    /Users/snaggs/perl5/perlbrew/perls/perl-5.16.0/lib/5.16.0\n</code></pre>\n"}, {"tags": ["perl", "sqlite", "dbi"], "comments": [{"owner": {"reputation": 2149, "user_id": 2096401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uVjii.jpg?s=128&g=1", "display_name": "TripeHound", "link": "https://stackoverflow.com/users/2096401/tripehound"}, "edited": false, "score": 0, "creation_date": 1481721768, "post_id": 41143514, "comment_id": 69489835, "body": "If there&#39;s a way of doing it in the SQLite wrappers you&#39;re using, you should probably set a &quot;busy timeout&quot; (see <a href=\"https://www.sqlite.org/pragma.html#pragma_busy_timeout\" rel=\"nofollow noreferrer\">SQLite docs</a>) and SQLite should take care of this. Recommended values seem to be around 5-10s (i.e. a value of 5000-10000)."}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "reply_to_user": {"reputation": 2149, "user_id": 2096401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uVjii.jpg?s=128&g=1", "display_name": "TripeHound", "link": "https://stackoverflow.com/users/2096401/tripehound"}, "edited": false, "score": 0, "creation_date": 1481724499, "post_id": 41143514, "comment_id": 69491720, "body": "The problem seems to be that it is not being regarded as BUSY, but as LOCKED, and that it assumes (wrongly) that the locking cannot go away."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 2, "creation_date": 1481725803, "post_id": 41143514, "comment_id": 69492559, "body": "As can be read here: <a href=\"http://www.sqlite.org/cvstrac/wiki?p=DatabaseIsLocked\" rel=\"nofollow noreferrer\">sqlite.org/cvstrac/wiki?p=DatabaseIsLocked</a>  An SQLITE_LOCKED error is distinct from SQLITE_BUSY (5). SQLITE_BUSY means that another database connection (probably in another process) is using the database in a way that prevents you from using it. SQLITE_LOCKED means the source of contention is internal and comes from the same database connection that received the SQLITE_LOCKED error. So waiting and retrying might not help."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1481726906, "post_id": 41143514, "comment_id": 69493323, "body": "I don&#39;t know if this is what you&#39;re running into, but I thought I&#39;d throw it out there as you mentioned &quot;in parallel&quot;. I ran into this recently and found the problem was that I was using two separate db handles simultaneously under <code>fork()</code>. When I refactored my code to pass a single handle around instead and did away with the second one, the issue went away. This is recorded in the <a href=\"https://metacpan.org/pod/DBD::SQLite#DBD::SQLite-and-fork\" rel=\"nofollow noreferrer\">docs</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1481737304, "post_id": 41143514, "comment_id": 69500089, "body": "@GeorgMavridis: That&#39;s important; thank you. I assumed that a <i>locked</i> error was like a file system lock, where it may be applied independently by any process. It sounds like the OP&#39;s problem is that all the child processes are using the same database connection, and so locking one another out."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1481738011, "post_id": 41143514, "comment_id": 69500446, "body": "@stevieb: The documentation that you refer to is very useful, but what it says is contrary to your conclusion. I read <i>&quot;If you need to <code>fork()</code>, <code>(re)open</code> a database after you <code>fork()</code>. You might also want to tweak <code>sqlite_busy_timeout</code> and <code>sqlite_use_immediate_transaction</code> (see below), depending on your needs&quot;</i>. That says to me that the problems will occur if you <i>don&#39;t</i> have multiple database handles."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1481737621, "last_edit_date": 1592644375, "creation_date": 1481725896, "answer_id": 41145119, "question_id": 41143514, "link": "https://stackoverflow.com/questions/41143514/dbdsqlite-database-is-locked-how-to-retry/41145119#41145119", "title": "DBD::SQLite: database is locked: How to retry?", "body": "<h3>Update</h3>\n<p>Please take note of <a href=\"https://stackoverflow.com/questions/41143514/dbdsqlite-database-is-locked-how-to-retry#comment69492559_41143514\">Georg Mavridis' comment</a> above</p>\n<p>It sounds like your child processes are sharing the same database connection and locking out one another</p>\n<p>If you want true parallelism then you need to make multiple connections to your database. SQLite will queue requests from separate connections and resolve the conflict for you, unless that behaviour is disabled.</p>\n<br/>\n<hr />\n<p>You need to design the error handling of your DBI application. There are three options that may be specified in the <code>connect</code> call</p>\n<ul>\n<li><p><code>PrintError</code> \u2014 on by default \u2014 this will cause a <em>warning</em> to be issued if an error arises</p>\n</li>\n<li><p><code>RaiseError</code> \u2014 off by default \u2014 this will cause the process to <em>die</em> if an error arises</p>\n</li>\n<li><p><code>HandleError</code> \u2014 unset by default \u2014 this option must be set to a <em>subroutine reference</em>, and that subroutine will be called if an error arises</p>\n</li>\n</ul>\n<p>If you expect no database errors then it is probably best to use</p>\n<pre><code>my $dbh = DBI-&gt;connect( ..., { PrintError =&gt; 0, RaiseError =&gt; 1 } )\n</code></pre>\n<p>Then you can enable error handling for parts of the code where something may go wrong and you want to attempt to fix it</p>\n<p>The <a href=\"https://metacpan.org/pod/DBI#RaiseError\" rel=\"nofollow noreferrer\"><code>DBI</code> documentation for the <code>RaiseError</code> option</a> says this</p>\n<blockquote>\n<p>If you want to temporarily turn RaiseError off (inside a library function that is likely to fail, for example), the recommended way is like this:</p>\n<pre><code>{\n  local $h-&gt;{RaiseError};  # localize and turn off for this block\n  ...\n}\n</code></pre>\n</blockquote>\n<p>That way, the <code>RaiseError</code> option is implicitly turned back on at the closing brace, and within the block you can check the values returned by <code>execute</code>, which says whether the operation was successful, and <code>errstr</code>, which gives details of the type of error sustained. You can then write retry code in Perl to do whatever you want</p>\n<p>The standard <code>sleep</code> call will suspend a process, but has a granularity of one second. If you cannot afford for your program to wait that long between retries, then take a look at the <code>usleep</code> function from the <a href=\"https://metacpan.org/pod/Time::HiRes\" rel=\"nofollow noreferrer\"><code>Time::HiRes</code></a> module, which takes multiples of one microsecond</p>\n"}], "owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1966, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1571686503, "creation_date": 1481721030, "last_edit_date": 1571686503, "question_id": 41143514, "link": "https://stackoverflow.com/questions/41143514/dbdsqlite-database-is-locked-how-to-retry", "title": "DBD::SQLite: database is locked: How to retry?", "body": "<p>I use an SQLite database in parallel. Mostly for reading - which means everything works out great. But also for writing and dropping tables. And then suddenly I get this at random times (which indicates a race condition - which is expected running things in parallel):</p>\n\n<pre><code>Error: near line 1: database is locked\n</code></pre>\n\n<p>Now I <em>know</em> that in 10 ms the database will not be locked, so I would like to just wait 10 ms and try again, but I cannot find a way to catch that error.</p>\n\n<p>How can I catch that error?</p>\n"}, {"tags": ["perl", "compiler-errors", "strawberry-perl"], "comments": [{"owner": {"reputation": 736, "user_id": 4315601, "user_type": "registered", "profile_image": "https://graph.facebook.com/1082442775210462/picture?type=large", "display_name": "Vesa Karjalainen", "link": "https://stackoverflow.com/users/4315601/vesa-karjalainen"}, "edited": false, "score": 0, "creation_date": 1481712877, "post_id": 41140363, "comment_id": 69484217, "body": "Aren&#39;t there any post-install scripts to run when using a ZIP version of Strawberry?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481713645, "post_id": 41140363, "comment_id": 69484706, "body": "@VesaKarjalinen: No. The whole point of the <i>PortableZIP</i> version is that there is no installation process. It provides a command file which opens a new command prompt window with all the necessary settings enabled just for the life of that window."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7295929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8ea8f673e93cacce49014459275aebf?s=128&d=identicon&r=PG&f=1", "display_name": "l05443", "link": "https://stackoverflow.com/users/7295929/l05443"}, "edited": false, "score": 0, "creation_date": 1481723161, "post_id": 41140999, "comment_id": 69490800, "body": "Ty very much, made my day :-). Sry for not reading readme...Next time i will do first! Followed your guide and the readme and it really works ;-)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 13, "user_id": 7295929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8ea8f673e93cacce49014459275aebf?s=128&d=identicon&r=PG&f=1", "display_name": "l05443", "link": "https://stackoverflow.com/users/7295929/l05443"}, "edited": false, "score": 0, "creation_date": 1481723579, "post_id": 41140999, "comment_id": 69491108, "body": "@l05443: You can make things a whole lot easier by selecting <code>portableshell.bat</code> in File Manager, then using a <i>right-click</i> to drag and drop it to the desktop. If you then select <code>Create shortcuts here</code> from the context menu then you will have a desktop shortcut that you can double-click to start the portable Perl environment. Highlight the shortcut and press <code>F2</code> to rename it to something more useful."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1481713783, "last_edit_date": 1481713783, "creation_date": 1481713373, "answer_id": 41140999, "question_id": 41140363, "link": "https://stackoverflow.com/questions/41140363/strawberry-perl-error-message-this-package-requires-a-c-compiler/41140999#41140999", "title": "Strawberry Perl - Error Message: This package requires a C compiler", "body": "<p>Presumably you are running perl and cpan directly from the command prompt?</p>\n\n<p>You should read the contents of the <code>README.txt</code> file in the distribution, where it tells you to run\n<code>c:\\myperl\\portableshell.bat</code> before using any of the utilities</p>\n\n<p><em>I hope it's clear that you must change <code>c:\\myperl</code> to the folder where you unzipped the distribution</em></p>\n\n<p>There are three subdirectories of the unzipped volume which need to be in the <code>PATH</code> before everything will work, and the <code>.bat</code> file will set those up temporarily for you. If you want something more permanent then the <code>README.txt</code> file explains how to  do that, but you should probably run a proper installed version instead</p>\n"}], "owner": {"reputation": 13, "user_id": 7295929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8ea8f673e93cacce49014459275aebf?s=128&d=identicon&r=PG&f=1", "display_name": "l05443", "link": "https://stackoverflow.com/users/7295929/l05443"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 0, "accepted_answer_id": 41140999, "answer_count": 1, "score": 1, "last_activity_date": 1481713783, "creation_date": 1481711578, "last_edit_date": 1481713436, "question_id": 41140363, "link": "https://stackoverflow.com/questions/41140363/strawberry-perl-error-message-this-package-requires-a-c-compiler", "title": "Strawberry Perl - Error Message: This package requires a C compiler", "body": "\n\n<p>I have Strawberry Perl May 2016 (5.24.0) 32bit PortableZIP edition. I have only unzipped it; there are no changes otherwise.</p>\n\n<p>When i want to install modules with cpan i got the follow error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Fhem\\perl\\bin&gt;cpan -i Net::SSLeay\nLoading internal null logger. Install Log::Log4perl for logging messages\nCPAN: CPAN::SQLite loaded ok (v0.211)\nDatabase was generated on Tue, 13 Dec 2016 13:41:47 GMT\n\nRunning install for module 'Net::SSLeay'\nCPAN: LWP::UserAgent loaded ok (v6.15)\nCPAN: Time::HiRes loaded ok (v1.9733)\nFetching with LWP:\nhttp://cpan.strawberryperl.com/authors/id/M/MI/MIKEM/Net-SSLeay-1.78.tar.gz\nCPAN: YAML::XS loaded ok (v0.62)\nCPAN: Digest::SHA loaded ok (v5.95)\nFetching with LWP:\nhttp://cpan.strawberryperl.com/authors/id/M/MI/MIKEM/CHECKSUMS\nCPAN: Compress::Zlib loaded ok (v2.069)\nChecksum for C:\\Fhem\\cpan\\sources\\authors\\id\\M\\MI\\MIKEM\\Net-SSLeay-1.78.tar.gz ok\nCPAN: Archive::Tar loaded ok (v2.06)\nCPAN: File::Temp loaded ok (v0.2304)\nCPAN: CPAN::Meta::Requirements loaded ok (v2.140)\nCPAN: Parse::CPAN::Meta loaded ok (v1.4417)\nCPAN: CPAN::Meta loaded ok (v2.150005)\nCPAN: Module::CoreList loaded ok (v5.20160507)\nConfiguring M/MI/MIKEM/Net-SSLeay-1.78.tar.gz with Makefile.PL\nUnresolvable missing external dependency.\nThis package requires a C compiler.\nNA: Unable to build distribution on this platform.\nNo 'Makefile' created\u00a0 MIKEM/Net-SSLeay-1.78.tar.gz\n\u00a0 C:\\Fhem\\perl\\bin\\perl.exe Makefile.PL -- NOT OK\nStopping: 'install' failed for 'Net::SSLeay'.\n</code></pre>\n\n<p>Seems to be no compiler found. What must I do to fix this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 3, "creation_date": 1481698194, "post_id": 41136353, "comment_id": 69476160, "body": "Try it by your own and come back if you have a specific problem. SO is not &quot;a write code for me&quot; service"}, {"owner": {"reputation": 15, "user_id": 3090870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68c235a7e463f278c56023c28e6c628?s=128&d=identicon&r=PG&f=1", "display_name": "user3090870", "link": "https://stackoverflow.com/users/3090870/user3090870"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1481700284, "post_id": 41136353, "comment_id": 69477142, "body": "Actually i am new to perl and not aware of file processing. Mean while i am trying to do it by my own with the help of google. Any how thanks for your response."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1481701538, "post_id": 41136353, "comment_id": 69477736, "body": "You&#39;re supposed to do the research <i>before</i> asking the question, not while you wait for answers."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481718167, "post_id": 41136353, "comment_id": 69487454, "body": "Better you can vote for answers"}], "answers": [{"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": 0, "last_activity_date": 1481703040, "creation_date": 1481703040, "answer_id": 41137654, "question_id": 41136353, "link": "https://stackoverflow.com/questions/41136353/read-a-line-from-a-file-and-split-the-line-in-perl/41137654#41137654", "title": "read a line from a file and split the line in perl", "body": "<blockquote>\n  <p>I have started this for you:</p>\n</blockquote>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $inputfile = $ARGV[0];\nmy $matchedline = \"\";\n\n#open file\nopen(INPUT, $inputfile) || die \"Can't reason $!\\n\";\nwhile(&lt;INPUT&gt;) #Each line looping\n{  $matchedline .= $_ if($_=~m/is successfully created/g);  } #Check matched line\n\nprint $matchedline; #Confirm the matched line.\n</code></pre>\n\n<blockquote>\n  <p>After this you will try to store in the new file and this is for your assignment</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1481706228, "creation_date": 1481706228, "answer_id": 41138531, "question_id": 41136353, "link": "https://stackoverflow.com/questions/41136353/read-a-line-from-a-file-and-split-the-line-in-perl/41138531#41138531", "title": "read a line from a file and split the line in perl", "body": "<p>Something like this will do it. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n#iterate stdin or files specified on command line. \nwhile ( &lt;&gt; ) {\n   #regex match, capturing part of the match. \n   #note - non whitespace matching, so will break if you've whitespace chars in your filenames \n   #or paths. \n   if ( my ( $path, $file ) = m,\\s(\\S+/)(\\S+) is successfully created, ) {\n      print \"Path = $path, file = $file\",\"\\n\";\n   }\n} \n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 3090870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68c235a7e463f278c56023c28e6c628?s=128&d=identicon&r=PG&f=1", "display_name": "user3090870", "link": "https://stackoverflow.com/users/3090870/user3090870"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 0, "closed_date": 1483622351, "answer_count": 2, "score": -3, "last_activity_date": 1481706228, "creation_date": 1481697794, "last_edit_date": 1481700519, "question_id": 41136353, "link": "https://stackoverflow.com/questions/41136353/read-a-line-from-a-file-and-split-the-line-in-perl", "closed_reason": "Needs more focus", "title": "read a line from a file and split the line in perl", "body": "<p>I have to read a specific line (line contains <code>is successfully created.</code>) from a text file and have to split the line and store the specific values in variables.</p>\n\n<p>The full line is </p>\n\n<pre><code>LOG----Payrun.c:0263:28/11/16 07:45:04 &gt; Pay file /home/user/dev/MODULE447/input/all/20161111/PAY001.TXT is successfully created.\n</code></pre>\n\n<p>I have to get the string value <code>/home/user/dev/MODULE447/input/all/20161111/</code> into one variable and <code>PAY001.TXT</code> into another variable.</p>\n\n<p>Can any body help me with reading from the file and getting the required values into variables?</p>\n"}, {"tags": ["perl", "dbi"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1481697583, "post_id": 41136027, "comment_id": 69475924, "body": "This question would be more appropriate over at <a href=\"https://codereview.stackexchange.com\">Code Review</a>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1481697651, "post_id": 41136027, "comment_id": 69475955, "body": "I&#39;m voting to close this question as off-topic because it belongs on Code Review SE"}], "answers": [{"tags": [], "owner": {"reputation": 736, "user_id": 4315601, "user_type": "registered", "profile_image": "https://graph.facebook.com/1082442775210462/picture?type=large", "display_name": "Vesa Karjalainen", "link": "https://stackoverflow.com/users/4315601/vesa-karjalainen"}, "is_accepted": false, "score": 1, "last_activity_date": 1481703421, "creation_date": 1481703421, "answer_id": 41137764, "question_id": 41136027, "link": "https://stackoverflow.com/questions/41136027/script-for-updating-db/41137764#41137764", "title": "Script for updating DB", "body": "<p>use strict;</p>\n\n<p>Move your two <code>prepare()</code>s out of the <code>while</code> loop, using <code>?</code> as placeholder. Then call only <code>execute($new_form_id_x, $item_id)</code> for the appropriate prepared statement handle inside the loop.</p>\n"}], "owner": {"reputation": 252, "user_id": 4692887, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/nHGer.png?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/4692887/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481703421, "creation_date": 1481696345, "last_edit_date": 1481697227, "question_id": 41136027, "link": "https://stackoverflow.com/questions/41136027/script-for-updating-db", "title": "Script for updating DB", "body": "<p>I have the following piece of perl script for updating Oracle Database. It's working perfectly fine; but, I want to know how to simplify this script: </p>\n\n<pre><code>use DBI;\nmy $dbh;\nmy $bad_form = \"text.txt\";\n\nopen (OUT, $bad_form) or die \"Could not open $bad_form\";\nwhile (&lt;OUT&gt;){\n    chomp $_;\n    my ($item_id, $description, $form_id_1, $form_id_3) = split(/\\|/, $_);\n\n    my $new_form_id_1 = form_1($form_id_1);\n    my $new_form_id_3 = form_3($form_id_3);\n\n    if ( $new_form_id_1 ne 'null' ){\n            my $sql = \"update item_table set form_id_1 = '$new_form_id_1' where item_id = '$item_id'\";\n            my $item = $dbh-&gt;prepare($sql) or (log_error(\"Couldn't prepare statement: \" . $dbh-&gt;errstr) and return 2);\n            $item-&gt;execute() or (log_error(\"Couldn't execute statement: \" . $item-&gt;errstr) and return 2);\n    }else{\n            $form_id_1 = \"correct value\";\n            $new_form_id_1 = \"no updated\";\n    }\n\n    if ( $new_form_id_3 ne 'null' ){\n            my $sql = \"update item_table set form_id_3 = '$new_form_id_3' where item_id = '$item_id'\";\n            my $item = $dbh-&gt;prepare($sql) or (log_error(\"Couldn't prepare statement: \" . $dbh-&gt;errstr) and return 2);\n            $item-&gt;execute() or (log_error(\"Couldn't execute statement: \" . $item-&gt;errstr) and return 2);\n\n    }else{\n            $form_id_3 = \"correct value\";\n            $new_form_id_3 = \"no updated\";\n    }\n}\n</code></pre>\n\n<p>Where function form_1() and form_3() are used to generated new value for form_id_1,3.</p>\n\n<p>Any help would be appreciated. Thank you a lot for your help. </p>\n"}, {"tags": ["perl", "lwp-useragent"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481701679, "post_id": 41135720, "comment_id": 69477811, "body": "Why are you trying to set the IP address?  What are you trying to do?"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481710244, "post_id": 41135720, "comment_id": 69482617, "body": "@ysth I&#39;m trying to crawl the content from the site. But the site has the captcha when opening from the same IP."}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1481695514, "creation_date": 1481695514, "answer_id": 41135871, "question_id": 41135720, "link": "https://stackoverflow.com/questions/41135720/set-the-ip-address-in-lwpuseragent/41135871#41135871", "title": "Set the ip address in LWP::UserAgent", "body": "<blockquote>\n  <p>LWP::Protocol::https::Socket: bind: Cannot assign requested address...</p>\n</blockquote>\n\n<p><code>local_address</code> needs to be an IP address of the machine where the code is running on. If this is not the case, i.e. if you want to use some external address (like the target IP address) instead of the local address, you get exactly this error message.</p>\n"}], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481695514, "creation_date": 1481694652, "question_id": 41135720, "link": "https://stackoverflow.com/questions/41135720/set-the-ip-address-in-lwpuseragent", "title": "Set the ip address in LWP::UserAgent", "body": "<p>I'm trying to set the ip address in lwp::useragent so I tried the following. But it throws the following error</p>\n\n<pre><code>Can't connect to www.some_domain.com:443\n\nLWP::Protocol::https::Socket: bind: Cannot assign requested address at /usr/local/share/perl/5.18.2/LWP/Protocol/http.pm line 47.\n</code></pre>\n\n<p>I don't know how to fix it. My code is as follow</p>\n\n<pre><code>use LWP::UserAgent;\nmy $url = \"https://www.some_domain.com\";\nmy $ua = LWP::UserAgent-&gt;new();\n$ua-&gt;local_address(\"152.73.205.80\");\nmy $response = $ua-&gt;get($url);\n$cont = $response-&gt;content;\n\nprint $cont;\n</code></pre>\n\n<p>How can I fix it.?</p>\n"}, {"tags": ["perl", "mojolicious", "mojo"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7294447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1315b8672191b312f67a08bfc185b3?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Rehder", "link": "https://stackoverflow.com/users/7294447/brian-rehder"}, "edited": false, "score": 0, "creation_date": 1481735936, "post_id": 41136314, "comment_id": 69499302, "body": "Brilliant! OK. So, now I am trying to search for the A HREF inside $ua, but I can&#39;t get it right.  I changed all_text to content. I am missing how to formulate the tags but I am almost there. What am I missing?                                                                                                                                  my $dom = Mojo::DOM-&gt;new;     my $content = $ua-&gt;$dom-&gt;find(&#39;href#&#39;);"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 21, "user_id": 7294447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1315b8672191b312f67a08bfc185b3?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Rehder", "link": "https://stackoverflow.com/users/7294447/brian-rehder"}, "edited": false, "score": 0, "creation_date": 1481736829, "post_id": 41136314, "comment_id": 69499836, "body": "@BrianRehder: Since you have asked another question for your above query. I think it&#39;d be better to accept this answer as solution and wait for answer on your new question. See <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "is_accepted": false, "score": 1, "last_activity_date": 1481697632, "creation_date": 1481697632, "answer_id": 41136314, "question_id": 41134669, "link": "https://stackoverflow.com/questions/41134669/trying-to-parse-finance-yahoo-com-with-mojo-and-perl/41136314#41136314", "title": "Trying to parse finance.yahoo.com with Mojo and perl", "body": "<p>The way you access the DOM is not correct.</p>\n\n<p>An example to parse parts of the news section would be:</p>\n\n<pre><code>say $ua-&gt;get($url)-&gt;res-&gt;dom-&gt;at('div#quoteNewsStream-0-Stream')-&gt;all_text;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7294447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c1315b8672191b312f67a08bfc185b3?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Rehder", "link": "https://stackoverflow.com/users/7294447/brian-rehder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481697632, "creation_date": 1481688280, "question_id": 41134669, "link": "https://stackoverflow.com/questions/41134669/trying-to-parse-finance-yahoo-com-with-mojo-and-perl", "title": "Trying to parse finance.yahoo.com with Mojo and perl", "body": "<p>I'm failing miserably. I want to parse the following URL:</p>\n\n<p><a href=\"http://finance.yahoo.com/quote/MSFT?ltr=1\" rel=\"nofollow noreferrer\">http://finance.yahoo.com/quote/MSFT?ltr=1</a></p>\n\n<p>And capture these three sections: * All * News * Press Releases</p>\n\n<p>Here's what I've come up with..</p>\n\n<pre><code>#!/bin/perl\n\nuse Mojo::UserAgent;\nuse strict;\nuse warnings;\nuse feature 'say';\n\nmy $ua_string = \"Mozila .. \";\nmy $url       = \"http://finance.yahoo.com/quote/MSFT?p=MSFT\";\nmy $timeout   = \"5\";\n\nmy $ua        = Mojo::UserAgent-&gt;new( max_redirects =&gt; 5, timeout =&gt; $timeout );\n$ua-&gt;transactor-&gt;name($ua_string);\n\nmy $content = $ua-&gt;get($url)-&gt;res-&gt;dom-&gt;at('#436')-&gt;{value};\n\nsay $content;\n</code></pre>\n\n<p>Any help would be appreciated.. Thanks</p>\n"}, {"tags": ["perl", "module", "version"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481733472, "post_id": 41133049, "comment_id": 69497761, "body": "Why don&#39;t you do as the comment suggests, and just use <code>use HTTP::Request::Common;   $response = $ua-&gt;request( GET($url), $filespec );</code> (regardless of version)?"}, {"owner": {"reputation": 393, "user_id": 1437387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87d4eb36e3cc1e8104979974f0c616d9?s=128&d=identicon&r=PG", "display_name": "Speeddymon", "link": "https://stackoverflow.com/users/1437387/speeddymon"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481778299, "post_id": 41133049, "comment_id": 69515026, "body": "That&#39;s only with older versions. I don&#39;t think the newer versions support that."}, {"owner": {"reputation": 393, "user_id": 1437387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87d4eb36e3cc1e8104979974f0c616d9?s=128&d=identicon&r=PG", "display_name": "Speeddymon", "link": "https://stackoverflow.com/users/1437387/speeddymon"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481778795, "post_id": 41133049, "comment_id": 69515190, "body": "Further reading of the comments indicates that newer versions ARE backward compatible."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481823430, "post_id": 41133049, "comment_id": 69540630, "body": "Even the passage you quoted seems to indicate this. But you know what, it&#39;s easy to test."}], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 1437387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87d4eb36e3cc1e8104979974f0c616d9?s=128&d=identicon&r=PG", "display_name": "Speeddymon", "link": "https://stackoverflow.com/users/1437387/speeddymon"}, "edited": false, "score": 0, "creation_date": 1481778460, "post_id": 41133150, "comment_id": 69515084, "body": "Wasn&#39;t aware newer versions are backward compatible. Will give it a shot on RHEL 6 and 7 tomorrow. And if it works then I&#39;ll mark this as the answer."}, {"owner": {"reputation": 393, "user_id": 1437387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87d4eb36e3cc1e8104979974f0c616d9?s=128&d=identicon&r=PG", "display_name": "Speeddymon", "link": "https://stackoverflow.com/users/1437387/speeddymon"}, "edited": false, "score": 0, "creation_date": 1482385679, "post_id": 41133150, "comment_id": 69754521, "body": "I was able to confirm this today on RHEL6. Thank you for the insightful answer."}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1482814229, "post_id": 41133150, "comment_id": 69880871, "body": "Incidentally you also quoted this solution in your question. xD"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 6, "last_activity_date": 1481677520, "creation_date": 1481677520, "answer_id": 41133150, "question_id": 41133049, "link": "https://stackoverflow.com/questions/41133049/in-perl-how-can-i-determine-the-module-version-of-a-specific-module-which-is-al/41133150#41133150", "title": "In Perl, how can I determine the module version of a specific module which is already loaded?", "body": "<p>The version number of <code>LWP::UserAgent</code> is in the package variable<code>$LWP::UserAgent::VERSION</code>, or you can use <code>$LWP::VERSION</code> if you have written <code>use LWP</code> to load the module</p>\n\n<p>However, there is no reason to use different methods for different versions of the module; the backward-compatible alternative</p>\n\n<pre><code>my $response = $ua-&gt;request( GET($url), $filespec )\n</code></pre>\n\n<p>will work fine on any version</p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481681165, "post_id": 41133590, "comment_id": 69471382, "body": "Yes, this is the correct way to get the version of an arbitrary module.  (The convention is for modules to have a <code>$VERSION</code> package variable, and that&#39;s what the UNIVERSAL VERSION method actually checks, but in case a module overrides the VERSION class method, calling the class method gives the authoritative answer.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1481733329, "post_id": 41133590, "comment_id": 69497665, "body": "@ysth, That&#39;s wishful thinking since the CPAN indexer grabs the version from <code>$VERSION</code>, not <code>-&gt;VERSION</code>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481733927, "post_id": 41133590, "comment_id": 69498064, "body": "@ikegami that&#39;s the distro version, not a module version"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1481734342, "post_id": 41133590, "comment_id": 69498334, "body": "@ysth, No, what I described is how it obtains the version of <i>modules</i>. The distro&#39;s version is usually one of the module&#39;s versions, but I don&#39;t see how the relates."}], "tags": [], "owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "is_accepted": false, "score": 6, "last_activity_date": 1481681090, "last_edit_date": 1481681090, "creation_date": 1481680677, "answer_id": 41133590, "question_id": 41133049, "link": "https://stackoverflow.com/questions/41133049/in-perl-how-can-i-determine-the-module-version-of-a-specific-module-which-is-al/41133590#41133590", "title": "In Perl, how can I determine the module version of a specific module which is already loaded?", "body": "<p>Since all objects extend from <a href=\"http://perldoc.perl.org/UNIVERSAL.html\" rel=\"nofollow noreferrer\"><code>UNIVERSAL</code></a>, you can do simply <code>$ua-&gt;VERSION</code> to get the version.</p>\n\n<p>It looks like <code>:content_file</code> was added in <code>5.66</code>. Compare the documentation between <a href=\"https://metacpan.org/pod/release/GAAS/libwww-perl-5.65/lib/LWP/UserAgent.pm\" rel=\"nofollow noreferrer\">5.65</a> and <a href=\"https://metacpan.org/pod/release/GAAS/libwww-perl-5.66/lib/LWP/UserAgent.pm\" rel=\"nofollow noreferrer\">5.66</a>.</p>\n"}], "owner": {"reputation": 393, "user_id": 1437387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87d4eb36e3cc1e8104979974f0c616d9?s=128&d=identicon&r=PG", "display_name": "Speeddymon", "link": "https://stackoverflow.com/users/1437387/speeddymon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 840, "favorite_count": 0, "accepted_answer_id": 41133150, "answer_count": 2, "score": 2, "last_activity_date": 1481727638, "creation_date": 1481676700, "question_id": 41133049, "link": "https://stackoverflow.com/questions/41133049/in-perl-how-can-i-determine-the-module-version-of-a-specific-module-which-is-al", "title": "In Perl, how can I determine the module version of a specific module which is already loaded?", "body": "<p>Preface: I know how to load a specific version of a module. That is not what I am after.</p>\n\n<p>I'm writing a script to retrieve some text/plain data formatted as JSON from an internal server in my company. I'm using LWP for the data retrieval.</p>\n\n<p>I have all of the script itself done, but have one problem.</p>\n\n<p>I am writing this on RHEL5, which uses Perl 5.8.8 with LWP 5.805. According to the below page, if I want to directly output the content of the response to a file, I should use <code>:content_file =&gt; filename</code></p>\n\n<p>HOWEVER, the following is noted.</p>\n\n<blockquote>\n  <p>Note that this \":content_file\" option isn't supported under older\n  versions of LWP, so you should consider adding use LWP 5.66; to check\n  the LWP version, if you think your program might run on systems with\n  older versions.</p>\n  \n  <p>If you need to be compatible with older LWP versions, then use this\n  syntax, which does the same thing:</p>\n  \n  <p><code>use HTTP::Request::Common;   $response = $ua-&gt;request( GET($url), $filespec );</code></p>\n</blockquote>\n\n<p>Since this is RHEL 5, I have to use the older LWP format, but I want to make my script so that it will use that new style instead of the older style when it is run on RHEL 6 and up, which uses a newer version of LWP that does support <code>:content_file</code>.</p>\n\n<p>Hence, I need to know how to detect the module version, and more importantly, I need to know what is the earliest LWP version to support <code>:content_file</code></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1481659495, "post_id": 41129603, "comment_id": 69463181, "body": "<a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow noreferrer\">DateTime</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481660279, "post_id": 41129603, "comment_id": 69463599, "body": "You should start by picking a module. I&#39;m partial to <a href=\"http://search.cpan.org/perldoc?DateTime\" rel=\"nofollow noreferrer\">DateTime</a>, using <a href=\"http://search.cpan.org/perldoc?DateTime::Format::Strptime\" rel=\"nofollow noreferrer\">DateTime::Format::Strptime</a> for the parsing."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481661058, "post_id": 41129603, "comment_id": 69464053, "body": "Is that Sundays between <i>and including</i> both dates?"}, {"owner": {"reputation": 1169, "user_id": 1160838, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e7cb3f2847bb5f43b838a6ffab73828a?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/1160838/bill"}, "edited": false, "score": 0, "creation_date": 1481662083, "post_id": 41129603, "comment_id": 69464639, "body": "yes, between and including both dates"}], "answers": [{"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1481662903, "post_id": 41130369, "comment_id": 69465059, "body": "Since days of the week are contiguous (unless we&#39;re getting into Julian vs Gregorian calendar gaps) you can speed that up by 7 (or maybe 6) by first moving <code>$startDate</code> to a Sunday once using <code>$startDate-&gt;day_of_week</code> and then adding 7 days to get the next Sunday until you pass the <code>$endDate</code>. It also might be a hair faster to <code>my $date = $startDate-&gt;clone</code>. And, finally, Time::Piece might work faster than DateTime since it comes with a lot less baggage."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1481664534, "post_id": 41130369, "comment_id": 69465904, "body": "@ikegami While your revisions are very good, they fundamentally alter someone else&#39;s answer. Put them up as your own answer or comments instead."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481664590, "post_id": 41130369, "comment_id": 69465937, "body": "I disagree. Problems with the answer should be fixed in the answer. A clone shouldn&#39;t be made. Now there&#39;s three answers that all say &#39;use DateTime&quot;."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1481665279, "post_id": 41130369, "comment_id": 69466291, "body": "@ikegami It&#39;s ok for an answer to be wrong. Problems with an answer are solved with downvotes and comments, they&#39;re opinion, particularly poignant because the code in the answer works fine. Moderator edit <i>privilege</i> is for smaller fixes about formatting, not wholesale changing the content. If a mod edits the code, nobody else has a say, and the explanation is hidden in history. And it&#39;s Just Fine to have multiple answers showing multiple different ways to do it; even if they use the same library you see the techniques are rather different. That&#39;s StackOverflow Working As Designed\u2122."}], "tags": [], "owner": {"reputation": 1169, "user_id": 1160838, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e7cb3f2847bb5f43b838a6ffab73828a?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/1160838/bill"}, "is_accepted": false, "score": 0, "last_activity_date": 1481664495, "last_edit_date": 1481664495, "creation_date": 1481662452, "answer_id": 41130369, "question_id": 41129603, "link": "https://stackoverflow.com/questions/41129603/how-can-i-get-array-of-sundays-between-two-dates/41130369#41130369", "title": "How can I get array of Sundays between two dates?", "body": "<p>This is what I came up with but please let me know if there is a better way.</p>\n\n<pre><code>use DateTime;\n\nmy $date1 = \"1/1/2016\";\nmy $date2 = \"5/15/2016\";\n\nmy ($startMonth, $startDay, $startYear) = split(/\\//, $date1);\nmy ($endMonth, $endDay, $endYear) = split(/\\//, $date2);\n\nmy $startDate = DateTime-&gt;new(\n     year  =&gt; $startYear,\n     month =&gt; $startMonth,\n     day   =&gt; $startDay\n);\n\nmy $endDate = DateTime-&gt;new(\n     year  =&gt; $endYear,\n     month =&gt; $endMonth,\n     day   =&gt; $endDay\n);\n\nmy @sundays;\n\ndo {\n  my $date = DateTime-&gt;new(\n     year  =&gt; $startDate-&gt;year,\n     month =&gt; $startDate-&gt;month,\n     day   =&gt; $startDate-&gt;day\n  );\n\n  push @sundays, $date if ($date-&gt;day_of_week == 7);\n  $startDate-&gt;add(days =&gt; 1);\n\n} while ($startDate &lt;= $endDate);\n\nforeach my $sunday (@sundays) {\n  print $sunday-&gt;strftime(\"%m/%d/%Y\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481664510, "post_id": 41130755, "comment_id": 69465889, "body": "He could simply move <code>print &quot;$sunday\\n&quot;;</code> into the first loop if the memory was an issue. [Sorry, didn&#39;t know you were going to answer when I did my update.]"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481664660, "post_id": 41130755, "comment_id": 69465971, "body": "@ikegami That would weld generating the list of Sundays with using the list of Sundays. An iterator allows the list of Sundays (and with a small tweak any weekday) to be used for any purpose without having to pre-generate them."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481669796, "post_id": 41130755, "comment_id": 69468234, "body": "Was the change from <code>print $sunday-&gt;strftime(&quot;%m&#47;%d&#47;%Y&quot;);</code> to <code>say $sunday;</code> intentional?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1481671412, "post_id": 41130755, "comment_id": 69468746, "body": "@ikegami I didn&#39;t make such a change, I guess you&#39;re referring to the OP&#39;s own answer. <code>say $sunday</code> is just to demonstrate the iterator works. They&#39;re DateTime objects now, they can be formatted however."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1481672587, "post_id": 41130755, "comment_id": 69469108, "body": "Your answer doesn&#39;t run on its own; it simply lists modifications to make to Bill&#39;s, including changing <code>print $sunday-&gt;strftime(&quot;%m&#47;%d&#47;%Y&quot;);</code> into <code>say $sunday-&gt;strftime(&quot;%m&#47;%d&#47;%Y&quot;);</code>. Call that what you want; it&#39;s not important. What I&#39;m actually asking is if you have any objection to fixing that bug (e.g. by using <code>say $sunday-&gt;strftime(&quot;%m&#47;%d&#47;%Y&quot;);</code> to get the OP&#39;s format)?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1481674246, "post_id": 41130755, "comment_id": 69469575, "body": "@ikegami It&#39;s ok that it doesn&#39;t run on its own, it&#39;s not supposed to be a complete script but demonstrating how you can do it as a reusable function. The question doesn&#39;t ask about formatting, the OP seems to know what they&#39;re doing for parsing and formatting, and you covered it well; I saw no need to repeat it. It&#39;s just showing off the closure iterator technique. If you really want to make the change, ok, but I prefer your solution of setting the formatter on <code>$startDate</code> and inheriting it via <code>clone</code> rather than remembering to use <code>strftime</code> on every print."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481752488, "post_id": 41130755, "comment_id": 69507844, "body": "Getting alternative patterns out there is a useful goal. Well done."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 7, "last_activity_date": 1481687607, "last_edit_date": 1495539940, "creation_date": 1481664086, "answer_id": 41130755, "question_id": 41129603, "link": "https://stackoverflow.com/questions/41129603/how-can-i-get-array-of-sundays-between-two-dates/41130755#41130755", "title": "How can I get array of Sundays between two dates?", "body": "<p><a href=\"https://stackoverflow.com/a/41130369/14660\">Your solution is good</a>, but it potentially consumes a lot of memory creating an array of Sundays that might never be used. DateTime objects are not small nor cheap.</p>\n\n<p>An alternative is an iterator, a function which every time it's called generates the next Sunday. It generates each Sunday on demand rather than calculating them all beforehand. This saves memory and supports potentially infinite Sundays.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nsub sundays_iterator {\n    my($start, $end) = @_;\n\n    # Since we're going to modify it, copy it.\n    $start = $start-&gt;clone;\n\n    # Move to Sunday, if necessary.\n    $start-&gt;add( days =&gt; 7 - $start-&gt;day_of_week );\n\n    # Create an iterator using a closure.\n    # This will remember the values of $start and $end as\n    # they were when the function was returned.\n    return sub {\n        # Clone the date to return it without modifications.\n        # We always start on a Sunday.\n        my $date = $start-&gt;clone;\n\n        # Move to the next Sunday.\n        # Do this after cloning because we always start on Sunday.\n        $start-&gt;add( days =&gt; 7 );\n\n        # Return Sundays until we're past the end date\n        return $date &lt;= $endDate ? $date : ();\n    };\n}\n</code></pre>\n\n<p>That returns a closure, an anonymous subroutine which remembers the lexical variables it was created with. Sort of like an inside out object, a function with data attached. You can then call it like any subroutine reference.</p>\n\n<pre><code>my $sundays = sundays_iterator($startDate, $endDate);\nwhile( my $sunday = $sundays-&gt;() ) {\n    say $sunday;\n}\n</code></pre>\n\n<p>The upside is it saves a lot of memory, this can be especially important if you're taking the dates as user input: a malicious attacker can ask you for an enormous range consuming a lot of your server's memory.</p>\n\n<p>It also allows you to separate generating the list from using the list. Now you have a generic way of generating Sundays within a date range (or, with a slight tweak, any day of the week).</p>\n\n<p>The downside is it's likely to be a bit slower than building an array in a loop... but probably not noticeably so. Function calls are relatively slow in Perl, so making one function call for each Sunday will be slower than looping, but calling those DateTime methods (which call other methods which call other methods) will swamp that cost. Compared to using DateTime, calling the iterator function is a drop in the bucket.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1578777515, "last_edit_date": 1578777515, "creation_date": 1481664712, "answer_id": 41130905, "question_id": 41129603, "link": "https://stackoverflow.com/questions/41129603/how-can-i-get-array-of-sundays-between-two-dates/41130905#41130905", "title": "How can I get array of Sundays between two dates?", "body": "<p>You should start by picking a module. I'm partial to <a href=\"http://search.cpan.org/perldoc?DateTime\" rel=\"nofollow noreferrer\">DateTime</a>, using <a href=\"http://search.cpan.org/perldoc?DateTime::Format::Strptime\" rel=\"nofollow noreferrer\">DateTime::Format::Strptime</a> for the parsing.</p>\n\n<pre><code>use DateTime                   qw( );\nuse DateTime::Format::Strptime qw( );\n\nmy $start_date = \"01/01/2016\";\nmy $end_date   = \"05/15/2016\";\n\nmy $format = DateTime::Format::Strptime-&gt;new(\n  pattern   =&gt; '%m/%d/%Y',\n  time_zone =&gt; 'floating',  # Best not to use \"local\" for dates with no times.\n  on_error  =&gt; 'croak',\n);\n\nmy $start_dt = $format-&gt;parse_datetime($start_date)-&gt;set_formatter($format);\nmy $end_dt   = $format-&gt;parse_datetime($end_date  )-&gt;set_formatter($format);\n\nmy $sunday_dt = $start_dt-&gt;clone-&gt;add( days =&gt; 7 - $start_dt-&gt;day_of_week );\nwhile ($sunday_dt &lt;= $end_dt) {\n  print \"$sunday_dt\\n\";\n  $sunday_dt-&gt;add( days =&gt; 7 );\n}\n</code></pre>\n\n<hr>\n\n<p>Note: You really shouldn't use <code>DateTime-&gt;new</code> as Bill used and Schwern endorsed. It's not the recommended use of DateTime because it creates code that's far more complicated and error-prone. As you can see, using a formatter cut the code size in half.</p>\n\n<hr>\n\n<p>Note: Schwern is advocating the use of an iterator, replacing the last four lines of my answer with something 4 times longer (all the code in his answer). There's no reason for that high level complexity! He goes into length saying how much memory the iterator is saving, but it doesn't save any at all.</p>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1481685387, "last_edit_date": 1481685387, "creation_date": 1481682723, "answer_id": 41133875, "question_id": 41129603, "link": "https://stackoverflow.com/questions/41129603/how-can-i-get-array-of-sundays-between-two-dates/41133875#41133875", "title": "How can I get array of Sundays between two dates?", "body": "<p>DateTime::Set makes constructing an iterator easy:</p>\n\n<pre><code>use DateTime::Format::Strptime ();\nuse DateTime::Set ();\n\nmy $start_date = \"01/01/2016\";\nmy $end_date   = \"05/15/2016\";\n\nmy $format = DateTime::Format::Strptime-&gt;new(\n  pattern   =&gt; '%m/%d/%Y',\n  time_zone =&gt; 'local',\n  on_error  =&gt; 'croak',\n);\n\nmy $iterator = DateTime::Set-&gt;from_recurrence(\n  start =&gt; $format-&gt;parse_datetime($start_date)-&gt;set_formatter($format),\n  end =&gt; $format-&gt;parse_datetime($end_date)-&gt;set_formatter($format),\n  recurrence =&gt; sub { $_[0]-&gt;add( days =&gt; 7 - $_[0]-&gt;day_of_week || 7 ) }, # next Sunday after $_[0]\n);\n\nwhile ( my $date = $iterator-&gt;next ) {\n  say $date;\n}\n</code></pre>\n"}], "owner": {"reputation": 1169, "user_id": 1160838, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e7cb3f2847bb5f43b838a6ffab73828a?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/1160838/bill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 1, "accepted_answer_id": 41130755, "answer_count": 4, "score": 2, "last_activity_date": 1578777515, "creation_date": 1481659315, "question_id": 41129603, "link": "https://stackoverflow.com/questions/41129603/how-can-i-get-array-of-sundays-between-two-dates", "title": "How can I get array of Sundays between two dates?", "body": "<p>I'm starting out with two dates.</p>\n\n<pre><code>my $date1 = 01/01/2016;\nmy $date2 = 05/15/2016;\n</code></pre>\n\n<p>I need to put all the dates of the Sundays between two dates. </p>\n\n<p>Any idea where I should start? </p>\n"}, {"tags": ["arrays", "perl", "text"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 2, "creation_date": 1481638138, "post_id": 41123131, "comment_id": 69449906, "body": "Did you try somthing, what is not working?"}, {"owner": {"reputation": 21, "user_id": 6639423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6ab7166773eb622f29f09ed6e127c7?s=128&d=identicon&r=PG&f=1", "display_name": "crossing", "link": "https://stackoverflow.com/users/6639423/crossing"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1481638547, "post_id": 41123131, "comment_id": 69450184, "body": "i tried to grep -C 1, but in some blocks there are additional lines so that didn&#39;t word. split on blank didn&#39;t work either because the number of blank differ."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481644764, "post_id": 41123131, "comment_id": 69454596, "body": "Is every alternate line really blank like that? Is there ever anything between a closing <code>PC File</code> line and an opening <code>NONVSAM</code> line?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481659589, "post_id": 41123131, "comment_id": 69463232, "body": "Please read <a href=\"http://stackoverflow.com/help/someone-answers\"><i>What should I do when someone answers my question?</i></a>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6639423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6ab7166773eb622f29f09ed6e127c7?s=128&d=identicon&r=PG&f=1", "display_name": "crossing", "link": "https://stackoverflow.com/users/6639423/crossing"}, "edited": false, "score": 0, "creation_date": 1481642038, "post_id": 41123706, "comment_id": 69452805, "body": "I get the error that i can&#39;t use Modern::Perl, also could u tell me how u read the file direct into the script? I tried it with:  my $file = &quot;/shared/dir1/dir2/dir3/dir4/file.txt&quot;;  open (FILE, &quot;&lt;&quot;, $file); close (&lt;FILE&gt;); and use &lt;FILE&gt; in the While loop"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 21, "user_id": 6639423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6ab7166773eb622f29f09ed6e127c7?s=128&d=identicon&r=PG&f=1", "display_name": "crossing", "link": "https://stackoverflow.com/users/6639423/crossing"}, "edited": false, "score": 0, "creation_date": 1481644396, "post_id": 41123706, "comment_id": 69454354, "body": "@crossing: If you can&#39;t install <code>Modern::Perl</code>, remove it from the script and change <code>say</code> with <code>print</code>. In your attempt to read the file, remove the <code>close FILE</code> or put it after the <code>while(&lt;FILE&gt;)</code>"}, {"owner": {"reputation": 21, "user_id": 6639423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6ab7166773eb622f29f09ed6e127c7?s=128&d=identicon&r=PG&f=1", "display_name": "crossing", "link": "https://stackoverflow.com/users/6639423/crossing"}, "edited": false, "score": 0, "creation_date": 1481646058, "post_id": 41123706, "comment_id": 69455445, "body": "thank you!!!!! worked perfectly!"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1481639833, "creation_date": 1481639833, "answer_id": 41123706, "question_id": 41123131, "link": "https://stackoverflow.com/questions/41123131/inserting-text-parts-block-wise-into-array-perl/41123706#41123706", "title": "Inserting Text parts block wise into array perl", "body": "<p>Here is a way to do the job:</p>\n\n<pre><code>#!/usr/bin/perl\nuse Modern::Perl;\nuse warnings;\nuse Data::Dumper;\n\nmy @arr;\nmy @tmp;\nwhile(&lt;DATA&gt;) {         # read the file one line at a time\n    chomp;              # remove the linebreak\n    push @tmp, $_;      # store the line in a temporary array\n    if (/^PC File/) {   # if the line begins with PC File\n        push @arr, join\"\\n\",@tmp;   # Sat=ve all the line in the result array\n        @tmp = ();      # re-init the temp array\n    }\n}\nsay Dumper\\@arr;\n\n__DATA__\nNONVSAM - XXXPROD.YYY.XLIST\nY A DynP LSEQ 0 0 00000000 00000000 20150807 87654321\nPC File - /shared/xx/dir/dir2/xxx/\nNONVSAM - XXXPROD.ZZZ.XYZZZ\nY A DynP LSEQ 0 0 00000000 00000000 20150807 12345678\nPC File - /shared/xx/dir/dir2/xxx/ ...\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>$VAR1 = [\n          'NONVSAM - XXXPROD.YYY.XLIST\nY A DynP LSEQ 0 0 00000000 00000000 20150807 87654321\nPC File - /shared/xx/dir/dir2/xxx/',\n          'NONVSAM - XXXPROD.ZZZ.XYZZZ\nY A DynP LSEQ 0 0 00000000 00000000 20150807 12345678\nPC File - /shared/xx/dir/dir2/xxx/ ...'\n        ];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1481659473, "creation_date": 1481659473, "answer_id": 41129646, "question_id": 41123131, "link": "https://stackoverflow.com/questions/41123131/inserting-text-parts-block-wise-into-array-perl/41129646#41129646", "title": "Inserting Text parts block wise into array perl", "body": "\n\n<p>If <code>PC File</code> lines always follow the <code>NONVSAM</code> lines, then this is very easily done by simply starting a new array element every time <code>NONVSAM</code> appears</p>\n\n<p>This program expects the path to the input file on the command line, like so</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ main.pl data.txt\n</code></pre>\n\n<p>Note that I have used <code>Data::Dump</code> only to reveal the final contents of the <code>@data</code> array</p>\n\n<h3>main.pl</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy @data;\n\nwhile ( &lt;&gt; ) {\n    push @data, '' if /^NONVSAM/;\n    $data[-1] .= $_;\n}\n\nuse Data::Dump;\ndd \\@data;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>[\n  \"NONVSAM - XXXPROD.YYY.XLIST\\nY A DynP LSEQ 0 0 00000000 00000000 20150807 87654321\\nPC File - /shared/xx/dir/dir2/xxx/\\n\",\n  \"NONVSAM - XXXPROD.ZZZ.XYZZZ\\nY A DynP LSEQ 0 0 00000000 00000000 20150807 12345678\\nPC File - /shared/xx/dir/dir2/xxx/\\n\",\n]\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6639423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6ab7166773eb622f29f09ed6e127c7?s=128&d=identicon&r=PG&f=1", "display_name": "crossing", "link": "https://stackoverflow.com/users/6639423/crossing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "closed_date": 1481659609, "accepted_answer_id": 41129646, "answer_count": 2, "score": -1, "last_activity_date": 1481659473, "creation_date": 1481638029, "question_id": 41123131, "link": "https://stackoverflow.com/questions/41123131/inserting-text-parts-block-wise-into-array-perl", "closed_reason": "Needs details or clarity", "title": "Inserting Text parts block wise into array perl", "body": "<p>my problem is, that i want to break down the file and insert the pieces into an array. </p>\n\n<p>Starting from NONVSAM (the whole line) to PC File (the whole line).</p>\n\n<p>So that in $array[0] I have the first block saved and in $array[n] the last block.</p>\n\n<p>I have a file like this:</p>\n\n<hr>\n\n<p>NONVSAM  - XXXPROD.YYY.XLIST </p>\n\n<p>Y A DynP LSEQ     0     0           00000000 00000000 20150807 87654321</p>\n\n<p>PC File - /shared/xx/dir/dir2/xxx/</p>\n\n<p>NONVSAM  - XXXPROD.ZZZ.XYZZZ </p>\n\n<p>Y A DynP LSEQ     0     0           00000000 00000000 20150807 12345678</p>\n\n<p>PC File - /shared/xx/dir/dir2/xxx/\n...</p>\n\n<p>...</p>\n\n<p>...</p>\n"}, {"tags": ["perl", "tcpclient"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 1, "creation_date": 1481637120, "post_id": 41122314, "comment_id": 69449235, "body": "Please <code>use strict; use warnings;</code> and What errors you are getting?"}, {"owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1481638361, "post_id": 41122314, "comment_id": 69450079, "body": "Ah yes, of course. That initial post was hacked up from ideas found on the web. I&#39;ve edited to what I was trying in the first place and get no warnings or errors. And no response :("}, {"owner": {"reputation": 311848, "user_id": 6782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8c4ddd99b446c28d2e1546c457e508?s=128&d=identicon&r=PG", "display_name": "Alnitak", "link": "https://stackoverflow.com/users/6782/alnitak"}, "edited": false, "score": 0, "creation_date": 1481639376, "post_id": 41122314, "comment_id": 69450815, "body": "Does the code &quot;finish&quot; without errors, or block (perhaps on the <code>recv</code> call) ?"}, {"owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "edited": false, "score": 1, "creation_date": 1481640291, "post_id": 41122314, "comment_id": 69451505, "body": "Yes, I only get my output from the last two print lines, no errors."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1481642307, "post_id": 41122314, "comment_id": 69452968, "body": "If you&#39;re right about not getting a response <i>and</i> that the last two lines are printed, then <code>recv</code> must have returned <code>undef</code> and <code>$!</code> contains an error message"}, {"owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "edited": false, "score": 1, "creation_date": 1481643217, "post_id": 41122314, "comment_id": 69453534, "body": "Thanks, yes, there lies the error: Connection reset by peer."}, {"owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "edited": false, "score": 0, "creation_date": 1481645136, "post_id": 41122314, "comment_id": 69454845, "body": "Would this indicate any issue on my client end?"}, {"owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "edited": false, "score": 0, "creation_date": 1481651351, "post_id": 41122314, "comment_id": 69458864, "body": "I figured I was doing something wrong. Turns out I needed a new line after the binary 2, i.e.: &quot;\\002\\r\\n&quot;.$req.&quot;\\003&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "is_accepted": false, "score": 1, "last_activity_date": 1481726150, "creation_date": 1481726150, "answer_id": 41145206, "question_id": 41122314, "link": "https://stackoverflow.com/questions/41122314/perl-tcp-socket-communication/41145206#41145206", "title": "Perl TCP socket communication", "body": "<p>Turns out I needed a new line after the binary 2, a small change to this line:</p>\n\n<pre><code>my $message = \"\\002\\r\\n\".$req.\"\\003\";\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 5006330, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/adce5cf1ad58d999b9888b706932b678?s=128&d=identicon&r=PG&f=1", "display_name": "rwfitzy", "link": "https://stackoverflow.com/users/5006330/rwfitzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1481726150, "creation_date": 1481635640, "last_edit_date": 1481638294, "question_id": 41122314, "link": "https://stackoverflow.com/questions/41122314/perl-tcp-socket-communication", "title": "Perl TCP socket communication", "body": "<p>I am trying to send a TCP packet to a host and get a response and obviously not doing something right. </p>\n\n<p>I've compared to many posts and even my Perl Cookbook and can't figure out where I'm going wrong. Very simply trying the following:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IO::Socket::INET;\n$| = 1;\nmy $socket = new IO::Socket::INET (\n    PeerHost =&gt; '&lt;the_host_name&gt;',\n    PeerPort =&gt; '33792',\n    Proto =&gt; 'tcp'\n);\nunless($socket) {\n    print \"couldn't connect to the server\\n\";\n}\n# data to send to a server\nmy $req = &lt;&lt;SBCEND;\nSTART\nAUTOLOGUE CENTRAL\nTYPE|QUOTE|\nH|1|1.0|Regular|CANCEL|6072|TESTDT|JOHNAIX| | |26000|DEMO| | | | | | | | |0\nP|1|HAS|LF115|HAS|LF115|10| | | | | | | | | | | | | | |\nP|2|WIX|51515|WIX|51515|24| | | | | | | | | | | | | | |\nP|3|FRA|PH8A|FRA|PH8A|2| | | | | | | | | | | | | | |\nEND\nSBCEND\nmy $message = \"\\002\".$req.\"\\003\";\nmy $size = $socket-&gt;send($message);\nshutdown($socket, 1);\nmy $response = \"\";\n$socket-&gt;recv($response, 1024);\n$socket-&gt;close();\nprint \"sent: $size\\n$req\\n\";\nprint \"received response: $response\\n\";\n</code></pre>\n\n<p>I get no response at all, not sure if I'm supposed to or If something is wrong with my request. </p>\n\n<p>When I ask their support if I'm supposed to get any response regardless, they send me the response I should receive from the docs if the request is valid. </p>\n\n<p>The above request data is an example they sent to me. They did tell me I needed binary 2 at the beginning of my request and binary 3 after, hence my message variable above. </p>\n\n<p>Can someone tell me if I'm doing something wrong here?</p>\n"}, {"tags": ["xml", "string", "perl", "batch-file", "vbscript"], "comments": [{"owner": {"reputation": 68521, "user_id": 2128947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ASTM.jpg?s=128&g=1", "display_name": "Magoo", "link": "https://stackoverflow.com/users/2128947/magoo"}, "edited": false, "score": 0, "creation_date": 1481613671, "post_id": 41115517, "comment_id": 69435135, "body": "You&#39;d probably be better off using <code>sed</code> or <code>*g)awk</code> to replace all <code>&quot;&lt;</code> with <code>&lt;</code> and <code>&gt;&quot;</code> with <code>&gt;</code>"}, {"owner": {"reputation": 28755, "user_id": 5047996, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/la3kD.png?s=128&g=1", "display_name": "aschipfl", "link": "https://stackoverflow.com/users/5047996/aschipfl"}, "edited": false, "score": 0, "creation_date": 1481631678, "post_id": 41115517, "comment_id": 69445479, "body": "This does not look like a CSV file but an XML file. Anyway, what is an &#187;unembedded single &quot; character&#171;? do you mean the <code>\\&quot;</code> sequence?"}, {"owner": {"reputation": 1, "user_id": 7289452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39d54c2954c9afdfca0cc978b1a87f3?s=128&d=identicon&r=PG&f=1", "display_name": "Shailesh", "link": "https://stackoverflow.com/users/7289452/shailesh"}, "edited": false, "score": 0, "creation_date": 1481693388, "post_id": 41115517, "comment_id": 69474426, "body": "Yes.. I mean \\&quot; .  It is CSV file only I have just formatted to look like XML file,"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7289452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39d54c2954c9afdfca0cc978b1a87f3?s=128&d=identicon&r=PG&f=1", "display_name": "Shailesh", "link": "https://stackoverflow.com/users/7289452/shailesh"}, "edited": false, "score": 0, "creation_date": 1481694386, "post_id": 41121062, "comment_id": 69474799, "body": "This code is not working. It is just creating the new file with same content. Requirement is to remove &quot; character from &lt;Comments&gt; ... &lt;/Comments&gt; tag only. not necessarily in batch file , any VB or perl script will do.  Thanks in advance"}, {"owner": {"reputation": 1623, "user_id": 6404553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FqjQ4.jpg?s=128&g=1", "display_name": "elzooilogico", "link": "https://stackoverflow.com/users/6404553/elzooilogico"}, "reply_to_user": {"reputation": 1, "user_id": 7289452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39d54c2954c9afdfca0cc978b1a87f3?s=128&d=identicon&r=PG&f=1", "display_name": "Shailesh", "link": "https://stackoverflow.com/users/7289452/shailesh"}, "edited": false, "score": 0, "creation_date": 1481719972, "post_id": 41121062, "comment_id": 69488659, "body": "Does your file look like the sample text? May the search term be uppercase or lowercase? Change <i>if &quot;!code:...</i> to <i>if /I &quot;!code:...</i>"}], "tags": [], "owner": {"reputation": 1623, "user_id": 6404553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FqjQ4.jpg?s=128&g=1", "display_name": "elzooilogico", "link": "https://stackoverflow.com/users/6404553/elzooilogico"}, "is_accepted": false, "score": 0, "last_activity_date": 1481729149, "last_edit_date": 1481729149, "creation_date": 1481631797, "answer_id": 41121062, "question_id": 41115517, "link": "https://stackoverflow.com/questions/41115517/replace-unembedded-double-quotes-from-specific-tag-of-xml-file-using-batch-scrip/41121062#41121062", "title": "Replace unembedded double quotes from specific tag of XML file using Batch script", "body": "<p>This should work for you</p>\n\n<pre><code>@echo off\nsetlocal EnableExtensions EnableDelayedExpansion \n\n&gt;D:\\data_new.csv (\n  for /f \"tokens=*\" %%A in (D:\\data.csv) do (\n    set \"code=%%A\" &amp; if /I \"!code:~0,9!\" EQU \"&lt;Comment&gt;\" set \"code=!code:\"=!\"\n    echo(!code!\n  )\n)  \nrem remove the rem in next line to overwrite original file\nrem copy /Y D:\\data_new.csv D:\\data.csv\nexit/B\n</code></pre>\n\n<p>or </p>\n\n<pre><code>set \"code=%%A\" &amp; if /I \"!code:~0,9!\" EQU \"&lt;Comment&gt;\" set \"code=!code:\\\"=\\!\"\n</code></pre>\n\n<p>to avoid replacing another quotation marks</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1481708747, "creation_date": 1481708747, "answer_id": 41139373, "question_id": 41115517, "link": "https://stackoverflow.com/questions/41115517/replace-unembedded-double-quotes-from-specific-tag-of-xml-file-using-batch-scrip/41139373#41139373", "title": "Replace unembedded double quotes from specific tag of XML file using Batch script", "body": "<p><code>findstr</code> is the wrong tool for the job for parsing XML, or for that matter CSV. </p>\n\n<p>You have complicated examples of both, and - actually - probably need to csv-parse the CSV, and XML-parse the XML, if you want a solution that won't be brittle.</p>\n\n<p>However, the fact that you're trying to remove escaped quotes in commments suggests that you're doing something else dirty, that's breaking because of quote parsing. I'd suggest first of all, reviewing what you're doing there, as this -may- be an XY problem.</p>\n\n<p>Failing that though - I might do something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Text::ParseWords;\nuse XML::Twig;\nuse Data::Dumper;\n\nsub fix_comment {\n   my ( $twig, $comment ) = @_;\n\n\n   my $text = $comment-&gt;text;\n   $text =~ s/\\\"//g;\n   $comment-&gt;set_text($text);\n\n}\n\n#extract quoted-comma separate things.\n\nforeach my $entry (\n   quotewords(\n      \",\", 0,\n      do { local $/; &lt;DATA&gt; }\n   )\n  )\n{\n\n   if ( $entry =~ m/^\\s*&lt;\\?xml/ms ) {\n      $entry =~ s/^\\s+//ms;\n\n      #eval so we can fail gracefully if this doesn't work.\n      my $twig = XML::Twig-&gt;new(\n         pretty_print  =&gt; 'indented',\n         twig_handlers =&gt; { 'Comment/Comment' =&gt; \\&amp;fix_comment }\n      );\n      eval { $twig-&gt;parse($entry) };\n      if ($@) { warn $@ }\n      else {\n         $entry = $twig-&gt;sprint;\n      }\n   }\n   print $entry;\n}\n\n\n__DATA__\nDATA , \" test \", \n\"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"yes\\\"?&gt;\n&lt;customerDetailsExtension xmlns=\\\"http://asdfg.net\\\"&gt;\n&lt;Comments&gt;\n&lt;Comment&gt;&lt;Date&gt;2001-12-04&lt;/Date&gt;&lt;AssociateID&gt;12345&lt;/AssociateID&gt;\n&lt;AssociateFirstName&gt;ABC&lt;/AssociateFirstName&gt;\n&lt;Comment&gt;measurements: 34,28,37 height 5'4\\\". ABC&lt;/Comment&gt;\n&lt;Priority&gt;false&lt;/Priority&gt;&lt;IsRead&gt;false&lt;/IsRead&gt;\n&lt;/Comment&gt;\n&lt;Comment&gt;\n&lt;Date&gt;2001-12-04&lt;/Date&gt;&lt;AssociateID&gt;12345&lt;/AssociateID&gt;&lt;AssociateFirstName&gt;ABC&lt;/AssociateFirstName&gt;\n&lt;Comment&gt;measurements: 32,24.5,34 height 5'3\\\". ABC&lt;/Comment&gt;&lt;Priority&gt;false&lt;/Priority&gt;&lt;IsRead&gt;false&lt;/IsRead&gt;\n&lt;/Comment&gt;\n&lt;Comment&gt;&lt;Date&gt;2016-12-04&lt;/Date&gt;&lt;AssociateID&gt;12345&lt;/AssociateID&gt;&lt;AssociateFirstName&gt;ABC&lt;/AssociateFirstName&gt;\n&lt;Comment&gt;measurements: 32.5,26,36.5 height 5'5\\\"  ABC&lt;/Comment&gt;&lt;Priority&gt;false&lt;/Priority&gt;&lt;IsRead&gt;false&lt;/IsRead&gt;\n&lt;/Comment&gt;\n&lt;/Comments&gt;\n&lt;EventDate&gt;2017-06-10&lt;/EventDate&gt;\n&lt;/customerDetailsExtension&gt;\", \n</code></pre>\n\n<p>This isn't perfect really, because I'm not entirely sure I'm capturing your line feeds properly - <code>Text::CSV</code> might be a more appropriate solution to the problem. It's kinda hard to say. </p>\n"}], "owner": {"reputation": 1, "user_id": 7289452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39d54c2954c9afdfca0cc978b1a87f3?s=128&d=identicon&r=PG&f=1", "display_name": "Shailesh", "link": "https://stackoverflow.com/users/7289452/shailesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1481729149, "creation_date": 1481613459, "last_edit_date": 1481694443, "question_id": 41115517, "link": "https://stackoverflow.com/questions/41115517/replace-unembedded-double-quotes-from-specific-tag-of-xml-file-using-batch-scrip", "title": "Replace unembedded double quotes from specific tag of XML file using Batch script", "body": "<p>I have CSV file with below data. I want to replace unembedded single \" character with blank space only for <strong>comment</strong> tag.\nThis tag can appear multiple times in a single record/line. I do not want to affect other tags and \" character.\nFile size is ~ 30MB .</p>\n\n<pre><code>ABCD ,\n\"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"yes\\\"?&gt;\n&lt;customerDetailsExtension xmlns=\\\"http://asdfg.net\\\"&gt;\n&lt;Comments&gt;\n&lt;Comment&gt;&lt;Date&gt;2001-12-04&lt;/Date&gt;&lt;AssociateID&gt;12345&lt;/AssociateID&gt;\n&lt;AssociateFirstName&gt;ABC&lt;/AssociateFirstName&gt;\n&lt;Comment&gt;measurements: 34,28,37 height 5'4\\\". ABC&lt;/Comment&gt;\n&lt;Priority&gt;false&lt;/Priority&gt;&lt;IsRead&gt;false&lt;/IsRead&gt;\n&lt;/Comment&gt;\n&lt;Comment&gt;\n&lt;Date&gt;2001-12-04&lt;/Date&gt;&lt;AssociateID&gt;12345&lt;/AssociateID&gt;&lt;AssociateFirstName&gt;ABC&lt;/AssociateFirstName&gt;\n&lt;Comment&gt;measurements: 32,24.5,34 height 5'3\\\". ABC&lt;/Comment&gt;&lt;Priority&gt;false&lt;/Priority&gt;&lt;IsRead&gt;false&lt;/IsRead&gt;\n&lt;/Comment&gt;\n&lt;Comment&gt;&lt;Date&gt;2016-12-04&lt;/Date&gt;&lt;AssociateID&gt;12345&lt;/AssociateID&gt;&lt;AssociateFirstName&gt;ABC&lt;/AssociateFirstName&gt;\n&lt;Comment&gt;measurements: 32.5,26,36.5 height 5'5\\\"  ABC&lt;/Comment&gt;&lt;Priority&gt;false&lt;/Priority&gt;&lt;IsRead&gt;false&lt;/IsRead&gt;\n&lt;/Comment&gt;\n&lt;/Comments&gt;\n&lt;EventDate&gt;2017-06-10&lt;/EventDate&gt;\n&lt;/customerDetailsExtension&gt;\"\n</code></pre>\n\n<hr>\n\n<p>I dont have knowledge about Batch script . I tried below but it is not working.</p>\n\n<pre><code>@echo off\n\n  for /f \"delims=, tokens=2\" %%A in (\n    'findstr /r \"&lt;Comment&gt;.*&lt;/Comment&gt;\" \"D:\\data.csv\"'\n  ) do (\n    set code=%%A\n    set code=!code:\"=!\n    echo(!code!\n)\n</code></pre>\n"}, {"tags": ["arrays", "perl", "branch-and-bound"], "comments": [{"owner": {"reputation": 1242, "user_id": 7061430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81912bc5ca02376f99a5ee44531dee27?s=128&d=identicon&r=PG", "display_name": "nothingmuch", "link": "https://stackoverflow.com/users/7061430/nothingmuch"}, "edited": false, "score": 2, "creation_date": 1481592309, "post_id": 41112130, "comment_id": 69429132, "body": "You can use -1 to index the last array element, no need for <code>$#</code>. I&#39;m not sure if you&#39;re realized that assigning to <code>$#</code> modifies the array. Your loops seem to sometimes skip the first element, and sometimes skip the last. You&#39;re unnecessarily copying array references to examine their contents.  Anyway, I&#39;m too confused by now to figure out what you&#39;re actually trying to achieve.  I&#39;m pretty sure the problem is the if statement that assigns instead of comparing, and the subsequent <code>delete</code> on an array (I think you meant to use <code>splice</code>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1481597761, "post_id": 41112130, "comment_id": 69430428, "body": "Re &quot;<i>I&#39;m pretty sure the problem is the if statement that assigns instead of comparing</i>&quot;, meaning that <code>if ($multiset[$i] = $max)</code> should be <code>if ($multiset[$i] == $max)</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1481597813, "post_id": 41112130, "comment_id": 69430440, "body": "And please!!! Always use <code>use strict; use warnings qw( all );</code>! (I see that you used <code>-w</code>, which is an acceptable replacement for the latter.)"}, {"owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481602411, "post_id": 41112130, "comment_id": 69431402, "body": "@ikegami Oh right, sorry about that, I fixed a few things and updated my code, I took some of the print tests out because I decided it was more clear"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481633757, "post_id": 41112130, "comment_id": 69446825, "body": "<code>$max = $stack[-1]; $#stack--;</code> is better written as <code>$max = pop @stack;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481635145, "post_id": 41112130, "comment_id": 69447806, "body": "Is this algorithm described on line anywhere? I&#39;d like to understand what your code is meant to do, as there&#39;s no way of distinguishing what&#39;s correct from what&#39;s not."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1481635974, "creation_date": 1481635974, "answer_id": 41122431, "question_id": 41112130, "link": "https://stackoverflow.com/questions/41112130/perl-deleting-array-elements-after-a-few-iterations-of-code-with-a-call-to-a-su/41122431#41122431", "title": "Perl deleting array elements after a few iterations of code, with a call to a sub function", "body": "<p>I can't understand the algorithm you're trying to implement, so there are probably more errors, but the immediate problem is that the statement</p>\n\n<pre><code>delete $multiset[$i]\n</code></pre>\n\n<p>won't remove that element from the array unless it is the last element; otherwise the array stays the same length, <code>exists</code> on that element will return <em>false</em>, and it will evaluate to <code>undef</code></p>\n\n<p>If you want to <em>remove</em> the element, which seems most likely, then you want</p>\n\n<pre><code>splice @multiset, $i, 1;\n</code></pre>\n\n<p>But I have tested your code with that fix in place, and while it no longer produces <em>Use of uninitialized value in subtraction</em> errors, the result is still \n<em>no solutions</em></p>\n\n<p>Unfortunately I can't understand what you're trying to implement, and can't make any useful guesses about what may be wrong unless you can offer me a description of the underlying algorithm</p>\n"}], "owner": {"reputation": 414, "user_id": 6331353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cd7f6cc42c46c3a65c58ff594d962597?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6331353/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481635974, "creation_date": 1481590585, "last_edit_date": 1481633988, "question_id": 41112130, "link": "https://stackoverflow.com/questions/41112130/perl-deleting-array-elements-after-a-few-iterations-of-code-with-a-call-to-a-su", "title": "Perl deleting array elements after a few iterations of code, with a call to a sub function", "body": "<p></p>\n\n<p>My code works for the first few iterations, but after a few times through the while loop, it seems that my array elements are being deleted.</p>\n\n<p>I'm taking numbers off the array constructed from the input parameters and all I can tell is that when I get to a number which was passed in twice, I get an error.</p>\n\n<p>I am calling my script like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>./branchandboundNoComments.pl 1 2 3 4 5 5 7 7 9 9 10 10 12 14 19\n</code></pre>\n\n<p>I should get this as output</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0, 7, 9, 10, 14, 19\n</code></pre>\n\n<p>This is my script</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl -w \n\nuse strict;\n\nmy @input  = @ARGV;\nmy $maxAll = $input[-1];\n$#input = $#input - 1;\nmy @multiset = ( 0, $maxAll );\nmy @stack;\n\nmy $rotation = 0;    # this is 0,1, or 2.\n\nwhile ( @input != 0 ) {\n\n    my $max = $input[-1];\n\n    my @deltamultiset;\n    for ( my $i = 1; $i &lt;= $#multiset; $i++ ) {\n        push @deltamultiset, $multiset[$i] - $max;\n    }\n    push @deltamultiset, $max;\n\n    my @deltamultiset2;\n    for ( my $i = 1; $i &lt;= $#multiset; $i++ ) {\n        push @deltamultiset2, $multiset[$i] - ( $maxAll - $max );\n    }\n    push @deltamultiset2, $max;\n\n    if ( subset( \\@deltamultiset, \\@input ) and $rotation == 0 ) {\n\n        for ( my $i = 0; $i &lt; $#deltamultiset; $i++ ) {\n            pop @input;\n        }\n\n        push @multiset, $max;\n        push @stack,    $max;\n        push @stack,    0;\n    }\n    elsif ( subset( \\@deltamultiset2, \\@input ) and $rotation &lt;= 1 ) {\n\n        for ( my $j = 0; $j &lt; $#deltamultiset; $j++ ) {\n            pop @input;\n        }\n\n        push @multiset, ( $maxAll - $max );\n        push @stack,    ( $maxAll - $max );\n        push @stack, 1;\n        $rotation = 0;\n    }\n    elsif ( @stack != 0 ) {\n\n        $rotation = $stack[-1];\n        $#stack--;\n        $max = $stack[-1];\n        $#stack--;\n        $rotation++;\n\n        for ( my $i = 0; $i &lt; $#multiset; $i++ ) {\n            if ( $multiset[$i] == $max ) {\n                delete $multiset[$i];\n                last;\n            }\n        }\n\n        for ( my $i = 0; $i &lt; $#deltamultiset; $i++ ) {\n            push @input, $deltamultiset[$i];\n        }\n    }\n    else {\n        print \"no solutions \\n\";\n        exit;\n    }\n}\n\nprint \"@multiset is a solution \\n\";\n\nsub subset {\n    my ( $deltamultisetSubref, $multisetSubref ) = @_;\n    my @deltamultisetSub = @{$deltamultisetSubref};\n    my @multisetSub      = @{$multisetSubref};\n\n    while ( @deltamultisetSub != 0 ) {\n\n        for ( my $i = $#multisetSub; $i &gt;= -1; $i-- ) {\n\n            if ( $multisetSub[$i] == $deltamultisetSub[-1] ) {\n                pop @deltamultisetSub;\n                $#multisetSub--;\n                last;\n            }\n\n            if ( $i == -1 ) {\n                return 0;\n            }\n        }\n    }\n\n    return 1;\n}\n</code></pre>\n\n<p>This is what is output</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Use of uninitialized value in subtraction (-) at ./branchandboundNoComments.pl line 20.\nUse of uninitialized value in subtraction (-) at ./branchandboundNoComments.pl line 26.\nno solutions \n</code></pre>\n"}, {"tags": ["perl", "loops", "websocket", "client", "infinite"], "answers": [{"comments": [{"owner": {"reputation": 104, "user_id": 6313067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1754f64897d883b275c7cd4e05bef7c?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/6313067/bryan"}, "edited": false, "score": 0, "creation_date": 1486331409, "post_id": 42057700, "comment_id": 71288020, "body": "I should mention, the script is not called by a client script or program, the websocket script is actually its own &quot;server&quot; so you would call it from the command line and let it run e.g. &quot;perl myscript.pl&quot; and CTL+C to cancel. If you are interested in running the script in the background you should register the script as a service, this varies depending on your OS. Othewise, on linux at least, you can run &quot;perl myscript.pl nohup &amp;&quot; to run from the command line and escape back to the terminal. I hope this helps."}], "tags": [], "owner": {"reputation": 104, "user_id": 6313067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1754f64897d883b275c7cd4e05bef7c?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/6313067/bryan"}, "is_accepted": false, "score": 1, "last_activity_date": 1486331175, "creation_date": 1486331175, "answer_id": 42057700, "question_id": 41111301, "link": "https://stackoverflow.com/questions/41111301/perl-websocket-in-infinite-loop/42057700#42057700", "title": "Perl, websocket in infinite loop", "body": "<p>WebSockets require a lot than asimple IO Socket. They require handshakes and data framing. I would review the <a href=\"https://www.w3.org/TR/2011/WD-websockets-20110929/#the-websocket-interface\" rel=\"nofollow noreferrer\">W3C WebSocket API</a> and then look into using a perl module (<a href=\"http://search.cpan.org/~topaz/Net-WebSocket-Server-0.001003/lib/Net/WebSocket/Server.pm\" rel=\"nofollow noreferrer\">Net::WebSocket::Server</a>) to do the heavy lifting. Also, webSockets will only work with the chrome browser using SSL so if are interested in cross compatibility, use Net::WebSocket::Server with IO::Socket::SSL instead and here is a working sample of SSL:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse IO::Socket::SSL;\nuse Net::WebSocket::Server;\n\nmy $ssl_server = IO::Socket::SSL-&gt;new(\n      Listen        =&gt; 5,\n      LocalPort     =&gt; 4000,\n      Proto         =&gt; 'tcp',\n      SSL_cert_file =&gt; '/var/ssl/cert.crt',\n      SSL_key_file  =&gt; '/var/ssl/cert.key',\n    ) or die \"failed to listen: $!\";\n\nmy $port = 6000;\nmy $origin = 'https://YOURDOMAIN.com';\n\nNet::WebSocket::Server-&gt;new(\n    listen =&gt; $ssl_server,\n\n    on_connect =&gt; sub {\n            our ($serv, $conn) = @_;\n            $conn-&gt;on(\n\n            handshake =&gt; sub {\n                        my ($conn, $handshake) = @_;\n                        $conn-&gt;disconnect() unless $handshake-&gt;req-&gt;origin eq $origin;\n                    },\n                    utf8 =&gt; sub {\n\n            my ($conn, $msg) = @_;\n            my $MyIP = $conn-&gt;ip();\n            my $MyPORT = $conn-&gt;port();\n             $_-&gt;send_utf8($msg) for( $serv-&gt;connections() );\n                },\n    );\n    },\n)-&gt;start;\n</code></pre>\n\n<p>If you are not concerned with Chrome or SSL here is a working non-SSL example, (It needs use strict and use warnings):</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Net::WebSocket::Server;\n\nmy $port = 6000;\n\nNet::WebSocket::Server-&gt;new(\n    listen =&gt; $port,\n    on_connect =&gt; sub {\n        my ($serv, $conn) = @_;\n        $conn-&gt;on(\n            utf8 =&gt; sub {\n        my ($conn, $msg) = @_;\n                $_-&gt;send_utf8($msg) for( $serv-&gt;connections() );\n            },\n        );\n    },\n)-&gt;start;\n</code></pre>\n\n<p>Also, if you decide to use the SSL version, make sure to update your client side from ws:// to wss://</p>\n"}], "owner": {"reputation": 21, "user_id": 7233529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/923b8a98823d0bb2b8e1f08de67357ee?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Leza", "link": "https://stackoverflow.com/users/7233529/martin-leza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1486428084, "creation_date": 1481584727, "last_edit_date": 1481585538, "question_id": 41111301, "link": "https://stackoverflow.com/questions/41111301/perl-websocket-in-infinite-loop", "title": "Perl, websocket in infinite loop", "body": "<p>I have a perl script that worked as a \u201cmiddle men\u201d between a local program and an external interactive website. </p>\n\n<p>The problem is that the external website migrated from plain tcp connection to a websocket connection.</p>\n\n<p>When the server was using tcp, after initial connection, the client (the script) and the server (external website) will go thru a handshake, then the script will send the username and password and server will finally respond with some encryption keys, afterwards the script will go into an infinite loop and waited for data from both connections and then process that data and \"print\" back to the connections as needed.</p>\n\n<p>I had been able to establish the websocket connection with the server using the Mojo::UserAgent as well as with protocol::websocket, go thru the handshake and the other information exchange (username, password, etc), but I have not been able (or better said: I do not know how) to \"throw\" the websocket connection into the infinite loop via IO::Select ( The reason I want to use IO::Select is because doing so will require minimal changes to the script, but other suggestions are definitely welcome).</p>\n\n<p>The relevant parts of the script are as follows:</p>\n\n<pre><code># Creating connection for local program\n$lsn=new IO::Socket::INET(\n    Proto =&gt; 'tcp',\n    LocalPort =&gt; 6000,\n    Listen =&gt; 1,\n);\nunless(defined $lsn){\n    print\"$0: $!\\n\";\n    exit 1;\n}\nprint\"Waiting for local program connection on port 6000\\n\";\n$server=$lsn-&gt;accept;\n$lsn-&gt;close;\nunless(defined $server){\n    print \"$0: Unable to accept incoming connection: $!\\n\";\n    exit 1;\n    }\n# At this point, the script is waiting for a connection from\n# the local program on port 6000\nprintf\"Connection accepted from %s\\n\",$server-&gt;peerhost;\nselect $server;\nbinmode $server;\n$stdin=$server;\n(select)-&gt;autoflush(1);\n# Creating connection for external website\n$net=new IO::Socket::INET(\n    Proto =&gt; 'tcp',\n    PeerAddr =&gt; $yog,\n    PeerPort =&gt; $yserverport,\n);\n\nunless(defined($net)){\n    print \"Can't connect!\\n\";\n    exit 1;\n}\n$net-&gt;autoflush(1);\n####################################\n# Here the script and server will  #\n# exchange information few times   #\n####################################\nmy $sel=new IO::Select($stdin,$net);\n$net-&gt;autoflush(0);\nwhile (1){\n    foreach my $i($sel-&gt;can_read(0.05)){\n        if($i==$net){\n            &amp;dosomething;\n            $net-&gt;flush;\n        }\n        else{\n            &amp;dosomething2;\n            $net-&gt;flush;\n        }\n    }   \n}\n</code></pre>\n\n<p>The infinite loop examples that I have found, are not suitable in this case because I need to use an infinite loop that can check for incoming data on both connections.</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481577673, "post_id": 41109465, "comment_id": 69423941, "body": "I don&#39;t understand how you expect <code>$self-&gt;validation-&gt;param( &#39;login&#39; )</code> to work. <code>Mojolicious</code> objects have no <code>validation</code> method. I think the page that you link to is clear about how to use the <code>Mojolicious::Validator::Validation</code> class, and it is very hard to offer help without knowing why you have written something completely different from the examples there."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481578970, "post_id": 41109465, "comment_id": 69424656, "body": "@Borodin <code>$self</code> is controller: <a href=\"http://mojolicious.org/perldoc/Mojolicious/Controller#validation\" rel=\"nofollow noreferrer\">mojolicious.org/perldoc/Mojolicious/Controller#validation</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1481648426, "creation_date": 1481648426, "answer_id": 41126624, "question_id": 41109465, "link": "https://stackoverflow.com/questions/41109465/how-to-validate-router-parameter/41126624#41126624", "title": "How to validate router parameter?", "body": "<p>It seems will be handy if Mojolicious allow to control that over parameter. So we can supply what we want to check:</p>\n\n<pre><code># default behavior\nmy $v =  $self-&gt;validation;  \n# arguments from route\nmy $v =  $self-&gt;validation( 'route' );   \n# arguments from route with specified precedence\nmy $v =  $self-&gt;validation( 'request', 'body' ); \n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1481648426, "creation_date": 1481576420, "last_edit_date": 1481579016, "question_id": 41109465, "link": "https://stackoverflow.com/questions/41109465/how-to-validate-router-parameter", "title": "How to validate router parameter?", "body": "<p>In <a href=\"http://mojolicious.org/perldoc/Mojolicious\" rel=\"nofollow noreferrer\">Mojolicious</a> I can access parameters as showed in <a href=\"http://corky.net/dotan/programming/mojolicious-request-parameters-example.html\" rel=\"nofollow noreferrer\">Example</a>:</p>\n\n<pre><code>$c-&gt;param( 'login' );\n</code></pre>\n\n<p>Here I do not care about this is router, query or body parameter.</p>\n\n<p>But when I try to validate it, I is unavailable:</p>\n\n<pre><code>$c-&gt;validation-&gt;param( 'login' );\n</code></pre>\n\n<p>May I validate router parameters with <a href=\"http://mojolicious.org/perldoc/Mojolicious/Validator/Validation\" rel=\"nofollow noreferrer\">Mojolicious validation</a>?</p>\n"}, {"tags": ["linux", "perl", "compilation", "cross-compiling", "qnx"], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 4126212, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sozy4GCCdAg/AAAAAAAAAAI/AAAAAAAAApM/ARK7-KJ3ksE/photo.jpg?sz=128", "display_name": "stack764", "link": "https://stackoverflow.com/users/4126212/stack764"}, "is_accepted": false, "score": 1, "last_activity_date": 1483633434, "creation_date": 1483633434, "answer_id": 41489868, "question_id": 41108190, "link": "https://stackoverflow.com/questions/41108190/cross-compile-perl-for-qnx-6-6-0-armle-v7/41489868#41489868", "title": "Cross compile perl for QNX 6.6.0 armle v7", "body": "<p>final problem was related to linking the libraries. adding -lm fixed the problem</p>\n\n<pre><code>arm-unknown-nto-qnx6.6.0eabi-gcc --sysroot=/opt/qnx660/target/qnx6 -Wl,-rpath,/home/swgroup/localperl/lib/perl5/5.24.0/arm-/CORE -Wl,-E -o perl perlmain.o libperl.so -lm\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4126212, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sozy4GCCdAg/AAAAAAAAAAI/AAAAAAAAApM/ARK7-KJ3ksE/photo.jpg?sz=128", "display_name": "stack764", "link": "https://stackoverflow.com/users/4126212/stack764"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 988, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1483633434, "creation_date": 1481571194, "last_edit_date": 1482277159, "question_id": 41108190, "link": "https://stackoverflow.com/questions/41108190/cross-compile-perl-for-qnx-6-6-0-armle-v7", "title": "Cross compile perl for QNX 6.6.0 armle v7", "body": "<p>I'm trying to cross compile perl 5.24  using following method since the target machine does not have ssh installed.\n<a href=\"https://github.com/arsv/perl-cross\" rel=\"nofollow noreferrer\">https://github.com/arsv/perl-cross</a></p>\n\n<p>Just for Fyi, my local machine is ubuntu x86_64 GNU/Linux.</p>\n\n<p>I configure the toolchain with the following option:</p>\n\n<p>./configure -Dsysroot=$QNX_TARGET -Dcc=ntoarmv7-gcc -Dtargetarch=armle -Dprefix=$HOME/localperl -Duseshrplib</p>\n\n<p>The reason I think the above scripts worked just fine because it generates the makefile with the following message:</p>\n\n<pre><code>Generating config.h\nExtracting config.h (with variable substitutions)\nGenerating Makefile.config\nConfiguration completed for native build\n\n        platform:  x86_64-\n      c compiler:  ntoarmv7-gcc\n              ld:  ntoarmv7-gcc\n              ar:  ar\n          ranlib:  ranlib\n</code></pre>\n\n<p>when i run the make -j4 option i end up getting either of the following 2 results:</p>\n\n<pre><code>./generate_uudmap uudmap.h bitcount.h mg_data.h\n./generate_uudmap: 1: ./generate_uudmap: Syntax error: word unexpected (expecting \")\")\nmake: *** [uudmap.h] Error 2\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>cp -f op.c opmini.c\ncp -f perl.c perlmini.c\ncp -f ext/re/re.pm lib/re.pm\nsh cflags.SH\ncp -f dist/ExtUtils-ParseXS/lib/ExtUtils/xsubpp lib/ExtUtils/xsubpp\nntoarmv7-gcc -DPERL_CORE --sysroot=/opt/qnx650/target/qnx6 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64  -fPIC -Wno-unused-function -c -o op.o op.c\n./miniperl_top lib/unicore/mktables -w -C lib/unicore -P pod -maketest -makelist -p\n./miniperl_top: no ./miniperl found; build it before using miniperl_top\nmake: *** [lib/unicore/CombiningClass.pl] Error 1\n</code></pre>\n\n<p>I couldn't find much info on how to resolve the above issues. Could it be because i have not provided correct setting options for ./configure ?? If so, can you provide more insight on this.</p>\n\n<p>EDIT:</p>\n\n<p>It looks like i was passing the wrong information to ./configure script (it was considering it as the native rather than cross), I updated it with the following and was able to make bit of progress.</p>\n\n<pre><code>./configure -Dsysroot=/opt/qnx6 -Dcc=arm-unknown-nto-qnx6.6.0eabi-gcc --target-tools-prefix=arm-unknown-nto-qnx6.6.0eabi- --target=arm-unknown-nto-qnx6.6.0eabi  --host=arm-unknown-nto-qnx6.6.0eabi -Dprefix=$HOME/localperl\n</code></pre>\n\n<p>with this, the configuration was successfull for the cross platform. Now when I perform the make, it runs fine for a bit and I run it following error</p>\n\n<pre><code>arm-unknown-nto-qnx6.6.0eabi-ar cru libperl.a op.o perl.o gv.o toke.o perly.o pad.o regcomp.o dump.o dquote.o util.o mg.o reentr.o mro_core.o hv.o av.o run.o pp_hot.o sv.o pp.o scope.o pp_ctl.o pp_sys.o doop.o doio.o regexec.o utf8.o taint.o deb.o universal.o globals.o perlio.o perlapi.o numeric.o mathoms.o locale.o pp_pack.o pp_sort.o keywords.o caretx.o time64.o DynaLoader.o\narm-unknown-nto-qnx6.6.0eabi-ranlib libperl.a\n./miniperl_top statars  &gt; static.list\n./miniperl_top extlibs  &gt; ext.libs\n arm-unknown-nto-qnx6.6.0eabi-gcc -DPERL_CORE --sysroot=/opt/qnx6 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64  -c -o perlmain.o perlmain.c\n\narm-unknown-nto-qnx6.6.0eabi-gcc --sysroot=/opt/qnx6 -Wl,-E -o perl perlmain.o libperl.a   \nlibperl.a(pp.o): In function `Perl_pp_crypt':\npp.c:(.text+0xffd8): warning: The 'crypt' function has been deprecated in libc. Link against liblogin for extended algorithm support.\nlibperl.a(toke.o): In function `Perl_scan_num':\ntoke.c:(.text+0x27b82): undefined reference to `pow'\nlibperl.a(util.o): In function `Perl_drand48_r':\nutil.c:(.text+0xa36e): undefined reference to `ldexp'\nlibperl.a(sv.o): In function `S_hextract':\nsv.c:(.text+0x13ca0): undefined reference to `frexp'\nlibperl.a(sv.o): In function `Perl_sv_vcatpvfn_flags':\nsv.c:(.text+0x16cc0): undefined reference to `frexp'\nlibperl.a(time64.o): In function `Perl_gmtime64_r':\ntime64.c:(.text+0x338c): undefined reference to `fmod'\n.\n.\ntime64.c:(.text+0x359c): undefined reference to `floor'\ntime64.c:(.text+0x37e6): undefined reference to `ceil'\ncollect2: error: ld returned 1 exit status\nmake: *** [perl] Error 1\n</code></pre>\n"}, {"tags": ["mongodb", "perl"], "comments": [{"owner": {"reputation": 5723, "user_id": 3861083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lt392.jpg?s=128&g=1", "display_name": "Fabian Lauer", "link": "https://stackoverflow.com/users/3861083/fabian-lauer"}, "edited": false, "score": 0, "creation_date": 1481578415, "post_id": 41108103, "comment_id": 69424328, "body": "It would be good to have a rough estimate of how much data your program processes per unit of time and what it does with it \u2014 just formatting vs. encrypting things, for example, can make a huge performance difference. Also, <a href=\"http://stackoverflow.com/questions/34951683/mongodb-constantly-high-cpu-usage\">this</a> <i>might</i> help."}, {"owner": {"reputation": 111, "user_id": 7286703, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/49cbfcf670142b9fc6588268d8d208c1?s=128&d=identicon&r=PG&f=1", "display_name": "cookersjs", "link": "https://stackoverflow.com/users/7286703/cookersjs"}, "reply_to_user": {"reputation": 5723, "user_id": 3861083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lt392.jpg?s=128&g=1", "display_name": "Fabian Lauer", "link": "https://stackoverflow.com/users/3861083/fabian-lauer"}, "edited": false, "score": 0, "creation_date": 1481637656, "post_id": 41108103, "comment_id": 69449596, "body": "I actually found the source of the problem:   The program I am running is modular and all but 1 index is created within the components of the program I had been using. Once I found the problem index call, I was able to solve it and the read/write time stayed ~50ms total and havent been increasing linearly as they had been."}, {"owner": {"reputation": 5723, "user_id": 3861083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lt392.jpg?s=128&g=1", "display_name": "Fabian Lauer", "link": "https://stackoverflow.com/users/3861083/fabian-lauer"}, "edited": false, "score": 0, "creation_date": 1481651193, "post_id": 41108103, "comment_id": 69458767, "body": "Glad you got it now!"}], "answers": [{"tags": [], "owner": {"reputation": 2855, "user_id": 11800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d37a63484d9878cf6c07dcc08adda9e2?s=128&d=identicon&r=PG", "display_name": "xdg", "link": "https://stackoverflow.com/users/11800/xdg"}, "is_accepted": true, "score": 1, "last_activity_date": 1481639215, "creation_date": 1481639215, "answer_id": 41123499, "question_id": 41108103, "link": "https://stackoverflow.com/questions/41108103/mongodb-high-cpu-usage-long-read-time/41123499#41123499", "title": "MongoDB high cpu usage/long read time", "body": "<p>That sounds a lot like it could be doing a collection scan rather than using the index.  I.e. as your collection grows, the reads are getting slower.</p>\n\n<p>If you're using the <code>find</code> method, you can run <code>explain</code> on the resulting cursor to get information on how the query would execute.</p>\n\n<p>Here's a trivial example:</p>\n\n<pre><code>use MongoDB;\nuse JSON::MaybeXS;\n\nmy $coll = MongoDB-&gt;connect-&gt;ns(\"test.foo\");\n$coll-&gt;drop();\n$coll-&gt;insert_one({x =&gt; $_}) for 1 .. 1000;\n\nmy $cursor = $coll-&gt;find({x =&gt; 42});\nmy $diag = $cursor-&gt;explain;\n\nmy $json = JSON::MaybeXS-&gt;new(\n    allow_blessed =&gt; 1, convert_blessed =&gt; 1, pretty =&gt; 1, canonical =&gt; 1\n);\n\nprint $json-&gt;encode($diag-&gt;{queryPlanner}{winningPlan});\n</code></pre>\n\n<p>Looking at just the 'winningPlan' part of the output you can see 'COLLSCAN':</p>\n\n<pre><code>{\n   \"direction\" : \"forward\",\n   \"filter\" : {\n      \"x\" : {\n         \"$eq\" : 42\n      }\n   },\n   \"stage\" : \"COLLSCAN\"\n}\n</code></pre>\n\n<p>Now I'll do it again, but first creating an index on 'x' before the insertions with <code>$coll-&gt;indexes-&gt;create_one([x =&gt; 1])</code>.  You can see in the output that the query plan is now using the index (IXSCAN).</p>\n\n<pre><code>{\n   \"inputStage\" : {\n      \"direction\" : \"forward\",\n      \"indexBounds\" : {\n         \"x\" : [\n            \"[42, 42]\"\n         ]\n      },\n      \"indexName\" : \"x_1\",\n      \"indexVersion\" : 2,\n      \"isMultiKey\" : false,\n      \"isPartial\" : false,\n      \"isSparse\" : false,\n      \"isUnique\" : false,\n      \"keyPattern\" : {\n         \"x\" : 1\n      },\n      \"multiKeyPaths\" : {\n         \"x\" : []\n      },\n      \"stage\" : \"IXSCAN\"\n   },\n   \"stage\" : \"FETCH\"\n}\n</code></pre>\n\n<p>There's a lot more you can discover from the full 'explain' output.  You can watch a great video from MongoDB World 2016 to learn more about it: <a href=\"https://www.youtube.com/watch?feature=youtu.be&amp;v=9dKVdDR3K3E\" rel=\"nofollow noreferrer\">Deciphering Explain Output</a>.</p>\n"}], "owner": {"reputation": 111, "user_id": 7286703, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/49cbfcf670142b9fc6588268d8d208c1?s=128&d=identicon&r=PG&f=1", "display_name": "cookersjs", "link": "https://stackoverflow.com/users/7286703/cookersjs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 41123499, "answer_count": 1, "score": 2, "last_activity_date": 1481639215, "creation_date": 1481570805, "last_edit_date": 1481582054, "question_id": 41108103, "link": "https://stackoverflow.com/questions/41108103/mongodb-high-cpu-usage-long-read-time", "title": "MongoDB high cpu usage/long read time", "body": "<p>I am a new user of MongoDB, and I am hoping to get pointed in the right direction. I will provide any further needed information I have missed as this question develops.</p>\n\n<p>I am using a Perl program to upload and annotate/modify documents to a/in a MongoDB database via the MongoDB cpan module. Indexes are being used (I believe) for this program, but the problem I have is that reading from MongoDB takes increasingly long. Based on mongotop, it takes ~500 ms to read and only 10-15 ms to write. After allowing the program to run for a considerable amount of time, the read time increases significantly, taking more then 3000+ ms after many hours of running.</p>\n\n<p>Monitoring the program while its running using top, Perl starts out at around 10-20% CPU usage and MongoDB starts at 70-90% CPU usage. While running, within a few minutes Perl drops below 5% and mongoDB is 90-95%. After running for a much longer period of time (12+ hours), MongoDB is ~98% CPU usage while Perl is around 0.3%, but only pops up every 5-10 seconds in top. </p>\n\n<p>Based on this trend, an indexing issue seems very likely but I am not sure how to check this, and all I know is that the appropriate indexes are at least made, but not necessarily being used.</p>\n\n<p><strong>Additional information:</strong> </p>\n\n<pre><code>$ ulimit -a    \ncore file size          (blocks, -c) 0    \ndata seg size           (kbytes, -d) unlimited \nscheduling priority             (-e) 0    \nfile size               (blocks, -f) unlimited    \npending signals                 (-i) 19209    \nmax locked memory       (kbytes, -l) 64    \nmax memory size         (kbytes, -m) unlimited    \nopen files                      (-n) 1024 \npipe size            (512 bytes, -p) 8    \nPOSIX message queues     (bytes, -q) 819200    \nreal-time priority              (-r) 0    \nstack size              (kbytes, -s) 8192    \ncpu time               (seconds, -t) unlimited    \nmax user processes              (-u) 19209\nvirtual memory          (kbytes, -v) unlimited    \nfile locks                      (-x) unlimited\n</code></pre>\n\n<ul>\n<li>As the program runs, I see that the indexSize and dataSize change (via db.stats() in the Mongo shell), which makes me think that they are at least being used to some degree</li>\n<li>Is this something that could be affected by the power of my computer? I am under the impression that indexing should make a lot of this process very manageable for the computer</li>\n</ul>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7286687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dede389eae85addd7d3ffa79368f83dc?s=128&d=identicon&r=PG&f=1", "display_name": "Xinwei Gong", "link": "https://stackoverflow.com/users/7286687/xinwei-gong"}, "edited": false, "score": 0, "creation_date": 1481569834, "post_id": 41107796, "comment_id": 69419935, "body": "Oh, man! Thank you very much! It&#39;s exactly the use strict issue. Our large perl script put the use strict in some files instead the file where my code was injected."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 3, "last_activity_date": 1481569618, "creation_date": 1481569618, "answer_id": 41107796, "question_id": 41107536, "link": "https://stackoverflow.com/questions/41107536/perl-cannot-capture-the-eval-return-value/41107796#41107796", "title": "perl: Cannot capture the eval return value", "body": "<p>Are you using <code>strict</code>? <code>Data::Dumper</code> output begins with <code>$VAR1 = ...</code>. If you haven't declared a variable called <code>$VAR1</code>, <code>strict</code> will make your program fail.</p>\n\n<pre><code>my $read_str = `cat sims/pgcache/.gsim/metadata.txt`;\nmy $VAR1;\nmy $metadata = eval($read_str);\n</code></pre>\n\n<p>\"Gosh\", you say. \"What an esoteric piece of knowledge. How would I ever be expected to know that and to solve this problem?\"</p>\n\n<p>Well, when <code>eval</code> fails (and one generally uses <code>eval</code> in cases where it can be expected to fail some of the time), the error message will be written to <code>$@</code> (that is a less esoteric piece of knowledge, available in the <a href=\"http://metacpan.org/pod/perlfunc#eval\" rel=\"nofollow noreferrer\"><code>eval</code></a> or <a href=\"http://metacpan.org/pod/perlvar\" rel=\"nofollow noreferrer\">perlvar</a> docs). So when you use <code>eval</code>, and especially when <code>eval</code> doesn't seem to return anything, you should check <code>$@</code>.</p>\n\n<pre><code>use strict;\nmy $read_str = '$VAR1 = {}';\nmy $metadata = eval($read_str);\ndie $@ if $@;\n</code></pre>\n\n<p>produces: <code>Global symbol \"$VAR1\" requires explicit package name at (eval 1) line 1.</code></p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 7286687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dede389eae85addd7d3ffa79368f83dc?s=128&d=identicon&r=PG&f=1", "display_name": "Xinwei Gong", "link": "https://stackoverflow.com/users/7286687/xinwei-gong"}, "edited": false, "score": 0, "creation_date": 1481679673, "post_id": 41109634, "comment_id": 69471034, "body": "Thanks for your suggestion. I thought cat is more efficient than perl open. Do you mean the open function is the faster one?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1481708837, "post_id": 41109634, "comment_id": 69481731, "body": "cat is doing the same thing <i>and</i> opening another redundant process."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 33, "user_id": 7286687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dede389eae85addd7d3ffa79368f83dc?s=128&d=identicon&r=PG&f=1", "display_name": "Xinwei Gong", "link": "https://stackoverflow.com/users/7286687/xinwei-gong"}, "edited": false, "score": 0, "creation_date": 1481711706, "post_id": 41109634, "comment_id": 69483483, "body": "@XinweiGong: It is generally much better to keep everything inside Perl wherever possible. <code>open</code>/<code>readline</code> is <i>hugely</i> faster than starting a new process just to run <code>cat</code>."}, {"owner": {"reputation": 33, "user_id": 7286687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dede389eae85addd7d3ffa79368f83dc?s=128&d=identicon&r=PG&f=1", "display_name": "Xinwei Gong", "link": "https://stackoverflow.com/users/7286687/xinwei-gong"}, "edited": false, "score": 0, "creation_date": 1481878328, "post_id": 41109634, "comment_id": 69560805, "body": "Thanks you guys so much for useful info. My script has high performance requirement."}, {"owner": {"reputation": 33, "user_id": 7286687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dede389eae85addd7d3ffa79368f83dc?s=128&d=identicon&r=PG&f=1", "display_name": "Xinwei Gong", "link": "https://stackoverflow.com/users/7286687/xinwei-gong"}, "edited": false, "score": 0, "creation_date": 1481878841, "post_id": 41109634, "comment_id": 69561097, "body": "@Borodin I have two more quesiton for your example code: 1. why you use &#39;do&#39; for open file and not call the close sentence? 2. Does JSON::from_json  have better performance than eval? I used Data::Dumper because it can be restored by eval() and it doesn&#39;t need any string parser which I thought it had better performance."}, {"owner": {"reputation": 33, "user_id": 7286687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dede389eae85addd7d3ffa79368f83dc?s=128&d=identicon&r=PG&f=1", "display_name": "Xinwei Gong", "link": "https://stackoverflow.com/users/7286687/xinwei-gong"}, "edited": false, "score": 0, "creation_date": 1481880665, "post_id": 41109634, "comment_id": 69562106, "body": "@Borodin I google the $/ and get the answer for question 1. But in my usage, I will have thousands parallel LSF jobs to access the same file for read and each one only get different several lines. So read the entire file which &gt; 100MB could not be efficient. Currently, I use my $db_str = <code>awk &#39;FNR&gt;=$start_line &amp;&amp; FNR&lt;=$end_line&#39; $listfile</code>;  to make it better performance. But it did opening another process."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 33, "user_id": 7286687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dede389eae85addd7d3ffa79368f83dc?s=128&d=identicon&r=PG&f=1", "display_name": "Xinwei Gong", "link": "https://stackoverflow.com/users/7286687/xinwei-gong"}, "edited": false, "score": 0, "creation_date": 1481881159, "post_id": 41109634, "comment_id": 69562396, "body": "@XinweiGong: You can&#39;t split up a serialised data structure, whether it&#39;s encoded using <code>JSON</code> or <code>Data::Dumper</code>. You should use<code>JSON::XS</code> for speed."}, {"owner": {"reputation": 33, "user_id": 7286687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dede389eae85addd7d3ffa79368f83dc?s=128&d=identicon&r=PG&f=1", "display_name": "Xinwei Gong", "link": "https://stackoverflow.com/users/7286687/xinwei-gong"}, "edited": false, "score": 0, "creation_date": 1481893471, "post_id": 41109634, "comment_id": 69569782, "body": "@Borodin I create two scripts, one with JSON and the other with Data::Dumper+eval. Both of them run 1000 rounds and the work is just generate a hash, store it to file by to_json or Dumper, then reload by eval or to_json. It seems the eval script run x20+ faster than json version with even less memory. My data structure is an array whose element is a fixed size hash and that&#39;s why I can split up it by select specified lines from file."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 33, "user_id": 7286687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dede389eae85addd7d3ffa79368f83dc?s=128&d=identicon&r=PG&f=1", "display_name": "Xinwei Gong", "link": "https://stackoverflow.com/users/7286687/xinwei-gong"}, "edited": false, "score": 0, "creation_date": 1481897609, "post_id": 41109634, "comment_id": 69572178, "body": "@XinweiGong:  Use <code>JSON::XS</code> as I said. The interface is the same, so you can just change the <code>use</code> statement once it&#39;s installed."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 33, "user_id": 7286687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dede389eae85addd7d3ffa79368f83dc?s=128&d=identicon&r=PG&f=1", "display_name": "Xinwei Gong", "link": "https://stackoverflow.com/users/7286687/xinwei-gong"}, "edited": false, "score": 0, "creation_date": 1481897814, "post_id": 41109634, "comment_id": 69572302, "body": "@XinweiGong:  Have you considered <a href=\"https://metacpan.org/pod/Storable\" rel=\"nofollow noreferrer\">Storable</a>? It writes a binary file without converting the data to text, and if you use <code>store_fd</code> and <code>fd_retrieve</code> then you can store multiple data structures in a file and read them sequentially, one at a time."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 6, "last_activity_date": 1481711981, "last_edit_date": 1481711981, "creation_date": 1481577003, "answer_id": 41109634, "question_id": 41107536, "link": "https://stackoverflow.com/questions/41107536/perl-cannot-capture-the-eval-return-value/41109634#41109634", "title": "perl: Cannot capture the eval return value", "body": "<p>Don't do this. <code>Data::Dumper</code> is intended as a debugging tool</p>\n\n<p>A better way is to use <em>Makamaka's</em> <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\"><code>JSON</code></a> module to <em>serialise</em> your data structure, using the <code>to_json</code> and <code>from_json</code> functions</p>\n\n<p>You should also avoid starting a whole new process just to use <code>cat</code> to read a text file. Perl is quite able to read files without any help</p>\n\n<p>Here's an example. Just like your own code, it shows only the decoding process, and requires a file <code>sims/pgcache/.gsim/metadata.txt</code> which contains a JSON data structure before it will work</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse JSON;\nuse Data::Dumper;\n\nmy $json_str = do {\n    open my $fh, '&lt;', 'sims/pgcache/.gsim/metadata.txt' or die $!;\n    local $/;\n    &lt;$fh&gt;;\n};\n\nmy $metadata = from_json $json_str;\n\nprint STDERR \"json_str = $json_str\\n\";\n\nprint Dumper( \"metadata\", $metadata );\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7286687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dede389eae85addd7d3ffa79368f83dc?s=128&d=identicon&r=PG&f=1", "display_name": "Xinwei Gong", "link": "https://stackoverflow.com/users/7286687/xinwei-gong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 668, "favorite_count": 0, "accepted_answer_id": 41107796, "answer_count": 2, "score": 0, "last_activity_date": 1481711981, "creation_date": 1481568613, "question_id": 41107536, "link": "https://stackoverflow.com/questions/41107536/perl-cannot-capture-the-eval-return-value", "title": "perl: Cannot capture the eval return value", "body": "<p>I get a strange issue for perl eval return value. I want to store some hash data structure in txt file and then restore it by eval.\nThe following code works in my test.pl</p>\n\n<pre><code>  use Data::Dumper;\n  my $read_str = `cat sims/pgcache/.gsim/metadata.txt`;\n  my $metadata = eval($read_str);\n  print STDERR \"read_str = $read_str\\n\";\n  print Dumper(\"metadata\",$metadata);\n  print 'perl version = ',$^V,\"\\n\";\n</code></pre>\n\n<p>But when I inject this code to our existed large perl script, the $metadata returns nothing with the $read_str is exactly the same as my test.pl.</p>\n\n<p>I have already checked the perl version and they are just the same. Any clue about this issue?</p>\n"}, {"tags": ["perl", "backslash", "single-quotes"], "comments": [{"owner": {"reputation": 78607, "user_id": 319403, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e92a9af9e53cc8e5af575c4b18b34c21?s=128&d=identicon&r=PG", "display_name": "cHao", "link": "https://stackoverflow.com/users/319403/chao"}, "edited": false, "score": 2, "creation_date": 1481565253, "post_id": 41106607, "comment_id": 69417510, "body": "Try using <code>q&#47;\\&#47;</code> and you&#39;ll see the need to escape backslashes."}, {"owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "reply_to_user": {"reputation": 78607, "user_id": 319403, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e92a9af9e53cc8e5af575c4b18b34c21?s=128&d=identicon&r=PG", "display_name": "cHao", "link": "https://stackoverflow.com/users/319403/chao"}, "edited": false, "score": 0, "creation_date": 1481638349, "post_id": 41106607, "comment_id": 69450070, "body": "Sorry, I was not completely clear in my original question. I&#39;ve added the word &quot;literal&quot; to emphasize the fact when the backslash does not function as an escape character. Your example does not reflect my point in question as in your case, according to definition, the backslash preceding a delimiter acts as an escape char."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1481647649, "post_id": 41106607, "comment_id": 69456558, "body": "&quot;when a backslash does not precede a delimiter, it should be treated as a literal&quot; Then how do you create a string that ends in a backslash? <code>q&#47;\\&#47;</code> -&gt; literal slash, no closing delimiter (syntax error); <code>q&#47;\\\\&#47;</code> -&gt; literal backslash, literal slash, no closing delimiter (syntax error); <code>q&#47;\\\\\\&#47;</code> -&gt; literal backslash, literal backslash, literal slash, no closing delimiter (syntax error); ..."}, {"owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "edited": false, "score": 0, "creation_date": 1481660452, "post_id": 41106607, "comment_id": 69463697, "body": "&quot;...how do you create a string that ends in a backslash?&quot; --- An excellent use case! Since it <i>does</i> precede the (closing) delimiter, it should not be treated as a literal and thus needs to be escaped. Aside from this use case, I think my suggestion would work when a backlash appears anywhere inside and not next a closing delimiter."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481662449, "post_id": 41106607, "comment_id": 69464836, "body": "@Ltf4an Yes, but how do you know you&#39;ve reached the closing delimiter? <code>q&#47;\\\\&#47;</code> could be a single (escaped) backslash, or it could be just the beginning of the string <code>\\&#47;</code>, with more to follow to the right. Which one does the parser choose? What you&#39;ve described is ambiguous."}, {"owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481663356, "post_id": 41106607, "comment_id": 69465287, "body": "@ThisSuitIsBlackNot, how about walking backward from the closing delimiter? I&#39;d think the 1st char preceding the closing delimiter must not be a backlash. If it is, it&#39;s an error; if it&#39;s not but it&#39;s another closing delimiter, then the next preceding char must be a backlash, etc."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1481663614, "post_id": 41106607, "comment_id": 69465412, "body": "You can&#39;t walk backward from the closing delimiter unless you know where the closing delimiter is."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481569897, "post_id": 41106711, "comment_id": 69419968, "body": "<i>&quot;you can use a single-quoted heredoc, which requires no escaping&quot;</i> Thank you for that. I have always believed that a <i>heredoc</i> with a single-quoted terminator behaved exactly the same as a single-quoted string, except that there is no &quot;delimiter&quot; to escape, so only multiple backslashes must be escaped. I am very pleased to be wrong."}, {"owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "edited": false, "score": 0, "creation_date": 1481644859, "post_id": 41106711, "comment_id": 69454663, "body": "I&#39;ve edited my question to make the case that Perl should distinguish between literal backslash and escaping backslash."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 11, "last_activity_date": 1481569572, "last_edit_date": 1481569572, "creation_date": 1481565468, "answer_id": 41106711, "question_id": 41106607, "link": "https://stackoverflow.com/questions/41106607/why-does-q-a-equal-q-a/41106711#41106711", "title": "Why does q/\\\\a/ equal q/\\a/?", "body": "\n\n<blockquote>\n  <p>Is there a need to escape a backlash in single-quoted string?</p>\n</blockquote>\n\n<p>Yes, if the backslash is followed by another backslash, or is the last character in the string:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl -e'print q/C:\\/'\nCan't find string terminator \"/\" anywhere before EOF at -e line 1.\n$ perl -e'print q/C:\\\\/'\nC:\\\n</code></pre>\n\n<p>This makes it possible to include any character in a single-quoted string, including the delimiter and the escape character.</p>\n\n<hr>\n\n<blockquote>\n  <p>If I wanted 2 backlashes, I'd need to specify 4; this does not seem convenient.</p>\n</blockquote>\n\n<p>Actually, you only need three (because the second backslash isn't followed by another backslash). But as an alternative, if your string contains a lot of backslashes you can use a single-quoted heredoc, which requires no escaping:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>my $path = &lt;&lt;'END';\nC:\\a\\very\\long\\path\nEND\n\nchomp $path;\nprint $path; # C:\\a\\very\\long\\path\n</code></pre>\n\n<p>Note that the heredoc adds a newline to the end, which you can remove with <code>chomp</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 10, "last_activity_date": 1481567261, "last_edit_date": 1481567261, "creation_date": 1481565903, "answer_id": 41106832, "question_id": 41106607, "link": "https://stackoverflow.com/questions/41106607/why-does-q-a-equal-q-a/41106832#41106832", "title": "Why does q/\\\\a/ equal q/\\a/?", "body": "<p>In single-quoted string literals,</p>\n\n<blockquote>\n  <p>A backslash represents a backslash unless followed by the delimiter or another backslash, in which case the delimiter or backslash is interpolated.</p>\n</blockquote>\n\n<p>In other words,</p>\n\n<ul>\n<li>You must escape delimiters.</li>\n<li>You must escape <code>\\</code> that are followed by <code>\\</code> or the delimiter.</li>\n<li>You may escape <code>\\</code> that aren't followed by <code>\\</code> or the delimiter.</li>\n</ul>\n\n<p>So,</p>\n\n<pre><code>q/\\//      \u21d2   /\nq/\\\\\\\\a/   \u21d2   \\\\a\nq/\\\\\\a/    \u21d2   \\\\a\nq/\\\\a/     \u21d2   \\a\nq/\\a/      \u21d2   \\a\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><em>Is there a need to escape a backlash in single-quoted string?</em></p>\n</blockquote>\n\n<p>Yes, if it's followed by another backslash or the delimiter.</p>\n\n<blockquote>\n  <p><em>If I wanted 2 backlashes, I'd need to specify 4</em></p>\n</blockquote>\n\n<p>Three would suffice.</p>\n\n<blockquote>\n  <p><em>this does not seem convenient.</em></p>\n</blockquote>\n\n<p>It's more convenient than double-quoted strings, where backslashes must always be escaped. Single-quoted string require the minimum amount of escaping possible without losing the ability to produce the delimiter.</p>\n"}], "owner": {"reputation": 667, "user_id": 1710115, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1b06348c5ff4f0e2edaefb35ebafd8a3?s=128&d=identicon&r=PG", "display_name": "Ltf4an", "link": "https://stackoverflow.com/users/1710115/ltf4an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 41106711, "answer_count": 2, "score": 2, "last_activity_date": 1481639578, "creation_date": 1481565055, "last_edit_date": 1481639578, "question_id": 41106607, "link": "https://stackoverflow.com/questions/41106607/why-does-q-a-equal-q-a", "title": "Why does q/\\\\a/ equal q/\\a/?", "body": "<p>The following example prints \"SAME\":</p>\n\n<pre><code>if (q/\\\\a/ eq q/\\a/) {\n    print \"SAME\\n\";\n}\nelse {\n    print \"DIFFERENT\\n\";\n}\n</code></pre>\n\n<p>I understand this is consistent with the <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">documentation</a>. But I think this behavior is undesirable. Is there a need to escape a backlash <strong>lilteral</strong> in single-quoted string? If I wanted 2 backlashes, I'd need to specify 4; this does not seem convenient.</p>\n\n<p>Shouldn't Perl detect whether a backslash serves as an escape character or not? For instance, when a backslash does not precede a delimiter, it should be treated as a literal; and if that were the case, I wouldn't need 3 backslashes to express two, e.g., </p>\n\n<pre><code>q&lt;a\\\\b&gt;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>q&lt;a\\\\\\b&gt;.\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53, "user_id": 7174542, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/682ebf17d8d454c3ce63c2651702d389?s=128&d=identicon&r=PG&f=1", "display_name": "ayav", "link": "https://stackoverflow.com/users/7174542/ayav"}, "edited": false, "score": 0, "creation_date": 1481564795, "post_id": 41106539, "comment_id": 69417241, "body": "&#39;my $name; print &quot;enter name:\\n&quot;; while(my $name=lc &lt;STDIN&gt;) { \tchomp $name; \tprint &quot;you entered: $name\\n&quot;; \tpush @n,$name; \tlast if($name eq &#39;exit&#39;); \t$count++; \tprint &quot;enter name :\\n&quot;;\t } print &quot;count = $count\\n&quot;; my $r=pop @n; print &quot;@n\\n&quot;; \t my ($key,$value) = split(&#39; &#39;,@n);     $emp{$key} = $value; while( my( $key, $value ) = each %emp ) { my $value;  \tprint &quot;$key :$value\\n&quot;; }&#39;"}, {"owner": {"reputation": 53, "user_id": 7174542, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/682ebf17d8d454c3ce63c2651702d389?s=128&d=identicon&r=PG&f=1", "display_name": "ayav", "link": "https://stackoverflow.com/users/7174542/ayav"}, "edited": false, "score": 0, "creation_date": 1481564824, "post_id": 41106539, "comment_id": 69417264, "body": "the code wasn&#39;t getting entered in the above question so i put it in the comment"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481565139, "post_id": 41106539, "comment_id": 69417453, "body": "I entered your code. Please check and adjust/format as you wish"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481565377, "post_id": 41106539, "comment_id": 69417571, "body": "You need to loop over the array, <code>foreach my $name (@n)</code>. Then for each name do the <code>my ($first, $last) = split &#39; &#39;, $name</code> and form a hash pair, <code>$env{$last} = $first</code>.  Add <code>use warnings;</code> and <code>use strict;</code> and declare all variables.  Find a better name for the array than <code>@n</code>.  The line <code>my ($key,$value) = split(&#39; &#39;,@n); </code> is not good, cannot <code>split</code> on an array. The rest seems fine. Note that you depend on the user&#39;s mercy to type their name in correctly, with a space and no commas and such. It&#39;d be good to add checks."}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1481652290, "last_edit_date": 1481652290, "creation_date": 1481578503, "answer_id": 41109997, "question_id": 41106539, "link": "https://stackoverflow.com/questions/41106539/array-to-hash-conversion-and-printing-the-appropriate-array/41109997#41109997", "title": "Array to hash conversion and printing the appropriate array", "body": "<p>First, a <strong>warning</strong> -- parsing names is in general very difficult. All code below works under the strict assumption that each name consists of two words separated by space(s). Also note that without checks you are at a complete mercy of users to enter their names as expected.</p>\n\n<hr>\n\n<p>It appears that you expect <code>my ($key,$value) = split(' ',@n);</code> to split each element of <code>@n</code> and somehow create the whole hash by the following assignment(s).  The <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> does not work on lists, but it needs a string.  However, you can accomplish this using <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\">map</a></p>\n\n<pre><code>my %emp = map { split } @names;  # names must be [word space(s) word]\n</code></pre>\n\n<p>where I changed your array name from <code>@n</code> to <code>@names</code>.  The <code>map</code> takes a list and applies the code in the block <code>{ }</code> to one element at a time, and returns the processed list. This is assigned to <code>%emp</code>, what may be done since a hash is a list. See <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">perldata</a>.\nSince (<strong>if</strong>) each <code>split</code> produces two elements the obtained hash has right pairings. Here <code>split</code> uses its defaults, so <code>split</code> is the same as <code>split ' ', $_</code>, where <code>' '</code> means any amount of any white space.</p>\n\n<p>I repeate the warnings that names in general <em>do not</em> consist of two words. So the above isn't robust in any sense, but it is a generally useful technique.</p>\n\n<p>A more flexible way is to iterate through your list of names </p>\n\n<pre><code>my %emp;\n\nforeach my $name (@names) \n{\n    my ($first, $last) = split ' ', $name;\n\n    if ($first and $last) {\n        $emp{$last} = $first;\n    }\n    else {\n        # print a message, or store 'bad' name on an array\n    }\n}\n\nprint \"$_, $emp{$_}\\n\" for sort keys %emp;\n</code></pre>\n\n<p>You should add thorough checks of the format of submitted names. As a hint I've added a very rudimentary check of whether <code>split</code> produced (at least) two words. </p>\n\n<p>You can do the same with <code>map</code> by writing a routine for how to process an element and putting that into the block, <code>my %emp = map { process_name($_) } @names;</code>. However, error handling will be more difficult.</p>\n\n<p>Given the need to check user input, it would be best to process names as in the loop above but while they are being entered, so the user can be prompted again in case of wrong format.</p>\n"}, {"tags": [], "owner": {"reputation": 115, "user_id": 331703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8505a67672965945679bec0c6e6b33d9?s=128&d=identicon&r=PG", "display_name": "3ED", "link": "https://stackoverflow.com/users/331703/3ed"}, "is_accepted": false, "score": 0, "last_activity_date": 1481657472, "last_edit_date": 1481657472, "creation_date": 1481592756, "answer_id": 41112416, "question_id": 41106539, "link": "https://stackoverflow.com/questions/41106539/array-to-hash-conversion-and-printing-the-appropriate-array/41112416#41112416", "title": "Array to hash conversion and printing the appropriate array", "body": "<pre><code>my @n;\nloop: while(1) { # get your data with while named as \"loop\"\n    print \"enter name: \";\n    chomp(my $i = &lt;STDIN&gt;);\n    last loop if ($i eq \"exit\"); # enter to break the \"loop\"\n    push @n, lc $i\n}\n\nprintf \"count = %d\\n\", $#n + 1;\n\nmy %emp = map {\n    # split by space and get only first and secound\n    my @p = (split)[0,1];\n    # check here if everything is defined\n    if (defined $p[0]) {\n        # add this as key and value\n        @p\n    } else {\n        # skip (this part is important)\n        ()\n    }\n} @n; # converted to hash\n\nmy $p = {%emp}; # converted to {hash}ref\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>my %emp;\nwhile(1) {\n    print \"enter name: \";\n    chomp(my $i = &lt;STDIN&gt;);\n\n    last if ($i eq \"exit\");\n\n    my ($k, $v) = split q{ }, lc $i;\n    defined $k\n        and defined $v\n        and $emp{$k} = $v;\n}\n\nprintf(\"count = %d\\n\", scalar keys %emp);\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 7174542, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/682ebf17d8d454c3ce63c2651702d389?s=128&d=identicon&r=PG&f=1", "display_name": "ayav", "link": "https://stackoverflow.com/users/7174542/ayav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 41109997, "answer_count": 2, "score": 0, "last_activity_date": 1481657472, "creation_date": 1481564786, "last_edit_date": 1481578152, "question_id": 41106539, "link": "https://stackoverflow.com/questions/41106539/array-to-hash-conversion-and-printing-the-appropriate-array", "title": "Array to hash conversion and printing the appropriate array", "body": "<p>I have been trying to write a Perl script to take user input names and store them in a hash.</p>\n\n<p>I have used the code below, but it shows error.</p>\n\n<p>This is the question I am trying to answer</p>\n\n<blockquote>\n  <p>Accept user name as  <code>first_name&lt;space &gt;last_name</code> in a single line<br>\n  Accept such multiple users data till the exit is entered<br>\n  store this data in a hash <code>%emp</code> by making surname as key and firstname as value<br>\n  Display the users data in ascending sorted order of lastnames.  </p>\n</blockquote>\n\n<p>I am assuming that surnames are unique</p>\n\n<pre><code>my $name; \nprint \"enter name:\\n\"; \n\nwhile ( my $name = lc &lt;STDIN&gt; ) { \n    chomp $name; \n    print \"you entered: $name\\n\"; \n\n    push @n, $name; \n    last if ( $name eq 'exit' ); \n\n    $count++; \n    print \"enter name :\\n\"; \n} \n\nprint \"count = $count\\n\"; \n\nmy $r = pop @n;\nprint \"@n\\n\";\n\nmy ($key, $value) = split(' ', @n); \n$emp{$key} = $value; \n\nwhile ( my ( $key, $value ) = each %emp ) { \n    my $value; \n    print \"$key :$value\\n\"; \n}\n</code></pre>\n\n<p>I want the code correction.</p>\n"}, {"tags": ["regex", "xml", "perl", "xml-parsing"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1481560570, "post_id": 41105254, "comment_id": 69414845, "body": "This post, like your previous posts, is poorly formatted and difficult to understand. Indent your post by 4 spaces to show code; there&#39;s no need to use HTML in order to format your question."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1481561407, "post_id": 41105254, "comment_id": 69415354, "body": "Why can&#39;t you use any parsing module? &quot;Enhancement&quot; means &quot;an increase or improvement in quality, value, or extent&quot; which I find hard to interpret negatively."}, {"owner": {"reputation": 33, "user_id": 4939337, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/12ed56dd4920ac0dd84f67a591522349?s=128&d=identicon&r=PG&f=1", "display_name": "Husk01inJun", "link": "https://stackoverflow.com/users/4939337/husk01injun"}, "edited": false, "score": 0, "creation_date": 1481561830, "post_id": 41105254, "comment_id": 69415631, "body": "I was getting some comments regarding restriction in production env , i argued but no hope :("}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1481562056, "post_id": 41105254, "comment_id": 69415752, "body": "<i>Of course</i> your code isn&#39;t doing what you want. No part of it does anything even close to what you&#39;ve described."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1481562256, "post_id": 41105254, "comment_id": 69415857, "body": "If you can&#39;t use an XML library, then you&#39;ll need to use Perl&#39;s built-in text processing capabilities, and that probably means regular expressions and the <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\"><code>m&#47;&#47;</code> and <code>s&#47;&#47;&#47;</code> operators</a>."}, {"owner": {"reputation": 33, "user_id": 4939337, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/12ed56dd4920ac0dd84f67a591522349?s=128&d=identicon&r=PG&f=1", "display_name": "Husk01inJun", "link": "https://stackoverflow.com/users/4939337/husk01injun"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1481562757, "post_id": 41105254, "comment_id": 69416130, "body": "Thanks @MattJacob Tried the same in Unix : grep -wF &quot;boid&quot; file1.xml | grep [0-9]*   this is giving me the number in between the tags,which I can use . now struggling to implement the same in Perl"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1481562762, "post_id": 41105254, "comment_id": 69416134, "body": "But regular expressions are inherently a VERY BAD IDEA to parse XML. XML has context, regular expressions do not. <code>xpath</code> - is XML&#39;s equivalent of regex, and that <i>does</i> work in a contextual way."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1481563047, "post_id": 41105254, "comment_id": 69416273, "body": "@Sobrique Of course it&#39;s a bad idea, but when you&#39;ve got work to do and IT is impeding you at every turn, what choice do you have?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1481563234, "post_id": 41105254, "comment_id": 69416371, "body": "Local install. Or raise a request to install the parser you need to do that job, and get your manager to sign it off."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 331703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8505a67672965945679bec0c6e6b33d9?s=128&d=identicon&r=PG", "display_name": "3ED", "link": "https://stackoverflow.com/users/331703/3ed"}, "edited": false, "score": 0, "creation_date": 1481594500, "post_id": 41106180, "comment_id": 69429676, "body": "for html (xml), I recommend: Mojo::DOM or HTML::TreeBuilder"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1481563338, "last_edit_date": 1495542324, "creation_date": 1481563338, "answer_id": 41106180, "question_id": 41105254, "link": "https://stackoverflow.com/questions/41105254/how-to-search-in-between-xml-tags-in-perl/41106180#41106180", "title": "How to search in between `xml` tags in `perl`?", "body": "<p>Don't. Use a library. Seriously. <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">It's an utterly terrible idea to hack together your own parser just because you don't want to install one.</a> XML is contextual. Regex is not. It will NEVER be better than a dirty hack to parse XML with regex, and you don't need to, because <code>xpath</code> exists.</p>\n\n<p>Most standard distributions include <code>XML::Twig</code> as a package, so you don't even have to CPAN it. Or you can install it 'locally':</p>\n\n<p><a href=\"http://learn.perl.org/faq/perlfaq8.html#How-do-I-keep-my-own-module-library-directory\" rel=\"nofollow noreferrer\">\"How do I keep my own module library/directory\"</a> </p>\n\n<p>You will <em>always</em> be creating brittle code by doing this. </p>\n\n<p>However, just because I've been there and got stuck doing it:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $xml1 = '\n&lt;xml&gt;\n&lt;uf&gt;232&lt;/uf&gt;\n&lt;boid&gt;32892&lt;/boid&gt;\n&lt;end&gt; End of xml 1 &lt;/end&gt;\n&lt;/xml&gt;';\n\nmy ( $boid_value ) = $xml1=~ m,&lt;boid&gt;([^&lt;]+)&lt;/boid&gt;,ms;\nprint $boid_value;\n\nmy $xml2 = '\n&lt;xml&gt;\n&lt;uf&gt;232&lt;/uf&gt;\n&lt;boid&gt;&lt;/boid&gt;\n&lt;end&gt; End of xml 2 &lt;/end&gt;\n&lt;/xml&gt;';\n\n$xml2 =~ s,&lt;boid&gt;[^&lt;]*&lt;/boid&gt;,&lt;boid&gt;$boid_value&lt;/boid&gt;,ms;\n\nprint \"Modified XML is:\\n\";\nprint $xml2;\n</code></pre>\n\n<p>I will caveat this with - this will always be a risky choice, and may one day break entirely, because you can reformat XML in a bunch of different ways that are semantically identical. Or someone might add an attribute to <code>&lt;boid&gt;</code> one day, or something similar, and your thing will just break.</p>\n\n<p>For the  sake of comparison - with <code>XML::Twig</code> this looks like:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig; \n\nmy $xml1 = '\n&lt;xml&gt;\n&lt;uf&gt;232&lt;/uf&gt;\n&lt;boid&gt;32892&lt;/boid&gt;\n&lt;end&gt; End of xml 1 &lt;/end&gt;\n&lt;/xml&gt;';\n\nmy $xml2 = '\n&lt;xml&gt;\n&lt;uf&gt;232&lt;/uf&gt;\n&lt;boid&gt;&lt;/boid&gt;\n&lt;end&gt; End of xml 2 &lt;/end&gt;\n&lt;/xml&gt;';\n\nmy $twig = XML::Twig -&gt; new -&gt; parse ( $xml1 );\nmy $second_xml =  XML::Twig -&gt; new -&gt; parse ( $xml2 );\n\nmy $boid_value = $twig -&gt; get_xpath('//boid',0)-&gt;text;\n\n$_ -&gt; set_text($boid_value) for $second_xml-&gt;get_xpath('//boid');\n\n$second_xml -&gt; set_pretty_print('indented');\n$second_xml -&gt; print;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4939337, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/12ed56dd4920ac0dd84f67a591522349?s=128&d=identicon&r=PG&f=1", "display_name": "Husk01inJun", "link": "https://stackoverflow.com/users/4939337/husk01injun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 437, "favorite_count": 0, "accepted_answer_id": 41106180, "answer_count": 1, "score": 0, "last_activity_date": 1481563338, "creation_date": 1481560093, "last_edit_date": 1481560873, "question_id": 41105254, "link": "https://stackoverflow.com/questions/41105254/how-to-search-in-between-xml-tags-in-perl", "title": "How to search in between `xml` tags in `perl`?", "body": "<p>I have two xml file looks something like this <br>\n<br>\n<strong>file1.xml</strong></p>\n\n<pre><code>&lt; uf&gt;232&lt; /uf&gt;\n&lt; boid&gt;32892&lt; /boid&gt;\n&lt; end&gt; End of xml 1 &lt; /end&gt;\n</code></pre>\n\n<p><br>\n<br>\n<strong>file2.xml</strong></p>\n\n<pre><code>&lt; id&gt; 232 &lt; /id&gt;\n&lt; boid&gt;&lt; /boid&gt;\n&lt; end&gt; End of xml 2 &lt; /end&gt;\n</code></pre>\n\n<p><br>\n<br>\nI have to write a function in perl which will copy the numbers in between <code>&lt; boid&gt;</code> tag of <code>file1.xml</code> and write in between <code>&lt; boid&gt;</code> tag of <code>file2.xml</code>.<br>\nProblem is I am not allowed to include any parsing module as its an enhancement,\nI have tried something like this :<br></p>\n\n<pre><code>open(my $vt_open1 ,'&lt;' \"file1.xml\");&lt;br&gt;\nopen(my $vt_open2 ,'+&gt;' \"file2.xml\");&lt;br&gt;\nselect $vt_open2  or die $!;\nwhile($vt_open1){\n    if ($. == 2) {\n        print $vt_open1;\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>This is not working and is writing the entire file.<br>\nI am having trouble in finding the logic, and using line number is not a good logic,\n<br>\nI am new to perl, Appreciate the help.</p>\n"}, {"tags": ["perl", "user-agent", "lwp"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1481559460, "post_id": 41104967, "comment_id": 69414165, "body": "<a href=\"http://perldoc.perl.org/perlfaq1.html#What&#39;s-the-difference-between-%22perl%22-and-%22Perl%22%3f\" rel=\"nofollow noreferrer\">perl is not an acronym</a>"}], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 0, "last_activity_date": 1481559327, "creation_date": 1481559327, "answer_id": 41105004, "question_id": 41104967, "link": "https://stackoverflow.com/questions/41104967/perl-submit-form-containing-token-value/41105004#41105004", "title": "PERL - submit form containing token value", "body": "<ol>\n<li>Make a request to get the page with the form in it</li>\n<li>Parse the HTML in the response using a tool like HTML::TreeBuilder</li>\n<li>Search it for the input with the token</li>\n<li>Copy it to a string</li>\n<li>Use the code you have now.</li>\n</ol>\n\n<p>Beware: The token is probably there as protection against CSRF attacks, so you will also need to save the cookies from the original response and use them in the subsequent response.</p>\n\n<p>Alternatively, use a tool like WWW::Mechanize or Selenium and submit the form by virtually clicking the submit button instead of constructing the request manually.</p>\n"}], "owner": {"reputation": 1223, "user_id": 1525936, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d065d45045404c02e464e3dddf1a5cc8?s=128&d=identicon&r=PG&f=1", "display_name": "Paramore", "link": "https://stackoverflow.com/users/1525936/paramore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481559327, "creation_date": 1481559208, "question_id": 41104967, "link": "https://stackoverflow.com/questions/41104967/perl-submit-form-containing-token-value", "title": "PERL - submit form containing token value", "body": "<p>The page has the following input form</p>\n\n<pre><code>  &lt;form name=\"action\" method=\"post\" action=\"index.php\"&gt;\n    &lt;input type=\"text\" name=\"username\" /&gt;\n    &lt;input type=\"password\" name=\"password\" /&gt;\n    &lt;input type=\"hidden\" name=\"token\" value=\"40f41b52643f1fdc\" /&gt;\n  &lt;/form&gt;\n</code></pre>\n\n<p>input type=\"hidden\" field is populated by the server.  I want to submit this form using Perl. So far I have the following Perl code</p>\n\n<pre><code>use LWP;\nuse strict;\nuse warnings;\nuse LWP::UserAgent;\nuse HTTP::Cookies;\n\nmy $ua = LWP::UserAgent-&gt;new; \n\nmy @req=('http://somesite.com/index.php', [action =&gt; 1,  token =&gt; ????, username =&gt; \"john\", password =&gt; \"123456\"]);\nmy $response = $ua-&gt;post(@req);\n\nprint  $response1-&gt;as_string(); \n</code></pre>\n\n<p>but how can I get the value from <code>&lt;input type=\"hidden\" name=\"token\" value=\"40f41b52643f1fdc\" /&gt;</code>  and then submit it?</p>\n"}, {"tags": ["perl", "variables", "exception", "initialization"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481558743, "post_id": 41104697, "comment_id": 69413756, "body": "What&#39;s line 73? (I&#39;m guessing you haven&#39;t shown it, because you don&#39;t use <code>$columns</code> in a string anywhere in your snippet)"}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481558820, "post_id": 41104697, "comment_id": 69413804, "body": "I read console size and write it into <code>$columns</code> and <code>$rows</code> variables. They are numbers I hope, not a strings. On windows everything works fine and I don&#39;t get any errors."}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1481558825, "post_id": 41104697, "comment_id": 69413809, "body": "You do not check if $columns is defined after you assign to it."}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "reply_to_user": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1481558899, "post_id": 41104697, "comment_id": 69413860, "body": "@stevesliva - so where I should check this? If I assign to it I think they should be defined?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1481558976, "post_id": 41104697, "comment_id": 69413905, "body": "@allocer Again, please show which line is line 73, since that&#39;s the one the warning mentioned."}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "edited": false, "score": 0, "creation_date": 1481559050, "post_id": 41104697, "comment_id": 69413958, "body": "I cut this line, because it is  only a simple print <code>print &quot;Columns: &quot;.$columns.&quot;\\n&quot;;</code>"}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1481559121, "post_id": 41104697, "comment_id": 69414001, "body": "@toolic - but I&#39;ve done ` my $columns = 0;      my $rows = 0;`"}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "edited": false, "score": 0, "creation_date": 1481559198, "post_id": 41104697, "comment_id": 69414034, "body": "Ok so how to repair it?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1481559205, "post_id": 41104697, "comment_id": 69414037, "body": "Re &quot;<i>These errors say that I didn&#39;t initialize variable $columns</i>&quot;, If you actually read the message, it doesn&#39;t say that at all. It says <code>$columns</code> has an undefined value, not that it wasn&#39;t &quot;initialized&quot;. (In fact, it&#39;s impossible not to initialize in Perl. Scalars are automatically initialized to <code>undef</code>, and arrays and hashes are initialized empty.)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1481559262, "post_id": 41104697, "comment_id": 69414062, "body": "@allocer In the future, please copy and paste the exact code you&#39;re actually running or create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Otherwise it makes it harder for us to find your issue."}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481559280, "post_id": 41104697, "comment_id": 69414073, "body": "@ikegami - so it cannot get terminal size values from <code>chars *STDOUT{IO}</code>? But only in Unix."}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481559398, "post_id": 41104697, "comment_id": 69414125, "body": "@ThisSuitIsBlackNot - Ok, sorry, I edited my code."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481559450, "post_id": 41104697, "comment_id": 69414159, "body": "I didn&#39;t say anything of the kind. I&#39;m not familiar with the module, and I don&#39;t have time to familiarize myself with it,"}], "answers": [{"comments": [{"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "edited": false, "score": 0, "creation_date": 1481560108, "post_id": 41105056, "comment_id": 69414563, "body": "It looks ok. I tested it on Windows and everything works fine. Soon I&#39;ll check it on Unix."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481566693, "post_id": 41105056, "comment_id": 69418265, "body": "Note: <code>chars()</code> is equivalent to <code>chars(*STDIN)</code>, so you should probably be using <code>chars(*STDOUT)</code> instead."}], "tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 4, "last_activity_date": 1481559776, "last_edit_date": 1481559776, "creation_date": 1481559470, "answer_id": 41105056, "question_id": 41104697, "link": "https://stackoverflow.com/questions/41104697/use-of-uninitialized-value-in-concatenation-or-string-error-even-when/41105056#41105056", "title": "&quot;Use of uninitialized value $ in concatenation (.) or string...&quot; error even when values are initialized", "body": "<p><a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=83456\" rel=\"nofollow noreferrer\">There is a bug report for Term::Size::Any</a></p>\n\n<p>Using <code>char</code> without any arguments returns values for me on linux (<code>Term::Size::Any</code> version 0.002):</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse Term::Size::Any qw(chars);\nmy ($columns, $rows) = chars();\nprint \"$columns $rows\\n\";\n\n__END__\n\n80 24\n</code></pre>\n\n<p>You initialized $column to 0, but it is overwritten when you call the <code>chars</code> function.</p>\n"}], "owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 1, "accepted_answer_id": 41105056, "answer_count": 1, "score": 0, "last_activity_date": 1585256240, "creation_date": 1481558382, "last_edit_date": 1585256240, "question_id": 41104697, "link": "https://stackoverflow.com/questions/41104697/use-of-uninitialized-value-in-concatenation-or-string-error-even-when", "title": "&quot;Use of uninitialized value $ in concatenation (.) or string...&quot; error even when values are initialized", "body": "<p>I have a problem with initialized values. I have a script which has method:</p>\n\n<pre><code>sub compare_with_terminal {\n    use Term::Size::Any qw( chars pixels );\n    my $columns = 0; \n    my $rows = 0;\n    ($columns, $rows) = chars *STDOUT{IO};  \n\n    print \"Columns: \".$columns.\"\\n\"; #line 73\n    print \"Rows: \". $rows.\"\\n\";\n\n    if($height &gt; $columns || $width &gt; $rows){\n        print \"Bigger than terminal: \";\n        my $option = &lt;&gt;;\n        chomp($option);\n        if($option eq \"N\"){\n            print \"End.\";\n            exit 0;\n        }\n    }\n} \n</code></pre>\n\n<p>I created and initialized two values <code>$columns</code> and <code>$rows</code>. But, when I run this script, I get: </p>\n\n<blockquote>\n  <p>Use of uninitialized value $columns in concatenation (.) or string at\n          ./perl/script.pl line 73 (#1)\n      (W uninitialized) An undefined value was used as if it were already\n      defined.  It was interpreted as a \"\" or a 0, but maybe it was a mistake.\n      To suppress this warning assign a defined value to your variables.</p>\n</blockquote>\n\n<p><code>$rows</code> has same error.</p>\n\n<p>These errors say that I didn't initialize variable <code>$columns</code>, but I did. Anyone can explain me and try to solve this problem?</p>\n"}, {"tags": ["perl", "gnuplot", "stdin"], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "edited": false, "score": 0, "creation_date": 1481565203, "post_id": 41099436, "comment_id": 69417488, "body": "Oh, thanks, that&#39;s a little bit closer, gnuplot errors are responding, but still, the script starts and doing nothing. The only thing i can do is manual ctrl+c interrupt, but even then, some gnuplot daemons are still in memory, and cmd is closing with its dialog window &quot;do you really want to close process&quot;."}, {"owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "edited": false, "score": 0, "creation_date": 1481620615, "post_id": 41099436, "comment_id": 69438650, "body": "Seems like gnuplot doesn&#39;t like &quot;plot&quot; line, in any way i tried (single slash, dowble slash, oneliner etc), but only in .pl file. If we run same code in gnuplot - everything is ok."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "edited": false, "score": 0, "creation_date": 1481620729, "post_id": 41099436, "comment_id": 69438717, "body": "OK, So that could be as simple as the `\\` - which I presume is a line separator? Could that be wrapped onto a single line? (Not really all that familiar with gnuplot)"}, {"owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "edited": false, "score": 0, "creation_date": 1481620945, "post_id": 41099436, "comment_id": 69438828, "body": "No, even if we remove slash and write two lines as one, as it supposed to be - gnuplot will show you error message about &quot;all points y value undefined&quot;"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1481541052, "last_edit_date": 1481541052, "creation_date": 1481540699, "answer_id": 41099436, "question_id": 41099277, "link": "https://stackoverflow.com/questions/41099277/perl-open2-stdin-does-not-operate/41099436#41099436", "title": "Perl, open2, stdin does not operate", "body": "<p>I'm pretty sure you've got the ordering of file handles the wrong way around in <code>open2</code>:</p>\n\n<pre><code> $pid = open2($chld_out, $chld_in, 'some', 'cmd', 'and', 'args');\n</code></pre>\n\n<p>E.g. the <code>$w</code> in your example is <code>STDOUT</code> for the process, and so you printing to it isn't going to do anything at all. And because you're doing <code>waitpid</code> - and closing the 'output' filehandle - you'll be waiting indefinitely, because the process is still reading from it's input file handle. </p>\n\n<p>I would also really strongly suggest that single letter variable names are a bad idea anyway. You can embed the <code>my</code> in the <code>open2</code> statement too, so:</p>\n\n<pre><code>my $pid = open2 ( my $child_out, my $child_in, \"gnuplot\" ); \n</code></pre>\n\n<p>And as a couple of minor style points - I'd suggest that replicating <code>print $w</code> over and over isn't really the ideal way of doing it. </p>\n\n<p>How about:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse IPC::Open2;\nuse IO::Select;\n\nmy $pid = open2( my $gnuplot_out, my $gnuplot_in, \"gnuplot\" );\nmy $select = IO::Select-&gt;new($gnuplot_out);\n\nwhile ( my $command = &lt;DATA&gt; ) {\n   print {$gnuplot_in} $command;\n   while ( $select-&gt;can_read(0) ) {\n      print \"Response from gnuplot: \", scalar &lt;$gnuplot_out&gt;, \"\\n\";\n   }\n}\n\nclose($gnuplot_in);\nwhile ( $select-&gt;can_read(0) ) {\n   print \"Response from gnuplot: \", scalar &lt;$gnuplot_out&gt;, \"\\n\";\n}\n\nclose($gnuplot_out);\nwaitpid( $pid, 0 );\nif ($?) {\n   print \"That child exited with wait status of $?\\n\";\n}\n\n__DATA__\nreset\ndx=5.\nn=2\ntotal_box_width_relative=0.75\ngap_width_relative=0.1\nd_width=(gap_width_relative+total_box_width_relative)*dx/2.\nreset\nset term png truecolor font 'arial,10' fontscale 1.0 size 800, 400\nset output 'test.png'\nset xlabel 'time' offset '0', '-2'\nset ylabel 'load'\nset autoscale xfixmin\nset autoscale xfixmax\nset autoscale y\nset datafile separator '\\\\t'\nset xdata time\nset timefmt '%d-%m-%Y'\nset xrange ['08-12-2016':'23-02-2025']\nset format x '%m/%d/%Y'\nset xtic rotate by 30 offset character -4,-2\nset xtics font ', 8'\nset grid\nset boxwidth total_box_width_relative/n relative\nset style fill transparent solid 0.5 noborder\nplot 'test.dat' u 1:2 w boxes lc rgb'blue' notitle,\\\\\n   'test.dat' u 1:3 w boxes lc rgb'red' notitle\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 5373538, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-GxkXfmMS09k/AAAAAAAAAAI/AAAAAAAAAVE/5swI3yJ70nE/photo.jpg?sz=128", "display_name": "genesi5", "link": "https://stackoverflow.com/users/5373538/genesi5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481541052, "creation_date": 1481540174, "question_id": 41099277, "link": "https://stackoverflow.com/questions/41099277/perl-open2-stdin-does-not-operate", "title": "Perl, open2, stdin does not operate", "body": "<p>I'm trying to run \"gnuplot\" process and send commands to it with open2, but nothing happens. I'm new in perl, so i'm little bit confused with how things work, official documentation about this module isn't clear to me.</p>\n\n<pre><code>use IPC::Open2;\nuse strict;\nuse warnings;\n\nmy($w, $r);\n\nmy $pid = open2($w, $r, \"gnuplot\") or die \"$!\";\n# print \"pid was $pid\\n\";\nprint $w \"reset\\n\";\nprint $w \"dx=5.\\n\";\nprint $w \"n=2\\n\";\nprint $w \"total_box_width_relative=0.75\\n\";\nprint $w \"gap_width_relative=0.1\\n\";\nprint $w \"d_width=(gap_width_relative+total_box_width_relative)*dx/2.\\n\";\nprint $w \"reset\\n\";\nprint $w \"set term png truecolor font 'arial,10' fontscale 1.0 size 800, 400\\n\";\nprint $w \"set output 'test.png'\\n\";\nprint $w \"set xlabel 'time' offset '0', '-2'\\n\";\nprint $w \"set ylabel 'load'\\n\";\nprint $w \"set autoscale xfixmin\\n\";\nprint $w \"set autoscale xfixmax\\n\";\nprint $w \"set autoscale y\\n\";\nprint $w \"set datafile separator '\\\\t'\\n\";\nprint $w \"set xdata time\\n\";\nprint $w \"set timefmt '%d-%m-%Y'\\n\";\nprint $w \"set xrange ['08-12-2016':'23-02-2025']\\n\";\nprint $w \"set format x '%m/%d/%Y'\\n\";\nprint $w \"set xtic rotate by 30 offset character -4,-2\\n\";\nprint $w \"set xtics font ', 8'\\n\";\nprint $w \"set grid\\n\";\nprint $w \"set boxwidth total_box_width_relative/n relative\\n\";\nprint $w \"set style fill transparent solid 0.5 noborder\\n\";\nprint $w \"plot 'test.dat' u 1:2 w boxes lc rgb'blue' notitle,\\\\\\n\";\nprint $w \"   'test.dat' u 1:3 w boxes lc rgb'red' notitle\\n\";\nclose($w);\nwaitpid($pid, 0);\nif ($?) {\n    print \"That child exited with wait status of $?\\n\";\n}\n</code></pre>\n\n<p>test.dat structure example:</p>\n\n<pre><code>08-12-2016  3   6\n09-12-2016  56  44\n</code></pre>\n\n<p>What am i doing wrong?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1481536169, "post_id": 41097932, "comment_id": 69400370, "body": "I&#39;d suggest with <code>open</code> to employ fairly direct error handling. Otherwise you may loose error information in <code>$!</code> and such -- those are good pretty much <i>right</i> after the error happened.  Afterwards they may get overwritten or blanked by following operations. At least, get them right away and pass them to error handling routines."}, {"owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "edited": false, "score": 0, "creation_date": 1481554815, "post_id": 41097932, "comment_id": 69411394, "body": "You need to put something like a <code>$called_from_exit</code> switch in <code>writeLogAndPrint</code> <i>OR</i> a <code>$called_from_writeLog</code> switch in <code>af_exit</code>. It seems clear that you&#39;re not opening your file, thus calling <code>af_exit</code> and then calling <code>writeLogAndPrint</code>, not opening that file again, and calling <code>af_exit</code>. On the balance, I would prefer a <code>$called_from_writeLog</code> flag in <code>af_exit</code>. That way you know not to call that sub in <code>af_exit</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481578408, "post_id": 41097932, "comment_id": 69424323, "body": "You should be using <code>die</code> instead of calling <code>af_exit</code>. Wrap your main script in an <code>eval BLOCK</code> to catch exceptions and have it call <code>af_exit</code> on exception. Then, replace <code>writeLogAndPrint($_error{&#39;id&#39;});</code> with <code>eval { writeLogAndPrint($_error{&#39;id&#39;}) };</code>."}], "answers": [{"tags": [], "owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "is_accepted": true, "score": 4, "last_activity_date": 1481535942, "creation_date": 1481535942, "answer_id": 41097970, "question_id": 41097932, "link": "https://stackoverflow.com/questions/41097932/perl-script-stucks-on-deep-recursion-on-subroutine/41097970#41097970", "title": "Perl script stucks on &#39;Deep recursion on subroutine&#39;", "body": "<p>Within your <code>writeLogAndPrint</code> sub your are trying to open a logfile ... and if that fails you call <code>af_exit</code> which calls <code>writeLogAndPrint</code> again ... There is the loop.</p>\n\n<p>Check your <code>$VERBOSE_LOG_FILE_ABS</code> variable where you want to open the logfile.</p>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1481554566, "creation_date": 1481554566, "answer_id": 41103601, "question_id": 41097932, "link": "https://stackoverflow.com/questions/41097932/perl-script-stucks-on-deep-recursion-on-subroutine/41103601#41103601", "title": "Perl script stucks on &#39;Deep recursion on subroutine&#39;", "body": "<p>Add a helper function to break the cyclic resursion.</p>\n\n<pre><code>sub _af_exit\n{\n    my %_error = @_;\n    exit($_error{'id'});\n}\n\nsub writeLogAndPrint\n{\n    my $command = shift || \"\";\n\n    open(my $fh, '&gt;&gt;', $VERBOSE_LOG_FILE_ABS) or\n        _af_exit(%ERROR_CODE_12);\n        #die \"Can't open the file: $!\";\n    print $fh getTimeLoggerHelper() . \": \" . $command.\"\\n\";\n    close $fh;\n    print $command . \"\\n\";\n}\n\nsub af_exit\n{\n    my %_error = @_;\n    writeLogAndPrint($_error{'id'});\n    _af_exit( @_ );\n}\n</code></pre>\n\n<p>For more information on recursion, see <a href=\"https://lookatperl.blogspot.ca/2012/11/a-look-at-recursion.html\" rel=\"nofollow noreferrer\">A Look at Recursion</a>.</p>\n"}], "owner": {"reputation": 5023, "user_id": 3021358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/xI263.png?s=128&g=1", "display_name": "snaggs", "link": "https://stackoverflow.com/users/3021358/snaggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2389, "favorite_count": 0, "accepted_answer_id": 41097970, "answer_count": 2, "score": 1, "last_activity_date": 1481554566, "creation_date": 1481535783, "last_edit_date": 1481535960, "question_id": 41097932, "link": "https://stackoverflow.com/questions/41097932/perl-script-stucks-on-deep-recursion-on-subroutine", "title": "Perl script stucks on &#39;Deep recursion on subroutine&#39;", "body": "<p>I have perl file <code>build_ios.pl</code> with 10-20 methods.</p>\n\n<p>When I run on my build machine <code>/usr/bin/perl /Users/snaggs/scripts/build_ios.pl</code>, I get an error:</p>\n\n<pre><code>Deep recursion on subroutine \"main::writeLogAndPrint\" at /Users/snaggs/scripts/build_ios.pl line 179.\nDeep recursion on subroutine \"main::af_exit\" at /Users/snaggs/scripts/build_ios.pl line 167.\n</code></pre>\n\n<p>Here are relevant methods that error point to:</p>\n\n<pre><code>sub writeLogAndPrint\n{\n    my $command = shift || \"\";\n\n    open(my $fh, '&gt;&gt;', $VERBOSE_LOG_FILE_ABS) or  # line 167\n        af_exit(%ERROR_CODE_12);\n        #die \"Can't open the file: $!\";\n    print $fh getTimeLoggerHelper() . \": \" . $command.\"\\n\";\n    close $fh;\n    print $command . \"\\n\";\n}\n\n\nsub af_exit\n{\n    my %_error = @_;\n    writeLogAndPrint($_error{'id'});  # line 179\n    exit($_error{'id'});\n}\n</code></pre>\n\n<p>And script stucks on this errors. My build machine uses version <code>v5.18.2</code>.</p>\n\n<p>Locally I run same code and everything works fine <code>v5.16.0</code>.</p>\n\n<p>Whats wrong with my code and how to get rid of this?</p>\n\n<p><strong>[EDIT]</strong></p>\n\n<p>I noticed that  <code>af_exit</code> calls <code>writeLogAndPrint</code> and <code>writeLogAndPrint</code> can call <code>af_exit</code> again that can lead to infinite loop</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["arrays", "perl", "csv", "file-writing"], "answers": [{"comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481554705, "post_id": 41097217, "comment_id": 69411318, "body": "The default <code>glob()</code> is based on <code>csh</code> and does not handle spaces in filenames. If the filenames have spaces, replace the <code>glob()</code>function with <code>use File::Glob qw( :bsd_glob );</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481555272, "post_id": 41097217, "comment_id": 69411662, "body": "@shawnhcorey: It doesn&#39;t handle spaces in its argument, filenames with spaces are ok. You need to backslash spaces in the argument if you don&#39;t want them to become separators."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481555925, "post_id": 41097217, "comment_id": 69412065, "body": "You&#39;re correct. It&#39;s spaces in dirnames that cause the most trouble. When walking down a directory tree, spaces in dirnames must be escaped. Or use <code>:bsd_glob</code> and not worry about it."}, {"owner": {"reputation": 115, "user_id": 331703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8505a67672965945679bec0c6e6b33d9?s=128&d=identicon&r=PG", "display_name": "3ED", "link": "https://stackoverflow.com/users/331703/3ed"}, "edited": false, "score": 0, "creation_date": 1481596201, "post_id": 41097217, "comment_id": 69430075, "body": "Additionally he can use: <code>opendir(my $DH, &quot;.&quot;); chomp(my @f = readdir($DH)); closedir $DH;</code> (don&#39;t forget about <code>.</code> and <code>..</code>)."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 115, "user_id": 331703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8505a67672965945679bec0c6e6b33d9?s=128&d=identicon&r=PG", "display_name": "3ED", "link": "https://stackoverflow.com/users/331703/3ed"}, "edited": false, "score": 0, "creation_date": 1481621179, "post_id": 41097217, "comment_id": 69438979, "body": "@3ED: <code>chomp</code> with <code>readdir</code>? If your dirnames end in newlines, you want to keep them."}, {"owner": {"reputation": 115, "user_id": 331703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8505a67672965945679bec0c6e6b33d9?s=128&d=identicon&r=PG", "display_name": "3ED", "link": "https://stackoverflow.com/users/331703/3ed"}, "edited": false, "score": 0, "creation_date": 1481652521, "post_id": 41097217, "comment_id": 69459511, "body": "@choroba: Sounds legit, and <code>chomp</code> is unnecessary there."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 6, "last_activity_date": 1481533066, "creation_date": 1481533066, "answer_id": 41097217, "question_id": 41097135, "link": "https://stackoverflow.com/questions/41097135/how-do-i-add-data-from-a-csv-file-to-an-array-in-perl/41097217#41097217", "title": "How do I add data from a CSV file to an array in Perl?", "body": "<p>Don't use <code>ls</code> in a Perl program. You can use <a href=\"http://p3rl.org/glob\" rel=\"nofollow noreferrer\">glob</a> instead:</p>\n\n<pre><code>my @files = glob \"$path/*\";\n</code></pre>\n\n<p>If you need to work with the paths and filenames, check <a href=\"http://p3rl.org/Path::Tiny\" rel=\"nofollow noreferrer\">Path::Tiny</a>.</p>\n\n<p>To read lines with paths into an array, just use</p>\n\n<pre><code>open my $fh, '&lt;', $filename or die $!;\nchomp( my @paths = &lt;$fh&gt; );\n</code></pre>\n\n<p>See <a href=\"http://p3rl.org/open\" rel=\"nofollow noreferrer\">open</a>, <a href=\"http://p3rl.org/chomp\" rel=\"nofollow noreferrer\">chomp</a>, and <a href=\"http://p3rl.org/readline\" rel=\"nofollow noreferrer\">readline</a> for details.</p>\n"}], "owner": {"reputation": 73, "user_id": 5811161, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ec9964750a8f44cda104e33f7039d3a8?s=128&d=identicon&r=PG&f=1", "display_name": "Caitlin", "link": "https://stackoverflow.com/users/5811161/caitlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481533066, "creation_date": 1481532704, "question_id": 41097135, "link": "https://stackoverflow.com/questions/41097135/how-do-i-add-data-from-a-csv-file-to-an-array-in-perl", "title": "How do I add data from a CSV file to an array in Perl?", "body": "<p>I've searched and searched online, but nothing I do seems to work. I'm aware that this is a stupidly easy question, but I'm really stuck...</p>\n\n<p>I had a directory of files, and saved the names of the directories to a CSV file. It's just made up of one column of data e.g.:</p>\n\n<pre><code>100\n101\n102\n103...\n</code></pre>\n\n<p>I used the following code to create the file (just in case its relevant):</p>\n\n<pre><code>open (my $fileh, '&gt;', '/Users/Shared/serials.csv') or die \"Could not open file!\";\nprint $fileh `ls -1 $path`;\nclose $fileh;\nprint \"Saved Serials!\";\n</code></pre>\n\n<p>Now all I want is to read in the data in the file into an array, and then loop through each value to complete a task. I can't figure out how to do this...</p>\n\n<p>Currently I am entering the numbers manually in the code into an array, like:</p>\n\n<pre><code>@ser_list = (100,101,102,103,...);\n</code></pre>\n\n<p>As stated above, I instead want to automatically write the file names (numbers) using the <code>ls</code> command line query and read them back into the script from there. \nIf there is a way of doing this without having to make a separate file of values that would be great.</p>\n\n<p>The array is called @ser_list in the example, and from there I am reading the next $ser_num from the array and working with that in the loop.</p>\n\n<pre><code>foreach $ser_num (@ser_list) {....}\n</code></pre>\n\n<p>Thank you all in advance for your help and patience! </p>\n"}, {"tags": ["perl", "constants"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1481539585, "post_id": 41094827, "comment_id": 69402323, "body": "Honestly, I tend to find the CONSTANT module just more trouble than it&#39;s worth, and tend to &#39;just&#39; use upper case named package vars."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1481565924, "post_id": 41094827, "comment_id": 69417871, "body": "I use <a href=\"http://search.cpan.org/~leont/Const-Fast-0.014/lib/Const/Fast.pm\" rel=\"nofollow noreferrer\">Const::Fast</a> and haven&#39;t had problems. See <a href=\"http://neilb.org/reviews/constants.html\" rel=\"nofollow noreferrer\">this review</a> for choices. Here is also a recent <a href=\"https://www.nu42.com/2016/05/perl-define-constants.html\" rel=\"nofollow noreferrer\">article</a>."}], "answers": [{"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 3, "creation_date": 1481522186, "post_id": 41094880, "comment_id": 69394517, "body": "Congrats on reaching 10k."}, {"owner": {"reputation": 2615, "user_id": 2385414, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DcTdB.png?s=128&g=1", "display_name": "urzeit", "link": "https://stackoverflow.com/users/2385414/urzeit"}, "edited": false, "score": 0, "creation_date": 1481522216, "post_id": 41094880, "comment_id": 69394527, "body": "Urg. They really shound have written this to the total top of the page. Thanks."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1481522225, "post_id": 41094880, "comment_id": 69394533, "body": "@JonathanLeffler Oh, thank you :)  Going from scratch and learning how to do this has been ... an experience."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2615, "user_id": 2385414, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DcTdB.png?s=128&g=1", "display_name": "urzeit", "link": "https://stackoverflow.com/users/2385414/urzeit"}, "edited": false, "score": 0, "creation_date": 1481522340, "post_id": 41094880, "comment_id": 69394576, "body": "@urzeit  Yeah, it is <i>just</i> past the part you quoted!  The upside may be that you must have learned way more by having to dig?"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 15, "last_activity_date": 1481611900, "last_edit_date": 1481611900, "creation_date": 1481521951, "answer_id": 41094880, "question_id": 41094827, "link": "https://stackoverflow.com/questions/41094827/where-are-perl-constants-replaced-by-their-values/41094880#41094880", "title": "Where are perl constants replaced by their values?", "body": "<p>The end of the <a href=\"http://perldoc.perl.org/constant.html\" rel=\"nofollow noreferrer\">constant</a> page, at <a href=\"http://perldoc.perl.org/constant.html#CAVEATS\" rel=\"nofollow noreferrer\">CAVEATS</a>, has the answer</p>\n\n<blockquote>\n  <p>You can get into trouble if you use constants in a context which automatically quotes barewords (as is true for any subroutine call). For example, you can't say <code>$hash{CONSTANT}</code> because <code>CONSTANT</code> will be interpreted as a string. </p>\n</blockquote>\n\n<p>It then proceeds with the solution you found</p>\n\n<blockquote>\n  <p>Use <code>$hash{CONSTANT()}</code> or <code>$hash{+CONSTANT}</code> to prevent the bareword quoting mechanism from kicking in. </p>\n</blockquote>\n\n<p>Then it spells this out for hashes as well</p>\n\n<blockquote>\n  <p>Similarly, since the <code>=&gt;</code> operator quotes a bareword immediately to its left, you have to say <code>CONSTANT() =&gt; 'value'</code> (or simply use a comma in place of the big arrow) instead of <code>CONSTANT =&gt; 'value'</code>.</p>\n</blockquote>\n"}], "owner": {"reputation": 2615, "user_id": 2385414, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DcTdB.png?s=128&g=1", "display_name": "urzeit", "link": "https://stackoverflow.com/users/2385414/urzeit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 41094880, "answer_count": 1, "score": 8, "last_activity_date": 1481611900, "creation_date": 1481521605, "question_id": 41094827, "link": "https://stackoverflow.com/questions/41094827/where-are-perl-constants-replaced-by-their-values", "title": "Where are perl constants replaced by their values?", "body": "<p>I tried to <code>use constant</code> values in perl and stumbled upon the following weird behaviour:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nuse constant {\n    a =&gt; \"b\"\n};\n\nmy $c = { a =&gt; a };\nmy %d;\n$d{a} = a;\n\nprint Dumper($c);\nprint Dumper(\\%d);\n</code></pre>\n\n<p>will output</p>\n\n<pre><code>$VAR1 = {\n          'a' =&gt; 'b'\n        };\n$VAR1 = {\n          'a' =&gt; 'b'\n        };\n</code></pre>\n\n<p>The constant <code>a</code> was replaced on the right hand side of the expressions <code>$d{a} = a</code> and <code>a =&gt; a</code>, but not on the left side.</p>\n\n<p>I know that constants are implemented using inlinable subs (<a href=\"http://perldoc.perl.org/constant.html#TECHNICAL-NOTES\" rel=\"noreferrer\">documented here</a>) and that sub names evaluate to their names if they aren't predeclared (<a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"noreferrer\">documented here</a>), but I can see no reason why in my example <code>a</code> evaluates once to the value and once to the name in the same line of code, especially in the assignment to the hash - The <code>a =&gt; a</code> might be a consequence of <code>=&gt;</code> interpreting the left site as a string if it begins with a letter.</p>\n\n<p>Sidenote: Adding parantheses to make the sub-call explicit yields the expected result:</p>\n\n<pre><code># ...\nmy $c = { a() =&gt; a }; # or my $c = { a, a };\nmy %d;\n$d{a()} = a;\n# ....\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          'b' =&gt; 'b'\n        };\n$VAR1 = {\n          'b' =&gt; 'b'\n        };\n</code></pre>\n\n<p>(all examples tested with perl 5.18)</p>\n"}, {"tags": ["perl", "import", "module", "require"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1481522729, "post_id": 41094774, "comment_id": 69394679, "body": "Perl doesn&#39;t know it&#39;s a subroutine. You need to: <code>&amp;getcwd</code> (not great), <code>use subs qw(getcwd);</code> (better), or simply <code>getcwd()</code> (best)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1481527115, "post_id": 41094774, "comment_id": 69396181, "body": "@MattJacob  Thank you, that does work. However, the question remains, as explained in the note I added at the end."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481529281, "post_id": 41094774, "comment_id": 69397039, "body": "The import hasn&#39;t yet worked as of when the getcwd call is compiled, so you get the strict error (or without strict, get it interpreted as the string <code>&quot;getcwd&quot;</code>).  Adding the parentheses tells perl it is a sub call, not a bare word."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481529548, "post_id": 41094774, "comment_id": 69397151, "body": "@ysth OK, thank you, I thought of that (<i>I can imagine that ...</i>) -- but it does work for other core modules, even with involved syntax. Say, in <code>List::Util</code> I can use <code>max BLOCK LIST</code>. One can say that this can go <i>because</i> of the syntax (giving a hint to compiler or some such) ... but it shouldn&#39;t depend on that. How does one load dynamically then? I thought that this was the norm."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481531765, "post_id": 41094774, "comment_id": 69398069, "body": "Depending on runtime import is not the norm, and not a good idea."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481532243, "post_id": 41094774, "comment_id": 69398272, "body": "Indeed, but maybe it is necessary in this case. The point remain that having two different norms for parenthesis usage depending on an unknown rule is disturbing and should be clarified."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1481533070, "post_id": 41094774, "comment_id": 69398676, "body": "@ysth I meant that the &quot;<i>norm</i>&quot; is the code in the question. It&#39;s good to know if that isn&#39;t so, thank you. But how then?  The code follows from the basic definition of <code>use</code> and I never saw a word against <code>import</code>-ing at runtime. It is also found in a number of well-regarded answers.  How does one load at runtime then?"}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 1, "creation_date": 1481554129, "post_id": 41094774, "comment_id": 69410971, "body": "The point is you are Importing the module AFTER the compilation process.  After changing  eval {     require Cwd;      Cwd-&gt;import; };  into a Beginn-Block  BEGIN {    require Cwd;      Cwd-&gt;import; }; everything works fine."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481560546, "post_id": 41094774, "comment_id": 69414836, "body": "You said you tried this for several different core modules, and some worked while others didn&#39;t. Can you show the exact code you used for each one?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481566373, "post_id": 41094774, "comment_id": 69418097, "body": "@ThisSuitIsBlackNot  I used the exact same code, just with names changed.  For example, swap <code>&#39;Cwd&#39;</code> string for <code>&#39;List::Util&#39;</code>, add <code>&#39;max&#39;</code> to <code>import</code>, and write the test with <code>max</code>. (The tests happened to always need <code>func LIST</code> so doing <code>getcwd()</code> per Matt&#39;s comment never crossed my mind. But the question of failed imports remains.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1481566431, "post_id": 41094774, "comment_id": 69418122, "body": "@GeorgMavridis  The point of the question is to <i>load at runtime</i>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481566645, "post_id": 41094774, "comment_id": 69418233, "body": "@zdim That also fails. <code>perl -Mstrict -e&#39;eval { require List::Util; List::Util-&gt;import(&quot;max&quot;) }; die &quot;L::U&quot; if $@; max 1..9&#39;</code> Please show an example that works."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481567013, "post_id": 41094774, "comment_id": 69418452, "body": "@ThisSuitIsBlackNot Added an example"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481567193, "post_id": 41094774, "comment_id": 69418560, "body": "@zdim That works because you&#39;re giving hints to the compiler in the form of parentheses."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481567384, "post_id": 41094774, "comment_id": 69418648, "body": "@ThisSuitIsBlackNot  Right, I got that after Matt&#39;s comment. Does that mean that one always has to use such syntax with modules loaded at runtime? Why is import failing?  Why is this quasi-technique seen often in highly voted answers? How do I load non-core modules, for which hints don&#39;t help?  As of now, I see <i>no way</i> to load <code>List::MoreUtils</code> at runtime (for example)."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481567799, "post_id": 41094774, "comment_id": 69418873, "body": "1) The import is not failing. 2) This has nothing to do with core vs. non-core. 3) The functions in List::MoreUtils use prototypes to emulate core functions like <code>grep</code>. Prototypes are ignored if the function declaration is not available at compile time, so you can&#39;t use the same syntax."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481692784, "post_id": 41107815, "comment_id": 69474233, "body": "Thank you very much.  So one <i>has to</i> think of compiler and use different syntax when loading at runtime. That is good to know.  (I&#39;ve seen this around many times and never saw a hint of that.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481692852, "post_id": 41107815, "comment_id": 69474253, "body": "I thought of symbols not being known, as stated in the question, but then my perception that it &quot;worked&quot; for other modules made me believe that some magic was being done (for core modules, I thought)."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481729977, "post_id": 41107815, "comment_id": 69495325, "body": "You have to think about the parser even in other situations, e.g. <code>sub foo { ... } foo;</code> is okay but <code>foo; sub foo { ... }</code> isn&#39;t. So some people always use parentheses; it&#39;s just too easy to get bitten. And this is just one more example of why you should avoid prototypes."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481782645, "post_id": 41107815, "comment_id": 69516520, "body": "Yes, that with prototypes is what threw me off for the whole thing.  I never go near them (and don&#39;t know them) so I didn&#39;t realize that this module uses that.  (Clearly, I need to reread Perl documentation far more carefully, and to make sure to always look at source for modules I use.) Thank you."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 6, "last_activity_date": 1481570035, "last_edit_date": 1481570035, "creation_date": 1481569699, "answer_id": 41107815, "question_id": 41094774, "link": "https://stackoverflow.com/questions/41094774/cannot-load-cwd-and-other-non-core-modules-at-runtime/41107815#41107815", "title": "Cannot load `Cwd` (and other, non-core, modules) at runtime", "body": "<p>First, this has nothing to do with core vs. non-core modules. It happens when the parser has to guess whether a particular token is a function call.</p>\n\n<hr>\n\n<pre><code>eval {\n    require Cwd; \n    Cwd-&gt;import;\n};\nif ($@) { die \"Can't load Cwd: $@\" }\n\nsay \"Dir: \", getcwd;\n</code></pre>\n\n<p>At compile time, there is no <code>getcwd</code> in the <code>main::</code> symbol table. Without any hints to indicate that it's a function (<code>getcwd()</code> or <code>&amp;getcwd</code>), the parser has no way to know, and <code>strict</code> complains.</p>\n\n<hr>\n\n<pre><code>eval { \n    require List::Util; \n    List::Util-&gt;import('max');\n};\nif ($@) { die \"Can't load List::Util: $@\" }\n\nmy $max = max (1, 14, 3, 26, 2);\n</code></pre>\n\n<p>At compile time, there is no <code>max</code> in the <code>main::</code> symbol table. However, since you call <code>max</code> with parentheses, the parser can guess that it's a function that will be defined later, so <code>strict</code> doesn't complain.</p>\n\n<p>In both cases, the <code>strict</code> check happens before <code>import</code> is ever called.</p>\n\n<hr>\n\n<p>List::MoreUtils is special because the functions use prototypes. Prototypes are ignored if the function definition is not visible at compile time. So, not only do you have to give the parser a hint that you're calling a function, you also have to call it differently since the prototype will be ignored:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse 5.010;\n\neval {\n    require List::MoreUtils;\n    List::MoreUtils-&gt;import('any')\n};\ndie \"Can't load List::MoreUtils: $@\" if $@;\n\nsay 'found' if any( sub { $_ &gt; 5 }, 1..9 );\n</code></pre>\n"}], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "accepted_answer_id": 41107815, "answer_count": 1, "score": 8, "last_activity_date": 1502764933, "creation_date": 1481521214, "last_edit_date": 1502764933, "question_id": 41094774, "link": "https://stackoverflow.com/questions/41094774/cannot-load-cwd-and-other-non-core-modules-at-runtime", "title": "Cannot load `Cwd` (and other, non-core, modules) at runtime", "body": "<p>Imagine I want to load a module at runtime. I expected this to work</p>\n\n<pre><code>use warnings;\nuse strict;\n\neval {\n    require Cwd; \n    Cwd-&gt;import;\n};\nif ($@) { die \"Can't load Cwd: $@\" }\n\nsay \"Dir: \", getcwd;\n</code></pre>\n\n<p>but it doesn't, per <code>Bareword \"getcwd\" not allowed ...</code>.  </p>\n\n<p>The <a href=\"http://perldoc.perl.org/Cwd.html\" rel=\"nofollow noreferrer\">Cwd</a> exports <code>getcwd</code> by default. I tried giving the function name(s) to <code>import</code> and I tried with its other functions. \nIt works with the full name, <code>say Cwd::getcwd</code>, so I'd think that it isn't importing.</p>\n\n<p>This works as attempted for a few other core modules that I tried, for example</p>\n\n<pre><code>use warnings;\nuse strict;\n\neval { \n    require List::Util; \n    List::Util-&gt;import('max');\n};\nif ($@) { die \"Can't load List::Util: $@\" }\n\nmy $max = max (1, 14, 3, 26, 2); \nprint \"Max is $max\\n\";\n</code></pre>\n\n<p><strong>NOTE added</strong> &nbsp; Apparently, function calls with parenthesis give a clue to the compiler. However, in my opinion the question remains, please see <em>EDIT</em> at the end.  In addition, a function like <code>first BLOCK LIST</code> from the module above does not work.</p>\n\n<hr>\n\n<p>However, it <em>does not</em> work for a few (well established) non-core modules that I tried. Worse and more confusingly, it does not work even with the fully qualified names.</p>\n\n<p>I can imagine that the symbol (function) used is not known at compile time if <code>require</code> is used at runtime, but it works for (other) core modules. I thought that this was a standard way to load at runtime.  </p>\n\n<p>If I need to use full names when loading dynamically then fine, but what is it with the inconsistency?  And how <em>do</em> I load (and use) non-core modules at runtime?</p>\n\n<p>I also tried with <code>Module::Load::Conditional</code> and it did not work.</p>\n\n<p>What am I missing, and how does one load modules at runtime?  &nbsp; (Tried with <code>5.16</code> and <code>5.10.1</code>.)</p>\n\n<hr>\n\n<p><em>EDIT</em></p>\n\n<p>As noted by <a href=\"https://stackoverflow.com/users/82262/matt-jacob\">Matt Jacob</a>, a call with parenthesis works, <code>getcwd()</code>. However, given <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow noreferrer\">perlsub</a></p>\n\n<blockquote>\n  <p><code>NAME LIST;</code> # Parentheses optional if predeclared/imported.</p>\n</blockquote>\n\n<p>this implies that the import didn't work and the question of why remains. </p>\n\n<p>Besides, having to use varied syntax based on how the module is loaded is not good. Also, I cannot get non-core modules to work this way, specially the ones with syntax like <a href=\"http://search.cpan.org/~rehsack/List-MoreUtils-0.416/lib/List/MoreUtils.pm\" rel=\"nofollow noreferrer\">List::MoreUtils</a> has.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "is_accepted": false, "score": 0, "last_activity_date": 1481510104, "last_edit_date": 1481510104, "creation_date": 1481509189, "answer_id": 41093351, "question_id": 41093318, "link": "https://stackoverflow.com/questions/41093318/is-it-possible-to-enable-disable-use-strict-warnings-based-on-argv-in-perl/41093351#41093351", "title": "Is it possible to enable/disable use strict / warnings based on ARGV in perl?", "body": "<p><code>use strict</code> and <code>use warnings</code> are lexical.  They only apply to the block that they're in.  If you had put the <code>$x = 2</code> in the same block as your <code>use</code> statements, it would throw an exception.</p>\n"}, {"comments": [{"owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1481513906, "post_id": 41093354, "comment_id": 69392519, "body": "Thanks! I tried it and works fine if ARGV[0] is Y but throws an error  if ARGV[0] is empty or not &#39;Y&#39;.  Too few arguments to `use if&#39; (some code returning an empty list in list context?) at /usr/opt/perl5/lib/5.8.8/if.pm line 7. BEGIN failed--compilation aborted at test.pl line 3."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "edited": false, "score": 0, "creation_date": 1481513980, "post_id": 41093354, "comment_id": 69392545, "body": "Should be fixed"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 11, "last_activity_date": 1481513972, "last_edit_date": 1481513972, "creation_date": 1481509212, "answer_id": 41093354, "question_id": 41093318, "link": "https://stackoverflow.com/questions/41093318/is-it-possible-to-enable-disable-use-strict-warnings-based-on-argv-in-perl/41093354#41093354", "title": "Is it possible to enable/disable use strict / warnings based on ARGV in perl?", "body": "<pre><code>use strict;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>BEGIN {\n   require strict;\n   import strict;\n}\n</code></pre>\n\n<p>so the effect of <code>use strict;</code> are unconditional (since <code>import strict;</code> is evaluated before the <code>if</code> is evaluated).</p>\n\n<p>Furthermore, the effects of both <code>use strict</code> and <code>use warnings</code> are lexically-scoped, so their effects are limited to the curlies in which they are located as always.</p>\n\n<p>Use</p>\n\n<pre><code>no strict;    # Probably not actually needed.\nno warnings;  # Probably not actually needed.\nuse if scalar( $ARGV[0] =~ /^Y\\z/i ), 'strict';\nuse if scalar( $ARGV[0] =~ /^Y\\z/i ), 'warnings';\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 4995259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4d0fa9012306fa48b9ef275998c4a18?s=128&d=identicon&r=PG&f=1", "display_name": "criz", "link": "https://stackoverflow.com/users/4995259/criz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "accepted_answer_id": 41093354, "answer_count": 2, "score": 3, "last_activity_date": 1481514126, "creation_date": 1481508872, "question_id": 41093318, "link": "https://stackoverflow.com/questions/41093318/is-it-possible-to-enable-disable-use-strict-warnings-based-on-argv-in-perl", "title": "Is it possible to enable/disable use strict / warnings based on ARGV in perl?", "body": "<p>Is it possible to enable/disable use strict / warnings based on ARGV in perl?</p>\n\n<p>I tried this code but it doesn't work. I believe it should generate a warning error at line where '$x = 2';</p>\n\n<pre><code># Do this at the beginning of the script    \nBEGIN {\n        if ( $ARGV[0] =~ /^Y$/i ) {\n            use strict;\n            use warnings;\n        }\n        else {\n            no strict;\n            no warnings;\n        }\n    }\n\n    $x = 2;\n\n    print \"x is $x\\n\";\n</code></pre>\n\n<p>The purpose is to enable warning messages only in development.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7281874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CpMAf.png?s=128&g=1", "display_name": "rtep", "link": "https://stackoverflow.com/users/7281874/rtep"}, "edited": false, "score": 0, "creation_date": 1481495151, "post_id": 41091711, "comment_id": 69388524, "body": "ty, your solution cleared the error, but wasn&#39;t $str1 initialized by &quot;our ( $str1, $str2 ) = @ARGV;&quot;  ?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 13, "user_id": 7281874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CpMAf.png?s=128&g=1", "display_name": "rtep", "link": "https://stackoverflow.com/users/7281874/rtep"}, "edited": false, "score": 0, "creation_date": 1481495382, "post_id": 41091711, "comment_id": 69388595, "body": "@rtep: Only if <code>@ARGV</code> wasn&#39;t empty, i.e. there were some command line parameters."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1481494377, "creation_date": 1481494377, "answer_id": 41091711, "question_id": 41091681, "link": "https://stackoverflow.com/questions/41091681/perl-use-of-uninitialized-value-in-string/41091711#41091711", "title": "Perl Use of uninitialized value in string", "body": "<p>It's not an error, it's a warning. It means \"$str1\" is uninitialized, which in this case means there were no command line arguments specified to the script.</p>\n\n<p>Merge lines 20 and 22 into</p>\n\n<pre><code>help() if ! $str1 || $str1 eq 'help';\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7281874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CpMAf.png?s=128&g=1", "display_name": "rtep", "link": "https://stackoverflow.com/users/7281874/rtep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1195, "favorite_count": 0, "accepted_answer_id": 41091711, "answer_count": 1, "score": 1, "last_activity_date": 1481494377, "creation_date": 1481494195, "question_id": 41091681, "link": "https://stackoverflow.com/questions/41091681/perl-use-of-uninitialized-value-in-string", "title": "Perl Use of uninitialized value in string", "body": "<p>\"Use of uninitialized value $str1 in string eq at ./script.pl line 20\"</p>\n\n<p>not sure why I get this error on line 20, if I comment 20 out, it goes away:</p>\n\n<pre><code> 15 ######## HELP section ################\n 16 #\n 17 our @ARGV;\n 18 our ( $str1, $str2 ) = @ARGV;\n 19\n 20 if ( $str1 eq \"help\" ) { &amp;help(); }\n 21\n 22 if ( !$str1 ) { &amp;help(); }\n 23 #\n 24 sub help {\n 25         print &lt;&lt;EOF;\n 26         +++++++++++++++++++++++++++++++++++++++++++++++++++\n 27         +  usage:  $0 \"cmd1,cmd2,cmd3\" \"host1,host2,host3\"\n 28         +++++++++++++++++++++++++++++++++++++++++++++++++++\n 29 EOF\n 30         exit 0;\n 31         }\n</code></pre>\n"}, {"tags": ["arrays", "perl", "array-difference"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1481492438, "post_id": 41091416, "comment_id": 69387746, "body": "<code>grep</code> operates on arrays and returns matching elements. Maybe you mean <code>$terms[$ind] =~ &#47;$filter&#47;</code> to match a single one?"}, {"owner": {"reputation": 911, "user_id": 475818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/352dadbe545b3abaf830984fb9682155?s=128&d=identicon&r=PG", "display_name": "Eric A. Meyer", "link": "https://stackoverflow.com/users/475818/eric-a-meyer"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1481492925, "post_id": 41091416, "comment_id": 69387894, "body": "Yep, looks like that works as intended\u2014thanks!  I\u2019m still confused about why the array didn\u2019t shrink with what I was doing before."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1481492972, "post_id": 41091416, "comment_id": 69387903, "body": "It&#39;s always tricky to remove elements from an array you&#39;re actively iterating over. That shifts the offset by 1 each time you splice something out."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1481501125, "post_id": 41091416, "comment_id": 69390027, "body": "FWIW, <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"nofollow noreferrer\"><code>use VERSION</code></a> only specifies the <i>minimum</i> version needed; it doesn&#39;t emulate the Perl interpreter as it existed at that version."}], "answers": [{"comments": [{"owner": {"reputation": 911, "user_id": 475818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/352dadbe545b3abaf830984fb9682155?s=128&d=identicon&r=PG", "display_name": "Eric A. Meyer", "link": "https://stackoverflow.com/users/475818/eric-a-meyer"}, "edited": false, "score": 0, "creation_date": 1481493607, "post_id": 41091512, "comment_id": 69388115, "body": "That one only partly works\u2014it filters out <code>gamma</code> and <code>epsilon</code>, but not <code>beta test</code> or <code>one iota</code>.  Useful to have on hand for future projects, though!"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 911, "user_id": 475818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/352dadbe545b3abaf830984fb9682155?s=128&d=identicon&r=PG", "display_name": "Eric A. Meyer", "link": "https://stackoverflow.com/users/475818/eric-a-meyer"}, "edited": false, "score": 0, "creation_date": 1481494056, "post_id": 41091512, "comment_id": 69388234, "body": "Added a version that tests arbitrary substrings. This one uses a regular expression again, but just one test per entry, not N tests."}, {"owner": {"reputation": 911, "user_id": 475818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/352dadbe545b3abaf830984fb9682155?s=128&d=identicon&r=PG", "display_name": "Eric A. Meyer", "link": "https://stackoverflow.com/users/475818/eric-a-meyer"}, "edited": false, "score": 0, "creation_date": 1481509999, "post_id": 41091512, "comment_id": 69391624, "body": "Cool, thanks!  That does indeed work.  Mind you, I have no idea whatsoever how or why it works."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 911, "user_id": 475818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/352dadbe545b3abaf830984fb9682155?s=128&d=identicon&r=PG", "display_name": "Eric A. Meyer", "link": "https://stackoverflow.com/users/475818/eric-a-meyer"}, "edited": false, "score": 0, "creation_date": 1481556955, "post_id": 41091512, "comment_id": 69412686, "body": "<code>grep</code> acts like a pass-fail filter on each element in <code>@terms</code> here, so for a given <code>$_</code> from <code>@terms</code> it tests if it matches that pattern or not. The pattern is just a regular expression that matches any one of them as substrings."}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": true, "score": 7, "last_activity_date": 1481508929, "last_edit_date": 1481508929, "creation_date": 1481492865, "answer_id": 41091512, "question_id": 41091416, "link": "https://stackoverflow.com/questions/41091416/perl-removing-array-items-and-resizing-the-array/41091512#41091512", "title": "Perl: Removing array items and resizing the array", "body": "<p>You can always regenerate the array minus things you don't want. <code>grep</code> acts as a filter allowing you to decide which elements you want and which you don't:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nmy @terms = ('alpha','beta test','gamma','delta quadrant','epsilon',\n           'zeta','eta','theta chi','one iota','kappa');\nmy @filters = ('beta','gamma','epsilon','iota');\n\nmy %filter_exclusion = map { $_ =&gt; 1 } @filters;\n\nmy @filtered = grep { !$filter_exclusion{$_} } @terms;\n\nprint join(',', @filtered) . \"\\n\";\n</code></pre>\n\n<p>It's pretty easy if you have a simple structure like <code>%filter_exclusion</code> on hand.</p>\n\n<p><strong>Update</strong>: If you want to allow arbitrary substring matches:</p>\n\n<pre><code>my $filter_exclusion = join '|', map quotemeta, @filters;\n\nmy @filtered = grep { !/$filter_exclusion/ } @terms;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481530749, "post_id": 41091654, "comment_id": 69397609, "body": "@ikegami: I don&#39;t see <code>gamma</code> in the output. Moreover, this is not a &quot;fix&quot;, it should only demostrate WHY and WHEN the trailing elements are created - therefore, they&#39;re still there."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481547221, "post_id": 41091654, "comment_id": 69406706, "body": "@ikegami: If I <code>print &quot;@terms&quot;</code>, I see <code>alpha delta quadrant zeta eta theta chi kappa</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481548116, "post_id": 41091654, "comment_id": 69407246, "body": "Oh sorry, the bug happens if you start with <code>@terms = qw( gamma gamma kappa );</code>. The second gamma gets moved into <code>$terms[0]</code>, which isn&#39;t revisited."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1481548669, "post_id": 41091654, "comment_id": 69407556, "body": "@ikegami: True, you&#39;re right. But I was just trying to explain why the undefs exist."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1481493953, "creation_date": 1481493953, "answer_id": 41091654, "question_id": 41091416, "link": "https://stackoverflow.com/questions/41091416/perl-removing-array-items-and-resizing-the-array/41091654#41091654", "title": "Perl: Removing array items and resizing the array", "body": "<p>To see what's going on, print the contents of the array in each step: When you splice the array, it shrinks, but your loop iterates over 0 .. $#terms, so at the end of the loop, $ind will point behind the end of the array. When you use <code>grep { ... } $array[ $too_large ]</code>, Perl needs to alias the non-existent element to <code>$_</code> inside the grep block, so it creates an <code>undef</code> element in the array.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy @terms = ('alpha', 'beta test', 'gamma', 'delta quadrant', 'epsilon',\n             'zeta', 'eta', 'theta chi', 'one iota', 'kappa');\nmy @filters = qw( beta gamma epsilon iota );\n\nfor my $filter (@filters) {\n    say $filter;\n    for my $ind (0 .. $#terms) {\n        if (grep { do {\n            no warnings 'uninitialized';\n            /$filter/\n        } } $terms[$ind]\n        ) {\n            splice @terms, $ind, 1;\n        }\n        say \"\\t$ind\\t\", join ' ', map $_ || '-', @terms;\n    }\n}\n</code></pre>\n\n<p>If you used <code>$terms[$ind] =~ /$filter/</code> instead of <code>grep</code>, you'd still get uninitialized warnings, but as there's no need to alias the element, it won't be created.</p>\n"}], "owner": {"reputation": 911, "user_id": 475818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/352dadbe545b3abaf830984fb9682155?s=128&d=identicon&r=PG", "display_name": "Eric A. Meyer", "link": "https://stackoverflow.com/users/475818/eric-a-meyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 41091512, "answer_count": 2, "score": 4, "last_activity_date": 1481508929, "creation_date": 1481492277, "question_id": 41091416, "link": "https://stackoverflow.com/questions/41091416/perl-removing-array-items-and-resizing-the-array", "title": "Perl: Removing array items and resizing the array", "body": "<p>I\u2019m trying to filter an array of terms using another array in Perl.  I have Perl 5.18.2 on OS X, though the behavior is the same if I <code>use 5.010</code>.  Here\u2019s my basic setup:</p>\n\n<pre><code>#!/usr/bin/perl\n#use strict;\nmy @terms = ('alpha','beta test','gamma','delta quadrant','epsilon',\n             'zeta','eta','theta chi','one iota','kappa');\nmy @filters = ('beta','gamma','epsilon','iota');\nforeach $filter (@filters) {\n    for my $ind (0 .. $#terms) {\n        if (grep { /$filter/ } $terms[$ind]) {\n            splice @terms,$ind,1;\n        }\n    }\n}\n</code></pre>\n\n<p>This works to pull out the lines that match the various search terms, but the array length doesn\u2019t change.  If I write out the resulting <code>@terms</code> array, I get:</p>\n\n<pre><code>[alpha]\n[delta quadrant]\n[zeta]\n[eta]\n[theta chi]\n[kappa]\n[]\n[]\n[]\n[]\n</code></pre>\n\n<p>As you might expect from that, printing <code>scalar(@terms)</code> gets a result of <code>10</code>.</p>\n\n<p>What I want is a resulting array of length 6, without the four blank items at the end.  How do I get that result?  And why isn\u2019t the array shrinking, given that the <a href=\"http://perldoc.perl.org/functions/splice.html\" rel=\"nofollow noreferrer\">perldoc page about <code>splice</code></a> says, \u201cThe array grows or shrinks as necessary.\u201d?</p>\n\n<p>(I\u2019m not very fluent in Perl, so if you\u2019re thinking \u201cWhy don\u2019t you just...?\u201d, it\u2019s almost certainly because I don\u2019t know about it or didn\u2019t understand it when I heard about it.)</p>\n"}, {"tags": ["multithreading", "perl", "asynchronous", "mojolicious", "mojo"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1481491816, "post_id": 41091219, "comment_id": 69387535, "body": "It&#39;s <a href=\"http://stackoverflow.com/a/12168814/589924\">easy</a> using threads, but I would use <a href=\"http://search.cpan.org/perldoc?Net::Curl::Multi\" rel=\"nofollow noreferrer\">Net::Curl::Multi</a> again. Very capable, and very low overhead."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481493207, "post_id": 41091219, "comment_id": 69387983, "body": "You might fork the process before checking the URL as many times as your URL. That way, each new process would handle its request and if a process is stalled, you don&#39;t care because the other would process normally. Your process would have a state variable (main or fork). It it&#39;s a main, it only forks, setting an variable containing an URL. It it&#39;s a fork, it queries the URL. Mmmm... It looks like threads eh?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1481495917, "post_id": 41091219, "comment_id": 69388736, "body": "<a href=\"https://metacpan.org/pod/LWP::Parallel\" rel=\"nofollow noreferrer\">LWP::Parallel</a>? You don&#39;t need threads, just asynchronous IO."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481513070, "post_id": 41091219, "comment_id": 69392299, "body": "Do you need to do anything after a request completes, based on how it went?  Write logs, run some follow-up processing, check status ...?  Or nothing at all?"}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1481515850, "post_id": 41091219, "comment_id": 69392950, "body": "zdim, yes! Only URLs that were successfully fetched would have some sort of follow-up processing. The ones that didn&#39;t connect or died out are left to die out happily in the program."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1481532541, "post_id": 41091219, "comment_id": 69398436, "body": "I had the same question and ended up using <a href=\"http://search.cpan.org/perldoc?AnyEvent%3A%3AHTTP\" rel=\"nofollow noreferrer\">AnyEvent::HTTP</a>. <a href=\"http://www.win.tue.nl/~rp/bin/urlheadinfo\" rel=\"nofollow noreferrer\">Here&#39;s my script.</a>  It works well, but I still don&#39;t know about the merits and drawbacks of the various available libraries."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481533196, "post_id": 41091219, "comment_id": 69398729, "body": "@LukasNelson  OK. Do successful requests need to pass any particular information back to parent/controller, or is it enough to know that they were successful?"}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1481544650, "post_id": 41091219, "comment_id": 69405222, "body": "zdim, Just knowing it was successful is perfect. No parent or controller, just a script to check many HTTP sites for to see if they are responding."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481583385, "post_id": 41091219, "comment_id": 69426622, "body": "@LukasNelson I was going to then suggest (post) some basic fork-based code, whereby a SIGCHLD handler can record success/fail by exit codes. However, by your comment you did it with <code>P::FM</code>, which also allows you to (more easily) do it a bunch at a time.  I guess you found out how to pass data back from children to parent, as well (it&#39;s in the docs if you didn&#39;t).  So I guess all is well :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481583484, "post_id": 41091219, "comment_id": 69426666, "body": "@LukasNelson  Btw, when you post a message you need to say <code>@user</code> for the <code>user</code> to be notified. Sometimes it works without that, if there are only two users posting comments (I think) but in general it is needed. I didn&#39;t see your comment until now, when I came back to check up on the page.  Otherwise I would&#39;ve been notified and had a chance to see it hours and hours ago. Just info :)"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1481568168, "post_id": 41096405, "comment_id": 69419071, "body": "Thanks, forking worked. I ended up using Parallel::ForkManager and followed the example, which is essentially the same thing."}, {"owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1481568591, "post_id": 41096405, "comment_id": 69419325, "body": "[code]  use Parallel::ForkManager;    my $pm = Parallel::ForkManager-&gt;new($MAX_PROCESSES);    DATA_LOOP:   foreach my $data (@all_data) {     # Forks and returns the pid for the child:     my $pid = $pm-&gt;start and next DATA_LOOP;      ... do some work with $data in the child process ...      $pm-&gt;finish; # Terminates the child process   }[/code]"}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "reply_to_user": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "edited": false, "score": 0, "creation_date": 1481572379, "post_id": 41096405, "comment_id": 69421267, "body": "Oh I see! It&#39;s the same thing but with advanced features such as a maximum number of children. Neat. Thanks for pointing it!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481583951, "post_id": 41096405, "comment_id": 69426840, "body": "Each child process drops out of the loop and proceeds to execute all other code later in the program.  All children see their PID as 0, so all of them rush to where you imply the processing happens.  This happens very <i>very</i> quickly and in general they don&#39;t hit the processing code in order in which they are created -- you have races going on. There is absolutely <i>no guarantee</i> that all kids process all and different URL&#39;s.  A common way of doing it is to have processing code inside the loop and then <code>exit</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481584138, "post_id": 41096405, "comment_id": 69426901, "body": "Children also need to pass information back to the parent. In this problem fail/succeed is good enough, so that can be done via exit codes. However, the parent can&#39;t do a blocking wait since some children may well hang. Thus you can do a non-blocking <code>waitpid</code> in a SIGCHLD handler, where each child would write to a simple hash (say).  The parent can then sit in a loop after the <code>foreach</code> and poll that hash. This would also need some cut-out time, in case some processes are indeed hanging."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481584438, "post_id": 41096405, "comment_id": 69426989, "body": "Also, you can&#39;t have kids write to the same file.  Those writes surely come out of order, and even if it&#39;s just a line per process the <i>lines</i> themselves get cut by others.  Try, it&#39;s fun to see the mayhem that comes out :)  Of course, in some longer processing there is less of a chance for this to happen ... but it becomes a game of chance."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481613649, "post_id": 41096405, "comment_id": 69435128, "body": "About the last point, it&#39;s not such a big deal: you can identify each line with a key - as each URL is a different process - and use grep to follow the processing of a given URL."}], "tags": [], "owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "is_accepted": false, "score": 1, "last_activity_date": 1481529537, "creation_date": 1481529537, "answer_id": 41096405, "question_id": 41091219, "link": "https://stackoverflow.com/questions/41091219/trying-to-process-100-url-requests-should-i-use-perl-cpan-httpasync-mojo/41096405#41096405", "title": "Trying to process 100 URL requests. Should I use perl CPAN HTTP::Async? Mojo?", "body": "<p>Here is my basic suggestion: create a process for each url and let the process handle it independently from the other.\nNote that if you need to log, all processes could share a handle on a file.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;use warnings;\n\nmy @url = ('url1','url2','url3');\n\nmy $pid;\nmy $url_to_process;\n\nforeach my $url (@url) {\n    $pid = fork; #create new process.\n    unless ($pid) {\n        $url_to_process = $url;\n        last;\n    } #end loop if we are a child\n}\n\nunless ($pid) {\n    print \"$$: $url_to_process\\n\"; # or do anything you like with the url\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 7281752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0af94fb7196d4b7957e1512dd0d1b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Nelson", "link": "https://stackoverflow.com/users/7281752/lukas-nelson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 1, "closed_date": 1481532516, "answer_count": 1, "score": 4, "last_activity_date": 1481562679, "creation_date": 1481490931, "last_edit_date": 1481562679, "question_id": 41091219, "link": "https://stackoverflow.com/questions/41091219/trying-to-process-100-url-requests-should-i-use-perl-cpan-httpasync-mojo", "closed_reason": "Needs more focus", "title": "Trying to process 100 URL requests. Should I use perl CPAN HTTP::Async? Mojo?", "body": "<p>I'm trying to create a program that can connect to 100 URLs at a time, and depending on the output of each connection (ie, success on an HTTP connect) then the perl script would go to function x, or what not. The best I could come up with, is this script. But I'd like it to connect to 100 URLs simultaneously, or in parallel, each returning a response (so I should get 100 or so at the end of the LWP timeout) to figure out what I want to do next. However, most examples I've seen, tend to do one URL at time. It may run through 20-30 real fast, but if one is down, that is where the slowdown really begins.</p>\n\n<pre><code>use Mojo::Client;\nuse Mojo::Transaction;\n\nmy $client = Mojo::Client-&gt;new;\n\nmy $tx  = Mojo::Transaction-&gt;new_get('http://labs.kraih.com');\nmy $tx2 = Mojo::Transaction-&gt;new_get('http://mojolicious.org');\n$tx2-&gt;req-&gt;headers-&gt;expect('100-continue');\n$tx2-&gt;req-&gt;body('foo bar baz');\n\n$client-&gt;process_all($tx, $tx2);\n\nprint $tx-&gt;res-&gt;code;\nprint $tx2-&gt;res-&gt;code;\nprint $tx2-&gt;res-&gt;content-&gt;file-&gt;slurp;\n</code></pre>\n\n<p>However, it creates variables for each transaction. If I'm going to do 100 sites, creating $tx1 - $tx 100 would be painful.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["perl", "hash-of-hashes"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1481479725, "post_id": 41089311, "comment_id": 69383577, "body": "how would knowing how deep it runs help you make a generic subroutine?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1481480082, "post_id": 41089311, "comment_id": 69383685, "body": "I don&#39;t understand what you&#39;re trying to ask. What do you mean by the &quot;depth&quot; of a hash of hashes?"}, {"owner": {"reputation": 42504, "user_id": 1161878, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0157ddd785dc01e95342e3661d34b42a?s=128&d=identicon&r=PG", "display_name": "Gene", "link": "https://stackoverflow.com/users/1161878/gene"}, "edited": false, "score": 1, "creation_date": 1481480807, "post_id": 41089311, "comment_id": 69383933, "body": "You mean you want to find the depth of an arbitrary HoH? First decide how you&#39;re going to count the depth of cycles. Then write a DFS and compute depth labels in the usual way. If you give it a try, it doesn&#39;t work, and you post code, you might get some useful help."}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1481481295, "post_id": 41089311, "comment_id": 69384109, "body": "Hi Gene, that is exactly i am stuck at."}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481481339, "post_id": 41089311, "comment_id": 69384124, "body": "@melpomene: Hi, by depth, i mean levels. I have added an example to highlight my point. Please see if that helps you to visualize."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481481430, "post_id": 41089311, "comment_id": 69384159, "body": "What is the depth of this hash: <code>my %foo = (a =&gt; 123, b =&gt; [{b0 =&gt; &quot;hi&quot;}, &quot;b1&quot;], c =&gt; { c0 =&gt; { c01 =&gt; &quot;yo&quot; }, c1 =&gt; [4,5,6] });</code>?"}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1481481608, "post_id": 41089311, "comment_id": 69384207, "body": "I am talking about only simple hash structures. Yes in your example, it would be a bit challenging to find out as it is a type of elaborated record."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481484134, "post_id": 41089311, "comment_id": 69385085, "body": "You can display the entire structure with Data::Dumper. <code>use Data::Dumper; print Dumper \\%stat;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481487044, "post_id": 41089311, "comment_id": 69385979, "body": "<i>&quot;Assuming the hash has simple key/value pairs and is not an elaborated record (containing arrays of arrays or arrays of hashes)&quot;</i> Then the answer is simple: your hash has a depth of one."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1481489690, "post_id": 41089311, "comment_id": 69386833, "body": "This feels like a possible XY problem. What are you trying to accomplish this for?"}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1481490826, "post_id": 41089311, "comment_id": 69387151, "body": "@Sobrique - I have a need to iterate over hashes multiple times, and hashes are of different levels as in 3,4 or 6 or 8.. etc.. so its a chore to write foreach loop for each of them. I want to write a subroutine to find the level of HoH and then automate the foreach looping operation just by sending the hash reference."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481490865, "post_id": 41089311, "comment_id": 69387170, "body": "I can&#39;t imagine a situation where knowing the depth of nesting could help you. Suppose I told you it was <i>always 42</i>, what use would that be to you and how would it simplify your code?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1481491024, "post_id": 41089311, "comment_id": 69387232, "body": "@UselessPerson: <i>&quot;so its a chore to write foreach loop for each of them&quot;</i> Then you need to write some code that, instead of counting the levels of indirection, actually performs the operation that you need. I agree with <code>@Sobrique</code>: if you want proper help then you must describe your end goal. You have picked the wrong way to proceed: 42 is of no use to anyone."}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1481491040, "post_id": 41089311, "comment_id": 69387241, "body": "Sorry for not being able to help you visualize my problem. In my case, it is varying. This way, maybe I can include it in a custom package perl module (for simple hashes (just key value pairs and not elaborate records) for code-reuse.  this is a very specific requirement pertaining to my work environment."}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1481491313, "post_id": 41089311, "comment_id": 69387339, "body": "Borodin - I don&#39;t have a problem writing code. But I do have a problem writing lengthy foreach loops and want to find a way which could help me build a one for all foreach loop, which will iterate through the passed hash and generate desired output.   I don&#39;t know what you mean by &quot;42 is of no use to anyone&quot;."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481491322, "post_id": 41089311, "comment_id": 69387343, "body": "<i>&quot;Sorry for not being able to help you visualize my problem. In my case, it is varying&quot;</i> So you can&#39;t tell us <i>anything</i> about your problem because it is so variant? In that case it cannot be programmed, and you should go back to your senior and say so."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481491437, "post_id": 41089311, "comment_id": 69387393, "body": "@UselessPerson: <i>&quot;I don&#39;t know what you mean by &quot;42 is of no use to anyone&quot;&quot;</i> I was referring to my preceding comment. Suppose I told you that <i>every</i> data structure will always have 42 levels. I am certain that that would be of no use to you. Here&#39;s the subroutine: <code>sub num_levels { return 42 }</code>. I don&#39;t believe you need to know, as your question says, <i>&quot;How to find the depth of the perl HoH&quot;</i>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481491792, "post_id": 41089311, "comment_id": 69387526, "body": "Again, <i>please tell us the problem that has led you to believe that you need to know the depth that a Perl hash is nested</i>. I am certain that you will get much more useful answers."}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481492014, "post_id": 41089311, "comment_id": 69387601, "body": "@Borodin: You are right. If the hash has fixed levels, then there is no need to find out how many levels it has. But I regularly deal with situations where in the same program, operation is being performed over hashes of different levels and I feel it could help simplify things here."}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481492454, "post_id": 41089311, "comment_id": 69387750, "body": "@Borodin: About the &quot;problem that has led me to believe that i need to know the depth that a perl hash is nested&quot;.   Here is my situation. My apologies for not explaining the whole shebang before.  1. program is creating data structure of  3 levels and also publishing it in a text file for other scripts which are processing this published data and doing something else. 2. program is also reading and hashing other data structures of 5 levels, which has data related to the hash in point no. 1 3. Program is also processing a log file (continuously growing) and collecting data."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481498913, "post_id": 41089311, "comment_id": 69389502, "body": "Thank you for providing more information. I have edited your question to copy it there. Please check that I have represented you properly."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481499330, "post_id": 41089311, "comment_id": 69389602, "body": "There is still a problem in that you haven&#39;t told us what you want to do with the <i>depth</i> information. Are you saying that some data is three levels deep while other data has five levels, and you want to use the depth to tell which is which? That is poor design, but perhaps you should explain further? You must believe us that a number expressing the depth that a data structure is nested can <b><i>never</i></b> be useful within a program. There is a chance that you may want to display it as a statistic, but otherwise it is useless."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481504050, "post_id": 41089311, "comment_id": 69390566, "body": "You don&#39;t need to know the depth beforehand. <code>Data::Dumper</code> works on any level of depth and it does not probe for depth beforehand. Just write a sub to walk thru the tree."}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1481505808, "post_id": 41089311, "comment_id": 69390833, "body": "@Brodin: Thank you for updating the question with my explanation. Yes you have represented it properly. I sincerely want to understand your point and motive behind my question is so that I could write a subroutine which will process the hash/hashref based on how many levels it has and this will help me get rid of writing multiple foreach loops in the same program. And i was thinking of also adding this to my custom package.pm. If that purpose seems useless, please suggest another strategy or idea which I can try out. Albeit, it will help anyways to make program look concise and easy to read."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1481535264, "post_id": 41089311, "comment_id": 69399840, "body": "I&#39;m still not following what you&#39;re trying to accomplish I&#39;m afraid. It sounds like you might be trying to parse something else, and if you&#39;re doing <i>that</i> then the answer is probably to do it &#39;upstream&#39;. Would you be able to give an illustrative example of the things you&#39;re trying to process and the code you&#39;re currently using?"}], "answers": [{"comments": [{"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1481482257, "post_id": 41089720, "comment_id": 69384446, "body": "Hi Sukhoi, thanks for your code. I tried it and it seems to work but I have one question.  The last entry &quot;$h{a}{b}{c}{d}{e1}{f1}{g} =1;&quot; it seems to be 7 levels, but still the program prints &quot;6&quot;.  Can you help me understand?  Thanks, Gaurav"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "reply_to_user": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1481482444, "post_id": 41089720, "comment_id": 69384508, "body": "First hash is at <code>0</code> level, but you can change it to start from <code>1</code> ."}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1481482686, "post_id": 41089720, "comment_id": 69384603, "body": "Yes. got it! Missed the zero before. So it is exact. so basically it gives the maximum level in the hash. Great ! This is what I kinda looking for."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1481523721, "last_edit_date": 1481523721, "creation_date": 1481481781, "answer_id": 41089720, "question_id": 41089311, "link": "https://stackoverflow.com/questions/41089311/how-to-find-the-depth-of-a-nested-hash-of-hashes/41089720#41089720", "title": "How to find the depth of a nested hash of hashes?", "body": "<p>Traversing hash values and tracking levels could give answer,</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.16;\n\n{ my $max;\nsub hlevel {\n    my ($h, $n) = @_;\n\n    $max = 0 if !$n;\n    $max = $n if $max &lt; $n;\n    __SUB__-&gt;($_, $n +1) for grep {ref eq \"HASH\"} values %$h;\n\n    return $max;\n}}\n\nmy %h;\n$h{a}{b}{c}{d}{e} =1;\n$h{a}{b}{c}{d}{e1}{f} =1;\n$h{a}{b}{c}{d}{e1}{f1}{g} =1;\nprint hlevel(\\%h, 0);\n</code></pre>\n\n<p>output</p>\n\n<pre><code>6\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "edited": false, "score": 0, "creation_date": 1481482898, "post_id": 41089785, "comment_id": 69384676, "body": "Hi Melpomene, thank you for your answer. This works. I just tried it.  This perfectly covers the points described by me.  Cheers, Gaurav"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 3, "last_activity_date": 1481482143, "creation_date": 1481482143, "answer_id": 41089785, "question_id": 41089311, "link": "https://stackoverflow.com/questions/41089311/how-to-find-the-depth-of-a-nested-hash-of-hashes/41089785#41089785", "title": "How to find the depth of a nested hash of hashes?", "body": "<p>Assuming a uniform hash structure:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub depth {\n    my ($h) = @_;\n    my $d = 0;\n    while () {\n        return $d if ref($h) ne 'HASH';\n        ($h) = values %$h;\n        $d++;\n    }\n}\n\nmy %stat = (\n    1 =&gt; { one =&gt; \"One is  one.\", two =&gt; \"two is two\"},\n    2 =&gt; { one =&gt; \"second val wone\", two =&gt; \"Seconv v\"}\n);\n\nprint depth(\\%stat), \"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2\n</code></pre>\n"}], "owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 681, "favorite_count": 0, "accepted_answer_id": 41089720, "answer_count": 2, "score": -1, "last_activity_date": 1481523721, "creation_date": 1481479374, "last_edit_date": 1592644375, "question_id": 41089311, "link": "https://stackoverflow.com/questions/41089311/how-to-find-the-depth-of-a-nested-hash-of-hashes", "title": "How to find the depth of a nested hash of hashes?", "body": "<p>I am trying to write a Perl subroutine to process any given hash (passed by reference) but I would like to make it a generic one so that I can use it anywhere.</p>\n<p>Assuming the hash has simple key/value pairs and is not an elaborated record (containing arrays of arrays or arrays of hashes), is there any way to find how deep the hash of hashes runs?</p>\n<p>For example</p>\n<pre><code>my %stat = (\n    1 =&gt; { one =&gt; &quot;One is  one.&quot;,    two =&gt; &quot;two is two&quot;},\n    2 =&gt; { one =&gt; &quot;second val wone&quot;, two =&gt; &quot;Seconv v&quot;}\n);\n</code></pre>\n<p>The hash above has first level key <code>1</code> which has two keys <code>one</code> and <code>two</code>. So it is a hash with two levels.</p>\n<p>My question is whether is there any way to test and find this information that the hash has two levels?</p>\n<br/>\n<hr />\n<h3>Update from comment</h3>\n<p>About the <em>&quot;problem that has led me to believe that I need to know the depth that a Perl hash is nested&quot;</em>. Here is my situation.</p>\n<ol>\n<li><p>The program is creating a data structure of three levels, and also publishing it in a text file for other scripts which are processing this published data and doing something else.</p>\n</li>\n<li><p>The program is also reading and hashing other data structures of five levels, which has data related to the hash in the first point.</p>\n</li>\n<li><p>The program is also processing a continuously growing log file and collecting data.</p>\n</li>\n</ol>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481490729, "post_id": 41086950, "comment_id": 69387114, "body": "@melpomene Yeah, I&#39;m too used to Java lately, didn&#39;t check on Perl in a long time, thanks for pointing that out (and for the irony)."}], "tags": [], "owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "is_accepted": false, "score": -2, "last_activity_date": 1481490742, "last_edit_date": 1481490742, "creation_date": 1481464582, "answer_id": 41086950, "question_id": 41086918, "link": "https://stackoverflow.com/questions/41086918/matching-a-string-which-contain-character/41086950#41086950", "title": "Matching a string which contain &quot;\\&quot; character", "body": "<pre><code>$input = \"DATA\\\\DATA\";\nif ($input =~ /\\\\/) { print \"true\\n\"; } else { print \"false\\n\"; }\n</code></pre>\n\n<p>You might want to check <a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expressions</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1481466893, "post_id": 41087225, "comment_id": 69379518, "body": "<code>\\D</code> isn&#39;t quite the same as <code>[^0-9]</code> because the former also excludes all Unicode digits."}, {"owner": {"reputation": 11, "user_id": 3920773, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003105931192/picture?type=large", "display_name": "Tuan Anh Hoang", "link": "https://stackoverflow.com/users/3920773/tuan-anh-hoang"}, "edited": false, "score": 0, "creation_date": 1481514551, "post_id": 41087225, "comment_id": 69392692, "body": "At the first time, I think exactly the way you are right now. We must use &quot;\\\\\\\\&quot; in stead of &quot;\\\\&quot;. However, it is confused that my first code still work in my computer and my second code still does not work although I use &quot;\\\\\\\\&quot;."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 3, "last_activity_date": 1481466557, "creation_date": 1481466557, "answer_id": 41087225, "question_id": 41086918, "link": "https://stackoverflow.com/questions/41086918/matching-a-string-which-contain-character/41087225#41087225", "title": "Matching a string which contain &quot;\\&quot; character", "body": "<p>From <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">perlop</a>:</p>\n\n<blockquote>\n  <p>Binary \"=~\" binds a scalar expression to a pattern match. \u2026 The right argument is a search pattern, substitution, or transliteration. \u2026 If the right argument is an expression rather than a search pattern, substitution, or transliteration, it is interpreted as a search pattern at run time. Note that this means that its contents will be interpolated twice.</p>\n</blockquote>\n\n<p>The right hand side of the <code>=~</code> is expected to be a regular expression.</p>\n\n<p>If you put a string there, it will be converted to a regular expression.</p>\n\n<p>So when you say:</p>\n\n<blockquote>\n<pre><code>if (\"\\\\\" =~ \"\\\\\") {\n    print \"true\\n\";\n}\n</code></pre>\n</blockquote>\n\n<p>You get:</p>\n\n<blockquote>\n  <p>Trailing \\ in regex m// </p>\n</blockquote>\n\n<p>The literal <code>\\\\</code> is converted to the string <code>\\</code> which is converted to regex <code>\\</code> (because a <code>\\</code> followed by the end is still a <code>\\</code>).</p>\n\n<p>This isn't a valid regex, so you get an error. I don't understand why you think <em>In this case it work and prints true as expected.</em></p>\n\n<p>In the second case the literal <code>DATA\\\\DATA</code> is converted to the string <code>DATA\\DATA</code> which is converted to regex <code>DATA[^0-9]ATA</code>. This doesn't match <code>DATA\\DATA</code> because you have two characters where it expects only one not-a-number.</p>\n\n<hr>\n\n<p>If you are going to use <code>=~</code> then put a real regular expression on the RHS. It is much simpler.</p>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1481477554, "post_id": 41087259, "comment_id": 69382861, "body": "Very good explanation. I recently had a <a href=\"http://stackoverflow.com/q/39498206/5830574\">related question</a> and this is a perfect addition."}, {"owner": {"reputation": 11, "user_id": 3920773, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003105931192/picture?type=large", "display_name": "Tuan Anh Hoang", "link": "https://stackoverflow.com/users/3920773/tuan-anh-hoang"}, "edited": false, "score": 0, "creation_date": 1481514264, "post_id": 41087259, "comment_id": 69392627, "body": "At the first time, I think exactly the way you are right now. We must use &quot;\\\\\\\\&quot; in stead of &quot;\\\\&quot;. However, it is confused that my first code still work in my computer and my second code still does not work although I use &quot;\\\\\\\\&quot;."}, {"owner": {"reputation": 11, "user_id": 3920773, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003105931192/picture?type=large", "display_name": "Tuan Anh Hoang", "link": "https://stackoverflow.com/users/3920773/tuan-anh-hoang"}, "edited": false, "score": 0, "creation_date": 1481521729, "post_id": 41087259, "comment_id": 69394382, "body": "if (&quot;DATA\\\\\\\\DATA&quot; =~ &quot;DATA\\\\\\\\DATA&quot;) {         print  &quot;1\\n&quot;; } In this case it does not print <code>1</code>.In case of my first code, It is my mistake. It get the error as you said before. PS: Sorry I dont have any idea for a line beak in here"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 11, "user_id": 3920773, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003105931192/picture?type=large", "display_name": "Tuan Anh Hoang", "link": "https://stackoverflow.com/users/3920773/tuan-anh-hoang"}, "edited": false, "score": 1, "creation_date": 1481561927, "post_id": 41087259, "comment_id": 69415684, "body": "@TuanAnhHoang You have to use the 4 backslashes only in the regex (on the right), not in the string (on the left), thus: <code>if (&quot;DATA\\\\DATA&quot; =~ &quot;DATA\\\\\\\\DATA&quot;) { print &quot;1\\n&quot;; }</code> prints &#39;&#39;1&#39;&#39;."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 7, "last_activity_date": 1481466726, "creation_date": 1481466726, "answer_id": 41087259, "question_id": 41086918, "link": "https://stackoverflow.com/questions/41086918/matching-a-string-which-contain-character/41087259#41087259", "title": "Matching a string which contain &quot;\\&quot; character", "body": "<p>When I try your first code, I actually get this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Trailing \\ in regex m/\\/ at foo.pl line 1.\n</code></pre>\n\n<p>That's a hint as to what the problem is.</p>\n\n<p>The <code>=~</code> operator can take several forms. Usually it's <code>$str =~ tr/.../.../</code> for a transliteration, <code>$str =~ s/.../.../</code> for a regex search/replace, or <code>$str =~ m/.../</code> for a plain regex match.</p>\n\n<p>Your code uses none of these. Instead it uses the general <code>$str =~ EXPR</code> form, which evaluates EXPR as a string, then interprets the contents of that string as a regex (and performs a normal match as with <code>m//</code>).</p>\n\n<p>In your case (code 1), the resulting string consists of a single backslash: <code>\\</code>. This is not a valid regex because in a regex, a backslash must be followed by something. That's why the above error occurs.</p>\n\n<p>In your other example (code 2), the resulting string is <code>DATA\\DATA</code>. When interpreted as a regex, this matches <code>DATA</code>, followed by a non-digit character (that's what <code>\\D</code> means in a regex), followed by <code>ATA</code>.</p>\n\n<p>To fix this, you can either double all your backslashes (<code>\"DATA\\\\\\\\DATA\"</code> - string processing turns this into <code>DATA\\\\DATA</code>, which is the regex for matching the literal string <code>DATA\\DATA</code>), or simply not use strings in the first place:</p>\n\n<pre><code>if (\"DATA\\\\DATA\" =~ m/DATA\\\\DATA/) {\n    print \"yay\\n\";\n}\n</code></pre>\n\n<p>When you use <code>m//</code>, Perl knows that you're writing a regex and so you don't have to deal with string escapes on top of regex escapes.</p>\n"}], "owner": {"reputation": 11, "user_id": 3920773, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003105931192/picture?type=large", "display_name": "Tuan Anh Hoang", "link": "https://stackoverflow.com/users/3920773/tuan-anh-hoang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1481490742, "creation_date": 1481464381, "last_edit_date": 1481479633, "question_id": 41086918, "link": "https://stackoverflow.com/questions/41086918/matching-a-string-which-contain-character", "title": "Matching a string which contain &quot;\\&quot; character", "body": "<p>I am trying to match a string that contains a <code>\\</code> character but it does not work as expected.</p>\n\n<p>For example:</p>\n\n<pre><code>if (\"\\\\\" =~ \"\\\\\") {\n    print \"true\\n\";\n}\n</code></pre>\n\n<p>In this case it work and prints <code>true</code> as expected.</p>\n\n<p>However in case I put more characters before and after the <code>\\</code> character, the condition becomes false and it does not print anything on the standard output</p>\n\n<pre><code>if (\"DATA\\\\DATA\" =~ \"DATA\\\\DATA\") {\n    print \"true\\n\";\n}\n</code></pre>\n\n<p>Although the <code>if</code> condition is still true if I put characters on 1 side of the <code>\\</code> character (<code>DATA\\\\</code> or <code>\\\\DATA</code>).</p>\n"}, {"tags": ["perl", "perl-module", "autoflush"], "answers": [{"comments": [{"owner": {"reputation": 5667, "user_id": 784669, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2fa0d64ff94bb8f99068c033a9f6fa7?s=128&d=identicon&r=PG", "display_name": "josch", "link": "https://stackoverflow.com/users/784669/josch"}, "edited": false, "score": 0, "creation_date": 1481455653, "post_id": 41085296, "comment_id": 69376599, "body": "That traditional way is incredibly cryptic! Thanks for your answer - it not only explains the matter in full but also points to the right documentation. I now know that in my own code I will instead use <code>HANDLE-&gt;autoflush(1)</code> for readability."}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 2, "last_activity_date": 1481452900, "creation_date": 1481452900, "answer_id": 41085296, "question_id": 41085039, "link": "https://stackoverflow.com/questions/41085039/how-does-ipcopen3-enable-autoflush-for-chld-in/41085296#41085296", "title": "How does IPC::Open3 enable autoflush for CHLD_IN", "body": "<p>Buffering is disabled with the following line</p>\n\n<pre><code>select((select($handles[0]{parent}), $| = 1)[0]); # unbuffer pipe\n</code></pre>\n\n<p>which could be rewritten as</p>\n\n<pre><code>my $old_fh = select($handles[0]{parent});\n$| = 1;\nselect($old_fh);\n</code></pre>\n\n<p>The traditional way to disable output buffering in Perl is via the <code>$|</code> variable. From <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\"><code>man perlvar</code></a>:</p>\n\n<blockquote>\n  <ul>\n  <li>HANDLE->autoflush( EXPR )</li>\n  <li>$OUTPUT_AUTOFLUSH</li>\n  <li>$|</li>\n  </ul>\n  \n  <p>If set to nonzero, forces a flush right away and after every write or print on the currently selected output channel. Default is 0 (regardless of whether the channel is really buffered by the system or not; $| tells you only whether you've asked Perl explicitly to flush after each write). STDOUT will typically be line buffered if output is to the terminal and block buffered otherwise. Setting this variable is useful primarily when you are outputting to a pipe or socket, such as when you are running a Perl program under rsh and want to see the output as it's happening. This has no effect on input buffering. See getc for that. See select on how to select the output channel. See also IO::Handle.</p>\n  \n  <p>Mnemonic: when you want your pipes to be piping hot.</p>\n</blockquote>\n\n<p>Setting <code>$|</code> acts on \"the currently selected output channel\" which is set with the one-argument form of <a href=\"http://perldoc.perl.org/functions/select.html\" rel=\"nofollow noreferrer\"><code>select</code></a>.</p>\n"}], "owner": {"reputation": 5667, "user_id": 784669, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2fa0d64ff94bb8f99068c033a9f6fa7?s=128&d=identicon&r=PG", "display_name": "josch", "link": "https://stackoverflow.com/users/784669/josch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 41085296, "answer_count": 1, "score": 1, "last_activity_date": 1481452900, "creation_date": 1481450848, "question_id": 41085039, "link": "https://stackoverflow.com/questions/41085039/how-does-ipcopen3-enable-autoflush-for-chld-in", "title": "How does IPC::Open3 enable autoflush for CHLD_IN", "body": "<p>The documentation for <a href=\"http://search.cpan.org/~rjbs/perl-5.24.0/ext/IPC-Open3/lib/IPC/Open3.pm\" rel=\"nofollow noreferrer\">IPC::Open3</a> states:</p>\n\n<pre><code>The CHLD_IN will have autoflush turned on\n</code></pre>\n\n<p>But nothing in the <a href=\"http://cpansearch.perl.org/src/RJBS/perl-5.24.0/ext/IPC-Open3/lib/IPC/Open3.pm\" rel=\"nofollow noreferrer\">source code</a> mentions <code>IO::Handle::autoflush</code>. What mechanism does the module use to turn on autoflush for <code>CHLD_IN</code>?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1481447233, "post_id": 41084475, "comment_id": 69374672, "body": "<code>$ARCH_CODES{$arch_}</code> is a hash reference which contains the value =&gt; <code>{id  =&gt; 102, desc =&gt; &quot;aaaaaa&quot;}</code> and you could use <code>my $arch = @_</code> to get the hash reference and then access this hash reference like <code>foreach my $keys ( keys %$arch )</code>"}, {"owner": {"reputation": 5023, "user_id": 3021358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/xI263.png?s=128&g=1", "display_name": "snaggs", "link": "https://stackoverflow.com/users/3021358/snaggs"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1481447323, "post_id": 41084475, "comment_id": 69374687, "body": "@AbhiNickz but in this case I cannot use <code>af_exit($ARCH_CODES{$arch});</code>"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1481448337, "post_id": 41084475, "comment_id": 69374924, "body": "You can use <code>af_exit($arch);</code> which will send the <code>hash</code> reference to the sub and then you can use that again like <code>my $_error = @_;</code>"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481468303, "post_id": 41084475, "comment_id": 69379929, "body": "Change <code>my %_error = @_;</code> to <code>my %_error = %{$_[0]};</code>"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481449902, "post_id": 41084536, "comment_id": 69375254, "body": "@snaggs I edited the answer (adding two other ways), please let me know if more would be helpful."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1481535818, "last_edit_date": 1481535818, "creation_date": 1481447055, "answer_id": 41084536, "question_id": 41084475, "link": "https://stackoverflow.com/questions/41084475/hash-inside-hash-fails-to-fetch-data/41084536#41084536", "title": "hash inside hash, fails to fetch data", "body": "<p>The function <code>foo</code> is getting a hashref</p>\n\n<pre><code>foo( $ARCH_CODES{$arch_} );\n</code></pre>\n\n<p>since values of <code>%ARCH_CODES</code> are hash references, while it expects a hash</p>\n\n<pre><code>sub foo\n{\n    my %arch = @_;\n    # ...\n}\n</code></pre>\n\n<p>So you are attempting to assign a list with a single scalar (hashref) to a hash.  For this you'd get a warning <code>Odd number of elements in hash assignment</code> if you had warnings on, which would directly lead you to the error.</p>\n\n<p>Change <code>foo</code> so that it takes that scalar</p>\n\n<pre><code>my ($rarch) = @_;\n</code></pre>\n\n<p>and then either use the reference <code>$rarch</code>, or make a new hash in the sub, <code>my %arch = %$rarch</code>, and keep the rest of the function's code unchanged.</p>\n\n<p>Or you can pass the hash to the function, <code>foo( %{$ARCH_CODES{$arch_}} )</code> and the rest of the code stays as it is. In general, I prefer to pass long lists and complex data structures by reference. </p>\n\n<p>When you work with the reference (<code>$rarch</code>) any changes to it change the data it is the reference of. This allows us to change caller's data efficiently. On the other hand, when you de-reference it in the sub you get a local copy. This is safer since accidental changes to it (errors) cannot affect the caller. </p>\n\n<p>Please <em>always</em> <code>use warnings;</code></p>\n\n<hr>\n\n<p>The same error is repeated when you call <code>af_exit</code>, passing it a hashref</p>\n\n<pre><code>af_exit($ARCH_CODES{$arch});\n</code></pre>\n\n<p>while it expects a hash</p>\n\n<pre><code>sub af_exit\n{\n     my %_error = @_;\n</code></pre>\n\n<p>Correct it the same way as above.</p>\n"}, {"tags": [], "owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "is_accepted": false, "score": 1, "last_activity_date": 1481506012, "last_edit_date": 1481506012, "creation_date": 1481496364, "answer_id": 41091997, "question_id": 41084475, "link": "https://stackoverflow.com/questions/41084475/hash-inside-hash-fails-to-fetch-data/41091997#41091997", "title": "hash inside hash, fails to fetch data", "body": "<p>Here is a similar way using pass by reference. Hope you find it useful.</p>\n\n<p>A couple of points:</p>\n\n<ol>\n<li>In your foreach loop and sub foo, you are passing a scalar and not a hash reference.</li>\n<li>You can also use shift to receive input at the subroutine and then de-reference the variable to retrieve the value.</li>\n</ol>\n\n<p>In the sample code below, in subroutine foo, I am performing dummy operation to pass the hash map to af_exit, only when id is either 102 or 104, just as an example. </p>\n\n<p>Here I have turned off the Data::Dumper output and I am also not printing the reference type of value being received by the subroutines. We will see that later.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict ;\nuse warnings  ;\nuse Data::Dumper ;\n\nmy %ARCH_CODES = (\n    armv7  =&gt; {id  =&gt; 102, desc =&gt; \"aaaaaa\"},\n    i386   =&gt; {id  =&gt; 103, desc =&gt; \"bbbbbb\"},\n    x86_64 =&gt; {id  =&gt; 104, desc =&gt; \"cccccc\"},\n    arm64  =&gt; {id  =&gt; 105, desc =&gt; \"dddddd\"}\n);\n\nsub af_exit\n{\n        my $error = shift ;\n        my $ref = ref $error ;\n        #print \"af_exit got variable which is of type $ref. Below is the Data Dumper output\\n\" ;\n        #print Dumper $error ;\n        print \"${$error}{'id'}\\n\" ;\n        #exit($$error{'id'});\n        print \"af_exit will perform exit on \\[$$error{'id'}\\]\\n\" ;\n}\n\nsub foo\n{\n        my $arch = shift ;\n        my $ref = ref $arch ;\n        #print \"af_exit got variable which is of type $ref. Below is the Data Dumper output\\n\" ;\n        #print Dumper $arch ;\n        #my $res = runCommand(\"file zzz | grep \\\"$arch{id})\\\"\");\n        if ($$arch{id} == 102 || $$arch{id} == 104)\n        {\n\n                af_exit(\\%$arch);\n        }\n}\n\nfor my $arch_ (keys %ARCH_CODES)\n{\n       foo(\\%{$ARCH_CODES{$arch_}}) ;\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>%_04:04:54|root@[goat]:/home/ec2-user/cpp/study/temp&gt; ./test\n104\naf_exit will perform exit on [104]\n102\naf_exit will perform exit on [102]\n%_04:04:56|root@[goat]:/home/ec2-user/cpp/study/temp&gt;\n</code></pre>\n\n<p>You can always use Data::Dumper and ref to show you exactly what is being passed around. See the Result below again with the Dumper and reference output on.</p>\n\n<pre><code>%_04:09:19|root@[goat]:/home/ec2-user/cpp/study/temp&gt; ./test\naf_exit got variable which is of type HASH. Below is the Data Dumper output\n$VAR1 = {\n          'desc' =&gt; 'cccccc',\n          'id' =&gt; 104\n        };\naf_exit got variable which is of type HASH. Below is the Data Dumper output\n$VAR1 = {\n          'desc' =&gt; 'cccccc',\n          'id' =&gt; 104\n        };\n104\naf_exit will perform exit on [104]\naf_exit got variable which is of type HASH. Below is the Data Dumper output\n$VAR1 = {\n          'desc' =&gt; 'dddddd',\n          'id' =&gt; 105\n        };\naf_exit got variable which is of type HASH. Below is the Data Dumper output\n$VAR1 = {\n          'desc' =&gt; 'aaaaaa',\n          'id' =&gt; 102\n        };\naf_exit got variable which is of type HASH. Below is the Data Dumper output\n$VAR1 = {\n          'desc' =&gt; 'aaaaaa',\n          'id' =&gt; 102\n        };\n102\naf_exit will perform exit on [102]\naf_exit got variable which is of type HASH. Below is the Data Dumper output\n$VAR1 = {\n          'desc' =&gt; 'bbbbbb',\n          'id' =&gt; 103\n        };\n%_04:09:21|root@[goat]:/home/ec2-user/cpp/study/temp&gt;\n</code></pre>\n"}], "owner": {"reputation": 5023, "user_id": 3021358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/xI263.png?s=128&g=1", "display_name": "snaggs", "link": "https://stackoverflow.com/users/3021358/snaggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 41084536, "answer_count": 2, "score": 0, "last_activity_date": 1481535818, "creation_date": 1481446636, "last_edit_date": 1495540384, "question_id": 41084475, "link": "https://stackoverflow.com/questions/41084475/hash-inside-hash-fails-to-fetch-data", "title": "hash inside hash, fails to fetch data", "body": "<p>I try to iterate through hash that contains other hashes.</p>\n\n<p>I get error:</p>\n\n<blockquote>\n  <p>Global symbol \"%arch_\" requires explicit package name</p>\n</blockquote>\n\n<p>Here is a code:</p>\n\n<pre><code>my %ARCH_CODES = (\n    armv7  =&gt; {id  =&gt; 102, desc =&gt; \"aaaaaa\"},\n    i386   =&gt; {id  =&gt; 103, desc =&gt; \"bbbbbb\"},\n    x86_64 =&gt; {id  =&gt; 104, desc =&gt; \"cccccc\"},\n    arm64  =&gt; {id  =&gt; 105, desc =&gt; \"dddddd\"}\n);\n\nsub af_exit\n{\n    my %_error = @_;\n    writeLogAndPrint($_error{'id'});\n    exit($_error{'id'});\n}\n</code></pre>\n\n<p>So I want to run in loop on <code>armv7</code>, <code>i386</code> and so on and send hash map to <code>af_exit</code></p>\n\n<pre><code>for my $arch_ (keys %ARCH_CODES) {\n       foo($ARCH_CODES{$arch_}); \n       # tried foo(%{ $ARCH_CODES{$arch_} } ) \n    } \n</code></pre>\n\n<p>The problem happens in <code>foo</code> method:</p>\n\n<pre><code>sub foo\n{\n   my %arch = @_; # here I get an ERROR: Global symbol \"%arch_\" requires explicit package name\n     my $res = runCommand(\"file zzz | grep \\\"$arch{id})\\\"\");\n     af_exit($ARCH_CODES{$arch});\n   }\n}\n</code></pre>\n\n<p>The second problem is <code>af_exit</code> should receive <strong>hash</strong> so I need somehow convert <code>$ARCH_CODES{$arch}</code> to hash and not scalar</p>\n\n<p>I tried to make similar to <a href=\"https://stackoverflow.com/questions/17036955/perlaccess-values-of-hash-inside-a-hash\">this answer: Perl:Access values of hash inside a hash</a> but get the same error</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["mysql", "perl", "bugzilla"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481394621, "post_id": 41078803, "comment_id": 69363917, "body": "What is <b>odel</b> in your subject line? It doesn&#39;t appear anywhere else."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481395068, "post_id": 41078803, "comment_id": 69364077, "body": "The cause is clearly <b><i>Can&#39;t exec &quot;mysql_config&quot;: No such file or directory at Makefile.PL line 88</i></b> This is the sort of thing that happens if a module has been copied into place instead of being installed. You could try using <code>cpan</code> to install <code>DBD::mysql</code>, but it looks like your perl installation is awry and there isn&#39;t a simple fix. What changes did you make before trying to install BugZilla?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481395136, "post_id": 41078803, "comment_id": 69364106, "body": "Sounds like you don&#39;t have the mysql dev files installed"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481395535, "post_id": 41078803, "comment_id": 69364243, "body": "Is there a reason why you chose <code>&#47;usr&#47;bin&#47;perl install-module.pl DBD::mysql</code>? I don&#39;t know about BugZilla&#39;s <code>install-module.pl</code>, but I can&#39;t imagine a reason why you should use a non-standard installation procedure, especially for a driver module for the main <code>DBI</code> module. If you think you are following a list of instructions from somewhere then please will you give us a hyperlink to those instructions on line?"}, {"owner": {"reputation": 53, "user_id": 1947499, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NxHUhIozcWA/AAAAAAAAAAI/AAAAAAAAABY/vJeHPaMIpCk/photo.jpg?sz=128", "display_name": "Dominic Harvey", "link": "https://stackoverflow.com/users/1947499/dominic-harvey"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481398076, "post_id": 41078803, "comment_id": 69365035, "body": "@Borodin - this was a typo.  I corrected the title.  tks."}, {"owner": {"reputation": 53, "user_id": 1947499, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NxHUhIozcWA/AAAAAAAAAAI/AAAAAAAAABY/vJeHPaMIpCk/photo.jpg?sz=128", "display_name": "Dominic Harvey", "link": "https://stackoverflow.com/users/1947499/dominic-harvey"}, "edited": false, "score": 0, "creation_date": 1481398254, "post_id": 41078803, "comment_id": 69365098, "body": "I chosed &quot;/usr/bin/perl install-module.pl DBD::mysql&quot; because my ubuntu server is running Mysql.  This command line is in fact 1 of the 4 proposed by the checksetup.pl.  I did not make any change to the server beside installing a few pacakages, but with very litle config.  The initial purpose was to have a lamp server with PHP."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 4582302, "user_type": "registered", "profile_image": "https://graph.facebook.com/648993938562538/picture?type=large", "display_name": "Kailash ", "link": "https://stackoverflow.com/users/4582302/kailash"}, "edited": false, "score": 0, "creation_date": 1492588762, "post_id": 41079545, "comment_id": 74034418, "body": "Saved my time. Thanks :)"}], "tags": [], "owner": {"reputation": 53, "user_id": 1947499, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NxHUhIozcWA/AAAAAAAAAAI/AAAAAAAAABY/vJeHPaMIpCk/photo.jpg?sz=128", "display_name": "Dominic Harvey", "link": "https://stackoverflow.com/users/1947499/dominic-harvey"}, "is_accepted": false, "score": 1, "last_activity_date": 1481399320, "last_edit_date": 1481399320, "creation_date": 1481399017, "answer_id": 41079545, "question_id": 41078803, "link": "https://stackoverflow.com/questions/41078803/error-when-installing-usr-bin-perl-install-module-pl-dbdmysql-for-bugzilla/41079545#41079545", "title": "Error when installing usr/bin/perl install-module.pl DBD::mysql for Bugzilla", "body": "<p>After reading @Borodin's comment, I issued:</p>\n\n<blockquote>\n  <p>$ sudo apt-get install libdbd-mysql-perl</p>\n</blockquote>\n\n<p>and the <code>$ ./checksetup.pl --check-modules</code> no longer report any errors.</p>\n\n<p>(Many thanks @Borodin for the hint :-) </p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 4786342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e2a72e3d50328c8b9485ee7a3ff5780?s=128&d=identicon&r=PG&f=1", "display_name": "Hema Rajgariya", "link": "https://stackoverflow.com/users/4786342/hema-rajgariya"}, "is_accepted": false, "score": 0, "last_activity_date": 1487573237, "last_edit_date": 1487573237, "creation_date": 1487571749, "answer_id": 42337760, "question_id": 41078803, "link": "https://stackoverflow.com/questions/41078803/error-when-installing-usr-bin-perl-install-module-pl-dbdmysql-for-bugzilla/42337760#42337760", "title": "Error when installing usr/bin/perl install-module.pl DBD::mysql for Bugzilla", "body": "<p>I was having the same issue while trying to install bugzilla,</p>\n\n<p>Assumed that you have bugzilla in directory <code>var/www/html</code></p>\n\n<p>What i did was</p>\n\n<p>Just go to the directory : <code>var/www/html/bugzilla</code> and execute command:</p>\n\n\n\n<pre><code>perl install-module.pl --all\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 1947499, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NxHUhIozcWA/AAAAAAAAAAI/AAAAAAAAABY/vJeHPaMIpCk/photo.jpg?sz=128", "display_name": "Dominic Harvey", "link": "https://stackoverflow.com/users/1947499/dominic-harvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7777, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1487573237, "creation_date": 1481394168, "last_edit_date": 1481398317, "question_id": 41078803, "link": "https://stackoverflow.com/questions/41078803/error-when-installing-usr-bin-perl-install-module-pl-dbdmysql-for-bugzilla", "title": "Error when installing usr/bin/perl install-module.pl DBD::mysql for Bugzilla", "body": "<p>Bugzilla ./checksetup.pl report: </p>\n\n<blockquote>\n  <p>YOU MUST RUN ONE OF THE FOLLOWING COMMANDS (depending on which database you use):  </p>\n  \n  <p>SQLite: /usr/bin/perl install-module.pl DBD::SQLite<br>\n  MySQL: /usr/bin/perl install-module.pl DBD::mysql\n  PostgreSQL: /usr/bin/perl install-module.pl DBD::Pg<br>\n  Oracle: /usr/bin/perl install-module.pl DBD::Oracle  </p>\n</blockquote>\n\n<p>Here is the output of</p>\n\n<pre><code>$ /usr/bin/perl install-module.pl DBD::mysql\n</code></pre>\n\n<blockquote>\n  <p>Checking for CPAN (v1.81)     ok: found v2.11<br>\n  Checking for YAML (any)       ok: found v1.20<br>\n  Checking for  ExtUtils-MakeMaker (v6.31)     ok: found v7.0401<br>\n  Reading '/root/.cpan/Metadata'<br>\n  Database was generated on Sat, 10 Dec 2016 15:17:02 GMT<br>\n  Installing DBD::mysql version 4.041...<br>\n  Running install for module 'DBD::mysql'<br>\n  Checksum for /root/.cpan/source/authors/id/M/MI/MICHIELB/DBD-mysql-4.041.tar.gz ok<br>\n  Configuring M/MI/MICHIELB/DBD-mysql-4.041.tar.gz with Makefile.PL<br>\n  Can't exec \"mysql_config\": No such file or directory at Makefile.PL line 88.  </p>\n  \n  <p>Cannot find the file 'mysql_config'! Your execution PATH doesn't seem not contain the path to mysql_config. Resorting to guessed values!</p>\n  \n  <p>PLEASE NOTE:</p>\n  \n  <p>For 'make test' to run properly, you must ensure that the database\n  user 'root' can connect to your MySQL server and has the proper\n  privileges that these tests require such as 'drop table', 'create\n  table', 'drop procedure', 'create procedure' as well as others.</p>\n  \n  <p>mysql> grant all privileges on test.* to 'root'@'localhost' identified\n  by 's3kr1t';</p>\n  \n  <p>You can also optionally set the user to run 'make test' with:</p>\n  \n  <p>perl Makefile.PL --testuser=username</p>\n  \n  <p>Can't exec \"mysql_config\": No such file or directory at Makefile.PL\n  line 561. Can't find mysql_config. Use --mysql_config option to\n  specify where mysql_config is located Failed to determine directory of\n  mysql.h. Use</p>\n  \n  <p>perl Makefile.PL --cflags=-I</p>\n  \n  <p>to set this directory. For details see DBD::mysql::INSTALL, section \"C\n  Compiler flags\" or type</p>\n  \n  <p>perl Makefile.PL --help Warning: No success on command[/usr/bin/perl<br>\n  Makefile.PL INSTALLDIRS=site LIB=\"/var/www/bugzilla/lib\"<br>\n  INSTALLMAN1DIR=\"/var/www/bugzilla/lib/man/man1\"<br>\n  INSTALLMAN3DIR=\"/var/www/bugzilla/lib/man/man3\"<br>\n  INSTALLBIN=\"/var/www/bugzilla/lib/bin\"<br>\n  INSTALLSCRIPT=\"/var/www/bugzilla/lib/bin\" INSTALLDIRS=perl]<br>\n  MICHIELB/DBD-mysql-4.041.tar.gz   /usr/bin/perl Makefile.PL<br>\n  INSTALLDIRS=site LIB=\"/var/www/bugzilla/lib\"<br>\n  INSTALLMAN1DIR=\"/var/www/bugzilla/lib/man/man1\"<br>\n  INSTALLMAN3DIR=\"/var/www/bugzilla/lib/man/man3\"<br>\n  INSTALLBIN=\"/var/www/bugzilla/lib/bin\"<br>\n  INSTALLSCRIPT=\"/var/www/bugzilla/lib/bin\" INSTALLDIRS=perl -- NOT OK  </p>\n</blockquote>\n\n<p>When trying</p>\n\n<pre><code>$ /usr/bin/perl install-module.pl DBD::mysql --mysql_config /etc/mysql/mysql.conf.d\n</code></pre>\n\n<p>This error is reported</p>\n\n<blockquote>\n  <p>There is no Perl module on CPAN named /etc/mysql/mysql.conf.d/usr/bin/perl</p>\n</blockquote>\n\n<p>Here are the details of the system I am working with</p>\n\n<h3>Linux</h3>\n\n<blockquote>\n  <p>Ubuntu 16.04.1 LTS  </p>\n</blockquote>\n\n<h3>Apache:</h3>\n\n<blockquote>\n  <p>Server version: Apache/2.4.18 (Ubuntu)<br>\n  Server built:   2016-07-14T12:32:26  </p>\n</blockquote>\n\n<h3>MySQL:</h3>\n\n<blockquote>\n  <p>Ver 14.14 Distrib 5.7.16, for Linux (x86_64) using  EditLine wrapper  </p>\n</blockquote>\n\n<h3>Perl:</h3>\n\n<blockquote>\n  <p>perl 5, version 22, subversion 1 (v5.22.1) built for x86_64-linux-gnu-thread-multi   </p>\n</blockquote>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "edited": false, "score": 2, "creation_date": 1481384009, "post_id": 41077067, "comment_id": 69360622, "body": "Where is your attempt at replacing a character? All I see is testing if an input line matches a very specific case. Do all lines start with <code>m160505_031746_42156_c100980652550000001823221307061611_s1_p&zwnj;&#8203;0_</code> ? If not, why are you testing for that?"}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1481384095, "post_id": 41077067, "comment_id": 69360649, "body": "All lines start with m160505_031746_42156_c100980652550000001823221307061611_s1_p&zwnj;&#8203;\u200c\u200b0_. I am only interested in changing the last underscore of the match. There are more underscores outside of the end of the match that I don&#39;t need changed. I have shown my attempt at replacing the character in the OP."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1481384392, "post_id": 41077067, "comment_id": 69360740, "body": "<code>s#_p0_#_p0&#47;#</code> should be all you need..."}, {"owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "edited": false, "score": 0, "creation_date": 1481386499, "post_id": 41077067, "comment_id": 69361353, "body": "I am still a student and trying to learn. I am not able yet to answer questions. I have tried to use the substitution s// regex modifier, as shown in my post. I have also tried to make a substring of the match to substitute the &quot;_&quot; for &quot;/&quot; ie substr($line, 62, 1) = &quot;/&quot; but that doesn&#39;t work. I have searched stackoverflow and other websites."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1481391654, "post_id": 41077067, "comment_id": 69362952, "body": "I&#39;d actually suggest that <code>split &#47;_&#47;</code> was a better choice here."}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481399517, "post_id": 41077866, "comment_id": 69365483, "body": "@Borodin It&#39;s a judgment call. Sometimes you get beginners who try to make sense of the documentation and they get nowhere. They just have to see a (commented) example to understand what&#39;s going on. For example, the <code>s&#47;&#47;&#47;</code> code in the question almost makes sense, it just tries to use a regex on the right-hand side (parens and <code>[0-9]*</code>), which is simply not how it works. I posted my answer hoping to help someone achieve understanding (I love light-bulb moments), not for points."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 0, "last_activity_date": 1481388356, "creation_date": 1481388356, "answer_id": 41077866, "question_id": 41077067, "link": "https://stackoverflow.com/questions/41077067/replacing-a-single-character-in-a-perl-regex-match/41077866#41077866", "title": "Replacing a single character in a perl regex match", "body": "<p>From your description, the easiest way is:</p>\n\n<pre><code>$line =~ s!(m160505_031746_42156_c100980652550000001823221307061611_s1_p\u200c\u200b\u200c\u200b0)_!$1/!\n</code></pre>\n\n<p>I've chosen <code>!</code> as the delimiter because <code>/</code> is used in the replacement part.</p>\n\n<p><code>$1</code> is a variable containing the text matched by the first <code>(</code> <code>)</code> group in the regex (I didn't want to repeat the whole thing twice).</p>\n\n<p>The final <code>_</code> is not included in <code>$1</code> (it's outside of the parens); instead we put <code>/</code> in the replacement part.</p>\n\n<p>See <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\"><code>perldoc perlretut</code></a> for more information.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1481400298, "creation_date": 1481400298, "answer_id": 41079755, "question_id": 41077067, "link": "https://stackoverflow.com/questions/41077067/replacing-a-single-character-in-a-perl-regex-match/41079755#41079755", "title": "Replacing a single character in a perl regex match", "body": "<p>This Perl code will do what I think you need, determined from your subject line and example output</p>\n\n<p>It finds the sixth occurrence of an underscore in the target string and, if that underscore is followed by decimal digits, it changes the underscore to a slash and removes everything following the digits</p>\n\n<p>I have used the pipe character <code>|</code> as the delimiter for the substitute operator <code>s///</code> to avoid the need to escape forward slashes</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $path = q{/Users/rob/Documents/Test/m160505_031746_42156_c100980652550000001823221307061611_s1_p0_30_0_59.fsa};\n\n$path =~ s|^(?:[^_]*_){5}[^_]*\\K_(\\d+).*|/$1|s;\n\nprint $path, \"\\n\";\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>/Users/rob/Documents/Test/m160505_031746_42156_c100980652550000001823221307061611_s1_p0/30\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 5880355, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b78c85bb76849376873b8e1556d3000d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/5880355/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 41077866, "answer_count": 2, "score": -2, "last_activity_date": 1481400298, "creation_date": 1481383306, "last_edit_date": 1481386252, "question_id": 41077067, "link": "https://stackoverflow.com/questions/41077067/replacing-a-single-character-in-a-perl-regex-match", "title": "Replacing a single character in a perl regex match", "body": "<p>How can I replace the 6th \"_\" that appears in the regex match? </p>\n\n<p>Here is the literal input to be searched. It is not representing a path to the input: </p>\n\n<pre><code>/Users/rob/Documents/Test/m160505_031746_42156_c100980652550000001823221307061611_s1_p0_30_0_59.fsa \n</code></pre>\n\n<p>Here is my code, which parses out what I need. I just now need to replace the last matched \"_\" with a \"/\": </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen(IN, '&lt;', '/Users/roblogan/Test_Database.txt') or die $!;\nopen(OUT, '&gt;', '/Users/roblogan/Test_Output.txt') or die $!;\n\nwhile (my $line = &lt;IN&gt;){\n        if ($line =~ m/(m160505_031746_42156_c100980652550000001823221307061611_s1_p0_[0-9]*)/){\n            print OUT $1, \"\\n\";\n        }\n}  \n</code></pre>\n\n<p>Current output: </p>\n\n<pre><code>m160505_031746_42156_c100980652550000001823221307061611_s1_p0_30 \n</code></pre>\n\n<p>Desired output: </p>\n\n<pre><code>m160505_031746_42156_c100980652550000001823221307061611_s1_p0/30  \n</code></pre>\n\n<p>I have tried: </p>\n\n<pre><code>if ($line =~ s/(m160505_031746_42156_c100980652550000001823221307061611_s1_p0_[0-9]*)/(m160505_031746_42156_c100980652550000001823221307061611_s1_p0\\/[0-9]*)/){ \n</code></pre>\n\n<p>Any help would be appreciated. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1481382518, "post_id": 41076297, "comment_id": 69360226, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/12155607/iterate-through-array-of-hashes-in-a-hash-in-perl\">Iterate through Array of Hashes in a Hash in Perl</a>"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1481380070, "post_id": 41076513, "comment_id": 69359496, "body": "Using <code>each</code> is generally not recommended because it uses iterator state stored in the hash itself. This can lead to weird action-at-a-distance bugs."}], "tags": [], "owner": {"reputation": 1320, "user_id": 443908, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0e078ee5805b1ac13352393e82190e84?s=128&d=identicon&r=PG", "display_name": "badperson", "link": "https://stackoverflow.com/users/443908/badperson"}, "is_accepted": false, "score": 0, "last_activity_date": 1481379635, "last_edit_date": 1481379635, "creation_date": 1481379245, "answer_id": 41076513, "question_id": 41076297, "link": "https://stackoverflow.com/questions/41076297/perl-print-object-property-names-and-values/41076513#41076513", "title": "perl: Print object property names and values", "body": "<p>you can try this:</p>\n\n<pre><code>my $z = {\n      'activity' =&gt; 'walking',\n      'duration' =&gt; '591',\n      'calories' =&gt; 26,\n      'distance' =&gt; '435',\n      'steps' =&gt; 871,\n      'group' =&gt; 'walking'\n    };\n\n\nwhile((my $key, my $value) = each (%{$z})){\n    print \"key : $key -&gt; value : $value\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 4, "last_activity_date": 1481380243, "creation_date": 1481380243, "answer_id": 41076649, "question_id": 41076297, "link": "https://stackoverflow.com/questions/41076297/perl-print-object-property-names-and-values/41076649#41076649", "title": "perl: Print object property names and values", "body": "<p>Here's one way:</p>\n\n<pre><code>for my $z (@$y) {\n    for my $k (keys %$z) {\n        print \"$k: $z-&gt;{$k}\\n\";\n    }\n}\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow noreferrer\"><code>perldoc -f keys</code></a> for more information about <code>keys</code>; <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\"><code>perldoc perldata</code></a> for general information about hashes (because your <code>$z</code> values are hash references, not objects); <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\"><code>perldoc perlreftut</code></a> for references and nested data structures.</p>\n"}], "owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2685, "favorite_count": 0, "accepted_answer_id": 41076649, "answer_count": 2, "score": 0, "last_activity_date": 1481380243, "creation_date": 1481377859, "question_id": 41076297, "link": "https://stackoverflow.com/questions/41076297/perl-print-object-property-names-and-values", "title": "perl: Print object property names and values", "body": "<p>The following:</p>\n\n<pre><code>for my $z (@$y) {                               \n  # prints number of observables for a given activity summary\n  # print STDERR 'property count'.keys $z\n  print Dumper($z);\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>$VAR1 = {\n          'activity' =&gt; 'walking',\n          'duration' =&gt; '591',\n          'calories' =&gt; 26,\n          'distance' =&gt; '435',\n          'steps' =&gt; 871,\n          'group' =&gt; 'walking'\n        };\n$VAR1 = {\n          'steps' =&gt; 168,\n          'group' =&gt; 'walking',\n          'distance' =&gt; '100',\n          'activity' =&gt; 'walking',\n          'duration' =&gt; '200',\n          'calories' =&gt; 6\n        };\n</code></pre>\n\n<p>How can I iterate over each property and print its name and value? Im using perl.</p>\n"}, {"tags": ["perl", "copy", "block"], "answers": [{"comments": [{"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "edited": false, "score": 0, "creation_date": 1481392116, "post_id": 41076868, "comment_id": 69363114, "body": "I know. But what if user has not installed modules (<code>eval...</code>) and I want to show help (-h) always? When I process option after begin block, I will get &quot;No modules&quot; message all the time. When I process option in begin block, when I pass -h otpion I&#39;ll get first &quot;Some help&quot; message instead of &quot;No modules&quot;. Is it possible to copy values from begin block outside?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1481392434, "post_id": 41076868, "comment_id": 69363208, "body": "Why bother doing that in <code>BEGIN</code> either? If you really need custom help with module installs, then you can load modules using <code>require</code> at runtime."}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "edited": false, "score": 0, "creation_date": 1481404989, "post_id": 41076868, "comment_id": 69367021, "body": "use <code>require</code> instead of <code>use</code>?"}], "tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 2, "last_activity_date": 1481381859, "creation_date": 1481381859, "answer_id": 41076868, "question_id": 41076237, "link": "https://stackoverflow.com/questions/41076237/perl-copy-variables-value-out-of-begin-block/41076868#41076868", "title": "Perl - copy variables value out of BEGIN block", "body": "<p>The <code>BEGIN</code> clause is executed <em>before</em> normal code. When you declare <code>$height</code> and <code>$width</code>, you set them to 40 <em>after</em> you process the options.</p>\n\n<p>Solution: process the options outside the <code>BEGIN</code> clause.</p>\n"}, {"comments": [{"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "edited": false, "score": 0, "creation_date": 1481472103, "post_id": 41082958, "comment_id": 69381031, "body": "Looks good, but I get an error stack trace if module is not installed. The idea is if module is not installed I want to show inform message that module is not installed and exit. But if I run a program with -h option I want to show a help message even if module is not installed. Is it possible?"}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "edited": false, "score": 0, "creation_date": 1481473397, "post_id": 41082958, "comment_id": 69381445, "body": "In the first example, are you sure <code>$ok_Term_Size_Any</code> will be set after BEGIn block? I think it will have default value or error will be thrown because it is not initialized."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481487610, "post_id": 41082958, "comment_id": 69386147, "body": "<i>&quot;your code to process the options runs before the variables are assigned 40&quot;</i> This doesn&#39;t explain why the <code>BEGIN</code> block is executed before <code>40</code> is assigned to the variable. The assignment precedes the <code>BEGIN</code> block and isn&#39;t in a <code>BEGIN</code> block itself?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481500076, "post_id": 41082958, "comment_id": 69389780, "body": "@Borodin  I don&#39;t see how it doesn&#39;t explain it ...? The processing of options runs first (before the runtime-assignment), because it is in a <code>BEGIN</code> block, while the assignment to <code>40</code> happens in the run phase, which comes later.  The first sentence establishes this. Are you saying that the wording is unclear?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "edited": false, "score": 1, "creation_date": 1481500373, "post_id": 41082958, "comment_id": 69389829, "body": "@allocer  I don&#39;t understand.  Try this  <code>my $ok_NoMod; BEGIN { eval &#39;use NoMod&#39;; $ok_NoMod = 1 unless $@ };  if ($ok_NoMod) { say &quot;Have NoMod&quot; } else { say &quot;No &#39;NoMod&#39; }</code>.  Add warnings and strict.  It says <code>&#39;No NoMod&#39;</code> and if I use a module that I do have (instead of this &quot;<i>NoMod</i>&quot;) then it says <code>&#39;Have ...&#39;</code>.  This is what you need, no?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481500676, "post_id": 41082958, "comment_id": 69389918, "body": "@zdim: On the face of it, <code>use strict; my $var = 42; BEGIN { $var = 84 }; print $var;</code> should either die in the <code>BEGIN</code> block because there is no such variable, or print <code>84</code>. Neither of these happens, and you haven&#39;t explained why. I&#39;m sorry, I know it&#39;s easy to overlook things that gave become &quot;obvious&quot;, and your answer is otherwise a great one."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481500830, "post_id": 41082958, "comment_id": 69389963, "body": "@Borodin Oh, I see what you mean.  I thought that the sentence after the code block was a good place to do it.  But, you are right, it should be explained upfront. I&#39;ll amend the first paragraph."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481500962, "post_id": 41082958, "comment_id": 69389994, "body": "@zdim: That sentence doesn&#39;t address the phase when the <i>assignment</i> occurs, or that it is different from when the <i>declaration</i> happens. That concept is the core of the answer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481502024, "post_id": 41082958, "comment_id": 69390200, "body": "@Borodin  I edited, but will check again in a few minutes.  Apparently it is all too easy to mess up the business of what things are explained and when.  It wasn&#39;t done well at all -- when I looked it now.  It seemed just fine last night. Thank you."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "edited": false, "score": 0, "creation_date": 1481533973, "post_id": 41082958, "comment_id": 69399132, "body": "@allocer  I see your second comment only now, for some reason.  If the module loaded fine (and so <code>$@</code> is empty) the flag is set -- the variable is assigned <code>1</code>.  If it didn&#39;t load (so <code>$@</code> has stuff) the flag isn&#39;t set -- it stays <code>undef</code>. So you can use it later as a flag, <code>if ($ok_Term_Size_Any) ...</code>.  So you can decide what messages to  print, etc."}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "edited": false, "score": 0, "creation_date": 1481557910, "post_id": 41082958, "comment_id": 69413281, "body": "Guys, thanks for help. It helped me with first example. Sorry for my stupid questions ;)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 0, "last_activity_date": 1591815872, "last_edit_date": 1591815872, "creation_date": 1481429979, "answer_id": 41082958, "question_id": 41076237, "link": "https://stackoverflow.com/questions/41076237/perl-copy-variables-value-out-of-begin-block/41082958#41082958", "title": "Perl - copy variables value out of BEGIN block", "body": "<p>All <code>BEGIN</code> blocks are executed in the <em>compile phase</em>, as soon as possible (right after they're parsed) -- before the <em>run phase</em> even starts.  See this <a href=\"http://perldoc.perl.org/perlmod.html#BEGIN,-UNITCHECK,-CHECK,-INIT-and-END\" rel=\"nofollow noreferrer\">in perlmod</a> and see <a href=\"https://www.effectiveperlprogramming.com/2011/03/know-the-phases-of-a-perl-programs-execution/\" rel=\"nofollow noreferrer\">this \"Effective Perler\" article</a>. Also, the declaration part of <code>my $x = 1;</code> happens in the compile phase as well, but the assignment is done at runtime. </p>\n\n<p>Thus the <code>$height</code> and <code>$weight</code> are declared, then your code to process the options runs in its <code>BEGIN</code> block, and once the interpreter gets to the run phase <em>then</em> the variables are assigned <code>40</code>, overwriting whatever had been assigned in that <code>BEGIN</code> block.</p>\n\n<p>Thus a way around that is to <em>only declare</em> these variables, without assignment, before the <code>BEGIN</code> block, and assign that <code>40</code> after the <code>BEGIN</code> block if the variables are still undefined (I presume, as default values). </p>\n\n<p>However, it is better not to process options, or do any such extensive work, in a <code>BEGIN</code> block.</p>\n\n<p>Here are a couple of other ways to do what you need.</p>\n\n<p>Loading the module during compilation is fine for your purpose, as long as you know at runtime whether it worked. So load it as you do, under <code>eval</code> in a <code>BEGIN</code> block, so that you can set a flag for later use (conditionally). This flag need be <em>declared</em> (without assignment) before that <code>BEGIN</code> block.</p>\n\n<pre><code>my $ok_Term_Size_Any;\n\nBEGIN { \n    eval 'use Term::Size::Any qw(chars pixels)';\n    $ok_Term_Size_Any = 1 unless $@;\n};\n\n# use the module or else, based on $ok_Term_Size_Any\n</code></pre>\n\n<p>The declaration happens at compile time, and being in <code>BEGIN</code> so does the assignment -- under the conditional <code>if not $@</code>. If that condition fails (the module couldn't be loaded) the assignment doesn't happen and the variable stays undefined. Thus it can be used as a flag in further processing.</p>\n\n<p>Also: while the rest of the code isn't shown I can't imagine a need for <code>our</code>; use <code>my</code> instead.</p>\n\n<hr>\n\n<p><em><strong>NOTE</strong> &nbsp; Please consult this <a href=\"https://stackoverflow.com/questions/41094774/cannot-load-core-cwd-and-other-non-core-modules-at-runtime\">question</a> for subtleties regarding the following approach</em></p>\n\n<p>Alternatively, load all \"tricky\" modules at runtime. Then there are no issues with parsing options, what can now be done normally at runtime as well, before or after those modules, as suitable.</p>\n\n<p>The <code>use Module qw(LIST);</code> statement is exactly </p>\n\n<pre><code>BEGIN {\n    require Module;\n    Module-&gt;import(LIST);\n};\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"nofollow noreferrer\">use</a>. So to check for a module at runtime, before you'd use it, run and <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\">eval</a> that code</p>\n\n<pre><code>use warnings 'all';\nuse strict;\n\neval {\n    require Module;\n    Module-&gt;import( qw(fun1 fun2 ...) );\n};\nif ($@) {\n    # Load an alternative module or set a flag or exit ...\n};\n\n# use the module or inform the user based on the flag\n</code></pre>\n\n<p>Instead of using <code>eval</code> (with the requisite error checking), one can use <a href=\"http://search.cpan.org/~ether/Try-Tiny-0.27/lib/Try/Tiny.pm\" rel=\"nofollow noreferrer\">Try::Tiny</a> but note that there are issues with that, too. See <a href=\"https://stackoverflow.com/questions/10364975/is-trytiny-still-recommended-for-exception-handling-in-perl-5-14-or-later\">this post</a>, also for a discussion about the choice. The hard reasons for using a module instead of <code>eval</code>-and-<code>$@</code> have been <a href=\"http://perldoc.perl.org/perl5140delta.html#Exception-Handling\" rel=\"nofollow noreferrer\">resolved in 5.14</a>.</p>\n\n<hr>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1481474539, "creation_date": 1481474539, "answer_id": 41088518, "question_id": 41076237, "link": "https://stackoverflow.com/questions/41076237/perl-copy-variables-value-out-of-begin-block/41088518#41088518", "title": "Perl - copy variables value out of BEGIN block", "body": "<p>The problem is that declaration/definitions like <code>our $height = 40</code> etc. are executed in two phases. The <em>declaration</em> is performed at compilation time, while the <em>assignment</em> is done at run time. That means something like</p>\n\n<pre><code>my $x = 0;\n\nBEGIN {\n    $x = 1;\n}\n\nsay $x;\n</code></pre>\n\n<p>will display <code>0</code>, because <code>$x</code> is <em>declared</em> at compile time and set to 1 at compile time because of the <code>BEGIN</code> block. But it is then set to zero at run time.</p>\n\n<p>All you need to do it change the declaration/definition to just a declaration. That way there is no run-time modification of the assignment made by the <code>BEGIN</code> block</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $xx;\n\nBEGIN {\n    $xx = 1;\n}\n\nsay $xx;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>1\n</code></pre>\n\n<p>Note that there is no need for <code>our</code>. <code>my</code> is almost always preferable. And please don't use <code>BEGIN</code> blocks to execute significant chunks of code: they should be reserved for preparatory actions of comparable to loading the required modules before run time starts. No one expects a program to output help text if it won't compile, which is what you are trying to do.</p>\n"}], "owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 41082958, "answer_count": 3, "score": 1, "last_activity_date": 1591815872, "creation_date": 1481377471, "last_edit_date": 1481378156, "question_id": 41076237, "link": "https://stackoverflow.com/questions/41076237/perl-copy-variables-value-out-of-begin-block", "title": "Perl - copy variables value out of BEGIN block", "body": "<p>I have a simple script:</p>\n\n<pre><code>our $height = 40;\nour $width = 40;\n\nBEGIN {\n    GetOptions( 'help' =&gt; \\$help,           \n                'x=i' =&gt; \\$width,\n                'y=i' =&gt; \\$height) or die \"No args.\";\n\n\n    if($help) { \n        print \"Some help\";   \n        exit 0;\n    }\n\n    print $width.\"\\n\"; #it is 10 when call with script.pl -x 10 -y 10\n    print $height.\"\\n\"; #it is 10 when call with script.pl -x 10 -y 10\n\n    #some other code which check installed modules\n\n    eval 'use Term::Size::Any qw( chars pixels )';\n    if ( $@ ) {\n        if ( $@ =~ /Cant locate (\\S+)/ ) {\n            warn \"No modules\";\n            exit 2;\n        }\n    }\n\n\n}\n\nprint $width.\"\\n\"; #but here is still 40 not 10\nprint $height.\"\\n\";#but here is still 40 not 10\n</code></pre>\n\n<p>I call this script with 2 parameters (x and y), for example: script.pl -x 10 -y 10. But the given values are not saved in variables $width and $height. I want change this variables by giving arguments. How can I copy given values or save them into <code>$width</code> and <code>$height</code>? Is it possible?</p>\n\n<p><strong>EDITED</strong> - I added some code to this example</p>\n"}, {"tags": ["perl", "web-scraping", "lwp", "lwp-useragent"], "comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481383825, "post_id": 41075529, "comment_id": 69360566, "body": "I used <code>LWP::UserAgent</code> all the time and it never downloads images, only the text. It also does not download any AJAX content."}], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 4, "last_activity_date": 1481377880, "creation_date": 1481377880, "answer_id": 41076299, "question_id": 41075529, "link": "https://stackoverflow.com/questions/41075529/dont-download-images-while-scraping/41076299#41076299", "title": "Don&#39;t download images while scraping", "body": "<p>While you don't show any code I assume that you follow in your scraping just the <code>&lt;a href=</code> links but not any <code>&lt;img src=</code> or similar links (i.e. video, css, favicon..)  which are obviously images and other types of data you are not interested in. </p>\n\n<p>Unfortunately with a <code>&lt;a href=</code> link it is impossible to find out up front what kind of data this will be. You might make some guess based on a typical suffix of the resource (i.e. <code>image.png</code>) but you can not be sure what it really is. This information you get only once you access the resource, for example by checking the <code>Content-type</code> declared in the response header. LWP offers a way to inspect the response header before downloading the full resource by adding a handler for the <code>response_header</code> phase. From <a href=\"https://metacpan.org/pod/LWP::UserAgent#response_header-sub-my-response-ua-h-_\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>response_header => sub { my($response, $ua, $h) = @_; ... }<br>\n  This handler is called right after the response headers have been received, but before any content data. The handler might set up handlers for data and <strong>might croak to abort the request</strong>.</p>\n</blockquote>\n\n<p>This can be used to stop receiving the response for any non-text content:</p>\n\n<pre><code>my $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;add_handler( response_header =&gt; sub {\n    my $resp = shift;\n    die \"no text\" if $resp-&gt;content_type !~m{^text/};\n});\nmy $resp = $ua-&gt;get('http://example.com/some-image.gif');\n</code></pre>\n"}], "owner": {"reputation": 501, "user_id": 2515337, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/23df530af23257756e35736c00f2dc60?s=128&d=identicon&r=PG", "display_name": "GrSrv", "link": "https://stackoverflow.com/users/2515337/grsrv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481377880, "creation_date": 1481373004, "question_id": 41075529, "link": "https://stackoverflow.com/questions/41075529/dont-download-images-while-scraping", "title": "Don&#39;t download images while scraping", "body": "<p>I am using LWP::UserAgent to scrape some pages. To save bandwidth, I don't want to download images and other media on the page, I am only interested in the text.</p>\n\n<p>Can't find anything in the documentation which can help me with this. Please help</p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": true, "score": 2, "last_activity_date": 1481372225, "creation_date": 1481372225, "answer_id": 41075412, "question_id": 41075380, "link": "https://stackoverflow.com/questions/41075380/how-to-set-up-query-arguments-to-link-to-mojolicious-helper/41075412#41075412", "title": "How to set up query arguments to `link_to` mojolicious helper?", "body": "<p>It is not documented yet, but in default <code>welcome.html.ep</code> we can found:</p>\n\n<pre><code>%= link_to 'click here' =&gt; url_for\n</code></pre>\n\n<p>So we can do next:</p>\n\n<pre><code>%= link_to 'Change password' =&gt;  url_for( 'auth_remind' )-&gt;query( login =&gt; $login )\n</code></pre>\n\n<p>If we need to set up some arguments for route we may:</p>\n\n<pre><code>%= link_to 'Change password' =&gt;  url_for( 'auth_remind', { format =&gt; 'txt' } )-&gt;query( login =&gt; $login )\n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 41075412, "answer_count": 1, "score": 2, "last_activity_date": 1481372225, "creation_date": 1481372026, "question_id": 41075380, "link": "https://stackoverflow.com/questions/41075380/how-to-set-up-query-arguments-to-link-to-mojolicious-helper", "title": "How to set up query arguments to `link_to` mojolicious helper?", "body": "<p>I want to pass arguments for link generated by <code>link_to</code> helper:</p>\n\n<pre><code>%= link_to 'Change password' =&gt;  'auth_remind', { login =&gt; $login }\n</code></pre>\n\n<p>but this does not work.</p>\n\n<p>How to set up query arguments?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "edited": false, "score": 0, "creation_date": 1481344574, "post_id": 41072191, "comment_id": 69351209, "body": "You know, you really shouldn&#39;t look for regex golf answers on SO. That&#39;s kinda cheating :P"}, {"owner": {"reputation": 790, "user_id": 4873159, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Ygmek.png?s=128&g=1", "display_name": "Burgan", "link": "https://stackoverflow.com/users/4873159/burgan"}, "reply_to_user": {"reputation": 4320, "user_id": 5103620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8ae06ea53a316cc879b9100b3ff25bfc?s=128&d=identicon&r=PG", "display_name": "Sebastian Lenartowicz", "link": "https://stackoverflow.com/users/5103620/sebastian-lenartowicz"}, "edited": false, "score": 0, "creation_date": 1481354113, "post_id": 41072191, "comment_id": 69352872, "body": "@SebastianLenartowicz It&#39;s not for regex golf, but it is an answer I probably shouldn&#39;t look up :). See the google results for Advent of Code."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1481362596, "post_id": 41072191, "comment_id": 69354625, "body": "You can also write your pattern like that: <code>(.)\\1*+(.)\\2\\1</code>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1481345913, "creation_date": 1481345913, "answer_id": 41072336, "question_id": 41072191, "link": "https://stackoverflow.com/questions/41072191/perl-match-abba-pattern/41072336#41072336", "title": "Perl match abba pattern", "body": "<p>You have a stray <code>q</code> in your pattern.</p>\n\n<pre><code>$ perl -le'print \"found\" if \"abba\" =~ /(.)(?!\\g1)(.)\\g2\\g1/;'\nfound\n</code></pre>\n"}], "owner": {"reputation": 790, "user_id": 4873159, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Ygmek.png?s=128&g=1", "display_name": "Burgan", "link": "https://stackoverflow.com/users/4873159/burgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 41072336, "answer_count": 1, "score": 0, "last_activity_date": 1481345913, "creation_date": 1481344228, "question_id": 41072191, "link": "https://stackoverflow.com/questions/41072191/perl-match-abba-pattern", "title": "Perl match abba pattern", "body": "<p>I have a subroutine in a Perl script that should return <code>true</code> if the string passed to it contains any 4 characters that match the pattern of an outer pair around an inner pair 'abba', 'baab', 'acca', and so on. It should not match 'aaaa'. I do not understand why the regex is not working. I would expect that the following should print 'found', but it does not.</p>\n\n<pre><code>print 'found' if 'abba' =~ /(.)q(?!\\g1)(.)\\g2\\g1/;\n</code></pre>\n\n<p>What is wrong with my regex?</p>\n"}, {"tags": ["perl", "eval"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 6872898, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3bf423536f307d2bee55b45b0c088cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6872898/thomas"}, "edited": false, "score": 0, "creation_date": 1481397341, "post_id": 41071935, "comment_id": 69364805, "body": "Thanks for your answer, but I don&#39;t wanna die if it fails here, because I have code that need to be executed after. How do I &quot;only&quot; go in the else if there&#39;s no error and continue if there is with the retries?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 59, "user_id": 6872898, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3bf423536f307d2bee55b45b0c088cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6872898/thomas"}, "edited": false, "score": 0, "creation_date": 1481397533, "post_id": 41071935, "comment_id": 69364865, "body": "So use <code>eval</code> to catch it, or use <code>last</code> plus a flag. You could even use <code>$num_retries</code> as the flag by moving its declaration."}, {"owner": {"reputation": 59, "user_id": 6872898, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3bf423536f307d2bee55b45b0c088cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6872898/thomas"}, "edited": false, "score": 0, "creation_date": 1481400123, "post_id": 41071935, "comment_id": 69365661, "body": "Ok I modified my code, would this work? I&#39;m not sure how to use what you just told me, thanks!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 59, "user_id": 6872898, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3bf423536f307d2bee55b45b0c088cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6872898/thomas"}, "edited": false, "score": 0, "creation_date": 1481402055, "post_id": 41071935, "comment_id": 69366199, "body": "That would work (though you really should use <code>0</code> and <code>1</code>, a false and a true value). But you again introduced needless complexity and a couple of problems (print a retry error message even when you won&#39;t; printing error messages to STDOUT). See my updated answer"}, {"owner": {"reputation": 59, "user_id": 6872898, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3bf423536f307d2bee55b45b0c088cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6872898/thomas"}, "edited": false, "score": 0, "creation_date": 1481590624, "post_id": 41071935, "comment_id": 69428609, "body": "Hi ikegami, thanks the code you wrote worked. I couldn&#39;t use the function tho because this small piece of code is a part of a bigger code and it would have been a lot of argument to pass. Just one question, how does !--$num_tries; works? It exit when it hits 0?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 59, "user_id": 6872898, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3bf423536f307d2bee55b45b0c088cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6872898/thomas"}, "edited": false, "score": 0, "creation_date": 1481590841, "post_id": 41071935, "comment_id": 69428670, "body": "What are you taking about? You should be using <code>non_fatal_retry</code> as is. You should not be passing any arguments to it I didn&#39;t pass"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 59, "user_id": 6872898, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3bf423536f307d2bee55b45b0c088cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6872898/thomas"}, "edited": false, "score": 0, "creation_date": 1481591662, "post_id": 41071935, "comment_id": 69428925, "body": "If <code>$num_tries</code> is initially 1, it will become zero and false, and thus <code>warn</code> and <code>return</code> will be evaluated."}, {"owner": {"reputation": 59, "user_id": 6872898, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3bf423536f307d2bee55b45b0c088cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6872898/thomas"}, "edited": false, "score": 0, "creation_date": 1481650498, "post_id": 41071935, "comment_id": 69458341, "body": "Oh ok I see.. &quot;warn&quot; didn&#39;t print the statement in the log tho. If I use &quot;print&quot;, will it still works? Thank you so much!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 59, "user_id": 6872898, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3bf423536f307d2bee55b45b0c088cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6872898/thomas"}, "edited": false, "score": 0, "creation_date": 1481651004, "post_id": 41071935, "comment_id": 69458655, "body": "That would seem to indicate you redirected STDOUT to a file, but didn&#39;t redirect STDERR to it too. In other words, <code>&gt;log</code> should be <code>&gt;log 2&gt;&amp;1</code>. Don&#39;t compound your error by replacing <code>warn</code> with <code>print.</code> Error messages are sent to STDERR. You&#39;re already missing out on warnings, for example."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1481651105, "last_edit_date": 1481651105, "creation_date": 1481341370, "answer_id": 41071935, "question_id": 41071724, "link": "https://stackoverflow.com/questions/41071724/should-be-deleted-soon-2/41071935#41071935", "title": "Should be deleted soon 2", "body": "<p>That doesn't even work since the second set of calls isn't in an <code>eval</code>.</p>\n\n<pre><code>for (my $num_tries = 3; ; ) {\n    last if eval {\n        my $stuff1 = function1();\n        my $stuff2 = function2();\n        function3();\n        return 1;  # No exception.\n    };\n\n    --$num_tries\n        or die($@);\n\n    chomp( my $e = $@ );\n    warn(\"$e Retrying...\");\n}\n\nfunction4();\n</code></pre>\n\n<hr>\n\n<p>The above moved <code>function3();</code> into the <code>eval</code>. If you want to allow it to throw an exception (or maybe it's really a <code>return</code>, <code>last</code>, etc), you can use the following instead:</p>\n\n<pre><code>my $num_tries = 3;\nwhile (1)\n    last if eval {\n        my $stuff1 = function1();\n        my $stuff2 = function2();\n        return 1;  # No exception.\n    } || !--$num_tries;\n\n    chomp( my $e = $@ );\n    warn(\"$e Retrying...\");\n}\n\nif ($num_tries) {\n    function3();\n} else {\n    warn($@);\n}\n\nfunction4();\n</code></pre>\n\n<p>This is getting a bit complicated again, so let's use a sub!</p>\n\n<pre><code>sub non_fatal_retry(&amp;$) {\n    my ($cb, $num_tries) = @_\n\n    while (!eval { $cb-&gt;(); 1 }) {\n        --$num_tries\n            or warn($@), return 0;\n\n        chomp( my $e = $@ );\n        warn(\"$e Retrying...\");\n    }\n\n    return 1;\n}\n</code></pre>\n\n<p>The solution becomes:</p>\n\n<pre><code>if (non_fatal_retry {\n    my $stuff1 = function1();\n    my $stuff2 = function2();\n}, 3) {\n    function3();\n}\n\nfunction4();\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 6872898, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3bf423536f307d2bee55b45b0c088cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6872898/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1485372209, "creation_date": 1481338834, "last_edit_date": 1485372209, "question_id": 41071724, "link": "https://stackoverflow.com/questions/41071724/should-be-deleted-soon-2", "title": "Should be deleted soon 2", "body": "<p>Should be deleted soon as it's no longer available</p>\n"}, {"tags": ["regex", "perl", "mismatch"], "comments": [{"owner": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "edited": false, "score": 1, "creation_date": 1481337980, "post_id": 41071498, "comment_id": 69350207, "body": "There <a href=\"https://regex101.com/r/osA53E/1\" rel=\"nofollow noreferrer\">doesn&#39;t seem to be</a> a positive hit on the second sequence."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "edited": false, "score": 0, "creation_date": 1481344833, "post_id": 41071498, "comment_id": 69351264, "body": "@Nicolas Maltais, The OP is using Perl, not PCRE."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481385108, "post_id": 41071498, "comment_id": 69360932, "body": "If you want to match at least 4 G&#39;s, why does  the quantifier start at 3? See <a href=\"http://perldoc.perl.org/perlre.html#Regular-Expressions\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html#Regular-Expressions</a>"}, {"owner": {"reputation": 103, "user_id": 7023510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58b4da504a470aa3f3acefb28c125feb?s=128&d=identicon&r=PG&f=1", "display_name": "Zipfer", "link": "https://stackoverflow.com/users/7023510/zipfer"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481449432, "post_id": 41071498, "comment_id": 69375162, "body": "@shawnhcorey: I want to match at least 4 G-repeats, with at least 3 Gs each."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481461978, "post_id": 41071498, "comment_id": 69378145, "body": "@Zipfer So, you need to match 4 patterns of 3 or more G&#39;s. That clarifies things."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 7023510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58b4da504a470aa3f3acefb28c125feb?s=128&d=identicon&r=PG&f=1", "display_name": "Zipfer", "link": "https://stackoverflow.com/users/7023510/zipfer"}, "edited": false, "score": 0, "creation_date": 1481449556, "post_id": 41072268, "comment_id": 69375185, "body": "I need a G in [ATGC], because the interconnecting sequence could be aaagaaa."}, {"owner": {"reputation": 103, "user_id": 7023510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58b4da504a470aa3f3acefb28c125feb?s=128&d=identicon&r=PG&f=1", "display_name": "Zipfer", "link": "https://stackoverflow.com/users/7023510/zipfer"}, "edited": false, "score": 0, "creation_date": 1481451259, "post_id": 41072268, "comment_id": 69375610, "body": "Why negative lookahead? When the regex matches a G that follows the GGG, it is recognized as GGGG, which must be followed by a [ATC]. If the GGG is followed by AG, the regex works."}, {"owner": {"reputation": 103, "user_id": 7023510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58b4da504a470aa3f3acefb28c125feb?s=128&d=identicon&r=PG&f=1", "display_name": "Zipfer", "link": "https://stackoverflow.com/users/7023510/zipfer"}, "edited": false, "score": 0, "creation_date": 1481454057, "post_id": 41072268, "comment_id": 69376264, "body": "That&#39;s right, works as well. When I add the ?! to the G{3} and at the same time use the /i modifier, the regex doesn&#39;t match <code>gaggaaagggaaagggaaaggg</code>. But when I match <code>([gG]{3}[aAcCgGtT]...</code> the regex doesn&#39;t recognize <code>gaggaaaggg...</code> anymore."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 103, "user_id": 7023510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58b4da504a470aa3f3acefb28c125feb?s=128&d=identicon&r=PG&f=1", "display_name": "Zipfer", "link": "https://stackoverflow.com/users/7023510/zipfer"}, "edited": false, "score": 0, "creation_date": 1496197436, "post_id": 41072268, "comment_id": 75556791, "body": "5.26 (which fixes this bug) was released today"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1496197457, "last_edit_date": 1496197457, "creation_date": 1481345173, "answer_id": 41072268, "question_id": 41071498, "link": "https://stackoverflow.com/questions/41071498/perl-regular-expression-mismatches-repetitive-strings/41072268#41072268", "title": "Perl regular expression mismatches repetitive strings", "body": "<pre><code>$ perl -E'say $&amp; while \"aaagaggaaaaggggaaaaggggaaaaggggaaa\" =~ /((G{3,}[ATGC]{1,7}){3,}G{3,})/gi'\ngggaaaaggggaaaagggg\n</code></pre>\n\n<p>You've found a bug! I filed a <a href=\"https://rt.perl.org/Public/Bug/Display.html?id=130307\" rel=\"nofollow noreferrer\">bug report</a>.</p>\n\n<p>This bug has been around since at least since 5.10, and it's present in the latest release (5.24.0).</p>\n\n<p>Update: Fixed in Perl 5.26, released on 2017-05-30.</p>\n"}], "owner": {"reputation": 103, "user_id": 7023510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58b4da504a470aa3f3acefb28c125feb?s=128&d=identicon&r=PG&f=1", "display_name": "Zipfer", "link": "https://stackoverflow.com/users/7023510/zipfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 41072268, "answer_count": 1, "score": 2, "last_activity_date": 1496197457, "creation_date": 1481336196, "last_edit_date": 1481455403, "question_id": 41071498, "link": "https://stackoverflow.com/questions/41071498/perl-regular-expression-mismatches-repetitive-strings", "title": "Perl regular expression mismatches repetitive strings", "body": "<p>I am trying to match <em>at least</em> four G-repeats, each repeat separated by a maximum of 7 characters. Example:</p>\n\n<pre><code>AAGGGAAGGGAAAGGGAAGGGAA\n</code></pre>\n\n<p>I use following regex which should match uppercase and lowercase characters.</p>\n\n<pre><code>$sequence =~ /((G{3,}[ATGC]{1,7}){3,}G{3,})/gi\n</code></pre>\n\n<p>This should match at least four G-repeats. The problem is, that I get a positive hit when I match the following sequence:</p>\n\n<pre><code>aaagaggaaaaggggaaaaggggaaaaggggaaa\n</code></pre>\n\n<p>The first repeat in this sequence contains three gs, separated by an a. Therefore, this sequence should not be matched. </p>\n\n<p>Solution 1: The problem seemed to be the /i modifier. I could correct it by modifying the regex:</p>\n\n<pre><code> $sequence =~ /(([gG]{3,}[aAtTgGcC]{1,7}){3,}[gG]{3,})/g\n</code></pre>\n\n<p>Solution 2 provided by ikegami: Negative lookahead.</p>\n\n<pre><code>$sequence =~ /(([?!G]{3,}[ATGC]{1,7}){3,}[G]{3,})/gi\n</code></pre>\n\n<p>Thanks @ikegami for the hint and for submitting the bug report.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1481332503, "creation_date": 1481332503, "answer_id": 41071179, "question_id": 41071069, "link": "https://stackoverflow.com/questions/41071069/why-is-search-pattern-not-terminated-in-this-snippet/41071179#41071179", "title": "Why is &quot;Search pattern not terminated&quot; in this snippet?", "body": "<p><code>tr///</code> needs three instances of the delimiter, not just one.</p>\n\n<pre><code>$prodname =~ tr/[^a-zA-Z0-9 ];\n</code></pre>\n\n<p>Moreover, <code>[</code> means the literal square bracket in <code>tr</code>. Maybe you wanted <code>m//</code> or <code>s///</code>?</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1576829358, "last_edit_date": 1576829358, "creation_date": 1481341230, "answer_id": 41071925, "question_id": 41071069, "link": "https://stackoverflow.com/questions/41071069/why-is-search-pattern-not-terminated-in-this-snippet/41071925#41071925", "title": "Why is &quot;Search pattern not terminated&quot; in this snippet?", "body": "<p>The syntax of the <code>tr</code> operator is <code>tr/CHARS/REPLACEMENT/</code>.  Further, it performs a <em>transliteration</em> (not regex match) which normally replaces the given <em>literal</em> characters, and in a rather particular way.</p>\n\n<p>But you <em>can</em> do what you want with <code>tr</code>, as it allows ranges and has <code>/c</code>  modifier (<em>complement</em>)</p>\n\n<pre><code>$prodname =~ tr/a-zA-Z0-9 //dc;\n</code></pre>\n\n<p>From <a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">Quote-Like-Operators in perlop</a></p>\n\n<blockquote>\n  <p>If the /c modifier is specified, the SEARCHLIST character set is complemented. </p>\n</blockquote>\n\n<p>However, using <code>tr///</code> (specially with <code>/c</code>) is a bit obscure in comparison with using <code>s///</code>, which you also utilize later in the code. Use of <code>s///</code> would make it clearer</p>\n\n<pre><code>$prodname =~ s/[^a-zA-Z0-9 ]//g;\n</code></pre>\n\n<p>The modifier <code>/g</code> makes it remove <em>all</em> occurences of characters specified by  <code>[^...]</code>.  </p>\n\n<p>The regex itself can also be written as</p>\n\n<pre><code>s/[^a-z0-9 ]//gi;\n</code></pre>\n\n<p>but see <em>Negation</em> <a href=\"http://perldoc.perl.org/perlrecharclass.html#Bracketed-Character-Classes\" rel=\"nofollow noreferrer\">in perlrecharclass</a> for notes on  using <code>/i</code> with negated class and unicode. For an efficiency improvement we can add the <code>+</code> quantifier, <code>s/[...]+//gi</code>, as all occurences need be removed anyway. Note that the <code>tr///</code> should be <em>much</em> faster here.</p>\n\n<p>With <em>POSIX character classes</em> this can be written as &nbsp; <code>s/[^[:alnum:] ]//g;</code></p>\n"}], "owner": {"reputation": 91, "user_id": 6539306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kf71.jpg?s=128&g=1", "display_name": "tnoznisky", "link": "https://stackoverflow.com/users/6539306/tnoznisky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576829358, "creation_date": 1481331479, "question_id": 41071069, "link": "https://stackoverflow.com/questions/41071069/why-is-search-pattern-not-terminated-in-this-snippet", "title": "Why is &quot;Search pattern not terminated&quot; in this snippet?", "body": "<p>I am trying to update a piece of code to remove any non-alphanumeric character, assign the resultant string to a new variable, and rewrite my HTML to include that value in a new meta tag:</p>\n\n<pre><code>if ( $main::url =~ m/index:Devices/ )\n{\n    my $prodname = getMetaValue(\\$doc,'Product_Name');\n    $prodname =~ tr/[^a-zA-Z0-9 ];\n    $strippedname =~ $prodname;\n    $doc =~ s{&lt;/head&gt;}{&lt;meta name='Stripped_Name' content='$strippedname' /&gt;\\n&lt;/head&gt;}is;\n}\n</code></pre>\n\n<p>The last line throws a \"Search pattern not terminated\" error, and I can't figure out why. I use a similar method that does work elsewhere in the script:</p>\n\n<pre><code>if ( $main::url =~ m/index:Devices/ )\n{\n    my $prodname = getMetaValue(\\$doc,'Product_Name');\n    my $brandname = getMetaValue(\\$doc,'Manufacturer_Name');\n    my $devicefullname = $brandname.' '.$prodname;\n    $doc =~ s{&lt;/head&gt;}{&lt;meta name='Device_Full_Name' content='$devicefullname' /&gt;\\n&lt;/head&gt;}is;\n}\n</code></pre>\n\n<p>Any idea why the special character removal script fails me?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["perl", "struct"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1481328711, "post_id": 41070572, "comment_id": 69348573, "body": "Thanks for the reply. I know how to create a hash and then use the data later when needed using the key and values of the hash. But I wanted to check out how to do the same using a struct. So, for that I wanted to know how to convert the array to struct and not array to hash."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481385574, "post_id": 41070572, "comment_id": 69361076, "body": "Replace <code>$struct{ shift @keys } =</code> with <code>struct( shift @keys  =&gt;</code> and add a <code>)</code> before the <code>while</code>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1481327294, "creation_date": 1481327294, "answer_id": 41070572, "question_id": 41070484, "link": "https://stackoverflow.com/questions/41070484/perl-script-for-combining-arrays-to-form-a-structure/41070572#41070572", "title": "Perl script for combining arrays to form a structure", "body": "<p>It's a bit unlcear what you want to achieve. Note that <code>{1,2,3,4}</code> creates a hash reference in Perl, to assign to an array, use round parentheses.</p>\n\n<p>You don't need Class::Struct to build a data structure. Arrays and hashes are part of the language, see <a href=\"http://p3rl.org/perldata\" rel=\"nofollow noreferrer\">perldata</a>.</p>\n\n<p>I had to guess hard what the output structure should be, but the following produces something similar:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy @keys = (1, 2, 3, 4);\nmy @names = qw( A B C D );\nmy @var = qw( var1 var2 var3 var4 );\nmy @count = ('c1', 'c2', 'c3', 'c4');\n\nmy %struct;\n$struct{ shift @keys } = [ shift @names, shift @var, shift @count ]\n    while @keys;\n\nuse Data::Dumper; print Dumper \\%struct;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = {\n          '4' =&gt; [\n                   'D',\n                   'var4',\n                   'c4'\n                 ],\n          '1' =&gt; [\n                   'A',\n                   'var1',\n                   'c1'\n                 ],\n          '2' =&gt; [\n                   'B',\n                   'var2',\n                   'c2'\n                 ],\n          '3' =&gt; [\n                   'C',\n                   'var3',\n                   'c3'\n                 ]\n        };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1481328697, "post_id": 41070581, "comment_id": 69348566, "body": "Thanks for the reply. I know how to create a hash and then use the data later when needed using the key and values of the hash. But I wanted to check out how to do the same using a struct. So, for that I wanted to know how to convert the array to struct and not array to hash."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1481330106, "post_id": 41070581, "comment_id": 69348869, "body": "@V.Tej Perl doesn&#39;t have structs, unless you <a href=\"http://perldoc.perl.org/perlxstut.html\" rel=\"nofollow noreferrer\">drop into C and that rapidly gets messy</a> or use <a href=\"https://metacpan.org/pod/Inline::C\" rel=\"nofollow noreferrer\">Inline::C</a>. Or you could muck something together with <code>vec</code> and byte arrays. <a href=\"http://metacpan.org/pod/Class::Struct\" rel=\"nofollow noreferrer\">Class::Struct</a> doesn&#39;t use structs, it uses hashes or arrays. It&#39;s really old and weird and should be avoided (a lot of modules that ship with Perl are like that). Instead look into an object framework like <a href=\"https://metacpan.org/pod/Moo\" rel=\"nofollow noreferrer\">Moo</a> or <a href=\"https://metacpan.org/pod/Class::Tiny\" rel=\"nofollow noreferrer\">Class::Tiny</a>."}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1481419141, "post_id": 41070581, "comment_id": 69370131, "body": "Thanks for the help. I&#39;ll look into it."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 0, "last_activity_date": 1481327365, "creation_date": 1481327365, "answer_id": 41070581, "question_id": 41070484, "link": "https://stackoverflow.com/questions/41070484/perl-script-for-combining-arrays-to-form-a-structure/41070581#41070581", "title": "Perl script for combining arrays to form a structure", "body": "<p>Rather than using a struct as in C, you'd use a hash. Other languages call it a dictionary. It's an unordered list of pairs.</p>\n\n<pre><code>my %thing = (\n    key   =&gt; 1,\n    name  =&gt; 'A',\n    var   =&gt; 'var1',\n    count =&gt; 'c1'\n);\n</code></pre>\n\n<p>Then you can get at the pieces with, for example, <code>$thing{name}</code>.</p>\n\n<p>So to convert from your lists to a hash, you want to use the same element from each list to populate the fields of your hash.</p>\n\n<pre><code>my %thing = (\n    key   =&gt; $keys[0],\n    name  =&gt; $names[0],\n    var   =&gt; $vars[0],\n    count =&gt; $count[0]\n);\n</code></pre>\n\n<p>You want to be able to fetch things by their key. For that you need another hash which contains the things. A hash contains pairs of keys and values. The key is <code>$thing{key}</code> and the value is a reference to <code>%thing</code>.</p>\n\n<pre><code>$things{ $thing{key} } = \\%thing;\n</code></pre>\n\n<p>If you want to get the first thing back, you use its key and get it back as a hash reference.</p>\n\n<pre><code>my $thing = $things{1};\nprint $thing-&gt;{name};\n</code></pre>\n\n<p>To do it for all your values, put that in a loop counting out the number of items. Make a <code>%thing</code> out of each column of values. And add it to the <code>%things</code> hash.</p>\n\n<pre><code># This is declared outside the loop so it can be seen\n# both inside and outside the loop.\nmy %things;\n\nfor my $idx (0..$#keys) {\n    # This is declared inside the loop because we're only using\n    # the variable in the loop, but the data lives on in %things.\n    my %thing = (\n        key   =&gt; $keys[$idx],\n        name  =&gt; $names[$idx],\n        var   =&gt; $vars[$idx],\n        count =&gt; $count[$idx]\n    );\n\n    $things{ $thing{name} } = \\%things;\n}\n\nmy $thing_one = $things{1};\nprint $thing_one-&gt;{name};\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1481328601, "creation_date": 1481326514, "last_edit_date": 1481328601, "question_id": 41070484, "link": "https://stackoverflow.com/questions/41070484/perl-script-for-combining-arrays-to-form-a-structure", "title": "Perl script for combining arrays to form a structure", "body": "<p>I have perl script which reads data from excel files and pushes them into an array. I have many such arrays which I want to organize them into a structure.\nMy arrays can be seen as:</p>\n\n<pre><code>@keys = {1,2,3,4};\n@names = {A,B,C,D};\n@var = {var1,var2,var3,var4};\n@count = {c1,c2,c3,c4};\n</code></pre>\n\n<p>I want to organize them into structure as below:</p>\n\n<pre><code>struct 1{\n    A;\n    var1;\n    c1;\n}\nstruct 2{\n    B;\n    var2;\n    c2;\n}\n</code></pre>\n\n<p>Similarly, I want to organize other structs too. At the end, I want to create a array of all the structs. I want to refer the data within the structs using the reference names of that data. </p>\n\n<p>It will be great if I can get help with how to reference data within the structure and also how to use them at a later time in the code.\nI know that my question is abstract, but I am unable to figure out how to create/use structs in perl.</p>\n\n<p>I used below link for some basic understanding of structures.\n<a href=\"http://perldoc.perl.org/Class/Struct.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/Class/Struct.html</a></p>\n\n<p>********Edits*********</p>\n\n<p>Sorry that I specify my line of codes properly. Re-writing them here:</p>\n\n<pre><code>my @keys = (\"1\",\"2\",\"3\",\"4\"};\nmy @names = (\"A\",\"B\",\"C\",\"D\");\nmy @var = (\"var1\",\"var2\",\"var3\",\"var4\");\nmy @count = (\"c1\",\"c2\",\"c3\",\"c4\");\n</code></pre>\n\n<p>Also, I want to specify the structure as below:</p>\n\n<pre><code>struct( 1 =&gt; {\n    name =&gt; \"A\",  # want to iterate over the @names array to assign the values\n    var =&gt; \"var1\",  # similarly will iterate over the @var array for each struct\n    count =&gt; \"c1\", #similar for this one as above\n});\n</code></pre>\n\n<p>I want to create a structure as above. I want to know if this is the right way of creating such structures. Later when I have an array of all such structures, I want to access the data of that struct using the struct_name and the reference name (like name, var or count).</p>\n\n<p>I hope its clear. Thank you.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "edited": false, "score": 0, "creation_date": 1481320872, "post_id": 41069538, "comment_id": 69346313, "body": "Are you trying to include this in your Regex expression? If not, a separate Regex with an or should work just fine."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "reply_to_user": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "edited": false, "score": 0, "creation_date": 1481320943, "post_id": 41069538, "comment_id": 69346336, "body": "@KRichardson: a separate Regex will not say if <code>&#47;&#47;</code> is before or after the target."}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1481321199, "post_id": 41069538, "comment_id": 69346420, "body": "@Richardson, In the separate regex I am trying, I am unable to figure out how to include <code>&#47;&#47;</code> as it is interpreting it differently."}, {"owner": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1481321208, "post_id": 41069538, "comment_id": 69346423, "body": "@CasimiretHippolyte, fair point. I was assuming the <code>&#47;&#47;</code> would be at the start of the line, and could easily be checked with something like <code>&#47;^\\s*\\&#47;\\&#47;&#47;</code>"}, {"owner": {"reputation": 25945, "user_id": 743464, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3a21f6147bcc6bd9d997d5cc5b5f87c?s=128&d=identicon&r=PG", "display_name": "Andy Ray", "link": "https://stackoverflow.com/users/743464/andy-ray"}, "edited": false, "score": 0, "creation_date": 1481860174, "post_id": 41069538, "comment_id": 69554354, "body": "If your question was answered, click the empty checkmark next to an answer to mark it correct. Otherwise, refine the question."}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "reply_to_user": {"reputation": 25945, "user_id": 743464, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3a21f6147bcc6bd9d997d5cc5b5f87c?s=128&d=identicon&r=PG", "display_name": "Andy Ray", "link": "https://stackoverflow.com/users/743464/andy-ray"}, "edited": false, "score": 0, "creation_date": 1481928105, "post_id": 41069538, "comment_id": 69586593, "body": "@Andy Ray Thanks for checking with my question. Yes, I accepted an answer."}], "answers": [{"comments": [{"owner": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "edited": false, "score": 1, "creation_date": 1481322755, "post_id": 41069714, "comment_id": 69346938, "body": "Why <code>\\s{1,10}</code> spaces? Why not use <code>\\s+</code>?"}, {"owner": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "edited": false, "score": 0, "creation_date": 1481327113, "post_id": 41069714, "comment_id": 69348157, "body": "I left that from the code provided by the OP, but yes I agree. If you&#39;d like to edit the answer accordingly, I&#39;d gladly accept it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481330373, "post_id": 41069714, "comment_id": 69348930, "body": "The solution didn&#39;t work if the &quot;//&quot; was at the very start of the line, but I fixed it."}], "tags": [], "owner": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "is_accepted": false, "score": 2, "last_activity_date": 1481330108, "last_edit_date": 1481330108, "creation_date": 1481321769, "answer_id": 41069714, "question_id": 41069538, "link": "https://stackoverflow.com/questions/41069538/perl-script-regex-to-avoid-a-particular-pattern/41069714#41069714", "title": "perl script/regex to avoid a particular pattern", "body": "<p>If you need to include the check in the same Regex expression (rather than tying two together with an <code>and</code>, you could use negative lookahead:</p>\n\n<pre><code>if (m{/^(?:(?!//).)*class\\s{1,10}$className\\s{1,10}extends}) {\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "edited": false, "score": 0, "creation_date": 1481322378, "post_id": 41069763, "comment_id": 69346820, "body": "That should do it. I found a way that may be helpful in the future using <code>negative lookahead</code>."}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "reply_to_user": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "edited": false, "score": 0, "creation_date": 1481322593, "post_id": 41069763, "comment_id": 69346895, "body": "Yes, your solution is crisp and helpful. Thank you."}], "tags": [], "owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "is_accepted": false, "score": 0, "last_activity_date": 1481322013, "creation_date": 1481322013, "answer_id": 41069763, "question_id": 41069538, "link": "https://stackoverflow.com/questions/41069538/perl-script-regex-to-avoid-a-particular-pattern/41069763#41069763", "title": "perl script/regex to avoid a particular pattern", "body": "<p>I think I found a solution with the help of above comments. I included the below line of code in my code:\n<code>if(/^\\s*\\/\\/class\\s{1,10}&lt;class_name&gt;\\s{1,10}extends/){next;}</code></p>\n\n<p>The new piece of code looks like this:</p>\n\n<pre><code>open my $fh, \"&lt;\", $file_t or die \"can't read open '$file_t': $OS_ERROR\";        # Opening the file\nwhile (&lt;$fh&gt;) {\nif(/^\\s*\\/\\/class\\s{1,10}&lt;class_name&gt;\\s{1,10}extends/){next;}\nelsif(/class\\s{1,10}&lt;class_name&gt;\\s{1,10}extends/){\n    #Perform the operation if we find above pattern\n}\nclose $fh or die \"can't read close '$file_t': $OS_ERROR\";                      #Closing the file\n}\n</code></pre>\n\n<p>Thanks for the help.</p>\n"}, {"comments": [{"owner": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "edited": false, "score": 0, "creation_date": 1481322250, "post_id": 41069772, "comment_id": 69346773, "body": "one problem might be the <code>public</code> (or similar) modifier"}, {"owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "edited": false, "score": 0, "creation_date": 1481322729, "post_id": 41069772, "comment_id": 69346930, "body": "@Andy Ray Yes, this solution works too. Nice idea and thank you. @K Richardson   I am not sure with the modifier though."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481330309, "post_id": 41069772, "comment_id": 69348916, "body": "If keywords can precede, you can use <code>&#47;^[\\w\\s]*\\bclass...&#47;</code>"}], "tags": [], "owner": {"reputation": 25945, "user_id": 743464, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3a21f6147bcc6bd9d997d5cc5b5f87c?s=128&d=identicon&r=PG", "display_name": "Andy Ray", "link": "https://stackoverflow.com/users/743464/andy-ray"}, "is_accepted": true, "score": 2, "last_activity_date": 1481330214, "last_edit_date": 1481330214, "creation_date": 1481322055, "answer_id": 41069772, "question_id": 41069538, "link": "https://stackoverflow.com/questions/41069538/perl-script-regex-to-avoid-a-particular-pattern/41069772#41069772", "title": "perl script/regex to avoid a particular pattern", "body": "<p>One solution is to only allow whitespace before the definition (if classes can declared in indented scopes)</p>\n\n<pre><code>/^\\s*class\\s+&lt;class_name&gt;\\s+extends/\n</code></pre>\n\n<p>Explanation</p>\n\n<pre><code>^ Start of line\n\\s* 0 or more whitespace characters\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6724223, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae8147e8133e7977beed4438cf79baa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tej", "link": "https://stackoverflow.com/users/6724223/v-tej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 41069772, "answer_count": 3, "score": 1, "last_activity_date": 1481330214, "creation_date": 1481320714, "last_edit_date": 1481321524, "question_id": 41069538, "link": "https://stackoverflow.com/questions/41069538/perl-script-regex-to-avoid-a-particular-pattern", "title": "perl script/regex to avoid a particular pattern", "body": "<p>I am trying to look for a pattern in files and perform an operation if the pattern is found. The pattern is <code>class &lt;class_name&gt; extends</code>. But I want to exclude the case in which I encounter the pattern <code>//class &lt;class_name&gt; extends</code> i.e. I want to skip the operation when I get commented  lines.</p>\n\n<pre><code>open my $fh, \"&lt;\", $file_t or die \"can't read open '$file_t': $OS_ERROR\";        # Opening the file\nwhile (&lt;$fh&gt;) {\n\n    if(/class\\s{1,10}&lt;class_name&gt;\\s{1,10}extends/){\n        #Perform the operation if we find above pattern\n    }\n close $fh or die \"can't read close '$file_t': $OS_ERROR\";                      #Closing the file\n}\n</code></pre>\n\n<p>How do I include the piece of code to exclude the pattern I mentioned.\nThanks for the help.</p>\n\n<p>***********Edits************</p>\n\n<p>I think I have to re-frame my question. I also want to ensure that when I look for <code>class &lt;class_name&gt; extends</code> I should look for that pattern only and not if that pattern exists along with a <code>//</code> before it. Something like, doing a \"if and only if\" that particular pattern exists with no other combination of characters.</p>\n"}, {"tags": ["perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1481314193, "post_id": 41068033, "comment_id": 69343307, "body": "<code>if (($list[2]) &lt; 500 &amp;&amp; &gt; 0);</code> is a syntax error. Can you please copy and paste the exact code you&#39;re using? (or better yet, create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)"}, {"owner": {"reputation": 61, "user_id": 1892538, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1634fb13ca4f63ddbc01310d76c39752?s=128&d=identicon&r=PG", "display_name": "Ark Angel", "link": "https://stackoverflow.com/users/1892538/ark-angel"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481314538, "post_id": 41068033, "comment_id": 69343485, "body": "I edited it and added the missing line (%UIDH;) other than my closes that is my code"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481386468, "post_id": 41068033, "comment_id": 69361342, "body": "Why in the first listing you have <code>$UIDH{$list[2]} = $list[5];</code> and in the second <code>$UIDH{$list[2]} = $list[6];</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1481314325, "last_edit_date": 1492087233, "creation_date": 1481314325, "answer_id": 41068116, "question_id": 41068033, "link": "https://stackoverflow.com/questions/41068033/how-to-convert-strings-to-integers-on-a-split-in-perl/41068116#41068116", "title": "@How to convert strings to integers on a split in Perl", "body": "<p>I don't know why you claim the comparison isn't working when you never got to evaluate it because your code doesn't even compile.</p>\n\n<pre><code>if (($list[2]) &lt; 500 &amp;&amp; &gt; 0); { ... }\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>if (($list[2]) &lt; 500 &amp;&amp; $list[2] &gt; 0) { ... }\n</code></pre>\n\n<p>Two errors:</p>\n\n<ul>\n<li><p><code>&gt;</code> is a binary operator; it needs to be used between two expressions to compare.</p></li>\n<li><p>The format of an <code>if</code> statement is <code>if (EXPR) BLOCK</code>, but you had <code>if (EXPR); BLOCK</code>.</p></li>\n</ul>\n\n<p>With these errors fixed, your code outputs the following:</p>\n\n<pre><code>S\nR\nR\nR\nR\nSU\n</code></pre>\n\n<p>This appears to be the expected result, but you didn't state what you were expecting.</p>\n\n<p>Note: You would greatly benefit from having your code <a href=\"https://codereview.stackexchange.com/\">reviewed</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1481386411, "creation_date": 1481386411, "answer_id": 41077544, "question_id": 41068033, "link": "https://stackoverflow.com/questions/41068033/how-to-convert-strings-to-integers-on-a-split-in-perl/41077544#41077544", "title": "@How to convert strings to integers on a split in Perl", "body": "<p>To make your code more readable and easier to maintain, you should use meaningful names for your variables.</p>\n\n<pre><code>@list = split (':', $a);\nmy $account_number = $list[2];\nmy $account_uidh   = $list[5];\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 1892538, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1634fb13ca4f63ddbc01310d76c39752?s=128&d=identicon&r=PG", "display_name": "Ark Angel", "link": "https://stackoverflow.com/users/1892538/ark-angel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 295, "favorite_count": 0, "accepted_answer_id": 41068116, "answer_count": 2, "score": -2, "last_activity_date": 1481386411, "creation_date": 1481313915, "last_edit_date": 1481314456, "question_id": 41068033, "link": "https://stackoverflow.com/questions/41068033/how-to-convert-strings-to-integers-on-a-split-in-perl", "title": "@How to convert strings to integers on a split in Perl", "body": "<p>I am reading in lines from a data file one at a time, splitting them on <strong>:</strong> and trying to store two specific values from the array into a hash.</p>\n\n<pre><code>foreach $a (&lt;INPUT&gt;)\n{   \n\n    @list = split (':', $a);\n\n    $UIDH{$list[2]} = $list[5];\n</code></pre>\n\n<p>Then I try to compare the value stored in the hash.</p>\n\n<pre><code>if (($list[2]) &lt; 500 &amp;&amp; &gt; 0);\n        {\n            print \"System type account\\n\";\n        }\n</code></pre>\n\n<p>That is the if I'm using. My conclusion is that the value in the hash is a string so the comparison isn't working. Below is my code as it appears in the program.</p>\n\n<pre><code>open (INPUT, \"&lt;info.old\") || die \"Cannot open file : $!\";\nopen (OUTPUT, \"&gt;out.txt\") || die \"Cannot open file : $!\";\n\n%UIDH;\n\nforeach $a (&lt;INPUT&gt;)\n{   \n\n    @list = split (':', $a);\n\n    $UIDH{$list[2]} = $list[6];\n\n    if (($list[2]) &gt;= 500)\n        {\n            print STDOUT \"R\\n\";\n        }\n    if (($list[2]) &lt; 500 &amp;&amp; &gt; 0);\n        {\n            print STDOUT \"S\\n\";\n        }\n    if (($list[2]) == 0)\n        {\n            print STDOUT \"SU\\n\";\n        }\n\n}\n</code></pre>\n\n<p>Lastly, here is an example of the data I'm working with</p>\n\n<pre><code>apache:x:48:48:Apache:/var/www:/sbin/nologin\nmsmith:x:501:501::/home/msmith:/bin/bash\nSjones:x:502:502::/home/sjones:/bin/bash\nsdonle:x:503:503::/home/sdavis:/bin/sh\nscrosby:x:504:504::/home/scrosby:/bin/bash\nborr:x:0:0::/home/borr:/bin/sh\n</code></pre>\n"}, {"tags": ["perl", "seed", "srand"], "answers": [{"tags": [], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "is_accepted": false, "score": 8, "last_activity_date": 1481309948, "last_edit_date": 1481309948, "creation_date": 1481309337, "answer_id": 41066994, "question_id": 41066993, "link": "https://stackoverflow.com/questions/41066993/why-dont-child-processes-produce-the-same-random-number-if-you-dont-set-the-se/41066994#41066994", "title": "Why don&#39;t child processes produce the same random number if you don&#39;t set the seed?", "body": "<p>The trick is in when the seed gets set.  It doesn't get set when <code>perl</code> starts; it gets set when <code>rand</code> is first called.  In the first case, <code>rand</code> is first called in each child, so each child gets its own seed.  You can see this if you call <code>rand</code> in the parent:</p>\n\n<pre><code>$ perl -E 'say \"parent: \", rand; for (1 .. 8) { next if fork; say \"$$: \", rand; exit;} wait for 1 .. 8'\nparent: 0.931186094953777\n60700: 0.105917756769003\n60701: 0.105917756769003\n60702: 0.105917756769003\n60703: 0.105917756769003\n60704: 0.105917756769003\n60705: 0.105917756769003\n60706: 0.105917756769003\n60707: 0.105917756769003\n</code></pre>\n\n<p>So, if you need to be certain that children have different random seeds, they need to call <code>srand</code> when they start (since you never know what code may call <code>srand</code> or <code>rand</code> in the parent).</p>\n"}], "owner": {"reputation": 61508, "user_id": 78259, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/844c572938eaad1e44eb084fb39416f9?s=128&d=identicon&r=PG", "display_name": "Chas. Owens", "link": "https://stackoverflow.com/users/78259/chas-owens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1481620926, "creation_date": 1481309337, "question_id": 41066993, "link": "https://stackoverflow.com/questions/41066993/why-dont-child-processes-produce-the-same-random-number-if-you-dont-set-the-se", "title": "Why don&#39;t child processes produce the same random number if you don&#39;t set the seed?", "body": "<p>In the docs for <code>srand</code>, it says:</p>\n\n<blockquote>\n  <p>Another case is that you may want to call \"srand\" after a \"fork\" to avoid child processes sharing the same seed value as the parent (and consequently each other).</p>\n</blockquote>\n\n<p>I could have sworn I never ran into this, so I tested it:</p>\n\n<pre><code>$ perl -E 'for (1 .. 8) { next if fork; say rand; exit;} wait for 1 .. 8'\n0.301967407417582\n0.497966311014356\n0.05798998109913\n0.907357103963481\n0.240495550287054\n0.74279685605234\n0.368774714022042\n0.562179033951001\n</code></pre>\n\n<p>Then I tested setting the seed in the parent with <code>srand</code>:</p>\n\n<pre><code>$ perl -E 'srand; for (1 .. 8) { next if fork; say rand; exit;} wait for 1 .. 8'\n0.13028028358622\n0.13028028358622\n0.13028028358622\n0.13028028358622\n0.13028028358622\n0.13028028358622\n0.13028028358622\n0.13028028358622\n</code></pre>\n\n<p>So, if you set the seed in the parent, the children all get the same value. Why doesn't this happen in the first example?</p>\n"}, {"tags": ["python", "c", "regex", "perl"], "comments": [{"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 1, "creation_date": 1481307462, "post_id": 41066448, "comment_id": 69340082, "body": "It&#39;s a classical &quot;parentheses balancing&quot; problem if we get rid of all of the RNA noise around..."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1481307523, "post_id": 41066448, "comment_id": 69340109, "body": "&quot;I feel one can do this easily in python using regular expressions or may be perl but I don&#39;t have much experience with those languages.&quot; Unless you plan to really learn Python and/or Perl, you should probably stick to the languages you&#39;re comfortable with."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481307732, "post_id": 41066448, "comment_id": 69340190, "body": "This isn&#39;t all that easy, in any language.  In Perl there may be modules that can help but you&#39;d still need a good command on the basics of the language."}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481308282, "post_id": 41066448, "comment_id": 69340427, "body": "@ThisSuitIsBlackNot Thanks, I am learning python sir. It&#39;s libraries really make life easier. I chose C because I know it relatively more."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1481376828, "post_id": 41066448, "comment_id": 69358539, "body": "I am a programmer. What are these &quot;elements&quot;?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481383603, "post_id": 41066448, "comment_id": 69360513, "body": "You say <i>&quot;element 1 is connected to element 72&quot;</i>. Please will you explain that?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481384423, "post_id": 41066448, "comment_id": 69360747, "body": "<i>&quot;it is becoming more difficult to program in C&quot;</i> What do you mean here? People&#39;s skills in a language don&#39;t generally get worse with practice."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481384659, "post_id": 41066448, "comment_id": 69360808, "body": "<i>&quot;I feel one could do this easily in Python using regular expressions, or maybe Perl&quot;</i> Okay, so try it in Python. Do you know Python? Stack Overflow isn&#39;t a place to lean a new language. In any case I believe that Perl would suit you better if you have much text processing like this to code for."}], "answers": [{"comments": [{"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481309373, "post_id": 41066896, "comment_id": 69340983, "body": "It&#39;s partially incorrect. Free region information should also come in groups e.g. 8,9 is one 14,15,16,17,18 is another. Also, if you can briefly explain the logic it will be great help thanks !!"}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481309877, "post_id": 41066896, "comment_id": 69341236, "body": "It&#39;s incorrect. 10-25  are connected (not 10-65). Free region information should also come in groups e.g. 8,9 is one 14,15,16,17,18 is another. Also, if you can briefly explain the logic it will be great help thanks !!"}, {"owner": {"reputation": 802, "user_id": 6839881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27bebff537eeceb6ab0e310caa91b65?s=128&d=identicon&r=PG&f=1", "display_name": "Navidad20", "link": "https://stackoverflow.com/users/6839881/navidad20"}, "reply_to_user": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481309967, "post_id": 41066896, "comment_id": 69341288, "body": "are you indexing from 0 or 1?"}, {"owner": {"reputation": 802, "user_id": 6839881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27bebff537eeceb6ab0e310caa91b65?s=128&d=identicon&r=PG&f=1", "display_name": "Navidad20", "link": "https://stackoverflow.com/users/6839881/navidad20"}, "reply_to_user": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481310367, "post_id": 41066896, "comment_id": 69341501, "body": "I fixed the second part, I guess i need clarification on what you want for the pairs"}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481310413, "post_id": 41066896, "comment_id": 69341527, "body": "@ Navidad20 I am index from 1 like you. There was a mistake sorry ( 1-72 is correct)  but 10-25 are connected not 10-65."}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481310842, "post_id": 41066896, "comment_id": 69341744, "body": "@ Navidad20 Please look at the answer is written recently, he got the pairing right. Your free regions are correct."}, {"owner": {"reputation": 802, "user_id": 6839881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27bebff537eeceb6ab0e310caa91b65?s=128&d=identicon&r=PG&f=1", "display_name": "Navidad20", "link": "https://stackoverflow.com/users/6839881/navidad20"}, "reply_to_user": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481311226, "post_id": 41066896, "comment_id": 69341941, "body": "@VikasDubey the other answer has the same answer as me. Because he zero indexed, his 10, 24 is equivalent to my 11, 25. His 9, 64 is the same as my 10, 65"}, {"owner": {"reputation": 802, "user_id": 6839881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27bebff537eeceb6ab0e310caa91b65?s=128&d=identicon&r=PG&f=1", "display_name": "Navidad20", "link": "https://stackoverflow.com/users/6839881/navidad20"}, "reply_to_user": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481312002, "post_id": 41066896, "comment_id": 69342302, "body": "I wrote it on the spot, but i tried to explain my logic at the bottom"}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481314556, "post_id": 41066896, "comment_id": 69343492, "body": "Any idea why 73-74-75-76 are not showing as free region in the output."}, {"owner": {"reputation": 802, "user_id": 6839881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27bebff537eeceb6ab0e310caa91b65?s=128&d=identicon&r=PG&f=1", "display_name": "Navidad20", "link": "https://stackoverflow.com/users/6839881/navidad20"}, "reply_to_user": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481338087, "post_id": 41066896, "comment_id": 69350228, "body": "Sorry for the late response, but yeah its because there&#39;s no final check, i can update that"}], "tags": [], "owner": {"reputation": 802, "user_id": 6839881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27bebff537eeceb6ab0e310caa91b65?s=128&d=identicon&r=PG&f=1", "display_name": "Navidad20", "link": "https://stackoverflow.com/users/6839881/navidad20"}, "is_accepted": false, "score": 1, "last_activity_date": 1481338144, "last_edit_date": 1481338144, "creation_date": 1481308922, "answer_id": 41066896, "question_id": 41066448, "link": "https://stackoverflow.com/questions/41066448/finding-out-rna-base-pairing-in-given-structure/41066896#41066896", "title": "Finding out RNA base pairing in given structure", "body": "<p>Here's a potential solution. Free contains a list that indexes each dot and pairs contains a list of tuples that have the indexes of each pair. this runs on the assumption that your data is perfect (i.e. same number of left and right pairs, no right pairs before left pairs.) Nevertheless, this can be modified to check for edge cases. Based on your question I started the index at 1 instead of 0.</p>\n\n<pre><code>data = '(((((((..((((.....(..)))).((((.........)))).....(((((..)....))))))))))))....'\n\nleft = []\ngroup = []\nprev = ''\n\nfree = []\npairs = []\n\nfor index, elem in enumerate(data, 1):\n    if elem == '.' and prev == '.':\n        group.append(index)\n    elif elem == '.':\n        group = [index]\n    else:\n        if len(group) &gt;= 1:\n            free.append(group)\n            group = []\n        if elem == '(':\n            left.append(index)\n        elif elem == ')':\n            pairs.append([left.pop(), index])\n    prev = elem\nif len(group) &gt; 0:\n    free.append(group)\npairs.sort()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[1, 72], [2, 71], [3, 70], [4, 69], [5, 68], [6, 67], [7, 66], [10, 65], [11, 25], [12, 24], [13, 23], [19, 22], [27, 43], [28, 42], [29, 41], [30, 40], [49, 64], [50, 63], [51, 62], [52, 61], [53, 56]]\n[[8, 9], [14, 15, 16, 17, 18], [20, 21], [26], [31, 32, 33, 34, 35, 36, 37, 38, 39], [44, 45, 46, 47, 48], [54, 55], [57, 58, 59, 60]]\n</code></pre>\n\n<p>The code works by iterating once over each element. If it encounters a left paren, it appends the index to a list. When it then encounters a right paren, it pops off the index of the last seen left paren creating a pair. As for the free dots, keeping track of the previous element tells you how to handle each dot. If one has been seen, continue to add to the current list, otherwise start a new list.</p>\n"}, {"comments": [{"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481311444, "post_id": 41067274, "comment_id": 69342041, "body": "Hi , You got the pairing correct. However, Just like pairing I need to free regions location information e.g. [8-9] , [14-15-16-17-18]. Sorry if my question created confusion. I am not interested in finding out how many dotes are there. Also, it will help if my index starts from 1. Thanks !!"}, {"owner": {"reputation": 1985, "user_id": 7255359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ap90j.jpg?s=128&g=1", "display_name": "Sudheesh Singanamalla", "link": "https://stackoverflow.com/users/7255359/sudheesh-singanamalla"}, "reply_to_user": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481311572, "post_id": 41067274, "comment_id": 69342104, "body": "That&#39;s pretty simple given the code already, change the function to be"}, {"owner": {"reputation": 1985, "user_id": 7255359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ap90j.jpg?s=128&g=1", "display_name": "Sudheesh Singanamalla", "link": "https://stackoverflow.com/users/7255359/sudheesh-singanamalla"}, "reply_to_user": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481311618, "post_id": 41067274, "comment_id": 69342130, "body": "&lt;pre&gt; def getSpacesCount(spacesList, resultingPairs): \tfor pair in resultingPairs: \t\ta = pair[0] \t\tb = pair[1] \t\tspacesCount = 0 \t\tspaces = [] \t\tfor val in spacesList: \t\t\tif a &lt; val &lt; b: \t\t\t\tspaces.append(val) \t\t\t\tspacesCount+=1 \t\tprint a,b,spacesCount,spaces &lt;/pre&gt;"}, {"owner": {"reputation": 1985, "user_id": 7255359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ap90j.jpg?s=128&g=1", "display_name": "Sudheesh Singanamalla", "link": "https://stackoverflow.com/users/7255359/sudheesh-singanamalla"}, "reply_to_user": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481311888, "post_id": 41067274, "comment_id": 69342250, "body": "Vikas, Please find the Edit in the answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481312142, "post_id": 41067274, "comment_id": 69342353, "body": "<i>&quot;Can&#39;t seem to figure out how to edit stackoverflow&#39;s comments&quot;</i> There&#39;s an edit icon (a pencil) next to each comment. You can edit comments only for five minutes."}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1481312154, "post_id": 41067274, "comment_id": 69342357, "body": "Sorry, It&#39;s not I want either. please check @Navidad20 answer he got it right !"}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1481734819, "post_id": 41067274, "comment_id": 69498606, "body": "I learned how to use a stack from your and @Navidad20 &#39;s solutions. NIce example."}], "tags": [], "owner": {"reputation": 1985, "user_id": 7255359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ap90j.jpg?s=128&g=1", "display_name": "Sudheesh Singanamalla", "link": "https://stackoverflow.com/users/7255359/sudheesh-singanamalla"}, "is_accepted": false, "score": 0, "last_activity_date": 1481311851, "last_edit_date": 1481311851, "creation_date": 1481310394, "answer_id": 41067274, "question_id": 41066448, "link": "https://stackoverflow.com/questions/41066448/finding-out-rna-base-pairing-in-given-structure/41067274#41067274", "title": "Finding out RNA base pairing in given structure", "body": "<p>The best way to really solve such a question is by maintaining a stack. For every <code>(</code> that is encountered, you can push the index value into the stack and for every <code>)</code> you need to pop the stack with the number where the last <code>(</code> index was inserted. This means that the index of the <code>(</code> and that of the <code>)</code> form a pair.</p>\n\n<p>This can be achieved by doing something like this</p>\n\n<pre><code>seq = '(((((((..((((.....(..)))).((((.........)))).....(((((..)....))))))))))))....'\nxStack = []\nfor i, x in enumerate(seq):\n    if x == '(':\n        xStack.append(i)\n    if x == ')':\n        o = xStack.pop()\n</code></pre>\n\n<p>Now having the basic steps in place, there are a few more things that you'd need along with maintaining the index of the parenthesis. After the pop operation you'd need to store the matching pair , to do this, lets introduce another variable and basically do nothing when we encounter the <code>.</code></p>\n\n<pre><code>seq = '(((((((..((((.....(..)))).((((.........)))).....(((((..)....))))))))))))....'\n\nxStack = []\n\nresultingPairs = []\n\nfor i, x in enumerate(seq):\n    if x == '(':\n        xStack.append(i)\n    if x == ')':\n        o = xStack.pop()\n        tempPair = [o, i]\n        resultingPairs.append(tempPair)\n    if x == '.':\n        pass\n</code></pre>\n\n<p>Now that we have the resulting pairs which look like this</p>\n\n<pre><code>[[18, 21], [12, 22], [11, 23], [10, 24], [29, 39], [28, 40], [27, 41], [26, 42], [52, 55], [51, 60], [50, 61], [49, 62], [48, 63], [9, 64], [6, 65], [5, 66], [4, 67], [3, 68], [2, 69], [1, 70], [0, 71]]\n</code></pre>\n\n<p>we need to find out where all the free spaces are, this can be easily done by doing something as follows</p>\n\n<pre><code>spacesList = [i for i in range(len(seq)) if seq.startswith('.', i)]\n</code></pre>\n\n<p>which results in</p>\n\n<pre><code>[7, 8, 13, 14, 15, 16, 17, 19, 20, 25, 30, 31, 32, 33, 34, 35, 36, 37, 38, 43, 44, 45, 46, 47, 53, 54, 56, 57, 58, 59, 72, 73, 74, 75]\n</code></pre>\n\n<p>You can now easily write a function where you pass the <code>spacesList</code> and the <code>resultingPairs</code> and get the number of free spaces between each possible pair. There are a lot of optimizations possible but this should be able to get you started in the right direction.</p>\n\n<pre><code>def getSpacesCount(spacesList, resultingPairs):\n    for pair in resultingPairs:\n        a = pair[0]\n        b = pair[1]\n        spacesCount = 0\n        for val in spacesList:\n            if a &lt; val &lt; b:\n                spacesCount+=1\n        print a,b,spacesCount\n\nseq = '(((((((..((((.....(..)))).((((.........)))).....(((((..)....))))))))))))....'\nxStack = []\nresultingPairs = []\nfor i, x in enumerate(seq):\n    if x == '(':\n        xStack.append(i)\n    if x == ')':\n        o = xStack.pop()\n        tempPair = [o, i]\n        resultingPairs.append(tempPair)\n    if x == '.':\n        pass\n\nspacesList = [i for i in range(len(seq)) if seq.startswith('.', i)]\n\ngetSpacesCount(spacesList, resultingPairs)\n</code></pre>\n\n<p>and you have the values of position of opening parenthesis, closing parenthesis and the number of free spaces between them.</p>\n\n<pre><code>&gt;&gt;&gt; getSpacesCount(spacesList, resultingPairs)\n18 21 2\n12 22 7\n11 23 7\n10 24 7\n29 39 9\n28 40 9\n27 41 9\n26 42 9\n52 55 2\n51 60 6\n50 61 6\n49 62 6\n48 63 6\n9 64 28\n6 65 30\n5 66 30\n4 67 30\n3 68 30\n2 69 30\n1 70 30\n0 71 30\n</code></pre>\n\n<p><strong>Edit</strong>\nCan't seem to figure out how to edit stackoverflow's comments, Update the function to</p>\n\n<pre><code>def getSpacesCount(spacesList, resultingPairs):\n    for pair in resultingPairs:\n        a = pair[0]\n        b = pair[1]\n        spacesCount = 0\n        spaces = []\n        for val in spacesList:\n            if a &lt; val &lt; b:\n                spaces.append(val)\n                spacesCount+=1\n        print a,b,spacesCount,spaces\n</code></pre>\n\n<p>This will give you both count and positions. You can keep whichever one you really like.</p>\n\n<pre><code>&gt;&gt;&gt; getSpacesCount(spacesList, resultingPairs)\n18 21 2 [19, 20]\n12 22 7 [13, 14, 15, 16, 17, 19, 20]\n11 23 7 [13, 14, 15, 16, 17, 19, 20]\n10 24 7 [13, 14, 15, 16, 17, 19, 20]\n29 39 9 [30, 31, 32, 33, 34, 35, 36, 37, 38]\n28 40 9 [30, 31, 32, 33, 34, 35, 36, 37, 38]\n27 41 9 [30, 31, 32, 33, 34, 35, 36, 37, 38]\n26 42 9 [30, 31, 32, 33, 34, 35, 36, 37, 38]\n52 55 2 [53, 54]\n51 60 6 [53, 54, 56, 57, 58, 59]\n50 61 6 [53, 54, 56, 57, 58, 59]\n49 62 6 [53, 54, 56, 57, 58, 59]\n48 63 6 [53, 54, 56, 57, 58, 59]\n9 64 28 [13, 14, 15, 16, 17, 19, 20, 25, 30, 31, 32, 33, 34, 35, 36, 37, 38, 43, 44, 45, 46, 47, 53, 54, 56, 57, 58, 59]\n6 65 30 [7, 8, 13, 14, 15, 16, 17, 19, 20, 25, 30, 31, 32, 33, 34, 35, 36, 37, 38, 43, 44, 45, 46, 47, 53, 54, 56, 57, 58, 59]\n5 66 30 [7, 8, 13, 14, 15, 16, 17, 19, 20, 25, 30, 31, 32, 33, 34, 35, 36, 37, 38, 43, 44, 45, 46, 47, 53, 54, 56, 57, 58, 59]\n4 67 30 [7, 8, 13, 14, 15, 16, 17, 19, 20, 25, 30, 31, 32, 33, 34, 35, 36, 37, 38, 43, 44, 45, 46, 47, 53, 54, 56, 57, 58, 59]\n3 68 30 [7, 8, 13, 14, 15, 16, 17, 19, 20, 25, 30, 31, 32, 33, 34, 35, 36, 37, 38, 43, 44, 45, 46, 47, 53, 54, 56, 57, 58, 59]\n2 69 30 [7, 8, 13, 14, 15, 16, 17, 19, 20, 25, 30, 31, 32, 33, 34, 35, 36, 37, 38, 43, 44, 45, 46, 47, 53, 54, 56, 57, 58, 59]\n1 70 30 [7, 8, 13, 14, 15, 16, 17, 19, 20, 25, 30, 31, 32, 33, 34, 35, 36, 37, 38, 43, 44, 45, 46, 47, 53, 54, 56, 57, 58, 59]\n0 71 30 [7, 8, 13, 14, 15, 16, 17, 19, 20, 25, 30, 31, 32, 33, 34, 35, 36, 37, 38, 43, 44, 45, 46, 47, 53, 54, 56, 57, 58, 59]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "is_accepted": true, "score": 0, "last_activity_date": 1481401687, "last_edit_date": 1481401687, "creation_date": 1481338442, "answer_id": 41071692, "question_id": 41066448, "link": "https://stackoverflow.com/questions/41066448/finding-out-rna-base-pairing-in-given-structure/41071692#41071692", "title": "Finding out RNA base pairing in given structure", "body": "<p>I'm not sure what you want to get exactly, but this perl generates the same as Navidad20's. It relies on regular expressions. It uses the <a href=\"https://metacpan.org/pod/Regexp::Common\" rel=\"nofollow noreferrer\">Regexp::Common</a> module to get the positions of the balanced parentheses and a simple <code>while</code> loop to get the positions of the 'free' elements. It counts beginning at 1, not beginning at 0.</p>\n\n<p>I don't know how it would behave with invalid data.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Regexp::Common qw /balanced/;\n\nmy $seq = '(((((((..((((.....(..)))).((((.........)))).....(((((..)....))))))))))))....';\n\nwhile ($seq =~ /(?=($RE{balanced}{-parens=&gt;'()'}))/g) {\n    print 1 + $-[1], ' ',  $+[1], \" $1\\n\";\n}\n\nmy @free;\npush @free, [ 1 + $-[0] .. $+[0] ] while $seq =~ /\\.+/g;\n\nuse Data::Dumper; print Dumper \\@free;\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>1 72 (((((((..((((.....(..)))).((((.........)))).....(((((..)....))))))))))))\n2 71 ((((((..((((.....(..)))).((((.........)))).....(((((..)....)))))))))))\n3 70 (((((..((((.....(..)))).((((.........)))).....(((((..)....))))))))))\n4 69 ((((..((((.....(..)))).((((.........)))).....(((((..)....)))))))))\n5 68 (((..((((.....(..)))).((((.........)))).....(((((..)....))))))))\n6 67 ((..((((.....(..)))).((((.........)))).....(((((..)....)))))))\n7 66 (..((((.....(..)))).((((.........)))).....(((((..)....))))))\n10 65 ((((.....(..)))).((((.........)))).....(((((..)....)))))\n11 25 (((.....(..))))\n12 24 ((.....(..)))\n13 23 (.....(..))\n19 22 (..)\n27 43 ((((.........))))\n28 42 (((.........)))\n29 41 ((.........))\n30 40 (.........)\n49 64 (((((..)....))))\n50 63 ((((..)....)))\n51 62 (((..)....))\n52 61 ((..)....)\n53 56 (..)\n$VAR1 = [\n          [\n            8,\n            9\n          ],\n          [\n            14,\n            15,\n            16,\n            17,\n            18\n          ],\n          [\n            20,\n            21\n          ],\n          [\n            26\n          ],\n          [\n            31,\n            32,\n            33,\n            34,\n            35,\n            36,\n            37,\n            38,\n            39\n          ],\n          [\n            44,\n            45,\n            46,\n            47,\n            48\n          ],\n          [\n            54,\n            55\n          ],\n          [\n            57,\n            58,\n            59,\n            60\n          ],\n          [\n            73,\n            74,\n            75,\n            76\n          ]\n        ];\n</code></pre>\n"}], "owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 41071692, "answer_count": 3, "score": 2, "last_activity_date": 1482484626, "creation_date": 1481307117, "last_edit_date": 1482484626, "question_id": 41066448, "link": "https://stackoverflow.com/questions/41066448/finding-out-rna-base-pairing-in-given-structure", "title": "Finding out RNA base pairing in given structure", "body": "<p>I have a RNA sequence, which looks likes this. Each character represents a nucleotide ( programmers can ignore this, you can treat them as elements) : </p>\n\n<pre><code>         (((((((..((((.....(..)))).((((.........)))).....(((((..)....))))))))))))....\n</code></pre>\n\n<p>I will use this nomenclature  for the purpose of the question:</p>\n\n<pre><code>          ( = lhb\n          ) = rhb \n          . = dot\n</code></pre>\n\n<p>so essentially elements having lhb are connected to elements having rhb and all the dots are free regions.The way they are connected is complicated. It's hard to put in words so for convenience I will put numbers below <strong>some</strong> of the elements, which are connected :  </p>\n\n<pre><code>   (((((((..((((.....(..)))).((((.........)))).....(((((..)....))))))))))))....\n   1                 2  2       3         3           45  5    4          1   \n</code></pre>\n\n<p>I think this will give you an idea about how they are connected. I am interested in finding out the locations of elements which are connected and regions which are free.</p>\n\n<p>(e.g. element 1 is connected to element 72 and elements 8 to 9  are free).</p>\n\n<p>I \nchose C to code but I am no where close to logic.</p>\n\n<p>Also, It is becoming more difficult to program in C. I feel one can do this easily in python using regular expressions or may be perl but I don't have much experience with those languages. So, if anyone can provide an easier method that will be a huge help. Ideas to improve C code are also welcome. Here is my C code :-  </p>\n\n<pre><code>#include\u00a0&lt;stdio.h&gt;\n\nint main() {\n\nchar dot[500];\nint i = 0, j = 0;\nint count = 0, count1 = 0, count2 = 0;\nint lhb[100];\nint rhb[100];\nint dots[100];\nint pair_1[100];\nint pair_2[100];\nint pair_3[100];\nFILE * fp;\n\nfp = fopen(\"structure.txt\", \"r\");\n\nwhile (fscanf(fp, \"%c\", &amp; dot[i]) != EOF) {\n\n  i++;\n}\n\nfclose(fp);\n\nfor (i = 0; dot[i] != '\\0'; i++) {\n\n  if (dot[i] == '(') {\n    lhb[count] = dot[i];\n    pair_1[count] = i;\n    count++;\n    } \n  else if (dot[i] == '.') {\n    rhb[count1] = dot[i];\n    pair_2[count1] = i;\n    count1++;\n    }\n  else {\n    dots[count2] = dot[i];\n    pair_3[count2] = i;\n    count2++;\n    }\n}\n\n\nprintf(\"Base-pair details :\\n\");\n\nfor (j = 0; j &lt; count; j++)\n\n  printf(\"%d--%d\\n\", pair_1[j] + 1, pair_3[count - j - 1] + 1);\n\nprintf(\"Loop details :\\n\");\n\n// for(j=0;j&lt;=count;j++)\n\n// printf(\"--%d-\",pair_2[j]+1);\n\nreturn 0;\n\n}\n</code></pre>\n\n<p><br/></p>\n"}, {"tags": ["python", "bash", "perl", "shell", "math"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1481334053, "post_id": 41065535, "comment_id": 69349537, "body": "You&#39;ve got two decent answers, but you should really show what you&#39;ve tried.  How big is the sum likely to be?  You might need to worry about arithmetic overflows.  Also, the calculation is equivalent to sum(col2) - sum(col1) + NumRows.  Whether that&#39;s better than the arithmetic on each line depends in part on the values."}], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 7270797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8bec682fe912d67302d8c0b3c44f0acd?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/7270797/andrew"}, "edited": false, "score": 0, "creation_date": 1481304236, "post_id": 41065675, "comment_id": 69338449, "body": "Thanks!  Worked perfect, I&#39;ll accept your answer in 3 minutes when it lets me. :)"}, {"owner": {"reputation": 1462, "user_id": 3246843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3175adf3fae0cc86873a8e970d9879?s=128&d=identicon&r=PG", "display_name": "Greg Tarsa", "link": "https://stackoverflow.com/users/3246843/greg-tarsa"}, "reply_to_user": {"reputation": 375, "user_id": 7270797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8bec682fe912d67302d8c0b3c44f0acd?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/7270797/andrew"}, "edited": false, "score": 0, "creation_date": 1481304293, "post_id": 41065675, "comment_id": 69338470, "body": "Out of curiosity, how long does it take for the 15M rows? (You can put <code>time</code> in front of the command to get the timing.)"}, {"owner": {"reputation": 375, "user_id": 7270797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8bec682fe912d67302d8c0b3c44f0acd?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/7270797/andrew"}, "edited": false, "score": 0, "creation_date": 1481304596, "post_id": 41065675, "comment_id": 69338642, "body": "It was much, much faster than I expected: <code>real - 0m 0.134s, user - 0m 0.131s, sys - 0m 0.003s</code>"}, {"owner": {"reputation": 1462, "user_id": 3246843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3175adf3fae0cc86873a8e970d9879?s=128&d=identicon&r=PG", "display_name": "Greg Tarsa", "link": "https://stackoverflow.com/users/3246843/greg-tarsa"}, "reply_to_user": {"reputation": 375, "user_id": 7270797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8bec682fe912d67302d8c0b3c44f0acd?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/7270797/andrew"}, "edited": false, "score": 0, "creation_date": 1481307847, "post_id": 41065675, "comment_id": 69340233, "body": "Excellent!  Happy to help."}], "tags": [], "owner": {"reputation": 1462, "user_id": 3246843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a3175adf3fae0cc86873a8e970d9879?s=128&d=identicon&r=PG", "display_name": "Greg Tarsa", "link": "https://stackoverflow.com/users/3246843/greg-tarsa"}, "is_accepted": true, "score": 1, "last_activity_date": 1481304027, "creation_date": 1481304027, "answer_id": 41065675, "question_id": 41065535, "link": "https://stackoverflow.com/questions/41065535/add-the-value-of-all-rows-in-a-text-file/41065675#41065675", "title": "Add The Value of All Rows in a Text File?", "body": "<p>This is off the top of my head, but I think <code>awk</code> is a potential solution (assume the numbers are in numbers.txt):</p>\n\n<pre><code>awk -F, '{tot += $2 - $1 + 1} END{print tot}' &lt; numbers.txt\n</code></pre>\n\n<p>The <code>-F,</code> tells <code>awk</code> that comma is a separator, <code>tot</code> starts out as 0, by default, <code>END</code> is an awk keyword that say to execute the code block that follows after EOF is hit on the data.</p>\n\n<p>Awk is not the fastest weapon in the arsenal, but I'd give it a try as it fits on one line!</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1481305178, "last_edit_date": 1481305178, "creation_date": 1481304713, "answer_id": 41065859, "question_id": 41065535, "link": "https://stackoverflow.com/questions/41065535/add-the-value-of-all-rows-in-a-text-file/41065859#41065859", "title": "Add The Value of All Rows in a Text File?", "body": "<p>In perl, I'd do it like this: </p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $sum;\nwhile ( &lt;&gt; ) { \n   m/(\\d+),(\\d+)/;\n   $sum += $2 - $1 + 1;\n}\nprint $sum;\n</code></pre>\n\n<p>Which one-liner-ifies as;</p>\n\n<pre><code>perl -F',' -lane '$sum += $F[1] - $F[0] + 1; END { print $sum }'\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 7270797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8bec682fe912d67302d8c0b3c44f0acd?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/7270797/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "closed_date": 1481357250, "accepted_answer_id": 41065675, "answer_count": 2, "score": -4, "last_activity_date": 1481305178, "creation_date": 1481303502, "question_id": 41065535, "link": "https://stackoverflow.com/questions/41065535/add-the-value-of-all-rows-in-a-text-file", "closed_reason": "Not suitable for this site", "title": "Add The Value of All Rows in a Text File?", "body": "<p>I have a text file that looks like this:</p>\n\n<pre><code>0,5\n3,100\n30,90\n</code></pre>\n\n<p>For each row, I need to subtract the value of the first column from the value of the second column and then add 1.  And then add up each row.  For the example above:</p>\n\n<pre><code>5-0+1 = 6\n100-3+1 = 98\n90-30+1 = 61\n</code></pre>\n\n<p>Then I'd just add up those numbers:  <code>6+98+61 = 165</code>.</p>\n\n<p>The final result I'm trying to get with this is the number <code>165</code>.  As long as the same logic above is followed, I don't really care if it's done in a different way.  I'm just trying to find out the best way.</p>\n\n<p>The text file has about 15 million rows of text.  The second number is always higher than or equal to the first number, so you never have to worry about negatives.</p>\n\n<p>I'd be okay doing this in whatever language would be best, as long as it won't require extra (non-default) modules to be installed.  Any examples would be appreciated as well.</p>\n\n<p>My main concern is that it's processing 15 million rows, I need it to be fast as possible, and I'm not familiar enough with coding languages to know which would be the most efficient.</p>\n"}, {"tags": ["perl", "typing"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1481298128, "post_id": 41063809, "comment_id": 69334923, "body": "That depends on what you mean by &quot;weakly&quot; and &quot;strongly typed&quot;, and what you mean by &quot;type&quot; in relation to Perl."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481302043, "post_id": 41063809, "comment_id": 69337278, "body": "Related: <a href=\"http://www.perlmonks.org/?node_id=857765\" rel=\"nofollow noreferrer\">Perl as a Strong-Type and Dynanmic Programming Language</a> on Perl Monks."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1481311716, "post_id": 41063809, "comment_id": 69342175, "body": "Wondering why do you need this for the perl <i>learning</i>?"}], "answers": [{"comments": [{"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1481300649, "post_id": 41064290, "comment_id": 69336443, "body": "I&#39;m not sure I&#39;d say everything is a scalar when you have to explicitly cast objects as scalars.  Puzzling out things like <code>grep</code> or even the <code>=~</code> operator are a bitch when they act differently in &quot;scalar context.&quot;  And then there is the difference between casting a list as a scalar and getting a reference to the list."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 1, "creation_date": 1481300849, "post_id": 41064290, "comment_id": 69336542, "body": "Hmm, scalar vs. list context is something that I&#39;ll perhaps include. I don&#39;t think it really applies to a discussion about typing though, because a list is still just a collection of scalars."}, {"owner": {"reputation": 17608, "user_id": 3650362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqdi1.jpg?s=128&g=1", "display_name": "trentcl", "link": "https://stackoverflow.com/users/3650362/trentcl"}, "edited": false, "score": 0, "creation_date": 1481302599, "post_id": 41064290, "comment_id": 69337631, "body": "Going to have to disagree with you there -- why is &quot;collection of scalars&quot; not a type? What do you mean by &quot;type&quot;?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481305846, "post_id": 41064290, "comment_id": 69339246, "body": "Re &quot;<i>I would I think also call this an example of weak typing, in that perl tries to figure out the right thing to do, based on context</i>&quot;, That&#39;s not remotely close to <a href=\"http://perl.plover.com/yak/12views/samples/slide045.html\" rel=\"nofollow noreferrer\">any definition</a> or weakly typed I&#39;ve ever seen. I agree with your original assessment that this is unrelated to the &quot;discussion&quot;."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 17608, "user_id": 3650362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqdi1.jpg?s=128&g=1", "display_name": "trentcl", "link": "https://stackoverflow.com/users/3650362/trentcl"}, "edited": false, "score": 0, "creation_date": 1481305852, "post_id": 41064290, "comment_id": 69339249, "body": "@trentcl, All subs return a number of scalars. All values and variables here are of type scalar. There&#39;s no &quot;collection of scalar&quot; value or variable."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "edited": false, "score": 0, "creation_date": 1481306041, "post_id": 41064290, "comment_id": 69339354, "body": "@stevesliva, Polymorphism is allowed in both strongly- and weakly-typed languages, so the fact that <code>grep</code> and <code>=~</code> are polymorphic is irrelevant."}, {"owner": {"reputation": 4590, "user_id": 3120884, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/116656a5f0b09d1a524808706d709d9c?s=128&d=identicon&r=PG&f=1", "display_name": "stevesliva", "link": "https://stackoverflow.com/users/3120884/stevesliva"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481306427, "post_id": 41064290, "comment_id": 69339557, "body": "@ikegami trying to make the discussion more useful regardless of the precise question at hand.   &quot;Everything is a scalar&quot; in practice seems to bump into issues on any man page that mentions &quot;context.&quot;  You may be right that I opened this can of worms in the wrong context though."}, {"owner": {"reputation": 17608, "user_id": 3650362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqdi1.jpg?s=128&g=1", "display_name": "trentcl", "link": "https://stackoverflow.com/users/3650362/trentcl"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481330139, "post_id": 41064290, "comment_id": 69348880, "body": "@ikegami <code>@lines</code> and <code>@second</code> are variables, but they are not scalars. Subroutines are not scalars. Hashes are not scalars. Claiming that Perl &quot;basically has one one type - scalar&quot; calls into question the definition of &quot;type&quot;, since it&#39;s not the same one being used by... well, most people. I&#39;m just looking for clarification"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 17608, "user_id": 3650362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqdi1.jpg?s=128&g=1", "display_name": "trentcl", "link": "https://stackoverflow.com/users/3650362/trentcl"}, "edited": false, "score": 0, "creation_date": 1481331654, "post_id": 41064290, "comment_id": 69349144, "body": "@trentcl, I fully agree. I have no idea why Sobrique says there&#39;s only one type. [ Even in Perl&#39;s C code, arrays and scalars are different types. ...Kinda. An array (<code>AV*</code>) is really a scalar (<code>SV*</code>) of type <code>SVt_PVAV</code>, and you can use a cast to switch between the two. But that&#39;s two levels removed from Perl; it has no bearing here. ]"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 5, "last_activity_date": 1481301337, "last_edit_date": 1481301337, "creation_date": 1481299077, "answer_id": 41064290, "question_id": 41063809, "link": "https://stackoverflow.com/questions/41063809/is-perl-weakly-or-strongly-typed/41064290#41064290", "title": "Is Perl weakly or strongly typed?", "body": "<p>If you use the definition of 'strongly typed' that means you specify what type of data a variable holds - perl isn't.</p>\n\n<p>It basically has one type - scalar - which can hold a variety of different data types. Perl infers correctness of operation based on what it 'looks like'.  (It also has hash and array - which are groups of scalars)</p>\n\n<p>Because you can:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $value = 42;\n\n#concat 0 onto the end. \n$value .= 0;\nprint $value,\"\\n\";\n#numeric add\n$value += 1;\nprint $value,\"\\n\";\n#division - to create a float.\n$value = $value / 4;\nprint $value,\"\\n\";\n#string replacement on a float. \n$value =~ s/\\.25//g;\nprint $value,\"\\n\";\n</code></pre>\n\n<p>Which implicitly casts <code>$value</code> back and forth between string and number, and it 'just works' - I call it weakly typed. </p>\n\n<p>These are operations that ... wouldn't work (the way you expect) in a strongly typed language because of the type mismatching. </p>\n\n<p>One thing perhaps worth mentioning as related is the notion of <a href=\"http://perldoc.perl.org/perldata.html#Context\" rel=\"nofollow noreferrer\">context</a>. Perl is a context sensitive language, in that it infers what you mean from the context. </p>\n\n<p>So if you simply open and read from a file handle:</p>\n\n<pre><code>open ( my $input, '&lt;', \"some_file.txt\" ) or die $!;\nmy $line = &lt;$input&gt;; \n</code></pre>\n\n<p>This will read a single line from <code>$input</code> because it's doing a read in a <em>scalar</em> context. </p>\n\n<p>And if you instead do:</p>\n\n<pre><code>my @lines = &lt;$input&gt;; \n</code></pre>\n\n<p>Because you're working in a list context, the entirelty of the file is read into the array <code>@list</code>. </p>\n\n<p>You can explicitly test context using <code>wantarray()</code> (which is a misnomer - it should really be <code>wantlist</code>):</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nsub context_test {\n\n   if ( wantarray() ) {\n       return ( \"some\", \"results\", \"here\", \"(list context)\" );\n   }\n   else {\n      if ( defined wantarray() ) {\n          return \"some results (scalar context)\"; \n      }\n      else {\n           print \"called in a void context\\n\";\n      }\n   }\n}\n\nmy $first = context_test;\nprint Dumper \\$first;\n\nmy @second = context_test;\nprint Dumper \\@second;\n\ncontext_test;\n</code></pre>\n\n<p>I would I think also call this an example of weak typing, in that perl <em>tries</em> to figure out the right thing to do, based on context. And sometimes it does get this wrong. </p>\n\n<p>So you can:</p>\n\n<pre><code>print \"Elements are:\", @second, \"\\n\"; # prints elements from the array.\nprint \"Count is\", scalar @second,\"\\n\"; #prints number of elements in array.\nif ( @second &gt; 2 ) { \n   print \"Array \\@second has more than 2 elements\\n\";\n}\n</code></pre>\n\n<p>The reason I mention it is (aside from a comment) context may also be coerced by operator type. </p>\n\n<pre><code>$first .= @second; #forces scalar context due to concat operation. \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481306478, "post_id": 41065322, "comment_id": 69339589, "body": "Absolutely agree.  The notion originated and may have had a meaning 20 or 30 years ago, when the computing landscape was a hundred-fold smaller."}, {"owner": {"reputation": 143, "user_id": 6494931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4434dbd10ebd5eb08ac653882a2ffe?s=128&d=identicon&r=PG&f=1", "display_name": "xcpat", "link": "https://stackoverflow.com/users/6494931/xcpat"}, "edited": false, "score": 0, "creation_date": 1481315898, "post_id": 41065322, "comment_id": 69344160, "body": "That&#39;s very helpful. As new programming languages optimized for specific tasks are developed, we lose to ability to draw distinct lines between antiquated concrete categories."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1568667256, "post_id": 41065322, "comment_id": 102339582, "body": "Neither C (1972) nor Perl (1987) are new programming languages."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 27, "last_activity_date": 1604955717, "last_edit_date": 1604955717, "creation_date": 1481302652, "answer_id": 41065322, "question_id": 41063809, "link": "https://stackoverflow.com/questions/41063809/is-perl-weakly-or-strongly-typed/41065322#41065322", "title": "Is Perl weakly or strongly typed?", "body": "<blockquote>\n<p><em>I see mixed information about Perl being weakly or strongly typed</em></p>\n</blockquote>\n<p>That's no surprise given that there is also conflicting information as to whether C is a strongly-typed or weakly-typed language.</p>\n<ul>\n<li><p>An example for a statically, but <strong>weakly</strong> typed language is C. [<a href=\"http://compilers.iecc.com/comparch/article/95-10-071\" rel=\"nofollow noreferrer\">source</a>]</p>\n</li>\n<li><p>C is <strong>strongly</strong> typed... [<a href=\"http://ccs.njit.edu/%7Eelsa/280/280%20Lecture%2012%20became13_files/slide0138.htm+%22strongly+typed%22+%22%2Bc%22\" rel=\"nofollow noreferrer\">source</a>]</p>\n</li>\n<li><p>This works fine in <strong>weakly</strong> typed languages such as C. [<a href=\"http://www.mvps.org/vb/hardcore/html/typelessvariables.htm\" rel=\"nofollow noreferrer\">source</a>]</p>\n</li>\n<li><p>LISP engines ...  are themselves generally written in <strong>strongly</strong> typed languages like C... [<a href=\"http://tlug.linux.or.jp/ML/0010/msg00352.html\" rel=\"nofollow noreferrer\">source</a>]</p>\n</li>\n<li><p>In a <strong>weakly</strong> typed language such as C, ... [<a href=\"http://www.cs.colorado.edu/%7Ediwan/5535-99/hw-6-soln.html\" rel=\"nofollow noreferrer\">source</a>]</p>\n</li>\n<li><p>TYPE: <strong>strongly</strong> typed: (C, Algol, Fortran) [<a href=\"http://sweat.cs.unm.edu/%7Ebap/teach/S2000/CS257/notes/lecture/2000-01-19.txt\" rel=\"nofollow noreferrer\">source</a>]</p>\n</li>\n</ul>\n<p><a href=\"http://blog.plover.com/\" rel=\"nofollow noreferrer\">Mark J Dominus</a> <a href=\"http://perl.plover.com/yak/12views/samples/slide043.html\" rel=\"nofollow noreferrer\">compiled</a> the above list, and <a href=\"http://perl.plover.com/yak/12views/samples/slide045.html\" rel=\"nofollow noreferrer\">discovered</a> there are eight incompatible definitions for what it means to be strongly-typed.</p>\n<ol>\n<li><p>A language is strongly typed if <strong>type annotations are associated with variable names</strong>, rather than with values. If types are attached to values, it is weakly typed.</p>\n</li>\n<li><p>A language is strongly typed if it contains <strong>compile-time checks for type constraint violations</strong>. If checking is deferred to run time, it is weakly typed.</p>\n</li>\n<li><p>A language is strongly typed if it contains <strong>compile or run-time checks</strong> for type constraint violations. If no checking is done, it is weakly typed.</p>\n</li>\n<li><p>A language is strongly typed if <strong>conversions between different types are forbidden</strong>. If such conversions are allowed, it is weakly typed.</p>\n</li>\n<li><p>A language is strongly typed if <strong>conversions between different types must be indicated explicitly</strong>. If implicit conversions are performed, it is weakly typed.</p>\n</li>\n<li><p>A language is strongly typed if there is <strong>no language-level way to disable or evade the type system</strong>. If there are casts or other type-evasive mechansisms, it is weakly typed.</p>\n</li>\n<li><p>A language is strongly typed if it has a <strong>complex, fine-grained type system</strong> with compound types. If it has only a few types, or only scalar types, it is weakly typed.</p>\n</li>\n<li><p>A language is strongly typed if the <strong>type of its data objects is fixed and does not vary</strong> over the lifetime of the object. If the type of a datum can change, the language is weakly typed.</p>\n</li>\n</ol>\n<p>This goes to show that &quot;strongly-typed&quot; and &quot;weakly-typed&quot; are <a href=\"http://perl.plover.com/yak/12views/samples/slide046.html\" rel=\"nofollow noreferrer\">meaningless phrases</a>. As such, the rest of this answer and all other answers are really just guesses at what you are asking.</p>\n<hr />\n<blockquote>\n<p><em>Is Perl weakly or strongly typed?</em></p>\n</blockquote>\n<p>It has both strong types (scalar, array, hash, etc) and weak types (string, floating point number, signed integer, unsigned integer, references, etc).</p>\n<p>This is based on definitions #1, #2, #4, #5 and #6 from the above list.</p>\n<hr />\n<blockquote>\n<p><em>Wikipedia states that it also supports duck typing.</em></p>\n</blockquote>\n<p>Method calls do indeed utilize dynamic binding (<a href=\"https://en.wikipedia.org/wiki/Duck_typing\" rel=\"nofollow noreferrer\">duck typing</a>).</p>\n<p>This means the method called by <code>$o-&gt;method</code> is based on the current value of <code>$o</code>, rather than one associated with <code>$o</code> itself.</p>\n<p>As far as I know, the definition for this is unambiguous.</p>\n"}], "owner": {"reputation": 143, "user_id": 6494931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4434dbd10ebd5eb08ac653882a2ffe?s=128&d=identicon&r=PG&f=1", "display_name": "xcpat", "link": "https://stackoverflow.com/users/6494931/xcpat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2753, "favorite_count": 3, "answer_count": 2, "score": 14, "last_activity_date": 1604955717, "creation_date": 1481297498, "last_edit_date": 1481297811, "question_id": 41063809, "link": "https://stackoverflow.com/questions/41063809/is-perl-weakly-or-strongly-typed", "title": "Is Perl weakly or strongly typed?", "body": "<p>I am currently learning Perl 5 from learn.perl.org and I am curious about its typing system. I see mixed information about Perl being weakly or strongly typed, and that it is also dynamically typed. Wikipedia states that it also supports duck typing. </p>\n\n<p>Can anyone confirm its weakly or strongly typed nature?</p>\n"}, {"tags": ["string", "perl"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481289865, "post_id": 41061400, "comment_id": 69329472, "body": "Please comment all <code>print</code> and run again since it works fine."}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481289995, "post_id": 41061400, "comment_id": 69329552, "body": "perhaps I wasn&#39;t clear, it can print each array element correctly, but cannot join or concatenate the array correctly."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481290103, "post_id": 41061400, "comment_id": 69329627, "body": "what was your expecting output?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481290193, "post_id": 41061400, "comment_id": 69329686, "body": "Output <code>print</code>&#39;s like <code>Garrett-Bakelman, Francine E and Sheridan, Caroline K and Kacmarczyk, Thadeous J and Ishii, Jennifer and Betel, Doron and Alonso, Alicia and Mason, Christopher E and Figueroa, Maria E and Melnick, Ari M</code>"}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1481290289, "post_id": 41061400, "comment_id": 69329745, "body": "@ssr1012 yes that is the correct output.  I&#39;m worried because I don&#39;t understand why perl isn&#39;t concatenating the string or joining the string the way it has before (as I understood it, which is evidently wrong)"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481291028, "post_id": 41061400, "comment_id": 69330233, "body": "I should think now its ok for you."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481291576, "post_id": 41061400, "comment_id": 69330600, "body": "Maybe it&#39;s a bug related to your perl version? What version of the intereptor do you use?"}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481291736, "post_id": 41061400, "comment_id": 69330698, "body": "@ssr1012 the correct output is not printed.  Perl is printing mishmash, which can be seen in the comments.  I&#39;m using Perl 5.22.1 built for x86_64-linux-gnu-thread-multi"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481306854, "post_id": 41061400, "comment_id": 69339778, "body": "Btw, you don&#39;t need <code>$_ =~ m...</code> -- just <code>if (&#47;^AU\\s+-\\s+(.*)&#47;)</code> does it and is a idiomatic. Once you <i>are</i> having it assign to <code>$_</code> with <code>(&lt;$fh&gt;)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1009, "user_id": 2051109, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/216009d45e1b8e34f936173142f0648f?s=128&d=identicon&r=PG", "display_name": "BOC", "link": "https://stackoverflow.com/users/2051109/boc"}, "is_accepted": false, "score": 3, "last_activity_date": 1571407638, "last_edit_date": 1571407638, "creation_date": 1481292233, "answer_id": 41062206, "question_id": 41061400, "link": "https://stackoverflow.com/questions/41061400/perl-join-strings-incorrectly/41062206#41062206", "title": "perl join strings incorrectly", "body": "<p>your file <code>/home/con/Downloads/pmcid-PMC4354670.ris</code> should be converted from DOS convention to standard using the <code>dos2unix</code> command</p>\n\n<p>The trailing character '\\r' at the end of the string is the cause of your problems.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481309124, "post_id": 41066848, "comment_id": 69340870, "body": "Or you can add <code>s&#47;\\s+\\z&#47;&#47;g;</code> at the top of the loop."}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481309953, "post_id": 41066848, "comment_id": 69341280, "body": "Interesting, because CR is whitespace? Do you know why it doesn&#39;t work with <code>\\r</code> instead of <code>\\s</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481310003, "post_id": 41066848, "comment_id": 69341300, "body": "Did you account for the <code>\\n</code>?"}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481310312, "post_id": 41066848, "comment_id": 69341479, "body": "Ah, no. Thanks."}], "tags": [], "owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "is_accepted": false, "score": 1, "last_activity_date": 1481310290, "last_edit_date": 1481310290, "creation_date": 1481308694, "answer_id": 41066848, "question_id": 41061400, "link": "https://stackoverflow.com/questions/41061400/perl-join-strings-incorrectly/41066848#41066848", "title": "perl join strings incorrectly", "body": "<p>Further to BOC's answer, you can solve it without dos2unix by changing the <code>&lt;</code> in your open call to <code>&lt;:crlf</code>:</p>\n\n<pre><code>open my $fh, '&lt;:crlf', '/home/con/Downloads/pmcid-PMC4354670.ris';\n</code></pre>\n\n<p>Perl then <a href=\"http://perldoc.perl.org/PerlIO.html\" rel=\"nofollow noreferrer\">\"converts pairs of CR,LF to a single \"\\n\" newline character\"</a>.</p>\n\n<p>Or you can add <code>/r/n</code> to the end of your regex: </p>\n\n<pre><code>print join ' and ', map { /\\AAU  - (.*)\\r\\n/ } &lt;$fh&gt;;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": true, "score": 1, "last_activity_date": 1481387666, "creation_date": 1481387666, "answer_id": 41077753, "question_id": 41061400, "link": "https://stackoverflow.com/questions/41061400/perl-join-strings-incorrectly/41077753#41077753", "title": "perl join strings incorrectly", "body": "<p>Change your regex to this. This works with both DOS and UNIX formatted text files.</p>\n\n<pre><code>if ($_ =~ m/^AU\\s+-         #line starts with 'AU'\n\\s+                         #whitespace\n([^\\r\\n]*)                  #author is represented by non-newline characters, saved as $1\n/x) {\n</code></pre>\n"}], "owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 41077753, "answer_count": 3, "score": 0, "last_activity_date": 1571407638, "creation_date": 1481289451, "question_id": 41061400, "link": "https://stackoverflow.com/questions/41061400/perl-join-strings-incorrectly", "title": "perl join strings incorrectly", "body": "<p>I have a list of authors like this:</p>\n\n<pre><code>AU  - Garrett-Bakelman, Francine E\nAU  - Sheridan, Caroline K\nAU  - Kacmarczyk, Thadeous J\nAU  - Ishii, Jennifer\nAU  - Betel, Doron\nAU  - Alonso, Alicia\nAU  - Mason, Christopher E\nAU  - Figueroa, Maria E\nAU  - Melnick, Ari M\n</code></pre>\n\n<p>which I read with a perl script:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict; use warnings;\nmy @authors;\nopen my $fh, '&lt;', '/home/con/Downloads/pmcid-PMC4354670.ris' or die \"Can't read file: $!\";\nwhile (&lt;$fh&gt;) {\n    if ($_ =~ m/^AU\\s+-         #line starts with 'AU'\n    \\s+                         #whitespace\n    (.*)                        #author is represented by non-newline characters, saved as $1\n    /x) {\n        push @authors, $1;\n    }   \n}\nclose $fh;\nprintf(\"there are %u authors\\n\", scalar @authors);\nforeach my $author (@authors) {\n    print \"$author\\n\";#prints each element correctly\n}\nprint \"@authors\\n\";#but prints the concatenation incorrectly, 'Melnick, Ari Ma Er E Jine E'\nprint join ' and ', @authors;#prints 'and Melnick, Ari Ma Er E JE'\n</code></pre>\n\n<p>I cannot get the list of strings to be joined correctly.\nI have tried the 'join' function, concatenating a string as I'm reading the code, it's always a mishmash.</p>\n\n<p>How can I get the array of strings to be concatenated correctly?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 8, "creation_date": 1481289944, "post_id": 41061214, "comment_id": 69329522, "body": "It is a really, really bad idea to modify a Perl script from within the script. Use a separate data file instead."}, {"owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481290493, "post_id": 41061214, "comment_id": 69329873, "body": "It may be a bad idea, but it (maybe, couldn&#39;t test it until now) can be handy for some fancy gimmick tools. I&#39;m looking for a sane way of doing it (if any sane way exists). The insane way would probably be to open a filehandle on the own script... if this is even possible?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1481291883, "post_id": 41061214, "comment_id": 69330784, "body": "You cannot &#39;write&#39; to the DATA filehandle. You can &quot;open&quot; <code>$0</code> - and seek/write to it. But this is not a good idea."}, {"owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1533813163, "post_id": 41061214, "comment_id": 90489496, "body": "There is now a showcase for this supposedly bad idea on CPAN: <a href=\"https://metacpan.org/release/App-Unding\" rel=\"nofollow noreferrer\">metacpan.org/release/App-Unding</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1481300403, "post_id": 41062471, "comment_id": 69336236, "body": "As far as I understand, this is not persistent in the file. Maybe I&#39;m not clear enough in the question regarding this. But I&#39;m looking for something persistent."}], "tags": [], "owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "is_accepted": false, "score": 0, "last_activity_date": 1481293149, "creation_date": 1481293149, "answer_id": 41062471, "question_id": 41061214, "link": "https://stackoverflow.com/questions/41061214/write-to-the-data-section-in-perl/41062471#41062471", "title": "Write to the Data Section in Perl", "body": "<p>If the idea is to add things to what DATA can output, you can close it, then reopen it on a reference to a variable containing additional text, like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;use warnings;\n\nwhile(&lt;DATA&gt;) {\n    print(\"- $_\");\n}\n\nclose DATA;\n\nmy $additional_text = 'test2';\nopen DATA, '&lt;', \\$additional_text;\n$additional_text .= \"\\ntest3\";\nwhile(&lt;DATA&gt;) {\n    print(\"- $_\");\n}\n\n__DATA__\ntest\n</code></pre>\n\n<p>But you need to use the originally data contained in the DATA section before, I think.</p>\n"}, {"comments": [{"owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1481300266, "post_id": 41062584, "comment_id": 69336160, "body": "In this case I don&#39;t mind Dark Magic! I&#39;ll check this as soon as possible. Thx for the hint. If it works as intended, an actual answer with implementation would be neat."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 2, "creation_date": 1481302822, "post_id": 41062584, "comment_id": 69337757, "body": "@BorisD&#228;ppen <i>You</i> may not mind dark magic, but whoever has to maintain your software after you will mind it very much."}, {"owner": {"reputation": 5723, "user_id": 3861083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lt392.jpg?s=128&g=1", "display_name": "Fabian Lauer", "link": "https://stackoverflow.com/users/3861083/fabian-lauer"}, "reply_to_user": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 2, "creation_date": 1481307193, "post_id": 41062584, "comment_id": 69339935, "body": "@BorisD&#228;ppen Someday, someone will probably want to rant at you for going with such a solution, and that someone will probably be you. On the other hand ... <a href=\"https://www.youtube.com/watch?v=MQm5BnhTBEQ\" rel=\"nofollow noreferrer\">it&#39;s a really cool solution</a>."}, {"owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1481577880, "post_id": 41062584, "comment_id": 69424064, "body": "Wouldn&#39;t it be a good thing to &quot;copy and paste&quot; the code here instead of just linking?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1481580265, "post_id": 41062584, "comment_id": 69425310, "body": "Actually it might be a better thing to erase the link."}, {"owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1533813306, "post_id": 41062584, "comment_id": 90489589, "body": "There is now a module on CPAN, using this &quot;dark magic&quot;. I&#39;ll make the case, that in this case, it&#39;s fine, despite all the warnings: <a href=\"https://metacpan.org/release/App-Unding\" rel=\"nofollow noreferrer\">metacpan.org/release/App-Unding</a>"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 9, "last_activity_date": 1481299300, "last_edit_date": 1495541636, "creation_date": 1481293577, "answer_id": 41062584, "question_id": 41061214, "link": "https://stackoverflow.com/questions/41061214/write-to-the-data-section-in-perl/41062584#41062584", "title": "Write to the Data Section in Perl", "body": "<p>You can write to the DATA section with a text editor.</p>\n\n<p>Everything else is <a href=\"https://stackoverflow.com/a/10353338/168657\">dark magic</a>. Store input and program state in a separate file (or a database).</p>\n"}, {"comments": [{"owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1481576620, "post_id": 41066123, "comment_id": 69423351, "body": "By running your script, it&#39;s not obvious to me, what exactly the &quot;why&quot; is, that you are referring to and trying to show with the script. Can you explain in more detail?"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "reply_to_user": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 0, "creation_date": 1481581706, "post_id": 41066123, "comment_id": 69425956, "body": "The DATA file handle is open for read on the whole script. You can reopen it for writing and then change the entire script. This leaves it vulnerable to code injection."}], "tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1481305772, "creation_date": 1481305772, "answer_id": 41066123, "question_id": 41061214, "link": "https://stackoverflow.com/questions/41061214/write-to-the-data-section-in-perl/41066123#41066123", "title": "Write to the Data Section in Perl", "body": "<p>Writing to DATA would change the script. This is a bad idea because DATA is open for read on the script itself. This program illustrates why this is a bad idea.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nseek DATA, 0, 0;\nwhile( &lt;DATA&gt; ){\n    print;\n}\n\n__DATA__\n1\n2\n3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 1, "creation_date": 1481576960, "post_id": 41068736, "comment_id": 69423554, "body": "This solution is always appending at the end of the file. I&#39;m looking also how to replace the data. I think with your solution and the &quot;dark magic&quot; from mob I will be able to do what I want. Thanks for this helpful answer!"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1481316928, "creation_date": 1481316928, "answer_id": 41068736, "question_id": 41061214, "link": "https://stackoverflow.com/questions/41061214/write-to-the-data-section-in-perl/41068736#41068736", "title": "Write to the Data Section in Perl", "body": "<p>There is probably no good reason to this, but here is how:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nseek DATA, 0, 2; # go to the end of the source file\nmy $offset = tell(DATA); # remember where that is\n\nopen my $f, '&gt;&gt;', $0 # open source file for appending\n    or die $!;       # of course, you could use DATA instead of $f here\n\nseek $f, $offset, 0; # go to the previously recorded position\n\nprint $f \"This is a test\\n\"; # put something there\n\n__DATA__\n</code></pre>\n"}], "owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 2, "accepted_answer_id": 41062584, "answer_count": 4, "score": 2, "last_activity_date": 1602441449, "creation_date": 1481288798, "last_edit_date": 1602441449, "question_id": 41061214, "link": "https://stackoverflow.com/questions/41061214/write-to-the-data-section-in-perl", "title": "Write to the Data Section in Perl", "body": "<p>It is quite easy to read from the data section <code>__DATA__</code> in Perl.\nThe following code uses the preexisting <code>DATA</code> handle:</p>\n<pre><code>foreach (&lt;DATA&gt;) {\n    print(&quot;- $_&quot;);\n}\n\n__DATA__\n1\n2\nThe End of The End\n</code></pre>\n<p>produces:</p>\n<pre><code>- 1\n- 2\n- The End of The End\n</code></pre>\n<p>However I haven't found any neat way of writing data to the section.\nFor example I've tried the following:</p>\n<pre><code>use feature say;\n\nsay STDERR 'Some Error';\nsay STDOUT 'Some Message';\nsay DATA   'Some Data';\n\n__DATA__\nfoo bar\n</code></pre>\n<p>The print to <code>STDOUT</code> and <code>STDERR</code> works as expected:</p>\n<pre><code>perl write.pl 2&gt; /dev/null \nSome Message\n</code></pre>\n<p>But the print to <code>DATA</code> does nothing at all:</p>\n<pre><code>tail -2 write.pl \n__DATA__\nfoo bar\n</code></pre>\n<p>I also have looked at several modules from CPAN, but I always only found support for <em>read</em>, not <em>write</em>.\nThanks for any hints and help!</p>\n"}, {"tags": ["perl", "audio", "asterisk"], "comments": [{"owner": {"reputation": 932, "user_id": 1618438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d3310890e4c84a948b21635415c308bd?s=128&d=identicon&r=PG", "display_name": "QuickDanger", "link": "https://stackoverflow.com/users/1618438/quickdanger"}, "edited": false, "score": 0, "creation_date": 1483072641, "post_id": 41060991, "comment_id": 69983480, "body": "Have you considered using eAGI to stream audio directly from the script? <a href=\"https://wiki.asterisk.org/wiki/display/AST/Application_EAGI\" rel=\"nofollow noreferrer\">wiki.asterisk.org/wiki/display/AST/Application_EAGI</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7219131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BjYxRbjlVMY/AAAAAAAAAAI/AAAAAAAAAC0/hWR3UBQlJmo/photo.jpg?sz=128", "display_name": "Dhawan Gupta", "link": "https://stackoverflow.com/users/7219131/dhawan-gupta"}, "edited": false, "score": 0, "creation_date": 1481289559, "post_id": 41061201, "comment_id": 69329269, "body": "Thanks, I&#39;ll try that."}, {"owner": {"reputation": 3, "user_id": 7219131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BjYxRbjlVMY/AAAAAAAAAAI/AAAAAAAAAC0/hWR3UBQlJmo/photo.jpg?sz=128", "display_name": "Dhawan Gupta", "link": "https://stackoverflow.com/users/7219131/dhawan-gupta"}, "edited": false, "score": 0, "creation_date": 1481289990, "post_id": 41061201, "comment_id": 69329549, "body": "The other problem which I am facing is the file is being saved as &quot;ggl_XXXX&quot; without the extension .wav, so when I am trying to play the file using print &quot;STREAM FILE $file \\&quot;$keys\\&quot;\\n&quot;; I am getting &quot;failed to play&quot; error."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3, "user_id": 7219131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BjYxRbjlVMY/AAAAAAAAAAI/AAAAAAAAAC0/hWR3UBQlJmo/photo.jpg?sz=128", "display_name": "Dhawan Gupta", "link": "https://stackoverflow.com/users/7219131/dhawan-gupta"}, "edited": false, "score": 0, "creation_date": 1481290236, "post_id": 41061201, "comment_id": 69329713, "body": "@DhawanGupta well, you haven&#39;t told it to use the right extension. But I don&#39;t see why that would matter unless it&#39;s on Windows."}, {"owner": {"reputation": 3, "user_id": 7219131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BjYxRbjlVMY/AAAAAAAAAAI/AAAAAAAAAC0/hWR3UBQlJmo/photo.jpg?sz=128", "display_name": "Dhawan Gupta", "link": "https://stackoverflow.com/users/7219131/dhawan-gupta"}, "edited": false, "score": 0, "creation_date": 1481290395, "post_id": 41061201, "comment_id": 69329810, "body": "How can I tell it to use the right extension?  P.S. I have added the code for playing the file."}, {"owner": {"reputation": 3, "user_id": 7219131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BjYxRbjlVMY/AAAAAAAAAAI/AAAAAAAAAC0/hWR3UBQlJmo/photo.jpg?sz=128", "display_name": "Dhawan Gupta", "link": "https://stackoverflow.com/users/7219131/dhawan-gupta"}, "edited": false, "score": 0, "creation_date": 1481291505, "post_id": 41061201, "comment_id": 69330547, "body": "It&#39;s CentOS 6 based <a href=\"https://wiki.asterisk.org/wiki/display/AST/Installing+AsteriskNOW\" rel=\"nofollow noreferrer\">AsteriskNOW</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3, "user_id": 7219131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BjYxRbjlVMY/AAAAAAAAAAI/AAAAAAAAAC0/hWR3UBQlJmo/photo.jpg?sz=128", "display_name": "Dhawan Gupta", "link": "https://stackoverflow.com/users/7219131/dhawan-gupta"}, "edited": false, "score": 0, "creation_date": 1481292022, "post_id": 41061201, "comment_id": 69330881, "body": "@DhawanGupta change the filename when you create the file. But I don&#39;t know anything about Asterisk, so I cannot really help you. I told you what was wrong with your code, but I cannot solve your task for you."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 0, "last_activity_date": 1481291978, "last_edit_date": 1481291978, "creation_date": 1481288750, "answer_id": 41061201, "question_id": 41060991, "link": "https://stackoverflow.com/questions/41060991/how-to-receive-a-wav-audio-file-using-http-post-in-perl-and-play-it-in-asterisk/41061201#41061201", "title": "How to receive a wav audio file using HTTP POST in Perl and play it in Asterisk AGI", "body": "<p>I assume you are using <a href=\"https://metacpan.org/pod/LWP::UserAgent\" rel=\"nofollow noreferrer\">LWP::UserAgent</a> for your <code>$ua</code> and <a href=\"https://metacpan.org/pod/File::Temp\" rel=\"nofollow noreferrer\">File::Temp</a> for the <code>tempfile</code> function.</p>\n\n<p><a href=\"https://metacpan.org/pod/File::Temp#tempfile\" rel=\"nofollow noreferrer\"><code>tempfile</code></a> returns a filehandle and a <em>filename</em>. <code>$uaresponse</code> is an <a href=\"http://p3rl.org/HTTP::Response\" rel=\"nofollow noreferrer\">HTTP::Response</a> object, and its <a href=\"https://metacpan.org/pod/HTTP::Response#r-content\" rel=\"nofollow noreferrer\">method <code>content</code></a> returns the undecoded, raw body of the HTTP response.</p>\n\n<p>You are assigning that body (which is probably the full wave file) to the variable that holds the filename of the temporary file. You never write the content to the file. You are trying to do that in your commented out code, but since you had already overwritten the filename it would not have worked.</p>\n\n<p>You can use the <code>$fh</code> that <code>tempfile</code> gives you directly. Since wave is binary data, it makes sense to set <code>binmode</code> on <code>$fh</code>. You can then directly write into it.</p>\n\n<pre><code>if(!$uaresponse-&gt;is_success){\n    print \"Failed request to IBM \\n\";\n} else{\n    print \"Successful with IBM \\n\";\n\n    my ($fh, $tmpname) = tempfile(\"ggl_XXXXXXXX.wav\", DIR =&gt; $tmpdir, UNLINK =&gt; 1);\n    binmode $fh;\n    print $fh $uaresponse-&gt;content; # or with pack if you want\n}\n</code></pre>\n\n<p>That should be it. There is no <code>:wav</code> encoding in Perl, so that part of the code you tried would not have worked anyway.</p>\n\n<p>Note that in your call to <code>tempfile</code> you set the <code>UNLINK =&gt; 1</code> option, which means that the temporary file will be automatically deleted once your program ends. It seems like that's not what you want. It looks like you want to keep that file. Maybe File::Temp is not the right approach in that case.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 7219131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BjYxRbjlVMY/AAAAAAAAAAI/AAAAAAAAAC0/hWR3UBQlJmo/photo.jpg?sz=128", "display_name": "Dhawan Gupta", "link": "https://stackoverflow.com/users/7219131/dhawan-gupta"}, "edited": false, "score": 0, "creation_date": 1481377659, "post_id": 41065034, "comment_id": 69358785, "body": "I think the 3rd and 4th might be the reason. I used &quot;chmod 777&quot; for file permission. Is it correct way to do that? What must be the right way?"}], "tags": [], "owner": {"reputation": 14851, "user_id": 861388, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e67c6ded563e65de617062d3c47d79c2?s=128&d=identicon&r=PG", "display_name": "arheops", "link": "https://stackoverflow.com/users/861388/arheops"}, "is_accepted": false, "score": 0, "last_activity_date": 1481301607, "creation_date": 1481301607, "answer_id": 41065034, "question_id": 41060991, "link": "https://stackoverflow.com/questions/41060991/how-to-receive-a-wav-audio-file-using-http-post-in-perl-and-play-it-in-asterisk/41065034#41065034", "title": "How to receive a wav audio file using HTTP POST in Perl and play it in Asterisk AGI", "body": "<p>Here is issues in order of most liked first.</p>\n\n<p>1) File must have <strong>EXACT</strong> format: <strong>wav, pcm 8khz, 16 bit, mono</strong>. Any other format will be ignored. If you have other format, you have use sox or other tool for change format first. If you <strong>UNSURE</strong> about format, you should use sox or other tool to be sure format is supported one.</p>\n\n<p>2) Filename you send to asterisk should be without .wav extension at end. User Asterisk::AGI module, no need rewrite agi interaction from scratch.</p>\n\n<p>3) file must have permission for read by asterisk user</p>\n\n<p>4) Dir where file located must have permission for open/read by asterisk user</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 7219131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BjYxRbjlVMY/AAAAAAAAAAI/AAAAAAAAAC0/hWR3UBQlJmo/photo.jpg?sz=128", "display_name": "Dhawan Gupta", "link": "https://stackoverflow.com/users/7219131/dhawan-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1481720356, "last_edit_date": 1481720356, "creation_date": 1481552436, "answer_id": 41102929, "question_id": 41060991, "link": "https://stackoverflow.com/questions/41060991/how-to-receive-a-wav-audio-file-using-http-post-in-perl-and-play-it-in-asterisk/41102929#41102929", "title": "How to receive a wav audio file using HTTP POST in Perl and play it in Asterisk AGI", "body": "<p>The answers provided by @arheops and @simbabque surely helped.</p>\n\n<p>The mischievious error which was hindering the normal functioning of my program was the print statement:</p>\n\n<pre><code>print \"Successful with IBM \\n\";\n</code></pre>\n\n<p>I learned it the hard way that print statements are executed on the Asterisk CLI so, above one was giving an error (510 Invalid or Unknown Command) which I was overlooking. Once I commented out the print response, it was working fine.</p>\n\n<p>However, if you feel like using print, correct way should be:</p>\n\n<pre><code>print \"VERBOSE \\\" Successful with IBM \\\" \\n\";\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7219131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BjYxRbjlVMY/AAAAAAAAAAI/AAAAAAAAAC0/hWR3UBQlJmo/photo.jpg?sz=128", "display_name": "Dhawan Gupta", "link": "https://stackoverflow.com/users/7219131/dhawan-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 0, "accepted_answer_id": 41061201, "answer_count": 3, "score": 0, "last_activity_date": 1481720356, "creation_date": 1481288076, "last_edit_date": 1481291293, "question_id": 41060991, "link": "https://stackoverflow.com/questions/41060991/how-to-receive-a-wav-audio-file-using-http-post-in-perl-and-play-it-in-asterisk", "title": "How to receive a wav audio file using HTTP POST in Perl and play it in Asterisk AGI", "body": "<p>I am using <a href=\"http://www.ibm.com/watson/developercloud/text-to-speech/api/v1/?curl#\" rel=\"nofollow noreferrer\">IBM Watson TTS</a> for Text-to-Speech functionality. \nI am able to get the audio file using Postman's <a href=\"https://www.getpostman.com/docs/responses\" rel=\"nofollow noreferrer\">Send and Download</a> functionality. But, how I am supposed to do that in Perl.\nI am completely new to Perl. \nThe reason I am using Perl to do it, is that I need to implement TTS in Asterisk AGI.</p>\n\n<p><strong>Edit</strong>: I am able to save the file. But, unable to play it in Asterisk. </p>\n\n<p>I am using following code snippet for the POST request and playing audio:</p>\n\n<pre><code>....\nmy $uaresponse = $ua-&gt;post(\n    \"$url\",\n    Content_Type =&gt; \"application/json\",\n    Accept =&gt; \"audio/wav\",\n    Authorization =&gt; \"Basic OWFmMjhhYmItMWFmMi00ZjU0LWE1YTAtNTJhNGUxNjRjNGQ1OnlkYWgwN3BRdEJMVA==\",\n    Content =&gt; $json_text,\n);\n\nif(!$uaresponse-&gt;is_success){\n    print \"Failed request to IBM \\n\";\n} else{\n    print \"Successful with IBM \\n\";\n\n    ($fh, $tmpname) = tempfile(\"ggl_XXXXXXXX\", DIR =&gt; $tmpdir, UNLINK =&gt; 1);\n\n    $tmpname = $uaresponse-&gt;content;\n\n# my approach is wrong somewhere here...??\n\n    #print \"$tmpname\\n\";\n\n\n#           open(my $out, '&gt;:wav', \"$tmpname.wav\") or die \"unable to open $!\";\n#           print $out pack('a*', $ua_response2-&gt;content);\n\n   # Playback and save file in cache #\n    $res = playback($tmpname, $intkey);\n    die if ($res &lt; 0);\n    last if ($res &gt; 0);\n\n}\n\n sub checkresponse {\nmy $input = &lt;STDIN&gt;;\nmy @values;\n\nchomp $input;\nif ($input =~ /^200 result=(-?\\d+)\\s?(.*)$/) {\n    @values = (\"$1\", \"$2\");\n} else {\n    $input .= &lt;STDIN&gt; if ($input =~ /^520-Invalid/);\n    warn \"$name Unexpected result: $input\\n\";\n    @values = (-1, -1);\n}\nreturn @values;\n}\n\nsub playback {\nmy ($file, $keys) = @_;\nmy @response;\n\nprint \"STREAM FILE $file \\\"$keys\\\"\\n\";\n@response = checkresponse();\nif ($response[0] &gt;= 32 &amp;&amp; chr($response[0]) =~ /[\\w*#]/) {\n    console_log(\"Got digit chr($response[0])\") if ($debug);\n    print \"SET EXTENSION \", chr($response[0]), \"\\n\";\n    checkresponse();\n    print \"SET PRIORITY 1\\n\";\n    checkresponse();\n} elsif ($response[0] == -1) {\n    console_log(\"Failed to play $file.\");\n}\nreturn $response[0];\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1481285323, "post_id": 41059633, "comment_id": 69326614, "body": "See also <a href=\"https://metacpan.org/pod/Lingua::EN::Titlecase\" rel=\"nofollow noreferrer\">Lingua::EN::Titlecase</a>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1481289275, "post_id": 41059633, "comment_id": 69329069, "body": "@H&#229;konH&#230;gland: Awesome we got it."}], "answers": [{"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": true, "score": 4, "last_activity_date": 1481288467, "last_edit_date": 1495539943, "creation_date": 1481288467, "answer_id": 41061123, "question_id": 41059633, "link": "https://stackoverflow.com/questions/41059633/how-can-i-convert-text-to-title-case/41061123#41061123", "title": "How can I convert text to title case?", "body": "<p>Thanks to <a href=\"https://metacpan.org/pod/Lingua::EN::Titlecase\" rel=\"nofollow noreferrer\">See also Lingua::EN::Titlecase</a> \u2013 <a href=\"https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland\">H\u00e5kon H\u00e6gland</a> given the way to get the output.</p>\n\n<pre><code>use Lingua::EN::Titlecase;\nmy $tc = Lingua::EN::Titlecase-&gt;new();\n\nwhile(&lt;DATA&gt;)\n{\n    my $line = $_;\n    my $tc = Lingua::EN::Titlecase-&gt;new($line);\n    print $tc;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481288969, "post_id": 41061191, "comment_id": 69328850, "body": "The used connecting words is less. Unfortunately we have more."}, {"owner": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481289083, "post_id": 41061191, "comment_id": 69328937, "body": "You can add more in the negative lookahead <code>(?!word1|word2|word3|...)</code>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481289219, "post_id": 41061191, "comment_id": 69329025, "body": "<a href=\"http://www.smart-words.org/linking-words/transition-words.html\" rel=\"nofollow noreferrer\">Please check this</a>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1481290032, "post_id": 41061191, "comment_id": 69329576, "body": "Obviously I got. Thanks for your speedy action."}], "tags": [], "owner": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "is_accepted": false, "score": 0, "last_activity_date": 1481289807, "last_edit_date": 1481289807, "creation_date": 1481288714, "answer_id": 41061191, "question_id": 41059633, "link": "https://stackoverflow.com/questions/41059633/how-can-i-convert-text-to-title-case/41061191#41061191", "title": "How can I convert text to title case?", "body": "<p>You can also try using this regex: <a href=\"https://regex101.com/r/Fjtgao/2\" rel=\"nofollow noreferrer\"><code>^(.)(.*?)\\b|\\b(at|to|that|and|this|the|a|is|was)\\b|\\b(\\w)([\\w']*?(?:[^\\w'-]|$))</code></a> and replace with <code>\\U$1\\L$2\\U$3\\L$4</code>. It works my matching the first letter of words that are not articles, capitalizing it, then matching the rest of the word. This seems to work in PHP, I don't know about Perl but it will likely work.</p>\n\n<ul>\n<li><code>^(.)(.*?)\\b</code> matches the first letter of the first word (group 1) and the rest of the word (group 2). This is done to prevent not capitalizing the first word because it's an article.</li>\n<li><code>\\b(word|multiple words|...)\\b</code> matches any connecting word to prevent capitalizing them.</li>\n<li><code>(\\w)([\\w']*?(?:[^\\w'-]|$))</code> matches the first letter of a word (group 3) and the rest of the word (group 4). Here I used <code>[^\\w'-]</code> instead of <code>\\b</code> so hyphens and apostrophes are counted as word characters too. This prevent <code>'s</code> from becoming <code>'S</code></li>\n</ul>\n\n<p>The <code>\\U</code> in replacement capitalizes the following characters and <code>\\L</code> lowers them. If you want you can add more articles or words to the regex to prevent capitalizing them.</p>\n\n<p><strong>UPDATE:</strong> I changed the regex so you can include connecting phrases too (multiple words). But that will still make a very long regex...</p>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 0, "accepted_answer_id": 41061123, "answer_count": 2, "score": 3, "last_activity_date": 1481300868, "creation_date": 1481283541, "last_edit_date": 1481300868, "question_id": 41059633, "link": "https://stackoverflow.com/questions/41059633/how-can-i-convert-text-to-title-case", "title": "How can I convert text to title case?", "body": "<p>I have a text file containing a list of titles that I need to change to title case (words should begin with a capital letter except for most articles, conjunctions, and prepositions).</p>\n\n<p>For example, this list of book titles:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>barbarians at the gate \nhot, flat, and crowded \nA DAY LATE AND A DOLLAR SHORT \nTHE HITCHHIKER'S GUIDE TO THE GALAXY\n</code></pre>\n\n<p>should be changed to:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Barbarians at the Gate \nHot, Flat, and Crowded \nA Day Late and a Dollar Short \nThe Hitchhiker's Guide to the Galaxy\n</code></pre>\n\n<p>I wrote the following code:</p>\n\n<pre><code>while(&lt;DATA&gt;)\n{\n    $_=~s/(\\s+)([a-z])/$1.uc($2)/eg;\n    print $_;\n}\n</code></pre>\n\n<p>But it capitalizes the first letter of every word, even words like \"at,\" \"the,\" and \"a\" in the middle of a title:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Barbarians At The Gate \nHot, Flat, And Crowded \nA Day Late And A Dollar Short \nThe Hitchhiker's Guide To The Galaxy\n</code></pre>\n\n<p>How can I do this?</p>\n"}, {"tags": ["perl", "proxy", "ldap"], "answers": [{"comments": [{"owner": {"reputation": 453, "user_id": 791066, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9782c430245361a93fc00f9e3044a2ff?s=128&d=identicon&r=PG", "display_name": "Anarko_Bizounours", "link": "https://stackoverflow.com/users/791066/anarko-bizounours"}, "edited": false, "score": 0, "creation_date": 1481530536, "post_id": 41063574, "comment_id": 69397523, "body": "I did try a telnet on the port and the url and ip, and that works. nmap tells me that the port is opened too.  So I&#39;m more prone to think that&#39;s a ldap proxy setup that&#39;s block the connection."}, {"owner": {"reputation": 812, "user_id": 3980707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aVkRT.jpg?s=128&g=1", "display_name": "Bertold Kolics", "link": "https://stackoverflow.com/users/3980707/bertold-kolics"}, "reply_to_user": {"reputation": 453, "user_id": 791066, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9782c430245361a93fc00f9e3044a2ff?s=128&d=identicon&r=PG", "display_name": "Anarko_Bizounours", "link": "https://stackoverflow.com/users/791066/anarko-bizounours"}, "edited": false, "score": 1, "creation_date": 1481581812, "post_id": 41063574, "comment_id": 69426008, "body": "You are probably right. You can always try a client like ldapsearch to test the LDAP proxy if you do not trust your code. Have the ldapsearch client bind as the user in your code."}, {"owner": {"reputation": 453, "user_id": 791066, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9782c430245361a93fc00f9e3044a2ff?s=128&d=identicon&r=PG", "display_name": "Anarko_Bizounours", "link": "https://stackoverflow.com/users/791066/anarko-bizounours"}, "edited": false, "score": 0, "creation_date": 1481639091, "post_id": 41063574, "comment_id": 69450619, "body": "did try that, (why didn&#39;t I think of that before).   The client couldn&#39;t connect to the ldap. It&#39;s more and more probable that the ldap proxy is in for this."}], "tags": [], "owner": {"reputation": 812, "user_id": 3980707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aVkRT.jpg?s=128&g=1", "display_name": "Bertold Kolics", "link": "https://stackoverflow.com/users/3980707/bertold-kolics"}, "is_accepted": false, "score": 1, "last_activity_date": 1481296836, "creation_date": 1481296836, "answer_id": 41063574, "question_id": 41058182, "link": "https://stackoverflow.com/questions/41058182/how-to-connect-to-a-ldap-through-a-proxy-ldap/41063574#41063574", "title": "How to connect to a ldap through a proxy ldap?", "body": "<p>In general, there should not be any difference connecting through a proxy (provided that it is an <em>LDAP</em> proxy) compared to connecting to an LDAP server directly as long as the LDAP proxy is setup properly. Did you try telnetting to the host/port of the proxy to see if you got the correct connection information?</p>\n"}], "owner": {"reputation": 453, "user_id": 791066, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9782c430245361a93fc00f9e3044a2ff?s=128&d=identicon&r=PG", "display_name": "Anarko_Bizounours", "link": "https://stackoverflow.com/users/791066/anarko-bizounours"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481296836, "creation_date": 1481279080, "question_id": 41058182, "link": "https://stackoverflow.com/questions/41058182/how-to-connect-to-a-ldap-through-a-proxy-ldap", "title": "How to connect to a ldap through a proxy ldap?", "body": "<p>I've a little issue. At work, we will shortly use a proxy ldap to connect to our ldap.</p>\n\n<p>However, my perl script used to connect directly to the ldap, and I can't find the right way to connect to the ldap through the ldap proxy.</p>\n\n<p>The ldap team told me to simply change \"my.local.ldap.org\" by the url of the proxy.</p>\n\n<p>But when I do that, I get nothing back except the error \"Can't contact LDAP server at myscript.pl line X, &lt; DATA> line 403.\"</p>\n\n<p>I'm at my wits end, since I'm pretty new to perl. </p>\n\n<p>How can I connect to my ldap throught the ldap proxy and get my data ?</p>\n\n<p>There is my perl code :</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse Net::LDAP;\nuse Net::SMTP;\nuse MIME::Lite;\nuse Getopt::Std;\n\nconnect_ldap();\n\nsub connect_ldap {\n\n    my @attributs = qw(uid subsidiary preferredLanguage);\n\n    my $ldap = Net::LDAP-&gt;new(\n        \"my.local.ldap.org\",\n        port =&gt; 389\n    ) or die open (STDERR, \"&gt;&amp;SDTOUT\");\n\n    my $mesg = $ldap-&gt;bind (\n        \"cn=app_readonly,ou=account,ou=security,o=oubase\",\n        password =&gt; \"mypassword\"\n    );\n\n    $mesg = $ldap-&gt;search(\n        base   =&gt; \"o=oubase\",\n        scope =&gt; \"sub\",\n        filter =&gt; \"(&amp;(objectclass=inetOrgPerson)(|(subsidiary=sub1)(subsidiary=sub2))(role=id=app_access,id=APP,*))\",\n        attrs =&gt; [ @attributs ]\n    );\n\n printf \"COUNT : %s\\n\", $mesg-&gt;count;\nforeach my $entry ($mesg-&gt;entries) {\n$entry-&gt;dump;\n }\nprint \"==========================================\\n\";\n\n        $mesg = $ldap-&gt;unbind;\n        $ldap-&gt;unbind;\n\n    }\n</code></pre>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1481271059, "post_id": 41055813, "comment_id": 69318285, "body": "Whats in <code>$img</code>? And why have you ommitted the <code>-p</code> from the first one?"}, {"owner": {"reputation": 13, "user_id": 3055208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4aad3059555830dd6948a200112a631?s=128&d=identicon&r=PG&f=1", "display_name": "bobbylox", "link": "https://stackoverflow.com/users/3055208/bobbylox"}, "reply_to_user": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 0, "creation_date": 1481271112, "post_id": 41055813, "comment_id": 69318311, "body": "a filename that looks like &quot;turn0to10001.png&quot;"}, {"owner": {"reputation": 3147, "user_id": 817132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773b5975a02bbba1758b2bf53ac38ae7?s=128&d=identicon&r=PG", "display_name": "wally", "link": "https://stackoverflow.com/users/817132/wally"}, "edited": false, "score": 1, "creation_date": 1481271174, "post_id": 41055813, "comment_id": 69318338, "body": "Tried having perl print the output when putting it into a bash variable?  All bash does is capture stdout..."}, {"owner": {"reputation": 9406, "user_id": 4923629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2abZO.png?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4923629/123"}, "edited": false, "score": 4, "creation_date": 1481271194, "post_id": 41055813, "comment_id": 69318347, "body": "cool, add -p to your first example and you should be fine."}, {"owner": {"reputation": 13, "user_id": 3055208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4aad3059555830dd6948a200112a631?s=128&d=identicon&r=PG&f=1", "display_name": "bobbylox", "link": "https://stackoverflow.com/users/3055208/bobbylox"}, "edited": false, "score": 0, "creation_date": 1481271322, "post_id": 41055813, "comment_id": 69318411, "body": "I thought it made no difference, but it turns out I was echoing the output incorrectly.  Wow!  Thanks.  Adding the -p back in really works. :)"}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1481271929, "post_id": 41055813, "comment_id": 69318708, "body": "@bobbylox: What is your expected output? Are you looking for other possible ways to achieve this?"}, {"owner": {"reputation": 19601, "user_id": 1620779, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/dlgGb.png?s=128&g=1", "display_name": "sjsam", "link": "https://stackoverflow.com/users/1620779/sjsam"}, "reply_to_user": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1481272626, "post_id": 41055813, "comment_id": 69319071, "body": "@Inian : The op may not look for a better solution as what he has is already the best for what he intends to do. The <code>$1</code> is similar to <code>\\1</code> in sed and look at these input/output samples to figure out the rest. <code>img=&quot;live6to50009&quot;</code> -&gt; <code>newName=live-10002</code> and <code>img=&quot;live4to50006&quot;</code> gives <code>newName=live10001</code>"}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "reply_to_user": {"reputation": 19601, "user_id": 1620779, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/dlgGb.png?s=128&g=1", "display_name": "sjsam", "link": "https://stackoverflow.com/users/1620779/sjsam"}, "edited": false, "score": 0, "creation_date": 1481272706, "post_id": 41055813, "comment_id": 69319115, "body": "@sjsam: Yeah, figured out his expected output, thought with the <code>bash</code> tagged, may be can provide a <code>regEx</code> for the same."}, {"owner": {"reputation": 19601, "user_id": 1620779, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/dlgGb.png?s=128&g=1", "display_name": "sjsam", "link": "https://stackoverflow.com/users/1620779/sjsam"}, "reply_to_user": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 1, "creation_date": 1481272860, "post_id": 41055813, "comment_id": 69319201, "body": "@Inian : imho, you can&#39;t do arithmetic regex calculations with <code>bash</code>. You need a tool like perl for that. The reason why <code>bash</code> wass tagged may be because he is incorporating <code>perl</code> script inside a bash wrapper"}], "answers": [{"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 3, "last_activity_date": 1481273498, "creation_date": 1481273498, "answer_id": 41056490, "question_id": 41055813, "link": "https://stackoverflow.com/questions/41055813/trying-to-store-perl-s-output-in-bash/41056490#41056490", "title": "Trying to store Perl s// output in Bash", "body": "<p>The assignment just captures the output (to <code>stdout</code>) of the <code>perl</code> command, so you need to have <code>perl</code> print the modified string after doing the substitution:</p>\n\n<pre><code>$ newName=$(perl -pe 's/(\\d)to\\d000(\\d)/(5-$1)*10000+(7-$2)/e' &lt;&lt;&lt; \"turn0to10001.png\")\n$ echo $newName\nturn50006.png\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 3055208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4aad3059555830dd6948a200112a631?s=128&d=identicon&r=PG&f=1", "display_name": "bobbylox", "link": "https://stackoverflow.com/users/3055208/bobbylox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481273498, "creation_date": 1481270984, "question_id": 41055813, "link": "https://stackoverflow.com/questions/41055813/trying-to-store-perl-s-output-in-bash", "title": "Trying to store Perl s// output in Bash", "body": "<p>I've tried a million variations, but basically I want to be able to store the result of a complicated filename substitution.</p>\n\n<pre><code>newName=$(perl -e 's/(\\d)to\\d000(\\d)/(5-$1)*10000+(7-$2)/e' &lt;&lt;&lt; \"$img\")\n</code></pre>\n\n<p>Unfortunately, this stores nothing at all.  However, when I set Perl to print, like this:</p>\n\n<pre><code>perl -pe 's/(\\d)to\\d000(\\d)/(5-$1)*10000+(7-$2)/e' &lt;&lt;&lt; \"$img\"\n</code></pre>\n\n<p>I get the correct result printed.  Can someone help me store the returned value in a variable in bash?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 3, "creation_date": 1481265125, "post_id": 41054342, "comment_id": 69315848, "body": "<i>&quot;Please suggest a perl code (preferably an one liner) that can do the job &quot;</i> -- Sorry, that&#39;s not the way StackOverflow works.  YOU are expected to attempt a solution.  If you encounter difficulties, post what you have written and explain what is not working."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481265304, "post_id": 41054342, "comment_id": 69315914, "body": "<i>Please</i>, show us what you are doing.  It&#39;s all so different then."}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1481268177, "post_id": 41054342, "comment_id": 69317037, "body": "@zdim.. I have edited my question"}], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1481268665, "post_id": 41055198, "comment_id": 69317244, "body": "should it have to be modified to run in an windows machine?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1481269134, "post_id": 41055198, "comment_id": 69317448, "body": "@J.Carter Huh ... not sure.  There is nothing system-specific but I have never run a one-liner on Windows, so I can&#39;t tell."}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1481269339, "post_id": 41055198, "comment_id": 69317558, "body": "ok.. i will check.. but in linux too.. it delete the third line character &quot;486- ,&quot; and in output it gives only a &quot;,&quot;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1481269432, "post_id": 41055198, "comment_id": 69317610, "body": "@J.Carter So ... ?  It should remove the comma?"}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1481269472, "post_id": 41055198, "comment_id": 69317629, "body": "it should print &quot;486, &quot;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1481269633, "post_id": 41055198, "comment_id": 69317693, "body": "@J.Carter Updated for that.  Now it strictly follows the problem specification where only the number <i>after</i> <code>-</code> may be missing.  It also now handles the comma (removes it if the range gets removed)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1481270201, "post_id": 41055198, "comment_id": 69317934, "body": "@J.Carter  Removed the bit about the comma as it is not needed"}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1481270325, "post_id": 41055198, "comment_id": 69317976, "body": "uuuummmmmmmmm... but the output third line should be: &quot;DP_00389.1: 486, 493-499, 529-544&quot;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1481270468, "post_id": 41055198, "comment_id": 69318022, "body": "@J.Carter Corrected. I understood &quot;<i>delete that -</i>&quot; so that the whole range should be removed"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1481346217, "last_edit_date": 1481346217, "creation_date": 1481268485, "answer_id": 41055198, "question_id": 41054342, "link": "https://stackoverflow.com/questions/41054342/selectively-clear-file-contents-perl/41055198#41055198", "title": "selectively clear file contents perl", "body": "<p>On each line, capture the numbers and evaluate a simple condition in the replacement part</p>\n\n<pre><code>perl -pe 's/(\\d+)\\s*-\\s*(\\d*)/ $2 ? \"$1-$2\" : \"$1\" /xge'  input.txt\n</code></pre>\n\n<p>With <code>/e</code> modifier the replacement part is evaluated as code. See it <a href=\"http://perldoc.perl.org/perlop.html#Regexp-Quote-Like-Operators\" rel=\"nofollow noreferrer\">in perlop</a> and <a href=\"http://perldoc.perl.org/perlretut.html#Using-regular-expressions-in-Perl\" rel=\"nofollow noreferrer\">in perlretut</a>.</p>\n\n<p>We need <code>*</code> quantifier in the second number for the match to <em>succeed</em> so that the replacement is carried out.  The problem specifies that only the second number may go missing, while it also allows a sole number to exist without a dash, thus the first number has <code>+</code>.</p>\n\n<p>The <code>-p</code> sets up the loop over input, sets <code>$_</code> to the current line, and prints it after processing.</p>\n"}, {"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1481269430, "creation_date": 1481269430, "answer_id": 41055420, "question_id": 41054342, "link": "https://stackoverflow.com/questions/41054342/selectively-clear-file-contents-perl/41055420#41055420", "title": "selectively clear file contents perl", "body": "<p>Trying to do it as a one liner is probably more trouble than it's worth. Parse it, clean it up, reassemble, and print it back out again. </p>\n\n<p>Your basic line format is pretty simple:</p>\n\n<pre><code>key: value, value, value, ...\n</code></pre>\n\n<p>First, split the key from the values on a <code>:</code>.</p>\n\n<pre><code>my($key, $value) = split /:/, $line;\n</code></pre>\n\n<p>Then split the values up on commas.</p>\n\n<pre><code>my @values = split /,/, $value;\n</code></pre>\n\n<p>Now you can leisurely strip out whitespace from each value.</p>\n\n<pre><code># This works because $_ in a for loop is an alias, not a copy\ns/\\s+//g for @values;\n</code></pre>\n\n<p>And assemble the line back together again.</p>\n\n<pre><code>say \"$key: \".join(\", \", @values);\n</code></pre>\n"}], "owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 41055198, "answer_count": 2, "score": -1, "last_activity_date": 1481346217, "creation_date": 1481264873, "last_edit_date": 1481268135, "question_id": 41054342, "link": "https://stackoverflow.com/questions/41054342/selectively-clear-file-contents-perl", "title": "selectively clear file contents perl", "body": "<p>I have a input.txt file in this format:</p>\n\n<pre><code>DP_00296.1: 1-2, 72- 82\nDP_00575.1: 63 -68, 206  - 208\nDP_00389.1: 486-, 493-499, 529-  544\n</code></pre>\n\n<p>I want to clear some formats as:\ni) clear the space(s) that might present before or after a \"-\"\nii) if a \"-\" is not followed by any number, delete that \"-\"</p>\n\n<p>For the above input.txt, I want final output.txt be like: </p>\n\n<pre><code>DP_00296.1: 1-2, 72-82\nDP_00575.1: 63-68, 206-208\nDP_00389.1: 486, 493-499, 529-544\n</code></pre>\n\n<p>Please suggest a perl code (preferably an one liner) that can do the job in one go instead of substituting in regex for two times?</p>\n\n<p>ps: My apologies for my approach @ zdim and @ Jim Garrison.. actually i'm looking for the regex that i'm comfortable with. Here what I hv tried:</p>\n\n<pre><code>#!/usr/bin/perl\nlocal $/=undef;\nopen(FILE, \"input.txt\") || die (\"Error\\n\");\n$string = &lt;FILE&gt;;\n\n$string =~ s/\\s//g;\nprint \"$string\";\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "autotools", "autoconf", "automake"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1481267615, "post_id": 41053012, "comment_id": 69316804, "body": "it was a warning, not an error message (though it will become an error in a future version of perl)"}], "answers": [{"comments": [{"owner": {"reputation": 22991, "user_id": 1169096, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b4d93e08b2830786a7992e8af35514c6?s=128&d=identicon&r=PG", "display_name": "uml&#228;ute", "link": "https://stackoverflow.com/users/1169096/uml%c3%a4ute"}, "edited": false, "score": 1, "creation_date": 1482138510, "post_id": 41053534, "comment_id": 69636560, "body": "please create a proper <a href=\"https://www.gnu.org/software/autoconf/autoconf.html#bug\" rel=\"nofollow noreferrer\">bug-report at the autoconf project</a>, including your fix. <a href=\"https://stackoverflow.com\">Stack Overflow</a> is not necessarily a good place to collect fixes for various widly-used software..."}, {"owner": {"reputation": 4257, "user_id": 2407363, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/JOzMf.jpg?s=128&g=1", "display_name": "Kemin Zhou", "link": "https://stackoverflow.com/users/2407363/kemin-zhou"}, "reply_to_user": {"reputation": 22991, "user_id": 1169096, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b4d93e08b2830786a7992e8af35514c6?s=128&d=identicon&r=PG", "display_name": "uml&#228;ute", "link": "https://stackoverflow.com/users/1169096/uml%c3%a4ute"}, "edited": false, "score": 0, "creation_date": 1482295507, "post_id": 41053534, "comment_id": 69710965, "body": "I have reported to the autoscan email.  I like the autotools system and I am learning it."}, {"owner": {"reputation": 3284, "user_id": 1487069, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jsf93.png?s=128&g=1", "display_name": "Carlo Wood", "link": "https://stackoverflow.com/users/1487069/carlo-wood"}, "edited": false, "score": 0, "creation_date": 1485731504, "post_id": 41053534, "comment_id": 71034621, "body": "I get this warning too, a lot, and I&#39;ve ignored it because things still seemed to work... I&#39;m sure it&#39;s a bug in autoscan."}], "tags": [], "owner": {"reputation": 4257, "user_id": 2407363, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/JOzMf.jpg?s=128&g=1", "display_name": "Kemin Zhou", "link": "https://stackoverflow.com/users/2407363/kemin-zhou"}, "is_accepted": false, "score": 1, "last_activity_date": 1481393340, "last_edit_date": 1481393340, "creation_date": 1481260453, "answer_id": 41053534, "question_id": 41053012, "link": "https://stackoverflow.com/questions/41053012/autoscan-unescaped-left-brace-in-regex-is-deprecated-passed-through-in-regex-m/41053534#41053534", "title": "autoscan Unescaped left brace in regex is deprecated, passed through in regex; marked by &lt;-- HERE in m/\\${ &lt;-- HERE [^\\}]*}/", "body": "<p>I edited the file: /usr/bin/autoscan (only changed line 361) the modified version:</p>\n\n<pre><code>360       s/#.*//;\n361       s/\\$\\{[^\\}]*\\}//g;\n362       s/@[^@]*@//g;\n</code></pre>\n\n<p>This seems to get rid of the warning (future will be error) message.</p>\n"}], "owner": {"reputation": 4257, "user_id": 2407363, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/JOzMf.jpg?s=128&g=1", "display_name": "Kemin Zhou", "link": "https://stackoverflow.com/users/2407363/kemin-zhou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2045, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481393340, "creation_date": 1481256997, "last_edit_date": 1481257843, "question_id": 41053012, "link": "https://stackoverflow.com/questions/41053012/autoscan-unescaped-left-brace-in-regex-is-deprecated-passed-through-in-regex-m", "title": "autoscan Unescaped left brace in regex is deprecated, passed through in regex; marked by &lt;-- HERE in m/\\${ &lt;-- HERE [^\\}]*}/", "body": "<p>when running autoscan 2.69 (2012 release) I got this error message.  It is a simple error in the perl code. autoscan is part of autoconf.   </p>\n"}, {"tags": ["javascript", "html", "ajax", "perl", "cgi"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1481236472, "post_id": 41049911, "comment_id": 69307656, "body": "<code>application&#47;x-www-form-    urlencoded</code> is that a typo HERE ONLY or also in your real code?"}, {"owner": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "edited": false, "score": 0, "creation_date": 1481237832, "post_id": 41049911, "comment_id": 69308116, "body": "On the command line, if you type<code>perl -e &#39;use CGI;&#39;</code> can it find the module? Another possibility is dos vs unix line endings... I mention this because of the suspicious &quot;\\r&quot; in the error output... you could try doing a <code>dos2unix</code> (or <code>unix2dos</code>) on your cgi script to see if it helps."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1481251889, "post_id": 41049911, "comment_id": 69312080, "body": "The obvious answer is that the perl installation on your server doesn&#39;t have the <code>CGI</code> module installed. It hasn&#39;t been a core module since v5.22 was released in June 2015."}], "answers": [{"tags": [], "owner": {"reputation": 1448, "user_id": 5464233, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208326386304302/picture?type=large", "display_name": "Guido Flohr", "link": "https://stackoverflow.com/users/5464233/guido-flohr"}, "is_accepted": false, "score": 1, "last_activity_date": 1481277437, "creation_date": 1481277437, "answer_id": 41057657, "question_id": 41049911, "link": "https://stackoverflow.com/questions/41049911/problems-with-cgi-script/41057657#41057657", "title": "Problems with CGI Script", "body": "<p>The important part of the error message is this:</p>\n\n<pre><code>Can't locate CGI.pm in @INC (@INC contains: .)\n</code></pre>\n\n<p>The search path for modules just contains the current directory \".\" and obviously there is no CGI.pm in the current directory.</p>\n\n<p>Try to find the directory, where CGI.pm is installed, and then add this line to your Apache configuration</p>\n\n<pre><code>SetEnv PERL5LIB \"G:/xampp/path/to/module/directory\"\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7269972"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481277437, "creation_date": 1481235893, "last_edit_date": 1481251561, "question_id": 41049911, "link": "https://stackoverflow.com/questions/41049911/problems-with-cgi-script", "title": "Problems with CGI Script", "body": "\n\n<p>A user has to type some text into a text field which is declared as a form in my HTML. Some JavaScript code prints the user's input which has been processed by a CGI script.</p>\n\n<h3>JavaScript</h3>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>function xmlHttpPost(strURL) {var xmlHttpReq;\n// Mozilla/Safari\n    if (window.XMLHttpRequest) {\n        xmlHttpReq = new XMLHttpRequest();\n    }\n// IE\n    else if (window.ActiveXObject) {\n        xmlHttpReq = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    xmlHttpReq.open('POST', strURL, true);\n    xmlHttpReq.timeout = 0;\n    xmlHttpReq.setRequestHeader('Content-Type', 'application/x-www-form-    urlencoded');\n    xmlHttpReq.onreadystatechange = function() {\n        if (xmlHttpReq.readyState == 4) {\n            updatepage(xmlHttpReq.responseText);\n        }\n    }\n    var form = document.forms['f1'];\n    var query = form.word.value;\n    xmlHttpReq.send(\"key=\" + query);\n}\n\nfunction updatepage(str){\n    document.getElementById(\"result\").innerHTML = \"Result:\" + \"&lt;br/&gt;\" + str;\n}\n</code></pre>\n\n<h3>CGI</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!\"G:\\xampp\\perl\\bin\\perl.exe\"\n\nuse CGI;\n\n$query = new CGI;\n$key = $query-&gt;param('key');\nprint $query-&gt;header;\nprint \"&lt;h1&gt;The key is $key&lt;/h1&gt;\"\n</code></pre>\n\n<p>When I type something into the form and submit the data Error 500 occurs:</p>\n\n<blockquote>\n  <p>End of script output before headers: ajax-echo.cgi</p>\n</blockquote>\n\n<p>This is what Apache's error.log says</p>\n\n<blockquote>\n  <p>AH01215: Can't locate CGI.pm in @INC (@INC contains: .) at G:/xampp/cgi-bin/ajax-echo.cgi line 7.\\r, referer: <a href=\"http://localhost/ajax.html?word=test\" rel=\"nofollow noreferrer\">http://localhost/ajax.html?word=test</a><br>\n  AH01215: BEGIN failed--compilation aborted at G:/xampp/cgi-bin/ajax-echo.cgi line 7.\\r, referer: <a href=\"http://localhost/ajax.html?word=test\" rel=\"nofollow noreferrer\">http://localhost/ajax.html?word=test</a></p>\n</blockquote>\n\n<p>There's a newly installed and configured XAMPP installation on my USB stick. It has every permission it needs to run properly.</p>\n"}, {"tags": ["xml", "perl"], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1561687860, "last_edit_date": 1561687860, "creation_date": 1481246489, "answer_id": 41051651, "question_id": 41047729, "link": "https://stackoverflow.com/questions/41047729/extract-a-variable-and-add-it-to-a-separate-xml-file/41051651#41051651", "title": "Extract a variable and add it to a separate XML file", "body": "<p><a href=\"https://metacpan.org/pod/XML::Simple#STATUS-OF-THIS-MODULE\" rel=\"nofollow noreferrer\">Do not use</a> <code>XML::Simple</code>.  Both <a href=\"http://search.cpan.org/dist/XML-LibXML/LibXML.pod\" rel=\"nofollow noreferrer\">XML::LibXML</a> and <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm\" rel=\"nofollow noreferrer\">XML::Twig</a> are far better, to say the least.</p>\n\n<p>I can't show how to pull data from the first XML since it's not shown, but here is how to edit that other XML file using <code>XML::LibXML</code>. I suggest to rewrite the first operation with this module as well.</p>\n\n<p>Find the node via an <a href=\"https://en.wikipedia.org/wiki/XPath\" rel=\"nofollow noreferrer\">XPath</a> expression and replace element's text-node children: remove and add.</p>\n\n<pre><code>use warnings;\nuse strict;    \nuse XML::LibXML;\n\n# ... your code that establishes the $session_id variable ...\nmy $session_id = 'SAMPLE_ID';\nmy $filename = 'another.xml';\n\nmy $doc = XML::LibXML-&gt;load_xml(location =&gt; $filename);\n\nmy ($node) = $doc-&gt;findnodes('//sessionid');\n$node-&gt;removeChildNodes();\n$node-&gt;appendText($session_id);    \n\n# print $doc-&gt;toString;\n$doc-&gt;toFile('edited_' . $filename);  # or just $filename to overwrite\n</code></pre>\n\n<p>Documentation on <a href=\"http://search.cpan.org/dist/XML-LibXML/LibXML.pod\" rel=\"nofollow noreferrer\">XML::LibXML</a> most relevant to this is for <a href=\"http://search.cpan.org/dist/XML-LibXML/lib/XML/LibXML/Text.pod\" rel=\"nofollow noreferrer\">Text</a>, <a href=\"http://search.cpan.org/~shlomif/XML-LibXML-2.0128/lib/XML/LibXML/Element.pod\" rel=\"nofollow noreferrer\">Element</a>, and <a href=\"http://search.cpan.org/~shlomif/XML-LibXML-2.0128/lib/XML/LibXML/Node.pod\" rel=\"nofollow noreferrer\">Node</a> classes. See also pages for <a href=\"http://search.cpan.org/~shlomif/XML-LibXML-2.0128/lib/XML/LibXML/Parser.pod\" rel=\"nofollow noreferrer\">Parser</a> and <a href=\"http://search.cpan.org/~shlomif/XML-LibXML-2.0128/lib/XML/LibXML/Document.pod\" rel=\"nofollow noreferrer\">Document</a>. Here is <code>XPath</code> <a href=\"https://www.w3.org/TR/xpath/?cm_mc_uid=16760443233414162548406&amp;cm_mc_sid_50200000=1481249745\" rel=\"nofollow noreferrer\">specification</a> and a <a href=\"http://www.w3schools.com/xml/xpath_intro.asp\" rel=\"nofollow noreferrer\">tutorial (w3schools)</a>.</p>\n\n<hr>\n\n<p>A few comments.</p>\n\n<p>Instead of loading the file directly we can create the parser object first </p>\n\n<pre><code>my $parser = XML::LibXML-&gt;new();\nmy $doc = $parser-&gt;parse_file($filename);\n</code></pre>\n\n<p>With the parser on hand we can use methods for <a href=\"http://search.cpan.org/~shlomif/XML-LibXML-2.0128/lib/XML/LibXML/Parser.pod#PARSER_OPTIONS\" rel=\"nofollow noreferrer\">its configuration</a> outside of the constructor (while stilll before parsing), what provides more flexibility.</p>\n\n<p>There are other ways to change data, depending on your purpose. For example</p>\n\n<pre><code>$node-&gt;firstChild-&gt;setData($session_id);\n</code></pre>\n\n<p>is more specific. It uses <code>firstChild</code> from <a href=\"http://search.cpan.org/~shlomif/XML-LibXML-2.0128/lib/XML/LibXML/Node.pod\" rel=\"nofollow noreferrer\">XML::LibXML::Node</a></p>\n\n<blockquote>\n  <p>If a node has child nodes this function will return the first node in the child list.</p>\n</blockquote>\n\n<p>and <code>setData</code> from <a href=\"http://search.cpan.org/dist/XML-LibXML/lib/XML/LibXML/Text.pod\" rel=\"nofollow noreferrer\">XML::LibXML::Text</a></p>\n\n<blockquote>\n  <p>This function sets or replaces text content to a node. The node has to be of the type \"text\", \"cdata\" or \"comment\".</p>\n</blockquote>\n\n<p>This works for that one child, \"<em>the first node in the child list</em>.\"</p>\n\n<p>We can also get the text node by <code>findnodes('//sessionid/text()')</code> and use <code>setData</code> (on that one child) directly, if the element has children. You probably want to do as in the answer though.</p>\n"}], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 473, "favorite_count": 1, "accepted_answer_id": 41051651, "answer_count": 1, "score": 1, "last_activity_date": 1561687860, "creation_date": 1481226848, "last_edit_date": 1481252294, "question_id": 41047729, "link": "https://stackoverflow.com/questions/41047729/extract-a-variable-and-add-it-to-a-separate-xml-file", "title": "Extract a variable and add it to a separate XML file", "body": "<p>I have a script that logs in and returns a session ID. I need the session ID so that I can populate an XML file to do stuff with it, for example create a plant room for a nursery.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl -w\n\nuse strict;\n\nuse LWP::UserAgent;\nuse Data::Dumper;\nuse XML::Simple;\n\nmy $authenticate = do {\n    open my $fh, '&lt;', '/tmp/login.xml' or die \"Could not open file: $!\";\n    local $/;\n    &lt;$fh&gt;;\n};\n\nmy $webpage = \"https://www.example.com/api\";\n\nmy $ua = LWP::UserAgent-&gt;new;\nmy $response = $ua-&gt;post($webpage, Content_Type =&gt; 'text/xml',\n                                        Content =&gt; $authenticate);\n\n\nif ( $response-&gt;is_success) {\n\n    my $xml = new XML::Simple;\n    my $x = $response-&gt;decoded_content;\n\n    # read XML file\n    my $data = $xml-&gt;XMLin($x);\n\n    my $sessionid =  $data-&gt;{'sessionid'};\n\n...\n</code></pre>\n\n<p>I need to take that sessionid variable and insert into another xml file that looks like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xml&gt;\n  &lt;API&gt;4.0&lt;/API&gt;\n  &lt;action&gt;plant_room_add&lt;/action&gt;\n  &lt;enforce_rules_training&gt;0&lt;/enforce_rules_training&gt;\n  &lt;id&gt;3&lt;/id&gt;\n  &lt;location&gt;123456&lt;/location&gt;\n  &lt;name&gt;Test1&lt;/name&gt;\n  &lt;sessionid&gt;$sessionid&lt;/sessionid&gt;\n  &lt;signature&gt;Hello World&lt;/signature&gt;\n  &lt;terminal_id&gt;xxxxxxx&lt;/terminal_id&gt;\n  &lt;training&gt;1&lt;/training&gt;\n&lt;/xml&gt;\n</code></pre>\n\n<p>I know that I can put the <code>plant_root_add</code> XML in the same script, but I think this script is growing to grow over time so I might need a script to delete the plant room. This is for monitoring and it will be executed every 60 seconds.</p>\n\n<p>What is the way to do this?</p>\n"}, {"tags": ["arrays", "perl", "loops", "bioinformatics", "edit-distance"], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482448057, "post_id": 41051325, "comment_id": 69788640, "body": "Nice work.  Btw, adding a comment like <code># &#47;</code> at the line with regex will turn off the wrong syntax highlight for the rest of the post.  Sometimes you have to play with it, depending on what in regex sets it off.  Here I&#39;d expect <code># &#47;</code> to do it."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1482598682, "post_id": 41051325, "comment_id": 69833784, "body": "@zdim Thanks. <a href=\"http://meta.stackexchange.com/questions/184108/what-is-syntax-highlighting-and-how-does-it-work\">Seems like</a> stackexchange.com uses <a href=\"https://github.com/google/code-prettify\" rel=\"nofollow noreferrer\">Google&#39;s code-prettify</a>. If you like, we could try fix some issues with Perl syntax highlighting on SO (seems like we need to write our patches in Javascript though :)) Have a nice Christmas from Norway."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1483006692, "post_id": 41051325, "comment_id": 69956935, "body": "Thank you for well wishes. I may have got a glimpse of Norway on an Oregon mountain, with feet of snow and lots of sunshine.  (But I somehow think that 20F was way too warm?) I hope you had a good holiday."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1483006814, "post_id": 41051325, "comment_id": 69957009, "body": "That is a very good idea, to actually fix things!  (I don&#39;t know how one goes about doing that.)  As for JS, it would be an opportunity for me to finally get into it."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1483211915, "post_id": 41051325, "comment_id": 70025628, "body": "@zdim Hi zdim. Actually the climate in Norway is quite varied. I live in Bergen at the west coast, and its not so cold here :) I have never been in Oregon, but I visited California 15 years ago... Anyway, I created a fork of Google&#39;s code-prettify GitHub repository. So let&#39;s continue the discussion <a href=\"https://github.com/hakonhagland/code-prettify/issues/1\" rel=\"nofollow noreferrer\">in it&#39;s issue tracker</a>. See you."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 3, "last_activity_date": 1481244947, "last_edit_date": 1481244947, "creation_date": 1481244079, "answer_id": 41051325, "question_id": 41047574, "link": "https://stackoverflow.com/questions/41047574/percentage-edit-distance-from-array/41051325#41051325", "title": "Percentage edit distance from array", "body": "<p>Try this. To summarize: We compute the edit distances between pairs of \nstrings. For each pair we want to determine the fraction of the distance and the maximum number of characters (<code>A-Z</code>). The maximum number of characters is taken to be the maximum for the two items in the pair.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Text::Levenshtein qw(distance);\n\nmy @sequence = qw(\n        CA--------W----------------------EKDRRTEAF---F------\n        CA--------W----------------------EKDRRTEAF---F------\n        CA--------S-------------------SLVFGQGDNIQY---F------\n        RA--------S-------------------SLIYSP----LH---F------\n);\n\nmy @length = map { tr/[A-Z]// } @sequence;\n\nfor my $i (0..$#sequence) {\n    my $list = $sequence[$i];\n    my @distance = distance($list, @sequence);\n    my $num1 = $length[$i];\n    for my $j (0..$#distance) {\n        my $item = $distance[$j];\n        my $num2 = $length[$j];\n        my $num = ( $num2 &gt; $num1 ) ? $num2 : $num1;\n        printf \"%.4f \", $item/$num;\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>0.0000 0.0000 0.8125 1.0769 \n0.0000 0.0000 0.8125 1.0769 \n0.8125 0.8125 0.0000 0.6875 \n1.0769 1.0769 0.6875 0.0000 \n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 6490646, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ef3aeb1e4fd739f5ec7558c262e73671?s=128&d=identicon&r=PG&f=1", "display_name": "El David", "link": "https://stackoverflow.com/users/6490646/el-david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 2, "accepted_answer_id": 41051325, "answer_count": 1, "score": 3, "last_activity_date": 1481274335, "creation_date": 1481226244, "last_edit_date": 1481274335, "question_id": 41047574, "link": "https://stackoverflow.com/questions/41047574/percentage-edit-distance-from-array", "title": "Percentage edit distance from array", "body": "<p>I am attempting to get a percentage of an edit distance from a group of sequences. So far this is what I have:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Text::Levenshtein qw(distance);\n\nmy @sequence = qw(CA--------W----------------------EKDRRTEAF---F------ \nCA--------W----------------------EKDRRTEAF---F------ \nCA--------S-------------------SLVFGQGDNIQY---F------  \nRA--------S-------------------SLIYSP----LH---F------);\n\n\nforeach my $list (@sequence){\n    my @distance = distance($list, @sequence);\n    my @length = $list =~ tr/[A-Z]///;\n}\n</code></pre>\n\n<p>I am able to get the edit distance with <code>@distance</code> and the length of each sequence, based on the letters with <code>@length</code>. If printed the results are as follows: </p>\n\n<p><code>@distance</code></p>\n\n<pre><code>0 0 13 14\n0 0 13 14\n13 13 0 11 \n14 14 11 0\n</code></pre>\n\n<p><code>@length</code></p>\n\n<pre><code>13\n13\n16\n12\n</code></pre>\n\n<p>As each line of <code>@length</code> is equivalent to each line of <code>@sequence</code>, when comparing the two lines I would like to use the largest <code>@length</code> to get the percentage. So as when having an edit distance between the second and third sequence it would use the length of 16 rather than 13 to get a percentage. What I think needs to happen is to call only two elements of the <code>@length</code> array and pick the larger one to then put into a percentage, possibly using an <code>if</code> statement.</p>\n\n<p>I know this code is wrong, but it is generally the idea I am going for:</p>\n\n<pre><code>foreach my  $list (@sequence){\n        my @distance = distance($list, @sequence);      \n        my @length = $list =~ tr/[A-Z]//;                # / syntax hilite fix\n\n        foreach my $item(@distance){\n                foreach @length {\n                        my $num1 = if $length[0] &gt;= $length[1];\n                                 print \"$item/$num1\\n\";\n                        else my $num2 = $length[1] &gt;= $length[0];\n                                print \"$item/$num2\\n\";\n                }\n        }\n}\n</code></pre>\n\n<p>The answer should look something similar to that below:</p>\n\n<pre>\n0  0 .8125  1.0769\n0  0  .8125  1.0769\n.8125  .8125  0  .6875\n1.0769  1.0769  .6875  0\n</pre>\n"}, {"tags": ["bash", "perl", "gzip"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1481224399, "post_id": 41045834, "comment_id": 69301689, "body": "For reference, this question has also been posted to the module&#39;s bug tracker: <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=119184\" rel=\"nofollow noreferrer\">rt.cpan.org/Public/Bug/Display.html?id=119184</a>"}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1485980430, "post_id": 41045834, "comment_id": 71155291, "body": "@melpomene Ticket marked as resolved since it is documented in <a href=\"https://metacpan.org/pod/distribution/IO-Compress/lib/IO/Compress/FAQ.pod#Dealing-with-concatenated-gzip-files\" rel=\"nofollow noreferrer\">IO::Compress</a> to use the <code>MultiStream</code> option to deal with this."}], "answers": [{"comments": [{"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 0, "creation_date": 1481234062, "post_id": 41047666, "comment_id": 69306598, "body": "That is perfect. I&#39;m laughing out loud right now, because I remember searching for <code>IO::Uncompress::Gunzip</code> and skipping over hits to <code>IO::Compress</code> documentation because that was a &quot;different&quot; module."}], "tags": [], "owner": {"reputation": 1323, "user_id": 2030808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRrvi.png?s=128&g=1", "display_name": "pmqs", "link": "https://stackoverflow.com/users/2030808/pmqs"}, "is_accepted": true, "score": 3, "last_activity_date": 1481227499, "last_edit_date": 1481227499, "creation_date": 1481226600, "answer_id": 41047666, "question_id": 41045834, "link": "https://stackoverflow.com/questions/41045834/iouncompressgunzip-stops-after-first-original-gzipped-file-inside-concate/41047666#41047666", "title": "IO::Uncompress::Gunzip stops after first &quot;original&quot; gzipped file inside &quot;concatenated&quot; gzipped file", "body": "<p>This is covered explicitly in the IO::Compress FAQ section <a href=\"http://search.cpan.org/~pmqs/IO-Compress-2.069/lib/IO/Compress/FAQ.pod#Dealing_with_concatenated_gzip_files\" rel=\"nofollow noreferrer\">Dealing with concatenated gzip files</a>. Basically you just have to include the <strong>MultiStream</strong> option when you construct the IO::Uncompress::Gunzip object.</p>\n\n<p>Here is a <a href=\"https://metacpan.org/pod/IO::Uncompress::Gunzip#MultiStream-0-1\" rel=\"nofollow noreferrer\">definition of the <strong>MultiStream</strong> option</a>: </p>\n\n<blockquote>\n  <p><strong><code>MultiStream =&gt; 0|1</code></strong></p>\n  \n  <p>If the input file/buffer contains multiple\n  compressed data streams, this option will uncompress the whole lot as\n  a single data stream.</p>\n  \n  <p>Defaults to 0.</p>\n</blockquote>\n\n<p>So your code needs this change</p>\n\n<pre><code>my $fh = IO::Uncompress::Gunzip-&gt;new($file_name, MultiStream =&gt; 1) or die $GunzipError;\n</code></pre>\n"}], "owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 41047666, "answer_count": 1, "score": 2, "last_activity_date": 1505912355, "creation_date": 1481219768, "last_edit_date": 1505912355, "question_id": 41045834, "link": "https://stackoverflow.com/questions/41045834/iouncompressgunzip-stops-after-first-original-gzipped-file-inside-concate", "title": "IO::Uncompress::Gunzip stops after first &quot;original&quot; gzipped file inside &quot;concatenated&quot; gzipped file", "body": "<p>In <code>bash</code>, you can concatenate gzipped files and the result is a valid gzipped file. As far as I recall, I have always been able to treat these \"concatenated\" gzipped files as normal gzipped files (my example code from link above):</p>\n\n<pre><code>echo 'Hello world!' &gt; hello.txt\necho 'Howdy world!' &gt; howdy.txt\ngzip hello.txt \ngzip howdy.txt\n\ncat hello.txt.gz howdy.txt.gz &gt; greetings.txt.gz\n\ngunzip greetings.txt.gz\n\ncat greetings.txt\n</code></pre>\n\n<p>Which outputs</p>\n\n<pre><code>Hello world!\nHowdy world!\n</code></pre>\n\n<p>However, when trying to read this same file using Perl's <a href=\"https://metacpan.org/pod/IO::Uncompress::Gunzip\" rel=\"nofollow noreferrer\">core <code>IO::Uncompress::Gunzip</code> module</a>, it doesn't get past the first original file. Here is the result:</p>\n\n<pre><code>./my_zcat greetings.txt.gz\nHello world!\n</code></pre>\n\n<p>Here is the code for <code>my_zcat</code>: </p>\n\n<pre><code>#!/bin/env perl\nuse strict;\nuse warnings;\nuse v5.10;\n\nuse IO::Uncompress::Gunzip qw($GunzipError);\n\nmy $file_name = shift;\n\nmy $fh = IO::Uncompress::Gunzip-&gt;new($file_name) or die $GunzipError;\n\nwhile (defined(my $line = readline $fh))\n{\n    print $line;\n}\n</code></pre>\n\n<p>If I totally decompress the files before creating a new gzipped file, I don't have this problem:</p>\n\n<pre><code>zcat hello.txt.gz howdy.txt.gz | gzip &gt; greetings_via_zcat.txt.gz\n./my_zcat greetings_via_zcat.txt.gz\nHello world!\nHowdy world!\n</code></pre>\n\n<p>So, what is the difference between <code>greetings.txt.gz</code> and <code>greetings_via_zcat.txt.gz</code> and why might <code>IO::Uncompress::Gunzip</code> work correctly with <code>greetings.txt.gz</code>?</p>\n\n<p>Based on this <a href=\"https://stackoverflow.com/a/8005155\">answer to another question</a>, I'm guessing that <code>IO::Uncompress::Gunzip</code> messes up because of the metadata between the files. But, since <code>greetings.txt.gz</code> is a valid Gzip file, I would expect <code>IO::Uncompress::Gunzip</code> to work.</p>\n\n<p>My workaround for now will be piping from <code>zcat</code> (which of course doesn't help Windows users much):</p>\n\n<pre><code>#!/bin/env perl\nuse strict;\nuse warnings;\nuse v5.10;\n\nmy $file_name = shift;\n\nopen(my $fh, '-|', \"zcat $file_name\");\n\nwhile (defined(my $line = readline $fh))\n{\n    print $line;\n}\n</code></pre>\n"}, {"tags": ["perl", "lwp", "lwp-useragent"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481220697, "post_id": 41044725, "comment_id": 69299791, "body": "Why do you have <code>require</code> instead of <code>use</code>? Why do you <i>not</i> have <code>use strict</code> and <code>use warnings &#39;all&#39;</code> at the top of your program? These are <i>essential</i> for any Perl program."}, {"owner": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481271685, "post_id": 41044725, "comment_id": 69318598, "body": "I see your point but I simply did a quick copy &amp; paste from CPAN and this is how the example of using LWP:Useragent looks <a href=\"http://search.cpan.org/~ether/libwww-perl-6.15/lib/LWP/UserAgent.pm\" rel=\"nofollow noreferrer\">there</a>."}], "answers": [{"comments": [{"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "reply_to_user": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1481217235, "post_id": 41044914, "comment_id": 69297874, "body": "Sorry. Looking on the bug reports, there seems to be an opened bug regarding https through a proxy: <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=95671\" rel=\"nofollow noreferrer\">rt.cpan.org/Public/Bug/Display.html?id=95671</a>"}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "reply_to_user": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "edited": false, "score": 1, "creation_date": 1481217600, "post_id": 41044914, "comment_id": 69298096, "body": "Though, in this answer (<a href=\"http://stackoverflow.com/a/17787133/6193608\">stackoverflow.com/a/17787133/6193608</a>) somebody seems to have found a workaround. The post is dated 2013 but it might be worth a try."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "reply_to_user": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1481218434, "post_id": 41044914, "comment_id": 69298589, "body": "Great! &quot;There&#39;s more than one way to do it&quot;, isn&#39;t it?"}, {"owner": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "edited": false, "score": 1, "creation_date": 1481218729, "post_id": 41044914, "comment_id": 69298755, "body": "<code>Successfully reported metrics to CloudWatch.</code> \ud83d\udc4d\ud83c\udffc\ud83d\udc4d\ud83c\udffc"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1481218752, "post_id": 41044914, "comment_id": 69298766, "body": "if the workaround worked, adding a comment to that effect in the bug report may be really helpful to others"}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 1, "creation_date": 1481222082, "post_id": 41044914, "comment_id": 69300562, "body": "good suggestion. I did it: <a href=\"https://rt.cpan.org/Ticket/Display.html?id=95671#txn-1689550\" rel=\"nofollow noreferrer\">rt.cpan.org/Ticket/Display.html?id=95671#txn-1689550</a>"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1481263283, "post_id": 41044914, "comment_id": 69315174, "body": "LWP 6.15 as used by the OP supports proper use of a proxy for https and does not need the connect handler for this. The real problem is the wrong URL given to access the proxy: It should have been <code>http:&#47;&#47;</code> instead of <code>https:&#47;&#47;</code> to access the proxy itself because the connection to the proxy is not protected by SSL but only the connection from the client to the final target through the proxy."}, {"owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "edited": false, "score": 0, "creation_date": 1481266820, "post_id": 41044914, "comment_id": 69316471, "body": "Oh. But then the bug should be closed in the CPAN tracker?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1481300244, "post_id": 41044914, "comment_id": 69336147, "body": "@DavidVerdin: yes, the bug should be closed. The original issue is actually <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=1894\" rel=\"nofollow noreferrer\">rt.cpan.org/Public/Bug/Display.html?id=1894</a>  from 2002 which was fixed in 2014 with LWP 6.06. My guess is that there is some explicit use of <code>Net::SSL</code> in the program or environment which make LWP not use the default IO::Socket::SSL but the old Net::SSL/Crypt::SSLeay and there proxy handling is different."}], "tags": [], "owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "is_accepted": true, "score": 4, "last_activity_date": 1481218506, "last_edit_date": 1495535418, "creation_date": 1481216561, "answer_id": 41044914, "question_id": 41044725, "link": "https://stackoverflow.com/questions/41044725/perl-https-proxy-problems/41044914#41044914", "title": "Perl https proxy problems", "body": "<p>Try <a href=\"http://search.cpan.org/~benning/LWP-Protocol-connect-6.00/\" rel=\"nofollow noreferrer\">LWP::Protocol::connect</a> found in <a href=\"https://stackoverflow.com/a/17787133/44620\">https://stackoverflow.com/a/17787133/44620</a></p>\n\n<pre><code>  use LWP::UserAgent;\n\n  $ua = LWP::UserAgent-&gt;new(); \n  $ua-&gt;proxy('https', 'connect://proxyhost.domain:3128/');\n\n  $ua-&gt;get('https://www.somesslsite.com');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481227152, "post_id": 41047520, "comment_id": 69303095, "body": "The OP is using LWP 6.15 and said <code>$ua-&gt;proxy(&#39;https&#39;, &#39;http:&#47;&#47;proxyhost:proxyport&#47;&#39;);</code> didn&#39;t work."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481263498, "post_id": 41047520, "comment_id": 69315244, "body": "@ThisSuitIsBlackNot: actually, the OP said the use of <code>https:&#47;&#47;</code> for accessing the proxy did not work and exactly this (use of <code>https:&#47;&#47;</code> instead of  <code>http:&#47;&#47;</code> to access the proxy) was the real problem. Thanks for pointing out which version the OP is using since I&#39;ve missed this detail."}, {"owner": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1481272085, "post_id": 41047520, "comment_id": 69318784, "body": "Your guess seems to be wrong. I tried <code>$ua-&gt;proxy(&#39;https&#39;, &#39;https:&#47;&#47;proxy:8080&#39;);</code> and still got  <code>500 Can&#39;t connect to aws.amazon.com:443 (timeout) at test.pl line 16.</code>  What you are suggesting also does not seem to explain why <code>curl --head --proxy https:&#47;&#47;proxy:8080 https:&#47;&#47;aws.amazon.com&#47;cloudwatch&#47;</code> works."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1481274303, "post_id": 41047520, "comment_id": 69320019, "body": "@JonasElfstr&#246;m: according to your comment you again tried <code>https:&#47;&#47;</code> for the proxy instead of <code>http:&#47;&#47;</code>. Also, curl will ignore if you put <code>http:&#47;&#47;</code> or <code>https:&#47;&#47;</code> there because (from the documentation of <code>--proxy</code>): <i>No protocol specified, http:// and all others will be treated as HTTP proxies.</i>. This means <code>https:&#47;&#47;proxy</code>, <code>http:&#47;&#47;proxy</code>, <code>whatever:&#47;&#47;proxy</code> or <code>proxy</code> will all be treated the same."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1481274597, "post_id": 41047520, "comment_id": 69320193, "body": "@JonasElfstr&#246;m: then this is very strange because this does the same as the connect method from the other answer."}, {"owner": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1481274722, "post_id": 41047520, "comment_id": 69320253, "body": "<code>500 Can&#39;t connect to aws.amazon.com:443 at test.pl line 16.</code> for <code>$ua-&gt;proxy(&#39;https&#39;, &#39;http:&#47;&#47;proxy:8080&#39;);</code> and works fine with <code>$ua-&gt;proxy(&#39;https&#39;, &#39;connect:&#47;&#47;proxy:8080&#39;);</code>"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1481274997, "post_id": 41047520, "comment_id": 69320429, "body": "@JonasElfstr&#246;m: very strange. I&#39;ve tried it with same version of LWP and it works without problem for me. Do you have still any of these environment variables set you mention in your question? Especially the setting of PERL_NET_HTTPS_SSL_SOCKET_CLASS? Because if I have this still set I get the same problem you describe while connect:// still works."}, {"owner": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1481275953, "post_id": 41047520, "comment_id": 69320987, "body": "@SteffenUllrich Yes I do. I tried to <code>unset PERL_NET_HTTPS_SSL_SOCKET_CLASS</code> but still got the same error."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1481281164, "post_id": 41047520, "comment_id": 69324247, "body": "@JonasElfstr&#246;m: is that exactly the code you are using which you&#39;ve published in your question? Because this is the code I&#39;ve tried. And do you have IO::Socket::SSL installed so that it will use this instead of Crypt::SSLeay (which is considered obsolete)?"}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1481300019, "last_edit_date": 1481300019, "creation_date": 1481226033, "answer_id": 41047520, "question_id": 41044725, "link": "https://stackoverflow.com/questions/41044725/perl-https-proxy-problems/41047520#41047520", "title": "Perl https proxy problems", "body": "<blockquote>\n<pre><code>  $ua-&gt;proxy('https', 'https://proxy:8080');\n</code></pre>\n</blockquote>\n\n<p>LWP does not support the use of HTTP proxies which are accessed using HTTPS. But my guess is that your proxy does not gets access with HTTPS at all, i.e. it gets accessed with HTTP even though it proxies HTTPS requests(*). Thus the code should instead use a <code>http://</code> URL to access the proxy and not a <code>https://</code> URL:</p>\n\n<pre><code>   $ua-&gt;proxy('https', 'http://proxy:8080/');\n</code></pre>\n\n<p>Note that this only works in the usual setup, i.e. with IO::Socket::SSL installed on the system and used by LWP. Especially with setting PERL_NET_HTTPS_SSL_SOCKET_CLASS to <code>Net::SSL</code> or explicitly importing <code>Net::SSL</code> into the program the obsolete <a href=\"https://metacpan.org/release/Crypt-SSLeay\" rel=\"nofollow noreferrer\">Crypt::SSLeay</a> will be used where proxy handling is completely different.</p>\n\n<p>(*) Even though the proxy will be accessed by HTTP and not HTTPS the connection is still encrypted. This is done by the client requesting the proxy to create a tunnel to the original target using the  <a href=\"https://en.wikipedia.org/wiki/HTTP_tunnel#HTTP_CONNECT_tunneling\" rel=\"nofollow noreferrer\">CONNECT</a> method and then doing end-to-end SSL inside this tunnel. While there are a some proxies and some clients which support to be accessed by HTTPS too this would essentially mean to build an SSL connection between client and proxy and inside this SSL connection another SSL connection between client and final target, i.e. double encryption.</p>\n"}], "owner": {"reputation": 28588, "user_id": 44620, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9e36aeb20f1b4a763043d3ce4942b454?s=128&d=identicon&r=PG", "display_name": "Jonas Elfstr&#246;m", "link": "https://stackoverflow.com/users/44620/jonas-elfstr%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2566, "favorite_count": 0, "accepted_answer_id": 41044914, "answer_count": 2, "score": 2, "last_activity_date": 1481300019, "creation_date": 1481215937, "last_edit_date": 1481217417, "question_id": 41044725, "link": "https://stackoverflow.com/questions/41044725/perl-https-proxy-problems", "title": "Perl https proxy problems", "body": "<p>I can't seem to get https through a proxy.</p>\n\n<p>Example:</p>\n\n<pre><code>require LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;timeout(10);\n$ua-&gt;proxy('https', 'https://proxy:8080');\n# $ua-&gt;proxy(['https'], 'https://proxy:8080'); # Fails\n# $ua-&gt;env_proxy; # This also fails.\n\nmy $response = $ua-&gt;get('https://aws.amazon.com/cloudwatch/');\n\nif ($response-&gt;is_success) {\n    print $response-&gt;decoded_content;  # or whatever\n}\nelse {\n    die $response-&gt;status_line;\n}\n</code></pre>\n\n<p>Result:</p>\n\n<blockquote>\n  <p>500 Can't connect to aws.amazon.com:443 (timeout) at test.pl line 17.</p>\n</blockquote>\n\n<p>But if I try the same proxy with curl (also wget) it works just fine.</p>\n\n<pre><code>$ curl --head --proxy https://proxy:8080 https://aws.amazon.com/cloudwatch/\nHTTP/1.1 200 Connection established\n\nHTTP/1.1 200 OK\nServer: Server\nDate: Thu, 08 Dec 2016 16:42:01 GMT\nContent-Type: text/html;charset=UTF-8\nContent-Length: 214187\n</code></pre>\n\n<p><strong>Perl versions</strong></p>\n\n<pre><code>$ perl -MLWP -le \"print(LWP-&gt;VERSION)\"\n6.15\n$ perl --version\n\nThis is perl, v5.10.1 (*) built for x86_64-linux-thread-multi\n</code></pre>\n\n<p>I also tried with and without these:</p>\n\n<pre><code>  export HTTPS_VERSION=3 \n  export PERL_NET_HTTPS_SSL_SOCKET_CLASS=\"Net::SSL\"\n  export PERL_LWP_ENV_PROXY=1 \n  export PERL_LWP_SSL_VERIFY_HOSTNAME=0 \n</code></pre>\n\n<p>My actual goal here is to get <a href=\"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/mon-scripts.html\" rel=\"nofollow noreferrer\">aws-scripts-mon</a> working on a machine behind a proxy but it also uses <code>LWP::UserAgent</code> so if I get this working then that will probably also.</p>\n\n<p><strong>Added info</strong></p>\n\n<p>It turns out that if I change to http by \n<code>$ua-&gt;proxy('http', 'http://proxy:8080');</code> and accesses a http url then it works just fine. The problem is that I need this to work with https.</p>\n\n<p>The error from <code>mon-put-instance-data.pl</code> is:</p>\n\n<pre><code>./mon-put-instance-data.pl --mem-util --disk-space-util --disk-path=/\n\nERROR: Failed to call CloudWatch: HTTP 500. Message: Can't connect to monitoring.eu-west-1.amazonaws.com:443 (timeout)\n\nLWP::Protocol::https::Socket: connect: timeout at /usr/local/share/perl5/LWP/Protocol/http.pm line 47.\n</code></pre>\n"}, {"tags": ["perl", "module", "detect"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1481214142, "post_id": 41044100, "comment_id": 69295856, "body": "The error message already informs the user that they may need to install the module..."}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481214202, "post_id": 41044100, "comment_id": 69295889, "body": "Yes. But it is a form of an error. I want to catch it or something and return only a message, for example <code>You do not have this module</code>"}, {"owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1481214725, "post_id": 41044100, "comment_id": 69296261, "body": "Ok, it solved a problem <a href=\"http://stackoverflow.com/questions/28444773/custom-missing-module-message\" title=\"custom missing module message\">stackoverflow.com/questions/28444773/&hellip;</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1481214823, "post_id": 41044100, "comment_id": 69296331, "body": "If you do this, you&#39;ll want to make your error message much more informative, since people won&#39;t be able to find your custom error message in the documentation or on google. &quot;You do not have this module&quot; isn&#39;t necessarily true; it could be installed, but just somewhere that perl can&#39;t find it. Personally, I would use the default message to make it easier for people to research when something goes wrong."}], "owner": {"reputation": 934, "user_id": 4541597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wAQDO.jpg?s=128&g=1", "display_name": "Developus", "link": "https://stackoverflow.com/users/4541597/developus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1481214496, "answer_count": 0, "score": 0, "last_activity_date": 1481214038, "creation_date": 1481214038, "question_id": 41044100, "link": "https://stackoverflow.com/questions/41044100/perl-detect-not-installed-modoules-and-return-inform-message", "closed_reason": "Duplicate", "title": "Perl - detect not installed modoules and return inform message", "body": "<p>I use <code>use Term::Size::Any qw( chars pixels );</code> in my script. But if this module is not installed, perl throws an error: <code>Can't locate Term/Size/Any.pm in @INC (you may need to install the Term::Size::Any module)</code>.\nWhat is the way to catch this error and inform user that he/she has not this module installed and must install it before run a script? \nI tried to check installed modules before run but it does not work. I also tried to use <code>Try::Tiny;</code> but it didn't help also.</p>\n"}, {"tags": ["windows", "perl", "perl-module", "win32ole"], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1481213516, "creation_date": 1481213516, "answer_id": 41043910, "question_id": 41042636, "link": "https://stackoverflow.com/questions/41042636/how-can-i-find-the-name-of-a-windows-ole-object/41043910#41043910", "title": "How can I find the name of a Windows OLE object?", "body": "<p><a href=\"https://metacpan.org/source/JDB/Win32-OLE-0.1712/browser\" rel=\"nofollow noreferrer\">Win32::OLE comes with an OLE browser</a>. Keep in mind, it only works with Internet Explorer and only when you load the HTML document from your local system.</p>\n\n<p>Of course, you could also install Microsoft's development tools and get the native OLE/COM Object Viewer:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MeavA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MeavA.png\" alt=\"Windows OLE/COM Object Viewer\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 32063, "user_id": 4752675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6PS6.png?s=128&g=1", "display_name": "G5W", "link": "https://stackoverflow.com/users/4752675/g5w"}, "is_accepted": false, "score": 0, "last_activity_date": 1482543464, "creation_date": 1482543464, "answer_id": 41309587, "question_id": 41042636, "link": "https://stackoverflow.com/questions/41042636/how-can-i-find-the-name-of-a-windows-ole-object/41309587#41309587", "title": "How can I find the name of a Windows OLE object?", "body": "<p>You can also find the names and components of Win32::OLE objects for other products (Excel, Word) by starting the product, then typing <code>Alt-F11</code>.  This should open the VBA editor.  Once in the VBA editor, type F2 (or use the pull-down menu from View) to start the Object Browser. This will list the objects relevant to that product. Here is an example from Excel.</p>\n\n<p><a href=\"https://i.stack.imgur.com/xMj0m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xMj0m.png\" alt=\"Excel Object Browser\"></a></p>\n"}], "owner": {"reputation": 11, "user_id": 7268231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6af8428e904feaa51df894d36f3203d9?s=128&d=identicon&r=PG&f=1", "display_name": "midiosh", "link": "https://stackoverflow.com/users/7268231/midiosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1489, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482543464, "creation_date": 1481209722, "last_edit_date": 1481214729, "question_id": 41042636, "link": "https://stackoverflow.com/questions/41042636/how-can-i-find-the-name-of-a-windows-ole-object", "title": "How can I find the name of a Windows OLE object?", "body": "<p>I'm trying to use the <a href=\"https://metacpan.org/pod/Win32::OLE\" rel=\"nofollow noreferrer\"><code>Win32::OLE</code></a> module to control a Windows application. I know that the developers of the application provide an OLE Object to control it, but I don't know the name of the object.</p>\n\n<p>On an old version of the program, I managed to reference the object in Perl by the following line:</p>\n\n<pre><code>$ref = new Win32::OLE 'object.name'\n</code></pre>\n\n<p>but the new version of the program has a different object name.</p>\n\n<p>Is there any way of checking which OLE objects exist for applications that are currently running on Windows?</p>\n"}, {"tags": ["perl", "while-loop"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1481204726, "post_id": 41040808, "comment_id": 69289222, "body": "Try replace <code>print  $fh &lt;&gt;</code> with <code>print $fh scalar &lt;&gt;</code> or simply use Bash redirection on your original Perl script to save its output to a file"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 1, "creation_date": 1481207272, "post_id": 41040808, "comment_id": 69290942, "body": "Please always <code>use strict; use warnings;</code> before any coding."}, {"owner": {"reputation": 21, "user_id": 7267799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/437d0ae15d2fd602d5dd24c94506149b?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Swift", "link": "https://stackoverflow.com/users/7267799/bill-swift"}, "edited": false, "score": 1, "creation_date": 1481209582, "post_id": 41040808, "comment_id": 69292582, "body": "Thanks. I had included use strict and use warnings, but did not include them in my paste. Unfortunately i had tried these suggestions to no avail."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7267799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/437d0ae15d2fd602d5dd24c94506149b?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Swift", "link": "https://stackoverflow.com/users/7267799/bill-swift"}, "edited": false, "score": 1, "creation_date": 1481209650, "post_id": 41041100, "comment_id": 69292632, "body": "No, i didn&#39;t - typo on my part. But the {} didn&#39;t work either.  Thanks for the tip though."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 21, "user_id": 7267799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/437d0ae15d2fd602d5dd24c94506149b?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Swift", "link": "https://stackoverflow.com/users/7267799/bill-swift"}, "edited": false, "score": 0, "creation_date": 1481277875, "post_id": 41041100, "comment_id": 69322188, "body": "@BillSwift: What do you mean by &quot;didn&#39;t work&quot;? It works for me in 5.10.1 and 5.18.2."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1481205006, "creation_date": 1481205006, "answer_id": 41041100, "question_id": 41040808, "link": "https://stackoverflow.com/questions/41040808/perl-how-to-print-a-line-to-a-file-from-within-a-while-loop/41041100#41041100", "title": "Perl: How to print a line to a file from within a while loop?", "body": "<p>The Perl parser sometimes has problems with indirect notation. The canonical way to handle it is to wrap the handle into a block:</p>\n\n<pre><code>print {$fh} &lt;&gt; if /name=sacux445/;\n</code></pre>\n\n<p>Are you sure you want to remove <a href=\"http://p3rl.org/scalar\" rel=\"nofollow noreferrer\">scalar</a>?</p>\n"}, {"comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1481208983, "post_id": 41041316, "comment_id": 69292127, "body": "Per the first sentence in the OP&#39;s question, he meant to print the next line, not the current line."}, {"owner": {"reputation": 21, "user_id": 7267799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/437d0ae15d2fd602d5dd24c94506149b?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Swift", "link": "https://stackoverflow.com/users/7267799/bill-swift"}, "edited": false, "score": 0, "creation_date": 1481209699, "post_id": 41041316, "comment_id": 69292678, "body": "This worked to some extent, but unfortunately printed the line i was searching for, and not the line after."}, {"owner": {"reputation": 17784, "user_id": 1646322, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d9fd7a75e0d8ace7bb3276476786c2c0?s=128&d=identicon&r=PG", "display_name": "Ruslan Osmanov", "link": "https://stackoverflow.com/users/1646322/ruslan-osmanov"}, "reply_to_user": {"reputation": 21, "user_id": 7267799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/437d0ae15d2fd602d5dd24c94506149b?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Swift", "link": "https://stackoverflow.com/users/7267799/bill-swift"}, "edited": false, "score": 0, "creation_date": 1481212163, "post_id": 41041316, "comment_id": 69294476, "body": "@BillSwift, I&#39;ve updated the answer. I have somehow missed the part where you mentioned the next line."}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481289813, "post_id": 41041316, "comment_id": 69329439, "body": "Does not work. Two lines are fetched for each iteration of the loop. Put an extra line at the top of your sample and nothing will be printed."}], "tags": [], "owner": {"reputation": 17784, "user_id": 1646322, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d9fd7a75e0d8ace7bb3276476786c2c0?s=128&d=identicon&r=PG", "display_name": "Ruslan Osmanov", "link": "https://stackoverflow.com/users/1646322/ruslan-osmanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1481293274, "last_edit_date": 1481293274, "creation_date": 1481205673, "answer_id": 41041316, "question_id": 41040808, "link": "https://stackoverflow.com/questions/41040808/perl-how-to-print-a-line-to-a-file-from-within-a-while-loop/41041316#41041316", "title": "Perl: How to print a line to a file from within a while loop?", "body": "<p>Simply fetch the next line within the loop and print it, if the line matches the pattern:</p>\n\n<pre><code>while (&lt;&gt;) {\n  next unless /name=sacux445/;\n  my $next = &lt;&gt;;\n  last unless defined $next;\n  print $fh $next;\n}\n</code></pre>\n\n<p>Note, you need to check the return value of the diamond operator.</p>\n\n<p><em>Input</em></p>\n\n<pre><code>name=sacux445 (1)\naaa\nname=sacux445 (2)\nbbb\nname=sacux445 (3)\n</code></pre>\n\n<p><em>Output</em></p>\n\n<pre><code>aaa\nbbb\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 0, "last_activity_date": 1481216268, "last_edit_date": 1481216268, "creation_date": 1481208535, "answer_id": 41042212, "question_id": 41040808, "link": "https://stackoverflow.com/questions/41040808/perl-how-to-print-a-line-to-a-file-from-within-a-while-loop/41042212#41042212", "title": "Perl: How to print a line to a file from within a while loop?", "body": "<p>One should learn to use state machines for parsing data. A state machine allows the input read to be in only one place in the code. Rewriting the code as a state machine:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse autodie; # See http://perldoc.perl.org/autodie.html\n\nmy $dom_bootdev = 'dom_bootdev.txt';\nopen ( my $fh, '&gt;', $dom_bootdev ); # autodie handles open errors\n\nuse File::Glob qw( :bsd_glob ); # Perl's default glob() does not handle spaces in file names\n@ARGV = glob( 'dom_boot.txt' );\n\nmy $print_next_line = 0;\nwhile( my $line = &lt;&gt; ){\n\n    if( $line =~ /name=sacux445/ ){\n        $print_next_line = 1;\n        next;\n    }\n\n    if( $print_next_line ){\n        print {$fh} $line;\n        $print_next_line = 0;\n        next;\n    }\n\n}\n</code></pre>\n\n<p><strong>When To Us a State Machine</strong></p>\n\n<p>If the data is context-free, it can be parsed using only regular expressions.</p>\n\n<p>If the data has a tree structure, it can be parsed using a simple state machine.</p>\n\n<p>For more complex structures, a least one state machine with a push-down stack is required. The stack records the previous state so that the machine can return to it when the current state is finished.</p>\n\n<p>The most complex data structure in use is XML. It requires a state machine for its syntax and a second one with a stack for its semantics.</p>\n"}], "owner": {"reputation": 21, "user_id": 7267799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/437d0ae15d2fd602d5dd24c94506149b?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Swift", "link": "https://stackoverflow.com/users/7267799/bill-swift"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1481293274, "creation_date": 1481204152, "last_edit_date": 1481210048, "question_id": 41040808, "link": "https://stackoverflow.com/questions/41040808/perl-how-to-print-a-line-to-a-file-from-within-a-while-loop", "title": "Perl: How to print a line to a file from within a while loop?", "body": "<p>I have a very basic perl script which prints the next line in a text file after matching a search pattern.</p>\n\n<pre><code>@ARGV = &lt;dom_boot.txt&gt;;\nwhile ( &lt;&gt; ) {\n    print scalar &lt;&gt; if /name=sacux445/;\n}\n</code></pre>\n\n<p>Which works, However I would like to capture the output into a file for further use, rather than printing it to <code>STDOUT</code>.\nI'm just learning (slowly) so attempted this:</p>\n\n<pre><code>my $fh;\nmy $dom_bootdev = 'dom_bootdev.txt';\n\nopen ($fh, '&gt;', $dom_bootdev) or die \"No such file\";\n\n@ARGV = &lt;dom_boot.txt&gt;;\nwhile ( &lt;&gt; ) {\n    print $fh &lt;&gt; if /name=sacux445/;  \n}\n\nclose $fh;\n</code></pre>\n\n<p>But I get a syntax error.</p>\n\n<blockquote>\n  <p>syntax error at try.plx line 19, near \"&lt;>\"</p>\n</blockquote>\n\n<p>I'm struggling to figure this out. I'm guessing it's probably very simple so any help would be appreciated.</p>\n\n<p>Thanks,\nLuke.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5933630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd298d11cddf7dffc356be1852e7a46a?s=128&d=identicon&r=PG&f=1", "display_name": "Shashi", "link": "https://stackoverflow.com/users/5933630/shashi"}, "edited": false, "score": 0, "creation_date": 1481203978, "post_id": 41040610, "comment_id": 69288703, "body": "Ya its not writing to the existing xml it only printing the data  i want to write to existing xml after modification"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 15, "user_id": 5933630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd298d11cddf7dffc356be1852e7a46a?s=128&d=identicon&r=PG&f=1", "display_name": "Shashi", "link": "https://stackoverflow.com/users/5933630/shashi"}, "edited": false, "score": 0, "creation_date": 1481204223, "post_id": 41040610, "comment_id": 69288865, "body": "So open a filehandle, write <code>$twig -&gt; sprint</code> to it. That&#39;s the easy part."}, {"owner": {"reputation": 15, "user_id": 5933630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd298d11cddf7dffc356be1852e7a46a?s=128&d=identicon&r=PG&f=1", "display_name": "Shashi", "link": "https://stackoverflow.com/users/5933630/shashi"}, "edited": false, "score": 0, "creation_date": 1481204716, "post_id": 41040610, "comment_id": 69289212, "body": "if i want to change the clipname tag content with out parsing text to that  like &lt;clipname&gt;&lt;\\clipname&gt;  i want pass some content to that ?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 15, "user_id": 5933630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd298d11cddf7dffc356be1852e7a46a?s=128&d=identicon&r=PG&f=1", "display_name": "Shashi", "link": "https://stackoverflow.com/users/5933630/shashi"}, "edited": false, "score": 0, "creation_date": 1481205051, "post_id": 41040610, "comment_id": 69289442, "body": "Sorry, I don&#39;t understand the question."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1481203981, "last_edit_date": 1495540906, "creation_date": 1481203520, "answer_id": 41040610, "question_id": 41040320, "link": "https://stackoverflow.com/questions/41040320/in-perl-i-want-change-the-tag-contentfirstclip-to-secondclip-in-my-existing-xm/41040610#41040610", "title": "In perl I want change the tag content(firstclip) to secondclip in my existing xml file", "body": "<p><a href=\"https://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">Don't use <code>XML::Simple</code>:</a></p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\n#parse your XML.\nmy $twig = XML::Twig -&gt; new -&gt; parsefile ( 'your_file.xml' );\n#search for, and modify 'clipName' nodes containing the text 'firstclip'. \n$_ -&gt; set_text('secondclip') for $twig -&gt; findnodes('//clipName[string()=\"firstclip\"]');\n\n$twig -&gt; set_pretty_print('indented');\n$twig -&gt; print;\n</code></pre>\n\n<p>Although are you sure <code>apkName</code> actually looks like that? It seem odd that the 'close' tag would be where it is. </p>\n\n<p>To rewrite your existing file - <code>XML::Twig</code> has a <code>parsefile_inplace</code> mechanism, but I'd suggest it's overly complicated for what you're trying to do, and instead you just want to </p>\n\n<pre><code>open ( my $output, '&gt;', 'output.new.xml' ) or die $!;\nprint {$output} $twig -&gt; sprint;\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5933630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd298d11cddf7dffc356be1852e7a46a?s=128&d=identicon&r=PG&f=1", "display_name": "Shashi", "link": "https://stackoverflow.com/users/5933630/shashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481203981, "creation_date": 1481202580, "question_id": 41040320, "link": "https://stackoverflow.com/questions/41040320/in-perl-i-want-change-the-tag-contentfirstclip-to-secondclip-in-my-existing-xm", "title": "In perl I want change the tag content(firstclip) to secondclip in my existing xml file", "body": "<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;root&gt;\n&lt;Arguments&gt;\n\n&lt;apkName&gt;Player\n    &lt;testUseCase&gt;PlayVideo&lt;/testUseCase&gt;\n    &lt;id&gt;1&lt;/id&gt;\n    &lt;clipName&gt;firstclip&lt;/clipName&gt;\n&lt;/apkName&gt;\n&lt;/Arguments&gt;\n\n&lt;/root&gt;\n</code></pre>\n\n<p>I tried this code: but its not working and its keeping player name in new tag with name with content and order also changing ..</p>\n\n<pre><code>use XML::Simple;\n\nmy $xml_file = \"test.xml\";\n\nmy $xml = XMLin(\n    $xml_file,  \n    KeepRoot =&gt; 1,\n    ForceArray =&gt; 1,\n)\n\n$xml-&gt;{root}-&gt;[0]-&gt;{Arguments}-&gt;[0]-&gt;{apkName}-&gt;[0]-&gt;{clipName}-&gt;[0] = 'secondclip';\nXMLout(\n    $xml,\n    XMLDecl =&gt;1,\n    KeepRoot =&gt; 1   ,\n    NoAttr =&gt; 1,\n    OutputFile =&gt; $xml_file,\n);\n</code></pre>\n"}, {"tags": ["perl", "date", "datetime", "intervals"], "comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1481203596, "post_id": 41040260, "comment_id": 69288452, "body": "And so far you have tryed...?"}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1481203748, "post_id": 41040260, "comment_id": 69288559, "body": "@JohnDoe  What you mean? I am asking for a reference to a module. Point is not having to write the solution from scratch as I&#180;d worry about exception cases... What I have tried is searching at cpanm unsuccessfully..."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 1, "creation_date": 1481203943, "post_id": 41040260, "comment_id": 69288686, "body": "Because most of the times, this kind of question will be flagged as off-topic for <code>requesting a library suggestion</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481205752, "post_id": 41040260, "comment_id": 69289890, "body": "So you don&#39;t want an actual interval (as in a <i>duration</i>), but you want your interval to be represented by two dates. One is the start and one is the end. And they should always be to the end of a month, so you have several if the interval is across multiple months. There is no ready module for that, but I would think that DateTime is best suited to build this. Also, do you care about the time at all? Because the end would be <code>2013-01-30T23:59:59</code> and not <code>2013-01-30T00:00:00</code> (assuming where you live January only has 30 days of course). :)"}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481206697, "post_id": 41040260, "comment_id": 69290576, "body": "@simbabque interval represented by two dates true. Not to end of month, end date should always be start date(whatever it may be) + 30 days. Reason for this is that Moves App API limits you to request at most 31 days of data at once(per server call). So I am creating a script that runs every day at 00:00:00 that pulls new data from the API. The first time this happens for a given user the data might exist on Moves API since over a year ago so I have to break down the server petions."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481206826, "post_id": 41040260, "comment_id": 69290659, "body": "But you would get <code>2013-01-30</code> twice in the example above, right?"}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "edited": false, "score": 0, "creation_date": 1481206877, "post_id": 41040260, "comment_id": 69290691, "body": "yes you are right about that"}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1481207005, "post_id": 41040260, "comment_id": 69290769, "body": "<code>DateTime</code> module will work for this, If you just needs to breakdown the date time part."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481207276, "post_id": 41040260, "comment_id": 69290947, "body": "Can you give a few examples for testing? I think I&#39;ve got a solution, but I&#39;d like some more tests."}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "edited": false, "score": 0, "creation_date": 1481207581, "post_id": 41040260, "comment_id": 69291146, "body": "What kind of example, data?"}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "edited": false, "score": 0, "creation_date": 1481207587, "post_id": 41040260, "comment_id": 69291153, "body": "<a href=\"https://dev.moves-app.com/docs/api_summaries\" rel=\"nofollow noreferrer\">dev.moves-app.com/docs/api_summaries</a>"}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "edited": false, "score": 0, "creation_date": 1481207614, "post_id": 41040260, "comment_id": 69291171, "body": "<a href=\"https://dev.moves-app.com/docs/api_profile\" rel=\"nofollow noreferrer\">dev.moves-app.com/docs/api_profile</a>"}, {"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "edited": false, "score": 0, "creation_date": 1481207677, "post_id": 41040260, "comment_id": 69291214, "body": "Date1 is what is reflected in user profile and Date2 would be now/when script runs."}], "answers": [{"comments": [{"owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "edited": false, "score": 0, "creation_date": 1481208574, "post_id": 41042058, "comment_id": 69291805, "body": "wow, I was happy with a reference to a module :) and you built this nice sub. Thank you very much sir."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "edited": false, "score": 0, "creation_date": 1481208996, "post_id": 41042058, "comment_id": 69292135, "body": "@AlExTsm well, I am bored. :P"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1481208053, "creation_date": 1481208053, "answer_id": 41042058, "question_id": 41040260, "link": "https://stackoverflow.com/questions/41040260/perl-module-break-date-interval-into-sub-intervals/41042058#41042058", "title": "Perl module: break date interval into sub intervals?", "body": "<p>You can do that with <a href=\"http://p3rl.org/DateTime\" rel=\"nofollow noreferrer\">DateTime</a> and <a href=\"http://p3rl.org/DateTime::Duration\" rel=\"nofollow noreferrer\">DateTime::Duration</a>, but it should be easy to implement with <a href=\"http://p3rl.org/Time::Piece\" rel=\"nofollow noreferrer\">Time::Piece</a> as well. The point is that you need to do the calculating yourself.</p>\n\n<pre><code>sub get_interval {\n    my ( $start, $end ) = @_;\n\n    # to get a 30 day timespan we need to add 29\n    # 01. to 30. = 1 + 29\n    my $twenty_nine_days = DateTime::Duration-&gt;new( days =&gt; 29 );\n\n    my @return;\n    while ( ( my $step = $start + $twenty_nine_days ) &lt; $end ) {\n        push @return, { start =&gt; $start-&gt;ymd, end =&gt; $step-&gt;ymd };\n        $start = $step;\n    }\n    push @return, { start =&gt; $start-&gt;ymd, end =&gt; $end-&gt;ymd };\n\n    return \\@return;\n}\n</code></pre>\n\n<p>This function takes two DateTime objects and returns a structure similar to the example you showed. It works by adding 29 days to the start date in a loop until the end date is exceeded.</p>\n\n<p>We need to use 29 days and not 30 days because we want an interval of 30 days, but the start date is already the first day, so it's 29.</p>\n\n<p>Let's try with this call:</p>\n\n<pre><code>use Data::Printer;\np get_interval(\n    DateTime-&gt;new( year =&gt; 2016, month =&gt; 1,  day =&gt; 1 ),\n    DateTime-&gt;new( year =&gt; 2016, month =&gt; 12, day =&gt; 8 )\n);\n</code></pre>\n\n<p>And the output using <a href=\"http://p3rl.org/Data::Printer\" rel=\"nofollow noreferrer\">Data::Printer</a>:</p>\n\n<pre><code>\\ [\n    [0]  {\n        end     \"2016-01-30\",\n        start   \"2016-01-01\"\n    },\n    [1]  {\n        end     \"2016-02-28\",\n        start   \"2016-01-30\"\n    },\n    [2]  {\n        end     \"2016-03-28\",\n        start   \"2016-02-28\"\n    },\n    [3]  {\n        end     \"2016-04-26\",\n        start   \"2016-03-28\"\n    },\n    [4]  {\n        end     \"2016-05-25\",\n        start   \"2016-04-26\"\n    },\n    [5]  {\n        end     \"2016-06-23\",\n        start   \"2016-05-25\"\n    },\n    [6]  {\n        end     \"2016-07-22\",\n        start   \"2016-06-23\"\n    },\n    [7]  {\n        end     \"2016-08-20\",\n        start   \"2016-07-22\"\n    },\n    [8]  {\n        end     \"2016-09-18\",\n        start   \"2016-08-20\"\n    },\n    [9]  {\n        end     \"2016-10-17\",\n        start   \"2016-09-18\"\n    },\n    [10] {\n        end     \"2016-11-15\",\n        start   \"2016-10-17\"\n    },\n    [11] {\n        end     \"2016-12-08\",\n        start   \"2016-11-15\"\n    }\n]\n</code></pre>\n\n<p>I've written some unit tests as well. They are by no means complete, but they give a good starting point.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse Data::Printer;\nuse Test::More;\nuse Test::Deep;\nuse DateTime;\n\nsub get_date {\n    my ( $year, $month, $day ) = @_;\n    return DateTime-&gt;new( year =&gt; $year, month =&gt; $month, day =&gt; $day );\n}\n\ncmp_deeply get_interval( get_date( 2013, 1, 1 ), get_date( 2013, 2, 20 ) ),\n  [\n    { start =&gt; '2013-01-01', end =&gt; '2013-01-30', },\n    { start =&gt; '2013-01-30', end =&gt; '2013-02-20', },\n  ],\n  'one and a bit intervals';\n\ncmp_deeply get_interval( get_date( 2013, 1, 5 ), get_date( 2013, 1, 7 ) ),\n  [ { start =&gt; '2013-01-05', end =&gt; '2013-01-07', }, ],\n  'three days in one month';\n\ncmp_deeply get_interval( get_date( 2013, 1, 30 ), get_date( 2013, 2, 1 ) ),\n  [ { start =&gt; '2013-01-30', end =&gt; '2013-02-01', }, ],\n  'three days over two month';\n\ncmp_deeply get_interval( get_date( 2013, 1, 01 ), get_date( 2014, 1, 31 ) ),\n  [\n    { start =&gt; '2013-01-01', end =&gt; '2013-01-30', },\n    { start =&gt; '2013-01-30', end =&gt; '2013-02-28', },\n    { start =&gt; '2013-02-28', end =&gt; '2013-03-29', },\n    { start =&gt; '2013-03-29', end =&gt; '2013-04-27', },\n    { start =&gt; '2013-04-27', end =&gt; '2013-05-26', },\n    { start =&gt; '2013-05-26', end =&gt; '2013-06-24', },\n    { start =&gt; '2013-06-24', end =&gt; '2013-07-23', },\n    { start =&gt; '2013-07-23', end =&gt; '2013-08-21', },\n    { start =&gt; '2013-08-21', end =&gt; '2013-09-19', },\n    { start =&gt; '2013-09-19', end =&gt; '2013-10-18', },\n    { start =&gt; '2013-10-18', end =&gt; '2013-11-16', },\n    { start =&gt; '2013-11-16', end =&gt; '2013-12-15', },\n    { start =&gt; '2013-12-15', end =&gt; '2014-01-13', },\n    { start =&gt; '2014-01-13', end =&gt; '2014-01-31', },\n  ],\n  'three days over two month';\n\n# what happens if start &gt; end?\n\ndone_testing;\n\nsub get_interval {\n    my ( $start, $end ) = @_;\n\n    # to get a 30 day timespan we need to add 29\n    # 01. to 30. = 1 + 29\n    my $twenty_nine_days = DateTime::Duration-&gt;new( days =&gt; 29 );\n\n    my @return;\n    while ( ( my $step = $start + $twenty_nine_days ) &lt; $end ) {\n        push @return, { start =&gt; $start-&gt;ymd, end =&gt; $step-&gt;ymd };\n        $start = $step;\n    }\n    push @return, { start =&gt; $start-&gt;ymd, end =&gt; $end-&gt;ymd };\n\n    return \\@return;\n}\n</code></pre>\n"}], "owner": {"reputation": 1864, "user_id": 4444747, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100002089938906/picture?type=large", "display_name": "Al Ex Tsm", "link": "https://stackoverflow.com/users/4444747/al-ex-tsm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 41042058, "answer_count": 1, "score": 0, "last_activity_date": 1481208053, "creation_date": 1481202367, "question_id": 41040260, "link": "https://stackoverflow.com/questions/41040260/perl-module-break-date-interval-into-sub-intervals", "title": "Perl module: break date interval into sub intervals?", "body": "<p>Lets say I have: </p>\n\n<pre><code>dateA : sometime in the past(ex: 2013-01-01T00:00:00)(yyyy-mm-dd)\ndateB :now\nintervalLength: from dateA - now\n</code></pre>\n\n<p>If the interval length greater than 30 days i need to generate an array where each position would hold an object with start and end of every subinterval:</p>\n\n<pre><code>intervalLength[0]: {start:2013-01-01T00:00:00, end:2013-01-30T00:00:00}\nintervalLength[1]: {start:2013-01-30T00:00:01, end:2013-02-28T00:00:00}\n...\nintervalLength[n]: \"last interval/rest\" &lt; 30days\n</code></pre>\n\n<p>So basically I need a module that can break a date interval into smaller sub intervals. Ideally a method which I can call by passing 2 dates and required interval max length as arguments.</p>\n"}, {"tags": ["json", "perl", "yaml"], "answers": [{"comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 1, "creation_date": 1481202671, "post_id": 41040316, "comment_id": 69287880, "body": "Thank you from saving me the hassle of performing a recursive walk on <code>$data</code> to massage it with <code>JSON::is_bool</code>"}, {"owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "edited": false, "score": 0, "creation_date": 1481202686, "post_id": 41040316, "comment_id": 69287893, "body": "YES! :) It does exactly what i want. Thank you much."}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 7, "last_activity_date": 1481202564, "creation_date": 1481202564, "answer_id": 41040316, "question_id": 41039792, "link": "https://stackoverflow.com/questions/41039792/correct-and-easy-way-convert-jsonppboolean-to-0-1-with-perl/41040316#41040316", "title": "Correct and easy way convert JSON::PP::Boolean to 0,1 with perl", "body": "<p>Use YAML's <a href=\"https://metacpan.org/pod/distribution/YAML/lib/YAML.pod#Stringify\" rel=\"noreferrer\">Stringify option</a>:</p>\n\n<pre><code>{\n    local $YAML::Stringify = 1;\n    say Dump($data);\n}\n</code></pre>\n\n<p>This makes YAML use the stringification overloads from JSON::PP::Boolean instead of dumping object internals.</p>\n"}, {"comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1481209488, "post_id": 41041363, "comment_id": 69292509, "body": "Why not just use <code>JSON::is_bool</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1481209917, "post_id": 41041363, "comment_id": 69292818, "body": "@Zaid, I imagine that&#39;s fine if you use JSON.pm. However, I never use that module -- it&#39;s approach of defaulting to JSON::PP instead of JSON::XS is too error-prone -- and I didn&#39;t want to limit my solution to only working with some versions of some JSON modules."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1481212429, "post_id": 41041363, "comment_id": 69294698, "body": "For example, <code>JSON::is_bool</code> won&#39;t work in a project that uses both JSON::PP and JSON::XS."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1481217592, "last_edit_date": 1481217592, "creation_date": 1481205847, "answer_id": 41041363, "question_id": 41039792, "link": "https://stackoverflow.com/questions/41039792/correct-and-easy-way-convert-jsonppboolean-to-0-1-with-perl/41041363#41041363", "title": "Correct and easy way convert JSON::PP::Boolean to 0,1 with perl", "body": "<p>A general solution:</p>\n\n<pre><code>use Carp qw( carp );\n\nsub convert_bools {\n    my %unrecognized;\n\n    local *_convert_bools = sub {\n        my $ref_type = ref($_[0]);\n        if (!$ref_type) {\n            # Nothing.\n        }\n        elsif ($ref_type eq 'HASH') {\n            _convert_bools($_) for values(%{ $_[0] });\n        }\n        elsif ($ref_type eq 'ARRAY') {\n            _convert_bools($_) for @{ $_[0] };\n        }\n        elsif (\n               $ref_type eq 'JSON::PP::Boolean'           # JSON::PP\n            || $ref_type eq 'Types::Serialiser::Boolean'  # JSON::XS\n        ) {\n            $_[0] = $_[0] ? 1 : 0;\n        }\n        else {\n            ++$unrecognized{$ref_type};\n        }\n    };\n\n    &amp;_convert_bools;\n\n    carp(\"Encountered an object of unrecognized type $_\")\n        for sort values(%unrecognized);\n}\n\nmy $data = decode_json($json);\nconvert_bools($data);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "is_accepted": false, "score": 0, "last_activity_date": 1525174746, "creation_date": 1525174746, "answer_id": 50115832, "question_id": 41039792, "link": "https://stackoverflow.com/questions/41039792/correct-and-easy-way-convert-jsonppboolean-to-0-1-with-perl/50115832#50115832", "title": "Correct and easy way convert JSON::PP::Boolean to 0,1 with perl", "body": "<p>Using <a href=\"https://metacpan.org/pod/YAML::XS\" rel=\"nofollow noreferrer\">YAML::XS</a> 0.67 or higher, you can do the following:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse 5.014;\nuse warnings;\n\nuse JSON;\nuse YAML::XS;\n\nmy $json_string = q(\n{\n   \"some\" : [\n      { \"isFlagged\" : true, \"name\" : \"Some name\" },\n      { \"isFlagged\" : false, \"name\" : \"Some other name\" }\n   ]\n}\n);\n\nmy $data = decode_json($json_string);\nlocal $YAML::XS::Boolean = 'JSON::PP';\nsay Dump($data);\n</code></pre>\n"}], "owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1239, "favorite_count": 0, "accepted_answer_id": 41040316, "answer_count": 3, "score": 3, "last_activity_date": 1525174746, "creation_date": 1481200892, "question_id": 41039792, "link": "https://stackoverflow.com/questions/41039792/correct-and-easy-way-convert-jsonppboolean-to-0-1-with-perl", "title": "Correct and easy way convert JSON::PP::Boolean to 0,1 with perl", "body": "<p>Trying convert <code>JSON</code> to <code>YAML</code>. Have this code</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse 5.014;\nuse warnings;\n\nuse JSON;\nuse YAML;\n\nmy $json_string = q(\n{\n   \"some\" : [\n      { \"isFlagged\" : true, \"name\" : \"Some name\" },\n      { \"isFlagged\" : false, \"name\" : \"Some other name\" }\n   ]\n}\n);\n\nmy $data = decode_json($json_string);\nsay Dump($data);\n</code></pre>\n\n<p>it produces:</p>\n\n<pre><code>---\nsome:\n  - isFlagged: !!perl/scalar:JSON::PP::Boolean 1\n    name: Some name\n  - isFlagged: !!perl/scalar:JSON::PP::Boolean 0\n    name: Some other name\n</code></pre>\n\n<p>I need convert the <code>JSON::PP::Boolean</code> objects to <code>0</code> or <code>1</code>. Of course, I could remove every <code>!!perl/scalar:JSON::PP::Boolean</code> string from the <code>YAML</code> output, but this doesn't seems to me as an correct solution.</p>\n\n<p>So, what is the easy and correct way convert all <code>JSON::PP::Boolean</code> objects to simple <code>0</code> and <code>1</code>, so the <code>YAML</code> will generate</p>\n\n<pre><code>---\nsome:\n  - isFlagged: 1\n    name: Some name\n  - isFlagged: 0\n    name: Some other name\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 4, "last_activity_date": 1481198966, "creation_date": 1481198966, "answer_id": 41039177, "question_id": 41039130, "link": "https://stackoverflow.com/questions/41039130/cannot-fetch-items-from-hash-get-global-symbol-requires-explicit-package-name/41039177#41039177", "title": "Cannot fetch items from hash, get Global symbol requires explicit package name", "body": "<p><code>my $code = checkError();</code> assigns the return value to the <strong>scalar</strong> <code>$code</code>.</p>\n\n<p><code>$code{id}</code> tries to read the <strong>scalar</strong> <code>id</code> value from the <code>%code</code> <strong>hash</strong> \u2026 but you have a scalar, not a hash.</p>\n\n<p>You need to assign the return value to a hash in the first place:</p>\n\n<pre><code>my %code = checkError();\n</code></pre>\n"}], "owner": {"reputation": 5023, "user_id": 3021358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/xI263.png?s=128&g=1", "display_name": "snaggs", "link": "https://stackoverflow.com/users/3021358/snaggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 41039177, "answer_count": 1, "score": 0, "last_activity_date": 1481198966, "creation_date": 1481198789, "question_id": 41039130, "link": "https://stackoverflow.com/questions/41039130/cannot-fetch-items-from-hash-get-global-symbol-requires-explicit-package-name", "title": "Cannot fetch items from hash, get Global symbol requires explicit package name", "body": "<p>I try to work with hashes in Perl.</p>\n\n<p>I have following example:</p>\n\n<pre><code>my %ERROR_CODE_101 = (\"id\"  =&gt; 101,\"desc\" =&gt; \"blablabla\");\n\nsub checkError\n{   \n   # some switch-case \n   #....\n   return %ERROR_CODE_101;    \n}\n\nsub runCommand\n{        \n    my $code = checkError();\n    if($code{id} &gt; 0)    # error happens here line 216\n    {\n       #...\n    }\n}\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>Global symbol \"%code\" requires explicit package name at build_ios.pl\n  line 216.</p>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1481203547, "post_id": 41039055, "comment_id": 69288423, "body": "Can you divide your problem in smaller problems? It&#39;s kind of hard to process all the information all at once. So if your problem is that you want a text to csv formatter, then you should have just said, &quot;I have this input and I want this output. I have tryed this and that.&quot;"}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1481205689, "post_id": 41039055, "comment_id": 69289864, "body": "csv formatted output.txt is a misnomer, my apologies.. it should be output.csv,, n actually i have the one input and one list file as mentioned above. from it, i want the .csv formatted output as given"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1481206092, "post_id": 41039055, "comment_id": 69290131, "body": "In this case a simple google search for <code>text to csv perl</code> would have lead you to the right answer"}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "reply_to_user": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1481206824, "post_id": 41039055, "comment_id": 69290655, "body": "actually the problem is quite different and tricky for me.. I have just edit my post and mentioned only the exact problem (excluding the script which i used for a rather simpler scenario) as u suggested.. may be this time it will be more clear"}], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1481210952, "post_id": 41042528, "comment_id": 69293562, "body": "it is working fine.. but in the &quot;Region&quot; column instead of showing &quot;1-5&quot;, it shows &quot;01-May&quot;.. may be it interferes with the MS Excel date formatting.. could it be changed to something like &quot;..&quot;?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1481211689, "post_id": 41042528, "comment_id": 69294117, "body": "@J.Carter Great. Unfortunately I am not familiar with Excel, but to change the dash into double dots, try for example <code>$region =~ s&#47;-&#47;..&#47;</code>"}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1481212111, "post_id": 41042528, "comment_id": 69294447, "body": "thank you very much, i&#39;m trying it now.. it seems that only substituting  - to .. in last line wont help , $region should print it in itself"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1481212431, "post_id": 41042528, "comment_id": 69294699, "body": "You are welcome. Try inserting the substitution on <code>$region</code> on a line below <code>my $seq = </code>"}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1481212815, "post_id": 41042528, "comment_id": 69294971, "body": "you are absolutely right sir.. thank you once again."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1481211126, "last_edit_date": 1481211126, "creation_date": 1481209400, "answer_id": 41042528, "question_id": 41039055, "link": "https://stackoverflow.com/questions/41039055/extracting-regions-from-a-range-file-in-a-formatted-output-perl/41042528#41042528", "title": "extracting regions from a range file in a formatted output perl", "body": "<p>Here is an approach. To summarize: We have a master database file <code>input.txt</code> with all defined sequences. Our job is to extract certain information from this database and write it to a CSV file. The information about what to extract is given in file <code>list.txt</code>.</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $input_fn = 'input.txt';\nopen ( my $fh1, '&lt;', $input_fn ) or die \"Could not open file '$input_fn': $!\";\nmy %seqs;\nwhile( my $line = &lt;$fh1&gt; ) {\n    my ($id ) = $line =~ /gi\\|(.*)$/;\n    chomp( my $seq = &lt;$fh1&gt; );\n    $seqs{$id} = $seq;\n}\nclose $fh1;\nsay join ',', qw(ID Regions Length Sequences);\n\nmy $list_fn = 'list.txt';\nopen ( my $fh2, '&lt;', $list_fn ) or die \"Could not open file '$list_fn': $!\";\nwhile( my $line = &lt;$fh2&gt; ) {\n    chomp $line;\n    my ( $id, @regions ) = split /[:,]\\s?/, $line;\n    for my $i (0..$#regions) {\n        my $region = $regions[$i];\n        my $start = my $end = $region;\n        if ( $region =~ /(\\d+)-(\\d+)/ ) {\n            $start = $1;\n            $end = $2;\n        }\n        my $name = ($i == 0) ? $id : \"\";\n        my $seq = substr( $seqs{$id}, $start - 1, $end - $start + 1);\n        say join ',', $name, $region, length( $seq ), $seq;\n    }\n}\nclose $fh2;\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>ID,Regions,Length,Sequences\nNP_415931.4,1-5,5,MTEQQ\n,6-8,3,KLT\nYP_026226.4,3-7,5,KFTLN\n,9-9,1,F\n,10,1,T\n,12-15,4,SLGL\n</code></pre>\n"}], "owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 41042528, "answer_count": 1, "score": 1, "last_activity_date": 1481211126, "creation_date": 1481198535, "last_edit_date": 1481206704, "question_id": 41039055, "link": "https://stackoverflow.com/questions/41039055/extracting-regions-from-a-range-file-in-a-formatted-output-perl", "title": "extracting regions from a range file in a formatted output perl", "body": "<p>I have a input and list file like this:</p>\n\n<p>input.txt file:</p>\n\n<pre><code>&gt;gi|NP_415931.4\nMTEQQKLTFTALQQRLDSLMLRDRLRFSRRLHGVKKVKNPDAQQAIFQEMAKEIDQAAGKVLLREAARPEITYPD\n&gt;gi|NP_418770.2\nMMNKSNFEFLKGVNDFTYAIACAAENNYPDDPNTTLIKMRMFGEATAKHLGLL\n&gt;gi|YP_026226.4\nMRKFTLNIFTLSLGLAVMPMVEAAPTAQQQLLEQVRLGEATHREDLVQQSLYRLELIDPNNPDVVAARFRSLLRQGDIDGAQKQ\n</code></pre>\n\n<p>list.txt file:</p>\n\n<pre><code>NP_415931.4: 1-5, 6-8\nYP_026226.4: 3-7, 9-9, 10, 12-15\n</code></pre>\n\n<p>Now, for this time, I want a csv formatted output.csv (with certain added header) as (for the above inputs):</p>\n\n<pre><code>ID,Regions,Length,Sequences\nNP_415931.4,1-5,5,MTEQQ\n,6-8,3,KLT\nYP_026226.4,3-7,5,KFTLN\n,9-9,1,F\n,10,1,T\n,12-15,4,SLGL\n</code></pre>\n\n<p>that is, it first match the list file headers with those of input files and the matched once's sequences are taken and then it gives the output arranging in the above format.</p>\n\n<p>the excel view of the output.csv would be:</p>\n\n<p><a href=\"https://i.stack.imgur.com/y5fys.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y5fys.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I generate the above output.csv file from those inputs?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "memory"], "comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481208694, "post_id": 41039020, "comment_id": 69291896, "body": "You could use <code>File::Copy</code> to copy the input to the output file handle. <a href=\"http://perldoc.perl.org/File/Copy.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/File/Copy.html</a>"}, {"owner": {"reputation": 214, "user_id": 5059501, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3f80f24bb27210b8f478032ce52d00a1?s=128&d=identicon&r=PG&f=1", "display_name": "messy", "link": "https://stackoverflow.com/users/5059501/messy"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481223225, "post_id": 41039020, "comment_id": 69301115, "body": "@shawnhcorey thanks. Looks like it has buffer size control as well. Do you know if there is any real difference between what I did and using it? Is it perhaps the same or is it optimized better?"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1481238772, "post_id": 41039020, "comment_id": 69308487, "body": "<code>File::Copy</code> is a standard module and is installed with Perl. If standard modules can be optimized, they usually are."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1481206692, "creation_date": 1481206692, "answer_id": 41041636, "question_id": 41039020, "link": "https://stackoverflow.com/questions/41039020/does-piping-between-two-external-processes-save-memory/41041636#41041636", "title": "Does piping between two external processes save memory?", "body": "<p>In the first case, you read the entirety of the output of <code>command</code> into memory before sending any of it out. In the second case, you read only a line at a time. </p>\n\n<p>If the output of command is large and consists of many lines, then yeah, you'll save memory.</p>\n\n<p>There's more work being done in the second case, so it'll be slower, but probably unnoticeably so.</p>\n"}], "owner": {"reputation": 214, "user_id": 5059501, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3f80f24bb27210b8f478032ce52d00a1?s=128&d=identicon&r=PG&f=1", "display_name": "messy", "link": "https://stackoverflow.com/users/5059501/messy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 41041636, "answer_count": 1, "score": 0, "last_activity_date": 1481206692, "creation_date": 1481198451, "question_id": 41039020, "link": "https://stackoverflow.com/questions/41039020/does-piping-between-two-external-processes-save-memory", "title": "Does piping between two external processes save memory?", "body": "<p>I was doing this to run an external command, prepend some data and send it all to another external command:</p>\n\n<pre><code>my $prepend = 'foo foo foo';\nmy $contents = `command`;\nopen(my $handle, \"|-\", \"command_2\"))\nprint $handle $prepend . $contents;\nclose $handle;\n</code></pre>\n\n<p>Which is fine for when <code>$contents</code> (returned from an external process) is small (it's often less than 1k), but when it's big (up to 10, 20, 30MB), I suspect this is unnecessarily memory intensive.</p>\n\n<p>So I changed it to:</p>\n\n<pre><code>my $prepend = 'foo foo foo';\nopen(my $handle_in, \"-|\", \"command\"))\nopen(my $handle_out, \"|-\", \"command_2\"))\nprint $handle_out $prepend;\nwhile (&lt;$handle_in&gt;) {\n    print $handle_out $_;\n}\nclose $handle_in;\nclose $handle_out;\n</code></pre>\n\n<p>Does this actually save memory? When <code>command</code> returns many MB of data, does it suffer any performance problems? Is there a better way to do this?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481196102, "post_id": 41038172, "comment_id": 69283686, "body": "So you want to find the overlapping ones, like <i><b>aca</b>cab...</i> and <i>ac<b>aca</b>b...</i>?"}, {"owner": {"reputation": 3621, "user_id": 6188402, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a8bdb7cbe81f5544f0ddc6ded12a23f1?s=128&d=identicon&r=PG&f=1", "display_name": "Washington Guedes", "link": "https://stackoverflow.com/users/6188402/washington-guedes"}, "edited": false, "score": 0, "creation_date": 1481196106, "post_id": 41038172, "comment_id": 69283691, "body": "Since one character can be in two matches, you should use positive lookahead to take only the initial position where the word occur, like <code>&#47;(?=word)&#47;</code> instead of <code>&#47;word&#47;</code>"}], "owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1481196426, "answer_count": 0, "score": 0, "last_activity_date": 1481195854, "creation_date": 1481195854, "question_id": 41038172, "link": "https://stackoverflow.com/questions/41038172/regex-to-find-and-display-count-of-every-word-in-a-string", "closed_reason": "Duplicate", "title": "Regex to find and display count of every word in a string", "body": "<p>I have a string and array. I want to find occurence of each element of array in the string.</p>\n\n<pre><code>my $str = 'acacabcatghhellomvnsdb';\nmy $words = [\"aca\",\"cat\",\"hello\",\"world\"];\n</code></pre>\n\n<p>In above case, result should be: <code>\"aca\" : 2 , \"cat\" : 1 , \"hello\" : 1 , \"world\" : 0</code>, our focus in output shpuld be in count, not on formatting. <br> I have tried resetting string index using <code>pos</code> as well, but I'm not getting right output. Below is my program:</p>\n\n<pre><code>my $str = 'acacabcatghhellomvnsdb';\nmy $words = [\"aca\",\"cat\",\"hello\",\"world\"];\n\nmy $cnt = {};\nfor my $word (@$words) {\n    $cnt-&gt;{$word} ++  while ($str =~ /$word/g);\n    my $c = () = $str =~ /$word/\n}\nuse Data::Dumper;\nprint Dumper $cnt;\n</code></pre>\n\n<p>Output is: <code>'cat' =&gt; 1, 'hello' =&gt; 1, 'aca' =&gt; 1</code>, However <code>aca</code> should be <code>2</code>.</p>\n"}, {"tags": ["encoding", "perl", "slurp"], "comments": [{"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1481193751, "post_id": 41037415, "comment_id": 69282197, "body": "It seems that we do not have UTF-16 or UTF-32 files"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1481194861, "post_id": 41037415, "comment_id": 69282877, "body": "There&#39;s a typo in you code. It won&#39;t compile with a wrong module name. Please fix that."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1481195214, "post_id": 41037415, "comment_id": 69283067, "body": "Do you know the encoding of each file beforehand?"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1481198547, "post_id": 41037415, "comment_id": 69285253, "body": "I think simple <code>perl -pi -e&#39;s{http:&#47;&#47;}{&#47;&#47;}gi&#39;</code> should be sufficient."}, {"owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "edited": false, "score": 0, "creation_date": 1481216606, "post_id": 41037415, "comment_id": 69297496, "body": "I added binmode=&gt;&#39;:raw&#39;. Now it seems correct"}], "answers": [{"tags": [], "owner": {"reputation": 470, "user_id": 6193608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dliye.jpg?s=128&g=1", "display_name": "David Verdin", "link": "https://stackoverflow.com/users/6193608/david-verdin"}, "is_accepted": false, "score": 3, "last_activity_date": 1481212903, "last_edit_date": 1495542648, "creation_date": 1481212903, "answer_id": 41043699, "question_id": 41037415, "link": "https://stackoverflow.com/questions/41037415/reliable-perl-encoding-with-fileslurp/41043699#41043699", "title": "Reliable Perl encoding with File::Slurp", "body": "<p>This answer won't make you sure, though I hope it can help.</p>\n\n<p>I don't see any problem with your script (tested with utf8 ans iso-8859-1 without problems) though there seems to be a discussion regarding the capacity of File::slurp to correctly handle encoding : <a href=\"http://blogs.perl.org/users/leon_timmermans/2015/08/fileslurp-is-broken-and-wrong.html\" rel=\"nofollow noreferrer\">http://blogs.perl.org/users/leon_timmermans/2015/08/fileslurp-is-broken-and-wrong.html</a></p>\n\n<p>In this answer on a similar subject, the author recommends File::Slurper as an alternative, due to better encoding handling: <a href=\"https://stackoverflow.com/a/206682/6193608\">https://stackoverflow.com/a/206682/6193608</a></p>\n"}, {"tags": [], "owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "is_accepted": false, "score": 2, "last_activity_date": 1481219595, "last_edit_date": 1592644375, "creation_date": 1481218981, "answer_id": 41045621, "question_id": 41037415, "link": "https://stackoverflow.com/questions/41037415/reliable-perl-encoding-with-fileslurp/41045621#41045621", "title": "Reliable Perl encoding with File::Slurp", "body": "<p>It's no longer recommended to use File::Slurp (<a href=\"http://blogs.perl.org/users/leon_timmermans/2015/08/fileslurp-is-broken-and-wrong.html\" rel=\"nofollow noreferrer\">see here</a>).</p>\n<p>I would recommend using <a href=\"http://search.cpan.org/%7Edagolden/Path-Tiny/lib/Path/Tiny.pm\" rel=\"nofollow noreferrer\">Path::Tiny</a>. It's easy to use, works with both files and directories, only uses core modules, and has slurp/spew methods specifically for uft8 and raw so you shouldn't have a problem with the encoding.</p>\n<p>Usage:</p>\n<pre><code>use Path::Tiny;\n\nmy $Text = path($File)-&gt;slurp_raw;\n\n$Text =~ s{http://}{//}gi;\n\npath($File)-&gt;spew_raw($Text);\n</code></pre>\n<p><strong>Update:</strong> From documentation on spew:</p>\n<blockquote>\n<p>Writes data to a file atomically. The file is written to a temporary file in the same directory, then renamed over the original. An optional hash reference may be used to pass options. The only option is binmode, which is passed to binmode() on the handle used for writing.</p>\n<p>spew_raw is like spew with a binmode of :unix for a fast, unbuffered, raw write.</p>\n<p>spew_utf8 is like spew with a binmode of :unix:encoding(UTF-8) (or PerlIO::utf8_strict). If Unicode::UTF8 0.58+ is installed, a raw spew will be done instead on the data encoded with Unicode::UTF8.</p>\n</blockquote>\n"}], "owner": {"reputation": 4450, "user_id": 856090, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/fa49a1c90a6af7544d764c5b22ff780d?s=128&d=identicon&r=PG", "display_name": "porton", "link": "https://stackoverflow.com/users/856090/porton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1481219595, "creation_date": 1481193688, "last_edit_date": 1481216593, "question_id": 41037415, "link": "https://stackoverflow.com/questions/41037415/reliable-perl-encoding-with-fileslurp", "title": "Reliable Perl encoding with File::Slurp", "body": "<p>I need to replace every occurrence of <code>http://</code> with <code>//</code> in a file. The file may be (at least) in <code>UTF-8</code>, <code>CP1251</code>, or <code>CP1255</code>.</p>\n\n<p>Does the following work?</p>\n\n<pre><code>use File::Slurp;\nmy $Text = read_file($File, binmode=&gt;':raw');\n$Text =~ s{http://}{//}gi;\nwrite_file($File, {atomic=&gt;1, binmode=&gt;':raw'}, $Text);\n</code></pre>\n\n<p>It seems correct, but I need to be sure that the file will not be damaged whatever encoding it has. Please help me to be sure.</p>\n"}, {"tags": ["php", "mongodb", "perl", "ubuntu-14.04", "pecl"], "answers": [{"tags": [], "owner": {"reputation": 691, "user_id": 4132064, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ap8Xh.png?s=128&g=1", "display_name": "vijay", "link": "https://stackoverflow.com/users/4132064/vijay"}, "is_accepted": false, "score": 1, "last_activity_date": 1481178432, "creation_date": 1481178432, "answer_id": 41033108, "question_id": 41032677, "link": "https://stackoverflow.com/questions/41032677/php-extension-compatability-with-php-5-6-6-or-higher/41033108#41033108", "title": "php extension compatability with php 5.6.6 or higher", "body": "<p>The library or extension are third party softwares which they are developed by there own and able to bind in PHP or any other language.</p>\n\n<p>E.g. <a href=\"https://en.wikipedia.org/wiki/CURL\" rel=\"nofollow noreferrer\">CURL</a> library is developed in C and it can be used or bind in many different languages.</p>\n\n<p>Also it is good to stay always up-to date, while upgrading to new version E.g PHP, you can check the <a href=\"http://php.net/ChangeLog-5.php\" rel=\"nofollow noreferrer\">change-log</a> of version and base on that you can understand, Is any library supporting change or not.</p>\n\n<p>Many Web Servers are always try to upgrade or staying latest versions of languages or you can also inform them to upgrade server base on requirement and they will do, so it is no worry about server configuration.</p>\n\n<p>From my system I upgraded from Ubuntu 12.4 to 14.4 and currently PHP version is 5.5.9 and every library is working fine.</p>\n\n<p>And thing is that when the language version upgraded some good stuff also come, some bugs are fixed. So its cool stuff to always stay up</p>\n"}], "owner": {"reputation": 98, "user_id": 5291588, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/77c931c1d07c132a6a023c89477da13b?s=128&d=identicon&r=PG", "display_name": "A Sahra", "link": "https://stackoverflow.com/users/5291588/a-sahra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1481178432, "creation_date": 1481176491, "question_id": 41032677, "link": "https://stackoverflow.com/questions/41032677/php-extension-compatability-with-php-5-6-6-or-higher", "title": "php extension compatability with php 5.6.6 or higher", "body": "<p>Is any one installed the following library or extension <code>(curl,libcurl,pearl,pecl,mongodb driver for php)</code>  with <code>php 5.6.6</code> or higher not 7 in Ubuntu 14   </p>\n\n<p>I have used all of this with <code>php 5.5</code> now I afraid of version compatibility, \n<strong>if any one ensure me</strong> to can I migrate from  <code>Ubuntu  12.0.4</code> to 14 and <code>php 5.5</code> to <code>5.6.6</code> or higher ?</p>\n"}, {"tags": ["perl", "scope", "subroutine"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1481173752, "post_id": 41032063, "comment_id": 69271656, "body": "Modern Perl seldom uses the <code>&amp;</code> in front of a function name."}, {"owner": {"reputation": 179, "user_id": 1128556, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/77af9d221ed018402ae53db9f635d45f?s=128&d=identicon&r=PG", "display_name": "Forest Yang", "link": "https://stackoverflow.com/users/1128556/forest-yang"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1481174301, "post_id": 41032063, "comment_id": 69271816, "body": "I just want to make &amp;$b and &amp;b, &amp;a consistent. &amp; in &quot;&amp;$b&quot; is not optional if &quot;my $b = sub { ... }&quot;. Anyway, so far just learned Perl for a month."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 6, "creation_date": 1481174339, "post_id": 41032063, "comment_id": 69271823, "body": "If I add <code>use warnings;</code> (or use <code>-w</code> on the command line), I get the message: <code>Variable &quot;@x&quot; will not stay shared at sub23.pl line 8.</code>.  Reminder: always use both <code>use warnings;</code> and <code>use strict;</code> (unless you know enough about Perl not to need that \u2014 I&#39;ve only been using it for 20+ years so I know I don&#39;t know enough to risk it)."}, {"owner": {"reputation": 25937, "user_id": 338904, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dea29233fa03ea84f8a853102deb0344?s=128&d=identicon&r=PG", "display_name": "e2-e4", "link": "https://stackoverflow.com/users/338904/e2-e4"}, "edited": false, "score": 0, "creation_date": 1481174450, "post_id": 41032063, "comment_id": 69271865, "body": "&quot;<i>I&#39;ve only been using it for 20+ years</i>&quot; lol :-) I&#39;ve been using Perl for 15 years but that result still surprise me!"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1481175486, "post_id": 41032063, "comment_id": 69272261, "body": "Almost a duplicate: <a href=\"http://stackoverflow.com/questions/4048248/variable-foo-will-not-stay-shared-warning-error-in-perl-while-calling-subrout/4048277#4048277\" title=\"variable foo will not stay shared warning error in perl while calling subrout\">stackoverflow.com/questions/4048248/&hellip;</a>"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 1, "creation_date": 1481178412, "post_id": 41032063, "comment_id": 69273438, "body": "Side note: it is unusual to see a named sub inside a named sub. If this is real production code, you probably want to reconsider your approach"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1481181536, "post_id": 41032063, "comment_id": 69274986, "body": "N.B. <code>&amp;b</code> or <code>&amp;$b</code> without <code>()</code> are a special form of sub call that you almost never want to use.  Do <code>&amp;b()</code>/<code>&amp;$b()</code> instead (or, as preferred by many, <code>b()</code>/<code>$b-&gt;()</code>).  (This does not apply to method calls; empty parentheses can be left off those.)"}, {"owner": {"reputation": 179, "user_id": 1128556, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/77af9d221ed018402ae53db9f635d45f?s=128&d=identicon&r=PG", "display_name": "Forest Yang", "link": "https://stackoverflow.com/users/1128556/forest-yang"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1481208335, "post_id": 41032063, "comment_id": 69291641, "body": "For sub inside sub, I kind of like this &quot;local&quot; define, used once and discard. Did not realize such a different behavior between named and anonymous subroutines.  @Zaid why not in production code ? are you saying &quot;<i>named</i> sub inside a sub&quot;, but instead using &quot;anonymous sub inside sub&quot; is OK ?"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 2, "creation_date": 1481209303, "post_id": 41032063, "comment_id": 69292357, "body": "@ForestYang that&#39;s right, if it is a use-and-throw type of situation, there is little reason to give the inner sub a name, <code>my $s = sub { ... }; $s-&gt;();</code> is a more natural choice here."}], "answers": [{"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1481174680, "post_id": 41032247, "comment_id": 69271959, "body": "Dumping <code>@x</code> before and after the call to <code>b</code> shows this up."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1481175223, "post_id": 41032247, "comment_id": 69272158, "body": "Printing out the address of <code>@x</code> (<code>print \\@x</code> =&gt; <code>ARRAY(0x0bac0b17)</code> will also demonstrate this."}], "tags": [], "owner": {"reputation": 34158, "user_id": 7203016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ybAMw.png?s=128&g=1", "display_name": "K. A. Buhr", "link": "https://stackoverflow.com/users/7203016/k-a-buhr"}, "is_accepted": true, "score": 12, "last_activity_date": 1481174679, "last_edit_date": 1481174679, "creation_date": 1481174205, "answer_id": 41032247, "question_id": 41032063, "link": "https://stackoverflow.com/questions/41032063/why-my-variable-inside-a-sub-and-modified-by-sub-sub-behaves-so-strange/41032247#41032247", "title": "Why &quot;my @variable&quot; inside a sub and modified by sub/sub behaves so strange", "body": "<p>As per the \"perlref\" man page:  </p>\n\n<blockquote>\n  <p>named subroutines are created at compile time so their lexical\n  variables [i.e., their 'my' variables] get assigned to the parent\n  lexicals from the first execution of the parent block.  If a parent\n  scope is entered a second time, its lexicals are created again, while\n  the nested subs still reference the old ones.</p>\n</blockquote>\n\n<p>In other words, a named subroutine (your <code>b</code>), has its <code>@x</code> bound to the parent subroutine's \"first\" <code>@x</code>, so when <code>a</code> is called the first time, <code>b</code> adds a <code>1</code> to <code>@x</code>, and both the inner and outer copies refer to this same version.  However, the second time <code>a</code> is called, a new <code>@x</code> lexical is created, but <code>b</code> still points to the old one, so it adds a second <code>1</code> to that list and prints it (inner), but when it comes time for <code>a</code> to print its version, it prints out the (empty) brand new lexical (outer).</p>\n\n<p>Anonymous subroutines don't exhibit this problem, so when you write <code>my $b = sub { ... }</code>, the inner <code>@x</code> always refers to the \"current\" version of <code>a</code>'s lexical <code>@x</code>.</p>\n"}], "owner": {"reputation": 179, "user_id": 1128556, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/77af9d221ed018402ae53db9f635d45f?s=128&d=identicon&r=PG", "display_name": "Forest Yang", "link": "https://stackoverflow.com/users/1128556/forest-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 1, "accepted_answer_id": 41032247, "answer_count": 1, "score": 4, "last_activity_date": 1481174916, "creation_date": 1481173130, "last_edit_date": 1481174916, "question_id": 41032063, "link": "https://stackoverflow.com/questions/41032063/why-my-variable-inside-a-sub-and-modified-by-sub-sub-behaves-so-strange", "title": "Why &quot;my @variable&quot; inside a sub and modified by sub/sub behaves so strange", "body": "<p>I have a strange behaved (to Python programmer) subroutine, which simplified as the following:</p>\n\n<pre><code>use strict;\nuse Data::Dumper;\nsub a {\n  my @x;\n  sub b { push @x, 1; print \"inside: \", Dumper(\\@x); }\n  &amp;b;\n  print \"outside: \", Dumper(\\@x);\n}\n&amp;a;\n&amp;a;\n</code></pre>\n\n<p>I found the result is:</p>\n\n<pre><code>inside: $VAR1=[ 1 ]\noutside: $VAR1 = [ 1 ]\ninside: $VAR1=[1, 1]\noutside: $VAR1= []\n</code></pre>\n\n<p>What I thought is when calling <code>&amp;a</code>, <code>@x</code> is empty array after \"<code>my @x</code>\" and has one element after \"<code>&amp;b</code>\", then dead. Every time I call <code>&amp;a</code>, it is the same. so the output should be all <code>$VAR1 = [ 1 ]</code>.</p>\n\n<p>Then I read something like named sub routine are defined once in symbol table, then I do \"<code>my $b = sub { ... }; &amp;$b;</code>\", it seems make sense to me.</p>\n\n<p>How to explain?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1481164302, "post_id": 41030695, "comment_id": 69269121, "body": "You would need a hash where the value is an <b>array</b>, not a <b>scalar</b>. Alternatively, you could append to the value, rather than replacing it, seperating the IP addressed in the value with a character of your choice, such as a comma or semi-colon."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481172399, "post_id": 41030695, "comment_id": 69271238, "body": "Data structure design is much more about what <i>questions</i> you want to ask, rather than how you imagine the data&#39;s structure. Are these source and destination addresses always distinct, or is the relationship mostly symmetrical? (Can a destination also be a source?) What information do you want to know for any given address? For instance, counts of outgoing connections, whether an address is a source or a destination, how many times a given source-destination pair has connected in a given period etc."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1481172400, "post_id": 41030695, "comment_id": 69271239, "body": "What you want is actually 1:N (each key has many values), not N:N. As such, a hash of arrays will do."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1481172718, "post_id": 41030695, "comment_id": 69271333, "body": "From your description you only need a one-to-many relationship, but the details depend on what you need to know. A hash of hashes will tell you whether a given pair of addresses was ever connected, and how many times. A hash of arrays will keep the connections <i>from</i> a source address in order, if that matters. And so on. You need to think about what access you need, and you should consider using a database"}, {"owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "edited": false, "score": 0, "creation_date": 1481221596, "post_id": 41030695, "comment_id": 69300286, "body": "All of your responses are excellent. I seems I do need a hash of arrays, and I do need to think more about the questions I need to answer. Right now I need to answer questions like &quot;What are the Top 3 destinations&quot;, and &quot;what source IPs are going to those top 3&quot;. When I saw the second question, I immediately thought store both source and destination IP as a related pair."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1481195844, "post_id": 41030840, "comment_id": 69283516, "body": "I would probably write that as <code>$sessionIPs{&quot;1.1.1.1&quot;} = [ &quot;2.2.2.2&quot;, &quot;5.5.5.5&quot; ];</code> as I think it clearer."}, {"owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "edited": false, "score": 0, "creation_date": 1481221883, "post_id": 41030840, "comment_id": 69300433, "body": "@KRichardson That seems to be the solution some of the others were talking about in the comments above, I tried it and it will work! Many thanks.  Thanks also to Sobrique for that little tidbit. I understood KRichardsons solution but it was even more clear after reading your post."}, {"owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "edited": false, "score": 0, "creation_date": 1481230956, "post_id": 41030840, "comment_id": 69305042, "body": "I&#39;m not having any success searching the hash of arrays for defined values. Here is a sample question. &quot;Which source IPs have a destination IP of x.x.x.x&quot;. So I need to query the array within the hash, and I don&#39;t have any code because I&#39;m not quite sure how to start that. Should I open a new question for this too?"}, {"owner": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "edited": false, "score": 1, "creation_date": 1481231314, "post_id": 41030840, "comment_id": 69305229, "body": "That is a different can of worms, but the basic method I would use is similar to the output (nested foreach loops). Outside the outer loop initialize an empty hash <code>%sourcesFound</code> or something similar. Then inside the inner loop put in a check like <code>if ($dest eq $searchDest) $sourcesFound{$key} = 1;</code> After this, <code>keys %sourcesFound</code> would contain all sources that contain the requested destination."}, {"owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "edited": false, "score": 0, "creation_date": 1481232191, "post_id": 41030840, "comment_id": 69305683, "body": "Thanks, I&#39;ll give that a go and see how far I get, its not easy so far. Hopefully I get something to work soon."}], "tags": [], "owner": {"reputation": 1280, "user_id": 6899868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bdf8c1eecd2f713142980065b4b59f1?s=128&d=identicon&r=PG&f=1", "display_name": "K Richardson", "link": "https://stackoverflow.com/users/6899868/k-richardson"}, "is_accepted": true, "score": 3, "last_activity_date": 1481241178, "last_edit_date": 1481241178, "creation_date": 1481164539, "answer_id": 41030840, "question_id": 41030695, "link": "https://stackoverflow.com/questions/41030695/how-to-code-many-to-many-relationship-in-perl/41030840#41030840", "title": "How to code many to many relationship in PERL?", "body": "<p>You are on the right track, I think a hash is a good way to go. However, rather than storing a scalar (single value) in the hash, you could store an array of values inside the hash:</p>\n\n<pre><code>%sessionIPs = {};\n@{$sessionIPs{\"1.1.1.1\"}} = (\"2.2.2.2\", \"5.5.5.5\");\n...\n</code></pre>\n\n<p>Of course, you'll likely want to add destinations programmatically, so you could push new values:</p>\n\n<pre><code>push @{$sessionIPs{\"1.1.1.1\"}}, \"6.6.6.6\";\n</code></pre>\n\n<p>or, more generically:</p>\n\n<pre><code>push @{$sessionIPs{$source}}, $destination;\n</code></pre>\n\n<p>A complete example:</p>\n\n<pre><code>%sessionIPs = ();\n\npush @{ $sessionIPs{\"1.1.1.1\"}}, \"2.2.2.2\";\npush @{ $sessionIPs{\"1.1.1.1\"}}, \"3.3.3.3\";\npush @{ $sessionIPs{\"1.1.1.1\"}}, \"4.4.4.4\";\npush @{ $sessionIPs{\"5.5.5.5\"}}, \"6.6.6.6\";\npush @{ $sessionIPs{\"5.5.5.5\"}}, \"7.7.7.7\";\n\nforeach my $source ( keys %sessionIPs ) {\n        print \"source: $source\\n\";\n        foreach my $dest ( @{$sessionIPs{$source}} ) {\n                print \"  dest: $dest\\n\";\n        }\n}\n</code></pre>\n\n<p>provides the output:</p>\n\n<pre><code>source: 1.1.1.1\n  dest: 2.2.2.2\n  dest: 3.3.3.3\n  dest: 4.4.4.4\nsource: 5.5.5.5\n  dest: 6.6.6.6\n  dest: 7.7.7.7\n</code></pre>\n"}], "owner": {"reputation": 347, "user_id": 463415, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8c325313565c843f16d04d613b15572b?s=128&d=identicon&r=PG", "display_name": "scryptKiddy", "link": "https://stackoverflow.com/users/463415/scryptkiddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 41030840, "answer_count": 1, "score": 0, "last_activity_date": 1481241178, "creation_date": 1481163496, "question_id": 41030695, "link": "https://stackoverflow.com/questions/41030695/how-to-code-many-to-many-relationship-in-perl", "title": "How to code many to many relationship in PERL?", "body": "<p>I have logs that I need to parse that have source and destination IP addresses. \nI'd like to store the source IP and destination IP as a pair of values as I iterate through the log. </p>\n\n<p>I tried a hash, it didn't work. Here is an example of the problem:</p>\n\n<pre><code>%sessionIPs = ();\n\n$sessionIPs{\"1.1.1.1\"} = \"2.2.2.2\";\n$sessionIPs{\"1.1.1.2\"} = \"3.3.3.3\";\n$sessionIPs{\"1.1.1.3\"} = \"4.4.4.4\";\n$sessionIPs{\"1.1.1.1\"} = \"5.5.5.5\";\n$sessionIPs{\"3.3.3.3\"} = \"6.6.6.6\";\n\nforeach my $key ( keys %sessionIPs )\n{\n        print \"key: $key, value: $sessionIPs{$key}\\n\";\n}\n\n#prints\nkey: 1.1.1.3, value: 4.4.4.4\nkey: 1.1.1.2, value: 3.3.3.3\nkey: 1.1.1.1, value: 5.5.5.5\nkey: 3.3.3.3, value: 6.6.6.6\n</code></pre>\n\n<p>As you can tell, I lost the 1.1.1.1 source IP and 2.2.2.2 destination IP key / value pair because a hash requires a unique key. I need a hash or other type of object that doesn't prohibit duplicate keys.  </p>\n\n<p>What object in perl allows me to store this kind of related data?</p>\n"}]