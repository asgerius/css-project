[{"tags": ["perl", "subroutine"], "comments": [{"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1476924078, "post_id": 40143135, "comment_id": 67557257, "body": "As your last line in script put getc; and let us know if that helps the window issue."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1476926013, "post_id": 40143135, "comment_id": 67557683, "body": "@mp3: Your comment is destructive. You are imagining that the OP is using Windows, and there will be thousands of people who come here with a similar problem who, sooner or later, will find that their code is subtly broken because an input character is missing. If you think you have an answer then please post an answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476926172, "post_id": 40143135, "comment_id": 67557728, "body": "@Jairo: Your code works for me, apart from the vanishing window. You should open a <code>cmd</code> window and run <code>perl main.pl</code>, or whatever you have called your program file. What variant of Perl do you have installed?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1476943775, "post_id": 40143135, "comment_id": 67562665, "body": "Line 17 doesn&#39;t have a call to <code>genNumeros::crearNumero()</code>. What you posted isn&#39;t the code you ran!"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -2, "last_activity_date": 1476927032, "last_edit_date": 1476927032, "creation_date": 1476926583, "answer_id": 40144001, "question_id": 40143135, "link": "https://stackoverflow.com/questions/40143135/issues-with-subroutine-perl/40144001#40144001", "title": "Issues with subroutine Perl", "body": "<p>Your package name and the corresponding file name should use capital letters, and local names should be all lower case</p>\n\n<p>So your library should be in file <code>GenNumeros.pm</code>, and should start with <code>package GenNumeros</code></p>\n\n<p>It should define subroutines <code>generador_multiplicativo</code> and <code>crear_numero</code></p>\n\n<p>Your main program file should <code>use GenNumeros</code></p>\n\n<p>The usual way to import identifiers is to use <a href=\"https://metacpan.org/pod/Exporter\" rel=\"nofollow\"><code>Exporter</code></a> in your library code, but fully-qualifying the subroutines, like <code>GenNumeros::generador_multiplicativo</code> is also fine</p>\n"}], "owner": {"reputation": 29, "user_id": 6811675, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/64bd6ce2ec06a28a0700a2eca229973d?s=128&d=identicon&r=PG&f=1", "display_name": "Jairo", "link": "https://stackoverflow.com/users/6811675/jairo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1476927032, "creation_date": 1476919795, "last_edit_date": 1476924966, "question_id": 40143135, "link": "https://stackoverflow.com/questions/40143135/issues-with-subroutine-perl", "title": "Issues with subroutine Perl", "body": "<p>I'm trying to execute a Perl program, but the window only closes up. But if I select a part of the window, it stays open, and I press <em>Enter</em> and says</p>\n\n<blockquote>\n  <p>Undefined subroutine &amp;genNumeros::crearNumero called at .... at line 17</p>\n</blockquote>\n\n<h3>genNumeros.pm</h3>\n\n<pre><code>package genNumeros;\n\nuse strict;\nuse warnings;\n\nuse Math::Complex;\n\nmy $seed = time();\nmy $a = $seed / 5;\nmy $c = $seed - 7;\nmy $x = $seed;\nmy $m = sqrt($seed % 574) + $seed;\nmy $numAleatorio;\n\n\nsub generadorMultiplicativo {\n    $numAleatorio = ((($a*$x) + $c) % $m);\n    $x = $numAleatorio;\n}\n\nmy $letra;\nmy $residuo;\n\nsub crearNumero {\n    generadorMultiplicativo();\n    $residuo = $x / $m;\n\n    return int($residuo * 27)\n}\n\n1;\n</code></pre>\n\n<h3>main.pl</h3>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\n\nuse FindBin;\nuse lib $FindBin::Bin;\nuse genNumeros;\n\nmy @palabra;\n\nopen (my $ARCHIVO, '&lt;', \"palabras.txt\") or die (\"No se encontro el archivo palabras.txt, $!\");\n\nwhile (my $palabra = &lt;$ARCHIVO&gt;) {\n    chomp $palabra;\n    push @palabra, $palabra;   \n}\n\nclose $ARCHIVO;\n\nmy $palabraAleatoria = $palabra[ genNumeros::crearNumero() ];\nprint \"$palabraAleatoria\\n\";\n&lt;&gt;;\n</code></pre>\n"}, {"tags": ["perl", "split"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1476916016, "post_id": 40142169, "comment_id": 67554978, "body": "<a href=\"https://metacpan.org/search?q=Verilog\" rel=\"nofollow noreferrer\">Verilog on CPAN</a>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1476916138, "post_id": 40142169, "comment_id": 67555023, "body": "What do you expect to appear in $head and $body? If the very first line starts with <code>module</code>, $head must be empty, as nothing precedes the first match of the pattern given to <code>split</code>."}, {"owner": {"reputation": 31, "user_id": 6142244, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/GEIYL.jpg?s=128&g=1", "display_name": "RossS", "link": "https://stackoverflow.com/users/6142244/rosss"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1476973537, "post_id": 40142169, "comment_id": 67583069, "body": "Of course! When module is the first line of file starting at column 1 then head will be empty, I figured it had to be something obvious, duh on my part. Thanks everyone for your responses! --Ross"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1476952017, "last_edit_date": 1495540837, "creation_date": 1476952017, "answer_id": 40149211, "question_id": 40142169, "link": "https://stackoverflow.com/questions/40142169/split-not-working-when-the-pattern-matches-the-first-line-in-the-file/40149211#40149211", "title": "&quot;split&quot; not working when the pattern matches the first line in the file", "body": "<blockquote>\n  <p>None of these splits worked when module was the first line of the file</p>\n</blockquote>\n\n<p>It's hard to comment on this as you don't explain what you would see if the split worked as you expected.</p>\n\n<p>I think you might be misunderstanding what <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\"><code>split()</code></a> does. The regex that you pass to <code>split()</code> is used as the separator between two elements in the split list. Therefore, if the regex matches at the very start of your string, then the first element in the list returned must be empty.</p>\n\n<p>You are doing the equivalent of this:</p>\n\n<pre><code>my $string = \"\\tSome data\";\nmy ($head, $body) = split /\\t/, $string;\n</code></pre>\n\n<p>In this situation, <code>$head</code> will be empty and <code>$body</code> will contain \"Some data\".</p>\n\n<p>If this doesn't explain what you are seeing, then please <a href=\"https://stackoverflow.com/posts/40142169/edit\">update your question</a> to clarify what you want to see and what you are actually seeing.</p>\n"}], "owner": {"reputation": 31, "user_id": 6142244, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/GEIYL.jpg?s=128&g=1", "display_name": "RossS", "link": "https://stackoverflow.com/users/6142244/rosss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477062030, "creation_date": 1476914211, "last_edit_date": 1477062030, "question_id": 40142169, "link": "https://stackoverflow.com/questions/40142169/split-not-working-when-the-pattern-matches-the-first-line-in-the-file", "title": "&quot;split&quot; not working when the pattern matches the first line in the file", "body": "<p>I'm processing files, looking for text like one of the following:</p>\n\n<ul>\n<li><code>module mymodule (</code></li>\n<li><code>module mymodule(</code></li>\n<li><code>module mymodule</code> <code></code></li>\n</ul>\n\n<p>The <code>(</code> may or may not be on the same line. There are other variations, but let's suppose it's one of the three shown above.</p>\n\n<p>I slurp the file into <code>$verilog_model</code> and perform the split</p>\n\n<pre><code>$barename = 'mymodule';\n\nmy $verilog_model = do { local $/; &lt;VIF&gt; };\nclose VIF;\n\n($head, $body) = split /module\\s+$barename[\\050]/, $verilog_model, 2;\n$extra = '(';\n\nif ( $head eq '' ||  $body eq '') {\n    ($head, $body) = split /module\\s+$barename\\s+\\050/,  $verilog_model, 2;\n    $extra = '(';\n}\n\nif ( $head eq '' ||  $body eq '') {\n    ($head, $body) = split /module\\s+$barename/,  $verilog_model, 2;\n    $extra = '';\n}\n</code></pre>\n\n<p>None of these <code>split</code> calls worked when <code>module</code> was the first line of the file, but when I added a space as the first line then <code>split</code> was able to find the module and I got what I wanted for <code>$head</code> and <code>$body</code>.</p>\n\n<p>Why is it that <code>split</code> is not able to find <code>module mymodule</code> when it's the first line of the file? </p>\n"}, {"tags": ["arrays", "string", "perl"], "comments": [{"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1476909534, "post_id": 40140823, "comment_id": 67552176, "body": "Am I understanding it right, that you want to take a single string and add it to the end of mulitple target strings?"}, {"owner": {"reputation": 307, "user_id": 2522427, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/404258e63cc61a5e83ef5e5ee7a01863?s=128&d=identicon&r=PG", "display_name": "Padawan", "link": "https://stackoverflow.com/users/2522427/padawan"}, "reply_to_user": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1476909733, "post_id": 40140823, "comment_id": 67552273, "body": "For the first part, yes. I want a comma after each of the strings in the list. For the second, I need the values from one list added to another. For example if @array_to_add has 2 strings (&#39;a&#39;,&#39;b&#39;) and $string1=&#39;c&#39; and $string2=&#39;d&#39;, I want for the result to be $string1=&#39;ca&#39; and $string2=&#39;db&#39;."}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 1, "creation_date": 1476910429, "post_id": 40140823, "comment_id": 67552606, "body": "I don&#39;t think that any of those things are possible. Not to my knowledge, at least, Would have to be done seperately. But I would love to be proven wrong."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1476914035, "creation_date": 1476914035, "answer_id": 40142126, "question_id": 40140823, "link": "https://stackoverflow.com/questions/40140823/concatenate-to-multiple-strings-perl/40142126#40142126", "title": "Concatenate to multiple strings (Perl)", "body": "<pre><code>$string1 .= $to_append[0];\n$string2 .= $to_append[1];\n</code></pre>\n\n<p>If you had two arrays:</p>\n\n<pre><code>$strings[$_] .= $to_append[$_] for 0..$#strings;\n</code></pre>\n\n<p>As a function:</p>\n\n<pre><code>sub append_one_to_each {\n   my $to_append = shift;\n   return map { $_[$_] . $to_append-&gt;[$_] } 0..$#_;\n}\n\nsay for append_one_to_each(\\@to_append, $string1, $string2); \n  -or-\nsay for append_one_to_each(\\@to_append, @strings);\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 2522427, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/404258e63cc61a5e83ef5e5ee7a01863?s=128&d=identicon&r=PG", "display_name": "Padawan", "link": "https://stackoverflow.com/users/2522427/padawan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 1, "answer_count": 1, "score": -2, "last_activity_date": 1476923090, "creation_date": 1476908469, "last_edit_date": 1476923090, "question_id": 40140823, "link": "https://stackoverflow.com/questions/40140823/concatenate-to-multiple-strings-perl", "title": "Concatenate to multiple strings (Perl)", "body": "<p>Is there an easy way to concatenate a single value to the end of a list of strings?</p>\n\n<p>I have...</p>\n\n<pre><code>($string1,$string2) .= (',',','); #A comma for each string and one to separate them.\n</code></pre>\n\n<p>But it doesn't add anything.</p>\n\n<p>I'd also like to concatenate the values from an array, but also don't get anything added to my strings...</p>\n\n<pre><code>($string1,$string2) .= @array_to_add;\n</code></pre>\n\n<p>And</p>\n\n<pre><code>($string1,$string2) .= (@array_to_add);\n</code></pre>\n\n<p>Neither works...</p>\n"}, {"tags": ["c#", "perl", "crc", "can-bus"], "comments": [{"owner": {"reputation": 11, "user_id": 6932567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb51bbe18e4ee48b11551fccbafd0d05?s=128&d=identicon&r=PG&f=1", "display_name": "Erick Moreno Flores", "link": "https://stackoverflow.com/users/6932567/erick-moreno-flores"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476908374, "post_id": 40140641, "comment_id": 67551564, "body": "@ThisSuitIsBlackNot I just edited the question to make it clearer. I need to  add a CRC for every can frame in the .can file. The .can file is generated by a perl script parsing a .hex file. The main question is, what do I need to implement on the perl script to add the CRC into the generated .can file."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476948858, "post_id": 40140641, "comment_id": 67565567, "body": "you have an example of the final format that your GUI is going to read? It could be an older file that&#39;s not related to the current one, but it might give hints about what you need to do."}, {"owner": {"reputation": 11, "user_id": 6932567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb51bbe18e4ee48b11551fccbafd0d05?s=128&d=identicon&r=PG&f=1", "display_name": "Erick Moreno Flores", "link": "https://stackoverflow.com/users/6932567/erick-moreno-flores"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476968589, "post_id": 40140641, "comment_id": 67579093, "body": "Yes that&#39;s an example of the final format @simbabque. But I&#39;m afraid I&#39;m no quite getting your advice on the second part of the question. Could you clarify or expand on that?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476968658, "post_id": 40140641, "comment_id": 67579133, "body": "So the file you posted is the expected output? In that case, add what you have right now. If you need to modify the data and you don&#39;t know <i>how</i> to modify it, comparing before and after would help."}, {"owner": {"reputation": 11, "user_id": 6932567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb51bbe18e4ee48b11551fccbafd0d05?s=128&d=identicon&r=PG&f=1", "display_name": "Erick Moreno Flores", "link": "https://stackoverflow.com/users/6932567/erick-moreno-flores"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476968990, "post_id": 40140641, "comment_id": 67579371, "body": "Got it! Going to make those changes now..."}], "owner": {"reputation": 11, "user_id": 6932567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb51bbe18e4ee48b11551fccbafd0d05?s=128&d=identicon&r=PG&f=1", "display_name": "Erick Moreno Flores", "link": "https://stackoverflow.com/users/6932567/erick-moreno-flores"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 226, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476970052, "creation_date": 1476907794, "last_edit_date": 1476970052, "question_id": 40140641, "link": "https://stackoverflow.com/questions/40140641/how-can-i-obtain-the-crc-from-a-cancontroller-area-network-message-frame", "title": "How can I obtain the CRC from a CAN(Controller Area Network) message frame?", "body": "<p>I have a project in which I need to create a perl script to parse a .hex file into a .can file full of CAN frames for to be sent. Once the file has been parsed it is going to be read by a C# based GUI that will translate those lines into proper CAN messages to be sent. </p>\n\n<p>The list of aspects that I need to include for the .can is the following:</p>\n\n<ol>\n<li><p>Add delays to TX commands</p></li>\n<li><p>Add comments that the parser will ignore</p></li>\n<li><p>Add a file header comment that the parser will ignore\nWhen file was create, which file, parser version\u2026 etc.</p></li>\n<li><p>Add a CRC (on the file itself)</p></li>\n<li><p>Add an Application CRC (written to certain Flash memory location)</p></li>\n</ol>\n\n<p>This is an example of the .hex file that I am parsing:</p>\n\n<pre><code>:020000040000FA\n:10000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00\n:10001000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0\n:10002000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE0\n:10003000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD0\n:10004000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC0\n:10005000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB0\n:10006000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA0\n:10007000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF90\n:10008000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF80\n:10009000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF70\n</code></pre>\n\n<p>Out of this list I am only missing number 4 and 5. I've been reading about what is CRC and how to make use of it, so I have some knowledge on the topic, but I do not know to implement points 4 and 5. I would appreciate some guidance on how to approach this issue. Below a sample of the .can file that I cam using:</p>\n\n<pre><code>//File used: app1FULL.hex\n//Parser version: 0.2 alpha\n//Date: Thu Oct 13 16:47:55 2016\nTX:10:1537:8:45:EF:0B:F0:FF:FF:FF:FF //load flash\nTX:10:1538:8:FA:CF:11:F0:FB:CF:12:F0 //load flash\nTX:10:1539:8:E9:CF:13:F0:EA:CF:14:F0 //load flash\nTX:10:1540:8:E1:CF:15:F0:E2:CF:16:F0 //load flash\nTX:10:1541:8:D9:CF:17:F0:DA:CF:18:F0 //load flash\nTX:10:1542:8:F3:CF:19:F0:F4:CF:1A:F0 //load flash\nTX:10:1543:8:F6:CF:1B:F0:F7:CF:1C:F0 //load flash\nTX:10:1544:8:F8:CF:1D:F0:F5:CF:1E:F0 //load flash\nTX:10:1536:5:B:0:16:0:40:00:00:00:00:64 //flash write\nRX:1000:1535:3:B:0:16:64 //expect response\nPRINT:Boot has failed:Boot received all messages successfully\n</code></pre>\n\n<p>Thank you guys! </p>\n"}, {"tags": ["perl", "datetime", "dst"], "comments": [{"owner": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 3, "creation_date": 1476907461, "post_id": 40140443, "comment_id": 67551007, "body": "may be you need a time zone ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1476907623, "post_id": 40140443, "comment_id": 67551104, "body": "When I add <code>time_zone =&gt; America&#47;Los_Angeles</code> it&#39;s fine :)"}], "answers": [{"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1476908004, "post_id": 40140555, "comment_id": 67551337, "body": "That seems to work.  Thanks!  Now I&#39;m having an issue with DateTime subtraction and the DST flag... But I&#39;ll look into it for a bit before I post another question."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1476944039, "post_id": 40140555, "comment_id": 67562817, "body": "Use <code>&#39;time_zone&#39; =&gt; &#39;local&#39;</code> for local time."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 6, "last_activity_date": 1476907817, "last_edit_date": 1476907817, "creation_date": 1476907511, "answer_id": 40140555, "question_id": 40140443, "link": "https://stackoverflow.com/questions/40140443/perl-datetime-is-dst-method-not-working-correctly/40140555#40140555", "title": "Perl DateTime &quot;is_dst()&quot; method not working correctly", "body": "<p>You have to <a href=\"https://metacpan.org/pod/DateTime#Floating-DateTimes\">explicitly set the time zone</a>:</p>\n\n<blockquote>\n  <p>The default time zone for new DateTime objects, except where stated otherwise, is the \"floating\" time zone...A floating datetime is one which is not anchored to any particular time zone.</p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse DateTime;\n\nmy $dt1 = DateTime-&gt;new(\n    'year'      =&gt; 2015,\n    'month'     =&gt; 3,\n    'day'       =&gt; 8,\n    'hour'      =&gt; 3,\n    'time_zone' =&gt; 'America/New_York'\n);\n\nmy $dt2 = DateTime-&gt;new(\n    'year'      =&gt; 2015,\n    'month'     =&gt; 3,\n    'day'       =&gt; 7,\n    'hour'      =&gt; 3,\n    'time_zone' =&gt; 'America/New_York'\n);\n\nprint $dt1.\"\\n\";\nprint $dt2.\"\\n\";\nprint $dt1-&gt;is_dst().\"\\n\";\nprint $dt2-&gt;is_dst().\"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2015-03-08T03:00:00\n2015-03-07T03:00:00\n1\n0\n</code></pre>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 609, "favorite_count": 1, "accepted_answer_id": 40140555, "answer_count": 1, "score": 3, "last_activity_date": 1476907931, "creation_date": 1476907080, "last_edit_date": 1476907931, "question_id": 40140443, "link": "https://stackoverflow.com/questions/40140443/perl-datetime-is-dst-method-not-working-correctly", "title": "Perl DateTime &quot;is_dst()&quot; method not working correctly", "body": "<p>I'm trying to use the <code>is_dst()</code> method in the <code>DateTime</code> module to determine whether a daylight savings transition is occurring.</p>\n\n<p>I started by writing a very basic example that I was <em>sure</em> would work, but for some reason I'm getting unexpected results.</p>\n\n<hr>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse DateTime;\n\nmy $dt1 = DateTime-&gt;new(\n    'year'  =&gt; 2015,\n    'month' =&gt; 3   ,\n    'day'   =&gt; 8   ,\n    'hour'  =&gt; 3   ,\n);\n\nmy $dt2 = DateTime-&gt;new(\n    'year'  =&gt; 2015,\n    'month' =&gt; 3   ,\n    'day'   =&gt; 7   ,\n    'hour'  =&gt; 3   ,\n);\n\nprint $dt1.\"\\n\";\nprint $dt2.\"\\n\";\nprint $dt1-&gt;is_dst().\"\\n\";\nprint $dt2-&gt;is_dst().\"\\n\";\n</code></pre>\n\n<blockquote>\n  <p>I started with a date that I knew was a daylight savings transition: <strong>Sunday, March 8, 2015</strong>.  I chose <strong>3 AM</strong> because I knew that the daylight savings transition would have already occured at that point in time.</p>\n  \n  <p>Then I took a date that I knew was before the daylight savings transition: <strong>Saturday, March 7, 2015</strong> also at <strong>3 AM</strong>.</p>\n  \n  <p>Then I print the two dates and their corresponding DST flags.</p>\n</blockquote>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>2015-03-08T03:00:00\n2015-03-07T03:00:00\n0\n0\n</code></pre>\n\n<hr>\n\n<p>The two dates print exactly as expected, but for some reason even though the first date occurs during daylight savings time, and the second date occurs before daylight savings time, the DST flag is not set for both of them.</p>\n\n<p>Why is this not working correctly?  Am I missing something?</p>\n"}, {"tags": ["perl", "join", "split"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 6780855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ezD2N.jpg?s=128&g=1", "display_name": "Mike A", "link": "https://stackoverflow.com/users/6780855/mike-a"}, "edited": false, "score": 0, "creation_date": 1476904862, "post_id": 40139722, "comment_id": 67549531, "body": "Thanks @zdim! The regex one-liner is the winner"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 91, "user_id": 6780855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ezD2N.jpg?s=128&g=1", "display_name": "Mike A", "link": "https://stackoverflow.com/users/6780855/mike-a"}, "edited": false, "score": 0, "creation_date": 1476906929, "post_id": 40139722, "comment_id": 67550722, "body": "@MikeA  Thanks -- regex is indeed nice that way.  Until the &quot;one-liner&quot; turns into a three-line nightmare trying to encode half of the Universe :)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1476950603, "last_edit_date": 1476950603, "creation_date": 1476904423, "answer_id": 40139722, "question_id": 40139644, "link": "https://stackoverflow.com/questions/40139644/extract-everything-before-second-last-hyphen-in-perl/40139722#40139722", "title": "Extract everything before second last hyphen in Perl", "body": "<p>You know you need the last two items separated, release and version.</p>\n\n<pre><code>my @items = split '-', $str;\n\nmy $release = pop @items;\nmy $version = pop @items;\n\nmy $package_name = join '-', @items;\n</code></pre>\n\n<p>Or, you can use a regex</p>\n\n<pre><code>my ($package, $version, $release) = $str =~ m/(.*)-([^-]+)-([^-]+)$/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1476904680, "creation_date": 1476904680, "answer_id": 40139799, "question_id": 40139644, "link": "https://stackoverflow.com/questions/40139644/extract-everything-before-second-last-hyphen-in-perl/40139799#40139799", "title": "Extract everything before second last hyphen in Perl", "body": "<p>Another approach is a regex. The following example will capture everything including hyphens until it hits a hyphen, anything, another hyphen and then the rest.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @strings = qw(\n    rpm-python-4.8.0-55\n    rpm-one-two-three-four-1.1.1-22\n);\n\nfor (@strings){\n    my ($name, $version, $release) = /(.*)-(.*)-(.*)/;\n    print \"Name: $name\\n\";\n    print \"Version: $version\\n\";\n    print \"Release: $release\\n\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Name: rpm-python\nVersion: 4.8.0\nRelease: 55\n\nName: rpm-one-two-three-four\nVersion: 1.1.1\nRelease: 22\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 6780855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ezD2N.jpg?s=128&g=1", "display_name": "Mike A", "link": "https://stackoverflow.com/users/6780855/mike-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 40139722, "answer_count": 2, "score": 0, "last_activity_date": 1476950603, "creation_date": 1476904168, "question_id": 40139644, "link": "https://stackoverflow.com/questions/40139644/extract-everything-before-second-last-hyphen-in-perl", "title": "Extract everything before second last hyphen in Perl", "body": "<p>I'm trying to extract everything before second last hyphen in any given rpm. I have this working by specifying the index numbers, however this does not work for strings with a different number of hyphens. I know the release is after the last hyphen, the version is after the second last hyphen, and the name is everything before that. How can I do this with perl?</p>\n\n<p>This is what I currently have:</p>\n\n<pre><code>my $str = \"rpm-python-4.8.0-55\";\nmy $name = join '-', (split /-/, $str)[-4 .. -3];\nmy $version = (split /-/, $str)[-2];\nmy $release = (split /-/, $str)[-1];\n\nprint \"Name: $name\\n\";\nprint \"Version: $version\\n\";\nprint \"Release: $release\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Name: rpm-python\nVersion: 4.8.0\nRelease: 55\n</code></pre>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1476898171, "post_id": 40136963, "comment_id": 67545504, "body": "I&#39;ve added two missing pieces to the code (the first new() call)."}], "answers": [{"comments": [{"owner": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "edited": false, "score": 0, "creation_date": 1476898215, "post_id": 40137404, "comment_id": 67545528, "body": "Ah, so easy! I was already too tired to see that... The input file is okay, I wrote that extra space wrongly. Thank you!"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1476896205, "creation_date": 1476896205, "answer_id": 40137404, "question_id": 40136963, "link": "https://stackoverflow.com/questions/40136963/how-to-filter-columns-of-a-csv-file-in-perl-using-textcsv-module/40137404#40137404", "title": "How to filter columns of a CSV file in Perl using Text::CSV module?", "body": "<p>I don't think</p>\n\n<pre><code>$csv-&gt;column_names(qw(firstname lastname))\n</code></pre>\n\n<p>does what you think it does. You seem to think that it incorporates the data in your file's header row and produces references to the columns that correspond to the names \"firstname\" and \"lastname\" (i.e., the 2nd and 3rd column). But what it really does on an input file is to associate names with the columns in your input, regardless of what is in the header row. That is, it assigns the name \"firstname\" to the 1st column and \"lastname\" to the 2nd column.</p>\n\n<p>Your code will work<sup>*</sup> if you change this line to</p>\n\n<pre><code>$csv-&gt;column_names(qw(id firstname lastname));\n</code></pre>\n\n<p><sup>*</sup> - you also want to either remove the stray space between <code>\"id\",</code> and <code>\"firstname\"</code> in the input or use the setting <code>allow_loose_quotes =&gt; 1</code> in the constructor for <code>$csv</code>.</p>\n"}], "owner": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 40137404, "answer_count": 1, "score": 0, "last_activity_date": 1476898280, "creation_date": 1476894649, "last_edit_date": 1476898280, "question_id": 40136963, "link": "https://stackoverflow.com/questions/40136963/how-to-filter-columns-of-a-csv-file-in-perl-using-textcsv-module", "title": "How to filter columns of a CSV file in Perl using Text::CSV module?", "body": "<p>I have a CSV file lets say with three columns: id, firstname, lastname. \nI'm using Text::CSV to convert this file to a TSV file but I also need to remove the id column. </p>\n\n<p>I ended up this piece of code but it wrongly exports the desired columns: the final file contains the firstname, lastname headers but the values comes from id and firstname instead. </p>\n\n<pre><code>my $fhin;\nopen($fhin, \"&lt;\", \"input.csv\");\nmy $fhout;\nopen($fhout, \"&gt;\", \"output.tsv\");\nmy $csv = Text::CSV-&gt;new({binary =&gt; 1});\nmy $tsv = Text::CSV-&gt;new({binary =&gt; 1, sep_char =&gt; \"\\t\", eol =&gt; \"\\n\", quote_char =&gt; undef});\n$csv-&gt;column_names(qw(firstname lastname));\n$tsv-&gt;column_names(qw(firstname lastname));\nwhile (my $row = $csv-&gt;getline_hr($fhin)) {\n    $tsv-&gt;print_hr($fhout, $row);\n} \nclose($fhin);\nclose($fhout);\n</code></pre>\n\n<p>I read the docs here: <a href=\"http://search.cpan.org/~makamaka/Text-CSV-1.33/lib/Text/CSV.pm\" rel=\"nofollow\">http://search.cpan.org/~makamaka/Text-CSV-1.33/lib/Text/CSV.pm</a></p>\n\n<p>What's wrong with my code?</p>\n\n<p>input.csv</p>\n\n<pre><code>\"id\",\"firstname\",\"lastname\"\n1,John,Doe\n</code></pre>\n\n<p>output.tsv expected</p>\n\n<pre><code>firstname    lastname\nJohn         Doe\n</code></pre>\n\n<p>output.tsv actual</p>\n\n<pre><code>firstname    lastname \n1     John\n</code></pre>\n"}, {"tags": ["perl", "oop", "object", "module", "subroutine"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1476894319, "post_id": 40136750, "comment_id": 67543383, "body": "I have a feeling you&#39;re going to say that this is just an example you made up and not what you&#39;re actually working on, but...FYI, <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow noreferrer\">Path::Tiny</a> already gives a pretty complete OO API for interacting with the filesystem."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1476894637, "post_id": 40136750, "comment_id": 67543555, "body": "(And Path::Tiny&#39;s <a href=\"https://metacpan.org/pod/Path::Tiny#path\" rel=\"nofollow noreferrer\"><code>path</code></a> function is just syntactic sugar for <code>Path::Tiny-&gt;new</code>, so no, the approach you&#39;ve described is not bad practice.)"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476895220, "post_id": 40136750, "comment_id": 67543864, "body": "Awesome! Thanks @ThisSuitIsBlackNot!"}], "answers": [{"comments": [{"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 1, "creation_date": 1476900294, "post_id": 40137995, "comment_id": 67546798, "body": "Ikegami, you are literally the most helpful person on the internet.  You have answered like 90% of all of my Perl questions haha."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1476898382, "creation_date": 1476898382, "answer_id": 40137995, "question_id": 40136750, "link": "https://stackoverflow.com/questions/40136750/creating-two-different-objects-through-one-perl-module/40137995#40137995", "title": "Creating two different objects through one Perl module", "body": "<p>That's perfectly fine.</p>\n\n<p>For example, Path::Class's <code>file</code> and <code>dir</code> functions return Path::Class::File and Path::Class::Dir objects respectively.</p>\n\n<p>If that was the only constructor the class provided, it would prevent (clean) subclassing, but that's not the case here.</p>\n\n<hr>\n\n<p>There is, however, the question of whether replacing</p>\n\n<pre><code>open(my $fh, \"path\");\nopendir(my $dh, \"path);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>my $fh = file(\"path\");\nmy $dh = dir(\"path);\n</code></pre>\n\n<p>is advantageous or not (assuming the functions return IO::File and IO::Dir objects).</p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 40137995, "answer_count": 1, "score": 1, "last_activity_date": 1476898382, "creation_date": 1476893913, "last_edit_date": 1476894306, "question_id": 40136750, "link": "https://stackoverflow.com/questions/40136750/creating-two-different-objects-through-one-perl-module", "title": "Creating two different objects through one Perl module", "body": "<p>I'm writing Perl modules that allow users to create <code>file</code> and <code>directory</code> objects to manipulate the file system.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>use File;\nuse Dir;\n\nmy $file = File-&gt;new(\"path\");\nmy $dir  = Dir -&gt;new(\"path\");\n</code></pre>\n\n<p>This works out nicely, but what I would really like to be able to create both <code>file</code> and <code>directory</code> objects without having to <code>use</code> two separate modules.</p>\n\n<hr>\n\n<p>To do this I came up with the following solution...</p>\n\n<p><strong>IO.pm:</strong></p>\n\n<pre><code>use File;\nuse Dir;\n\nuse Exporter qw(import);\nour @EXPORT_OK = qw(file dir);\n\nsub file {\n    my $path = shift;\n    return File-&gt;new($path);\n}\n\nsub dir {\n    my $path = shift;\n    return Dir-&gt;new($path);\n}\n\n1;\n</code></pre>\n\n<p><strong>test.pl:</strong></p>\n\n<pre><code>use IO qw(file dir);\n\nmy $file = file(\"path\");\nmy $dir  = dir (\"path\");\n</code></pre>\n\n<hr>\n\n<p>Now here's the problem, by doing this I eliminate the explicit call to <code>new</code> when the user creates a <code>file</code> or <code>directory</code> object.  I'm sort of using the <code>file</code> and <code>dir</code> subroutines as constructors.</p>\n\n<p>To me this code looks very clean, and is extremely simple to use, but I haven't seen many other people writing Perl code like this so I figured I should at least pose the question:</p>\n\n<p><strong><em>Is it okay to simply return an object from a subroutine like this, or does this scream bad practice?</em></strong></p>\n"}, {"tags": ["html", "perl", "xpath"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1476888991, "post_id": 40134790, "comment_id": 67539736, "body": "Well, there <code>textContent</code> to spit out the text. That&#39;ll strip the <code>&lt;BR&gt;</code> tags though, which are treated as part of the XML."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476889751, "post_id": 40134790, "comment_id": 67540380, "body": "<code>my @nodes = ...;</code> is better written as <code>my ($node) = ...;</code> if you just want the first one."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1476889690, "creation_date": 1476889690, "answer_id": 40135294, "question_id": 40134790, "link": "https://stackoverflow.com/questions/40134790/output-innerhtml-perl-libxml/40135294#40135294", "title": "Output InnerHTML Perl LibXML", "body": "<p>There is no built-in way to do that in XML::LibXML. Changing the xpath won't help. That xpath gives you a list of <code>td</code> elements. If you'd get the stuff inside of all <code>td</code> elements that fit the current xpath, you'd end up with a long list of things and no way to discern where the content of the first <code>td</code> ends and the second <code>td</code> starts.</p>\n\n<p>Instead, you need to construct it by converting <a href=\"https://metacpan.org/pod/distribution/XML-LibXML/lib/XML/LibXML/Node.pod#childNodes\" rel=\"nofollow\">all children</a> of the <code>td</code> element to string.</p>\n\n<pre><code>print join '', map { $_-&gt;toString } $node[0]-&gt;childNodes;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Automobile&lt;br/&gt;Car&lt;br/&gt;\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7042950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c67f0dcaa9c4d2ac462c0965baf51fc?s=128&d=identicon&r=PG&f=1", "display_name": "Tomukoe", "link": "https://stackoverflow.com/users/7042950/tomukoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 2, "accepted_answer_id": 40135294, "answer_count": 1, "score": 2, "last_activity_date": 1476968495, "creation_date": 1476888525, "last_edit_date": 1476968495, "question_id": 40134790, "link": "https://stackoverflow.com/questions/40134790/output-innerhtml-perl-libxml", "title": "Output InnerHTML Perl LibXML", "body": "<p>Please see MWE below</p>\n\n<pre><code>use XML::LibXML;\nmy $content = \"&lt;tr&gt;\n                &lt;td class='title'&gt;Synonym(s)&lt;/td&gt;\n                &lt;td&gt;Automobile&lt;br/&gt;Car&lt;br/&gt;&lt;/td&gt;\n                &lt;/tr&gt;\";\n\nmy $parser = XML::LibXML-&gt;new({suppress_errors=&gt;1, suppress_warnings=&gt;1,     recover=&gt;2});\nmy $document = $parser-&gt;parse_html_string($content);\nmy @node = $document-&gt;findnodes('//td[@class=\"title\" and text()=\"Synonym(s)\"]/following-sibling::td');\nprint $node[0]-&gt;toString();\n</code></pre>\n\n<p>The output is:\n<code>&lt;td&gt;Automobile&lt;br/&gt;Car&lt;br/&gt;&lt;/td&gt;</code></p>\n\n<p>But I need just the \"inner\" content:\n<code>Automobile&lt;br/&gt;Car&lt;br/&gt;</code></p>\n\n<p>How do I need to change the xPath, or do I need a different LibXML method.</p>\n\n<p>Thank you,\nTobias </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476883563, "post_id": 40132199, "comment_id": 67535270, "body": "I think the problem lies in your regular expression, not in the <code>map</code>."}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476883924, "post_id": 40132199, "comment_id": 67535554, "body": "through regex I am able to extract all the values but in map function it add 0x00x."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1476883991, "post_id": 40132199, "comment_id": 67535600, "body": "If you do <code>say for map { unpack &#39;(A2)*&#39; } @data</code> it will get clear what the problem is I think. You&#39;ll need to <code>use feature &#39;say&#39;;</code> to do that. Or simply look into <code>@data</code>. That should be enough. The <code>unpack</code> splits stuff into groups of two chars. That&#39;s weird."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476884722, "post_id": 40132199, "comment_id": 67536157, "body": "I don&#39;t understand which numbers from the input you want. What about the <code>-116</code>? In your expected output, if we go backwards, we have <code>0x00</code> which maps to <code>no_sync</code>, then <code>0x00</code> and <code>last_report</code>, and <code>0x07</code> and <code>rch_type</code>. But then there&#39;s <code>0xFF</code> and nothing matching. The next one is three times <code>0x00</code>, which fits to <code>filler1{3}</code>. The <code>-116</code> gets ignored, but there&#39;s a <code>0xFF</code> in there. So do negative values always map to <code>0xFF</code>? Next is <code>my_info   0x2789</code>, which in your output gets split in half to <code>0x27</code> and <code>0x89</code>. You need to <a href=\"https://stackoverflow.com/posts/40132199/edit\">edit</a> and clarify the behaviour this is supposed to have."}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476884882, "post_id": 40132199, "comment_id": 67536289, "body": "I have tried to use say map { unpack &#39;(A2)*&#39; } @data I am not getting expected output."}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476885344, "post_id": 40132199, "comment_id": 67536719, "body": "@simbabque negative value -116 should be converted to hex (FF8C) and I need only LSB of one byte (FF) and filler1{3}. I am unable to match with regex."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476885543, "post_id": 40132199, "comment_id": 67536879, "body": "I think you should maybe create a more specific parser. The initial problem is definitely the regex. Sobrique&#39;s answer below explains what I was trying to say in greater details. If your input only contains the format that you showed, I suggest to print it to paper, take a red (or blue, you decide) pen and mark every value you want. Then write down what you want to convert that value to. Next, create a regex for each line, and a matching conversion. If you think that&#39;s too much code, you can still optimize, but it will at least work."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476886712, "post_id": 40132199, "comment_id": 67537864, "body": "<i>&quot;the negative value -116 I want to take first byte of LSB&quot;</i> What do you mean by  the &quot;first byte of least-significant byte&quot;? Decimal -116 as a 32-bit integer is 0xFFFFFF8C. If it were -76,151,387 it would be 0xFB760531. Which of those bytes do you want?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476887004, "post_id": 40132199, "comment_id": 67538125, "body": "Is there really a space at the beginning of every line in your data file and your Perl program file?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476887338, "post_id": 40132199, "comment_id": 67538428, "body": "The code that you show won&#39;t even compile. You would get something like <code>Global symbol $fh requires explicit package name</code>, so it cannot possibly generate the output that you label <i>What I was getting is</i>. Why do you think it&#39;s a good idea to do anything but copy and paste your code into your question? All I can think is that you&#39;re hiding some nastiness that you don&#39;t want us to see, which may well be the reason for your problem. You are getting advice for free here; please don&#39;t play games and make us work harder than necessary to get the truth out of you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476887699, "post_id": 40132199, "comment_id": 67538724, "body": "This <code>(?: \\{ \\s* | \\s )</code> means a left brace <code>{</code>, followed by zero or more space characters or a space character. What do you mean here?"}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476891380, "post_id": 40132199, "comment_id": 67541483, "body": "@Borodin for negative value -116 I will be storing LSB of 8C since its type is sint8 .and there is a space for beginning of each line."}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476892471, "post_id": 40132199, "comment_id": 67542198, "body": "@Borodin (?: \\{ \\s* | \\s ) I wanted to capture values inside { }"}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476892671, "post_id": 40132199, "comment_id": 67542341, "body": "@Borodin shall we have discussion over chat ..?"}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476892702, "post_id": 40132199, "comment_id": 67542360, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/126147/discussion-between-abhishek-and-borodin\">continue this discussion in chat</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476893852, "post_id": 40132199, "comment_id": 67543101, "body": "That data is too irregular to extract the information needed. For example, what&#39;s the type (<code>Sint8</code>, <code>Uint16</code>, etc) for <code>meas_command    PHY_MEAS_CONFIG { 0}    meas_command</code>???"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1476894998, "post_id": 40132199, "comment_id": 67543742, "body": "This question is far too broad. SO is not a code writing service. You have encountered numerous problems, but you didn&#39;t ask about any of them; you simply asked for working code. That&#39;s not acceptable. You should ask about each problem individually and precisely. (And you shouldn&#39;t ignore <a href=\"http://stackoverflow.com/a/39709638/589924\">the answer</a> when you do! <a href=\"http://stackoverflow.com/a/39682057/589924\">Twice</a> you&#39;ve been shown to use <code>hex</code>, but your code does not include any use of <code>hex</code>!)"}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "edited": false, "score": 0, "creation_date": 1476895332, "post_id": 40132199, "comment_id": 67543926, "body": "@ikagami sorry  this was my last post ..Thanks to all"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1476884838, "creation_date": 1476884838, "answer_id": 40133247, "question_id": 40132199, "link": "https://stackoverflow.com/questions/40132199/unable-to-extract-expected-value-through-map-function-in-perl/40133247#40133247", "title": "Unable to extract expected value through map function in perl", "body": "<p>It's not your map command, it's your regex. </p>\n\n<p>Your captured data in this code is:</p>\n\n<pre><code>$VAR1 = [\n          '0',\n          '0',\n          '1',\n          '2',\n          '0x00',\n          '0x2789',\n          '0x00',\n          '-116',\n          '7',\n          '0',\n          '0'\n        ];\n</code></pre>\n\n<p>If you then:</p>\n\n<pre><code>my @newdata =  map { [unpack '(A2)*'] } @data;\nprint Dumper \\@newdata;\n</code></pre>\n\n<p>Then what you get is:</p>\n\n<pre><code>$VAR1 = [\n          [\n            '0'\n          ],\n          [\n            '0'\n          ],\n          [\n            '1'\n          ],\n          [\n            '2'\n          ],\n          [\n            '0x',\n            '00'\n          ],\n          [\n            '0x',\n            '27',\n            '89'\n          ],\n          [\n            '0x',\n            '00'\n          ],\n          [\n            '-1',\n            '16'\n          ],\n          [\n            '7'\n          ],\n          [\n            '0'\n          ],\n          [\n            '0'\n          ]\n        ];\n</code></pre>\n\n<p>Which hopefully gives an insight into what's wrong? The <code>unpack</code> operation is returning a list when you do it, and even if it didn't - you're capturing some values with leading <code>0x</code> and others without. </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1476898644, "last_edit_date": 1495535655, "creation_date": 1476892719, "answer_id": 40136392, "question_id": 40132199, "link": "https://stackoverflow.com/questions/40132199/unable-to-extract-expected-value-through-map-function-in-perl/40136392#40136392", "title": "Unable to extract expected value through map function in perl", "body": "<p>To achieve the desired output, there are two pieces of information you need to extract from each line:</p>\n\n<ol>\n<li>The values to convert.</li>\n<li>The type into which they should be converted (e.g. <code>Uint16</code>).</li>\n</ol>\n\n<p>For example, <code>7</code> should become <code>0x07</code> if its type is <code>Sint8</code>, or<code>0x00,0x07</code> if its type is <code>Uint16</code>, so you need both the value (<code>7</code>) and the type (<code>Sint8</code> or <code>Uint16</code>).</p>\n\n<p>Currently, you aren't even trying to extract the type, You say you are having problems doing the conversion, but that goes without saying since you don't have all the information you need to do the conversion!</p>\n\n<p>Unfortunately, the format of the data is inconsistent, unclear and/or incomplete. Extracting the necessary information from that data is not something reasonably achievable. (For example, what type should be used for the <code>0</code> in <code>meas_command PHY_MEAS_CONFIG { 0 } meas_command</code>?) Until you fix your data to be something parsable, your efforts are doomed to fail.</p>\n\n<p>Once you have achieved that, you've already been shown how do the conversion <a href=\"https://stackoverflow.com/a/39682057/589924\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476894814, "post_id": 40136765, "comment_id": 67543652, "body": "Also <a href=\"http://stackoverflow.com/q/39678809/589924\">this one</a> from a different account (which actually has a working solution, from when the input data was still parsable)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476895166, "post_id": 40136765, "comment_id": 67543835, "body": "That is disputably a different author. I shall leave my post as it is, as I say that this is <i>some of your questions</i>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476895339, "post_id": 40136765, "comment_id": 67543929, "body": "It&#39;s hard to identify the values to convert and the type into which to convert the value (e.g. <code>7</code> should become <code>0x07</code> if the type is <code>Sint8</code>, or <code>0x00, 0x07</code> if the type is <code>Uint16</code>), and sometimes the type isn&#39;t even present. I believe they are trying to build a &quot;packed&quot; structure, but from incomplete definitions in an undefined language."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1477642242, "post_id": 40136765, "comment_id": 67859063, "body": "&quot;I believe that the Perl documentation on <code>pack</code> and <code>unpack</code> is poor&quot; - Have you looked at <a href=\"http://perldoc.perl.org/perlpacktut.html\" rel=\"nofollow noreferrer\">perlpacktut</a>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1477642857, "post_id": 40136765, "comment_id": 67859349, "body": "@DaveCross: I have, and it fulfils a need, but it is a tutorial. I think there should be an accessible reference as well. Along similar but very unrelated lines, the field specifiers in <code>strptime</code> / <code>strftime</code> only seem to be listed alphabetically everywhere (they&#39;re not documented at all in <code>Time::Piece</code>) and I have written my own chart that orders them into century, year, month, week, yearday, monthday, weekday, and time fields. I find it much more useful, and may do something similar for <code>pack</code>."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1476894961, "last_edit_date": 1495541911, "creation_date": 1476893978, "answer_id": 40136765, "question_id": 40132199, "link": "https://stackoverflow.com/questions/40132199/unable-to-extract-expected-value-through-map-function-in-perl/40136765#40136765", "title": "Unable to extract expected value through map function in perl", "body": "<p>Here is a history of some of your questions about this same problem</p>\n\n<p>The issue seems to be primarily that you are struggling to define your problem, and secondarily that you don't know Perl</p>\n\n<p>No one here can help you to define your problem, and while it is a dreadful approach just to keep trying different approaches, you are welcome to do that to yourself in your own time</p>\n\n<p>The secondary problem is that you don't know Perl, and as you're using some very low-level concepts you have had to repeatedly invoke help to even get started in your \"throw pasta until it sticks\" methodology</p>\n\n<p>You must go away and</p>\n\n<ul>\n<li><p><strong><em>Define your problem properly.</em></strong> No guesses. Look at all of the data that you could possible get and write down a specification for data that your program will handle, and\u2014most importantly\u2014insist that <em>it won't handle anything else</em> unless you are engaged to modify your code</p></li>\n<li><p><strong><em>Learn the Perl constructions</em></strong> that you're using. Never, ever, guess what they might do and throw them into your program in the hope of getting lucky</p>\n\n<p>With <code>unpack</code>, for instance, start with strings like <code>'0A0B0C'</code> and <code>\"\\x01\\x02\\x03\"</code> and work out how to pack and unpack them. Try <em>every</em> format specifier in several different ways until you are confident that you could predict the result of any call</p>\n\n<p>I believe that the Perl documentation on <code>pack</code> and <code>unpack</code> is poor (not least because <code>unpack</code> is defined in terms of <code>pack</code>, and there are too few examples) but the answer is to <em>try things</em> that you believe the documentation says should work</p></li>\n</ul>\n\n<p>Whatever you do, endless questions like this, that you hope may get you to a working program, regardless of whether you understand how it works, are anathema to good programming practice</p>\n\n<p>If you write your program by guesswork and release it when it seems to work, then a few months later someone will come to you saying that there is a problem with this thing that you wrote. They will point to a line and ask, \"Why did you put that in there? What does it do? How does it work?\" and you will feel such a fool saying that you have no idea: you just copied it from the internet</p>\n\n<p>It's also worth remembering that employers don't like software \"copied from the internet\" as, outside the realm of open software, they may be taken to court at any time if the source can be proven to be plagiarized</p>\n\n<p>If you want to write software then please <a href=\"http://learn.perl.org/\" rel=\"nofollow noreferrer\">learn Perl properly</a>. If you would prefer to do something else then please, go and be a botanist or a spaceman. But for goodness sake stop copying code from the internet and telling people that you're a programmer: you're someone who copies from the internet, and that isn't a real profession</p>\n\n<p>16-Sep-2016<br/>\n<a href=\"https://stackoverflow.com/questions/39530793/read-the-data-line-by-line-from-text-file-and-then-assign-the-value-to-the-corre\"><em>read the data line by line from text file and then assign the value to the corresponding field in a structure</em></a> </p>\n\n<p>23-Sep-2016<br/>\n<a href=\"https://stackoverflow.com/questions/39652838/extracting-hex-values-from-line-in-perl\"><em>extracting hex values from line in perl</em></a> </p>\n\n<p>23-Sep-2016<br/>\n<a href=\"https://stackoverflow.com/questions/39665410/command-line-replacement-with-new-value-not-working\"><em>command line replacement with new value not working</em></a></p>\n\n<p>26-Sep-2016<br/>\n<a href=\"https://stackoverflow.com/questions/39703642/separating-array-elements-every-4-characters-in-array\"><em>separating array elements every 4 characters in array</em></a></p>\n\n<p>27-Sep-2016<br/>\n<a href=\"https://stackoverflow.com/questions/39721606/trouble-extracting-specific-information-from-log-file\"><em>Trouble extracting specific information from log file</em></a></p>\n\n<p>27-Sep-2016<br/>\n<a href=\"https://stackoverflow.com/questions/39728295/matches-happen-but-replacement-not-happening\"><em>matches happen but replacement not happening</em></a></p>\n\n<p>29-Sep-2016<br/>\n<a href=\"https://stackoverflow.com/questions/39773287/unable-to-extratct-the-values-through-regex\"><em>unable to extratct the values through regex</em></a></p>\n\n<p>30-Sep-2016<br/>\n<a href=\"https://stackoverflow.com/questions/39798083/how-to-do-multiple-value-replacement-in-a-multiple-line-at-one-time\"><em>How to do multiple value replacement in a multiple line at one time</em></a></p>\n\n<p>18-Oct-2016<br/>\n<a href=\"https://stackoverflow.com/questions/40102877/how-to-pass-one-regex-output-to-another-regex-in-perl\"><em>how to pass one regex output to another regex in perl</em></a></p>\n\n<p>19-Oct-2016<br/>\n<a href=\"https://stackoverflow.com/questions/40132199/unable-to-extract-expected-value-through-map-function-in-perl\"><em>Unable to extract expected value through map function in perl</em></a></p>\n"}], "owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1476898644, "creation_date": 1476882196, "last_edit_date": 1476892947, "question_id": 40132199, "link": "https://stackoverflow.com/questions/40132199/unable-to-extract-expected-value-through-map-function-in-perl", "title": "Unable to extract expected value through map function in perl", "body": "<p>Not getting expected output for below input lines.</p>\n\n<p>Basically what I am doing is I am extracting hex values and values inside curly braces.</p>\n\n<ol>\n<li><p>The values inside curly braces should be appended with 0x0 (eg 0x01)</p></li>\n<li><p>The value with uint16 should be splited for e.g(0x27,0x89)</p></li>\n<li><p>The negative value -116 I want to take 8C \n  since its type is sint8 (for e.g -116--Hex is FFFFFF8C-->8C)</p></li>\n</ol>\n\n<p>I am using <code>map</code> function for doing this, but I am getting output as some unexpected value.</p>\n\n<p>My code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @data;\nwhile (&lt;DATA&gt;) \n{               \n    my (@matches) = /(?|(0x[\\dA-F]+)|(?:\\{\\s*|\\s)(-?\\d+)(?!x))/g;\n    #print \"@matches\\n\";\n    push @data, ($1);\n}\n\n{\n    my $data = join ',', map \"0x0$_\", map { unpack '(A2)*' } @data;     \n    print $data, \"\\n\";    \n}\n\n__DATA__     \nmeas_command    PHY_MEAS_CONFIG { 0}    meas_command        \nUE_position_meas_flag   else { 0}   UE_position_meas_flag       \nreporting_interval  MCFE_L1C_RPTPERIOD { 1} reporting_interval      \nfieldIndicator  tdd neighbor cell measurement indicator { 2}    fieldIndicator      \nReserved1   0x00    Uint8,unsigned char     \nmy_info    0x2789  Uint16, unsigned short        \nfiller1{3} { 0x00, 0x00, 0x00 }    Uint8,unsigned char     \nrscp_tap   -116    Sint8,signed char              \nrch_type    PCH { 7}    Uint8,unsigned char \nlast_report 0   zeroth bit      \nno_sync 0   oneth bit\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code> 0x00,0x00,0x01,0x02,0x00,0x27,0x89,0x00,0x00,0x00,0x8c,0x07,0x00,0x00\n</code></pre>\n\n<p>What I was getting is:</p>\n\n<pre><code>0x00,0x00,0x01,0x02,0x00x,0x000,0x00x,0x027,0x089,0x00x,0x000,0x0-1,0x016,0x07,0x00,0x00\n</code></pre>\n\n<p>Something wrong is going with <code>map</code> function.\nPlease help me ?</p>\n"}, {"tags": ["regex", "string", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 6, "creation_date": 1476871738, "post_id": 40128205, "comment_id": 67526354, "body": "Try <code>&#47;\\^.C&#47;s</code>.."}, {"owner": {"reputation": 123, "user_id": 3799576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59d2425b7fa98517cbc581f957e15606?s=128&d=identicon&r=PG&f=1", "display_name": "user3799576", "link": "https://stackoverflow.com/users/3799576/user3799576"}, "edited": false, "score": 0, "creation_date": 1476871849, "post_id": 40128205, "comment_id": 67526437, "body": "Thank you this was helpful."}, {"owner": {"reputation": 123, "user_id": 3799576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59d2425b7fa98517cbc581f957e15606?s=128&d=identicon&r=PG&f=1", "display_name": "user3799576", "link": "https://stackoverflow.com/users/3799576/user3799576"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1476872055, "post_id": 40128205, "comment_id": 67526595, "body": "As a follow up, I&#39;m trying to figure out the most efficient way to count the number of ^.C (or whatever letter) my string. If my string was about 1000 characters long, would it be faster to split, and deduct one from the length of the array, or would it be faster to simply count the number of regular expressions in the string?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1476872132, "post_id": 40128205, "comment_id": 67526642, "body": "See <a href=\"http://stackoverflow.com/questions/1849329/is-there-a-perl-shortcut-to-count-the-number-of-matches-in-a-string\"><i>Is there a Perl shortcut to count the number of matches in a string?</i></a>."}, {"owner": {"reputation": 123, "user_id": 3799576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59d2425b7fa98517cbc581f957e15606?s=128&d=identicon&r=PG&f=1", "display_name": "user3799576", "link": "https://stackoverflow.com/users/3799576/user3799576"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1476904518, "post_id": 40128205, "comment_id": 67549345, "body": "So in python, I&#39;m using the same regular expression and it&#39;s not working. I&#39;m importing re, and with the same string do re.findall(&quot;\\^.C/&quot;, string), and it&#39;s not working. Is it a different regex for python (i didn&#39;t think it was)."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476948652, "post_id": 40128205, "comment_id": 67565444, "body": "If you have a new question, please post it as a new question."}], "answers": [{"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 5, "last_activity_date": 1476876775, "last_edit_date": 1476876775, "creation_date": 1476872008, "answer_id": 40128406, "question_id": 40128205, "link": "https://stackoverflow.com/questions/40128205/how-do-i-split-a-string-using-a-regular-expression-in-perl/40128406#40128406", "title": "How do I split a string using a regular expression in Perl?", "body": "<p>When you say <em>[any_character]</em>, you must mean <code>.</code> pattern, a dot matches any char but linebreaks symbols, and if you use an <code>s</code> modifier, it will match any char.</p>\n\n<p>So, in your case, you just should not have escape the dot:</p>\n\n<pre><code>@split_str = split /\\^.C/, $letters;\n                      ^\n</code></pre>\n\n<p>Or, with an <code>s</code> modifier:</p>\n\n<pre><code>@split_str = split /\\^.C/s, $letters;\n                         ^\n</code></pre>\n\n<p>The caret should be escaped to denote a literal caret symbol in a regex pattern.</p>\n"}, {"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 4, "creation_date": 1476874285, "post_id": 40128424, "comment_id": 67528280, "body": "&quot; I want to split it by the actual character ^, followed by any character, followed by a specific letter (in this case C, but it could be A, or any other character).&quot; Your answer doesn&#39;t do that."}], "tags": [], "owner": {"reputation": 75, "user_id": 7029688, "user_type": "registered", "profile_image": "https://graph.facebook.com/689649977853123/picture?type=large", "display_name": "Pruna Catalin", "link": "https://stackoverflow.com/users/7029688/pruna-catalin"}, "is_accepted": false, "score": -4, "last_activity_date": 1476872048, "creation_date": 1476872048, "answer_id": 40128424, "question_id": 40128205, "link": "https://stackoverflow.com/questions/40128205/how-do-i-split-a-string-using-a-regular-expression-in-perl/40128424#40128424", "title": "How do I split a string using a regular expression in Perl?", "body": "<p>try like this @split_str = split(/\\^/, $letters)</p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 3799576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59d2425b7fa98517cbc581f957e15606?s=128&d=identicon&r=PG&f=1", "display_name": "user3799576", "link": "https://stackoverflow.com/users/3799576/user3799576"}, "edited": false, "score": 2, "creation_date": 1476880106, "post_id": 40129126, "comment_id": 67532646, "body": "Thank you all for your helpful comments. I truly learned something today."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 6, "last_activity_date": 1476880185, "last_edit_date": 1476880185, "creation_date": 1476873771, "answer_id": 40129126, "question_id": 40128205, "link": "https://stackoverflow.com/questions/40128205/how-do-i-split-a-string-using-a-regular-expression-in-perl/40129126#40129126", "title": "How do I split a string using a regular expression in Perl?", "body": "<p>You were very close. There were just a couple of errors in your code. Before I explain them, here's the code I was using to test solutions.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Data::Dumper;\n\n$_ = 'CCCCCCCC^hC^iC^*C^\"C^8A';\n\nmy @data = split /\\^(\\.)C/;\n\nsay Dumper @data;\n</code></pre>\n\n<p>Running this with your original regex, we get this output:</p>\n\n<pre><code>$VAR1 = 'CCCCCCCC^hC^iC^*C^\"C^8A';\n</code></pre>\n\n<p>No splitting has taken place at all. That's because your regex includes <code>\\.</code>. The dot matches any character in a string, but by escaping it with the backslash you have told Perl to treat it as an ordinary dot. There are no dots in your string, so the regex doesn't match and the string is not split.</p>\n\n<p>If we remove the backslash, we get this output:</p>\n\n<pre><code>$VAR1 = 'CCCCCCCC';\n$VAR2 = 'h';\n$VAR3 = '';\n$VAR4 = 'i';\n$VAR5 = '';\n$VAR6 = '*';\n$VAR7 = '';\n$VAR8 = '\"';\n$VAR9 = '^8A';\n</code></pre>\n\n<p>This is better. Some splitting has taken place. But because we have parentheses around the dot (<code>(.)</code>), Perl has \"captured\" the characters that the dot matches and added them to the list of values that <code>split()</code> returns.</p>\n\n<p>If we remove those parentheses, we get only the values between the split markers.</p>\n\n<pre><code>$VAR1 = 'CCCCCCCC';\n$VAR2 = '';\n$VAR3 = '';\n$VAR4 = '';\n$VAR5 = '^8A';\n</code></pre>\n\n<p>Note that we get a few empty elements. That's because in places like \"^hC^iC\" in your string, there is no data between two adjacent split markers.</p>\n\n<p>By moving the parentheses around the whole of the regex (<code>split /(\\^.C)/</code>), we can get a list which includes all of the split markers together with the data between them.</p>\n\n<pre><code>$VAR1 = 'CCCCCCCC';\n$VAR2 = '^hC';\n$VAR3 = '';\n$VAR4 = '^iC';\n$VAR5 = '';\n$VAR6 = '^*C';\n$VAR7 = '';\n$VAR8 = '^\"C';\n$VAR9 = '^8A';\n</code></pre>\n\n<p>Which of these options is most useful to you depends on exactly what you're trying to do.</p>\n"}], "owner": {"reputation": 123, "user_id": 3799576, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59d2425b7fa98517cbc581f957e15606?s=128&d=identicon&r=PG&f=1", "display_name": "user3799576", "link": "https://stackoverflow.com/users/3799576/user3799576"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1181, "favorite_count": 0, "accepted_answer_id": 40129126, "answer_count": 3, "score": 3, "last_activity_date": 1476880185, "creation_date": 1476871508, "last_edit_date": 1476871634, "question_id": 40128205, "link": "https://stackoverflow.com/questions/40128205/how-do-i-split-a-string-using-a-regular-expression-in-perl", "title": "How do I split a string using a regular expression in Perl?", "body": "<p>I have a string in Perl: <code>'CCCCCCCC^hC^iC^*C^\"C^8A'</code>. </p>\n\n<p>I want to split this string using a regular expression: <code>\"^[any_character]C\"</code>. In other words, I want to split it by the actual character <code>^</code>, followed by any character, followed by a specific letter (in this case <code>C</code>, but it could be <code>A</code>, or any other character). </p>\n\n<p>I have tried looking at other questions/posts and finally came up with my <code>@split_str = split(/\\^(\\.)C/, $letters)</code>, but this seems not to be working. </p>\n\n<p>I'm sure I'm doing something wrong, but I don't know what.</p>\n"}, {"tags": ["perl", "rest", "otrs"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 2, "creation_date": 1476867948, "post_id": 40126711, "comment_id": 67523570, "body": "You need to at least show your current perl code or a sample of how you at least retreive the ticket data. which perl modules you are using etc"}, {"owner": {"reputation": 11, "user_id": 6812119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4766c085f962edfdc68ba3979fa07bb8?s=128&d=identicon&r=PG&f=1", "display_name": "Sienael", "link": "https://stackoverflow.com/users/6812119/sienael"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1477565000, "post_id": 40126711, "comment_id": 67823230, "body": "The Code is added, can someone help me?"}], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 7052790, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ATWXB.jpg?s=128&g=1", "display_name": "smartydoc", "link": "https://stackoverflow.com/users/7052790/smartydoc"}, "is_accepted": false, "score": 0, "last_activity_date": 1479284377, "last_edit_date": 1495542623, "creation_date": 1479279251, "answer_id": 40625791, "question_id": 40126711, "link": "https://stackoverflow.com/questions/40126711/config-items-from-a-ticket-in-otrs-rest/40625791#40625791", "title": "Config Items from a Ticket in OTRS Rest", "body": "<p>Is your problem still active?\nIf it is, please, look out to the link provided:\n<a href=\"https://stackoverflow.com/questions/34675372/how-to-link-get-config-item-to-an-ticket-through-webservice-soap-or-rest-in\">How to Link / Get Config Item to an Ticket through Webservice (SOAP or REST) in OTRS</a> with my comments on the perl module.\nAt least, LinkObject have few methods to implement: </p>\n\n<pre><code>my $LinkList = $LinkObject-&gt;LinkList(\n    Object    =&gt; 'Ticket',\n    Key       =&gt; '321',\n    Object2   =&gt; 'FAQ',         # (optional)\n    State     =&gt; 'Valid',\n    Type      =&gt; 'ParentChild', # (optional)\n    Direction =&gt; 'Target',      # (optional) default Both (Source|Target|Both)\n    UserID    =&gt; 1,\n);\n\nmy $LinkList = $LinkObject-&gt;LinkListWithData(\n    Object                          =&gt; 'Ticket',\n    Key                             =&gt; '321',\n    Object2                         =&gt; 'FAQ',         # (optional)\n    State                           =&gt; 'Valid',\n    Type                            =&gt; 'ParentChild', # (optional)\n    Direction                       =&gt; 'Target',      # (optional) default Both (Source|Target|Both)\n    UserID                          =&gt; 1,\n    ObjectParameters                =&gt; {              # (optional) backend specific flags\n        Ticket =&gt; {\n            IgnoreLinkedTicketStateTypes =&gt; 0|1,\n        },\n    },\n);\n</code></pre>\n\n<p>and two others returning just keys.\nI use the LinkListWithData, cause it returns full info about connected CIs.</p>\n\n<p>Also, i have to said that there is some troubles with right creating $Self->{LinkObject} \ntry to use instead of </p>\n\n<pre><code># create additional objects\n$Self-&gt;{CommonObject} = Kernel::GenericInterface::Operation::Common-&gt;new( %{$Self} );\n$Self-&gt;{LinkObject} = $Kernel::OM-&gt;Get('Kernel::System::LinkObject');\n</code></pre>\n\n<p>this one</p>\n\n<pre><code>local $Kernel::OM = Kernel::System::ObjectManager-&gt;new( %{$Self} );\n$Self-&gt;{LinkObject} = $Kernel::OM-&gt;Get('Kernel::System::LinkObject');\n</code></pre>\n\n<p>It may helps.\nWhen you call LinkList method, you put %Param, but your fields in the Map (or HashMap, dunno exactly in perl) $Param{Data}, so try to use</p>\n\n<pre><code>my $Links = $Self-&gt;{LinkObject}-&gt;LinkListWithData(\n    'Object' =&gt; $Param{Data}{Object},\n    'Key' =&gt; $Param{Data}{Key},\n    'Type' =&gt; $Param{Data}{Type},\n    'Object2' =&gt; $Param{Data}{Object2},\n    'State' =&gt; $Param{Data}{State},\n    'UserID' =&gt; $Param{Data}{UserID},\n);\n</code></pre>\n\n<p>Also, do not hestitate to make rude debug output like fileappender with Dumper (make shure, that otrs user can create file and write to it):</p>\n\n<pre><code>my $outfile = '/opt/otrs/var/log/otrs.log';\nmy $timestamp = localtime(time);\nopen(my $file_handle, '&gt;&gt;', $outfile) or die \"Can't write to file '$outfile' [$!]\\n\";\nprint $file_handle \"$timestamp\\n\";\nprint $file_handle \"=====Custom LinkList started=====\\n\";\nmy $tempobjectdump = Dumper $Self;\nprint $file_handle $tempobjectdump;\n\nwhile ( my ($key, $value) = each($Param{Data}) ) {\n    print $file_handle \"$key =&gt; $value\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6812119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4766c085f962edfdc68ba3979fa07bb8?s=128&d=identicon&r=PG&f=1", "display_name": "Sienael", "link": "https://stackoverflow.com/users/6812119/sienael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1190, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479284377, "creation_date": 1476867641, "last_edit_date": 1495540887, "question_id": 40126711, "link": "https://stackoverflow.com/questions/40126711/config-items-from-a-ticket-in-otrs-rest", "title": "Config Items from a Ticket in OTRS Rest", "body": "<p>I\u00b4m using an OTRS Ticket System 5 with ITSM. I can select, update, delete Tickets, Attachment over the Generic Interface (REST). </p>\n\n<p>My Problem: The Rest Interface give me only the Ticket data, not the linked Configuration item (for example a pc). I know, i must add a connector for the LinkObject that gives me all the linked items from the Ticket. My Perl programming Skill is not enough to build it on my own, can someone show me how i get a functional solution? After two weeks of searching and trying, i hope someone have solved the problem in the past :)</p>\n\n<p>Here i my perl module that is producing an internal server error (the LinkAdd example is from <a href=\"https://stackoverflow.com/questions/34675372/how-to-link-get-config-item-to-an-ticket-through-webservice-soap-or-rest-in\">How to Link / Get Config Item to an Ticket through Webservice (SOAP or REST) in OTRS</a>):</p>\n\n<p>Under /Custom/Kernel/GenericInterface/Operation/LinkObject/LinkList.pm</p>\n\n<pre><code># --\n# Kernel/GenericInterface/Operation/LinkObject/LinkAdd.pm - GenericInterface LinkAdd operation backend\n# Copyright (C) 2016 ArtyCo (Artjoms Petrovs), http://artjoms.lv/\n# --\n# This software comes with ABSOLUTELY NO WARRANTY. For details, see\n# the enclosed file COPYING for license information (AGPL). If you\n# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.\n# --\n\npackage Kernel::GenericInterface::Operation::LinkObject::LinkList;\n\nuse strict;\nuse warnings;\n\nuse Kernel::GenericInterface::Operation::Common;\nuse Kernel::System::LinkObject;\nuse Kernel::System::VariableCheck qw(IsStringWithData IsHashRefWithData);\n\n=head1 NAME\n\nKernel::GenericInterface::Operation::LinkObject::LinkList - GenericInterface Link List Operation backend\n\n=head1 SYNOPSIS\n\n=head1 PUBLIC INTERFACE\n\n=over 4\n\n=cut\n\n=item new()\n\nusually, you want to create an instance of this\nby using Kernel::GenericInterface::Operation-&gt;new();\n\n=cut\n\nsub new {\n    my ( $Type, %Param ) = @_;\n\n    my $Self = {};\n    bless( $Self, $Type );\n\n    # check needed objects\n    for my $Needed (\n        qw( DebuggerObject WebserviceID )\n        )\n    {\n        if ( !$Param{$Needed} ) {\n            return {\n                Success      =&gt; 0,\n                ErrorMessage =&gt; \"Got no $Needed!\"\n            };\n        }\n\n        $Self-&gt;{$Needed} = $Param{$Needed};\n    }\n\n    # create additional objects\n    $Self-&gt;{CommonObject} = Kernel::GenericInterface::Operation::Common-&gt;new( %{$Self} );\n    $Self-&gt;{LinkObject}\n        = $Kernel::OM-&gt;Get('Kernel::System::LinkObject');\n\n    return $Self;\n}\n\n=item Run()\n\nCreate a new link.\n\n    my $Result = $OperationObject-&gt;Run(\n        Data =&gt; {\n            SourceObject =&gt; 'Ticket',\n            SourceKey    =&gt; '321',\n            TargetObject =&gt; 'Ticket',\n            TargetKey    =&gt; '12345',\n            Type         =&gt; 'ParentChild',\n            State        =&gt; 'Valid',\n            UserID       =&gt; 1,\n        },\n    );\n\n    $Result = {\n        Success      =&gt; 1,                                # 0 or 1\n        ErrorMessage =&gt; '',                               # In case of an error\n        Data         =&gt; {\n            Result =&gt; 1,                                  # 0 or 1 \n        },\n    };\n\n=cut\n\nsub Run {\n    my ( $Self, %Param ) = @_;\n\n    # check needed stuff\n    if ( !IsHashRefWithData( $Param{Data} ) ) {\n        return $Self-&gt;{CommonObject}-&gt;ReturnError(\n            ErrorCode    =&gt; 'LinkList.MissingParameter',\n            ErrorMessage =&gt; \"LinkList: The request is empty!\",\n        );\n    }\n\n\n\n    my $LinkID = $Self-&gt;{LinkObject}-&gt;LinkList(\n        %Param,\n    );\n\n    if ( !$LinkID ) {\n        return $Self-&gt;{CommonObject}-&gt;ReturnError(\n            ErrorCode    =&gt; 'LinkList.AuthFail',\n            ErrorMessage =&gt; \"LinkList: Authorization failing!\",\n        );\n    }\n\n    return {\n        Success =&gt; 1,\n        Data    =&gt; {\n            Result =&gt; $LinkID,\n        },\n    };\n}\n\n1;\n\n=back\n\n=head1 TERMS AND CONDITIONS\n\nThis software is part of the OTRS project (L&lt;http://otrs.org/&gt;).\n\nThis software comes with ABSOLUTELY NO WARRANTY. For details, see\nthe enclosed file COPYING for license information (AGPL). If you\ndid not receive this file, see L&lt;http://www.gnu.org/licenses/agpl.txt&gt;.\n\n=cut\n</code></pre>\n"}, {"tags": ["perl", "amazon-web-services", "ssl", "amazon-cloudwatch"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1476862618, "post_id": 40124794, "comment_id": 67520083, "body": "Given that no debug output happens when you include IO::Socket::SSL with debug4 I guess that IO::Socket::SSL is not used but that something in your unknown script tries to enforce use of (old and deprecated) Crypt::SSLeay instead. For errors which might be caused by this see <a href=\"http://stackoverflow.com/questions/26564028/500-ssl-negotiation-failed\" title=\"500 ssl negotiation failed\">stackoverflow.com/questions/26564028/500-ssl-negotiation-fai&zwnj;&#8203;led</a>."}, {"owner": {"reputation": 43, "user_id": 6623278, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2eb44c4e0524704cfa3334e8b35ff57e?s=128&d=identicon&r=PG&f=1", "display_name": "keeplearning", "link": "https://stackoverflow.com/users/6623278/keeplearning"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1476863367, "post_id": 40124794, "comment_id": 67520568, "body": "Hi Steffen, I am bit confused here. The script was provided by AWS and I am not sure how to find if it uses IO::Socket::SSL or Crypt::SSLeay. I checked your reply in other query you have replied but I really don&#39;t know how to proceed. Please help."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1476864586, "post_id": 40124794, "comment_id": 67521313, "body": "This is strange: the error message comes from Net::SSL which is only used if IO::Socket::SSL is not used but I don&#39;t see that the code from amazon is enforcing use of Net::SSL/Crypt::SSLeay. Can you check <code>perl -MLWP::UserAgent -e &#39;print LWP::UserAgent-&gt;VERSION&#39;</code> to make sure that there is not an old version lurking in the perl path? Please check also the content of the directory where your mom-...*.pl program is for older LWP versions since the script includes this directory in the library path."}, {"owner": {"reputation": 43, "user_id": 6623278, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2eb44c4e0524704cfa3334e8b35ff57e?s=128&d=identicon&r=PG&f=1", "display_name": "keeplearning", "link": "https://stackoverflow.com/users/6623278/keeplearning"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1476864783, "post_id": 40124794, "comment_id": 67521465, "body": "I got the below output.[root@ip-10-175-82-195 aws-scripts-mon]# perl -MLWP::UserAgent -e &#39;print LWP::UserAgent-&gt;VERSION&#39; 6.15"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1476865417, "post_id": 40124794, "comment_id": 67521901, "body": "And did you check the script path too for older versions of LWP?"}, {"owner": {"reputation": 43, "user_id": 6623278, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2eb44c4e0524704cfa3334e8b35ff57e?s=128&d=identicon&r=PG&f=1", "display_name": "keeplearning", "link": "https://stackoverflow.com/users/6623278/keeplearning"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1476869102, "post_id": 40124794, "comment_id": 67524387, "body": "Script path ? Are you asking about aws script?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1476870039, "post_id": 40124794, "comment_id": 67525095, "body": "Yes, the directory where the aws script is stored."}, {"owner": {"reputation": 43, "user_id": 6623278, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2eb44c4e0524704cfa3334e8b35ff57e?s=128&d=identicon&r=PG&f=1", "display_name": "keeplearning", "link": "https://stackoverflow.com/users/6623278/keeplearning"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1476870860, "post_id": 40124794, "comment_id": 67525751, "body": "No the path remain same. /root/cronjobs/aws-scripts-mon."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1476873699, "post_id": 40124794, "comment_id": 67527798, "body": "Then I don&#39;t know. Based on the error message it is using the old and deprecated Net::SSL/Crypt::SSLeay backend for some reason and with the current information I don&#39;t know why."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1476886641, "post_id": 40124794, "comment_id": 67537799, "body": "For reference, the scripts are available here: <a href=\"http://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/mon-scripts.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/&hellip;</a> FWIW, I do not see anything in the stock modules and scripts that force the use of <code>Crypt::SSLeay</code>. Remember, even installing the current <code>Crypt::SSLeay</code> opts you in to use <code>IO::Socket::SSL</code> (and, by extension, <code>Net::SSLeay</code>). See <a href=\"https://www.nu42.com/2014/04/does-your-code-really-depend-on.html\" rel=\"nofollow noreferrer\">nu42.com/2014/04/does-your-code-really-depend-on.html</a>"}, {"owner": {"reputation": 43, "user_id": 6623278, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2eb44c4e0524704cfa3334e8b35ff57e?s=128&d=identicon&r=PG&f=1", "display_name": "keeplearning", "link": "https://stackoverflow.com/users/6623278/keeplearning"}, "edited": false, "score": 0, "creation_date": 1476948834, "post_id": 40124794, "comment_id": 67565550, "body": "Thanks for your efforts Steffen and Sinan. I raised a ticket with AWS."}], "owner": {"reputation": 43, "user_id": 6623278, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2eb44c4e0524704cfa3334e8b35ff57e?s=128&d=identicon&r=PG&f=1", "display_name": "keeplearning", "link": "https://stackoverflow.com/users/6623278/keeplearning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 901, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1487900177, "creation_date": 1476861900, "last_edit_date": 1495541364, "question_id": 40124794, "link": "https://stackoverflow.com/questions/40124794/ssl-negotiation-failed-at-usr-local-share-perl5-lwp-protocol-http-pm-line-27", "title": "SSL negotiation failed: at /usr/local/share/perl5/LWP/Protocol/http.pm line 27", "body": "<p>Continuation of my previous question(<a href=\"https://stackoverflow.com/questions/40123294/lwpprotocolhttpssocket-connect-timeout-error\">LWP::Protocol::https::Socket: connect: timeout error</a>) I am creating the new topic here. </p>\n\n<p>I am trying to use the AWS cloud watch scripts which throw error during execution. Please find the below Stout of the commands to see if required modules remain installed and the script execution error.</p>\n\n<pre><code>[root@ip-10-175-82-195 aws-scripts-mon]# perl -MIO::Socket::SSL -e\nNo code specified for -e.\n[root@ip-10-175-82-195 aws-scripts-mon]# perl -MLWP::Protocol::https -e 'warn $LWP::Protocol::https::VERSION'\n6.06 at -e line 1.\n[root@ip-10-175-82-195 aws-scripts-mon]# perl -MIO::Socket::SSL=debug4 ./mon-put-instance-data.pl --mem-util --mem-used --mem-avail --aws-credential-file=/root/.aws/awscreds\n\nERROR: Failed to call CloudWatch: HTTP 500. Message: SSL negotiation failed:  at /usr/local/share/perl5/LWP/Protocol/http.pm line 27.\n at /usr/local/share/perl5/LWP/Protocol/http.pm line 27.\n;  at /usr/local/share/perl5/LWP/Protocol/http.pm line 27.\n;  at /usr/local/share/perl5/LWP/Protocol/http.pm line 27.\n\nFor more information, run 'mon-put-instance-data.pl --help'\n</code></pre>\n"}, {"tags": ["perl", "amazon-web-services", "ssl", "amazon-cloudwatch", "cloudwatch"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1476886325, "post_id": 40123294, "comment_id": 67537547, "body": "For reference, the scripts are available here: <a href=\"http://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/mon-scripts.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/&hellip;</a> FWIW, I do not see anything in the stock modules and scripts that force the use of <code>Crypt::SSLeay</code>. Remember, even installing the current <code>Crypt::SSLeay</code> opts you in to use <code>IO::Socket::SSL</code> (and, by extension, <code>Net::SSLeay</code>). See <a href=\"https://www.nu42.com/2014/04/does-your-code-really-depend-on.html\" rel=\"nofollow noreferrer\">nu42.com/2014/04/does-your-code-really-depend-on.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6623278, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2eb44c4e0524704cfa3334e8b35ff57e?s=128&d=identicon&r=PG&f=1", "display_name": "keeplearning", "link": "https://stackoverflow.com/users/6623278/keeplearning"}, "edited": false, "score": 0, "creation_date": 1476859542, "post_id": 40123741, "comment_id": 67518180, "body": "I tried running the script as root after exporting PERL_LWP_ENV_PROXY=1 and I am getting the below error."}, {"owner": {"reputation": 43, "user_id": 6623278, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2eb44c4e0524704cfa3334e8b35ff57e?s=128&d=identicon&r=PG&f=1", "display_name": "keeplearning", "link": "https://stackoverflow.com/users/6623278/keeplearning"}, "edited": false, "score": 0, "creation_date": 1476859563, "post_id": 40123741, "comment_id": 67518199, "body": "[root@ip-10-175-82-195 aws-scripts-mon]# ./mon-put-instance-data.pl --mem-util --mem-used --mem-avail --aws-credential-file=/root/.aws/awscreds  ERROR: Failed to call CloudWatch: HTTP 500. Message: SSL negotiation failed:  at /usr/local/share/perl5/LWP/Protocol/http.pm line 27.  at /usr/local/share/perl5/LWP/Protocol/http.pm line 27. ;  at /usr/local/share/perl5/LWP/Protocol/http.pm line 27. ;  at /usr/local/share/perl5/LWP/Protocol/http.pm line 27.  For more information, run &#39;mon-put-instance-data.pl --help&#39;"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 43, "user_id": 6623278, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2eb44c4e0524704cfa3334e8b35ff57e?s=128&d=identicon&r=PG&f=1", "display_name": "keeplearning", "link": "https://stackoverflow.com/users/6623278/keeplearning"}, "edited": false, "score": 0, "creation_date": 1476859963, "post_id": 40123741, "comment_id": 67518434, "body": "@Keeplearning: This is a different problem and the original one (timeout) is obviously fixed since it successfully established a TCP connection to the server and only failed in the SSL handshake. Therefore please ask a new question and include the details needed to help with this new question (i.e. code, debug output when run with <code>-MIO::Socket::SSL=debug4</code>, ...)"}, {"owner": {"reputation": 43, "user_id": 6623278, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2eb44c4e0524704cfa3334e8b35ff57e?s=128&d=identicon&r=PG&f=1", "display_name": "keeplearning", "link": "https://stackoverflow.com/users/6623278/keeplearning"}, "edited": false, "score": 0, "creation_date": 1476861219, "post_id": 40123741, "comment_id": 67519224, "body": "Ok I will create a new question"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 43, "user_id": 6623278, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2eb44c4e0524704cfa3334e8b35ff57e?s=128&d=identicon&r=PG&f=1", "display_name": "keeplearning", "link": "https://stackoverflow.com/users/6623278/keeplearning"}, "edited": false, "score": 0, "creation_date": 1476862539, "post_id": 40123741, "comment_id": 67520038, "body": "@Keeplearning: don&#39;t forget to accept a correct answer to your question."}, {"owner": {"reputation": 43, "user_id": 6623278, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2eb44c4e0524704cfa3334e8b35ff57e?s=128&d=identicon&r=PG&f=1", "display_name": "keeplearning", "link": "https://stackoverflow.com/users/6623278/keeplearning"}, "edited": false, "score": 0, "creation_date": 1476864612, "post_id": 40123741, "comment_id": 67521334, "body": "Hi Steffen, I tried clicking the answer but its not allowing since I am a new user. Thank you very much for your support."}, {"owner": {"reputation": 43, "user_id": 6623278, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2eb44c4e0524704cfa3334e8b35ff57e?s=128&d=identicon&r=PG&f=1", "display_name": "keeplearning", "link": "https://stackoverflow.com/users/6623278/keeplearning"}, "edited": false, "score": 0, "creation_date": 1476864657, "post_id": 40123741, "comment_id": 67521364, "body": "Thanks for the feedback! Votes cast by those with less than 15 reputation are recorded, but do not change the publicly displayed post score."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 2, "last_activity_date": 1476858366, "creation_date": 1476858366, "answer_id": 40123741, "question_id": 40123294, "link": "https://stackoverflow.com/questions/40123294/lwpprotocolhttpssocket-connect-timeout-error/40123741#40123741", "title": "LWP::Protocol::https::Socket: connect: timeout error", "body": "<blockquote>\n  <p><code>PERL_LWP_ENV_PROXY=1</code></p>\n</blockquote>\n\n<p>I guess this also means that you have the <code>http_proxy</code> environment variable set to a proxy it should use and that there is no way to the target except by using this proxy.</p>\n\n<blockquote>\n  <p><code>$ sudo ./mon-put-instance-data.pl</code></p>\n</blockquote>\n\n<p>Calling something using sudo will run it with different privileges. For security reasons the environment variables are heavily scrubbed before by sudo before calling the program which probably means that <code>http_proxy</code> is empty for the program run by sudo. This again means that it will try to reach the target site directly instead of using a proxy and will timeout on connection since the site can only be reached using the proxy.</p>\n"}, {"tags": [], "owner": {"reputation": 319, "user_id": 3231347, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9be9cc1fbe9894439db5bb44f7c5aa97?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/3231347/amit"}, "is_accepted": false, "score": 0, "last_activity_date": 1476868967, "creation_date": 1476868967, "answer_id": 40127239, "question_id": 40123294, "link": "https://stackoverflow.com/questions/40123294/lwpprotocolhttpssocket-connect-timeout-error/40127239#40127239", "title": "LWP::Protocol::https::Socket: connect: timeout error", "body": "<p>It seems to be build-essential is not installed.\nPlease install the build essentials. I faced the same issue. Once build- essential installed , install all the related cpan module.</p>\n\n<p>sudo apt-get install build-essential</p>\n\n<p>Thanks \nAmit </p>\n"}, {"tags": [], "owner": {"reputation": 651, "user_id": 7576611, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh4.googleusercontent.com/-5qWm5XliK5c/AAAAAAAAAAI/AAAAAAAAAAs/GoUmSiF72uI/photo.jpg?sz=128", "display_name": "Shabbir Bata", "link": "https://stackoverflow.com/users/7576611/shabbir-bata"}, "is_accepted": false, "score": 0, "last_activity_date": 1502987186, "creation_date": 1502987186, "answer_id": 45740467, "question_id": 40123294, "link": "https://stackoverflow.com/questions/40123294/lwpprotocolhttpssocket-connect-timeout-error/45740467#45740467", "title": "LWP::Protocol::https::Socket: connect: timeout error", "body": "<p>Try the following:</p>\n\n<pre><code>yum install openssl openssl-devel\nperl -MCPAN -e 'install LWP::Protocol::https'\n</code></pre>\n\n<p>If the issue persists, try</p>\n\n<pre><code>perl -MCPAN -e 'install Bundle::CPAN'\nperl -MCPAN -e 'install Bundle::LWP5_837'\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6623278, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2eb44c4e0524704cfa3334e8b35ff57e?s=128&d=identicon&r=PG&f=1", "display_name": "keeplearning", "link": "https://stackoverflow.com/users/6623278/keeplearning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1963, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1502987186, "creation_date": 1476856535, "last_edit_date": 1476860144, "question_id": 40123294, "link": "https://stackoverflow.com/questions/40123294/lwpprotocolhttpssocket-connect-timeout-error", "title": "LWP::Protocol::https::Socket: connect: timeout error", "body": "<p>I am trying to configure <code>aws cloudwatch</code> script for monitoring memory etc. While executing the script we get below error and I upgraded the <code>perl</code> package the LWP version is also latest as 6 but still script is failing with below error.</p>\n\n<p>I tried setting env variables as  <code>PERL_LWP_ENV_PROXY=1</code>  and  <code>PERL_LWP_SSL_VERIFY_HOSTNAME=0</code> but still failing. Please help on this.</p>\n\n<blockquote>\n  <p>[ec2-user@ip-10-175-82-195 aws-scripts-mon]$ sudo\n  ./mon-put-instance-data.pl --mem-util --mem-used --mem-avail\n  --aws-credential-file=./awscreds.template</p>\n  \n  <p>ERROR: Failed to call CloudWatch: HTTP 500. Message: Can't connect to\n  monitoring.ap-southeast-1.amazonaws.com:443 (timeout)</p>\n  \n  <p>LWP::Protocol::https::Socket: connect: timeout at\n  /usr/local/share/perl5/LWP/Protocol/http.pm line 47.</p>\n  \n  <p>For more information, run 'mon-put-instance-data.pl --help'</p>\n</blockquote>\n"}, {"tags": ["arrays", "perl", "hash", "key"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476847050, "post_id": 40121152, "comment_id": 67513710, "body": "You have array <code>@characters</code> as well as array reference <code>$characters</code>.  Why don&#39;t you use more sensible variable names...  Also, not sure why you need the <code>%alphabet</code> when you can just count the number of letters = <code>scalar @characters</code> or even just <code>length($letters)</code> (you may need to <code>chomp($letters)</code> to remove the newline..."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476847743, "post_id": 40121152, "comment_id": 67513852, "body": "Could you give an example input / expected output to make more clear what you are trying to accomplish?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 3, "creation_date": 1476850378, "post_id": 40121152, "comment_id": 67514493, "body": "<code>my %alphabet; @alphabet{(&#39;a&#39;..&#39;z&#39;)} = (1..26);</code>"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1476853323, "post_id": 40121152, "comment_id": 67515470, "body": "What&#39;s <code>$total</code>? Why are you subtracting by <code>10</code> all of a sudden? This is very unclear"}], "answers": [{"comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476857303, "post_id": 40123063, "comment_id": 67517010, "body": "You should not use magic numbers like <code>96</code> in your code, it would be better to put it into a descriptively named variable, showing where it came from, i.e. <code>my $lc_offset = ord(&quot;a&quot;) - 1;</code>  Also, it will not handle upper case letters correctly..."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476859546, "post_id": 40123063, "comment_id": 67518184, "body": "@xxfelixxx Thank you for your comment. Post edited. Then In the post contain only the lowercase character. And I added also <code>lc</code> function to converts the case insensitive"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1476859507, "last_edit_date": 1476859507, "creation_date": 1476855750, "answer_id": 40123063, "question_id": 40121152, "link": "https://stackoverflow.com/questions/40121152/adding-values-together-from-a-hash/40123063#40123063", "title": "Adding values together from a hash", "body": "<p>I don't know what you exactly want. I added the script which gives the addition of the character position</p>\n\n<pre><code>print \"Enter your name: \";\n\nchomp (my $name = &lt;STDIN&gt;);\n\nmy @arc = split('',$name);\n\nmy $total;\n\nmy $lc_offset = ord(\"a\") - 1;\n\nforeach (@arc)\n{\n\n    $total+=(ord(lc($_))) - $lc_offset;\n\n}\n\nprint $total;\n</code></pre>\n\n<p>No need to store the position of the alphabets in hashes. Becuase perl has inbuilt function ord. so the small letters are starts at 97.</p>\n"}, {"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1476859655, "post_id": 40123602, "comment_id": 67518249, "body": "Why you store the numbers in an array.? Why you shouldn&#39;t  try  <code>map { $sum +=ord( lc($_) ) - $ord_lc_offset } split &#39;&#39;, $name</code>"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1476861489, "post_id": 40123602, "comment_id": 67519379, "body": "Why you used <code>grep</code>.? <code>map { $sum += ord( lc($_) ) - 96 } split &#39;&#39;, $name;</code> It gives the result"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1476862264, "post_id": 40123602, "comment_id": 67519855, "body": "@mkHun I used it to include more cases (ignore whitespace and non-letter chars). See my edit"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476879754, "post_id": 40123602, "comment_id": 67532399, "body": "&quot;Magic number&quot; 96 is much better written as <code>use constant ORD_LC_OFFSET =&gt; ord(&#39;a&#39;) - 1</code>. <code>map</code> shouldn&#39;t be used in void context: you mean <code>for</code>, like this <code>$sum += ord(lc) - ORD_LC_OFFSET for grep &#47;[a-z]&#47;i, split &#47;&#47;, $name</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476880960, "post_id": 40123602, "comment_id": 67533302, "body": "@yonyon100: You&#39;re welcome. I would also remove the unnecessary <code>($_)</code> in <code>lc ($_)</code>, and the superfluous <code>m</code> in <code>m&#47;[a-zA-Z]&#47;</code>, and I think it&#39;s better using the case-independent modifier <code>&#47;[a-z]&#47;i</code> instead of including both the upper and lower case letter ranges. Also, the first parameter of <code>split</code> is better delimited with slashes to emphasize that it is a regex pattern. But all of these are more style choices, and your code is fine as it stands."}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476881234, "post_id": 40123602, "comment_id": 67533526, "body": "@Borodin Those are good advises, and I like the minimalist style too, just wanted to be a little bit clearer with the code because a lot is going on in that one line (which is one of the reasons I love Perl so much)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476886204, "post_id": 40123602, "comment_id": 67537435, "body": "@yonyon100: That&#39;s fine. As I said, it&#39;s much more a matter of style than correctness. (By the way, <i>advice</i> is like <i>weather</i>: it&#39;s not countable, so you can&#39;t have one or many of it!)"}], "tags": [], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "is_accepted": false, "score": 0, "last_activity_date": 1476881324, "last_edit_date": 1476881324, "creation_date": 1476857873, "answer_id": 40123602, "question_id": 40121152, "link": "https://stackoverflow.com/questions/40121152/adding-values-together-from-a-hash/40123602#40123602", "title": "Adding values together from a hash", "body": "<p>It's quite unclear from your question, so I will guess you want to get the numeric sum of all letters in a word.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse constant ORD_LC_OFFSET =&gt; ord('a') - 1;\n\nprint \"What is your name?\\n\";\nchomp (my $name = &lt;STDIN&gt;);\n\nmy $sum = 0;\n$sum += ord( lc($_) ) - ORD_LC_OFFSET for grep { m/[a-zA-Z]/ } split '', $name;\nprint \"$sum\\n\";\n</code></pre>\n\n<p>We <code>split</code> the name to the characters and <code>grep</code> only the letter characters. Then we convert each character to the index of the letter (<code>ord</code> does the magic and converts the letter to it's ASCII value). Now we add that to <code>$sum</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476879214, "post_id": 40125751, "comment_id": 67532005, "body": "Note also that the definition of <code>%alphabet</code> is a hash <i>reference</i>. A fix for that fits better in your answer than in mine."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476879573, "post_id": 40125751, "comment_id": 67532271, "body": "@Borodin: Thanks. I had completely missed that. I&#39;ve added more to my answer to cover it."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476879909, "post_id": 40125751, "comment_id": 67532508, "body": "It&#39;s an error that&#39;s surprisingly easy to overlook."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476879991, "post_id": 40125751, "comment_id": 67532559, "body": "It&#39;s a good thing that we have <code>use warnings</code> to catch it then :-)"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1476879850, "last_edit_date": 1476879850, "creation_date": 1476864935, "answer_id": 40125751, "question_id": 40121152, "link": "https://stackoverflow.com/questions/40121152/adding-values-together-from-a-hash/40125751#40125751", "title": "Adding values together from a hash", "body": "<blockquote>\n  <p>I'm trying to add keys together from a hash to get a total from the added values.</p>\n</blockquote>\n\n<p>I don't think you are. The keys in your hash are letters. You can't (sensibly) add letters together. I think you're trying to add together the values from a hash which match a list of keys.</p>\n\n<p>Accuracy and precision are important traits in a programmer. If you can't describe your problem accurately and precisely, then you have little chance of solving it.</p>\n\n<p>Your code doesn't even compile. Let's take a look at it.</p>\n\n<pre><code># You should always start your Perl programs with \"use strict\"\n# and \"use warnings\".\nprint \"What is your name?\\n\";\n# When you \"use strict\" you will need to declare all of your variables\n# using \"my\". So \"my $letters = &lt;STDIN&gt;\"\n$letters = &lt;STDIN&gt;;\n\n# Similarly, \"my %alphabet = ...\"\n# But there are far better ways to set up this hash, as we'll see\n# later.\n# Also (as Borodin points out in a comment) you have initialised this \n# hash incorrectly. A hash should be initialised with a list:\n# %alphabet = (a =&gt; 1, ...);\n# Note the round parentheses indicating a list.\n# You have initialised your hash with a single-element list containing\n# a hash reference - braces { ... } are the anonymous hash constructor\n# and they return a reference to the new hash.\n# This is an error that would have been picked up by \"use warnings\".\n%alphabet = {\n   a=&gt;1, b=&gt;2, c=&gt;3, d=&gt;4, e=&gt;5, f=&gt;6, g=&gt;7, h=&gt;8, \n   i=&gt;9, j=&gt;10, k=&gt;11, l=&gt;12, m=&gt;13,n=&gt;14, o=&gt;15, \n   p=&gt;16, q=&gt;17, r=&gt;18, s=&gt;19, t=&gt;20, u=&gt;21, v=&gt;22, \n   w=&gt;23, x=&gt;24, y=&gt;25, z=&gt;26\n};\n\n# \"my @characters ...\"\n@characters = split('', $letters);\n# But you're also using an array reference called $characters.\n# That's bound to confuse you at some point in the future\n@$characters = keys (%alphabet);\n\n# This is the bit that doesn't compile. It should be\n# \"foreach (@character)\". But that's also not right as it uses\n# an array called @character, and you don't have an array called\n# @character (you have an array called @characters). \"use strict\"\n# will catch errors like this.\n# Also, each time round this loop, one of the elements from @character\n# will be put into $_. But you don't use $_ in your code at all.\nforeach @$character {\n   # Do you really want to set this to 0 each time?\n   $starting_total = 0;\n   # @$character is the number of elements in the array referenced\n   # by $character. Which is zero as you don't have an array\n   # reference called $character. I assume you meant @$characters,\n   # but that is always going to be 26 - which doesn't seem useful.\n   # And why subtract 10?\n   $total = $starting_total + @$character - 10;\n   print \"$total\\n\";\n}\n</code></pre>\n\n<p>Your description of the problem is incredibly vague, but looking at your code (and guessing a lot) I think what you're trying to do is this:</p>\n\n<ul>\n<li>Get a name for the user</li>\n<li>Split the name into individual letters</li>\n<li>Encode each letter into a number (a=1, b=2, ..., z=26)</li>\n<li>Sum the letters in the name</li>\n</ul>\n\n<p>Here's how I would do that.</p>\n\n<pre><code>#/usr/bin/perl\n\nuse strict;\nuse warnings;\n# We use modern Perl, specifically say()\nuse 5.010;\n\nprint 'What is your name? ';\nchomp(my $name = &lt;STDIN&gt;);\n\nmy %letters;\n@letters{'a' .. 'z'} = (1 .. 26);\n\nmy $total;\n\nforeach (split //, $name) {\n  $_ = lc $_; # force lower case\n  next unless exists $letters{$_}; # ignore non-letters\n  $total += $letters{$_};\n}\n\nsay \"$name is $total\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1476878899, "last_edit_date": 1476878899, "creation_date": 1476878106, "answer_id": 40130738, "question_id": 40121152, "link": "https://stackoverflow.com/questions/40121152/adding-values-together-from-a-hash/40130738#40130738", "title": "Adding values together from a hash", "body": "\n\n<p>This program will do as you ask</p>\n\n<p>Rather than using <code>split</code>, it applies a global regular expression that finds all of the alphabetic characters in the string. A call to <code>lc</code> makes each letter lower-case to match the hash keys</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nmy %alphabet = (\n   a =&gt;  1, b =&gt;  2, c =&gt;  3, d =&gt;  4, e =&gt;  5, f =&gt;  6, g =&gt;  7, h =&gt;  8, \n   i =&gt;  9, j =&gt; 10, k =&gt; 11, l =&gt; 12, m =&gt; 13, n =&gt; 14, o =&gt; 15, \n   p =&gt; 16, q =&gt; 17, r =&gt; 18, s =&gt; 19, t =&gt; 20, u =&gt; 21, v =&gt; 22, \n   w =&gt; 23, x =&gt; 24, y =&gt; 25, z =&gt; 26\n);\n\nprint 'What is your name? ';\nmy $name = &lt;&gt;;\n\nmy $total = 0;\n\nwhile ( $name =~ /([a-z])/gi ) {\n    my $letter = $1;\n    my $n = $alphabet{lc $letter};\n    printf \"%s %2d\\n\", $letter, $n;\n    $total += $n;\n}\n\nprintf \"Total %d\\n\", $total;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>What is your name? Kokio\nK 11\no 15\nk 11\ni  9\no 15\nTotal 61\n</code></pre>\n\n<p>Note that there is no need for a hash to calculate the index of a letter within the alphabet. You could do arithmetic on the code points of the letters, like this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>my $n = 1 + ord(lc $letter) - (ord 'a');\n</code></pre>\n\n<p>or you could declare a constant string <code>ALPHABET</code> and then use <code>index</code> to find the position of each character within it</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>use constant ALPHABET =&gt; join \"\", 'a' .. 'z';\n\nmy $n = 1 + index ALPHABET, lc $letter;\n</code></pre>\n\n<p>These alternatives produce exactly the same result, as the solution above, and don't require the hash</p>\n"}], "owner": {"reputation": 11, "user_id": 7039712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0691559b798e29ac2e3ceef679c197cc?s=128&d=identicon&r=PG&f=1", "display_name": "Kokio", "link": "https://stackoverflow.com/users/7039712/kokio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1476881324, "creation_date": 1476844604, "last_edit_date": 1476850295, "question_id": 40121152, "link": "https://stackoverflow.com/questions/40121152/adding-values-together-from-a-hash", "title": "Adding values together from a hash", "body": "<p>I'm trying to add keys together from a hash to get a total from the added values.</p>\n\n<p>Here is what I have so far. Help is appreciated.</p>\n\n<pre><code>print \"What is your name?\\n\";\n$letters = &lt;STDIN&gt;;\n\n%alphabet = {\n   a=&gt;1, b=&gt;2, c=&gt;3, d=&gt;4, e=&gt;5, f=&gt;6, g=&gt;7, h=&gt;8, \n   i=&gt;9, j=&gt;10, k=&gt;11, l=&gt;12, m=&gt;13,n=&gt;14, o=&gt;15, \n   p=&gt;16, q=&gt;17, r=&gt;18, s=&gt;19, t=&gt;20, u=&gt;21, v=&gt;22, \n   w=&gt;23, x=&gt;24, y=&gt;25, z=&gt;26\n};\n\n@characters = split('', $letters);\n@$characters = keys (%alphabet);\n\nforeach @$character {\n   $starting_total = 0;\n   $total = $starting_total + @$character - 10;\n   print \"$total\\n\";\n};\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1476837126, "post_id": 40120081, "comment_id": 67511419, "body": "Are you creating your own random number generator? If so, why? BTW it works for me. Also, if you invert your <code>if&#47;elsif</code> statements you don&#39;t need to check both sides of the range. <code>if( $r &gt; 0.9615384615384615 ) { return 26; } elsif( $r &gt; 0.9230769230769231 ) { return 25; } ....</code>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1476837475, "post_id": 40120081, "comment_id": 67511518, "body": "But really it&#39;s <code>return int $residuo * 26 + 1</code>."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 6811675, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/64bd6ce2ec06a28a0700a2eca229973d?s=128&d=identicon&r=PG&f=1", "display_name": "Jairo", "link": "https://stackoverflow.com/users/6811675/jairo"}, "edited": false, "score": 0, "creation_date": 1476845268, "post_id": 40120311, "comment_id": 67513319, "body": "Thanks for the answer, i put the elseif, the \\n at the print, but it is the same :/"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 3, "last_activity_date": 1476838759, "last_edit_date": 1476838759, "creation_date": 1476838105, "answer_id": 40120311, "question_id": 40120081, "link": "https://stackoverflow.com/questions/40120081/issues-with-perl-program/40120311#40120311", "title": "Issues with Perl program", "body": "<p>Your code is working, but it's just not displaying the number before the window closes.</p>\n\n<p>STDOUT (printing to the screen) is often <a href=\"https://en.wikipedia.org/wiki/Data_buffer\" rel=\"nofollow\">line buffered</a>. This means it will only display the line when it sees a newline. For example...</p>\n\n<pre><code>print \"SLEEP!!!\";\nsleep 2;\nprint \" AWAKE!!!\\n\"'\n</code></pre>\n\n<p>This will sleep for two seconds and then print <code>SLEEP!!! AWAKE!!!</code> all at once. </p>\n\n<p>Try <code>print \"$palabraAleatoria\\n\";</code></p>\n\n<p>For more detail, read <a href=\"http://perl.plover.com/FAQs/Buffering.html\" rel=\"nofollow\">Suffering From Buffering</a>.</p>\n\n<hr>\n\n<p>It seems like you're making your own random number generator? Perl already has one, <a href=\"http://perldoc.perl.org/functions/rand.html\" rel=\"nofollow\"><code>rand()</code></a>, and it will use a better seed than the time in seconds, and a better algorithm. <code>rand</code> takes a range of numbers to produce. <code>rand(27)</code> will give a number from 0 to 27 exclusive (so 0 to 26.9999). To use it to pick an element out of an array, use the size of the array.</p>\n\n<pre><code>my $random_idx = int rand @palabra;\nprint \"$palabra[$random_idx]\\n\";\n</code></pre>\n\n<p>This also avoids having to hard code the number of elements in your array into your code.</p>\n\n<hr>\n\n<p>Using <code>rand</code> eliminates the need for the big <code>if</code> chain, but let's talk about it anyway. It can be better written as an <code>if/elsif</code> starting at the top.</p>\n\n<pre><code>if( $residuo &gt; 0.9615384615384615 ) {\n    return 26;\n}\nelsif( $residuo &gt; 0.9230769230769231 ) {\n    return 25;\n}\n...and so on...\n</code></pre>\n\n<p>This avoids having to duplicate the range twice meaning less opportunities for typos. An <code>if/elsif</code> is more efficient, it doesn't have to check every condition, it will stop as soon as a condition is met. Returning immediately is also simpler and more efficient than using an intermediate return variable.</p>\n\n<p>All those magic numbers makes one wonder why they're magical. Once you notice that 0.0384615384615385 is 1/26 you can use that instead.</p>\n\n<pre><code>if( $residuo &gt; 25/26 ) {\n    return 26;\n}\nelsif( $residuo &gt; 24/26 ) {\n    return 25;\n}\n...and so on...\n</code></pre>\n\n<p>Replacing the magic numbers with fractions makes it easier to read and clearer what's going on. Once that happens it becomes clear this can be replaced with some simple math.</p>\n\n<pre><code>return $residuo * 26 + 1;\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 6811675, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/64bd6ce2ec06a28a0700a2eca229973d?s=128&d=identicon&r=PG&f=1", "display_name": "Jairo", "link": "https://stackoverflow.com/users/6811675/jairo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476838759, "creation_date": 1476836341, "question_id": 40120081, "link": "https://stackoverflow.com/questions/40120081/issues-with-perl-program", "title": "Issues with Perl program", "body": "<pre><code>use strict;\nuse warnings;\nuse FindBin;\nuse lib $FindBin::Bin;\nuse genNumeros;\n\nmy @palabra;\n\nopen (my $ARCHIVO, '&lt;', \"palabras.txt\") or warn (\"No se encontro el archivo     palabras.txt, $!\");\nwhile (my $palabra = &lt;$ARCHIVO&gt;) {\n    chomp $palabra;             \n\n    push @palabra, $palabra;   \n}\nclose $ARCHIVO;\nmy $palabraAleatoria = $palabra[genNumeros::crearNumero()];\nprint\"$palabraAleatoria\";\n&lt;&gt;;\n</code></pre>\n\n<p>The genNumeros module has this code: </p>\n\n<pre><code> package genNumeros;\n use strict;\n use warnings;\n use Math::Complex;\n\n\nmy $seed = time();\nmy $a = $seed / 5;\nmy $c = $seed - 7;\nmy $x = $seed;\nmy $m = sqrt($seed % 574) + $seed;\nmy $numAleatorio;\n\n\nsub generadorMultiplicativo{\n    $numAleatorio = ((($a*$x) + $c) % $m);\n    $x = $numAleatorio;\n}\nmy $letra;\nmy $residuo;\n\nsub crearNumero{\n\ngeneradorMultiplicativo();\n     $residuo = $x/$m;\n\n   if($residuo &lt; 0.0384615384615385){\n       $letra = 1;\n   } \n   if($residuo &gt; 0.0384615384615385 &amp;&amp; $residuo &lt; 0.076923076923077){\n           $letra = 2;\n   } \n   if($residuo &gt; 0.076923076923077 &amp;&amp; $residuo &lt; 0.1153846153846154){\n           $letra = 3;\n   }\n   if($residuo &gt; 0.1153846153846154 &amp;&amp; $residuo &lt; 0.1538461538461538){\n           $letra = 4;\n   }\n   if($residuo &gt; 0.1538461538461538 &amp;&amp; $residuo &lt; 0.1923076923076923){\n           $letra = 5;\n   }\n   if($residuo &gt; 0.1923076923076923 &amp;&amp; $residuo &lt; 0.2307692307692308){\n           $letra = 6;\n   }\n   if($residuo &gt; 0.2307692307692308 &amp;&amp; $residuo &lt; 0.2692307692307692){\n           $letra = 7;\n   }\n   if($residuo &gt; 0.2692307692307692 &amp;&amp; $residuo &lt; 0.3076923076923077 ){\n           $letra = 8;\n   }\n   if($residuo &gt; 0.3076923076923077 &amp;&amp; $residuo &lt; 0.3461538461538462){\n           $letra = 9;\n    }\n   if($residuo &gt; 0.3461538461538462 &amp;&amp; $residuo &lt; 0.3846153846153846){\n           $letra = 10;\n   }\n   if($residuo &gt; 0.3846153846153846 &amp;&amp; $residuo &lt; 0.4230769230769231){\n           $letra = 11;\n   }\n   if($residuo &gt; 0.4230769230769231 &amp;&amp; $residuo &lt; 0.4615384615384615){\n           $letra = 12;\n    }\n    if($residuo &gt; 0.4615384615384615 &amp;&amp; $residuo &lt; 0.5){\n           $letra = 13;\n   }\n   if($residuo &gt; 0.4615384615384615 &amp;&amp; $residuo &lt; 0.5384615384615385){\n           $letra = 14;\n   }\n   if($residuo &gt; 0.5384615384615385 &amp;&amp; $residuo &lt; 0.5769230769230769){\n           $letra = 15;\n   }\n   if($residuo &gt; 0.5769230769230769 &amp;&amp; $residuo &lt; 0.6153846153846154){\n           $letra = 16;\n   }\n   if($residuo &gt; 0.6153846153846154 &amp;&amp; $residuo &lt; 0.6538461538461538){\n           $letra = 17;\n   }\n   if($residuo &gt; 0.6538461538461538 &amp;&amp; $residuo &lt; 0.6923076923076923){\n           $letra = 18;\n   }\n   if($residuo &gt; 0.6923076923076923 &amp;&amp; $residuo &lt; 0.7307692307692308){\n           $letra = 19;\n   }\n   if($residuo &gt; 0.7307692307692308 &amp;&amp; $residuo &lt; 0.7692307692307692){\n           $letra = 20;\n   }\n   if($residuo &gt; 0.7692307692307692 &amp;&amp; $residuo &lt; 0.8076923076923077){\n           $letra = 21;\n   }\n   if($residuo &gt; 0.8076923076923077 &amp;&amp; $residuo &lt; 0.8461538461538462){\n           $letra = 22;\n   }\n   if($residuo &gt; 0.8461538461538462 &amp;&amp; $residuo &lt; 0.8846153846153846){\n           $letra = 23;\n   }\n   if($residuo &gt; 0.8846153846153846 &amp;&amp; $residuo &lt; 0.9230769230769231){\n           $letra = 24;\n   }\n   if($residuo &gt; 0.9230769230769231 &amp;&amp; $residuo &lt; 0.9615384615384615){\n           $letra = 25;\n   }\n   if($residuo &gt; 0.9615384615384615 &amp;&amp; $residuo &lt; 1){\n           $letra = 26;\n   }\n   return $letra;\n\n}\n\n1;\n</code></pre>\n\n<p>The thing is, that when i execute the .pl, it only closes up, i've already checked the \"palabras.txt\" and it has 27 words, the perl -c and perl -wc says that the syntax is OK, the @INC with perl -V finishes with a '.', I really don't know what's happening, I'm on ActivePerl 5.20 in Windows 10.</p>\n"}, {"tags": ["perl", "if-statement", "ascii"], "comments": [{"owner": {"reputation": 1354, "user_id": 1007709, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/iuIAp.jpg?s=128&g=1", "display_name": "jmcneirney", "link": "https://stackoverflow.com/users/1007709/jmcneirney"}, "edited": false, "score": 6, "creation_date": 1476830361, "post_id": 40119111, "comment_id": 67509794, "body": "Turn on strict and warnings and you&#39;ll see that you&#39;re trying to do numeric comparisons on non-numeric characters. So,  &quot;use strict;&quot;  and &quot;use warnings;&quot;  and declare your vars as &quot;my $s; &quot; etc.  Then when you run it you&#39;ll see the warnings.  Checkout perldoc perlop for comparison operators."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 4, "creation_date": 1476830378, "post_id": 40119111, "comment_id": 67509801, "body": "I&#39;m confused. Where do <code>52</code>, <code>97</code>, and <code>65</code> come from? They are the ordinal values of the first character of your inputs <code>4</code>, <code>a</code>, and <code>AS</code>, but I don&#39;t see where you compute them. Anyway, Perl has two sets of comparison operators. <code>&lt;</code>, <code>&lt;=</code>, <code>==</code>, <code>!=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;=&gt;</code> for numerical comparison, and <code>lt</code>, <code>le</code>, <code>eq</code>, <code>ne</code>, <code>ge</code>, <code>gt</code>, <code>cmp</code> for lexical (string) comparison. See <a href=\"http://metacpan.org/pod/perlop\" rel=\"nofollow noreferrer\"><code>perldoc perlop</code></a>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1476830693, "post_id": 40119111, "comment_id": 67509885, "body": "In other words, if you wish to get ASCII (and compute with it, by using <code>==, &lt;, &gt;</code> operators), you need to convert the strings.  You can do that with <code>ord</code> or <code>unpack</code>, for example. (And it seems that you have done that somehow since you show that in &quot;output&quot; -- so <i>show complete examples</i>.)  While Perl does allow us to store either a number or a string in a scalar variable, when it comes to using them you can&#39;t always expect things to just work regardless."}, {"owner": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 0, "creation_date": 1476839808, "post_id": 40119111, "comment_id": 67512081, "body": "// , You have asked a good question, Mr. McNulty. Welcome to the misery! Please consider showing us some of the research you&#39;ve already done on this topic, and applying Tim Bunce&#39;s answer to a question about &quot;linting&quot;, here, to the code example you have so helpfully provided us: <a href=\"http://stackoverflow.com/a/27133639/2146138\">stackoverflow.com/a/27133639/2146138</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476880520, "post_id": 40119111, "comment_id": 67532969, "body": "The code you show won&#39;t even compile, as you haven&#39;t defined <code>say</code> anywhere. Once that is fixed the output is <code>a</code>, <code>AS</code>, <code>4</code> and not the text that you show. We can&#39;t possibly help you unless you explain your problem accurately."}], "answers": [{"comments": [{"owner": {"reputation": 760, "user_id": 4231932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-CHIXIk16xzI/AAAAAAAAAAI/AAAAAAAAAFg/acB7fWSy6jk/photo.jpg?sz=128", "display_name": "Alexander McNulty", "link": "https://stackoverflow.com/users/4231932/alexander-mcnulty"}, "edited": false, "score": 0, "creation_date": 1477030377, "post_id": 40135420, "comment_id": 67607064, "body": "Yes, your are correct. Thank you, and thanks to the other folks as well. I was using numerical comparisons when I should have been using string comparisons."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1476890017, "creation_date": 1476890017, "answer_id": 40135420, "question_id": 40119111, "link": "https://stackoverflow.com/questions/40119111/perl-programming-exercise-how-do-i-compare-ascii-values/40135420#40135420", "title": "Perl Programming Exercise - How do I Compare ASCII Values?", "body": "<p>Always use <code>use strict; use warnings;</code>! The latter would have told you that you were using numerical comparison operators (e.g. <code>&lt;</code>) where you should be using string comparison operators (e.g. <code>lt</code>).</p>\n\n<p>But you could simply use the following:</p>\n\n<pre><code>say for sort $s, $j, $k;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 609, "user_id": 1695902, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c58fde62c33f2ec8502ec8225d5fff6a?s=128&d=identicon&r=PG", "display_name": "sjcaged", "link": "https://stackoverflow.com/users/1695902/sjcaged"}, "is_accepted": false, "score": 0, "last_activity_date": 1476900935, "creation_date": 1476900935, "answer_id": 40138762, "question_id": 40119111, "link": "https://stackoverflow.com/questions/40119111/perl-programming-exercise-how-do-i-compare-ascii-values/40138762#40138762", "title": "Perl Programming Exercise - How do I Compare ASCII Values?", "body": "<p>You want to use the <code>ord</code> function to obtain the numeric value of the first character of the argument.  This is per-character, not per-byte, which means that Unicode works correctly.  <a href=\"http://perldoc.perl.org/functions/ord.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/ord.html</a> for more information.</p>\n"}], "owner": {"reputation": 760, "user_id": 4231932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-CHIXIk16xzI/AAAAAAAAAAI/AAAAAAAAAFg/acB7fWSy6jk/photo.jpg?sz=128", "display_name": "Alexander McNulty", "link": "https://stackoverflow.com/users/4231932/alexander-mcnulty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 1, "accepted_answer_id": 40135420, "answer_count": 2, "score": 0, "last_activity_date": 1476900935, "creation_date": 1476829641, "last_edit_date": 1476842401, "question_id": 40119111, "link": "https://stackoverflow.com/questions/40119111/perl-programming-exercise-how-do-i-compare-ascii-values", "title": "Perl Programming Exercise - How do I Compare ASCII Values?", "body": "<p>I wrote the following program to test Perl's ability to evaluate ASCII values, and its <code>if</code> / <code>elsif</code> statements. </p>\n\n<p>I want to avoid using the language's sort function.</p>\n\n<pre><code>#test ASCII values using if and elsif\n$s = '4';\n$j = 'a';\n$k = \"AS\";\n\n#1st print the variable with the lowest ASCII value\nif ($s &lt;= $j &amp;&amp; $s &lt;= $k) {\n    say $s;\n    $s = 1000;\n} elsif ($j &lt;= $s &amp;&amp; $j &lt;= $k) {\n    say $j;\n    $j = 1000;\n} elsif ($k &lt;= $j &amp;&amp; $k &lt;= $s) {\n    say $k;\n    $k = 1000;\n}\n\n#print the variable with the 2nd lowest value\nif ($s &lt;= $j &amp;&amp; $s &lt;= $k) {\n    say $s;\n    $s = 1000;\n} elsif ($j &lt;= $s &amp;&amp; $j &lt;= $k) {\n    say $j;\n    $j = 1000;\n} elsif ($k &lt;= $j &amp;&amp; $k &lt;= $s) {\n    say $k;\n    $k = 1000;\n}\n\n#print the variable with the 3nd lowest value\nif ($s &lt;= $j &amp;&amp; $s &lt;= $k) {\n    say $s;\n    $s = 1000;\n} elsif ($j &lt;= $s &amp;&amp; $j &lt;= $k) {\n    say $j;\n    $j = 1000;\n} elsif ($k &lt;= $j &amp;&amp; $k &lt;= $s) {\n    say $k;\n    $k = 1000;\n}\n</code></pre>\n\n<p>My output is as follows: </p>\n\n<pre><code>52\n97\n65\na\nAS\n4\n</code></pre>\n\n<p>but the correct outcome is:</p>\n\n<pre><code>52\n97\n65\n4\nAS\na\n</code></pre>\n\n<p>Thank you in advance. Tips on how to improve my question writing are welcome.</p>\n"}, {"tags": ["perl", "memory", "stack-size"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1476883258, "post_id": 40118155, "comment_id": 67535031, "body": "(Incidentally, you&#39;re missing a <code>;</code> at the end of <code>use Math::Pari</code>.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476898295, "post_id": 40118155, "comment_id": 67545575, "body": "My answer below now has sample code and has been tested. It works as expected."}], "answers": [{"comments": [{"owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1476842797, "post_id": 40118313, "comment_id": 67512774, "body": "That doesn&#39;t seem to work with Math::Pari modules, I added more code to the post."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1476854769, "post_id": 40118313, "comment_id": 67516005, "body": "@J.Linne Is this all you tried -- a one-liner?  These are complicated environments, I&#39;d suggest putting together a small script to try it -- unless you did. (Btw, this is not how you load options for modules in a one-liner.) Write a script which loads all modules you need, including the line from my answer."}, {"owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1476865838, "post_id": 40118313, "comment_id": 67522164, "body": "I work mostly with the one-liner, I put the one liner command in a script and ran it and still get the same problem w 3M digits."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1476867555, "post_id": 40118313, "comment_id": 67523317, "body": "@J.Linne  You put one-liner in what script? A shell script?  Again, I&#39;d suggest that you write a small Perl script, where you enter all needed <code>use ...</code> statements, including the one from my answer.  Then the simplest code that you need for the test.  You can then call that from your shell script, instead of the one-liner.  (I can&#39;t test write now.)"}, {"owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1476869174, "post_id": 40118313, "comment_id": 67524439, "body": "DESCRIPTION ^  use Math::PariInit takes the same arguments as use Math::Pari with the addition of :primes=limit and :stack=bytes which specify up to which number the initial list of primes should be precalculated, and how large should be the arena for PARI calculations.  The arguments primes and stack cannot be specified if Math::Pari is already loaded."}, {"owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1477022219, "post_id": 40118313, "comment_id": 67604438, "body": "To extend your script to stack=1e+32, gives me an error."}, {"owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1477022571, "post_id": 40118313, "comment_id": 67604521, "body": "My goal of extending the script is to generate a number at lest 1B digits (1000M digits) reasonably quick, I do not generally care of how much memory is used."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1477023555, "post_id": 40118313, "comment_id": 67604806, "body": "@J.Linne  Let&#39;s say that 1Mb is a million bytes. That&#39;s 10^6. A gigabyte is then 10^9.  So a terabyte is 10^12. Then 10^13 is ten terrabytes, 10^14 is a hundred (no hard disk that big). There is probably not enough memory in all of the world&#39;s computer for 10^32.  It is hard to understand just how large that is."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1477023685, "post_id": 40118313, "comment_id": 67604856, "body": "@J.Linne  Let&#39;s attempt an estimate.  Let&#39;s say that one computer has (on order of) 1Gb, so 10^9.  There is an estimate that around 2014 there were around <a href=\"https://www.reference.com/technology/many-computers-world-e2e980daa5e128d0\" rel=\"nofollow noreferrer\">2 billion PC&#39;s in the world</a>.  That&#39;s again an order of 10^9, times a Gb each brings us to 10^18.  Even if allow that it is still a, say, 100 times as much, we are only at 10^20."}, {"owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1477198874, "post_id": 40118313, "comment_id": 67664827, "body": "I tried to increase the stack size so that a 1e+9 digit number can be generated in 11 min. Would you know if this is possible? I&#39;ve notice that at the stack size in your script is good up to about 3M digits before taking hours or days to generate larger numbers."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "edited": false, "score": 0, "creation_date": 1477201130, "post_id": 40118313, "comment_id": 67665158, "body": "@J.Linne  These are already pretty large numbers.  Given that the example in their documentation uses 1e8, ten times more may still be OK ... but soon enough you&#39;ll be pushing it and then all kinds of limits come out of woodwork.  Once you hit some hard limit things slow down dramatically, it can&#39;t really work anymore. When that happens depends on implementation and architechure but I&#39;d expect that you can&#39;t go much further from the example they give.  I don&#39;t know.  You may want to go to some compiled tools designed for what your ultimate purpose is and read all documentation that they offer."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1476950696, "last_edit_date": 1592644375, "creation_date": 1476825788, "answer_id": 40118313, "question_id": 40118155, "link": "https://stackoverflow.com/questions/40118155/allocatemem-function-in-pari-for-perl/40118313#40118313", "title": "allocatemem() function in Pari for perl", "body": "<p>You do not have to reach for <code>allocatemem()</code>, which is listed as one of the functions that can be used but aren't directly supported, see <a href=\"http://search.cpan.org/dist/Math-Pari/Pari.pm#Directly_accessible_from_Perl\" rel=\"nofollow noreferrer\">this in Math::Pari</a>.</p>\n<p>Instead, from the <a href=\"http://search.cpan.org/dist/Math-Pari/Pari.pm#INITIALIZATION\" rel=\"nofollow noreferrer\">INITIALIZATION in Math::Pari</a></p>\n<blockquote>\n<p>When Math::Pari is loaded, it examines variables $Math::Pari::initmem and $Math::Pari::initprimes. They specify up to which number the initial list of primes should be precalculated, and how large should be the arena for PARI calculations (in bytes). (These values have safe defaults.)</p>\n<p>Since setting these values before loading requires either a BEGIN block, or postponing the loading (use vs. require), it may be more convenient to set them via Math::PariInit:</p>\n<pre><code>use Math::PariInit qw( primes=12000000 stack=1e8 );\n</code></pre>\n</blockquote>\n<p>See the (short) page for <a href=\"http://search.cpan.org/%7Eilyaz/Math-Pari-2.01080900/PariInit.pm\" rel=\"nofollow noreferrer\">Math::PariInit</a>.</p>\n<p>A complete example</p>\n<pre><code>use warnings 'all';\nuse strict;\nuse feature 'say';\n\n# use Math::Pari;\nuse Math::PariInit qw( stack=1e8 );\nuse Crypt::Random qw(makerandom_itv);\n\nsay makerandom_itv(Lower =&gt; '10^1499999', Upper =&gt; '10^1500000')&quot;;\n</code></pre>\n<p>Running <code>script.pl &gt; BIG_num.txt</code> generates a <code>1.5Mb</code> file with the number (in 11 minutes).</p>\n<p>In this way the stack size is set at compilation. See the first link for changing it dynamically.</p>\n"}], "owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 40118313, "answer_count": 1, "score": 0, "last_activity_date": 1477022482, "creation_date": 1476825165, "last_edit_date": 1477022482, "question_id": 40118155, "link": "https://stackoverflow.com/questions/40118155/allocatemem-function-in-pari-for-perl", "title": "allocatemem() function in Pari for perl", "body": "<p>I was generating random numbers using the Crypt::Random module for perl which relies on Math::Pari, a perl interface for Pari/GP, and got this error when trying to generate a 1.5M digit number:</p>\n\n<pre><code>C:\\Users\\Jlinne\\Documents&gt;perl -MCrypt::Random=makerandom_itv -E \"say makerandom_itv(Lower =&gt; '10^1499999', Upper =&gt; '10^1500000')\" &gt; num_1500000.txt\nPARI:   ***   the PARI stack overflows !\n        current stack size: 4.0 Mbytes\n  [hint] you can increase GP stack with allocatemem()\n\nC:\\Users\\Ryan\\Documents\\Perl Scripts&gt;perl scripts1.pl\n\"use\" not allowed in expression at scripts1.pl line 6, at end of line\nsyntax error at scripts1.pl line 6, near \"use Math::Pari\nuse Math::PariInit \"\nBEGIN not safe after errors--compilation aborted at scripts1.pl line 7.\n</code></pre>\n\n<p>My Script:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\nuse feature 'say';\nuse Math::Pari\nuse Math::PariInit qw( primes=12000000 stack=1e8 );\nuse Crypt::Random\n</code></pre>\n\n<p>I had guessed the allocatemem() function was a Math::Pari function, but it is not. Does anyone know to change the GP stack size to 8.0 Mbytes using a script compared to one-liner? Thanks.</p>\n\n<p>Problem with the stack to 1e+32</p>\n\n<pre><code>C:\\Users\\Jlinne\\Documents\\Perl Scripts&gt;perl scripts1.pl &gt; BIGINT1500000.txt\nPARI:   ***   the PARI stack overflows !\n        current stack size: 0.0 Mbytes\n  [hint] you can increase GP stack with allocatemem()\nCompilation failed in require at C:/Strawberry/perl/site/lib/Math/PariInit.pm line 26.\nBEGIN failed--compilation aborted at scripts1.pl line 6.\n</code></pre>\n\n<p>Script:</p>\n\n<pre><code>use warnings 'all';\nuse strict;\nuse feature 'say';\n\n# use Math::Pari;\nuse Math::PariInit qw( stack=1e32 );\nuse Crypt::Random qw(makerandom_itv);\n\nsay makerandom_itv(Lower =&gt; '10^1499999', Upper =&gt; '10^1500000');\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477039131, "post_id": 40170478, "comment_id": 67611631, "body": "forgot to add this, if you want to escape the first / you must do <code>$uri =~ s&#47;\\&#47;\\?render\\=xml&#47;&#47;g;</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "is_accepted": true, "score": 0, "last_activity_date": 1477034727, "last_edit_date": 1477034727, "creation_date": 1477033941, "answer_id": 40170478, "question_id": 40117605, "link": "https://stackoverflow.com/questions/40117605/redirect-based-on-query/40170478#40170478", "title": "Redirect based on query", "body": "<p>firstly, you have not terminated your search pattern.</p>\n\n<pre><code>my $uri=$ENV{'REQUEST_URI'};\nif ($uri=~/\\/\\?render=xml/){\n redirect(301,\"Moved Permanently\",\"urlsubstring\");\n}\n</code></pre>\n\n<p>but you can just do a straight search and replace.\ntry this.</p>\n\n<pre><code>    $uri = \"http://www.something.com/about/?render=xml\";\n    $uri =~ s/\\?render\\=xml/newurlstring/g;\n    print $uri\n</code></pre>\n\n<p>Untested, but you would more than likely have something like this as your code.</p>\n\n<pre><code>my $uri=$ENV{'REQUEST_URI'};\n$uri =~ s/\\?render\\=xml/newurlstring/g;\n</code></pre>\n\n<p>which will return $uri as <a href=\"http://www.something.com/about/newurlstring\" rel=\"nofollow\">http://www.something.com/about/newurlstring</a></p>\n\n<p>or if you just want to dump the ?render=xml portion and only use $uri as <a href=\"http://www.something.com/about/\" rel=\"nofollow\">http://www.something.com/about/</a></p>\n\n<pre><code>my $uri=$ENV{'REQUEST_URI'};\n$uri =~ s/\\?render\\=xml//g;\n</code></pre>\n"}], "owner": {"reputation": 8219, "user_id": 135605, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7c56ff86a79852b167d84b3838756fba?s=128&d=identicon&r=PG", "display_name": "somejkuser", "link": "https://stackoverflow.com/users/135605/somejkuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 40170478, "answer_count": 1, "score": -1, "last_activity_date": 1477034727, "creation_date": 1476822936, "question_id": 40117605, "link": "https://stackoverflow.com/questions/40117605/redirect-based-on-query", "title": "Redirect based on query", "body": "<p>I have the following code:</p>\n\n<pre><code>my $uri=$ENV{'REQUEST_URI'};\nif ($uri=~/\\/\\?render=xml){\n redirect(301,\"Moved Permanently\",\"urlsubstring\");\n}\n</code></pre>\n\n<p>What I'm trying to accomplish is if a user goes anywhere on my site if the page looks like <code>http://wwww.something.com/about/?render=xml</code> we perform a redirect to the url without the <code>render=xml portion</code>. As you can see what im concerned with is the <code>render=xml</code> query portion of the script.</p>\n\n<p>So,</p>\n\n<p>i need to update the logic to perform the redirect and then i will need a substring based on the position of the <code>?render=xml</code> against the <code>url</code>.</p>\n\n<p>Here's my substring code:</p>\n\n<pre><code>$pos = index($uri,\"?render=xml\");\n$newuri = substr($uri,0,$pos);\n</code></pre>\n\n<p><strong>I'm very new to perl so i just am looking for some assistanvce</strong></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1478244018, "post_id": 40116906, "comment_id": 68083645, "body": "use <a href=\"https://metacpan.org/pod/Net::OpenSSH\" rel=\"nofollow noreferrer\">Net::OpenSSH</a>"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 2676214, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/598076898/picture?type=large", "display_name": "Alex Giunta", "link": "https://stackoverflow.com/users/2676214/alex-giunta"}, "edited": false, "score": 0, "creation_date": 1476978436, "post_id": 40119752, "comment_id": 67586845, "body": "I used your instructions for Net::SCP:Expect but kept getting an error that SCP timed out when connecting to the remote host.  I know the remote host is up and I&#39;m able to manually SCP the file.  I went back to using just Net::SCP and set my .ssh/config file to the following:"}, {"owner": {"reputation": 59, "user_id": 2676214, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/598076898/picture?type=large", "display_name": "Alex Giunta", "link": "https://stackoverflow.com/users/2676214/alex-giunta"}, "edited": false, "score": 0, "creation_date": 1476978456, "post_id": 40119752, "comment_id": 67586862, "body": "Host * \tStrictHostKeyChecking no"}, {"owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "reply_to_user": {"reputation": 59, "user_id": 2676214, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/598076898/picture?type=large", "display_name": "Alex Giunta", "link": "https://stackoverflow.com/users/2676214/alex-giunta"}, "edited": false, "score": 0, "creation_date": 1476982844, "post_id": 40119752, "comment_id": 67589557, "body": "Hmm, the example above works fine for me. You could try to play with different timeout values and maybe the <code>timeout_auto</code>. Is it working now with the modified config file?"}], "tags": [], "owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "is_accepted": false, "score": 1, "last_activity_date": 1476834486, "last_edit_date": 1476834486, "creation_date": 1476833771, "answer_id": 40119752, "question_id": 40116906, "link": "https://stackoverflow.com/questions/40116906/bypass-host-key-checking-with-netscp/40119752#40119752", "title": "Bypass host key checking with Net::SCP", "body": "<h2>Solution</h2>\n\n<p>Yes, you can do that with the module <code>Net::SCP::Expect</code> in the following way (unix system assumed):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Net::SCP::Expect;\n\nmy $scp = Net::SCP::Expect-&gt;new(\n    host     =&gt; 'localhost', # or target IP address\n    user     =&gt; 'username',\n    password =&gt; 'mysecretpass',\n    auto_yes =&gt; 1, # automatically pass a 'yes' string to any yes/no questions\n    timeout  =&gt; 5,\n    option   =&gt; 'UserKnownHostsFile=/dev/null StrictHostKeyChecking=no' # the trick\n);\n\n# now send the file\n$scp-&gt;scp('file.tar', 'TargetDirectory/') || die \"scp() failed: $!\\n\";\n</code></pre>\n\n<h2>Explanation</h2>\n\n<p>SCP actually uses SSH, so whenever the remote identity/fingerprint changes, the connection is no longer permitted because of security reasons. As you can probably imagine, this is for your own security because you could also be the victim of a \"man in the middle attack\" or similar things. Your machine has most likely saved all known fingerprints in the following file:</p>\n\n<pre><code>~/.ssh/known_hosts\n</code></pre>\n\n<p>And this causes the problem for you. In the Perl script above you can see how the options <code>UserKnownHostsFile=/dev/null</code> and <code>StrictHostKeyChecking=no</code> are passed to the constructor. These are actually SSH options, which can be either specified on the command line or in your machine's SSH configuration file. Since SCP uses the same options, you can pass them to the module and therefore completely bypass the identity check in your case.</p>\n\n<p>Why does it work?</p>\n\n<p>By replacing(*) the <code>known_hosts</code> file with <code>/dev/null</code>, you basically give it an empty file that cannot be modified. This allows you to completely ignore the safety check and your file will get sent as expected.</p>\n\n<p>(*): of course it doesn't get replaced in the filesystem, but the module will just use it as the temporary location/path</p>\n"}], "owner": {"reputation": 59, "user_id": 2676214, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/598076898/picture?type=large", "display_name": "Alex Giunta", "link": "https://stackoverflow.com/users/2676214/alex-giunta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3328, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1476834486, "creation_date": 1476820364, "last_edit_date": 1476821162, "question_id": 40116906, "link": "https://stackoverflow.com/questions/40116906/bypass-host-key-checking-with-netscp", "title": "Bypass host key checking with Net::SCP", "body": "<p>I'm using the Perl <a href=\"https://metacpan.org/pod/Net::SCP\" rel=\"nofollow\"><code>Net::SCP</code></a> module to SCP tarballs to a remote server.</p>\n\n<p>The remote server does not have a static IP, so every time the IP address changes the sending machine would need to accept the host key.</p>\n\n<p>This breaks my script, as now I have to manually accept the host key each time the IP changes. </p>\n\n<p>Is there a way I can have <code>Net::SCP</code> bypass host key checking?</p>\n\n<p>I saw an option with <a href=\"https://metacpan.org/pod/Net::SCP::Expect\" rel=\"nofollow\"><code>Net::SCP::Expect</code></a>, but I'm not sure if I would be required to use this module.</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 1, "creation_date": 1476821848, "post_id": 40115746, "comment_id": 67506128, "body": "As the author of XML::Simple my advice is don&#39;t use XML::Simple.  In fact I even put together <a href=\"http://grantm.github.io/perl-libxml-by-example/\" rel=\"nofollow noreferrer\">Perl XML::LibXML by Example</a> to help people solve their XML problems using libxml."}], "answers": [{"comments": [{"owner": {"reputation": 116, "user_id": 5119598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aeef4b41be9bc77a2662458f47d7da07?s=128&d=identicon&r=PG&f=1", "display_name": "j1nrg", "link": "https://stackoverflow.com/users/5119598/j1nrg"}, "edited": false, "score": 0, "creation_date": 1476822054, "post_id": 40116252, "comment_id": 67506252, "body": "Thank you so much for your response. I found that another way to look at this was to use Dumper to output the file content. From there I was able to derive this same response!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 116, "user_id": 5119598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aeef4b41be9bc77a2662458f47d7da07?s=128&d=identicon&r=PG&f=1", "display_name": "j1nrg", "link": "https://stackoverflow.com/users/5119598/j1nrg"}, "edited": false, "score": 0, "creation_date": 1476822217, "post_id": 40116252, "comment_id": 67506342, "body": "Dumper doesn&#39;t actually help since the structure changes depending on which elements are present. What you see for one XML is not the same you&#39;re going to see for another XML of the same format. Please read the document I linked in my answer!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1476822840, "last_edit_date": 1592644375, "creation_date": 1476818051, "answer_id": 40116252, "question_id": 40115746, "link": "https://stackoverflow.com/questions/40115746/extracting-data-from-xml-tag/40116252#40116252", "title": "Extracting data from XML tag", "body": "<pre><code>$xml-&gt;{personReport}{person1}[1]\n</code></pre>\n<p>should be</p>\n<pre><code>$xml-&gt;{person}{person1}{personId}{content}\n</code></pre>\n<p>If you don't understand why, perhaps you shouldn't be using a module so <a href=\"https://stackoverflow.com/a/33273488/589924\">complex</a> that its author discourages its use.</p>\n<blockquote>\n<p>STATUS OF THIS MODULE</p>\n<p>The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces. In particular, XML::LibXML is highly recommended and XML::Twig is an excellent alternative.</p>\n</blockquote>\n<hr />\n<p>Finding the name of each person using XML::Simple:</p>\n<pre><code># Assumes each person element will have at least one personId child.\n# Assumes each personId element will have a personIdScheme attribute.\n\nfor my $person (values(%{ $xml-&gt;{person} })) {\n   my @data_nodes ref($person-&gt;{personIdScheme}) eq 'ARRAY'\n      ? @{ $person-&gt;{personIdScheme} }\n      : $person-&gt;{personIdScheme};\n\n   my ($name_data_node) = grep { $_-&gt;{personIdScheme} eq 'name' } @data_nodes;\n\n   my $name = $name_data_node-&gt;{content};\n   ...\n}\n</code></pre>\n<p>Finding the name of each person using XML::LibXML:</p>\n<pre><code>for my $person_node ($doc-&gt;findnodes('/personReport/person')) {\n   my $name = $doc-&gt;findvalue('personId[@personIdScheme=&quot;name of&quot;]', $person_node);\n   ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1476879986, "last_edit_date": 1476879986, "creation_date": 1476819373, "answer_id": 40116641, "question_id": 40115746, "link": "https://stackoverflow.com/questions/40115746/extracting-data-from-xml-tag/40116641#40116641", "title": "Extracting data from XML tag", "body": "<p>Pretty much any XML module is superior to <code>XML::Simple</code>, which is anything but simple in use</p>\n\n<p><a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow\"><code>XML::LibXML</code></a> and <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow\"><code>XML::Twig</code></a> are excellent and popular, and both allow you to address the XML document using XPath expressions. Here's a solution using <code>XML::Twig</code></p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;new;\n$twig-&gt;parsefile( 'personReport.xml' );\n\nsay $twig-&gt;findvalue('/personReport/header/creation');\n\nfor my $person ($twig-&gt;findnodes('/personReport/person') ) {\n\n    my $id = $person-&gt;att('id');\n    my $name = $person-&gt;findvalue('personId[@personIdScheme=\"name of\"]');\n\n    say \"$id $name\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>2016-10-15\nperson1 joe\nperson2 sam\n</code></pre>\n"}], "owner": {"reputation": 116, "user_id": 5119598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aeef4b41be9bc77a2662458f47d7da07?s=128&d=identicon&r=PG&f=1", "display_name": "j1nrg", "link": "https://stackoverflow.com/users/5119598/j1nrg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 40116252, "answer_count": 2, "score": 1, "last_activity_date": 1477677076, "creation_date": 1476816161, "last_edit_date": 1477677076, "question_id": 40115746, "link": "https://stackoverflow.com/questions/40115746/extracting-data-from-xml-tag", "title": "Extracting data from XML tag", "body": "<p>I am trying to extract the values from this xml file but can't seem to do it...</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;personReport xmlns=\"...\"&gt;          \n    &lt;header&gt;\n        &lt;creation&gt;2016-10-15&lt;/creation&gt;\n    &lt;/header&gt;\n    &lt;details&gt;\n    ...\n    &lt;/details&gt;\n    &lt;person id=\"person1\"&gt;\n        &lt;personId personIdScheme=\"name of\"&gt;joe&lt;/personId&gt;\n    &lt;/person&gt;\n    &lt;person id=\"person2\"&gt;\n        &lt;personId personIdScheme=\"name of\"&gt;sam&lt;/personId&gt;\n    &lt;/person&gt;\n&lt;/personReport&gt;\n</code></pre>\n\n<p>I am successfully able to extract data from other tags (such as header) using:</p>\n\n<pre><code>my $xml = XMLin($xml_file);\nmy $header = $xml-&gt;{header}\n                  -&gt;{creation};\n</code></pre>\n\n<p>I am trying to do the same thing but get the data (joe) out of <code>&lt;person&gt;</code>...</p>\n\n<pre><code>my $person_type = $xml-&gt;{personReport}\n                      -&gt;{person1}[1];\n</code></pre>\n\n<p>Any idea why this isn't working?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3, "user_id": 5500110, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wutip30PyQ8/AAAAAAAAAAI/AAAAAAAAAs8/NTSbz-V5Vwk/photo.jpg?sz=128", "display_name": "benjamin", "link": "https://stackoverflow.com/users/5500110/benjamin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476816694, "post_id": 40115711, "comment_id": 67503214, "body": "I don&#39;t really see the difference between yours and mine? ... also that portion isn&#39;t the problem."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476816884, "post_id": 40115711, "comment_id": 67503328, "body": "You&#39;re right. But now I think I spotted the error: in the first <code>if</code> you rename a directory from <code>dir 1</code> to <code>dir.1</code> and then do an <code>ls -1d dir 1</code>, i.e. with the old name. But that directory no longer exists. Plus: <code>ls -1d dir 1</code> won&#39;t work if the directory name has spaces in it. Don&#39;t you get any errors?"}, {"owner": {"reputation": 3, "user_id": 5500110, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wutip30PyQ8/AAAAAAAAAAI/AAAAAAAAAs8/NTSbz-V5Vwk/photo.jpg?sz=128", "display_name": "benjamin", "link": "https://stackoverflow.com/users/5500110/benjamin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476817081, "post_id": 40115711, "comment_id": 67503443, "body": "I don&#39;t get errors and yes I thought that too. So does the first move($_, $new) not take immediate effect? Because I thought that when the second if was evaluated the directory would be renamed and reflected in the second array. I&#39;m assuming that&#39;s not the case and am wondering if I could make it so."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476817167, "post_id": 40115711, "comment_id": 67503499, "body": "The <code>-d</code> still works on the magic/hidden/automatic variable <code>$_</code> and that hasn&#39;t changed. Hold on."}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1476817167, "post_id": 40115711, "comment_id": 67503500, "body": "Is <code>$new =~ $_;</code> a typo?"}, {"owner": {"reputation": 3, "user_id": 5500110, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wutip30PyQ8/AAAAAAAAAAI/AAAAAAAAAs8/NTSbz-V5Vwk/photo.jpg?sz=128", "display_name": "benjamin", "link": "https://stackoverflow.com/users/5500110/benjamin"}, "edited": false, "score": 0, "creation_date": 1476817262, "post_id": 40115711, "comment_id": 67503544, "body": "yeah it is, thanks, but isn&#39;t in the actual code"}, {"owner": {"reputation": 3, "user_id": 5500110, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wutip30PyQ8/AAAAAAAAAAI/AAAAAAAAAs8/NTSbz-V5Vwk/photo.jpg?sz=128", "display_name": "benjamin", "link": "https://stackoverflow.com/users/5500110/benjamin"}, "edited": false, "score": 0, "creation_date": 1476817571, "post_id": 40115711, "comment_id": 67503716, "body": "I updated it ... it was just that typo Jim Davis pointed out."}, {"owner": {"reputation": 3, "user_id": 5500110, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wutip30PyQ8/AAAAAAAAAAI/AAAAAAAAAs8/NTSbz-V5Vwk/photo.jpg?sz=128", "display_name": "benjamin", "link": "https://stackoverflow.com/users/5500110/benjamin"}, "edited": false, "score": 0, "creation_date": 1476818281, "post_id": 40115711, "comment_id": 67504069, "body": "oh, I got it ... thanks perlduck .. your comment about the default variable not having changed made me realize my mistake."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476819391, "post_id": 40115711, "comment_id": 67504728, "body": "Did you figure it out already?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476819581, "post_id": 40115711, "comment_id": 67504830, "body": "@PerlDuck yes, I can. If it&#39;s just one line, you should fix it. :)"}], "answers": [{"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 1, "last_activity_date": 1476821474, "last_edit_date": 1476821474, "creation_date": 1476818306, "answer_id": 40116316, "question_id": 40115711, "link": "https://stackoverflow.com/questions/40115711/perl-function-to-replace-all-spaces-in-file-and-directory-names-with-periods/40116316#40116316", "title": "perl function to replace all spaces in file and directory names with periods", "body": "<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nsub rm_space\n{\n    foreach my $file_or_dir (@_) {\n\n        my $with_dots = $file_or_dir;\n        if ( $with_dots =~ tr/ /./ ) {\n            # only called when replacement occurred\n            rename( $file_or_dir, $with_dots );\n        }\n\n        if ( -d $with_dots ) {\n            my @arr = glob(\"$with_dots/*\");\n            rm_space(@arr);\n        }\n    }\n}\n\nrm_space( glob(\"start_dir/*\") );\n</code></pre>\n\n<p>You first renamed a directory from e.g. <code>dir with spaces</code> to <code>dir.with.spaces</code> but then dive into\n<code>dir with spaces</code>. That directory already has gone. You need two variables, one for the old name\nand one for the new one, and then call <code>rm_space</code> on the new name.</p>\n\n<p>Also it's strongly recommended to <code>use strict;</code> and <code>use warnings;</code> to avoid common errors (like typos\nor usage of undefined variables).</p>\n\n<p>I replaced the call to <code>ls</code> with a call to <code>glob</code>. The advantage is that you don't have to care about\nspaces in names then. Your <code>ls -1d dir with spaces/*</code> must have failed.</p>\n\n<p>I also used explicit variables (as opposed to the implicit <code>$_</code>) because it's sometimes hard to figure out\nwhat <code>$_</code> actually contains.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 5500110, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wutip30PyQ8/AAAAAAAAAAI/AAAAAAAAAs8/NTSbz-V5Vwk/photo.jpg?sz=128", "display_name": "benjamin", "link": "https://stackoverflow.com/users/5500110/benjamin"}, "edited": false, "score": 0, "creation_date": 1476829699, "post_id": 40116864, "comment_id": 67509621, "body": "I thought I had it but I didn&#39;t your example seems to be the best. Thanks for simplifying it for me!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1476820520, "last_edit_date": 1476820520, "creation_date": 1476820181, "answer_id": 40116864, "question_id": 40115711, "link": "https://stackoverflow.com/questions/40115711/perl-function-to-replace-all-spaces-in-file-and-directory-names-with-periods/40116864#40116864", "title": "perl function to replace all spaces in file and directory names with periods", "body": "<p>To process files recursively in Perl, use <a href=\"http://p3rl.org/File::Find\" rel=\"nofollow\">File::Find</a>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse File::Find;\n\nmy %rename;\nfind(\\&amp;spaces2dots, shift);\nfor my $old (sort { length $b &lt;=&gt; length $a } keys %rename) {\n    rename $old, $rename{$old}\n        or warn \"Cannot rename $old to $rename{$old}.\\n\";\n}\n\nsub spaces2dots {\n    ( my $new = $File::Find::name ) =~ s{ (?!.*/)}{.}g;\n    $rename{$File::Find::name} = $new;\n}\n</code></pre>\n\n<p>The files are sorted by filename length starting from the longest one, and only spaces after the last <code>/</code> are replaced in each step, so file named <code>a b/c d/e f</code> is renamed to <code>a b/c d/e.f</code>, then its parent directory is renamed to <code>a b/c.d</code>, and finally the <code>a b</code> directory is renamed to <code>a.b</code>.</p>\n\n<p>For completeness, here's the Makefile I used for testing:</p>\n\n<pre><code>run: clean\n    mkdir 'a b' 'c d'\n    mkdir 'a b'/'A B' 'a b'/'C D'\n    mkdir 'a b'/'C D'/'e F'\n    touch 'e f' 'a b'/'E F' 'a b'/'C D'/'e F'/'g H'\n    40115711.pl .\n    find\n\nclean:\n    rm -rf ???\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5500110, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wutip30PyQ8/AAAAAAAAAAI/AAAAAAAAAs8/NTSbz-V5Vwk/photo.jpg?sz=128", "display_name": "benjamin", "link": "https://stackoverflow.com/users/5500110/benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 40116864, "answer_count": 2, "score": 0, "last_activity_date": 1476821474, "creation_date": 1476816081, "last_edit_date": 1476817551, "question_id": 40115711, "link": "https://stackoverflow.com/questions/40115711/perl-function-to-replace-all-spaces-in-file-and-directory-names-with-periods", "title": "perl function to replace all spaces in file and directory names with periods", "body": "<p>I'm not a programmer by trade so I just wanted to put that disclaimer out there. And there is probably a better way of doing this but this is the way I started and I'd like to know why this isn't working.</p>\n\n<p>I have a perl function for replacing spaces with periods in filenames and directories:</p>\n\n<pre><code>sub rm_space {\n    for(@_) {\n    # for directory or file if it contains spaces, replace with periods\n        chomp;\n        if(m/^(.*(.(?=\\s).).*)$/) {\n            $new = $_;\n            $new =~ s/ /\\./g;\n            move($_, $new);\n        }\n        if(-d) {\n        # if $_ is a directory, list contents and repeat\n            @arr = `ls -1d $_/*`;\n            rm_space(@arr);\n        }\n    }\n}   \n</code></pre>\n\n<p>The function will work on everything in the first array (@_) but will not work recursively on the second unless the directory from the first array didn't already contain spaces.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1476812292, "post_id": 40114574, "comment_id": 67500696, "body": "That looks like xpath. Are you trying to manually process xpath queries? (If so, why treat <code>.&#47;</code> differently?)"}, {"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1476813381, "post_id": 40114574, "comment_id": 67501327, "body": "<code>perl -ne &#39;my @sections = split &#47;\\&#47;&#47;, $_; foreach (@sections) { s&#47;^@&#47;&#47;; print $_; print &quot;&#47;&quot; if m&#47;^\\.|\\.$&#47;; print &quot;\\n&quot; unless m&#47;^\\.|\\.$&#47;; }&#39; your_input_file</code> prints your desired output. Sorry for the quick code. It&#39;s been done... quickly"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 0, "creation_date": 1476818148, "post_id": 40114574, "comment_id": 67504001, "body": "@yonyon100: That also splits on slashes preceded by a dot."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1168, "user_id": 3847102, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4f62360dd765afc96ebc508c7af01d2a?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3847102/aaron"}, "edited": false, "score": 0, "creation_date": 1476812426, "post_id": 40114692, "comment_id": 67500789, "body": "My answer still stands"}, {"owner": {"reputation": 1168, "user_id": 3847102, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4f62360dd765afc96ebc508c7af01d2a?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3847102/aaron"}, "edited": false, "score": 0, "creation_date": 1476812659, "post_id": 40114692, "comment_id": 67500940, "body": "This won&#39;t remove the <code>&#47;@</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476812719, "post_id": 40114692, "comment_id": 67500969, "body": "Just regex it out afterwards. Simple substitution. <code>$parts[-1] =~ s{^&#47;@}{}</code>, or with <code>map</code> if it can be in any position."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476812868, "post_id": 40114692, "comment_id": 67501060, "body": "Sorry, I missed that. So you want to split on slashes that aren&#39;t preceded by a dot, and remove the first two characters if the slash is followed by an <code>@</code>? That&#39;s a weird requirement. Try my modification."}, {"owner": {"reputation": 1168, "user_id": 3847102, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4f62360dd765afc96ebc508c7af01d2a?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3847102/aaron"}, "edited": false, "score": 0, "creation_date": 1476812959, "post_id": 40114692, "comment_id": 67501109, "body": "@Borodin Yup it is a weird requirement. Basically remove <code>&#47;</code> and <code>&#47;@</code> but keep <code>.&#47;</code> Thanks for your help. This removes <code>&#47;@</code> but not <code>&#47;</code>. Hah."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476813084, "post_id": 40114692, "comment_id": 67501182, "body": "Your example doesn&#39;t remove <code>&#47;</code>, only <code>&#47;@</code>. Do you want to remove both?"}, {"owner": {"reputation": 1168, "user_id": 3847102, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4f62360dd765afc96ebc508c7af01d2a?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3847102/aaron"}, "edited": false, "score": 0, "creation_date": 1476813139, "post_id": 40114692, "comment_id": 67501206, "body": "@Borodin Yes. My example does remove <code>&#47;</code> if it&#39;s alone and not preceded by <code>.</code>"}, {"owner": {"reputation": 1168, "user_id": 3847102, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4f62360dd765afc96ebc508c7af01d2a?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3847102/aaron"}, "edited": false, "score": 0, "creation_date": 1476813302, "post_id": 40114692, "comment_id": 67501291, "body": "@Borodin Now it does not remove <code>&#47;</code> or <code>&#47;@</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476813443, "post_id": 40114692, "comment_id": 67501370, "body": "Sorry. Try again."}, {"owner": {"reputation": 1168, "user_id": 3847102, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4f62360dd765afc96ebc508c7af01d2a?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3847102/aaron"}, "edited": false, "score": 0, "creation_date": 1476813534, "post_id": 40114692, "comment_id": 67501425, "body": "@Borodin Thank you Genius."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1476818237, "last_edit_date": 1476818237, "creation_date": 1476812360, "answer_id": 40114692, "question_id": 40114574, "link": "https://stackoverflow.com/questions/40114574/split-unique-forward-slash/40114692#40114692", "title": "Split unique forward slash", "body": "<pre><code>use v5.10;\n\nmy $s = './dms:element[@name=\"obj_id\"]/dms:qualifier[@name=\"object_status\"]/@value[obj_id_status]';\n\nmy @parts = split qr|(?&lt;!\\.)/\\@?|, $s;\n\nsay for @parts;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>./dms:element[@name=\"obj_id\"]\ndms:qualifier[@name=\"object_status\"]\nvalue[obj_id_status]\n</code></pre>\n"}], "owner": {"reputation": 1168, "user_id": 3847102, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4f62360dd765afc96ebc508c7af01d2a?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3847102/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 40114692, "answer_count": 1, "score": 0, "last_activity_date": 1476818237, "creation_date": 1476811991, "last_edit_date": 1476812666, "question_id": 40114574, "link": "https://stackoverflow.com/questions/40114574/split-unique-forward-slash", "title": "Split unique forward slash", "body": "<pre><code> ./dms:element[@name=\"obj_id\"]/dms:qualifier[@name=\"object_status\"]/@value[obj_id_status]\n</code></pre>\n\n<p>Trying to split the string so that the result comes out as</p>\n\n<pre><code>./dms:element[@name=\"obj_id\"]\ndms:qualifier[@name=\"object_status\"]\nvalue[obj_id_status]\n</code></pre>\n\n<p>Is there a way to do this with regex? I want to split when <code>/</code> is alone, but not split <code>./</code> and also remove <code>/@</code>.</p>\n"}, {"tags": ["xml", "oracle", "perl", "stored-procedures"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476811838, "post_id": 40114155, "comment_id": 67500433, "body": "You shouldn&#39;t use ampersands <code>&amp;</code> to call Perl subroutines; that hasn&#39;t been good practice for about twenty years now. Wherever you learned to do that is extremely out of date and you should find a more recent source. You should also <code>use warnings &#39;all&#39;</code> in addition to <code>use strict</code>, and your package names and their associated files should be capitalised, so <code>util::File</code> should be <code>Util::File</code> etc."}, {"owner": {"reputation": 3, "user_id": 7037716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86e7f160b20ddc676cf23e6e72fe13f9?s=128&d=identicon&r=PG&f=1", "display_name": "Booshman", "link": "https://stackoverflow.com/users/7037716/booshman"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476821340, "post_id": 40114155, "comment_id": 67505849, "body": "Thank you Borodin for your suggestion, I will definitely make those changes."}], "answers": [{"tags": [], "owner": {"reputation": 1905, "user_id": 6933975, "user_type": "registered", "profile_image": "https://graph.facebook.com/344790212524264/picture?type=large", "display_name": "Michael Piankov", "link": "https://stackoverflow.com/users/6933975/michael-piankov"}, "is_accepted": true, "score": 0, "last_activity_date": 1476812271, "last_edit_date": 1476812271, "creation_date": 1476811294, "answer_id": 40114390, "question_id": 40114155, "link": "https://stackoverflow.com/questions/40114155/pass-an-xml-file-as-a-parameter-to-an-oracle-stored-procedure/40114390#40114390", "title": "Pass an XML file as a parameter to an Oracle stored procedure", "body": "<p>I think first of all you should write a file to variable if it not so big. Next you should specify binds I called them as procedure params :p_xml, :p_out_xml, :p_message, :p_result, but you may use any names. And you should create a variable for output values  \\$p_out_xml, \\$p_message\\$p_result</p>\n\n<pre><code>...\nmy $xml; \nwhile (&lt;RFILE&gt;) {\n  $xml.= $_;\n}\n\n$sth = $dbh-&gt;prepare( \"BEGIN My_Procedure (:p_xml,\n                                           :p_out_xml,\n                                           :p_message,\n                                           :p_result); END;\" );\n$sth-&gt;bind_param(\"p_xml\", $xml, { ora_type =&gt; ORA_XMLTYPE });\n\nmy $p_out_xml; \nmy $p_message; \nmy $p_result; \n\n$sth-&gt;bind_param_inout(\"p_out_xml\", \\$p_out_xml, { ora_type =&gt; ORA_XMLTYPE } ); \n$sth-&gt;bind_param_inout(\"p_message\", \\$p_message );\n$sth-&gt;bind_param_inout(\"p_result\", \\$p_result);\n\n$sth-&gt;execute(  );\n... \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7037716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86e7f160b20ddc676cf23e6e72fe13f9?s=128&d=identicon&r=PG&f=1", "display_name": "Booshman", "link": "https://stackoverflow.com/users/7037716/booshman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1929, "favorite_count": 0, "accepted_answer_id": 40114390, "answer_count": 1, "score": 0, "last_activity_date": 1476989132, "creation_date": 1476810314, "last_edit_date": 1476989132, "question_id": 40114155, "link": "https://stackoverflow.com/questions/40114155/pass-an-xml-file-as-a-parameter-to-an-oracle-stored-procedure", "title": "Pass an XML file as a parameter to an Oracle stored procedure", "body": "\n\n<p>I am trying to pass an XML file as a parameter as an XMLType to an Oracle stored procedure using a Perl script.</p>\n\n<p>I am using Perl <code>DBI</code> and <code>DBD::Oracle</code> modules.</p>\n\n<p>I did my research and found how to do this in bits and pieces, but I'm not sure how to put everything together to achieve what I want.</p>\n\n<p>Do I pass the XML data contained in the file to <code>$xml</code> as a String or CLOB?</p>\n\n<p>Most of the XML parsing and table updates is in the stored procedure.</p>\n\n<p>This is how far I have got. I have not tried to execute the script as I know it is incomplete.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/local/bin/perl\n\n###############################################################################\n# File Name:            load_data.pl\n# Description:          Reads an input XML file and populates data into tables\n\n\nuse strict;\n\nuse Getopt::Std;\nuse DBI;\nuse DBD::Oracle qw(:ora_types);\n\n# Properties file parser\n#\nuse util::File;\nuse use util::DotConfigProperties;\n\n# Generic Utilities\n#\nuse util::GenericUtils qw(getEnv isPath isFile trim );\n\n# Flush output buffers\n#\n$| = 1;\n\n#############################################################################\n# Local Variables\n\nmy %args = (\n AutoCommit =&gt; 0,\n RaiseError =&gt; 1,\n PrintError =&gt; 1\n);\n\n\nmy $aConfig = &amp;isFile( &amp;getEnv('aConfig') );\n\n# Get the DB properties and open the database connection\n#\n\nmy $propObj     = new util::DotConfigProperties;\nmy $a_prop      = new util::File($aConfig);\n$propObj-&gt;load($a_prop);\n\nmy $dbSid       = trim($propObj-&gt;getProperty('Database'));\nmy $user        = trim($propObj-&gt;getProperty('Username'));\nmy $password        = trim($propObj-&gt;getProperty('Password'));\n\nmy $dbh = DBI-&gt;connect(\"dbi:Oracle:$dbSid\", $user, $password, \\%args) or croak(\"Couldn't connect to database: $dbSid\" . DBI-&gt;errstr);\n\n#############################################################################\n# Input file\nopen(RFILE,\"@ARGV[0]\") or die(\"Unable to open read file\");\n\n#\n# Read in the data from input file\n# \nwhile (&lt;RFILE&gt;) {\n\n$sth = $dbh-&gt;prepare( \"BEGIN My_Procedure (p_xml in xmltype,\n                                           p_out_xml out xmltype,\n                                           p_message out varchar2,\n                                           p_result out integer); END;\" );\n\n$sth-&gt;bind_param(\"p_xml\", **$xml**, { ora_type =&gt; ORA_XMLTYPE });\n$sth-&gt;bind_param_inout( ?, \\$p_out_xml, ? ); --**I am not sure what to put in place of the question marks?**\n$sth-&gt;bind_param_inout( ?, \\$p_message, ? );\n$sth-&gt;bind_param_inout( ?, \\$p_result, ? );\n$sth-&gt;execute(  );\n}\n\n$dbh-&gt;commit();\n\n###############################################################################\n# Close anything open and exit\n\n$dbh-&gt;disconnect();\n\nexit;\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>I made the changes that @MichaelPiankov mentioned and made some modifications. This is the result</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>my $xml; \nwhile (&lt;RFILE&gt;) {\n  $xml.= $_;\n}\n\nmy $sth = $dbh-&gt;prepare( \"BEGIN My_Procedure(:p_xml,\n                                           :p_out_xml,\n                                           :p_message,\n                                           :p_result); END;\" );\n$sth-&gt;bind_param(\":p_xml\", $xml, { ora_type =&gt; ORA_XMLTYPE });\n\nmy $p_out_xml; \nmy $p_message; \nmy $p_result; \n\n$sth-&gt;bind_param_inout(\":p_out_xml\", \\$p_out_xml, { ora_type =&gt; ORA_XMLTYPE } ); \n$sth-&gt;bind_param_inout(\":p_message\", \\$p_message, { ora_type =&gt; ORA_VARCHAR2 }  );\n$sth-&gt;bind_param_inout(\":p_result\", \\$p_result, { ora_type =&gt; ORA_NUMBER } );\n\n$sth-&gt;execute(  );\n\nprint \"Out_XML: $p_out_xml\\n\";\nprint \"Message: $p_message\\n\";\nprint \"Result: $p_result\\n\";\n\n$dbh-&gt;commit();    \n###############################################################################\n# Close anything open and exit\n$dbh-&gt;disconnect();\nexit;\n</code></pre>\n\n<h3>error</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>DBD::Oracle::st execute failed: ORA-06550: line 1, column 7:\nPLS-00306: wrong number or types of arguments in call to 'My_Procedure'\nORA-06550: line 1, column 7:\nPL/SQL: Statement ignored (DBD ERROR: error possibly near &lt;*&gt; indicator at char 6 in 'BEGIN &lt;*&gt;My_Procedure(:p_xml,\n                                           :p_out_xml,\n                                           :p_message,\n                                           :p_result); END;') [for Statement \"BEGIN My_Procedure(:p_xml,\n                                           :p_out_xml,\n                                           :p_message,\n                                           :p_result); END;\" with ParamValues: :p_xml=OCIXMLTypePtr=SCALAR(0x9085170), :p_message=undef, :p_out_xml=undef, :p_result=undef] at load_tables.pl line 45, &lt;RFILE&gt; line 46947.\nOut_XML:\nMessage:\nResult:\ncommit ineffective with AutoCommit enabled at load_tables.pl line 51, &lt;RFILE&gt; line 46947.\n</code></pre>\n\n<h3>2nd Update</h3>\n\n<p>I ended up removing the out parameters and was successful in loading the XML file which was my goal as this was part of testing some stored procedure code. I do want to give credit to @MichaelPiankov as his code helped me load the file.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>my $xml; \nwhile (&lt;RFILE&gt;) {\n  $xml.= $_;\n}\n\nmy $sth = $dbh-&gt;prepare( \"BEGIN My_Procedure(:p_xml); END;\" );\n$sth-&gt;bind_param(\":p_xml\", $xml, { ora_type =&gt; ORA_XMLTYPE });\n\n$sth-&gt; execute();\n</code></pre>\n"}, {"tags": ["perl", "teamcity", "fetch"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476809780, "post_id": 40112681, "comment_id": 67499301, "body": "So the script doesn&#39;t exit?  Then you <i>are</i> getting a warning?  You can control it by localizing the <code>$SIG{__WARN__}</code>."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1476855530, "post_id": 40114084, "comment_id": 67516275, "body": "@duskwuff  Thank you for the edit. I copied from docs and never noticed that (the ciritical) parts were unformatted. Thank you!"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 0, "last_activity_date": 1498866417, "last_edit_date": 1498866417, "creation_date": 1476810121, "answer_id": 40114084, "question_id": 40112681, "link": "https://stackoverflow.com/questions/40112681/can-i-suppress-error-message-from-fetch-pm-in-perl/40114084#40114084", "title": "Can i suppress error message from fetch.pm in Perl", "body": "<p>It seems that the problem is a warning (message) being printed to <code>STDERR</code>. Apparently you are not getting a <code>die</code> or the program would exit. You can control the process of printing the message by setting the <code>$SIG{__WARN__}</code> hook, best localized in a block.</p>\n\n<pre><code>my $where;\n\nFETCH: {\n\n    local $SIG{__WARN__} = sub { \n        print \"WARN: @_\";        # or whatever appropriate\n    };\n\n    $where = $ff-&gt;fetch   ( to =&gt; \"$DOWNLOAD_LOCATION\" );    \n};\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $where = do { \n    local $SIG{__WARN__} = sub { print \"WARN: @_\" };\n    $ff-&gt;fetch;\n};\n</code></pre>\n\n<p>The signal's disposition &ndash; to print to <code>STDERR</code> &ndash; is restored outside of the block, which is what <code>local</code> provides.  See <a href=\"http://perldoc.perl.org/perlsub.html#Temporary-Values-via-local%28%29\" rel=\"nofollow noreferrer\">this in perlsub</a>, in particular text right after \"<em>Synopsis</em>\". You can also do that manually by saying <code>$SIG{__WARN__} = 'DEFAULT';</code> once you are done.</p>\n\n<p>See <a href=\"http://perldoc.perl.org/functions/warn.html\" rel=\"nofollow noreferrer\">warn</a></p>\n\n<blockquote>\n  <p>No message is printed if there is a <code>$SIG{__WARN__}</code> handler installed. It is the handler's responsibility to deal with the message as it sees fit (like, for instance, converting it into a die). </p>\n</blockquote>\n\n<p>Also see <code>%SIG</code> entry <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\">in perlvar</a></p>\n\n<blockquote>\n  <p>The routine indicated by <code>$SIG{__WARN__}</code> is called when a warning message is about to be printed. The warning message is passed as the first argument. The presence of a <code>__WARN__</code> hook causes the ordinary printing of warnings to STDERR to be suppressed.</p>\n</blockquote>\n\n<hr>\n\n<p>While deciding what to call an \"error\" and what a \"warning\" may be a bit arbitrary, it appears clear that your program only emits a message to <code>STDERR</code> and continues. Then the above should suffice.</p>\n\n<p>If you were being hit by a <code>die</code> then you could wrap the code in <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\">eval</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 0, "last_activity_date": 1476832619, "creation_date": 1476832619, "answer_id": 40119564, "question_id": 40112681, "link": "https://stackoverflow.com/questions/40112681/can-i-suppress-error-message-from-fetch-pm-in-perl/40119564#40119564", "title": "Can i suppress error message from fetch.pm in Perl", "body": "<p>As <a href=\"https://metacpan.org/pod/File::Fetch#File::Fetch::WARN\" rel=\"nofollow\">the documentation</a> explains, just set</p>\n\n<pre><code>$File::Fetch::WARN = 0;\n</code></pre>\n\n<p>to suppress warnings.</p>\n"}], "owner": {"reputation": 575, "user_id": 2413767, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9380d059e6b721c893f451abd941fcd1?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2413767/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 40114084, "answer_count": 2, "score": 1, "last_activity_date": 1498866417, "creation_date": 1476805617, "question_id": 40112681, "link": "https://stackoverflow.com/questions/40112681/can-i-suppress-error-message-from-fetch-pm-in-perl", "title": "Can i suppress error message from fetch.pm in Perl", "body": "<p>When using Fetch to download a url from Teamcity I get a Fetch failed! error. But the download of the file actually works. </p>\n\n<p>They have recently changed permissions of our Teamcity server so i've to use a username and password when obtaining the URL of the file to download. I'm just wondering if this is causing an issue with fetch's validation of the Gateway, but as I can download the file. Is there a way to suppress this error or just downgrade it to a warning? </p>\n\n<pre><code>Perl Code:\nmy $ff = File::Fetch-&gt;new(uri =&gt; \"$uri\"); \nmy $where = $ff-&gt;fetch   ( to =&gt; \"$DOWNLOAD_LOCATION\" );\nprint Dumper($ff);\n\nOutput:    \nFetch failed! HTTP response: 502 Bad Gateway [502 notresolvable] at         \n&lt;path&gt;\\myfile.pl line 249.\n\nDumper Output:\n$VAR1 = bless( {'vol' =&gt; '',\n                'file_default' =&gt; 'file_default',\n                '_error_msg' =&gt; 'Fetch failed! HTTP response: 502 Bad Gateway [502 notresolvable]',\n                'file' =&gt; 'myfilename.zip',\n                'scheme' =&gt; 'http',\n                'path' =&gt; '/repository/download/buildlabel/1042086:id/',\n                '_error_msg_long' =&gt; 'Fetch failed! HTTP response: 502 Bad    Gateway [502 notresolvable] at C:/Perl/lib/File/Fetch.pm line 598.\n</code></pre>\n"}, {"tags": ["postgresql", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476805285, "post_id": 40109308, "comment_id": 67496571, "body": "Think of <code>?</code> as a variable or a field name."}], "answers": [{"comments": [{"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 2, "creation_date": 1476807977, "post_id": 40109505, "comment_id": 67498298, "body": "Furthermore, <code>&quot;?&quot;</code> isn&#39;t a string literal in (standard) SQL, that&#39;s a quoted identifier so the database would complain about &quot;unknown column <code>?</code>&quot; if you did manage to get past the <code>execute</code> call. Same solution of course but one bug was hiding another bug."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 6, "last_activity_date": 1476808165, "last_edit_date": 1476808165, "creation_date": 1476796910, "answer_id": 40109505, "question_id": 40109308, "link": "https://stackoverflow.com/questions/40109308/why-do-i-get-the-error-called-with-1-bind-variables-when-0-are-needed-when-i-t/40109505#40109505", "title": "Why do I get the error &quot;called with 1 bind variables when 0 are needed&quot; when I try to execute a query with DBI?", "body": "<p>You current query is testing whether <code>SUBSTRING(CAST(id AS text),1,6)</code> matches the <strike>literal string</strike> suspiciously-named quoted identifier <code>\"?\"</code>. So don't quote the <code>?</code>, even when the bind parameter has a string type:</p>\n\n<pre><code>SELECT * FROM subject WHERE SUBSTRING(CAST(id AS text),1,6) = ?\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 1445977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad2bfd7721b64ca7751e1d1c190359ef?s=128&d=identicon&r=PG", "display_name": "user1445977", "link": "https://stackoverflow.com/users/1445977/user1445977"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2071, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476808165, "creation_date": 1476796387, "last_edit_date": 1476800897, "question_id": 40109308, "link": "https://stackoverflow.com/questions/40109308/why-do-i-get-the-error-called-with-1-bind-variables-when-0-are-needed-when-i-t", "title": "Why do I get the error &quot;called with 1 bind variables when 0 are needed&quot; when I try to execute a query with DBI?", "body": "<p>I'm trying to select some rows from a table (PostgreSQL) using the following code:</p>\n\n<pre><code>my $kadadbh = DBI-&gt;connect(\n    \"dbi:Pg:dbname=$dbname;host=$host\",\n    $dbuser,\n    $dbpasswd\n);\n\nmy $subject_nar_sel= $kadadbh-&gt;prepare(\n    'SELECT * FROM subject WHERE SUBSTRING(CAST(id AS text),1,6) = \"?\";'\n);\n\n$nar=605812;\n$subject_nar_sel-&gt;execute($nar);\n</code></pre>\n\n<p>But I get an error:</p>\n\n<blockquote>\n  <p>called with 1 bind variables when 0 are needed at ...</p>\n</blockquote>\n\n<p>I get the same error when I swap the single and double quotes:</p>\n\n<pre><code>\"SELECT * FROM subject WHERE SUBSTRING(CAST(id AS text),1,6) = '?';\"\n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["perl", "unix", "cron"], "comments": [{"owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "edited": false, "score": 2, "creation_date": 1476795257, "post_id": 40108818, "comment_id": 67488869, "body": "This might have an answer - similar question from not so long ago. <a href=\"http://stackoverflow.com/questions/40021131/detecting-that-files-are-being-copied-in-a-folder/40021570#40021570\" title=\"detecting that files are being copied in a folder\">stackoverflow.com/questions/40021131/&hellip;</a>"}, {"owner": {"reputation": 73, "user_id": 4044640, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002893390502/picture?type=large", "display_name": "Azarudeen", "link": "https://stackoverflow.com/users/4044640/azarudeen"}, "edited": false, "score": 0, "creation_date": 1476796939, "post_id": 40108818, "comment_id": 67490155, "body": "I couldn&#39;t use flock.I need another way to do this."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1476802339, "post_id": 40108818, "comment_id": 67494373, "body": "Why do you say that you can&#39;t use <code>flock()</code>?"}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1476803028, "post_id": 40108818, "comment_id": 67494909, "body": "If you can&#39;t use flock (for whatever reasons) you could use on of the numerous PID-Packages from CPAN, e.g. File::PID. Take a look @ <a href=\"http://stackoverflow.com/a/2232997/2678168\">stackoverflow.com/a/2232997/2678168</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1476805904, "post_id": 40108818, "comment_id": 67496998, "body": "Re &quot;<i>I couldn&#39;t use flock in my script.</i>&quot;, Why not? It does exactly what you asked. If you don&#39;t tell us what your needs are, how do you expect us to fulfill them?"}, {"owner": {"reputation": 4346, "user_id": 6375113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JHg5K.jpg?s=128&g=1", "display_name": "Bugs", "link": "https://stackoverflow.com/users/6375113/bugs"}, "edited": false, "score": 0, "creation_date": 1498201614, "post_id": 40108818, "comment_id": 76412533, "body": "I appreciate this has been marked as a duplicate however solutions are supposed to be provided as answers not added into the question."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 4044640, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002893390502/picture?type=large", "display_name": "Azarudeen", "link": "https://stackoverflow.com/users/4044640/azarudeen"}, "edited": false, "score": 0, "creation_date": 1476797062, "post_id": 40108854, "comment_id": 67490238, "body": "Apart from flock() is there any other way in which I can achieve this?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 73, "user_id": 4044640, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002893390502/picture?type=large", "display_name": "Azarudeen", "link": "https://stackoverflow.com/users/4044640/azarudeen"}, "edited": false, "score": 2, "creation_date": 1476802968, "post_id": 40108854, "comment_id": 67494862, "body": "You specifically ask about how to lock a file. <code>flock</code> is how you do that. Alternatives... well, there&#39;s many, but &quot;it depends&quot;."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 73, "user_id": 4044640, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002893390502/picture?type=large", "display_name": "Azarudeen", "link": "https://stackoverflow.com/users/4044640/azarudeen"}, "edited": false, "score": 1, "creation_date": 1476803101, "post_id": 40108854, "comment_id": 67494966, "body": "@Azarudeen: &quot;Apart from flock() is there any other way in which I can achieve this?&quot; I wrote three alternatives in <a href=\"http://stackoverflow.com/a/40109125/7231\">my answer</a>. We might be able to help more if you explained why you can&#39;t use <code>flock()</code>."}, {"owner": {"reputation": 73, "user_id": 4044640, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002893390502/picture?type=large", "display_name": "Azarudeen", "link": "https://stackoverflow.com/users/4044640/azarudeen"}, "edited": false, "score": 0, "creation_date": 1477401878, "post_id": 40108854, "comment_id": 67744357, "body": "I tried to use lock. But even when I use flock I can move that file into other location. Is this the excepted behavior of flock()"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1477402396, "post_id": 40108854, "comment_id": 67744747, "body": "Yes. All unix locking semantics - <code>flock</code> included - are advisory. Both processes need to check for locks."}, {"owner": {"reputation": 73, "user_id": 4044640, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002893390502/picture?type=large", "display_name": "Azarudeen", "link": "https://stackoverflow.com/users/4044640/azarudeen"}, "edited": false, "score": 0, "creation_date": 1477404190, "post_id": 40108854, "comment_id": 67746184, "body": "I get error as could not lock file."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1476795222, "creation_date": 1476795222, "answer_id": 40108854, "question_id": 40108818, "link": "https://stackoverflow.com/questions/40108818/how-to-hidden-or-lock-file-until-task-executed-fully/40108854#40108854", "title": "How to hidden or lock file until task executed fully", "body": "<p>I'd suggest take a look at <a href=\"http://perldoc.perl.org/functions/flock.html\" rel=\"nofollow\"><code>flock</code></a> - it lets you set an <em>advisory</em> lock on a file. But provided both your script and the cron job request a lock, then one will block the other until the lock is released (when the files is closed). </p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 4044640, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002893390502/picture?type=large", "display_name": "Azarudeen", "link": "https://stackoverflow.com/users/4044640/azarudeen"}, "edited": false, "score": 0, "creation_date": 1476796986, "post_id": 40109125, "comment_id": 67490188, "body": "1.Even I write by different name it will take that file(Cron script will take whichever file is in particular folder)"}, {"owner": {"reputation": 73, "user_id": 4044640, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002893390502/picture?type=large", "display_name": "Azarudeen", "link": "https://stackoverflow.com/users/4044640/azarudeen"}, "edited": false, "score": 0, "creation_date": 1476797019, "post_id": 40109125, "comment_id": 67490205, "body": "3.I couldn&#39;t use lock file feature here."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1476795933, "creation_date": 1476795933, "answer_id": 40109125, "question_id": 40108818, "link": "https://stackoverflow.com/questions/40108818/how-to-hidden-or-lock-file-until-task-executed-fully/40109125#40109125", "title": "How to hidden or lock file until task executed fully", "body": "<p>There are several ways to do this.</p>\n\n<ol>\n<li>Have the process that writes the file write it as a different name and only rename it to the expected name once the data has all been written.</li>\n<li>Have the process that writes the file write another marker file once all the data has been written. Have your process which reads the file check for the existence of the marker file before reading the data file.</li>\n<li>Use the standard Unix file locking feature. Perl has the <a href=\"http://perldoc.perl.org/functions/flock.html\" rel=\"nofollow\"><code>flock()</code></a> function which implements this.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1476797732, "creation_date": 1476797732, "answer_id": 40109806, "question_id": 40108818, "link": "https://stackoverflow.com/questions/40108818/how-to-hidden-or-lock-file-until-task-executed-fully/40109806#40109806", "title": "How to hidden or lock file until task executed fully", "body": "<p>One way to do this would be for the non-cron script to remove the production file when it first starts, write to a temporary file, then when it's done its work, copy the temp file to the prod file location. In the example code, the temp file will be removed by default when the script finishes.</p>\n\n<p>Then, in the script that attempts to read the file at 5pm, have it loop and sleep until the prod file exists:</p>\n\n<p>The script that writes the file:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse File::Copy;\nuse File::Temp qw(tempfile);\n\nmy $prod_file = 'prod_dir/prod.txt';\nunlink $prod_file or die $! if -e $prod_file;\n\nmy $tfh = File::Temp-&gt;new(UNLINK =&gt; 1);\n\nwhile (...){\n    ...;\n    print $tfh \"whatever\\n\";\n}\n\ncopy $tfh-&gt;filename, $prod_file or die $!;\n</code></pre>\n\n<p>The script that reads the file at 1700 hrs:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $file = 'prod_dir/prod.txt';\n\nwhile (! -e $file){\n    sleep 10;\n}\n\nopen my $fh, '&lt;', $file or die $!;\n\nwhile (&lt;$fh&gt;){\n    ...; # do stuff\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 4044640, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002893390502/picture?type=large", "display_name": "Azarudeen", "link": "https://stackoverflow.com/users/4044640/azarudeen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "closed_date": 1476802886, "accepted_answer_id": 40109125, "answer_count": 3, "score": -1, "last_activity_date": 1498201533, "creation_date": 1476795106, "last_edit_date": 1498201533, "question_id": 40108818, "link": "https://stackoverflow.com/questions/40108818/how-to-hidden-or-lock-file-until-task-executed-fully", "closed_reason": "Duplicate", "title": "How to hidden or lock file until task executed fully", "body": "<p>I have Perl script which will run for some time.\nIt created file and write some data into it.\nI also have another Cron job which happens at 5.00 PM everyday.</p>\n\n<p>My problem comes when my 1st script runs on 5.00 PM.\nEven when it is running(means that file don't have all details),it picks file from specified path.</p>\n\n<p>How to prevent this?</p>\n\n<p>I couldn't use flock in my script.\nI need another way to do this.</p>\n"}, {"tags": ["git", "perl", "version-control", "migration"], "comments": [{"owner": {"reputation": 13144, "user_id": 341291, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/LmEnh.jpg?s=128&g=1", "display_name": "Axel", "link": "https://stackoverflow.com/users/341291/axel"}, "edited": false, "score": 0, "creation_date": 1476795028, "post_id": 40107338, "comment_id": 67488690, "body": "&quot;the responsible developers didnt use versioning&quot; - responsible developers always use versioning."}, {"owner": {"reputation": 308, "user_id": 3398775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNdK8.jpg?s=128&g=1", "display_name": "nmanh", "link": "https://stackoverflow.com/users/3398775/nmanh"}, "reply_to_user": {"reputation": 13144, "user_id": 341291, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/LmEnh.jpg?s=128&g=1", "display_name": "Axel", "link": "https://stackoverflow.com/users/341291/axel"}, "edited": false, "score": 0, "creation_date": 1476805550, "post_id": 40107338, "comment_id": 67496752, "body": "I completely agree with you... well they kinda used their own kind of &quot;versioning&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 308, "user_id": 3398775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNdK8.jpg?s=128&g=1", "display_name": "nmanh", "link": "https://stackoverflow.com/users/3398775/nmanh"}, "edited": false, "score": 0, "creation_date": 1478186985, "post_id": 40108691, "comment_id": 68061090, "body": "Thank you. Actually we did it similar thanks to your idea. Our idea using git-fast-import was kinda wrong."}], "tags": [], "owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "is_accepted": true, "score": 2, "last_activity_date": 1476794791, "creation_date": 1476794791, "answer_id": 40108691, "question_id": 40107338, "link": "https://stackoverflow.com/questions/40107338/migrate-from-flatfiles-library-01-pm-library-02-pm-to-git/40108691#40108691", "title": "Migrate from flatfiles (library.01.pm, library.02.pm ...) to Git", "body": "<p>I would use perl to read a file structure and write a new scripit which can be replayed in git bash (which also comes with perl).</p>\n\n<p>Here is an example of a script that would work</p>\n\n<p>I start with an old file structure and an git structure as a directory structure only.  From my git folder I use the find command to find all the files in the old structure, then iterate over them in the perl script.</p>\n\n<pre><code>G01103266@BDSPUKL70343008 /cygdrive/c/work/temp/git\n$ find ../old/\n../old/\n../old/libs\n../old/libs/config\n../old/libs/config/config_file_01.pm\n../old/libs/config/config_file_02.pm\n../old/libs/config/config_file_03.pm\n../old/libs/lib_file.01.pm\n../old/libs/lib_file.02.pm\n../old/libs/lib_file.03.pm\n</code></pre>\n\n<p>Then using the perl script:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse English;\n\nprint \"hello greg\\n\";\n\nundef $/;\n\nmy $content = &lt;ARGV&gt;;\nmy @files = split(/\\n/,$content);\nfor my $tag ('01','02','03') {\n        for my $file (@files) {\n                if ($file =~ /$tag/) {\n                        my $newFile = $file;\n                        $newFile =~ s/_$tag//sg;\n                        $newFile =~ s/..\\/old\\///sg;\n                        print \"cp$_  $file  $newFile\\n\";\n                }\n        }\n        print \"git add --all\\n\";\n        print \"git commit -a -m \\\"commint from tag $tag\\\"\\n\";\n}\n</code></pre>\n\n<p>Which create the following replay script:</p>\n\n<pre><code>G01103266@BDSPUKL70343008 /cygdrive/c/work/temp/git\nfind ../old/ | ../import.pl\nhello greg\ncp  ../old/libs/config/config_file_01.pm  libs/config/config_file.pm\ncp  ../old/libs/lib_file.01.pm  libs/lib_file.01.pm\ngit add --all\ngit commit -a -m \"commint from tag 01\"\ncp  ../old/libs/config/config_file_02.pm  libs/config/config_file.pm\ncp  ../old/libs/lib_file.02.pm  libs/lib_file.02.pm\ngit add --all\ngit commit -a -m \"commint from tag 02\"\ncp  ../old/libs/config/config_file_03.pm  libs/config/config_file.pm\ncp  ../old/libs/lib_file.03.pm  libs/lib_file.03.pm\ngit add --all\ngit commit -a -m \"commint from tag 03\"\n</code></pre>\n"}], "owner": {"reputation": 308, "user_id": 3398775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNdK8.jpg?s=128&g=1", "display_name": "nmanh", "link": "https://stackoverflow.com/users/3398775/nmanh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 40108691, "answer_count": 1, "score": 1, "last_activity_date": 1608971654, "creation_date": 1476791029, "last_edit_date": 1608971654, "question_id": 40107338, "link": "https://stackoverflow.com/questions/40107338/migrate-from-flatfiles-library-01-pm-library-02-pm-to-git", "title": "Migrate from flatfiles (library.01.pm, library.02.pm ...) to Git", "body": "<p>I started to work in an legacy environment where the responsible developers didn't use versioning.\nHe kind of used his own versioning, by saving the written files in a ascending way.</p>\n<p>For example:</p>\n<p>First version: Library.01.pm</p>\n<p>Second Version: Library.02.pm</p>\n<p>Currently everything is saved in a folder which can be nested.</p>\n<blockquote>\n<p>-&gt;libs (directory)</p>\n<p>--&gt; parser.pm (file)</p>\n<p>--&gt; config (directory)</p>\n<p>----&gt; general.pm (file in subdirectory)</p>\n</blockquote>\n<p>and so on.</p>\n<p>Our goal is to take our &quot;versioning&quot; to Git. Our current idea is to take the existing versions and subdirectory structure and make a commit for each version.\nWe tried git-fast-import, but couldn't take the existing folder structure with us. Maybe this is wrong approach anyway.</p>\n<p>What do think about that idea?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1476783922, "post_id": 40104772, "comment_id": 67481237, "body": "Your regex is wrong. <code>&quot;PM*C&quot;</code> matches a literal P, followed by 0-n letters M, followed by a C. So it would match <code>PC</code>, <code>PMC</code>, <code>PMMC</code>, <code>PMMMMMC</code> etc."}, {"owner": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476784006, "post_id": 40104772, "comment_id": 67481302, "body": "@PerlDuck thanks for that.. could you help me correct it?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476784146, "post_id": 40104772, "comment_id": 67481380, "body": "Your problem has nothing to do with using scalars. <code>&quot;PM_MY_CALC&quot; =~ &#47;PM*C&#47;</code> doesn&#39;t match either."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476784283, "post_id": 40104772, "comment_id": 67481483, "body": "@PerlDuck Already retracted. I do think OP did a less-than-optimal job describing what the actual problem is and why exactly the linked question is not a duplicate."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1476784401, "post_id": 40104772, "comment_id": 67481573, "body": "@ArunMKumar A genuinuly well-meant comment -- please read up on basics. You got tripped by what <code>*</code> means in a regex. The whole topic is tricky, one <i>has to</i> go through basics first."}, {"owner": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476784748, "post_id": 40104772, "comment_id": 67481856, "body": "@zdim thanks I will..."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 4, "creation_date": 1476785572, "post_id": 40104772, "comment_id": 67482397, "body": "All your &quot;READ THE QUESTION&quot; and &quot;please save your time and ego&quot; comments aren&#39;t really going to encourage people to answer your question. You might consider removing those."}, {"owner": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476785864, "post_id": 40104772, "comment_id": 67482583, "body": "hi @DaveCross Common sense dictates that what you say is the right thing to do... but surprisingly this is my second post, When I asked the question, It got marked as duplicate within 10-20 Seconds. IDK how on earth someone can analyze it that fast..  but look here, I have the answer and have such good fellows helping me with it.. Not the most polite way to ask question but hey.. it worked..."}, {"owner": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "edited": false, "score": 0, "creation_date": 1476785939, "post_id": 40104772, "comment_id": 67482644, "body": "Not a regular at SO , could not find my answer anywhere so used SO as my last resort, but that is a different topic altogether as to why I don&#39;t visit stackoverflow.. and why everyone else is better.."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1476787351, "post_id": 40104772, "comment_id": 67483504, "body": "@ArunMKumar: I agree that your previous question shouldn&#39;t have need closed as a duplicate. I&#39;ve reopened it and left a comment saying that."}, {"owner": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476788276, "post_id": 40104772, "comment_id": 67484060, "body": "Thanks.. @DaveCross"}], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1476784064, "post_id": 40104896, "comment_id": 67481340, "body": "If you need to match &quot;really anything&quot;, also add the <code>&#47;s</code> flag. :-)"}, {"owner": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "edited": false, "score": 0, "creation_date": 1476784298, "post_id": 40104896, "comment_id": 67481492, "body": "cool, thanks guys.. One question here.. your solution returns true even if i do var as &quot;PMC_MY_CALC_IS_FINE&quot; .  I want the regex to match till the end of the string.. how do i do that?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "edited": false, "score": 1, "creation_date": 1476784410, "post_id": 40104896, "comment_id": 67481584, "body": "@ArunMKumar <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\"><code>perldoc perlretut</code></a> (look for &quot;anchor&quot;)."}, {"owner": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "edited": false, "score": 0, "creation_date": 1476784527, "post_id": 40104896, "comment_id": 67481661, "body": "already did.. tried  &quot;s/PM.*C//&quot; then tried adding the anchor  s/PM.*C$//"}, {"owner": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "edited": false, "score": 0, "creation_date": 1476784646, "post_id": 40104896, "comment_id": 67481759, "body": "^ and $ are the anchors I know of in perl regex.. but  using /PM.*C$/ gives a match for PM_MY_CALC_IS_FINE ... Little confused here, New to perl scripting, had some BASH stuff stuck in.. still If you guys can help.. that wud be cool"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "edited": false, "score": 1, "creation_date": 1476784773, "post_id": 40104896, "comment_id": 67481877, "body": "@ArunMKumar: I&#39;m not getting 1 from <code>perl -lwe &#39;print &quot;PM_MY_CALC_IS_FINE&quot; =~ &#47;PM.*C$&#47;&#39;</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "edited": false, "score": 1, "creation_date": 1476784870, "post_id": 40104896, "comment_id": 67481948, "body": "@ArunMKumar: Also note that <code>$</code> has a special meaning in double quotes, switch to single quotes <code>$regex = &#39;PM.*C$&#39;</code> or backslash it <code>$regex = &quot;PM.*C\\$&quot;</code>."}, {"owner": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "edited": false, "score": 0, "creation_date": 1476785222, "post_id": 40104896, "comment_id": 67482178, "body": "my $regex = &#39;/PM.*C$/&#39;;       my $var = &quot;PM_MY_CALC_IS_FINEC&quot;;    and now .....  if($var =~ $regex) gives a false... regardless of whether the string being tested ends with the character C or not."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1476785461, "post_id": 40104896, "comment_id": 67482316, "body": "<code>my $regex = &#39;&#47;PM.*C$&#47;&#39;</code> is putting literal <code>&#47;</code> characters in your regex. That&#39;s not what you want at all. You want <code>my $regex = &#39;PM.*C$&#39;; ... if ($var =~ &#47;$regex&#47;)</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "edited": false, "score": 3, "creation_date": 1476785647, "post_id": 40104896, "comment_id": 67482455, "body": "@ArunMKumar: I know it works. The important question is - do you understand why it works and your previous code doesn&#39;t?"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1476784006, "creation_date": 1476784006, "answer_id": 40104896, "question_id": 40104772, "link": "https://stackoverflow.com/questions/40104772/regex-matching-with-scalars-in-perl/40104896#40104896", "title": "Regex matching with scalars in Perl.", "body": "<p><code>*</code> is a quantifier, not a wildcard in Perl regexes. <code>PM*C</code> as a regex means <code>P</code>, followed by zero or more <code>M</code>s, followed by <code>C</code>. For example, the following strings match it:</p>\n\n<pre><code>PC\nPMC\nPMMC\nPMMMC\nxxxPCxxx\n</code></pre>\n\n<p>If you need to match \"anything\", use <code>.*</code>.</p>\n"}], "owner": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 1, "accepted_answer_id": 40104896, "answer_count": 1, "score": -1, "last_activity_date": 1476784006, "creation_date": 1476783685, "last_edit_date": 1495542184, "question_id": 40104772, "link": "https://stackoverflow.com/questions/40104772/regex-matching-with-scalars-in-perl", "title": "Regex matching with scalars in Perl.", "body": "<p>To the moderators... READ THE QUESTION before marking as a duplicate.</p>\n\n<p>I am using regular expression using scalars here. First time though. I will put the code. It should be self evident</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $regex = \"PM*C\";\nmy $var = \"PM_MY_CALC\";\n\n if($var =~ m/$regex/){\n    print \"match \\n\";\n }\n\n else{\n\n    print \"no match\\n\";\n }\n</code></pre>\n\n<p>The output that I get is \"no match\".. </p>\n\n<p>am i missing something obvious here? obviously It did not match any other stuff.. so just made both the regex and the variable to be checked equal.. still no match.</p>\n\n<p>I have tried doing  this too..</p>\n\n<pre><code> if($var =~ $regex ){\n</code></pre>\n\n<p>based on some search from perlMonks.</p>\n\n<p>and if you still think it is duplicate and wants to go to this question right here...</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5365906/detect-exact-string-value-of-scalar-in-regex-matching\">Detect exact string value of scalar in regex matching</a></p>\n\n<p>please save your time and ego.. It is not the one, and it does not answer my query.. and please spare some time for this question till someone who genuinely wants to help answers this..</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 2955220, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28ba746517092206fd2d04b55b3345d?s=128&d=identicon&r=PG&f=1", "display_name": "Siju Mohan MM", "link": "https://stackoverflow.com/users/2955220/siju-mohan-mm"}, "edited": false, "score": 0, "creation_date": 1476785807, "post_id": 40105301, "comment_id": 67482552, "body": "I appreciate your support. I have used Net::SFTP::Foreign::Compat &#39;:supplant&#39;;"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 143, "user_id": 2955220, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28ba746517092206fd2d04b55b3345d?s=128&d=identicon&r=PG&f=1", "display_name": "Siju Mohan MM", "link": "https://stackoverflow.com/users/2955220/siju-mohan-mm"}, "edited": false, "score": 1, "creation_date": 1476787625, "post_id": 40105301, "comment_id": 67483657, "body": "<code>Net::SFTP::Foreign::Compat</code> doesn&#39;t support the undocumented &quot;<code>ls</code> in scalar context&quot; thing. You&#39;d have to <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign#Error-handling\" rel=\"nofollow noreferrer\">check <code>error</code> manually</a>."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 2, "last_activity_date": 1476785141, "creation_date": 1476785141, "answer_id": 40105301, "question_id": 40104703, "link": "https://stackoverflow.com/questions/40104703/sftp-folder-access-issue-with-perl-program/40105301#40105301", "title": "SFTP folder access issue with perl program", "body": "<p>Your statement <code>my @ls = ... or ...</code> checks the result of the <code>=</code> operator. Because its LHS is an array, this is list assignment. List assignment in scalar context returns the number of elements on the RHS. In other words, if a non-empty list was returned, everything is OK; an empty list is treated as an error.</p>\n\n<p>You didn't tell us what <code>$sftp</code> is. I'm going to assume it's a <a href=\"https://metacpan.org/pod/Net::SFTP\" rel=\"nofollow\">Net::SFTP</a> object.</p>\n\n<p>According to the documentation, <a href=\"https://metacpan.org/pod/Net::SFTP#sftp-ls-remote-subref\" rel=\"nofollow\"><code>$sftp-&gt;ls</code></a> returns a list of directory entries. Therefore your code treats an empty directory as an error. You didn't say this explicitly either, but you did say \"<em>there is no issues when the remote folder is not empty</em>\", implying there's a problem with empty directories.</p>\n\n<p>The issue (as far as I can see) is with your code. It does exactly what you told it to.</p>\n\n<hr>\n\n<p>Update: I've looked at the source code. This is not documented, but you can check for errors separately by calling the method in scalar context:</p>\n\n<pre><code>my @ls = do {\n    my $ls_ref = $sftp-&gt;ls($config-&gt;[$i]{SOURCE}) or do {\n        $logger-&gt;error(\"Could not retrieve directory listing, exiting from    processing\");\n        next;\n    };\n    @$ls_ref\n};\n</code></pre>\n\n<p>In scalar context, <code>ls</code> returns either a reference to an array of results or <code>undef</code> on failure.</p>\n"}], "owner": {"reputation": 143, "user_id": 2955220, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28ba746517092206fd2d04b55b3345d?s=128&d=identicon&r=PG&f=1", "display_name": "Siju Mohan MM", "link": "https://stackoverflow.com/users/2955220/siju-mohan-mm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476785854, "creation_date": 1476783496, "last_edit_date": 1476785854, "question_id": 40104703, "link": "https://stackoverflow.com/questions/40104703/sftp-folder-access-issue-with-perl-program", "title": "SFTP folder access issue with perl program", "body": "<p>I have designed a program for retreiving files from a remote sftp folder, and it was working fine. </p>\n\n<p>And now I am having a weird issue with this program. Please find below the code fragment with which I am having this issue:</p>\n\n<pre><code>    my @ls = $sftp-&gt;ls(\"$config-&gt;[$i]-&gt;{'SOURCE'}\") or do {\n        $logger-&gt;error(\"Could not retrieve directory listing, exiting from    processing\");\n        next;\n    };\n</code></pre>\n\n<p><strong>or</strong> statement for $sftp->ls is being executed, which is expcted only when $sftp->ls fails. But I don't have any issue while accessing it manually. Status Code which I have received after $sftp->ls statement is <strong>0</strong>, which means Successful.</p>\n\n<p>I am not sure why it is still redirected to the <strong>or</strong> fragment, please advise. Also there is no issues when the remote folder is not empty.</p>\n\n<p>SFTP used:</p>\n\n<pre><code>    use Net::SFTP::Foreign::Compat ':supplant';\n</code></pre>\n"}, {"tags": ["mongodb", "perl", "mongodb-query"], "comments": [{"owner": {"reputation": 1018, "user_id": 1344126, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1dc9d9e65764b952f737882fd5758b3e?s=128&d=identicon&r=PG", "display_name": "The Matrix", "link": "https://stackoverflow.com/users/1344126/the-matrix"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1476783917, "post_id": 40104568, "comment_id": 67481232, "body": "Ok, can you let me know how do it?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476789303, "post_id": 40104568, "comment_id": 67484715, "body": "@simbabque: Eagerly waiting to learn the differences between them from you."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 2, "creation_date": 1476789524, "post_id": 40104568, "comment_id": 67484867, "body": "@ssr1012 <i>Perl</i> is the name of the language. <i>perl</i> is the name of the Perl compiler (the binary that runs Perl code). <i>PERL</i> has nothing to do with the Perl language. You can read <a href=\"https://en.wikipedia.org/wiki/Perl#Name\" rel=\"nofollow noreferrer\">on Wikipedia</a>, but the most important source is <a href=\"http://perldoc.perl.org/perlfaq1.html#What&#39;s-the-difference-between-%22perl%22-and-%22Perl%22%3f\" rel=\"nofollow noreferrer\">perlfaq1</a>, where it says <i>But never write &quot;PERL&quot;, because perl is not an acronym.</i>."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476789947, "post_id": 40104568, "comment_id": 67485106, "body": "@simbabque: Corrected myself. thanks."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1476790226, "post_id": 40104568, "comment_id": 67485319, "body": "<a href=\"http://perlmaven.com/getting-started-with-mongodb-using-perl-insert-and-update\" rel=\"nofollow noreferrer\">May be this will help you</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2855, "user_id": 11800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d37a63484d9878cf6c07dcc08adda9e2?s=128&d=identicon&r=PG", "display_name": "xdg", "link": "https://stackoverflow.com/users/11800/xdg"}, "is_accepted": false, "score": 1, "last_activity_date": 1476798840, "creation_date": 1476798840, "answer_id": 40110200, "question_id": 40104568, "link": "https://stackoverflow.com/questions/40104568/find-referencing-a-document-field-in-mongo/40110200#40110200", "title": "Find referencing a document field in mongo", "body": "<p>There's no simple way to do that server-side.  You might be able to construct a <a href=\"https://docs.mongodb.com/manual/reference/operator/query/where/\" rel=\"nofollow\">$where</a> function.</p>\n\n<p>If possible, I would look to revise the schema to keep the pending count (or boolean flag) as an invariant in the document itself.  When updating <code>travellers</code> and <code>authorized-travellers</code>, update the <code>pending</code> count/flag as an atomic operation at the same time.  Then the query for pending authorizations would be trivial.</p>\n\n<p>To update existing documents to add the invariant, you'll need to be careful about data races if these are updated frequently.</p>\n\n<p>If a schema change isn't possible, then looping over the documents client-side and checking individually is straightforward, if inefficient.  If there's a lot of documents and a lot of data per document, make sure you only project back only the fields you need.</p>\n\n<p>Hope these ideas help.</p>\n"}], "owner": {"reputation": 1018, "user_id": 1344126, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1dc9d9e65764b952f737882fd5758b3e?s=128&d=identicon&r=PG", "display_name": "The Matrix", "link": "https://stackoverflow.com/users/1344126/the-matrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476798840, "creation_date": 1476783130, "last_edit_date": 1476783860, "question_id": 40104568, "link": "https://stackoverflow.com/questions/40104568/find-referencing-a-document-field-in-mongo", "title": "Find referencing a document field in mongo", "body": "<p>I have a collection with documents with this structure:</p>\n\n<pre><code>{\n  'travellers': [ 'a', 'b', 'c', 'd' ],\n  ...\n  'authorized-travellers': {\n    'a' =&gt; {\n        creator =&gt; 'admin',\n        authorized =&gt; true,\n        when =&gt; '2016-18-10 22:45:45',\n    },\n    'd' =&gt; {\n        creator =&gt; 'admin',  \n        authorized =&gt; false,\n        when =&gt; '2016-17-10 12:44:00',\n    },\n  }\n}\n</code></pre>\n\n<p>and I need a query to locate all documents that has pending travellers authorizations.</p>\n\n<p>A travel (document) has pending travellers authorizations if travellers.count is less than 'authorized-travellers' keys.</p>\n\n<p>In this example this travel has 2 pending authorizations: b and c.</p>\n\n<p>If this possible (in perl) or I need to perform the query manually?\nHow?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1476786188, "post_id": 40104403, "comment_id": 67482769, "body": "Looks like someone rather jumped the gun on closing this as a duplicate. This question has no connection with <a href=\"http://stackoverflow.com/questions/5365906/detect-exact-string-value-of-scalar-in-regex-matching\">the one it was marked as a duplicate of</a>. That was about regexes that include metacharacters that need to be matched literally. The problem here is a complete misunderstanding of regex metacharacters. Please be more careful."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1476786458, "creation_date": 1476786458, "answer_id": 40105775, "question_id": 40104403, "link": "https://stackoverflow.com/questions/40104403/regex-matching-by-scalars-in-perl/40105775#40105775", "title": "Regex matching by scalars in perl", "body": "<blockquote>\n  <p>am i missing something obvious here?</p>\n</blockquote>\n\n<p>You're missing how regular expressions work. They don't work how shell filename expansion works.</p>\n\n<p>Your regex uses <code>*</code> which means \"zero of more of the preceding character\". So <code>M*</code> matches nothing, 'M', 'MM', 'MMM', etc.</p>\n\n<p>You wanted to match \"PM\" followed by any number of any character followed by \"C\". The correct regex for that is <code>PM.*C</code>. A dot (<code>.</code>) means \"match (almost) any character\" and (as I said above) <code>*</code> matches zero or more of that.</p>\n\n<p>I recommend reading the <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow\">Perl Regular Expression tutorial</a>.</p>\n"}], "owner": {"reputation": 688, "user_id": 1334904, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/AThxo.jpg?s=128&g=1", "display_name": "ArunMKumar", "link": "https://stackoverflow.com/users/1334904/arunmkumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 40105775, "answer_count": 1, "score": 0, "last_activity_date": 1476786458, "creation_date": 1476782736, "last_edit_date": 1476783426, "question_id": 40104403, "link": "https://stackoverflow.com/questions/40104403/regex-matching-by-scalars-in-perl", "title": "Regex matching by scalars in perl", "body": "<p>I am using regular expression using scalars here. First time though. I will put the code. It should be self evident</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $regex = \"PM*C\";\nmy $var = \"PM_MY_CALC\";\n\n if($var =~ m/$regex/){\n    print \"match \\n\";\n }\n\n else{\n\n    print \"no match\\n\";\n }\n</code></pre>\n\n<p>The output that I get is \"no match\".. </p>\n\n<p>am i missing something obvious here? obviously It did not match any other stuff.. so just made both the regex and the variable to be checked equal.. still no match.</p>\n\n<p>I have tried doing  this too..</p>\n\n<pre><code> if($var =~ $regex ){\n</code></pre>\n\n<p>based on some search from perlMonks.</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1476781509, "post_id": 40103906, "comment_id": 67479642, "body": "Welcome to Stack Overflow and the Perl tag. Can you please include an example of what you want your output to be like? You can <a href=\"https://stackoverflow.com/posts/40103906/edit\">edit</a> your question. Usually there is one XML data structure in one file. There is always an element around everything. It&#39;s not clear what you mean by writing to the top."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1476781631, "post_id": 40103906, "comment_id": 67479714, "body": "That&#39;s almost by definition invalid XML, because you won&#39;t have the right root tags."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1476782580, "post_id": 40103906, "comment_id": 67480328, "body": "Please don&#39;t use indirect object notation. At some point you will trip over a bug that it causes and will waste hours trying to find it. Instead of <code>new IO::File(..)</code> and <code>new XML::Writer(...)</code>, you should use <code>IO::File-&gt;new(...)</code> and <code>XML::Writer-&gt;new(...)</code>."}, {"owner": {"reputation": 67, "user_id": 7035499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce95073f038a344aee6390999b05c539?s=128&d=identicon&r=PG&f=1", "display_name": "Gajiu", "link": "https://stackoverflow.com/users/7035499/gajiu"}, "edited": false, "score": 0, "creation_date": 1476782761, "post_id": 40103906, "comment_id": 67480472, "body": "Thanks Dave for the tips, I will do that."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 7035499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce95073f038a344aee6390999b05c539?s=128&d=identicon&r=PG&f=1", "display_name": "Gajiu", "link": "https://stackoverflow.com/users/7035499/gajiu"}, "edited": false, "score": 0, "creation_date": 1476784164, "post_id": 40104253, "comment_id": 67481392, "body": "Thx simbabque it works perfectly. The &quot;OUTPUT =&gt; <code>self</code>&quot; was what I need."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1476782317, "creation_date": 1476782317, "answer_id": 40104253, "question_id": 40103906, "link": "https://stackoverflow.com/questions/40103906/how-can-i-write-at-the-top-of-an-xml-file-with-xmlwriter/40104253#40104253", "title": "How can I write at the top of an XML file with XML::Writer", "body": "<p>The trick is to not let XML::Writer write to a file directly. Instead, you can set <code>OUTPUT</code> to <code>\"self\"</code> and then use the <a href=\"https://v1.metacpan.org/pod/XML::Writer#OUTPUT\" rel=\"nofollow\"><code>$writer-&gt;to_string</code> method</a> to get a string with the rendered output.</p>\n\n<p>After that, all you need to do is follow <a href=\"http://learn.perl.org/faq/perlfaq5.html#How-do-I-change-delete-or-insert-a-line-in-a-file-or-append-to-the-beginning-of-a-file\" rel=\"nofollow\">this example from perlfaq5</a> on how to write to the beginning of a file. You basically read in your existing file line by line, and print it back to a new file. If you're at line 1 (<code>$.</code> is the current line number being read), you print the XML from <code>$writer</code>. Then you move/rename your temporary new file over the old one.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IO::File;\nuse XML::Writer;\n\nmy $writer = XML::Writer-&gt;new( \n    OUTPUT      =&gt; 'self',\n    DATA_INDENT =&gt; 3,             # indentation, trois espaces\n    DATA_MODE   =&gt; 1,             # changement ligne.\n);\n\n# ... put in your data\n\n# open the old file and a temporary new file\nopen my $in,  '&lt;',  'tmp.xml'  or die \"Can't read old file: $!\";\nopen my $out, '&gt;', 'tmp.xml.new' or die \"Can't write new file: $!\";\n\n# read from the old file\nwhile( &lt;$in&gt; ) {\n    # write the XML into the first line\n    print $out $writer-&gt;to_string if $. == 1;\n\n    # write the rest of the file line by line\n    print $out $_;\n}\nclose $in; \nclose $out;\n\n# replace the old file with the new file\nrename 'tmp.xml.new', 'tmp.xml';\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 7035499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce95073f038a344aee6390999b05c539?s=128&d=identicon&r=PG&f=1", "display_name": "Gajiu", "link": "https://stackoverflow.com/users/7035499/gajiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 40104253, "answer_count": 1, "score": 0, "last_activity_date": 1613751500, "creation_date": 1476781338, "last_edit_date": 1613751500, "question_id": 40103906, "link": "https://stackoverflow.com/questions/40103906/how-can-i-write-at-the-top-of-an-xml-file-with-xmlwriter", "title": "How can I write at the top of an XML file with XML::Writer", "body": "<p>I create an XML file with <a href=\"https://v1.metacpan.org/pod/XML::Writer\" rel=\"nofollow noreferrer\">XML::Writer</a> in Perl and I would want that each times I call my script it writes the new XML file at the beginning of the old file. I know how to write a line at the beginning of a file, but with XML::Writer I can't find how to do that.</p>\n<pre><code>my $output = new IO::File(&quot;&gt;&gt;tmp.xml&quot;);\nmy $writer = new XML::Writer( \nOUTPUT      =&gt; $output,\nDATA_INDENT =&gt; 3,             # indentation, trois espaces\nDATA_MODE   =&gt; 1,             # changement ligne.\n);\n</code></pre>\n<p>That's the beginning of my script which writes the xml file.</p>\n<p><strong>Edit</strong>:<br />\nI actually do a changelog.xml which looks like that:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;?xml-stylesheet href=&quot;changelog.xsl&quot; type=&quot;text/xsl&quot;?&gt;\n\n&lt;root text=&quot;MultiDiag&quot;&gt;\n&lt;version number=&quot;V: 7.07.10.0&quot; date=&quot;Release date (Fri Oct  7 14:44:52 2016)&quot;&gt;\nThings\n&lt;/version&gt;\n&lt;/root&gt;\n</code></pre>\n<p>What I want is that each day, the new changelog is write at the top of the old one like that:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;?xml-stylesheet href=&quot;changelog.xsl&quot; type=&quot;text/xsl&quot;?&gt;\n&lt;root text=&quot;MultiDiag&quot;&gt;\n&lt;version number=&quot;V: 7.07.10.0&quot; date=&quot;Release date (The new one)&quot;&gt;\nThings\n&lt;/version&gt;\n&lt;version number=&quot;V: 7.07.10.0&quot; date=&quot;Release date (The old one)&quot;&gt;\nThings\n&lt;/version&gt;\n&lt;/root&gt;  \n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1476780553, "post_id": 40103201, "comment_id": 67479047, "body": "The first regex you show is not parsing, it&#39;s substituting. You shouldn&#39;t try to parse HTML with regular expressions."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 4, "creation_date": 1476780662, "post_id": 40103201, "comment_id": 67479124, "body": "<a href=\"http://stackoverflow.com/a/1732454/1848654\">stackoverflow.com/a/1732454/1848654</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476780796, "post_id": 40103201, "comment_id": 67479215, "body": "This is a tricky one though. How will your program know which tags are wrong? It&#39;s not a trivial problem."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476781869, "post_id": 40103201, "comment_id": 67479868, "body": "What should happen with <code>A [CODE] B &lt;!-- B [&#47;CODE] C --&gt; D</code>?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476782054, "post_id": 40103201, "comment_id": 67479994, "body": "What should happen with <code>&lt;form action=&quot;hi?data[CODE]=42&quot;&gt;&lt;textarea name=&quot;t&quot;&gt;[&#47;CODE]&lt;&#47;textarea&gt;&lt;&#47;form&gt;</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1476799540, "creation_date": 1476799540, "answer_id": 40110446, "question_id": 40103201, "link": "https://stackoverflow.com/questions/40103201/perl-regex-to-remove-invalid-html-tags-from-string/40110446#40110446", "title": "Perl regex to remove invalid html tags from string", "body": "<p>The short answer is that you cannot hope to achieve what you want to achieve in a simplistic manner. Others have gone to great lengths to clean up invalid HTML, but the results are not always what they wanted.</p>\n\n<p>You can try using <a href=\"http://www.tidyp.com/\" rel=\"nofollow\">tidyp</a>, or install <a href=\"https://metacpan.org/pod/Alien::Tidyp\" rel=\"nofollow\">Alien::Tidyp</a> and <a href=\"https://metacpan.org/pod/HTML::Tidy\" rel=\"nofollow\">HTML::Tidy</a>. Or, even explore what <a href=\"https://jeffreykegler.github.io/Ocean-of-Awareness-blog/individual/2012/html_fmt.html\" rel=\"nofollow\">Marpa</a> has to offer.</p>\n\n<p>But, no, you cannot use a simple regex substitution to fix arbitrarily bad HTML.</p>\n"}], "owner": {"reputation": 351, "user_id": 2598494, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/02d66fa0fdbd3eb34745afa352ff99e2?s=128&d=identicon&r=PG", "display_name": "Laeeq", "link": "https://stackoverflow.com/users/2598494/laeeq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476799540, "creation_date": 1476779192, "last_edit_date": 1476779669, "question_id": 40103201, "link": "https://stackoverflow.com/questions/40103201/perl-regex-to-remove-invalid-html-tags-from-string", "title": "Perl regex to remove invalid html tags from string", "body": "<p>I have a string like:</p>\n\n<pre><code>&lt;div&gt;[CODE]&lt;br /&gt;test1&lt;/div&gt;\n&lt;div&gt;test2&lt;/div&gt;\n&lt;div&gt;test3&lt;/div&gt;\n&lt;div&gt;test4&lt;br /&gt;[/CODE]&lt;/div&gt;\n</code></pre>\n\n<p>When parsing using regex below:</p>\n\n<pre><code>$text =~ s#\\[CODE\\](.+?)\\[\\/CODE\\]#&lt;div&gt;Code:&lt;/div&gt;&lt;pre class=\"prettyprint\"&gt;$1&lt;/pre&gt;#isg;\n</code></pre>\n\n<p>it returns string within <code>&lt;pre&gt;</code> tag with some closed and some start but not closed div like below</p>\n\n<pre><code>&lt;div&gt;&lt;div&gt;Code:&lt;/div&gt;&lt;pre class=\"prettyprint\"&gt;&lt;br /&gt;test1&lt;/div&gt;\n&lt;div&gt;test2&lt;/div&gt;\n&lt;div&gt;test3&lt;/div&gt;\n&lt;div&gt;test4&lt;br /&gt;&lt;/pre&gt;&lt;/div\n</code></pre>\n\n<p>I want to remove all invalid html tags from <code>&lt;pre&gt;</code> tag that are closed but not started or started but not closed.</p>\n\n<p>It should return like below:</p>\n\n<pre><code>&lt;div&gt;&lt;div&gt;Code:&lt;/div&gt;&lt;pre class=\"prettyprint\"&gt;&lt;br /&gt;test1\n&lt;div&gt;test2&lt;/div&gt;\n&lt;div&gt;test3&lt;/div&gt;\ntest4&lt;br /&gt;&lt;/pre&gt;&lt;/div\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 6, "creation_date": 1476780044, "post_id": 40102877, "comment_id": 67478724, "body": "It&#39;s unclear what you&#39;re trying to do. What are you trying to capture by the second regex? The string <code>2,0x00</code> can&#39;t be matched as it doesn&#39;t appear in the input string."}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1476786589, "post_id": 40102877, "comment_id": 67483040, "body": "@choroba.I want to combine both the regex"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1476788745, "post_id": 40102877, "comment_id": 67484372, "body": "Yes, but what do you mean by &quot;combine&quot;? It&#39;s a broad term. Help us to help you."}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1476791867, "post_id": 40102877, "comment_id": 67486452, "body": "for second regex my ($second_match) = / \\S \\s+ ( \\{ [^{}]+ \\} | \\S+ ) /x; not extracting value inside  curly braces.so I have added first regex which is my ($first_match) = /(\\b(\\d+)\\b)/g here I am able to extract value in curly braces .can we modify second regex such a way so that it can extract values inside curly braces. or pass the first regex $1 output to second regex."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1476792627, "post_id": 40102877, "comment_id": 67486996, "body": "I don&#39;t see <code>0x00</code> in curly brackets in the input. Also, what do you mean by &quot;pass regex output to regex&quot;?"}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1476793170, "post_id": 40102877, "comment_id": 67487356, "body": "what I mean capture first regex output in $1 then add $1 in second regex"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1476793325, "post_id": 40102877, "comment_id": 67487461, "body": "You can use it directly: <code>perl -lwe &#39;&quot;abc&quot; =~ &#47;(.)&#47;; print &quot;cba&quot; =~ &#47;($1)&#47;&#39;</code> prints <code>a</code>."}, {"owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1476793634, "post_id": 40102877, "comment_id": 67487678, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/126011/discussion-between-abhishek-and-choroba\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 7036850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76f69a084fde206caab2ebdf0f676fe?s=128&d=identicon&r=PG&f=1", "display_name": "b-brankovics", "link": "https://stackoverflow.com/users/7036850/b-brankovics"}, "is_accepted": false, "score": 2, "last_activity_date": 1476985894, "creation_date": 1476985894, "answer_id": 40161249, "question_id": 40102877, "link": "https://stackoverflow.com/questions/40102877/how-to-pass-one-regex-output-to-another-regex-in-perl/40161249#40161249", "title": "how to pass one regex output to another regex in perl", "body": "<p>The question is not completely clear to me, because I don't see how you want to combine two regex or pass the output of one to the other.</p>\n\n<ul>\n<li><p>If you want to pass the captured part of the first regex then you need to save it to a variable:</p>\n\n<pre><code>my ($first_match) = /(\\b(\\d+)\\b)/g;\nmy $captured = $1;\n</code></pre>\n\n<p>Then you can place the variable <code>$captured</code> in the second regex.</p></li>\n<li><p>If you want to use the complete match and search inside that. Then you need to do the following:</p>\n\n<pre><code>my ($first_match) = /(\\b(\\d+)\\b)/g;\nprint \"$1,\"; # Don't print one space then new line if you want to have a comma separating the two values\nmy ($second_match) = $first_match =~ / \\S \\s+ ( \\{ [^{}]+ \\} | \\S+ ) /x;\n</code></pre></li>\n</ul>\n\n<p>Based on your input, this won't generate the expected output.</p>\n\n<p>The following code would print out:</p>\n\n<pre><code>2,0x00\n</code></pre>\n\n<p>When processing your input.</p>\n\n<pre><code>print \"$1,\" if /\\{\\s*(\\d+)\\s*\\}/;\nprint \"$1\\n\" if /(\\d+x\\d+)/;\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6839106, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d08fd95c056123ed9420f1c62eb6f3d7?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6839106/abhishek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476985894, "creation_date": 1476778145, "last_edit_date": 1476786420, "question_id": 40102877, "link": "https://stackoverflow.com/questions/40102877/how-to-pass-one-regex-output-to-another-regex-in-perl", "title": "how to pass one regex output to another regex in perl", "body": "<p>How to combine two regex . This is my input:</p>\n\n<pre><code>1.UE_frequency_offset_flag  else { 2}   UE_frequency_offset_flag\n2.served1   0x00    Uint8,unsigned char\n</code></pre>\n\n\n\n<pre><code>#my first regex expression is used for extracting the values inside curly braces \nmy ($first_match) = /(\\b(\\d+)\\b)/g;\nprint \"$1 \\n\";\n#my second regex expression   \nmy ($second_match) = / \\S \\s+ ( \\{ [^{}]+ \\} | \\S+ ) /x;\n</code></pre>\n\n<p>I was trying to combine both regex but did not get the expected output.</p>\n\n<pre><code>my ($second_match) = / \\S \\s+ ( \\{ [^{}]+ \\} |\\b(\\d+)\\b| \\S+ ) /x;\n</code></pre>\n\n<p>My expected output:</p>\n\n<pre><code>2,0x00\n</code></pre>\n\n<p>Please help where I am doing mistake?</p>\n"}, {"tags": ["perl", "bioinformatics"], "answers": [{"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1476775150, "creation_date": 1476775150, "answer_id": 40101927, "question_id": 40101310, "link": "https://stackoverflow.com/questions/40101310/combine-two-element-in-an-array-perl/40101927#40101927", "title": "combine two element in an array perl", "body": "<p>You need to remove the last cut and append it to the second-to-last cut using the <code>.=</code> concatenation operator:</p>\n\n<p>Here is a simplified example:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\nmy $total_length = 100;\nmy $chop_length  = 14;\nmy @letters = qw( A C G T );\n\nmy $long_string = join '', map { $letters[ int rand scalar @letters ] } ( 1 .. $total_length );\nprint \"Long string ($total_length chars) :\\n$long_string\\n\";\nprint '-'x$total_length . \"\\n\";\nmy @cut = ($long_string =~ /(.{1,$chop_length})/g);\n\nmy $last_cut = pop @cut; # Take last one off\nif (length $last_cut &lt; $chop_length) {\n    $cut[$#cut] .= $last_cut; # Concatenate it to the (now) last one\n} else {\n    push @cut, $last_cut; # Put it back, it has the right length\n}\n\nprint \"Parts cut into &gt;= $chop_length char length pieces.\\n\";\nfor my $part (@cut) {\n    print $part . \"\\n\";\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Long string (100 chars) :\nCCATCCTGCACATTCGGTGATTTATCAGAAGTAAGATCCTCGTCCCACTGACCGTGCGGGGATACGGAGCTCAAACAGAGAGAAACGGTTGGTCTGTAGA\n----------------------------------------------------------------------------------------------------\nParts cut into &gt;= 14 char length pieces.\nCCATCCTGCACATT\nCGGTGATTTATCAG\nAAGTAAGATCCTCG\nTCCCACTGACCGTG\nCGGGGATACGGAGC\nTCAAACAGAGAGAA\nACGGTTGGTCTGTAGA\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 7034750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da4e222e111ca2cdfb0924fd1f0ce42b?s=128&d=identicon&r=PG&f=1", "display_name": "era", "link": "https://stackoverflow.com/users/7034750/era"}, "edited": false, "score": 0, "creation_date": 1476870105, "post_id": 40103318, "comment_id": 67525156, "body": "yes, thats work ! Thank You . But this code only read one file. Then I try to read multiple file and perform same process of each file. I can run it but in the file just show the last fragments."}], "tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": true, "score": 0, "last_activity_date": 1476779540, "creation_date": 1476779540, "answer_id": 40103318, "question_id": 40101310, "link": "https://stackoverflow.com/questions/40101310/combine-two-element-in-an-array-perl/40103318#40103318", "title": "combine two element in an array perl", "body": "<p>The issue with</p>\n\n<pre><code>if (length($#cut) &lt; 1020) {\n    $#cut=\"@cut[-2 .. -1]\"; # i get error here\n}\n</code></pre>\n\n<p>is that it is attempting to assign a string to <code>$#cut</code>. <code>$#cut</code> is the last index of <code>@cut</code>, so it expects an integer value.</p>\n\n<p>Something like this should work:</p>\n\n<pre><code>if (length($#cut) &lt; 1020) {\n    $cut[$#cut-1] = join '', @cut[-2 .. -1];\n    $#cut -= 1;  # Remove last element from @cut\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7034750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da4e222e111ca2cdfb0924fd1f0ce42b?s=128&d=identicon&r=PG&f=1", "display_name": "era", "link": "https://stackoverflow.com/users/7034750/era"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 40103318, "answer_count": 2, "score": 0, "last_activity_date": 1476779540, "creation_date": 1476773159, "last_edit_date": 1476778684, "question_id": 40101310, "link": "https://stackoverflow.com/questions/40101310/combine-two-element-in-an-array-perl", "title": "combine two element in an array perl", "body": "<p>I want to compare two sequences using <code>standalone blastn</code>. </p>\n\n<p>But before I can do that I have to cut the sequence into 1020nt of each fragment. If the last fragment is less than 1020nt, i have to merge (the sequence) in the last fragment with sequence in the previous fragment . For example I cut a sequence into 1020nt and get 7 fragments. But the 7th fragment is less than 1020nt, so i have to merged it into the 6th fragment. Is anyone know how to do this using <code>Perl language?</code></p>\n\n<p>This is my code:</p>\n\n<pre><code>while(&lt;QR&gt;){\n\n    chomp;\n    s/&gt;//g;\n\n    my ($scaf,$seq)= split /\\n/,$_,2;\n    my $scaf_name = (split /\\s+/,$scaf)[0];\n    $seq =~ s/\\s+//g;\n    my @cut = ($seq =~ /(.{1,$chop_len})/g);\n\n    if (length($#cut) &lt; 1020) {\n        $#cut=\"@cut[-2 .. -1]\"; # i get error here\n    }\n    else {\n    }\n\n    print $#cut;\n    for my $cut_num (0..$#cut){\n        my $sgmID = \"$scaf_name\\_$cut_num\";\n        print CR \"&gt;$sgmID\\n$cut[$cut_num]\\n\";\n    }\n}\n\nclose QR;\nclose CR;\n</code></pre>\n\n<p>Actually I found this Perl script on the internet, and modified it so that I can merged the last two fragments.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5511283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81cc86a6f90a0e685fdfa77bafb228ff?s=128&d=identicon&r=PG&f=1", "display_name": "Ifedee", "link": "https://stackoverflow.com/users/5511283/ifedee"}, "edited": false, "score": 0, "creation_date": 1476775666, "post_id": 40099826, "comment_id": 67475965, "body": "Many thanks. The robust version did exactly what I anticipated. Appreciate it."}], "tags": [], "owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "is_accepted": false, "score": 2, "last_activity_date": 1476766981, "last_edit_date": 1476766981, "creation_date": 1476766585, "answer_id": 40099826, "question_id": 40099702, "link": "https://stackoverflow.com/questions/40099702/how-can-i-extract-variables-with-nonzero-coefficients-from-an-equation-using-a-p/40099826#40099826", "title": "How can I extract variables with nonzero coefficients from an equation using a Perl regex?", "body": "<p>Do:</p>\n\n<pre><code>x\\d+(?!\\s*\\*0\\.0*(?:[+\\s]|$))\n</code></pre>\n\n<ul>\n<li><code>x\\d+</code> gets <code>x</code> followed by one or more digits</li>\n<li>The zero width negative lookahead pattern <code>(?!\\s*\\*0\\.0*(?:[+\\s]|$))</code> ensures that the match is not followed by zero co-efficients</li>\n</ul>\n\n<p><a href=\"https://regex101.com/r/X8frN8/3\" rel=\"nofollow\">Demo</a></p>\n\n<hr>\n\n<p>More robust, avoiding false positives in the match:</p>\n\n<pre><code>x\\d+(?!\\s*\\*0\\.0*(?:[+\\s]|$))(?=\\s*\\*-?\\d+(?:\\.\\d*)?(?:[+\\s]|$))\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/X8frN8/4\" rel=\"nofollow\">Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 5511283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81cc86a6f90a0e685fdfa77bafb228ff?s=128&d=identicon&r=PG&f=1", "display_name": "Ifedee", "link": "https://stackoverflow.com/users/5511283/ifedee"}, "edited": false, "score": 0, "creation_date": 1476775614, "post_id": 40099941, "comment_id": 67475943, "body": "Works perfectly. Only that I needed to apply &quot;\\d+&quot; if I need to consider range from x1 -&gt; x11 .&gt; x111 and so on. Very useful"}, {"owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "reply_to_user": {"reputation": 25, "user_id": 5511283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81cc86a6f90a0e685fdfa77bafb228ff?s=128&d=identicon&r=PG&f=1", "display_name": "Ifedee", "link": "https://stackoverflow.com/users/5511283/ifedee"}, "edited": false, "score": 0, "creation_date": 1476809719, "post_id": 40099941, "comment_id": 67499266, "body": "@ifedee if this &quot;answered your question&quot;, you should consider <a href=\"http://stackoverflow.com/help/accepted-answer\">accepting</a> it."}], "tags": [], "owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "is_accepted": true, "score": 5, "last_activity_date": 1476785970, "last_edit_date": 1476785970, "creation_date": 1476767161, "answer_id": 40099941, "question_id": 40099702, "link": "https://stackoverflow.com/questions/40099702/how-can-i-extract-variables-with-nonzero-coefficients-from-an-equation-using-a-p/40099941#40099941", "title": "How can I extract variables with nonzero coefficients from an equation using a Perl regex?", "body": "<p>Match x-digit <em>not</em> followed by space-star-zero-dot-zeroes-endOfWord:</p>\n\n<pre><code>x\\d+(?! \\*0\\.0+\\b)\n</code></pre>\n\n<p>See <a href=\"http://rubular.com/r/aRwiw9ypQB\" rel=\"nofollow\">live demo</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 3, "last_activity_date": 1476800664, "last_edit_date": 1476800664, "creation_date": 1476800295, "answer_id": 40110719, "question_id": 40099702, "link": "https://stackoverflow.com/questions/40099702/how-can-i-extract-variables-with-nonzero-coefficients-from-an-equation-using-a-p/40110719#40110719", "title": "How can I extract variables with nonzero coefficients from an equation using a Perl regex?", "body": "<p>I would recommend using the fact that you have full-blown programming language at your disposal to simplify the regex to capture all coefficients, and then use <a href=\"https://metacpan.org/pod/perlfunc#grep-EXPR-LIST\" rel=\"nofollow\">grep</a> to eliminate the zeros:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $eqn = \"x1 *0.000000+ x2 *-0.100000+ x3 *0.850000+ x4 *0.000000+ x5 *0.000056+ x6 *0.000000 \";\n\nmy %eqn = ($eqn =~ /(x[0-9]+) \\s [*] (-?[0-9.]+) [+]/gx);\n\nprint \"$_\\n\" for grep $eqn{$_} != 0, keys %eqn;\n</code></pre>\n\n<p>Output (order will not be consistent unless you sort variable names):</p>\n\n<pre>x3 \nx5 \nx2</pre>\n\n<p>This might look like too much extra work, but having the equation parsed into a hash which maps variables to coefficients may actually save you work down the road depending on the exact nature of what you are doing. I am assuming you are doing some kind of model selection based on coefficient magnitudes.</p>\n"}], "owner": {"reputation": 25, "user_id": 5511283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81cc86a6f90a0e685fdfa77bafb228ff?s=128&d=identicon&r=PG&f=1", "display_name": "Ifedee", "link": "https://stackoverflow.com/users/5511283/ifedee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 40099941, "answer_count": 3, "score": 2, "last_activity_date": 1476800779, "creation_date": 1476766006, "last_edit_date": 1476800779, "question_id": 40099702, "link": "https://stackoverflow.com/questions/40099702/how-can-i-extract-variables-with-nonzero-coefficients-from-an-equation-using-a-p", "title": "How can I extract variables with nonzero coefficients from an equation using a Perl regex?", "body": "<p>I wish to grab the non-zero coefficients of a particular number arrangement. I have the set of numbers below and I wish to strictly extract with regex the non-zero coefficient (<code>x2</code>, <code>x3</code>, <code>x5</code>) from</p>\n\n<pre><code>x1 *0.000000+ x2 *-0.100000+ x3 *0.850000+ x4 *0.000000+ x5 *0.000056+ x6 *0.000000 \n</code></pre>\n\n<p>I tried doing this </p>\n\n<pre><code>(\\*[-+]?[0]*\\.?[0]+)\n</code></pre>\n\n<p>but am not really sure as to declare that it shouldn't consider the <code>\"*0.000000\"</code></p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1476757703, "post_id": 40098392, "comment_id": 67469616, "body": "Can you provide a sample of the input file? If you use Data::Dumper; print Dumper ($dir); at the end of your first example, does the datastructure look like you expect?"}, {"owner": {"reputation": 1, "user_id": 7033960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd50d5d0723b69adff296e3e9013a564?s=128&d=identicon&r=PG&f=1", "display_name": "sapo42", "link": "https://stackoverflow.com/users/7033960/sapo42"}, "reply_to_user": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1476833835, "post_id": 40098392, "comment_id": 67510631, "body": "I added a sample of the first input file. After I put it into the hash of arrays, the data structure looks as I expect."}, {"owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "edited": false, "score": 0, "creation_date": 1476843442, "post_id": 40098392, "comment_id": 67512931, "body": "I&#39;m struggling with how you want to &quot;assign a different value&quot;. You say &quot;first column&quot;, but you use the second (note the indexing for the array from split is zero-based). Do you want to assign a different value to your array of hashes? or do you just want to temporarily assign a value for printing purposes?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7033960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd50d5d0723b69adff296e3e9013a564?s=128&d=identicon&r=PG&f=1", "display_name": "sapo42", "link": "https://stackoverflow.com/users/7033960/sapo42"}, "edited": false, "score": 0, "creation_date": 1476833943, "post_id": 40098590, "comment_id": 67510669, "body": "First off, thank you for correcting me with the hash of arrays versus the hash of hashes! :-) Secondly, I tried your answer &amp; it keeps telling me $val is uninitialized when I try to print it."}, {"owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "reply_to_user": {"reputation": 1, "user_id": 7033960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd50d5d0723b69adff296e3e9013a564?s=128&d=identicon&r=PG&f=1", "display_name": "sapo42", "link": "https://stackoverflow.com/users/7033960/sapo42"}, "edited": false, "score": 0, "creation_date": 1476834275, "post_id": 40098590, "comment_id": 67510758, "body": "@sapo42 If $val is coming back uninitialized then either (1) the array at that hash position is already empty, or (2) you had pushed undef values into the array (unlikely if your sample data is correct). What do you expect to happen after you have already printed all the values from the first input file?"}], "tags": [], "owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "is_accepted": false, "score": 0, "last_activity_date": 1476757898, "creation_date": 1476757898, "answer_id": 40098590, "question_id": 40098392, "link": "https://stackoverflow.com/questions/40098392/print-different-value-each-time-key-is-called/40098590#40098590", "title": "Print different value each time key is called", "body": "<blockquote>\n  <p>Each ID acts as a key in a hash of hashes</p>\n</blockquote>\n\n<p>You actually have a hash of arrays there.</p>\n\n<p>Assuming you want to print the first value for the first instance, second for the second instance, and so on, you can just shift off the values for each key you encounter:</p>\n\n<pre><code>open (FH, \"results_file\");\nwhile (&lt;FH&gt;)\n{\nchomp;\n@a=split;\n$prot=$a[1];\n    foreach  (values %dir) {\n        my $val = shift @{$dir{$prot}};\n        print \"$a[1]\\t$val\\n\";\n    }\n}\n</code></pre>\n\n<p>This will remove one value from the HoA entry, assuming you don't need to use that array afterwards.</p>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "is_accepted": false, "score": 0, "last_activity_date": 1476843134, "creation_date": 1476843134, "answer_id": 40120957, "question_id": 40098392, "link": "https://stackoverflow.com/questions/40098392/print-different-value-each-time-key-is-called/40120957#40120957", "title": "Print different value each time key is called", "body": "<p>I think this gets your code working. There are some best practices to note:</p>\n\n<ul>\n<li>You should always run under strict &amp; warnings.\n\n<ul>\n<li><code>use strict;</code></li>\n<li><code>use warnings;</code></li>\n</ul></li>\n<li>I recommend the three argument version of <code>open()</code>, with an error check (<code>or die \"message $!\";</code>), and a lexical variable to store the filehandle.\n\n<ul>\n<li>See:</li>\n<li><code>perldoc -f open</code></li>\n<li><code>perldoc perlopentut</code></li>\n</ul></li>\n<li>Close your files when done using them.</li>\n<li>Variables should be introduced (declared) with <code>my</code> unless you have a good reason to use something else.</li>\n</ul>\n\n<p>I also made a couple changes that while I recommend, they aren't necessary.</p>\n\n<ul>\n<li>Removed variable <code>@a</code> because you did not actually need it.</li>\n<li>Cleaned up your <code>print</code> because it was hard to read. You could also try <code>printf</code></li>\n<li>You have two files named dir (<code>%dir</code> and <code>$dir</code>) which I find confusing in this case so I renamed <code>%dir</code> to <code>%dirs</code>.</li>\n</ul>\n\n<p>CODE:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %dirs;\n\n# Part 1 - Input\nmy $filename_input = \"file_name.txt\";\nopen(my $IN,'&lt;',$filename_input) or die \"Unable to open [$filename_input] for reading - $!\";\nwhile(&lt;$IN&gt;) {\n    my ($prot, $dir) = split;\n    push @{$dirs{$prot}}, $dir;\n}\nclose $IN;\n\n# Part 2 - Output\nmy $filename_results = \"results_file.txt\";\nopen(my $RESULTS,'&lt;',$filename_results) or die \"Unable to open [$filename_results] for reading - $!\";\nwhile(&lt;$RESULTS&gt;) {\n    chomp;\n    my $prot = (split)[1];\n    foreach (values %dirs) {\n        print \"$prot\\t@{$dirs{$prot}}\\n\"; # Or try: printf \"%s\\t%s\\n\",$prot,\"@{$dirs{$prot}}\";\n    }\n}\nclose $RESULTS;\n</code></pre>\n\n<p>file_name.txt</p>\n\n<pre><code>BC_123456     dir_6789\nBC_456789     dir_3456\nBC_234689     dir_1298\nBC_123456     dir_3987\nBC_876432     dir_7642\n</code></pre>\n\n<p>results_file.txt</p>\n\n<pre><code>don'tcare BC_123456\ndon'tcare BC_234689\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7033960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd50d5d0723b69adff296e3e9013a564?s=128&d=identicon&r=PG&f=1", "display_name": "sapo42", "link": "https://stackoverflow.com/users/7033960/sapo42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476843134, "creation_date": 1476756226, "last_edit_date": 1476833751, "question_id": 40098392, "link": "https://stackoverflow.com/questions/40098392/print-different-value-each-time-key-is-called", "title": "Print different value each time key is called", "body": "<p>I need some help with Perl.</p>\n\n<p>I have a list of IDs &amp; corresponding values in a file. Each ID acts as a key in a hash of hashes so there are multiple values for each key. I'm trying to open a second file &amp; assign a different value each time the key is encountered. Here is what I have so far:</p>\n\n<p>This code takes the input file &amp; builds the hash of hashes. $prot is the key &amp; $dir is the value. Each key has multiple values.</p>\n\n<pre><code>open (IN, \"file_name\");\nwhile (&lt;IN&gt;)\n{\n ($prot, $dir) = split;\n push (@{$dir{$prot}}, $dir );\n} \n</code></pre>\n\n<p>In the second part of the code, I would like to read each line of the file &amp; assign a different value using the first column in the line as the key. Each key will appear multiple times in the second file &amp; for each instance I would like it to print a different value.</p>\n\n<pre><code>open (FH, \"results_file\");\nwhile (&lt;FH&gt;)\n{\nchomp;\n@a=split;\n$prot=$a[1];\nforeach  (values %dir)\n{print \"$a[1]\".\"\\t\".\"@{$dir{$prot}}\".\"\\n\";}\n}\n</code></pre>\n\n<p>Right now the way the code is written it prints all the values for each key when it encounters the key.</p>\n\n<p>Thanks so much for any help that can be offered!</p>\n\n<p>Edit:</p>\n\n<p>The first input file is something along the lines of</p>\n\n<pre><code>BC_123456     dir_6789\nBC_456789     dir_3456\nBC_234689     dir_1298\nBC_123456     dir_3987\nBC_876432     dir_7642\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5470, "user_id": 2052097, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KOzAT.jpg?s=128&g=1", "display_name": "z atef", "link": "https://stackoverflow.com/users/2052097/z-atef"}, "edited": false, "score": 0, "creation_date": 1476761379, "post_id": 40098920, "comment_id": 67470461, "body": "what is the output of the command. were you able to run it?"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7034232, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/7b594bf6f0330b1a28e314c1a7c64913?s=128&d=identicon&r=PG", "display_name": "user7034232", "link": "https://stackoverflow.com/users/7034232/user7034232"}, "is_accepted": false, "score": 1, "last_activity_date": 1476760976, "creation_date": 1476760976, "answer_id": 40098983, "question_id": 40098920, "link": "https://stackoverflow.com/questions/40098920/perl-syntax-help/40098983#40098983", "title": "Perl Syntax help", "body": "<p>It subtracts 1 from first component. Of the @t array.\nI this is the Month field.\nNote: First [1], not Zeroth [0].</p>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=665996\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=665996</a></p>\n\n<p>Regards,</p>\n\n<p>Vern.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 3484482, "user_type": "registered", "profile_image": "https://graph.facebook.com/1262572323/picture?type=large", "display_name": "Pallvi Mahajan Sapen", "link": "https://stackoverflow.com/users/3484482/pallvi-mahajan-sapen"}, "edited": false, "score": 1, "creation_date": 1476779512, "post_id": 40099033, "comment_id": 67478395, "body": "Thanks a lot for your great explnation. it helps me a lot for understand.Once again thanks a lot for your help"}], "tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 3, "last_activity_date": 1476789955, "last_edit_date": 1476789955, "creation_date": 1476761409, "answer_id": 40099033, "question_id": 40098920, "link": "https://stackoverflow.com/questions/40098920/perl-syntax-help/40099033#40099033", "title": "Perl Syntax help", "body": "<p>An example is in order:</p>\n\n<pre><code>perl -MTime::Local=timelocal -e '\n    @t = split(/[-\\/]/, $ARGV[0]);\n    $t[1]--;\n    print timelocal(1,1,1,reverse @t);\n' \"2016-10-18\"\n</code></pre>\n\n<p>Will print out an epoch date (seconds since Jan 1, 1970)</p>\n\n<pre><code>1476766861\n</code></pre>\n\n<p>Having a look at the documentation: <a href=\"http://perldoc.perl.org/Time/Local.html\" rel=\"nofollow\">perldoc Time::Local</a> we see that:</p>\n\n<blockquote>\n  <p>It is worth drawing particular attention to the expected ranges for the values provided. The value for the day of the month is the actual day (ie 1..31),\n  while the month is the number of months since January (0..11). This is\n  consistent with the values returned from localtime() and gmtime().</p>\n</blockquote>\n\n<p>The first statement splits the string <code>2016-10-18</code> by dashes and slashes into the array <code>@t = (2016, 10, 18)</code>.  Perl arrays are 0-based by default, so <code>$t[1]</code> means the second item, i.e. the month, here set to <code>10</code>.  Since <code>localtime</code> takes months in the range <code>(0-11)</code> we need to subtract <code>1</code>, setting <code>$t[1]</code> to <code>9</code>.  The last statement just converts the date parts back into epoch time, reversing <code>@t</code> to match the order of arguments to timelocal:</p>\n\n<pre><code> #       timelocal( $sec, $min, $hour, $mday, $mon, $year )\n $time = timelocal(     1,    1,    1,    18,    9,  2016 ); # time in seconds = 1476766861\n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://linux.stackexchange.com"], "markdown_extensions": ["Prettify"], "launch_date": 1294871917, "open_beta_date": 1282071600, "closed_beta_date": 1281466800, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon@2.png", "favicon_url": "https://cdn.sstatic.net/Sites/unix/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/unix/Img/apple-touch-icon.png", "audience": "users of Linux, FreeBSD and other Un*x-like operating systems", "site_url": "https://unix.stackexchange.com", "api_site_parameter": "unix", "logo_url": "https://cdn.sstatic.net/Sites/unix/Img/logo.png", "name": "Unix &amp; Linux", "site_type": "main_site"}, "on_date": 1476760433, "question_id": 317092}, "owner": {"reputation": 1, "user_id": 3484482, "user_type": "registered", "profile_image": "https://graph.facebook.com/1262572323/picture?type=large", "display_name": "Pallvi Mahajan Sapen", "link": "https://stackoverflow.com/users/3484482/pallvi-mahajan-sapen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476789955, "creation_date": 1476755468, "question_id": 40098920, "link": "https://stackoverflow.com/questions/40098920/perl-syntax-help", "title": "Perl Syntax help", "body": "<p>I am new in perl and Can anyone explain me below command to understand what is purpose of using  $t[1]-- and timelocal(1,1,1,reverse @t).</p>\n\n<p>Below command used to convert timestamp into epoch format. but please explain me use of this command $t[1]-- and timelocal(1,1,1,reverse @t).</p>\n\n<pre><code>perl -MTime::Local=timelocal -e '@t = split(/[-\\/]/, $ARGV[0]); $t[1]--; print timelocal(1,1,1,reverse @t);' $date\n</code></pre>\n"}, {"tags": ["perl", "class", "oop", "hash"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476769289, "post_id": 40097065, "comment_id": 67472751, "body": "Here <code>print $self-&gt;{_devices}{$hash_key};</code> you <i>are</i> printing the hashref. Here <code>$self-&gt;{_devices}-&gt;{$hash_key}-&gt;{&#39;status&#39;};</code>, which is the same as <code>$self-&gt;{_devices}{$hash_key}{&#39;status&#39;};</code>, you are actually printing the values."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "edited": false, "score": 0, "creation_date": 1476753815, "post_id": 40097222, "comment_id": 67468682, "body": "Perhaps I misunderstood exactly what my assignment statement was doing. Where you state that I assign it to a non-existent key, I understood that I&#39;m assigning a set of unique keys. For each of these unique keys, I want a field &#39;status&#39;, which by default I set to &#39;0&#39;. Could I ask how you would make this assignment, and further, how you could later change the value of &#39;status&#39; to &#39;1&#39; by the use of setters/getters (if that&#39;s at all practical). Could I also ask how I&#39;d push an additional field, say, &#39;status2&#39;, and give that a default value? Appreciate it, regards."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "edited": false, "score": 0, "creation_date": 1476763581, "post_id": 40097222, "comment_id": 67470952, "body": "@Plexus Yes, it seemed to me that you got it backwards. &quot;<i>Assigning a key</i>&quot; is somewhat ambiguous -- you can &quot;assign (a value) to a key&quot;, or &quot;add a key&quot; to a hash (with some value).  If values in your <code>_ids</code> arrayref are supposed to be become keys in <code>_devices</code> hashref, then you do what I posted, <code>$self-&gt;{_devicess}{$id} = 0</code>.  Then the hashref <code>_devices</code> got a key <code>$id</code> which has value <code>0</code> associated with it.  Let&#39;s first clear this up -- is this what you want to do?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "edited": false, "score": 0, "creation_date": 1476764017, "post_id": 40097222, "comment_id": 67471045, "body": "@Plexus  But if you want that each <code>$id</code> (element of arrayref <code>_ids</code>) is a key that has an associated label <code>&#39;status&#39;</code>, that itself with has a value, then you need to add another level to your hashref, so <code>$self-&gt;{_devices}{$id}{&#39;status&#39;} = 0</code>.  Note that what you had before the edit, <code>$self-&gt;{_devices}{ids} = $id_value;</code> added a key which is the string <code>&#39;ids&#39;</code>. (That&#39;s not what you wanted, I think.)  What you have now, <code>$self-&gt;{_devices} = $id_value;</code> makes it into something yet else, a hashref <code>{  &#39;_devices&#39; =&gt; $id_value }</code>.  Check out these messages and let me know."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "edited": false, "score": 0, "creation_date": 1476764169, "post_id": 40097222, "comment_id": 67471086, "body": "@Plexus  I&#39;d advise a good read through the tutorial <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a> and the data-structures cookbook <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>.  But let me know so once we clear up what you need I&#39;ll add to my answer."}, {"owner": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "edited": false, "score": 0, "creation_date": 1476764249, "post_id": 40097222, "comment_id": 67471112, "body": "Apologies if this is unclear at the moment, I&#39;m trying to be clear here. Yes, the incoming items from my array ref are to become keys in _devices. Further, for each key, I want to give a label &#39;status&#39; (which I have failed to detail here), and then set this &#39;status&#39; property to a default value &#39;0&#39;. Between the key given from the array and the value &#39;0&#39;  I need &#39;status&#39;, and I would like to at a later time push some other parameter at the same level as &#39;status&#39;, perhaps &#39;status2&#39;. Can you suggest a way that I can view the hash and make these additions? Thank you zdim"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "edited": false, "score": 0, "creation_date": 1476764547, "post_id": 40097222, "comment_id": 67471177, "body": "@Plexus Alright, I got it now.  It was in your post but it just wasn&#39;t clear (for me).  I&#39;ll add to my answer."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "edited": false, "score": 0, "creation_date": 1476769381, "post_id": 40097222, "comment_id": 67472782, "body": "@Plexus  I have added to the answer.  First a note on hashrefs -- this is what you&#39;re missing.  I&#39;d suggest that you read up on it, from given references or your favorite material.  Then there&#39;s implementation of methods you ask for.  Note that this is a little simple, in particular with no error checking at all.  Let me know."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "edited": false, "score": 1, "creation_date": 1476769463, "post_id": 40097222, "comment_id": 67472815, "body": "@Plexus  Something you probably don&#39;t realize.  When you keep changing what you posted it is really difficult to answer.  And any answers that are already there may well be invalidated.  It is better to <i>add</i> to your question, leaving the original statement -- and code in particular -- intact."}, {"owner": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "edited": false, "score": 0, "creation_date": 1476809253, "post_id": 40097222, "comment_id": 67499018, "body": "Right! I&#39;ll add to my statement the next time, but everything I was inquiring about has been thoroughly answered here. The line: foreach my $stat (&#39;status&#39;, &#39;status2&#39;)  was unintuitive, but your instruction has greatly made sense of how to handle hashes - thank you for your help, I appreciate it :)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "edited": false, "score": 0, "creation_date": 1476812478, "post_id": 40097222, "comment_id": 67500820, "body": "@Plexus Great, glad it helped :).  A couple more notes.  (1) The loop <code>for  (@array)</code> needs <i>a list</i>, not necessarily an array.  So you can say <code>for (&#39;a&#39;, &#39;b&#39;)</code> -- or <code>for (qw(a b))</code>.   Any good list will do :).  So you can also do things like <code>for (map { split } @array)</code> etc. (This breaks array elems by space so you then iterate over words.) One shouldn&#39;t push this of course.  (2) One is allowed to drop quotes here <code>$hash{&#39;str&#39;}</code> to <code>$hash{str}</code>. Syntactic shortcut. (3) These are the same: <code>$rh-&gt;{a}-&gt;{b}-&gt;{c}</code> and <code>$rh-&gt;{a}{b}{c}</code>.  You&#39;ll find it in <code>perldsc</code> at the link in my answer."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1522692672, "last_edit_date": 1522692672, "creation_date": 1476746932, "answer_id": 40097222, "question_id": 40097065, "link": "https://stackoverflow.com/questions/40097065/object-oriented-perl-set-hash-values/40097222#40097222", "title": "object oriented perl, set hash values", "body": "<p><strong>Note</strong> &nbsp;  The short first part refers to the original question, which changed in the meanwhile. </p>\n\n<hr>\n\n<p>When you are setting up the hash, you iterate over the array with id's, using <code>$id_value</code> as the variable. Then you assign it to a <em>non-existent</em> key </p>\n\n<pre><code>$self-&gt;{_devices}{ids} = $id_value;  # what is 'ids' string?\n</code></pre>\n\n<p>Thus a key <code>'ids'</code> will be added and each assignment will overwrite the previous. Also, note that this way the <code>$id_value</code> (would) become values, not keys, contrary to what the question states.</p>\n\n<p>What is supposed to be in <code>$self-&gt;{_devices}</code> ?  If keys are id's, to be \"<em>initialized</em>\", say to <code>0</code></p>\n\n<pre><code>foreach my $id (@$id_ref)\n{\n    push @{$self-&gt;{_ids}}, $id;\n    $self-&gt;{_devices}{$id} = 0;\n}\n</code></pre>\n\n<p>There are more compact and clearer ways but let's first clarify if this is intended.</p>\n\n<hr>\n\n<p><em>Update to clarification in comments</em></p>\n\n<p>The objective is to construct a structure</p>\n\n<pre>\n_device --> id1 --> status --> 0/1\n            id2 --> status --> 0/1\n            ...\n</pre>\n\n<p>We also want to be able to read/change values, and add another kind of 'status'.  Let us first forget about classes and build this data structure.\nSee  tutorial <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a> and the data-structures cookbook <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>.</p>\n\n<p>In Perl we can use a hash reference for this, with further nested hash references</p>\n\n<pre><code>my $hashref = { \n    'id1' =&gt; { \n        'status'  =&gt; 0,\n        'status2' =&gt; 0\n    }, \n    'id2' =&gt; { \n        'status'  =&gt; 0,\n        'status2' =&gt; 0,\n    },\n    # ...\n};\n</code></pre>\n\n<p>The  <em>anonymous hash</em> <code>{ status =&gt; 0, status2 =&gt; 0 }</code> is assigned as a value to keys <code>'id1', 'id2'</code>. It is often loosely called <em>hashref</em>, meaning a reference to a hash (what is strictly speaking <code>\\%hash</code>). A hashref is a scalar, a single value, so it can be assigned to a key.  This is how we can build nested (complex) data structures, using <em>references</em>.  They are much like pointers.</p>\n\n<p>We can populate it in code like so</p>\n\n<pre><code>use warnings 'all';\nuse strict;\nuse Data::Dumper;  # to see our structures\n\nmy @ids = qw(id1 id2 id3);\n\nmy $hashref;\n\nforeach my $id (@ids) {\n    foreach my $stat ('status', 'status2') {\n        $hashref-&gt;{$id}{$stat} = 0;\n    }\n}\n\nprint Dumper($hashref);\n</code></pre>\n\n<p>The keys <code>$id</code> are added to the hash once encountered (<em>autovivified</em>). So are the keys <code>'status'</code> in the nested hash(ref), which are assigned the value <code>0</code>. We print and change the value simply by </p>\n\n<pre><code>$hashref-&gt;{$id}{'status'} = 1;\n\nprint \"$hashref-&gt;{$id}{'status'}\\n\";\n</code></pre>\n\n<p>We can add yet another 'status' the same way, <code>$hashref-&gt;{$id}{'status3'} = 0</code>.</p>\n\n<p>Back to the class. We use only one 'status' field. Note that <em>no</em> error checking is done.</p>\n\n<pre><code>sub Importids \n{\n    my ($self, $id_ref) = @_;\n\n    foreach my $id (@{$id_ref}) \n    {    \n        push @{$self-&gt;{_ids}}, $id;\n        $self-&gt;{_devices}{$id}{'status'} = 0;\n    }\n    return 1;\n}\n</code></pre>\n\n<p>How do we change values for given ids?  Let's first come up with interface. With ids in <code>$id</code> variables and their new values-to-be in <code>$val</code>'s, we can imagine a call</p>\n\n<pre><code>$obj-&gt;status( { $id1 =&gt; $val1, $id2 =&gt; $val2 } );             \n# Or\n$obj-&gt;status( $new_vals_for_ids_hashref );\n</code></pre>\n\n<p>This builds a hashref inside the call or uses one built previously.\nThen here is a method for it</p>\n\n<pre><code>sub status \n{\n    my ($self, $rhstat) = @_; \n\n    foreach my $id (keys %$rhstat) {\n        $self-&gt;{_devices}{$id} = $rhstat-&gt;{$id};\n    }\n    return 1;\n}\n</code></pre>\n\n<p>This adds new ids if they are not already there, or overwrites existing ones.\nWe can make this same sub be the getter as well -- if nothing is passed in</p>\n\n<pre><code>sub status \n{\n    my ($self, $rstat) = @_; \n\n    return $self-&gt;{_devices} if not defined $rstat; \n\n    foreach my $id (keys %$rstat) {\n        $self-&gt;{_devices}{$id} = $rstat-&gt;{$id};\n    }\n    return $self-&gt;{_devices};\n}\n</code></pre>\n\n<p>with intended use <code>my $devices = $obj-&gt;status();</code>.  Since we now return data in one case we do the same when ids are added/changed as well, for interface  consistency.</p>\n\n<p>You can add 'status' fields similarly,</p>\n\n<pre><code>$obj-&gt;add_status( [ qw(status2 status3) ] );\n</code></pre>\n\n<p>where <code>[ ... ]</code> is an <em>anonymous array</em>, with a method</p>\n\n<pre><code>sub add_status \n{\n    my ($self, $rstats) = @_;\n\n    foreach my $stat (@$rstats) \n    {\n        foreach my $id (@{$self-&gt;{_ids}}) \n        {\n            $self-&gt;{_devices}{$id}{$stat} = 0;\n        }\n    }\n    return 1;\n}\n</code></pre>\n\n<p>Note that there are more compact ways to work with lists of keys/values.</p>\n"}], "owner": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 40097222, "answer_count": 1, "score": 1, "last_activity_date": 1522692672, "creation_date": 1476745864, "last_edit_date": 1476766206, "question_id": 40097065, "link": "https://stackoverflow.com/questions/40097065/object-oriented-perl-set-hash-values", "title": "object oriented perl, set hash values", "body": "<p>I have a class:</p>\n\n<pre><code>sub new {\n\n    my ($class, $name) = @_;\n\n    my $self = {        \n        _ids =&gt; [],\n        _devices =&gt; {}       \n    };\n\n    bless ($self, $class);\n\n    return $self;\n\n}\n</code></pre>\n\n<p>I pass the subroutine an array, and say: </p>\n\n<pre><code>sub Importids {\n\n    my ($self, $id_ref) = @_;\n\n    foreach $id (@{$id_ref})\n    {        \n        push(@{$self-&gt;{_ids}}, $id);            \n    }\n\n}\n</code></pre>\n\n<p>I further would like to add into this function that I initialize the hash, but am having a hell of a time doing this.\nIn the end I want that my hash looks like this for a number of ids:</p>\n\n<pre><code>_device --&gt; id1|\n                --&gt; status --&gt; 0/1\n            id2|\n                --&gt; status --&gt; 0/1\n</code></pre>\n\n<p>where the id is the key.</p>\n\n<p>I tried to do this in the function as follows:</p>\n\n<pre><code>sub Importids {\n\n    my ($self, $id_ref) = @_;\n\n    foreach $id (@{$id_ref})\n    {    \n        push(@{$self-&gt;{_ids}}, $id);        \n    }\n\n    foreach my $id_value(@{$self-&gt;{_ids}})\n    {\n        $self-&gt;{_devices}{$id_value}{'status'} = 0;\n    }\n\n}\n</code></pre>\n\n<p>but when I go to check the contents as follows, it returns only the hex dump of the hashes</p>\n\n<pre><code>for my $hash_key (keys %{$self-&gt;{_devices}})\n{\n    print $self-&gt;{_devices}{$hash_key};\n    #print keys % {$self-&gt;_devices}};\n}\n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>HASH(0x....)\nHASH(0x....)\n...\n...\nHASH(0x....)\n</code></pre>\n\n<p>however, when I try:</p>\n\n<pre><code>for my $hash_key (keys %{$self-&gt;{_devices}})\n{\n    print $self-&gt;{_devices}-&gt;{$hash_key}-&gt;{'status'};\n\n}\n</code></pre>\n\n<p>I get what I want:</p>\n\n<pre><code>0\n0\n...\n0\n</code></pre>\n\n<p>How should I access the keys and also add an additional field such as status2''?</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476762326, "post_id": 40097054, "comment_id": 67470672, "body": "Have you tried wrapping your regex strings with <code>qr&#47;...&#47;</code> in your <code>%pattens</code> declaration?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476762390, "post_id": 40097054, "comment_id": 67470689, "body": "Also, it is no longer necessary to prepend subroutine calls with <code>&amp;</code>, i.e. you can just <code>checkrequiredfields;</code> instead of <code>&amp;checkrequiredfields;</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476777297, "post_id": 40097054, "comment_id": 67476976, "body": "This code <a href=\"http://stackoverflow.com/questions/40077049/global-symbol-formsequence-requires-explicit-package-name-at-line-37/\">looks rather familiar</a>. Before going too much further with it, you might look at <a href=\"http://stackoverflow.com/a/40083498/7231\">some of the issues I pointed out with it yesterday</a>."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1478331246, "post_id": 40097054, "comment_id": 68119261, "body": "At the absolute least, at the bare minimum, <a href=\"http://perldoc.perl.org/CGI.html\" rel=\"nofollow noreferrer\"><code>use CGI</code></a>. Don&#39;t do this by hand."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 0, "last_activity_date": 1478331135, "last_edit_date": 1495535560, "creation_date": 1476780585, "answer_id": 40103660, "question_id": 40097054, "link": "https://stackoverflow.com/questions/40097054/how-to-verify-form-in-perl-cgi/40103660#40103660", "title": "How to verify form in perl CGI?", "body": "<blockquote>\n  <p>when I enter incorrect format I don't get an error</p>\n</blockquote>\n\n<p>Where have you looked for the error? Your code has an error in it, so I think you'll be getting an error in the web server error log. The error is in the regex for checking the validity of the <code>phone</code> argument:</p>\n\n<pre><code>my %patterns = (\n        \"fname\" =&gt; '[A-Z][a-z]{2,50}',\n        \"phone\" =&gt; '[\\d{3}-\\d{3}-\\d{4}',\n        \"lname\" =&gt; '[A-Z][A-Za-z]{2,60}'\n                );\n</code></pre>\n\n<p>The <code>phone</code> regex has an extra <code>[</code> at the start of it. It you remove that, then I think that your code will work as expected.</p>\n\n<p>But, as <a href=\"https://stackoverflow.com/a/40083498/7231\">I said yesterday</a>, this code shows some rather old coding practices. I'm not sure where you got this code from ,but I would urge you to look into some more modern Perl coding resources. I've cleaned up your code a little below, but there are many more improvements that can be made.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n# Use warnings rather than \"-w\" on the shebang\nuse warnings;\n\n# Use the module that helps us write CGI programs\nuse CGI qw[:cgi];\n\nmy %errors;\n\nmy %fields = (\n  # No need to quote the LHS of =&gt;\n  lname =&gt; 'Last Name',\n  phone =&gt; 'Phone Number',\n  fname =&gt; 'First Name',  # Perl tip: Always add optional comma at end of list\n);\n\nmy %patterns = (\n  fname =&gt; '[A-Z][a-z]{2,50}',\n  phone =&gt; '\\d{3}-\\d{3}-\\d{4}',\n  lname =&gt; '[A-Z][A-Za-z]{2,60}',\n);\n\n\n#sequence that form fields are printed/processed\n# Less punctuation using qw(...)\nmy @formSequence = qw(fname lname phone);\n\n# Use the header function to print a header\nprint header(-charset =&gt; 'ISO-8859-1');\n\n# No ampersands on function calls (but parenthesese look nice)\nstartxhtml();\n\nif (request_method eq 'GET') {\n  printform();\n  exit;\n}\n\n# exit() above means we don't need the else block\n\n# Declare variables where they are used.\nmy %form = readformdata();\n\n# Inverted to logic here as checkrequiredfields() returns true (a hash of errors)\n# for invalid fields\nif (my %errors = checkrequiredfields(%form)) {\n  # Slightly weird logic here. If checkrequiredfields() ... else checkrequiredfields() ?\n  checkrequiredfields();\n  printform(%errors);\n} else {\n  print \"Form Data validated successfully!\";\n  exit;\n}\n\n\n# Don't use raw HTML. Use the Template Toolkit (or some other templating system)\nprint qq~&lt;/body&gt;&lt;/html&gt;\\n~;\n\n\nsub checkrequiredfields {\n  my %form = @_;\n\n  my %errors;\n\n  my $success = 1;\n  foreach (keys %fields) {\n    if($form{$_} !~ $patterns{$_}) {\n      $errors{$_} = \"Error: $fields{$_} is missing or incorrect format\\n\";\n      $success = 0;\n    }\n  }\n  return %errors;\n}\n\n# Please use a templating engine!\nsub printform {\n  # Get rid of \"uninitialised value\" warnings\n  my %errors = (\n    fname =&gt; '',\n    lname =&gt; '',\n    phone =&gt; '',\n  );\n\n  %errors = (%errors, @_) if @_;\n\n  print qq~&lt;html&gt;\n         &lt;head&gt;\n         &lt;title&gt;Taint Checking&lt;/title&gt;\n         &lt;/head&gt;\n         &lt;body&gt;\n         &lt;form action=\"/new-cgi/file5.cgi\" method=\"POST\"&gt;\n         &lt;center&gt;\n         &lt;h2&gt;Student Survery&lt;/h2&gt;\n         Last Name:&lt;input type=text name=lname value=$form{lname}&gt;\n         &lt;br&gt;\n         $errors{lname}\n         First Name:&lt;input type=text name=fname value=$form{fname}&gt;\n                 &lt;br&gt;\n         $errors{fname}\n         Phone Number:&lt;input type=text name=phone value=$form{phone}&gt;\n                 &lt;br&gt;\n         $errors{phone}\n         &lt;input type=submit value=\"Insert\" name=Insert&gt;\n         &lt;/form&gt;\n         &lt;/center&gt;\n         &lt;/body&gt;\n         &lt;/html&gt;\n         ~;\n}\n\n# Please use a templating system\nsub startxhtml {\n  print qq~\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;&lt;title&gt;Taint checking&lt;/title&gt;\n&lt;body&gt;\n~;\n}\n\n# Using the param() function from CGI.pm makes this a lot easier.\nsub readformdata {\n  my %form;\n  my @params = qw[fname lname phone];\n\n  foreach (@params) {\n    $form{$_} = param($_);\n  }\n\n  return %form;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7032462, "user_type": "registered", "profile_image": "https://graph.facebook.com/317499325293244/picture?type=large", "display_name": "Muhammad Abbas", "link": "https://stackoverflow.com/users/7032462/muhammad-abbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 40103660, "answer_count": 1, "score": 0, "last_activity_date": 1478331135, "creation_date": 1476745807, "question_id": 40097054, "link": "https://stackoverflow.com/questions/40097054/how-to-verify-form-in-perl-cgi", "title": "How to verify form in perl CGI?", "body": "<p>I am creating a CGI perl script where user enters first name, last name and phone number. I then check the data they entered with some regular expressions to make sure the data is in correct format for example: phone is numbers not letters.</p>\n\n<p>The problem is when I execute my script from browser I get the form, but when I enter incorrect format I don't get an error. I have tried changing my script, but I haven't corrected the issue.\nHere is my script:</p>\n\n<pre><code>    #!/usr/bin/perl -w\n\nuse strict; #options\n\nmy %errors;\nmy %form;\n\nmy %fields = (\n                \"lname\" =&gt; \"Last Name\",\n                \"phone\" =&gt; \"Phone Number\",\n                \"fname\" =&gt; \"First Name\"\n             );\n\nmy %patterns = (\n        \"fname\" =&gt; '[A-Z][a-z]{2,50}',\n        \"phone\" =&gt; '[\\d{3}-\\d{3}-\\d{4}',\n        \"lname\" =&gt; '[A-Z][A-Za-z]{2,60}'\n                );\n\n\n#sequence that form fields are printed/processed\nmy @formSequence = (\"fname\", \"lname\", \"phone\");\n\nprint \"Content-Type: text/html;charset=ISO-8859-1\\n\\n\";\n\n&amp;startxhtml;\n\nif ($ENV{REQUEST_METHOD} eq \"GET\") {\n        &amp;printform;\n        exit;\n}\nelse {\n        &amp;readformdata;\n    if (&amp;checkrequiredfields) {\n        print \"Form Data validated successfully!\";\n        exit;   \n    }\n    else {\n        &amp;checkrequiredfields;\n        &amp;printform;\n    }\n}\n\n\n=for\nif($ENV{REQUEST_METHOD} eq \"POST\")\n        {\n        &amp;readformdata();\n    #&amp;printformdata;\n                if(&amp;checkrequiredfields)\n                {\n                print \"Form data validated successfully\";\n                }\n        else\n                {\n                &amp;printform();\n                }\n}\n=cut\nprint qq~&lt;/body&gt;&lt;/html&gt;\\n~;\n\n\nsub checkrequiredfields\n{\n        my $success = 1;\n        foreach(keys (%fields))\n        {\n                if($form{$_} !~ $patterns{$_})\n                {\n                        $errors{$_} = \"Error: $fields{$_} is missing or incorrect format\\n\";\n                        $success = 0;\n                }\n        }\n        return $success;\n}\n\nsub printform\n{\n    print qq~&lt;html&gt;\n         &lt;head&gt;\n         &lt;title&gt;Taint Checking&lt;/title&gt;\n         &lt;/head&gt;\n         &lt;body&gt;\n         &lt;form action=\"/new-cgi/file5.cgi\" method=\"POST\"&gt;\n         &lt;center&gt;\n         &lt;h2&gt;Student Survery&lt;/h2&gt;\n         Last Name:&lt;input type=text name=lname value=$form{lname}&gt;\n         &lt;br&gt;\n         $errors{lname}\n         First Name:&lt;input type=text name=fname value=$form{fname}&gt;\n                 &lt;br&gt;\n         $errors{fname}\n         Phone Number:&lt;input type=text name=phone value=$form{phone}&gt;\n                 &lt;br&gt;\n         $errors{phone}\n         &lt;input type=submit value=\"Insert\" name=Insert&gt;\n         &lt;/form&gt;\n         &lt;/center&gt;\n         &lt;/body&gt;\n         &lt;/html&gt;\n         ~;\n\n\n}\n\nsub startxhtml\n{\nprint qq~\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;&lt;title&gt;Taint checking&lt;/title&gt;\n&lt;body&gt;\n~;\n}\n\nsub readformdata\n{\n        #Read and decode form data\n        my $input = &lt;&gt;;\n        my @pairs = split(/&amp;/, $input);\n        my ($name, $value);\n        foreach(@pairs)\n                {\n                ($name, $value) = split(/=/, $_);\n                $value =~ tr/+/ /;\n                $value =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack(\"C\", hex($1))/eg;\n                $form{$name} = $value;\n                }\n}\n</code></pre>\n\n<p>When I access this script from browser I get the form, but if I put wrong format I don't get the warning.</p>\n\n<p>Could someone please suggest what I am doing wrong. Thanks     </p>\n"}, {"tags": ["apache", "perl", "http-headers", "buffer", "flush"], "answers": [{"tags": [], "owner": {"reputation": 2566, "user_id": 2055163, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/38e40a8a1f83778784f9ffbed05584ed?s=128&d=identicon&r=PG", "display_name": "Thorsten Sch&#246;ning", "link": "https://stackoverflow.com/users/2055163/thorsten-sch%c3%b6ning"}, "is_accepted": true, "score": 0, "last_activity_date": 1476990145, "last_edit_date": 1495541957, "creation_date": 1476990145, "answer_id": 40162534, "question_id": 40096114, "link": "https://stackoverflow.com/questions/40096114/how-to-forcefully-flush-http-headers-in-apache-httpd/40162534#40162534", "title": "How to forcefully flush HTTP headers in Apache httpd?", "body": "<p>The answer is using <a href=\"http://www.htmlhelp.com/faq/cgifaq.2.html\" rel=\"nofollow noreferrer\">NPH-scripts</a>, which by default bypass the buffer of the web server. One needs to name the script <code>nph-*</code> and normally a web server should stop buffering headers and send them directly as they are printed and how they are. This works in my case, though using Apache httpd one needs to be careful:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/22483281/apache2-sends-two-http-headers-with-a-mapped-nph-cgi\">Apache2 sends two HTTP headers with a mapped &quot;nph-&quot; CGI</a></p>\n"}], "owner": {"reputation": 2566, "user_id": 2055163, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/38e40a8a1f83778784f9ffbed05584ed?s=128&d=identicon&r=PG", "display_name": "Thorsten Sch&#246;ning", "link": "https://stackoverflow.com/users/2055163/thorsten-sch%c3%b6ning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 40162534, "answer_count": 1, "score": 0, "last_activity_date": 1476990145, "creation_date": 1476740397, "question_id": 40096114, "link": "https://stackoverflow.com/questions/40096114/how-to-forcefully-flush-http-headers-in-apache-httpd", "title": "How to forcefully flush HTTP headers in Apache httpd?", "body": "<p>I need to periodically generate HTTP headers for clients and those headers need to be flushed to the client directly after one header is created. I can't wait for a body or anything else, I create a header and I want that Apache httpd sends it to the client.</p>\n\n<p>I've already tried using autoflush, manual flush, large header data around 8k of data, disabled deflate modules and whatever could stand in may way, but httpd seems to ignore my wished until all headers are created and only afterwards flushes them. Depending on how fast I generate headers, the httpd process even increases memory to some hundreds of megabytes, so seems to buffer all headers.</p>\n\n<p>Is there any way to get httpd to flush individual headers or is it impossible?</p>\n"}, {"tags": ["python", "string", "perl", "encoding", "md5"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1476734891, "post_id": 40094746, "comment_id": 67462298, "body": "Clearly, you don&#39;t want to Base64 encode the hex representation of the hash, but the hash itself."}, {"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "edited": false, "score": 0, "creation_date": 1480874457, "post_id": 40094746, "comment_id": 69132746, "body": "If you want to calculate the MD5 of big files, consider this solution: <a href=\"http://stackoverflow.com/questions/1131220/get-md5-hash-of-big-files-in-python/40961519#40961519\" title=\"get md5 hash of big files in python\">stackoverflow.com/questions/1131220/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1476735605, "post_id": 40094887, "comment_id": 67462710, "body": "<code>md5(s.encode()).digest()</code> is equivalent to <code>md5</code> not <code>md5_hex</code>"}], "tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": true, "score": 3, "last_activity_date": 1476735217, "creation_date": 1476735217, "answer_id": 40094887, "question_id": 40094746, "link": "https://stackoverflow.com/questions/40094746/python-equivalent-of-perl-digestmd5-functions/40094887#40094887", "title": "Python equivalent of Perl Digest::MD5 functions", "body": "<p>The first one would simply be calling <code>.digest</code> method on the <code>md5</code>:</p>\n\n<pre><code>&gt;&gt;&gt; from hashlib import md5\n&gt;&gt;&gt; s = 'abcdefg'\n&gt;&gt;&gt; md5(s.encode()).digest()\nb'z\\xc6l\\x0f\\x14\\x8d\\xe9Q\\x9b\\x8b\\xd2d1,Md'\n</code></pre>\n\n<p>And <code>md5_base64</code> is the digest but base64-encoded:</p>\n\n<pre><code>&gt;&gt;&gt; base64.b64encode(md5(s.encode()).digest())\nb'esZsDxSN6VGbi9JkMSxNZA=='\n</code></pre>\n\n<p>However, Perl doesn't return the hash padded, thus to be compatible, you'd strip the <code>=</code> padding characters:</p>\n\n<pre><code>&gt;&gt;&gt; base64.b64encode(md5(s.encode()).digest()).strip(b'=')\nb'esZsDxSN6VGbi9JkMSxNZA'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 1781837, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d0a7468ba9ed8ab20b35cdc7fedc4c6e?s=128&d=identicon&r=PG", "display_name": "user1781837", "link": "https://stackoverflow.com/users/1781837/user1781837"}, "edited": false, "score": 0, "creation_date": 1476735679, "post_id": 40094894, "comment_id": 67462768, "body": "I chose Antti Haapala&#39;s answer because he also covered the binary case but this is very good for the base64 part.  Thank you!"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1476735243, "creation_date": 1476735243, "answer_id": 40094894, "question_id": 40094746, "link": "https://stackoverflow.com/questions/40094746/python-equivalent-of-perl-digestmd5-functions/40094894#40094894", "title": "Python equivalent of Perl Digest::MD5 functions", "body": "<p>First, note <a href=\"https://metacpan.org/pod/Digest::MD5\" rel=\"nofollow\">Digest::MD5</a> documentation:</p>\n\n<blockquote>\n  <p>Note that the base64 encoded string returned is not padded to be a multiple of 4 bytes long. If you want interoperability with other base64 encoded md5 digests you might want to append the redundant string \"==\" to the result.</p>\n</blockquote>\n\n<p>Second, note that you want to Base64 encode the hash, not the hex representation of it:</p>\n\n<pre><code>print(base64.b64encode(hashlib.md5(string.encode()).digest()))\n</code></pre>\n\n<blockquote>\n  <p><code>esZsDxSN6VGbi9JkMSxNZA==</code></p>\n</blockquote>\n\n<pre><code>perl -MDigest::MD5=md5_base64 -E 'say md5_base64($ARGV[0])' abcdefg\n</code></pre>\n\n<blockquote>\n  <p><code>esZsDxSN6VGbi9JkMSxNZA</code></p>\n</blockquote>\n"}], "owner": {"reputation": 53, "user_id": 1781837, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d0a7468ba9ed8ab20b35cdc7fedc4c6e?s=128&d=identicon&r=PG", "display_name": "user1781837", "link": "https://stackoverflow.com/users/1781837/user1781837"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 0, "accepted_answer_id": 40094887, "answer_count": 2, "score": 0, "last_activity_date": 1476735243, "creation_date": 1476734621, "last_edit_date": 1476734765, "question_id": 40094746, "link": "https://stackoverflow.com/questions/40094746/python-equivalent-of-perl-digestmd5-functions", "title": "Python equivalent of Perl Digest::MD5 functions", "body": "<p>As part of a work project I am porting a Perl library to Python.  I'm comfortable with Python, much (much) less so with Perl.</p>\n\n<p>The perl code uses <a href=\"https://metacpan.org/pod/Digest::MD5\" rel=\"nofollow\">Digest::MD5</a>.  This module has three functions:</p>\n\n<ul>\n<li><code>md5($data)</code>  takes in data and spits out md5 digest in <em>binary</em></li>\n<li><code>md5_hex($data)</code> takes in data and spits out md5 digest in <em>hex</em></li>\n<li><code>md5_base64($data)</code> takes in data and spits out md5 digest in base64 encoding</li>\n</ul>\n\n<p>I can replicate md5_hex with something like this:</p>\n\n<pre><code>import hashlib\nstring = 'abcdefg'\nprint(hashlib.md5(string.encode()).hexdigest())\n</code></pre>\n\n<p>Which works fine (same inputs give same outputs at least).  I can't seem to get anything to match for the other two functions.  </p>\n\n<p>It doesn't help that string encodings are really not something I've done much with.  I've been interpreting the perl functions as saying they take an md5 digest and then re-encode in binary or base64, something like this:</p>\n\n<pre><code>import hashlib\nimport base64\nstring = 'abcdefg'\nmd5_string = hashlib.md5(string.encode()).hexdigest()\nprint(base64.b64encode(md5_string))\n</code></pre>\n\n<p>but maybe that's wrong?  I'm sure there's something fundamental I'm just missing.  </p>\n\n<p>The Perl doc is here:\n<a href=\"https://metacpan.org/pod/Digest::MD5\" rel=\"nofollow\">https://metacpan.org/pod/Digest::MD5</a></p>\n"}, {"tags": ["perl", "timeout", "telnet"], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 5969269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4509052e5469c84b3b9158d775ea9d2c?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Serra", "link": "https://stackoverflow.com/users/5969269/pedro-serra"}, "edited": false, "score": 0, "creation_date": 1476730144, "post_id": 40093511, "comment_id": 67459857, "body": "Thanks you. I want to test some proxy servers and I need the fastest way to see if a host:port is responding."}], "tags": [], "owner": {"reputation": 768, "user_id": 4623259, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sNAyd.png?s=128&g=1", "display_name": "iPherian", "link": "https://stackoverflow.com/users/4623259/ipherian"}, "is_accepted": false, "score": 0, "last_activity_date": 1476729945, "creation_date": 1476729945, "answer_id": 40093511, "question_id": 40093384, "link": "https://stackoverflow.com/questions/40093384/timeout-not-working-on-perl-nettelnet/40093511#40093511", "title": "Timeout not working on perl Net::Telnet", "body": "<p>The telnet protocol involves various automated exchanges, which <code>Net::Telnet</code> handles behind the scenes. <code>open</code> does more than just connect.</p>\n\n<p>Use this to get a clearer idea of what's going on:</p>\n\n<pre><code>my $tel = new Net::Telnet (Timeout =&gt; 2, Dump_Log =&gt; $filename);\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 5969269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4509052e5469c84b3b9158d775ea9d2c?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Serra", "link": "https://stackoverflow.com/users/5969269/pedro-serra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476729945, "creation_date": 1476729426, "question_id": 40093384, "link": "https://stackoverflow.com/questions/40093384/timeout-not-working-on-perl-nettelnet", "title": "Timeout not working on perl Net::Telnet", "body": "<p>The Timeout is not working on the simple code below:</p>\n\n<pre><code>my $t=time;\nmy $tel = new Net::Telnet (Timeout =&gt; 2);\neval{\n    $tel-&gt;open(Host=&gt;$host,Port=&gt;$port) || print \"Not OK\";\n}\nmy $interval=time-$t;\nprint \"Seconds: $interval\";\n</code></pre>\n\n<p>When I try with some hosts, sometimes I get 20 seconds or more.\nI am using ActiveState Perl, Win7.</p>\n"}, {"tags": ["perl", "post", "lwp"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1476722122, "post_id": 40091293, "comment_id": 67455575, "body": "Rather than &#39;something went wrong&#39; maybe check the status code with <code>$res -&gt; code</code>?"}, {"owner": {"reputation": 562, "user_id": 3210987, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e6c01edf1fca851f14d376eb9d2c15d8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex_adl04", "link": "https://stackoverflow.com/users/3210987/alex-adl04"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1476722245, "post_id": 40091293, "comment_id": 67455640, "body": "@Sobrique the response is actually successful but I will change it to reflect on that (which is a great idea by the way) thanks!! any further suggestions?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1476722387, "post_id": 40091293, "comment_id": 67455708, "body": "Well, if the response is successful, then that means you need to figure out what&#39;s happening on the remote server. e.g. check the logs on the webserver."}], "answers": [{"tags": [], "owner": {"reputation": 5099, "user_id": 406224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc79fa6fa58e2a4f5e6c2f803cabc48?s=128&d=identicon&r=PG", "display_name": "oalders", "link": "https://stackoverflow.com/users/406224/oalders"}, "is_accepted": true, "score": 1, "last_activity_date": 1476723535, "creation_date": 1476723535, "answer_id": 40091859, "question_id": 40091293, "link": "https://stackoverflow.com/questions/40091293/lwp-post-request-not-working/40091859#40091859", "title": "LWP POST request not working", "body": "<p>Try debugging your script like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse HTTP::Request::Common;\nuse LWP::ConsoleLogger::Easy qw( debug_ua );\nuse LWP::UserAgent;\n\n# use this {\"process\": \"mobileGps\",\"phone\": \"9565551236\"}\n\nmy $url = \"the url goes here\";\nmy $json = '{data :{\"process\" : \"mobileGps\", \"phone\" : \"9565551236\"}}';\n\nmy $req = HTTP::Request-&gt;new(POST =&gt; $url);\n\n$req-&gt;header('Content-Type' =&gt;'application/json');\n$req-&gt;content($json);\n\nmy $ua = LWP::UserAgent-&gt;new;\ndebug_ua( $ua );\nmy $res = $ua-&gt;request($req);\n\n\nif ($res-&gt;is_success) {\n    print \"It worked\";\n    print $res-&gt;decoded_content;\n} else {\n    print $res-&gt;code;\n}\n</code></pre>\n\n<p>That will (hopefully) give you a better idea of what's going on.</p>\n"}, {"tags": [], "owner": {"reputation": 14, "user_id": 4286135, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-G7GfqM8I-D4/AAAAAAAAAAI/AAAAAAAAAMA/Dj44VvGT7AU/photo.jpg?sz=128", "display_name": "Rohit Singhal", "link": "https://stackoverflow.com/users/4286135/rohit-singhal"}, "is_accepted": false, "score": -1, "last_activity_date": 1476727134, "creation_date": 1476727134, "answer_id": 40092792, "question_id": 40091293, "link": "https://stackoverflow.com/questions/40091293/lwp-post-request-not-working/40092792#40092792", "title": "LWP POST request not working", "body": "<p>The code is fine. The problem must be with the server that is serving the request upon status code 200. You should check at server's end.</p>\n"}, {"comments": [{"owner": {"reputation": 562, "user_id": 3210987, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e6c01edf1fca851f14d376eb9d2c15d8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex_adl04", "link": "https://stackoverflow.com/users/3210987/alex-adl04"}, "edited": false, "score": 0, "creation_date": 1477499550, "post_id": 40094957, "comment_id": 67795436, "body": "You know, I was just trying to finish something that I am doing just to pass time learning perl, I thought of it much like asking a coworker for pointers. People ask way worse questions in hackatons, but I can only imagine if the normal response would be &quot;you can&#39;t figure it out yourself?&quot; normally people ask for other people for help. It was a simple question really, and I didn&#39;t even use your code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 562, "user_id": 3210987, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e6c01edf1fca851f14d376eb9d2c15d8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex_adl04", "link": "https://stackoverflow.com/users/3210987/alex-adl04"}, "edited": false, "score": 0, "creation_date": 1477578408, "post_id": 40094957, "comment_id": 67832710, "body": "@Alex_adl04: If you are trying to learn Perl then there is much more reason why you should at least attempt the debugging process yourself. You will learn nothing by being handed a debugged solution. I don&#39;t see how hackathons are in any way relevant, but I can only imagine if the usual approach were &quot;please fix this for me&quot;. We would end up with a world of people who knew only how to get other people to do their stuff for them. I don&#39;t care a jot whether or not you used my code. The vast majority of people who use these answers came here searching for help with a similar problem."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 562, "user_id": 3210987, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e6c01edf1fca851f14d376eb9d2c15d8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex_adl04", "link": "https://stackoverflow.com/users/3210987/alex-adl04"}, "edited": false, "score": 0, "creation_date": 1477578770, "post_id": 40094957, "comment_id": 67832965, "body": "@Alex_adl04: Notice that even your accepted answer says <i>&quot;Try debugging your script&quot;</i>. No one should need to be told that. You also have a downvote on your question, so someone else agrees with me."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1476736836, "last_edit_date": 1476736836, "creation_date": 1476735507, "answer_id": 40094957, "question_id": 40091293, "link": "https://stackoverflow.com/questions/40091293/lwp-post-request-not-working/40094957#40094957", "title": "LWP POST request not working", "body": "<p>Can you not use the debugger, or add some print statements to see how your program is progressing?</p>\n\n<p>If not then this is going to be another case of on-line turn-by-turn debugging, which benefits no one except the OP, and the ultimate diagnosis is that they should have learned the language first</p>\n\n<p>The internet can be wise, but it will make many more <em>artisans Pretender</em> than craftsmen</p>\n\n<p>Please don't ever expect to make a half-hearted attempt at a sketch, and then rope in the rest of the world to finish your job. It takes a <em>huge</em> amount of experience, aptitude, and understanding to get even a <code>\"What's your name\" .. \"Hello\"</code> program working, and things only get harder thereafter</p>\n\n<p>If you don't like being careful and thorough, and would rather ask for people to do your stuff for you than discover a solution by experimentation, then you are a manager, not a programmer. I hope you will never try to advance a software career by getting great at delegating, because that doesn't work with software</p>\n\n<p>Here. Use this as you will. The world is full of managers; it is good programmers that we need</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse constant URL =&gt; 'http://example.com/';\n\nuse LWP;\n\nmy $ua  = LWP::UserAgent-&gt;new;\n\nmy $json = '{}';\n\nmy $req = HTTP::Request-&gt;new( POST =&gt; URL );\n$req-&gt;header( content_type =&gt; 'application/json' );\n$req-&gt;content( $json );\n\nmy $res = $ua-&gt;request( $req );\n\nsay $res-&gt;as_string;\n</code></pre>\n"}], "owner": {"reputation": 562, "user_id": 3210987, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e6c01edf1fca851f14d376eb9d2c15d8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex_adl04", "link": "https://stackoverflow.com/users/3210987/alex-adl04"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1186, "favorite_count": 0, "accepted_answer_id": 40091859, "answer_count": 3, "score": 0, "last_activity_date": 1476736836, "creation_date": 1476721467, "last_edit_date": 1476734330, "question_id": 40091293, "link": "https://stackoverflow.com/questions/40091293/lwp-post-request-not-working", "title": "LWP POST request not working", "body": "<p>The <code>if</code> statement is showing me that there is a response, but when I try to <code>print</code> the response I get nothing</p>\n\n<pre><code>use LWP::UserAgent;\n\nuse strict;\nuse warnings;\n\nuse HTTP::Request::Common;\n\n# use this {\"process\": \"mobileGps\",\"phone\": \"9565551236\"}\n\nmy $url  = \"the url goes here\";\nmy $json = '{data :{\"process\" : \"mobileGps\", \"phone\" : \"9565551236\"}}';\n\nmy $req = HTTP::Request-&gt;new( POST =&gt; $url );\n\n$req-&gt;header( 'Content-Type' =&gt; 'application/json' );\n$req-&gt;content( $json );\n\nmy $ua  = LWP::UserAgent-&gt;new;\nmy $res = $ua-&gt;request( $req );\n\nif ( $res-&gt;is_success ) {\n    print \"It worked\";\n    print $res-&gt;decoded_content;\n}\nelse {\n    print $res-&gt;code;\n}\n</code></pre>\n\n<p>I do have the URL: I just took it out for the purpose of this example.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["perl", "directory", "readfile"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1476721015, "post_id": 40091108, "comment_id": 67454936, "body": "The problem with <code>glob</code> is that you can do <code>glob(quotemeta($dir) . &#39;&#47;*&#39;)</code> on non-Windows machines, but I seem to remember this failing on Windows machine because the escaping rules there are really weird (to allow <code>c:\\foo</code>)."}, {"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476721911, "post_id": 40091108, "comment_id": 67455459, "body": "Thank you @Sobrique. Grateful for the example too. Very helpful to see that. The same question I was referring to also show glob and highlighted not allowing for spaces in the path name (although not an issue for me here). Also, appreciate your comment about single character variable names - it was originally $pth which I truncated to just $p for the question. Will refrain from doing that in future."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1476720744, "creation_date": 1476720744, "answer_id": 40091108, "question_id": 40090987, "link": "https://stackoverflow.com/questions/40090987/perl-dirhandle/40091108#40091108", "title": "Perl: Dirhandle,", "body": "<p>Personally, I'd suggest that's too complicated, and what you <em>probably</em> want is <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\"><code>glob</code></a>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nforeach my $file ( glob \"E:\\\\parent\\\\sub1\\\\sub2\\\\*\" ) {\n   print $file,\"\\n\";\n}\n</code></pre>\n\n<p>Although note - glob gives you the <em>path</em> to the file, not the filename. That's (IMO) generally more useful, because you can just pass the result to <code>open</code>, where if you're doing a <code>readdir</code> you get a file name and need to stick a path on it. </p>\n\n<p>However if you do want to persist with doing it via <a href=\"http://perldoc.perl.org/DirHandle.html\" rel=\"nofollow\"><code>DirHandle</code></a>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse DirHandle;\n\nmy $dir_handle = DirHandle -&gt; new ( \"C:\\\\Users\\\\Rolison\\\\\" ); \nwhile ( my $entry = $dir_handle -&gt; read ) {\n   print $entry,\"\\n\";\n}\n</code></pre>\n\n<p>Don't use <code>$p</code> as a variable name - single character variable names are almost always bad style. </p>\n"}, {"comments": [{"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476722091, "post_id": 40091288, "comment_id": 67455557, "body": "Thanks @DaveCross. Useful to know about the slashes interchangeability."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1476721841, "last_edit_date": 1476721841, "creation_date": 1476721456, "answer_id": 40091288, "question_id": 40090987, "link": "https://stackoverflow.com/questions/40090987/perl-dirhandle/40091288#40091288", "title": "Perl: Dirhandle,", "body": "<p>It's probably worth pointing out that Windows is quite happy to use forward slashes (<code>/</code>) as directory separators - which avoids having to have all those ugly double backslashes.</p>\n\n<pre><code>my $dir_handle = DirHandle-&gt;new('E:/parent/sub1/sub2/');\nwhile ( my $entry = $dir_handle-&gt;read ) {\n  say $entry;\n}\n</code></pre>\n"}], "owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 40091288, "answer_count": 2, "score": 0, "last_activity_date": 1476721841, "creation_date": 1476720383, "question_id": 40090987, "link": "https://stackoverflow.com/questions/40090987/perl-dirhandle", "title": "Perl: Dirhandle,", "body": "<p>I was reading <a href=\"https://stackoverflow.com/questions/22566/how-do-i-read-in-the-contents-of-a-directory-in-perl\">how-do-i-read-in-the-contents-of-a-directory</a> and wanted to find out more about doing it without opening and closing directories as shown in @davidprecious' answer. Tried to read up on <a href=\"http://perldoc.perl.org/DirHandle.html\" rel=\"nofollow\">DirHandle</a> (hoped for more explanation and example) and several other places simply redirected me to the same perldoc page. Still unsure about where to stipulate the path to read. </p>\n\n<p>Say if I wanted the contents of \"E:\\parent\\sub1\\sub2\\\" and put that into a string variable like $p, where do I mention $p when using Dirhandle?</p>\n\n<p>Would appreciate some guidance. Thanks.</p>\n"}, {"tags": ["perl", "oop", "moose"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1476710540, "post_id": 40086810, "comment_id": 67447472, "body": "Actually, my answer gives you something else than what you ask for in your last sentence. To do <code>$cache-&gt;get_users-&gt;get_name(&#39;John&#39;)</code>, you would have to create another class, where <code>get_users</code> returns an instance of that class. It would then have to have a <code>get_name</code> method. That would in turn have to look up the names. Either by iterating over all the users every time, essentially abstracting (hiding) the logic from the user, or by doing it once and caching/indexing it the way I described in my answer. It&#39;s probably a question of interface design which one you prefer. I&#39;d go with my <code>find</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1476711041, "post_id": 40086810, "comment_id": 67447880, "body": "Why do you allow <code>undef</code> for your attributes? In case of the <code>users</code>, you even have a default. The <code>name</code> of the user can likely be <code>ro</code>, and then it&#39;s a String and stays a string and there&#39;s no need for allowing <code>undef</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476712661, "post_id": 40086810, "comment_id": 67449182, "body": "Your text says you&#39;re using Mouse, but your examples are using Moose. Which is it? They both exist."}, {"owner": {"reputation": 307, "user_id": 6013979, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9a594885e641ccaa827d19d1ca303c4?s=128&d=identicon&r=PG&f=1", "display_name": "yulivee", "link": "https://stackoverflow.com/users/6013979/yulivee"}, "edited": false, "score": 0, "creation_date": 1476716598, "post_id": 40086810, "comment_id": 67452101, "body": "I actually use Mouse, I think a typo caught me here."}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 6013979, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9a594885e641ccaa827d19d1ca303c4?s=128&d=identicon&r=PG&f=1", "display_name": "yulivee", "link": "https://stackoverflow.com/users/6013979/yulivee"}, "edited": false, "score": 0, "creation_date": 1476710927, "post_id": 40087339, "comment_id": 67447779, "body": "CHI looks like a great place to start. Thank you very much for your detailed answer!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1476709939, "creation_date": 1476709939, "answer_id": 40087339, "question_id": 40086810, "link": "https://stackoverflow.com/questions/40086810/perl-searching-in-list-of-objects-which-are-an-accessor-of-another-object/40087339#40087339", "title": "perl - searching in list of objects which are an accessor of another object", "body": "<p><strong>No</strong>. At least not universally. You can of course build indexes for common things. Or you could cache searches once you have done them.</p>\n\n<p>Lookups are best implemented as hashes. Those could be attached to the UserCache object. Something like:</p>\n\n<pre><code>my @users = $cache-&gt;find( name =&gt; 'John' );\n</code></pre>\n\n<p>That would internally map to a hashref with search fields.</p>\n\n<pre><code>package UserCache;\n#...\n\nhas _search_index =&gt; (\n    is  =&gt; 'ro',\n    isa =&gt; 'HashRef',\n    default =&gt; sub { {} },\n);\n</code></pre>\n\n<p>And the hash reference would look something like this:</p>\n\n<pre><code>{\n    name =&gt; {\n        John =&gt; [\n            User-&gt;new( name =&gt; 'John', last_name =&gt; 'Smith' ),\n            User-&gt;new( name =&gt; 'John', last_name =&gt; 'Wayne' ),\n            User-&gt;new( name =&gt; 'John', last_name =&gt; 'Bon Jovi' ),\n        ],\n        James =&gt; [ ... ],\n    },\n    id =&gt; {\n        # ...\n    },\n),\n</code></pre>\n\n<p>But again, you'd have to build those. So you need to do the lookup once. But I think the lookup should be done inside UserCache and stored there too. </p>\n\n<pre><code>sub find {\n    my ($self, $key, $value) = @_;\n\n    # get operation\n    return @{ $self-&gt;_search_index-&gt;{$key}-&gt;{$value} } \n        if exists $self-&gt;_search_index-&gt;{$key}-&gt;{$value};\n\n    # set operation\n    foreach my $user ( @{ $self-&gt;users } ) {\n        push @{ $self-&gt;_search_index-&gt;{$key}-&gt;{$value} }, $user\n            if $user-&gt;$key eq $value\n    }\n    return @{ $self-&gt;_search_index-&gt;{$key}-&gt;{$value} } \n}\n</code></pre>\n\n<p>This is a very naive implementation and it doesn't support multiple lookups, but it's a start. </p>\n\n<p>Note that if you have a lot of users and a lot of indexes, the data structure might become large.</p>\n\n<p>To make it easier, <a href=\"https://v1.metacpan.org/pod/Moose::Meta::Attribute::Native::Trait::Hash\" rel=\"nofollow\">Moose's built-in traits</a> might be helpful. If you want a stronger cache behavior, look at <a href=\"http://p3rl.org/CHI\" rel=\"nofollow\">CHI</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 307, "user_id": 6013979, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9a594885e641ccaa827d19d1ca303c4?s=128&d=identicon&r=PG&f=1", "display_name": "yulivee", "link": "https://stackoverflow.com/users/6013979/yulivee"}, "edited": false, "score": 1, "creation_date": 1476710886, "post_id": 40087500, "comment_id": 67447747, "body": "Thanks for the hint that I am leaking Implementation details. I completely overlooked this!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1478278836, "post_id": 40087500, "comment_id": 68104733, "body": "This is super useful, thank you!  I somehow missed this interesting question."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 5, "last_activity_date": 1476719067, "last_edit_date": 1476719067, "creation_date": 1476710383, "answer_id": 40087500, "question_id": 40086810, "link": "https://stackoverflow.com/questions/40086810/perl-searching-in-list-of-objects-which-are-an-accessor-of-another-object/40087500#40087500", "title": "perl - searching in list of objects which are an accessor of another object", "body": "<p>You don't really have to write the <code>UserCache</code> class yourself. Instead, use <a href=\"https://metacpan.org/pod/CHI\" rel=\"nofollow\">CHI</a> to cache users you want to cache under the key you want to use for lookups. If you want, you can wrap your cache class to abstract away from the specific cache implementation.</p>\n\n<p>Also, you have this:</p>\n\n<pre><code>push @{ $cache-&gt;users }, $user;\n</code></pre>\n\n<p>where you leak implementation details. Instead, your <code>UserCache</code> object needs something like a <code>save_user</code> method so the code it uses does not depend on the implementation details.</p>\n\n<pre><code>$cache-&gt;save_user( $user );\n</code></pre>\n\n<p>For Moose objects, you get <a href=\"https://metacpan.org/pod/Moose::Meta::Attribute::Native::Trait::Array\" rel=\"nofollow\">Moose::Meta::Attribute::Native::Trait::Array</a>; for Mouse, you get <a href=\"https://metacpan.org/pod/MouseX::NativeTraits::ArrayRef\" rel=\"nofollow\">MouseX::NativeTraits::ArrayRef</a>.</p>\n"}], "owner": {"reputation": 307, "user_id": 6013979, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9a594885e641ccaa827d19d1ca303c4?s=128&d=identicon&r=PG&f=1", "display_name": "yulivee", "link": "https://stackoverflow.com/users/6013979/yulivee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 40087339, "answer_count": 2, "score": 3, "last_activity_date": 1476719067, "creation_date": 1476708494, "last_edit_date": 1476716633, "question_id": 40086810, "link": "https://stackoverflow.com/questions/40086810/perl-searching-in-list-of-objects-which-are-an-accessor-of-another-object", "title": "perl - searching in list of objects which are an accessor of another object", "body": "<p>I am a Perl-OO beginner and I am encountering a design-challenge. I hope you can give me some hints to get to an elegant solution. I am working with Mouse Object System here.</p>\n\n<p>For a minimal example lets say I have a User-Object. A user has a name.</p>\n\n<pre><code>package User;\nuse Mouse;    \n\nhas \"name\" =&gt; (\n   is        =&gt; \"rw\",\n   isa       =&gt; \"Str|Undef\",\n);  \n</code></pre>\n\n<p>Then I have a User-Cache-Object, which gets a list of all Users (from an LDAP-Server). You can say this is a \"has-a\" Relationship between the User Cache and the User.</p>\n\n<pre><code>package UserCache;\nuse Mouse;    \n\nhas \"users\" =&gt; (\n   is        =&gt; 'rw',\n   isa       =&gt; 'ArrayRef|Undef',\n   default   =&gt; sub { [] },\n);  \n</code></pre>\n\n<p>I store this list of Users as an Array of User-Objects in the accessor of the User-Cache.</p>\n\n<pre><code> my $cache = UserCache-&gt;new();\n\n foreach my $entry ( $ldap-&gt;searchGetEntries() ) { \n      my $user = User-&gt;new();\n      $user-&gt;name($entry-&gt;get_value('userdn'));\n      push @{ $cache-&gt;users }, $user;\n }\n</code></pre>\n\n<p>Now this is where my Problem comes in. If I want to find a User-Object with specific attributes (e.g. a User named John), I have to loop over this whole Array of User-Objects and query each object for its name. When given a list of names, this gets a really inefficient process.</p>\n\n<pre><code>foreach my $user ( @{ $cache-&gt;users } ) {\n      if ( $user-&gt;name eq 'John' ) {\n           #do something with John\n      }...\n} \n</code></pre>\n\n<p>Is there a way of storing Lists of Objects in other Objects in a way, that I can efficently search? Like <em>$cache->get_users->get_name('John')</em> and that returns the object I need?</p>\n"}, {"tags": ["perl", "telnet"], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1488492003, "last_edit_date": 1495542712, "creation_date": 1476745247, "answer_id": 40096968, "question_id": 40084749, "link": "https://stackoverflow.com/questions/40084749/telnet-command-output-not-completely-printed-when-executing-through-open2-of-per/40096968#40096968", "title": "telnet command output not completely printed when executing through open2 of perl", "body": "<p>You didn't say anything about your <code>$command</code>, but this works for me.</p>\n\n<pre><code>use warnings 'all';\nuse strict;\n\nuse IPC::Open2;\n\nmy $host = 'google.com';\n\nmy $pid = open2(\\*RDR, \\*WTR, \"telnet $host 80 2&gt;&amp;1\") \n    or die \"Can't contact $host: $!\";\n\nprint WTR \"GET\\n\";    \nprint WTR \"quit\\n\";\n\nwhile (my $line = &lt;RDR&gt;)\n{\n    print $line if $. &lt;= 10;      # print only first 10 lines\n}   \nclose RDR;\n\nwaitpid($pid, 0);\nmy $child_exit_status = $? &gt;&gt; 8;  # check how it went\n</code></pre>\n\n<p>This prints the whole page (without <code>if ...</code>). Printing is limited to 10 lines for convenience.</p>\n\n<p>Please read carefully through the documentation <a href=\"http://perldoc.perl.org/IPC/Open2.html\" rel=\"nofollow noreferrer\">IPC::Open2</a> since all of this is involved.</p>\n\n<blockquote>\n  <p><code>open2()</code> returns the process ID of the child process. [...]<br>\n    <code>open2()</code> does not wait for and reap the child process after it exits. [...]<br>\n      This whole affair is quite dangerous, as you may block forever. [...]</p>\n</blockquote>\n\n<p>See also <a href=\"http://perldoc.perl.org/IPC/Open3.html\" rel=\"nofollow noreferrer\">IPC::Open3</a>.  A well-regarded module is <a href=\"http://search.cpan.org/~toddr/IPC-Run-0.94/lib/IPC/Run.pm\" rel=\"nofollow noreferrer\">IPC::Run</a>, if possible to have installed. Also excellent is <a href=\"http://search.cpan.org/~dagolden/Capture-Tiny-0.44/lib/Capture/Tiny.pm\" rel=\"nofollow noreferrer\">Tiny::Capture</a>, see a very similar problem with its use in <a href=\"https://stackoverflow.com/questions/40080797/using-telnet-with-pipe-with-backticks-in-perl/40081020#40081020\">this recent post</a>. Both are very well known so perhaps your admins can accept them.</p>\n\n<hr>\n\n<p>I suggest to switch to lexical filehandles</p>\n\n<pre><code>my $pid = open2 my $read_fh, my $write_fh, \"telnet $host 80 2&gt;&amp;1\" \n    or die \"Can't contact $host: $!\";\n</code></pre>\n\n<p>and change <code>RDR</code> and <code>WTR</code> throughout.</p>\n\n<hr>\n\n<p>I don't know how Windows environment affects the above.  The modules would give some confidence but I am not sure how <code>open2</code> fares.  Another possible culprit may be with buffering, even though I don't see how it would be in your code.  Just in case, you can try</p>\n\n<pre><code>use IO::Handle;\nSTDERR-&gt;autoflush(1);\nSTDOUT-&gt;autoflush(1);\n</code></pre>\n\n<p>The <code>IO::Handle</code> is loaded by default starting from, I think, v5.16.</p>\n\n<p>There is also see a discussion on this <a href=\"http://perldoc.perl.org/perlfaq5.html#How-do-I-flush%2Funbuffer-an-output-filehandle%3F-Why-must-I-do-this%3F\" rel=\"nofollow noreferrer\">in perlfaq5</a>, with links for further reading.</p>\n\n<p>However, if you do have a buffering problem it is most likely on the other end and that may not be easy to resolve without modules. To quote from Camel</p>\n\n<blockquote>\n  <p>As mentioned, the <code>IO::Pty</code> and <code>Expect</code> modules provide a pseudo-tty device, giving you line-buffering without needing to modify the program on the end of the pipe.</p>\n</blockquote>\n"}], "owner": {"reputation": 15, "user_id": 7030551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vOkRqVbSR60/AAAAAAAAAAI/AAAAAAAAAoM/k4dxvX4egN8/photo.jpg?sz=128", "display_name": "Suravam", "link": "https://stackoverflow.com/users/7030551/suravam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 40096968, "answer_count": 1, "score": 1, "last_activity_date": 1488492003, "creation_date": 1476702236, "question_id": 40084749, "link": "https://stackoverflow.com/questions/40084749/telnet-command-output-not-completely-printed-when-executing-through-open2-of-per", "title": "telnet command output not completely printed when executing through open2 of perl", "body": "<p>I am a newbie to perl.</p>\n\n<p>my aim: executing telnet command and capturing full output</p>\n\n<p>my code:</p>\n\n<pre><code>use IPC::Open2;\n\nopen2(\\*RDR, \\*WTR, \"telnet host_name 8000 2&gt;&amp;1\") or die (\"could not contact host_name\");\n\nprint WTR \"$command\\n\";\n\nprint WTR \"quit\\n\";\nforeach my $line (&lt;RDR&gt;)\n   {\n      print $line.\"\\n\";\n   }\nclose RDR;\n</code></pre>\n\n<p>Problem: when executing the telnet command through putty, more than 12 lines of output is printed. But through this perl script only 3 lines are printed</p>\n\n<p>Resolution attempts:\nI have tried Expect, Net::Telnet, IO::Pty. But due to security reasons these modules were not installed in my blade server.</p>\n\n<p>Question: So, without using any of these helpful magic modules, how to get complete output of any telnet command using perl? Is there any restriction in number of characters in output buffer?</p>\n"}, {"tags": ["perl", "mechanize"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476701751, "post_id": 40084037, "comment_id": 67441570, "body": "It would usually follow the redirect."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1863, "user_id": 7030477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dea67a568e678148fb378672385ec4d5?s=128&d=identicon&r=PG&f=1", "display_name": "adrTuIPKJ44", "link": "https://stackoverflow.com/users/7030477/adrtuipkj44"}, "edited": false, "score": 0, "creation_date": 1476703145, "post_id": 40084907, "comment_id": 67442489, "body": "You mean empty @adrTuIPKJ44? There is no <i>void</i> in Perl. First try, then accept. ;)"}, {"owner": {"reputation": 1863, "user_id": 7030477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dea67a568e678148fb378672385ec4d5?s=128&d=identicon&r=PG&f=1", "display_name": "adrTuIPKJ44", "link": "https://stackoverflow.com/users/7030477/adrtuipkj44"}, "edited": false, "score": 0, "creation_date": 1476703306, "post_id": 40084907, "comment_id": 67442600, "body": "I just tried on <a href=\"http://google.fr\" rel=\"nofollow noreferrer\">google.fr</a> which redirect to <a href=\"https://www.google.fr/?gfe_rd=ssl&amp;ei=HrQEWLJDI_SDD\" rel=\"nofollow noreferrer\">google.fr/?gfe_rd=ssl&amp;ei=HrQEWLJDI_SDD</a>, and still nothing..."}, {"owner": {"reputation": 1863, "user_id": 7030477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dea67a568e678148fb378672385ec4d5?s=128&d=identicon&r=PG&f=1", "display_name": "adrTuIPKJ44", "link": "https://stackoverflow.com/users/7030477/adrtuipkj44"}, "edited": false, "score": 0, "creation_date": 1476703329, "post_id": 40084907, "comment_id": 67442617, "body": "Yes I meant empty"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1863, "user_id": 7030477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dea67a568e678148fb378672385ec4d5?s=128&d=identicon&r=PG&f=1", "display_name": "adrTuIPKJ44", "link": "https://stackoverflow.com/users/7030477/adrtuipkj44"}, "edited": false, "score": 0, "creation_date": 1476703906, "post_id": 40084907, "comment_id": 67442949, "body": "@adrTuIPKJ44 google.fr doesn&#39;t redirect for me when I curl it. I think Google has a lot of stuff in place to ignore bots, because screen-scraping is against ther ToS. Try it with something else than Google."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 1863, "user_id": 7030477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dea67a568e678148fb378672385ec4d5?s=128&d=identicon&r=PG&f=1", "display_name": "adrTuIPKJ44", "link": "https://stackoverflow.com/users/7030477/adrtuipkj44"}, "edited": false, "score": 0, "creation_date": 1476704265, "post_id": 40084907, "comment_id": 67443159, "body": "@adr I use Data::Printer to inspect the <code>$mech</code> object. I can clearly see that the google.fr request does not get forwarded."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1476713208, "last_edit_date": 1476713208, "creation_date": 1476702686, "answer_id": 40084907, "question_id": 40084037, "link": "https://stackoverflow.com/questions/40084037/wwwmechanize-how-to-get-the-value-of-a-redirected-urls-query-parameter/40084907#40084907", "title": "WWW::Mechanize: How to get the value of a redirected URL&#39;s query parameter", "body": "<p>Your [WWW::Mechanize][mech] automatically follows redirects. So when you call your <code>get</code>, it will be in a state where it already got the page with the parameters. </p>\n\n<p>Since those are URL params, we can look at the URL that your Mech got. There's <a href=\"https://v1.metacpan.org/pod/WWW::Mechanize#mech-uri\" rel=\"nofollow\">a <code>uri</code> method</a> that returns a <a href=\"https://metacpan.org/pod/URI\" rel=\"nofollow\">URI</a> object, which has <a href=\"https://metacpan.org/pod/URI#uri-query_form\" rel=\"nofollow\">a <code>query_form</code> method</a>.</p>\n\n<p>But first, to test this I used <a href=\"https://metacpan.org/pod/Dancer2\" rel=\"nofollow\">Dancer2</a> to create a simple web server. It listens on port 3000 and redirects requests to <code>/</code> to <code>/foo?p1=bar&amp;p2=baz</code>.</p>\n\n<pre><code>$ perl -MDancer2 -e 'get \"/\" =&gt; sub { redirect \"/foo?p1=bar&amp;p2=baz\" }; get \"/foo\" =&gt; sub { \"hi\" }; dance;'\n&gt;&gt; Dancer2 v0.166001 server 10889 listening on http://0.0.0.0:3000\n</code></pre>\n\n<p>Now we can code against that.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse WWW::Mechanize;\nuse Data::Dumper;\n\nmy $mech = WWW::Mechanize-&gt;new;\n$mech-&gt;get('http://localhost:3000');\n\nmy %params = $mech-&gt;uri-&gt;query_form;\nprint Dumper \\%params;\n</code></pre>\n\n<p>The <code>query_form</code> returns key/value pairs when called in list context. We can assign those to a hash to get a convenient way of accessing them. </p>\n\n<pre><code>$VAR1 = {\n          'p1' =&gt; 'bar',\n          'p2' =&gt; 'baz'\n        };\n</code></pre>\n\n<p>If you know that a parameter appears more than once, you should use an array instead.</p>\n"}, {"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 1, "last_activity_date": 1476770523, "last_edit_date": 1476770523, "creation_date": 1476769698, "answer_id": 40100467, "question_id": 40084037, "link": "https://stackoverflow.com/questions/40084037/wwwmechanize-how-to-get-the-value-of-a-redirected-urls-query-parameter/40100467#40100467", "title": "WWW::Mechanize: How to get the value of a redirected URL&#39;s query parameter", "body": "<p><code>get</code> method of <a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"nofollow\">WWW::Mechanize</a> returns <a href=\"https://metacpan.org/pod/HTTP::Response\" rel=\"nofollow\">HTTP::Response</a> object. On which you can run <code>redirects</code> method to get the complete redirection chain. For example I ran below code for <a href=\"http://google.com\" rel=\"nofollow\">google.com</a>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse WWW::Mechanize;\nuse Data::Dumper;\n\nmy $agent = WWW::Mechanize-&gt;new();\n\nmy $object = $agent-&gt;get('http://www.google.com/');\n\nprint Dumper $object-&gt;redirects;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = bless( {\n                 '_msg' =&gt; 'Found',\n                 '_request' =&gt; bless( {\n                                        '_headers' =&gt; bless( {\n                                                               'accept-encoding' =&gt; 'gzip',\n                                                               'user-agent' =&gt; 'WWW-Mechanize/1.82'\n                                                             }, 'HTTP::Headers' ),\n                                        '_uri_canonical' =&gt; bless( do{\\(my $o = 'http://www.google.com/')}, 'URI::http' ),\n                                        '_uri' =&gt; $VAR1-&gt;{'_request'}{'_uri_canonical'},\n                                        '_content' =&gt; '',\n                                        '_method' =&gt; 'GET'\n                                      }, 'HTTP::Request' ),\n                 '_protocol' =&gt; 'HTTP/1.1',\n                 '_rc' =&gt; '302',\n                 '_headers' =&gt; bless( {\n                                        'title' =&gt; '302 Moved',\n                                        'content-length' =&gt; '261',\n                                        'location' =&gt; 'http://www.google.co.in/?gfe_rd=cr&amp;ei=3KoEWP78GYPj8weZlLXoDA',\n                                        'date' =&gt; 'Mon, 17 Oct 2016 10:41:32 GMT',\n                                        'accept-ranges' =&gt; 'none',\n                                        'cache-control' =&gt; 'private',\n                                        'client-date' =&gt; 'Mon, 17 Oct 2016 10:41:32 GMT',\n                                        'connection' =&gt; 'close',\n                                        'client-response-num' =&gt; 1,\n                                        'content-type' =&gt; 'text/html; charset=UTF-8',\n                                        '::std_case' =&gt; {\n                                                          'title' =&gt; 'Title',\n                                                          'set-cookie2' =&gt; 'Set-Cookie2',\n                                                          'client-peer' =&gt; 'Client-Peer',\n                                                          'client-date' =&gt; 'Client-Date',\n                                                          'set-cookie' =&gt; 'Set-Cookie',\n                                                          'base' =&gt; 'Base',\n\n                                                          'content-base' =&gt; 'Content-Base',\n                                                          'client-response-num' =&gt; 'Client-Response-Num'\n                                                        }\n                                      }, 'HTTP::Headers' ),\n                 '_content' =&gt; '&lt;HTML&gt;&lt;HEAD&gt;&lt;meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8\"&gt;\n&lt;TITLE&gt;302 Moved&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;\n&lt;H1&gt;302 Moved&lt;/H1&gt;\nThe document has moved\n&lt;A HREF=\"http://www.google.co.in/?gfe_rd=cr&amp;amp;ei=3KoEWP78GYPj8weZlLXoDA\"&gt;here&lt;/A&gt;.\n&lt;/BODY&gt;&lt;/HTML&gt;   '\n\n               }, 'HTTP::Response' );\n</code></pre>\n\n<p>As you can see the final location can be found in <code>location</code> header.</p>\n"}], "owner": {"reputation": 1863, "user_id": 7030477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dea67a568e678148fb378672385ec4d5?s=128&d=identicon&r=PG&f=1", "display_name": "adrTuIPKJ44", "link": "https://stackoverflow.com/users/7030477/adrtuipkj44"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 0, "accepted_answer_id": 40100467, "answer_count": 2, "score": 2, "last_activity_date": 1476770523, "creation_date": 1476700234, "last_edit_date": 1476717508, "question_id": 40084037, "link": "https://stackoverflow.com/questions/40084037/wwwmechanize-how-to-get-the-value-of-a-redirected-urls-query-parameter", "title": "WWW::Mechanize: How to get the value of a redirected URL&#39;s query parameter", "body": "<p>On Mechanize, one can create a user agent that will simulate a web browser</p>\n\n<pre><code>$agent = WWW::Mechanize-&gt;new();\n</code></pre>\n\n<p>To access to a new webpage with the user agent I do the following:</p>\n\n<pre><code>$agent-&gt;get(\"http://some_url.com\");\n</code></pre>\n\n<p>If I type this same URL in my browser it redirects to something like this:</p>\n\n<pre><code>http://some_url.com?param1=value1&amp;param2=value2\n</code></pre>\n\n<p>How can I retrieve the value of those query parameters?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1476694917, "post_id": 40082232, "comment_id": 67437229, "body": "What does it mean &quot;<i>breaks when the line doesn&#39;t match</i>&quot; ... how does it break?"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 3, "creation_date": 1476695021, "post_id": 40082232, "comment_id": 67437297, "body": "Try <code>&#47;^(?:[^\\t]*\\t){24}1&#47;</code>"}, {"owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1476695203, "post_id": 40082232, "comment_id": 67437399, "body": "@WiktorStribi\u017cew Thanks a lot it works perfectly ! With a little more explanation on what I did wrong and why this works, it would be a great answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476706710, "post_id": 40082232, "comment_id": 67444714, "body": "<code>(split &#47;\\t&#47;)[24] eq &#39;1j&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 4, "last_activity_date": 1476695358, "creation_date": 1476695358, "answer_id": 40082411, "question_id": 40082232, "link": "https://stackoverflow.com/questions/40082232/regex-matching-specific-value-after-a-certain-number-of-tabs/40082411#40082411", "title": "Regex matching specific value after a certain number of tabs", "body": "<p>Your regex does not work when there is no match due to <a href=\"http://www.regular-expressions.info/catastrophic.html\" rel=\"nofollow\">catastrophic backtracking</a> as <code>.</code> also matches a tab character. Coupled with the fact that there are more subpatterns after the group with nested quantifiers, and absence of the <code>^</code> anchor, the catastrophic backtracking is imminent.</p>\n\n<p>What you need is a negated character class <code>[^\\t]</code> and anchor the pattern at the start of the string:</p>\n\n<pre><code>/^(?:[^\\t]*\\t){24}1/\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/MfoyUn/1\" rel=\"nofollow\">regex demo</a>.</p>\n\n<p>NOTE: To match the <code>1</code> as a whole word, you might consider adding <code>\\b</code> after it, or a lookahead <code>(?!\\S)</code>.</p>\n\n<p><strong>Details</strong>:</p>\n\n<ul>\n<li><code>^</code> - start of a string</li>\n<li><code>(?:[^\\t]*\\t){24}</code> - 24 sequences of \n\n<ul>\n<li><code>[^\\t]*</code> - 0+ chars other than a tab char</li>\n<li><code>\\t</code>  - a tab char</li>\n</ul></li>\n<li><code>1</code> - a <code>1</code> char.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "edited": false, "score": 0, "creation_date": 1476696432, "post_id": 40082448, "comment_id": 67438139, "body": "I&#39;ll accept Wicktor&#39;s answer as it is a direct answer to my question, but thanks for the alternative solution !"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 2, "creation_date": 1476698883, "post_id": 40082448, "comment_id": 67439742, "body": "or simply <code>my $field = ( split &#47;\\t&#47; )[22]; if ( $field == 1 ) { ... } else { ... }</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476706812, "post_id": 40082448, "comment_id": 67444795, "body": "The field to be checked is the 25th - &quot;the value right after the 24th tab&quot;"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 2, "last_activity_date": 1476695462, "creation_date": 1476695462, "answer_id": 40082448, "question_id": 40082232, "link": "https://stackoverflow.com/questions/40082232/regex-matching-specific-value-after-a-certain-number-of-tabs/40082448#40082448", "title": "Regex matching specific value after a certain number of tabs", "body": "<p>Instead of using regex you could just split it, check the 24th column at 23rd index and then use conditionals.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen (my $fh, \"&lt;\", '/path/to/tab_delem_file') or die \"Could not open file $!\";\n\nwhile(&lt;$fh&gt;){\n  chomp;\n  my @line = split/\\t/, $_; #split on tab\n  if ($line[23] == 1){\n      #do something\n  }\n  else ($line[23] == 1){\n      #do something else\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1291, "favorite_count": 2, "accepted_answer_id": 40082411, "answer_count": 2, "score": 3, "last_activity_date": 1476695462, "creation_date": 1476694765, "question_id": 40082232, "link": "https://stackoverflow.com/questions/40082232/regex-matching-specific-value-after-a-certain-number-of-tabs", "title": "Regex matching specific value after a certain number of tabs", "body": "<p>In a tab delimited text file, I would like to match only lines containing the \"1\" value right after the 24th tab.<br>\nRight now, the regex I have seems to match what I want, but breaks when the line doesn't match.<br>\nCould you help me improving it?</p>\n\n<h2>My regex :</h2>\n\n<pre><code>/(?:.+?\\t){24}1/  \n</code></pre>\n\n<h2>Sample input :</h2>\n\n<pre><code>INT E_63    0   0   u   Le  Le  DET:ART DET le  ??  ADJ SENT DET:ART NOM ADV    SENT DET NOM    1   ??  ??  ??  ??  ??  0   0   0   0   0   1   ??  ??  ??  ??  ??  ??  \nINT E_63    0   0   u   Le  Le  DET:ART DET le  ??  ADJ SENT DET:ART NOM ADV    SENT DET NOM    1   ??  ??  ??  ??  ??  0   0   0   0   0   0   ??  ??  ??  ??  ??  ??  \n</code></pre>\n\n<p>(The first line should match, the second should not.)</p>\n"}, {"tags": ["perl", "pipe", "telnet", "backticks"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4610784, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bATCvSYOcVA/AAAAAAAAAAI/AAAAAAAACHA/Eo5TmrpJF1I/photo.jpg?sz=128", "display_name": "Ahmed Abuzekry", "link": "https://stackoverflow.com/users/4610784/ahmed-abuzekry"}, "edited": false, "score": 0, "creation_date": 1476690827, "post_id": 40081020, "comment_id": 67434995, "body": "It still prints an empty string I&#39;ve tried it. When I try other commands like <code>which java</code> it prints the output correctly, but in telnet command it doesn&#39;t"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 41, "user_id": 4610784, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bATCvSYOcVA/AAAAAAAAAAI/AAAAAAAACHA/Eo5TmrpJF1I/photo.jpg?sz=128", "display_name": "Ahmed Abuzekry", "link": "https://stackoverflow.com/users/4610784/ahmed-abuzekry"}, "edited": false, "score": 0, "creation_date": 1476690883, "post_id": 40081020, "comment_id": 67435030, "body": "@AhmedAbuzekry  That seems strange.  I tried it and I get back the message."}, {"owner": {"reputation": 41, "user_id": 4610784, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bATCvSYOcVA/AAAAAAAAAAI/AAAAAAAACHA/Eo5TmrpJF1I/photo.jpg?sz=128", "display_name": "Ahmed Abuzekry", "link": "https://stackoverflow.com/users/4610784/ahmed-abuzekry"}, "edited": false, "score": 0, "creation_date": 1476691073, "post_id": 40081020, "comment_id": 67435119, "body": "I don&#39;t know I tried it before and it is not working"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 41, "user_id": 4610784, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bATCvSYOcVA/AAAAAAAAAAI/AAAAAAAACHA/Eo5TmrpJF1I/photo.jpg?sz=128", "display_name": "Ahmed Abuzekry", "link": "https://stackoverflow.com/users/4610784/ahmed-abuzekry"}, "edited": false, "score": 0, "creation_date": 1476691101, "post_id": 40081020, "comment_id": 67435141, "body": "@AhmedAbuzekry Did you try to run <code>echo exit | telnet ...</code> on the command line?  Also, where do you do all this, what system/environment?"}, {"owner": {"reputation": 41, "user_id": 4610784, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bATCvSYOcVA/AAAAAAAAAAI/AAAAAAAACHA/Eo5TmrpJF1I/photo.jpg?sz=128", "display_name": "Ahmed Abuzekry", "link": "https://stackoverflow.com/users/4610784/ahmed-abuzekry"}, "edited": false, "score": 0, "creation_date": 1476691326, "post_id": 40081020, "comment_id": 67435242, "body": "Yes I&#39;ve tried to run it on the command line and it prints the message normally. I am using windows and trying to run this from a perl script to check for the environment before running a test."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 41, "user_id": 4610784, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bATCvSYOcVA/AAAAAAAAAAI/AAAAAAAACHA/Eo5TmrpJF1I/photo.jpg?sz=128", "display_name": "Ahmed Abuzekry", "link": "https://stackoverflow.com/users/4610784/ahmed-abuzekry"}, "edited": false, "score": 0, "creation_date": 1476692673, "post_id": 40081020, "comment_id": 67435912, "body": "@AhmedAbuzekry  Heh .. it should work on Windows as it stands, but it may depend on what you use for Perl. I can&#39;t test on Windows now :(  Another -- better -- option is to use a more solid tool for capturing.  For one thing, there is a well-regarded module <a href=\"http://search.cpan.org/~dagolden/Capture-Tiny-0.44/lib/Capture/Tiny.pm\" rel=\"nofollow noreferrer\">Capture::Tiny</a>.  It is very simple to use."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 41, "user_id": 4610784, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bATCvSYOcVA/AAAAAAAAAAI/AAAAAAAACHA/Eo5TmrpJF1I/photo.jpg?sz=128", "display_name": "Ahmed Abuzekry", "link": "https://stackoverflow.com/users/4610784/ahmed-abuzekry"}, "edited": false, "score": 0, "creation_date": 1476693274, "post_id": 40081020, "comment_id": 67436258, "body": "@AhmedAbuzekry  I added a few links to the code, and sample code for  <code>Capture::Tiny</code>"}, {"owner": {"reputation": 41, "user_id": 4610784, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bATCvSYOcVA/AAAAAAAAAAI/AAAAAAAACHA/Eo5TmrpJF1I/photo.jpg?sz=128", "display_name": "Ahmed Abuzekry", "link": "https://stackoverflow.com/users/4610784/ahmed-abuzekry"}, "edited": false, "score": 0, "creation_date": 1476699665, "post_id": 40081020, "comment_id": 67440227, "body": "Thank you very much for the help"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476699968, "post_id": 40081020, "comment_id": 67440401, "body": "Another possibility <i>might</i> be <code>use File::Spec; my $devnull = File::Spec-&gt;devnull(); my $rc = system(&quot;echo exit | telnet 127.0.0.1 9443 1&gt;$devnull 2&gt;$devnull&quot;);</code> and then check the <code>$rc</code>. But I cannot try this out right now."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1476693997, "last_edit_date": 1476693997, "creation_date": 1476690527, "answer_id": 40081020, "question_id": 40080797, "link": "https://stackoverflow.com/questions/40080797/using-telnet-with-pipe-with-backticks-in-perl/40081020#40081020", "title": "Using telnet with pipe with backticks in perl", "body": "<p>The failure message is printed to <code>STDERR</code>, while backticks return only what goes to <code>STDOUT</code>. </p>\n\n<p>You can redirect the <code>STDERR</code> stream to the <code>STDOUT</code> stream</p>\n\n<pre><code>$result = `echo exit | telnet 127.0.0.1 9443 2&gt;&amp;1`; \n</code></pre>\n\n<p>See <a href=\"http://tldp.org/LDP/abs/html/io-redirection.html\" rel=\"nofollow\">I/O redirection</a>.</p>\n\n<hr>\n\n<p>There are more rounded ways to do this, using various forms of <code>open</code>.  See <a href=\"http://perldoc.perl.org/perlfaq8.html#How-can-I-capture-STDERR-from-an-external-command%3f\" rel=\"nofollow\">it in perlfaq8</a>. There are also various modules for this. The <a href=\"http://search.cpan.org/~dagolden/Capture-Tiny-0.44/lib/Capture/Tiny.pm\" rel=\"nofollow\">Capture::Tiny</a> makes it rather easy.  </p>\n\n<pre><code>use warnings 'all';\nuse strict;\n\nuse Capture::Tiny qw(capture);\n\nmy $cmd = 'echo exit | telnet 127.0.0.1 9443';\n\nmy ($stdout, $stderr) = capture {\n  system ( $cmd );\n};\n\nprint \"STDOUT: $stdout\";\nprint \"STDERR: $stderr\";\n</code></pre>\n\n<p>This prints for me</p>\n\n<pre>\nSTDOUT: Trying 127.0.0.1...\nSTDERR: telnet: connect to address 127.0.0.1: Connection refused\n</pre>\n\n<p>The module has many more capabilities. From the docs</p>\n\n<blockquote>\n  <p>Capture::Tiny provides a simple, portable way to capture almost anything sent to STDOUT or STDERR, regardless of whether it comes from Perl, from XS code or from an external program. </p>\n</blockquote>\n"}], "owner": {"reputation": 41, "user_id": 4610784, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bATCvSYOcVA/AAAAAAAAAAI/AAAAAAAACHA/Eo5TmrpJF1I/photo.jpg?sz=128", "display_name": "Ahmed Abuzekry", "link": "https://stackoverflow.com/users/4610784/ahmed-abuzekry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 40081020, "answer_count": 1, "score": 1, "last_activity_date": 1476693997, "creation_date": 1476689683, "last_edit_date": 1476690085, "question_id": 40080797, "link": "https://stackoverflow.com/questions/40080797/using-telnet-with-pipe-with-backticks-in-perl", "title": "Using telnet with pipe with backticks in perl", "body": "<p>I am trying to test a specific server is up and running on a certain port so I am using \n<code>$result = `echo exit | telnet 127.0.0.1 9443`; print $result;</code></p>\n\n<p>Here I am using localhost for privacy issues\nThe expected behavior is that it should print \"...Could not open connection to the host, on port 9443: Connect failed\", this way I know that the server is not running. but it prints an empty string</p>\n\n<p>Any help on this</p>\n"}, {"tags": ["regex", "perl", "bioinformatics"], "comments": [{"owner": {"reputation": 78237, "user_id": 2025923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zYYVM.png?s=128&g=1", "display_name": "Tushar", "link": "https://stackoverflow.com/users/2025923/tushar"}, "edited": false, "score": 0, "creation_date": 1476677789, "post_id": 40078407, "comment_id": 67429632, "body": "<a href=\"https://regex101.com/r/tUtg8J/1\" rel=\"nofollow noreferrer\"><code>^ATG.*?(T(AG|AA|GA))$</code></a>"}, {"owner": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "edited": false, "score": 1, "creation_date": 1476677960, "post_id": 40078407, "comment_id": 67429664, "body": "Your example doesn&#39;t match your requirements. Looks like you want to match DNA sequence though so maybe <code>^ATG[GTAC]+T(GA|AA|AG)$</code>."}], "answers": [{"tags": [], "owner": {"reputation": 113073, "user_id": 141555, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oOW8R.jpg?s=128&g=1", "display_name": "sberry", "link": "https://stackoverflow.com/users/141555/sberry"}, "is_accepted": false, "score": 1, "last_activity_date": 1476678191, "creation_date": 1476678191, "answer_id": 40078460, "question_id": 40078407, "link": "https://stackoverflow.com/questions/40078407/perl-regular-expression-starts-with-atg-and-ends-with-tag-taa-or-tga/40078460#40078460", "title": "Perl regular expression (starts with ATG and ends with TAG, TAA, or TGA)", "body": "<p>Not sure if this is what you are looking for, but this finds one match so it is non-exhaustive</p>\n\n<pre><code>my $sequence = 'AATGGTTTCTCCCATCTCTCCATCGGCATAAAAATACAGAATGATCTAACGAA';\n\nif($sequence =~ /(ATG.*?(:?TAG|TAA|TGA))/) {\n print $1;\n}\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre><code>ATGGTTTCTCCCATCTCTCCATCGGCATAA\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 5043419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hGtks.jpg?s=128&g=1", "display_name": "velz", "link": "https://stackoverflow.com/users/5043419/velz"}, "is_accepted": false, "score": 1, "last_activity_date": 1476684344, "creation_date": 1476684344, "answer_id": 40079482, "question_id": 40078407, "link": "https://stackoverflow.com/questions/40078407/perl-regular-expression-starts-with-atg-and-ends-with-tag-taa-or-tga/40079482#40079482", "title": "Perl regular expression (starts with ATG and ends with TAG, TAA, or TGA)", "body": "<pre><code>Try this:\n#!/usr/bin/perl\nmy $sequence ='AATGGTTTCTCCCATCTCTCCATCGGCATAAAAATACAGAATGATCTAACGAA';\nwhile($sequence =~m/ATG.*?(TGA|TAG|TAA)/g)\n{\n  print $&amp;,\"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476706584, "post_id": 40079783, "comment_id": 67444627, "body": "I think that your <code>T(?:A[AG]|GA)</code> should be written as <code>(?:TAG|TAA|TGA)</code>, which is clearer and barely any longer. Perl will optimise the alternatives as a trie, so there will be no efficiency impact either."}, {"owner": {"reputation": 6043, "user_id": 5290909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a34788cb69a6f3007f88e3a36a590ca?s=128&d=identicon&r=PG", "display_name": "Mariano", "link": "https://stackoverflow.com/users/5290909/mariano"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476775581, "post_id": 40079783, "comment_id": 67475919, "body": "Thanks for the suggestion @Borodin. I added your comment in the answer. I don&#39;t know why, though, I prefer <code>T(?:A[AG]|GA)</code>... I like to read it as &quot;<i>a T followed by ...</i>&quot;."}], "tags": [], "owner": {"reputation": 6043, "user_id": 5290909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a34788cb69a6f3007f88e3a36a590ca?s=128&d=identicon&r=PG", "display_name": "Mariano", "link": "https://stackoverflow.com/users/5290909/mariano"}, "is_accepted": true, "score": 5, "last_activity_date": 1484599315, "last_edit_date": 1495540912, "creation_date": 1476685695, "answer_id": 40079783, "question_id": 40078407, "link": "https://stackoverflow.com/questions/40078407/perl-regular-expression-starts-with-atg-and-ends-with-tag-taa-or-tga/40079783#40079783", "title": "Perl regular expression (starts with ATG and ends with TAG, TAA, or TGA)", "body": "<p>Since you're dealing with <a href=\"https://en.wikipedia.org/wiki/Genetic_code\" rel=\"nofollow noreferrer\">codons</a> here, you probably forgot to mention that the nuclotides in between must be a multiple of 3.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>my $sequence = 'AATGGTTTCTCCCATCTCTCCATCGGCATAAAAATACAGAATGATCTAACGAA';\n               # |--------------1-------------|\n               #                                        |---2---|  \n\nwhile($sequence =~ /ATG(?:[ACTG]{3})*?T(?:A[AG]|GA)/g)\n{\n    print $&amp;.\"\\n\";\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ATGGTTTCTCCCATCTCTCCATCGGCATAA\nATGATCTAA\n</code></pre>\n\n<p><strong>Description:</strong></p>\n\n<ul>\n<li><code>ATG</code> - Matches \"ATG\" literally</li>\n<li><code>(?:[ACTG]{3})*?</code> - is a <a href=\"http://www.regular-expressions.info/brackets.html\" rel=\"nofollow noreferrer\">non capturing group</a>, repeated 0 o more times, as few as possible (<a href=\"http://www.regular-expressions.info/repeat.html#lazy\" rel=\"nofollow noreferrer\">lazy quantifier</a>, the extra <code>?</code>), matching:\n\n<ul>\n<li><code>[ACTG]{3}</code> - 3 characters/nucleotides (either \"A\", \"C\", \"T\" or \"G\")</li>\n</ul></li>\n<li><code>T(?:A[AG]|GA)</code> - matches \"TAA\", \"TAG\", or \"TGA\". Also, as <a href=\"https://stackoverflow.com/users/622310/borodin\">Borodin</a> <a href=\"https://stackoverflow.com/questions/40078407/perl-regular-expression-starts-with-atg-and-ends-with-tag-taa-or-tga/40079783?noredirect=1#comment67444627_40079783\">commented</a>, this can be written as <code>(?:TAG|TAA|TGA)</code> if you prefer to improve readability.</li>\n</ul>\n\n<hr>\n\n<p><br>\nBut if you also need to match <strong>overlapping</strong> sequences, you should use a <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">lookahead</a> to prevent the match from consuming the characters.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>               # modified to include overlapping sequences\nmy $sequence = 'AATGGTTTCTCCCATCTCTCCATCGGCATAAAAATATGGAATGATCTAACGAA';\n               # |--------------1-------------|\n               #                                   |---2---|\n               #                                        |---3---|\n\nwhile($sequence =~ /ATG(?=((?:[ACTG]{3})*?T(?:A[AG]|GA)))/g)\n{\n    print $&amp;.$1.\"\\n\";\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ATGGTTTCTCCCATCTCTCCATCGGCATAA\nATGGAATGA\nATGATCTAA\n</code></pre>\n\n<hr>\n\n<p><br>\nAnd finally, this is a <strong>more efficent</strong> version of the last expression, using the <a href=\"http://www.softec.lu/site/RegularExpressions/UnrollingTheLoop\" rel=\"nofollow noreferrer\">Unrolling the Loop</a> technique, that will yield better results when you're dealing with large sequences.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>my $sequence = 'AATGGTTTCTCCCATCTCTCCATCGGCATAAAAATATGGAATGATCTAACGAA';\n               # modified to include overlapping sequences\n\nwhile($sequence =~ /ATG(?=((?:[ACG][ACTG]{2})*(?:T(?:A[CT]|G[CTG]|[CT][ACTG])(?:[ACG][ACTG]{2})*)*T(?:A[AG]|GA)))/g)\n{\n    print $&amp;.$1.\"\\n\";\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ATGGTTTCTCCCATCTCTCCATCGGCATAA\nATGGAATGA\nATGATCTAA\n</code></pre>\n"}], "owner": {"reputation": 654, "user_id": 6934386, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/278a5391531847eac423e6a9ea44ab92?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Weise", "link": "https://stackoverflow.com/users/6934386/kyle-weise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 0, "accepted_answer_id": 40079783, "answer_count": 3, "score": 1, "last_activity_date": 1484599315, "creation_date": 1476677698, "question_id": 40078407, "link": "https://stackoverflow.com/questions/40078407/perl-regular-expression-starts-with-atg-and-ends-with-tag-taa-or-tga", "title": "Perl regular expression (starts with ATG and ends with TAG, TAA, or TGA)", "body": "<p>I need a regular expression in perl that will match with ATG at the start, and ends with either TAG, TAA, or TGA. This is the code I have so far. </p>\n\n<pre><code>my $sequence = 'AATGGTTTCTCCCATCTCTCCATCGGCATAAAAATACAGAATGATCTAACGAA';\n\nwhile($sequence =~ ____) {\n print $1;\n}\n</code></pre>\n"}, {"tags": ["perl", "subroutine", "routines"], "answers": [{"tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": true, "score": 3, "last_activity_date": 1476668345, "creation_date": 1476668345, "answer_id": 40077365, "question_id": 40077116, "link": "https://stackoverflow.com/questions/40077116/routine-in-module-is-undefined-subroutine-in-perl/40077365#40077365", "title": "Routine in module is Undefined subroutine in perl", "body": "<p><a href=\"https://metacpan.org/pod/Crypt::Random\" rel=\"nofollow\">Crypt::Random</a> does not export any methods by default.</p>\n\n<p>Instead you must explicitly import them:</p>\n\n<pre><code>$ perl -MCrypt::Random=makerandom -E \"say makerandom(100)\"\n$ perl -MCrypt::Random=makerandom_itv -E \"say makerandom_itv(1, 1000)\"\n$ perl -MCrypt::Random=makerandom_octet -E \"say makerandom_octet(10)\"\n</code></pre>\n"}], "owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 40077365, "answer_count": 1, "score": 0, "last_activity_date": 1476668345, "creation_date": 1476665492, "question_id": 40077116, "link": "https://stackoverflow.com/questions/40077116/routine-in-module-is-undefined-subroutine-in-perl", "title": "Routine in module is Undefined subroutine in perl", "body": "<p>I have just installed the <a href=\"https://metacpan.org/pod/Crypt::Random#VERSION\" rel=\"nofollow\">Crypt::Random</a> module as well as all the dependencies such as <a href=\"https://metacpan.org/pod/Math::Pari\" rel=\"nofollow\">Math::Pari</a>. There are three routines in Crypt::Random and I don't know why perl is calling them 'undefined subroutine'. Thanks to whoever knows what is wrong. Here are the routines (specifically defined in the module), and I chose small arguments for them to see if they work:</p>\n\n<pre><code>C:\\Users\\Jlinne\\Documents&gt;perl -MCrypt::Random -E \"say makerandom(100)\"\nUndefined subroutine &amp;main::makerandom called at -e line 1.\n\nC:\\Users\\Jlinne\\Documents&gt;perl -MCrypt::Random -E \"say makerandom_itv(1, 1000)\"\nUndefined subroutine &amp;main::makerandom_itv called at -e line 1.\n\nC:\\Users\\Jlinne\\Documents&gt;perl -MCrypt::Random -E \"say makerandom_octet(10)\"\nUndefined subroutine &amp;main::makerandom_octet called at -e line 1.\n</code></pre>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "edited": false, "score": 0, "creation_date": 1476665971, "post_id": 40077049, "comment_id": 67427317, "body": "You declared an array, but later try to access it as if it were a hash."}, {"owner": {"reputation": 11, "user_id": 6478107, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6b35aa555f8d6308ae8733022917ec71?s=128&d=identicon&r=PG&f=1", "display_name": "John Ambers", "link": "https://stackoverflow.com/users/6478107/john-ambers"}, "reply_to_user": {"reputation": 9855, "user_id": 7780, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf9668c1ebea8ecea9f1ac4474236b5e?s=128&d=identicon&r=PG", "display_name": "dsm", "link": "https://stackoverflow.com/users/7780/dsm"}, "edited": false, "score": 0, "creation_date": 1476666185, "post_id": 40077049, "comment_id": 67427358, "body": "@dsm I want to loop through the array, so I have to do<code>$formsequence{$_}</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1476698687, "post_id": 40077049, "comment_id": 67439622, "body": "@JohnAmbers You can&#39;t do <code>$formsequence{$_}</code> as you don&#39;t have a hash called <code>%formsequence</code>. You only have an a array called <code>@formsequence</code> (which you would access with code like <code>$formsequence[$integer]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 2, "last_activity_date": 1476672663, "last_edit_date": 1476672663, "creation_date": 1476672094, "answer_id": 40077747, "question_id": 40077049, "link": "https://stackoverflow.com/questions/40077049/global-symbol-formsequence-requires-explicit-package-name-at-line-37/40077747#40077747", "title": "Global symbol &quot;%formsequence&quot; requires explicit package name at line 37", "body": "<p>I suspect you may be viewing the concept of an 'array' from the perspective of a PHP developer.  In Perl a hash and an array are separate data structures.</p>\n\n<p>Arrays are declared using the <code>@</code> prefix and you refer to elements using square brackets around an integer index:</p>\n\n<pre><code>my @names = ('Tom', 'Dick', 'Larry');\nsay $names[0];        # 'Tom'\nsay $names[-1];       # 'Larry'\nmy $count = @names;   # $count now equals 3\nforeach my $i (0..$#names) {\n    say $names[$i];\n}\n</code></pre>\n\n<p>Hashes are declared using the <code>%</code> prefix and you refer to elements using curly braces around a string key:</p>\n\n<pre><code>my %rgb = (\n    red    =&gt; '#ff0000',\n    white  =&gt; '#ffffff',\n    blue   =&gt; '#0000ff',\n);\nsay $rgb{'red'};      # '#ff0000'\nsay $rgb{blue};       # '#0000ff'  quotes optional around bareword keys\nforeach my $k (keys %rgb) {\n    say $rgb{$k};\n}\n</code></pre>\n\n<p>You wouldn't normally use the <code>keys</code> function on an array - in fact older versions of Perl don't even support it, newer versions will return a range of integers (e.g.: <code>0..2</code>).</p>\n\n<p>When you call <code>keys</code> on a hash the keys have no inherent order, and the order may change.</p>\n\n<p>Other things worth knowing:</p>\n\n<p>Using <code>&amp;</code> to call a function is <em>really</em> old style (i.e. early 90s), these days we'd use <code>readformdata()</code> instead of <code>&amp;readformdata</code>.</p>\n\n<p>The <code>!=</code> operator is a <strong>numeric</strong> comparison operator so only use it when the values you're comparing are actually numbers.  If you want to check two strings are 'not equal' then use <code>ne</code> instead (e.g.: <code>if($thing1 ne $thing2) { ... }</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1476698593, "creation_date": 1476698593, "answer_id": 40083498, "question_id": 40077049, "link": "https://stackoverflow.com/questions/40077049/global-symbol-formsequence-requires-explicit-package-name-at-line-37/40083498#40083498", "title": "Global symbol &quot;%formsequence&quot; requires explicit package name at line 37", "body": "<p>This seems to be some rather old Perl.</p>\n\n<ul>\n<li>You use <code>-w</code>on the shebang line rather than <code>use warnings</code> (which has been available since Perl 5.6.0 was released in 2000.</li>\n<li>You use a (presumably) custom <code>readformdata()</code> function instead of CGI,pm's <code>params()</code> method. CGI.pm was added to the Perl core in 1997 (it was recently removed - but that's not a reason to not use it).</li>\n<li>You use ampersands on function calls. These haven't been necessary since Perl 5 was released in 1994.</li>\n</ul>\n\n<p>Your problem is caused by declaring an array, <code>@formsequence</code>, which you then try to access as a hash - <code>$formsequence{$_}</code> means, \"look up the key <code>$_</code> in the hash <code>%formsequence</code>. In Perl, arrays and hashes are two completely different data types and it is possible (although not recommended for, hopefully, obvious reasons) to have an array and a hash with the same name.</p>\n\n<p>You declare arrays like this - using <code>@</code>:</p>\n\n<pre><code>my @array = ('foo', 'bar', 'baz');\n</code></pre>\n\n<p>And access individual element like this - using <code>[...]</code>:</p>\n\n<pre><code>print $array[0]; # prints 'foo'\n</code></pre>\n\n<p>You declare hashes like this - using `%':</p>\n\n<pre><code>my %hash = (foo =&gt; 'Foo', bar =&gt; 'Bar', baz =&gt; 'Baz');\n</code></pre>\n\n<p>And access individual elements like ths - using <code>{...}</code>:</p>\n\n<pre><code>print $hash{foo}; # prints 'Foo'\n</code></pre>\n\n<p>Arrays are indexed using integers and are ordered. Hashes are indexed using strings and are unordered.</p>\n\n<p>I can't really suggest a fix for your code as it's not really clear what you are trying to do. It appears that you want to check that parameters appear in a certain order, but this is doomed to failure as a) you can't guarantee the order in which CGI parameters are transmitted from the browser to your web server and b) you can't guarantee the order in which <code>keys(%fields)</code> will return the keys from your <code>%fields</code> hash.</p>\n\n<p>If you explain in a little more detail what you are trying to do, then we might be able to help you more.</p>\n"}], "owner": {"reputation": 11, "user_id": 6478107, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6b35aa555f8d6308ae8733022917ec71?s=128&d=identicon&r=PG&f=1", "display_name": "John Ambers", "link": "https://stackoverflow.com/users/6478107/john-ambers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 0, "accepted_answer_id": 40077747, "answer_count": 2, "score": 1, "last_activity_date": 1476698593, "creation_date": 1476664893, "question_id": 40077049, "link": "https://stackoverflow.com/questions/40077049/global-symbol-formsequence-requires-explicit-package-name-at-line-37", "title": "Global symbol &quot;%formsequence&quot; requires explicit package name at line 37", "body": "<p>I am trying to execute a Perl CGI script, but I am getting an error:</p>\n\n<pre><code>Global symbol \"%formsequence\" requires explicit package name at line 37.\n</code></pre>\n\n<p>I did some research and found that <code>use strict</code> forces me to declare the variables before I use them or store any data, but in my program I have declared them and that is why I don't understand the error. Here is my script:</p>\n\n<pre><code>   #!/usr/bin/perl -w\n\nuse strict;\n\nmy %errors;\nmy %form;\nmy @formsequence;\n\nmy %fields = (\n\n        \"lname\" =&gt; \"Last Name\",\n        \"phone\" =&gt; \"Phone\",\n        \"fname\" =&gt; \"Fist Name\"\n        );\n\nmy %patterns = (\n\n        \"lname\" =&gt; '[A-Z][a-z]{2,50}',\n        \"phone\" =&gt; '\\d{3}-\\d{3}-\\d{4}',\n        \"fname\" =&gt; '[A-Z][A-Za-z]{2,60}'\n        );\n\n@formsequence = (\"lname\", \"phone\", \"phone\");\n\nprint \"content-type/html\\n\\n\";\n\nif ($ENV{REQUEST_METHOD} eq \"POST\") {\n\n        &amp;readformdata;\n        if (&amp;checkrequiredfields) {\n\n                print \"Form Data validated successfully!\";\n        }\n        else {\n                foreach (keys (%fields)) {\n\n                        if ($fields{$_} != $formsequence{$_}) { &lt;-- line 37\n                                $errors{$_}=\"Not in correct sequence\\n\";\n                        }\n\n                }\n\n        }\n</code></pre>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "edited": false, "score": 0, "creation_date": 1476657976, "post_id": 40076198, "comment_id": 67425711, "body": "Why would it be <code>KEKKYMLSVDNLKLR</code>? You can also match <code>KTSGNQDEILVIRKGWLTINNIGIMKGGSKEYWFVLTAENLSWYKDDEEKEKKYMLSVDN&zwnj;&#8203;LKLR</code>. In other words, should the matching be greedy or non-greedy? Anyway, regex is indeed the way to go."}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "reply_to_user": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "edited": false, "score": 0, "creation_date": 1476658180, "post_id": 40076198, "comment_id": 67425765, "body": "It should be non-greedy. Thanks I will edit that"}], "answers": [{"comments": [{"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1476657827, "post_id": 40076255, "comment_id": 67425676, "body": "Hi,  Does this module has an option to print the location I mean from where to where this pattern is found ?"}, {"owner": {"reputation": 4306, "user_id": 5992438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07146d8ff0b15449d848f2a928e5417d?s=128&d=identicon&r=PG&f=1", "display_name": "bunji", "link": "https://stackoverflow.com/users/5992438/bunji"}, "reply_to_user": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1476658215, "post_id": 40076255, "comment_id": 67425773, "body": "@Vikas If you use <code>re.finditer()</code> instead of <code>re.findall()</code> it will return match objects and you can use <code>.start()</code> and <code>.end()</code> functions to get the index of each match in your string.  See this example: <a href=\"https://docs.python.org/2/library/re.html#finding-all-adverbs-and-their-positions\" rel=\"nofollow noreferrer\">docs.python.org/2/library/&hellip;</a>"}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476659162, "post_id": 40076255, "comment_id": 67425993, "body": "@ikegami I don&#39;t think KKXR is a valid match, at least according to OP"}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1476659238, "post_id": 40076255, "comment_id": 67426015, "body": "<code>KXXXXXX(K\\R)XR </code>"}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1476659351, "post_id": 40076255, "comment_id": 67426042, "body": "@BrendanAbel It&#39;s matching a long string. I am looking non-greddy match. Output"}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476659552, "post_id": 40076255, "comment_id": 67426082, "body": "@ikegami No, any number of letters can be present between K and K/R but I need to find the smallest. KKXR could not be choice."}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476659881, "post_id": 40076255, "comment_id": 67426151, "body": "@ikegami I meant KK can&#39;t be adjacent. At least one letter should be there between them."}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476659987, "post_id": 40076255, "comment_id": 67426178, "body": "@ikegami I want this : KYMLSVDNLKLR"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1476660076, "post_id": 40076255, "comment_id": 67426203, "body": "@Vikas Dubey, That&#39;s useless. That question is: What do you mean by non-greedy match?"}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476660348, "post_id": 40076255, "comment_id": 67426260, "body": "@ikegami I don&#39;t know I am using this term on DeepSpace suggestion.  I thought It&#39;s related to find out smallest pattern."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476660495, "post_id": 40076255, "comment_id": 67426282, "body": "huh? You say you want something, but you don&#39;t know what you mean by it???"}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476661522, "post_id": 40076255, "comment_id": 67426497, "body": "@ikegami Ah, I see what the OP wants now.  Updated so it returns the shortest match."}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1476668019, "post_id": 40076255, "comment_id": 67427676, "body": "Ah, forget to make it non-greedy.  Good catch on <code>KKKXR</code>, didn&#39;t even think of that one.  Updated to handle that scenario."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476673060, "post_id": 40076255, "comment_id": 67428693, "body": "Ok, that works   (For now. It&#39;ll break if you add another non-greedy to the pattern. Non-greedy modifiers should be avoided except as an optimization.)"}], "tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": false, "score": 0, "last_activity_date": 1476667957, "last_edit_date": 1476667957, "creation_date": 1476657497, "answer_id": 40076255, "question_id": 40076198, "link": "https://stackoverflow.com/questions/40076198/finding-and-printing-a-specific-pattern-in-a-given-string/40076255#40076255", "title": "Finding and printing a specific Pattern in a given string", "body": "<p>Regardless of the language, this looks a task suitable for regular expressions.</p>\n\n<p>Here is an example of how you could do the regex in python.  If you want the index where the match starts, you can do:</p>\n\n<pre><code>m = re.search(r'K(?:[A-JL-Z]+?|K)[KR][A-Z]R', s)\nprint m.start()  # prints index\nprint m.group()  # prints matching string\n</code></pre>\n\n<p>Or as @bunji points out, you an use <code>finditer</code> as well:</p>\n\n<pre><code>for m in re.finditer(r'K(?:[A-JL-Z]+?|K)[KR][A-Z]R', s):\n    print m.start()  # prints index\n    print m.group()  # prints matching string\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1476660676, "post_id": 40076542, "comment_id": 67426321, "body": "`      #/usr/bin/env python        import rem = &#39;MKTSGNQDEILVIRKGWLTINNIGIMKGGSKEYWFVLTAENLSWYKDDEEKEKKYMLSV&zwnj;&#8203;DNLKLRDVEKGFMSSKHIFA&zwnj;&#8203;L&#39;  for m in re.finditer(r&#39;K (?: [^KR] | R(?!.R) )* [KR] . R&#39;, m):      print &#39;%02d-%02d: %s&#39; % (m.start(), m.end(), m.group(0)) `"}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1476660751, "post_id": 40076542, "comment_id": 67426336, "body": "<code>for m in re.finditer(r&#39;K (?: [^KR] | R(?!.R) )* [KR] . R&#39;, m):      print &#39;%02d-%02d: %s&#39; % (m.start(), m.end(), m.group(0))</code>"}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1476660892, "post_id": 40076542, "comment_id": 67426367, "body": "Do you think above implemention is correct ? Since it&#39;s not working."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1476660966, "post_id": 40076542, "comment_id": 67426377, "body": "I don&#39;t know Python. You probably need to remove the whitespace or provide a flag to cause it to be ignored."}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1476661133, "post_id": 40076542, "comment_id": 67426414, "body": "Ok, Thanks a lot @ikegami"}, {"owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "edited": false, "score": 0, "creation_date": 1476661287, "post_id": 40076542, "comment_id": 67426452, "body": "it Works as charm."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1476662182, "last_edit_date": 1476662182, "creation_date": 1476659843, "answer_id": 40076542, "question_id": 40076198, "link": "https://stackoverflow.com/questions/40076198/finding-and-printing-a-specific-pattern-in-a-given-string/40076542#40076542", "title": "Finding and printing a specific Pattern in a given string", "body": "<p>You say you want the match to be non-greedy, but that doesn't make sense. I think you are trying to find the minimal match. If so, that's very hard to do. This is the regex match you need:</p>\n\n<pre><code>/\n    K\n    (?: (?: [^KR] | R(?!.R) )+\n    |   .\n    )\n    [KR]\n    .\n    R\n/sx\n</code></pre>\n\n<hr>\n\n<p>However, it wouldn't surprise me if there's a bug. The only sure way to find a minimal match is to find all possible matches.</p>\n\n<pre><code>my $match;\nwhile (/(?= ( K.+[KR].R ) )/sxg) {\n    if (!defined($match) || length($1) &gt; length($match)) {\n        $match = $1;\n    }\n}\n</code></pre>\n\n<p>But this will be far slower, especially for long strings.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476673643, "post_id": 40077287, "comment_id": 67428817, "body": "This approach occurred to me, but I rejected it because it doesn&#39;t work. It fails for <code>KXXXXRXRXXXRXR</code>. Note that the solution my answer has no backtracking, just a single character lookahead like yours (or three in the rare case that the <code>(?!)</code> is entered)."}, {"owner": {"reputation": 1354, "user_id": 2122007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/563KL.jpg?s=128&g=1", "display_name": "Jim Black", "link": "https://stackoverflow.com/users/2122007/jim-black"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476680869, "post_id": 40077287, "comment_id": 67430424, "body": "Matching twice is a fail?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476684033, "post_id": 40077287, "comment_id": 67431611, "body": "No, finding a non-minimal solution is"}], "tags": [], "owner": {"reputation": 1354, "user_id": 2122007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/563KL.jpg?s=128&g=1", "display_name": "Jim Black", "link": "https://stackoverflow.com/users/2122007/jim-black"}, "is_accepted": false, "score": 0, "last_activity_date": 1476680842, "last_edit_date": 1476680842, "creation_date": 1476667621, "answer_id": 40077287, "question_id": 40076198, "link": "https://stackoverflow.com/questions/40076198/finding-and-printing-a-specific-pattern-in-a-given-string/40077287#40077287", "title": "Finding and printing a specific Pattern in a given string", "body": "<p>Only did it this way because I hate back tracking in my regular expressions.  But I do find its usually faster if I perform the most restrictive part of the match first.  Which in this case is made simpler by reversing the input and the search pattern.  This should stop at the first (shortest) possible match; rather than finding the longest match, then hunting down the shortest. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $pattern = \"MKTSGNQDEILVIRKGWLTINNIGIMKGGSKEYWFVLTAENLSWYKDDEEKEKKYMLSVDNLKLRDVEKGFMSSKHIFAL\";\nmy $reverse = reverse $pattern;\nmy $length  = length $reverse;\nif( $reverse =~ /(R.[KR][^K]+K)/ ) {\n    my $match   = $1;\n    $match      = reverse $match;\n    my $start_p = $length-$+[0];\n    my $end_p   = $length-$-[0]-1;\n    my $where   = $start_p + length $match;\n    print \"FOUND ...\\n\";\n    print \"0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890\\n\";\n    print $pattern.\"\\n\";\n    printf \"%${where}s\\n\", $match;\n    print \"Found pattern '$match' starting at position '$start_p' and ending at position '$end_p'\\n\";\n    # test it\n    if( $pattern =~ /$match/ ) {\n        if( $start_p == $-[0] &amp;&amp; $end_p == $+[0]-1 ) {\n            print \"Test successful, match found in original pattern.\\n\";\n        } else {\n            print \"Test failed, you screwed something up!\\n\";\n        }\n    } else {\n        print \"Hmmm, pattern '$match' wasn't found in '$pattern'?\\n\";\n    }\n} else {\n    print \"Dang, no match was found!\\n\";\n}\n</code></pre>\n\n<p>I'm not certain if the elimination of back-tracking here would outweigh the performance hit of the reversing.  I guess it would depend greatly on the sizes of both the input string and the length of what could possibly match.</p>\n\n<pre><code>$&gt; perl ./search.pl\nFOUND ...\n0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890\nMKTSGNQDEILVIRKGWLTINNIGIMKGGSKEYWFVLTAENLSWYKDDEEKEKKYMLSVDNLKLRDVEKGFMSSKHIFAL\n                                                     KYMLSVDNLKLR\nFound pattern 'KYMLSVDNLKLR' starting at position '53' and ending at position '64'\nTest successful, match found in original pattern.\n</code></pre>\n\n<p>I apologize to those that don't understand why I started at zero.</p>\n\n<p>And a bit more real world example - which will find interwoven matches.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n# NOTE THE INPUT WAS MODIFIED FROM OP\nmy $input = \"MKTSGNQDEILVIRKKRKRRGWKLTINNIRGRIMRGRKGGSKEYWFVLTAENLSWYKDDEEKEKKYMLSVDNLKLRDVEKGFMSSKHIFALKGR\";\n\nmy $rstart = length $input;\nmy( $match, $start, $end ) = rsearch( $input, \"R.[KR].+?K\" );\nwhile( $match ) {\n    print \"Found matching pattern '$match' starting at offset '$start' and ending at offset $end\\n\";\n    $input = substr $input, 0, $end;\n    ( $match, $start, $end ) = rsearch( $input, \"R.[KR].+?K\" );\n}\nexit(0);\n\nsub rsearch {\n    my( $input, $pattern ) = @_;\n    my $reverse = reverse $input;\n\n    if( $reverse =~ /($pattern)/ ) {\n        my $length = length $reverse;\n        $match = reverse $1;\n        $start = $length-$+[0];\n        $end   = $length-$-[0]-1;\n        return( $match, $start, $end );\n    }\n\n    return( undef );\n}\n\nperl ./search.pl\nFound matching pattern 'KHIFALKGR' starting at offset '85' and ending at offset 93\nFound matching pattern 'KYMLSVDNLKLR' starting at offset '64' and ending at offset 75 \nFound matching pattern 'KLTINNIRGRIMRGR' starting at offset '22' and ending at offset 36\nFound matching pattern 'KLTINNIRGR' starting at offset '22' and ending at offset 31\nFound matching pattern 'KRKRR' starting at offset '15' and ending at offset 19 \nFound matching pattern 'KKRKR' starting at offset '14' and ending at offset 18\nFound matching pattern 'KTSGNQDEILVIRKKR' starting at offset '1' and ending at offset 16\n</code></pre>\n"}], "owner": {"reputation": 2871, "user_id": 5604562, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/q4sxe.jpg?s=128&g=1", "display_name": "Grayrigel", "link": "https://stackoverflow.com/users/5604562/grayrigel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 40076542, "answer_count": 3, "score": -2, "last_activity_date": 1476680842, "creation_date": 1476657053, "last_edit_date": 1476660945, "question_id": 40076198, "link": "https://stackoverflow.com/questions/40076198/finding-and-printing-a-specific-pattern-in-a-given-string", "title": "Finding and printing a specific Pattern in a given string", "body": "<p>I am writing a code find a specific pattern in a given string using python or perl. I had some success in finding the pattern using C but python or perl usage is mandatory for this assignment and I am very new in both of these lanuages.</p>\n\n<p>My string looks like this (Amino acid sequence) :-</p>\n\n<pre><code> MKTSGNQDEILVIRKGWLTINNIGIMKGGSKEYWFVLTAENLSWYKDDEEKEKKYMLSVDNLKLRDVEKGFMSSKHIFAL\n</code></pre>\n\n<p>The pattern I want to find is </p>\n\n<pre><code> KXXXXXX(K\\R)XR \n</code></pre>\n\n<p>Please note that Letters between K and K\\R are not fixed. However, there is only letter between K\\R and R. So, in the given string my pattern is like this and exist between letter no. 54 to 65 (if I counted correctly) based on \"smallest pattern\" search :-</p>\n\n<pre><code>  KYMLSVDNLKLR\n</code></pre>\n\n<p>Previously, I was using C if-else condition to break this given string and printed out word count (not fully successful).</p>\n\n<pre><code>   printf(%c, word[i]);\n     if ((word [i] == 'K' || word [i] == 'R' )) &amp;&amp; word [i+2] == 'R') {\n        printf(\"\\n\");\n        printf(\"%d\\n\",i);\n    }\n</code></pre>\n\n<p>I agree It dint capture everything. If anyone can help me help me solving this problem, that would be great.</p>\n"}, {"tags": ["perl", "email"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476657607, "post_id": 40076036, "comment_id": 67425617, "body": "<code>-l</code>, <code>-s</code>, <code>-n</code> and <code>-e</code> are documented in perlrun"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476658003, "post_id": 40076036, "comment_id": 67425721, "body": "<code>foreach $sender(...)</code> aliases <code>$sender</code> to each element of the lists over which the foreach iterates. But I think you might have been asking about <code>%sender</code>, whose elements are set by the assignment operators (<code>+=</code> and <code>=</code>)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476658025, "post_id": 40076036, "comment_id": 67425723, "body": "Regular expression <code>(?:login|plain)</code> matches <code>login</code> and <code>plain</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476658402, "post_id": 40076036, "comment_id": 67425817, "body": "There is a fashion for writing multiple-line &quot;one-line&quot; Perl programs. While it&#39;s fine to do this to yourself, just as you may write unindented code with one-letter identifiers and without <code>use strict</code> or brushing your teeth in your private moments, I believe it is very bad manners to subject anyone else to stuff like this. Yes @Xanagandr I realise that this isn&#39;t your own code, and I am sympathising. Someone is showing off at your expense, and I am saying this in the hope that others will stop doing it. Amongst other things it&#39;s very unportable and spits at Windows  users."}, {"owner": {"reputation": 573, "user_id": 3590436, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uwRpK.jpg?s=128&g=1", "display_name": "Xanagandr", "link": "https://stackoverflow.com/users/3590436/xanagandr"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476664754, "post_id": 40076036, "comment_id": 67427091, "body": "@ikegami Thanks for both inputs on this."}, {"owner": {"reputation": 573, "user_id": 3590436, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uwRpK.jpg?s=128&g=1", "display_name": "Xanagandr", "link": "https://stackoverflow.com/users/3590436/xanagandr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476664756, "post_id": 40076036, "comment_id": 67427092, "body": "@Borodin Yeah, I&#39;m no fan of one-liners, either. My main approach would have been a python script, since I know nothing of Perl."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476658739, "post_id": 40076306, "comment_id": 67425915, "body": "@mob: Thanks for that. I am nowhere near a command line of any sort and could not be sure of the expansion."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476659456, "post_id": 40076306, "comment_id": 67426061, "body": "The whole thing looks rather wrong to me. The regex pattern starts with <code>$today</code>, which is undefined. Nothing can work properly after that."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1476660226, "post_id": 40076306, "comment_id": 67426237, "body": "<code>$today</code> is set by <code>perl -s ... -- -today=$(date %F)</code>"}, {"owner": {"reputation": 573, "user_id": 3590436, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uwRpK.jpg?s=128&g=1", "display_name": "Xanagandr", "link": "https://stackoverflow.com/users/3590436/xanagandr"}, "edited": false, "score": 0, "creation_date": 1476664916, "post_id": 40076306, "comment_id": 67427128, "body": "@mob Really appreciate this answer. I can feel I understand this code better with the indentation. Thanks a lot!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1476674467, "post_id": 40076306, "comment_id": 67428951, "body": "I&#39;m not sure how that explains anything. For example, you replaced <code>-l</code> with <code>BEGIN { $&#47; = &quot;\\n&quot;; $\\ = &quot;\\n&quot;; }</code> which is far more cryptic. You also don&#39;t cover <code>-s</code>, <code>(?:login|plain)</code> or <code>$sender</code> at all, despite being the three questions the OP asked!"}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 1, "last_activity_date": 1476659614, "last_edit_date": 1476659614, "creation_date": 1476657906, "answer_id": 40076306, "question_id": 40076036, "link": "https://stackoverflow.com/questions/40076036/interpreting-modifying-perl-one-liner/40076306#40076306", "title": "Interpreting &amp; modifying Perl one-liner?", "body": "<p><code>-MO=Deparse</code> is your friend for understanding one-liners (and one liners that wrap into five lines on your terminal):</p>\n\n<pre><code>$ perl -MO=Deparse -lsne '/$today.* \\[([0-9.]+)\\]:.+dovecot_( ...\n\nBEGIN { $/ = \"\\n\"; $\\ = \"\\n\"; }\n\nLINE:\n\nwhile ( defined($_ = &lt;ARGV&gt;) ) {\n\n    chomp $_;\n\n    $sender{$2}{'i'}{$1} = 1 if\n        /$today.* \\[([0-9.]+)\\]:.+dovecot_(?:login|plain):([^\\s]+).* for (.*)/\n            and $sender{$2}{'r'} += scalar split(/ /, $3, 0);\n\n    sub END {\n\n        foreach $sender (keys %sender) {\n\n            printf \"Recip=%05d Hosts=%03d Auth=%s\\n\", \n                $sender{$sender}{'r'}, \n                scalar keys %{$sender{$sender}{'i'};}, $sender;\n        }\n    }\n}\n\n-e syntax OK\n</code></pre>\n\n<p>[newlines and indentation added for clarity]</p>\n"}, {"tags": [], "owner": {"reputation": 907, "user_id": 6146688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f262dda91bdff7ff11cf7762124764d?s=128&d=identicon&r=PG", "display_name": "Paul L", "link": "https://stackoverflow.com/users/6146688/paul-l"}, "is_accepted": false, "score": 2, "last_activity_date": 1476715653, "creation_date": 1476715653, "answer_id": 40089474, "question_id": 40076036, "link": "https://stackoverflow.com/questions/40076036/interpreting-modifying-perl-one-liner/40089474#40089474", "title": "Interpreting &amp; modifying Perl one-liner?", "body": "<p><strong>What does the flag -lsne does? (From what I know, it's got to be, at least, 3 different flags in one)</strong></p>\n\n<ul>\n<li><code>-l</code> causes lines of input read in to be auto-chomped, and lines of\noutput printed out to have \"\\n\" auto-appended </li>\n<li><code>-s</code> enables switch\nparsing. This is what creates the variable <code>$today</code>, because a\ncommand-line switch of <code>--today=$(date +%F)</code> was passed. </li>\n<li><code>-n</code> surrounds the entire \"one-liner\" in a <code>while (&lt;&gt;) { ... }</code> loop. \nEffectively reading every line from standard input and running the\nbody of the one liner on that line </li>\n<li><code>-e</code> is the switch that tells\n<code>perl</code> to execute the following code from the command line, rather\nthan running a file containing Perl code</li>\n</ul>\n\n<p><strong>Where does $sender gets its value from?</strong></p>\n\n<p>I suspect you are confusing <code>$sender</code> with <code>%sender</code>.  The code uses <code>$sender{$2}{r}</code> without explicitly mentioning <code>%sender</code>.  This is a function of Perl called \"auto-vivification\".  Basically, because we used <code>$sender{$2}{r}</code>, perl automatically created a variable <code>%sender</code>, and added a key whose name is whatever is in <code>$2</code>, and set the value of that key in <code>%sender</code> to be a reference to a new hash. It then set that new hash to have a key <code>'r'</code> and a value of <code>scalar (split / /,$3)</code></p>\n\n<p><strong>What about that (?:login|plain) segment, are they 'variables'? (I get that's ReGex, I'm just not familiarized with it)</strong></p>\n\n<p>It's saying that this portion of the regular expression will match either <code>'login'</code> or <code>'plain'</code>.  The <code>?:</code> at the beginning tells Perl that these parentheses are used only for clustering, not capturing.  In other words, the result of this portion of the pattern match will not be stored in the <code>$1</code>, <code>$2</code>, <code>$3</code>, etc variables.</p>\n"}, {"comments": [{"owner": {"reputation": 573, "user_id": 3590436, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uwRpK.jpg?s=128&g=1", "display_name": "Xanagandr", "link": "https://stackoverflow.com/users/3590436/xanagandr"}, "edited": false, "score": 0, "creation_date": 1476731675, "post_id": 40090011, "comment_id": 67460635, "body": "I don&#39;t know, but there&#39;s several nuggets of valuable information for Perl beginners. I appreciate your effort."}], "tags": [], "owner": {"reputation": 19, "user_id": 6908744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7580048e2f6ab76662525163f5ad8c22?s=128&d=identicon&r=PG&f=1", "display_name": "permanent409", "link": "https://stackoverflow.com/users/6908744/permanent409"}, "is_accepted": false, "score": 1, "last_activity_date": 1476718302, "last_edit_date": 1476718302, "creation_date": 1476717229, "answer_id": 40090011, "question_id": 40076036, "link": "https://stackoverflow.com/questions/40076036/interpreting-modifying-perl-one-liner/40090011#40090011", "title": "Interpreting &amp; modifying Perl one-liner?", "body": "<blockquote>\n  <p>What does the flag -lsne does? (From what I know, it's got to be, at least, 3 different flags in one)</p>\n</blockquote>\n\n<p>You can access a summary of the available perl command line options by running '~$ perl -h' in the terminal. Below are filtered out the specific command line options you were asking about.</p>\n\n<pre><code>~$ perl -h|perl -ne 'print if /^\\s+(-l|-s|-n|-e)/'\n   -e program        one line of program (several -e's allowed, omit programfile)\n   -l[octal]         enable line ending processing, specifies line terminator\n   -n                assume \"while (&lt;&gt;) { ... }\" loop around program\n   -s                enable rudimentary parsing for switches after programfile\n</code></pre>\n\n<p>Two examples of the '-s' command line option in use.</p>\n\n<pre><code>~$ perl -se 'print \"Todays date is $today\\n\"' -- -today=`date +%F`\nTodays date is 2016-10-17\n\n~$ perl -se 'print \"The sky is $color.\\n\"' -- -color='blue'\nThe sky is blue.\n</code></pre>\n\n<p>For detailed explanations of those command line options read the online documentation below.\n<a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\">http://perldoc.perl.org/perlrun.html</a></p>\n\n<p>Or run the command below from your terminal.</p>\n\n<pre><code>~$ perldoc perlrun\n</code></pre>\n\n<p>Unrelated to the questions of the OP, I'm aware that this is not a complete answer (added as much as I was able to at the moment), so if this post/answer violates any SO rules, the moderators should remove it. Thx.</p>\n"}], "owner": {"reputation": 573, "user_id": 3590436, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uwRpK.jpg?s=128&g=1", "display_name": "Xanagandr", "link": "https://stackoverflow.com/users/3590436/xanagandr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 40076306, "answer_count": 3, "score": 1, "last_activity_date": 1476718302, "creation_date": 1476655950, "last_edit_date": 1476657946, "question_id": 40076036, "link": "https://stackoverflow.com/questions/40076036/interpreting-modifying-perl-one-liner", "title": "Interpreting &amp; modifying Perl one-liner?", "body": "<p>I have the following Perl 'one-liner' script (found it online, so not mine):</p>\n\n<pre><code>perl -lsne '\n    /$today.* \\[([0-9.]+)\\]:.+dovecot_(?:login|plain):([^\\s]+).* for (.*)/\n    and $sender{$2}{r}+=scalar (split / /,$3)\n    and $sender{$2}{i}{$1}=1;\n\n    END {\n        foreach $sender(keys %sender){\n            printf\"Recip=%05d Hosts=%03d Auth=%s\\n\",\n                $sender{$sender}{r},\n                scalar (keys %{$sender{$sender}{i}}),\n                $sender;\n        }\n    }\n' -- -today=$(date +%F) /var/log/exim_mainlog | sort\n</code></pre>\n\n<p>I've been trying to understand its innards, because I would like to modify it to re-use its functionality.</p>\n\n<p>Some questions I got:</p>\n\n<ul>\n<li>What does the flag <em>-lsne</em> does? (From what I know, it's got to be, at least, 3 different flags in one)</li>\n<li>Where does <em>$sender</em> gets its value from?</li>\n<li>What about that <em>(?:login|plain)</em> segment, are they 'variables'? (I get that's ReGex, I'm just not familiarized with it)</li>\n</ul>\n\n<p>What I'm trying to achieve:</p>\n\n<ul>\n<li><p>Get the number of emails sent by each user in a SMTP relay <em>periodically</em> (cron job)</p></li>\n<li><p>If there's an irregular number of emails (say, 500 in a 1-hour timespan), <em>do something</em> (like shutting of the service, or send a notification)</p></li>\n</ul>\n\n<p><strong>Why</strong> I'm trying to achieve this:\nLately, someone has been using my SMTP server to send spam, so I would like to monitor email activity so they stop abusing the SMTP relay resources. <em>(Security-related suggestions are always welcomed, but out of topic for this question. Trying to focus on the script for now)</em></p>\n\n<p>What I'm <strong>NOT</strong> trying to achieve:</p>\n\n<ul>\n<li>To get the script done by third-parties. (Just try and point me in the right direction, maybe an example)</li>\n</ul>\n\n<p>So, any suggestions, guidance,and friendly comments are welcomed. I understand this may be an <em>out-of-topic</em> question, yet I've been struggling with this for almost a week and my background with Perl is null.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["regex", "perl", "timestamp"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1476650644, "post_id": 40075231, "comment_id": 67423683, "body": "A literal dot in the pattern should be escaped. Also, <code>(?:\\d+)</code> = <code>\\d+</code>. Try <a href=\"https://regex101.com/r/jlRqiV/2\" rel=\"nofollow noreferrer\"><code>&#47;^TIMESTAMP: (\\d+\\.\\d+.\\d+)\\s+(\\d+:\\d+:\\d+)&#47;</code></a>"}, {"owner": {"reputation": 1, "user_id": 7027475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2172a8a8cd8be0531c4ea1840969ec8a?s=128&d=identicon&r=PG&f=1", "display_name": "farm4data", "link": "https://stackoverflow.com/users/7027475/farm4data"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1476651736, "post_id": 40075231, "comment_id": 67424032, "body": "Thanks Wiktor, notice that i perform two checks, first for a timestamp where a hyphen is used to separate day, month, year. If that pattern is not found then i check for a dot (.) as separator...but no matter what regular expression i used (yours or mine) it fails to pick up $1 and $2."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476655492, "post_id": 40075231, "comment_id": 67425102, "body": "Your Perl code is very hard to read. Can you not use spaces to add layout and make it more readable?"}, {"owner": {"reputation": 1, "user_id": 7027475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2172a8a8cd8be0531c4ea1840969ec8a?s=128&d=identicon&r=PG&f=1", "display_name": "farm4data", "link": "https://stackoverflow.com/users/7027475/farm4data"}, "edited": false, "score": 0, "creation_date": 1476656264, "post_id": 40075231, "comment_id": 67425297, "body": "thanks, i&#39;ll keep that mind."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1476657219, "creation_date": 1476657219, "answer_id": 40076223, "question_id": 40075231, "link": "https://stackoverflow.com/questions/40075231/fetch-for-timestamp-using-perl-regex/40076223#40076223", "title": "Fetch for timestamp using PERL regex", "body": "\n\n<p>Your code works fine, but you have made it overly complicated</p>\n\n<ul>\n<li><p>Your comments are wrong, and don't even agree with one another</p></li>\n<li><p>There is no need to enclose every <code>\\d+</code> in a regex pattern inside <code>(?: ... )</code></p></li>\n<li><p>You must escape a literal dot <code>.</code> in a regex pattern, otherwise it can match any character</p></li>\n<li><p>It is best to use the <code>/x</code> modifier with a regex pattern that isn't trivial, so that you can add spaces to make it more readable</p></li>\n<li><p>The capture variables <code>$1</code>, <code>$2</code> ... are block scoped, but you expect them to be permanent</p></li>\n</ul>\n\n<p>Here's a version that works, and uses <code>Data::Dump</code> to show the captured values at a couple of points in the code</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings 'all';\n\nuse Data::Dump;\n\nmy $text = \"TIMESTAMP: 08.08.2016 00:33:01\";\n\nunless ( defined $1 ) {\n\n    $text =~ / ^ TIMESTAMP: \\s* (\\d+\\.\\d+\\.\\d+) \\s+ (\\d+:\\d+:\\d+) /x;\n\n    dd [ $1, $2 ];\n}\n\ndd [ $1, $2 ];\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>[\"08.08.2016\", \"00:33:01\"]\n[undef, undef]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7027475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2172a8a8cd8be0531c4ea1840969ec8a?s=128&d=identicon&r=PG&f=1", "display_name": "farm4data", "link": "https://stackoverflow.com/users/7027475/farm4data"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1476690207, "creation_date": 1476650571, "last_edit_date": 1592644375, "question_id": 40075231, "link": "https://stackoverflow.com/questions/40075231/fetch-for-timestamp-using-perl-regex", "title": "Fetch for timestamp using PERL regex", "body": "<p>I am having difficulties picking up a timestamp where day, month and year are separated by a dot, although the regular expression i chose seems to work just fine when the matching is done just once.</p>\n<p>Here is my text line:</p>\n<pre><code>TIMESTAMP: 08.08.2016 00:33:01\n</code></pre>\n<p>Here is the code:</p>\n<pre><code>#!/usr/bin/perl -w\n#looking for timestamp in the following format: TIMESTAMP: 08.08.2016   00:33:01\n\nmy $TIMESTAMP;\nmy $TXT;\n\n$TXT = &quot;TIMESTAMP: 08.08.2016 00:33:01&quot;;\n\n#matching for MACRO. example:   TIMESTAMP: 2016-09-18T15:07:20.246Z\n($TIMESTAMP = $TXT) =~ /^TIMESTAMP: ([0-9]{1,4}-[0-9]{1,2}-[0-9] {1,2})T([0-9]{1,2}:[0-9]{1,2}:[0-9]{1,2}).[0-9]+Z/;\nprint &quot;\\ncheck1)the TIMESTAMP value is:$TIMESTAMP\\n&quot;;\nif (! defined $1) {\n\n#matching for MM. example:  TIMESTAMP: 08.08.2016 00:33:01\n($TIMESTAMP = $TXT) =~ /^TIMESTAMP: ((?:\\d+).(?:\\d+).(?:\\d+))\\s((?:\\d+):(?:\\d+):(?:\\d+))/;\nprint   &quot;check2)the TIMESTAMP value is:$TIMESTAMP\\n&quot;;\n}\n\nif (defined $1 and defined $2) {\n    $TIMESTAMP = $1.&quot; &quot;.$2;\n    print &quot;the timestamp is:$TIMESTAMP\\n&quot;;\n} else {\n        \n    $TIMESTAMP = &quot;n/a\\n&quot;;\n    print &quot;not all elements of TIMESTAMP were defined,   TIMESTAMP:$TIMESTAMP\\n&quot;;\n}\n</code></pre>\n<p>I used <a href=\"https://www.regex101.com/\" rel=\"nofollow noreferrer\">regex101</a> to verify that the regular expression works, but when I do two checks in a row the script fails to deliver the groups <code>$1</code> and <code>$2</code>.</p>\n<h3>Update</h3>\n<p>Tidied Perl code</p>\n<pre><code>#!/usr/bin/perl -w\n\n# Looking for timestamp in the following format: TIMESTAMP: 08.08.2016   00:33:01\n\nmy $TIMESTAMP;\nmy $TXT;\n\n$TXT = &quot;TIMESTAMP: 08.08.2016 00:33:01&quot;;\n\n# Matching for MACRO. example:   TIMESTAMP: 2016-09-18T15:07:20.246Z\n\n( $TIMESTAMP = $TXT ) =~ /^TIMESTAMP: ([0-9]{1,4}-[0-9]{1,2}-[0-9] {1,2})T([0-9]{1,2}:[0-9]{1,2}:[0-9]{1,2}).[0-9]+Z/;\n\nprint &quot;\\ncheck1) the TIMESTAMP value is:$TIMESTAMP\\n&quot;;\n\nif ( ! defined $1 ) {\n\n    # matching for MM. example:  TIMESTAMP: 08.08.2016 00:33:01\n    \n    ( $TIMESTAMP = $TXT ) =~ /^TIMESTAMP: ((?:\\d+).(?:\\d+).(?:\\d+))\\s((?:\\d+):(?:\\d+):(?:\\d+))/;\n\n    print &quot;check2)the TIMESTAMP value is:$TIMESTAMP\\n&quot;;\n}\n\nif ( defined $1 and defined $2 ) {\n\n    $TIMESTAMP = $1 . &quot; &quot; . $2;\n\n    print &quot;the timestamp is:$TIMESTAMP\\n&quot;;\n}\nelse {\n\n    $TIMESTAMP = &quot;n/a\\n&quot;;\n\n    print &quot;not all elements of TIMESTAMP were defined,   TIMESTAMP:$TIMESTAMP\\n&quot;;\n}\n</code></pre>\n"}, {"tags": ["perl", "module", "pari"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1476649866, "post_id": 40075049, "comment_id": 67423430, "body": "did you open <code>c:\\Users\\Jlinne\\.cpanm\\work\\1476648581.10216\\build.log</code> to look at the error(s) like the very last line of the output stated? Edit your question with that info."}, {"owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1476653768, "post_id": 40075049, "comment_id": 67424631, "body": "@stevieb the --force does not work, it is a matter of where to extract the Pari 2-7-6 files I am concerned about."}], "answers": [{"tags": [], "owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "is_accepted": true, "score": 2, "last_activity_date": 1476704081, "creation_date": 1476704081, "answer_id": 40085334, "question_id": 40075049, "link": "https://stackoverflow.com/questions/40075049/what-to-do-for-mathpari-in-cpan-terminal/40085334#40085334", "title": "What to do for Math::Pari in cpan terminal", "body": "<p>Here is an easy way on Windows:</p>\n\n<ol>\n<li>Download and extract the module: <a href=\"https://metacpan.org/pod/Math::Pari\" rel=\"nofollow\">https://metacpan.org/pod/Math::Pari</a></li>\n<li><code>cd</code> into the directory you created when extracting</li>\n<li><code>perl Makefile.PL force_download</code> &lt;- this downloads things to the right place</li>\n<li><code>dmake</code></li>\n<li><code>dmake install</code></li>\n</ol>\n"}], "owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 40085334, "answer_count": 1, "score": 1, "last_activity_date": 1476704081, "creation_date": 1476649289, "last_edit_date": 1495540424, "question_id": 40075049, "link": "https://stackoverflow.com/questions/40075049/what-to-do-for-mathpari-in-cpan-terminal", "title": "What to do for Math::Pari in cpan terminal", "body": "<p>I found this one relevant question on problems with installing Math::Pari, <a href=\"https://stackoverflow.com/questions/31871681/error-while-installing-mathpari\">here</a>. Except this is for shell and I have cpanm. I downloaded the latest version of Pari, Pari 2-7-6. Where should I extract the files in C:\\Program Files (x86)\\Pari-2-7-6 to install Math::Pari in perl (not in cpan shell however) successfully? Thanks in advance.</p>\n\n<pre><code>C:\\Users\\Jlinne\\Documents&gt;                    cpanm Math::Pari\n--&gt; Working on Math::Pari\nFetching http://www.cpan.org/authors/id/I/IL/ILYAZ/modules/Math-Pari-2.01080900.zip ... OK\nConfiguring Math-Pari-2.01080900 ... N/A\n! Configure failed for Math-Pari-2.01080900. See C:\\Users\\Jlinne\\.cpanm\\work\\1476648581.10216\\build.log for details.\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 1, "creation_date": 1476646063, "post_id": 40074494, "comment_id": 67422215, "body": "always start with : <code>use strict; use warnings;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476658358, "post_id": 40074494, "comment_id": 67425810, "body": "Tip: <code>$m += 0;</code>???"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476658430, "post_id": 40074494, "comment_id": 67425826, "body": "Tip: <code>howmany</code> should <code>return</code> the count. The <code>print</code> should be done by the caller. IO and calculations are unrelated concerns."}, {"owner": {"reputation": 1, "user_id": 6929156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d857c478e605a1e8e176d152154fc3e7?s=128&d=identicon&r=PG&f=1", "display_name": "CHANDNI MITTAL", "link": "https://stackoverflow.com/users/6929156/chandni-mittal"}, "edited": false, "score": 0, "creation_date": 1476658463, "post_id": 40074494, "comment_id": 67425837, "body": "if the array element is greater than five, it will add one to $m otherwise it won&#39;t add anything and check the next element"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476658505, "post_id": 40074494, "comment_id": 67425850, "body": "That&#39;s what it should do, but you add zero instead of not adding/doing anything."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476658587, "post_id": 40074494, "comment_id": 67425877, "body": "Simple solution: <code>sub how_many_greater_than_5 { return 0+grep { $_ &gt; 5 } @_; } say how_many_greater_than_5(1, 6, 9);</code> or <code>sub how_many_greater_than { my $lim = shift; return 0+grep { $_ &gt; $lim } @_; } say how_many_greater_than(5, 1, 6, 9);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 3, "last_activity_date": 1476646628, "last_edit_date": 1476646628, "creation_date": 1476646311, "answer_id": 40074558, "question_id": 40074494, "link": "https://stackoverflow.com/questions/40074494/counting-how-many-numbers-greater-than-5-in-a-given-array/40074558#40074558", "title": "Counting how many numbers greater than 5 in a given array", "body": "<p>The <code>sub</code> keyword should be followed by <code>{ }</code> not <code>( )</code> (if you define a simple function), that's why the error</p>\n\n<pre><code>prototype not terminated\n</code></pre>\n\n<p>After this, always start with : <code>use strict; use warnings;</code></p>\n\n<p>Put this and debug your script, there's more errors.</p>\n\n<p>Last but not least, <strong>indent your code</strong> properly, using an editor with syntax highlighting, you will save many time debugging </p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 6944041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe3b708a1cce0a3f99f7234f7dedce62?s=128&d=identicon&r=PG&f=1", "display_name": "Xor", "link": "https://stackoverflow.com/users/6944041/xor"}, "is_accepted": false, "score": 0, "last_activity_date": 1476688805, "creation_date": 1476688805, "answer_id": 40080548, "question_id": 40074494, "link": "https://stackoverflow.com/questions/40074494/counting-how-many-numbers-greater-than-5-in-a-given-array/40080548#40080548", "title": "Counting how many numbers greater than 5 in a given array", "body": "<p>The error is due to parenthesis. \nNever do $m += 0; As you actually load processor for nothing. Of course it's not gonna be visible on such a small function, but...</p>\n\n<pre><code>sub howmany {\n    my $m = 0;\n    foreach (@_) {\n        $m++ if ($_ &gt; 5);\n    }\n    print \"Number of elements greater than 5 is equal to: $m \\n\";\n} \nhowmany(1,6,9);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6929156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d857c478e605a1e8e176d152154fc3e7?s=128&d=identicon&r=PG&f=1", "display_name": "CHANDNI MITTAL", "link": "https://stackoverflow.com/users/6929156/chandni-mittal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1476688805, "creation_date": 1476645968, "last_edit_date": 1476648054, "question_id": 40074494, "link": "https://stackoverflow.com/questions/40074494/counting-how-many-numbers-greater-than-5-in-a-given-array", "title": "Counting how many numbers greater than 5 in a given array", "body": "<p>I am having an error saying that <code>prototype not terminated at filename.txt line number 113</code> where as line number 113 belongs to a different program which is running successfully.</p>\n\n<pre><code>sub howmany( \n    my @H = @_;\n    my $m = 0;\n\n    foreach $x (@H) {\n        if ( $x &gt; 5 ) {\n            $m +=1;\n        }\n        else { \n            $m +=0;\n        }\n    }\n    print \"Number of elements greater than 5 is equal to: $m \\n\";\n} \nhowmany(1,6,9);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1476640138, "post_id": 40073283, "comment_id": 67420119, "body": "Try <code>$spec &#47;&#47;= &#39;&#39;</code> or <code>$spec = defined $spec ? &quot;$spec&quot; : &#39;&#39;</code>"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1476641482, "post_id": 40073283, "comment_id": 67420622, "body": "Great question."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1476643546, "post_id": 40073435, "comment_id": 67421396, "body": "I don&#39;t think that&#39;s what&#39;s wanted here: <code>overload::StrVal(arg) Gives the string value of arg as in the absence of stringify overloading. </code>. That is, it will return the object reference in string form, e.g. Foo=HASH(0xdeadbeef)"}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1476643694, "post_id": 40073435, "comment_id": 67421451, "body": "@ysth I think you&#39;re right.  Do you know the proper method to force string form without using concatenation?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1476643940, "post_id": 40073435, "comment_id": 67421522, "body": "&quot;$spec&quot; trapping warnings and detecting the uninitialized var warning.  Better to add a method to the class to test for whatever case returns undef."}, {"owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1476646547, "post_id": 40073435, "comment_id": 67422375, "body": "@ysth Expanded on the correction.  Thanks for pointing that out."}], "tags": [], "owner": {"reputation": 34304, "user_id": 1733163, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gmGvj.jpg?s=128&g=1", "display_name": "Miller", "link": "https://stackoverflow.com/users/1733163/miller"}, "is_accepted": true, "score": 7, "last_activity_date": 1476646039, "last_edit_date": 1476646039, "creation_date": 1476640147, "answer_id": 40073435, "question_id": 40073283, "link": "https://stackoverflow.com/questions/40073283/string-overloaded-variable-is-considered-defined-no-matter-what/40073435#40073435", "title": "String overloaded variable is considered defined no matter what", "body": "<p>You say that <code>$spec</code> is an object with <a href=\"http://perldoc.perl.org/overload.html\" rel=\"nofollow\">string overloading</a>.</p>\n\n<p>If that's the case then you need to coerce it into String form before checking for it being defined:</p>\n\n<pre><code>if (! defined overload::StrVal($spec)) {\n</code></pre>\n\n<p><strong>Correction per ysth</strong></p>\n\n<p>As ysth pointed out in the StrVal does not coerce the overloaded stringification:</p>\n\n<blockquote>\n  <p>overload::StrVal(arg)</p>\n  \n  <p>Gives the string value of arg as in the absence of stringify overloading. If you are using this to get the address of a reference (useful for checking if two references point to the same thing) then you may be better off using Scalar::Util::refaddr() , which is faster.</p>\n</blockquote>\n\n<p>Therefore to accomplish this, try his other suggestion of:</p>\n\n<blockquote>\n  <p>\"$spec\" trapping warnings and detecting the uninitialized var warning. Better to add a method to the class to test for whatever case returns undef.</p>\n</blockquote>\n\n<p>The following demonstrates this approach:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Test::More tests =&gt; 2;\n\nmy $obj_str_defined = StringOverloaded-&gt;new(\"has value\");\nmy $obj_str_undef   = StringOverloaded-&gt;new(undef);\n\nok( is_overloaded_string_defined($obj_str_defined), qq{\\$obj_str_defined is defined} );\nok( !is_overloaded_string_defined($obj_str_undef),  qq{\\$obj_str_undef is undef} );\n\nsub is_overloaded_string_defined {\n    my $obj = shift;\n\n    my $is_str_defined = 1;\n\n    local $SIG{__WARN__} = sub {\n        $is_str_defined = 0 if $_[0] =~ /Use of uninitialized value \\$obj in string/;\n    };\n\n    my $throwaway_var = \"$obj\";\n\n    return $is_str_defined;\n}\n\n{\n    # Object with string overloading\n    package StringOverloaded;\n\n    use strict;\n    use warnings;\n\n    use overload (\n        '\"\"' =&gt; sub {\n            my $self = shift;\n            return $$self;    # Dereference\n        },\n        fallback =&gt; 1\n    );\n\n    sub new {\n        my $pkg  = shift;\n        my $val  = shift;\n        my $self = bless \\$val, $pkg;\n\n        return $self;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1..2\nok 1 - $obj_str_defined is defined\nok 2 - $obj_str_undef is undef\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 5145211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hCe6S.jpg?s=128&g=1", "display_name": "Lilith", "link": "https://stackoverflow.com/users/5145211/lilith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 40073435, "answer_count": 1, "score": 4, "last_activity_date": 1476646039, "creation_date": 1476639260, "last_edit_date": 1476641474, "question_id": 40073283, "link": "https://stackoverflow.com/questions/40073283/string-overloaded-variable-is-considered-defined-no-matter-what", "title": "String overloaded variable is considered defined no matter what", "body": "<p>I have the following lines in my script:</p>\n\n<pre><code>my $spec = shift;\nif (!defined $spec) {\n    return (\"Invalid specification\", undef);\n}\n$spec = \"$spec\" // '';\n</code></pre>\n\n<p>I would naturally expect this to, when passed <code>undef</code>, return the warning <code>Invalid specification</code> in the array, with the second item being <code>undef</code>. Instead, the check is passed, and I get a console message warning me about <code>Use of uninitialized value $spec in string</code> on the next line.</p>\n\n<p><code>$spec</code> is an object with string and number overloading, and is unfortunately written such that attempting to test for truthiness in this particular subroutine (by way of <code>if ($spec)</code> for instance) results in deep recursion and a segfault.</p>\n\n<p>While I <em>am</em> interested in why, exactly, this is happening, I'm <em>more</em> interested in how to make it <em>stop</em> happening. I want to eliminate the console warning, preferable without <code>no warnings qw/uninitialized/</code>. Is this possible, and if so, how do I do it?</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 4, "last_activity_date": 1476640376, "creation_date": 1476640376, "answer_id": 40073479, "question_id": 40072946, "link": "https://stackoverflow.com/questions/40072946/how-can-i-safely-clean-up-roots-cpan-folder/40073479#40073479", "title": "How can I safely clean up root&#39;s .cpan folder?", "body": "<p>Just delete it.</p>\n\n<p>All of the files in that directory are temporary files generated while installing or upgrading modules from CPAN. They are not required after the install is complete.</p>\n\n<p>You may want to teach your system administrator about the <a href=\"https://metacpan.org/pod/App::cpanminus\" rel=\"nofollow\">cpanm</a> tool, which is a bit easier to use, and does some automatic cleanup of its temporary files.</p>\n"}, {"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 6, "last_activity_date": 1476641139, "creation_date": 1476641139, "answer_id": 40073632, "question_id": 40072946, "link": "https://stackoverflow.com/questions/40072946/how-can-i-safely-clean-up-roots-cpan-folder/40073632#40073632", "title": "How can I safely clean up root&#39;s .cpan folder?", "body": "<p>Short answer: Yes, you can delete that ~root/.cpan/build folder without affecting your system.</p>\n\n<p>On the other hand: It's not recommended that user <code>root</code> has a <code>.cpan</code> folder at all. Usually you would install modules as some other (non-root) user. <code>cpan</code> then complains about not being able to <em>install</em> the modules in question and asks what to do. <code>sudo</code> is one option, I usually choose that. <code>cpan</code> will then compile and test new modules in that user's <code>$HOME/.cpan</code> and when it comes to installation it'll ask you for root's (or your) password (depends on settings in <code>/etc/sudoers</code>).</p>\n\n<p>There's also a setting for the maximum size of the <code>~/.cpan/build</code> directory. Run:</p>\n\n<pre><code>$ cpan\n$ o conf build_cache\n</code></pre>\n\n<p>and see what the current setting is. For me it's [100] which means 100 MB. Type (e.g.)</p>\n\n<pre><code>$ o conf build_cache 50\n$ o conf commit\n</code></pre>\n\n<p>to set it to 50 MB. The <code>cpan</code> shell will instruct you further.</p>\n\n<p>I'm not perfectly sure but I think you need to run the <code>clean</code> command afterwards to actually reduce the size of <code>~/.cpan/build</code>, i.e. (in the <code>cpan</code> shell):</p>\n\n<pre><code>$ clean\n</code></pre>\n"}], "owner": {"reputation": 1354, "user_id": 2122007, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/563KL.jpg?s=128&g=1", "display_name": "Jim Black", "link": "https://stackoverflow.com/users/2122007/jim-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5265, "favorite_count": 1, "accepted_answer_id": 40073632, "answer_count": 2, "score": 5, "last_activity_date": 1476641139, "creation_date": 1476637379, "question_id": 40072946, "link": "https://stackoverflow.com/questions/40072946/how-can-i-safely-clean-up-roots-cpan-folder", "title": "How can I safely clean up root&#39;s .cpan folder?", "body": "<p>I have a development class Linux server which has been used for a great deal of Perl code creation and testing.  On this machine is a /root folder, part of the / partition, and in there is a .cpan folder - which is currently consuming almost 1TB of disk space.  We have been having issues with free space on the / partition and I'd like to 'clean up' this .cpan folder.  The build sub-directory has 100's of sub-folders, which appear to be already installed CPAN modules.  Is it safe to delete those?  Is there an option/command I can use inside of cpan to check or assist in the clean up?</p>\n\n<p>I've checked several man pages and on-line searches, but I'm not certain what could be removed without impacting the system.  Are there setting I could change that would keep this folder clean in the future?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "nlp", "machine-translation", "moses"], "comments": [{"owner": {"reputation": 1239, "user_id": 450448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfcb94c90d8741d59ec85302617e4839?s=128&d=identicon&r=PG", "display_name": "jvdbogae", "link": "https://stackoverflow.com/users/450448/jvdbogae"}, "edited": false, "score": 0, "creation_date": 1476703120, "post_id": 40071989, "comment_id": 67442475, "body": "What OS/hardware are you running this from?"}, {"owner": {"reputation": 166, "user_id": 6160589, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d5424f8b9b2ae3b84409e1419d87c6c1?s=128&d=identicon&r=PG&f=1", "display_name": "ssokhey", "link": "https://stackoverflow.com/users/6160589/ssokhey"}, "reply_to_user": {"reputation": 1239, "user_id": 450448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfcb94c90d8741d59ec85302617e4839?s=128&d=identicon&r=PG", "display_name": "jvdbogae", "link": "https://stackoverflow.com/users/450448/jvdbogae"}, "edited": false, "score": 0, "creation_date": 1476812377, "post_id": 40071989, "comment_id": 67500747, "body": "Oh. I forgot to mention that. I&#39;ve made edits. Please check."}, {"owner": {"reputation": 93695, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1477995100, "post_id": 40071989, "comment_id": 67969156, "body": "Silly question but &quot;did you press enter?&quot;"}, {"owner": {"reputation": 166, "user_id": 6160589, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d5424f8b9b2ae3b84409e1419d87c6c1?s=128&d=identicon&r=PG&f=1", "display_name": "ssokhey", "link": "https://stackoverflow.com/users/6160589/ssokhey"}, "edited": false, "score": 0, "creation_date": 1478003106, "post_id": 40071989, "comment_id": 67973143, "body": "Yes! I did press enter. I re-compiled the package. Now it&#39;s working!!!"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 6354159, "user_type": "registered", "profile_image": "https://graph.facebook.com/1732583930330950/picture?type=large", "display_name": "Talha Khalid Qureshi", "link": "https://stackoverflow.com/users/6354159/talha-khalid-qureshi"}, "is_accepted": false, "score": 2, "last_activity_date": 1597297971, "creation_date": 1597297971, "answer_id": 63388920, "question_id": 40071989, "link": "https://stackoverflow.com/questions/40071989/tokenizer-in-moses-smt-system-stuck-even-with-10-sentences/63388920#63388920", "title": "Tokenizer in moses-SMT system stuck even with 10 sentences", "body": "<p>Please Follow bellow steps ;</p>\n<pre><code>git clone https://github.com/moses-smt/mosesdecoder.git\ncd mosesdecoder\n\ngit clone https://github.com/moses-smt/giza-pp.git\ncd giza-pp\nmake\n\nmkdir tools\ncp giza-pp/GIZA++-v2/GIZA++ giza-pp/GIZA++-v2/snt2cooc.out giza-pp/mkcls-v2/mkcls tools\n\nscripts/tokenizer/tokenizer.perl -l fr &lt; ~/corpus/training/news-commentary-v8.fr-en.fr &gt; ~/corpus/news-commentary-v8.fr-en.tok.fr\n</code></pre>\n"}], "owner": {"reputation": 166, "user_id": 6160589, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d5424f8b9b2ae3b84409e1419d87c6c1?s=128&d=identicon&r=PG&f=1", "display_name": "ssokhey", "link": "https://stackoverflow.com/users/6160589/ssokhey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 451, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1597297971, "creation_date": 1476631688, "last_edit_date": 1476812351, "question_id": 40071989, "link": "https://stackoverflow.com/questions/40071989/tokenizer-in-moses-smt-system-stuck-even-with-10-sentences", "title": "Tokenizer in moses-SMT system stuck even with 10 sentences", "body": "<p>I was trying to make a baseline MT system. Just for checking How it works I made Source (S) and Target (T) language corpus of just 2000 sentences. The very first step is to prepare the data for Machine Translation (MT) system. In this step first we have to perform tokenization as mentioned here <a href=\"http://www.statmt.org/moses/?n=moses.baseline\" rel=\"nofollow\">Baseline SMT</a>. I've used this code:</p>\n\n<pre><code>~/mosesdecoder/scripts/tokenizer/tokenizer.perl -l en \\\n&lt; ~/corpus/training/news-commentary-v8.fr-en.en    \\\n&gt; ~/corpus/news-commentary-v8.fr-en.tok.en\n~/mosesdecoder/scripts/tokenizer/tokenizer.perl -l fr \\\n&lt; ~/corpus/training/news-commentary-v8.fr-en.fr    \\\n&gt; ~/corpus/news-commentary-v8.fr-en.tok.fr\n</code></pre>\n\n<p>( say S = French &amp; T = English)</p>\n\n<p>I checked after 2 hours it was still running. I got curious since it was not expected. Then I tried with just ten sentences. To my surprise, it's been 30 minutes and it is still running.</p>\n\n<p>Did I do anything wrong?</p>\n\n<p>PS: OS = Ubuntu 14.04.5 LTS\n    <a href=\"http://www.sony.co.in/support/product/SVT13125CN\" rel=\"nofollow\">Sony ultrabook</a>\n    No dual boot.</p>\n"}, {"tags": ["perl", "error-handling", "module", "installation"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1476630872, "post_id": 40071148, "comment_id": 67417013, "body": "<i>&quot;Can a technician please help me out?&quot;</i> ... Seriously?!"}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1476633113, "post_id": 40071148, "comment_id": 67417753, "body": "@Sinan&#220;n&#252;r: I understand the objection - of course helpers here are not a technical support department eagerly awaiting instructions. However the OP may not have English as a first language, and so may have just selected the wrong word. I&#39;ve edited out that phrase."}], "answers": [{"tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 2, "last_activity_date": 1476635542, "creation_date": 1476635542, "answer_id": 40072617, "question_id": 40071148, "link": "https://stackoverflow.com/questions/40071148/dmake-file-error-with-mathtrulyrandom-module/40072617#40072617", "title": "Dmake file error with Math::TrulyRandom module", "body": "<p>Math::TrulyRandom is broken, and should not (indeed, <em>cannot</em>) be used.</p>\n\n<p>It was written in 1996, and only works correctly on certain UNIX systems which existed at the time (like SunOS 4). It fails to generate random data on modern Linux systems, and cannot be compiled at all on Windows.</p>\n\n<p>If you need a random number generator and <code>rand</code> won't cut it, look for another module. <a href=\"https://metacpan.org/pod/Math::Random::Secure\" rel=\"nofollow\">Math::Random::Secure</a> or <a href=\"http://metacpan.org/pod/Crypt::Random\" rel=\"nofollow\">Crypt::Random</a>, for instance.</p>\n"}], "owner": {"reputation": 244, "user_id": 6797650, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ba292a35e8ce6a4517c2d8594bb706cd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Linne", "link": "https://stackoverflow.com/users/6797650/j-linne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 40072617, "answer_count": 1, "score": 0, "last_activity_date": 1476635542, "creation_date": 1476626460, "last_edit_date": 1495542183, "question_id": 40071148, "link": "https://stackoverflow.com/questions/40071148/dmake-file-error-with-mathtrulyrandom-module", "title": "Dmake file error with Math::TrulyRandom module", "body": "<p>I listened to this one person's advice when I tried installing <a href=\"http://search.cpan.org/~gary/Math-TrulyRandom-1.0/\" rel=\"nofollow noreferrer\">Math::TrulyRandom</a> (A random number generator vs pseudorandom), I was running 'dmake' and he told me to ask about the errors on a different question. </p>\n\n<p>My first question is <a href=\"https://stackoverflow.com/questions/40033316/force-command-in-perl-will-install-modules-for-sure\">here</a>.</p>\n\n<p>Here is what went wrong in the terminal:</p>\n\n<pre><code>C:\\Users\\Jlinne\\Documents&gt;                    cpanm --prompt Math::TrulyRandom\n--&gt; Working on Math::TrulyRandom\nFetching http://www.cpan.org/authors/id/G/GA/GARY/Math-TrulyRandom-1.0.tar.gz ... OK\nConfiguring Math-TrulyRandom-1.0 ... OK\nBuilding and testing Math-TrulyRandom-1.0 ... Building Math-TrulyRandom-1.0 failed.\nYou can s)kip, r)etry, e)xamine build log, or l)ook ? [s] l\nEntering C:/Users/Jlinne/.cpanm/work/1476593741.7660/Math-TrulyRandom-1.0 with C:\\WINDOWS\\system32\\cmd.exe\nMicrosoft Windows [Version 10.0.14393]\n(c) 2016 Microsoft Corporation. All rights reserved.\n\nC:\\Users\\Jlinne\\.cpanm\\work\\1476593741.7660\\Math-TrulyRandom-1.0&gt;perl Makefile.PL\nGenerating a dmake-style Makefile\nWriting Makefile for Math::TrulyRandom\nWriting MYMETA.yml and MYMETA.json\n\nC:\\Users\\Jlinne\\.cpanm\\work\\1476593741.7660\\Math-TrulyRandom-1.0&gt;dmake\nSkip blib\\lib\\Math\\TrulyRandom.pm (unchanged)\nSkip blib\\lib\\Math\\TrulyRandom.pod (unchanged)\nRunning Mkbootstrap for Math::TrulyRandom ()\n\"C:\\Strawberry\\perl\\bin\\perl.exe\" -MExtUtils::Command -e chmod -- 644 \"TrulyRandom.bs\"\ngcc -c          -s -O2 -DWIN32 -DWIN64 -DCONSERVATIVE -DPERL_TEXTMODE_SCRIPTS -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -fwrapv -fno-strict-aliasing -mms-bitfields -s -O2      -DVERSION=\\\"1.0\\\"        -DXS_VERSION=\\\"1.0\\\"  \"-IC:\\STRAWB~1\\perl\\lib\\CORE\"   TrulyRandom.c\ngcc -c          -s -O2 -DWIN32 -DWIN64 -DCONSERVATIVE -DPERL_TEXTMODE_SCRIPTS -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -fwrapv -fno-strict-aliasing -mms-bitfields -s -O2      -DVERSION=\\\"1.0\\\"        -DXS_VERSION=\\\"1.0\\\"  \"-IC:\\STRAWB~1\\perl\\lib\\CORE\"   truerand.c\ntruerand.c: In function 'tick':\ntruerand.c:57:19: error: storage size of 'it' isn't known\n  struct itimerval it, oit;\n                   ^\ntruerand.c:57:23: error: storage size of 'oit' isn't known\n  struct itimerval it, oit;\n                       ^\ntruerand.c:62:16: error: 'ITIMER_REAL' undeclared (first use in this function)\n  if (setitimer(ITIMER_REAL, &amp;it, &amp;oit) &lt; 0)\n                ^\ntruerand.c:62:16: note: each undeclared identifier is reported only once for each function it appears in\ntruerand.c: In function 'interrupt':\ntruerand.c:71:16: error: 'SIGALRM' undeclared (first use in this function)\n  (void) signal(SIGALRM, interrupt);\n                ^\ntruerand.c: In function 'roulette':\ntruerand.c:86:16: error: 'SIGALRM' undeclared (first use in this function)\n  (void) signal(SIGALRM, interrupt);\n                ^\ndmake:  Error code 129, while making 'truerand.o'\n\nC:\\Users\\Jlinne\\.cpanm\\work\\1476593741.7660\\Math-TrulyRandom-1.0&gt;\n</code></pre>\n"}, {"tags": ["perl", "nginx", "docker", "docker-compose", "dancer"], "answers": [{"tags": [], "owner": {"reputation": 13505, "user_id": 4502597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1768ba4b38aa3031c761f72b825ff069?s=128&d=identicon&r=PG", "display_name": "Elton Stoneman", "link": "https://stackoverflow.com/users/4502597/elton-stoneman"}, "is_accepted": true, "score": 0, "last_activity_date": 1476694481, "creation_date": 1476694481, "answer_id": 40082128, "question_id": 40070538, "link": "https://stackoverflow.com/questions/40070538/failing-to-execute-nginx-proxy-pass-directive-for-a-dancer2-app-inside-a-docker/40082128#40082128", "title": "Failing to execute nginx proxy_pass directive for a Dancer2 app inside a Docker container", "body": "<p>You're right to use the service name as the <code>upstream</code> server for Nginx, but you need to specify the port:</p>\n\n<pre><code>upstream pb{\n    server pearlbee:5000;\n}\n</code></pre>\n\n<p>Within the Docker network - which Compose creates for you - services can access each other by name. Also, you don't need to publish ports for other containers to use, unless you also want to access them externally. The Nginx container will be able to access port 5000 on your app container, you don't need to publish it to the host.</p>\n"}], "owner": {"reputation": 184, "user_id": 6115421, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/15a623fe6b5c826ee955a1474fc1723e?s=128&d=identicon&r=PG&f=1", "display_name": "Dragos Trif", "link": "https://stackoverflow.com/users/6115421/dragos-trif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 40082128, "answer_count": 1, "score": 0, "last_activity_date": 1476694481, "creation_date": 1476622903, "last_edit_date": 1476632402, "question_id": 40070538, "link": "https://stackoverflow.com/questions/40070538/failing-to-execute-nginx-proxy-pass-directive-for-a-dancer2-app-inside-a-docker", "title": "Failing to execute nginx proxy_pass directive for a Dancer2 app inside a Docker container", "body": "<p>I have tried to orchestrate a <code>Dancer2</code>  app which runs on <code>starman</code>  using Docker-compose. I'm failing  to integrate <code>nginx</code> it crashes with <code>502 Bad Gateway</code> error.\nWhich inside my server looks like this :</p>\n\n<pre><code> *1 connect() failed (111: Connection refused) while connecting to upstream, client: 172.22.0.1, \n</code></pre>\n\n<p>My docker-compose file looks like this :</p>\n\n<pre><code>  version: '2'\n    services:\n  web:\n    image: nginx\n    ports:\n      - \"80:80\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf\n    links:\n      - pearlbee  \n    volumes_from:\n      - pearlbee  \n  pearlbee:\n    build: pearlbee\n    command: carton exec  starman  bin/app.psgi\n    ports:\n      - \"5000:5000\"\n    environment:\n      - MYSQL_PASSWORD=secret\n\n    depends_on:\n      - mysql\n  mysql:\n    image: mysql\n    environment:\n      - MYSQL_ROOT_PASSWORD=secret\n      - MYSQL_USER=root    \n</code></pre>\n\n<p>My <code>nginx.conf</code> file looks like this :</p>\n\n<pre><code>user root nogroup;\nworker_processes auto;  \nevents { worker_connections 512; }\n\nhttp {\n include /etc/nginx/sites-enabled/*;\n\n    upstream pb{\n        # this the localhost that starts starman\n        #server 127.0.0.1:5000;\n       #the name of the docker-compose service that creats the app\n        server pearlbee;\n       #both return the same error mesage\n    }\n\n    server {\n\n    listen *:80;\n    #root /usr/share/nginx/html/;\n    #index   index.html 500.html favico.ico;\n\n\n        location / {\n\n        proxy_pass http://pb;\n\n    }       \n\n }\n\n\n}   \n</code></pre>\n"}, {"tags": ["html", "perl", "html-entities", "www-mechanize"], "comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 2, "creation_date": 1476584868, "post_id": 40066203, "comment_id": 67406282, "body": "I expect it&#39;s decoding the entities in the name before giving it to you for matching. Try <code>qr&#47;&#167;\\d+&#47;</code> or <code>qr&#47;\\xa7\\d+&#47;</code> instead."}, {"owner": {"reputation": 3734, "user_id": 425893, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/150bcdb3aa4e2b8096065f19f1b6d568?s=128&d=identicon&r=PG", "display_name": "John O", "link": "https://stackoverflow.com/users/425893/john-o"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1476586602, "post_id": 40066203, "comment_id": 67406544, "body": "@hobbs I tried both text_regex/name_regex with the literal character... no difference. I hope this doesn&#39;t end up being something dumb like a typo I&#39;m not seeing somewhere. Got rid of the i flag too (wasn&#39;t doing anything), made no difference."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1476588480, "post_id": 40066203, "comment_id": 67406831, "body": "I noticed that the end of the url in these links (for &quot;rules&quot;) identifies them in the same way as the &quot;name&quot; does, and I can pick them up with <code>url_regex =&gt; qr&#47;rl=\\d+$&#47;</code>.  Another venue would be to get the table (second on the page), and pry links out as the sole content of their <code>&lt;td&gt;</code>.  The <code>HTML::TableExtract</code> can help with that.  However, if you insist on getting them by the name attribute, I don&#39;t know yet. It&#39;s failing for me, too."}, {"owner": {"reputation": 3734, "user_id": 425893, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/150bcdb3aa4e2b8096065f19f1b6d568?s=128&d=identicon&r=PG", "display_name": "John O", "link": "https://stackoverflow.com/users/425893/john-o"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476588950, "post_id": 40066203, "comment_id": 67406888, "body": "@zdim I don&#39;t insist, it just seemed to be the safest way to do this. I can&#39;t manually check all of the pages... title 1 has about 4000 separate pages, and I eventually want to get all the titles. So I&#39;m hesitant to use the url, when I don&#39;t even understand the arg soup."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476589154, "post_id": 40066203, "comment_id": 67406931, "body": "Alright, fair enough. I&#39;ll look further into it.  (However -- while the correlation between the url&#39;s pattern and name isn&#39;t a reliable thing to go for, it <i>is</i> the url which defines what you actually need, yes?)  If use of the <code>name</code> attribute proves too troubling you may as well go with <code>HTML::TableExtract</code> -- then you&#39;ll have complete control over it."}, {"owner": {"reputation": 3734, "user_id": 425893, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/150bcdb3aa4e2b8096065f19f1b6d568?s=128&d=identicon&r=PG", "display_name": "John O", "link": "https://stackoverflow.com/users/425893/john-o"}, "edited": false, "score": 0, "creation_date": 1476590490, "post_id": 40066203, "comment_id": 67407141, "body": "It&#39;s a character encoding issue. Perl hates unicode! Or something. If I print out the name from every link, I get a ? (not the unicode unknown glyph). Looking for the hex escape finds it. Thanks hobbs, zdim ."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476602335, "post_id": 40066203, "comment_id": 67409267, "body": "Yes, and it&#39;s great you got it!  However, that didn&#39;t work for me -- I had tried with codepoint <code>&#47;\\N{U+0026}&#47;</code> and after your comment with hex, and it doesn&#39;t find it with <code>name_regex</code>.  (Also, with links found as in my answer it can&#39;t print it anyway.)  I suggest that you post your solution, for those who come here later, in particular if nothing already posted cuts it."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1476621362, "post_id": 40066203, "comment_id": 67413977, "body": "&quot; Perl hates unicode! &quot; ... well, that&#39;s just <b>wrong!</b> Perl is probably the best language for working with Unicode ... Except that there is no Unicode anywhere in your problem. The web page you are parsing does not specify an encoding. You don&#39;t seem to be converting from a given encoding to another either. You just seem unaware of how HTML entities, such as <code>&amp;amp;</code> and <code>&amp;sect;</code> are parsed. @hobbs already gave you the answer. See <a href=\"https://stackoverflow.com/a/40070172/100754\">stackoverflow.com/a/40070172/100754</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476621496, "post_id": 40066203, "comment_id": 67414027, "body": "@zdim U+0026 is <code>&amp;</code>, not <code>&#167;</code>. You&#39;re looking for <code>\\N{U+00A7}</code> or <code>\\N{SECTION SIGN}</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476652755, "post_id": 40066203, "comment_id": 67424323, "body": "@melpomene  Thank you for the comment, but the OP was looking for <code>&amp;</code>, not for the entity. While it is legitimate to advise them to look for the section entity instead, I did go for <code>&amp;</code> so I did mean that codepoint for that.  To compound the problem, they seem to want to use what is in the <code>name</code> and then we are back at the problem of handling the encoding and having the whole entity wouldn&#39;t make it easier (while it is the right approach, I agree)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476686587, "post_id": 40066203, "comment_id": 67432768, "body": "@JohnO I&#39;d have to say &quot;don&#39;t worry,&quot; as I also often scratch my head over the voting. I guess that overall it still works. I find your question to be a good one."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488494126, "post_id": 40066203, "comment_id": 72268504, "body": "Please see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476644141, "post_id": 40066540, "comment_id": 67421583, "body": "I think you should be clear that this is a work-around that doesn&#39;t solve the problem presented, and is unlikely to work on any site other than the cited one."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476653216, "post_id": 40066540, "comment_id": 67424461, "body": "@Borodin  I did indicate very clearly that this solves their problem in a different (but very related) way. I am not sure that this answer would best be called a &quot;workaround&quot; though. They want to find the links and this code does that.  Once they have the link (object) they can fetch the <code>name</code> attribute if they want that specifically.  Of course that it works only for this site -- the entity based answer would just as well."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476653520, "post_id": 40066540, "comment_id": 67424554, "body": "I disagree. The question was how to find links whose <code>name</code> attributes begin with <code>&amp;sect;</code>. You have suggested that a different criterion be used, which won&#39;t help others who come here with a similar problem for a different site. It is important that answers should be written so that they help the majority of readers, and not just to satisfy the requirements of the OP, which should be resolved privately."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476653638, "post_id": 40066540, "comment_id": 67424581, "body": "@Borodin  The question here is what exactly they need -- the <code>name</code> itself or the actual link?  They search for the link so I steer clear of encodings and locate the link.  I tried pretty much all the other approach (most from your answer anyway) and while some do find the <code>name</code> they don&#39;t resolve subsequent handling of it either.  So I <i>decided to go for the link</i> itself, which is a more meaningful search target.  I don&#39;t see how this is a &quot;workaround&quot; or worth a negative assessment."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476653748, "post_id": 40066540, "comment_id": 67424620, "body": "@Borodin  You disagree with which part of what I&#39;m saying?  I am responding to your comment -- I state clearly in my answer that &quot;<i>It is not immediately clear to me why ...</i>&quot; and continue with &quot;<i>However, ...</i>&quot;.  How does that not state clearly what the proposed solution is about?  As for what is best to look for, well I never hinted that my answer resolves that -- it&#39;s just a contribution, a way to locate the links.  I don&#39;t see <i>anything</i> wrong with it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476653859, "post_id": 40066540, "comment_id": 67424655, "body": "@Borodin  Please also note my comment to the OP after they declared that they got the problem -- &quot;<i>I suggest that you post your solution, for those who come here later, ...</i>&quot;.  So, yes, I agree with what you are saying.  I always think of that. But I don&#39;t see how this answer is faulty, and of what."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476653944, "post_id": 40066540, "comment_id": 67424673, "body": "I disagree with your notion that such a very specific solution should be offered. The vast majority of readers will have arrived here because the subject line is <b><i>What is the correct way to ask WWW::Mechanize to find links whose names begin with <code>&amp;sect;</code>?</i></b>. Your answer suits only a single web site, and is probably useful only to the OP."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476654161, "post_id": 40066540, "comment_id": 67424734, "body": "@Borodin  OK, I see your point.  I didn&#39;t weigh in the title itself.  I&#39;ll amend the answer with a comment."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476654923, "post_id": 40066540, "comment_id": 67424944, "body": "I had no intention of upsetting you. My comment just underlined that your answer was specific to the site mentioned by the OP, and doesn&#39;t address the question of how to access elements with <code>&amp;sect;</code> in their <code>name</code> attributes. I suggested only a clarification, which I don&#39;t think compromises your answer at all."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476686256, "post_id": 40066540, "comment_id": 67432617, "body": "@Borodin  That is clear, and I had no problem with your comments. I appreciate your unwavering focus on improving the standards of posted content on SO. I always (try to) keep same things in mind when I post. I also tried to be respectful and focused on the topic in my responses and didn&#39;t mean to show displeasure of any kind. (If you did detect some, it may have been because I don&#39;t see why this answer is &quot;<i>not useful.</i>&quot;)  I did find your suggestion very reasonable (thank you) and have added a comment."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476734017, "post_id": 40066540, "comment_id": 67461839, "body": "<i>&quot;I appreciate your unwavering focus on improving the standards of posted content on SO&quot;</i> I am delighted to read that. I am very well aware of being highly and unusually critical, but Stack Overflow is still extremely sloppy. I believe that it should be comparable to Wikipedia, and that is certainly it&#39;s public persona, but people are awarded points for repeated questions and poor answers, so it continues to have strict overseers commanding a sloppy presentation."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476821260, "post_id": 40066540, "comment_id": 67505804, "body": "@Borodin I definitely mean that and am happy to say it.  I am sure to disagree sometimes, of course. (I don&#39;t think it&#39;d be good if everybody agreed all the time!)  But what drivers your comments seems crystal clear to me, and I do respect and appreciate that. It is in principle a good influence which is always needed, in my opinion. Then it also goes that it is a good thing when people disagree -- as long as exchanges stay to the point and respectful of course :)."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1499332335, "last_edit_date": 1499332335, "creation_date": 1476588817, "answer_id": 40066540, "question_id": 40066203, "link": "https://stackoverflow.com/questions/40066203/wwwmechanize-is-having-trouble-regexing-for-html-entities/40066540#40066540", "title": "WWW::Mechanize is having trouble regexing for html entities", "body": "<p>It is not immediately clear to me why the search on <code>name</code> fails, as it does for me, too. </p>\n\n<p>However, the end of the url in these links (for \"rules\") identifies them in the same way as the \"name\" does, and we can pick them up with <code>url_regex =&gt; qr/rl=\\d+$/</code>.</p>\n\n<pre><code>use warnings 'all';\nuse strict;    \n\nuse WWW::Mechanize;\n\nmy $url = 'your url';\n\nmy $mech = WWW::Mechanize-&gt;new();\n\n$mech-&gt;get( $url )  or die \"Can't get url: $!\";\n\nmy @all_rules = $mech-&gt;find_all_links( url_regex =&gt; qr/rl=\\d+$/ );\n\nprint \"$_-&gt;url()\\n\" for @all_rules;\n</code></pre>\n\n<p>This prints urls for all those 10 rules (with the url from your link).</p>\n\n<p>Another venue would be to get the table, second on the page, and thus separate that content from the rest.  Then pry links out as the sole content of their <code>&lt;td&gt;</code>. The <a href=\"http://search.cpan.org/dist/HTML-TableExtract/lib/HTML/TableExtract.pm\" rel=\"nofollow noreferrer\">HTML::TableExtract</a> can help with that, also bypassing encoding problems since we can get raw HTML (tested). </p>\n\n<hr>\n\n<p><em>Update</em></p>\n\n<p>This answer clearly uses a different approach, searching for the link itself instead. </p>\n\n<p>Since it was explained that there are \"<em>4000 separate pages</em>\" and links aren't as reliable, the best way may well be to go for the <code>name</code> attribute, just as asked for. In this case one should consider the whole entity <code>&amp;sect;</code>, as shown in other answers (and in an early comment by <a href=\"https://stackoverflow.com/users/152948/hobbs\">hobbs</a>).</p>\n\n<p>A comment on reasoning behind this answer. A search for an HTML entity in the <code>name</code> attribute rests entirely on a particular character, so a more rounded approach should be useful to have as well. For example, one may identify patterns in the sought content (in this case text of the links), or use the document structure to zero in on the content (in this case the table). </p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476627995, "post_id": 40070172, "comment_id": 67416059, "body": "But it&#39;s not exactly clear what <code>\\A7</code> is supposed to mean. <a href=\"https://en.wikipedia.org/wiki/Magic_number_(programming)#Unnamed_numerical_constants\" rel=\"nofollow noreferrer\"><i>&quot;This has been referred to as breaking one of the oldest rules of programming&quot;</i></a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476643813, "post_id": 40070172, "comment_id": 67421486, "body": "Over and over again I see you trying to face down your poor answers by stern words. <i>&quot;The OP can decide&quot;</i> of course they can. And of course they could have fixed this problem without your help. The problem is that your suggestion is a poor one because it uses an unnamed constant without any indication of why it was chosen or where it came from. If I sent you an email containing just <code>A7</code>, would you say, <i>&quot;Ah! Section sign! That is encoded in HTML as <code>&amp;sect;</code>!&quot;</i>? No, of course you wouldn&#39;t. And it isn&#39;t as if <code>\\N{SECTION SIGN}</code> isn&#39;t available and preferable."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476643910, "post_id": 40070172, "comment_id": 67421513, "body": "Your answer isn&#39;t a poor one in isolation, but it becomes a dreadful one in conjunction with your comments that support unnamed constants."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476644396, "post_id": 40070172, "comment_id": 67421670, "body": "<i>&quot;You have <code>&amp;sect;</code> which is simply <code>&#167;</code> in an HTML document&quot;</i> No. <code>&amp;sect;</code> is <code>&amp;sect;</code> in an HTML document. Depending on its context it may be treated as an entity, and re-encoded in one of several different ways. Please delete your answer and stop spreading misinformation."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1476621885, "last_edit_date": 1476621885, "creation_date": 1476620389, "answer_id": 40070172, "question_id": 40066203, "link": "https://stackoverflow.com/questions/40066203/wwwmechanize-is-having-trouble-regexing-for-html-entities/40070172#40070172", "title": "WWW::Mechanize is having trouble regexing for html entities", "body": "<p>You have <code>&amp;sect;</code> which is simply <a href=\"http://www.fileformat.info/info/unicode/char/00a7/index.htm\" rel=\"nofollow\">\u00a7</a> in an HTML document, not the literal string <code>&amp;sect;</code>. Therefore, your pattern has to take that into account.</p>\n\n<p>I am going to go out on a limb and guess that <code>name_regex =&gt; qr/^\\xa7\\d+/</code> will do the trick.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse WWW::Mechanize;\n\nmy $mech = WWW::Mechanize-&gt;new;\n$mech-&gt;get( 'http://texreg.sos.state.tx.us/public/readtac$ext.ViewTAC?tac_view=5&amp;ti=16&amp;pt=1&amp;ch=1&amp;sch=A&amp;rl=Y' );\n\nmy $n = 1;\n\nwhile (my $link = $mech-&gt;find_link(name_regex =&gt; qr/^\\xA7\\d+/, n =&gt; $n++)) {\n    print $link-&gt;url, \"\\n\"\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>readtac$ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=16&amp;pt=1&amp;ch=1&amp;rl=1\nreadtac$ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=16&amp;pt=1&amp;ch=1&amp;rl=2\nreadtac$ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=16&amp;pt=1&amp;ch=1&amp;rl=3\nreadtac$ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=16&amp;pt=1&amp;ch=1&amp;rl=4\nreadtac$ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=16&amp;pt=1&amp;ch=1&amp;rl=5\nreadtac$ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=16&amp;pt=1&amp;ch=1&amp;rl=6\nreadtac$ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=16&amp;pt=1&amp;ch=1&amp;rl=7\nreadtac$ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=16&amp;pt=1&amp;ch=1&amp;rl=8\nreadtac$ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=16&amp;pt=1&amp;ch=1&amp;rl=9\nreadtac$ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=16&amp;pt=1&amp;ch=1&amp;rl=10\n</code></pre>\n\n<p>PS: Next time, please post a short, self-contained script which others can run by copying and pasting instead of fragments.</p>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 1, "last_activity_date": 1476621343, "creation_date": 1476621343, "answer_id": 40070312, "question_id": 40066203, "link": "https://stackoverflow.com/questions/40066203/wwwmechanize-is-having-trouble-regexing-for-html-entities/40070312#40070312", "title": "WWW::Mechanize is having trouble regexing for html entities", "body": "<p>I don't know what you're doing but this code finds a link:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;\n\nuse WWW::Mechanize;\n\nmy $mech = WWW::Mechanize-&gt;new;\n\nmy $url = 'http://texreg.sos.state.tx.us/public/readtac$ext.ViewTAC?tac_view=5&amp;ti=16&amp;pt=1&amp;ch=1&amp;sch=A&amp;rl=Y';\n\n$mech-&gt;get($url);\n\nif (my $link = $mech-&gt;find_link(name_regex =&gt; qr/^\u00a7\\d/)) {\n    print \"Found \", $link-&gt;url, \"\\n\";\n} else {\n    print \"Not found\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Found readtac$ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=16&amp;pt=1&amp;ch=1&amp;rl=1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1476629500, "last_edit_date": 1476629500, "creation_date": 1476627780, "answer_id": 40071359, "question_id": 40066203, "link": "https://stackoverflow.com/questions/40066203/wwwmechanize-is-having-trouble-regexing-for-html-entities/40071359#40071359", "title": "WWW::Mechanize is having trouble regexing for html entities", "body": "\n\n<p>As others have said, the problem is that <code>WWW::Mechanize</code> expands the entity <code>&amp;sect;</code> in the attribute's value, so you should be looking for a \"section sign\" character <code>\u00a7</code> instead.</p>\n\n<p><em>I much prefer the name</em> <strong>silcrow</strong> <em>because it pairs with the name for the paragraph sign</em> <strong>pilcrow</strong> <code>\u00b6</code>. <em>But, sadly, the Unicode Consortium has heard only of the latter.</em></p>\n\n<p>The data from the site is UTF-8-encoded, so you must use that character in the same encoding for it to match. If you use just <code>\u00a7</code> in your program without a previous <code>use utf8</code> then the character will appear as the two-byte encoding <code>\"\\xC2\\xA7\"</code>, which also will not match</p>\n\n<p>There obvious ways around it are</p>\n\n<ul>\n<li><p>To define the character by its unicode name, which I think is best because it is the most clear and allows the whole program to be written in ASCII. The pattern would be <code>qr/^\\N{SECTION SIGN}[\\d.]+$/</code></p></li>\n<li><p>To <code>use utf8</code> at the top of your code, and then a pattern of <code>qr/^\u00a7[\\d.]+$/</code></p></li>\n<li><p>To specify the code point in the regex pattern <code>qr/^\\xA7[\\d.]+$/</code>. This is the least readable of all, because few people have any idea what Unicode character U+00A7 is</p></li>\n</ul>\n\n<p>Here's a program that extracts the ten links from the URL that you give in your question</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse WWW::Mechanize;\n\nuse constant URL =&gt; 'http://texreg.sos.state.tx.us/public/readtac$ext.ViewTAC?tac_view=5&amp;ti=16&amp;pt=1&amp;ch=1&amp;sch=A&amp;rl=Y';\n\nmy $mech = WWW::Mechanize-&gt;new;\n\n$mech-&gt;get(URL);\n\nmy $rule = $mech-&gt;find_all_links(name_regex =&gt; qr/^\\N{SECTION SIGN}[\\d.]+$/);\n\nprintf \"%d matches\\n\", scalar @$rule;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>10 matches\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>Yet another way, which you may prefer, is to use the <a href=\"https://metacpan.org/pod/HTML::Entities\" rel=\"nofollow\"><code>HTML::Entities</code></a> module to translate exactly the text that is used in the HTML</p>\n\n<p>This example defines the variable <code>$sect</code> with</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>my $sect = decode_entities('&amp;sect;')\n</code></pre>\n\n<p>and then uses it in a regex pattern <code>qr/^$sect[\\d.]+$/</code></p>\n\n<p>It produces exactly the same output as the code sample above</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse WWW::Mechanize;\nuse HTML::Entities 'decode_entities';\n\nuse constant URL =&gt; 'http://texreg.sos.state.tx.us/public/readtac$ext.ViewTAC?tac_view=5&amp;ti=16&amp;pt=1&amp;ch=1&amp;sch=A&amp;rl=Y';\n\nmy $mech = WWW::Mechanize-&gt;new;\n\n$mech-&gt;get(URL);\n\nmy $sect = decode_entities('&amp;sect;');\nmy $rule = $mech-&gt;find_all_links(name_regex =&gt; qr/^$sect[\\d.]+$/);\n\nprintf \"%d matches\\n\", scalar @$rule;\n</code></pre>\n"}], "owner": {"reputation": 3734, "user_id": 425893, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/150bcdb3aa4e2b8096065f19f1b6d568?s=128&d=identicon&r=PG", "display_name": "John O", "link": "https://stackoverflow.com/users/425893/john-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1499332335, "creation_date": 1476584682, "last_edit_date": 1476657687, "question_id": 40066203, "link": "https://stackoverflow.com/questions/40066203/wwwmechanize-is-having-trouble-regexing-for-html-entities", "title": "WWW::Mechanize is having trouble regexing for html entities", "body": "<p>I'm attempting to grab the first (rule) link on this <a href=\"http://texreg.sos.state.tx.us/public/readtac$ext.ViewTAC?tac_view=5&amp;ti=16&amp;pt=1&amp;ch=1&amp;sch=A&amp;rl=Y\" rel=\"nofollow\">page</a> (and other similar pages). The markup for that link is rather crusty by web 2.0 standards:</p>\n\n<pre><code>&lt;A HREF=\"readtac$ext.TacPage?sl=R&amp;app=9&amp;p_dir=&amp;p_rloc=&amp;p_tloc=&amp;p_ploc=&amp;pg=1&amp;p_tac=&amp;ti=1&amp;pt=1&amp;ch=3&amp;rl=1\" \n   NAME=\"&amp;sect;3.1\"&gt;\n  &lt;font SIZE=\"4\"&gt;&amp;sect;3.1&lt;/font&gt;\n&lt;/A&gt;\n</code></pre>\n\n<p>I'm using the following perl code to attempt to snatch it:</p>\n\n<pre><code>my $rule = $mech-&gt;find_link(name_regex =&gt; qr/^&amp;sect;\\d+/i);\n</code></pre>\n\n<p>The only thing I can figure is that the upper cased attribute is confusing this... Other trivial tests on better-written markup let me use any of the link methods in <a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"nofollow\">Mechanize</a>. For a few minutes it had me scratching my head, wondering if I needed to escape the ampersand. Then I switched to text_regex... but I think the shitty font tag is messing that up.</p>\n\n<p>So I have two related questions: First, is <a href=\"https://metacpan.org/pod/WWW::Mechanize::Link\" rel=\"nofollow\">WWW::Mechanize::Link</a> written in such a way that these attributes are assumed to be lowercase (and how is it seeing the <code>href</code> then?). Second, is there some obvious workaround that I'm missing here?</p>\n\n<p>[edit] Hobbs was correct, this is a case of Mechanize munging the entities back to the actual character. You don't get raw source html. The literal character probably didn't work because of some character encoding issue (it's perl after all), but the hex escape did the trick. If you want to field an answer, Hobbs, I'll mark it as the correct one.</p>\n\n<p>Still trying to figure out what's wrong with Stackoverflow that I'm being downvoted for a question regarding something you have to be slightly clever with... I guess everyone's just trying to score points or do the Wikipedia exclusionist thing. Might be time to stop asking questions here altogether.</p>\n"}, {"tags": ["perl", "usb", "detect", "tail", "plug-and-play"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1476583728, "post_id": 40066046, "comment_id": 67406127, "body": "<a href=\"http://perldoc.perl.org/functions/alarm.html\" rel=\"nofollow noreferrer\"><code>alarm</code></a>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1476597043, "post_id": 40066046, "comment_id": 67408270, "body": "<code>sleep(30);</code> before you call <code>$file-&gt;read</code> ;)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1476597235, "post_id": 40066046, "comment_id": 67408314, "body": "F::T doesn&#39;t support that, so your options are: 1) Search for a module that does the same thing as F::T, but supports a timeout 2) Monkeypatch F::T 3) Reimplement F::T with the ability to time out, 4) <code>alarm</code> 5) Use a mechanism that doesn&#39;t involve <code>&#47;var&#47;log&#47;messages</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476695187, "post_id": 40066046, "comment_id": 67437393, "body": "It seems unlikely that this code is going to work well in a CGI program. A CGI program a) runs (usually) on a remote server and b) will probably time out whilst waiting for the USB stick to be installed. Can you explain more about what you&#39;re actually trying to achieve here. I think you&#39;ve gone off on the wrong track."}, {"owner": {"reputation": 70, "user_id": 3911190, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/01c52ec80225f37121c77013d315fe80?s=128&d=identicon&r=PG&f=1", "display_name": "Emel Ramone", "link": "https://stackoverflow.com/users/3911190/emel-ramone"}, "edited": false, "score": 0, "creation_date": 1476752264, "post_id": 40066046, "comment_id": 67468317, "body": "An user should press a button to start and I will execute, an AGI for at least 30 seconds where I will tell him to connect the device and I will detect it"}], "answers": [{"tags": [], "owner": {"reputation": 430, "user_id": 661440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd32692c3bb8c4161d4e78c9041abb69?s=128&d=identicon&r=PG", "display_name": "Finbar Crago", "link": "https://stackoverflow.com/users/661440/finbar-crago"}, "is_accepted": false, "score": 1, "last_activity_date": 1477146013, "creation_date": 1477146013, "answer_id": 40193210, "question_id": 40066046, "link": "https://stackoverflow.com/questions/40066046/perl-tail-file-for-30-seconds/40193210#40193210", "title": "Perl tail file for 30 seconds", "body": "<p>You can achieve this using <a href=\"http://search.cpan.org/~mgrabnar/File-Tail-1.3/Tail.pm#select\" rel=\"nofollow\">File::Tail::select()</a>.</p>\n\n<p>The example below puts one seconds worth of the tailed file into the <code>@pending</code> array which is then processed. Looping 30 times will give you very close to 30 seconds (dependend on how active your /var/log/messages is). If you require more precise timing you can store the time before the loop and compare how long has passed on each iteration.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use File::Tail;\n$file = File::Tail-&gt;new(name=&gt;\"/var/log/messages\", interval=&gt;1);\n\nTIMER_LOOP:\nwhile($t++ &lt; 30){\n    (undef,undef,@pending)=File::Tail::select(undef,undef,undef, 1, $file);\n    for(@pending){\n        if($_-&gt;read =~ /New USB device found/){\n            print \"Hello USB!\\n\";\n            last TIMER_LOOP;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 70, "user_id": 3911190, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/01c52ec80225f37121c77013d315fe80?s=128&d=identicon&r=PG&f=1", "display_name": "Emel Ramone", "link": "https://stackoverflow.com/users/3911190/emel-ramone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477146013, "creation_date": 1476582851, "question_id": 40066046, "link": "https://stackoverflow.com/questions/40066046/perl-tail-file-for-30-seconds", "title": "Perl tail file for 30 seconds", "body": "<p>EHLO!</p>\n\n<p>This started like a \"hey, give me 30 minutes\" but here I am a day after.\nBasically what I want to do is to check \"/var/log/messages\" for 30 seconds and when someone plug-in a USB hard disk during that time, execute some commands. </p>\n\n<p>So I am using Per function \"File::Tail\", and kinda works but I don't know how to run it for just 30 seconds, tail stays there until I manually exit(\nIt works just as tail command). I been looking for solutions using fork but still no luck or experience on it. Part of the \"tail\" code is like this:</p>\n\n<p><code>while ((defined($line=$file-&gt;read)) ) {</code></p>\n\n<p>I appreciate any help or tip. If anyone has another solution using another, function or what ever, it's fine,  I need the code for a \"CGI\".</p>\n"}, {"tags": ["apache", "perl", "permissions", "xampp", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7024927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34eda932c2d3bab23d231bd8334c72f?s=128&d=identicon&r=PG&f=1", "display_name": "JohnyB12", "link": "https://stackoverflow.com/users/7024927/johnyb12"}, "edited": false, "score": 0, "creation_date": 1476575685, "post_id": 40065344, "comment_id": 67404819, "body": "it says <code>chmod: &#47;cgi-bin&#47;output.cgi: No such file or directory</code> when I put <code>chmod a+x &#47;cgi-bin&#47;output.cgi</code> in the terminal"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 7024927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34eda932c2d3bab23d231bd8334c72f?s=128&d=identicon&r=PG&f=1", "display_name": "JohnyB12", "link": "https://stackoverflow.com/users/7024927/johnyb12"}, "edited": false, "score": 2, "creation_date": 1476575947, "post_id": 40065344, "comment_id": 67404856, "body": "Well you have to add the rest of the path. Your <code>&#47;cgi-bin</code> directory won&#39;t be a root directory. Alternatively you could <code>cd</code> to where your CGI file is and just <code>chmod a+x output.cgi</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 7024927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34eda932c2d3bab23d231bd8334c72f?s=128&d=identicon&r=PG&f=1", "display_name": "JohnyB12", "link": "https://stackoverflow.com/users/7024927/johnyb12"}, "edited": false, "score": 1, "creation_date": 1476625362, "post_id": 40065344, "comment_id": 67415139, "body": "@JohnyB12: Looking at your error log, the <code>output.cgi</code> is at <code>&#47;Applications&#47;XAMPP&#47;xamppfiles&#47;cgi-bin&#47;output.cgi</code>, so you can either <code>chmod a+x &#47;Applications&#47;XAMPP&#47;xamppfiles&#47;cgi-bin&#47;output.cgi</code> or <code>cd &#47;Applications&#47;XAMPP&#47;xamppfiles&#47;cgi-bin</code> followed by <code>chmod a+x output.cgi</code>"}, {"owner": {"reputation": 11, "user_id": 7024927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34eda932c2d3bab23d231bd8334c72f?s=128&d=identicon&r=PG&f=1", "display_name": "JohnyB12", "link": "https://stackoverflow.com/users/7024927/johnyb12"}, "edited": false, "score": 0, "creation_date": 1476629130, "post_id": 40065344, "comment_id": 67416467, "body": "I would get this <code>chmod: Unable to change file mode on output.cgi: Operation not permitted</code> when I do both of those."}, {"owner": {"reputation": 11, "user_id": 7024927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34eda932c2d3bab23d231bd8334c72f?s=128&d=identicon&r=PG&f=1", "display_name": "JohnyB12", "link": "https://stackoverflow.com/users/7024927/johnyb12"}, "edited": false, "score": 0, "creation_date": 1476631611, "post_id": 40065344, "comment_id": 67417272, "body": "I did something differently and that solved it. I used a different IDE. I initially used Sublime but switched to TextWrangler. Thank you so much for the help @Borodin"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 7024927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34eda932c2d3bab23d231bd8334c72f?s=128&d=identicon&r=PG&f=1", "display_name": "JohnyB12", "link": "https://stackoverflow.com/users/7024927/johnyb12"}, "edited": false, "score": 2, "creation_date": 1476646834, "post_id": 40065344, "comment_id": 67422470, "body": "@JohnyB12: &quot;Solving the problem&quot; without knowing what problem you resolved and how you resolved it is much worse than being unable to continue. If you&#39;re lucky, then there will be another problem that you don&#39;t understand very soon, and you will have to fix things properly. Otherwise something will arise in a few months&#39; time that you can&#39;t explain and is a result of this &quot;fix&quot;. It is vital that you are precise and thorough if you hope to be a useful programmer. Sublime Text and Text Wrangler shouldn&#39;t make the difference between working and non-working code. You are on the wrong track."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 11, "user_id": 7024927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34eda932c2d3bab23d231bd8334c72f?s=128&d=identicon&r=PG&f=1", "display_name": "JohnyB12", "link": "https://stackoverflow.com/users/7024927/johnyb12"}, "edited": false, "score": 3, "creation_date": 1476647325, "post_id": 40065344, "comment_id": 67422621, "body": "@JohnyB12: Until now you seemed to be asking sensible questions, so I tried to help you despite your two previous down votes. With this &quot;resolution&quot; it is clear that you are looking for a quick fix and not a proper answer, so you have another downvote from me. Please never <b><i>ever</i></b> write software by changing your code until it seems to work. You have lost my respect."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 4, "creation_date": 1476695038, "post_id": 40065344, "comment_id": 67437309, "body": "I wanted to reiterate what @Borodin said. Fixing programs by changing random things until they work is a terrible idea. To be a successful programmer, you need to be far more methodical and you need to understand <b>why</b> your fixes have worked."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1476646548, "last_edit_date": 1476646548, "creation_date": 1476574867, "answer_id": 40065344, "question_id": 40064651, "link": "https://stackoverflow.com/questions/40064651/whats-this-end-of-script-output-before-headers/40065344#40065344", "title": "What&#39;s this &quot;End of script output before headers&quot;?", "body": "<p>As the error log says, Apache doesn't have permission to execute your CGI file</p>\n\n<p>Add execute permissions for everyone using <code>chmod a+x cgi-bin/output.cgi</code> and it should work for you</p>\n\n<p>By the way, the conversion for temperature should be</p>\n\n<pre><code>$celcius = ( $fahrenheit - 32 ) / 1.8\n</code></pre>\n\n<h3>Update</h3>\n\n<p>Your question is like asking, <em>\"I put the key in my car and I'm still not in Leicester. What did I do wrongly?\"</em></p>\n\n<p>You seem to be unable to specify the path to your <code>output.cgi</code> file from the command line. That isn't a problem: it's a deficiency. You must learn more about the shell that you are using</p>\n\n<p>If you really can't do that then you're in <em>way</em> above your head, so you must stop and work through some tutorials</p>\n\n<p>Looking at your error log, the output.cgi is at</p>\n\n<pre><code>/Applications/XAMPP/xamppfiles/cgi-bin/output.cgi\n</code></pre>\n\n<p>so you can either</p>\n\n<pre><code>chmod a+x /Applications/XAMPP/xamppfiles/cgi-bin/output.cgi\n</code></pre>\n\n<p>or</p>\n\n<pre><code>cd /Applications/XAMPP/xamppfiles/cgi-bin\n</code></pre>\n\n<p>followed by</p>\n\n<pre><code>chmod a+x output.cgi\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7024927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34eda932c2d3bab23d231bd8334c72f?s=128&d=identicon&r=PG&f=1", "display_name": "JohnyB12", "link": "https://stackoverflow.com/users/7024927/johnyb12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24988, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1476646548, "creation_date": 1476568777, "question_id": 40064651, "link": "https://stackoverflow.com/questions/40064651/whats-this-end-of-script-output-before-headers", "title": "What&#39;s this &quot;End of script output before headers&quot;?", "body": "<p>I am trying to make a simple test with PERL. I wrote input.html and put it in the hdocs folder and output.cgi in the cgi-bin. Both are in XAMPP folder, using a mac. This is using apache too.</p>\n\n<p>HTML File</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n  &lt;body&gt;\n&lt;form action=\"/cgi-bin/output.cgi\" method=\"post\"&gt;\nEnter Fahrenheit: &lt;input type=\"text\" name=\"fahrenheit\" /&gt;&lt;br /&gt;\nEnter Distance in Miles: &lt;input type=\"text\" name=\"distance\" /&gt;&lt;br /&gt;        \n&lt;input type=\"submit\" value=\"Convert!\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p>Here is the CGI file that's supposed to show when user presses \"Convert\"</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\nuse CGI qw(:standard);\nuse CGI::Carp qw(fatalsToBrowser);\nprint \"Content-type: text/html\\n\\n\";\n\n\n#### read form data\nmy $fahrenheit = param('fahrenheit');\nmy $distance = param('distance');\n\n\n#### do the math\nmy $celcius = ($fahrenheit * 18.8) + 32;\nmy $kilometers = $distance * 1.60934;\n\n#### display results\nprint \"&lt;h2&gt;Assignment 3&lt;/h2&gt;\";\nprint \"Conversion: &lt;br /&gt;\";\nprintf \"Celcius: \\$%.2f &lt;br /&gt;\", $celcius;\nprintf \"Kilometers: \\$%.2f &lt;br /&gt;\", $kilometers;\n</code></pre>\n\n<p>This is the Error Log of Apache</p>\n\n<pre><code> Marker - Oct 15, 2016, 5:56:38 PM\n [Sat Oct 15 17:56:41.765457 2016] [cgi:error] [pid 3086] [client ::1:50144] AH01215: (13)Permission denied: exec of '/Applications/XAMPP/xamppfiles/cgi-bin/output.cgi' failed: /Applications/XAMPP/xamppfiles/cgi-bin/output.cgi, referer: http://localhost/input.html\n [Sat Oct 15 17:56:41.765785 2016] [cgi:error] [pid 3086] [client ::1:50144] End of script output before headers: output.cgi, referer: http://localhost/input.html\n</code></pre>\n\n<p>And this is what the page looks like in localhost where output.cgi is supposed to be showing</p>\n\n<pre><code>Server error!\n\nThe server encountered an internal error and was unable to complete your request.\n\nError message: \nEnd of script output before headers: output.cgi\n\nIf you think this is a server error, please contact the webmaster.\n\nError 500\n\nlocalhost\nApache/2.4.23 (Unix) OpenSSL/1.0.2h PHP/5.6.24 mod_perl/2.0.8-dev Perl/v5.16.3\n</code></pre>\n"}, {"tags": ["perl", "scoping"], "comments": [{"owner": {"reputation": 3466, "user_id": 826614, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/935a0a598738883b4af59a73335a7aa0?s=128&d=identicon&r=PG", "display_name": "gaussblurinc", "link": "https://stackoverflow.com/users/826614/gaussblurinc"}, "edited": false, "score": 0, "creation_date": 1476558030, "post_id": 40062915, "comment_id": 67399957, "body": "wrap logic in functions. plain code is a piece of *** you know. comments could help, but, please, read about functions. also, naming rules are bad. you should use s_n_a_k_e or cAmEl case."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1476559074, "post_id": 40062915, "comment_id": 67400340, "body": "You don&#39;t scope your variables."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1476565178, "post_id": 40062915, "comment_id": 67402279, "body": "Any undeclared variables are global, including any typos. This is an unfortunate Perl default. Turn on <code>use strict</code> and <code>use warnings</code> and then go through the process of figuring out the scope of all those variables. It&#39;s tough, but if you don&#39;t do it now it&#39;ll only get worse."}, {"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1476588522, "post_id": 40062915, "comment_id": 67406836, "body": "You might be able to use <a href=\"https://metacpan.org/pod/Algorithm::Diff\" rel=\"nofollow noreferrer\">Algorithm::Diff</a>"}], "answers": [{"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 5, "last_activity_date": 1476558145, "creation_date": 1476558145, "answer_id": 40063058, "question_id": 40062915, "link": "https://stackoverflow.com/questions/40062915/scoping-in-perl/40063058#40063058", "title": "Scoping in Perl", "body": "<p>I think you have a typo in your code:</p>\n\n<p><code>ii</code> => must be <code>$ii</code></p>\n\n<p>don't forget to put this at the beginning of your code:</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>in order to avoid this (and others) kind of errors</p>\n"}, {"comments": [{"owner": {"reputation": 87, "user_id": 4171047, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b802ece12c42055a2580ee1d0939d0bc?s=128&d=identicon&r=PG&f=1", "display_name": "armorlord", "link": "https://stackoverflow.com/users/4171047/armorlord"}, "edited": false, "score": 0, "creation_date": 1476589081, "post_id": 40063968, "comment_id": 67406921, "body": "Thank you for all your tips. This is my first attempt to writing anything in Perl."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87, "user_id": 4171047, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b802ece12c42055a2580ee1d0939d0bc?s=128&d=identicon&r=PG&f=1", "display_name": "armorlord", "link": "https://stackoverflow.com/users/4171047/armorlord"}, "edited": false, "score": 1, "creation_date": 1476623742, "post_id": 40063968, "comment_id": 67414612, "body": "@armorlord: You are welcome. But I think you have taken on too much as a first attempt at Perl. The longest common subsequence algorithm that you are trying to implement is quite awkward in itself, and to combat that without a thorough knowledge of the language is a big ask. You should work through the excellent <a href=\"http://learn.perl.org\" rel=\"nofollow noreferrer\">learn.perl.org</a> which also has links to other helpful resources. The core Perl documentation is on line at the same site <a href=\"http://perldoc.perl.org\" rel=\"nofollow noreferrer\">perdoc.perl.org</a> and will be invaluable."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 9, "last_activity_date": 1476625233, "last_edit_date": 1476625233, "creation_date": 1476563844, "answer_id": 40063968, "question_id": 40062915, "link": "https://stackoverflow.com/questions/40062915/scoping-in-perl/40063968#40063968", "title": "Scoping in Perl", "body": "\n\n<p>This isn't a scoping issue. You have declared none of your variables, which has the effect of implicitly making them all global and accessible everywhere in your code</p>\n\n<p>I reformatted your Perl program so that I could read it, and then added this to the top of your program</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n</code></pre>\n\n<p>which are <em>essential</em> in every Perl program you write</p>\n\n<p>Then I added</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>no strict 'vars';\n</code></pre>\n\n<p>which is a <em>very bad idea</em>, and lets you get away without declaring any variables</p>\n\n<p>The result is this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Argument \"ii\" isn't numeric in array element at E:\\Perl\\source\\dna.pl line 60.\nArgument \"ii\" isn't numeric in array element at E:\\Perl\\source\\dna.pl line 61.\nArgument \"ii\" isn't numeric in array element at E:\\Perl\\source\\dna.pl line 67.\nArgument \"j\" isn't numeric in array element at E:\\Perl\\source\\dna.pl line 42.\nBareword \"ii\" not allowed while \"strict subs\" in use at E:\\Perl\\source\\dna.pl line 60.\nBareword \"ii\" not allowed while \"strict subs\" in use at E:\\Perl\\source\\dna.pl line 61.\nBareword \"ii\" not allowed while \"strict subs\" in use at E:\\Perl\\source\\dna.pl line 67.\nBareword \"j\" not allowed while \"strict subs\" in use at E:\\Perl\\source\\dna.pl line 42.\nExecution of E:\\Perl\\source\\dna.pl aborted due to compilation errors.\n</code></pre>\n\n<p>Line 42 (of my reformatted version) is</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$largearray[j] = $dnastring\n</code></pre>\n\n<p>and lines 60, 61 and 67 are </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$line = $largearray[ii];\nprint $largearray[ii];    #CANNOT RETRIEVE ARRAY VALUES\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$line = $largearray[ii];\n</code></pre>\n\n<p>You are using <code>j</code> and <code>ii</code> as array indexes. Those are Perl subroutine calls, not variables. Adding <code>use strict</code> would have stopped this from compiling unless you had also declared <code>sub ii</code> and <code>sub j</code></p>\n\n<p>You <em>might</em> get away with it if you just change <code>j</code> and <code>ii</code> to <code>$j</code> and <code>$ii</code>, but you are certain to get into further problems</p>\n\n<p>Please make the same changes to your own code, and <em>declare</em> every variable that you need using <code>my</code> as close as possible to the first place they are used</p>\n\n<p>You should also improve your variable naming. Things like <code>@largearray</code> are pointless: the <code>@</code> says that it's an array, and whether it's large or not is relative, and of little use in understanding your code. If you have no better description of its purpose then <code>@table</code> or <code>@data</code> are probably a little better</p>\n\n<p>Likewise, please avoid capital letters and most single-letter names. <code>@V</code>, <code>$Cm</code> and <code>$Im</code> are meaningless, and you would need fewer comments if those names were better</p>\n\n<p>You certainly wouldn't need comments like <code># end while loop</code> and <code># outer for loop</code> if you had indented your blocks properly and kept them short enough so that both the beginning and the end can be seen on the screen at the same time, and the fewer comments you can get away with the better, because they badly clutter the code structure</p>\n\n<p>Finally, it's worth noting that the C-style <code>for</code> loop is rarely the best choice in Perl. Your</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>for ( $i = 1; $i &lt;= $n; $i++ ) { ... }\n</code></pre>\n\n<p>is much clearer as</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>for my $i ( 1 .. $n ) { ... }\n</code></pre>\n\n<p>and declaring the control variable at that point makes it unnecessary to invent new names like <code>$ii</code> for each new loop</p>\n"}], "owner": {"reputation": 87, "user_id": 4171047, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b802ece12c42055a2580ee1d0939d0bc?s=128&d=identicon&r=PG&f=1", "display_name": "armorlord", "link": "https://stackoverflow.com/users/4171047/armorlord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 40063968, "answer_count": 2, "score": -1, "last_activity_date": 1476625233, "creation_date": 1476557325, "last_edit_date": 1476563015, "question_id": 40062915, "link": "https://stackoverflow.com/questions/40062915/scoping-in-perl", "title": "Scoping in Perl", "body": "<p>As a biology student, I'm trying to extend my programming knowledge and I ran into a problem with Perl.</p>\n\n<p>I'm trying to create a program that generates random DNA strings and performs analysis work on the generated data.</p>\n\n<p>In the first part of the program, I am able to print out the strings stored in the array, but the second part I cannot retrieve all but one of the elements of the array.</p>\n\n<p>Could this be part of the scoping rules of Perl?</p>\n\n<pre><code>#!usr/bin/perl\n\n# generate a random DNA strings and print it to file specified by the user.\n\n$largearray[0] = 0;\n\nprint \"How many nucleotides for the string?\\n\";\n$n      = &lt;&gt;;\n$mylong = $n;\n\nprint \"how many strings?\\n\";\n$numstrings = &lt;&gt;;\n\n# @largearray =();\n$j = 0;\n\nwhile ( $j &lt; $numstrings ) {\n\n    $numstring = '';    # start with the empty string;\n    $dnastring = '';\n    $i         = 0;\n\n    while ( $i &lt; $n ) {\n\n        $numstring = int( rand( 4 ) ) . $numstring;    # generate a new random integer\n                                                       # between 0 and 3, and concatenate\n                                                       # it with the existing $numstring,\n                                                       # assigning the result to $numstring.\n        $i++;                                          # increase the value of $i by one.\n    }\n\n    $dnastring = $numstring;\n    $dnastring =~ tr/0123/actg/;                       # translate the numbers to DNA characters.\n                                                       #print $dnastring;\n                                                       #print \"\\n\";\n\n    $largearray[j] = $dnastring;                       #append generated string to end of array\n\n    #print $largearray[j];\n    #print $j;\n    #IN HERE THERE ARE GOOD ARRAY VALUES\n    #print \"\\n\";\n\n    $j++;\n}\n\n# ii will be used to continuously take the next couple of strings from largearray\n# for LCS matching.\n\n$mytotal = 0;\n$ii      = 0;\n\nwhile ( $ii &lt; $numstrings ) {\n\n    $line = $largearray[ii];\n    print $largearray[ii];    #CANNOT RETRIEVE ARRAY VALUES\n    print \"\\n\";\n\n    $ii++;\n    @string1 = split( //, $line );\n\n    $line = $largearray[ii];\n\n    #print $largearray[ii];\n    #print \"\\n\";\n    $ii++;\n    chomp $line;\n    @string2 = split( //, $line );\n\n    $n = @string1;    #assigning a list to a scalar just assigns the\n                      #number of elements in the list to the scalar.\n    $m = @string2;\n\n    $v  = 1;\n    $Cm = 0;\n    $Im = 0;\n\n    $V[0][0] = 0;     # Assign the 0,0 entry of the V matrix\n\n    for ( $i = 1; $i &lt;= $n; $i++ ) {    # Assign the column 0  values and print\n                                        # String 1  See section 5.2 of Johnson\n                                        # for loops\n        $V[$i][0] = -$Im * $i;\n\n    }\n\n    for ( $j = 1; $j &lt;= $m; $j++ ) {    # Assign the row 0 values and print String 2\n        $V[0][$j] = -$Im * $j;\n\n    }\n\n    for ( $i = 1; $i &lt;= $n; $i++ ) {    # follow the recurrences to fill in the V matrix.\n        for ( $j = 1; $j &lt;= $m; $j++ ) {\n\n            #   print OUT \"$string1[$i-1], $string2[$j-1]\\n\"; # This is here  for debugging purposes.\n\n            if ( $string1[ $i - 1 ] eq $string2[ $j - 1 ] ) {\n                $t = 1 * $v;\n            }\n            else {\n                $t = -1 * $Cm;\n            }\n\n            $max = $V[ $i - 1 ][ $j - 1 ] + $t;\n\n            #  print OUT \"For $i, $j, t is $t \\n\"; # Another debugging line.\n            if ( $max &lt; $V[$i][ $j - 1 ] - 1 * $Im ) {\n                $max = $V[$i][ $j - 1 ] - 1 * $Im;\n            }\n\n            if ( $V[ $i - 1 ][$j] - 1 * $Im &gt; $max ) {\n                $max = $V[ $i - 1 ][$j] - 1 * $Im;\n            }\n\n            $V[$i][$j] = $max;\n        }\n    }    #outer for loop\n\n    print $V[$n][$m];\n    $mytotal += $V[$n][$m];    # append current result to the grand total\n    print \"\\n\";\n\n}    # end while loop\n\nprint \"the average LCS value for length \", $mylong, \" strings is: \";\nprint $mytotal/ $numstrings;\n</code></pre>\n"}, {"tags": ["bash", "perl", "file", "replace", "append"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476555217, "post_id": 40062436, "comment_id": 67398993, "body": "It&#39;s unclear (at least to me) what you want to replace with what. Can you please show a few lines of input and the desired output for that particular input?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476555288, "post_id": 40062436, "comment_id": 67399019, "body": "It would help if you wrote a program rather than trying a one-liner, which can be very difficult to get right, especially for a beginner. What are <code>$ID</code> and <code>$VALUE</code>? Perl is treating them as Perl variables, which you haven&#39;t defined, so they both work as empty strings. If you meant to use environment variables from the shell then you need <code>$ENV{ID}</code> and <code>$ENV{VALUE}</code>."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 327, "user_id": 4440179, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93bb014ad50558b70c94cfb756e14f3a?s=128&d=identicon&r=PG&f=1", "display_name": "JimS", "link": "https://stackoverflow.com/users/4440179/jims"}, "edited": false, "score": 1, "creation_date": 1476555847, "post_id": 40062617, "comment_id": 67399197, "body": "@JimS Did you set the environment variables Borodin refers to?"}, {"owner": {"reputation": 327, "user_id": 4440179, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93bb014ad50558b70c94cfb756e14f3a?s=128&d=identicon&r=PG&f=1", "display_name": "JimS", "link": "https://stackoverflow.com/users/4440179/jims"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476556008, "post_id": 40062617, "comment_id": 67399265, "body": "@PerlDuck yes the variables are actually used to store the arguments from the bash command"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 327, "user_id": 4440179, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93bb014ad50558b70c94cfb756e14f3a?s=128&d=identicon&r=PG&f=1", "display_name": "JimS", "link": "https://stackoverflow.com/users/4440179/jims"}, "edited": false, "score": 0, "creation_date": 1476556230, "post_id": 40062617, "comment_id": 67399347, "body": "@JimS: Did you <code>export</code> those variables? They are visible only within your shell script unless you do that. Perhaps you had better show us the full sequence of commands that you&#39;re executing."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 327, "user_id": 4440179, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93bb014ad50558b70c94cfb756e14f3a?s=128&d=identicon&r=PG&f=1", "display_name": "JimS", "link": "https://stackoverflow.com/users/4440179/jims"}, "edited": false, "score": 0, "creation_date": 1476556342, "post_id": 40062617, "comment_id": 67399389, "body": "@JimS Add the <code>-w</code> switch to your one-liner. If the env. vars are set, you should see <i>no</i> <code>Use of uninitialized value\u2026</code> warnings."}, {"owner": {"reputation": 327, "user_id": 4440179, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93bb014ad50558b70c94cfb756e14f3a?s=128&d=identicon&r=PG&f=1", "display_name": "JimS", "link": "https://stackoverflow.com/users/4440179/jims"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476556567, "post_id": 40062617, "comment_id": 67399469, "body": "@PerlDuck when i added it it emptied the whole file but I didn&#39;t get an error at the output"}, {"owner": {"reputation": 327, "user_id": 4440179, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93bb014ad50558b70c94cfb756e14f3a?s=128&d=identicon&r=PG&f=1", "display_name": "JimS", "link": "https://stackoverflow.com/users/4440179/jims"}, "edited": false, "score": 0, "creation_date": 1476556677, "post_id": 40062617, "comment_id": 67399507, "body": "@Borodin well the program is quite big so I tried to avoid that. In awk I use the -v to make the variables visible. Does such thing exists in perl?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1476556931, "post_id": 40062617, "comment_id": 67399591, "body": "Okay, looking at your example input data, it seems that it is pipe-separated. A simple <code>-a</code> on the Perl command line will split on whitespace, so as it stands each line becomes only a single element of <code>@F</code>. You need to add a value for the <code>-F</code> option which specifies what pattern to split on, but a pipe is a regex metacharacter so you need to escape it. You would <i>really</i> be better off writing a program. I&#39;ve edited the program in my answer to do this for you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476556979, "post_id": 40062617, "comment_id": 67399610, "body": "Why does your program being big make it difficult to <code>export</code> three environment variables?"}, {"owner": {"reputation": 327, "user_id": 4440179, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93bb014ad50558b70c94cfb756e14f3a?s=128&d=identicon&r=PG&f=1", "display_name": "JimS", "link": "https://stackoverflow.com/users/4440179/jims"}, "edited": false, "score": 0, "creation_date": 1476557256, "post_id": 40062617, "comment_id": 67399696, "body": "@Borodin No I meant that I can&#39;t post the full program here because it is big and I thought that <code>ENV</code> does the job of exporting."}, {"owner": {"reputation": 327, "user_id": 4440179, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93bb014ad50558b70c94cfb756e14f3a?s=128&d=identicon&r=PG&f=1", "display_name": "JimS", "link": "https://stackoverflow.com/users/4440179/jims"}, "edited": false, "score": 0, "creation_date": 1476557582, "post_id": 40062617, "comment_id": 67399795, "body": "I erased the print &quot;@F&quot; and now I am getting the <code>use of unitinitialized value</code>... So I guess you are right there is a problem with the variables&#39; scope"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 327, "user_id": 4440179, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93bb014ad50558b70c94cfb756e14f3a?s=128&d=identicon&r=PG&f=1", "display_name": "JimS", "link": "https://stackoverflow.com/users/4440179/jims"}, "edited": false, "score": 0, "creation_date": 1476562692, "post_id": 40062617, "comment_id": 67401472, "body": "@JimS: try <code>perl -E &#39;say for @ENV{qw&#47; COLUMN VALUE ID &#47;}&#39; to see what is in those elements of </code>%ENV`. If they are undefined then you will just get three blank lines."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1476557030, "last_edit_date": 1476557030, "creation_date": 1476555537, "answer_id": 40062617, "question_id": 40062436, "link": "https://stackoverflow.com/questions/40062436/change-specific-field-in-file-using-perl/40062617#40062617", "title": "change specific field in file using perl", "body": "<p>It would help if you wrote a program rather than trying a one-liner, which can be very difficult to get right, especially for a beginner.</p>\n\n<p>What are <code>$COLUMN</code>, <code>$ID</code> and <code>$VALUE</code>?</p>\n\n<p>Perl is treating them as Perl variables, which you haven't defined, so they both work as empty strings.</p>\n\n<p>If you meant to use environment variables from the shell then you need <code>$ENV{COLUMN}</code>, <code>$ENV{ID}</code> and <code>$ENV{VALUE}</code>.\nAlso, your <code>-p</code> option prints the value of <code>$_</code> after you read each line. Since you don't change that, your code that modifies <code>@F</code> has no visible effect</p>\n\n<p>Perhaps this is closer?</p>\n\n<pre><code>perl -i -lane 'BEGIN{ $\" = \"|\"} $F[$ENV{COLUMN}] = $ENV{VALUE} if $F[0] eq $ENV{ID}; print \"@F\";' $FILE\n</code></pre>\n\n<p>I think it's much more readable written like this. Note that I have used the <a href=\"https://metacpan.org/pod/Env\" rel=\"nofollow\"><code>Env</code></a> module, which is a quick way to <em>copy</em> the a list of environment variables to Perl variables of the same name</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Env qw/ COLUMN VALUE ID /;\n\nour $^I = \"\";     # Enable in-place editing\n\nwhile ( &lt;&gt; ) {\n\n    my @fields = split /\\|/;\n\n    $fields[$COLUMN] = $VALUE if $fields[0] eq $ID;\n\n    print join('|', @fields), \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 327, "user_id": 4440179, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93bb014ad50558b70c94cfb756e14f3a?s=128&d=identicon&r=PG&f=1", "display_name": "JimS", "link": "https://stackoverflow.com/users/4440179/jims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476557030, "creation_date": 1476554517, "last_edit_date": 1476555557, "question_id": 40062436, "link": "https://stackoverflow.com/questions/40062436/change-specific-field-in-file-using-perl", "title": "change specific field in file using perl", "body": "<pre><code>perl -i -lape 'BEGIN{ $\" = \"|\"} $F[$COLUMN]=$VALUE if $F[0] eq \"$ID\";' $FILE\n</code></pre>\n\n<p>So I try to replace inside the file the field that exists in the line with the specific <code>ID</code> and at the specific <code>COLUMN</code> with the given <code>VALUE</code>. When I execute no changes are made inside the file. It's important that I do this with perl (so no awk or sed solutions). I have little experience with perl so elaboration is much appreciated.  </p>\n\n<pre><code>933|text1|text2|text3  \n934|colm1|colm2|colm3\n935|line1|line2|line3\n</code></pre>\n\n<p>say value=newValue column=2 and id=934 so the file should look like this  </p>\n\n<pre><code>933|text1|text2|text3  \n934|colm1|newValue|colm3\n935|line1|line2|line3\n</code></pre>\n"}, {"tags": ["perl", "shutter"], "answers": [{"comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1476562459, "post_id": 40061683, "comment_id": 67401397, "body": "This should not be necessary <code>&#47;usr&#47;share&#47;perl5</code> should already be one of the lib search directories compiled into the Perl interpreter.  You can confirm this with <code>perl -V</code>. It sounds more like there has been an error during the packaging of the application."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "reply_to_user": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1479681293, "post_id": 40061683, "comment_id": 68648432, "body": "@GrantMcLean In <code>perlbrew</code> environment there is no <code>&#47;usr&#47;share&#47;perl5</code> location, for example"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1479695314, "post_id": 40061683, "comment_id": 68651741, "body": "Sure, but a Perl application installed via <code>apt-get</code> would usually use the system perl which was also installed via <code>apt-get</code>. I would have thought the main script for shutter would start with <code>#!&#47;usr&#47;bin&#47;perl</code> to invoke the system Perl and the system Perl has a compiled-in search path that includes /usr/share/perl5. The fact that you might also have another Perl installed via perlbrew shouldn&#39;t affect any of that."}], "tags": [], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1476549987, "creation_date": 1476549987, "answer_id": 40061683, "question_id": 40061557, "link": "https://stackoverflow.com/questions/40061557/library-is-missing-when-run-shutter/40061683#40061683", "title": "Library is missing when run &#39;shutter&#39;", "body": "<p>This programm put its library into <code>/usr/share/perl5/</code>. So to use it you should setup <code>PERL5LIB</code> env variable to that folder. In my <code>.bashrc</code> I do:</p>\n\n<pre><code>export PERL5LIB=\"/usr/share/perl5/:${PERL5LIB}\"\n</code></pre>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1476549987, "creation_date": 1476549240, "question_id": 40061557, "link": "https://stackoverflow.com/questions/40061557/library-is-missing-when-run-shutter", "title": "Library is missing when run &#39;shutter&#39;", "body": "<p>I am trying to install <a href=\"http://shutter-project.org/\" rel=\"nofollow\">shutter</a>. I have <code>Linux Mint 17.3</code> and install it as:</p>\n\n<pre><code>sudo apt-get install shutter\n</code></pre>\n\n<p>But when I run it after installation I get error:</p>\n\n<pre><code>Can't locate Shutter/App/SimpleDialogs.pm in @INC\n</code></pre>\n\n<p>What do I miss?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476536524, "post_id": 40059206, "comment_id": 67392978, "body": "Could you give a specific example of what you are trying to match by editing your question?"}, {"owner": {"reputation": 11, "user_id": 7023332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e219a28b4dcf9a50501907ca4a9d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Swathi Vutukuri", "link": "https://stackoverflow.com/users/7023332/swathi-vutukuri"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476536805, "post_id": 40059206, "comment_id": 67393058, "body": "$k has below  string u_pwrup_control/g_pwrup_bscan_cell[262]_u_pwrup_bscan and REF_FILE has same line but it is not matching as it contains [262]"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476536982, "post_id": 40059206, "comment_id": 67393103, "body": "I don&#39;t follow.  REF_FILE has the exact same line?  does <code>$_ eq $k</code> work?"}, {"owner": {"reputation": 11, "user_id": 7023332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e219a28b4dcf9a50501907ca4a9d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Swathi Vutukuri", "link": "https://stackoverflow.com/users/7023332/swathi-vutukuri"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476537106, "post_id": 40059206, "comment_id": 67393140, "body": "But $_ will not contain exact word. It may be prepended and appended by some other characters"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476537152, "post_id": 40059206, "comment_id": 67393153, "body": "So could you give a specific example, so that others can recreate your issue?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 1, "creation_date": 1476537207, "post_id": 40059206, "comment_id": 67393164, "body": "<a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476537371, "post_id": 40059206, "comment_id": 67393214, "body": "<code>perl -e &#39;$foo=&quot;abc[12]3&quot;; $bar = &quot;babc[12]34&quot;; print &quot;YES\\n&quot; if $bar =~ m|\\Q$foo\\E|;&#39;</code> YES"}, {"owner": {"reputation": 11, "user_id": 7023332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e219a28b4dcf9a50501907ca4a9d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Swathi Vutukuri", "link": "https://stackoverflow.com/users/7023332/swathi-vutukuri"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1476538203, "post_id": 40059206, "comment_id": 67393450, "body": "Yes it is similar to that"}], "answers": [{"tags": [], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "is_accepted": false, "score": 5, "last_activity_date": 1476538055, "last_edit_date": 1476538055, "creation_date": 1476537132, "answer_id": 40059421, "question_id": 40059206, "link": "https://stackoverflow.com/questions/40059206/how-to-match-square-bracket-without-escaping-with/40059421#40059421", "title": "How to match square bracket without escaping with \\", "body": "<p>You are looking for the function <a href=\"http://perldoc.perl.org/functions/quotemeta.html\"><code>quotemeta</code></a>. Alternatively, you can use <code>\\Q...\\E</code> inside the regex (more informations about that on <a href=\"http://perldoc.perl.org/perlre.html\"><code>perlre</code></a>.<br>\nApplied to your code :</p>\n\n<ul>\n<li>either do <code>$k = quotemeta $_;</code> (the <code>$_</code> is optional though), instead of <code>$k = $_;</code></li>\n<li>or keep <code>$k = $_;</code> and in the regex, do <code>$_ =~ /\\Q$k/</code>.</li>\n</ul>\n\n<p>You didn't provide a lot details in your question, so I'm no guarantying that this will actually match what you are trying to match, but at least <code>[</code> and <code>]</code> (and any other unsafe character) will be escaped in the regex.<br>\nIn particular, you <em>might</em> want to <a href=\"http://perldoc.perl.org/functions/chomp.html\"><code>chomp</code></a> in both <code>while</code> after reading the lines, but it really depends on what you are reading.</p>\n\n<hr>\n\n<p>But your code could be improved in many way, including :</p>\n\n<ul>\n<li>Always add <code>use strict;</code> and <code>use warnings;</code> at the beginning of your script.</li>\n<li>Related to the previous point, but use lexically scoped variables (ie. declared with <a href=\"http://perldoc.perl.org/functions/my.html\">my</a> instead of your global ones (not declared)). So write <code>my $k = ...</code> instead of just <code>$k = ...</code> (only when you declare it).</li>\n<li>Instead of doing your first <code>while</code> like that :<br>\n<code>while (&lt;INPUT_FILE&gt;){ $k = $_; ... }</code><br>\nIt would be much cleaner to do something like :<br>\n<code>while (my $k = &lt;INPUT_FILE&gt;) { ... }</code><br>\nUsing <code>$_</code> is convenient in a lot of cases, but in that one, it's really not.</li>\n<li>Don't use global filehandles, but instead use lexical variables :<br>\n<code>open my $INPUT_FILE, '&lt;', 'your_file_name' or die $!</code><br>\nAnd the, you can use them the same way as your old global ones : <code>while (&lt;$INPUT_FILE&gt;) { ... }</code></li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 7023332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e219a28b4dcf9a50501907ca4a9d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Swathi Vutukuri", "link": "https://stackoverflow.com/users/7023332/swathi-vutukuri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 478, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476538055, "creation_date": 1476535708, "last_edit_date": 1476536301, "question_id": 40059206, "link": "https://stackoverflow.com/questions/40059206/how-to-match-square-bracket-without-escaping-with", "title": "How to match square bracket without escaping with \\", "body": "<p>When I am reading an input file in perl I got below line</p>\n\n<pre><code>u_pwrup_control/g_pwrup_bscan_cell[262]_u_pwrup_bscan\n</code></pre>\n\n<p>Now I want to find a similar line in reference file  using regexp .But it is not matching when I use below command.  </p>\n\n<pre><code>while(&lt;INPUT_FILE&gt;){\n    $k=$_;\n    ##opening ref file in read mode\n    while(&lt;REF_FILE&gt;)\n        if ($_ =~ /$k/) {\n            print $_;\n        } else {\n            print $k is not matching;\n        }\n    }\n}\n</code></pre>\n\n<p>Please tell me how to match [] without escaping with .</p>\n"}, {"tags": ["perl", "openssl", "cpan", "strawberry-perl"], "comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 2, "creation_date": 1476530780, "post_id": 40057829, "comment_id": 67391352, "body": "Stack Overflow is a site for programming and development questions. This question appears to be off-topic because it is not about programming or development. See <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here</a> in the Help Center. Perhaps <a href=\"http://superuser.com/\">Super User</a> would be a better place to ask. Also see <a href=\"http://meta.stackexchange.com/q/134306\">Where do I post questions about Dev Ops?</a>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1476555252, "post_id": 40057829, "comment_id": 67399007, "body": "Strawberry Perl comes with a build environment which may be sufficient to build OpenSSL from source. You may also need to rebuild modules that use OpenSSL."}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 3, "last_activity_date": 1476536414, "creation_date": 1476536414, "answer_id": 40059315, "question_id": 40057829, "link": "https://stackoverflow.com/questions/40057829/openssl-upgrade-in-strawberry-perl/40059315#40059315", "title": "Openssl upgrade in Strawberry Perl", "body": "<p>Note, also asked, answered on <a href=\"http://perlmonks.org/?node_id=1174067\" rel=\"nofollow\">Perlmonks</a>.</p>\n\n<p>As far as I know, you can't simply upgrade OpenSSL within a Strawberry installation. Also, Perl 5.10 was released way back in 2007, so it's probably best you upgrade the whole shebang anyways.</p>\n\n<p><a href=\"https://github.com/stevieb9/berrybrew\" rel=\"nofollow\">berrybrew</a> for Windows offers you a way to both upgrade your Perl (and OpenSSL), while providing you the ability to switch between Perl versions, and even move them around from system to system, copy instances, create template instances that you can restore to at any time, and even revert back to your original Strawberry Perl installation if you need to.</p></p>\n\n<p>First, take inventory of the Perl modules you have installed:</p>\n\n<pre><code>perl -MCPAN -e 'autobundle;'\n</code></pre>\n\n<p>...after that runs, you'll end up with a file name as output. Eg: <code>.../Bundle/Snapshot_2016_10_15_00.pm</code>. Copy that file to say your desktop.</p>\n\n<p>Download the <a href=\"https://github.com/stevieb9/berrybrew/blob/master/download/berrybrew.zip\" rel=\"nofollow\">berrybrew zip file</a>, and extract it in a directory on your system (but NOT <code>c:\\berrybrew</code>, as this is the default location where we store our Perl instances). Then, open a <code>cmd.exe</code> window, and:</p>\n\n<pre><code>cd berrybrew\nbin\\berrybrew.exe config\n\n# close the current cmd.exe window, and open a new one\n\nberrybrew install 5.24.0_64\nberrybrew switch 5.24.0_64\n\n# close cmd.exe, open a new one\n</code></pre>\n\n<p>Now, you've got the most recent version of Perl usable system-wide, and you've left your Strawberry install in place in case you need it. If you do, just run <code>berrybrew off</code>, and open a new cmd window. The closing/reopening of new cmd windows is required thanks to how Windows handles its environment variables.</p>\n\n<p>Now, reinstall all of your modules into the new version of Perl:</p>\n\n<pre><code>cpan -i file://Desktop/Snapshot_2016_10_15_00.pm\n</code></pre>\n\n<p>Make a backup of this freshly set up instance of Perl:</p>\n\n<pre><code>berrybrew clone 5.24.0_64 5.24_template\n</code></pre>\n\n<p>Now you're up-to-date with everything, ready to go.</p>\n\n<p>By the way, <code>berrybrew</code> uses Strawberry Perl portable edition for all of its instances.</p>\n"}], "owner": {"reputation": 41, "user_id": 1234085, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f4ae7f8f160b8c78ae2d3d8a031a08ad?s=128&d=identicon&r=PG", "display_name": "user1234085", "link": "https://stackoverflow.com/users/1234085/user1234085"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476536414, "creation_date": 1476526940, "last_edit_date": 1476530809, "question_id": 40057829, "link": "https://stackoverflow.com/questions/40057829/openssl-upgrade-in-strawberry-perl", "title": "Openssl upgrade in Strawberry Perl", "body": "<p>I want to ask that how can I upgrade the Openssl version from 0.9 to 1.0.* in Strawberry Perl version 5.10.*?</p>\n\n<p>PS: I do not want to upgrade the strawberry perl version as well as I am using windows environment. Thanks!</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476597472, "post_id": 40057561, "comment_id": 67408353, "body": "What&#39;s &quot;rule1&quot;? And you are passing <i>a ref to a hash</i>, not passing <i>a hash by ref</i> (which means something quite different, and not possible to do in Perl unless you fudge it using prototypes)."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476694812, "post_id": 40057561, "comment_id": 67437164, "body": "It&#39;s because <code>@_</code> and <code>$_</code> are completely different variables. I&#39;ll just reiterate my suggestion to find yourself a good book or well-structured tutorial. Poking at this at random clearly isn&#39;t working well for you."}], "answers": [{"comments": [{"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476532434, "post_id": 40057860, "comment_id": 67391794, "body": "Many thanks @Zaid. Stipulating an element part completely stumped me. Need to have a play with your flexible version to understand the use of parentheses around $Q."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476567408, "post_id": 40057860, "comment_id": 67402918, "body": "They&#39;re used to force a list assignent. Without the parens, <code>@_</code> would be evaluated in scalar context (returning the number of elements in it) rather than in list context (returning the elements in it)."}], "tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": false, "score": 6, "last_activity_date": 1476527084, "creation_date": 1476527084, "answer_id": 40057860, "question_id": 40057561, "link": "https://stackoverflow.com/questions/40057561/perl-passing-hash-by-ref-using-rule1/40057860#40057860", "title": "Perl: passing hash by ref using rule1", "body": "<p>This can seem a bit tricky at first, but the reason is that <code>$_</code> is not the same as <code>@_</code>.</p>\n\n<p>From <a href=\"http://perldoc.perl.org/perlvar.html\"><code>perlvar</code></a>:</p>\n\n<ul>\n<li><code>$_</code> is the implicit/\"default\" variable that does not have to be spelled out explicitly for certain functions (e.g. <a href=\"http://perldoc.perl.org/functions/split.html\"><code>split</code></a> )</li>\n<li>Within a subroutine the array <code>@_</code> contains the parameters passed to that subroutine</li>\n</ul>\n\n<hr>\n\n<p>So the reason why </p>\n\n<pre><code>my %Q = %{$_};\n</code></pre>\n\n<p>says you can't use an undefined value as hash reference is because <code>$_</code> is not defined.</p>\n\n<p>What you really need here is </p>\n\n<pre><code>my %Q = %{$_[0]};\n</code></pre>\n\n<p>because that is the first element of <code>@_</code>, which is what was passed to <code>testRef</code> in the first place.</p>\n\n<hr>\n\n<p>In practice I tend to find myself doing things a little differently because it lends itself to flexibility for future modifications:</p>\n\n<pre><code>sub testRef {\n\n    my ( $Q ) = @_;\n    print $_, \"\\n\" for keys %$Q;  # just as an example\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 1, "creation_date": 1476532217, "post_id": 40057866, "comment_id": 67391737, "body": "Thank you @Dada. Now it is clear; didn&#39;t even come close to thinking about asking for an element inside but it makes sense now. Appreciate the pointer to perlsub too."}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476602959, "post_id": 40057866, "comment_id": 67409377, "body": "@ikegami indeed, I added a paragraph to suggest the use of references instead. Thanks for pointing it out."}], "tags": [], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "is_accepted": true, "score": 7, "last_activity_date": 1476602926, "last_edit_date": 1476602926, "creation_date": 1476527107, "answer_id": 40057866, "question_id": 40057561, "link": "https://stackoverflow.com/questions/40057561/perl-passing-hash-by-ref-using-rule1/40057866#40057866", "title": "Perl: passing hash by ref using rule1", "body": "<p>When you use arguments in a function call (<code>\\%mkPara</code> in your case), you can access them through <code>@_</code> array inside the function. </p>\n\n<p>Here, you pass a single argument to the function : <code>\\%mkPara</code>, which you can then access by accessing the first element of <code>@_</code> by using <code>$_[0]</code>.</p>\n\n<p><code>$_</code> is the default variable for some builtin functions/operators (<code>print</code>, <code>m//</code>, <code>s///</code>, <code>chomp</code> and a lot more). Usually seen in <code>while</code> or <code>for</code> loops. But in your code, you have no reason to use it (you are never setting it to anything, so it's still set to <code>undef</code>, hence the error <code>\"Can't use an undefined value as a HASH reference\"</code>.</p>\n\n<p>So your function should actually be :</p>\n\n<pre><code>sub testRef\n{\n    my %Q = %{$_[0]}; # instead of %{$_}\n    print  $_[0]-&gt;{'aa'}, \"\\n\"; # instead of $_-&gt;{'aa'}\n    print $Q{'aa'},\"\\n\";\n}\n</code></pre>\n\n<p>If needed, you can find more about functions on <a href=\"http://perldoc.perl.org/perlsub.html\" rel=\"nofollow\">perlsub</a>.</p>\n\n<p><strong>However</strong>, as @Ikegami pointed out in the comments, using <code>my %Q = %{$_[0]};</code> creates a copy of the hash you sent to the function, which in most cases (including that one where you just print a key of the hash) is very suboptimal as you could just use a hashref (like you are doing when you do <code>$_[0]-&gt;{'aa'}</code>).<br>\nYou can use hash references like this (roughly the same example as the answer of @Zaid) :</p>\n\n<pre><code>sub testRef\n{\n    my ( $Q ) = @_;\n    print $Q-&gt;{aa} ;\n    print $_, \"\\n\" for keys %$Q;\n}\ntestRef(\\%mkPara); \n</code></pre>\n\n<p>There are quite a lot of resources about references online, for instance <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\"><code>perlreftut</code></a> that you were already looking at.</p>\n"}], "owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 40057866, "answer_count": 2, "score": 2, "last_activity_date": 1476602926, "creation_date": 1476525224, "last_edit_date": 1476526584, "question_id": 40057561, "link": "https://stackoverflow.com/questions/40057561/perl-passing-hash-by-ref-using-rule1", "title": "Perl: passing hash by ref using rule1", "body": "<p>I am still unclear about why by ref portion is showing undefined value for <code>%Q</code> and <code>$_</code> uninitialized. I have been looking through <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\"><code>perlreftut</code></a> and still unable to see what I have done wrong. Passing the hash as a flat array has no issue. </p>\n\n<p>Doing it by ref with <code>testRef(\\%mkPara)</code> passes a scalar hash reference to the subroutine, right? So, does <code>my %Q = %{$_}</code> not turn it back into a hash?</p>\n\n<pre><code>use strict;\nuse diagnostics;\nuse warnings;\n\nmy %mkPara = ('aa'=&gt;2,'bb'=&gt;3,'cc'=&gt;4,'dd'=&gt;5);\n\nsub testFlat\n{\n    my %P = @_;\n    print \"$P{'aa'}, $P{'bb'}, \", $P{'cc'}*$P{'dd'}, \"\\n\";  \n}\n\nsub testRef\n{\n    my %Q = %{$_}; #can't use an undefined value as HASH reference\n    #print  $_-&gt;{'aa'}, \"\\n\";#Use of uninitialized value\n    print $Q{'aa'},\"\\n\";\n}\n\n#testFlat(%mkPara);\ntestRef(\\%mkPara); \n</code></pre>\n"}, {"tags": ["perl", "screen-scraping", "perl-module", "lwp", "html-tableextract"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 1980808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d690c880d107325c6107ce44cba9bd6?s=128&d=identicon&r=PG", "display_name": "ChrisS", "link": "https://stackoverflow.com/users/1980808/chriss"}, "edited": false, "score": 0, "creation_date": 1476550895, "post_id": 40056273, "comment_id": 67397521, "body": "Thank you Chankey! Your answer worked similarly to Miguel&#39;s... it gave me an error of &quot;certificate verify failed&quot; when I tried it. Presumably I had to set a flag like I had googled for Miguel&#39;s answer for this to work. In the end, I marked his as the answer because that&#39;s what the majority of my code looked like now. But if I could pick two answers, I&#39;d pick yours as well. Upvoted, anyways, but I&#39;m too new for it to show here. I appreciate your great help!!!"}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": false, "score": 0, "last_activity_date": 1476516820, "last_edit_date": 1476516820, "creation_date": 1476516111, "answer_id": 40056273, "question_id": 40055756, "link": "https://stackoverflow.com/questions/40055756/htmltableextract-an-https-site/40056273#40056273", "title": "HTML::TableExtract an HTTPS site", "body": "<p>This is because <a href=\"https://datatables.net\" rel=\"nofollow\">datatables.net</a> is blocking <code>LWP::Simple</code> requests. You can confirm this by using below code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse LWP::Simple; \nprint is_success(getprint(\"https://datatables.net/\"));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ perl test.pl \n403 Forbidden &lt;URL:https://datatables.net/&gt;\n</code></pre>\n\n<hr>\n\n<p>You could try using <a href=\"https://metacpan.org/pod/LWP::RobotUA\" rel=\"nofollow\">LWP::RobotUA</a>. Below code works fine for me.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse LWP::RobotUA;\nuse HTML::TableExtract;\n\nmy $ua = LWP::RobotUA-&gt;new( 'bot_chankey/1.1', 'chankeypathak@stackoverflow.com' );\n$ua-&gt;delay(5/60); # 5 second delay between requests\nmy $response = $ua-&gt;get('https://datatables.net/');\nif ( $response-&gt;is_success ) {\n    my $te = HTML::TableExtract-&gt;new();\n    $te-&gt;parse($response-&gt;content);\n    print $te-&gt;tables_report(show_content=&gt;1);\n}\nelse {\n    die $response-&gt;status_line;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 1980808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d690c880d107325c6107ce44cba9bd6?s=128&d=identicon&r=PG", "display_name": "ChrisS", "link": "https://stackoverflow.com/users/1980808/chriss"}, "edited": false, "score": 0, "creation_date": 1476550002, "post_id": 40056352, "comment_id": 67397204, "body": "Thanks for the response! This"}, {"owner": {"reputation": 25, "user_id": 1980808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d690c880d107325c6107ce44cba9bd6?s=128&d=identicon&r=PG", "display_name": "ChrisS", "link": "https://stackoverflow.com/users/1980808/chriss"}, "edited": false, "score": 0, "creation_date": 1476550248, "post_id": 40056352, "comment_id": 67397298, "body": "Sorry, I&#39;m new to StackOverflow and hit enter too soon. This almost worked. I had to change one part to <code>my $ua = LWP::UserAgent-&gt;new(    ssl_opts =&gt; { verify_hostname =&gt; 0 }, );</code> or I would always get an error saying certificate verify failed. I combined this solution with Chankey&#39;s parsing. I&#39;ll try and post my final code below."}, {"owner": {"reputation": 25, "user_id": 1980808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d690c880d107325c6107ce44cba9bd6?s=128&d=identicon&r=PG", "display_name": "ChrisS", "link": "https://stackoverflow.com/users/1980808/chriss"}, "edited": false, "score": 1, "creation_date": 1476550785, "post_id": 40056352, "comment_id": 67397479, "body": "Actually after reading around, sounds like it was more recommended to use <code>ssl_opts =&gt; { SSL_verify_mode =&gt; &#39;SSL_VERIFY_PEER&#39; },</code>, so that&#39;s what I did instead. Not sure if there are security issues with this at all, but I&#39;m not interested in security here.. just trying to pull in some statistics off of a public site."}], "tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": true, "score": 1, "last_activity_date": 1476517683, "last_edit_date": 1476517683, "creation_date": 1476516597, "answer_id": 40056352, "question_id": 40055756, "link": "https://stackoverflow.com/questions/40055756/htmltableextract-an-https-site/40056352#40056352", "title": "HTML::TableExtract an HTTPS site", "body": "<p>The problem is related to the user agent that LWP::Simple uses, which is stopped at that site. Use <a href=\"https://metacpan.org/pod/LWP::UserAgent\" rel=\"nofollow\">LWP::UserAgent</a> and set an allowed user agent, like this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new;\nmy $url = 'https://datatables.net/';\n\n$ua-&gt;agent(\"Mozilla/5.0\");  # set user agent\nmy $res = $ua-&gt;get($url);   # send request\n\n# check the outcome\nif ($res-&gt;is_success) {\n   # ok -&gt; I simply print the content in this example, you should parse it\n   print $res-&gt;decoded_content;\n}\nelse {\n   # ko\n   print \"Error: \", $res-&gt;status_line, \"\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1476557603, "post_id": 40061769, "comment_id": 67399801, "body": "You should remove the <code>use LWP::RobotUA</code> line as you&#39;re not using that module in your code."}, {"owner": {"reputation": 25, "user_id": 1980808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d690c880d107325c6107ce44cba9bd6?s=128&d=identicon&r=PG", "display_name": "ChrisS", "link": "https://stackoverflow.com/users/1980808/chriss"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1476579166, "post_id": 40061769, "comment_id": 67405370, "body": "Oops, right you are, I hadn&#39;t noticed I had it in there still. Thanks."}], "tags": [], "owner": {"reputation": 25, "user_id": 1980808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d690c880d107325c6107ce44cba9bd6?s=128&d=identicon&r=PG", "display_name": "ChrisS", "link": "https://stackoverflow.com/users/1980808/chriss"}, "is_accepted": false, "score": 0, "last_activity_date": 1476550542, "creation_date": 1476550542, "answer_id": 40061769, "question_id": 40055756, "link": "https://stackoverflow.com/questions/40055756/htmltableextract-an-https-site/40061769#40061769", "title": "HTML::TableExtract an HTTPS site", "body": "<p>In the end, a combination of Miguel and Chankey's responses provided my solution. Miguel's made up most of my code, so I selected that as the answer, but here is my \"final\" code (got a lot more to do, but this is all I couldn't figure out.. the rest should be no problem).</p>\n\n<p>I couldn't quite get either mentioned by Miguel/Chankey to work, but they got me 99% of the way.. then I just had to figure out how to get around the error \"certificate verify failed\". I found that answer with Miguel's method right away, so in the end, I mostly used his code, but both responses were great! </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse lib qw( ..); \nuse strict;\nuse warnings;\nuse LWP::UserAgent;\n\nuse HTML::TableExtract; \nuse LWP::RobotUA;\nuse Data::Dumper; \n\nmy $ua = LWP::UserAgent-&gt;new(\n   ssl_opts =&gt; { SSL_verify_mode =&gt; 'SSL_VERIFY_PEER' },\n);\nmy $url = 'https://WebsiteIUsedWasSomethingElse.com';\n\n$ua-&gt;agent(\"Mozilla/5.0\");  # set user agent\nmy $res = $ua-&gt;get($url);   # send request\n\n# check the outcome\nif ($res-&gt;is_success) \n{   \n   my $te = HTML::TableExtract-&gt;new();\n   $te-&gt;parse($res-&gt;content);\n   print $te-&gt;tables_report(show_content=&gt;1);\n}\nelse {\n   # ko\n   print \"Error: \", $res-&gt;status_line, \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8340096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bd28a50d03dae1400f03aa59c0d0368?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/8340096/stephen"}, "is_accepted": false, "score": 0, "last_activity_date": 1500573269, "creation_date": 1500573269, "answer_id": 45221949, "question_id": 40055756, "link": "https://stackoverflow.com/questions/40055756/htmltableextract-an-https-site/45221949#45221949", "title": "HTML::TableExtract an HTTPS site", "body": "<pre><code>my $url = \"https://ohsesfire01.summit.network/reports/slices\";\nmy $user = 'xxxxxx';\nmy $pass = 'xxxxxx';\nmy $ua = new LWP::UserAgent;\nmy $request = new HTTP::Request GET=&gt; $url;\n# authenticate\n$request-&gt;authorization_basic($user, $pass);\n\nmy $page = $ua-&gt;request($request);\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 1980808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d690c880d107325c6107ce44cba9bd6?s=128&d=identicon&r=PG", "display_name": "ChrisS", "link": "https://stackoverflow.com/users/1980808/chriss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 40056352, "answer_count": 4, "score": 1, "last_activity_date": 1500573269, "creation_date": 1476512783, "last_edit_date": 1476516902, "question_id": 40055756, "link": "https://stackoverflow.com/questions/40055756/htmltableextract-an-https-site", "title": "HTML::TableExtract an HTTPS site", "body": "<p>I've created a perl script to use HTML::TableExtract to scrape data from tables on a site. </p>\n\n<p>It works great to dump out table data for unsecured sites (i.e. HTTP site), but when I try HTTPS sites, it doesn't work (the tables_report line just prints blank.. it should print a bunch of table data). </p>\n\n<p>However, if I take the content of that HTTPS page, and save it to an html file and then post it on an unsecured HTTP site (and change my content to point to this HTTP page), this script works as expected. </p>\n\n<p>Anyone know how I can get this to work over HTTPS?</p>\n\n<pre><code>#!/usr/bin/perl\nuse lib qw( ..); \nuse HTML::TableExtract; \nuse LWP::Simple; \nuse Data::Dumper; \n# DOESN'T work:\nmy $content = get(\"https://datatables.net/\"); \n# DOES work:\n#   my $content = get(\"http://www.w3schools.com/html/html_tables.asp\"); \nmy $te = HTML::TableExtract-&gt;new();\n$te-&gt;parse($content);\nprint $te-&gt;tables_report(show_content=&gt;1);\nprint \"\\n\";\nprint \"End\\n\";\n</code></pre>\n\n<p>The sites mentioned above for $content are just examples.. these aren't really the sites I'm extracting, but they work just like the site I'm really trying to scrape. </p>\n\n<p>One option I guess is for me to use perl to download the page locally first and extract from there, but I'd rather not, if there's an easier way to do this (anyone that helps, please don't spend any crazy amount of time coming up with a complicated solution!). </p>\n"}, {"tags": ["html", "perl", "cgi"], "comments": [{"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 1, "creation_date": 1476697140, "post_id": 40053607, "comment_id": 67438618, "body": "Please be aware that the HTML doesn&#39;t contain the picture, only a reference to the picture. The browser resolves the reference to a URL and fetches it in order to retrieve the picture. So you also need to make sure the browser, when fetching that URL, actually gets the picture."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6478107, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6b35aa555f8d6308ae8733022917ec71?s=128&d=identicon&r=PG&f=1", "display_name": "John Ambers", "link": "https://stackoverflow.com/users/6478107/john-ambers"}, "edited": false, "score": 0, "creation_date": 1476496961, "post_id": 40054099, "comment_id": 67384190, "body": "Thank you for answer, but I still see the same result. I have edited my question and attached a screenshot of what I see."}], "tags": [], "owner": {"reputation": 3789, "user_id": 2284676, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/13e34de97b1df53aac80c039b6ffc977?s=128&d=identicon&r=PG&f=1", "display_name": "octohedron", "link": "https://stackoverflow.com/users/2284676/octohedron"}, "is_accepted": false, "score": 0, "last_activity_date": 1476495391, "creation_date": 1476495391, "answer_id": 40054099, "question_id": 40053607, "link": "https://stackoverflow.com/questions/40053607/how-to-put-a-picture-in-html-using-cgi-perl/40054099#40054099", "title": "How to put a picture in HTML using CGI Perl?", "body": "<p>Make sure you are using the right format for the attributes</p>\n\n<pre><code>print \"&lt;img src='picture1.jpg' style='width:600px;height:300px;'&gt;\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8726, "user_id": 597305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ad05a19a937275934237503fc77d887?s=128&d=identicon&r=PG", "display_name": "Bill Ruppert", "link": "https://stackoverflow.com/users/597305/bill-ruppert"}, "is_accepted": false, "score": 0, "last_activity_date": 1476500479, "creation_date": 1476500479, "answer_id": 40054485, "question_id": 40053607, "link": "https://stackoverflow.com/questions/40053607/how-to-put-a-picture-in-html-using-cgi-perl/40054485#40054485", "title": "How to put a picture in HTML using CGI Perl?", "body": "<p>You need to use double quotes in the html.</p>\n\n<p><code>print q{&lt;img src=\"picture1.jpg\" width=\"600\" height=\"300\"&gt;};</code></p>\n"}, {"tags": [], "owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "is_accepted": false, "score": 2, "last_activity_date": 1476504168, "last_edit_date": 1476504168, "creation_date": 1476503298, "answer_id": 40054738, "question_id": 40053607, "link": "https://stackoverflow.com/questions/40053607/how-to-put-a-picture-in-html-using-cgi-perl/40054738#40054738", "title": "How to put a picture in HTML using CGI Perl?", "body": "<p>From looking at your screenshot, I would guess that the image source or location specified as <code>src='picture1.jpg'</code> is incorrect.</p>\n\n<p>Possible reasons can be:</p>\n\n<ul>\n<li>the file <code>picture1.jpg</code> does not exist on your server</li>\n<li>the file <code>picture1.jpg</code> is in a different directory</li>\n</ul>\n\n<p>I bet it's the second problem. Your CGI script is most likely in a directory called like <code>cgi-bin</code>, so by using <code>src='picture1.jpg'</code> you look for the picture in this <code>cgi-bin</code> directory.</p>\n\n<p>Are you really sure your picture is located here: <code>cgi-bin/picture1.jpg</code>? Most likely not.</p>\n\n<p>I guess the picture is somewhere else, which means you have to set the correct path for it as shown in the examples below:</p>\n\n<pre><code>img src='../picture1.jpg'\n</code></pre>\n\n<p>This means \"Go one directory level up and look for the <code>picture1.jpg</code>\".</p>\n\n<pre><code>img src='../images/picture1.jpg'\n</code></pre>\n\n<p>This means: \"Go one directory level up and look for the <code>picture1.jpg</code> inside the <code>image</code> directory\".</p>\n\n<pre><code>img src='/html/images/picture1.jpg'\n</code></pre>\n\n<p>This means: \"Go to the root directory of your website, find the <code>html</code> directory, then find the <code>image</code> directory and finally <code>picture1.jpg</code> inside.</p>\n\n<p>After you adjusted the path according to your server's directory structure, the image should show up as desired. Furthermore, as mentioned in the other answers, you should always format your HTML attributes properly.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1476694561, "creation_date": 1476694561, "answer_id": 40082159, "question_id": 40053607, "link": "https://stackoverflow.com/questions/40053607/how-to-put-a-picture-in-html-using-cgi-perl/40082159#40082159", "title": "How to put a picture in HTML using CGI Perl?", "body": "<blockquote>\n  <p>the picture in the form does not show, but I don't get any errors</p>\n</blockquote>\n\n<p>You don't get any errors in the browser, but have you checked the web server error log?</p>\n\n<p>You don't say where your CGI program and your image are both actually stored on your web server, so it's hard to be sure what the problem is, but I expect you're getting an error in the web server log which would clear things up.</p>\n\n<p>If I had to guess (I don't, but I'm going to anyway!) I'd say that the problem is down to the location of the image. A common way to set up CGI programs on a web server is for a certain directory (often called <code>cgi-bin</code>) to be designated as a location to contain all of your CGI programs. But actually, what this means is that you are saying to your web server \"everything in this directory is a CGI program - any time you get a request for a resource in this directory, you need to execute the program and return the results to the browser\".</p>\n\n<p>So the web server thinks that <strong>everything</strong> in that directory is a CGI program. This means that you can't put image files in this directory. Because if the web server gets a request for <code>/cgi-bin/picture1.jpg</code>, it will think that <code>picture</code>.jpg is program that returns the image - so it will try to execute the image file. And that's not goitn to work and you'll get a 500 error in your error log.</p>\n\n<p>The code you have shown us is this:</p>\n\n<pre><code>print \"&lt;img src=picture1.jpg style=width:600px;height:300px;&gt;\";\n</code></pre>\n\n<p>Because you have <code>src=picture1.jpg</code>, the web server assumes that the image file is in the current directory - which will be the directory containing the CGI program. So there's a good chance that this is the problem I described above.</p>\n\n<p>The other option is that you have configured your web server so that anything with a certain extension (often <code>.cgi</code>) should be seen as a CGI program. If that's the case, then my previous explanation isn't going to explain your problem. In that case, it's most likely that you've just got the URL of the image file wrong and you'll get a 404 error in the web server error log.</p>\n\n<p>But in both cases, there will almost certainly be more useful information waiting for you in the web server error log. Please look there and add the details to your question.</p>\n"}], "owner": {"reputation": 11, "user_id": 6478107, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6b35aa555f8d6308ae8733022917ec71?s=128&d=identicon&r=PG&f=1", "display_name": "John Ambers", "link": "https://stackoverflow.com/users/6478107/john-ambers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1174, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1476694561, "creation_date": 1476489726, "last_edit_date": 1476516176, "question_id": 40053607, "link": "https://stackoverflow.com/questions/40053607/how-to-put-a-picture-in-html-using-cgi-perl", "title": "How to put a picture in HTML using CGI Perl?", "body": "<p>I am creating a very simple HTML form. I have included the form in the CGI file. I am using perl scripting. I have tried to include a picture in my form using the following CGI script:</p>\n\n<pre><code>print \"&lt;img src=picture1.jpg style=width:600px;height:300px;&gt;\";\n</code></pre>\n\n<p>The problem with this is that the picture in the form does not show, but I don't get any errors and everything else works fine when I access the form from a browser.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ELP6E.png\" rel=\"nofollow\">Screenshot of the problem</a></p>\n"}, {"tags": ["perl", "class", "hash", "subroutine"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476480790, "post_id": 40052311, "comment_id": 67380706, "body": "Can you show the data structure you wand to end up with?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476480846, "post_id": 40052311, "comment_id": 67380728, "body": "Why not make one of the fields of the object a hash that maps <code>$key</code> to <code>[$parameter, $parameter2]</code>?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1476491176, "post_id": 40052311, "comment_id": 67383291, "body": "show the input text file (a short example of it). @ikegami has it, the answer just needs some real input data"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476657164, "post_id": 40052311, "comment_id": 67425509, "body": "I&#39;ve seen you updated your question, but you&#39;ve made it all the more confusing (e.g. by saying you only have <code>$key</code>, but that you want to use <code>$ID</code> and <code>$value</code>). I repeat: show your inputs or the desired output for those inputs. I&#39;ve demonstrated how to do this in my answer. Tag me in a comment when you do, and I&#39;ll update my answer."}, {"owner": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476660931, "post_id": 40052311, "comment_id": 67426374, "body": "@ikegami , I think I have been able to supply what you asked, is this a sensible approach? Is this doing what I think it to be doing? Next I&#39;ll run some test-cases in my environment to see."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1476491338, "post_id": 40052607, "comment_id": 67383320, "body": "this is how to do it, but I&#39;m confident that if/when the OP provides real input data, this&#39;ll be updated to reflect it."}, {"owner": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "edited": false, "score": 0, "creation_date": 1476648800, "post_id": 40052607, "comment_id": 67423062, "body": "It be nice to take the key to be an ID#"}, {"owner": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "edited": false, "score": 0, "creation_date": 1476649001, "post_id": 40052607, "comment_id": 67423134, "body": "It be nice to take the key to be an ID# then for the ID# set a parameter like &quot;test_one_passed&quot;, then set a value to it to begin = 0 but the textfile or input would only provide the ID#, and by default i&#39;d begin with just this &quot;test_one_passed&quot;, but later populate the hash such that the ID would have to pass more tests."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476649041, "post_id": 40052607, "comment_id": 67423143, "body": "No idea what you mean. See how I provided the inputs and the desired outputs? Edit your question to provide the correct versions of these."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1476493715, "last_edit_date": 1476493715, "creation_date": 1476482367, "answer_id": 40052607, "question_id": 40052311, "link": "https://stackoverflow.com/questions/40052311/perl-populating-a-hash-from-a-subroutine-call-on-file-input-array-input-or-no/40052607#40052607", "title": "perl, populating a hash from a subroutine call on file input, array input, or no input", "body": "<p>It's unclear what you want.</p>\n\n<p>To produce</p>\n\n<pre><code>{\n    key1 =&gt; {\n        parameter1 =&gt; 0,\n        parameter2 =&gt; 0,\n    },\n    key2 =&gt; {\n        parameter1 =&gt; 0,\n        parameter2 =&gt; 1,\n    },\n}\n</code></pre>\n\n<p>given</p>\n\n<pre><code>my @rows = (\n    [ 'key1', 0, 0 ],\n    [ 'key2', 0, 1 ],\n);\n</code></pre>\n\n<p>you want</p>\n\n<pre><code>$self-&gt;{$key}{parameter1} = $parameter;\n$self-&gt;{$key}{parameter2} = $parameter2;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$self-&gt;{_ToolParameters}{$key}{parameter1} = $parameter;\n$self-&gt;{_ToolParameters}{$key}{parameter2} = $parameter2;\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 40052607, "answer_count": 1, "score": -1, "last_activity_date": 1476660738, "creation_date": 1476480677, "last_edit_date": 1476660738, "question_id": 40052311, "link": "https://stackoverflow.com/questions/40052311/perl-populating-a-hash-from-a-subroutine-call-on-file-input-array-input-or-no", "title": "perl, populating a hash from a subroutine call on file input, array input, or no input", "body": "<p>I made the class as follows:</p>\n\n<pre><code>package Tool;\n\nsub new {\n\n  my ( $class, %args ) = @ARG;\n\n  my $self = bless {\n  #hash reference  \n    _ToolParameters =&gt; { }\n\n  }, $class;\n\n  return $self;\n\n}\n</code></pre>\n\n<p>I then want to create an instance of this class:</p>\n\n<pre><code>my $Object = Tool-&gt;new();\n</code></pre>\n\n<p>then, I'd like to read from a textfile or array to populate the hash and call it as follows:</p>\n\n<pre><code>from an array:    $Object-&gt;ImportData(\\@Arraylist);\nfrom a textfile:  $Object-&gt;ImportData(textfile.csv);\n</code></pre>\n\n<p>in this function ImportData, I would like to read my key from an array list which will strictly be the ID#, or from the CSV file, it'd be strictly the first column that is the ID# or to be able to insert the values manually:</p>\n\n<p>*I want it such that the ID# = the key.</p>\n\n<p>I'm thinking of also generating at least one parameter field for this key by default, and assigning it a default value 0.</p>\n\n<p>Basically when I return from this list I'll have something suggested by ikegami earlier, like:</p>\n\n<pre><code>$self-&gt;{_ToolParameters}{$ID#1}{test_parameter_1} = $value;\n$self-&gt;{_ToolParameters}{$ID#2}{test_parameter_1} = $value;\n</code></pre>\n\n<p>If I'm accepting an array, the input is as follows:</p>\n\n<pre><code>@Arraylist = (key1 ,..., keyN);\n</code></pre>\n\n<p>as this is part of a larger program, I plan to run each key through a series of a number of 'X' test-suites, these test suites I plan to give the name \"parameterX\", X being the number of the test-suite. I take the first test-suite as given, so my desired output should be that in the object, i'd have by default (before pushing on any more parameters):</p>\n\n<pre><code>*the default value for the 'value' is zero, because I have not run the testsuite, I am just initializing the field\n\nkey1 -&gt; first_test -&gt;0\nkey2 -&gt; first_test -&gt;0\n.\n.\nkeyN -&gt;     first_test -&gt;            0\n(key)  (test_parameter_1)  (value of test_parameter_1)\n</code></pre>\n\n<p>I want this returned to the object such that I can later pass more tests into the hash, such that for example I can have:</p>\n\n<pre><code>key1 -&gt; first_test -&gt; 0\n     -&gt; second_test -&gt; 0\n</code></pre>\n\n<p>Similarly, from the textfile, all I care about are the columns which represent the keys, or IDs.</p>\n\n<p>I guess my confusion was how to make this assignment reliably such that I have an object that contains a list of expandable valued pairings, but writing this out helped me resolve much of it.</p>\n\n<p>This is where I require some guidance.</p>\n\n<pre><code>sub ImportData{\n my $a = shift;\n\n if($a eq /*.csv$/i )\n{ #textfile case\n\n  my @get_first_col = some kind of column dump; #keys, probably a while loop\n\n  foreach $key (@get_first_col)\n  {\n  push($self-&gt;{_ToolParameters}{$key}{test_parameter_1} = 0);\n  }\n}\nelseif($a)\n{ #array case - want to reliably check if we're handling an array\n  foreach (@{a})\n  {\n  push($self-&gt;{_ToolParameters}{$_}{test_parameter_1} = 0);\n  }\n}\nelse\n{#case of manual input\nmy $a = &lt;STDIN&gt;\npush($self-&gt;{_ToolParameters}{$_}{test_parameter_1} = 0);\n}\n\n}\n</code></pre>\n"}, {"tags": ["python", "linux", "bash", "perl", "ssh"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476477939, "post_id": 40051576, "comment_id": 67379584, "body": "To avoid keying in a password on every ssh connect you could put your local user&#39;s public ssh key (like <code>~&#47;.ssh&#47;id_rsa.pub</code>) into the remote user&#39;s <code>.ssh&#47;autorized_keys</code> file. Then do e.g. <code>ssh remote_user@remote_host &quot;show controllers&quot;</code>. Doesn&#39;t that work for you?"}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1476477987, "post_id": 40051576, "comment_id": 67379614, "body": "Library recommendations are specifically off-topic here. Please review the <a href=\"https://stackoverflow.com/help/on-topic\">help center</a> for what topics can be asked here. And your question is quite broad anyway. Having said all that, one possible library that may help is <a href=\"https://pexpect.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\">pyexpect</a> which will allow you to initate your ssh, run commands and get the output. Good luck!"}, {"owner": {"reputation": 1, "user_id": 7020979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f4c870e49157f5ff8daf62cedab330?s=128&d=identicon&r=PG&f=1", "display_name": "L0krin", "link": "https://stackoverflow.com/users/7020979/l0krin"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1476478356, "post_id": 40051576, "comment_id": 67379780, "body": "@PerlDuck The remote system isn&#39;t running a full Linux shell, it is a custom shell written for the Controller itself. The shell doesn&#39;t give me any filesystem level access at all, so adding the keys in the remote system is unfortunately not an option. That is however, how I have been getting information from the Linux servers in the rack."}, {"owner": {"reputation": 703, "user_id": 4933101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IOgbt.png?s=128&g=1", "display_name": "Ben Beirut", "link": "https://stackoverflow.com/users/4933101/ben-beirut"}, "edited": false, "score": 0, "creation_date": 1476480570, "post_id": 40051576, "comment_id": 67380628, "body": "<a href=\"http://andre.frimberger.de/index.php/linux/reading-ssh-password-from-stdin-the-openssh-5-6p1-compatible-way/\" rel=\"nofollow noreferrer\">This blog post</a> shows a way to <i>insecurely</i> pipe a password to ssh."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7020979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f4c870e49157f5ff8daf62cedab330?s=128&d=identicon&r=PG&f=1", "display_name": "L0krin", "link": "https://stackoverflow.com/users/7020979/l0krin"}, "edited": false, "score": 0, "creation_date": 1476733499, "post_id": 40055963, "comment_id": 67461575, "body": "I used &quot;snmpwalk&quot; and then searched the output for known values such as Serial numbers pulled from the XML files I had dumped, and nothing came up. Unfortunately the system has a very limited number of SNMP objects.   I decided to give sshpass a try, and it wouldn&#39;t even authenticate. I tested on a plain Linux server, and it worked just fine, so something is different about this Storage Controller&#39;s CLI."}, {"owner": {"reputation": 42, "user_id": 3974408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d65fb85e1946e22a5d36db6d84fd7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Paranoid", "link": "https://stackoverflow.com/users/3974408/paranoid"}, "reply_to_user": {"reputation": 1, "user_id": 7020979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f4c870e49157f5ff8daf62cedab330?s=128&d=identicon&r=PG&f=1", "display_name": "L0krin", "link": "https://stackoverflow.com/users/7020979/l0krin"}, "edited": false, "score": 0, "creation_date": 1476746824, "post_id": 40055963, "comment_id": 67467028, "body": "A quick search revealed <a href=\"https://crc.dothill.com/access/content/group/CRC/Documentation/AssuredSAN%20Ultra48%20Series/DH_RAIDar_UG_83-00006696-11-01-A.pdf\" rel=\"nofollow noreferrer\">this document</a> for an AssuredSAN 4004. Look at page 130 onwards. It describes the FA MIB 2.2 that should also apply to your equipment. You wont reach this MIB with a standard snpwalkm you will have to know its location to query it."}], "tags": [], "owner": {"reputation": 42, "user_id": 3974408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d65fb85e1946e22a5d36db6d84fd7d2?s=128&d=identicon&r=PG&f=1", "display_name": "Paranoid", "link": "https://stackoverflow.com/users/3974408/paranoid"}, "is_accepted": false, "score": 0, "last_activity_date": 1476514247, "creation_date": 1476514247, "answer_id": 40055963, "question_id": 40051576, "link": "https://stackoverflow.com/questions/40051576/serial-numbers-from-a-storage-controller-over-ssh/40055963#40055963", "title": "Serial Numbers from a Storage Controller over SSH", "body": "<p>Have a look at SNMP. There is a reasonable chance that you can use SNMP tools to remotely extract the information you need. The manufacturer should be able to provide you with the MIBs.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7020979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f4c870e49157f5ff8daf62cedab330?s=128&d=identicon&r=PG&f=1", "display_name": "L0krin", "link": "https://stackoverflow.com/users/7020979/l0krin"}, "is_accepted": true, "score": 0, "last_activity_date": 1478616097, "last_edit_date": 1478616097, "creation_date": 1476968458, "answer_id": 40155209, "question_id": 40051576, "link": "https://stackoverflow.com/questions/40051576/serial-numbers-from-a-storage-controller-over-ssh/40155209#40155209", "title": "Serial Numbers from a Storage Controller over SSH", "body": "<p>I ended up contacting the Manufacturer and asking my question. They said that the system isn't setup for connecting without a password, and their SNMP is very basic and won't provide the information I need. They said to connect to the system with FTP and use \"get logs \" to download an archive of the configuration and logs. Not exactly ideal as it takes 4 minutes just to run that one command but it seems to be my only option. Below is the script I wrote to retrieve the file automatically by adding the login credentials to the .netrc file. This works on RHEL 6.7:</p>\n\n<pre><code>#!/bin/bash\n#Retrieve the logs and configuration from a Dot Hill Systems AssuredSAN 3824 automatically.\n#Modify \"LINE\" and \"HOST\" to fit your configuration.\nLINE='machine &lt;IP&gt; login manage password &lt;password&gt;'\nHOST='&lt;IP&gt;'\nAUTOLOGIN=\"/root/.netrc\"\nFILE='logfiles.zip'\n#Check for and verify the autologin file\nif [ -f $AUTOLOGIN ]; then\n    printf \"Found auto-login file, checking for proper entry... \\r\"\n    READLINE=`cat $AUTOLOGIN | grep \"$LINE\"`\n    #Append the line to the end of .netrc if file exists but not the line.\n    if [ \"$LINE\" != \"$READLINE\" ]; then\n        printf \"Proper entry not found, creating it...                       \\r\"\n        echo \"$LINE\" &gt;&gt; \"$AUTOLOGIN\"\n    else\n        printf \"Proper entry found...                                        \\r\"\n    fi\n#Create the Autologin file if it doesn't exist\nelse\n    printf \"Auto-Login file does not exist, creating it and setting permissions...\\r\"\n    echo \"$LINE\" &gt; \"$AUTOLOGIN\"\n    chmod 600 \"$AUTOLOGIN\"\nfi\n#Start getting the information from the controller. (This takes a VERY long time)\nprintf \"Retrieving Storage Controller data, this will take awhile...              \\r\"\nftp $HOST &lt;&lt; SCRIPT\nget logs $FILE\nSCRIPT\nexit 0\n</code></pre>\n\n<p>This gave me a bunch of files in the zip, but all I needed was the \"store_....logs\" file. It was about 500,000 lines long, the first portion is the entire configuration in XML format, then the configuration in text format, followed by the logs from the system. I parsed the file and stripped off the logs at the end which cut the file down to 15,000 lines. From there I divided it into two files (config.xml and config.txt). I then pulled the XML output of the 3 commands that I needed and it to the 3 files my previously written script searches for. Now my inventory script pulls in everything it needs, albeit pretty slow due to waiting 4 minutes for the system to generate the zip file. I hope this helps someone in the future.  </p>\n\n<p><strong>Edit:</strong><br>\nWaiting 4 minutes for the system to compile was taking too long. So I ended up using paramiko and python scripts to dump output from the commands to files that my other code can parse. It accepts the IP of the Controller as a parameter. Here is the script for those interested. Thank you again for all the help.</p>\n\n<pre><code>#!/usr/bin/env python\n#Saves output of \"show disks\" from the storage Controller to an XML file.\n\nimport paramiko\nimport sys\nimport re\nimport xmltodict\n\nIP = sys.argv[1]\nUSERNAME = \"manage\"\nPASSWORD = \"password\"\nFILENAME = \"./logfiles/disks.xml\"\n\ncmd = \"show disks\"\n\nclient = paramiko.SSHClient()\nclient.set_missing_host_key_policy(paramiko.AutoAddPolicy())\ntry:\n        client.connect(IP,username=USERNAME,password=PASSWORD)\n        stdin, stdout, stderr = client.exec_command(cmd)\nexcept Exception as e:\n        sys.exit(1)\n\ndata = \"\"\nfor line in stdout:\n    if re.search('#', line):\n        pass\n    else:\n        data += line\nclient.close()\n\nf = open(FILENAME, 'w+')\nf.write(data)\nf.close()\n\nsys.exit(0)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7020979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f4c870e49157f5ff8daf62cedab330?s=128&d=identicon&r=PG&f=1", "display_name": "L0krin", "link": "https://stackoverflow.com/users/7020979/l0krin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 40155209, "answer_count": 2, "score": -1, "last_activity_date": 1478616097, "creation_date": 1476477272, "question_id": 40051576, "link": "https://stackoverflow.com/questions/40051576/serial-numbers-from-a-storage-controller-over-ssh", "title": "Serial Numbers from a Storage Controller over SSH", "body": "<p><strong>Background</strong> <br>\nI'm working on a bash script to pull serial numbers and part numbers from all the devices in a server rack, my goal is to be able to run a single script (inventory.sh) and walk away while it generates text files containing the information I need. I'm using bash for maximum compatibility, the RHEL 6.7 systems do have Perl and Python installed, however they have minimal libraries. So far I haven't had to use anything other than bash, but I'm not against calling a Perl or Python script from my bash script. </p>\n\n<p><strong>My Problem</strong><br>\nI need to retrieve the Serial Numbers and Part numbers from the drives in a Dot Hill Systems AssuredSAN 3824, as well as the Serial numbers from the equipment inside. The only way I have found to get all the information I need is to connect over SSH and run the following three commands dumping the output to a local file:</p>\n\n<ul>\n<li>show controllers</li>\n<li>show frus</li>\n<li>show disks</li>\n</ul>\n\n<p><strong>Limitations:</strong></p>\n\n<ul>\n<li>I don't have \"sshpass\" installed, and would prefer not to install it.</li>\n<li>The Controller is not capable of storing SSH keys ( no option in custom shell).</li>\n<li>The Controller also cannot write or transfer local files.</li>\n<li>The Rack does NOT have access to the Internet.</li>\n<li>I looked at paramiko, but while Python is installed I do not have pip.</li>\n<li>I also cannot use CPAN.</li>\n<li>For what its worth, the output comes back in XML format. (I've already written the code to parse it in bash)</li>\n</ul>\n\n<p>Right now I think my best option would be to have a library for Python or Perl in the folder with my other scripts, and write a script to dump the commands' output to files that I can parse with my bash script. Which language is easier to just provide a library in a file? I'm looking for a library that is as small and simple as possible to use. I just need a way to get the output of those commands to XML files. Right now I am just using ssh 3 times in my script and having to enter the password each time. </p>\n"}, {"tags": ["git", "perl", "cpan", "git-bash"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1476478711, "post_id": 40051377, "comment_id": 67379910, "body": "what version of perl? what OS? what other modules did you try? for <code>XML::Simple</code>, did you read <a href=\"https://metacpan.org/pod/XML::Simple#STATUS-OF-THIS-MODULE\" rel=\"nofollow noreferrer\">this</a> notice by the author?"}, {"owner": {"reputation": 813, "user_id": 5905741, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a6e7c1693885bd7f2750850a23fc4c94?s=128&d=identicon&r=PG&f=1", "display_name": "amitmah", "link": "https://stackoverflow.com/users/5905741/amitmah"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1476482736, "post_id": 40051377, "comment_id": 67381368, "body": "mingw64 is git bash shell in windows 8.1, by the way the same module works in Linux."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1476482872, "post_id": 40051377, "comment_id": 67381418, "body": "This happened to me a lot recently with cygwin on a new laptop with Windows 10. Eventually it stopped doing this. Sorry I don&#39;t know why it happened or why it stopped. Manual download and install should work (though it will be a pain to deal with each dependency yourself), unless it is &quot;not working&quot; in a different way."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1476486117, "post_id": 40051377, "comment_id": 67382231, "body": "@mob I don&#39;t have a win10 box, but would something like this work? <code>wget https:&#47;&#47;cpan.metacpan.org&#47;authors&#47;id&#47;M&#47;MI&#47;MIROD&#47;XML-Twig-3.4&zwnj;&#8203;9.tar.gz</code>, then the typical <code>perl Makefile.PL &amp;&amp; make &amp;&amp; make test &amp;&amp; make install</code>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1476486261, "post_id": 40051377, "comment_id": 67382269, "body": "That&#39;s the basic idea. There are still a lot of ways it can go wrong (other Perl dependencies, missing libraries, broken tool chain, module ultimately not supported on Cygwin, ...)"}], "answers": [{"tags": [], "owner": {"reputation": 813, "user_id": 5905741, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a6e7c1693885bd7f2750850a23fc4c94?s=128&d=identicon&r=PG&f=1", "display_name": "amitmah", "link": "https://stackoverflow.com/users/5905741/amitmah"}, "is_accepted": true, "score": 2, "last_activity_date": 1490738953, "creation_date": 1490738953, "answer_id": 43080844, "question_id": 40051377, "link": "https://stackoverflow.com/questions/40051377/mingw64-shell-perl-cpan-does-not-work-for-any-module/43080844#43080844", "title": "mingw64 shell perl CPAN does not work for any module", "body": "<p>After much discussion found no solution to this and it seems the Mingw/git bash shell does not support all the CPAN modules, even though the same works fine from Linux boxes and I was able to use it from local Virtual Box setup.</p>\n"}, {"tags": [], "owner": {"reputation": 652, "user_id": 613651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cba67334db5dcc4c729dbbd766b700d3?s=128&d=identicon&r=PG", "display_name": "Keith Tyler", "link": "https://stackoverflow.com/users/613651/keith-tyler"}, "is_accepted": false, "score": 1, "last_activity_date": 1525365674, "creation_date": 1525365674, "answer_id": 50160041, "question_id": 40051377, "link": "https://stackoverflow.com/questions/40051377/mingw64-shell-perl-cpan-does-not-work-for-any-module/50160041#50160041", "title": "mingw64 shell perl CPAN does not work for any module", "body": "<p>Git Bash installs perl along with /usr/bin/core_perl/cpan, but it doesn't actually come with the CPAN:: module.</p>\n\n<p>There's a lot about Git Bash I'm starting to hate in regards to how it <em>looks</em> like it supports something even when it doesn't. It's like someone took a pocket knife to a perfectly good MINGW install and sliced it up like a rotten apple.</p>\n\n<p>They even copied <code>cygpath</code> into their install so that people could convert paths. It's really starting to look like the sensible thing is to just install Cygwin and give up on Git Bash.</p>\n"}], "owner": {"reputation": 813, "user_id": 5905741, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a6e7c1693885bd7f2750850a23fc4c94?s=128&d=identicon&r=PG&f=1", "display_name": "amitmah", "link": "https://stackoverflow.com/users/5905741/amitmah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1523, "favorite_count": 0, "accepted_answer_id": 43080844, "answer_count": 2, "score": 3, "last_activity_date": 1525365674, "creation_date": 1476476360, "last_edit_date": 1476482779, "question_id": 40051377, "link": "https://stackoverflow.com/questions/40051377/mingw64-shell-perl-cpan-does-not-work-for-any-module", "title": "mingw64 shell perl CPAN does not work for any module", "body": "<pre><code>$ perl -MCPAN -e 'install XML::Simple'\n\nReading '/u/.cpan/Metadata'\n  Database was generated on Fri, 14 Oct 2016 19:29:02 GMT\nRunning install for module 'XML::Simple'\nChecksum for /u/.cpan/sources/authors/id/G/GR/GRANTM/XML-Simple-2.22.tar.gz ok\ndirectory tmp-9128 changed before chdir, expected dev=235194353 ino=7590237479028601933, actual dev=235194353 ino=15919093302750535503, aborting. at /usr/share/perl5/core_perl/CPAN/Distribution.pm line 623.\n</code></pre>\n\n<p>Please suggest any solution, even manually download and install is not working.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1476470387, "post_id": 40050006, "comment_id": 67375924, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/7486470/how-to-parse-a-string-into-a-datetime-object-in-perl\">How to parse a string into a DateTime object in Perl?</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1476470645, "post_id": 40050006, "comment_id": 67376049, "body": "It&#39;s not an exact duplicate; this question doesn&#39;t require DateTime objects per se."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1476470796, "post_id": 40050006, "comment_id": 67376133, "body": "... and the linked post doesn&#39;t at all refer to how to get distance"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1476471101, "post_id": 40050130, "comment_id": 67376310, "body": "This will give the wrong answer if the time stamps are local times."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 0, "last_activity_date": 1476471310, "last_edit_date": 1476471310, "creation_date": 1476470896, "answer_id": 40050130, "question_id": 40050006, "link": "https://stackoverflow.com/questions/40050006/perl-calculating-duration-between-timestamps/40050130#40050130", "title": "perl: calculating duration between timestamps", "body": "<p>Here's one way, using the <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a> module, which comes with Perl:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Time::Piece;\n\nmy $str1 = '2016-09-29 10:02:29';\nmy $str2 = '2016-09-29 10:05:45';\n\nmy $format = '%Y-%m-%d %H:%M:%S';\nmy $t1 = Time::Piece-&gt;strptime($str1, $format);\nmy $t2 = Time::Piece-&gt;strptime($str2, $format);\n\nmy $seconds = ($t2 - $t1)-&gt;seconds;\nprint \"Result: $seconds\\n\";\n</code></pre>\n\n<p>This code doesn't take the local timezone into account, i.e. it assumes the times are in UTC.</p>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476471581, "post_id": 40050257, "comment_id": 67376560, "body": "Note that the <code>localtime-&gt;strptime(...)</code> form is undocumented and not officially supported."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1476471786, "post_id": 40050257, "comment_id": 67376669, "body": "@melpomene, Half right. It&#39;s true that this crucial piece of T::P isn&#39;t documented -- feel free to submit a patch -- but this functionality is explicitly supported. Personally, I despise the module."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476471836, "post_id": 40050257, "comment_id": 67376701, "body": "What do you mean by explicitly supported?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476471951, "post_id": 40050257, "comment_id": 67376764, "body": "There&#39;s code whose sole purpose to support this functionality."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476472373, "post_id": 40050257, "comment_id": 67376995, "body": "You could argue that, but that might be a leftover experiment and removed in a future release (that&#39;s why I don&#39;t like peeking at the source and relying on implementation details). But I did find something else: There&#39;s a test that calls <code>localtime-&gt;strptime</code>. Now I like it much better."}, {"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1476601017, "post_id": 40050257, "comment_id": 67409011, "body": "after looking at <a href=\"http://search.cpan.org/~drolsky/DateTime-Format-Strptime-1.68/lib/DateTime/Format/Strptime.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~drolsky/DateTime-Format-Strptime-1.68/lib/&hellip;</a>&zwnj;&#8203;, i&#39;ve changed to patttern instead of format and it seems to work now"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476805221, "post_id": 40050257, "comment_id": 67496515, "body": "Fixed the typo."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1476602138, "last_edit_date": 1476602138, "creation_date": 1476471451, "answer_id": 40050257, "question_id": 40050006, "link": "https://stackoverflow.com/questions/40050006/perl-calculating-duration-between-timestamps/40050257#40050257", "title": "perl: calculating duration between timestamps", "body": "<p>Using <a href=\"http://search.cpan.org/perldoc?DateTime\" rel=\"nofollow\">DateTime</a> (and <a href=\"http://search.cpan.org/perldoc?DateTime::Format::Strptime\" rel=\"nofollow\">DateTime::Format::Strptime</a>):</p>\n\n<pre><code>use DateTime::Format::Strptime qw( );\n\nmy $str1 = '2016-09-29 10:02:29';\nmy $str2 = '2016-09-29 10:05:45';\n\nmy $format = DateTime::Format::Strptime-&gt;new(\n   pattern   =&gt; '%Y-%m-%d %H:%M:%S',\n   time_zone =&gt; 'local',  # If they are local time timestamps\n      -or-\n   time_zone =&gt; 'UTC',    # If they are UTC timestamps\n   on_error  =&gt; 'croak',\n);\n\nmy $dt1 = $format-&gt;parse_datetime($str1);\nmy $dt2 = $format-&gt;parse_datetime($str2);\n\nmy $seconds = $dt2-&gt;delta_ms($dt1)-&gt;in_units('seconds');\n</code></pre>\n\n<hr>\n\n<p>Using <a href=\"http://search.cpan.org/perldoc?Time::Piece\" rel=\"nofollow\">Time::Piece</a>:</p>\n\n<pre><code>use Time::Piece qw( localtime );\n\nmy $str1 = '2016-09-29 10:02:29';\nmy $str2 = '2016-09-29 10:05:45';\n\nmy $format = '%Y-%m-%d %H:%M:%S';\n\nmy $t1 = Time::Piece-&gt;strptime($str1, $format);  # If they are UTC timestamps\nmy $t2 = Time::Piece-&gt;strptime($str2, $format);  # \n  -or-\nmy $t1 = localtime-&gt;strptime($str1, $format);    # If they are local time timestamps\nmy $t2 = localtime-&gt;strptime($str2, $format);    #\n\nmy $seconds = ($t2 - $t1)-&gt;seconds;\n</code></pre>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 1, "accepted_answer_id": 40050257, "answer_count": 2, "score": 0, "last_activity_date": 1476602138, "creation_date": 1476470324, "last_edit_date": 1476601039, "question_id": 40050006, "link": "https://stackoverflow.com/questions/40050006/perl-calculating-duration-between-timestamps", "title": "perl: calculating duration between timestamps", "body": "<p>I have a series of string pairs</p>\n\n<pre><code>$str1 = '2016-09-29 10:02:29';\n$str2 = '2016-09-29 10:05:45';\n</code></pre>\n\n<p>the first string is always before the second\nI would like to calucate how much seconds have passed between the two timestamps</p>\n\n<p>the above would be 196 seconds</p>\n\n<p>is there a quick way to calculate the difference between two timestamps?</p>\n\n<p>(obsolete) Update: I wrote the following code and i m getting this error</p>\n\n<pre><code>my $format = DateTime::Format::Strptime-&gt;new(\n   format    =&gt; '%Y-%m-%d %H:%M:%S',\n   time_zone =&gt; 'UTC',\n   on_error  =&gt; 'croak',\n);\n\nThe following parameter was passed in the call to DateTime::Format::Strptime::new but was not listed in the validation options: format\n at /usr/software/lib/perl5/site_perl/5.8.8/DateTime/Format/Strptime.pm line 130.\n    DateTime::Format::Strptime::new(undef, 'format', '%Y-%m-%d %H:%M:%S', 'time_zone', 'UTC', 'on_error', 'croak') called at ./show_startup.pl line 150\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 1, "creation_date": 1476470048, "post_id": 40049853, "comment_id": 67375772, "body": "You have both <code>%Ds</code> and <code>@Ds</code>. You assign to <code>%Ds</code> but <code>@Ds</code> is still empty. <code>$Ds[1]</code> selects a value from <code>@Ds</code>, which is undefined of course because there&#39;s nothing in there. <code>@DDs</code> becomes an array containing 1 scalar, which is undefined. <code>$DDs[0]</code> is that undefined scalar."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476470178, "post_id": 40049853, "comment_id": 67375825, "body": "Naming variables with numeric suffixes (<code>%dot1</code>, <code>%dot2</code>) is a major code smell. Can you please explain what exactly you&#39;re trying to achieve? There&#39;s almost certainly a cleaner way to do it."}, {"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476470794, "post_id": 40049853, "comment_id": 67376130, "body": "@ThisSuitIsBlackNot, the numeric suffixes are not meant to be used in the final version, just testing out this particular method. Trying to create a &quot;family&quot; of items with serveral properties (for testing, I chose points with x,y coordinates and a radius). These item hashes are grouped into a family array (two items in the test). Families belong to &quot;groups&quot;. Trying to run tests on item properties against those in groups, some families of items are then allowed to be pushed into the group. ."}], "answers": [{"comments": [{"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 1, "creation_date": 1476472086, "post_id": 40050190, "comment_id": 67376837, "body": "Very grateful for the detailed explanations @Schwern. I saw the {} mistake in the hash definitions and edited the question. Then I eventually notice that I had %Ds when I wanted to use an array - went through the code line by line and just couldn&#39;t see it till well after posting the question. I now see the @DDs=@{$Dx[1]} part. Thank you so much. Nested data structure chapter very helpful."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 6, "last_activity_date": 1476472137, "last_edit_date": 1476472137, "creation_date": 1476471168, "answer_id": 40050190, "question_id": 40049853, "link": "https://stackoverflow.com/questions/40049853/perl-array-and-hash/40050190#40050190", "title": "Perl: array and hash", "body": "<blockquote>\n  <p><em>Reference found where even-sized list expected at /Users/schwern/tmp/test.plx line 10.</em></p>\n</blockquote>\n\n<p>Line 10 is this:</p>\n\n<pre><code>my %dot1 = {'x'=&gt;1,'y'=&gt;2,'r'=&gt;3};\n</code></pre>\n\n<p>This is Perl's cryptic way of saying you fed a hash reference to a hash. Perl, unfortunately, distinguishes very strongly between things and references to that thing.</p>\n\n<p><code>%dot1</code> is a hash. It takes a list and turns it into a hash. A list like <code>( x =&gt; 1, y =&gt; 2, r =&gt; 3)</code>.  <code>{ x =&gt; 1, y =&gt; 2, r =&gt; 3 }</code> creates a hash reference. That's a single thing, a scalar. It's like saying <code>my %dot1 = (42)</code>. It doesn't make any sense.</p>\n\n<ul>\n<li>%dot1 is a hash, it wants a list like <code>(x =&gt; 1, y =&gt; 2)</code></li>\n<li>$dot1 is a scalar, it can store a hash reference like <code>{ x =&gt; 1, y =&gt; 2 }</code>.</li>\n</ul>\n\n<hr>\n\n<pre><code>my %Ds = (\\@dotsA,\\@dotsB,\\@dotsC,\\@dotsD);\n</code></pre>\n\n<p>A hash requires a key and a value, pairs.  <code>last_name =&gt; \"Schwern\"</code>.  When you give it a bunch of array references like that, it will read them as key1, value1, key2, value2... but what is it using as the key? It's using the stringification of that reference, something like <code>ARRAY(0x7fb721800468)</code>.</p>\n\n<p>If you asked for <code>$D{\\@dotsA}</code> you'll get back a reference to <code>@dotsB</code>. You will not be able to get <code>@dotsA</code> back, a Perl hash key is just a string, not a reference.</p>\n\n<p>This isn't a very good way to store an array in a hash. I'm not sure what you're trying to accomplish, but you probably want to reference them by name.</p>\n\n<pre><code># A hash of lists.\nmy %Ds = ( A =&gt; \\@dotsA, B =&gt; \\@dotsB, C =&gt; \\@dotsC, D =&gt; \\@dotsD );\n\n# Get back a reference to @dotsA.\nmy $dotsA = $Ds{A};\n</code></pre>\n\n<p>But looking at the following code, <code>@DDs = $Ds[1];</code>, I think you meant to initialize <code>@Ds</code> instead of <code>%Ds</code>.</p>\n\n<pre><code>@Ds = (\\@dotsA,\\@dotsB,\\@dotsC,\\@dotsD);\n</code></pre>\n\n<p>And now the following works... sort of. More later.</p>\n\n<pre><code>@DDs = $Ds[1]; #expect @dotsB with scalar of 2\n</code></pre>\n\n<p>Unlike in PHP, hashes and arrays are totally different things. <code>my @Ds</code> and <code>my %Ds</code> declare totally different variables. It doesn't help that you access them both with <code>$Ds</code>. In Perl5, the sigil indicates what's going to get returned. <code>$Ds[1]</code> and <code>$Ds{foo}</code> both use <code>$Ds</code> because they're returning a scalar. <code>@Ds[1,2]</code> and <code>@Ds{(foo, bar)}</code> use <code>@Ds</code> because they're returning a list (known as a slice). Confusing, but that's how it works.</p>\n\n<hr>\n\n<pre><code>@DDs = $Ds[1]; #expect @dotsB with scalar of 2\n</code></pre>\n\n<p>You're not getting <code>@dotsB</code>, you're getting a reference to <code>@dotsB</code>. All complex data structures in Perl store references, not the actual value.  This is like <code>$DDs[0] = \\@dotsB</code>.  If you want to get the actual value you have to dereference it.</p>\n\n<pre><code>@DDs = @{$Ds[1]};  # Now @DDs has a copy of @dotsB\n</code></pre>\n\n<hr>\n\n<p>And finally it works.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse v5.10;    # for say()\n\nmy %dot1 = ('x'=&gt;1,'y'=&gt;2,'r'=&gt;3);\nmy %dot2 = ('x'=&gt;4,'y'=&gt;5,'r'=&gt;6);\nmy %dot3 = ('x'=&gt;7,'y'=&gt;8,'r'=&gt;9);\nmy %dot4 = ('x'=&gt;1.1,'y'=&gt;1.2,'r'=&gt;1.3);\nmy %dot5 = ('x'=&gt;2.1,'y'=&gt;2.2,'r'=&gt;2.3);\nmy %dot6 = ('x'=&gt;3.1,'y'=&gt;3.2,'r'=&gt;3.3);\nmy %dot7 = ('x'=&gt;4.1,'y'=&gt;4.2,'r'=&gt;4.3);\nmy %dot8 = ('x'=&gt;5.1,'y'=&gt;5.2,'r'=&gt;5.3);\n\nmy @dotsA = (\\%dot1,\\%dot2);\nmy @dotsB = (\\%dot3,\\%dot4);\nmy @dotsC = (\\%dot5,\\%dot6);\nmy @dotsD = (\\%dot7,\\%dot8);\n\nmy @Ds = (\\@dotsA,\\@dotsB,\\@dotsC,\\@dotsD);\nmy @DDs = @{$Ds[1]}; #expect @dotsB\n\nmy %hsh = %{$DDs[0]}; #expect %dot3\n\nsay scalar @DDs; #expect 2\nsay $hsh{'x'};\n</code></pre>\n\n<hr>\n\n<p>I would also advise that you get comfortable working directly with references since that's what complex data structures are: references. Converting back and forth from references to values is confusing. Working with references is one less thing to convert in your code, in your head, and less copying done in your program.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse v5.10;    # for say()\n\nmy $dot1 = {'x'=&gt;1,'y'=&gt;2,'r'=&gt;3};\nmy $dot2 = {'x'=&gt;4,'y'=&gt;5,'r'=&gt;6};\nmy $dot3 = {'x'=&gt;7,'y'=&gt;8,'r'=&gt;9};\nmy $dot4 = {'x'=&gt;1.1,'y'=&gt;1.2,'r'=&gt;1.3};\nmy $dot5 = {'x'=&gt;2.1,'y'=&gt;2.2,'r'=&gt;2.3};\nmy $dot6 = {'x'=&gt;3.1,'y'=&gt;3.2,'r'=&gt;3.3};\nmy $dot7 = {'x'=&gt;4.1,'y'=&gt;4.2,'r'=&gt;4.3};\nmy $dot8 = {'x'=&gt;5.1,'y'=&gt;5.2,'r'=&gt;5.3};\n\nmy $dotsA = [$dot1,$dot2];\nmy $dotsB = [$dot3,$dot4];\nmy $dotsC = [$dot5,$dot6];\nmy $dotsD = [$dot7,$dot8];\n\nmy $Ds = [$dotsA,$dotsB,$dotsC,$dotsD];\nmy $DDs = $Ds-&gt;[1]; #expect $dotsB\n\nmy $hsh = $DDs-&gt;[0]; #expect $dot3\n\nsay scalar @$DDs; #expect 2\nsay $hsh-&gt;{'x'};\n</code></pre>\n\n<hr>\n\n<p>You should review <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a> and the <a href=\"http://modernperlbooks.com/books/modern_perl_2016/03-perl-language.html#TmVzdGVkRGF0YVN0cnVjdHVyZXM\" rel=\"nofollow\">Nested Data Structures chapter of Modern Perl</a>.</p>\n"}], "owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 40050190, "answer_count": 1, "score": 1, "last_activity_date": 1476478791, "creation_date": 1476469765, "last_edit_date": 1495542275, "question_id": 40049853, "link": "https://stackoverflow.com/questions/40049853/perl-array-and-hash", "title": "Perl: array and hash", "body": "<p>Further to finding an answer to my earlier question <a href=\"https://stackoverflow.com/q/40044519/622310\"><em>Perl: slicing an array of hashes</em></a>, I am stuck again and unable to see what I have done wrong. </p>\n\n<p>What I have is </p>\n\n<p>Array( Array0(Hash0,Hash1),Array1(Hash0,Hash1),Array2(Hash0,Hash1)...)</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @DDs = ();\nmy @Ds  = ();\nmy %hsh = ();\n\nmy %dot1 = ( 'x' =&gt; 1,   'y' =&gt; 2,   'r' =&gt; 3 );\nmy %dot2 = ( 'x' =&gt; 4,   'y' =&gt; 5,   'r' =&gt; 6 );\nmy %dot3 = ( 'x' =&gt; 7,   'y' =&gt; 8,   'r' =&gt; 9 );\nmy %dot4 = ( 'x' =&gt; 1.1, 'y' =&gt; 1.2, 'r' =&gt; 1.3 );\nmy %dot5 = ( 'x' =&gt; 2.1, 'y' =&gt; 2.2, 'r' =&gt; 2.3 );\nmy %dot6 = ( 'x' =&gt; 3.1, 'y' =&gt; 3.2, 'r' =&gt; 3.3 );\nmy %dot7 = ( 'x' =&gt; 4.1, 'y' =&gt; 4.2, 'r' =&gt; 4.3 );\nmy %dot8 = ( 'x' =&gt; 5.1, 'y' =&gt; 5.2, 'r' =&gt; 5.3 );\n\nmy @dotsA = ( \\%dot1, \\%dot2 );\nmy @dotsB = ( \\%dot3, \\%dot4 );\nmy @dotsC = ( \\%dot5, \\%dot6 );\nmy @dotsD = ( \\%dot7, \\%dot8 );\n\nmy %Ds = ( \\@dotsA, \\@dotsB, \\@dotsC, \\@dotsD );\n\n@DDs = $Ds[1];    #expect @dotsB with scalar of 2\n\n###\"Can't use an undefined value as HASH reference\" error here\n%hsh = %{ $DDs[0] };    #expect %dot3\n\nprint scalar @DDs, \"\\n\";    #expect 2 but has value of 1\nprint $hsh{'x'}, \"\\n\";\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1476469232, "post_id": 40049412, "comment_id": 67375338, "body": "You could try add <code>use strict; use warnings;</code> to see issues with your code"}, {"owner": {"reputation": 461, "user_id": 6933790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ef7fb7c460676595845863a65a6461b?s=128&d=identicon&r=PG&f=1", "display_name": "J Reid", "link": "https://stackoverflow.com/users/6933790/j-reid"}, "edited": false, "score": 0, "creation_date": 1476469982, "post_id": 40049412, "comment_id": 67375730, "body": "Have you printed scalar allmatchedlines to confirm there is something there?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476477938, "post_id": 40049412, "comment_id": 67379582, "body": "Can you explain &quot;<i>remove the same lines, and extract only the last field</i>&quot; -- when you remove duplicate lines there may still be more than one line left, correct?  Then the &quot;<i>last field</i>&quot; is from which of those remaining lines?  From the last one?"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1476476823, "post_id": 40051277, "comment_id": 67379091, "body": "Also, that is just <code>map { split } @allmatchedlines;</code>.  This uses the default <code>split &#39; &#39;, $_</code>, where <code>&#39; &#39;</code> in fact matches any amount of whitespace, while <code>&#47; &#47;</code> turns off that special behaviour of the default and matches precisely one space."}], "tags": [], "owner": {"reputation": 542, "user_id": 2687838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67e7177c728a0d69077cbe3d8f65ef6d?s=128&d=identicon&r=PG", "display_name": "Justin Schell", "link": "https://stackoverflow.com/users/2687838/justin-schell"}, "is_accepted": false, "score": 2, "last_activity_date": 1476475869, "creation_date": 1476475869, "answer_id": 40051277, "question_id": 40049412, "link": "https://stackoverflow.com/questions/40049412/perl-find-a-match-remove-the-same-lines-and-to-get-the-last-field/40051277#40051277", "title": "Perl: Find a match, remove the same lines, and to get the last field", "body": "<pre><code>my @uniqmatchedline = split(/ /, @allmatchedlines);\n</code></pre>\n\n<p>You're getting \"1\" because split takes a scalar, not an array.  An array in scalar context returns the number of elements.</p>\n\n<p>You need to split on each individual line.  Something like this:</p>\n\n<pre><code>my @uniqmatchedline = map { split(/ /, $_) } @allmatchedlines;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "is_accepted": false, "score": 1, "last_activity_date": 1476477860, "last_edit_date": 1476477860, "creation_date": 1476477371, "answer_id": 40051597, "question_id": 40049412, "link": "https://stackoverflow.com/questions/40049412/perl-find-a-match-remove-the-same-lines-and-to-get-the-last-field/40051597#40051597", "title": "Perl: Find a match, remove the same lines, and to get the last field", "body": "<p>There are two issues with your code:</p>\n\n<ol>\n<li><p><a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\">split</a> is expecting a scalar value (string) to split on; if you are passing an array, it will convert the array to scalar (which is just the array length)</p></li>\n<li><p>You did not have a way to remove same lines</p></li>\n</ol>\n\n<p>To address these, the following code should work (not tested as no data):</p>\n\n<pre><code>my @allmatchedlines;\n\nopen(output1, \"ssh user1@server1 cat /tmp/myfile.txt |\");\n\nwhile(&lt;output1&gt;) {\n        chomp;\n        @allmatchedlines = $_ if /mysearch/;\n}\nclose(output1);\n\nmy %existing;\nmy @uniqmatchedline = grep !$existing{$_}++, @allmatchedlines;  #this will return the unique lines\n\nmy @lastfields = map { ((split / /, $_)[-1]) . \"\\n\" } @uniqmatchedline ; #this maps the last field in each line into an array\n\nprint for @lastfields;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476487681, "post_id": 40051607, "comment_id": 67382586, "body": "@Young  I updated the answer with the recommended three-argument <code>open</code>, you may want to take a look.  Thank you for the attribution."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1476896910, "last_edit_date": 1495541206, "creation_date": 1476477404, "answer_id": 40051607, "question_id": 40049412, "link": "https://stackoverflow.com/questions/40049412/perl-find-a-match-remove-the-same-lines-and-to-get-the-last-field/40051607#40051607", "title": "Perl: Find a match, remove the same lines, and to get the last field", "body": "<p>Apart from two errors in the code, I find the statement \"<em>remove the same lines and extract only the last field</em>\" unclear. Once duplicate matching lines are removed, there may still be multiple distinct sentences with the pattern. </p>\n\n<p>Until a clarification comes, here is code that picks the last field <em>from the last such sentence</em>.</p>\n\n<pre><code>use warnings 'all';\nuse strict;\n\nuse List::MoreUtils qw(uniq)\n\nmy $file = '/tmp/myfile.txt';\nmy $cmd  = \"ssh user1\\@server1 cat $file\";\n\nopen my $fh, '-|', $cmd  // die \"Error opening $cmd: $!\";  # / \n\nwhile (&lt;$fh&gt;) {\n    chomp;\n    push @allmatchedlines, $_ if /mysearch/;\n}\nclose(output1);\n\nmy @unique_matched_lines = uniq @allmatchedlines;\n\nmy $lastfield = ( split ' ', $unique_matched_lines[-1] )[-1]; \n\nprint $lastfield, \"\\n\";\n</code></pre>\n\n<p>I changed to the three-argument <code>open</code>, with error checking.  Recall that <code>open</code> for a process involves a fork and returns pid, so an \"error\" doesn't at all relate to what happened with the command itself. See <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">open</a>. (The <code># /</code> merely turns off wrong syntax highlighting.) Also note that <code>@</code> under <code>\"...\"</code> indicates an array and thus need be escaped. </p>\n\n<p>The (default) pattern <code>' '</code> used in <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> splits on any amount of whitespace. The regex <code>/ /</code> turns off this behavior and splits on a single space.  You most likely want to use <code>' '</code>.</p>\n\n<p>For more comments please see the original post below.</p>\n\n<hr>\n\n<p>The statement <code>@allmatchedlines = $_ if /mysearch/;</code> on every iteration <em>assigns</em> to the array, overwriting whatever has been in it. So you end up with only the last line that matched <code>mysearch</code>.  You want <code>push @allmatchedlines, $_ ...</code> to get all those lines.</p>\n\n<p>Also, as shown in the answer by <a href=\"https://stackoverflow.com/users/2687838/justin-schell\">Justin Schell</a>, <code>split</code> needs a scalar so it is taking the length of <code>@allmatchedlines</code> &ndash; which is <code>1</code> as explained above. You should have </p>\n\n<pre><code>my @words_in_matched_lines = map { split } @allmatchedlines;\n</code></pre>\n\n<p>When all this is straightened out, you'll have words in the array <code>@uniqmatchedline</code> and if that is the intention then its name is misleading.</p>\n\n<p>To get unique elements of the array you can use the module <a href=\"http://search.cpan.org/~rehsack/List-MoreUtils-0.416/lib/List/MoreUtils.pm\" rel=\"nofollow noreferrer\">List::MoreUtils</a></p>\n\n<pre><code>use List::MoreUtils qw(uniq);\n\nmy @unique_elems = uniq @whole_array;\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 6836881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c145c9cbd56933e6158bc0200bd144f8?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/6836881/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 40051607, "answer_count": 3, "score": 1, "last_activity_date": 1476896910, "creation_date": 1476468104, "last_edit_date": 1476468438, "question_id": 40049412, "link": "https://stackoverflow.com/questions/40049412/perl-find-a-match-remove-the-same-lines-and-to-get-the-last-field", "title": "Perl: Find a match, remove the same lines, and to get the last field", "body": "<p>Being a Perl newbie, please pardon me for asking this basic question.</p>\n\n<p>I have a text file @server1 that shows a bunch of sentences (white space is the field separator) on many lines in the file.</p>\n\n<p>I needed to match lines with my keyword, remove the same lines, and extract only the last field, so I have tried with:</p>\n\n<pre><code>my @allmatchedlines;\n\nopen(output1, \"ssh user1@server1 cat /tmp/myfile.txt |\");\n\n    while(&lt;output1&gt;) {\n            chomp;\n            @allmatchedlines = $_ if /mysearch/;\n    }\n    close(output1);\n\n    my @uniqmatchedline = split(/ /, @allmatchedlines);\n\n    my $lastfield = $uniqmatchedline[-1]\\n\";\n    print \"$lastfield\\n\";\n</code></pre>\n\n<p>and it gives me the output showing:\n1</p>\n\n<p>I don't know why it's giving me just \"1\".</p>\n\n<p>Could someone please explain why I'm getting \"1\" and how I can get the last field of the matched line correctly?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["perl", "session", "cookies", "lwp"], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 1, "last_activity_date": 1476609295, "creation_date": 1476609295, "answer_id": 40068715, "question_id": 40048602, "link": "https://stackoverflow.com/questions/40048602/create-a-session-with-necessary-cookies-using-perl/40068715#40068715", "title": "Create a session with necessary cookies using Perl", "body": "<p>You need to <a href=\"https://metacpan.org/pod/LWP::UserAgent#ua-cookie_jar\" rel=\"nofollow\">set a <code>cookie_jar</code> on your LWP::UserAgent</a> object. LWP::UA will then store all the cookies it encounters in a <a href=\"https://metacpan.org/pod/HTTP::Cookies\" rel=\"nofollow\">HTTP::Cookies</a> object and handle them for you. They'll be sent with every request.</p>\n\n<p>You can use an empty hash reference <code>{}</code> to store your cookie in memory. There is no need to use a file for this kind of job.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new(\n    cookie_jar =&gt; {},\n);\n</code></pre>\n\n<p>That's it. Then you would to <code>get</code> the link that gives you the login cookie first.</p>\n\n<pre><code>my $res_login = $ua-&gt;get('http://admin-router.webofknowledge.com/?DestApp=JCR');\ndie $res_login-&gt;status_line unless $res_login-&gt;is_success;\n</code></pre>\n\n<p>Afterwards you can go about loading your pages. The cookie will be sent automatically.</p>\n"}], "owner": {"reputation": 155, "user_id": 2202358, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3e0f453822c5a9c9b9b555606bba3a64?s=128&d=identicon&r=PG", "display_name": "nikonan", "link": "https://stackoverflow.com/users/2202358/nikonan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 40068715, "answer_count": 1, "score": 0, "last_activity_date": 1476609295, "creation_date": 1476465172, "question_id": 40048602, "link": "https://stackoverflow.com/questions/40048602/create-a-session-with-necessary-cookies-using-perl", "title": "Create a session with necessary cookies using Perl", "body": "<p>I will try to give as many details as possible.</p>\n\n<p>Using <strong>Perl</strong>, I am trying to download the list of Impact Factors of all Journals for the JCR (Journal Citation Reports) from the Web of Knowledge (WoS) (url: <a href=\"http://admin-apps.webofknowledge.com/JCR/JCR?RQ=SELECT_ALL&amp;cursor=1\" rel=\"nofollow\">http://admin-apps.webofknowledge.com/JCR/JCR?RQ=SELECT_ALL&amp;cursor=1</a>). It should be noted that the link is only accessible using IPs from most academic institutions, like mine, or from paying users.</p>\n\n<p>Whenever I visit the link (<strong>using the browser</strong>) and sometime has passed, the session has expired so I need to click on a link (<a href=\"http://admin-router.webofknowledge.com/?DestApp=JCR\" rel=\"nofollow\">http://admin-router.webofknowledge.com/?DestApp=JCR</a>) to establish a new session. Using my rudimentary knowledge of Firebug I found that when I am authenticated I get a cookie named jcrsid with a random string value.</p>\n\n<p>My question is the following:\nUsing <strong>Perl's LWP module</strong>, what steps should I take in order to establish a session and download the web pages I need. (If I use LWP to download the page, i download exactly the same page that appears when I am asked to establish a new session using the browser).</p>\n"}, {"tags": ["string", "perl", "powershell", "replace"], "answers": [{"tags": [], "owner": {"reputation": 542, "user_id": 2687838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67e7177c728a0d69077cbe3d8f65ef6d?s=128&d=identicon&r=PG", "display_name": "Justin Schell", "link": "https://stackoverflow.com/users/2687838/justin-schell"}, "is_accepted": false, "score": 1, "last_activity_date": 1476465801, "creation_date": 1476465801, "answer_id": 40048787, "question_id": 40048559, "link": "https://stackoverflow.com/questions/40048559/options-to-replace-multiple-patterns-in-multiple-files-in-windows/40048787#40048787", "title": "Options to replace multiple patterns in multiple files in Windows", "body": "<p>You could use a perl one-liner - something like:</p>\n\n<pre><code>perl -p -i -e 's/oldstring/newstring/g' `grep -ril --include *.xml oldstring *`\n</code></pre>\n\n<p>If you want to keep a backup of the original files:</p>\n\n<pre><code>perl -p -i'.bak' -e 's/oldstring/newstring/g' `grep -ril --include *.xml oldstring *`\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5276, "user_id": 3776535, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c960c9d125c661738fe7b61ff41b740b?s=128&d=identicon&r=PG", "display_name": "Burt_Harris", "link": "https://stackoverflow.com/users/3776535/burt-harris"}, "is_accepted": false, "score": -1, "last_activity_date": 1476466324, "last_edit_date": 1476466324, "creation_date": 1476466002, "answer_id": 40048830, "question_id": 40048559, "link": "https://stackoverflow.com/questions/40048559/options-to-replace-multiple-patterns-in-multiple-files-in-windows/40048830#40048830", "title": "Options to replace multiple patterns in multiple files in Windows", "body": "<p>While I don't have the same resources to test this, I suspect it will run faster if you avoid so many pipes, like this:</p>\n\n<pre><code>$files = Get-ChildItem \"source_folder\" -Filter *.xml -Recurse\nWrite-Host $files.count \"files present in source\" \nforeach ($file in $files) {\n    $s = Get-Content $file.PSPath\n    $s = $s -replace \"string1\", \"replacement1\") -replace \"string2\", \"replacement2\" \n    Set-Content $file.PSPath  -Value $s\n    Write-Host $file.PSPath \" modified\" \n}\n</code></pre>\n\n<p>The pipeline mechanism has some overhead this should avoid.  I'm interested in hearing back how much difference it makes for your case.</p>\n\n<p>One other point, it might be good to add an <code>-Encoding</code> value to your Set-Content command to control how the output files are encoded.    </p>\n"}, {"tags": [], "owner": {"reputation": 59056, "user_id": 6067741, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/x6Xoj.png?s=128&g=1", "display_name": "4c74356b41", "link": "https://stackoverflow.com/users/6067741/4c74356b41"}, "is_accepted": false, "score": 1, "last_activity_date": 1476468441, "creation_date": 1476468441, "answer_id": 40049514, "question_id": 40048559, "link": "https://stackoverflow.com/questions/40048559/options-to-replace-multiple-patterns-in-multiple-files-in-windows/40049514#40049514", "title": "Options to replace multiple patterns in multiple files in Windows", "body": "<p>First of all, you should use .NET Classes for that.\nThat alone would save you a lot of time. Also you really should use v3 version replace (the .replace method). It's faster.</p>\n\n<p>so it would look like this:</p>\n\n<pre><code>foreach ($file in $files) {\n      $content = [System.IO.File]::ReadAllText($file).Replace(\"val1\",\"val2\")\n    [System.IO.File]::WriteAllText($file, $content) \n       Write-Host $file.PSPath \" modified\" \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13106, "user_id": 3735690, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/fOisS.png?s=128&g=1", "display_name": "Esperento57", "link": "https://stackoverflow.com/users/3735690/esperento57"}, "is_accepted": false, "score": 1, "last_activity_date": 1476516203, "creation_date": 1476516203, "answer_id": 40056288, "question_id": 40048559, "link": "https://stackoverflow.com/questions/40048559/options-to-replace-multiple-patterns-in-multiple-files-in-windows/40056288#40056288", "title": "Options to replace multiple patterns in multiple files in Windows", "body": "<p>try to modify your code like this:</p>\n\n<pre><code>    $files = Get-ChildItem \"C:\\temp\" -Filter *.xml -Recurse -File\n    foreach ($file in $files) \n    {\n\n    (Get-Content $file.FullName) | Foreach-Object {\n        $_ -replace 'something1', 'something1aa' `\n           -replace 'something2', 'something2bb' `\n           -replace 'something3', 'something3cc' `\n           -replace 'something4', 'something4dd' `\n           -replace 'something5', 'something5dsf' `\n           -replace 'something6', 'something6dfsfds'\n        } | Set-Content $file.FullName\n\n        Write-Host $file.FullName \" analysed\" \n    }\n</code></pre>\n"}], "owner": {"reputation": 1969, "user_id": 1836483, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cqf6i.jpg?s=128&g=1", "display_name": "Van Peer", "link": "https://stackoverflow.com/users/1836483/van-peer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1476516203, "creation_date": 1476465008, "question_id": 40048559, "link": "https://stackoverflow.com/questions/40048559/options-to-replace-multiple-patterns-in-multiple-files-in-windows", "title": "Options to replace multiple patterns in multiple files in Windows", "body": "<p>Source folder with 150,000 files, size of around 4 GB in Win 2003 server. Need to replace few patterns in XML files recursively. </p>\n\n<pre><code>$files = Get-ChildItem \"source_folder\" -Filter *.xml -Recurse\nWrite-Host $files.count \"files present in source\" \nforeach ($file in $files) {\n      (Get-Content $file.PSPath) | \n          Foreach-Object { $_ -replace \"string1\", \"replacement1\" } | Foreach-Object { $_ -replace \"string2\", \"replacement2\" } | Set-Content $file.PSPath  \n       Write-Host $file.PSPath \" modified\" \n}\n</code></pre>\n\n<p>This code takes more than an hour to complete. What would be the best way to achieve this? What are the options to reduce the time taken? Is it better to use PERL to do this? Suggestions would be of great help! </p>\n"}, {"tags": ["python", "perl", "intellij-idea", "scripting"], "owner": {"reputation": 955, "user_id": 1356142, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b9087a6b8231a32d51cf2df4cb4e16c?s=128&d=identicon&r=PG", "display_name": "jcr", "link": "https://stackoverflow.com/users/1356142/jcr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476465407, "creation_date": 1476464409, "question_id": 40048415, "link": "https://stackoverflow.com/questions/40048415/intellij-2-programming-languages-in-one-folder", "title": "intellij 2 programming languages in one folder", "body": "<p>I use IntelliJ IDEA as a perl and python editor currently I have it set up as follows:</p>\n\n<pre><code>scripts/python &lt;- python sources\nscripts/perl   &lt;- perl sources\n</code></pre>\n\n<p>I would love to simply have all my scripts in a scripts folder, i.e:</p>\n\n<pre><code>scripts &lt;- contains both .py and .pl files\n</code></pre>\n\n<p>but if I do that I have to designate the script folder as either a \"python\" or a \"perl\" module and thus loose tab completion for one of the two languages</p>\n\n<p>How can I mix my sources into the same folder without loosing tab completion, I never build or run any of my scripts from the IDE as I am a data scientist and thus need to deploy my scripts on a more beefy server. So if a solution breaks any of these javaish features I don't mind.</p>\n\n<p>metadata about IntelliJ version</p>\n\n<pre><code>IntelliJ IDEA 2016.2.4\nBuild #IC-162.2032.8, built on September 9, 2016\nJRE: 1.8.0_112-release-b343 x86_64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\n</code></pre>\n\n<p>TLDR; Is it possible to have tab completion for two different languages if they source files are in the same folder</p>\n"}, {"tags": ["html", "perl", "replace"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1476461048, "post_id": 40047423, "comment_id": 67371065, "body": "Thank you. Now please also include the HTML code of index.html. You can reduce it to just one example. Then edit that example and change it to what you want as the result. We then have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. We need that to understand what you are trying to do."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1476469672, "post_id": 40047423, "comment_id": 67375553, "body": "We need to see the contents of <code>http:&#47;&#47;localhost&#47;site1&#47;index.html</code>, together with what you want to change it to."}, {"owner": {"reputation": 9, "user_id": 4901120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75597b1338f8ff00425b3c33c997c6a4?s=128&d=identicon&r=PG&f=1", "display_name": "Domenike", "link": "https://stackoverflow.com/users/4901120/domenike"}, "edited": false, "score": 0, "creation_date": 1476499208, "post_id": 40047423, "comment_id": 67384536, "body": "I have fifity sites, same templates, but images and content differents. I want to change the path to the images quickly with perl."}, {"owner": {"reputation": 1407, "user_id": 1379631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43196d39cc9385202a4719cc64a4f71?s=128&d=identicon&r=PG&f=1", "display_name": "reflective_mind", "link": "https://stackoverflow.com/users/1379631/reflective-mind"}, "edited": false, "score": 1, "creation_date": 1476508735, "post_id": 40047423, "comment_id": 67385883, "body": "Do you want to replace the string &quot;images/&quot; only inside the <code>src=&quot; &quot;</code> and <code>data-src=&quot; &quot;</code>?"}, {"owner": {"reputation": 9, "user_id": 4901120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75597b1338f8ff00425b3c33c997c6a4?s=128&d=identicon&r=PG&f=1", "display_name": "Domenike", "link": "https://stackoverflow.com/users/4901120/domenike"}, "edited": false, "score": 0, "creation_date": 1476549531, "post_id": 40047423, "comment_id": 67397045, "body": "I want to thank you all for your help. The mp3 code worked me!"}], "answers": [{"tags": [], "owner": {"reputation": 154, "user_id": 6811877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e696f3907cb54cc29963d6ffb2e24e75?s=128&d=identicon&r=PG&f=1", "display_name": "mp3", "link": "https://stackoverflow.com/users/6811877/mp3"}, "is_accepted": true, "score": -1, "last_activity_date": 1476535613, "last_edit_date": 1476535613, "creation_date": 1476507286, "answer_id": 40055097, "question_id": 40047423, "link": "https://stackoverflow.com/questions/40047423/how-can-replace-html-images-tags-using-perl/40055097#40055097", "title": "How can replace HTML &quot;images/&quot; tags using perl", "body": "<p>Assuming failure is at REGEX.</p>\n\n<p>Remove the quotes from your regular expression.</p>\n\n<pre><code>$res1 =~ s/images/bebe/g;\n</code></pre>\n\n<p>EDIT:\nLooking at inferno's comment, you might want this instead. It will match images inside src and data-source attributes.</p>\n\n<pre><code>$res1 =~ s/(src|data-source)=\"images\\//$1=\"bebe/g;\n</code></pre>\n\n<p>Be aware this is removing forward slash  after 'images' so if that isn't your intention, you can either remove that part of the pattern or add it back in on the replacement side.</p>\n\n<p><strong>Option #1</strong></p>\n\n<pre><code>$res1 =~ s/(src|data-source)=\"images/$1=\"bebe/g; # Removed from pattern\n</code></pre>\n\n<p><strong>Option #2</strong></p>\n\n<pre><code>$res1 =~ s/(src|data-source)=\"images\\//$1=\"bebe\\//g; # Added back in on replacement\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4901120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75597b1338f8ff00425b3c33c997c6a4?s=128&d=identicon&r=PG&f=1", "display_name": "Domenike", "link": "https://stackoverflow.com/users/4901120/domenike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 40055097, "answer_count": 1, "score": 0, "last_activity_date": 1476697464, "creation_date": 1476460632, "last_edit_date": 1476697464, "question_id": 40047423, "link": "https://stackoverflow.com/questions/40047423/how-can-replace-html-images-tags-using-perl", "title": "How can replace HTML &quot;images/&quot; tags using perl", "body": "<p>How can I replace the \"images/\" of an HTML file to some other word (i.e. \"bebe\")?</p>\n\n<p>This is my code, but it is not working:</p>\n\n<pre><code>#!/usr/bin/perl\n########################################## Carrega Modulos\n\nuse LWP::UserAgent;\nuse LWP::Simple;\n\n$ua = new LWP::UserAgent;\n$ua-&gt;agent('Mozilla/5.0 (X11; U; NetBSD i386; en-US; rv:1.8.1.12) Gecko/20080301 Firefox/2.0.0.12');\n\nmy $pedido1 = new HTTP::Request GET =&gt;\"http://localhost/site1/index.html\";\nmy $resposta1 = $ua-&gt;request($pedido1) or die \"Erro no site scanner\\n\"; \nmy $res1 = $resposta1-&gt;content;\nopen (OUT, \"&gt;&gt;hit.txt\"); print OUT \"$res1\\n\"; close(OUT); $cont=$cont+1;\n$res1 =~ s/\"images\"/\"bebe\"/g;\nprint $res1;\n</code></pre>\n\n<p>This my HTML:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n</code></pre>\n\n<p>\n\nReponsive HTML Template\n\n</p>\n\n<p>\nhttp://fonts.googleapis.com/css?family=Roboto:400,300,700,100' rel='stylesheet' type='text/css'>\n</p>\n\n\n\n\n\n\n\n      \n      \n\n    \n\n<p>\n</p>\n\n<p></p>\n\n<p>\n     </p>\n\n<pre><code>  &lt;!-- Collect the nav links, forms, and other content for toggling --&gt;\n\n  &lt;div class=\"collapse navbar-center navbar-collapse\" id=\"bs-example-navbar-collapse-1\"&gt;\n\n    &lt;ul class=\"nav navbar-nav\"&gt;\n\n      &lt;li class=\"active\"&gt;&lt;a href=\"index.html\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n      &lt;li class=\"dropdown\"&gt; &lt;a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\"&gt;Pages&lt;/a&gt;\n\n        &lt;ul class=\"dropdown-menu\"&gt;\n\n          &lt;li&gt;&lt;a href=\"index_fixed.html\"&gt;Home / Fixed&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"index_with_blog.html\"&gt;Home + Blog&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"portfolio.html\"&gt;Portfolio&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"typography.html\"&gt;Typography&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"shortcodes.html\"&gt;Shortcodes&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"blog.html\"&gt;Blog &amp; News&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"tables.html\"&gt;Tables&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"faq.html\"&gt;FAQ&lt;/a&gt;&lt;/li&gt;\n\n        &lt;/ul&gt;\n      &lt;/li&gt;\n\n      &lt;li&gt;&lt;a href=\"left_sidebar.html\"&gt;left sidebar&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"right_sidebar.html\"&gt;right sidebar&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"full_width.html\"&gt;full page&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"contact.html\"&gt;contact us&lt;/a&gt;&lt;/li&gt;\n\n    &lt;/ul&gt;\n  &lt;/div&gt;\n\n  &lt;!-- /.navbar-collapse --&gt;\n\n  &lt;div class=\"clr\"&gt;&lt;/div&gt;\n\n  &lt;!-- Brand and toggle get grouped for better mobile display --&gt;\n\n  &lt;div class=\"navbar-header\"&gt;\n\n    &lt;button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\"&gt; &lt;span class=\"sr-only\"&gt;Toggle navigation&lt;/span&gt; &lt;span class=\"icon-bar\"&gt;&lt;/span&gt; &lt;span class=\"icon-bar\"&gt;&lt;/span&gt; &lt;span class=\"icon-bar\"&gt;&lt;/span&gt; &lt;/button&gt;\n\n    &lt;h1 class=\"navbar-brand\"&gt;&lt;a href=\"index.html\"&gt;&lt;span&gt;anti&lt;/span&gt;que&lt;/a&gt;&lt;/h1&gt;\n\n  &lt;/div&gt;\n&lt;/nav&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p></p>\n\n<p> </p>\n\n<pre><code>&lt;!-- Indicators --&gt;\n\n&lt;div class=\"carousel-inner\"&gt;\n\n  &lt;div class=\"item\"&gt; &lt;img data-src=\"images/slider/slider1.jpg\" alt=\"First slide\" src=\"images/slider/slider1.jpg\"&gt;\n\n    &lt;div class=\"container\"&gt;\n      &lt;div class=\"carousel-caption\"&gt;\n\n        &lt;h1&gt;Vivamus ultricies volutpat egestas. Donec &lt;span&gt;turpis non eros&lt;/span&gt; euismod &lt;/h1&gt;\n\n        &lt;p&gt;Aliquam sit amet lectus sagittis, feugiat neque dictum, rutrum augue. Integer vel egestas urna. &lt;/p&gt;\n        &lt;p&gt;&lt;a class=\"btn btn-default\" href=\"#\" role=\"button\"&gt;more details&lt;/a&gt;&lt;/p&gt;\n\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"item active\"&gt; &lt;img data-src=\"images/slider/slider2.jpg\" alt=\"Second slide\" src=\"images/slider/slider2.jpg\"&gt;\n\n    &lt;div class=\"container\"&gt;\n      &lt;div class=\"carousel-caption\"&gt;\n        &lt;h1&gt;Donec &lt;span&gt;volutpat mattis&lt;/span&gt; odio. Quisque eros. Nullam malesuada. &lt;/h1&gt;\n\n        &lt;p&gt;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros. &lt;/p&gt;\n        &lt;p&gt;&lt;a class=\"btn btn-default\" href=\"#\" role=\"button\"&gt;get started&lt;/a&gt;&lt;/p&gt;\n\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;a class=\"left carousel-control\" href=\"#myCarousel\" data-slide=\"prev\"&gt;&lt;span class=\"glyphicon carousel-control-left\"&gt;&lt;/span&gt;&lt;/a&gt; &lt;a class=\"right carousel-control\" href=\"#myCarousel\" data-slide=\"next\"&gt;&lt;span class=\"glyphicon carousel-control-right\"&gt;&lt;/span&gt;&lt;/a&gt; &lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n\n\n<p></p>\n\n<p>\n    </p>\n\n<pre><code>  &lt;h2 class=\"text-center\"&gt;Phasellus ultrices nulla quis nibh. Quisque a lectus. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.&lt;/h2&gt;\n\n  &lt;p class=\"text-center big-paragraph\"&gt;Suspendisse urna nibh, viverra non, semper suscipit, posuere a, pede.&lt;/p&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>\n    </p>\n\n<pre><code>  &lt;h2&gt;&lt;span&gt;our services&lt;/span&gt;&lt;/h2&gt;\n\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-4\"&gt; &lt;img src=\"images/icons/ico1.png\" alt=\"icon\" class=\"icon\"&gt;\n\n      &lt;h3&gt;CLEAN FLAT &amp; MINIMAL&lt;/h3&gt;\n\n      &lt;img src=\"images/content__images/img1.jpg\" alt=\"image\" class=\"img-rounded img-responsive\"&gt;\n\n      &lt;p&gt;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros.&lt;/p&gt;\n      &lt;p&gt;&lt;a class=\"btn btn-lg btn-primary\" href=\"#\" role=\"button\"&gt;Learn more&lt;/a&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n\n    &lt;div class=\"col-md-4\"&gt; &lt;img src=\"images/icons/ico2.png\" alt=\"icon\" class=\"icon\"&gt;\n\n      &lt;h3&gt;FULLY RESPONSIVE&lt;/h3&gt;\n\n      &lt;img src=\"images/content__images/img2.jpg\" alt=\"image\" class=\"img-rounded img-responsive\"&gt;\n\n      &lt;p&gt;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros.&lt;/p&gt;\n      &lt;p&gt;&lt;a class=\"btn btn-lg btn-primary\" href=\"#\" role=\"button\"&gt;Learn more&lt;/a&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n\n    &lt;div class=\"col-md-4\"&gt; &lt;img src=\"images/icons/ico3.png\" alt=\"icon\" class=\"icon\"&gt;\n\n      &lt;h3&gt;EASY TO CUSTOMIZE&lt;/h3&gt;\n\n      &lt;img src=\"images/content__images/img3.jpg\" alt=\"image\" class=\"img-rounded img-responsive\"&gt;\n\n      &lt;p&gt;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros.&lt;/p&gt;\n      &lt;p&gt;&lt;a class=\"btn btn-lg btn-primary\" href=\"#\" role=\"button\"&gt;Learn more&lt;/a&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>\n    </p>\n\n<pre><code>  &lt;h2 class=\"text-center\"&gt;&lt;span&gt;about us&lt;/span&gt;&lt;/h2&gt;\n\n  &lt;div class=\"row text-center\"&gt;\n    &lt;div class=\"col-md-6\"&gt;\n\n      &lt;h3&gt;Donec odio. Quisque volutpat mattis eros. \n\n        Nullam malesuada erat. &lt;/h3&gt;\n\n      &lt;p&gt;&lt;small&gt;Praesent semper mod quis eget mi. Etiam eu ante risus. &lt;/small&gt;&lt;/p&gt;\n\n      &lt;img src=\"images/content__images/pic1.jpg\" class=\"img-rounded img-responsive\" alt=\"pic1\"&gt;\n\n      &lt;div class=\"clearfix\"&gt;&lt;/div&gt;\n\n      &lt;p&gt;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis. Suspendisse urna nibh, viverra non, semper suscipit, posuere a, pede.&lt;/p&gt;\n\n      &lt;p&gt;&lt;a class=\"btn btn-info btn-lg\" href=\"#\" role=\"button\"&gt;Learn more&lt;/a&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n\n    &lt;div class=\"col-md-6\"&gt;\n\n      &lt;h3&gt;Etiam eu ante risus. Aliquam erat volutpat. \n\n        Aliquam luctus mattis.&lt;/h3&gt;\n\n      &lt;p&gt;&lt;small&gt;Praesent semper mod quis eget mi. Etiam eu ante risus. &lt;/small&gt;&lt;/p&gt;\n\n      &lt;img src=\"images/content__images/pic2.jpg\" class=\"img-rounded img-responsive\" alt=\"pic2\"&gt;\n\n      &lt;div class=\"clearfix\"&gt;&lt;/div&gt;\n\n      &lt;p&gt;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat mattis eros. Nullam malesuada erat ut turpis. Suspendisse urna nibh, viverra non, semper suscipit, posuere a, pede.&lt;/p&gt;\n\n      &lt;p&gt;&lt;a class=\"btn btn-info btn-lg\" href=\"#\" role=\"button\"&gt;Learn more&lt;/a&gt;&lt;/p&gt;\n\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p></p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n\n  &lt;h2 class=\"\"&gt;Pellentesque egestas sem. Suspendisse commodo ullamcorper magna. Pellentesque egestas sem suspendisse commodo ullamcorper ...&lt;/h2&gt;\n\n  &lt;p class=\"\"&gt;Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore eritatis et quasi architecto beatae vitae dicta sunt explicabo.\n\n    Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione \n\n    voluptatem sequi nesciunt.&lt;/p&gt;\n\n  &lt;p&gt;&lt;a class=\"btn btn-info\" href=\"#\" role=\"button\"&gt;Buy it&lt;/a&gt;&lt;a class=\"btn btn-default\" href=\"#\" role=\"button\"&gt;Learn More&lt;/a&gt;&lt;/p&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p></p>\n\n<p></p>\n\n<p>\n    \n      </p>\n\n<pre><code>    &lt;h3&gt;About&lt;/h3&gt;\n\n    &lt;p&gt;We strive to deliver a level of service that exceeds the expectations of our customers. &lt;br /&gt;\n\n      &lt;br /&gt;\n\n      If you have any questions about our products or services, please do not hesitate to contact us. We have friendly, knowledgeable representatives available seven days a week to assist you.&lt;/p&gt;\n\n  &lt;/div&gt;\n\n  &lt;div class=\"col-md-3\"&gt;\n\n    &lt;h3&gt;Tweets&lt;/h3&gt;\n\n    &lt;p&gt;&lt;span&gt;Tweet&lt;/span&gt; &lt;a href=\"#\"&gt;@You&lt;/a&gt;&lt;br /&gt;\n\n      Etiam egestas, ipsum posuere accumsan sollicitudin, nulla mauris volutpat sem, sit amet rutrum risus. &lt;/p&gt;\n\n    &lt;p&gt;&lt;span&gt;Tweet&lt;/span&gt; &lt;a href=\"#\"&gt;@You&lt;/a&gt;&lt;br /&gt;\n\n      Quisque porta tellus vitae adipiscing molestie. Mauris et lacus blandit, malesuada.&lt;/p&gt;\n\n  &lt;/div&gt;\n\n  &lt;div class=\"col-md-3\"&gt;\n\n    &lt;h3&gt;Mailing list&lt;/h3&gt;\n\n    &lt;p&gt;Subscribe to our mailing list for offers, news updates and more!&lt;/p&gt;\n\n    &lt;br /&gt;\n\n    &lt;form action=\"#\" method=\"post\" class=\"form-inline\" role=\"form\"&gt;\n\n      &lt;div class=\"form-group\"&gt;\n\n        &lt;label class=\"sr-only\" for=\"exampleInputEmail2\"&gt;your email:&lt;/label&gt;\n\n        &lt;input type=\"email\" class=\"form-control\" id=\"exampleInputEmail2\" placeholder=\"your email:\"&gt;\n\n      &lt;/div&gt;\n\n      &lt;button type=\"submit\" class=\"btn btn-primary\"&gt;subscribe&lt;/button&gt;\n\n    &lt;/form&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"col-md-3\"&gt;\n\n    &lt;h3&gt;Business&lt;/h3&gt;\n\n    &lt;p&gt;Street&lt;br /&gt;\n\n      City, State &lt;br /&gt;\n\n      Country&lt;br /&gt;\n\n      &lt;br /&gt;\n\n      Phone: (111) 123-4567&lt;br /&gt;\n\n      Fax: (111) 123-4567&lt;br /&gt;\n\n      &lt;br /&gt;\n    &lt;/p&gt;\n\n    &lt;div class=\"social__icons\"&gt; &lt;a href=\"#\" class=\"socialicon socialicon-twitter\"&gt;&lt;/a&gt; &lt;a href=\"#\" class=\"socialicon socialicon-facebook\"&gt;&lt;/a&gt; &lt;a href=\"#\" class=\"socialicon socialicon-google\"&gt;&lt;/a&gt; &lt;/div&gt;\n\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p></p>\n\n \n\n \n\n \n\n \n\n\n\n$('.carousel').carousel({\n\n  interval: 3500, // in milliseconds\n\n  pause: 'none' // set to 'true' to pause slider on mouse hover\n})\n\n\n<p></p>\n\n<p></p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 3, "creation_date": 1476458820, "post_id": 40046761, "comment_id": 67369525, "body": "<a href=\"https://metacpan.org/pod/distribution/perl/pod/perlintro.pod#Arrays\" rel=\"nofollow noreferrer\"><code>$#array</code></a>. Look over all of <a href=\"https://metacpan.org/pod/distribution/perl/pod/perlintro.pod\" rel=\"nofollow noreferrer\"><code>perlintro</code></a> before day 2 is over."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476458863, "post_id": 40046761, "comment_id": 67369557, "body": "Do you want the last element or the last index?"}, {"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476459090, "post_id": 40046761, "comment_id": 67369720, "body": "Actually index rather than element, sorry."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476460307, "post_id": 40046761, "comment_id": 67370564, "body": "You seem to be asking a lot of rather basic questions. That&#39;s fine, of course. But I&#39;d be interested to hear what resources you are using to learn Perl as we might be able to point you towards something better."}, {"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476461159, "post_id": 40046761, "comment_id": 67371131, "body": "Sorry about the basic questions. I have been using perldoc and perlmonks. Trying to get out of Office VBA and rewrite it in Perl. Finding the right &quot;vocab&quot; and syntax to do the same things is sometimes a little confusing."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476461678, "post_id": 40046761, "comment_id": 67371429, "body": "@user110084: <a href=\"https://blog.udemy.com/learn-perl-a-tutorial-to-get-you-started/\" rel=\"nofollow noreferrer\">This tutorial</a> that I wrote, might be a good way to get the absolute basics of Perl. But then you should really get a book. I recommend &quot;Learning Perl&quot;."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476462150, "post_id": 40046761, "comment_id": 67371693, "body": "@user110084: And there&#39;s no need at all to apologise for your questions. I wasn&#39;t complaining at all - I was just wondering if there was a more efficient way that we could help you."}, {"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476463028, "post_id": 40046761, "comment_id": 67372149, "body": "Thank you @DaveCross. I am really appreciative of everyone here. I have been putting off moving out of VBA for years, but since I tend to code for specific problems that has not really happened. Reading beginners&#39; guides/tutorials starting with &quot;hello world&quot; and explaining how to do various loops does not help when there is a particular problem to solve. So, I have gone into the deeper end and try to figure out the equivalents on the fly. Hope I am not straining everyone&#39;s patience too much here."}], "answers": [{"comments": [{"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476459027, "post_id": 40046831, "comment_id": 67369675, "body": "sorry @simbabque, should have chosen my words more carefully, I was looking for the highest index"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476459054, "post_id": 40046831, "comment_id": 67369690, "body": "@user110084 that&#39;s in there too. The last two words of the answer, to be specific. Edited."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 6, "last_activity_date": 1476463778, "last_edit_date": 1476463778, "creation_date": 1476458855, "answer_id": 40046831, "question_id": 40046761, "link": "https://stackoverflow.com/questions/40046761/perl-equivalent-of-ubound-in-vba/40046831#40046831", "title": "Perl: equivalent of &quot;ubound&quot; in VBA", "body": "<p>Perl's arrays always start empty.</p>\n\n<pre><code>my @array;      # equivalent\nmy @array = (); #\n</code></pre>\n\n<p>To get the highest index, use <code>$#array</code>.</p>\n\n<pre><code>my @array = qw(a b c);\nprint $#array; # 2\n</code></pre>\n\n<p>If the array is empty, <code>$#array</code> will be <code>-1</code>.</p>\n"}], "owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476463778, "creation_date": 1476458666, "last_edit_date": 1476458891, "question_id": 40046761, "link": "https://stackoverflow.com/questions/40046761/perl-equivalent-of-ubound-in-vba", "title": "Perl: equivalent of &quot;ubound&quot; in VBA", "body": "<p>Now that on day 2 of Perl I see that arrays start with element(0) too, how do I get the last index of an array like ubound in VBA rather than the size of it using scalar(@array)?</p>\n\n<p>Is the use of $size = $#array a good way or is there something similar to scalar(@array)?</p>\n"}, {"tags": ["perl", "while-loop", "integer"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 6820395, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab5f13279a671e2cf098bc658acd8962?s=128&d=identicon&r=PG&f=1", "display_name": "mm24mm", "link": "https://stackoverflow.com/users/6820395/mm24mm"}, "edited": false, "score": 0, "creation_date": 1476457305, "post_id": 40046186, "comment_id": 67368499, "body": "it doesn&#39;t work. I changed <code>$i &gt; $#nums</code> and <code>$i &gt; 99</code> and that doesn&#39;t work either."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1476458975, "last_edit_date": 1476458975, "creation_date": 1476456911, "answer_id": 40046186, "question_id": 40046154, "link": "https://stackoverflow.com/questions/40046154/how-to-make-this-perl-program-print-in-descending-order/40046186#40046186", "title": "How to make this Perl program print in descending order?", "body": "<p>Just set <code>$i</code> to <code>$#nums</code> instead of <code>0</code> and decrement it <code>--</code> instead of incrementing. You'll need to change the loop condition to <code>$i &gt;= 0</code> (it should be <code>$i &lt;= $#nums</code> in your code, otherwise it skips <code>200</code> when <code>10</code> was entered).</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nprint \"Enter an integer \\n\";\nmy $root = &lt;&gt;;\nmy @nums = (100 .. 200);\nmy $i = $#nums;\n\nwhile ( $i &gt;= 0 ) {\n    print \"$nums[$i]\\n\" if $nums[$i] % $root == 0;\n    --$i;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 6820395, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab5f13279a671e2cf098bc658acd8962?s=128&d=identicon&r=PG&f=1", "display_name": "mm24mm", "link": "https://stackoverflow.com/users/6820395/mm24mm"}, "edited": false, "score": 0, "creation_date": 1476457464, "post_id": 40046252, "comment_id": 67368590, "body": "Oh lordddd, I&#39;ve been messing with reverse this whole time and that simplified it. Thanks so much!"}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": true, "score": 1, "last_activity_date": 1476457116, "creation_date": 1476457116, "answer_id": 40046252, "question_id": 40046154, "link": "https://stackoverflow.com/questions/40046154/how-to-make-this-perl-program-print-in-descending-order/40046252#40046252", "title": "How to make this Perl program print in descending order?", "body": "<pre><code>print \"Enter an integer \\n\";\nmy $root = &lt;STDIN&gt;; \nmy @nums = (100..200);\n</code></pre>\n\n<blockquote>\n  <p><code>@nums = reverse @nums; #Just reverse the arrays</code></p>\n</blockquote>\n\n<pre><code>my $i = 0;           \n\n# code in while loop executes as long as condition is true \nwhile ( $i &lt; $#nums ) \n{\n    print \"$nums[$i]\\n\",if($nums[$i] % $root == 0); $i++;\n}\n</code></pre>\n\n<p>May be it will helps you.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1476457913, "creation_date": 1476457913, "answer_id": 40046516, "question_id": 40046154, "link": "https://stackoverflow.com/questions/40046154/how-to-make-this-perl-program-print-in-descending-order/40046516#40046516", "title": "How to make this Perl program print in descending order?", "body": "<p>There are more than a few ways to do it ... <em>not all equally good</em>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nrun(@ARGV);\n\nsub run {\n    my $root = $_[0] // get_root();\n    my @nums = (100 .. 200);\n\n    my @functions = (\n        sub {\n            my ($root, $nums) = @_;\n            my $i = @$nums;\n\n            while ($i--) {\n                print \"$nums-&gt;[$i]\\n\" unless $nums-&gt;[$i] % $root;\n            }\n            return;\n        },\n        sub {\n            my ($root, $nums) = @_;\n            for my $n ( reverse @$nums ) {\n                print \"$n\\n\" unless $n % $root;\n            }\n            return;\n        },\n        sub {\n            my ($root, $nums) = @_;\n            my $i;\n\n            while ($i++ &lt; @$nums) {\n                print \"$nums-&gt;[@$nums - $i]\\n\" unless $nums-&gt;[@$nums - $i] % $root;\n            }\n            return;\n        },\n        sub {\n            my ($root, $nums) = @_;\n            my @multiples = reverse grep !($_ % $root), @$nums;\n            print \"$_\\n\" for @multiples;\n            return;\n        },\n    );\n\n    for my $i ( 0 ... $#functions ) {\n        print \"=== Function $i ===\\n\";\n        $functions[$i]-&gt;($root, \\@nums);\n    }\n}\n\n\nsub get_root {\n    return scalar &lt;STDIN&gt;;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 762, "user_id": 1554448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DZzsO.jpg?s=128&g=1", "display_name": "David Farrell", "link": "https://stackoverflow.com/users/1554448/david-farrell"}, "edited": false, "score": 0, "creation_date": 1476714670, "post_id": 40047762, "comment_id": 67450655, "body": "s/revere/reverse/ ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 762, "user_id": 1554448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DZzsO.jpg?s=128&g=1", "display_name": "David Farrell", "link": "https://stackoverflow.com/users/1554448/david-farrell"}, "edited": false, "score": 0, "creation_date": 1476736264, "post_id": 40047762, "comment_id": 67463063, "body": "@David Farrell, Fixed."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1476736240, "last_edit_date": 1476736240, "creation_date": 1476461870, "answer_id": 40047762, "question_id": 40046154, "link": "https://stackoverflow.com/questions/40046154/how-to-make-this-perl-program-print-in-descending-order/40047762#40047762", "title": "How to make this Perl program print in descending order?", "body": "<pre><code>for (my $i = $#nums; $i &gt;= 0; --$i) { ... }\n\nfor (my $i = @nums; $i--; ) { ... }\n\nfor my $i (reverse 0 .. $#nums)  { ... }\n\nfor (1 .. @nums)  { my $i = -$_; ... }   # Or: my $i = @nums-$_;\n\nfor my $num (reverse @nums) { ... }\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 6820395, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab5f13279a671e2cf098bc658acd8962?s=128&d=identicon&r=PG&f=1", "display_name": "mm24mm", "link": "https://stackoverflow.com/users/6820395/mm24mm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 40046252, "answer_count": 4, "score": -2, "last_activity_date": 1476736240, "creation_date": 1476456799, "last_edit_date": 1476457084, "question_id": 40046154, "link": "https://stackoverflow.com/questions/40046154/how-to-make-this-perl-program-print-in-descending-order", "title": "How to make this Perl program print in descending order?", "body": "<p>This code works but it prints in ascending order. Do I need to change my whole formula?</p>\n\n<pre><code>print \"Enter an integer \\n\";\nmy $root = &lt;STDIN&gt;; \nmy @nums = (100..200);    \nmy $i = 0;           \n\n# code in while loop executes as long as condition is true \nwhile ( $i &lt; $#nums ) \n{\n    print \"$nums[$i]\\n\",if($nums[$i] % $root == 0); $i++;\n}\n</code></pre>\n"}, {"tags": ["perl", "html-parsing"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1476458159, "post_id": 40046016, "comment_id": 67369084, "body": "Please <a href=\"https://stackoverflow.com/posts/40046016/edit\">edit</a> your question and include example input and output."}, {"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476465088, "post_id": 40046016, "comment_id": 67373156, "body": "@simbabque Will do, but how do I keep the example HTML tags &quot;&lt;&gt;&quot; from blocking out content in my post when I try to paste the original file in the question?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476465512, "post_id": 40046016, "comment_id": 67373391, "body": "@Rick Paste your code, highlight it, and click the <code>{}</code> button in the editor (or hit Ctrl+K). That will treat it as a code block (which you&#39;ve already used once). Also see the <a href=\"http://stackoverflow.com/help/formatting\">formatting help</a>, and note that you can see what the raw Markdown looks like by clicking the <a href=\"https://stackoverflow.com/posts/40046016/edit\">edit</a> button."}, {"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476467926, "post_id": 40046016, "comment_id": 67374690, "body": "@ThisSuitIsBlackNot I believe the copy and paste job above may convey the essence of the input file.  The output is everything between the first instance of &lt;TEXT&gt; and &lt;/TEXT&gt;."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1476468984, "post_id": 40046016, "comment_id": 67375217, "body": "You formatted it as a block quote, not code. It&#39;s still quite hard to read because some sections now have horizontal scrollbars. Please format as code as I explained in my last comment."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1476479007, "post_id": 40050198, "comment_id": 67380034, "body": "I must be making an error here, because I can&#39;t get this to work for me.  At least, when I try to print the contents of @text, nothing prints."}, {"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1476479096, "post_id": 40050198, "comment_id": 67380078, "body": "@text = $doc =~ /&lt;TEXT&gt;(.*?)&lt;\\/TEXT&gt;/gs ;  foreach (@text) {             print &quot;$_\\n&quot; ;            }"}, {"owner": {"reputation": 542, "user_id": 2687838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67e7177c728a0d69077cbe3d8f65ef6d?s=128&d=identicon&r=PG", "display_name": "Justin Schell", "link": "https://stackoverflow.com/users/2687838/justin-schell"}, "reply_to_user": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1476483206, "post_id": 40050198, "comment_id": 67381509, "body": "Have you declared <code>@text</code> before that point?  If not, you need <code>my @text = ...</code>.  If so, are you sure the HTML contents are in <code>$doc</code>?"}, {"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1476485625, "post_id": 40050198, "comment_id": 67382132, "body": "You are correct, the problem was that I had lost the &lt;TEXT&gt; tags in $doc prior to creating that array.  Problem solved now.  What&#39;s the best way to rejoin the elements of the @text array so I can print to an out file?"}, {"owner": {"reputation": 542, "user_id": 2687838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67e7177c728a0d69077cbe3d8f65ef6d?s=128&d=identicon&r=PG", "display_name": "Justin Schell", "link": "https://stackoverflow.com/users/2687838/justin-schell"}, "reply_to_user": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1476485889, "post_id": 40050198, "comment_id": 67382186, "body": "If all you need is a unified string, you can do something like <code>my $all_text = join(&quot;\\n&quot;, @text);</code>"}, {"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1476716573, "post_id": 40050198, "comment_id": 67452080, "body": "Yes, this method of joining the elements of my array is working correctly. Thanks!"}], "tags": [], "owner": {"reputation": 542, "user_id": 2687838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67e7177c728a0d69077cbe3d8f65ef6d?s=128&d=identicon&r=PG", "display_name": "Justin Schell", "link": "https://stackoverflow.com/users/2687838/justin-schell"}, "is_accepted": false, "score": 1, "last_activity_date": 1476471194, "creation_date": 1476471194, "answer_id": 40050198, "question_id": 40046016, "link": "https://stackoverflow.com/questions/40046016/how-can-i-extract-the-text-from-inside-multiple-sets-of-html-tags/40050198#40050198", "title": "How can I extract the text from inside multiple sets of HTML tags?", "body": "<p>This should give you all matches (tested myself):</p>\n\n<pre><code>my @text = $doc =~ /&lt;TEXT&gt;(.*?)&lt;\\/TEXT&gt;/gs\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1476715765, "post_id": 40063542, "comment_id": 67451488, "body": "I am getting the error message &quot;Can&#39;t call method &quot;get_token&quot; on an undefined value.&quot;  I have verified that my $text variable has the raw data I want cleaned.  Any idea what the issue might be?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 0, "creation_date": 1476716118, "post_id": 40063542, "comment_id": 67451729, "body": "That means <code>$parser</code> construction failed. If you put the contents of the file in a scalar, use <code>my $parser = HTML::TokeParser::Simple-&gt;new(string =&gt; $html_string);</code> See <a href=\"https://metacpan.org/pod/HTML::TokeParser::Simple#new-source_type-source\" rel=\"nofollow noreferrer\">docs</a>."}, {"owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "edited": false, "score": 1, "creation_date": 1476716357, "post_id": 40063542, "comment_id": 67451912, "body": "Yes, I see your original code works when I reference a file rather than a scalar.  I think my problem is now solved. Thanks!"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1476561094, "creation_date": 1476561094, "answer_id": 40063542, "question_id": 40046016, "link": "https://stackoverflow.com/questions/40046016/how-can-i-extract-the-text-from-inside-multiple-sets-of-html-tags/40063542#40063542", "title": "How can I extract the text from inside multiple sets of HTML tags?", "body": "<p>Since you don't really have an HTML document, you want a parser that is not thrown off by various crap thrown at it.</p>\n\n<p>In the example below, I put the sample text above in the <code>__DATA__</code> section of my script for convenience. In the real world, you should open the file with the appropriate encoding.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse HTML::TokeParser::Simple;\n\nmy $parser = HTML::TokeParser::Simple-&gt;new(handle =&gt; \\*DATA);\n\nmy @text;\n\nwhile (my $token = $parser-&gt;get_token) {\n    if ($token-&gt;is_start_tag('text')) {\n        push @text, $parser-&gt;get_text('/text');\n    }\n}\n\nprint \"[[[&gt;&gt;&gt;$_&lt;&lt;&lt;]]]\\n\\n\" for @text;\n\n__DATA__\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 3088548, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/838e66b635d28b2760e6bd902ab6ab0c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/3088548/rick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 40063542, "answer_count": 2, "score": 0, "last_activity_date": 1476561094, "creation_date": 1476456368, "last_edit_date": 1476477229, "question_id": 40046016, "link": "https://stackoverflow.com/questions/40046016/how-can-i-extract-the-text-from-inside-multiple-sets-of-html-tags", "title": "How can I extract the text from inside multiple sets of HTML tags?", "body": "<p>I have a batch of text files from which I am trying to remove HTML tags.  The text that I want preserved in each file is between <code>&lt;TEXT&gt;</code> and <code>&lt;/TEXT&gt;</code>.  In some of these files, there is a second instance of <code>&lt;TEXT&gt;</code> and <code>&lt;/TEXT&gt;</code> in the bottom half of the document that I want preserved as well.</p>\n\n<p><a href=\"https://metacpan.org/pod/HTML::Restrict\" rel=\"nofollow\">HTML::Restrict</a> works great for preserving all relevant text in the first instance, but it doesn't seem to preserve the text between the second instance of <code>&lt;TEXT&gt;</code> and <code>&lt;/TEXT&gt;</code>.</p>\n\n<p>My code is:</p>\n\n<pre><code>$hr = HTML::Restrict-&gt;new() ;\n$processed = $hr-&gt;process($doc) ;\n</code></pre>\n\n<p>I can't discern any options within the HTML::Restrict module that I can tweak to ensure that the second part of the text file is preserved.  Do such options exist, or is there a better way to accomplish this task?  I've tried some regex, but so far I've run into a similar problem with that as well.</p>\n\n<p>Below is the original file.  The resulting output is everything the first instance of <code>&lt;TEXT&gt;</code> (immediately above \"UNITED STATES\") and the first instance of <code>&lt;/TEXT&gt;</code> in the third grey box from the bottom.</p>\n\n<pre><code>-----BEGIN PRIVACY-ENHANCED MESSAGE-----\nProc-Type: 2001,MIC-CLEAR\nOriginator-Name: webmaster@www.sec.gov\nOriginator-Key-Asymmetric:\n MFgwCgYEVQgBAQICAf8DSgAwRwJAW2sNKK9AVtBzYZmr6aGjlWyK3XmZv3dTINen\n TWSM7vrzLADbmYQaionwg5sDW3P6oaM5D3tdezXMm7z1T+B+twIDAQAB\nMIC-Info: RSA-MD5,RSA,\n VlTZCBM7TRNLONv/I0OgPsjKD23uR2Zn9/jJ4XrBQY8DlPxfH2+iX+W5TZjhZEQY\n shGRyuAw29phAaxb1IPhgQ==\n\n&lt;SEC-DOCUMENT&gt;0001157523-06-001366.txt : 20060209\n&lt;SEC-HEADER&gt;0001157523-06-001366.hdr.sgml : 20060209\n&lt;ACCEPTANCE-DATETIME&gt;20060209161745\nACCESSION NUMBER:       0001157523-06-001366\nCONFORMED SUBMISSION TYPE:  8-K\nPUBLIC DOCUMENT COUNT:      2\nCONFORMED PERIOD OF REPORT: 20060209\nITEM INFORMATION:       Results of Operations and Financial Condition\nITEM INFORMATION:       Financial Statements and Exhibits\nFILED AS OF DATE:       20060209\nDATE AS OF CHANGE:      20060209\n\nFILER:\n\n    COMPANY DATA:   \n        COMPANY CONFORMED NAME:         ANALOG DEVICES INC\n        CENTRAL INDEX KEY:          0000006281\n        STANDARD INDUSTRIAL CLASSIFICATION: SEMICONDUCTORS &amp; RELATED DEVICES [3674]\n        IRS NUMBER:             042348234\n        STATE OF INCORPORATION:         MA\n        FISCAL YEAR END:            1205\n\n    FILING VALUES:\n        FORM TYPE:      8-K\n        SEC ACT:        1934 Act\"\n        SEC FILE NUMBER:    001-07819\n        FILM NUMBER:        06593279\n\n    BUSINESS ADDRESS:   \n        STREET 1:       ONE TECHNOLOGY WAY\n        CITY:           NORWOOD\n        STATE:          MA\n        ZIP:            02062\n        BUSINESS PHONE:     7813294700\n\n    MAIL ADDRESS:   \n        STREET 1:       ONE TECHNOLOGY WAY\n        CITY:           NORWOOD\n        STATE:          MA\n        ZIP:            02062\n&lt;/SEC-HEADER&gt;\n&lt;DOCUMENT&gt;\n&lt;TYPE&gt;8-K\n&lt;SEQUENCE&gt;1\n&lt;FILENAME&gt;a5077045.txt\n&lt;DESCRIPTION&gt;ANALOG DEVICES, INC., 8-K\n&lt;TEXT&gt;\n\n                                  UNITED STATES\n                       SECURITIES AND EXCHANGE COMMISSION\n                             Washington, D.C. 20549\n\n                                    FORM 8-K\n\n                                 CURRENT REPORT\n     Pursuant to Section 13 OR 15(d) of The Securities Exchange Act of 1934\n\n\nDate of Report (Date of earliest event reported):  February 9, 2006\n\n                              Analog Devices, Inc.\n- --------------------------------------------------------------------------------\n             (Exact name of registrant as specified in its charter)\n\n      Massachusetts               1-7819                  04-2348234\n- --------------------------------------------------------------------------------\n (State or other juris-         (Commission              (IRS Employer\ndiction of incorporation       File Number)           Identification No.)\n\n\n     One Technology Way, Norwood, MA                          02062\n- --------------------------------------------------------------------------------\n(Address of principal executive offices)                    (Zip Code)\n\n\nRegistrant's telephone number, including area code:  (781) 329-4700\n\n\n- --------------------------------------------------------------------------------\n          (Former name or former address, if changed since last report)\n\n\nCheck the appropriate box below if the Form 8-K filing is intended to\nsimultaneously satisfy the filing obligation of the registrant under any of the\nfollowing provisions (see General Instruction A.2. below):\n\n|_|  Written communications pursuant to Rule 425 under the Securities Act (17\n     CFR 230.425)\n\n|_|  Soliciting material pursuant to Rule 14a-12 under the Exchange Act (17 CFR\n     240.14a-12)\n\n|_|  Pre-commencement communications pursuant to Rule 14d-2(b) under the\n     Exchange Act (17 CFR 240.14d-2(b))\n\n|_|  Pre-commencement communications pursuant to Rule 13e-4(c) under the\n     Exchange Act (17 CFR 240.13e-4(c))\n\n\n&lt;PAGE&gt;\n\n\nItem 2.02.  Results of Operations and Financial Condition\n\n     On February 9, 2006, Analog Devices, Inc. announced its financial results\nfor the quarter ended January 28, 2006. The full text of the press release\nissued in connection with the announcement is attached as Exhibit 99.1 to this\nCurrent Report on Form 8-K.\n\n     The information in this Form 8-K and the exhibit attached hereto shall not\nbe deemed \"filed\" for purposes of Section 18 of the Securities Exchange Act of\n1934 (the \"Exchange Act\") or otherwise subject to the liabilities of that\nsection, nor shall it be deemed incorporated by reference in any filing under\nthe Securities Act of 1933 or the Exchange Act, except as expressly set forth by\nspecific reference in such a filing.\n\n\n\n                                  EXHIBIT INDEX\n\nExhibit No.                Description\n- -----------                -----------\n\n99.1                       Press release dated February 9, 2006 issued by Analog\n                           Devices, Inc.\n&lt;/TEXT&gt;\n&lt;/DOCUMENT&gt;\n&lt;DOCUMENT&gt;\n&lt;TYPE&gt;EX-99.1\n&lt;SEQUENCE&gt;2\n&lt;FILENAME&gt;a5077045ex99_1.txt\n&lt;DESCRIPTION&gt;EXHIBIT 99.1\n&lt;TEXT&gt;\n                                                                    Exhibit 99.1\n\n\n                     Analog Devices Reports Results for the\n                       First Quarter of Fiscal Year 2006\n\n    NORWOOD, Mass.--(BUSINESS WIRE)--Feb. 9, 2006--Analog Devices,\nInc. (NYSE: ADI):\n\n    --  Board of Directors declares dividend of $0.12 per share for\n        the quarter.\n\n    --  Financial results for the first quarter and guidance for the\n        second quarter to be discussed on conference call today at\n        4:30 pm.\n\n    Analog Devices, Inc. (NYSE: ADI), a global leader in\nhigh-performance semiconductors for signal processing applications,\ntoday announced revenue of $621.3 million for the first quarter of\nfiscal 2006, an increase of 7% compared to the same period one year\nago and approximately even with the immediately prior quarter's $622.1\nmillion in revenue.\n\n\n\n    CONTACT: Analog Devices, Inc.\n             Maria Tagliaferro,781-461-3282\n             Director of Corporate Communications,\n             781-461-3491 (fax)\n             investor.relations@analog.com\n&lt;/TEXT&gt;\n&lt;/DOCUMENT&gt;\n&lt;/SEC-DOCUMENT&gt;\n-----END PRIVACY-ENHANCED MESSAGE-----\n</code></pre>\n"}, {"tags": ["arrays", "perl", "slice"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476452317, "post_id": 40044519, "comment_id": 67365082, "body": "Your code has syntax errors."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1476452372, "post_id": 40044519, "comment_id": 67365121, "body": "You should be getting a compilation error with this code; <code>x</code> is a hash, not a hash reference. Also, <code>array</code> is not an array of 4 hash references; it is an array of 16 scalars."}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "edited": false, "score": 1, "creation_date": 1476452438, "post_id": 40044519, "comment_id": 67365165, "body": "<code>@array</code> is not an array of hashes.  It is a flat 16-element array."}, {"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476452562, "post_id": 40044519, "comment_id": 67365263, "body": "Flat array of scalars - what method/structure can I do to house the four hashes?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476693592, "post_id": 40044519, "comment_id": 67436434, "body": "How many times do I need to recommend that you read <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldoc perldsc</a>? :-)"}, {"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476719642, "post_id": 40044519, "comment_id": 67454154, "body": "Sorry @DaveCross, been reading up since. Now that I see by ref actually points to a memory location rather than getting a copy, the picture is much clearer."}], "answers": [{"comments": [{"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476452986, "post_id": 40044675, "comment_id": 67365598, "body": "Thanks @chepner. Understand the %{$array[2]} part."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476453141, "post_id": 40044675, "comment_id": 67365704, "body": "I&#39;m dereferencing the hash reference so that we can assign an actual <code>hash</code> to <code>%x</code>. You could also work directly with the reference with <code>$my x = $array[2]; my $y = $x-&gt;{a}</code>. The key point is storing hash references in the array, instead of storing the expanded contents of each hash in the array."}], "tags": [], "owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 4, "last_activity_date": 1476452486, "creation_date": 1476452486, "answer_id": 40044675, "question_id": 40044519, "link": "https://stackoverflow.com/questions/40044519/perl-slicing-an-array-of-hashes/40044675#40044675", "title": "Perl: slicing an array of hashes", "body": "<p>If you want an array of hash references, you need to say so explicitly.</p>\n\n<pre><code>my @array = (\\%dot1, \\%dot2, \\%dot3, \\%dot4);\nmy %x = %{$array[2]};\nmy $y = $x{a};\nprint \"$y\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476452663, "post_id": 40044683, "comment_id": 67365335, "body": "Thanks @sparkeyG. I see the problem now."}, {"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476452872, "post_id": 40044683, "comment_id": 67365508, "body": "Though not entire sure I understand the $x since $array[2] is not a scalar but %dot2. Also, just want to confirm that in Perl, arrays and hashes do not start with zero, right?"}, {"owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "reply_to_user": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476455786, "post_id": 40044683, "comment_id": 67367562, "body": "The value at <code>$array[2]</code> is a reference to <code>%dot3</code> (note that arrays in perl are zero referenced.) $x is a scalar containing the reference."}], "tags": [], "owner": {"reputation": 532, "user_id": 716119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d3d8eb46cc0ed153c42b25a76c131f?s=128&d=identicon&r=PG", "display_name": "SparkeyG", "link": "https://stackoverflow.com/users/716119/sparkeyg"}, "is_accepted": false, "score": 2, "last_activity_date": 1476452502, "creation_date": 1476452502, "answer_id": 40044683, "question_id": 40044519, "link": "https://stackoverflow.com/questions/40044519/perl-slicing-an-array-of-hashes/40044683#40044683", "title": "Perl: slicing an array of hashes", "body": "<p>What you want to do is add references to your hashes to your <code>@array</code>, otherwise perl will evaluate the hashes in list context.</p>\n\n<pre><code>my @array = (\\%dot1,\\%dot2,\\%dot3,\\%dot4);\nmy $x = $array[2];\nmy $y = $x-&gt;{'a'};\n\nprint \"$y \\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476454953, "post_id": 40044720, "comment_id": 67367004, "body": "Very clear. And now see the zero base part clarified too. Many thanks @simbabque."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 5, "last_activity_date": 1476452595, "creation_date": 1476452595, "answer_id": 40044720, "question_id": 40044519, "link": "https://stackoverflow.com/questions/40044519/perl-slicing-an-array-of-hashes/40044720#40044720", "title": "Perl: slicing an array of hashes", "body": "<p>You don't have an <em>array of hashes</em>. You have an array that looks like a hash, where the keys <code>a</code> and <code>b</code> will be there four times each, in relatively random order.</p>\n\n<pre><code>print Dumper \\@array;\n$VAR1 = [\n          'a',\n          1,\n          'b',\n          2,\n          'a',\n          3,\n          'b',\n          4,\n          'a',\n          5,\n          'b',\n          6,\n          'a',\n          7,\n          'b',\n          8\n        ];\n</code></pre>\n\n<p>Afterwards, you are using <code>$x-&gt;{a}</code>, which is the syntax to take the key <code>a</code> from the hashref <code>$x</code>, but you only ever declared a hash <code>%a</code>. That in turn breaks, because you give it an odd-sized list of one value.</p>\n\n<p>Instead, add references to the hashes to your array. That way you will get a multi-level data structure instead of a flat list. Then make the <code>x</code> variable a scalar <code>$x</code>.</p>\n\n<pre><code>my %dot1 = ('a'=&gt;1,'b'=&gt;2);\nmy %dot2 = ('a'=&gt;3,'b'=&gt;4);\nmy %dot3 = ('a'=&gt;5,'b'=&gt;6);\nmy %dot4 = ('a'=&gt;7,'b'=&gt;8);\n\nmy @array = (\\%dot1,\\%dot2,\\%dot3,\\%dot4); # here\n\n\nmy $x = $array[2]; # here\nmy $y = $x-&gt;{'a'};\n\nprint \"$y \\n\";\n</code></pre>\n\n<p>This will print <code>5</code>.</p>\n\n<p>You should read up on data structures in <a href=\"http://perldoc.perl.org/perlref.html\">perlref</a> and <a href=\"http://perldoc.perl.org/perlreftut.html\">perlreftut</a>.</p>\n"}], "owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 40044675, "answer_count": 3, "score": 1, "last_activity_date": 1476452595, "creation_date": 1476452087, "question_id": 40044519, "link": "https://stackoverflow.com/questions/40044519/perl-slicing-an-array-of-hashes", "title": "Perl: slicing an array of hashes", "body": "<p>The output of the code below is always empty. Not sure what I am doing wrong and would appreciate any help. How do I get to the values of a key in a specific hash in an array of hashes?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %dot1 = ('a'=&gt;1,'b'=&gt;2);\nmy %dot2 = ('a'=&gt;3,'b'=&gt;4);\nmy %dot3 = ('a'=&gt;5,'b'=&gt;6);\nmy %dot4 = ('a'=&gt;7,'b'=&gt;8);\n\nmy @array = (%dot1,%dot2,%dot3,%dot4);\n\nmy %x = $array[2];\nmy $y = $x-&gt;{'a'};\n\nprint \"$y \\n\";\n</code></pre>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1476449974, "post_id": 40043756, "comment_id": 67363308, "body": "Iterate over it. Your JSON has an array. So has your Perl. There are no headers of any kind there."}, {"owner": {"reputation": 285, "user_id": 476918, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/qGBOr.jpg?s=128&g=1", "display_name": "Alfons", "link": "https://stackoverflow.com/users/476918/alfons"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476450146, "post_id": 40043756, "comment_id": 67363430, "body": "using  my $json = JSON-&gt;new-&gt;utf8;                 my @perl_data = $json-&gt;decode($content);                  foreach (@perl_data){                         print &quot;$_\\n&quot;;                 }  return ARRAY(0xae699d0)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1476450244, "post_id": 40043756, "comment_id": 67363495, "body": "That code you just commented will not work. You&#39;ll have the same array reference inside of <code>@perl_data</code> as the first element. And then you&#39;ll get something like <code>ARRAY(0x1234567)</code> as the output."}], "answers": [{"comments": [{"owner": {"reputation": 285, "user_id": 476918, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/qGBOr.jpg?s=128&g=1", "display_name": "Alfons", "link": "https://stackoverflow.com/users/476918/alfons"}, "edited": false, "score": 0, "creation_date": 1476450883, "post_id": 40043864, "comment_id": 67363999, "body": "Wow! And if I&#39;d like to access the single element?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 285, "user_id": 476918, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/qGBOr.jpg?s=128&g=1", "display_name": "Alfons", "link": "https://stackoverflow.com/users/476918/alfons"}, "edited": false, "score": 0, "creation_date": 1476451036, "post_id": 40043864, "comment_id": 67364113, "body": "@user476918 inside the <code>for()</code> loop: <code>print &quot;$elem-&gt;{SMS}: $elem-&gt;{NUM}\\n&quot;;</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 285, "user_id": 476918, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/qGBOr.jpg?s=128&g=1", "display_name": "Alfons", "link": "https://stackoverflow.com/users/476918/alfons"}, "edited": false, "score": 1, "creation_date": 1476451067, "post_id": 40043864, "comment_id": 67364142, "body": "@user476918 I think you are lacking some basic Perl knowledge. You should read <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlref.html</a> for a start."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1476450121, "creation_date": 1476450121, "answer_id": 40043864, "question_id": 40043756, "link": "https://stackoverflow.com/questions/40043756/json-string-and-perl/40043864#40043864", "title": "JSON string and PERL", "body": "<p>There is an array ref around the hash references. You need to iterate over the array reference to get each element.</p>\n\n<pre><code>use Data::Dumper;\n\nforeach my $elem (@{ $perl_data }) {\n    print Dumper $elem;\n}\n</code></pre>\n"}], "owner": {"reputation": 285, "user_id": 476918, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/qGBOr.jpg?s=128&g=1", "display_name": "Alfons", "link": "https://stackoverflow.com/users/476918/alfons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 1, "accepted_answer_id": 40043864, "answer_count": 1, "score": -2, "last_activity_date": 1476450121, "creation_date": 1476449791, "last_edit_date": 1476449950, "question_id": 40043756, "link": "https://stackoverflow.com/questions/40043756/json-string-and-perl", "title": "JSON string and PERL", "body": "<p>How can I read a JSON string like this without \"headers\":</p>\n\n<pre><code>[{\"SMS\":\"hello\",\"NUM\":12345},{\"SMS\":\"bye\",\"NUM\":54321}]\n</code></pre>\n\n<p></p>\n\n<pre><code>my $json = JSON-&gt;new-&gt;utf8;\nmy $perl_data = $json-&gt;decode($content);\nprint ref($perl_data) . \"\\n\";\n</code></pre>\n\n<p>returns ARRAY. I would like each element.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "mechanize"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1476451219, "post_id": 40043625, "comment_id": 67364272, "body": "Try fetching the page first, then submitting the login form. Normally you don&#39;t need to mess around with cookies and jars manually."}, {"owner": {"reputation": 43, "user_id": 6754312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d68fb1d8009f36eec5f810001e93c1d4?s=128&d=identicon&r=PG&f=1", "display_name": "Stephane", "link": "https://stackoverflow.com/users/6754312/stephane"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476452261, "post_id": 40043625, "comment_id": 67365038, "body": "@melpomene I did what you said, $agent-&gt;get($server_endpoint), then $agent-&gt;post($server_endpoint,[post_values]), but still the same...."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476458658, "post_id": 40043625, "comment_id": 67369407, "body": "What does it do if you remove all mentions of the cookie jar from your code and let WWW::Mechanize handle it on its own completely? You can also use Mechanize to submit the actual form instead of doing a <code>-&gt;post</code>. Just do the <code>get</code>, then let it figure out which form it needs to submit."}, {"owner": {"reputation": 43, "user_id": 6754312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d68fb1d8009f36eec5f810001e93c1d4?s=128&d=identicon&r=PG&f=1", "display_name": "Stephane", "link": "https://stackoverflow.com/users/6754312/stephane"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476459350, "post_id": 40043625, "comment_id": 67369907, "body": "@simbabque Thanks but I don&#39;t see what you mean by &quot;let Mechanize figure out which form it needs to submit&quot;, when I submit the login page in my browser I can clearly see that it&#39;s a POST request (using Live HTTP Headers)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1476459456, "post_id": 40043625, "comment_id": 67369977, "body": "Yes, of course. But WWW::Mechanize has functionality built in for submitting forms. Try those instead of doing the work yourself. <a href=\"https://v1.metacpan.org/pod/WWW::Mechanize#FORM-METHODS\" rel=\"nofollow noreferrer\">v1.metacpan.org/pod/WWW::Mechanize#FORM-METHODS</a>"}, {"owner": {"reputation": 43, "user_id": 6754312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d68fb1d8009f36eec5f810001e93c1d4?s=128&d=identicon&r=PG&f=1", "display_name": "Stephane", "link": "https://stackoverflow.com/users/6754312/stephane"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476462370, "post_id": 40043625, "comment_id": 67371808, "body": "@simbabque It seems nice indeed"}, {"owner": {"reputation": 43, "user_id": 6754312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d68fb1d8009f36eec5f810001e93c1d4?s=128&d=identicon&r=PG&f=1", "display_name": "Stephane", "link": "https://stackoverflow.com/users/6754312/stephane"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476464053, "post_id": 40043625, "comment_id": 67372661, "body": "@simbabque A problem though, when trying to use set_field function, like this set_field( name =&gt; value), name can&#39;t be with special caracter &quot;]&quot;, example: user[nickname]... what to do ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476464577, "post_id": 40043625, "comment_id": 67372903, "body": "Why not? I think you&#39;re not quoting correctly."}], "owner": {"reputation": 43, "user_id": 6754312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d68fb1d8009f36eec5f810001e93c1d4?s=128&d=identicon&r=PG&f=1", "display_name": "Stephane", "link": "https://stackoverflow.com/users/6754312/stephane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476449433, "creation_date": 1476449433, "question_id": 40043625, "link": "https://stackoverflow.com/questions/40043625/perl-mechanize-making-a-script-to-login-on-a-webpage", "title": "Perl Mechanize, making a script to login on a webpage", "body": "<p>I'm making a script to automatically login on a webpage, it starts with this:</p>\n\n<pre><code>use HTTP::Cookies;\nuse WWW::Mechanize;\n\nmy $cookie_jar = HTTP::Cookies-&gt;new;\nmy $agent      = WWW::Mechanize-&gt;new( cookie_jar =&gt; $cookie_jar );\n\nmy $server_endpoint = \"http://10.11.5.2/index.php\";\n\n$agent-&gt;post($server_endpoint,[tg =&gt; 'login', referer =&gt; 'index.php',login =&gt; 'login',sAuthType=&gt;'LOL',nickname=&gt;'admin',password=&gt;'012345678',submit=&gt;'Login']);\n\nprint \"Set Cookie Jar?\\n\", $agent-&gt;cookie_jar-&gt;as_string, \"\\n\";\n\nprint $agent-&gt;content;\n</code></pre>\n\n<p>And I get a page saying <strong>\"you are not logged in\"</strong>...but when I use the same credentials in the browser everything works.</p>\n\n<p>So I retrieved the value of the cookie sent by the server (located in the <em>set-cookie</em> header of the response) with  <code>$agent-&gt;cookie_jar-&gt;as_string</code>, here it's <strong>OV3176019645=3inkmpee0r5gpfm41c3iltvda1</strong>. </p>\n\n<p>THen I put it in the POST request before sending it, like the following:</p>\n\n<pre><code>use HTTP::Cookies;\nuse WWW::Mechanize;\n\nmy $cookie_jar = HTTP::Cookies-&gt;new;\nmy $agent      = WWW::Mechanize-&gt;new( cookie_jar =&gt; $cookie_jar );\n\nmy $server_endpoint = \"http://10.11.5.2/index.php\";\n$agent-&gt;add_header( Cookie =&gt; 'OV3176019645=osovm5u0vfc2dmkuo6bqn6hah1' );\n$agent-&gt;post($server_endpoint,[tg =&gt; 'login', referer =&gt; 'index.php',login =&gt; 'login',sAuthType=&gt;'LOL',nickname=&gt;'admin',password=&gt;'012345678',submit=&gt;'Login']);\n\n\nprint $agent-&gt;content;\n</code></pre>\n\n<p>This time everything works...</p>\n\n<p>So, my question is: how can I automatically get the value of the cookie given by the server before I send my request ?</p>\n\n<p>Another problem also appears, it's that the server sends back a cookie with the following shape (in the <em>set-cookie</em> header):</p>\n\n<pre><code>Set-Cookie3: OV3176019645=3inkmpee0r5gpfm41c3iltvda1; path=\"/\"; domain=10.11.5.2; path_spec; discard; version=0\n</code></pre>\n\n<p>And I just need the 1st item of this cookie (<strong>OV3176019....</strong>).</p>\n\n<p>I hope I was clear in my explanations.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "shared-libraries", "xs"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1476448882, "post_id": 40042252, "comment_id": 67362532, "body": "This is just a wild guess, but don&#39;t you have to include the header file in your XS file from where you&#39;re getting the <code>pb_register_restartproc()</code> function from? eg: <code>#include h_file_containing_function.h</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1476468692, "post_id": 40042252, "comment_id": 67375063, "body": "@stevieb, <code>extern int pb_register_restartproc(char *action);</code> is basically the equivalent of including the .h"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1476468760, "post_id": 40042252, "comment_id": 67375098, "body": "@Sanchita Ghai, Nowhere do you tell Perl to link to the the library that provides <code>pb_register_restartproc</code>! I think that&#39;s done by providing a <code>-lfoo</code> in <code>LIBS</code>?"}, {"owner": {"reputation": 63, "user_id": 4764142, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8ed4e031865bdef2683cd2a398d2866a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanchita Ghai", "link": "https://stackoverflow.com/users/4764142/sanchita-ghai"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1476481618, "post_id": 40042252, "comment_id": 67380995, "body": "@ikegami, thanks for the help,I have included the library in MYEXTLIB attribute and it is working fine now."}], "owner": {"reputation": 63, "user_id": 4764142, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8ed4e031865bdef2683cd2a398d2866a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanchita Ghai", "link": "https://stackoverflow.com/users/4764142/sanchita-ghai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 1, "closed_date": 1503503785, "answer_count": 0, "score": 3, "last_activity_date": 1476447112, "creation_date": 1476445073, "last_edit_date": 1476447112, "question_id": 40042252, "link": "https://stackoverflow.com/questions/40042252/perl-xs-shared-library-link", "closed_reason": "Duplicate", "title": "Perl XS :Shared library link", "body": "<p>I am fairly new to perl and I am trying to use XS to call a particular C function from my perl script.I am trying to call the C function from an test script from now.I am getting the following error on running \"make test\" -</p>\n\n<pre><code>PERL_DL_NONLAZY=1 /usr/bin/perl \"-MExtUtils::Command::MM\" \"-e\" \"test_harness(0, 'blib/lib', 'blib/arch')\" t/*.t\nt/test.t .. 1/1 \nFailed test 'use test;'at t/test.t line 12.Tried to use 'test'. Error:  Can't load '/mnt/workspaces/TOT4/usr.src/netscaler/gslbautosync/test/blib/arch/auto/test/test.so' for module test: /mnt/workspaces/TOT4/usr.src/netscaler/gslbautosync/test/blib/arch/auto/test/test.so: Undefined symbol \"pb_register_restartproc\" at /usr/local/lib/perl5/5.14.2/mach/DynaLoader.pm line 190.\n</code></pre>\n\n<p>This is my Makefile.PL-</p>\n\n<pre><code>    use 5.014002;\n    use ExtUtils::MakeMaker;\n    WriteMakefile(\n    NAME              =&gt; 'test',\n    VERSION_FROM      =&gt; 'lib/test.pm', # finds $VERSION\n    PREREQ_PM         =&gt; {}, # e.g., Module::Name =&gt; 1.1\n   ($] &gt;= 5.005 ?     ## Add these new keywords supported since 5.005\n    (ABSTRACT_FROM  =&gt; 'lib/test.pm', # retrieve abstract from module\n     AUTHOR         =&gt; 'Charlie &amp; &lt;root@isc.freebsd.org&gt;') : ()),\n  LIBS              =&gt; ['-L../../libnsapps/.obj/$(MACHINE_ARCH) -L../../libpb/.obj/$(MACHINE_ARCH) '],\n   DEFINE            =&gt; '-g -DDEBUG -DDEBUG2 -Wall -Dunix -fPIC -DLINUX ',\n   INC               =&gt; '-I../../../..', # e.g., '-I. -I/usr/include/other'\n      # Un-comment this if you add C files to link with later:\n  # OBJECT            =&gt; '$(O_FILES)', # link all the C files too\n</code></pre>\n\n<p>);<br>\nThis is my test.xs-</p>\n\n<pre><code>#include \"EXTERN.h\"\n#include \"perl.h\"\n#include \"XSUB.h\"\n#include \"ppport.h\"\nMODULE = test           PACKAGE = test\nint\npb_register_restartproc(action)\n              char *action\n      CODE:\n              extern int pb_register_restartproc(char *action);\n              RETVAL = pb_register_restartproc(action);\n      OUTPUT:\n              RETVAL\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1875, "user_id": 2291378, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a095717214da41d823e6333c1e3590ca?s=128&d=identicon&r=PG", "display_name": "Richard Smith", "link": "https://stackoverflow.com/users/2291378/richard-smith"}, "edited": false, "score": 0, "creation_date": 1476441677, "post_id": 40041166, "comment_id": 67357943, "body": "I&#39;m sorry, but I&#39;m not sure how that answers my question.  Can you be a bit more explicit about what is missing from my code?  What do I need to cause top-of-form processing to happen for the second table?"}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 1875, "user_id": 2291378, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a095717214da41d823e6333c1e3590ca?s=128&d=identicon&r=PG", "display_name": "Richard Smith", "link": "https://stackoverflow.com/users/2291378/richard-smith"}, "edited": false, "score": 0, "creation_date": 1476441819, "post_id": 40041166, "comment_id": 67358026, "body": "It&#39;s a type of header which <code>perl</code> interpreter prints at the top of STDOUT. Once."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1476441976, "post_id": 40041166, "comment_id": 67358140, "body": "OP seems to be aware of that, and uses it for exactly that. But they want to use it more than once."}, {"owner": {"reputation": 1875, "user_id": 2291378, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a095717214da41d823e6333c1e3590ca?s=128&d=identicon&r=PG", "display_name": "Richard Smith", "link": "https://stackoverflow.com/users/2291378/richard-smith"}, "edited": false, "score": 0, "creation_date": 1476442141, "post_id": 40041166, "comment_id": 67358268, "body": "So are you saying that once a program has written a format to STDOUT, it can never write another one and still get top-of-form processing?  I know that cannot be the complete picture, because the code does it successfully in many places.   But I can&#39;t see how bits of code that work differ from my MWE above, other than that in the working cases, the uses of format are very well separated."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1476442618, "post_id": 40041166, "comment_id": 67358534, "body": "I see. But I have no idea why this works. :D After all, <code>$~</code> is the same as using <code>format_top_name</code>. But this seems to be a better option than mine though."}, {"owner": {"reputation": 1875, "user_id": 2291378, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a095717214da41d823e6333c1e3590ca?s=128&d=identicon&r=PG", "display_name": "Richard Smith", "link": "https://stackoverflow.com/users/2291378/richard-smith"}, "edited": false, "score": 0, "creation_date": 1476442737, "post_id": 40041166, "comment_id": 67358615, "body": "The name of the forma is entirely irrelevant.  Changing it from FMT1_TOP to ENDING doesn&#39;t make any difference.  What <i>does</i> fix it, and is the part of your code that you don&#39;t discuss at all, is setting <code>$~</code> and calling write explicitly on the top."}, {"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "reply_to_user": {"reputation": 1875, "user_id": 2291378, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a095717214da41d823e6333c1e3590ca?s=128&d=identicon&r=PG", "display_name": "Richard Smith", "link": "https://stackoverflow.com/users/2291378/richard-smith"}, "edited": false, "score": 0, "creation_date": 1476442849, "post_id": 40041166, "comment_id": 67358689, "body": "@RichardSmith: Exactly. I noticed that and removed that part."}, {"owner": {"reputation": 1875, "user_id": 2291378, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a095717214da41d823e6333c1e3590ca?s=128&d=identicon&r=PG", "display_name": "Richard Smith", "link": "https://stackoverflow.com/users/2291378/richard-smith"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1476442912, "post_id": 40041166, "comment_id": 67358719, "body": "Okay.  I&#39;ve accepted this answer now, though I still have no idea why it works.  As @simbabque says, setting $~ is supposedly the same as calling format_top_name. Also, the extra form feed that his $- solution gives is a problem in this particular case."}], "tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 3, "last_activity_date": 1476442962, "last_edit_date": 1476442962, "creation_date": 1476441566, "answer_id": 40041166, "question_id": 40041051, "link": "https://stackoverflow.com/questions/40041051/two-perl-formats-on-a-page/40041166#40041166", "title": "Two perl formats on a page", "body": "<p><code>_TOP</code> is a type of page header. Perl interpreter prints it at the top of filehandle.</p>\n\n<p>Use <code>$~</code> to tell the Perl interpreter that <code>FMT1_TOP</code> is the print format that should be used when calling <code>write</code>.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse FileHandle;\nuse strict;\nuse warnings;\n\nsub table {\n    my ($name, $val);\n\n$~ = \"FMT1_TOP\";\nwrite;\n    format_name STDOUT \"FMT1\";\n    format_top_name STDOUT \"FMT1_TOP\";\n    ($name, $val) = (\"Item1\", 42);  write;\n    ($name, $val) = (\"Item2\", 100);  write;\n\nformat FMT1_TOP =\nName         | Cost\n-------------+-------\n.\n\nformat FMT1 =\n@&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; | @&lt;&lt;&lt;&lt;\n$name,         $val\n.\n}\n\nprint \"Data 1\\n\"; table; print \"\\n\";\nprint \"Data 2\\n\"; table;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1476443409, "last_edit_date": 1476443409, "creation_date": 1476442478, "answer_id": 40041443, "question_id": 40041051, "link": "https://stackoverflow.com/questions/40041051/two-perl-formats-on-a-page/40041443#40041443", "title": "Two perl formats on a page", "body": "<p>The <code>_TOP</code> format will be written at the top of every page. You can force a new page by setting <code>$-</code> to 0. Unfortunately that gives you a <a href=\"https://en.wikipedia.org/wiki/Page_break#Form_feed\" rel=\"nofollow\">form-feed character</a> (ASCII character 12 in decimal). If this only goes to the screen, it's probably not a problem. </p>\n\n<p>This is documented in <a href=\"http://perldoc.perl.org/functions/write.html\" rel=\"nofollow\"><code>write</code></a> in the second paragraph.</p>\n\n<blockquote>\n  <p>Top of form processing is handled automatically: if there is insufficient room on the current page for the formatted record, the page is advanced by writing a form feed and a special top-of-page format is used to format the new page header before the record is written. [...] The number of lines remaining on the current page is in variable $- , which can be set to 0 to force a new page.</p>\n</blockquote>\n\n<p>This is how you can do it:</p>\n\n<pre><code>sub table {\n    my ($name, $val);\n\n    $- = 0; # &lt;-- here\n\n    format_name STDOUT \"FMT1\";\n    format_top_name STDOUT \"FMT1_TOP\";\n\n    ($name, $val) = (\"Item1\", 42);  write;\n    ($name, $val) = (\"Item2\", 100);  write;\n\nformat FMT1_TOP =\nName         | Cost\n-------------+-------\n.\n\nformat FMT1 =\n@&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; | @&lt;&lt;&lt;&lt;\n$name,         $val\n.\n}\n</code></pre>\n\n<p>The output in my IDE displays the character.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XNo07.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/XNo07.png\" alt=\"screenshot of output in Komodo IDE X\"></a></p>\n\n<p>My terminal does not. It shows a new line instead. But a printer would understand this to be a new page.</p>\n\n<pre><code>Data 1\nName         | Cost\n-------------+-------\n       Item1 | 42\n       Item2 | 100\n\nData 2\n\nName         | Cost\n-------------+-------\n       Item1 | 42\n       Item2 | 100\n</code></pre>\n"}], "owner": {"reputation": 1875, "user_id": 2291378, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a095717214da41d823e6333c1e3590ca?s=128&d=identicon&r=PG", "display_name": "Richard Smith", "link": "https://stackoverflow.com/users/2291378/richard-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 40041166, "answer_count": 2, "score": 4, "last_activity_date": 1476443409, "creation_date": 1476441214, "question_id": 40041051, "link": "https://stackoverflow.com/questions/40041051/two-perl-formats-on-a-page", "title": "Two perl formats on a page", "body": "<p>I have inherited perl code that uses formats twice in rapid succession.  Here's a MWE.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse FileHandle;\nuse strict;\nuse warnings;\n\nsub table {\n    my ($name, $val);\n\n    format_name STDOUT \"FMT1\";\n    format_top_name STDOUT \"FMT1_TOP\";\n\n    ($name, $val) = (\"Item1\", 42);  write;\n    ($name, $val) = (\"Item2\", 100);  write;\n\nformat FMT1_TOP =\nName         | Cost\n-------------+-------\n.\n\nformat FMT1 =\n@&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; | @&lt;&lt;&lt;&lt;\n$name,         $val\n.\n}\n\nprint \"Data 1\\n\"; table; print \"\\n\";\nprint \"Data 2\\n\"; table;\n</code></pre>\n\n<p>The problem I'm seeing is that perl obviously thinks both sets of data are part of the same table and doesn't print a new table heading.  So the output I get is this:</p>\n\n<pre><code>Data 1\nName         | Cost\n-------------+-------\n       Item1 | 42\n       Item2 | 100\n\nData 2\n       Item1 | 42\n       Item2 | 100\n</code></pre>\n\n<p>I expected to see:</p>\n\n<pre><code>Data 1\nName         | Cost\n-------------+-------\n       Item1 | 42\n       Item2 | 100\n\nData 2\nName         | Cost\n-------------+-------\n       Item1 | 42\n       Item2 | 100\n</code></pre>\n\n<p>I'm sure there must be some <code>close_format</code>-like function that I'm missing at the end of <code>table()</code>, but formats are so last century that I've forgotten what I once knew about them, and all the examples I can find online use just a single format per program.  What am I missing?</p>\n\n<p>Note that replacing formats with something else is not a viable option in this project at this particular point.  </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1945, "user_id": 5669174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XGSyr.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/5669174/mike"}, "edited": false, "score": 1, "creation_date": 1476441222, "post_id": 40040905, "comment_id": 67357659, "body": "Need unzip data before test <code>zcat data.log.gz | perl .... | ...</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1476442285, "post_id": 40040905, "comment_id": 67358348, "body": "We need more XML. But the answer is &#39;don&#39;t use a regex; use a parser&#39;."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1476443086, "post_id": 40040905, "comment_id": 67358825, "body": "That <code>ABC ID:12342132</code> at the start of the data means that what you have there isn&#39;t XML."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 1, "creation_date": 1476445125, "post_id": 40041388, "comment_id": 67360023, "body": "I would expect a @Developer to understand what a bad problem report &quot;this is not working&quot; is. Please update your question to include exactly what you tried and exactly what unexpected behaviour you saw."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1476696449, "post_id": 40041388, "comment_id": 67438154, "body": "@Developer: Interesting that you said &quot;this is not working&quot; but then accepted it as an answer with no further explanation."}, {"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1476770290, "post_id": 40041388, "comment_id": 67473160, "body": "I was not providing required data in correct format.So i got the issue then i used your command and it worked for me"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1476442284, "creation_date": 1476442284, "answer_id": 40041388, "question_id": 40040905, "link": "https://stackoverflow.com/questions/40040905/execute-perl-regular-expression-on-all-zip-files-unix/40041388#40041388", "title": "Execute Perl Regular Expression on all zip files unix", "body": "<p>Zipped files won't contain the data that you want in a format that you can easily parse with Perl. You need to unzip them first. But the Unix command <code>zcat</code> can you that on the fly for you.</p>\n\n<pre><code>$ zcat data.log.gz | perl ...\n</code></pre>\n"}], "owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 40041388, "answer_count": 1, "score": 0, "last_activity_date": 1476442284, "creation_date": 1476440776, "question_id": 40040905, "link": "https://stackoverflow.com/questions/40040905/execute-perl-regular-expression-on-all-zip-files-unix", "title": "Execute Perl Regular Expression on all zip files unix", "body": "<p>I have collections of zip files in that i have some xml data.On that data i want to execute Perl regular expression from command line .But the command is only working on non zipped files and for zipped file it is not wokring.</p>\n\n<pre><code> perl -ne '/ID:([0-9.]+).+Test=\\\"([\\d\\w.-\\s]+)\\\"/ and print \"$1 $2\\n\"' data.log.gz  | sort -nr | uniq -c | sort -nr\n</code></pre>\n\n<p>Sample XML structure:</p>\n\n<pre><code>ABC ID:12342132: &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;a Test=\"ABC\"&gt;&lt;/a&gt;\n</code></pre>\n"}, {"tags": ["perl", "hash", "parameter-passing"], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1476440929, "post_id": 40040716, "comment_id": 67357474, "body": "Why didn&#39;t you fix all the <code>@_[0]</code> errors to <code>$_[0]</code>?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1476441861, "post_id": 40040716, "comment_id": 67358053, "body": "Why did you add <code>Data::Dumper</code>?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476442757, "post_id": 40040716, "comment_id": 67358629, "body": "@DaveCross: Sure we can do this <code>@_[0]</code> to <code>$_[0]</code>."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1476442786, "post_id": 40040716, "comment_id": 67358647, "body": "@melpomene: Just I want to confirm the <code>hash</code> values with <code>Dumper</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476442936, "post_id": 40040716, "comment_id": 67358738, "body": "@ssr1012: I know that we <b>can</b> do it. I wondered why you <b>didn&#39;t</b> do it - given that it was the most obvious error in the original code."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1476443295, "post_id": 40040716, "comment_id": 67358968, "body": "@DaveCross: I copied the code and compiled without modification rather than <code>@_[0]-&gt;{&#39;x&#39;}</code>. Also without warnings <code>-w</code> I did the same. Hence I couldn&#39;t update that <code>array</code> into <code>scalar indexing</code>. Do you need apologizes from me. Anyway I regret for this which I have not done."}, {"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476445666, "post_id": 40040716, "comment_id": 67360373, "body": "thank you @ssr1012. Would have been clueless about using -&gt;! Not come across that so far."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476447289, "post_id": 40040716, "comment_id": 67361463, "body": "@user110084: You don&#39;t need to use  the <code>-&gt;</code> here though. <code>$_[0]{&#39;x&#39;}</code> and <code>$_[0]-&gt;{&#39;x&#39;}</code> both do exactly the same thing."}, {"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476448205, "post_id": 40040716, "comment_id": 67362069, "body": "I realise I should dig deeper before asking. Where can I read up on &quot;-&gt;&quot; and related stuff? Not even sure what to search..."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476696381, "post_id": 40040716, "comment_id": 67438098, "body": "@user110084: To read up on this stuff try <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perldoc perlreftut</a>, <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perldoc perlref</a> and <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldoc perldsc</a>. But I think you&#39;d be well advised to get a good book as well."}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": -1, "last_activity_date": 1476440729, "last_edit_date": 1476440729, "creation_date": 1476440242, "answer_id": 40040716, "question_id": 40040374, "link": "https://stackoverflow.com/questions/40040374/perl-passing-two-hashes-to-sub/40040716#40040716", "title": "Perl: passing two hashes to sub", "body": "<p>Could you please try this:</p>\n\n<pre><code>use Data::Dumper;\n\nmy %dot1 = ('x'=&gt;5, 'y'=&gt;6);\nmy %dot2 = ('x'=&gt;7, 'y'=&gt;8);\n\nsub dist {\n    my %hash1 = @_[0];\n    my %hash2 = @_[1];\n   $dist = ((@_[0]-&gt;{'x'}-@_[1]-&gt;{'x'})**2 + (@_[0]-&gt;{'y'}-@_[1]-&gt;{'y'})**2)**0.5;\n   }\n\n$D = dist(\\%dot1,\\%dot2);\n\nprint $D;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1476442147, "last_edit_date": 1476442147, "creation_date": 1476440854, "answer_id": 40040936, "question_id": 40040374, "link": "https://stackoverflow.com/questions/40040374/perl-passing-two-hashes-to-sub/40040936#40040936", "title": "Perl: passing two hashes to sub", "body": "<p>Many problems here, I'm afraid.</p>\n\n<p>First you, need to add <code>use strict</code> and <code>use warnings</code> to your code. This will point out many errors. Mainly places where you use <code>@array[index]</code> but should have used <code>$array[index]</code>. You also don't declare any of your variables.</p>\n\n<p>Fixing all of that gives me this code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy %dot1 = ('x'=&gt;5, 'y'=&gt;6);\nmy %dot2 = ('x'=&gt;7, 'y'=&gt;8);\n\nsub dist {\n    my (%hash1) = $_[0];\n    my (%hash2) = $_[1];\n\n    my $dist = (($_[0]{'x'}-$_[1]{'x'})**2 + ($_[0]{'y'}-$_[1]{'y'})**2)**0.5;\n}\n\n\nmy $D = dist(\\%dot1,\\%dot2);\n\nsay $D;\n</code></pre>\n\n<p>This still doesn't work. I get:</p>\n\n<pre><code>$ perl twohash\nReference found where even-sized list expected at twohash line 11.\nReference found where even-sized list expected at twohash line 12.\n2.82842712474619\n</code></pre>\n\n<p>The errors are where you are assigning the two arguments you pass into <code>dist()</code>.</p>\n\n<pre><code>my (%hash1) = $_[0];\nmy (%hash2) = $_[1];\n</code></pre>\n\n<p>You are passing references to hashes, not the hashes themselves (And you're right to do that), but this means that you get scalars, not hashes, in the subroutine. So those lines need to be:</p>\n\n<pre><code>my ($hash1) = $_[0];\nmy ($hash2) = $_[1];\n</code></pre>\n\n<p>Making those changes, the code now works and gives the result \"2.82842712474619\".</p>\n\n<p>I'll just point out one further strangeness in your code - you assign the parameters to the function to two lexical variables (<code>$hash1</code> and <code>$hash2</code>) but you then ignore those variables and instead go directly to <code>@_</code> for this data. I expect you actually want:</p>\n\n<pre><code>my $dist = (($hash1-&gt;{'x'}-$hash2-&gt;{'x'})**2 + ($hash1-&gt;{'y'}-$hash2-&gt;{'y'})**2)**0.5;\n</code></pre>\n\n<p>Note, I've changed <code>$_[0]{'x'}</code> to <code>$hash1-&gt;{'x'}</code> as you have a reference to a hash.</p>\n\n<p>All in all, this code is a bit of a mess and I suggest you go back to the very earliest chapters of whatever book you are learning Perl from.</p>\n"}, {"comments": [{"owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476445888, "post_id": 40041240, "comment_id": 67360519, "body": "That is really helpful @melpomene. Thank you for taking the trouble to explain it so well."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "edited": false, "score": 0, "creation_date": 1476469464, "post_id": 40041240, "comment_id": 67375459, "body": "@user110084 See <a href=\"https://p3rl.org/REF\" rel=\"nofollow noreferrer\">p3rl.org/REF</a> for more information about references."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1476442207, "last_edit_date": 1476442207, "creation_date": 1476441817, "answer_id": 40041240, "question_id": 40040374, "link": "https://stackoverflow.com/questions/40040374/perl-passing-two-hashes-to-sub/40041240#40041240", "title": "Perl: passing two hashes to sub", "body": "<p>First and foremost, you should start every file with</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>This lets Perl catch the most obvious errors in code.</p>\n\n<hr>\n\n<p>This part is mostly fine, but under <code>use strict</code> Perl will complain about <code>%dot1</code> and <code>%dot2</code> being undeclared (and without <code>strict</code> they will be implicitly global, which is usually not what you want):</p>\n\n<pre><code>%dot1 = ('x'=&gt;5, 'y'=&gt;6);\n%dot2 = ('x'=&gt;7, 'y'=&gt;8);\n</code></pre>\n\n<p>Change it to</p>\n\n<pre><code>my %dot1 = ('x'=&gt;5, 'y'=&gt;6);\nmy %dot2 = ('x'=&gt;7, 'y'=&gt;8);\n</code></pre>\n\n<hr>\n\n<p>The call</p>\n\n<pre><code>$D = dist(\\%dot1,\\%dot2);\n</code></pre>\n\n<p>has the same problem: It should be</p>\n\n<pre><code>my $D = dist(\\%dot1,\\%dot2);\n</code></pre>\n\n<p>What it does is pass references to <code>%dot1</code> and <code>%dot2</code> to the sub <code>dist</code>.</p>\n\n<hr>\n\n<pre><code>    my (%hash1) = @_[0];\n</code></pre>\n\n<p>This line doesn't make much sense: <code>@_[0]</code> is a list slice, returning a list of elements of <code>@_</code> corresponding to the indices <code>0</code>. In other words, it's a one-element slice and better written as <code>$_[0]</code>, accessing the single element directly.</p>\n\n<p>But in either case it doesn't make sense to assign a single element to a hash. Perl will interpret it as a key and set the corresponding value to <code>undef</code>. Your call passed <code>\\%dot1</code> as the first argument, so <code>$_[0]</code> is a reference to a hash. By using it as a hash key, Perl will convert it to a string, yielding something like <code>\"HASH(0x0075ADD40)\"</code>.</p>\n\n<p>Your choices at this point are to either dereference the reference right there and make a copy:</p>\n\n<pre><code>    my %hash1 = %{ $_[0] };   # effectively performs %hash1 = %dot1\n</code></pre>\n\n<p>Or keep the reference and dereference it each time you need access to the hash:</p>\n\n<pre><code>    my $hashref1 = $_[0];     # $hashref1-&gt;{foo} accesses $dot1{foo} directly\n</code></pre>\n\n<hr>\n\n<pre><code>    $dist = ((@_[0]{'x'}-@_[1]{'x'})**2 + (@_[0]{'y'}-@_[1]{'y'})**2)**0.5;\n</code></pre>\n\n<p>There are a few issues here. First, you don't need the (implicitly global) variable <code>$dist</code>. You just want to return a value from the sub, which can be done with <code>return</code>. Then, as explained above, <code>@_[0]</code> and <code>@_[1]</code> should be <code>$_[0]</code> and <code>$_[1]</code>, respectively. Fixing that we get</p>\n\n<pre><code>    return (($_[0]{'x'} - $_[1]{'x'}) ** 2 + ($_[0]{'y'} - $_[1]{'y'}) ** 2) ** 0.5;\n</code></pre>\n\n<p>This does indeed work (<code>$_[0]{'x'}</code> is syntactic sugar for <code>$_[0]-&gt;{'x'}</code>, i.e. this expression dereferences the hash reference stored in <code>$_[0]</code> to reach the <code>'x'</code> key of <code>%dot1</code>).</p>\n\n<p>But we didn't use the variables we just created at all. Depending on which way you want to go, you should replace <code>$_[0]{foo}</code> by either <code>$hash1{foo}</code> or <code>$hashref1-&gt;{foo}</code> (and similar for <code>$_[1]</code> and <code>%hash2</code>/<code>$hashref2</code>).</p>\n\n<p>Finally, instead of <code>** 0.5</code> we can just use <code>sqrt</code>.</p>\n\n<hr>\n\n<p>Here's how I'd write it:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub dist {\n    my ($p1, $p2) = @_;\n    return sqrt(($p1-&gt;{x} - $p2-&gt;{x}) ** 2 + ($p1-&gt;{y} - $p2-&gt;{y}) ** 2);\n}\n\nmy %dot1 = (x =&gt; 5, y =&gt; 6);\nmy %dot2 = (x =&gt; 7, y =&gt; 8);\n\nmy $D = dist(\\%dot1, \\%dot2);\n\nprint \"Result: $D\\n\";\n</code></pre>\n"}], "owner": {"reputation": 259, "user_id": 6828374, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/8e991fe8e0e112e80e8ec84a0e31ee20?s=128&d=identicon&r=PG&f=1", "display_name": "user110084", "link": "https://stackoverflow.com/users/6828374/user110084"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1019, "favorite_count": 0, "accepted_answer_id": 40041240, "answer_count": 3, "score": 0, "last_activity_date": 1476442207, "creation_date": 1476439240, "question_id": 40040374, "link": "https://stackoverflow.com/questions/40040374/perl-passing-two-hashes-to-sub", "title": "Perl: passing two hashes to sub", "body": "<p>Below is a small sub to calculate distance between two points by passing two hashes each containing the x and y coordinates. I get a \"syntax error near ]{\" fatal error at the line calling the sub. Just started on Perl yesterday, not entirely sure what I am doing. How do I pass two hashes to a sub to return a value? Tried <a href=\"http://www.perlmonks.org/?node_id=932374\" rel=\"nofollow\">this</a> without much success and not sure what I need to work on (hope it is ok to refer to an outside link).</p>\n\n<pre><code>%dot1 = ('x'=&gt;5, 'y'=&gt;6);\n%dot2 = ('x'=&gt;7, 'y'=&gt;8);\n\nsub dist {\n    my (%hash1) = @_[0];\n    my (%hash2) = @_[1];\n\n    $dist = ((@_[0]{'x'}-@_[1]{'x'})**2 + (@_[0]{'y'}-@_[1]{'y'})**2)**0.5;\n}\n\n\n$D = dist(\\%dot1,\\%dot2);\n</code></pre>\n"}, {"tags": ["eclipse", "perl", "debugging", "carp"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1476436217, "post_id": 40039134, "comment_id": 67354400, "body": "The link to your screenshot is broken. Please don&#39;t include screenshots of code or error messages, but instead provide them as text in the question body. You can <a href=\"https://stackoverflow.com/posts/40039134/edit\">edit</a> your question and change that. You should also include a bit more of that program you wrote. If I copy and run your code snippet, it won&#39;t do anything because it&#39;s just a function that&#39;s not invoked anywhere. And we don&#39;t have Features either. Without the full thing, we cannot reproduce your problem and thus can&#39;t help."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476459930, "post_id": 40039134, "comment_id": 67370292, "body": "I don&#39;t think this is about the <code>return</code>. Does this problem also occur when you run your program without a debugger? Or with the command line debugger (just run it with <code>perl -d foo.pl</code>)? I believe this is Eclipse getting confused with your file system."}, {"owner": {"reputation": 39, "user_id": 5746693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/680ab802ec6d9482bdedf19e17826b19?s=128&d=identicon&r=PG&f=1", "display_name": "stepan", "link": "https://stackoverflow.com/users/5746693/stepan"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476461443, "post_id": 40039134, "comment_id": 67371301, "body": "Problem occurs only when I run program in debug mode in eclipse. When I run it without debuging OR simply from console OR with <code>perl -d foo.pl</code> everything is Ok. So what I shoul do? What do you mean by &quot;Eclipse getting confused with your file system&quot;?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1476461648, "post_id": 40039134, "comment_id": 67371416, "body": "Have you read the error messages down in the bottom left pane? It complains that it doesn&#39;t like some paths. I have no clue what that means, but it sounds like it&#39;s confused there. On the other hand, it opened the right file, didn&#39;t it?"}], "owner": {"reputation": 39, "user_id": 5746693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/680ab802ec6d9482bdedf19e17826b19?s=128&d=identicon&r=PG&f=1", "display_name": "stepan", "link": "https://stackoverflow.com/users/5746693/stepan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476461494, "creation_date": 1476435743, "last_edit_date": 1476461494, "question_id": 40039134, "link": "https://stackoverflow.com/questions/40039134/perl-debuging-causes-an-internal-error-occurred-during-perldebugjob", "title": "Perl debuging causes: An internal error occurred during: &quot;PerlDebugJob&quot;", "body": "<p>I didn't know what I do wrong. When I debug my perl script, it was terminated. Place where scipr is terminated is completely normal return from the function:</p>\n\n<pre><code>sub new {\n\n    my $self = shift;\n    $self = {};\n    bless $self;\n\n    #instance of  \"base\" class Features.pm\n    $self-&gt;{\"base\"} = Features-&gt;new();\n\n    my @features = ();\n    $self-&gt;{\"features\"} = \\@features;\n\n    return $self; # &lt;== here is script terminated\n}\n</code></pre>\n\n<p>Right before terminated it goes to <code>Carp</code> module to function <code>longmess</code>\nI put here only preview of my code, because it is huge project. Only to see how the ordinary code it is, where it fail.</p>\n\n<p>When I \"remove\" the module, which leads to termanation, from project and run this module separately, it is OK. Thus error will be somewhere else.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0fbZL.jpg\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/0fbZL.jpg\" alt=\"enter image description here\"></a>\n(this error happend in different places in code, but only in <code>return</code> command)\nI use perl 5.16, Eclipse and Epic and my project located in c:\\Perl\\site\\lib\\</p>\n\n<p>Please help me. Thank you</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Problem occurs only when I run program in debug mode in eclipse. When I run it without debuging</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 6, "creation_date": 1476434806, "post_id": 40038755, "comment_id": 67353606, "body": "Going to make a quick guess and say it&#39;s because the <code>use</code> statement doesn&#39;t match the <code>package</code> statement. Try <code>package My::McuEnc</code> instead, and see if that dose it?"}, {"owner": {"reputation": 11, "user_id": 5973476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uPPuL.jpg?s=128&g=1", "display_name": "Eric Zhang", "link": "https://stackoverflow.com/users/5973476/eric-zhang"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1476435177, "post_id": 40038755, "comment_id": 67353797, "body": "It works! Thank you very much."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1476447155, "post_id": 40038755, "comment_id": 67361363, "body": "@Sobrique you should put that as the answer"}], "answers": [{"tags": [], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "is_accepted": false, "score": 0, "last_activity_date": 1477398862, "creation_date": 1477398862, "answer_id": 40240126, "question_id": 40038755, "link": "https://stackoverflow.com/questions/40038755/undefined-subroutine-mainkey-enc/40240126#40240126", "title": "Undefined subroutine &amp;main::key_enc", "body": "<p>This was answered by Sobrique in the comments, but it was never posted as an official answer:</p>\n\n<p>\"The <code>use</code> statement doesn't match the package statement. Try package <code>My::McuEnc</code> instead\"</p>\n"}], "owner": {"reputation": 11, "user_id": 5973476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uPPuL.jpg?s=128&g=1", "display_name": "Eric Zhang", "link": "https://stackoverflow.com/users/5973476/eric-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1153, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1477398862, "creation_date": 1476434475, "question_id": 40038755, "link": "https://stackoverflow.com/questions/40038755/undefined-subroutine-mainkey-enc", "title": "Undefined subroutine &amp;main::key_enc", "body": "<p>I have a Perl module named McuEnc.pm which is located at /home/eric/temp directory:</p>\n\n<pre><code>package McuEnc;\n\nuse 5.010;\nuse strict;\nuse warnings;\nuse Exporter qw(import); \n\nour @EXPORT_OK = qw(key_enc data_enc data_dec); \n\nsub key_enc { some code }\nsub data_enc { some code } \nsub data_dec { some code }\n\n1;\n</code></pre>\n\n<p>I have a Perl script named test.pl which is also located at /home/eric/temp directory:</p>\n\n<pre><code>use 5.010;\nuse strict;\nuse warnings;\nuse McuEnc qw(key_enc data_enc data_dec);\n\nkey_enc(\"1111\");\n...\n</code></pre>\n\n<p>I have changed working directory to /home/eric/temp. Now if I run test.pl script, it runs correctly. But if I create a new directory /home/eric/temp/My and move the McuEnc.pm file into it and then modify the test.pl script as follwoing:</p>\n\n<pre><code>use 5.010;\nuse strict;\nuse warnings;\nuse My::McuEnc qw(key_enc data_enc data_dec);\n\nkey_enc(\"1111\");\n...\n</code></pre>\n\n<p>then I'm getting the following error when I run test.pl again:</p>\n\n<pre><code>Undefined subroutine &amp;main::key_enc called at ./test line 6.\n</code></pre>\n\n<p>However, I can still call the subroutine correctly with:</p>\n\n<pre><code>McuEnc::key_enc(\"1111\");\n</code></pre>\n\n<p>So why I'm getting the error message? what is wrong?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1476434321, "post_id": 40038609, "comment_id": 67353322, "body": "What is inside of those scripts? Do you have <code>package</code>s in there? Or just subs? Or just a bunch of code that gets run when it gets <code>require</code>d? Please <a href=\"https://stackoverflow.com/posts/40038609/edit\">edit</a> your question and include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1476435084, "post_id": 40038609, "comment_id": 67353745, "body": "You are calling <code>b.pl</code> as an external program.  Assuming no particular details about what is in those scripts, <code>b.pl</code> needs to have what it needs to have in order to run.  However, details can change that in many ways.  But, above all, please follow all advice given in the comment by <a href=\"http://stackoverflow.com/users/1331451/simbabque\">simbabque</a>"}], "answers": [{"tags": [], "owner": {"reputation": 936, "user_id": 2066126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/224ed6420ee88dea389bb21ca1cfa0aa?s=128&d=identicon&r=PG", "display_name": "TheAmigo", "link": "https://stackoverflow.com/users/2066126/theamigo"}, "is_accepted": false, "score": 0, "last_activity_date": 1476468342, "creation_date": 1476468342, "answer_id": 40049484, "question_id": 40038609, "link": "https://stackoverflow.com/questions/40038609/how-to-get-inc-from-top-script-in-perl/40049484#40049484", "title": "How to get INC from top script in PERL", "body": "<p>No.</p>\n\n<p><code>b.pl</code> doesn't know that it was started from <code>a.pl</code>.  And whether or not it was doesn't make a difference to the Perl interpreter.</p>\n"}], "owner": {"reputation": 1, "user_id": 6420843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f46ec88f2c6677ed68746dadf4ecc8c?s=128&d=identicon&r=PG&f=1", "display_name": "CUONGH", "link": "https://stackoverflow.com/users/6420843/cuongh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1476468342, "creation_date": 1476434040, "question_id": 40038609, "link": "https://stackoverflow.com/questions/40038609/how-to-get-inc-from-top-script-in-perl", "title": "How to get INC from top script in PERL", "body": "<p>I have 2 script: a.pl with inside require param.pl, b.pl also require param.pl:</p>\n\n<p>a.pl: </p>\n\n<pre><code>require param.pl;\nsystem \"perl b.pl\";\n</code></pre>\n\n<p>b.pl:</p>\n\n<pre><code>require param.pl;\n#do smthing\n</code></pre>\n\n<p>So, do we have anyway that b.pl script don't need require param.pl and using it from a.pl.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["xml", "perl", "xml-parsing", "perl-module", "xml-libxml"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1476431870, "post_id": 40037298, "comment_id": 67351952, "body": "Have you installed <code>XML::LibXML</code>? You can do this by <code>cpan install XML::LibXML</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1476431969, "post_id": 40037298, "comment_id": 67352019, "body": "Also: turn on <code>use strict;</code> and <code>use warnings;</code>. Also: Fix your shebang path. You probably need <code>#!&#47;usr&#47;bin&#47;perl</code>."}, {"owner": {"reputation": 3656, "user_id": 1314743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ab0a1aef58bcdbf40df9077f91a644?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Nyolt", "link": "https://stackoverflow.com/users/1314743/martin-nyolt"}, "edited": false, "score": 0, "creation_date": 1476432622, "post_id": 40037298, "comment_id": 67352373, "body": "Did you install LibXML with <code>sudo</code>? Otherwise, your include paths should also contain your user&#39;s perl include path."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1478828896, "post_id": 40037298, "comment_id": 68319198, "body": "You might benefit from my tutorial: <a href=\"http://grantm.github.io/perl-libxml-by-example/\" rel=\"nofollow noreferrer\">Perl XML::LibXML by Example</a>.  In this case the main problem seems to be that you have <code>use XML::LibXML::Element;</code> rather than <code>use XML::LibXML;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "is_accepted": true, "score": 4, "last_activity_date": 1476434963, "last_edit_date": 1476434963, "creation_date": 1476433277, "answer_id": 40038372, "question_id": 40037298, "link": "https://stackoverflow.com/questions/40037298/cant-locate-xml-libxml-element-pm-in-inc/40038372#40038372", "title": "Can&#39;t locate XML/LibXML/Element.pm in @INC", "body": "<p>I get the same <code>Can't locate module</code> error if I use your code. But it goes away if I use</p>\n\n<pre><code>use XML::LibXML; \n$node = XML::LibXML::Element-&gt;new( $name );\n</code></pre>\n\n<p>Same is mentioned under the synopsis of the module.</p>\n\n<p>You get error because there is no Element.pm file. <a href=\"https://metacpan.org/pod/XML::LibXML::Element\" rel=\"nofollow\">XML::LibXML::Element</a> is a package inside LibXML.pm. See: <a href=\"https://metacpan.org/source/SHLOMIF/XML-LibXML-2.0128/LibXML.pm\" rel=\"nofollow\">https://metacpan.org/source/SHLOMIF/XML-LibXML-2.0128/LibXML.pm</a></p>\n\n<p>For example if you have a module <code>Mod::Test</code> as</p>\n\n<pre><code>package Mod::Test;\n\n#do something\n\npackage Mod::Test::Another;\n\n#do something\n\n1;\n</code></pre>\n\n<p>and you use it in a script as</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Mod::Test::Another;\n</code></pre>\n\n<p>Then you will get the error, but if you <code>use Mod::Test</code> then you'll not get the error.</p>\n\n<hr>\n\n<p>BTW below is an approach to find tag without using XML::LibXML::Element.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::LibXML;\n\nmy $filename = \"projects.xml\";\n\nmy $parser = XML::LibXML-&gt;new();\nmy $xmldoc = $parser-&gt;parse_file($filename);\nfor my $node ($xmldoc-&gt;findnodes('/projects/project')) {\n    for my $property ($node-&gt;findnodes('./*')) {\n        if ($property-&gt;nodeName() eq 'branched_from_id'){\n            print \"Found branched_from_id node, value is \".$property-&gt;textContent();\n        }\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ perl test.pl \nFound branched_from_id node, value is ID_10_8_13_12_35\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6935930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00b57f3aa0e3fa939b181c849f734fb3?s=128&d=identicon&r=PG&f=1", "display_name": "Ras", "link": "https://stackoverflow.com/users/6935930/ras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1336, "favorite_count": 0, "accepted_answer_id": 40038372, "answer_count": 1, "score": 2, "last_activity_date": 1476434963, "creation_date": 1476429839, "last_edit_date": 1476434882, "question_id": 40037298, "link": "https://stackoverflow.com/questions/40037298/cant-locate-xml-libxml-element-pm-in-inc", "title": "Can&#39;t locate XML/LibXML/Element.pm in @INC", "body": "<p>I have installed <code>XML:LibXML</code> using CPAN but still getting the below error:</p>\n\n<pre><code>Can't locate XML/LibXML/Element.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .)\n</code></pre>\n\n<p>Below is my code:</p>\n\n<pre><code>#!usr/bin/perl\nuse XML::LibXML::Element;\nmy $pxml = '/cctest/projects.xml';\nmy $twigp = XML::LibXML-&gt;new-&gt; parse_file($pxml);\nmy $result = $twigp-&gt;getChildrenByTagName('branched_from_id');\nprint $result-&gt;to_literal,\"\\n\";\n</code></pre>\n\n<p>projects.xml:</p>\n\n<pre><code>&lt;projects&gt;\n    &lt;project&gt;\n                    &lt;id&gt;ID_2_19_16_12_15&lt;/id&gt;\n                    &lt;name&gt;RPSW &lt;/name&gt;\n                    &lt;branch&gt;fb16&lt;/branch&gt;\n                    &lt;location&gt;/draw/projects&lt;/location&gt;\n                    &lt;author&gt;Ras&lt;/author&gt;\n                    &lt;branched_from_id&gt;ID_10_8_13_12_35&lt;/branched_from_id&gt;\n                    &lt;branched_from_version&gt;175&lt;/branched_from_version&gt;\n            &lt;/project&gt;\n\n&lt;project&gt;\n                &lt;id&gt;ID_1_21_14_1_13_24_PM&lt;/id&gt;\n                &lt;name&gt;Platform&lt;/name&gt;\n                &lt;location&gt;/draw/projects&lt;/location&gt;\n                &lt;author&gt;lav&lt;/author&gt;\n                &lt;assigned_user&gt;ka&lt;/assigned_user&gt;\n&lt;/project&gt;\n\n&lt;/projects&gt;\n</code></pre>\n\n<p>Please help me to identify where am I doing wrong? Requirement is to get only the nodes which are having the element <code>branched_from_id</code>.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1476425680, "post_id": 40035907, "comment_id": 67348694, "body": "How is the output of your script different from the desirable one?"}, {"owner": {"reputation": 69, "user_id": 6338276, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a916995cf48a565f47353675b9729470?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser", "link": "https://stackoverflow.com/users/6338276/kaiser"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1476425857, "post_id": 40035907, "comment_id": 67348781, "body": "For some odd reason, nothing pops up on the left side (#number from the list), and it only shows the #corresponding percentile"}, {"owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 0, "creation_date": 1476425942, "post_id": 40035907, "comment_id": 67348832, "body": "Note off-topic: You can replace the <code>while</code>-loop with <code>my @data = &lt;$fh&gt;</code>"}, {"owner": {"reputation": 69, "user_id": 6338276, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a916995cf48a565f47353675b9729470?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser", "link": "https://stackoverflow.com/users/6338276/kaiser"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476426244, "post_id": 40035907, "comment_id": 67348973, "body": "@zdim I&#39;ve added the chomp, but the #number from the list doesn&#39;t print out together with the #corresponding percentile"}, {"owner": {"reputation": 69, "user_id": 6338276, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a916995cf48a565f47353675b9729470?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser", "link": "https://stackoverflow.com/users/6338276/kaiser"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476426777, "post_id": 40035907, "comment_id": 67349225, "body": "@zdim Printing and the data doesn&#39;t seem to be an issue. The only weird thing is that the #number from the list isn&#39;t printing out, while others said that it printed out in their side."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476427522, "post_id": 40035907, "comment_id": 67349614, "body": "@Sunny  I deleted my previous comments since you responded, to reduce the noise. Your code and data (copied from here) work for me, it prints fine. (I did add <code>chomp @data;</code>, but that is not this problem.)"}, {"owner": {"reputation": 69, "user_id": 6338276, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a916995cf48a565f47353675b9729470?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser", "link": "https://stackoverflow.com/users/6338276/kaiser"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476427813, "post_id": 40035907, "comment_id": 67349753, "body": "@zdim, according to choroba, he told me that it may be caused due to an incompatible input file; which right now, I&#39;m trying to learn how to convert it into *nix style."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1476427912, "post_id": 40035907, "comment_id": 67349798, "body": "Agree, that is the best guess -- and I agree that it is best do it in the code, just like <a href=\"http://stackoverflow.com/users/1030675/choroba\">choroba</a> says. Perhaps first try with a small file with numbers that you type up in a normal editor, to confirm that it is about data."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 6338276, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a916995cf48a565f47353675b9729470?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser", "link": "https://stackoverflow.com/users/6338276/kaiser"}, "edited": false, "score": 0, "creation_date": 1476426157, "post_id": 40036256, "comment_id": 67348935, "body": "I&#39;ve added the chomp, but the #number from the list still doesn&#39;t print out together with the #corresponding percentile."}, {"owner": {"reputation": 69, "user_id": 6338276, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a916995cf48a565f47353675b9729470?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser", "link": "https://stackoverflow.com/users/6338276/kaiser"}, "edited": false, "score": 0, "creation_date": 1476426400, "post_id": 40036256, "comment_id": 67349060, "body": "I&#39;ll take a look at the input file. Thanks."}, {"owner": {"reputation": 69, "user_id": 6338276, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a916995cf48a565f47353675b9729470?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser", "link": "https://stackoverflow.com/users/6338276/kaiser"}, "edited": false, "score": 0, "creation_date": 1476427227, "post_id": 40036256, "comment_id": 67349440, "body": "My original input file was originated from an excel file (saved as  tab-delimited file), would that possibly be the issue? And I can&#39;t seem to convert my file using the linux command."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 69, "user_id": 6338276, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a916995cf48a565f47353675b9729470?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser", "link": "https://stackoverflow.com/users/6338276/kaiser"}, "edited": false, "score": 0, "creation_date": 1476427417, "post_id": 40036256, "comment_id": 67349557, "body": "@Sunny: So try to remove the line ends in the code:  <code>s&#47;\\xd&#47;&#47;g</code> before pushing. Also, what do you mean by &quot;I can&#39;t seem to convert&quot;?"}, {"owner": {"reputation": 69, "user_id": 6338276, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a916995cf48a565f47353675b9729470?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser", "link": "https://stackoverflow.com/users/6338276/kaiser"}, "edited": false, "score": 0, "creation_date": 1476427698, "post_id": 40036256, "comment_id": 67349709, "body": "As in command not found, seems like the conversion requires me to download a module or add-on."}, {"owner": {"reputation": 69, "user_id": 6338276, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a916995cf48a565f47353675b9729470?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser", "link": "https://stackoverflow.com/users/6338276/kaiser"}, "edited": false, "score": 0, "creation_date": 1476428318, "post_id": 40036256, "comment_id": 67350010, "body": "I removed the end line before pushing, but I am still not getting the number printed."}, {"owner": {"reputation": 69, "user_id": 6338276, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a916995cf48a565f47353675b9729470?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser", "link": "https://stackoverflow.com/users/6338276/kaiser"}, "edited": false, "score": 0, "creation_date": 1476428572, "post_id": 40036256, "comment_id": 67350147, "body": "Problem solved!  It&#39;s indeed due to the input file format! Thanks a lot for the help! (It worked after I converted input file into *nix style)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1476426582, "last_edit_date": 1476426582, "creation_date": 1476426027, "answer_id": 40036256, "question_id": 40035907, "link": "https://stackoverflow.com/questions/40035907/perl-read-an-array-and-calculate-corresponding-percentile/40036256#40036256", "title": "Perl: read an array and calculate corresponding percentile", "body": "<p>To store the numer wihtout a newline in @data, just add <code>chomp;</code> before pushing it, or <code>chomp @data;</code> after you've read them all.</p>\n\n<p>If your input file has MSWin style newlines, convert it to *nix style using <code>dos2unix</code> or <code>fromdos</code>.</p>\n\n<p>Also, try to learn how to indent your code, it boosts readability. And consider renaming <code>$total</code> to <code>$running_total</code>, as you use the value as it changes.</p>\n"}], "owner": {"reputation": 69, "user_id": 6338276, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a916995cf48a565f47353675b9729470?s=128&d=identicon&r=PG&f=1", "display_name": "Kaiser", "link": "https://stackoverflow.com/users/6338276/kaiser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 40036256, "answer_count": 1, "score": 1, "last_activity_date": 1476427733, "creation_date": 1476424703, "last_edit_date": 1476427733, "question_id": 40035907, "link": "https://stackoverflow.com/questions/40035907/perl-read-an-array-and-calculate-corresponding-percentile", "title": "Perl: read an array and calculate corresponding percentile", "body": "<p>I am trying to code for a perl code that reads a text file with a series of number, calculates, and prints out the numbers that corresponds to the percentiles. I do not have access to the other statistical modules, so I'd like to stick with just pure perl coding. Thanks in advance!</p>\n\n<p>The input text file looks like:</p>\n\n<pre><code>197\n98\n251\n82\n51\n272\n154\n167\n38\n280\n157\n212\n188\n88\n40\n229\n228\n125\n292\n235\n67\n70\n127\n26\n279\n.... (and so on)\n</code></pre>\n\n<p>The code I have is:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @data;\n\nopen (my $fh, \"&lt;\", \"testing2.txt\")\n                         or die \"Cannot open: $!\\n\";\nwhile (&lt;$fh&gt;){\n    push @data, $_;\n}\nclose $fh;\n\nmy %count;\nforeach my $datum (@data) {\n    ++$count{$datum};\n}\n\nmy %percentile;\nmy $total = 0;\nforeach my $datum (sort { $a &lt;=&gt; $b } keys %count) {\n    $total += $count{$datum};\n    $percentile{$datum} = $total / @data;\n    # percentile subject to change\n    if ($percentile{$datum} &lt;= 0.10) {   \n        print \"$datum : $percentile{$datum}\\n\\n\";\n    }\n}\n</code></pre>\n\n<p>My desired output:</p>\n\n<pre><code>2 : 0.01\n3 : 0.01333\n4 : 0.01666\n6 : 0.02\n8 : 0.03\n10 : 0.037\n12 : 0.04\n14 : 0.05\n15 : 0.05333\n16 : 0.06\n18 : 0.06333\n21 : 0.07333\n22 : 0.08\n25 : 0.09\n26 : 0.09666\n</code></pre>\n\n<p>Where the format is #number from the list : #corresponding percentile</p>\n"}]