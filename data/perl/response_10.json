[{"tags": ["perl", "date"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 9, "creation_date": 1426724649, "post_id": 29134794, "comment_id": 46495545, "body": "If you ever find yourself writing your own leap year function, <b>STOP</b> and go find a date library."}], "answers": [{"comments": [{"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1426979078, "post_id": 29135123, "comment_id": 46592745, "body": "I downvoted this. Seriously, if you find yourself needing to interpolate scalars and invoking strptime() two times, you definitely know you are using the wrong module or algorithm!"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 1, "creation_date": 1427046882, "post_id": 29135123, "comment_id": 46608146, "body": "@chansen As I said, Time::Piece is not the best module for date manipulation, using strptime is messy and its pretty bad that it does not include a basic constructor, but it is the best option that <i>comes with Perl as the OP requested</i>. Better than writing your own leap year and days-in-month functions. I work with what I&#39;m given.  They should be fixing their &quot;no CPAN modules&quot; policy and using DateTime."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 6, "last_activity_date": 1426725089, "last_edit_date": 1426725089, "creation_date": 1426724556, "answer_id": 29135123, "question_id": 29134794, "link": "https://stackoverflow.com/questions/29134794/perl-getting-last-friday-of-the-month/29135123#29135123", "title": "Perl : Getting last Friday of the month", "body": "<p>There's a few ways to do this.  Using <a href=\"http://metacpan.org/pod/Time::Piece\" rel=\"noreferrer\">Time::Piece</a> isn't the simplest, it isn't designed for date math, but you don't have to install additional software.</p>\n\n<pre><code>use v5.10;\nuse strict;\nuse warnings;\n\nuse Time::Piece;\n\nsub get_last_dow_in_month {\n    my($year, $month, $dow) = @_;\n\n    # Get a Time::Piece object at the last day of the month.\n    my $first_of_the_month = Time::Piece-&gt;strptime(\"$year $month\", \"%Y %m\");\n    my $last_day = $first_of_the_month-&gt;month_last_day;\n    my $last_of_the_month  = Time::Piece-&gt;strptime(\"$year $month $last_day\", \"%Y %m %d\");\n\n    # Figure out how many days you need to go back.\n    my $days_offset = -(($last_of_the_month-&gt;day_of_week + (7 - $dow)) % 7);\n\n    return $last_of_the_month-&gt;mday + $days_offset;\n}\n\nsay get_last_dow_in_month(2014, 3, 5);\n</code></pre>\n\n<p>If you need to do more date processing, <a href=\"https://metacpan.org/pod/DateTime\" rel=\"noreferrer\">DateTime</a> is the most comprehensive.</p>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1426725692, "post_id": 29135134, "comment_id": 46495796, "body": "<a href=\"https://stackoverflow.com/help/how-to-answer\">Link only answers are discouraged</a>, could you add basics of what&#39;s in that link here?"}], "tags": [], "owner": {"reputation": 25590, "user_id": 59135, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/90c563665ec03a1b9e80671bb95deeed?s=128&d=identicon&r=PG", "display_name": "daotoad", "link": "https://stackoverflow.com/users/59135/daotoad"}, "is_accepted": false, "score": 5, "last_activity_date": 1426730832, "last_edit_date": 1426730832, "creation_date": 1426724628, "answer_id": 29135134, "question_id": 29134794, "link": "https://stackoverflow.com/questions/29134794/perl-getting-last-friday-of-the-month/29135134#29135134", "title": "Perl : Getting last Friday of the month", "body": "<p>Modules are made to be used. <a href=\"http://www.perlmonks.org/?node_id=740897\" rel=\"noreferrer\">Calc last friday of month on PerlMonks</a> contains some examples.</p>\n\n<p>E.g.</p>\n\n<p><code>$ perl -MDate::Manip -E 'say UnixDate(ParseDate(\"last Friday in March 2015\"),\"Last Friday of the month is %B %E, %Y.\")</code></p>\n\n<p><code>Last Friday of the month is March 27th, 2015.</code></p>\n\n<p>Rather than working around the technical limitation, you need to work around the social limitation that is hampering the technical side of your job.</p>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1426793035, "post_id": 29135847, "comment_id": 46527681, "body": "It&#39;s a shame this is the accepted answer.  Using cal is a clever hack, but it&#39;s a crutch that lets the OP avoid learning to use a good date library.  Calendaring is hard, use a library."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1426793314, "post_id": 29135847, "comment_id": 46527844, "body": "@Schwern I agree. That&#39;s why I prefaced the answer with &quot;for variety&quot; because you had adequately answered the question. That&#39;s also why I improved daotoad&#39;s answer by adding another library example."}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1426979360, "post_id": 29135847, "comment_id": 46592818, "body": "This code shouldn&#39;t be used! Shelling to a command should always be the last resort!"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1426980784, "post_id": 29135847, "comment_id": 46593078, "body": "@chansen It depends. <a href=\"http://perl.plover.com/yak/12views/samples/notes.html\" rel=\"nofollow noreferrer\">&quot;On Forking&quot; by MJD</a>: &quot;<i>Let&#39;s not forget the things that are good about Perl. It&#39;s good at interacting with other programs, and it&#39;s good for rapid prototyping. Let&#39;s not hassle people when they use Perl the way it was designed to be used.</i>&quot;"}, {"owner": {"reputation": 19, "user_id": 2712876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9819ee34f41205fb7f75e29f1f6c444e?s=128&d=identicon&r=PG&f=1", "display_name": "Krishnan", "link": "https://stackoverflow.com/users/2712876/krishnan"}, "edited": false, "score": 0, "creation_date": 1427002798, "post_id": 29135847, "comment_id": 46596712, "body": "Thanks for the insights. I accepted it was quick fix available at the time. But now I used epoch time for date and time and used it to find the day."}, {"owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "edited": false, "score": 0, "creation_date": 1427328676, "post_id": 29135847, "comment_id": 46739068, "body": "@Sinan&#220;n&#252;r, I generally agree with that, but when there is a portable way to achieve the same thing I tend to prefer that."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1426793366, "last_edit_date": 1426793366, "creation_date": 1426729373, "answer_id": 29135847, "question_id": 29134794, "link": "https://stackoverflow.com/questions/29134794/perl-getting-last-friday-of-the-month/29135847#29135847", "title": "Perl : Getting last Friday of the month", "body": "<p>This is just for variety. As @Schwern notes, \"<code>cal</code> is a clever hack, but it's a crutch that lets the OP avoid learning to use a good date library. Calendaring is hard, use a library.\"</p>\n\n<p>Assuming you have <code>cal</code> on your system</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nlocal $ENV{LC_ALL} = 'C';\n\nmy @cal = `cal`;\nmy $last_friday;\n\nfor (my $i = $#cal; $i &gt;= 0; $i -= 1) {\n    my @dates = split ' ', $cal[$i];\n    next unless @dates &gt; 5;\n    $last_friday = $dates[5];\n    last;\n}\n\nprint \"$last_friday\\n\";\n</code></pre>\n\n<p>Or, more succinctly, but somewhat less efficiently:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nlocal $ENV{LC_ALL} = 'C';\n\nmy ($last_friday) = grep defined, map +(split)[5], reverse `cal`;\n\nprint \"$last_friday\\n\";\n</code></pre>\n\n<p>Or, even, </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse List::Util qw( first );\n\nlocal $ENV{LC_ALL} = 'C';\n\nmy $last_friday = first { defined } map +(split)[5], reverse `cal`;\n\nprint \"$last_friday\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2317, "user_id": 711515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5b6edf26acc698b27a585417bb9bb6?s=128&d=identicon&r=PG", "display_name": "chansen", "link": "https://stackoverflow.com/users/711515/chansen"}, "is_accepted": true, "score": 0, "last_activity_date": 1426978258, "last_edit_date": 1426978258, "creation_date": 1426976432, "answer_id": 29188726, "question_id": 29134794, "link": "https://stackoverflow.com/questions/29134794/perl-getting-last-friday-of-the-month/29188726#29188726", "title": "Perl : Getting last Friday of the month", "body": "<p>If you are constrained by using core modules only, this is the way to compute it:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Time::Local qw[];\n\n# Computes the last day in the given month which occurs on the given \n# day of the week. Returns the day of the month [22, 31].\n# 1 &lt;= $month &lt;= 12\n# 0 &lt;= $dow &lt;= 6 (0=Sunday)\nsub last_dow_in_month {\n    my ($year, $month, $dow) = @_;\n\n    $year  += int($month / 12);\n    $month %= 12;\n\n    my $time = Time::Local::timegm(0, 0, 0, 1, $month, $year) - 86400;\n    my ($mday, $wday) = (gmtime($time))[3,6];\n    return $mday - ($wday - $dow) % 7;\n}\n\nmy $year = 2015;\nforeach my $month (1..12) {\n    printf \"%.4d-%.2d-%.2d\\n\", \n      $year, $month, last_dow_in_month($year, $month, 5);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2015-01-30\n2015-02-27\n2015-03-27\n2015-04-24\n2015-05-29\n2015-06-26\n2015-07-31\n2015-08-28\n2015-09-25\n2015-10-30\n2015-11-27\n2015-12-25\n</code></pre>\n\n<p>Using <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow\">DateTime</a> the code becomes more readable:</p>\n\n<pre><code>use DateTime;\n\n# Computes the last day in the given month which occurs on the given \n# day of the week. Returns the day of the month [22, 31].\n# 1 &lt;= $month &lt;= 12\n# 1 &lt;= $dow &lt;= 7 (1=Monday)\nsub last_dow_in_month {\n    my ($year, $month, $dow) = @_;\n\n    my $dt = DateTime-&gt;last_day_of_month(year =&gt; $year, month =&gt; $month);\n       $dt-&gt;subtract(days =&gt; ($dt-&gt;day_of_week - $dow) % 7);\n    return $dt-&gt;day_of_month;\n}\n</code></pre>\n\n<p>If performance is of essence, <a href=\"https://metacpan.org/pod/Time::Moment\" rel=\"nofollow\">Time::Moment</a> can be used to compute it:</p>\n\n<pre><code>use Time::Moment qw[];\n\n# Computes the last day in the given month which occurs on the given \n# day of the week. Returns the day of the month [22, 31].\n# 1 &lt;= $month &lt;= 12\n# 1 &lt;= $dow &lt;= 7 (1=Monday)\nsub last_dow_in_month {\n    my ($year, $month, $dow) = @_;\n\n    my $tm = Time::Moment-&gt;new(year =&gt; $year, month =&gt; $month)\n                         -&gt;plus_months(1)\n                         -&gt;minus_days(1);\n    return $tm-&gt;minus_days(($tm-&gt;day_of_week - $dow) % 7)\n              -&gt;day_of_month;\n}\n</code></pre>\n\n<p>A correct implementation of your intended algorithm:</p>\n\n<pre><code># Computes the last friday in the given month. Returns the day of the \n# month [22, 31].\n# 1 &lt;= $month &lt;= 12\nsub last_friday_in_month {\n    my ($year, $month) = @_;\n\n    my $days = (\n        [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365],\n        [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366],\n    )[($year % 4) == 0 &amp;&amp; ($year % 100 != 0 || $year % 400 == 0)];\n\n    my $y = $year - 1;\n    my $k = 44 + $y + int($y/4) + int(6 * ($y/100)) + int($y/400);\n    $k += $days-&gt;[$month];\n    return $days-&gt;[$month] - $days-&gt;[$month - 1] - ($k % 7);\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 2712876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9819ee34f41205fb7f75e29f1f6c444e?s=128&d=identicon&r=PG&f=1", "display_name": "Krishnan", "link": "https://stackoverflow.com/users/2712876/krishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 0, "accepted_answer_id": 29188726, "answer_count": 4, "score": 1, "last_activity_date": 1426978258, "creation_date": 1426722553, "last_edit_date": 1426732270, "question_id": 29134794, "link": "https://stackoverflow.com/questions/29134794/perl-getting-last-friday-of-the-month", "title": "Perl : Getting last Friday of the month", "body": "<p>I am trying to get the last Friday of the month. I found out the awesome awk script that could to do this job. I try to port it perl but facing some issues. Any insight would be a great help. I can't use any perl modules apart from the inbuilt one, thats why I have to go through building this stuff.</p>\n\n<p>Thanks for your help.</p>\n\n<p>AWK script :</p>\n\n<pre><code>BEGIN {\nsplit(\"31,28,31,30,31,30,31,31,30,31,30,31\",daynum_array,\",\") # days per month in non leap year\nyear = ARGV[1]\nif (year % 400 == 0 || (year % 4 == 0 &amp;&amp; year % 100 != 0)) {\n  daynum_array[2] = 29\n}\ny = year - 1\nk = 44 + y + int(y/4) + int(6*(y/100)) + int(y/400)\nfor (m=1; m&lt;=12; m++) {\n  k += daynum_array[m]\n  d = daynum_array[m] - (k%7)\n  printf(\"%04d-%02d-%02d\\n\",year,m,d)\n}\nexit(0)\n}\n</code></pre>\n\n<p>My Perl script :</p>\n\n<pre><code>my @time            = localtime;\nmy ($month, $year)  = @time[4, 5];\n$year              += 1900;\n@months             = qw( 31 28 31 30 31 30 31 31 30 31 30 31 );\n$months[1]          = check_leap_year($year) ? 29 : 28;\n$y  = $year - 1;\n$k  = 44 + $y + int($y / 4) + int(6 * ($y / 100)) + int($y / 400);\n$k += $months[$month];\n$d  = $months[$month] - ($k % 7);\n$month += 1;\nprintf \"%04d-%02d-%02d\\n\", $year, $month, $d;\n\nsub check_leap_year {\n    my $year = shift;\n    return 0 if $year % 4;\n    return 1 if $year % 100;\n    return 0 if $year % 400;\n    return 1;\n}\n</code></pre>\n"}, {"tags": ["perl", "getopt"], "answers": [{"comments": [{"owner": {"reputation": 18319, "user_id": 472485, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaad078400b012b1e37fa6f11dd5c089?s=128&d=identicon&r=PG", "display_name": "Jean", "link": "https://stackoverflow.com/users/472485/jean"}, "edited": false, "score": 0, "creation_date": 1427230499, "post_id": 29132055, "comment_id": 46691383, "body": "Thanks for the answer. <code>-noverbose</code> option satisfies my need."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 18319, "user_id": 472485, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaad078400b012b1e37fa6f11dd5c089?s=128&d=identicon&r=PG", "display_name": "Jean", "link": "https://stackoverflow.com/users/472485/jean"}, "edited": false, "score": 0, "creation_date": 1427230699, "post_id": 29132055, "comment_id": 46691482, "body": "@Jean That makes more sense. FWIW, I&#39;ve never seen a command-line program that was verbose by default...usually there&#39;s both a <code>--verbose</code> option to show more than normal output and a <code>--quiet</code> option to show <i>no</i> output. For command line options, you should generally adhere to the principle of least surprise and follow common conventions."}, {"owner": {"reputation": 18319, "user_id": 472485, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaad078400b012b1e37fa6f11dd5c089?s=128&d=identicon&r=PG", "display_name": "Jean", "link": "https://stackoverflow.com/users/472485/jean"}, "edited": false, "score": 0, "creation_date": 1427230970, "post_id": 29132055, "comment_id": 46691613, "body": "Verbose was just an example. I am doing something else."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 1, "last_activity_date": 1426713837, "last_edit_date": 1426713837, "creation_date": 1426710634, "answer_id": 29132055, "question_id": 29131686, "link": "https://stackoverflow.com/questions/29131686/manipulating-flag-type-in-getoptions-from-getoptlong/29132055#29132055", "title": "Manipulating flag type in GetOptions from Getopt::Long", "body": "<p>This might be a little too complex, but you can use an <a href=\"http://perldoc.perl.org/Getopt/Long.html#Options-with-values\" rel=\"nofollow\">optional value</a> combined with a <a href=\"http://perldoc.perl.org/Getopt/Long.html#User-defined-subroutines-to-handle-options\" rel=\"nofollow\">custom subroutine</a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nuse Getopt::Long;\n\nsub make_handler {\n    my $verbose = shift;\n\n    return sub {\n        my ($opt_name, $opt_value) = @_;\n\n        die \"$opt_name must be 0 or 1\" if $opt_value !~ /^(?:0|1)?$/;\n\n        if ($opt_value eq '') {\n            $$verbose = 1;\n        }\n        else {\n            $$verbose = $opt_value;\n        }\n    }\n}\n\nmy $verbose = 1;\nmy $handler = make_handler(\\$verbose);\n\nGetOptions(\"verbose:s\"  =&gt; $handler) or die \"Error in command line arguments\";\n\nsay $verbose;\n</code></pre>\n\n<h3>Output:</h3>\n\n<pre><code>$ ./foo \n1\n$ ./foo --verbose\n1\n$ ./foo --verbose 0\n0\n$ ./foo --verbose 1\n1\n$ ./foo --verbose bar\nverbose must be 0 or 1 at ./foo line 15.\nError in command line arguments at ./foo line 29.\n</code></pre>\n\n<p>Note that I used a closure to avoid global variables, since <code>Getopt::Long</code> doesn't do anything with the return value of custom subroutines and doesn't allow you to pass in the variable you want to set.</p>\n"}, {"tags": [], "owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "is_accepted": false, "score": 1, "last_activity_date": 1426710764, "creation_date": 1426710764, "answer_id": 29132091, "question_id": 29131686, "link": "https://stackoverflow.com/questions/29131686/manipulating-flag-type-in-getoptions-from-getoptlong/29132091#29132091", "title": "Manipulating flag type in GetOptions from Getopt::Long", "body": "<p>It's not the way you describe, but the <a href=\"https://metacpan.org/pod/Getopt::Long#A-little-bit-less-simple-options\" rel=\"nofollow\">documentation</a> describes \"negatable options\" designated by an exclamation mark that let you do this:</p>\n\n<pre><code>my $verbose = 1; # default on\nGetOptions ('verbose!' =&gt; \\$verbose);\n</code></pre>\n\n<p>This allows <code>--verbose</code> (sets it to 1) or <code>--noverbose</code> (sets it to 0).</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426710951, "post_id": 29132126, "comment_id": 46490121, "body": "This is what I had, but <code>gol.pl --verbose</code> will set <code>$verbose</code> to 0, not 1 as the OP requested."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426711149, "post_id": 29132126, "comment_id": 46490265, "body": "@ThisSuitIsBlackNot: Good point - I missed that in the &#39;gooseberry&#39; test.  I&#39;ll add some notes."}, {"owner": {"reputation": 18319, "user_id": 472485, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaad078400b012b1e37fa6f11dd5c089?s=128&d=identicon&r=PG", "display_name": "Jean", "link": "https://stackoverflow.com/users/472485/jean"}, "edited": false, "score": 0, "creation_date": 1427230553, "post_id": 29132126, "comment_id": 46691412, "body": "Thanks for the answer. <code>-noverbose</code> option satisfies my need."}], "tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 1, "last_activity_date": 1426711489, "last_edit_date": 1495542500, "creation_date": 1426710887, "answer_id": 29132126, "question_id": 29131686, "link": "https://stackoverflow.com/questions/29131686/manipulating-flag-type-in-getoptions-from-getoptlong/29132126#29132126", "title": "Manipulating flag type in GetOptions from Getopt::Long", "body": "<p>The <a href=\"http://perldoc.perl.org/Getopt/Long.html#Summary-of-Option-Specifications\" rel=\"nofollow noreferrer\">Summary of Option Specifications</a> in the documentation for <a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow noreferrer\">Getopt::Long</a> indicates that you could <em>almost</em> use:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse Getopt::Long;\nmy $data = \"file.dat\";\nmy $length = 24;\nmy $verbose = 1;\nGetOptions (\"length=i\"  =&gt; \\$length,   # numeric\n            \"file=s\"    =&gt; \\$data,     # string\n            \"verbose:i\" =&gt; \\$verbose)  # optional integer\nor die(\"Error in command line arguments\\n\");\n\n# Debugging/testing\nprint \"Verbose = $verbose\\n\";\nprint \"Options:\\n\";\nfor my $opt (@ARGV) { print \"    $opt\\n\"; }\n</code></pre>\n\n<p>The <code>:</code> indicates that the value is optional, and the <code>i</code> indicates it takes an integer.</p>\n\n<p>Sample runs (I called the script <code>gol.pl</code>):</p>\n\n<pre><code>$ perl gol.pl\nVerbose = 1\nOptions:\n$ perl gol.pl --verbose 0\nVerbose = 0\nOptions:\n$ perl gol.pl --verbose=0\nVerbose = 0\nOptions:\n$ perl gol.pl --verbose 1\nVerbose = 1\nOptions:\n$ perl gol.pl --verbose gooseberry\nVerbose = 0\nOptions:\n    gooseberry\n$ perl gol.pl --verbose\nVerbose = 0\nOptions:\n$\n</code></pre>\n\n<p>There's an <em>'almost'</em> at the top.  As <a href=\"https://stackoverflow.com/users/176646/thissuitisblacknot\">ThisSuitIsBlackNot</a> correctly <a href=\"https://stackoverflow.com/questions/29131686/manipulating-flag-type-in-getoptions-from-getoptlong/29132126?noredirect=1#comment46490121_29132126\">points out</a>, this sets <code>$verbose</code> to zero when the argument is omitted, which is not what you want.</p>\n\n<p>Your interface is curious.  Are you sure you wouldn't be better off with:</p>\n\n<pre><code>--verbose    # Enables verbose mode\n--noverbose  # Disables verbose mode\n</code></pre>\n\n<p>You can then use <code>\"verbose!\"</code> to handle that.  Also, since <code>verbose</code> mode is enabled by default, there's really no need to support <code>--verbose</code>; there's point in having <code>--verbose 0</code> to turn it off, or <code>--noverbose</code>, and maybe point in allowing <code>--verbose 9</code> for extra verbose, etc.  You need to think about whether your design is truly appropriate.</p>\n"}], "owner": {"reputation": 18319, "user_id": 472485, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaad078400b012b1e37fa6f11dd5c089?s=128&d=identicon&r=PG", "display_name": "Jean", "link": "https://stackoverflow.com/users/472485/jean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1426713837, "creation_date": 1426709194, "last_edit_date": 1426709666, "question_id": 29131686, "link": "https://stackoverflow.com/questions/29131686/manipulating-flag-type-in-getoptions-from-getoptlong", "title": "Manipulating flag type in GetOptions from Getopt::Long", "body": "<p>Is there a way to turn off flags if they are enabled by default in <code>GetOptions</code>?</p>\n\n<p>This is what I want:</p>\n\n<ul>\n<li><code>-verbose 0</code> turns off verbosity</li>\n<li><code>-verbose 1</code> turns on  verbosity</li>\n<li><code>-verbose</code>   turns on  verbosity</li>\n</ul>\n\n<p>Current code (from <a href=\"http://perldoc.perl.org/Getopt/Long.html\" rel=\"nofollow\">Getopt::Long</a>):</p>\n\n<pre><code>use Getopt::Long;\nmy $data = \"file.dat\";\nmy $length = 24;\nmy $verbose = 1;\nGetOptions (\"length=i\" =&gt; \\$length,   # numeric\n            \"file=s\"   =&gt; \\$data,     # string\n            \"verbose\"  =&gt; \\$verbose)  # flag\nor die(\"Error in command line arguments\\n\");\n</code></pre>\n"}, {"tags": ["perl", "curl", "system"], "comments": [{"owner": {"reputation": 73, "user_id": 1475358, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/615f2775e16ba5fc752fb125edf4a825?s=128&d=identicon&r=PG", "display_name": "Tarik Setia", "link": "https://stackoverflow.com/users/1475358/tarik-setia"}, "edited": false, "score": 0, "creation_date": 1426711720, "post_id": 29131392, "comment_id": 46490593, "body": "The answer to the linked question says that exit code is multiplied by 256...but curl on successful execution returns 0...so the output should be 0... then why is it returning 256??"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1426776206, "post_id": 29131392, "comment_id": 46517503, "body": "<code>curl</code> says it returns 1 for unsupported protocols. If it works, then maybe <code>curl</code> isn&#39;t the last thing in your shell executes. Keep in mind that (<code>system($shell_command)</code> is really <code>system(&#39;sh&#39;, &#39;-c&#39;, $shell_command)</code>."}], "owner": {"reputation": 73, "user_id": 1475358, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/615f2775e16ba5fc752fb125edf4a825?s=128&d=identicon&r=PG", "display_name": "Tarik Setia", "link": "https://stackoverflow.com/users/1475358/tarik-setia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "closed_date": 1426710707, "answer_count": 0, "score": 0, "last_activity_date": 1426708086, "creation_date": 1426708086, "question_id": 29131392, "link": "https://stackoverflow.com/questions/29131392/getting-256-as-an-output-while-calling-system-in-perl", "closed_reason": "Duplicate", "title": "Getting 256 as an output while calling system() in Perl", "body": "<p>I have written a perl script that parse SNMP traps from a tool and send them to messaging queue using curl.</p>\n\n<p>The line of code that is misbehaving looks like this one below</p>\n\n<p><code>$runcode=system(&lt;the curl commands goes here&gt;</code>)</p>\n\n<p>the successful execution of curl should return 0 other it should return the Curl's exit code (no zero value)</p>\n\n<p>But even on the successful of curl I am getting 256 in the runcode ?? </p>\n\n<p>Any Suggestion to resolver this?</p>\n"}, {"tags": ["perl", "recursion", "glob"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426706436, "post_id": 29129238, "comment_id": 46487397, "body": "Re. <i>&quot;Unfortunately, even though $WatchSubTree is set to 1, it cannot seem to monitor subdirectories.&quot;</i> This may just be a typo, but whether your <code>@files</code> array includes subdirectories has nothing to do with whether <code>Win32::ChangeNotify</code> is monitoring them."}, {"owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1426706494, "post_id": 29129238, "comment_id": 46487443, "body": "I realized afterwards that my question was <i>solely</i> about the <code>@files</code> array and not about ChangeNotify. I have modified the question accordingly."}], "answers": [{"tags": [], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "is_accepted": true, "score": 1, "last_activity_date": 1426706644, "last_edit_date": 1495540691, "creation_date": 1426701931, "answer_id": 29129483, "question_id": 29129238, "link": "https://stackoverflow.com/questions/29129238/perl-glob-subdirectories-recursively/29129483#29129483", "title": "Perl: Glob subdirectories recursively", "body": "<p>I found my answer from <a href=\"https://stackoverflow.com/questions/4540270/recursive-perl-detail-need-help\">Here</a></p>\n\n<p>I just changed <code>@files</code> to be <code>my @files = File::Find::Rule-&gt;in($PATH);</code></p>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 1, "last_activity_date": 1426708619, "creation_date": 1426708619, "answer_id": 29131516, "question_id": 29129238, "link": "https://stackoverflow.com/questions/29129238/perl-glob-subdirectories-recursively/29131516#29131516", "title": "Perl: Glob subdirectories recursively", "body": "<p>If you like to stick with standard modules you can use this code.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Find;\n\nmy @files;\nfind( { wanted =&gt; sub { push @files, $_ }, no_chdir =&gt; 1 }, $PATH );\n</code></pre>\n"}], "owner": {"reputation": 5913, "user_id": 2893712, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba3bea502f3cde271b0d8d9a0b957afc?s=128&d=identicon&r=PG", "display_name": "Bijan", "link": "https://stackoverflow.com/users/2893712/bijan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3237, "favorite_count": 0, "accepted_answer_id": 29129483, "answer_count": 2, "score": -1, "last_activity_date": 1426708619, "creation_date": 1426701057, "last_edit_date": 1426706560, "question_id": 29129238, "link": "https://stackoverflow.com/questions/29129238/perl-glob-subdirectories-recursively", "title": "Perl: Glob subdirectories recursively", "body": "<p>How do I recursively include subdirectories in an array using glob?</p>\n\n<p>I currently have <code>my @files = glob $PATH . '/*';</code> (where <code>$PATH = \".\"</code>) but this does not include subdirectories.</p>\n"}, {"tags": ["python", "linux", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1426695918, "post_id": 29127196, "comment_id": 46480769, "body": "Does it work from the command line?"}, {"owner": {"reputation": 189, "user_id": 1329058, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/cee05f82c57e924cf7bc9dd6912ad22b?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/1329058/harry"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1426696381, "post_id": 29127196, "comment_id": 46481108, "body": "ya if i do ./myethtraffic eth0 M it works"}], "answers": [{"comments": [{"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "reply_to_user": {"reputation": 189, "user_id": 1329058, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/cee05f82c57e924cf7bc9dd6912ad22b?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/1329058/harry"}, "edited": false, "score": 0, "creation_date": 1426697011, "post_id": 29127503, "comment_id": 46481544, "body": "With <code>stdout=subprocess.pipe</code> and then reading <code>proc.stdout</code>?"}], "tags": [], "owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "is_accepted": false, "score": 1, "last_activity_date": 1426703283, "last_edit_date": 1426703283, "creation_date": 1426696173, "answer_id": 29127503, "question_id": 29127196, "link": "https://stackoverflow.com/questions/29127196/when-running-a-perl-script-from-python-and-writing-the-output-to-a-file-why-is/29127503#29127503", "title": "When running a Perl script from Python and writing the output to a file, why is the file empty?", "body": "<p>Ref the docs <a href=\"https://docs.python.org/2/library/subprocess.html#popen-constructor\" rel=\"nofollow\">https://docs.python.org/2/library/subprocess.html#popen-constructor</a> I think you need to explicitly specify <code>stderr=subprocess.PIPE</code> when you call <code>POpen</code>, otherwise the subprocesses stderr will be hooked up to your main programs stderr.</p>\n\n<p>Try this:</p>\n\n<pre><code>proc=subprocess.Popen(command, stderr=subprocess.PIPE)\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>#!/usr/bin/python\n\nimport sys\nimport subprocess\nimport datetime\nimport os\nimport time\n\ncommand = [\"perl\", \"-e\", \"warn 'abc'\"]\n\nlogfile = open(\"a.log\", 'w')\n\nproc=subprocess.Popen(command, stderr=subprocess.PIPE)\nfor line in proc.stderr:\n        logfile.write(line)\n</code></pre>\n\n<p>Edit: Does your perl process actually write to stderr, or to stdout?</p>\n"}, {"comments": [{"owner": {"reputation": 189, "user_id": 1329058, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/cee05f82c57e924cf7bc9dd6912ad22b?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/1329058/harry"}, "edited": false, "score": 0, "creation_date": 1426697012, "post_id": 29127632, "comment_id": 46481545, "body": "i tryed ur solution but the problem is if i send ctrl+c to my python script that dosent stop it i mean the perl script continues running then i have to kill it by finding the pid of the perl script using the &quot;top&quot; command in linux and giving pid to &quot;kill&quot; command, any suggesstion"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 189, "user_id": 1329058, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/cee05f82c57e924cf7bc9dd6912ad22b?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/1329058/harry"}, "edited": false, "score": 0, "creation_date": 1426697814, "post_id": 29127632, "comment_id": 46482097, "body": "You can fix it in the child perl script by catching <code>SIGHUP</code> and exiting. In the python parent, you could create a global list that has processes you want to kill. Add / remove Popens as the program runs and implement an <code>atexit</code> hook that kills anything in the list."}], "tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": false, "score": 1, "last_activity_date": 1426696489, "creation_date": 1426696489, "answer_id": 29127632, "question_id": 29127196, "link": "https://stackoverflow.com/questions/29127196/when-running-a-perl-script-from-python-and-writing-the-output-to-a-file-why-is/29127632#29127632", "title": "When running a Perl script from Python and writing the output to a file, why is the file empty?", "body": "<p>You can pass the file descriptor to <code>Popen</code> and the program will write straight to the file and you don't need to read the pipes. I was a bit confused because you are trying to read <code>stderr</code> not <code>stdout</code>, so wrote an example that writes both pipes to one file.</p>\n\n<pre><code>#!/usr/bin/python\n\nimport sys\nimport subprocess\nimport datetime\nimport os\nimport time\n\ncommand = [\"perl\",\"/root/Desktop/myethtraffic.pl\", \"eth0\", \"M\"]\n\ndir_name = \"/root/Desktop/\"\n\nlogfile = open(\"/root/Desktop/aa1a.txt\", 'w')\n\nproc=subprocess.Popen(command, \n    stdout=open(\"/root/Desktop/aa1a.txt\", 'w'), \n    stderr=subprocess.STDOUT)\nproc.wait()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 1, "creation_date": 1426698841, "post_id": 29128261, "comment_id": 46482732, "body": "The perl command executes, the problem is getting the results to a file."}], "tags": [], "owner": {"reputation": 65734, "user_id": 37020, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9c52ad00ba2f2602661c49f896733229?s=128&d=identicon&r=PG", "display_name": "orip", "link": "https://stackoverflow.com/users/37020/orip"}, "is_accepted": false, "score": 0, "last_activity_date": 1426698148, "creation_date": 1426698148, "answer_id": 29128261, "question_id": 29127196, "link": "https://stackoverflow.com/questions/29127196/when-running-a-perl-script-from-python-and-writing-the-output-to-a-file-why-is/29128261#29128261", "title": "When running a Perl script from Python and writing the output to a file, why is the file empty?", "body": "<p>It's possible that <code>perl</code> isn't in your path.\nPass the full path to <code>perl</code> instead of the string \"perl\", e.g</p>\n\n<pre><code>command = [\"/usr/bin/perl\", ...]\n</code></pre>\n\n<p>Another option is to run the command using a shell, to simulate how it would run when executed directly from the command line.</p>\n\n<pre><code>subprocess.Popen(\"/root/Desktop/myethtraffic.pl eth0 M\", ..., shell=True)\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 1329058, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/cee05f82c57e924cf7bc9dd6912ad22b?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/1329058/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 834, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1426711459, "creation_date": 1426695372, "last_edit_date": 1426711459, "question_id": 29127196, "link": "https://stackoverflow.com/questions/29127196/when-running-a-perl-script-from-python-and-writing-the-output-to-a-file-why-is", "title": "When running a Perl script from Python and writing the output to a file, why is the file empty?", "body": "<p>I have the following Perl script that takes an Ethernet interface name and transfer rate as parameters:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\n$prevRXpacks = 0;\n$prevTXpacks = 0;\n$prevRXbytes = 0;\n$prevTXbytes = 0;\n$recentRXpacks = 0;\n$recentTXpacks = 0;\n$recentRXbytes = 0;\n$recentTXbytes = 0;\n$time_wait_default = 2;\n$time_run_default = 0;\n$prev = 0;\n$overflow = 4 * 1024 * 1024 * 1024;\n$k = 1000;\n$m = $k * $k;\n$format = \"\";\n$format_value = 1;\n$hdr_format = \"Bytes/s\";\n\nif ( defined ($ARGV[0]) &amp;&amp; ($ARGV[0] eq \"--help\") ) {\n    print \"Usage: $0 &lt;device&gt; [-r runtime] [-d delaytime]\\n\";\n    print \" -r     time to run traffic monitor in seconds (default = 0 &lt;- forever)\\n\";\n    print \" -d     delay between two records in seconds (default = $time_wait_default)\\n\";\n    print \" -k, -K    print transfer rate in kbits/s or KBytes/s\\n\";\n    print \" -m, -M    print transfer rate in mbits/s or MBytes/s\\n\";\n    die \"\\n\";\n}\n\nopen (OUT, \"/dev/null\");\nselect (OUT);\nif ( !defined($ARGV[0]) || !`/sbin/ifconfig $ARGV[0]` ) {\n    close (OUT);\n    select (STDOUT);\n    die \"Usage $0 &lt;device&gt; [-r runtime] [-d delaytime] [-kmKM].\\nTry --help for more.\\n\";\n}\nclose (OUT);\nselect (STDOUT);\n\n$time_wait = $time_wait_default;\n$time_run = $time_run_default;\n\n$i = 1;\n\nwhile ( defined ($ARGV[$i]) ) {\n    if ($ARGV[$i] eq \"-d\") {\n        $time_wait = $ARGV[++$i] || $time_wait_default;\n    }\n    if ($ARGV[$i] eq \"-r\") {\n        $time_run = $ARGV[++$i] || $time_run_default;\n    }\n    if ($ARGV[$i] eq \"-K\") {\n        $format = $hdr_format = \"KBytes/s\";\n        $format_value = $k;\n    }\n    if ($ARGV[$i] eq \"-k\") {\n        $format = $hdr_format = \"Kbits/s\";\n        $format_value = $k/8;\n    }\n    if ($ARGV[$i] eq \"-M\")  {\n        $format = $hdr_format = \"MBytes/s\";\n        $format_value = $m;\n    }\n    if ($ARGV[$i] eq \"-m\") {\n        $format = $hdr_format = \"Mbits/s\";\n        $format_value = $m/8;\n    }\n\n    $i++;\n}\n\nprint \"Traffic monitoring...\\n\";\n\n# main loop\n$time_loop = $time_run + time();\n\nwhile ( time() &lt; $time_loop || !$time_run ) {\n    $recent = time();\n    foreach $_ (`/sbin/ifconfig $ARGV[0]`) {\n        if (/RX.*packets/) {\n            ($blabla1, $blabla2, $blabla3) = split(/\\s+/);\n            ($blabla1, $recentRXpacks, $blabla2) = split(/:/, $blabla3);\n        }\n        if (/TX.*packets/) {\n            ($blabla1, $blabla2, $blabla3) = split(/\\s+/);\n            ($blabla1, $recentTXpacks, $blabla2) = split(/:/, $blabla3);\n        }\n        if (/RX.*bytes/) {\n            ($blabla1, $blabla2, $blabla3) = split(/:/);\n            ($recentRXbytes) = split(/ /, $blabla2);\n            ($recentTXbytes) = split(/ /, $blabla3);\n        }\n    }\n\n    if ( ($recent &gt; $prev) &amp;&amp; $prev) {\n        $interval = $recent - $prev;\n#       $interval = $time_wait;\n\n        $RXpacks = round (rate ($prevRXpacks, $recentRXpacks, $interval));\n        $TXpacks = round (rate ($prevTXpacks, $recentTXpacks, $interval));\n        $RXbytes = round (rate ($prevRXbytes, $recentRXbytes, $interval)/$format_value);\n        $TXbytes = round (rate ($prevTXbytes, $recentTXbytes, $interval)/$format_value);\n\n        write;\n    }\n\n    $prev = $recent;\n    $prevRXpacks = $recentRXpacks;\n    $prevTXpacks = $recentTXpacks;\n    $prevRXbytes = $recentRXbytes;\n    $prevTXbytes = $recentTXbytes;\n\n    $time_delay = $time_wait + time();\n    while (time() &lt; $time_delay) {}\n}\n\nformat STDOUT_TOP =\nRX [packets/s]    TX [packets/s]    RX [@&lt;&lt;&lt;&lt;&lt;&lt;&lt;]        TX [@&lt;&lt;&lt;&lt;&lt;&lt;&lt;]\n                   $hdr_format,           $hdr_format\n.\n\nformat STDOUT =\n@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;    @&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;    @&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;    @&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n$RXpacks,    $TXpacks,    $RXbytes.\" \".$format,    $TXbytes.\" \".$format\n.\n\nsub rate {\n    my ($prev, $recent);\n    ($prev, $recent, $interval) = @_;\n    if (($recent = $recent - $prev) &lt;0) {\n        $recent += $overflow;\n    }\n    return $recent/$interval;\n}\n\nsub round {\n    my ($mod, $result);\n    $result = int ($_[0]);\n    $mod = ($_[0] - $result) ;\n    if ( $mod &gt;= 0.5) {\n        $result++;\n    }\n    return $result;\n}\n</code></pre>\n\n<p>I tried to run the above script from Python and write the output to a file using the following code:</p>\n\n<pre><code>#!/usr/bin/python\n\nimport sys\nimport subprocess\nimport datetime\nimport os\nimport time\n\ncommand = [\"perl\", \"/root/Desktop/myethtraffic.pl\", \"eth0\", \"M\"]\n\ndir_name = \"/root/Desktop/\"\n\nlogfile = open(\"/root/Desktop/aa1a.txt\", 'w')\n\nproc = subprocess.Popen(command)\nfor line in proc.stderr:\n        logfile.write(line)\n</code></pre>\n\n<p>The file is created but is empty. How can I fix this?</p>\n"}, {"tags": ["perl", "datetime", "timezone"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426704754, "post_id": 29127031, "comment_id": 46486446, "body": "I&#39;ve retracted my close vote based on your comment that you get <code>POSIX::tzset not implemented on this architecture</code> when you try to use <code>POSIX::tzset</code>. I&#39;ve also edited your question to clarify that it isn&#39;t a duplicate (at least, not of the question I originally linked to). It&#39;s still unclear from your question whether Bugzilla is actually using <code>localtime</code> or whether you&#39;re just trying to duplicate the behavior you see. You mention that Bugzilla uses <code>DateTime</code> but your snippet uses <code>localtime</code>."}, {"owner": {"reputation": 1, "user_id": 4686123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1436b0541e43e02fa071af560eca4c5c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Gay", "link": "https://stackoverflow.com/users/4686123/jeff-gay"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426707275, "post_id": 29127031, "comment_id": 46487910, "body": "From what I have read Bugzilla is using localtime.  At the moment Bugzilla is giving also giving times that are GMT+1.   That is what the test script above was demonstrating."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426708326, "post_id": 29127031, "comment_id": 46488518, "body": "Have you tried setting the timezone in the preferences? What version of Bugzilla are you using? Do you see any errors in your logs?"}, {"owner": {"reputation": 1, "user_id": 4686123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1436b0541e43e02fa071af560eca4c5c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Gay", "link": "https://stackoverflow.com/users/4686123/jeff-gay"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426710118, "post_id": 29127031, "comment_id": 46489610, "body": "The timezone settings in Bugzilla are currently set to New York on the default settings page.  Im using Bugzilla 4.4.8 which is the most recent stable version."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4686123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1436b0541e43e02fa071af560eca4c5c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Gay", "link": "https://stackoverflow.com/users/4686123/jeff-gay"}, "edited": false, "score": 1, "creation_date": 1426700320, "post_id": 29127097, "comment_id": 46483689, "body": "I had seen several places that had suggested this.  When I tried using POSIX::tzset() I get a different error.     POSIX::tzset not implemented on this architecture.  It looks like this is not available on windows.  I also tried Time::Piece::_tzset() but got the same results as the original with New York and LA having the sametime one hour ahead of GMT"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 4686123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1436b0541e43e02fa071af560eca4c5c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Gay", "link": "https://stackoverflow.com/users/4686123/jeff-gay"}, "edited": false, "score": 0, "creation_date": 1426701077, "post_id": 29127097, "comment_id": 46484154, "body": "Weird. I tested with ActivePerl 5.16.3 build 1603 built for MSWin32-x64-multi-thread. You could always use DateTime."}, {"owner": {"reputation": 1, "user_id": 4686123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1436b0541e43e02fa071af560eca4c5c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Gay", "link": "https://stackoverflow.com/users/4686123/jeff-gay"}, "edited": false, "score": 0, "creation_date": 1426705480, "post_id": 29127097, "comment_id": 46486906, "body": "I just installed ActivePerl 5.18.4 build 1803 and was still unable to get this to work. Unfortunately version 5.18.4 is as old a version as I can get."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1426695093, "creation_date": 1426695093, "answer_id": 29127097, "question_id": 29127031, "link": "https://stackoverflow.com/questions/29127031/why-is-localtime-in-activeperl-on-windows-7-not-correct-when-i-change-envtz/29127097#29127097", "title": "Why is localtime in ActivePerl on windows 7 not correct when I change $ENV{TZ}?", "body": "<p>You need to call <code>POSIX::tzset()</code> after changing <code>$ENV{TZ}</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4686123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1436b0541e43e02fa071af560eca4c5c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Gay", "link": "https://stackoverflow.com/users/4686123/jeff-gay"}, "edited": false, "score": 0, "creation_date": 1426705855, "post_id": 29127957, "comment_id": 46487099, "body": "Sorry, not a perl developer.  I thought that localtime was part of datetime.  Unfortunately even with this I get time offset by 1 hour in the wrong direction."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1, "user_id": 4686123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1436b0541e43e02fa071af560eca4c5c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Gay", "link": "https://stackoverflow.com/users/4686123/jeff-gay"}, "edited": false, "score": 1, "creation_date": 1426706469, "post_id": 29127957, "comment_id": 46487419, "body": "@Jeff Gay, <code>localtime</code> is a builtin Perl operator. DateTime is a 3rd party module/distribution. DateTime produces the right results (independent of system), so you must have done something wrong."}, {"owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "edited": false, "score": 0, "creation_date": 1426712946, "post_id": 29127957, "comment_id": 46491229, "body": "Which part specifically gives the time incorrectly offset by 1 hour? <code>Time_zone =&gt; &#39;local&#39;</code>? <code>America&#47;New_York</code>?"}], "tags": [], "owner": {"reputation": 6526, "user_id": 120050, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0be7e82463532256777530ccaba04d29?s=128&d=identicon&r=PG", "display_name": "Oesor", "link": "https://stackoverflow.com/users/120050/oesor"}, "is_accepted": false, "score": 1, "last_activity_date": 1426697394, "creation_date": 1426697394, "answer_id": 29127957, "question_id": 29127031, "link": "https://stackoverflow.com/questions/29127031/why-is-localtime-in-activeperl-on-windows-7-not-correct-when-i-change-envtz/29127957#29127957", "title": "Why is localtime in ActivePerl on windows 7 not correct when I change $ENV{TZ}?", "body": "<p>The code you posted is not using <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow\">DateTime</a>.</p>\n\n<pre><code>perl -MDateTime -E\" say DateTime-&gt;now(time_zone =&gt; 'local'); \n                    say DateTime-&gt;now(time_zone =&gt; 'America/New_York');\n                    say DateTime-&gt;now(time_zone =&gt; 'America/Los_Angeles');\n                    say DateTime-&gt;now(time_zone =&gt; 'GMT');\n\n                    my $now = DateTime-&gt;now(time_zone =&gt; 'local');\n                    say 'before conversion: ', $now;\n                    $now-&gt;set_time_zone('America/New_York');\n                    say 'after conversion: ', $now;\n                  \"\n</code></pre>\n\n<p>Output (from CST):</p>\n\n<pre><code>2015-03-18T11:47:10\n2015-03-18T12:47:10\n2015-03-18T09:47:10\n2015-03-18T16:47:10\nbefore conversion: 2015-03-18T11:47:10\nafter conversion: 2015-03-18T12:47:10\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1426707943, "last_edit_date": 1592644375, "creation_date": 1426707178, "answer_id": 29131129, "question_id": 29127031, "link": "https://stackoverflow.com/questions/29127031/why-is-localtime-in-activeperl-on-windows-7-not-correct-when-i-change-envtz/29131129#29131129", "title": "Why is localtime in ActivePerl on windows 7 not correct when I change $ENV{TZ}?", "body": "<p>The documentation for <a href=\"https://msdn.microsoft.com/en-us/library/90s5c885.aspx\" rel=\"nofollow noreferrer\">_tzset</a> explains the acceptable format for <code>$ENV{TZ}</code>:</p>\n<blockquote>\n<p>set TZ=tzn[+ | \u2013]hh[:mm[:ss] ][dzn]</p>\n<p><strong>tzn:</strong> Three-letter time-zone name, such as PST. You must specify the correct offset from local time to UTC.</p>\n<p><strong>hh:</strong> Difference in hours between UTC and local time. Sign (<code>+</code>) optional for positive values.</p>\n<p><strong>mm:</strong> Minutes. Separated from hh by a colon (<code>:</code>).</p>\n<p><strong>ss:</strong> Seconds. Separated from mm by a colon (<code>:</code>).</p>\n<p><strong>dzn:</strong> Three-letter daylight-saving-time zone such as PDT. If daylight saving time is never in effect in the locality, <code>set TZ</code> without a value for dzn. The C run-time library assumes the United States' rules for implementing the calculation of daylight saving time (DST).</p>\n</blockquote>\n<p>So, the following works:</p>\n<pre> C:\\> perl -E \"$ENV{TZ}='PST-8:00PDT';say scalar localtime\"\nWed Mar 18 15:44:57 2015</pre>\n<p>But, you'll find that some other values &quot;work&quot; as well, even though they are not documented:</p>\n<pre>C:\\> set TZ='-08:00'\n\nC:\\> perl -E \"say scalar localtime\"\nWed Mar 18 12:27:33 2015</pre>\n<pre>C:\\> set TZ=\n\nC:\\> perl -E \"say scalar localtime\"\nWed Mar 18 15:28:03 2015</pre>\n<pre>C:\\> perl -E \"$ENV{TZ}=q{'-08:00'};say scalar localtime\"\nWed Mar 18 15:34:41 2015</pre>\n<pre>C:\\> perl -E \"$ENV{TZ}=q{'America/Los_Angeles'};say scalar localtime\"\nWed Mar 18 15:35:09 2015</pre>\n"}], "owner": {"reputation": 1, "user_id": 4686123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1436b0541e43e02fa071af560eca4c5c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Gay", "link": "https://stackoverflow.com/users/4686123/jeff-gay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1426878896, "creation_date": 1426694882, "last_edit_date": 1495542135, "question_id": 29127031, "link": "https://stackoverflow.com/questions/29127031/why-is-localtime-in-activeperl-on-windows-7-not-correct-when-i-change-envtz", "title": "Why is localtime in ActivePerl on windows 7 not correct when I change $ENV{TZ}?", "body": "<p>I'm using Bugzilla on an IIS server which uses Perl's <code>DateTime</code> module.  Unfortunately the time is showing incorrectly.  <code>gmtime</code> shows the correct time in GMT but <code>localtime</code> does not give the correct time when I change <code>$ENV{TZ}</code>.</p>\n\n<p>Here is some code to demonstrate the issue:</p>\n\n<pre><code>#C:\\Perl64\\bin/perl -w\n$ENV{TZ} = 'America/New_York';\nmy $now = scalar localtime;\n$TZone =  $ENV{'TZ'}; \nprint \"It is now $now $TZone\\n\";\n\n$ENV{TZ} = 'America/Los_Angeles';\nmy $now = scalar localtime;\n$TZone =  $ENV{'TZ'}; \nprint \"It is now $now $TZone\\n\";\n\nmy $GMTime = scalar gmtime;\nprint \"It is now $GMTime GMT\\n\";\n</code></pre>\n\n<p>This prints:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>It is now Wed Mar 18 17:02:46 2015 America/New_York\nIt is now Wed Mar 18 17:02:46 2015 America/Los_Angeles\nIt is now Wed Mar 18 16:02:46 2015 GMT\n</code></pre>\n\n<p>Here are the expected results:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>It is now Wed Mar 18 12:02:46 2015 America/New_York\nIt is now Wed Mar 18 9:02:46 2015 America/Los_Angeles\nIt is now Wed Mar 18 16:02:46 2015 GMT\n</code></pre>\n\n<p>Here is my perl version information:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>This is perl 5, version 20, subversion 1 (v5.20.1) built for MSWin32-x64-multi-thread\n(with 1 registered patch, see perl -V for more detail)\n\nCopyright 1987-2014, Larry Wall\n\nBinary build 2000 [298557] provided by ActiveState http://www.ActiveState.com\nBuilt Oct 15 2014 14:56:57\n\nPerl may be copied only under the terms of either the Artistic License or the\nGNU General Public License, which may be found in the Perl 5 source kit.\n\nComplete documentation for Perl, including FAQ lists, should be found on\nthis system using \"man perl\" or \"perldoc perl\".  If you have access to the\nInternet, point your browser at http://www.perl.org/, the Perl Home Page.\n</code></pre>\n\n<p>I have seen <a href=\"https://stackoverflow.com/questions/753346/how-do-i-set-the-timezone-for-perls-localtime\">posts</a> that say you have to run</p>\n\n<pre><code>POSIX::tzset();\n</code></pre>\n\n<p>after changing <code>$ENV{TZ}</code>, but when I try that, I get an error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>POSIX::tzset not implemented on this architecture.\n</code></pre>\n\n<p>Here are the server logs for IIS.  The times are in UTC and are correct.</p>\n\n<pre><code>#Software: Microsoft Internet Information Services 7.5\n#Version: 1.0\n#Date: 2015-03-18 20:15:34\n#Fields: date time s-ip cs-method cs-uri-stem cs-uri-query s-port cs-username c-ip cs(User-Agent) sc-status sc-substatus sc-win32-status time-taken\n2015-03-18 20:17:52 127.0.0.1 GET /bugzilla/skins/standard/show_bug.css - 80 - 127.0.0.1 Mozilla/5.0+(Windows+NT+6.1;+Win64;+x64)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Chrome/42.0.2311.39+Safari/537.36 304 0 0 1\n2015-03-18 20:17:52 127.0.0.1 GET /bugzilla/js/comments.js - 80 - 127.0.0.1 Mozilla/5.0+(Windows+NT+6.1;+Win64;+x64)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Chrome/42.0.2311.39+Safari/537.36 304 0 0 24\n2015-03-18 20:18:06 127.0.0.1 POST /bugzilla/process_bug.cgi - 80 - 127.0.0.1 Mozilla/5.0+(Windows+NT+6.1;+Win64;+x64)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Chrome/42.0.2311.39+Safari/537.36 200 0 0 9498\n2015-03-18 20:18:23 127.0.0.1 GET /bugzilla/show_bug.cgi id=1 80 - 127.0.0.1 Mozilla/5.0+(Windows+NT+6.1;+Win64;+x64)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Chrome/42.0.2311.39+Safari/537.36 200 0 0 1164\n</code></pre>\n\n<p>How can I fix this?</p>\n\n<p>Our Solution was to move Bugzilla to a Linux Guest OS on a VM.  This solved the problem.</p>\n"}, {"tags": ["linux", "perl", "memory-management", "fork", "free"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1426700650, "post_id": 29126815, "comment_id": 46483873, "body": "Try having the parent catch the signal and shut down the children first?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 10, "last_activity_date": 1426694908, "creation_date": 1426694908, "answer_id": 29127036, "question_id": 29126815, "link": "https://stackoverflow.com/questions/29126815/how-do-i-keep-perl-from-consuming-tons-of-memory-when-child-forks-of-a-large-par/29127036#29127036", "title": "How do I keep Perl from consuming tons of memory when child forks of a large parent process shut down?", "body": "<p>The allocation of memory pages is due to the deallocation of variables on exit. This is necessary to have destructors called.</p>\n\n<p>Calling <code>POSIX::_exit()</code> will exit immediately, skipping the per-variable deallocation, but also skipping calls of destructors.</p>\n"}, {"tags": [], "owner": {"reputation": 3227, "user_id": 249199, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0878f26eba467efc1d90fc6959b9b531?s=128&d=identicon&r=PG", "display_name": "Zac B", "link": "https://stackoverflow.com/users/249199/zac-b"}, "is_accepted": false, "score": 2, "last_activity_date": 1427286040, "creation_date": 1427286040, "answer_id": 29255508, "question_id": 29126815, "link": "https://stackoverflow.com/questions/29126815/how-do-i-keep-perl-from-consuming-tons-of-memory-when-child-forks-of-a-large-par/29255508#29255508", "title": "How do I keep Perl from consuming tons of memory when child forks of a large parent process shut down?", "body": "<p>I accepted @ikegami's answer, because it directly answers the question.</p>\n\n<p>I'm posting this because my \"solution\" (really a way to optimize part of the problem away) might be useful to others.</p>\n\n<p>The eventual fix in my case was a paradigm shift: I realized that the problem wasn't that <em>any</em> Perl process sucks up a lot of memory on fork shutdown, but that I had <em>so many</em> Perl processes sucking up memory at shutdown <em>at the same time</em>. </p>\n\n<p>When my parent process got the \"shutdown\" instruction, it immediately sent a \"shutdown\" message to all of its children, and they all finished up what they were doing and shut down at more or less the same time. With anywhere from dozens to hundreds of child processes shutting down at the same time, the memory overhead was too great.</p>\n\n<p>The fix was to make shutdown a two-phase process: first, the parent process sent a \"stop what you're doing\" message to all of its children so that business logic stopped running at a predictable time. It sent that message to all of the children at once/in a very quick loop. Then, it shut down the children <em>one at a time</em>. It issued an interrupt to each child, called <code>waitpid</code> on it until it finished, and then went on to the next one.</p>\n\n<p>This way, the worst-case shutdown-induced memory footprint (with <code>p</code> representing the pre-fork memory footprint and <code>f</code> representing the number of child forks) was <code>2p</code>, rather than <code>fp</code>.</p>\n\n<p>This solution will not work in cases where <code>2p</code> memory consumption is still an unacceptably-high cost.</p>\n\n<p>Two optimizations were added: timeout/forceful-kill checks in the case of stubborn/broken children, and conditional <code>sleep</code>s between child-shutdowns if the previous child's shutdown forced the system to start swapping. The <code>sleep</code>s gave the system time to breathe/get pages out of swap.</p>\n\n<p>Again, this is an optimization on the problem, not an answer. The real answer is @ikegami's.</p>\n"}], "owner": {"reputation": 3227, "user_id": 249199, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0878f26eba467efc1d90fc6959b9b531?s=128&d=identicon&r=PG", "display_name": "Zac B", "link": "https://stackoverflow.com/users/249199/zac-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 2, "accepted_answer_id": 29127036, "answer_count": 2, "score": 8, "last_activity_date": 1427286040, "creation_date": 1426694328, "question_id": 29126815, "link": "https://stackoverflow.com/questions/29126815/how-do-i-keep-perl-from-consuming-tons-of-memory-when-child-forks-of-a-large-par", "title": "How do I keep Perl from consuming tons of memory when child forks of a large parent process shut down?", "body": "<p><strong>Context:</strong></p>\n\n<p>I have a multi-forking Perl (5.16) process that runs on Linux. The parent fork loads a very large amount of Perl code (via <code>use/require</code>) and allocates lots of data structures (several GB). It then creates many child forks, all of whom work in parallel. This is done to reduce the memory footprint of the process while it runs, since the copy-on-write nature of <code>fork()</code> means that the children can use the data that the parent has without each maintaining their own large memory image.</p>\n\n<p><strong>Problem:</strong></p>\n\n<p>All of that works fine until I try to shut down the group of processes. When I interrupt the parent (the signal propagates to all of the children), the memory on the server running the code immediately fills up, it starts swapping, and other processes on the server grind to a halt. When a copy-on-write fork shuts down, Perl seems to be trying to re-allocate all of the memory claimed in the parent so it can flag it for <code>free</code> or something.</p>\n\n<p><strong>Question:</strong></p>\n\n<p>How do I prevent this bloat-on-shutdown from happening? Is there some way I can tell the child forks to only try to traverse-and-reclaim memory that those forks allocated?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1426685861, "post_id": 29123437, "comment_id": 46473379, "body": "This was already answered in your previous question: <a href=\"http://stackoverflow.com/questions/29100071/getting-many-values-in-an-array-in-perl\" title=\"getting many values in an array in perl\">stackoverflow.com/questions/29100071/&hellip;</a>"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1426688093, "post_id": 29123437, "comment_id": 46474946, "body": "@HunterMcMillen: No, it was not answered in this question. The previous question was about splitting by the constant number of elements. You should read more carefully."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 2, "creation_date": 1426688098, "post_id": 29123437, "comment_id": 46474950, "body": "@HunterMcMillen: I don&#39;t see an answer to <i>this</i> question there?"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1426688341, "post_id": 29123437, "comment_id": 46475116, "body": "@Hynek-Pichi-Vychodil Sure, now you need to determine how many elements to grab, the solution is almost the same. I would expect someone could extrapolate a solution with an added condition from the previous answers"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1426688468, "post_id": 29123437, "comment_id": 46475206, "body": "Yep, <i>now you need to determine how many elements to grab</i>. It is very different task if you change problem from constant value to variable."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1426688590, "post_id": 29123437, "comment_id": 46475304, "body": "Clearly we don&#39;t agree, so it is probably not of benefit to discuss anymore. I marked as duplicate based on my previous argument."}, {"owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 0, "creation_date": 1427454531, "post_id": 29123437, "comment_id": 46793355, "body": "Both the questions are different. <a href=\"http://stackoverflow.com/questions/29100071/getting-many-values-in-an-array-in-perl?lq=1\">Pervious question</a> had a fixed pattern of 4 but this could have a pattern of 3 or 4 items, any one, any number of times!"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1426686492, "last_edit_date": 1426686492, "creation_date": 1426685866, "answer_id": 29123604, "question_id": 29123437, "link": "https://stackoverflow.com/questions/29123437/how-to-get-values-in-different-array-from-main-array-splitting-by-keyword-in-per/29123604#29123604", "title": "How to get values in different array from main array splitting by keyword in perl?", "body": "<pre><code>my $str = 'FORCE=(1,10,A,11,20,D,31,5,BI,A,36,9,NU,D,46,9,D)';\n\nmy ($list) = $str =~ /^[^=]*=\\(([^()]*)\\)$/\n   or die(\"Unexpected format\");\n\nmy @list = split(/,/, $list);\n\nmy @forces;\nwhile (@list) {\n   my @force;\n   while (1) {\n      die('No \"A\" or \"D\" value found') if !@list;\n      push @force, shift(@list);\n      last if $force[-1] eq 'A' || $force[-1] eq 'D';\n   }\n\n   push @forces, \\@force;\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>@{$forces[0]} = (  1, 10, 'A' );\n@{$forces[1]} = ( 11, 20, 'D' );\n@{$forces[2]} = ( 31,  5, 'BI', 'A' );\n@{$forces[3]} = ( 36,  9, 'NU', 'D' );\n@{$forces[4]} = ( 46,  9, 'D' );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39408, "user_id": 55857, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9cc59902c5433de334920d378626b9d8?s=128&d=identicon&r=PG", "display_name": "FMc", "link": "https://stackoverflow.com/users/55857/fmc"}, "is_accepted": true, "score": 3, "last_activity_date": 1426690888, "last_edit_date": 1426690888, "creation_date": 1426686758, "answer_id": 29123935, "question_id": 29123437, "link": "https://stackoverflow.com/questions/29123437/how-to-get-values-in-different-array-from-main-array-splitting-by-keyword-in-per/29123935#29123935", "title": "How to get values in different array from main array splitting by keyword in perl?", "body": "<pre><code># Grab the stuff inside the parens.\nmy $input      = \"FORCE=(1,10,A,11,20,D,31,5,BI,A,36,9,NU,D,46,9,D)\";\nmy ($vals_str) = $input =~ /\\(([^)]+)\\)/;\n\n# Get substrings of interest.\nmy @groups = $vals_str =~ /[^,].+?,[AD](?=,|$)/g;\n\n# Split those into your desired arrays.\nmy @forces = map [split /,/, $_], @groups;\n</code></pre>\n\n<p>Note that this regex-based approach is reasonable for situations when you can assume that your input data is fairly clean. If you need to handle messier data and need your code to perform validation, I would suggest that you consider a different parsing strategy (as suggested in other answers).</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1426691597, "post_id": 29124201, "comment_id": 46477549, "body": "I can see a number of reasons why your solution may have been down-voted. <i>\u201cTested and working\u201d</i> isn&#39;t a useful measure of the quality of your code"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426693777, "post_id": 29124201, "comment_id": 46479216, "body": "And reasons are? Sorry, I have to ask. If somebody care to downvote, he should care to explain."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1426694005, "post_id": 29124201, "comment_id": 46479371, "body": "No. There is no requirement to explain a vote on Stack Overflow, and you should get used to it as more often than not there is no explanation given"}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1426687488, "creation_date": 1426687488, "answer_id": 29124201, "question_id": 29123437, "link": "https://stackoverflow.com/questions/29123437/how-to-get-values-in-different-array-from-main-array-splitting-by-keyword-in-per/29124201#29124201", "title": "How to get values in different array from main array splitting by keyword in perl?", "body": "<p>I like functional approach so there is the version which makes splice indices first and then generates arrays of subarrays</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Carp;\n\nsub splice_force ($) {\n    my $str = shift;\n    croak \"Unexpected format\" unless $str =~ /^FORCE=\\(([^()]*)\\)/;\n    my @list = split ',', $1;\n\n    # find end positions for each splice\n    my @ends = grep $list[$_] =~ /^[AD]$/, 0 .. $#list;\n\n    # make array with starting positions\n    my @starts = ( 0, map $_ + 1, @ends );\n\n    #finally make splices (ignore last @starts element so iterate by @ends)\n    map [ @list[ shift(@starts) .. $_ ] ], @ends;\n}\n\nmy $str = 'FORCE=(1,10,A,11,20,D,31,5,BI,A,36,9,NU,D,46,9,D)';\n\nprint \"@$_\\n\" for splice_force $str;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 1, "last_activity_date": 1426688453, "creation_date": 1426688453, "answer_id": 29124589, "question_id": 29123437, "link": "https://stackoverflow.com/questions/29123437/how-to-get-values-in-different-array-from-main-array-splitting-by-keyword-in-per/29124589#29124589", "title": "How to get values in different array from main array splitting by keyword in perl?", "body": "<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse List::MoreUtils 'part';\n\n# Grab the stuff inside the parens.\nmy $input = \"FORCE=(1,10,A,11,20,D,31,5,BI,A,36,9,NU,D,46,9,D)\";\nmy ($vals_str) = $input =~ /\\(([^)]+)\\)/;\nmy @val = split(/,/,$vals_str);\nprint \"Val Array = @val\\n\";\nmy $i = 0;\nmy @partitions = part { $_ eq 'A' || $_ eq 'D' ? $i++ : $i } @val;\n</code></pre>\n\n<p>creates an array <code>@partitions</code> where each element is a reference to an array with the 3 or 4 elements you want grouped.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1426690559, "creation_date": 1426690559, "answer_id": 29125347, "question_id": 29123437, "link": "https://stackoverflow.com/questions/29123437/how-to-get-values-in-different-array-from-main-array-splitting-by-keyword-in-per/29125347#29125347", "title": "How to get values in different array from main array splitting by keyword in perl?", "body": "<p>You can do this without creating intermediate arrays:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $input = q{FORCE=(1,10,A,11,20,D,31,5,BI,A,36,9,NU,D,46,9,D)};\nmy @groups = ([]);\n\nwhile ($input =~ / ([A-Z0-9]+) ( [,)] ) /xg) {\n    my ($token, $sep) = ($1, $2);\n    push @{ $groups[-1] }, $token;\n    $token =~ /\\A(?:A|D)\\z/\n        or next;\n    $sep eq ')'\n        and last;\n    push @groups, [];\n}\n\nuse YAML::XS;\nprint Dump \\@groups;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>---     \n- - '1' \n  - '10'\n  - A   \n- - '11'\n  - '20'\n  - D   \n- - '31'\n  - '5' \n  - BI  \n  - A   \n- - '36'\n  - '9' \n  - NU  \n  - D   \n- - '46'\n  - '9' \n  - D</pre>\n"}, {"tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1426691211, "creation_date": 1426691211, "answer_id": 29125601, "question_id": 29123437, "link": "https://stackoverflow.com/questions/29123437/how-to-get-values-in-different-array-from-main-array-splitting-by-keyword-in-per/29125601#29125601", "title": "How to get values in different array from main array splitting by keyword in perl?", "body": "<p>Let's start with some issues:</p>\n\n<pre><code>@main = \"FORCE=(1,10,A,11,20,D,31,5,BI,A,36,9,NU,D,46,9,D)\";\n</code></pre>\n\n<p>You have <code>use strict</code>, but first you never declare <code>@main</code>, and <code>@main</code> is an array, but you're assigning it a single string. </p>\n\n<pre><code>my @val = split(/,/,$1);\n</code></pre>\n\n<p>Where does <code>$1</code> come from?</p>\n\n<pre><code>print \"Val Array = @val\\n\";\n</code></pre>\n\n<p>This might actually work. if <code>@val</code> had anything in it.</p>\n\n<p>You have:</p>\n\n<pre><code>Array1=1,10,A\nArray2=11,20,D\nArray3=31,5,BI,A\nArray4=36,9,NU,D\nArray5=46,9,D\n</code></pre>\n\n<p>As your desired results. Are these scalar variables, or are these sub-arrays?</p>\n\n<p>I'm going to assume the following:</p>\n\n<ul>\n<li>You need to convert your <code>FORCE</code> string into an array.</li>\n<li>You need your results in various arrays.</li>\n</ul>\n\n<p>Because of this, I'm going to use an <em>Array of Arrays</em> which means I'm going to be using <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">References</a>. </p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse feature qw(say);\n\n# Convert the string into an array\nmy $force = \"FORCE=(1,10,A,11,20,D,31,5,BI,A,36,9,NU,D,46,9,D)\";\n$force =~ s/FORCE=\\((.*)\\)/$1/;    # Remove the \"FORCE=(\" prefix and the \")\" suffix\nmy @main = split /,/, $force;      # Convert string into an array\n\nmy @array_of_arrays;               # Where I'm storing the arrays of arrays\nmy $array_of_arrays_number = 0;    # Array number I'm using for @arrays\n\nwhile (@main)  {      # Going through my \"@main\" array one character at a time\n\n    # Take a character from the @main array and put it onto whatever array of arrays you're pushing items into\n    my $character = shift @main;\n    push @{ $array_of_arrays[$array_of_arrays_number] }, $character;\n\n    # If Character is 'A' or 'D', start a new array_of_arrays\n    if ( $character eq 'A' or $character eq 'D' ) {\n        $array_of_arrays_number += 1;\n    }\n}\n\n# Let's print out these arrays\nfor my $array_number ( 0..$#array_of_arrays ) {\n    say \"Array$array_number = \", join \", \", @{ $array_of_arrays[$array_number] };\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1426694284, "last_edit_date": 1426694284, "creation_date": 1426693884, "answer_id": 29126612, "question_id": 29123437, "link": "https://stackoverflow.com/questions/29123437/how-to-get-values-in-different-array-from-main-array-splitting-by-keyword-in-per/29126612#29126612", "title": "How to get values in different array from main array splitting by keyword in perl?", "body": "<p>There is no need for anything more than <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a>. This solution checks that the string has the expected form and extracts the characters between the parentheses. Then that is split on commas that are preceded by a field that contains <code>A</code> or <code>D</code>, and the result is split again on commas.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.014;    # For \\K regex pattern\n\nmy $str = 'FORCE=(1,10,A,11,20,D,31,5,BI,A,36,9,NU,D,46,9,D)';\n\nmy @parts;\nif ( $str =~ /FORCE \\s* = \\s* \\( ( [^)]+ ) \\)/x ) {\n  @parts = map [ split /,/ ], split / [AD] [^,]* \\K , /x, $1;\n}\n\nuse Data::Dump;\ndd \\@parts;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>[\n  [1, 10, \"A\"],\n  [11, 20, \"D\"],\n  [31, 5, \"BI\", \"A\"],\n  [36, 9, \"NU\", \"D\"],\n  [46, 9, \"D\"],\n]\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "closed_date": 1427070580, "accepted_answer_id": 29123935, "answer_count": 7, "score": 1, "last_activity_date": 1426694284, "creation_date": 1426685447, "last_edit_date": 1426688973, "question_id": 29123437, "link": "https://stackoverflow.com/questions/29123437/how-to-get-values-in-different-array-from-main-array-splitting-by-keyword-in-per", "closed_reason": "Duplicate", "title": "How to get values in different array from main array splitting by keyword in perl?", "body": "<p>I have one string <code>FORCE=(1,10,A,11,20,D,31,5,BI,A,36,9,NU,D,46,9,D)</code>\nI want to store these values in different arrays when ever A/D is found, using perl.\nEg.</p>\n\n<pre><code>Array1=1,10,A\n\nArray2=11,20,D\n\nArray3=31,5,BI,A\n\nArray4=36,9,NU,D\n\nArray5=46,9,D\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>It is not known that the bunch will be of 3 or 4 values!</p>\n</blockquote>\n\n<hr>\n\n<p>Currently I am splitting the array with <code>split</code></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n@main = \"FORCE=(1,10,A,11,20,D,31,5,BI,A,36,9,NU,D,46,9,D)\";\nmy @val = split(/,/,$1);\nprint \"Val Array = @val\\n\";\n</code></pre>\n\n<p>But how to proceed further?</p>\n"}, {"tags": ["mysql", "sql", "perl"], "comments": [{"owner": {"reputation": 73, "user_id": 2941758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/117a2e50467965716b25e2b5b716fdf2?s=128&d=identicon&r=PG&f=1", "display_name": "Maina Mailu", "link": "https://stackoverflow.com/users/2941758/maina-mailu"}, "edited": false, "score": 0, "creation_date": 1426679312, "post_id": 29121215, "comment_id": 46468998, "body": "this is the textfile"}, {"owner": {"reputation": 73, "user_id": 2941758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/117a2e50467965716b25e2b5b716fdf2?s=128&d=identicon&r=PG&f=1", "display_name": "Maina Mailu", "link": "https://stackoverflow.com/users/2941758/maina-mailu"}, "edited": false, "score": 0, "creation_date": 1426679336, "post_id": 29121215, "comment_id": 46469014, "body": "Kamau, M.A., Njuguna, M.I., Yusuf, J. A., Akama, V., (2013) \u201cAnimal husbandry in the developed world\u201d Journal of Hospital Infenction Kamau, M.A., Njuguna, M.I., Yusuf, J. A., Akama, V., (2013) \u201cAgriculture and global warming\u201d PLOS Medicine Kamau, M.A., Njuguna, M.I., Yusuf, J. A., Akama, V., (2013) \u201cRotational farming as a business\u201d The Journal of Infectious Diseases"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1426679370, "post_id": 29121215, "comment_id": 46469038, "body": "Put that <i>in the question</i>."}], "answers": [{"comments": [{"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 1, "creation_date": 1426679839, "post_id": 29121345, "comment_id": 46469346, "body": "Using the variables twice - one time in the <code>$sql</code> and another time with the bind is the error. Within the SQL there should be the column names used, not the values themselves."}, {"owner": {"reputation": 73, "user_id": 2941758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/117a2e50467965716b25e2b5b716fdf2?s=128&d=identicon&r=PG&f=1", "display_name": "Maina Mailu", "link": "https://stackoverflow.com/users/2941758/maina-mailu"}, "edited": false, "score": 0, "creation_date": 1426680859, "post_id": 29121345, "comment_id": 46469980, "body": "Thanks Jens and @dgw....the script runs but somehow the data is not inserted to the desired table...sorry for being such a pain"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": true, "score": -1, "last_activity_date": 1426681494, "last_edit_date": 1426681494, "creation_date": 1426679575, "answer_id": 29121345, "question_id": 29121215, "link": "https://stackoverflow.com/questions/29121215/perl-mysql-insert-error/29121345#29121345", "title": "Perl MySQL INSERT error", "body": "<p>You have to use <code>$stmt-&gt;bind_param();</code> to bind the parameter and use <code>$stmt-&gt;execute()</code> without parameter</p>\n\n<pre><code>my $sql = \"insert into manuscript(authors,year,title,journal) \nvalues (?,?,?,?)\";\n\nmy $stmt = $dbh-&gt;prepare($sql);\n$stmt-&gt;bind_param(1,$authors);\n$stmt-&gt;bind_param(2,$year);\n$stmt-&gt;bind_param(3,$title);\n$stmt-&gt;bind_param(4,$journal);\n\n$stmt-&gt;execute();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 2941758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/117a2e50467965716b25e2b5b716fdf2?s=128&d=identicon&r=PG&f=1", "display_name": "Maina Mailu", "link": "https://stackoverflow.com/users/2941758/maina-mailu"}, "edited": false, "score": 0, "creation_date": 1426681282, "post_id": 29121468, "comment_id": 46470223, "body": "Thanks TobyLL the error is now gone...but the data is not being inserted into table"}, {"owner": {"reputation": 1748, "user_id": 4532614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f230595feac883e1643f5ba43084e895?s=128&d=identicon&r=PG&f=1", "display_name": "TobyLL", "link": "https://stackoverflow.com/users/4532614/tobyll"}, "reply_to_user": {"reputation": 73, "user_id": 2941758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/117a2e50467965716b25e2b5b716fdf2?s=128&d=identicon&r=PG&f=1", "display_name": "Maina Mailu", "link": "https://stackoverflow.com/users/2941758/maina-mailu"}, "edited": false, "score": 0, "creation_date": 1426681520, "post_id": 29121468, "comment_id": 46470369, "body": "Youe have put <code>AutoCommit =&gt; 0</code> on your connection.  You are then trying to do a <code>$dbh-&gt;commit()</code> BEFORE you actually run the SQL.  Try moving that to after the <code>$stmt-&gt;execute()</code>"}], "tags": [], "owner": {"reputation": 1748, "user_id": 4532614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f230595feac883e1643f5ba43084e895?s=128&d=identicon&r=PG&f=1", "display_name": "TobyLL", "link": "https://stackoverflow.com/users/4532614/tobyll"}, "is_accepted": false, "score": 7, "last_activity_date": 1426679973, "creation_date": 1426679973, "answer_id": 29121468, "question_id": 29121215, "link": "https://stackoverflow.com/questions/29121215/perl-mysql-insert-error/29121468#29121468", "title": "Perl MySQL INSERT error", "body": "<p>The problem is here:</p>\n\n<pre><code>my $sql = \"insert into manuscript($authors,$year,$title,$journal) \nvalues (?,?,?,?)\";\n</code></pre>\n\n<p>You are putting the <strong>contents</strong> of the variables as the field names.  I assume you mean:</p>\n\n<pre><code>my $sql = \"insert into manuscript(authors,year,title,journal) \nvalues (?,?,?,?)\";\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 2941758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/117a2e50467965716b25e2b5b716fdf2?s=128&d=identicon&r=PG&f=1", "display_name": "Maina Mailu", "link": "https://stackoverflow.com/users/2941758/maina-mailu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 29121345, "answer_count": 2, "score": -1, "last_activity_date": 1432919032, "creation_date": 1426679246, "last_edit_date": 1432919032, "question_id": 29121215, "link": "https://stackoverflow.com/questions/29121215/perl-mysql-insert-error", "title": "Perl MySQL INSERT error", "body": "<p>I'm trying to parse a few references from a file and load them into a MySQL table, but I keep on getting this error everytime I run the script</p>\n\n<pre><code>DBD::mysql::st execute failed: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ' Njuguna, M.I., Yusuf, J. A., Akama, V.,2013,Animal husbandry in the developed w' at line 1 at manuscripts3.pl line 51, &lt;$fh&gt; line 1.\n</code></pre>\n\n<p>Uncaught exception from user code</p>\n\n<p>See my code below.</p>\n\n<p>I'm at my wits end. What am I doing wrong?</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse diagnostics;\n\nuse DBI;\n\nmy $driver   = \"mysql\";\nmy $database = \"test\";\nmy $user     = \"root\";\nmy $password = \"\";\n\nmy $dbh      = DBI-&gt;connect(\n  \"DBI:$driver:$database\",\n  $user,\n  $password, {\n    RaiseError =&gt; 1,\n    PrintError =&gt; 1,\n    AutoCommit =&gt; 0,\n  }\n) or die $DBI::errstr;\n\nmy $file = \"/var/www/manuscripts.txt\";\n\nopen my $fh, \"&lt;\", $file;\nmy @manuscripts;\n\nwhile (my $lines = &lt;$fh&gt;) {\n  $lines =~ s/\\, \\(/\\t/g;\n  $lines =~ s/\\) \\\u201c/\\t/g;\n  $lines =~ s/\\\u201d /\\t/g;\n\n  my ($authors, $year, $title, $journal) = split(/\\t/, $lines);\n\n  push @manuscripts, {\n    authors =&gt; $authors,\n    year    =&gt; $year,\n    title   =&gt; $title,\n    journal =&gt; $journal\n  };\n\n  #print \"$title\\n\";\n  my $sql = \"insert into manuscript($authors,$year,$title,$journal) values (?,?,?,?)\";\n  $dbh-&gt;commit();\n  my $stmt = $dbh-&gt;prepare($sql);\n  $stmt-&gt;execute($authors, $year, $title, $journal);\n\n  # disconnect from the MySQL database\n  $dbh-&gt;disconnect();\n}\n\n#print $manuscripts[0][2];\n</code></pre>\n\n<p>text file:</p>\n\n<pre><code>Kamau, M.A., Njuguna, M.I., Yusuf, J. A., Akama, V., (2013) \u201cAnimal husbandry in the developed world\u201d Journal of Hospital Infenction\nKamau, M.A., Njuguna, M.I., Yusuf, J. A., Akama, V., (2013) \u201cAgriculture and global warming\u201d PLOS Medicine Kamau, M.A., Njuguna,\nM.I., Yusuf, J. A., Akama, V., (2013) \u201cRotational farming as a business\u201d The Journal of Infectious Diseases\n</code></pre>\n"}, {"tags": ["perl", "emacs", "cperl-mode"], "comments": [{"owner": {"reputation": 91778, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 1, "creation_date": 1426682067, "post_id": 29121191, "comment_id": 46470719, "body": "This doesn&#39;t answer your question, but I <i>strongly</i> recommend moving from XEmacs to GNU Emacs. XEmacs is largely abandoned. Its website hasn&#39;t been updated in two years, and the most recent commit to its &quot;bleeding edge&quot; Mercurial repository, listed as official on its website, is a year and a half older than that. In the meantime, GNU Emacs has surpassed XEmacs in virtually every way. It&#39;s hard to overstate the improvements we&#39;ve seen in the last few releases. The GNU Emacs community is dramatically larger as well, so you&#39;re much more likely to get useful help."}, {"owner": {"reputation": 1119, "user_id": 1514029, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/beZLm.png?s=128&g=1", "display_name": "Gerd", "link": "https://stackoverflow.com/users/1514029/gerd"}, "reply_to_user": {"reputation": 91778, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1426685358, "post_id": 29121191, "comment_id": 46473050, "body": "Ok. I change to GNU Emacs. How can I enable perl syntax check? I run cperl but syntax check is disabled?"}], "answers": [{"tags": [], "owner": {"reputation": 91778, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "is_accepted": false, "score": 2, "last_activity_date": 1426689184, "creation_date": 1426689184, "answer_id": 29124852, "question_id": 29121191, "link": "https://stackoverflow.com/questions/29121191/xemacs-perl-compilation-cant-go-to-error-position-by-showing-wrong-type-argum/29124852#29124852", "title": "Xemacs perl compilation can&#39;t go to error position, by showing &quot;Wrong type argument&quot; error", "body": "<blockquote>\n  <p>I change to GNU Emacs. How can I enable perl syntax check? I run cperl but syntax check is disabled?</p>\n</blockquote>\n\n<p>CPerl's \"Check syntax\" menu item relies on something called <a href=\"http://emacswiki.org/emacs/ModeCompile\" rel=\"nofollow\"><code>mode-compile</code></a>. If you don't have that installed it won't work. I've never used <code>mode-compile</code>, and can't offer much help there.</p>\n\n<p>If you're going to be installing another package for syntax checking anyway, and assuming you're using GNU Emacs 24 or later, I suggest using the excellent <a href=\"https://github.com/flycheck/flycheck\" rel=\"nofollow\">Flycheck</a> instead. Flycheck <a href=\"http://flycheck.readthedocs.org/en/latest/guide/languages.html#perl\" rel=\"nofollow\">supports syntax checking for Perl</a> as well as a huge number of other languages. In addition to regular syntax checking using the <code>perl</code> binary, Flycheck also supports syntax checking using <code>Perl::Critic</code>.</p>\n\n<p>Flycheck is available via <a href=\"http://melpa.org/\" rel=\"nofollow\">MELPA</a> and <a href=\"http://stable.melpa.org/\" rel=\"nofollow\">MELPA stable</a>. Once it is installed, add</p>\n\n<pre><code>(global-flycheck-mode)\n</code></pre>\n\n<p>to your configuration to enable Flycheck globally. If you've got <code>perl</code> on your path you should start getting syntax checking.</p>\n"}], "owner": {"reputation": 1119, "user_id": 1514029, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/beZLm.png?s=128&g=1", "display_name": "Gerd", "link": "https://stackoverflow.com/users/1514029/gerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426689184, "creation_date": 1426679164, "last_edit_date": 1426683288, "question_id": 29121191, "link": "https://stackoverflow.com/questions/29121191/xemacs-perl-compilation-cant-go-to-error-position-by-showing-wrong-type-argum", "title": "Xemacs perl compilation can&#39;t go to error position, by showing &quot;Wrong type argument&quot; error", "body": "<p>After compilation of perl script I get syntax error in compilation window. If I try to use <code>Goto Error</code> Command, it not working and show error message:</p>\n\n<pre><code>Wrong type argument: listp, \"^\\\\s-*\\\\(at \\\\(.*\\\\):\\\\([0-9]+\\\\)\\)\"\n</code></pre>\n\n<p>I use <code>cperl 6.2</code> and <code>xemacs 21.5.34</code>.</p>\n"}, {"tags": ["string", "perl"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 6, "creation_date": 1426675319, "post_id": 29119778, "comment_id": 46466500, "body": "@Halona <i>Always</i> <code>use strict; use warnings;</code>! And compare strings with <code>eq</code>, not <code>==</code>."}, {"owner": {"reputation": 1401, "user_id": 3322744, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Zql9U.jpg?s=128&g=1", "display_name": "Halona", "link": "https://stackoverflow.com/users/3322744/halona"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1426675881, "post_id": 29119778, "comment_id": 46466902, "body": "Thank you, Biffen, it has solved the problem :)"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1426676151, "post_id": 29119778, "comment_id": 46467074, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/14046669/perl-string-compare-with-eq-vs\">perl string compare with &quot;eq&quot; vs &quot;==&quot;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1401, "user_id": 3322744, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Zql9U.jpg?s=128&g=1", "display_name": "Halona", "link": "https://stackoverflow.com/users/3322744/halona"}, "edited": false, "score": 0, "creation_date": 1426676224, "post_id": 29120115, "comment_id": 46467132, "body": "Thank you hamic. Can you please explain what is &quot;LHS&quot;? I could not translate it.."}, {"owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "reply_to_user": {"reputation": 1401, "user_id": 3322744, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Zql9U.jpg?s=128&g=1", "display_name": "Halona", "link": "https://stackoverflow.com/users/3322744/halona"}, "edited": false, "score": 2, "creation_date": 1426676292, "post_id": 29120115, "comment_id": 46467168, "body": "LHS = Left hand side, I mean, you do not need the quotes around the variable. The quotes would only be needed if you wanted to insert the variable into some other text."}], "tags": [], "owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "is_accepted": true, "score": 4, "last_activity_date": 1426678491, "last_edit_date": 1426678491, "creation_date": 1426676081, "answer_id": 29120115, "question_id": 29119778, "link": "https://stackoverflow.com/questions/29119778/how-to-compare-strings-case-sensitively/29120115#29120115", "title": "How to compare strings case-sensitively?", "body": "<p>In perl, the <code>==</code> operator is used to make numeric comparisons, while the <code>eq</code> operator is used to make string comparisons.</p>\n\n<p>If <code>$name[0]</code> contains <code>TEMPLATE</code> then this:</p>\n\n<pre><code>($name[0] == \"template\")\n</code></pre>\n\n<p>is equivalent to comparing <code>0</code> with <code>0</code>, since a string containing non-numeric data will be co-erced to <code>0</code> in a numeric context.</p>\n\n<p>If you run it with warnings (<code>use warnings;</code> at the top of the script) you will see warnings about that.</p>\n\n<p>If you want a case sensitive comparison it is enough to use:</p>\n\n<pre><code>($name[0] eq \"template\")\n</code></pre>\n\n<p>As a side issue there is no need to write the LHS as <code>\"$name[0]\"</code> as you have done.</p>\n"}], "owner": {"reputation": 1401, "user_id": 3322744, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Zql9U.jpg?s=128&g=1", "display_name": "Halona", "link": "https://stackoverflow.com/users/3322744/halona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 29120115, "answer_count": 1, "score": 0, "last_activity_date": 1426678491, "creation_date": 1426675117, "last_edit_date": 1426675633, "question_id": 29119778, "link": "https://stackoverflow.com/questions/29119778/how-to-compare-strings-case-sensitively", "title": "How to compare strings case-sensitively?", "body": "<p>The <code>name</code> variable may contain 2 words: <code>template</code> or <code>TEMPLATE</code>. Comparing both words (<code>template</code> and <code>TEMPLATE</code>) to \"template\" string gives <code>TRUE</code>. For example, the code:</p>\n\n<pre><code>...\n@name = split(/_/,$f,2);\nprint(\"$name[0]\");\nif (\"$name[0]\" == \"template\"){\n    print (\"\\n lowercase \\n\"); \n} elsif (\"$name[0]\" == \"TEMPLATE\") {\n    print (\"\\n UPPERCASE \\n\");\n}\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>template\n\nlowercase\n\nTEMPLATE\n\nlowercase\n</code></pre>\n\n<p>How to compare strings case-sensitively? Really appreciate your help.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426674974, "post_id": 29119642, "comment_id": 46466288, "body": "Yes, there is. What have you tried so far?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426675636, "post_id": 29119642, "comment_id": 46466722, "body": "Also: Are you sure you want headers -&gt; columns? Because the example you give, you&#39;ve got headers mapping to rows."}, {"owner": {"reputation": 371, "user_id": 2753612, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/85ee5f401ec662cfa6bb0da3b36a753b?s=128&d=identicon&r=PG&f=1", "display_name": "Vandhana", "link": "https://stackoverflow.com/users/2753612/vandhana"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426676346, "post_id": 29119642, "comment_id": 46467199, "body": "Sorry, I edited the question. I want headers to columns. Thanks for highlighting it."}], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 2753612, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/85ee5f401ec662cfa6bb0da3b36a753b?s=128&d=identicon&r=PG&f=1", "display_name": "Vandhana", "link": "https://stackoverflow.com/users/2753612/vandhana"}, "edited": false, "score": 0, "creation_date": 1426677208, "post_id": 29120460, "comment_id": 46467751, "body": "Is there any way without using any module? I should do it without using modules."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 371, "user_id": 2753612, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/85ee5f401ec662cfa6bb0da3b36a753b?s=128&d=identicon&r=PG&f=1", "display_name": "Vandhana", "link": "https://stackoverflow.com/users/2753612/vandhana"}, "edited": false, "score": 0, "creation_date": 1426677438, "post_id": 29120460, "comment_id": 46467906, "body": "Yes. You can use <code>split</code> on <code>,</code>. Just bear in mind that <code>CSV</code> allows things like commas within quotes, which <code>split</code> won&#39;t handle. Edited with another example. But I would urge you to use the former if you can, it&#39;s less likely to break later."}, {"owner": {"reputation": 371, "user_id": 2753612, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/85ee5f401ec662cfa6bb0da3b36a753b?s=128&d=identicon&r=PG&f=1", "display_name": "Vandhana", "link": "https://stackoverflow.com/users/2753612/vandhana"}, "edited": false, "score": 0, "creation_date": 1426677997, "post_id": 29120460, "comment_id": 46468204, "body": "This is what I need. Thank you."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 371, "user_id": 2753612, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/85ee5f401ec662cfa6bb0da3b36a753b?s=128&d=identicon&r=PG&f=1", "display_name": "Vandhana", "link": "https://stackoverflow.com/users/2753612/vandhana"}, "edited": false, "score": 0, "creation_date": 1426678067, "post_id": 29120460, "comment_id": 46468250, "body": "Note that the above will ignore any extra columns without headers."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1426678106, "last_edit_date": 1426678106, "creation_date": 1426676977, "answer_id": 29120460, "question_id": 29119642, "link": "https://stackoverflow.com/questions/29119642/perl-need-to-store-the-column-values-into-hash/29120460#29120460", "title": "Perl - need to store the column values into hash", "body": "<p><a href=\"http://search.cpan.org/~makamaka/Text-CSV-1.33/lib/Text/CSV.pm\" rel=\"nofollow\"><code>Text::CSV</code></a> is a useful helper module for this sort of thing. </p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Text::CSV;\nuse Data::Dumper;\n\nmy %combined;\nopen( my $input, \"&lt;\", \"sample.csv\" ) or die(\"Unable to open file\");\nmy $csv = Text::CSV-&gt;new( { binary =&gt; 1 } );\nmy @headers = @{ $csv-&gt;getline($input) };\n\nwhile ( my $row = $csv-&gt;getline($input) ) {\n    for my $header (@headers) {\n        push( @{ $combined{$header} }, shift(@$row) );\n    }\n\n}\nprint Dumper \\%combined;\n</code></pre>\n\n<p>Since you requested without a module - you <em>can</em> use <code>split</code> but you need to bear in mind the limitations. <code>CSV</code> format allows for things like commas nested in quotes. <code>split</code> won't handle that case very well. </p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy %combined;\nopen( my $input, \"&lt;\", \"sample.csv\" ) or die(\"Unable to open file\");\nmy $line = &lt;$input&gt;;\nchomp ( $line );\nmy @headers = split( ',', $line );\n\nwhile (&lt;$input&gt;) {\n    chomp;\n    my @row = split(',');\n    for my $header (@headers) {\n        push( @{ $combined{$header} }, shift(@row) );\n    }\n\n}\nprint Dumper \\%combined;\n</code></pre>\n\n<p>Note: Both of these will effectively ignore any extra columns that don't have headers. (And will get confused by duplicate column names). </p>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 1, "last_activity_date": 1426685857, "creation_date": 1426685857, "answer_id": 29123601, "question_id": 29119642, "link": "https://stackoverflow.com/questions/29119642/perl-need-to-store-the-column-values-into-hash/29123601#29123601", "title": "Perl - need to store the column values into hash", "body": "<p>Another solution by using <code>for</code> loop :</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %data; \nmy @columns; \n\nopen (my $fh, \"&lt;\", \"file.csv\") or die \"Can't open the file : \";\n\nwhile (&lt;$fh&gt;)\n{\n    chomp;\n    my @list=split(',', $_);\n    for (my $i=0; $i&lt;=$#list; $i++)\n    {\n        if ($.==1)  # collect the columns, if its first line.\n        {\n            $columns[$i]=$list[$i];\n        }\n        else        #collect the data, if its not the first line. \n        {\n            push @{$data{$columns[$i]}}, $list[$i];\n        }\n    }\n}\nforeach (@columns)\n{\n    local $\"=\"\\,\";\n    print \"$_=&gt;@{$data{$_}}\\n\";\n}\n</code></pre>\n\n<p>Output will be like this :</p>\n\n<pre><code>A=&gt;1,6,11\nB=&gt;2,7,12\nC=&gt;3,8,13\nD=&gt;4,9,14\nE=&gt;5,10,15\n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 2753612, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/85ee5f401ec662cfa6bb0da3b36a753b?s=128&d=identicon&r=PG&f=1", "display_name": "Vandhana", "link": "https://stackoverflow.com/users/2753612/vandhana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2213, "favorite_count": 0, "accepted_answer_id": 29120460, "answer_count": 2, "score": 1, "last_activity_date": 1426685857, "creation_date": 1426674707, "last_edit_date": 1426677492, "question_id": 29119642, "link": "https://stackoverflow.com/questions/29119642/perl-need-to-store-the-column-values-into-hash", "title": "Perl - need to store the column values into hash", "body": "<p>I want to create a hash with column header as hash key and column values as hash values in Perl.</p>\n\n<p>For example, if my csv file has the following data:</p>\n\n<pre><code>A,B,C,D,E \n1,2,3,4,5\n6,7,8,9,10\n11,12,13,14,15 ...\n</code></pre>\n\n<p>I want to create a hash as follows:</p>\n\n<pre><code>A=&gt; 1,6,11\nB=&gt;2,7,12\nc=&gt;3,8,13 ...\n</code></pre>\n\n<p>So that just by using the header name I can use that column values. \nIs there a way in PERL to do this? Please help me.</p>\n\n<p>I was able to store required column values as array using the following script</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen( IN, \"sample.csv\" ) or die(\"Unable to open file\");\nmy $wanted_column = \"A\";\nmy @cells;\nmy @colvalues;\n\nmy $header       = &lt;IN&gt;;\nmy @column_names = split( \",\", $header );\nmy $extract_col  = 0;\n\nfor my $header_line (@column_names) {\n    last if $header_line =~ m/$wanted_column/;\n    $extract_col++;\n}\nwhile ( my $row = &lt;IN&gt; ) {\n    last unless $row =~ /\\S/;\n    chomp $row;\n    @cells = split( \",\", $row );\n    push( @colvalues, $cells[$extract_col] );\n}\nmy $sizeofarray = scalar @colvalues;\nprint \"Size of the coulmn= $sizeofarray\";\n</code></pre>\n\n<p>But I want to do this to all my column.I guess Hash of arrays will be the best solution but I dont know how to implement it.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1426664915, "post_id": 29116543, "comment_id": 46461021, "body": "open my $fh, &#39;&gt;&#39;, &#39;perl_script_3_out_1.txt&#39; or die $!; while (&lt;$fh&gt;) {    s/^ALT//g;  s/^CONFIG_SYS//g;  s/,//g; print $_; } close($fh);"}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1426665042, "post_id": 29116543, "comment_id": 46461069, "body": "I am new to it and not sure I am just tryng and learning as I am coming across new issues"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1426671561, "post_id": 29116543, "comment_id": 46464221, "body": "You are writing in file instead of reading. Change <code>&gt;</code> with <code>&lt;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 20787, "user_id": 1251660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UaQAA.jpg?s=128&g=1", "display_name": "slayedbylucifer", "link": "https://stackoverflow.com/users/1251660/slayedbylucifer"}, "is_accepted": false, "score": 0, "last_activity_date": 1426665615, "last_edit_date": 1426665615, "creation_date": 1426665266, "answer_id": 29116709, "question_id": 29116543, "link": "https://stackoverflow.com/questions/29116543/how-to-get-the-output-for-the-following/29116709#29116709", "title": "How to get the output for the following?", "body": "<p>Try this:</p>\n\n<pre><code># cat test \n#define PIOMUX2_UART_3_RXD   CONFIG_PIO31_5_SELECTOR,   ALT_2,   CONFIG_SYSCFG_PIO31_5_OE,   I\n#define PIOMUX2_UART_3_TXD   CONFIG_PIO31_6_SELECTOR,   ALT_2,   CONFIG_SYSCFG_PIO31_6_OE,   O\n#define PIOMUX2_UART_3_CTS   CONFIG_PIO31_7_SELECTOR,   ALT_1,   CONFIG_SYSCFG_PIO31_7_OE,   I\n\n# perl -a -F, -lne 'print $F[0]' test \n#define PIOMUX2_UART_3_RXD   CONFIG_PIO31_5_SELECTOR\n#define PIOMUX2_UART_3_TXD   CONFIG_PIO31_6_SELECTOR\n#define PIOMUX2_UART_3_CTS   CONFIG_PIO31_7_SELECTOR\n</code></pre>\n\n<p>For perl command line parameter explanation, please refer: <a href=\"https://blogs.oracle.com/ksplice/entry/the_top_10_tricks_of\" rel=\"nofollow\">https://blogs.oracle.com/ksplice/entry/the_top_10_tricks_of</a></p>\n\n<p>@Grace90, for given sample data, look at file from a column perspective. Also, consider all these columns are separated by a comma. So, in a nutshell, you want to extract the 1st column of the file which has its columns separated by comma.</p>\n\n<p>So for above command line:</p>\n\n<p><code>-F,</code> defines the comma as a field separator.\nOnce each line of the file is split, it is saved in an array <code>F</code>.\nand then I am printing only the 1st element of this array which is <code>$f[0]</code></p>\n"}, {"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 0, "last_activity_date": 1426665383, "creation_date": 1426665383, "answer_id": 29116732, "question_id": 29116543, "link": "https://stackoverflow.com/questions/29116543/how-to-get-the-output-for-the-following/29116732#29116732", "title": "How to get the output for the following?", "body": "<p>You could resolve it in the command line:</p>\n\n<pre><code>perl -p -i.bak -e \"s/([^,]+),.*/$1/\" my_data_file.txt\n</code></pre>\n\n<p>This change your data file (my_data_file.txt), and creates a backup (my_data_file.bak)</p>\n"}, {"tags": [], "owner": {"reputation": 1455, "user_id": 259383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ef1b8cf22b72b91751649ff2e771209?s=128&d=identicon&r=PG", "display_name": "Kaoru", "link": "https://stackoverflow.com/users/259383/kaoru"}, "is_accepted": true, "score": 2, "last_activity_date": 1426665567, "creation_date": 1426665567, "answer_id": 29116778, "question_id": 29116543, "link": "https://stackoverflow.com/questions/29116543/how-to-get-the-output-for-the-following/29116778#29116778", "title": "How to get the output for the following?", "body": "<p>Your primary issue is that you are opening a file in write mode (<code>'&gt;'</code>) but then trying to read from it (<code>&lt;$fh&gt;</code>.)</p>\n\n<p>Your second issue is that you are anchoring your substitution regular expressions to the beginning of the line (<code>s/^...</code>) but none of your input lines begin with ALT or CONFIG_SYS, because they all begin with #define.</p>\n\n<p>Try something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nopen my $fh, '&lt;', 'input.txt' or die $!;\n\nwhile (&lt;$fh&gt;) {\n    s/,.+//;\n    print;\n}\nclose $fh;\n</code></pre>\n\n<p>Which runs like this:</p>\n\n<pre><code>alex@yuzu:~$ perl stack.pl\n#define PIOMUX2_UART_3_RXD   CONFIG_PIO31_5_SELECTOR\n#define PIOMUX2_UART_3_TXD   CONFIG_PIO31_6_SELECTOR\n#define PIOMUX2_UART_3_CTS   CONFIG_PIO31_7_SELECTOR\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": -2, "last_activity_date": 1426671795, "creation_date": 1426671795, "answer_id": 29118630, "question_id": 29116543, "link": "https://stackoverflow.com/questions/29116543/how-to-get-the-output-for-the-following/29118630#29118630", "title": "How to get the output for the following?", "body": "<p>By using <code>split</code> function also you can get the output.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nopen my $fh, '&lt;', 'file.txt' or die $!;\nwhile (&lt;$fh&gt;)\n{\n  my @data = split(',', $_);\n  print \"$data[0]\\n\";\n}\nclose($fh); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1426673172, "creation_date": 1426673172, "answer_id": 29119117, "question_id": 29116543, "link": "https://stackoverflow.com/questions/29116543/how-to-get-the-output-for-the-following/29119117#29119117", "title": "How to get the output for the following?", "body": "<p>Try this.</p>\n\n<p>Simple <code>grep</code> function is enough for you.</p>\n\n<pre><code>open my $handle, '&lt;', 'file.txt' or die $!;\nmy @ar =  grep{~s/,.+//g} &lt;$handle&gt;;\nprint @ar;\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 29116778, "answer_count": 5, "score": 0, "last_activity_date": 1426673172, "creation_date": 1426664602, "last_edit_date": 1426665113, "question_id": 29116543, "link": "https://stackoverflow.com/questions/29116543/how-to-get-the-output-for-the-following", "title": "How to get the output for the following?", "body": "<p>I have a file which looks something like this </p>\n\n<pre><code>#define PIOMUX2_UART_3_RXD   CONFIG_PIO31_5_SELECTOR,   ALT_2,   CONFIG_SYSCFG_PIO31_5_OE,   I\n#define PIOMUX2_UART_3_TXD   CONFIG_PIO31_6_SELECTOR,   ALT_2,   CONFIG_SYSCFG_PIO31_6_OE,   O\n#define PIOMUX2_UART_3_CTS   CONFIG_PIO31_7_SELECTOR,   ALT_1,   CONFIG_SYSCFG_PIO31_7_OE,   I\n</code></pre>\n\n<p>and I need to get like</p>\n\n<pre><code>#define PIOMUX2_UART_3_RXD   CONFIG_PIO31_5_SELECTOR\n#define PIOMUX2_UART_3_TXD   CONFIG_PIO31_6_SELECTOR\n#define PIOMUX2_UART_3_CTS   CONFIG_PIO31_7_SELECTOR\n</code></pre>\n\n<p>i tried this :</p>\n\n<pre><code>open my $fh, '&gt;', 'perl_script_3_out_1.txt' or die $!;\nwhile (&lt;$fh&gt;)\n{\n  s/^ALT//g;\n  s/^CONFIG_SYS//g;\n  s/,//g; print $_;\n}\nclose($fh);\n</code></pre>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1426660577, "post_id": 29115579, "comment_id": 46459249, "body": "Looks like you password is wrong. The code looks ok."}, {"owner": {"reputation": 985, "user_id": 2195499, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0d3180333388fe82acbed9a395ba9ee5?s=128&d=identicon&r=PG", "display_name": "Yashwanth Aluru", "link": "https://stackoverflow.com/users/2195499/yashwanth-aluru"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1426660636, "post_id": 29115579, "comment_id": 46459271, "body": "No.. The password is correct..."}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1426660761, "post_id": 29115579, "comment_id": 46459321, "body": "Can you login from console? with same use/password?"}, {"owner": {"reputation": 381798, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1426660859, "post_id": 29115579, "comment_id": 46459361, "body": "Can you try: <code>$connect = Mysql-&gt;connect($host, $database, $userid, $password);</code> ?"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1426660942, "post_id": 29115579, "comment_id": 46459391, "body": "try: <code>$dsn = &quot;dbi:mysql:$database:localhost:3306&quot;;</code>"}, {"owner": {"reputation": 985, "user_id": 2195499, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0d3180333388fe82acbed9a395ba9ee5?s=128&d=identicon&r=PG", "display_name": "Yashwanth Aluru", "link": "https://stackoverflow.com/users/2195499/yashwanth-aluru"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1426661067, "post_id": 29115579, "comment_id": 46459447, "body": "@Jens Tried this, still same error... :("}, {"owner": {"reputation": 13397, "user_id": 387981, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eaaa20d03b637e0278e2541a952606e1?s=128&d=identicon&r=PG", "display_name": "Matteo", "link": "https://stackoverflow.com/users/387981/matteo"}, "edited": false, "score": 0, "creation_date": 1426661069, "post_id": 29115579, "comment_id": 46459449, "body": "You are using two machines (Windows and Ubuntu) and always connecting to &quot;localhost&quot;: are you sure? Where is the database? Are you connecting from the same machine?"}, {"owner": {"reputation": 985, "user_id": 2195499, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0d3180333388fe82acbed9a395ba9ee5?s=128&d=identicon&r=PG", "display_name": "Yashwanth Aluru", "link": "https://stackoverflow.com/users/2195499/yashwanth-aluru"}, "reply_to_user": {"reputation": 13397, "user_id": 387981, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eaaa20d03b637e0278e2541a952606e1?s=128&d=identicon&r=PG", "display_name": "Matteo", "link": "https://stackoverflow.com/users/387981/matteo"}, "edited": false, "score": 0, "creation_date": 1426661148, "post_id": 29115579, "comment_id": 46459471, "body": "@Matteo I&#39;ve two different servers on both the machines... I&#39;ve tried the code individually on both of them."}, {"owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "edited": false, "score": 0, "creation_date": 1426662530, "post_id": 29115579, "comment_id": 46460046, "body": "Do you connect with this command: <code>mysql -h localhost -u root -p</code>?"}, {"owner": {"reputation": 20787, "user_id": 1251660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UaQAA.jpg?s=128&g=1", "display_name": "slayedbylucifer", "link": "https://stackoverflow.com/users/1251660/slayedbylucifer"}, "edited": false, "score": 1, "creation_date": 1426666161, "post_id": 29115579, "comment_id": 46461533, "body": "Change <code>my $dbh = DBI-&gt;connect($dsn, $userid, $password ) or die $DBI::errstr;</code> to <code>my $dbh = DBI-&gt;connect($dsn, $userid, $password, {RaiseError=&gt;1} ) or die $DBI::errstr;</code> and see whether you get any verbose error message"}, {"owner": {"reputation": 985, "user_id": 2195499, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0d3180333388fe82acbed9a395ba9ee5?s=128&d=identicon&r=PG", "display_name": "Yashwanth Aluru", "link": "https://stackoverflow.com/users/2195499/yashwanth-aluru"}, "reply_to_user": {"reputation": 20787, "user_id": 1251660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UaQAA.jpg?s=128&g=1", "display_name": "slayedbylucifer", "link": "https://stackoverflow.com/users/1251660/slayedbylucifer"}, "edited": false, "score": 0, "creation_date": 1426667064, "post_id": 29115579, "comment_id": 46461917, "body": "@slayedbylucifer Tried... yet the same error... :-("}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1426693397, "post_id": 29115579, "comment_id": 46478947, "body": "I would get on the ubuntu box, and run your prel program under strace, capture the output, and then look for the login attempt and see what&#39;s going on at the system call level. It might shed some light on the problem."}], "answers": [{"tags": [], "owner": {"reputation": 1090, "user_id": 905927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290786897f51fbd76a589169d2170607?s=128&d=identicon&r=PG", "display_name": "rouzier", "link": "https://stackoverflow.com/users/905927/rouzier"}, "is_accepted": false, "score": 1, "last_activity_date": 1426781031, "last_edit_date": 1426781031, "creation_date": 1426778323, "answer_id": 29148461, "question_id": 29115579, "link": "https://stackoverflow.com/questions/29115579/perl-dbi-cannot-connect-to-mysql-access-denied/29148461#29148461", "title": "Perl - DBI cannot connect to MySQL (Access Denied...)", "body": "<p>In Mysql the username includes the host of connection.</p>\n\n<p>For instance the same user can have two different passwords depending from where they connect.</p>\n\n<p>Example:</p>\n\n<p>root@localhost is a different user than root@192.168.1.1</p>\n\n<p>Try and reset your password?\nIn the mysql console run both of the following command.\n(Changing 'cleartext password' to your password)</p>\n\n<p>SET PASSWORD FOR 'root'@'%' = PASSWORD('cleartext password');</p>\n\n<p>SET PASSWORD FOR 'root'@'localhost' = PASSWORD('cleartext password');</p>\n\n<p>This will allow both root users to use the same password</p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 2983556, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e17f8c0828fa8971f37d306f59c88ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/2983556/ravi"}, "is_accepted": false, "score": 2, "last_activity_date": 1570687671, "last_edit_date": 1570687671, "creation_date": 1449555433, "answer_id": 34149273, "question_id": 29115579, "link": "https://stackoverflow.com/questions/29115579/perl-dbi-cannot-connect-to-mysql-access-denied/34149273#34149273", "title": "Perl - DBI cannot connect to MySQL (Access Denied...)", "body": "<p>I had faced similar issue.\nI was using below connection string;</p>\n\n<p><code>my $dbh = DBI-&gt;connect(\"DBI:mysql:database=db_name;host=db_server_ip\", \"db_user\", \"db_password\", {'RaiseError' =&gt; 1});</code></p>\n\n<p>password was having \"@\" symbol within, replacing double quotes (\") to single quotes (') solved for me.</p>\n\n<p><code>my $dbh = DBI-&gt;connect(\"DBI:mysql:database=db_name;host=db_server_ip\", \"db_user\", 'db_password', {'RaiseError' =&gt; 1});</code></p>\n"}], "owner": {"reputation": 985, "user_id": 2195499, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0d3180333388fe82acbed9a395ba9ee5?s=128&d=identicon&r=PG", "display_name": "Yashwanth Aluru", "link": "https://stackoverflow.com/users/2195499/yashwanth-aluru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4377, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1570687671, "creation_date": 1426660489, "question_id": 29115579, "link": "https://stackoverflow.com/questions/29115579/perl-dbi-cannot-connect-to-mysql-access-denied", "title": "Perl - DBI cannot connect to MySQL (Access Denied...)", "body": "<p>I've the following Perl Script through which I try to connect to my local MySQL Server,</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse DBI;\nuse strict;\n\nmy $driver = \"mysql\"; \nmy $host = \"localhost\";\nmy $database = \"test\";\nmy $dsn = \"DBI:$driver:database=$database,host=$host\";\nmy $userid = \"root\";\nmy $password = \"password\";\n\nmy $dbh = DBI-&gt;connect($dsn, $userid, $password ) or die $DBI::errstr;\n\nmy $sth = $dbh-&gt;prepare(\"select from_date,to_date from temp\");\n$sth-&gt;execute() or die $DBI::errstr;\nprint \"Number of rows found :\" + $sth-&gt;rows;\nwhile (my @row = $sth-&gt;fetchrow_array()) {\n   my ($from_date, $to_date ) = @row;\n   print \"From Date = $from_date, To Date = $to_date\\n\";\n}\n$sth-&gt;finish();\n</code></pre>\n\n<p>When I run this script, I get the below error every time though I gave all privileges to this MySQL user,</p>\n\n<blockquote>\n  <p>Access denied for user 'root'@'localhost' (using password: YES)</p>\n</blockquote>\n\n<p>I'm new to Perl, I guess some mistake have been done. Please tell me what's wrong in my code.</p>\n\n<p>Thanks in advance!!</p>\n\n<p><strong>P.S. I'm running this on a Windows machine and I get the same error even on my Ubuntu machine though I specify socket's path there.</strong></p>\n"}, {"tags": ["xml", "perl", "utf-8"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1426672886, "post_id": 29115544, "comment_id": 46464983, "body": "I would suggest not using <code>XML::Simple</code> in the first place. It isn&#39;t, it&#39;s <i>for</i> simple XML. Even the docs  suggest it&#39;s use in new code is deprecated."}], "answers": [{"comments": [{"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1426721367, "post_id": 29115612, "comment_id": 46494617, "body": "That might imply that the XML::SAX::PurePerl parser was being used.  If you can provide an XML document that triggers the problem then it might be worth filing a bug."}], "tags": [], "owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "is_accepted": true, "score": 0, "last_activity_date": 1426660664, "creation_date": 1426660664, "answer_id": 29115612, "question_id": 29115544, "link": "https://stackoverflow.com/questions/29115544/xmlsimple-end-tag-mismatch/29115612#29115612", "title": "XML::Simple End tag mismatch", "body": "<p>Ok I added a line </p>\n\n<p><code>$XML::Simple::PREFERRED_PARSER = 'XML::Parser';</code></p>\n\n<p>Now this is working fine</p>\n"}], "owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 950, "favorite_count": 0, "accepted_answer_id": 29115612, "answer_count": 1, "score": 0, "last_activity_date": 1426660664, "creation_date": 1426660344, "question_id": 29115544, "link": "https://stackoverflow.com/questions/29115544/xmlsimple-end-tag-mismatch", "title": "XML::Simple End tag mismatch", "body": "<p>I have a valid XML file here \n<a href=\"http://pastebin.com/EQw8rZDS\" rel=\"nofollow\">http://pastebin.com/EQw8rZDS</a> </p>\n\n<p>But when I use XML::Simple on some of my servers this is giving an error \n\"End tag mismatch\"\n(perl 5.8.8 and XML::Simple 2.20 ) </p>\n\n<p>I am not sure what package needs to be upgraded </p>\n\n<p>This is the code here </p>\n\n<pre><code>#!/usr/bin/perl\nuse Data::Dumper;\nuse XML::Simple;\n\nmy $xs = XML::Simple-&gt;new();\nmy $xml1 =  $xs-&gt;XMLin($ARGV[0]) ;\n\nprint Dumper($xml1);\n</code></pre>\n"}, {"tags": ["arrays", "regex", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1426659837, "post_id": 29115169, "comment_id": 46458970, "body": "<code>while &#47;...&#47;</code> makes no sense without <code>&#47;g</code>."}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1426660240, "post_id": 29115169, "comment_id": 46459120, "body": "@choroba I added the value of time. This is not the actual variable I am using. I am actually using regex in an XML file which I know is generally not good, however it is a simple regex. I used <code>&#47;g</code> in my original file."}], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1426661270, "post_id": 29115688, "comment_id": 46459523, "body": "So it&#39;s not possible to do it in a one liner like for scalars?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1426661572, "post_id": 29115688, "comment_id": 46459640, "body": "You can&#39;t push to 3 arrays at a time."}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1426661893, "post_id": 29115688, "comment_id": 46459771, "body": "Thanks! Will accept your answer in 3 to 4 days, just waiting to see if someone else has some other answer"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 1, "last_activity_date": 1426662537, "last_edit_date": 1426662537, "creation_date": 1426661048, "answer_id": 29115688, "question_id": 29115169, "link": "https://stackoverflow.com/questions/29115169/is-it-possible-to-push-multiple-grouped-values-into-multiple-discrete-arrays-usi/29115688#29115688", "title": "Is it possible to push multiple grouped values into multiple discrete arrays using oneliner in perl?", "body": "<p>You don't need to match more than once.</p>\n\n<pre><code>my $time = \"12:23:54\\n15:33:54\\n00:12:23\";\nmy (@hour, @minute, @second);\nwhile ($time =~ /(\\d\\d):(\\d\\d):(\\d\\d)/g) {\n    push @hour,   $1;\n    push @minute, $2;\n    push @second, $3;\n}\n</code></pre>\n\n<p>I wouldn't recommend something like</p>\n\n<pre><code>1 while $time =~ /(\\d\\d):(\\d\\d):(\\d\\d)(?{ push @hour,   $1;\n                                          push @minute, $2;\n                                          push @second, $3\n                                        })/g;\n</code></pre>\n\n<p>as it's much less readable.</p>\n\n<p>The following might be more readable, but I'd still go with the first solution.</p>\n\n<pre><code>my @matches = $time =~ /(\\d\\d):(\\d\\d):(\\d\\d)/g;\n($hour[@hour], $minute[@minute], $second[@second])\n    = splice @matches, 0, 3 while @matches;\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 29115688, "answer_count": 1, "score": 0, "last_activity_date": 1426662537, "creation_date": 1426658714, "last_edit_date": 1426661196, "question_id": 29115169, "link": "https://stackoverflow.com/questions/29115169/is-it-possible-to-push-multiple-grouped-values-into-multiple-discrete-arrays-usi", "title": "Is it possible to push multiple grouped values into multiple discrete arrays using oneliner in perl?", "body": "<p>I have a perl regex from which I have to push <code>$1</code> and <code>$2</code> and <code>3</code> into three separate arrays.</p>\n\n<p>Currently I am pushing <code>$1</code> into the arrays in 3 separate statements like this:</p>\n\n<pre><code>foreach (@time){\n    push @hour, $1 while $_ =~ /(\\d\\d):\\d\\d:\\d\\d/g;\n    push @minute, $1 while $_ =~ /\\d\\d:(\\d\\d):\\d\\d/g;\n    push @second, $1 while $_ =~ /\\d\\d:\\d\\d:(\\d\\d)/g;\n}\n</code></pre>\n\n<p>I know that scalar variables can be assigned like this:</p>\n\n<pre><code>my ($i, $j, $k) = $time =~ /(\\d\\d):(\\d\\d):(\\d\\d)/;\n</code></pre>\n\n<p>Doing the arrays the same way stores all the groups into the first array.</p>\n\n<pre><code>my (@i, @j, @k) = $time =~ /(\\d\\d):(\\d\\d):(\\d\\d)/g;\nprint \"@i \\n\";\nprint \"------- \\n\";\nprint \"@j \\n\";\nprint \"------- \\n\";\nprint \"@k \\n\";\nprint \"------- \\n\";\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>12 23 43 15 33 54 00 12 23    \n-------\n\n-------\n\n-------\n</code></pre>\n\n<p>Is there a way to push groups into separate arrays in a one liner the same way scalar variables can do?</p>\n\n<p>Edit:</p>\n\n<pre><code>$time = \"12:23:54\n15:33:54\n00:12:23\";\n</code></pre>\n"}, {"tags": ["json", "perl", "hash", "scalar"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 1, "creation_date": 1426656978, "post_id": 29114689, "comment_id": 46458026, "body": "That line would be much better written as <code>if( &#39;HASH&#39; eq ref $units &amp;&amp; scalar keys %$units ) {...</code>, because it seems to want to verify that <code>$units</code> contains a hashref, and that the hash it refers to contains elements."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 0, "creation_date": 1426657668, "post_id": 29114689, "comment_id": 46458236, "body": "@DavidO: I don&#39;t see reason to assume the code is trying to verify that it contains a hashref; looks to me just like it assumes it is a hashref (and the OP isn&#39;t indicating getting an error there of the sort that would happen if that was a bad assumption)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426658027, "post_id": 29114689, "comment_id": 46458364, "body": "This is why you should always <code>use strict;</code>. If <code>$units</code> is not a hash reference, you would get a compile error like <code>Can&#39;t use string (&quot;foo&quot;) as a HASH ref while &quot;strict refs&quot; in use at prog.pl line 10.</code> with strict enabled."}, {"owner": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "edited": false, "score": 0, "creation_date": 1426660947, "post_id": 29114689, "comment_id": 46459396, "body": "strict is on and is not causing an error"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426683524, "post_id": 29114689, "comment_id": 46471692, "body": "@KirsKringle Then <code>$units</code> <i>is</i> a hash reference, and the JSON module is complaining about something else. Since you haven&#39;t shown the code that actually triggers the error (your snippet doesn&#39;t use <code>JSON.pm</code> at all), I would recommend running your script with the <a href=\"http://perldoc.perl.org/perldebug.html\" rel=\"nofollow noreferrer\">debugger</a> and putting a breakpoint on line 154 of <code>JSON.pm</code> to sniff out the culprit."}], "answers": [{"comments": [{"owner": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "edited": false, "score": 0, "creation_date": 1426660915, "post_id": 29114933, "comment_id": 46459380, "body": "this is indeed what I was looking for and understanding, but I could not find the reason for the scalar.  Is there any possibility that this test to see if it is empty would miss some condition as it would appear by the error that a ref is empty and acted upon which causes an issue with the json encoding that is later called in the block."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426670152, "post_id": 29114933, "comment_id": 46463448, "body": "You might normally use something like <code>scalar @array</code> to get a count of array elements. I suspect this is following the same (but incorrect) thought process."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "edited": false, "score": 0, "creation_date": 1426682632, "post_id": 29114933, "comment_id": 46471098, "body": "@Kirs Kringle, Lots of people like to use <code>scalar</code> where it&#39;s not needed. Even when they know it&#39;s not needed. They probably have problems grasping the fact that an array or hash can evaluate to a scalar."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1426687240, "post_id": 29114933, "comment_id": 46474328, "body": "the error you are getting doesn&#39;t indicate a reference to an empty hash, it indicates something that isn&#39;t a reference at all."}, {"owner": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "edited": false, "score": 0, "creation_date": 1426748387, "post_id": 29114933, "comment_id": 46501579, "body": "So from your info I found that in another script it was passing this as a normal $ and not a % .  Therefore it was confused on the ref for some reason.  It is weird it worked for most of them, but quit out on some.  Now it works, but when I run the secondary script it says the way it is denounced is depreciated, but it works completely so I&#39;m going to leave it.  Thanks for the help."}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 2, "last_activity_date": 1426657590, "creation_date": 1426657590, "answer_id": 29114933, "question_id": 29114689, "link": "https://stackoverflow.com/questions/29114689/perl-scalar-and-json/29114933#29114933", "title": "Perl scalar and json", "body": "<p>The code is testing to see if $units is defined, and if it is, assuming it is a hashref and testing to see if the hash is non-empty.</p>\n\n<p>The <code>scalar</code> here has no effect, since the if gives the &amp;&amp; operation scalar context and &amp;&amp; passes that context on to its left operand, so <code>%{$units}</code> would have scalar context anyway.   A hash in scalar context produces a false value if the hash is empty and a true value (a string describing bucket usage, but usually it doesn't matter what it is except that it is true) if it is not empty.</p>\n"}], "owner": {"reputation": 769, "user_id": 716031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eafc0eed89fca48c30c41364ff2f3eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Kirs Kringle", "link": "https://stackoverflow.com/users/716031/kirs-kringle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 0, "accepted_answer_id": 29114933, "answer_count": 1, "score": 0, "last_activity_date": 1426657590, "creation_date": 1426656297, "question_id": 29114689, "link": "https://stackoverflow.com/questions/29114689/perl-scalar-and-json", "title": "Perl scalar and json", "body": "<p>I'm not sure what the below is doing exactly at the:</p>\n\n<blockquote>\n  <p>scalar %{ $units}</p>\n</blockquote>\n\n<p>in the below:</p>\n\n<pre><code> if ( defined( $units ) &amp;&amp; scalar %{ $units} ) {\n</code></pre>\n\n<p>The script runs most of the entries, but it appears when it gets to the end it comes up with this error.</p>\n\n<blockquote>\n  <p>hash- or arrayref expected (not a simple scalar, use allow_nonref to\n  allow this) at /usr/share/perl5/JSON.pm line 154.</p>\n</blockquote>\n\n<p>I cannot share much more of the code due to restraints, but I'm trying to fix this so that that error does not arise, but I lack the understanding of the above use  of:</p>\n\n<blockquote>\n  <p>scalar %{ $units }</p>\n</blockquote>\n\n<p>To properly diagnose what is going on at this stage.</p>\n\n<p>It would appear that this is an array of hashes and we are checking if it has anything in it? </p>\n\n<p>A comment above this line says:</p>\n\n<pre><code># We only want to move on if there were units for this timeframe\n</code></pre>\n"}, {"tags": ["regex", "perl", "perl-module", "multiline", "regex-greedy"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426638296, "post_id": 29110419, "comment_id": 46453353, "body": "You don&#39;t seem to have shown any Perl code that is relevant to your question.  <code>_get_status</code> appears to be a private method of a class that you haven&#39;t mentioned, and doesn&#39;t create any output. Please tell us a <i>lot</i> more, and at least include a sample of the the data that you&#39;re matching\u2014presumably the contents of the array referred to by <code>$self-&gt;{stdout}</code>?"}, {"owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426640492, "post_id": 29110419, "comment_id": 46453912, "body": "@Borodin added the function call and the output."}, {"owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426693262, "post_id": 29110419, "comment_id": 46478824, "body": "@Borodin Et al  i have edited my question .Let me know if its still unclear."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1426702555, "post_id": 29110419, "comment_id": 46485091, "body": "How do you know that <code>pression</code> is a continuation of the task name, and not the start of a different data line?  Is it the absence of a colon?  Since &#39;<code>Task Name:</code>&#39; contains a space, it isn&#39;t simply &#39;the first word ends in a colon&#39; (unlike email headers, for example; the tags for those contain no spaces).  You need to be able to identify whether a given input line is a continuation of the previous line by some means or another.  With that done (identifying the complete &#39;line&#39;), the regex to remove the newline in the data is not too onerous."}, {"owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1426711351, "post_id": 29110419, "comment_id": 46490391, "body": "@JonathanLeffler different data line (if any ) gets printed in the next line.Im not really sure what i need to add to my regex to capture the  part of the task name thats gets printed in the next line."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4227915"}, "is_accepted": false, "score": 0, "last_activity_date": 1438261023, "creation_date": 1438261023, "answer_id": 31724424, "question_id": 29110419, "link": "https://stackoverflow.com/questions/29110419/multi-line-regex-in-perl/31724424#31724424", "title": "Multi-line regex in Perl", "body": "<p>I don't know the language as well, but you can try this <em>logic</em>:</p>\n\n<pre><code>var current_line = empty string.\n\nforeach LINE in lines {\n   if LINE contains \":\" {\n      then\n         1. Save or do something with last line (current_line).\n         2. LINE is the start of a new line (current_line = what comes after \":\").\n   }\n   else {\n      then \n         1. LINE is a continuation of last line \n            (current_line = current_line + LINE).\n   }\n}\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1438261023, "creation_date": 1426629192, "last_edit_date": 1426693036, "question_id": 29110419, "link": "https://stackoverflow.com/questions/29110419/multi-line-regex-in-perl", "title": "Multi-line regex in Perl", "body": "<p>I have written a Perl script which parses the output of a command, looks for the task name in the  command output and prints the task name.</p>\n\n<p><strong>Command output looks like the below</strong></p>\n\n<p>Here task name is 'mutipleregexpression'. But part of the word 'pression' gets printed in the new line.</p>\n\n<pre><code>Task Name:                                                  multipleregex\npression\n</code></pre>\n\n<p>This is the regex that im currently using in my code:</p>\n\n<pre><code>`$line =~ /(.*):\\s*(.+)/` \n</code></pre>\n\n<p>The above regex doesn't capture part of the task name that gets printed in the new line. It only captures 'multipleregex' it doesn't capture 'pression' since pression gets printed in the new line.\ni see the following error </p>\n\n<pre><code>Use of uninitialized value $result in concatenation (.) or string at  line 114.\n</code></pre>\n\n<p>So my question is what is the change that i need to make to the regularexpression so that it captures 'pression' as well</p>\n\n<p><strong>function for capturing the task name</strong></p>\n\n<pre><code>sub get_status {\n  my ($self) = @_;\n\n  my $taskname;\n  my %result;\n  my $line;\n\n  $self-&gt;{'cmd'} = # command goes here;\n\n  # execute the command\n  $self-&gt;execute($self-&gt;{'cmd'});\n  $self-&gt;{'stdout'} = $self-&gt;get_stdout();\n\n  my $count = 0;\n\n  # traverse through the output to parse the output\n\n  foreach $line (@{ $self-&gt;{'stdout'} }) {\n    chomp $line;\n\n    if ( $line =~ m/^Task\\sName\\:\\s+(\\w+)/msx ) {\n      $taskname = $1;\n      $count    = 0;\n    }\n    elsif ($line =~ /(.*):\\s*(.+)/) {\n      my $key   = $1;\n      my $value = $2;\n      $result{$taskname}{ ++$count } = $value;\n    }\n  }\n\n  return \\%result;\n}\n</code></pre>\n\n<p><strong>Function call :</strong>   </p>\n\n<pre><code>my $result = $stats-&gt;get_status('multipleregexpression', '1');\n       INFO('Status of the task is :' . $result );\n</code></pre>\n\n<p><strong>Output :</strong></p>\n\n<pre><code>Use of uninitialized value $result in concatenation (.) or string at  line 114.\n20150317T194029   INFO    Status of the task is :\n</code></pre>\n"}, {"tags": ["html", "perl", "dom"], "comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 2, "creation_date": 1426629141, "post_id": 29110044, "comment_id": 46450179, "body": "How/what it parses incorrectly? (you probably don&#39;t want from us to parse and compare 400kb html?)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1426633582, "post_id": 29110044, "comment_id": 46451895, "body": "You shouldn&#39;t expect the round-trip conversion to match. Is there a reason why you need it to be identical?"}], "answers": [{"comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1426633708, "post_id": 29111373, "comment_id": 46451939, "body": "There are also non-errors (like tag/attribute name capitalisation and optional start and end tags) which get normalised."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1426633907, "post_id": 29111373, "comment_id": 46451999, "body": "@Quentin: Yes, there are several such equivalents. You are welcome to edit my post if you think you can make it more useful"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1426639218, "last_edit_date": 1426639218, "creation_date": 1426633543, "answer_id": 29111373, "question_id": 29110044, "link": "https://stackoverflow.com/questions/29110044/perl-htmltreebuilder-incorrect-parsing/29111373#29111373", "title": "Perl HTML::TreeBuilder incorrect parsing", "body": "<p>What you are calling <em>incorrect parsing</em> is simply mismatching round-trip conversion. The result of the <code>as_HTML</code> method is highly unlikely to match the source data because it is meant only to be <em>equivalent</em> to the original HTML.</p>\n\n<p>There will be differences because of, but not limited to these reasons</p>\n\n<ul>\n<li><p>HTML data can contain <em>insignificant whitespace</em> which has no effect on what is rendered in the browser. <code>HTML::TreeBuilder</code> doesn't store that whitespace and won't reproduce it</p></li>\n<li><p><code>HTML::TreeBuilder</code> is highly tolerant of errors in the original HTML, and is meant to behave similarly to real web browsers in the wild. So anything that isn't strictly valid HTML will be represented as a valid interpretation of the same data</p></li>\n</ul>\n\n<p>For instance, if I write</p>\n\n<pre><code>say HTML::TreeBuilder-&gt;new-&gt;parse('&lt;p&gt;text&lt;/p&gt;')-&gt;as_HTML;\n</code></pre>\n\n<p>I get the output</p>\n\n<pre><code>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;text&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>So the module has recognized that the complete document should include <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code>and <code>&lt;body&gt;</code> elements, which is fine for all normal applications of HTML data.</p>\n"}], "owner": {"reputation": 4612, "user_id": 2277510, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/fcffe01e34fc11c789b0a9098e356195?s=128&d=identicon&r=PG&f=1", "display_name": "coder hacker", "link": "https://stackoverflow.com/users/2277510/coder-hacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426639218, "creation_date": 1426627667, "last_edit_date": 1426632916, "question_id": 29110044, "link": "https://stackoverflow.com/questions/29110044/perl-htmltreebuilder-incorrect-parsing", "title": "Perl HTML::TreeBuilder incorrect parsing", "body": "<p>I have the following code, which uses <a href=\"https://metacpan.org/module/HTML::TreeBuilder\" rel=\"nofollow\"><code>HTML::TreeBuilder</code></a> to parse the HTML from a web site.</p>\n\n<pre><code> my $urlToSpider = \"http://www.yelp.com/biz/selden-standard-detroit\";\n my $html = get $urlToSpider;\n\n $tree = HTML::TreeBuilder-&gt;new;\n #print $html;\n $tree-&gt;parse($html);\n\n print $tree-&gt;as_HTML;\n</code></pre>\n\n<p>In the above example, when I save <code>print $tree-&gt;as_HTML</code> to file, the HTML structure is different from the original structure, although <code>print $html</code> gives the correct structure.</p>\n\n<p>Why is the module parsing incorrectly?</p>\n"}, {"tags": ["perl", "perl-module", "cpan", "perlbrew"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426627275, "post_id": 29109363, "comment_id": 46449316, "body": "Perhaps the <a href=\"https://metacpan.org/pod/only\" rel=\"nofollow noreferrer\"><code>only</code> module</a> would be useful."}], "answers": [{"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 0, "last_activity_date": 1426626092, "creation_date": 1426626092, "answer_id": 29109594, "question_id": 29109363, "link": "https://stackoverflow.com/questions/29109363/install-different-version-of-perl-module-using-perl-brew/29109594#29109594", "title": "install different version of perl module using perl brew", "body": "<p>In some environments, <a href=\"https://metacpan.org/pod/Carton\" rel=\"nofollow\">Carton</a> maybe the tool you are looking for. It requires a cpanfile where the dependencies are specified, so each script should be handled as an independent application in order to isolate each of them</p>\n"}, {"tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": true, "score": 2, "last_activity_date": 1426683141, "creation_date": 1426683141, "answer_id": 29122612, "question_id": 29109363, "link": "https://stackoverflow.com/questions/29109363/install-different-version-of-perl-module-using-perl-brew/29122612#29122612", "title": "install different version of perl module using perl brew", "body": "<p><code>perlbrew</code> keeps each version separate, include its CPAN modules. If you run:</p>\n\n<pre><code>perl -E'say for @INC'\n</code></pre>\n\n<p>you will see the Perl version in the paths. If you switch the Perl, you will see different paths for <code>@INC</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1426685317, "creation_date": 1426685317, "answer_id": 29123388, "question_id": 29109363, "link": "https://stackoverflow.com/questions/29109363/install-different-version-of-perl-module-using-perl-brew/29123388#29123388", "title": "install different version of perl module using perl brew", "body": "<p>You can still use <code>PERL5LIB</code> with <code>perlbrew</code>-installed <code>perl</code>. But since you're already using <code>perlbrew</code>, why not just install a second build of that version of Perl for use with your newer scripts? Upgrading modules for one <code>perl</code> install won't affect others.</p>\n"}], "owner": {"reputation": 1629, "user_id": 493892, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b9ba82cf7f994f43e3be72962921ea4d?s=128&d=identicon&r=PG", "display_name": "made_in_india", "link": "https://stackoverflow.com/users/493892/made-in-india"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 682, "favorite_count": 0, "accepted_answer_id": 29122612, "answer_count": 3, "score": 1, "last_activity_date": 1426685317, "creation_date": 1426625291, "question_id": 29109363, "link": "https://stackoverflow.com/questions/29109363/install-different-version-of-perl-module-using-perl-brew", "title": "install different version of perl module using perl brew", "body": "<p>we are using perlbrew for maintaining the various version of perl.\nAlong , now we are facing challenges as we need to update the scripts to the latest CPAN module. But we want still some the script to keep make use of old perl module till the compatibility issue is resolved.</p>\n\n<p>Is there any away to install the lastest version of module with impacting the older version  </p>\n"}, {"tags": ["json", "perl", "hashmap"], "answers": [{"comments": [{"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1426626725, "post_id": 29109553, "comment_id": 46449049, "body": "I have tried this but it did worked,  Element &quot;Key&quot; does not already exit so i need to add that as well. This was the reason i tried using hashmap"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1426627090, "post_id": 29109553, "comment_id": 46449233, "body": "Error message when using the way you suggested :  Can&#39;t use string (&quot;{ Person&quot;:{&quot;ID&quot;:&quot;0&quot;,&quot;T&quot;)as a HASH ref while &quot;strict refs&quot; in use."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1426677727, "post_id": 29109553, "comment_id": 46468051, "body": "@user1188611: String is not obviously a hash, you forget decode JSON."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1426680611, "post_id": 29109553, "comment_id": 46469810, "body": "@user1188611 Assigning a value to a Hash key creates the key if it does not already exist"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1426625950, "creation_date": 1426625950, "answer_id": 29109553, "question_id": 29109086, "link": "https://stackoverflow.com/questions/29109086/adding-new-key-value-pair-in-an-existing-json-element/29109553#29109553", "title": "Adding new key-value pair in an existing json element", "body": "<p>It would make more sense to set the key and value directly. The Laptop portion of your JSON is <em>not</em> an array, so you can't push elements onto it:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\nuse JSON;\n\n\nmy $json;\n{\n   local $/;\n   $json = from_json( &lt;DATA&gt; );\n}\n\n$json-&gt;{Person}-&gt;{Home}-&gt;{Laptop}-&gt;{Key} = 123456789;\nprint Dumper $json;\n\n__DATA__\n{\n   \"Person\": {\n      \"ID\": \"0\", \n      \"SchemaVersion\": \"1.0.8\", \n       \"Home\": {\n          \"ID\": \"ABC-XYZ\", \n\n          \"Laptop\": {\n             \"FileName\": \"/usr/temp/RPM_020515_.tar.gz\"\n           }, \n\n          \"Location\": {\n              \"Number\": \"62\", \n              \"MaxSize\": \"0\", \n              \"Comment\": { }, \n              \"SiteName\": { }\n           }, \n\n          \"State\": \"Unknown\"\n       }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1426628323, "post_id": 29109922, "comment_id": 46449816, "body": "actually i am using perl v5.10.0, so this solution will not work for that version. I just tried doing this and it failed. Compatibility/version issue."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1426628349, "post_id": 29109922, "comment_id": 46449829, "body": "this is stupid of using such an old version but i am restricted to use that old version, Any other suggestions?"}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1426629117, "post_id": 29109922, "comment_id": 46450167, "body": "yes i am having &quot;Use strict&quot; only in my perl script. But i get following message when i use above solution &quot;Can&#39;t locate Clone.pm in @INC ...&quot; and it fails without producing any output"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1426629337, "post_id": 29109922, "comment_id": 46450281, "body": "yes, it uses the module <a href=\"https://metacpan.org/pod/Hash::Merge\" rel=\"nofollow noreferrer\">Hash::Merge</a> what needs <a href=\"https://metacpan.org/pod/Clone\" rel=\"nofollow noreferrer\">Clone</a>."}, {"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1426629397, "post_id": 29109922, "comment_id": 46450318, "body": "yes so is there any other way of doing same solution which odes not have dependency on clone?"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1426629442, "post_id": 29109922, "comment_id": 46450344, "body": "Probably others will suggest you an another solution."}], "tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 1, "last_activity_date": 1426628871, "last_edit_date": 1426628871, "creation_date": 1426627164, "answer_id": 29109922, "question_id": 29109086, "link": "https://stackoverflow.com/questions/29109086/adding-new-key-value-pair-in-an-existing-json-element/29109922#29109922", "title": "Adding new key-value pair in an existing json element", "body": "<p>I would to use:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse JSON;\nuse Hash::Merge qw(merge);\n\nmy $wantadd-&gt;{Person}-&gt;{Home}-&gt;{Laptop} = {\n    key =&gt; 123456,\n    some =&gt; 'data1',\n    other =&gt; 'data2',\n    deeper =&gt; {\n        deep1 =&gt; \"deep1\",\n        deep2 =&gt; \"deep2\",\n    },\n};\n\nmy $json_str = do { local $/; &lt;DATA&gt; };\nmy $json = JSON-&gt;new();\n\nmy $tempHash = $json-&gt;decode($json_str);  \nmy $newhash = merge($tempHash,$wantadd);\nprint $json-&gt;pretty-&gt;encode($newhash);\n\n#or in compact form\nprint encode_json(merge(decode_json($json_str),$wantadd));\n\n__DATA__\n{\n   \"Person\" : {\n      \"ID\" : \"0\",\n      \"SchemaVersion\" : \"1.0.8\",\n      \"Home\" : {\n         \"State\" : \"Unknown\",\n         \"Laptop\" : {\n            \"FileName\" : \"/usr/temp/RPM_020515_.tar.gz\"\n         },\n         \"Location\" : {\n            \"MaxSize\" : \"0\",\n            \"Comment\" : {},\n            \"SiteName\" : {},\n            \"Number\" : \"62\"\n         },\n         \"ID\" : \"ABC-XYZ\"\n      }\n   }\n}\n</code></pre>\n\n<p>it prints:</p>\n\n<pre><code>{\n   \"Person\" : {\n      \"ID\" : \"0\",\n      \"Home\" : {\n         \"ID\" : \"ABC-XYZ\",\n         \"Location\" : {\n            \"MaxSize\" : \"0\",\n            \"SiteName\" : {},\n            \"Number\" : \"62\",\n            \"Comment\" : {}\n         },\n         \"State\" : \"Unknown\",\n         \"Laptop\" : {\n            \"FileName\" : \"/usr/temp/RPM_020515_.tar.gz\",\n            \"key\" : 123456,\n            \"other\" : \"data2\",\n            \"deeper\" : {\n               \"deep1\" : \"deep1\",\n               \"deep2\" : \"deep2\"\n            },\n            \"some\" : \"data1\"\n         }\n      },\n      \"SchemaVersion\" : \"1.0.8\"\n   }\n}\n\n{\"Person\":{\"SchemaVersion\":\"1.0.8\",\"Home\":{\"ID\":\"ABC-XYZ\",\"Laptop\":{\"key\":123456,\"FileName\":\"/usr/temp/RPM_020515_.tar.gz\",\"some\":\"data1\",\"deeper\":{\"deep1\":\"deep1\",\"deep2\":\"deep2\"},\"other\":\"data2\"},\"State\":\"Unknown\",\"Location\":{\"MaxSize\":\"0\",\"SiteName\":{},\"Number\":\"62\",\"Comment\":{}}},\"ID\":\"0\"}}\n</code></pre>\n\n<p>added the new data into the desired location.</p>\n"}, {"comments": [{"owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "edited": false, "score": 0, "creation_date": 1426701620, "post_id": 29120775, "comment_id": 46484493, "body": "Thanks this example was very helpful. This is what i was looking for."}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": true, "score": 3, "last_activity_date": 1426946231, "last_edit_date": 1426946231, "creation_date": 1426677936, "answer_id": 29120775, "question_id": 29109086, "link": "https://stackoverflow.com/questions/29109086/adding-new-key-value-pair-in-an-existing-json-element/29120775#29120775", "title": "Adding new key-value pair in an existing json element", "body": "<p>Instead of your lines</p>\n\n<pre><code> %filedata = ('Key', 123456789);\n\n # insert the fileKey now. Think about how to insert the file key here\n push @{ $tempHash-&gt;{'Person'}-&gt;{'Home'}-&gt;{'Laptop'}}, $\\%fileData;\n</code></pre>\n\n<p>use lines</p>\n\n<pre><code>my ($key, $val) = ('Key', 123456789);\n$tempHash-&gt;{'Person'}-&gt;{'Home'}-&gt;{'Laptop'}-&gt;{$key} = $val;\n</code></pre>\n\n<p>You can even insert bunch of values into bunch of keys using hash slice.</p>\n\n<pre><code>my %filedata = ( Key1 =&gt; 123, Key2 =&gt; 456 );\n@{ $tempHash-&gt;{Person}{Home}{Laptop} }{keys %filedata} = values %filedata;\n</code></pre>\n\n<p>Which is just specialised version of more general but tedious code</p>\n\n<pre><code>my @keys   = qw(Key1 Key2);\nmy @values = (123, 456);\n@{ $tempHash-&gt;{Person}{Home}{Laptop} }{@keys} = @values;\n</code></pre>\n"}], "owner": {"reputation": 905, "user_id": 1188611, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/67b60365e971b8b9cf5f0b901868bfd7?s=128&d=identicon&r=PG", "display_name": "user1188611", "link": "https://stackoverflow.com/users/1188611/user1188611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4129, "favorite_count": 0, "accepted_answer_id": 29120775, "answer_count": 3, "score": 2, "last_activity_date": 1426946231, "creation_date": 1426624181, "last_edit_date": 1426625465, "question_id": 29109086, "link": "https://stackoverflow.com/questions/29109086/adding-new-key-value-pair-in-an-existing-json-element", "title": "Adding new key-value pair in an existing json element", "body": "<p>I am having a perl script which is basically generating JSON from an XML. This part is working fine. But after doing some business logic i need to add a new key-value pair to an existing element in the JSON.</p>\n\n<p>I am able to insert a completely new element in JSON but not a key-value pair in an existing element of input JSON. </p>\n\n<p>Here is sample JSON:</p>\n\n<pre><code>{\n    \"Person\": {\n       \"ID\": \"0\", \n       \"SchemaVersion\": \"1.0.8\", \n       \"Home\": {\n          \"ID\": \"ABC-XYZ\", \n\n          \"Laptop\": {\n             \"FileName\": \"/usr/temp/RPM_020515_.tar.gz\"\n           }, \n\n          \"Location\": {\n              \"Number\": \"62\", \n              \"MaxSize\": \"0\", \n              \"Comment\": { }, \n              \"SiteName\": { }\n           }, \n\n          \"State\": \"Unknown\"\n       }\n    }\n }\n</code></pre>\n\n<p>Now in above json i am trying to add a new key-value pair generated based on some business logic under element Laptop ( Person->Home->Laptop ). \n( key-value pair example :  \"Key\":\"123456789\" ), so new JSON looks like this :</p>\n\n<pre><code>{\n    \"Person\": {\n       \"ID\": \"0\", \n       \"SchemaVersion\": \"1.0.8\", \n       \"Home\": {\n          \"ID\": \"ABC-XYZ\", \n\n          \"Laptop\": {\n             \"FileName\": \"/usr/temp/RPM_020515_.tar.gz\",\n             \"Key\": \"123456789\"\n           }, \n\n          \"Location\": {\n              \"Number\": \"62\", \n              \"MaxSize\": \"0\", \n              \"Comment\": { }, \n              \"SiteName\": { }\n           }, \n\n          \"State\": \"Unknown\"\n       }\n    }\n }\n</code></pre>\n\n<p>What approach i have taken in perl code is : </p>\n\n<ol>\n<li>Converting the JSON first to a hash map </li>\n<li>Trying to add the new element ( this is where problem is occuring, i am able to add a completely new element but not add a key-value pair inside an existing element )</li>\n<li>Convert the hash map back to JSON.</li>\n</ol>\n\n<p>Perl code for the same:  ( ignore any missing use statements, making script less complicated just to highlight the error )</p>\n\n<pre><code> #!/usr/bin/perl\n use strict;\n use warnings FATAL =&gt; qw( all );\n use Data::Dumper;\n\n use JSON;\n\n# get back the original JSON into a hashmap (key value pairs)\n ( $json is output of JSON generated from an XML file but for this example \n   please use the sample JSON i have mentioned above )\nmy $tempHash = decode_json($json);  \n\n# new key-value pair that needs to be added in the JSON ( in original code   \n  it is being generated from business logic but in similar format )\n %filedata = ('Key', 123456789);\n\n# insert the fileKey now. Think about how to insert the file key here\npush @{ $tempHash-&gt;{'Person'}-&gt;{'Home'}-&gt;{'Laptop'}}, $\\%fileData; \n\nmy $newJSON =  encode_json($tempHash);\n</code></pre>\n\n<p>Above code is not working as i expect. \nIt is actually adding the key-value pair by creating new element {'Person'}->{'Home'}->{'Laptop'}} instead of adding them under an existing element ( which is expected behavior ). </p>\n\n<p>Can someone point me to correct syntax or any other suggestions is appreciated.</p>\n\n<p>I have tried explaining the question in very simple possible way ( original code have become very complicated now and doing many different stuffs ). let me know if more details are needed or more information is needed for what i research i did to solve the problem. </p>\n"}, {"tags": ["mysql", "perl", "innodb"], "comments": [{"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 2, "creation_date": 1426681583, "post_id": 29108784, "comment_id": 46470413, "body": "FWIW, explicitly testing that <code>$rc eq &#39;0E0&#39;</code> is improper -- test for truth if that&#39;s what you want, or test for zero if that&#39;s what you want.  The &quot;zero but true&quot; values in perl are funny, and not meant to be explicitly string matched.  For example, DBI::ping returns the equally zero and equally true value &quot;0 but true&quot;"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1426689239, "post_id": 29108784, "comment_id": 46475789, "body": "How many records total, how many matching your WHERE, what is the table structure, what versions of MySQL, DBD::mysql, and DBI?  If I understand correctly, you seem to be <i>accumulating innodb locks</i> (since you get the error periodically after batch deletes), but your <code>commit</code> <a href=\"http://dev.mysql.com/doc/refman/5.0/en/innodb-transaction-model.html\" rel=\"nofollow noreferrer\">should release all innodb locks</a>.  Do you get the same error if you attempt this via another, non-DBI client?"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1426690533, "post_id": 29108784, "comment_id": 46476750, "body": "Are other people writing to the table?  Are other sessions possibly locking the table?  If you restart the failed batch delete, with no other changes to the table from any other sessions, does it succeed on the very next batch (presumably, the one on which it failed)?"}, {"owner": {"reputation": 1077, "user_id": 2325485, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Ztwlc.jpg?s=128&g=1", "display_name": "BryanK", "link": "https://stackoverflow.com/users/2325485/bryank"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1426702415, "post_id": 29108784, "comment_id": 46484999, "body": "I was mistaken you are correct the error was occurring at each iteration. It would take some time before throwing the error and  since I was testing the return code improperly (thanks for pointing that out) the loop would continue - so I thought it was periodic. I am very sorry for the confusion The table contains 22,473,703 records and the portion that needs to be deleted is 1,425,844. I do get the same error in my GUI client or in a shell. I think the only solution left is to move a back up to another server where we can try to increase the buffer size."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1426706095, "post_id": 29108784, "comment_id": 46487214, "body": "OK then I think you&#39;ve got a one or two acceptable answers below."}], "answers": [{"comments": [{"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1426689383, "post_id": 29109633, "comment_id": 46475895, "body": "Not obvious to me how this fits symptoms:  OP is able to batch delete for a while but <i>then</i> hits the error, apparently regularly, suggesting lock accumulation over several DELETEs.  But the <code>commit</code> should release any locks.  In other words, given the explanation you quote, I&#39;d expect the OP to hit this error every time or never."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1426690044, "post_id": 29109633, "comment_id": 46476390, "body": "@pilcrow I agree that it seems like locks are accumulating, but the OP doesn&#39;t indicate what other activity is happening on the database server at the time; there could be another regularly-scheduled activity that locks a large number of rows during some of the OP&#39;s <code>DELETE</code>s. Also, the number of rows locked by the <code>DELETE</code> itself is dependent upon what&#39;s in the table at any given time; if matching rows are sparse, MySQL may have to scan a lot of them before hitting the <code>LIMIT</code>. As the OP does successive <code>DELETE</code>s, matching rows will decrease, but the number of rows that <i>(continued)</i>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1426690062, "post_id": 29109633, "comment_id": 46476401, "body": "<i>(continued)</i> have to be scanned may not (or may even increase)."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1426690553, "post_id": 29109633, "comment_id": 46476768, "body": "Good speculation; I&#39;ve asked OP to clarify."}, {"owner": {"reputation": 1077, "user_id": 2325485, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Ztwlc.jpg?s=128&g=1", "display_name": "BryanK", "link": "https://stackoverflow.com/users/2325485/bryank"}, "edited": false, "score": 0, "creation_date": 1426702515, "post_id": 29109633, "comment_id": 46485068, "body": "I am sorry for the confusion, I have clarified some in a comment above. also I will look further into the documentation pertaining to your answer but as of now the <code>INSERT INTO t_copy SELECT * FROM t WHERE ...</code> statement is throwing the same error"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1077, "user_id": 2325485, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Ztwlc.jpg?s=128&g=1", "display_name": "BryanK", "link": "https://stackoverflow.com/users/2325485/bryank"}, "edited": false, "score": 0, "creation_date": 1426710195, "post_id": 29109633, "comment_id": 46489652, "body": "@BryanK Based on your comment about deleting 1,425,844 out of 22,473,703 records, and the following bit from the manual, I guess that makes sense. &quot;<code>INSERT INTO T SELECT ... FROM S WHERE ...</code> sets an exclusive index record lock (without a gap lock) on each row inserted into <code>T</code>...[With the default transaction isolation level] InnoDB sets shared next-key locks on rows from <code>S</code>.&quot; This question would be a good fit for <a href=\"http://dba.stackexchange.com/\">dba.stackexchange.com</a> if you added details about your schema, showed the results of an <code>EXPLAIN</code>, etc. I&#39;d be curious what professional DBAs think."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 2, "last_activity_date": 1426634847, "last_edit_date": 1592644375, "creation_date": 1426626229, "answer_id": 29109633, "question_id": 29108784, "link": "https://stackoverflow.com/questions/29108784/innodb-lock-exhaustion-with-batched-transactional-deletes-under-dbi/29109633#29109633", "title": "InnoDB lock exhaustion with batched transactional DELETEs under DBI", "body": "<h2>Why is this error occurring even though I am deleting in chunks?</h2>\n<p>InnoDB uses <a href=\"http://dev.mysql.com/doc/refman/5.5/en/innodb-locks-set.html\" rel=\"nofollow noreferrer\">row-level locking</a>:</p>\n<blockquote>\n<p><strong>14.5.8 Locks Set by Different SQL Statements in InnoDB</strong></p>\n<p>A locking read, an <code>UPDATE</code>, or a <code>DELETE</code> generally set record locks on <em>every index record that is scanned in the processing of the SQL statement.</em> It does not matter whether there are <code>WHERE</code> conditions in the statement that would exclude the row. InnoDB does not remember the exact <code>WHERE</code> condition, but only knows which index ranges were scanned. The locks are normally next-key locks that also block inserts into the \u201cgap\u201d immediately before the record.</p>\n<p>[...]</p>\n<p><code>DELETE FROM ... WHERE ...</code> sets an exclusive next-key lock on every record the search encounters.</p>\n</blockquote>\n<p>(emphasis added)</p>\n<p>This means that your query will lock every row it scans, even rows that don't match the condition in your <code>WHERE</code> clause.</p>\n<p>I don't know the exact execution details of your query, but I imagine that with a large table, it wouldn't be difficult to overrun the <a href=\"http://dev.mysql.com/doc/refman/5.5/en/innodb-locks-set.html\" rel=\"nofollow noreferrer\">default 128 MB</a> of <code>innodb_buffer_pool_size</code> (which I believe is shared by all sessions; other sessions could be locking rows at the same time as your query). Especially so if your query doesn't use indexes and triggers a table scan.</p>\n<h2>Is there a quick high level solution to this problem?</h2>\n<p>The <a href=\"http://dev.mysql.com/doc/refman/5.5/en/delete.html\" rel=\"nofollow noreferrer\">MySQL manual</a> describes a simple workaround for exactly this situation:</p>\n<blockquote>\n<p>If you are deleting many rows from a large table, you may exceed the lock table size for an InnoDB table. To avoid this problem, or simply to minimize the time that the table remains locked, the following strategy (which does not use <code>DELETE</code> at all) might be helpful:</p>\n<ol>\n<li>Select the rows not to be deleted into an empty table that has the same structure as the original table:</li>\n</ol>\n\n<pre><code>INSERT INTO t_copy SELECT * FROM t WHERE ... ;\n</code></pre>\n<ol start=\"2\">\n<li>Use <code>RENAME TABLE</code> to atomically move the original table out of the way and rename the copy to the original name:</li>\n</ol>\n\n<pre><code>RENAME TABLE t TO t_old, t_copy TO t;\n</code></pre>\n<ol start=\"3\">\n<li>Drop the original table:</li>\n</ol>\n\n<pre><code>DROP TABLE t_old;\n</code></pre>\n<p>No other sessions can access the tables involved while <code>RENAME TABLE</code> executes, so the rename operation is not subject to concurrency problems. See Section 13.1.20, \u201c<code>RENAME TABLE</code> Syntax\u201d.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 105046, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "is_accepted": false, "score": 0, "last_activity_date": 1426693083, "last_edit_date": 1426693083, "creation_date": 1426651258, "answer_id": 29113915, "question_id": 29108784, "link": "https://stackoverflow.com/questions/29108784/innodb-lock-exhaustion-with-batched-transactional-deletes-under-dbi/29113915#29113915", "title": "InnoDB lock exhaustion with batched transactional DELETEs under DBI", "body": "<ol>\n<li>Have <code>INDEX(date)</code></li>\n<li><code>date</code> is of type <code>DATETIME</code> or <code>DATE</code> or <code>TIMESTAMP</code></li>\n<li><p>Perform the query this way:</p>\n\n<p>DELETE FROM table\n    WHERE <code>date</code> > '2015-01-31'\n    ORDER BY <code>date</code> DESC\n    LIMIT 1000 </p></li>\n<li><p>stop when the DELETE has rows_affected == 0</p></li>\n</ol>\n"}], "owner": {"reputation": 1077, "user_id": 2325485, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Ztwlc.jpg?s=128&g=1", "display_name": "BryanK", "link": "https://stackoverflow.com/users/2325485/bryank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 1, "accepted_answer_id": 29109633, "answer_count": 2, "score": 2, "last_activity_date": 1426701314, "creation_date": 1426623066, "last_edit_date": 1426701314, "question_id": 29108784, "link": "https://stackoverflow.com/questions/29108784/innodb-lock-exhaustion-with-batched-transactional-deletes-under-dbi", "title": "InnoDB lock exhaustion with batched transactional DELETEs under DBI", "body": "<p>I am using perl and DBI to perform deletes in chunks of 1000 on a very large mysql table. But I am receiving this error: <code>DBD::mysql::db do failed: The total number of locks exceeds the lock table size</code>.  </p>\n\n<p>Here is the perl code with the sql statement that performs the deletes </p>\n\n<pre><code>my $q = q{\nDELETE FROM table\nWHERE date_format(date, '%Y-%m') &gt; '2015-01' LIMIT 1000 \n};\n\nmy $rc = '';\nuntil ($rc eq '0E0') {\n      $rc = $dbh-&gt;do($q);\n      $dbh-&gt;commit();\n}\n</code></pre>\n\n<p>In my experience this error has only occurred when trying to delete or insert a very large number of records all at once with one statement. In fact the viable solutions I have been able to find are:</p>\n\n<ol>\n<li><p>Increase the innodb buffer pool size using the <code>innodb_buffer_pool_size</code> global variable. </p></li>\n<li><p>perform the delete in chunks.</p></li>\n</ol>\n\n<p>I have not tried solution 1. for two reasons. First being that it seems in my specific situation it would only increase the time before the buffer is eventually filled, though I am not sure about that, and second because we are not certain what effect it may have on the application using the database.</p>\n\n<p>I would like to know: </p>\n\n<p>*Why is this error occurring even though I am deleting in chunks?</p>\n\n<p>*Is there a quick high level solution to this problem with perl and/or DBI?</p>\n\n<p>*Any other info that could lead to a soution.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 1716, "user_id": 695867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d624c0405e2368e571c51fccc69704?s=128&d=identicon&r=PG", "display_name": "Sam Choukri", "link": "https://stackoverflow.com/users/695867/sam-choukri"}, "edited": false, "score": 0, "creation_date": 1426630048, "post_id": 29108910, "comment_id": 46450620, "body": "Additionally, if you are trying to match the periods literally (which is how I interpreted the OP&#39;s question), and not using them as wildcard characters, then you should quote them like this: <code>my $n = () = $string =~ &#47;\\G\\Q$countstr\\E&#47;g;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1716, "user_id": 695867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d624c0405e2368e571c51fccc69704?s=128&d=identicon&r=PG", "display_name": "Sam Choukri", "link": "https://stackoverflow.com/users/695867/sam-choukri"}, "edited": false, "score": 0, "creation_date": 1426632135, "post_id": 29108910, "comment_id": 46451386, "body": "@SamChoukri: Of course. Thanks for pointing out my mistake"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1426632104, "last_edit_date": 1426632104, "creation_date": 1426623499, "answer_id": 29108910, "question_id": 29108546, "link": "https://stackoverflow.com/questions/29108546/perl-regex-count-leading-substrings/29108910#29108910", "title": "Perl regex: count leading substrings", "body": "<p>You can do this with a global regular expression and the <code>\\G</code> anchor, like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $string   = '../../../../../../../../../Downloads/../Testing/../';\nmy $countstr = '../';\n\nmy $n = () = $string =~ /\\G\\Q$countstr/g;\n\nprint $n, \"\\n\";\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>9\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 3426681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a176b236716304ab8602bdb78d74e759?s=128&d=identicon&r=PG&f=1", "display_name": "user3426681", "link": "https://stackoverflow.com/users/3426681/user3426681"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "closed_date": 1426653008, "answer_count": 1, "score": 2, "last_activity_date": 1426633991, "creation_date": 1426622233, "last_edit_date": 1426633991, "question_id": 29108546, "link": "https://stackoverflow.com/questions/29108546/perl-regex-count-leading-substrings", "closed_reason": "Duplicate", "title": "Perl regex: count leading substrings", "body": "<p>Is there a Perl regex that can count how often a substring occurs at the beginning of another string?</p>\n\n<p>For instance</p>\n\n<pre><code>my $string = \"../../../../../../../../../Downloads/../Testing/../\";\n\nmy $countstr = \"../\";\n</code></pre>\n\n<p>The result should be 9, because there are nine occurrences of <code>../</code> at the start of <code>$string</code>.</p>\n"}, {"tags": ["html", "forms", "perl", "date"], "comments": [{"owner": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 3, "creation_date": 1426669408, "post_id": 29108519, "comment_id": 46463011, "body": "Are you really going to use this mess of a code for getting real credit card data from your customers?! <i>Please</i> don&#39;t do so! CGI.pm is kind of outdated, at least really old. If you need to get it done on your own, look at <code>DBIx::Class</code> and a modern Web framework like Dancer2 oder Catalyst. Maybe even stick to a shop software off the shelf. You <b>will</b> have critical security issues in your code when passing form input to the DB with CGI.pm and plain SQL! You have been warned."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4206269"}, "reply_to_user": {"reputation": 12427, "user_id": 498634, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/580e34a7c6e156d847e8ee768388daa4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel B&#246;hmer", "link": "https://stackoverflow.com/users/498634/daniel-b%c3%b6hmer"}, "edited": false, "score": 0, "creation_date": 1426678647, "post_id": 29108519, "comment_id": 46468605, "body": "Thanks for your concern, This is for a university project and don&#39;t have to include a payment method, It&#39;s just there for show"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1426680076, "post_id": 29108519, "comment_id": 46469477, "body": "Even if it is <i>just an university project</i> you should do it right and learn modern perl. <code>use strict;</code> and <code>use warnings;</code> ... prepared SQL statements with placeholders ... there are many issues with your current code."}], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": true, "score": 3, "last_activity_date": 1426628760, "creation_date": 1426628760, "answer_id": 29110322, "question_id": 29108519, "link": "https://stackoverflow.com/questions/29108519/converting-dd-mm-yyyy-to-yyyy-mm-dd-in-perl/29110322#29110322", "title": "Converting DD/MM/YYYY to YYYY-MM-DD in Perl", "body": "<p>This code from your script:</p>\n\n<pre><code>my $Tdate = param(\"Tdate\");\n$Tdate =~ s/(.{2})(.{2})(.{4})/\\3\\2\\1/;\n</code></pre>\n\n<p>will turn:</p>\n\n<pre><code>18/04/2015\n</code></pre>\n\n<p>into:</p>\n\n<pre><code>4/20/01815\n</code></pre>\n\n<p>Which is probably not what you want and which MySQL really ought to reject outright but instead it stores it as the null date.</p>\n\n<p>You probably want something like this:</p>\n\n<pre><code>$Tdate =~ s{^(\\d{2})/(\\d{2})/(\\d{4})$}{$3-$2-$1};\n</code></pre>\n\n<p>Which will work if the user supplies a date in exactly the format you expect.  You really ought to add some validation logic to confirm that the date submitted was a valid format and had valid values for day, month and year.  Consider using a module like <a href=\"https://metacpan.org/pod/DateTime\" rel=\"nofollow\">DateTime</a> or <a href=\"https://metacpan.org/pod/Date::Manip\" rel=\"nofollow\">DateManip</a>.</p>\n\n<p>Also in the web page you might like to consider using something like this <a href=\"http://grantm.github.io/jquery-datetextentry/\" rel=\"nofollow\">date entry widget</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 54, "user_id": 10225421, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vNRj4Cd_hPA/AAAAAAAAAAI/AAAAAAAAEg4/ajAd1vZd3PA/photo.jpg?sz=128", "display_name": "ABDULVAHAB Kharadi", "link": "https://stackoverflow.com/users/10225421/abdulvahab-kharadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1549022304, "last_edit_date": 1549022304, "creation_date": 1549021291, "answer_id": 54478789, "question_id": 29108519, "link": "https://stackoverflow.com/questions/29108519/converting-dd-mm-yyyy-to-yyyy-mm-dd-in-perl/54478789#54478789", "title": "Converting DD/MM/YYYY to YYYY-MM-DD in Perl", "body": "<p>I had the same issue when trying to parse data from CSV and insert into Postgres SQL using Perl. I come added this piece of code and it all works for me</p>\n\n<p><code>my $date = '31/01/2019';\n $date =~ m /^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/;\n my $fdate = \"$3-$2-$1\";\n print $fdate . \"\\n\";</code></p>\n\n<p>This one-liner will do the job as well</p>\n\n<p><code>$date = '31/01/2019';\n $date =~ s /(^\\d{2})\\/(\\d{2})\\/(\\d{4}$)/$3-$2-$1/;</code></p>\n\n<p>Hope that will be helpful.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4206269"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 738, "favorite_count": 0, "accepted_answer_id": 29110322, "answer_count": 2, "score": 2, "last_activity_date": 1549022304, "creation_date": 1426622189, "question_id": 29108519, "link": "https://stackoverflow.com/questions/29108519/converting-dd-mm-yyyy-to-yyyy-mm-dd-in-perl", "title": "Converting DD/MM/YYYY to YYYY-MM-DD in Perl", "body": "<p>I am entering a date using a html form in the format DD/MM/YYYY. I want to convert this in perl to YYYY-MM-DD so that I can enter it into a MySQL database. </p>\n\n<p>I am unsure of how to do this, any help would be greatly appreciated. </p>\n\n<p>I have tried do this however, when I enter the record, the date appears at 0000-00-00 in my Database. </p>\n\n<p>Below is my PERL code:</p>\n\n<pre><code>    #!/xampp/perl/bin/perl  -w\n\n    require \"dbfunc.pl\";\n    use CGI qw/:standard/;\n    use CGI::Carp qw(fatalsToBrowser);\n    $dbh    = getConnection();\n\n    $Btable  = \"booking\";\n    $CDtable = \"carddetails\";\n    $Stable = \"seats\";\n    $Rtable = \"route\";\n\n    $CustomerID = param(\"CustomerID\");\n    $Rid = param(\"Rid\");\n\n    my $Tdate = param(\"Tdate\");\n    $Tdate =~ s/(.{2})(.{2})(.{4})/\\3\\2\\1/;\n\n    $Aticket = param(\"Aticket\");\n    $Cticket = param(\"Cticket\");\n    $tickettotal = $Aticket + $Cticket;\n\n    $Cname = param(\"Cname\");\n    $Ctype= param(\"Ctype\");\n    $Noc = param(\"Noc\");\n    $Scode = param(\"Scode\");\n    $Edate = param(\"Edate\");\n\n    #Booking Refrence Generator\n    my @chars = (\"A\"..\"Z\", \"a\"..\"z\", \"1\"..\"9\");\n    my $BookingReference;\n    $BookingReference .= $chars[rand @chars] for 1..10;\n\n    sub selectTable {\n     $statement = shift (@_);\n\n     ## select data from a table and output as an HTML table\n     ## Prepare and Execute an SQL select statement\n    $sth = $dbh-&gt;prepare($statement);\n    $sth-&gt;execute();\n\n     ## Get the data as an array of arrays and output by position\n    while (@ary = $sth-&gt;fetchrow_array) {\n\n\n    if ($Rid == 1) {\n    $tot1 = $Aticket * $ary[5];\n    $tot2 = $Cticket * $ary[6];\n    }\n    if ($Aticket == 0){\n    $tot2 = $Cticket * $ary[5]\n    }\n    if ($Rid == 2){\n    $tot1 = $Aticket * $ary[5];\n    $tot2 = $Cticket * $ary[6];\n    }\n    if ($Aticket == 0){\n    $tot2 = $Cticket * $ary[5]\n    }\n    if ($Rid == 3){\n    $tot1 = $Aticket * $ary[5];\n    $tot2 = $Cticket * $ary[6];\n    }\n    if ($Aticket == 0){\n    $tot2 = $Cticket * $ary[5]\n    }\n    if ($Rid == 4){\n    $tot1 = $Aticket * $ary[5];\n    $tot2 = $Cticket * $ary[6];\n    }\n    if ($Aticket == 0){\n    $tot2 = $Cticket * $ary[5]\n    }\n    if ($Rid == 5){\n    $tot1 = $Aticket * $ary[5];\n    $tot2 = $Cticket * $ary[6];\n    }\n    if ($Aticket == 0){\n    $tot2 = $Cticket * $ary[5]\n    }\n    if ($Rid == 6){\n    $tot1 = $Aticket * $ary[5];\n    $tot2 = $Cticket * $ary[6];\n    }\n    if ($Aticket == 0){\n    $tot2 = $Cticket * $ary[5]\n    }\n    if ($Rid == 7){\n    $tot1 = $Aticket * $ary[5];\n    $tot2 = $Cticket * $ary[6];\n    }\n    if ($Aticket == 0){\n    $tot2 = $Cticket * $ary[5]\n    }\n    if ($Rid == 8){\n    $tot1 = $Aticket * $ary[5];\n    $tot2 = $Cticket * $ary[6];\n    }\n    if ($Aticket == 0){\n    $tot2 = $Cticket * $ary[5]\n    }\n    if ($Rid == 9){\n    $tot1 = $Aticket * $ary[5];\n    $tot2 = $Cticket * $ary[6];\n    }\nif ($Aticket == 0){\n$tot2 = $Cticket * $ary[5]\n}\nif ($Rid == 10){\n$tot1 = $Aticket * $ary[5];\n$tot2 = $Cticket * $ary[6];\n}\nif ($Aticket == 0){\n$tot2 = $Cticket * $ary[5]\n}`enter code here`\nif ($Rid == 11){\n$tot1 = $Aticket * $ary[5];\n$tot2 = $Cticket * $ary[6];\n}\nif ($Aticket == 0){\n$tot2 = $Cticket * $ary[5]\n}\n\n\n    print qq!\n\n&lt;td&gt;$ary[4]&lt;/td&gt;                                             \n  &lt;/tr&gt;\\n!;\n\n}\n   print \"&lt;/table&gt;\\n\";\n}\n\n\nsub insertTable {\n $statement = shift (@_);\n $dbh-&gt;do($statement);\n}  # sub\nprint header;\nprint start_html(\"Booking Information\");\n\nprint qq!\n    &lt;link rel=\"stylesheet\" href=\"styles.css\"&gt;\n    &lt;div id=\"cssmenu\"&gt;\n   &lt;ul&gt;\n        &lt;li&gt; &lt;a href=\"http://localhost/webprog/Home.pl\"&gt;&lt;span&gt;Home&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=\"active\"&gt;&lt;a href=\"http://localhost/webprog/RouteBooking.pl\"&gt;&lt;span&gt;Booking&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"http://localhost/webprog/liveroute.pl\"&gt;&lt;span&gt;Timetables&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=\"last\"&gt;&lt;a href=\"http://localhost/webprog/ContactUs.pl\"&gt;&lt;span&gt;Contact Us&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n    &lt;div id=\"Titlebar\"&gt;\n      &lt;header&gt;&amp;nbsp; Route Availbility&lt;/header&gt;\n    &lt;/div&gt;\n    &lt;div id=\"Sidebar\"&gt; &lt;/div&gt;\n\n    !;\n\n\n\nselectTable(\"SELECT * FROM $Rtable WHERE RouteID='\".$Rid.\"'\");\n\n#selectTable(\"SELECT * FROM $Stable WHERE RouteID='\".$Rid.\"' AND Date='\".$Tdate.\"'\");\n\n$dbh-&gt;do(\"INSERT INTO $Btable(CustomerID,BookingReference,Date,RouteID,TotalPassengersBooked,AdultTickets, ChildTickets) VALUES ('\".$CustomerID.\"', '\".$BookingReference.\"', '\".$Tdate.\"' , '\".$Rid.\"', '\".$tickettotal.\"', '\".$Aticket.\"', '\".$Cticket.\"')\");\n$dbh-&gt;do(\"INSERT INTO $CDtable(CustomerID,NameOnCard,CardType,NumberOnCard,SecruityCode,Expirydate) VALUES ('\".$CustomerID.\"', '\".$Cname.\"','\".$Ctype.\"','\".$Noc.\"','\".$Scode.\"','\".$Edate.\"')\");\n$Tdate =~ s/-//gi;\n$dateandrid = $Tdate . $Rid;\n$dbh-&gt;do(\"INSERT INTO $Stable(RouteAndDate,Date,RouteID) VALUES ('$dateandrid','$Tdate','$Rid') ON DUPLICATE KEY UPDATE Seats=Seats\");\n$dbh-&gt;do(\"INSERT INTO $Stable(RouteAndDate,Date,RouteID) VALUES ('$dateandrid','$Tdate','$Rid') ON DUPLICATE KEY UPDATE Seats=Seats-'$tickettotal'\");\n\nprint qq!  &lt;p&gt;Your booking details are: &lt;br&gt;\n\n &lt;br&gt; &lt;p&gt;Membership ID: $CustomerID &lt;br&gt;\n &lt;br&gt; &lt;p&gt;Route ID: $Rid &lt;br&gt;\n &lt;br&gt; &lt;p&gt;Travel Date: $Tdate : YYYY-MM-DD &lt;BR&gt;\n &lt;br&gt; &lt;p&gt;Total tickets purchased: $tickettotal &lt;br&gt;\n &lt;br&gt; &lt;p&gt;Consisting off $Aticket adult tickets and $Cticket child tickets &lt;br&gt;!;\n\n $total = $tot1 + $tot2;\n print qq! Total Price is $total pounds &lt;br&gt;!; \n\n print qq!\n\n &lt;br&gt;Please make note of your Booking Refrence as it is required to cancel your booking\n &lt;br&gt;\n\n &lt;br&gt; Your Booking Reference Is - $BookingReference &lt;br&gt;\n &lt;br&gt; Right click Download File and select save file as to download\n&lt;br&gt; &lt;br&gt;\n !;\n\nprint qq! &lt;a href=\"report.txt\"&gt;Download File&lt;/a&gt;!;\n\n\nmy $filename = 'report.txt';\nopen(my $fh, '&gt;', $filename) or die \"Could not open file '$filename' $!\";\nprint $fh \"Membership ID:  $CustomerID\\n\"; \nprint $fh \"RouteID:  $Rid\\n\";\nprint $fh \"Travel Date:  $Tdate\\n\";\nprint $fh \"Total Tickets Purchased:  $tickettotal\\n\";\nprint $fh \"Consisting off  $Aticket adult tickets and  $Cticket child tickets\\n\";\nprint $fh \"Total price is $total pounds\\n\";\nprint $fh \"Please make note of your booking reference as it required to cancel your booking if you wish to do so\\n\";\nprint $fh \"\\n\";\nprint $fh \"Your Booking Reference is:  $BookingReference\";\nclose $fh;\n</code></pre>\n\n<p>HTML CODE in PERL file:</p>\n\n<pre><code>#!/xampp/perl/bin/perl  -w\n\nrequire \"dbfunc.pl\";\nuse CGI qw/:standard/;\nuse CGI::Carp qw(fatalsToBrowser);\n\nprint header;\nprint start_html(\"Route Booking\");\n\n\nprint_html_head_section();\n\nprint qq!\n    &lt;link rel=\"stylesheet\" href=\"styles.css\"&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-latest.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"script.js\"&gt;&lt;/script&gt;\n    &lt;title&gt;Home&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=\"cssmenu\"&gt;\n      &lt;ul&gt;\n        &lt;li&gt;&lt;a href=\"http://localhost/webprog/Home.pl\"&gt;&lt;span&gt;Home&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=\"active\"&gt;&lt;a href=\"http://localhost/webprog/RouteBooking.pl\"&gt;&lt;span&gt;Booking&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"http://localhost/webprog/liveroute.pl\"&gt;&lt;span&gt;Timetables&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"http://localhost/webprog/ContactUs.pl\"&gt;&lt;span&gt;Contact Us&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=\"last\"&gt;&lt;a href=\"http://localhost/webprog/Login.html\"&gt;&lt;span&gt;Employee Login&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n\n      &lt;/ul&gt;\n    &lt;/div&gt;\n    &lt;div id=\"Titlebar\"&gt;\n      &lt;header&gt;&amp;nbsp; Booking&lt;/header&gt;\n    &lt;/div&gt;\n    &lt;div id=\"Sidebar\"&gt; &lt;img src=\"logo.jpg\" alt=\"WebBus\" style=width:225px;height:225px&gt;&lt;/div&gt;\n\n\n    !;\n\nprint \"&lt;h1&gt; Route Selection&lt;/h1&gt;\";\n\nprint qq!&lt;form method=\"POST\" name=\"MyForm\" onsubmit=\"return f2()\" action=\"RouteBookingInsert.pl\"&gt;&lt;br /&gt;!;\n\nprint qq!&lt;p&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CustomerID: &lt;input type=\"text\",  name=\"CustomerID\", id=\"CustomerID\"  size=20&gt;&lt;br&gt;! ;\n\nprint qq! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Select Route ID: &lt;select name=\"Rid\"&gt;  \n\n&lt;option value=\"1\"&gt;1&lt;/option&gt;\n&lt;option value=\"2\"&gt;2&lt;/option&gt;\n&lt;option value=\"3\"&gt;3&lt;/option&gt;\n&lt;option value=\"4\"&gt;4&lt;/option&gt;\n&lt;option value=\"5\"&gt;5&lt;/option&gt;\n&lt;option value=\"6\"&gt;6&lt;/option&gt;\n&lt;option value=\"7\"&gt;7&lt;/option&gt;\n&lt;option value=\"8\"&gt;8&lt;/option&gt;\n&lt;option value=\"9\"&gt;9&lt;/option&gt;\n&lt;option value=\"10\"&gt;10&lt;/option&gt;\n&lt;option value=\"11\"&gt;11&lt;/option&gt;\n&lt;/select&gt;&lt;br&gt;!;\n\nprint qq! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Date of travel: &lt;input type=\"text\", id=\"Tdate\" , name=\"Tdate\" size=20&gt; &lt;br&gt;! ;\n\nprint qq! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Number of Adult Tickets: &lt;select name=\"Aticket\"&gt;  \n&lt;option value=\"0\"&gt;0&lt;/option&gt;\n&lt;option value=\"1\"&gt;1&lt;/option&gt;\n&lt;option value=\"2\"&gt;2&lt;/option&gt;\n&lt;option value=\"3\"&gt;3&lt;/option&gt;\n&lt;option value=\"4\"&gt;4&lt;/option&gt;\n&lt;option value=\"5\"&gt;5&lt;/option&gt;\n&lt;option value=\"6\"&gt;6&lt;/option&gt;\n&lt;option value=\"7\"&gt;7&lt;/option&gt;\n&lt;option value=\"8\"&gt;8&lt;/option&gt;\n&lt;option value=\"9\"&gt;9&lt;/option&gt;\n&lt;option value=\"10\"&gt;10&lt;/option&gt;\n&lt;/select&gt;&lt;br&gt;!;\n\nprint qq! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Number of Child Tickets: &lt;select name=\"Cticket\"&gt;  \n&lt;option value=\"0\"&gt;0&lt;/option&gt;\n&lt;option value=\"1\"&gt;1&lt;/option&gt;\n&lt;option value=\"2\"&gt;2&lt;/option&gt;\n&lt;option value=\"3\"&gt;3&lt;/option&gt;\n&lt;option value=\"4\"&gt;4&lt;/option&gt;\n&lt;option value=\"5\"&gt;5&lt;/option&gt;\n&lt;option value=\"6\"&gt;6&lt;/option&gt;\n&lt;option value=\"7\"&gt;7&lt;/option&gt;\n&lt;option value=\"8\"&gt;8&lt;/option&gt;\n&lt;option value=\"9\"&gt;9&lt;/option&gt;\n&lt;option value=\"10\"&gt;10&lt;/option&gt;\n&lt;/select&gt;&lt;br&gt;!;\nsub someJS {\n\nprint  \"&lt;button type='button' onclick='return f2()'&gt;Try it&lt;/button&gt; \\n\";\n}\n\n\nsub print_html_head_section {\n    print \"&lt;head&gt;\\n\";\n    print \"&lt;script src='RouteBookingValidation.js'    type='text/javascript'&gt;&lt;/script&gt;\\n\";\n    print \"&lt;/head&gt;\\n\";\n}\nprint qq! &lt;br&gt;!;\n\nprint \"&lt;h1&gt;Card Details&lt;/h1&gt;\\n\";\n\nprint qq!&lt;p&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Name On Card: &lt;input type=\"text\", id=\"Cname\" , name=\"Cname\" size=20&gt; &lt;br&gt; !; \nprint qq! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Card Type: &lt;select name=\"Ctype\"&gt;  \n\n&lt;option value=\"Visa\"&gt;Visa&lt;/option&gt;\n&lt;option value=\"Mastercard\"&gt;Mastercard&lt;/option&gt;\n&lt;option value=\"Amex\"&gt;Amex&lt;/option&gt;\n&lt;option value=\"Solo\"&gt;Solo&lt;/option&gt;\n&lt;/select&gt;&lt;br&gt;!;\n\nprint qq! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Number On Card:&lt;input type=\"text\", id=\"Noc\" , name=\"Noc\" size=20&gt; &lt;br&gt;! ;\nprint qq! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Secruity Code: &lt;input type=\"text\", id=\"Scode\" , name=\"Scode\" size=20&gt; &lt;br&gt;! ;\nprint qq! &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Expiry Date: &lt;input type=\"text\", name=\"Edate\" , id=\"Edate\" size=20&gt; &lt;br&gt;! ;\n\nprint qq!&lt;br&gt; !;\n\n\nprint qq!&lt;br /&gt;&lt;input type=\"submit\" value=\"Book\" style=\"width:50px\"/&gt;\\n&lt;/form&gt;&lt;br /&gt;!;\n\nprint end_html;\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 1, "creation_date": 1426620187, "post_id": 29107908, "comment_id": 46445418, "body": "show how do you used the &quot;exec statement&quot;. e.g. show what you tried. ;) (you could edit your question)"}, {"owner": {"reputation": 61555, "user_id": 648658, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/75ee864ee3bef78f2a144398789fed25?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/648658/jens"}, "edited": false, "score": 0, "creation_date": 1426625600, "post_id": 29107908, "comment_id": 46448455, "body": "There&#39;s not gonna be a <i>child shell</i> with <code>exec</code> (children are only created by <i>fork()</i>). Your perl script is <b>replaced</b> by whatever program you exec. The proper term would be <b>the exec&#39;ed shell</b>. Could you please rephrase your question so we might understand it better?"}, {"owner": {"reputation": 11, "user_id": 4682344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/096344acd5a9c64379e2ec0dea8da85b?s=128&d=identicon&r=PG&f=1", "display_name": "Kitcha", "link": "https://stackoverflow.com/users/4682344/kitcha"}, "edited": false, "score": 0, "creation_date": 1426735134, "post_id": 29107908, "comment_id": 46498080, "body": "Please check the output of ps command before and after executing the perl script having simple exec $ENV{SHELL}. It will actually create a child shell"}], "answers": [{"tags": [], "owner": {"reputation": 1239, "user_id": 854951, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/301fd62e0d28d0cec2b520267572eaf6?s=128&d=identicon&r=PG", "display_name": "Patrick Wolf", "link": "https://stackoverflow.com/users/854951/patrick-wolf"}, "is_accepted": false, "score": 0, "last_activity_date": 1426631961, "last_edit_date": 1426631961, "creation_date": 1426631206, "answer_id": 29110904, "question_id": 29107908, "link": "https://stackoverflow.com/questions/29107908/start-new-shell-from-perl-script-and-execute-the-rest-of-code-on-the-child-shell/29110904#29110904", "title": "start new shell from perl script and execute the rest of code on the child shell", "body": "<p>Depends on what you want to do.</p>\n\n<ul>\n<li>exec() will return without output/status and doesn't fork\n<ul>\n<li><a href=\"http://perldoc.perl.org/functions/exec.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/exec.html</a></li>\n</ul></li>\n<li>system() will fork from the Perl process and return a status (exitcode)\n<ul>\n<li><a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\">http://perldoc.perl.org/functions/system.html</a></li>\n</ul></li>\n</ul>\n\n<p>What I think you're after is back ticks ``</p>\n\n<p>Check out <a href=\"http://perldoc.perl.org/perlop.html#%60STRING%60\" rel=\"nofollow\">http://perldoc.perl.org/perlop.html#%60STRING%60</a> which has some good examples on how to capture the output of an external command.  Note that backticks do fork.</p>\n\n<p>I like to use Perls quote like operator <code>qx</code> in lieu of backticks.</p>\n\n<p><a href=\"http://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow\">http://perldoc.perl.org/perlop.html#Quote-Like-Operators</a></p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>my $ls = qx/ls/;\nmy $ret_ls = $? &gt;&gt; 8;\n\nprint \"Output: $ls\\nExit Code: $ret_ls\";\n</code></pre>\n\n<p><strong>Example other script:</strong></p>\n\n<pre><code>my $other_script_output = qx{/path/to/other_script.pl};\nmy $ret_other_script = $? &gt;&gt; 8;\n\nprint \"Output: $other_script_output\\nExit Code: $ret_other_script\";\n</code></pre>\n\n<p>If you're looking for interacting with that process programmatically then you're going to be diving into open2 / open3.</p>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1426680069, "last_edit_date": 1426680069, "creation_date": 1426678604, "answer_id": 29121019, "question_id": 29107908, "link": "https://stackoverflow.com/questions/29107908/start-new-shell-from-perl-script-and-execute-the-rest-of-code-on-the-child-shell/29121019#29121019", "title": "start new shell from perl script and execute the rest of code on the child shell", "body": "<p>I think what you are looking for is</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen my $fh, '|-', $ENV{SHELL};\nprint $fh &lt;&lt;'EOF';\necho \"$0: From shell goes hell\"\nEOF\n</code></pre>\n\n<p>Note <code>'</code> around <code>'EOF'</code> which disables Perl interpolation of shell script but <code>$0</code> is interpolated by shell. You would have to escape <code>\\$0</code> otherwise to obtain the shell executable. See <a href=\"http://perldoc.perl.org/perlop.html#%3c%3cEOF\" rel=\"nofollow\">perlop Here-document</a> for more details.</p>\n\n<p>You can use existing file handle for this purpose as well</p>\n\n<pre><code>use strict;\nuse warnings;\n\nclose STDIN;\nopen STDIN, '&lt;&amp;', \\*DATA;\nexec $ENV{SHELL};\n__DATA__\necho \"$0: From shell goes hell\"\n</code></pre>\n\n<p>Note <code>open my $fh, '|-', $ENV{SHELL};</code> is just syntactic sugar for <code>open my $fh, '|-' or exec $ENV{SHELL};</code> where <code>open my $fh, '|-'</code> is syntactic sugar for some <code>pipe</code>, <code>close</code>, <code>dup</code>, <code>fork</code> juggling.</p>\n\n<p>But this code will not work</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $script = &lt;&lt;'EOF';\necho \"$0: From shell goes hell\"\nEOF\n\nclose STDIN;\nopen STDIN, '&lt;', \\$script; # this is not real file handler!\nexec $ENV{SHELL};\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4682344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/096344acd5a9c64379e2ec0dea8da85b?s=128&d=identicon&r=PG&f=1", "display_name": "Kitcha", "link": "https://stackoverflow.com/users/4682344/kitcha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 795, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1426680069, "creation_date": 1426620130, "last_edit_date": 1426659530, "question_id": 29107908, "link": "https://stackoverflow.com/questions/29107908/start-new-shell-from-perl-script-and-execute-the-rest-of-code-on-the-child-shell", "title": "start new shell from perl script and execute the rest of code on the child shell", "body": "<p>I want to start a new shell from perl (which I'm doing by <code>exec</code> statement). When child shell starts, i want to print some message on the new shell and want to run another perl script on the child shell.</p>\n\n<p>I'm doing this:</p>\n\n<pre><code>exec $ENV{SHELL};\n</code></pre>\n\n<p>Please help.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426618651, "post_id": 29107353, "comment_id": 46444589, "body": "If the user is simply running your script on a machine that they already have access to, why couldn&#39;t they just edit it to do whatever evil things they wanted? Or, for that matter, write their own Perl script that does evil things?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426618781, "post_id": 29107353, "comment_id": 46444670, "body": "Sure, that is a good point.. but I was thinking about the case where the user by accident typed something that resulted in code executing in the <code>s&#47;&#47;&#47;</code> operator.. and that could have undesired consequences"}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1426623351, "post_id": 29108544, "comment_id": 46447213, "body": "How does actually problem 2 work? If I type <code>script &#39;$1{ say &quot;&quot; }&#39;</code> I get an error <code>Use of uninitialized value within %1 in string at (eval 1) line 1.</code> .. I am stuck here, why do I get this error message, and why does it say <code>%1</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1426623516, "post_id": 29108544, "comment_id": 46447341, "body": "Maybe if you printed something other than empty line, it would be more noticeable that you printed something..."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1426623605, "post_id": 29108544, "comment_id": 46447386, "body": "Ok, I see it is a hash key... nice :)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1426624268, "post_id": 29108544, "comment_id": 46447725, "body": "So <code>$h{say}=1</code> will set key <code>say</code> of <code>%h</code> to 1, but <code>$h{ my_func() }=1</code> will use the return value of <code>my_func</code> as a hash key.. it means that Perl does some checking to see if the key looks like code or like a bareword key.. Is there a reference to this logic in the documentation?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1426689234, "post_id": 29108544, "comment_id": 46475786, "body": "It&#39;s well established that the key expression of a hash lookup can be a bareword, but it does not appear to be documented. It should be in <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\">perldata</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1612304156, "post_id": 29108544, "comment_id": 116724225, "body": "@H&#229;kon H&#230;gland, Technically, it&#39;s not undocumented; it&#39;s incorrectly documented. The docs say that literals with no other meaning are treated as string literals that return themselves, and <code>use strict qw( subs );</code> explicitly exempts &quot;a simple identifier (no colons) and that it appears in curly braces or on the left hand side of the <code>=&gt;</code> symbol.&quot; But that&#39;s a lie. <code>time</code> is treated as a string literal in <code>$foo{time}</code> even though it has another meaning. <code>$f{word}</code> isn&#39;t just a bareword; it&#39;s a <a href=\"https://stackoverflow.com/a/58263207/589924\">distinct feature</a>."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1426623817, "last_edit_date": 1426623817, "creation_date": 1426622231, "answer_id": 29108544, "question_id": 29107353, "link": "https://stackoverflow.com/questions/29107353/using-the-ee-modifier-safely-with-the-s-operator-when-the-right-side-is-input/29108544#29108544", "title": "Using the ee modifier safely with the s/// operator when the right side is input from user", "body": "<p>Problem 1:</p>\n\n<p>There's no way to replace with <code>$1</code> followed by <code>1</code> since the following replaces with <code>${1}1</code>.</p>\n\n<pre><code>$ script '${1}1'\n${1}1${1}1\n</code></pre>\n\n<hr>\n\n<p>Problem 2:</p>\n\n<pre><code>$ script '\\${ system \"echo rm -rf /\" }'\nrm -rf /\nUse of uninitialized value in substitution iterator at a.pl line 12.\nrm -rf /\nUse of uninitialized value in substitution iterator at a.pl line 12.\n</code></pre>\n\n<hr>\n\n<p>Problem 3:</p>\n\n<pre><code>$ script '$1{ system \"echo rm -rf /\" }'\nrm -rf /\nUse of uninitialized value within %1 in string at (eval 1) line 1.\nrm -rf /\nUse of uninitialized value within %1 in string at (eval 2) line 1.\n</code></pre>\n\n<hr>\n\n<p>Surely, there are others. Solution:</p>\n\n<p>Use <a href=\"http://search.cpan.org/perldoc?String::Substitution\" rel=\"nofollow\">String::Substitution</a>.</p>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 29108544, "answer_count": 1, "score": 5, "last_activity_date": 1426623817, "creation_date": 1426618232, "last_edit_date": 1426618619, "question_id": 29107353, "link": "https://stackoverflow.com/questions/29107353/using-the-ee-modifier-safely-with-the-s-operator-when-the-right-side-is-input", "title": "Using the ee modifier safely with the s/// operator when the right side is input from user", "body": "<p>I am writing a Perl script where the user can input a regex and a replacement string. The script will search a set of files and apply changes according the perl <code>s///</code> operator applied with the user input.</p>\n\n<p>To complicate matters slightly, the replacement string is allowed to contain backreferences to refer to capture groups in the regex. For example, if the regex is <code>b(.*?)a</code> and the replacement string is <code>a$1b</code> the <code>$1</code> should not be treated literally, but rater as a backreference to capture group number one.</p>\n\n<p>In this setting, I am wondering if it is possible to use the <code>ee</code> modifier (to evaluate the backreferences in the user input) safely with the <code>s///</code> operator when the right hand side of this operator is input by the user? For example:</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $str = 'abaaca';\n\nmy $replacement = 'do{ use Env qw(HOME); unlink \"$HOME/important.txt\" }';\n\n$str =~ s/a(.*?)a/$replacement/gee;\n</code></pre>\n\n<p>would be unfortunate.. But then I got the idea to quote the user input (put it inside a pair of double quotes) after having escaped double quotes and dollar signs (not followed by a number), and <em>then</em> do replacement:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $str = 'abaaca';\n\nmy $replacement = shift;\n$replacement =~ s/\\\"/\\\\\\\"/g;\n$replacement =~ s/\\$(?!\\d)/\\\\\\$/g;\n$replacement = '\"' . $replacement . '\"';\n$str =~ s/a(.*?)a/$replacement/gee;\nsay $str;\n</code></pre>\n\n<p>To me this seems to work at first glance, or have I missed something?\nFor example if the script is called <code>test.pl</code> and the user runs it as:</p>\n\n<pre><code>$ test.pl 'do{ \"a$b\" }'\n</code></pre>\n\n<p>the output is as desired just a simple string ( and no code is evaluated ):</p>\n\n<blockquote>\n  <p>do{ \"a$b\" }do{ \"a$b\" }</p>\n</blockquote>\n\n<p>So the question is: Is this really a safe/correct approach?</p>\n"}, {"tags": ["perl", "variables", "filenames"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1426617417, "post_id": 29107051, "comment_id": 46443920, "body": "You can write your first four lines more concisely like this: <code>my ($fpga_name, $block_name, $mem_name) = split(&#47;\\.&#47;, $line);</code>. You should also use the 3-argument form of open, lexical filehandles, and check the success of <code>open</code>, e.g. <code>open(my $fh, &#39;&gt;&gt;&#39;, $memfilename) or die &quot;Failed to open &#39;$memfilename&#39;: $!&quot;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 2, "last_activity_date": 1426617244, "creation_date": 1426617244, "answer_id": 29107073, "question_id": 29107051, "link": "https://stackoverflow.com/questions/29107051/perl-use-variable-as-a-file-name/29107073#29107073", "title": "Perl use variable as a file name", "body": "<p>You can simply wrap all of the variables in curly braces: </p>\n\n<pre><code>my $memfilename=\"mem_init/${fpga_name}_${block_name}_${mem_name}.txt\";\n</code></pre>\n\n<p>Keep in mind you need a <code>$</code> before <code>memfilename</code> in your open statement, otherwise you will just get the literal string:</p>\n\n<pre><code>open(WRITE_MEM_FILE, \"&gt;&gt;$memfilename\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": false, "score": 0, "last_activity_date": 1426617260, "creation_date": 1426617260, "answer_id": 29107076, "question_id": 29107051, "link": "https://stackoverflow.com/questions/29107051/perl-use-variable-as-a-file-name/29107076#29107076", "title": "Perl use variable as a file name", "body": "<p>Indicate where the variable names begin &amp; end by writing <code>${varname}</code>:</p>\n\n<pre><code>my $memfilename=\"mem_init/${fpga_name}_${block_name}_${mem_name}.txt\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1426684762, "creation_date": 1426684762, "answer_id": 29123197, "question_id": 29107051, "link": "https://stackoverflow.com/questions/29107051/perl-use-variable-as-a-file-name/29123197#29123197", "title": "Perl use variable as a file name", "body": "<p>The question is whether you need the intermediate array, and the three extra variables. If not, you can write the whole thing as:</p>\n\n<pre><code>my $memfilename = sprintf(\n    '%s_%s_%s.txt',\n    split(/[.]/, $line, 3), # whether you want 3 here depends on your input\n);\n</code></pre>\n\n<p>If you do need the three intermediate variables, you can still skip the creation of the <code>@value</code> array and write something more legible than interpolating three variables into a string:</p>\n\n<pre><code>my ($fpga_name, $block_name, $mem_name) = split /[.]/, $line, 3;\nmy $memfilename = sprintf '%s_%s_%s.txt', $fpga_name, $block_name, $mem_name;\n</code></pre>\n\n<p>Using <code>sprintf</code> yields code that is much more readable than interpolating three variables, the braces, the underscores, the sigils etc.</p>\n\n<p>Alternatively, you could also use:</p>\n\n<pre><code> my $memfilename = sprintf '%s.txt', join('_', split /[.]/, $line, 3);\n</code></pre>\n\n<p>Again, whether you want the third argument to <code>split</code> depends on your input.</p>\n\n<p>Finally, if you find yourself doing this in more than one place, it would help to put it in a function</p>\n\n<pre><code>sub line_to_memfilename {\n    my $line = shift;\n    # ...\n    return $memfilename;\n}\n</code></pre>\n\n<p>so if the format ever changes, you only need to make the change in one place.</p>\n"}], "owner": {"reputation": 15, "user_id": 4682176, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/98bd0c0c72e4ae78dd233751b44c0382?s=128&d=identicon&r=PG&f=1", "display_name": "Samss77", "link": "https://stackoverflow.com/users/4682176/samss77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 29107073, "answer_count": 3, "score": 0, "last_activity_date": 1426684762, "creation_date": 1426617153, "question_id": 29107051, "link": "https://stackoverflow.com/questions/29107051/perl-use-variable-as-a-file-name", "title": "Perl use variable as a file name", "body": "<p>How to create a file with name containing variables with underscore between them. I need to create a file with name like this $variable1_$vraiable2_$variable3.txt              </p>\n\n<pre><code>@values=split(/\\./, $line)\nmy $fpga_name=$values[0];\nmy $block_name=$values[1];\nmy $mem_name=$values[2];\nmy $memfilename=\"mem_init/$fpga_name_$block_name_$mem_name.txt\";\nopen(WRITE_MEM_FILE, \"&gt;&gt;memfilename\");\nprint WRITE_MEM_FILE \"$line \\n\";\n</code></pre>\n"}, {"tags": ["perl", "xml-twig"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 3985405, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100001533268034/picture?type=large", "display_name": "Pankaj Agrawal", "link": "https://stackoverflow.com/users/3985405/pankaj-agrawal"}, "edited": false, "score": 0, "creation_date": 1426641965, "post_id": 29106797, "comment_id": 46454341, "body": "Thanks a lot, Mirod, that was indeed the problem."}, {"owner": {"reputation": 57, "user_id": 3985405, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100001533268034/picture?type=large", "display_name": "Pankaj Agrawal", "link": "https://stackoverflow.com/users/3985405/pankaj-agrawal"}, "edited": false, "score": 0, "creation_date": 1426642697, "post_id": 29106797, "comment_id": 46454566, "body": "Also, how could I add more than one checks? Example, if name is equal to characteristics, set the value to myTestEAR_Modified and if name is equal to Url, set the value to UrlModified?"}, {"owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "reply_to_user": {"reputation": 57, "user_id": 3985405, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100001533268034/picture?type=large", "display_name": "Pankaj Agrawal", "link": "https://stackoverflow.com/users/3985405/pankaj-agrawal"}, "edited": false, "score": 1, "creation_date": 1426657357, "post_id": 29106797, "comment_id": 46458150, "body": "you could either have several conditions, each with its own handler, or just set a handler on variable, and update the value (in  <code>$variable-&gt;first_child( &#39;value&#39;)</code>) depending on the name (in <code>$variable-&gt;first_child( &#39;name&#39;)</code>)"}, {"owner": {"reputation": 57, "user_id": 3985405, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100001533268034/picture?type=large", "display_name": "Pankaj Agrawal", "link": "https://stackoverflow.com/users/3985405/pankaj-agrawal"}, "edited": false, "score": 0, "creation_date": 1426685015, "post_id": 29106797, "comment_id": 46472819, "body": "Thanks, I tried the latter and it worked. One last question - instead of printing the xml with the replacements, I would like to edit the original xml in line. How could that be done?"}], "tags": [], "owner": {"reputation": 15323, "user_id": 11095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c911d40f47f422f820d8a524658bd5a?s=128&d=identicon&r=PG", "display_name": "mirod", "link": "https://stackoverflow.com/users/11095/mirod"}, "is_accepted": true, "score": 2, "last_activity_date": 1426616281, "creation_date": 1426616281, "answer_id": 29106797, "question_id": 29106689, "link": "https://stackoverflow.com/questions/29106689/xml-modification-using-perl/29106797#29106797", "title": "xml modification using perl", "body": "<p>The tag name in the XML is <code>variable</code>, not <code>project</code>, replace it in the condition (<code>q{variable[string(name)...</code>) and it will work.</p>\n"}], "owner": {"reputation": 57, "user_id": 3985405, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100001533268034/picture?type=large", "display_name": "Pankaj Agrawal", "link": "https://stackoverflow.com/users/3985405/pankaj-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 29106797, "answer_count": 1, "score": 3, "last_activity_date": 1426616281, "creation_date": 1426615941, "question_id": 29106689, "link": "https://stackoverflow.com/questions/29106689/xml-modification-using-perl", "title": "xml modification using perl", "body": "<p>This is my sample xml file (snipped version of deployment plan for weblogic application).</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;deployment-plan&gt;\n  &lt;application-name&gt;ear-my-service&lt;/application-name&gt;\n  &lt;variable-definition&gt;\n    &lt;variable&gt;\n      &lt;name&gt;characteristics&lt;/name&gt;\n      &lt;value&gt;myTestEAR&lt;/value&gt;\n    &lt;/variable&gt;\n    &lt;variable&gt;\n      &lt;name&gt;Url&lt;/name&gt;\n      &lt;value&gt;ABC&lt;/value&gt;\n    &lt;/variable&gt;\n    &lt;variable&gt;\n      &lt;name&gt;time&lt;/name&gt;\n      &lt;value&gt;300&lt;/value&gt;\n    &lt;/variable&gt;\n  &lt;/variable-definition&gt;\n&lt;/deployment-plan&gt;\n</code></pre>\n\n<p>I want to update the value when the name is characteristics. I looked around and put together this script.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse XML::Twig;\n\nmy $data = shift ||die $!;\n\nmy $t= XML::Twig-&gt;new(\n    twig_handlers =&gt; {\n        q{project[string(name) =~ /\\bcharacteristics\\b/]/value} =&gt; \\&amp;value,\n    },\n    pretty_print =&gt; 'indented',\n);\n$t-&gt;parsefile( $data );\n$t-&gt;print;\n\nsub value {\n    my ($twig, $value) = @_;\n    $value-&gt;set_text(\"myTestEAR_Modified\");\n}\n</code></pre>\n\n<p>However, it doesn't change the value to myTestEAR_Modified. Am I doing it incorrectly?</p>\n"}, {"tags": ["perl", "imagemagick"], "answers": [{"tags": [], "owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "is_accepted": true, "score": 2, "last_activity_date": 1426607919, "creation_date": 1426607919, "answer_id": 29103869, "question_id": 29101795, "link": "https://stackoverflow.com/questions/29101795/perl-imagemagick-cannot-find-lperl/29103869#29103869", "title": "Perl &amp; Imagemagick - cannot find lperl", "body": "<p>Looks like I needed to set LDFLAGS</p>\n\n<p>LDFLAGS=-L/opt/perl/lib/5.14.2/x86_64-linux/CORE ./configure...</p>\n"}], "owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 29103869, "answer_count": 1, "score": 2, "last_activity_date": 1426607919, "creation_date": 1426602664, "last_edit_date": 1426604791, "question_id": 29101795, "link": "https://stackoverflow.com/questions/29101795/perl-imagemagick-cannot-find-lperl", "title": "Perl &amp; Imagemagick - cannot find lperl", "body": "<p>I've got a custom compiled perl, and trying to get ImageMagick working in it.</p>\n\n<p>Whenever I try and compile imagemagick I get</p>\n\n<pre><code>/usr/bin/ld: cannot find -lperl\n</code></pre>\n\n<p>I assume its trying to find libperl.</p>\n\n<pre><code>locate libperl \n</code></pre>\n\n<p>shows its in </p>\n\n<pre><code>/opt/perl/lib/5.14.2/x86_64-linux/CORE/libperl.a\n/opt/perl/lib/5.14.2/x86_64-linux/CORE/libperl.so\n/usr/lib/libperl.so.5.18\n/usr/lib/libperl.so.5.18.2\n</code></pre>\n\n<p>When compiling, I've tried </p>\n\n<pre><code>./configure --with-perl=/opt/perl/bin/perl\n</code></pre>\n\n<p>I've also tried options </p>\n\n<pre><code>--enable-shared --with-perl-options=LIBPERL_A=libperl.a --with-perl-options=LIBS=/opt/perl/lib/5.14.2/x86_64-linux/CORE\n</code></pre>\n\n<p>and also compiling perl with and without -Duseshrplib to create the .so file.</p>\n\n<p>Can anyone explain why it can't find perl and how to compile it ?</p>\n\n<p>edit: one thing that lets it compile is ln -s /usr/lib/libperl.so.5.18 /usr/lib/libperl.so but surely that means its looking at the wrong perl install ?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 505, "user_id": 3075765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6bb22510b6d01f72790a8d77828656c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3075765/mihir"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1426603010, "post_id": 29101608, "comment_id": 46433827, "body": "Avinash, thank you for your help but answer provided by &quot;Borodin&quot; worked."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1426602673, "creation_date": 1426602673, "answer_id": 29101803, "question_id": 29101608, "link": "https://stackoverflow.com/questions/29101608/perl-regex-with-variables/29101803#29101803", "title": "perl regex with variables", "body": "<p>You can use the <code>%ENV</code> hash to access environment variables, like this</p>\n\n<pre><code>perl -pe\"s/(\\Q$ENV{RELEASE}\\E *)#\\d+/$1#15/\" testlog.txt\n</code></pre>\n\n<p>You can also use a positive look-behind to avoid having to replace the initial string</p>\n\n<pre><code>perl -pe\"s/(?&lt;=\\Q$ENV{RELEASE}\\E *)#\\d+/#15/\" testlog.txt\n</code></pre>\n\n<p>or <code>\\K</code> if you are running version 14 or later of Perl 5</p>\n\n<pre><code>perl -pe\"s/\\Q$ENV{RELEASE}\\E *\\K#\\d+/#15/\" testlog.txt\n</code></pre>\n"}], "owner": {"reputation": 505, "user_id": 3075765, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6bb22510b6d01f72790a8d77828656c5?s=128&d=identicon&r=PG&f=1", "display_name": "Mihir", "link": "https://stackoverflow.com/users/3075765/mihir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 0, "accepted_answer_id": 29101803, "answer_count": 1, "score": 0, "last_activity_date": 1426605284, "creation_date": 1426602196, "last_edit_date": 1495535056, "question_id": 29101608, "link": "https://stackoverflow.com/questions/29101608/perl-regex-with-variables", "title": "perl regex with variables", "body": "<pre><code>set release=//packages/thirdparty/release/main.txt\n\nperl -pe\"s!(//packages/thirdparty/release/main.txt *)#\\d+!$1#15!;\" testlog.txt\n</code></pre>\n\n<p>How can I use <code>%release%</code> (environment variable <code>release</code>) instead of <code>//packages/thirdparty/release/main.txt</code>?</p>\n\n<p>I'm getting syntax error from </p>\n\n<pre><code> perl -pe\"s!(%release%! *)#\\d+!$1#15!;\" testlog.txt\n</code></pre>\n\n<p>original question \n<a href=\"https://stackoverflow.com/questions/28971874/search-and-replace-a-string-using-windows-shell-or-perl-script/28973116#28973116\">Search and replace a string using Windows shell or Perl script</a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1426602457, "post_id": 29101261, "comment_id": 46433412, "body": "Use <code>warn</code> instead of <code>print</code>, or, at least <code>print STDERR</code> ... Also, just croak and let the calling code catch the exception."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1426602662, "post_id": 29101261, "comment_id": 46433569, "body": "You do not actually need a block to execute multiple statements. You can just use a comma separated list <code>or print &quot;...&quot;, return;</code> A bit more correct is to use parentheses on the print so it does not include the following code: <code>or print(&quot;...&quot;), return;</code> Though you should probably use <code>warn</code> or <code>croak</code> instead, like @Sinan&#220;n&#252;r says."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1426604485, "post_id": 29101261, "comment_id": 46434956, "body": "@TLP: But that doesn&#39;t help with the problem\u2014the scoping of the file handle?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426606159, "post_id": 29101261, "comment_id": 46436239, "body": "@Borodin Removing the scoping problem does not help with the scoping problem...?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1426606558, "post_id": 29101261, "comment_id": 46436534, "body": "@TLP: Please explain. You didn&#39;t mention scoping, and removing the block and using a comma instead of a semicolon changes nothing about the scoping."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1426606887, "post_id": 29101261, "comment_id": 46436816, "body": "The error is outside of the code you posted. For a proper fix, please actually provide the relevant code!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1426607077, "post_id": 29101261, "comment_id": 46436981, "body": "When you get a batch of errors like that, it <i>usually</i> means you&#39;ve done something like miss a semicolon or close bracket. But without the code and actual errors, it&#39;s hard to tell."}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1426607801, "post_id": 29101261, "comment_id": 46437540, "body": "@Sobrique There should be a semi-colon after the <code>do</code> block. Nice catch. It is a common mistake, which is perhaps the answer."}, {"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "reply_to_user": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1426674495, "post_id": 29101261, "comment_id": 46466008, "body": "@TLP @Sobrique Thanks, I didn&#39;t know about the semi-colon after <code>do</code> blocks. I was reading a Perl tutorial about flow control and when I saw the errors I was convinced it was something in the <code>open</code> part and didn&#39;t notice the <code>;</code>. Problem solved."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426683366, "post_id": 29101261, "comment_id": 46471603, "body": "@Arc676: I&#39;m unclear how a missing semicolon can cause a <code>masks earlier declaration</code> warning. It is most likely to result in a syntax error. Please would you explain further."}, {"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426683988, "post_id": 29101261, "comment_id": 46472030, "body": "@Borodin Frankly, I have no idea either. I&#39;m new to Perl. All I can tell you is that when I add the semi colon the program runs. When I remove it, I get 4 <code>masks earlier declaration</code> errors, 5 syntax errors, 4 <code>Global variable requires package name</code> errors, and <code>Can&#39;t use global @_ in &quot;my&quot;</code>. I will add the exact errors to the question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426684116, "post_id": 29101261, "comment_id": 46472121, "body": "Ah so you <i>do</i> get syntax errors. That&#39;s comforting at least. I wrote my solution assuming that you were getting <i>only</i> <code>masks earlier declaration</code> warnings. I don&#39;t suppose you could share your complete source, perhaps on pastebin?"}, {"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 0, "creation_date": 1426684552, "post_id": 29101261, "comment_id": 46472469, "body": "I can&#39;t get PasteBin to work where I am. Should I paste the complete code into the question?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1426602337, "creation_date": 1426602337, "answer_id": 29101661, "question_id": 29101261, "link": "https://stackoverflow.com/questions/29101261/seemingly-random-perl-errors/29101661#29101661", "title": "Seemingly Random Perl Errors", "body": "<p>In the first case</p>\n\n<pre><code>open ( my $file, '&gt;', $filename ) or do {\n  print \"Failed to open file\\nFile not saved\\n\";\n  return;\n}\n</code></pre>\n\n<p>the <code>my $file</code> is in scope outside the <code>do</code> block, whereas in</p>\n\n<pre><code>do {\n  print \"Failed to open file\\nFile not saved\\n\";\n  return;\n} unless open my $file, '&gt;', $filename;\n</code></pre>\n\n<p>it is local to the block. Note that that also means you can't use <code>$file</code> to write to after you have opened it as it is immediately closed again.</p>\n\n<p>You can</p>\n\n<ul>\n<li><p>Use different identifiers for each file handle</p></li>\n<li><p>Omit the <code>my</code> from all <code>open</code> calls after the first</p></li>\n<li><p>Enclose each <code>open</code>, and the subsequent file operations, inside its own block, like this</p>\n\n<pre><code>{\n  open( my $file, '&gt;', $filename ) or do{\n    print \"Failed to open file\\nFile not saved\\n\";\n    return;\n  };\n\n  # Write to $file\n}\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1426605369, "creation_date": 1426605369, "answer_id": 29102839, "question_id": 29101261, "link": "https://stackoverflow.com/questions/29101261/seemingly-random-perl-errors/29102839#29102839", "title": "Seemingly Random Perl Errors", "body": "<p>I take it this has something to do with a subroutine. Otherwise, why do you have a <code>return</code>?</p>\n\n<p>Use a standard <code>if</code> statement. This way, it's just clearer what the program is doing:</p>\n\n<pre><code>my $file;\nif ( not open $file, \"&gt;\", $filename ) {\n    warn qq(Failed to open file \"$filename\"\\nFile not saved\\n);\n    return;\n}\n</code></pre>\n\n<p>Notice:</p>\n\n<ul>\n<li>I have to define <code>$file</code> outside of my <code>if</code>. Otherwise, <code>$file</code> becomes undefined outside of my <code>if</code>. Probably not what you want. (And is what is causing your problems).</li>\n<li>I also use <code>warn</code>. This prints to <code>STDERR</code> rather than <code>STDOUT</code>. It also alerts a developer skimming through your code that this is some sort of error message and might be important to note.</li>\n</ul>\n\n<p>The latest style programming style is to lets subroutines die on errors. This means you can simply do this in your subroutine:</p>\n\n<pre><code>open my $fh, \"&gt;\", $filename\n     or die qq(Can't open \"$filename\"\\n);\n</code></pre>\n\n<p>Now, if the developer doesn't want the program to die, the developer now has to actively handle the error with an <code>eval</code>:</p>\n\n<pre><code>my $fh;\neval {\n     $fh = openlog ( $filename );\n};\nif ( $@ ) {\n     warn qq(Can't open log file \"$filename\". No log will be written);\n}\n</code></pre>\n\n<p>This is the way <em>exception handling</em> programming languages like Python and Java force developers to face up to errors.  Otherwise, a developer could simply assume that the subroutine worked. In Perl, you see stuff like this all the time:</p>\n\n<pre><code>send_email( email_address( $user ), $message );\n</code></pre>\n\n<p>Um... Did <code>email_address()</code> actually return an email address before the program attempts to send out an email?</p>\n"}], "owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1426684245, "creation_date": 1426601344, "last_edit_date": 1426684245, "question_id": 29101261, "link": "https://stackoverflow.com/questions/29101261/seemingly-random-perl-errors", "title": "Seemingly Random Perl Errors", "body": "<p>My Perl program contains two blocks similar to this one:</p>\n\n<pre><code>open my $file, '&gt;', $filename or do{\n    print \"Failed to open file\\nFile not saved\\n\";\n    return;\n}\n</code></pre>\n\n<p>When I run it I get this:</p>\n\n<pre><code>\"my\" variable @lines masks earlier declaration in same scope at myfile.pl line 43.\n\"my\" variable @args masks earlier declaration in same scope at myfile.pl line 43.\n\"my\" variable @args masks earlier declaration in same statement at myfile.pl line 43.\n\"my\" variable @args masks earlier declaration in same scope at myfile.pl line 47.\nsyntax error at myfile.pl line 19, near \"$i (\"\nGlobal symbol \"$i\" requires explicit package name at myfile.pl line 20.\nGlobal symbol \"$file\" requires explicit package name at myfile.pl line 21.\nGlobal symbol \"$i\" requires explicit package name at myfile.pl line 21.\nGlobal symbol \"$file\" requires explicit package name at myfile.pl line 23.\nsyntax error at myfile.pl line 24, near \"}\"\nsyntax error at myfile.pl line 35, near \"}\"\nsyntax error at myfile.pl line 44, near \"}\"\nsyntax error at myfile.pl line 54, near \"}\"\nCan't use global @_ in \"my\" at myfile.pl line 57, near \", $_\"\nmyfile.pl has too many errors.\n</code></pre>\n\n<p>But when I replace it with this:</p>\n\n<pre><code>do{\n    print \"Failed to open file\\nFile not saved\\n\";\n    return;\n}unless open my $file, '&gt;', $filename;\n</code></pre>\n\n<p>All the errors instantly disappear and the program runs fine. I have <code>use strict</code> and <code>use warnings</code>.</p>\n\n<p>Does anyone understand why this is happening? Is there something wrong with my parentheses or something? Changing the spacing in the <code>open</code> function does nothing.</p>\n\n<p><strong>EDIT</strong>: I have replaced the <code>print</code> statements with <code>warn</code>.</p>\n"}, {"tags": ["perl", "substring", "reverse"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426601995, "post_id": 29101092, "comment_id": 46433026, "body": "What did you mean to write here? The third parameter of <code>substr</code> is the <i>length</i> of the substring, so <code>substr($string, 6, 8)</code> is asking for the seventh to the fourteenth characters, yet your string is only eight characters long"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4680123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b75c4d244dc6ee49fd5d63e6be7222a8?s=128&d=identicon&r=PG&f=1", "display_name": "Kalliz", "link": "https://stackoverflow.com/users/4680123/kalliz"}, "edited": false, "score": 0, "creation_date": 1426601661, "post_id": 29101375, "comment_id": 46432780, "body": "Thanks, would you mind explaining what&#39;s going on here?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1426601976, "post_id": 29101375, "comment_id": 46433009, "body": "<code>.{1,}</code> is generally written <code>.+</code>"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1426602919, "last_edit_date": 1426602919, "creation_date": 1426601596, "answer_id": 29101375, "question_id": 29101092, "link": "https://stackoverflow.com/questions/29101092/scramble-a-string-perl/29101375#29101375", "title": "Scramble a string Perl", "body": "<p>I'd do:</p>\n\n<pre><code>my $string = 'mystring';\n$string =~ s/^(..)(....)(.+)$/reverse($1) . $2 . reverse($3)/e;\nprint uc($string),\"\\n\";\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>YMSTRIGN\n</code></pre>\n\n<p>We substitute the original string with the first two characters reversed, the 4 following are keep as is and the rest is also reversed.</p>\n"}, {"comments": [{"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 1, "creation_date": 1426605939, "post_id": 29101442, "comment_id": 46436046, "body": "I actually like your solution to use <code>shuffle</code>. I personally would have used a few more lines just to make things clearer, but <code>shuffle</code> is self explanatory on what you&#39;re doing . I assume the down vote happened because the OP stated they want to use <code>substr</code> and <code>reverse</code>."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1426612539, "post_id": 29101442, "comment_id": 46441003, "body": "@DavidW. Fair point about <code>substr</code> and <code>reverse</code>, I was looking at it from the point of view that as long as the string is shuffled the implementation doesn&#39;t matter."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426651254, "post_id": 29101442, "comment_id": 46456504, "body": "The OP is asking for <i>\u201ca much smoother way\u201d</i>. They also say <i>\u201cAllegedly this should be able to work with only two variables using substring and reverse? But how?\u201d</i>. How can you assume that they just want to mess the string up somehow? Your suggestion of using <code>shuffle</code> is irreversible, so you may as well write <code>my $shuffled_string = &#39;abcdefgh&#39;</code>"}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 2, "creation_date": 1426685270, "post_id": 29101442, "comment_id": 46472978, "body": "The OP&#39;s initial post wasn&#39;t clear. The OP never responded to any questions on their post. Maybe the OP was making a word scramble. Maybe this was a homework assignment. Maybe the string had to be scrambled in a particular fashion or with particular commands. We don&#39;t know. Using a command called <code>shuffle</code> to <i>scramble</i> a string is an elegant solution. Using a readily available Perl module (and a standard one too) is even better. We just don&#39;t know if it did or didn&#39;t meet the OP&#39;s criteria."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426685774, "post_id": 29101442, "comment_id": 46473310, "body": "@Borodin The title is what led me to this implementation. If there were any indications that the process needed to be reversible, then my solution would have been different. As David W mentions, it is hard to determine what is/was needed with no feedback from the original poster."}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1426601766, "creation_date": 1426601766, "answer_id": 29101442, "question_id": 29101092, "link": "https://stackoverflow.com/questions/29101092/scramble-a-string-perl/29101442#29101442", "title": "Scramble a string Perl", "body": "<p>You could use the  <a href=\"http://perldoc.perl.org/List/Util.html#@values-=-shuffle-@values\" rel=\"nofollow\"><code>shuffle()</code></a> function from <a href=\"http://perldoc.perl.org/List/Util.html#NAME\" rel=\"nofollow\"><code>List::Util</code></a>. </p>\n\n<pre><code>use strict; \nuse warnings; \n\nuse List::Util qw(shuffle);\n\nmy $string = 'mystring';\nmy $shuffled_string = join '', shuffle(split //, $string);\n# 'nmyisgrt'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": -1, "last_activity_date": 1426602757, "creation_date": 1426602757, "answer_id": 29101844, "question_id": 29101092, "link": "https://stackoverflow.com/questions/29101092/scramble-a-string-perl/29101844#29101844", "title": "Scramble a string Perl", "body": "<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy $string = 'My string is a good string';\n\nfor my $i (0 .. length($string)/2) {\n    substr($string, $i * 2, 2) = uc reverse substr($string, $i * 2, 2);\n}\n\nprint \"$string\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre>YMS RTNI GSIA G OO DTSIRGN</pre>\n"}], "owner": {"reputation": 9, "user_id": 4680123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b75c4d244dc6ee49fd5d63e6be7222a8?s=128&d=identicon&r=PG&f=1", "display_name": "Kalliz", "link": "https://stackoverflow.com/users/4680123/kalliz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 860, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1426602919, "creation_date": 1426600934, "question_id": 29101092, "link": "https://stackoverflow.com/questions/29101092/scramble-a-string-perl", "title": "Scramble a string Perl", "body": "<p>I am using substring and reverse in order to scramble a string. But my solution was tedious to write and there must be a much smoother way. Allegedly this should be able to work with only two variables using substring and reverse? But how? The substring only removes the letters that I want, and discards the rest of the string. Appreciate any input.</p>\n\n<pre><code>#!/usr/bin/perl\n$string = mystring;\n$name = substr($string, 0, 2);\n$name = reverse($name);\n$name1 = substr($string, 2, 4);\n$name2 = substr($string, 6, 8);\n$name2 = reverse($name2);\nprint uc($name);\nprint uc($name1);\nprint uc($name2);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 1, "creation_date": 1426601422, "post_id": 29101083, "comment_id": 46432623, "body": "How do you know that the root user and the script user are different?  How do you know that those two users have different time zones?  Prove it, please."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 3, "creation_date": 1426601667, "post_id": 29101083, "comment_id": 46432784, "body": "Since Perl 5.10, Perl now includes <a href=\"http://perldoc.perl.org/Time/Piece.html\" rel=\"nofollow noreferrer\">Time::Piece</a>. I highly recommend that you use that instead of the older <code>localtime</code> and <code>timelocal</code> interface. It does a lot of the work for you."}, {"owner": {"reputation": 2453, "user_id": 2490439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ewU3d.jpg?s=128&g=1", "display_name": "pkm", "link": "https://stackoverflow.com/users/2490439/pkm"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1426602430, "post_id": 29101083, "comment_id": 46433386, "body": "@pilcrow i fired &quot;date&quot; command for both user (root and other) and got different value"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 2453, "user_id": 2490439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ewU3d.jpg?s=128&g=1", "display_name": "pkm", "link": "https://stackoverflow.com/users/2490439/pkm"}, "edited": false, "score": 0, "creation_date": 1426601207, "post_id": 29101133, "comment_id": 46432482, "body": "You can&#39;t. System time is system time. <code>time()</code> queries system time, and returns a number of seconds since Jan 1st 1970. In UTC. For anything else you need a timezone offset."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426601468, "post_id": 29101133, "comment_id": 46432649, "body": "OK, sorry, yes. Misunderstood. Checking <code>$ENV{TZ}</code> between the two would therefore be relevant."}, {"owner": {"reputation": 2453, "user_id": 2490439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ewU3d.jpg?s=128&g=1", "display_name": "pkm", "link": "https://stackoverflow.com/users/2490439/pkm"}, "edited": false, "score": 0, "creation_date": 1426601642, "post_id": 29101133, "comment_id": 46432758, "body": "we can you need to put localtime link to /usr/share/zoneinfo/PST8PDT or UTC or  other with root user , but my point is not that how it is different but point is it should give date value of user or not.."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 2453, "user_id": 2490439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ewU3d.jpg?s=128&g=1", "display_name": "pkm", "link": "https://stackoverflow.com/users/2490439/pkm"}, "edited": false, "score": 0, "creation_date": 1426601688, "post_id": 29101133, "comment_id": 46432800, "body": "If you <code>echo $TZ</code> what do you get?"}, {"owner": {"reputation": 2453, "user_id": 2490439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ewU3d.jpg?s=128&g=1", "display_name": "pkm", "link": "https://stackoverflow.com/users/2490439/pkm"}, "edited": false, "score": 0, "creation_date": 1426601776, "post_id": 29101133, "comment_id": 46432855, "body": "for root i get nothing ...for user i get PST"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 2453, "user_id": 2490439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ewU3d.jpg?s=128&g=1", "display_name": "pkm", "link": "https://stackoverflow.com/users/2490439/pkm"}, "edited": false, "score": 0, "creation_date": 1426602452, "post_id": 29101133, "comment_id": 46433409, "body": "I have a suspicion that&#39;ll not be a valid timezone. I&#39;ve edited answer with a test. But: <a href=\"http://en.wikipedia.org/wiki/PST8PDT\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/PST8PDT</a>"}, {"owner": {"reputation": 2453, "user_id": 2490439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ewU3d.jpg?s=128&g=1", "display_name": "pkm", "link": "https://stackoverflow.com/users/2490439/pkm"}, "edited": false, "score": 0, "creation_date": 1426602820, "post_id": 29101133, "comment_id": 46433688, "body": "valid or not but it gives date value..... thanks for your workaround ..but still my doubt is not clear why it gave root date value ..."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 2453, "user_id": 2490439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ewU3d.jpg?s=128&g=1", "display_name": "pkm", "link": "https://stackoverflow.com/users/2490439/pkm"}, "edited": false, "score": 1, "creation_date": 1426607181, "post_id": 29101133, "comment_id": 46437054, "body": "I think because it defaults to UTC when it&#39;s unsure, so in effect it&#39;s just ignoring the PST setting."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1426607210, "last_edit_date": 1426607210, "creation_date": 1426601027, "answer_id": 29101133, "question_id": 29101083, "link": "https://stackoverflow.com/questions/29101083/issue-with-localtime-in-perl/29101133#29101133", "title": "Issue with localtime() in perl", "body": "<p><code>time()</code> will give you UTC. </p>\n\n<p><code>localtime</code> will adjust based on <code>$ENV{'TZ'}</code> - the only thing I can think of that might be causing your problem, is that if this isn't set correctly. Try printing it as part of your script. </p>\n\n<p><a href=\"http://perldoc.perl.org/Time/Piece.html\" rel=\"nofollow\"><code>Time::Piece</code></a> is a good module for this:</p>\n\n<pre><code>$t-&gt;tzoffset            # timezone offset in a Time::Seconds object\n\n$t-&gt;strftime(FORMAT)    # same as POSIX::strftime (without the overhead\n                        # of the full POSIX extension)\n$t-&gt;strftime()          # \"Tue, 29 Feb 2000 12:34:56 GMT\"\n</code></pre>\n\n<p>You can print time as formatted <em>including</em> timezone (Which should tell you what's up).</p>\n\n<p>Does something like this work for you:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Time::Piece;\n\n$ENV{'TZ'} = 'UTC';\nTime::Piece::_tzset();\n\nmy ($sec, $min, $hour, $mday, $mon, $year, $wday) = localtime(time);\n$wday = ('Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat')[$wday];\n$year += 1900;\n$mon++;\n\nprintf \"$year/$mon/$mday %02d:%02d:%02d \", $hour, $min, $sec;\nprint \"\\n\";\n\n$ENV{'TZ'} = 'UTC-8';\n\nTime::Piece::_tzset();\n\n($sec, $min, $hour, $mday, $mon, $year, $wday) = localtime(time);\n$wday = ('Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat')[$wday];\n$year += 1900;\n$mon++;\n\nprintf \"$year/$mon/$mday %02d:%02d:%02d \", $hour, $min, $sec;\n\n$ENV{'TZ'} = 'PST8PDT';\n\nTime::Piece::_tzset();\n\n($sec, $min, $hour, $mday, $mon, $year, $wday) = localtime(time);\n$wday = ('Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat')[$wday];\n$year += 1900;\n$mon++;\n\nprintf \"$year/$mon/$mday %02d:%02d:%02d \", $hour, $min, $sec;\n</code></pre>\n\n<p>(And yes, I know that's importing <code>Time::Piece</code> but not using it - I wanted to reproduce the original code as much as possible). </p>\n"}, {"comments": [{"owner": {"reputation": 2453, "user_id": 2490439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ewU3d.jpg?s=128&g=1", "display_name": "pkm", "link": "https://stackoverflow.com/users/2490439/pkm"}, "edited": false, "score": 0, "creation_date": 1426601878, "post_id": 29101294, "comment_id": 46432933, "body": "do u have same date value for root as well as other user. If yes i agree with your solution...because i  my case values are different and hence root value is returned with this code"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1426601416, "creation_date": 1426601416, "answer_id": 29101294, "question_id": 29101083, "link": "https://stackoverflow.com/questions/29101083/issue-with-localtime-in-perl/29101294#29101294", "title": "Issue with localtime() in perl", "body": "<p>You also need to add 1 to the month, as <code>localtime</code> returns it zero-based, and you should use format specifiers in the <code>printf</code> so that the field sizes are constant.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy ($sec, $min, $hour, $mday, $mon, $year, $wday) = localtime;\n$wday = qw( Sun Mon Tue Wed Thu Fri Sat )[$wday];\n$year += 1900;\n++$mon;\nprintf \"%s %4d/%02d/%02d %02d:%02d:%02d\\n\", $wday, $year, $mon, $mday, $hour, $min, $sec;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Tue 2015/03/17 14:06:36\n</code></pre>\n\n<p>Or you can make use of <a href=\"https://metacpan.org/module/Time::Piece\" rel=\"nofollow\"><code>Time::Piece</code></a> very effectively here.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Time::Piece;\n\nprint localtime-&gt;strftime('%a %Y/%m/%d %H:%M:%S'), \"\\n\";\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Tue 2015/03/17 14:06:36\n</code></pre>\n"}], "owner": {"reputation": 2453, "user_id": 2490439, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ewU3d.jpg?s=128&g=1", "display_name": "pkm", "link": "https://stackoverflow.com/users/2490439/pkm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 614, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1426607210, "creation_date": 1426600904, "question_id": 29101083, "link": "https://stackoverflow.com/questions/29101083/issue-with-localtime-in-perl", "title": "Issue with localtime() in perl", "body": "<pre><code>my ($sec, $min, $hour, $mday, $mon, $year, $wday) = localtime(time);\n$wday = ('Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat')[$wday]\n$year += 1900;\nprintf FILES \"$year/$mon/$mday %02d:%02d:%02d \", $hour, $min, $sec;\n</code></pre>\n\n<p>Print outputs the date value of root user not the one from which script is running.Any idea about this.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1426601012, "post_id": 29101074, "comment_id": 46432346, "body": "or <code>perl -0777pe &#39;s&#47;[\\r\\n]*\\n[\\r\\n]*&quot;[^&quot;]*&quot;&#47;&#47;g&#39; file</code> or <code>perl -00pe &#39;s&#47;\\n+&quot;[^&quot;]*&quot;&#47;&#47;g&#39; file</code>"}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "reply_to_user": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1426601469, "post_id": 29101074, "comment_id": 46432650, "body": "@Hynek-Pichi-Vychodil that&#39;s why i added an alternative in comment."}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 0, "creation_date": 1426602365, "post_id": 29101074, "comment_id": 46433337, "body": "I had to look this up, but the <code>-0777</code> option is the convention for <a href=\"http://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\">slurping a whole input</a>.  It sets the input separator to an impossible value which forces perl to real the whole input in one line."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1426601497, "last_edit_date": 1426601497, "creation_date": 1426600881, "answer_id": 29101074, "question_id": 29100954, "link": "https://stackoverflow.com/questions/29100954/im-using-perl-to-extract-data-from-the-following-text-data-text-that-look-like/29101074#29101074", "title": "I&#39;m using Perl to extract data from the following text data (text that look like this: ), I need to filter out data over linebreak but it doesn&#39;t work", "body": "<p>You could try the below Perl one-liner command.</p>\n\n<pre><code>$ cat file\nBryggkaffe  6 st    27,67 kr    166,03 kr\n\nBlandf\u00e4rs\n\"Beh\u00f6ver ca 3 kg k\u00f6ttf\u00e4rs. sv\"  3 kg    66,69 kr    200,07 kr \n\nBanan EKO   6 kg    22,54 kr    135,23 kr\n$ perl -0777pe 's/\\n+\"[^\"]*\"//g' file\nBryggkaffe  6 st    27,67 kr    166,03 kr\n\nBlandf\u00e4rs  3 kg    66,69 kr    200,07 kr \n\nBanan EKO   6 kg    22,54 kr    135,23 kr\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>perl -00pe 's/\\n+\"[^\"]*\"//g' file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1426601076, "post_id": 29101096, "comment_id": 46432382, "body": "Why somebody downvoted my answer. Do you bother to describe what is wrong with this working example?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1426602316, "post_id": 29101096, "comment_id": 46433293, "body": "Upvoted. I have found that with these mixed regex/perl questions, you get a lot of people who do not know beyond what copied some place a long time ago, and downvote on the basis of that ignorance."}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1426608833, "last_edit_date": 1426608833, "creation_date": 1426600943, "answer_id": 29101096, "question_id": 29100954, "link": "https://stackoverflow.com/questions/29100954/im-using-perl-to-extract-data-from-the-following-text-data-text-that-look-like/29101096#29101096", "title": "I&#39;m using Perl to extract data from the following text data (text that look like this: ), I need to filter out data over linebreak but it doesn&#39;t work", "body": "<p>You can use simple one-liner:</p>\n\n<pre><code>perl -p00e's/\\R\"[^\"]*\"//' file.txt\n</code></pre>\n\n<p>If you would like \"safe\" removing of quoted string you can use <a href=\"http://metacpan.org/pod/Text::Balanced\" rel=\"nofollow\"><code>Text::Balanced</code></a> standard module for generating regexp:</p>\n\n<pre><code>perl -MText::Balanced=gen_delimited_pat -p00e'BEGIN{$r=gen_delimited_pat(q{\"})}s/\\R$r//' file.txt\n</code></pre>\n\n<p>or insert generated (and simplified) output of <code>gen_delimited_pat</code></p>\n\n<pre><code>perl -p00e's/\\R\"[^\\\\\"]*(?:\\\\.[^\\\\\"]*)*\"//' file.txt\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4681017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea6c6e19397a48402861aa1373c76e6?s=128&d=identicon&r=PG&f=1", "display_name": " Per Johansson", "link": "https://stackoverflow.com/users/4681017/per-johansson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1426608833, "creation_date": 1426600584, "last_edit_date": 1426600691, "question_id": 29100954, "link": "https://stackoverflow.com/questions/29100954/im-using-perl-to-extract-data-from-the-following-text-data-text-that-look-like", "title": "I&#39;m using Perl to extract data from the following text data (text that look like this: ), I need to filter out data over linebreak but it doesn&#39;t work", "body": "<p>I'm using Perl to extract/reformat text from the following text data:</p>\n\n<pre><code>Bryggkaffe  6 st    27,67 kr    166,03 kr\n\nBlandf\u00e4rs\n\"Beh\u00f6ver ca 3 kg k\u00f6ttf\u00e4rs. sv\"  3 kg    66,69 kr    200,07 kr \n\nBanan EKO   6 kg    22,54 kr    135,23 kr\n</code></pre>\n\n<p>I want </p>\n\n<pre><code>Blandf\u00e4rs\n\n\"Beh\u00f6ver ca 3 kg k\u00f6ttf\u00e4rs. sv\"  3 kg    66,69 kr    200,07 kr\n</code></pre>\n\n<p>to become </p>\n\n<pre><code>Blandf\u00e4rs 3 kg  66,69 kr    200,07 kr\n</code></pre>\n\n<p>There is something between the two rows, but it is impossible to capture with Perl, any suggestions (have already used/tested .  \\f \\r \\n [x0A] [x0D])???</p>\n"}, {"tags": ["perl", "shell", "awk", "sed", "command"], "comments": [{"owner": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "edited": false, "score": 0, "creation_date": 1426599699, "post_id": 29100543, "comment_id": 46431445, "body": "Is that line numbers part of the original input file?"}, {"owner": {"reputation": 9, "user_id": 4680963, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152752464736381/picture?type=large", "display_name": "Skonectthedots", "link": "https://stackoverflow.com/users/4680963/skonectthedots"}, "reply_to_user": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "edited": false, "score": 0, "creation_date": 1426599822, "post_id": 29100543, "comment_id": 46431524, "body": "No, the line numbers were just added to represent when to insert my string. All lines are variable except the &quot;Header Line&quot;"}, {"owner": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "edited": false, "score": 0, "creation_date": 1426600118, "post_id": 29100543, "comment_id": 46431743, "body": "I suspect there are some typos as the output file contains certain lines which the input doesnt contain, like <code>9. bird</code>( in output)"}, {"owner": {"reputation": 9, "user_id": 4680963, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152752464736381/picture?type=large", "display_name": "Skonectthedots", "link": "https://stackoverflow.com/users/4680963/skonectthedots"}, "reply_to_user": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "edited": false, "score": 0, "creation_date": 1426600250, "post_id": 29100543, "comment_id": 46431830, "body": "Yes you&#39;re correct, sorry for the typo... First time posting and I couldn&#39;t get the format correct so I manually typed the input/output"}, {"owner": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "edited": false, "score": 0, "creation_date": 1426600455, "post_id": 29100543, "comment_id": 46431966, "body": "Please do correct the sample input and output as it gives a wrong information to people who try to solve them. Also the pattern doesnt follow throught the file. I assume that you where trying to have <code>INSERT</code> at every 4th line"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4453924"}, "edited": false, "score": 0, "creation_date": 1426600900, "post_id": 29100543, "comment_id": 46432288, "body": "Where has bird come from ?"}, {"owner": {"reputation": 9, "user_id": 4680963, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152752464736381/picture?type=large", "display_name": "Skonectthedots", "link": "https://stackoverflow.com/users/4680963/skonectthedots"}, "edited": false, "score": 0, "creation_date": 1426601906, "post_id": 29100543, "comment_id": 46432951, "body": "I have corrected the data in the questions, bird missing was a typo. I am currently testing with the examples given"}], "answers": [{"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1426599861, "creation_date": 1426599861, "answer_id": 29100669, "question_id": 29100543, "link": "https://stackoverflow.com/questions/29100543/insert-string-every-n-lines-while-also-resetting-line-counter-at-desired-string/29100669#29100669", "title": "Insert String every n lines, while also resetting line counter at desired string", "body": "<pre><code>perl -pE'$a=1if/Header Line Here/;say\"INSERT\"unless$a++%3' file.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59687, "user_id": 951890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c3ef0adae5153378a3f602ca068a03?s=128&d=identicon&r=PG", "display_name": "Vaughn Cato", "link": "https://stackoverflow.com/users/951890/vaughn-cato"}, "is_accepted": false, "score": 3, "last_activity_date": 1426601254, "last_edit_date": 1426601254, "creation_date": 1426600188, "answer_id": 29100804, "question_id": 29100543, "link": "https://stackoverflow.com/questions/29100543/insert-string-every-n-lines-while-also-resetting-line-counter-at-desired-string/29100804#29100804", "title": "Insert String every n lines, while also resetting line counter at desired string", "body": "<p>You can do this pretty easily with awk:</p>\n\n<pre><code>awk '\n  {print;++n}\n  /Header Line Here/ {n=1}\n  n==3 {print \"INSERT\";n=0}\n'\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4453924"}, "edited": false, "score": 0, "creation_date": 1426601845, "post_id": 29100974, "comment_id": 46432906, "body": "Insert should be after <code>horse</code> not <code>bird</code>."}, {"owner": {"reputation": 9, "user_id": 4680963, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152752464736381/picture?type=large", "display_name": "Skonectthedots", "link": "https://stackoverflow.com/users/4680963/skonectthedots"}, "edited": false, "score": 0, "creation_date": 1426601985, "post_id": 29100974, "comment_id": 46433018, "body": "using awk &#39;/Header/{flag=1} !(flag++%4){print &quot;INSERT&quot;}1&#39; C:....input C://.....output I get the script to run on the input file, but no output file is updated and the input remains unchanged... does the above config look correct?"}, {"owner": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "edited": false, "score": 0, "creation_date": 1426602053, "post_id": 29100974, "comment_id": 46433071, "body": "@JID I noticed that, but in that case it doesnt give any pattern, first Insert was after 4 lines where as the next after 3 lines"}, {"owner": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "reply_to_user": {"reputation": 9, "user_id": 4680963, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152752464736381/picture?type=large", "display_name": "Skonectthedots", "link": "https://stackoverflow.com/users/4680963/skonectthedots"}, "edited": false, "score": 0, "creation_date": 1426602137, "post_id": 29100974, "comment_id": 46433144, "body": "@Skonectthedots No awk doesn&#39;t do inplace editing of the file. But I hope that you get the desired output on your terminal. In which case you can use redirection so as to redirect the output to an new file as you may wish"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4453924"}, "edited": false, "score": 0, "creation_date": 1426602311, "post_id": 29100974, "comment_id": 46433286, "body": "@nu11p01n73R I don&#39;t understand your reply."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4453924"}, "edited": false, "score": 0, "creation_date": 1426602584, "post_id": 29100974, "comment_id": 46433515, "body": "@nu11p01n73R This works though <code>awk &#39;!(++x%3){print &quot;INSERT&quot;}&#47;Header&#47;{x=0}1&#39;</code>"}, {"owner": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "edited": false, "score": 0, "creation_date": 1426602763, "post_id": 29100974, "comment_id": 46433647, "body": "@JID Ahh sorry for that will edit in my answer. Thanks you :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4453924"}, "edited": false, "score": 0, "creation_date": 1426602767, "post_id": 29100974, "comment_id": 46433651, "body": "@nu11p01n73R ahh right, I think OP wants it after every 3 lines including the header lines.So the header line is line 1 of the 3.I think anyway :D"}, {"owner": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "edited": false, "score": 0, "creation_date": 1426603176, "post_id": 29100974, "comment_id": 46433954, "body": "@JID I hope op must have got an idea as of how to aproach such a problem. whic would be the point than worrying :D"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4453924"}, "edited": false, "score": 0, "creation_date": 1426603239, "post_id": 29100974, "comment_id": 46434006, "body": "Yeah hopefully, also BTW i am not the one who has downvoted :("}, {"owner": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "edited": false, "score": 0, "creation_date": 1426603598, "post_id": 29100974, "comment_id": 46434305, "body": "@JID That was sad :( Anyway I will leave it here"}, {"owner": {"reputation": 9, "user_id": 4680963, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152752464736381/picture?type=large", "display_name": "Skonectthedots", "link": "https://stackoverflow.com/users/4680963/skonectthedots"}, "edited": false, "score": 0, "creation_date": 1426603844, "post_id": 29100974, "comment_id": 46434490, "body": "Am trying awk &#39;(++n==3) {print &quot;INSERT&quot;; n=0} (/Header/) {n=0} {print &quot;DESTINATION LOCATION&quot;;}&#39; &gt;&gt; SOURCE FILE.... the script is running in my terminal with no errors, however no file is created or updated"}, {"owner": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "reply_to_user": {"reputation": 9, "user_id": 4680963, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152752464736381/picture?type=large", "display_name": "Skonectthedots", "link": "https://stackoverflow.com/users/4680963/skonectthedots"}, "edited": false, "score": 0, "creation_date": 1426604653, "post_id": 29100974, "comment_id": 46435078, "body": "@Skonectthedots But didn&#39;t you miss an input file? Also note that you not printing the lines from the input file as there print statement to do so"}, {"owner": {"reputation": 9, "user_id": 4680963, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152752464736381/picture?type=large", "display_name": "Skonectthedots", "link": "https://stackoverflow.com/users/4680963/skonectthedots"}, "edited": false, "score": 0, "creation_date": 1426605646, "post_id": 29100974, "comment_id": 46435819, "body": "I am using awk &#39;(++n==3) {print &quot;INSERT&quot;; n=0} (/Header/) {n=0} {print}&#39; &gt;&gt; INPUT.txt and I get the desired output in my terminal, but when I use awk &#39;(++n==3) {print &quot;INSERT&quot;; n=0} (/Header/) {n=0} {print &gt; &quot;OUTPUT.txt&quot;}&#39; INPUT.txt the txt file is only updated with the input data and no transformation"}, {"owner": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "reply_to_user": {"reputation": 9, "user_id": 4680963, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152752464736381/picture?type=large", "display_name": "Skonectthedots", "link": "https://stackoverflow.com/users/4680963/skonectthedots"}, "edited": false, "score": 0, "creation_date": 1426605740, "post_id": 29100974, "comment_id": 46435892, "body": "@Skonectthedots Because you need to redirect <code>print &quot;INSERT&quot;</code> as weel as <code>print &quot;INSERT&quot; &gt; &quot;OUTPUT.txt&quot;</code>"}, {"owner": {"reputation": 9, "user_id": 4680963, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152752464736381/picture?type=large", "display_name": "Skonectthedots", "link": "https://stackoverflow.com/users/4680963/skonectthedots"}, "edited": false, "score": 0, "creation_date": 1426606880, "post_id": 29100974, "comment_id": 46436807, "body": "Can you help with an example? My output refuses to write the correct information. Thanks in advance"}, {"owner": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "reply_to_user": {"reputation": 9, "user_id": 4680963, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152752464736381/picture?type=large", "display_name": "Skonectthedots", "link": "https://stackoverflow.com/users/4680963/skonectthedots"}, "edited": false, "score": 0, "creation_date": 1426607444, "post_id": 29100974, "comment_id": 46437261, "body": "@Skonectthedots The easiest to do would be <code>awk &#39;(++n==3) {print &quot;INSERT&quot;; n=0} (&#47;Header&#47;) {n=0} {print}&#39; INPUT.txt &gt; output</code>"}], "tags": [], "owner": {"reputation": 24713, "user_id": 3150943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06074c6f020f2509f0b51a2c0ad3a9a8?s=128&d=identicon&r=PG", "display_name": "nu11p01n73R", "link": "https://stackoverflow.com/users/3150943/nu11p01n73r"}, "is_accepted": true, "score": -1, "last_activity_date": 1426600981, "last_edit_date": 1426600981, "creation_date": 1426600640, "answer_id": 29100974, "question_id": 29100543, "link": "https://stackoverflow.com/questions/29100543/insert-string-every-n-lines-while-also-resetting-line-counter-at-desired-string/29100974#29100974", "title": "Insert String every n lines, while also resetting line counter at desired string", "body": "<p><em>Assuming that you need to have <code>INSERT</code> at every 4th line ( taken the value of n as 4)</em></p>\n\n<p>This can very easily implemented using <code>awk</code></p>\n\n<pre><code>awk '/Header/{flag=1} !(flag++%4){print \"INSERT\"}1' \n</code></pre>\n\n<hr>\n\n<p><strong>What it does?</strong></p>\n\n<ul>\n<li><p><code>/Header/{flag=1}</code> If the line matches the pattern <code>Header</code>, sets the <code>flag</code> as <code>1</code></p></li>\n<li><p><code>!(flag++%4){print \"INSERT\"}</code> short of  <code>flag%4 == 0</code> then <code>print INSERT</code></p></li>\n<li><p><code>1</code> Is always true, takes the default action to print the entire record/line ( Another <code>awk</code> idiom )</p></li>\n</ul>\n\n<hr>\n\n<p><strong>Test</strong></p>\n\n<pre><code>$ cat input\nHeader Line Here \ndog \ncat\nfish\npony\nhorse\nbird\nfish\nHeader Line Here\nwhale\nHeader Line Here \nshark\nlizard\ndolphin\n\n$ awk '/Header/{flag=1} !(flag++%4){print \"INSERT\"}1' input\nHeader Line Here \ndog \ncat\nINSERT\nfish\npony\nhorse\nbird\nINSERT\nfish\nHeader Line Here\nwhale\nHeader Line Here \nshark\nlizard\nINSERT\ndolphin\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4680963, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152752464736381/picture?type=large", "display_name": "Skonectthedots", "link": "https://stackoverflow.com/users/4680963/skonectthedots"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 29100974, "answer_count": 3, "score": 0, "last_activity_date": 1426601688, "creation_date": 1426599473, "last_edit_date": 1426601688, "question_id": 29100543, "link": "https://stackoverflow.com/questions/29100543/insert-string-every-n-lines-while-also-resetting-line-counter-at-desired-string", "title": "Insert String every n lines, while also resetting line counter at desired string", "body": "<p>I need to read a text file and insert a string every n lines, but also have the line counter restart when I come across a header string.</p>\n\n<p>Line repeating working every 3 lines using code:</p>\n\n<p>sed '0~3 s/$/\\nINSERT/g' &lt; INPUT/PATH/FILE_NAME.txt > OUTPUT/PATH/FILE_NAME.txt</p>\n\n<p>I cannot seem to find how to restart counter when line=Header... I have also tried using a shell command with much less success. </p>\n\n<p>ex. input:</p>\n\n<pre><code> 1. Header Line Here \n 2. dog \n 3. cat\n 4. fish\n 5. pony\n 6. horse\n 8. bird\n 7. Header Line Here\n 8. whale\n 9. Header Line Here \n 10. shark\n 11. lizard\n 12. dolphin\n</code></pre>\n\n<p>required output:</p>\n\n<pre><code> 1. Header Line Here \n 2. dog \n 3. cat\n 4. INSERT\n 5. fish\n 6. pony\n 7. horse\n 8. INSERT\n 9. bird\n 10. Header Line Here\n 11. whale\n 12. Header Line Here \n 13. shark\n 14. lizard\n 15. INSERT\n 16. dolphin\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1426599195, "post_id": 29100416, "comment_id": 46431119, "body": "What&#39;s your expected output?"}, {"owner": {"reputation": 53, "user_id": 4616852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69221709d8fd25b24702707e85c37b1a?s=128&d=identicon&r=PG&f=1", "display_name": "Deepankumar", "link": "https://stackoverflow.com/users/4616852/deepankumar"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1426599327, "post_id": 29100416, "comment_id": 46431210, "body": "I want to find the empty enter mark(that means empty para). I want to find and remove the empty para while streaming my content."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1426599493, "post_id": 29100416, "comment_id": 46431316, "body": "How is defined <i>empty para</i>?"}, {"owner": {"reputation": 981, "user_id": 4666661, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qt62wbRnDB4/AAAAAAAAAAI/AAAAAAAAAI8/30B0syQm5k0/photo.jpg?sz=128", "display_name": "Vinod Kumar", "link": "https://stackoverflow.com/users/4666661/vinod-kumar"}, "edited": false, "score": 0, "creation_date": 1426599565, "post_id": 29100416, "comment_id": 46431359, "body": "I think he does not want empty lines."}], "answers": [{"tags": [], "owner": {"reputation": 981, "user_id": 4666661, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Qt62wbRnDB4/AAAAAAAAAAI/AAAAAAAAAI8/30B0syQm5k0/photo.jpg?sz=128", "display_name": "Vinod Kumar", "link": "https://stackoverflow.com/users/4666661/vinod-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1426599522, "creation_date": 1426599522, "answer_id": 29100557, "question_id": 29100416, "link": "https://stackoverflow.com/questions/29100416/need-regex-for-enter-mark-content/29100557#29100557", "title": "Need Regex For Enter mark content", "body": "<p>If I understand you correctly, you want to clear empty lines... If so,</p>\n\n<p>I copied your text and tried to find more than one enter marks.</p>\n\n<p>with this</p>\n\n<pre><code>(\\n){2,}\n</code></pre>\n\n<p>works for me. Hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1426599744, "creation_date": 1426599744, "answer_id": 29100642, "question_id": 29100416, "link": "https://stackoverflow.com/questions/29100416/need-regex-for-enter-mark-content/29100642#29100642", "title": "Need Regex For Enter mark content", "body": "<p>There are <em>many</em> ways that you can do this in Perl. One fairly simply way, it from the command line, using the <code>-n</code>, <code>-i</code>, and <code>-e</code> flags described in <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\"><code>perlrun</code></a>:</p>\n\n<pre><code>perl -ni -e 'print unless /^$/' &lt;filename&gt;\n</code></pre>\n\n<p><code>-n</code> assumes this while loop around your statement: </p>\n\n<pre><code>while (&lt;&gt;) {\n   # statements passed to -e go here\n}\n</code></pre>\n\n<p><code>-e</code> executes a statement</p>\n\n<p><code>-i</code> instructs that you want the operation to be performed in-place (modifying the original file). You can specify <code>-i.bak</code> if you wish to preserve the original file in a <code>.bak</code> file.</p>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 1, "last_activity_date": 1426600534, "creation_date": 1426600534, "answer_id": 29100929, "question_id": 29100416, "link": "https://stackoverflow.com/questions/29100416/need-regex-for-enter-mark-content/29100929#29100929", "title": "Need Regex For Enter mark content", "body": "<p>Is this what you expect?</p>\n\n<pre><code>$ perl -p00e';' file.txt \ndslkjflkds\nlksdfds\n\nslkdjlkds      \n\nsdlkdslkjhgfsd          \n\nslkdfjhldsjfds\n\nslkjdsjhlsd\n\nsldfldsjf\n\nsldfjhldsjhflds\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4616852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69221709d8fd25b24702707e85c37b1a?s=128&d=identicon&r=PG&f=1", "display_name": "Deepankumar", "link": "https://stackoverflow.com/users/4616852/deepankumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1426600534, "creation_date": 1426599107, "last_edit_date": 1426600449, "question_id": 29100416, "link": "https://stackoverflow.com/questions/29100416/need-regex-for-enter-mark-content", "title": "Need Regex For Enter mark content", "body": "<p>The below content having enter mark i want capture that in regex please help.</p>\n\n<p>I try <code>\\s* and \\t* and \\r and \\n</code> ..etc, but cant get.</p>\n\n<pre><code>dslkjflkds\nlksdfds\n\nslkdjlkds      \n\n\nsdlkdslkjhgfsd          \n\n\n\n\nslkdfjhldsjfds\n\n\nslkjdsjhlsd\n\nsldfldsjf\n\nsldfjhldsjhflds\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1426599071, "post_id": 29100071, "comment_id": 46431014, "body": "You shouldn&#39;t blindly use <code>&#47;sgim</code> every time you write a regex: pick the ones you need to make your pattern work properly. And <code>&#47;x</code> is probably the most important of all."}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 0, "creation_date": 1426650266, "post_id": 29100330, "comment_id": 46456301, "body": "Thanks @Borodin. Please split this <code>$str =~ &#47; FIELDS \\s* = \\s* \\( ( [^)]* ) \\) &#47;x</code>. Just want to understand its working!"}, {"owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 0, "creation_date": 1426650849, "post_id": 29100330, "comment_id": 46456417, "body": "And how is <code>print &quot;$_\\n&quot; for @fields</code> working? This seems to be <i>for each value of @fields</i>. Is there any other way to write this? Sorry, I am new to perl."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -1, "last_activity_date": 1426598880, "creation_date": 1426598880, "answer_id": 29100330, "question_id": 29100071, "link": "https://stackoverflow.com/questions/29100071/getting-many-values-in-an-array-in-perl/29100330#29100330", "title": "Getting many values in an array in perl", "body": "<p>You can use <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a>, like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $str = 'FIELDS=(1,10,3,A,11,10,7,D,9,10,11,A)';\n\nif ( $str =~ / FIELDS \\s* = \\s* \\( ( [^)]* ) \\) /x ) {\n  my @fields = split /,/, $1;\n  print \"$_\\n\" for @fields;\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>1\n10\n3\nA\n11\n10\n7\nD\n9\n10\n11\nA\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": -1, "last_activity_date": 1426599113, "creation_date": 1426599113, "answer_id": 29100422, "question_id": 29100071, "link": "https://stackoverflow.com/questions/29100071/getting-many-values-in-an-array-in-perl/29100422#29100422", "title": "Getting many values in an array in perl", "body": "<p>You can use <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a> to break you comma separated matches into individual pieces: </p>\n\n<pre><code>use strict; \nuse warnings; \n\nmy $line = 'FIELDS=(1,10,3,A,11,10,7,D,9,10,11,A)'\n\nif ( my ($fields) = $line =~ /FIELDS=(\\(.*\\))/ ) {\n   my @vars = split /,/, $fields; \n   # do whatever you want with @vars\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 0, "creation_date": 1426650160, "post_id": 29100496, "comment_id": 46456279, "body": "Thanks @Hynek. Please tell me how <code>next unless &#47;^FIELDS=\\(([^)]*)\\)&#47;;</code> is working?"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 0, "creation_date": 1426656808, "post_id": 29100496, "comment_id": 46457975, "body": "It skips lines which doesn&#39;t contain pattern. You can raise exception in this case as well <code>die &quot;Wrong line &#39;$_&#39;&quot; unless &#47;^FIELDS=\\(([^)]*)\\)&#47;;</code>. If pattern matches, it sets <code>$1</code> to the content inside parentheses and continues. <code>unless</code> works exactly same as <code>if not</code>."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "edited": false, "score": 1, "creation_date": 1426671464, "post_id": 29100496, "comment_id": 46464148, "body": "@JustStarted: If you are confused with syntax see <a href=\"http://perldoc.perl.org/perlsyn.html#Statement-Modifiers\" rel=\"nofollow noreferrer\">perlsyn Statement Modifiers</a>. If you are confused by <code>next</code> keyword see <a href=\"http://perldoc.perl.org/perlsyn.html#Loop-Control\" rel=\"nofollow noreferrer\">Loop Control</a>."}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": -1, "last_activity_date": 1426599322, "creation_date": 1426599322, "answer_id": 29100496, "question_id": 29100071, "link": "https://stackoverflow.com/questions/29100071/getting-many-values-in-an-array-in-perl/29100496#29100496", "title": "Getting many values in an array in perl", "body": "<p>TIMTOWTDI. There is one of them:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n    next unless /^FIELDS=\\(([^)]*)\\)/;\n    my @fields = split ',', $1;\n    while (@fields) {\n        my @subfields = splice @fields, 0, 4;\n        print \"$. @subfields\\n\";\n    }\n}\n\n__DATA__\nFIELDS=(1,2,3,4)\nFIELDS=(1,10,3,A,11,10,7,D,9,10,11,A)\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 3354544, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6ecefba1d9ba5471f5cd16c183a696a1?s=128&d=identicon&r=PG&f=1", "display_name": "JustStarted", "link": "https://stackoverflow.com/users/3354544/juststarted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1426599322, "creation_date": 1426598136, "question_id": 29100071, "link": "https://stackoverflow.com/questions/29100071/getting-many-values-in-an-array-in-perl", "title": "Getting many values in an array in perl", "body": "<p>I am writing a prel program in which I have an input file containing a pattern as:</p>\n\n<pre><code>FIELDS=(1,2,3,4)\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>FIELDS=(1,10,3,A,11,10,7,D,9,10,11,A)\n</code></pre>\n\n<p>Number of values are not constant but in the bunch of 4. There could be 4,8,12, or 16 or more values.</p>\n\n<p>I want to save these field values in seperate variables. \nFor which I am setting values as </p>\n\n<pre><code>if($filed1=~m/^\\\"SORT FIELDS\"\\s*=\\s*\"(\"\\s*(.*?)[,]+(.*?)[,]+(.*?)[,]+(.*?)[,]+[,]*\")\"/sgim)\n.\n.\n\n$val1 = $1;\n$val2 = $2;\n$val3 = $3;\n$val4 = $4;\n</code></pre>\n\n<p>But this will not serve my purpose as each time there will be different number of values (4 or 8 or 12..).</p>\n\n<p>The solution for this I see is to save it in an array, but I do not know how to save these values in array. Please tell me if I can do it. Tell me if there is any other method to get the result.</p>\n"}, {"tags": ["perl", "ssh", "paramiko"], "answers": [{"tags": [], "owner": {"reputation": 1239, "user_id": 854951, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/301fd62e0d28d0cec2b520267572eaf6?s=128&d=identicon&r=PG", "display_name": "Patrick Wolf", "link": "https://stackoverflow.com/users/854951/patrick-wolf"}, "is_accepted": false, "score": 0, "last_activity_date": 1426620764, "creation_date": 1426620764, "answer_id": 29108086, "question_id": 29099763, "link": "https://stackoverflow.com/questions/29099763/paramiko-executing-a-perl-script-within-a-shell-script/29108086#29108086", "title": "Paramiko: Executing a perl script within a shell script", "body": "<p>Since you're not checking any return values, are you sure the shell script didn't attempt to run the perl command and fail?  I would suggest checking return codes in the shell script $? and perhaps put the absolute path to the perl interpreter to rule out any environment issues.</p>\n"}, {"tags": [], "owner": {"reputation": 9057, "user_id": 356838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90065346901c2d8730bedf54a2d248df?s=128&d=identicon&r=PG", "display_name": "pmod", "link": "https://stackoverflow.com/users/356838/pmod"}, "is_accepted": false, "score": 0, "last_activity_date": 1426630132, "creation_date": 1426630132, "answer_id": 29110676, "question_id": 29099763, "link": "https://stackoverflow.com/questions/29099763/paramiko-executing-a-perl-script-within-a-shell-script/29110676#29110676", "title": "Paramiko: Executing a perl script within a shell script", "body": "<p>You can try running in remote shell with</p>\n\n<pre><code>channel = ssh.invoke_shell()\n</code></pre>\n\n<p>before <code>exec_command</code> cause there are might be problems with absence of pseudo-terminal, to eliminate the difference in running directly in terminal and through SSH.</p>\n\n<p>If that's not working, you can try with some simple heredoc without perl and see how it works through SSH, if it works - then try simple perl, and so on.</p>\n\n<p>And yes, try to capture errors, as it was already mentioned.</p>\n"}], "owner": {"reputation": 1116, "user_id": 2046382, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2fa808cbd6287919ff234bb6ac8ba928?s=128&d=identicon&r=PG", "display_name": "May", "link": "https://stackoverflow.com/users/2046382/may"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 508, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1426630132, "creation_date": 1426597228, "question_id": 29099763, "link": "https://stackoverflow.com/questions/29099763/paramiko-executing-a-perl-script-within-a-shell-script", "title": "Paramiko: Executing a perl script within a shell script", "body": "<p>Hi I have shell script within which a perl script is embedded.</p>\n\n<p>cat chkLog.sh</p>\n\n<pre><code>LOGFILE=`echo $1`\necho \"#Action15: Check Log\" | tee -ia $LOGFILE\nperl &lt;&lt; '__THERE__' | tee -ia $LOGFILE\nprint(\"hello Word\\n\");\n.Some more complex perl codes\n.\n.\n__THERE__\necho \"#EndAct\" | tee -ia $LOGFILE\n</code></pre>\n\n<p>Basically I am using Here-docs concept to execute a perl code. Now if i execute the above script directly on the server I get the desired out put. But when i send it thru paramiko, the perl part is completely ignored. And the output is:</p>\n\n<p>Output Via Paramiko:</p>\n\n<pre><code>#Action15: Check Log\n#EndAct\"\n</code></pre>\n\n<p>Paramiko Script:</p>\n\n<pre><code>&gt;&gt;&gt; hostname='192.168.122.1'\n&gt;&gt;&gt; username='may'\n&gt;&gt;&gt; password='*******'\n&gt;&gt;&gt; setupcommand=\"/user/may/click_demo_test/chkLog.sh\"\n&gt;&gt;&gt; resultloc=\"/user/spm/click_demo_test/setuplog/chkLog.sh\"\n&gt;&gt;&gt; execomand= setupcommand + ' ' + resultloc\n&gt;&gt;&gt; ssh = paramiko.SSHClient()\n&gt;&gt;&gt; ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n&gt;&gt;&gt; ssh.connect(hostname,username=username,password=password)\n&gt;&gt;&gt; channel = ssh.get_transport().open_session()\n&gt;&gt;&gt; channel.exec_command(execomand)\n&gt;&gt;&gt; while not channel.exit_status_ready():\n              time.sleep(1)\n&gt;&gt;&gt; stdout = channel.makefile(\"rb\")\n&gt;&gt;&gt; print stdout.readlines()\n</code></pre>\n\n<p>Converting Perl to complete shell will be a hectic task as, I have many scripts. </p>\n"}, {"tags": ["arrays", "perl", "split", "tsv"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426597076, "post_id": 29099553, "comment_id": 46429673, "body": "You should <code>use warnings</code> in preference to the command line <code>-w</code> switch"}, {"owner": {"reputation": 3334, "user_id": 4473327, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hP14q.jpg?s=128&g=1", "display_name": "neuhaus", "link": "https://stackoverflow.com/users/4473327/neuhaus"}, "edited": false, "score": 0, "creation_date": 1426597123, "post_id": 29099553, "comment_id": 46429709, "body": "there is a missing closing curly brace after the foreach block"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426597399, "post_id": 29099553, "comment_id": 46429876, "body": "I don&#39;t understand what <code>&#47;([[01]\\t]*)&#47;</code> is supposed to do, but because of the <code>*</code> it will match a zero-length substring and so any string will pass the test."}, {"owner": {"reputation": 47, "user_id": 3498022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2d7a30f355842827d2d43564effbdcf?s=128&d=identicon&r=PG&f=1", "display_name": "CG3", "link": "https://stackoverflow.com/users/3498022/cg3"}, "edited": false, "score": 0, "creation_date": 1426599157, "post_id": 29099553, "comment_id": 46431080, "body": "There are no zero length substrings, I was just hoping to grab only the &#39;0&#39;s and &#39;1&#39;s, again, if you have a better solution for that, go ahead, I am willing to learn."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 3498022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2d7a30f355842827d2d43564effbdcf?s=128&d=identicon&r=PG&f=1", "display_name": "CG3", "link": "https://stackoverflow.com/users/3498022/cg3"}, "edited": false, "score": 0, "creation_date": 1426599454, "post_id": 29099698, "comment_id": 46431289, "body": "Thank you for your answer, however, this prints a running total of all the columns: 1 .. n-1. Whereas I am looking for a total of each column. For example: 0    0    1    1    1    1    1    1 0    1    1    0  1    2    3    2"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 47, "user_id": 3498022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2d7a30f355842827d2d43564effbdcf?s=128&d=identicon&r=PG&f=1", "display_name": "CG3", "link": "https://stackoverflow.com/users/3498022/cg3"}, "edited": false, "score": 0, "creation_date": 1426599947, "post_id": 29099698, "comment_id": 46431632, "body": "@CG3: I&#39;m getting <code>2 2 2 1 2</code> as the output, which is clearly the total for each column. What do you mean?"}, {"owner": {"reputation": 47, "user_id": 3498022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2d7a30f355842827d2d43564effbdcf?s=128&d=identicon&r=PG&f=1", "display_name": "CG3", "link": "https://stackoverflow.com/users/3498022/cg3"}, "edited": false, "score": 0, "creation_date": 1426599961, "post_id": 29099698, "comment_id": 46431638, "body": "Also, I didn&#39;t think it needed mentioning, but there is column and row headings, so the lines don&#39;t begin with [01], hence just taking the 0s and 1s from the line, as these are not in the headings."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 47, "user_id": 3498022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2d7a30f355842827d2d43564effbdcf?s=128&d=identicon&r=PG&f=1", "display_name": "CG3", "link": "https://stackoverflow.com/users/3498022/cg3"}, "edited": false, "score": 0, "creation_date": 1426600056, "post_id": 29099698, "comment_id": 46431696, "body": "Well, I didn&#39;t think it needed mentioning, but you can&#39;t use the code given for free as it was. You have to adjust it :-)"}, {"owner": {"reputation": 47, "user_id": 3498022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2d7a30f355842827d2d43564effbdcf?s=128&d=identicon&r=PG&f=1", "display_name": "CG3", "link": "https://stackoverflow.com/users/3498022/cg3"}, "edited": false, "score": 0, "creation_date": 1426600138, "post_id": 29099698, "comment_id": 46431758, "body": "That is not the output I am getting. I am getting a running count across all columns. The tail end of my output for example is: 185 186 187 188 189 190 191 192 193 194  So it is essentially a count?"}, {"owner": {"reputation": 47, "user_id": 3498022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2d7a30f355842827d2d43564effbdcf?s=128&d=identicon&r=PG&f=1", "display_name": "CG3", "link": "https://stackoverflow.com/users/3498022/cg3"}, "edited": false, "score": 0, "creation_date": 1426600251, "post_id": 29099698, "comment_id": 46431831, "body": "Yes, of course I was adjusting it, I kept my regex and followed your answer logically to fit my script ;) don&#39;t worry! But thank you"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 47, "user_id": 3498022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2d7a30f355842827d2d43564effbdcf?s=128&d=identicon&r=PG&f=1", "display_name": "CG3", "link": "https://stackoverflow.com/users/3498022/cg3"}, "edited": false, "score": 0, "creation_date": 1426600297, "post_id": 29099698, "comment_id": 46431866, "body": "@CG3: Without seeing the input, I can&#39;t tell. Try running it with smaller data where you can easily verify the result."}, {"owner": {"reputation": 47, "user_id": 3498022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2d7a30f355842827d2d43564effbdcf?s=128&d=identicon&r=PG&f=1", "display_name": "CG3", "link": "https://stackoverflow.com/users/3498022/cg3"}, "edited": false, "score": 0, "creation_date": 1426600556, "post_id": 29099698, "comment_id": 46432039, "body": "I have one such input file open in a spreadsheet, so I know what the totals should be. What does your sample output look like exactly once printed?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 47, "user_id": 3498022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2d7a30f355842827d2d43564effbdcf?s=128&d=identicon&r=PG&f=1", "display_name": "CG3", "link": "https://stackoverflow.com/users/3498022/cg3"}, "edited": false, "score": 0, "creation_date": 1426600645, "post_id": 29099698, "comment_id": 46432103, "body": "Here it is run through <code>xxd</code>: <code>00000000: 3209 3209 3209 3109 320a                 2.2.2.1.2.</code>"}, {"owner": {"reputation": 47, "user_id": 3498022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2d7a30f355842827d2d43564effbdcf?s=128&d=identicon&r=PG&f=1", "display_name": "CG3", "link": "https://stackoverflow.com/users/3498022/cg3"}, "edited": false, "score": 0, "creation_date": 1426601156, "post_id": 29099698, "comment_id": 46432442, "body": "Apologies, I had forgotten to adjust my split statement to match yours, this works perfectly, thank you!"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1426597059, "creation_date": 1426597059, "answer_id": 29099698, "question_id": 29099553, "link": "https://stackoverflow.com/questions/29099553/how-to-total-the-columns-in-a-tab-delimited-file-with-unknown-number-of-columns/29099698#29099698", "title": "How to total the columns in a tab delimited file with unknown number of columns using split?", "body": "<p>You are almost there. To make the @sums survive the loop, you have to declare it before it starts. If you want the output on one line, don't join with a newline, but with a tab:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy @sums;\nwhile (&lt;DATA&gt;) {\n    if (/^[01] (?: \\t [01] )+ $/x) {\n        my @fields = split;\n        for my $i (0 .. $#fields) {\n            $sums[$i] += $fields[$i];\n        }\n    }\n}\nprint join(\"\\t\", @sums), \"\\n\";\n\n__DATA__\n0   0   1   0   1\n1   1   0   0   0\n1   0   0   0   0\n0   1   1   1   1\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 3498022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2d7a30f355842827d2d43564effbdcf?s=128&d=identicon&r=PG&f=1", "display_name": "CG3", "link": "https://stackoverflow.com/users/3498022/cg3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 29099698, "answer_count": 1, "score": 1, "last_activity_date": 1426599631, "creation_date": 1426596652, "last_edit_date": 1426599631, "question_id": 29099553, "link": "https://stackoverflow.com/questions/29099553/how-to-total-the-columns-in-a-tab-delimited-file-with-unknown-number-of-columns", "title": "How to total the columns in a tab delimited file with unknown number of columns using split?", "body": "<p>I have a tab delimited file which looks like:</p>\n\n<pre><code>__DATA__\n0    0    1    0    1 ...\n1    1    0    0    0 ...\n1    0    0    0    0 ...\n0    1    1    1    1 ...\n</code></pre>\n\n<p>There is an unspecified number of columns and rows. The columns could be as many as from 5 - 20+.</p>\n\n<p>Currently I have been looking at reading the file in and splitting the lines by \"\\t\".</p>\n\n<p>Below is just a section of the code required, please note, I do use strict and -w, and declare all variables.</p>\n\n<pre><code>open(IN, \"../../Desktop/$out\") or die \"Could not open $out\";\nmy @sums;\nwhile (&lt;IN&gt;) {\n    if ($_ =~ /([[01]\\t]*)/) {\n        my @fields = split /\\t/, $1;\n        foreach my $i (0..$#fields) {\n            $sums[$i] += $fields[$i];\n        }\n    } \n}\nprint join(\"\\n\", @sums), \"\\n\";\n</code></pre>\n\n<p>If you can come up with a better ideal method I would be pleased to try it.\nWhen I run this I am coming up with:</p>\n\n<pre><code>__OUTPUT__\n0\n1\n1\n</code></pre>\n\n<p>When what I want is a total of each of the columns, in a total summation in a format printable to append to the bottom of each column. I have not used the split function before, so an explanation of how to use it appropriately, and access the array of arrays(?) it produces would be great. Thank you!</p>\n\n<pre><code>__WantedOutput__\n2    2    2    1    2 ...\n</code></pre>\n\n<p>So a total for each column.</p>\n"}, {"tags": ["perl", "pipe"], "answers": [{"tags": [], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "is_accepted": false, "score": 1, "last_activity_date": 1426596643, "last_edit_date": 1426596643, "creation_date": 1426595788, "answer_id": 29099254, "question_id": 29099196, "link": "https://stackoverflow.com/questions/29099196/sort-file-using-pipe-in-perl/29099254#29099254", "title": "Sort file using pipe in perl", "body": "<p>There is no need to use a pipe, use <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\"><code>system</code></a>  instead:</p>\n\n<pre><code>system(\"sort perlRocks.txt\");\n</code></pre>\n\n<p>This will invoke the system command <code>sort</code> and give it <code>perlRocks.txt</code> as parameter. You will see the output of <code>sort</code> in the shell from which you invoked your script.</p>\n\n<p>Of course, with just this command, the sorted content will be shown and then be forgotten. This might or might not what you have in mind. If you want to permanently store the sorted lines you need to redirect the output into another file.</p>\n\n<p>Of course, perl comes with its own <a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow\">sort</a> operator, so that you don't have to use an external sort command: <code>sort @lines</code>. In order to get the content of your file into <code>@lines</code>, you might want to use the module <a href=\"http://search.cpan.org/~uri/File-Slurp-9999.19/lib/File/Slurp.pm\" rel=\"nofollow\"><code>File::Slurp</code></a>:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse File::Slurp;\n\nmy @lines = read_file('perlRocks.txt');\n\nprint sort @lines;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 1, "creation_date": 1426606426, "post_id": 29099267, "comment_id": 46436452, "body": "There&#39;s no reason to call the shell in order to do a sort -- even if the file has a few million lines, most modern computers should be able to handle this without any problems."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1426608374, "post_id": 29099267, "comment_id": 46438030, "body": "@DavidW. And can you simply use multicore for sorting in the Perl, in this case? Sorry, there is second decade of 21. sentury out there."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1426595828, "creation_date": 1426595828, "answer_id": 29099267, "question_id": 29099196, "link": "https://stackoverflow.com/questions/29099196/sort-file-using-pipe-in-perl/29099267#29099267", "title": "Sort file using pipe in perl", "body": "<p>This isn't using perl to sort. To do this in perl, you would want to:</p>\n\n<pre><code>open ( my $input_fh, \"&lt;\", \"perlRocks.txt\" ) or die $!;\nmy @lines = &lt;$input_fh&gt;;\nprint sort @lines;\n</code></pre>\n\n<p>What you're doing is trying to call the command <code>sort</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": true, "score": 0, "last_activity_date": 1426609014, "last_edit_date": 1426609014, "creation_date": 1426596467, "answer_id": 29099485, "question_id": 29099196, "link": "https://stackoverflow.com/questions/29099196/sort-file-using-pipe-in-perl/29099485#29099485", "title": "Sort file using pipe in perl", "body": "<p>You are opening pipe for writing. If you already have this file you probably want read content sorted. See the example with <code>$in</code> below. If you want to write something from your script instead see example with <code>$out</code> below. See <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\"><code>open</code></a> documentation for more variants. For sorting existing file, you have to write to a new file and then rename. It's best to use some shell for this task.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse autodie;\n\nuse constant FILE_NAME_IN =&gt; 'perlRocks.in';\nuse constant FILE_NAME_OUT =&gt; 'perlRocks.out';\n\nopen my $in, '-|', 'sort', FILE_NAME_IN;\n\nwhile (&lt;$in&gt;) {print};\n\nopen my $out, '|-', \"sort &gt;'@{[FILE_NAME_OUT]}'\";\n\nprint $out $_, \"\\n\" for qw(foo bar baz quux);\n</code></pre>\n\n<p>There is safer version for output pipe which avoids problems with shell interpretation of FILE_NAME_OUT content (You can escape this content but ... no.)</p>\n\n<pre><code>open my $out, '|-' or do {\n    close STDOUT;\n    open STDOUT, '&gt;', FILE_NAME_OUT;\n    exec 'sort' or die $!;\n};\n</code></pre>\n\n<p>If you insist you don't want to use shell, you can use Perl.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse autodie;\n\nuse constant FILE_NAME_IN  =&gt; 'perlRocks.txt';\nuse constant FILE_NAME_OUT =&gt; 'perlRocks.txt';\n\n# don't bother with fork if you don't want continue with Perl process\nmy $pid = fork;\ndie \"cannot fork\" unless defined $pid;\nunless ($pid) {    # use just this code inside in this case\n    close STDIN;\n    close STDOUT;\n    open STDIN, '&lt;', FILE_NAME_IN;\n    unlink FILE_NAME_IN if FILE_NAME_IN eq FILE_NAME_OUT;\n    open STDOUT, '&gt;', FILE_NAME_OUT;\n    exec 'sort' or die $!;\n}\nwaitpid( $pid, 0 );\n</code></pre>\n\n<p>Note <code>FILE_NAME_IN</code> and <code>FILE_NAME_OUT</code> can be same, but it is not in-place sorting anyway. There are both versions of the file at the disc in some time even one can be hidden and inaccessible. There is also good <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow\">IPC::Run</a> module for this sort of tasks.</p>\n"}], "owner": {"reputation": 383, "user_id": 4154643, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/HA347.png?s=128&g=1", "display_name": "Kabachok", "link": "https://stackoverflow.com/users/4154643/kabachok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "accepted_answer_id": 29099485, "answer_count": 3, "score": 1, "last_activity_date": 1426609014, "creation_date": 1426595587, "last_edit_date": 1426597242, "question_id": 29099196, "link": "https://stackoverflow.com/questions/29099196/sort-file-using-pipe-in-perl", "title": "Sort file using pipe in perl", "body": "<p>I am looking for a way to sort a file using pipe. I have checked different examples online but I am still confused</p>\n\n<p>Let's say I have a file called \"perlRocks.txt\" with different names I want to sort.</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>open(SORT, \"| sort&gt;perlRocks.txt\") or die \"Can't sort\";\nclose (SORT);\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1426588063, "post_id": 29096619, "comment_id": 46424006, "body": "<code>List::Util::max</code> doesn&#39;t return index but value itself."}, {"owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "edited": false, "score": 0, "creation_date": 1426589238, "post_id": 29096619, "comment_id": 46424735, "body": "Also, <code>List::Util::max</code> works on list of numbers, not bigger data structures. How do you compare your values? Are &quot;Trousers&quot; &gt; &quot;Socks&quot; (because <code>40 &gt; 5</code>) or other way round (because <code>12 &gt; 2</code>)."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1426594011, "post_id": 29096619, "comment_id": 46427613, "body": "It seems to me everyone assumes there must be  a unique item with the highest price. While the highest price itself is unique, there is no <i>a priori</i> reason the number of items with the highest price must be one."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1426588314, "creation_date": 1426588314, "answer_id": 29096808, "question_id": 29096619, "link": "https://stackoverflow.com/questions/29096619/changing-value-of-an-array-in-perl/29096808#29096808", "title": "Changing value of an array in Perl", "body": "<p>The reason this isn't doing what you think is because there's no such thing as an array of hashes - there's an array of hash <em>references</em>. </p>\n\n<p>So if you:</p>\n\n<pre><code>print join ( \"\\n\", @array );\n</code></pre>\n\n<p>You get: </p>\n\n<pre><code>HASH(0x5a6dec)\nHASH(0x133ef4c)\n</code></pre>\n\n<p><code>max</code> will not give you the right answer based on that.</p>\n\n<p>What you need to do is access the subelement of your hash. I would suggest the easiest way is by sorting your array by price:</p>\n\n<pre><code>my @sorted = sort { $b -&gt; {price} &lt;=&gt; $a -&gt; {price} } @array;\n</code></pre>\n\n<p>Then - your 'highest' price is in the first slot of the array:</p>\n\n<pre><code>print $sorted[0] -&gt; {price}; \n</code></pre>\n\n<p>Which you can then manipulate:</p>\n\n<pre><code>print $sorted[0] -&gt; {price},\"\\n\";\n$sorted[0] -&gt; {price} *= 2;\n\nuse Data::Dumper;\nprint Dumper \\@sorted;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1426594137, "post_id": 29096871, "comment_id": 46427684, "body": "I had not seen your answer when I thought everyone else was assuming there could only be one item with the highest price."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1426594416, "last_edit_date": 1426594416, "creation_date": 1426588468, "answer_id": 29096871, "question_id": 29096619, "link": "https://stackoverflow.com/questions/29096619/changing-value-of-an-array-in-perl/29096871#29096871", "title": "Changing value of an array in Perl", "body": "<p>The <code>max</code> function from <a href=\"http://p3rl.org/List::Util\" rel=\"nofollow\">List::Util</a> operates on a list of numbers, not of complex data structures.</p>\n\n<p>You can extract the prices from the structures with <a href=\"http://p3rl.org/map\" rel=\"nofollow\">map</a>:</p>\n\n<pre><code>my @prices = map $_-&gt;{price}, @array;\nmy $max    = max(@prices);\n</code></pre>\n\n<p>To find the corresponding structure, use <a href=\"http://p3rl.org/grep\" rel=\"nofollow\">grep</a>:</p>\n\n<pre><code>my @maximal = grep $_-&gt;{price} == $max, @array;\n$_-&gt;{price} *= 2 for @maximal;\n</code></pre>\n\n<p>(I used an array, as there can be more than one such elements).</p>\n\n<p>Or, don't use <code>max</code>, cycle over the array yourself:</p>\n\n<pre><code>my @max_idx = 0;\nfor my $i (1 .. $#array) {\n    my $cmp = $array[$i]{price} &lt;=&gt; $array[ $max_idx[0] ]{price};\n    if ($cmp &gt;= 0) {\n        @max_idx = () if $cmp;\n        push @max_idx, $i;\n    }\n}\n$_-&gt;{price} *= 2 for @array[@max_idx];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1426603061, "last_edit_date": 1426603061, "creation_date": 1426588469, "answer_id": 29096872, "question_id": 29096619, "link": "https://stackoverflow.com/questions/29096619/changing-value-of-an-array-in-perl/29096872#29096872", "title": "Changing value of an array in Perl", "body": "<p><code>List::Util::max</code> doesn't return index of the maximal element and works only on numeric scalars. So you have to help yourselvs.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @array = (\n    { clothing =&gt; \"Trouser\", price =&gt; 40, Quantity =&gt; 2 },\n    { clothing =&gt; \"Socks\",   price =&gt; 5,  Quantity =&gt; 12 },\n);\n\nmy $maxi = 0;\nfor my $i ( 1 .. $#array ) {\n    $maxi = $i if $array[$i]{price} &gt; $array[$maxi]{price};\n}\n\n$array[$maxi]{price} *= 2;\nfor my $rec ($array[$maxi]) {\n    print qq/{ ${\\(join ', ', map \"$_ =&gt; $rec-&gt;{$_}\", sort keys %$rec)} }\\n/;\n}\n</code></pre>\n\n<p>If you are looking for more comfort and weird new syntax.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Carp;\n\nmy @array = (\n    { clothing =&gt; \"Trouser\", price =&gt; 40, Quantity =&gt; 2 },\n    { clothing =&gt; \"Socks\",   price =&gt; 5,  Quantity =&gt; 12 },\n);\n\nsub maxi (@) {\n    croak \"Empty array\" unless @_;\n    my $maxi = 0;\n    for my $i ( 1 .. $#_ ) {\n        $maxi = $i if $_[$i] &gt; $_[$maxi];\n    }\n    return $maxi;\n}\n\nmy $maxi = maxi map $_-&gt;{price}, @array;\nprint $maxi, \"\\n\";\n\n$array[$maxi]{price} *= 2;\nfor my $rec ( $array[$maxi] ) {\n    print qq/{ ${\\(join ', ', map \"$_ =&gt; $rec-&gt;{$_}\", sort keys %$rec)} }\\n/;\n}\n</code></pre>\n\n<p>And finally you can use <code>List::Util::max</code> as with <code>map</code> and <code>grep</code> because all your array members are pointers to an anonymous hash so you can modify its content unless you want change them to some other type.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse List::Util qw(max);\n\nmy @array = (\n    { clothing =&gt; \"Trouser\", price =&gt; 40, Quantity =&gt; 2 },\n    { clothing =&gt; \"Socks\",   price =&gt; 5,  Quantity =&gt; 12 },\n    { clothing =&gt; \"Shirt\",   price =&gt; 40, Quantity =&gt; 1 },\n    { clothing =&gt; \"Hat\",     price =&gt; 10, Quantity =&gt; 3 },\n);\n\nsub format_item {\n    my $item = shift;\n    local $\" = ', '; # \" for broken syntax highliter\n    return qq({ @{[map \"$_ =&gt; $item-&gt;{$_}\", sort keys %$item]} });\n}\n\nmy $maxprice = max map $_-&gt;{price}, @array;\nmy @maxs = grep $_-&gt;{price} == $maxprice, @array;\n\n# double prices\n$_-&gt;{price} *= 2 for @maxs;\n\nprint format_item($_), \"\\n\" for @maxs;\n\n# if you are interested in the only one\nmy ($max_item) = @maxs;\n\nprint format_item($max_item), \"\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1426594178, "post_id": 29097257, "comment_id": 46427718, "body": "<code>reduce</code> is nice, but you are assuming there can only be one item with the highest price."}], "tags": [], "owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "is_accepted": false, "score": 0, "last_activity_date": 1426590269, "last_edit_date": 1426590269, "creation_date": 1426589641, "answer_id": 29097257, "question_id": 29096619, "link": "https://stackoverflow.com/questions/29096619/changing-value-of-an-array-in-perl/29097257#29097257", "title": "Changing value of an array in Perl", "body": "<p><code>max</code> function \"returns the entry in the list with the highest numerical value\" (<a href=\"http://search.cpan.org/~pevans/Scalar-List-Utils-1.41/lib/List/Util.pm#max\" rel=\"nofollow\">perldoc</a>). Your list consists of hash references that do not have any inherent numerical value, co <code>max</code> cannot compare them. Unfortunately, you cannot provide your own predicate to <code>max</code> function. However, you can use <code>reduce</code> function, that can be seen as more general version of <code>min</code>, <code>max</code> and others.</p>\n\n<p>Once you get maximum element, you can simply multiply one of its attributes by two (or any other factor).</p>\n\n<pre><code>#!/usr/bin/perl\nuse List::Util qw(reduce);\n\nmy @array = (\n    {clothing =&gt; \"Trouser\", price =&gt; 40, Quantity =&gt; 2},\n    {clothing =&gt; \"Socks\", price =&gt; 5, Quantity =&gt; 12}\n);\n\nmy $max = reduce { $a-&gt;{price} &gt; $b-&gt;{price} ? $a : $b } @array;\n$max-&gt;{price} *= 2;\nprint $max-&gt;{price};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1426593853, "last_edit_date": 1426593853, "creation_date": 1426593399, "answer_id": 29098471, "question_id": 29096619, "link": "https://stackoverflow.com/questions/29096619/changing-value-of-an-array-in-perl/29098471#29098471", "title": "Changing value of an array in Perl", "body": "<p>What you are really looking for is not the maximum, but rather an <a href=\"http://en.wikipedia.org/wiki/Arg_max\" rel=\"nofollow\">argmax</a>.</p>\n\n<p>In your case, price is a function that maps each item to its price. You want to find which element(s) have the highest price.</p>\n\n<p>Not which hashref has the highest numeric address. You may be tempted to sort the array of hashrefs by price, but avoid that unless it is needed for some other reason because that does too much work.</p>\n\n<p>Instead, first find the highest price, then grep all elements which have price equal to the highest price to find all items with the highest price (while the maximum is unique, there can always be more than one maximizer. That is, the cardinality of the pre-image of <code>{ maximum }</code> need not be 1.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse List::Util qw(max);\n\n my @items = (\n    {clothing =&gt; \"Trouser\", price =&gt; 40, Quantity =&gt; 2},\n    {clothing =&gt; \"Socks\", price =&gt; 5, Quantity =&gt; 12},\n    {clothing =&gt; \"Shirt\", price =&gt; 40, Quantity =&gt; 1},\n    {clothing =&gt; \"Hat\", price =&gt; 10, Quantity =&gt; 3},\n);\n\nmy $max_price = max map $_-&gt;{price}, @items;\nmy @argmax = grep $_-&gt;{price} eq $max_price, @items;\n\nprint \"Items with highest price\\n\";\nprint \"@{[ @{ $_ }{qw( clothing price Quantity )} ]}\\n\" for @argmax;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>Items with highest price\nTrouser 40 2\nShirt 40 1</pre>\n\n<p>Given that you want to change the prices of items with the highest price, you actually want to grep the set of indexes.</p>\n\n<p>Therefore, change the last part to use indexes:</p>\n\n<pre><code>my $max_price = max map $_-&gt;{price}, @items;\nmy @argmax = grep $items[$_]-&gt;{price} eq $max_price, 0 ..  $#items;\n$items[$_]-&gt;{price} *= 2 for @argmax;\n\nprint \"Items with highest price\\n\";\nprint \"@{[ @{ $items[$_] }{qw( clothing price Quantity )} ]}\\n\" for @argmax;\n</code></pre>\n\n<p>Output:</p>\n\n<p><pre>Items with highest price\nTrouser 80 2\nShirt 80 1</prE></p>\n"}], "owner": {"reputation": 9, "user_id": 4680123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b75c4d244dc6ee49fd5d63e6be7222a8?s=128&d=identicon&r=PG&f=1", "display_name": "Kalliz", "link": "https://stackoverflow.com/users/4680123/kalliz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1553440401, "creation_date": 1426587776, "last_edit_date": 1553440401, "question_id": 29096619, "link": "https://stackoverflow.com/questions/29096619/changing-value-of-an-array-in-perl", "title": "Changing value of an array in Perl", "body": "<p>I am looking to retrieve the highest value from the array in the category price, and then double that value and save it in the array. My logic told me to write the following piece of code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse List::Util qw(min max);\n\n my @array = (\n    {clothing =&gt; \"Trouser\", price =&gt; 40, Quantity =&gt; 2},\n    {clothing =&gt; \"Socks\", price =&gt; 5, Quantity =&gt; 12},);\n\n        my $maxi = max(@array);\n        $name = $ {$maxi} { price };\n        $name = $name * 2;\n        print $name;\n</code></pre>\n\n<p>This code seems to randomly toggle between the two values. How do I get the maximum value from the category stated? And how do I take the new value and replace it with the old one?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1426585140, "post_id": 29095337, "comment_id": 46422321, "body": "The problem is probably double brackets. Use <code>m{...}</code> or <code>m&#47;...&#47;</code> or <code>&#47;...&#47;</code> but not <code>m{&#47;...&#47;}</code>. It tries find pattern containing &#39;/&#39;."}], "answers": [{"tags": [], "owner": {"reputation": 2126, "user_id": 3020810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebadb7394827a648e7a0f898a098d2a5?s=128&d=identicon&r=PG&f=1", "display_name": "amow", "link": "https://stackoverflow.com/users/3020810/amow"}, "is_accepted": false, "score": 0, "last_activity_date": 1426584535, "creation_date": 1426584535, "answer_id": 29095511, "question_id": 29095337, "link": "https://stackoverflow.com/questions/29095337/read-a-line-from-file-and-if-pattern-match-then-delete-it-from-it-in-perl/29095511#29095511", "title": "read a line from file and if pattern match then delete it from it in perl", "body": "<pre><code>awk '$0~/I want to go Rome/' jobs.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 1, "last_activity_date": 1426586102, "last_edit_date": 1426586102, "creation_date": 1426585005, "answer_id": 29095657, "question_id": 29095337, "link": "https://stackoverflow.com/questions/29095337/read-a-line-from-file-and-if-pattern-match-then-delete-it-from-it-in-perl/29095657#29095657", "title": "read a line from file and if pattern match then delete it from it in perl", "body": "<p>It's as simple as</p>\n\n<pre><code>perl -ine'print unless /I want to go Rome/'\n</code></pre>\n\n<p>If you prefer script</p>\n\n<pre><code>use strict;\nuse warnings;\nuse autodie;\n\nuse constant FILENAME =&gt; 'jobs.txt';\n\nopen my $in, '&lt;', FILENAME;\n\nwhile (&lt;$in&gt;) {\n    if ( $. == 1 ) {    # you need to do this after read first line\n                        # $in will keep i-node with the original file\n        open my $out, '&gt;', FILENAME;\n        select $out;\n    }\n    print unless /I want to go Rome/;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "edited": false, "score": 0, "creation_date": 1426587130, "post_id": 29095785, "comment_id": 46423523, "body": "how to use awk in this perl file to update the same file after the pattern matches."}, {"owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "edited": false, "score": 0, "creation_date": 1426587323, "post_id": 29095785, "comment_id": 46423621, "body": "howto delete the line that matched the pattern from the file"}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "reply_to_user": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "edited": false, "score": 0, "creation_date": 1426587802, "post_id": 29095785, "comment_id": 46423856, "body": "@user3616128: You can&#39;t make holes in file so you have to either move rest of file forward to fill the hole or much better make copy."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426589107, "post_id": 29095785, "comment_id": 46424648, "body": "I think this answer might be improved with a little more explanation as to what it&#39;s doing."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "edited": false, "score": 0, "creation_date": 1426590470, "post_id": 29095785, "comment_id": 46425474, "body": "@user3616128 : I do not use <code>awk</code>, in <code>perl</code> have a look at edited code."}], "tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1426590374, "last_edit_date": 1426590374, "creation_date": 1426585406, "answer_id": 29095785, "question_id": 29095337, "link": "https://stackoverflow.com/questions/29095337/read-a-line-from-file-and-if-pattern-match-then-delete-it-from-it-in-perl/29095785#29095785", "title": "read a line from file and if pattern match then delete it from it in perl", "body": "<p>try this :</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Copy;\n\nopen my $file, \"&lt;\", \"jobs.txt\" or die \"Cannot open jobs.txt : $!\";\nopen my $outtemp, \"&gt;\", \"out.temp\" or die \"Unable to open file : $!\\n\"; # create a temporary file to write the lines which doesn't match pattern.\n\nwhile(my $line = &lt;$file&gt;)\n{\n    next if $line =~ m/I want to go Rome/; # ignore lines which matches pattern\n    print $outtemp $line; # write the rest lines in temp file.\n}\nclose $file;\nclose $outtemp;\nmove(\"out.temp\", \"jobs.txt\"); # move temp file into original file.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 4673548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c82a2b0fa26ab4aa0f423d8f6737e3?s=128&d=identicon&r=PG&f=1", "display_name": "David I", "link": "https://stackoverflow.com/users/4673548/david-i"}, "is_accepted": false, "score": 0, "last_activity_date": 1426616816, "creation_date": 1426616816, "answer_id": 29106952, "question_id": 29095337, "link": "https://stackoverflow.com/questions/29095337/read-a-line-from-file-and-if-pattern-match-then-delete-it-from-it-in-perl/29106952#29106952", "title": "read a line from file and if pattern match then delete it from it in perl", "body": "<p>grep -v 'I want to go Rome' jobs.txt</p>\n\n<p>Is much simpler still to write.</p>\n"}], "owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 704, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1426616816, "creation_date": 1426584062, "question_id": 29095337, "link": "https://stackoverflow.com/questions/29095337/read-a-line-from-file-and-if-pattern-match-then-delete-it-from-it-in-perl", "title": "read a line from file and if pattern match then delete it from it in perl", "body": "<p>I have a file place.txt with the content say:</p>\n\n<pre><code>I want to go Rome. Will Go.\nI want to go Rome. Will Not Go.\nI want to go Rome. Will Not Go.\nI want to go Rome. Will Go.\nI want to go India. Will Not Go.\nI want to go India. Will Not Go.\nI want to go Rome. Will Go.\n</code></pre>\n\n<p>I want to read this file and match the lines with the pattern \"I want to go Rome.\" and omit those lines matching the pattern from this file in perl.</p>\n\n<p>My sample code is:</p>\n\n<pre><code>$file = new IO::File;\n$file-&gt;open(\"&lt;jobs.txt\") or die \"Cannot open jobs.txt\";\n\nwhile(my $line = $file-&gt;getline){\n    next if $line =~ m{/I want to go Rome/};\n    print $line;\n}\n\nclose $file;\n</code></pre>\n\n<p>Note: My file would be a big one. Can we use sed or awk?</p>\n"}, {"tags": ["php", "perl"], "answers": [{"tags": [], "owner": {"reputation": 936, "user_id": 2025996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42cef9434c73926c36bd382e9f9370f0?s=128&d=identicon&r=PG", "display_name": "mvbrakel", "link": "https://stackoverflow.com/users/2025996/mvbrakel"}, "is_accepted": false, "score": 1, "last_activity_date": 1426583010, "creation_date": 1426583010, "answer_id": 29094972, "question_id": 29094831, "link": "https://stackoverflow.com/questions/29094831/preg-match-gives-different-results-than-perl-string-match/29094972#29094972", "title": "preg_match gives different results than perl string match", "body": "<p>They actually do the same. Only the information returned to you is different.</p>\n\n<p><code>preg_match</code> returns an array of matches. Your match check outputs the fully matched pattern.</p>\n\n<p>The return of <code>preg_match</code> will be</p>\n\n<pre><code>array(2\n    0   =&gt;  #b1-15,\n    1   =&gt;  #b1-15\n)\n</code></pre>\n\n<p>The first array value is the full matched pattern. The second one is the first captured parenthesized subpattern and so on.</p>\n\n<p>Please refer to\n<a href=\"http://php.net/manual/en/function.preg-match.php\" rel=\"nofollow\">http://php.net/manual/en/function.preg-match.php</a></p>\n\n<p>See the section about parameter <code>matches</code></p>\n"}, {"tags": [], "owner": {"reputation": 428, "user_id": 1469908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6QSlD.png?s=128&g=1", "display_name": "Eduardo Ramos", "link": "https://stackoverflow.com/users/1469908/eduardo-ramos"}, "is_accepted": true, "score": 1, "last_activity_date": 1426583082, "creation_date": 1426583082, "answer_id": 29094998, "question_id": 29094831, "link": "https://stackoverflow.com/questions/29094831/preg-match-gives-different-results-than-perl-string-match/29094998#29094998", "title": "preg_match gives different results than perl string match", "body": "<p>PHP is returning two matches as you can check running this:</p>\n\n<pre><code>preg_match('/(#.*?)[ ,]/','112 east coast road #b1-15, 112 katong, singapore    428802', $match);\n</code></pre>\n\n<p>var_dump($match);</p>\n\n<p>The result is:</p>\n\n<pre><code>array(2) {[0]=&gt;string(7) \"#b1-15,\"[1]=&gt;string(6) \"#b1-15\"}\n</code></pre>\n\n<p>The first match is the \"global\" match of your regex the second corresponds to the first group.</p>\n"}], "owner": {"reputation": 138, "user_id": 4477169, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/67a1d07402b2bbe10cc6519c7a1e7c8c?s=128&d=identicon&r=PG&f=1", "display_name": "H. Wang", "link": "https://stackoverflow.com/users/4477169/h-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 29094998, "answer_count": 2, "score": 0, "last_activity_date": 1426584221, "creation_date": 1426582551, "last_edit_date": 1426584221, "question_id": 29094831, "link": "https://stackoverflow.com/questions/29094831/preg-match-gives-different-results-than-perl-string-match", "title": "preg_match gives different results than perl string match", "body": "<p>I would like to capture room number from a string and condition is (start with a # and end with a space or comma).</p>\n\n<p>My php code is:</p>\n\n<pre><code> preg_match('/(#.*?)[ ,]/',\n   '112 east coast road #b1-15, 112 katong, singapore 428802', $match);\n if($match) {\n echo \"match=\".$match[0];\n }\n else {\n   echo 'not match';\n }\n</code></pre>\n\n<p>The output is: <code>&lt;code&gt;match=#b1-15,&lt;/code&gt;</code>  </p>\n\n<p>As you can see, a comma is captured.</p>\n\n<p>While I use the same pattern in perl\n     use strict;</p>\n\n<pre><code>my $str = \"112 east coast road #b1-15, 112 katong, singapore 428802\";\n\nif($str =~ /(#.*?)[ ,]/) {\n    print \"match = $1\";\n}\nelse {\n    print \"not match\";\n}\n</code></pre>\n\n<p>The output is: <code>&lt;code&gt;match = #b1-15&lt;/code&gt;</code>  </p>\n\n<p>Could anybody tell me why and how to correct my PHP pattern matching?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1426578857, "post_id": 29093697, "comment_id": 46419012, "body": "That regex could use some refinement: <code>m&#47;^\\s*#\\s*define\\s+(\\w+)\\s+(\\w+)&#47;</code> (although it still doesn&#39;t quite follow the C preprocessor&#39;s specs)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1426585240, "post_id": 29093697, "comment_id": 46422374, "body": "Ok, updated. Was aiming more to illustrate the concept, but it&#39;s probably good to have a more complete pattern."}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426656383, "post_id": 29093697, "comment_id": 46457823, "body": "@sobrique creating hash seems to be easy now :) ..its working thanks ....one thing I&#39;v to ask . (\\w+) here represent the key and second (\\w+) represent the value?? so they are identified by ()?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1426584827, "last_edit_date": 1426584827, "creation_date": 1426578207, "answer_id": 29093697, "question_id": 29093624, "link": "https://stackoverflow.com/questions/29093624/how-to-form-hash-from-the-contents-of-the-following-file/29093697#29093697", "title": "How to form hash from the contents of the following file?", "body": "<p>There's two things you're trying to do. Parse a file, and insert into a hash. At a basic level, it goes like this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy %defines;\n\nopen ( my $input_fh, \"&lt;\", \"input-file-name\" ) or die $!;\nwhile ( &lt;$input_fh&gt; ) {\n    my ( $key, $value ) = ( m/^\\s*#\\s*define\\s+(\\w+)\\s+(\\w+)/  );\n    $defines{$key} = $value;\n}\n\nprint Dumper \\%defines; \n</code></pre>\n\n<p>That's all there is to it, really. A hash is an (unordered) set of key-value pairs. </p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426670003, "post_id": 29095579, "comment_id": 46463366, "body": "I suspect someone is on a crusade to downvote people who answered a question they deem too lazy. (So +1 offered in the spirit of balance - I answered too, because I feel that this is a newbie looking for something basic, rather than a &#39;please do my work for me&#39; post)"}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1426584768, "creation_date": 1426584768, "answer_id": 29095579, "question_id": 29093624, "link": "https://stackoverflow.com/questions/29093624/how-to-form-hash-from-the-contents-of-the-following-file/29095579#29095579", "title": "How to form hash from the contents of the following file?", "body": "<pre><code>use strict;\nuse warnings;\n\nmy %hash;\n\nwhile (&lt;&gt;) {\n    my ( $key, $value ) = /^\\s*#\\s*define\\s+(\\w+)\\s+(\\w+)/;\n    $hash{$key} = $value;\n}\n\n# substitute each value by other value if there is some present\n# support transitivity\nfor my $value ( values %hash ) {\n    $value = $hash{$value} while exists $hash{$value};\n}\n\n# print out hash content as definitions with final values\nprint \"#define $_ $hash{$_}\\n\" for sort keys %hash;\n</code></pre>\n\n<p>If you are suspicious there can be a cycle, you can write very simple cycle detection;</p>\n\n<pre><code>for my $value ( values %hash ) {\n    my %seen;    # cycle detection, stop when $value content is seen twice\n    $value = $hash{$value} while exists $hash{$value} and not $seen{$value}++;\n}\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 29093697, "answer_count": 2, "score": -2, "last_activity_date": 1426588493, "creation_date": 1426577871, "last_edit_date": 1426588493, "question_id": 29093624, "link": "https://stackoverflow.com/questions/29093624/how-to-form-hash-from-the-contents-of-the-following-file", "title": "How to form hash from the contents of the following file?", "body": "<p>I have not used hash before but I have a two files as shown below . How to put its contents into hash in such a way that <code>PIO_M_U_PIO55_1 ,PIO_M_U_PIO55_2</code> etc becomes the keys and <code>896, 895</code> as its values so that its easy to access it in other files . Similarly for second file <code>UART_10,UART_13</code> etc become the key and <code>PIO_M_U_PIO55_1</code> etc as its value so that i can access <code>896</code> directly by <code>UART_10</code>. any other way is also welcomed...</p>\n\n<pre><code> #define PIO_M_U_PIO55_1          896\n #define PIO_M_U_PIO55_2          895\n #define PIO_M_U_PIO57_3          894\n #define PIO_M_U_PIO55_4          893\n and so on.....huge file\n Similarly one more file \n  #define UART_10       PIO_M_U_PIO55_1\n  #define UART_13       PIO_M_U_PIO55_2\n  #define UART_11       PIO_M_U_PIO57_3\n   and so on ...\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1426569969, "creation_date": 1426569969, "answer_id": 29091877, "question_id": 29091805, "link": "https://stackoverflow.com/questions/29091805/how-does-pattern-matching-works-using-perl/29091877#29091877", "title": "How does pattern matching works using perl", "body": "<p>This does as you ask</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $res = \"\\nA:B:C \\nA:B:D \\nC:D:E\";\n\nmy @fields = map { join '-', (split /:/)[0,1] } split ' ', $res;\n$res = \"@fields\\n\";\n\nprint $res, \"\\n\";\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>A-B A-B C-D\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1671, "user_id": 4456455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9AKyw.jpg?s=128&g=1", "display_name": "eLemEnt", "link": "https://stackoverflow.com/users/4456455/element"}, "is_accepted": false, "score": 0, "last_activity_date": 1426573437, "creation_date": 1426573437, "answer_id": 29092587, "question_id": 29091805, "link": "https://stackoverflow.com/questions/29091805/how-does-pattern-matching-works-using-perl/29092587#29092587", "title": "How does pattern matching works using perl", "body": "<p>Or u can also use <code>regex match</code></p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nmy $res=\"A:B:C A:B:D C:D:E\";\nmy @arr = split(/ /,$res);\nmy $new = \"\";\nfor(@arr) {\n    /^([a-zA-Z]):([A-Za-z])/;\n    $new .= $1.\"-\".$2.\" \";\n}\nchop $new;\nprint $new;\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre><code>A-B A-B C-D\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 0, "last_activity_date": 1426574318, "creation_date": 1426574318, "answer_id": 29092783, "question_id": 29091805, "link": "https://stackoverflow.com/questions/29091805/how-does-pattern-matching-works-using-perl/29092783#29092783", "title": "How does pattern matching works using perl", "body": "<pre><code>$res = \"A:B:C A:B:D C:D:E\";\n$res =~ s/(\\w):(\\w):\\w/$1-$2/g;\n\n# $res &lt;-- A-B A-B C-D \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 694, "user_id": 3916803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/orEp7.jpg?s=128&g=1", "display_name": "parthi", "link": "https://stackoverflow.com/users/3916803/parthi"}, "is_accepted": true, "score": 3, "last_activity_date": 1426576065, "creation_date": 1426576065, "answer_id": 29093190, "question_id": 29091805, "link": "https://stackoverflow.com/questions/29091805/how-does-pattern-matching-works-using-perl/29093190#29093190", "title": "How does pattern matching works using perl", "body": "<pre><code>use strict;\nuse warnings;\n$res = \"A:B:C A:B:D C:D:E\";\n$res =~ s{([a-z]):([a-z]):[a-z]}{$1-$2}ig;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4679094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff5b57fe962ed65da0637ac4429ff35d?s=128&d=identicon&r=PG&f=1", "display_name": "stackstrong", "link": "https://stackoverflow.com/users/4679094/stackstrong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 29093190, "answer_count": 4, "score": 2, "last_activity_date": 1426576065, "creation_date": 1426569620, "last_edit_date": 1426572255, "question_id": 29091805, "link": "https://stackoverflow.com/questions/29091805/how-does-pattern-matching-works-using-perl", "title": "How does pattern matching works using perl", "body": "<p>i have the variables <code>a:b:c a:b:d c:d:e</code> and i need the output to be displayed as <code>a-b a-b c-d</code></p>\n\n<p>i try the following code</p>\n\n<pre><code>$res=\"A:B:C A:B:D C:D:E\";\n\n$res=~s/\\:/\\-/g;\n\n$res=~s/..$//mgs;\nprint \"$res\\n\";\n</code></pre>\n\n<p>But i did not receive output</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426567781, "post_id": 29091466, "comment_id": 46415034, "body": "Does this file have all the fields on a single line? An example would be nice."}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426567914, "post_id": 29091466, "comment_id": 46415070, "body": "uart_1_baddress  2211   in one line then                                                 uart_2_baddress  3344   in sec line                                                             uart_3_baddress  2572   in third line and so on..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426567947, "post_id": 29091466, "comment_id": 46415085, "body": "All on a single line?"}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426568022, "post_id": 29091466, "comment_id": 46415110, "body": "no diffrent lines , with each line containing strings separated by space"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426568063, "post_id": 29091466, "comment_id": 46415124, "body": "And you want all the fields on all the lines put into a single array?"}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426568141, "post_id": 29091466, "comment_id": 46415145, "body": "yes an array which has all the strings in the whole file..my code is not working"}, {"owner": {"reputation": 1671, "user_id": 4456455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9AKyw.jpg?s=128&g=1", "display_name": "eLemEnt", "link": "https://stackoverflow.com/users/4456455/element"}, "edited": false, "score": 0, "creation_date": 1426574424, "post_id": 29091466, "comment_id": 46417181, "body": "uart_1_baddress 2211 on one line then uart_2_baddress 3344 on sec line uart_3_baddress 2572 on third line and so according to you since both the words have space between them so they should be pushed to array ??"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426569204, "post_id": 29091595, "comment_id": 46415438, "body": "open my $fh, &#39;&lt;&#39;, &#39;perl_script_2_out_2.txt&#39; or die $!;           my @arr;          while (&lt;$fh&gt;) {          push @arr, split;      }      open my $fh1, &#39;&gt;&#39;, &#39;perl_script_2_out_2.txt&#39; or die $!;      print $fh1 @arr;      close($fh1);"}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426569239, "post_id": 29091595, "comment_id": 46415449, "body": "This is what i did and its still giving a blank file"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426569627, "post_id": 29091595, "comment_id": 46415566, "body": "@Grace90: That works fine for me, but I thought you wanted the data in an array, not in a file."}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426570018, "post_id": 29091595, "comment_id": 46415677, "body": "Yes in my case it was showing error Can&#39;t locate Data/Dump.pm  so i tried to see the array by printing it in the same file but it gave a blank file"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426570170, "post_id": 29091595, "comment_id": 46415740, "body": "It is best if you install <code>Data::Dump</code>, but you could also try <code>use Data::Dumper; print Dumper \\@arr;</code>"}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426570847, "post_id": 29091595, "comment_id": 46415952, "body": "Ok but why can&#39;t we print the @arr in the file it should work? i mean just instead of use Data::Dump; dd \\@arr;  if i print it in file with rest of program same ."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426571536, "post_id": 29091595, "comment_id": 46416170, "body": "@Grace90: You can print it to the file. The code in your comment works fine for me, except that all the fields are in a single line with no spaces. Something else is wrong."}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426575029, "post_id": 29091595, "comment_id": 46417419, "body": "I am so sorry its working fine..by mistake I did some change in the code above this one so my input file was not being generated..just figured out....my bad...thanks a lot for your assistance :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1426568347, "creation_date": 1426568347, "answer_id": 29091595, "question_id": 29091466, "link": "https://stackoverflow.com/questions/29091466/how-to-make-an-array-containing-strings-in-a-file-separated-by-space/29091595#29091595", "title": "How to make an array containing strings in a file separated by space?", "body": "<p>You <em>must always</em> <code>use strict</code> and <code>use warnings</code> at the top of every Perl program that you write. In this case you would have seen the message</p>\n\n<pre><code>Name \"main::FILE4\" used only once: possible typo\n</code></pre>\n\n<p>which points to the statement</p>\n\n<pre><code>my @array4 = &lt;FILE4&gt;\n</code></pre>\n\n<p>and helps you to see that you have opened the file handle <code>$FILE4</code> but tried to read from <code>FILE4</code>, which is different.</p>\n\n<p>If you fix that then your code will work, but it's a strange way to do things and it's much better like this. I have used <code>Data::Dump</code> to display the final contents of the array; it's not necessary for the program to work.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen my $fh, '&lt;', 'perl_script_2_out_2.txt' or die $!;\n\nmy @arr;\nwhile (&lt;$fh&gt;) {\n  push @arr, split;\n}\n\nuse Data::Dump;\ndd \\@arr;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>[\n  \"uart_1_baddress\",\n  2211,\n  \"uart_2_baddress\",\n  3344,\n  \"uart_3_baddress\",\n  2572,\n]\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 29091595, "answer_count": 1, "score": 0, "last_activity_date": 1426568347, "creation_date": 1426567690, "last_edit_date": 1426567851, "question_id": 29091466, "link": "https://stackoverflow.com/questions/29091466/how-to-make-an-array-containing-strings-in-a-file-separated-by-space", "title": "How to make an array containing strings in a file separated by space?", "body": "<p>I have a file <code>perl_script_2_out_2.txt</code> and I want to put all strings separated by space in an array <code>@arr</code>.</p>\n\n<p>I wrote this code but isnt working . </p>\n\n<pre><code>open my $FILE4, '&lt;', 'perl_script_2_out_2.txt' or die $!;\nmy @array4 = &lt;FILE4&gt;;\nclose($FILE4);\n\nopen my $FILE5, '&gt;', 'perl_script_2_out_2.txt' or die $!;\nforeach $_ (@array4) {\n  s/\\s+/\\n/g;\n  print $FILE5 \"$_\";\n}\nclose($FILE5);\n\nopen my $FILE6, '&lt;', 'perl_script_2_out_2.txt' or die $!;\n@arr = &lt;$FILE6&gt;;\n</code></pre>\n"}, {"tags": ["perl", "dbix-class", "mojolicious"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426566821, "post_id": 29091017, "comment_id": 46414810, "body": "Please learn to use <i>markdown</i> to mark up your posts. There is a question mark in an orange circle at the top right of your edit box that links to <i>Markdown Editing Help</i>"}, {"owner": {"reputation": 13, "user_id": 3658010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc5db7d59c2af14ec75db9f3baabeafc?s=128&d=identicon&r=PG&f=1", "display_name": "user3658010", "link": "https://stackoverflow.com/users/3658010/user3658010"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426632630, "post_id": 29091017, "comment_id": 46451576, "body": "I didn&#39;t know sorry about that tried to fix up some of it and will make sure to do it in the future."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426633769, "post_id": 29091017, "comment_id": 46451961, "body": "That&#39;s okay\u2014I realised you weren&#39;t familiar with markdown and did it for you in my edit from version 1 to 2. Your own changes in the latest version were unnecessary and nothing to do with markdown so I rolled them back."}], "answers": [{"comments": [{"owner": {"reputation": 1127, "user_id": 420614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0b85fe717aea5847033f07d41a3fa0b8?s=128&d=identicon&r=PG", "display_name": "oliverguenther", "link": "https://stackoverflow.com/users/420614/oliverguenther"}, "edited": false, "score": 0, "creation_date": 1432929861, "post_id": 29091444, "comment_id": 49149693, "body": "Author here, this is exactly what I meant - A snippet of code to embed <i>somewhere</i> to an init script of your application, and obviously, one has to load the schema module. I&#39;ve cleared that up in the blog entry with a full example."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1426567554, "creation_date": 1426567554, "answer_id": 29091444, "question_id": 29091017, "link": "https://stackoverflow.com/questions/29091017/mojolicious-deploying-database-schema/29091444#29091444", "title": "Mojolicious Deploying database schema", "body": "<p>It's not clear why the author wrote only a part of the deployment script. Perhaps he thought it was obvious that you needed <code>use Moblo::Schema</code> in there. Perhaps he was right.</p>\n\n<p>This program works fine. Call it anything you like\u2014say <code>deploy.pl</code>\u2014and put it in the <code>moblo/lib</code> directory.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Moblo::Schema;\n\nmy $schema = Moblo::Schema-&gt;connect('dbi:SQLite:moblo.db');\n$schema-&gt;deploy();\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 3658010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc5db7d59c2af14ec75db9f3baabeafc?s=128&d=identicon&r=PG&f=1", "display_name": "user3658010", "link": "https://stackoverflow.com/users/3658010/user3658010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 29091444, "answer_count": 1, "score": 1, "last_activity_date": 1426633667, "creation_date": 1426564388, "last_edit_date": 1426633667, "question_id": 29091017, "link": "https://stackoverflow.com/questions/29091017/mojolicious-deploying-database-schema", "title": "Mojolicious Deploying database schema", "body": "<p>I am currently working through <a href=\"http://oliverguenther.de/2014/04/applications-with-mojolicious-part-four-database-schemas-with-dbixclass/\" rel=\"nofollow\">this tutorial</a> on building a Mojolicious web app for a project. In the tutorial he talks about using this in a script to create a database schema.</p>\n\n<pre><code>my $schema = Moblo::Schema-&gt;connect('dbi:SQLite:moblo.db');\n$schema-&gt;deploy();\n</code></pre>\n\n<p>and I have tried running <code>perl -e '...'</code>, putting it in different files and everything else I can think of, but with no success.</p>\n\n<p><a href=\"https://github.com/caseycole589/MojoDojo\" rel=\"nofollow\">Here is my code</a> on GitHub.</p>\n\n<p>I am pretty lost on how to get this thing to create the schema so any help would be appreciated.</p>\n"}, {"tags": ["linux", "perl", "amazon"], "comments": [{"owner": {"reputation": 19222, "user_id": 789186, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d232cc5abe46092d3972d4f85833e42?s=128&d=identicon&r=PG", "display_name": "user4035", "link": "https://stackoverflow.com/users/789186/user4035"}, "edited": false, "score": 0, "creation_date": 1426563656, "post_id": 29090899, "comment_id": 46414009, "body": "<a href=\"http://stackoverflow.com/questions/3802396/why-does-perl2exe-complain-about-unresolved-symbol-perl-gthr-key-ptr\" title=\"why does perl2exe complain about unresolved symbol perl gthr key ptr\">stackoverflow.com/questions/3802396/&hellip;</a>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1426566761, "post_id": 29090899, "comment_id": 46414799, "body": "If you need more help beyond what&#39;s in the duplicate question, go ahead and ask another question with the new requirements."}, {"owner": {"reputation": 9, "user_id": 4457492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/244a9f5a9868a659f015cfbd666f4ad4?s=128&d=identicon&r=PG&f=1", "display_name": "Linux user", "link": "https://stackoverflow.com/users/4457492/linux-user"}, "edited": false, "score": 0, "creation_date": 1426567625, "post_id": 29090899, "comment_id": 46414982, "body": "Thanks, I have already checked this question link. also performed the steps of cpan -r but still showing the same error.  Can you please help me?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1426570000, "post_id": 29090899, "comment_id": 46415674, "body": "@Linuxuser Did you do it on the Amazon machine, or some other machine and then copied the files over?"}, {"owner": {"reputation": 9, "user_id": 4457492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/244a9f5a9868a659f015cfbd666f4ad4?s=128&d=identicon&r=PG&f=1", "display_name": "Linux user", "link": "https://stackoverflow.com/users/4457492/linux-user"}, "edited": false, "score": 0, "creation_date": 1426574423, "post_id": 29090899, "comment_id": 46417180, "body": "Yes, I have done it on Amazon machine"}], "owner": {"reputation": 9, "user_id": 4457492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/244a9f5a9868a659f015cfbd666f4ad4?s=128&d=identicon&r=PG&f=1", "display_name": "Linux user", "link": "https://stackoverflow.com/users/4457492/linux-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1426565842, "answer_count": 0, "score": 0, "last_activity_date": 1426565009, "creation_date": 1426563554, "last_edit_date": 1426565009, "question_id": 29090899, "link": "https://stackoverflow.com/questions/29090899/perl-error-so-file-error", "closed_reason": "Duplicate", "title": "Perl Error .so file error", "body": "<p>I am getting the below error while running the perl script on Amazon linux:</p>\n\n<pre><code>/usr/bin/perl: symbol lookup error: /usr/local/lib64/perl5/auto/Sub/Name/Name.so: undefined symbol: Perl_Gthr_key_ptr\n</code></pre>\n\n<p>Can u please help me?</p>\n"}, {"tags": ["perl", "class-dbi"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 3, "creation_date": 1426558937, "post_id": 29089849, "comment_id": 46412918, "body": "If at all possible, consider <a href=\"https://metacpan.org/pod/DBIx::Class\" rel=\"nofollow noreferrer\">DBIx::Class</a>.  Class::DBI is no longer maintained and isn&#39;t a very good ORM by modern standards.  I should know, <a href=\"https://metacpan.org/pod/release/MSCHWERN/Class-DBI-0.02/lib/Class/DBI.pm\" rel=\"nofollow noreferrer\">I wrote it</a>.  Also, is this homework?  If it is, please let the teacher know the author says to stop using Class::DBI. :)  Finally, the Class::DBI documentation already contains <a href=\"https://metacpan.org/pod/Class::DBI#How-to-set-it-up\" rel=\"nofollow noreferrer\">an example of doing exactly this</a>."}, {"owner": {"reputation": 27, "user_id": 2796792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256b9a9a6d83ffd9c168ff90a6b67d73?s=128&d=identicon&r=PG&f=1", "display_name": "user_falafel", "link": "https://stackoverflow.com/users/2796792/user-falafel"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1426560605, "post_id": 29089849, "comment_id": 46413336, "body": "Thanks, unfortunately they are insisting on using Class::DBI and not DBIx::Class as the app used it."}, {"owner": {"reputation": 27, "user_id": 2796792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256b9a9a6d83ffd9c168ff90a6b67d73?s=128&d=identicon&r=PG&f=1", "display_name": "user_falafel", "link": "https://stackoverflow.com/users/2796792/user-falafel"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1426560869, "post_id": 29089849, "comment_id": 46413400, "body": "I would like to know the answer to the 3 question. I got the first 2 questions."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1427193788, "post_id": 29089849, "comment_id": 46667368, "body": "Who are &quot;they&quot;? And why are they insisting on using supported software? That doesn&#39;t sound like good advice?"}, {"owner": {"reputation": 27, "user_id": 2796792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256b9a9a6d83ffd9c168ff90a6b67d73?s=128&d=identicon&r=PG&f=1", "display_name": "user_falafel", "link": "https://stackoverflow.com/users/2796792/user-falafel"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1427313142, "post_id": 29089849, "comment_id": 46732277, "body": "@Dave Cross I agree but what do you think about sorting using Class::dbi ?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1427369213, "post_id": 29089849, "comment_id": 46752671, "body": "I think two things. I think that a) Schwern has already given you a good answer and b) a teaching environment should not be teaching obsolete software."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 2796792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256b9a9a6d83ffd9c168ff90a6b67d73?s=128&d=identicon&r=PG&f=1", "display_name": "user_falafel", "link": "https://stackoverflow.com/users/2796792/user-falafel"}, "edited": false, "score": 0, "creation_date": 1426563825, "post_id": 29090842, "comment_id": 46414063, "body": "Thanks Schwern, the sorting question confuses me how can you sort the name of the pet owner and then sort the same with the age? Wouldn&#39;t one take precedence over the other and lose the order? Also the entity using it is a great fan of your class::dbi  !"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 27, "user_id": 2796792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256b9a9a6d83ffd9c168ff90a6b67d73?s=128&d=identicon&r=PG&f=1", "display_name": "user_falafel", "link": "https://stackoverflow.com/users/2796792/user-falafel"}, "edited": false, "score": 0, "creation_date": 1426564120, "post_id": 29090842, "comment_id": 46414129, "body": "@user_falafel I see the mistake in your sort call now.  You have it basically correct, but the syntax is wrong.  I&#39;ve edited my answer.  If the entity is a huge fan, then they&#39;ll please honor my request to stop teaching people to use it.  It&#39;s no longer a useful real world ORM, its no longer maintained, and teaches some bad habits.  Case in point, loading the whole table into memory because there is no way to pass in sorting options to retrieve_all."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 27, "user_id": 2796792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256b9a9a6d83ffd9c168ff90a6b67d73?s=128&d=identicon&r=PG&f=1", "display_name": "user_falafel", "link": "https://stackoverflow.com/users/2796792/user-falafel"}, "edited": false, "score": 0, "creation_date": 1426565396, "post_id": 29090842, "comment_id": 46414464, "body": "I figured out a better way to retrieve all rows with an ORDER BY."}, {"owner": {"reputation": 27, "user_id": 2796792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256b9a9a6d83ffd9c168ff90a6b67d73?s=128&d=identicon&r=PG&f=1", "display_name": "user_falafel", "link": "https://stackoverflow.com/users/2796792/user-falafel"}, "edited": false, "score": 0, "creation_date": 1426571912, "post_id": 29090842, "comment_id": 46416300, "body": "I did use the order by ASC on name  using an iterator and the next method but they didn&#39;t like the answer and wanted me to not use an iterator. So, I decided  to use an array , retrieve and store all the rows and then sort the object in ASC and print them."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 27, "user_id": 2796792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256b9a9a6d83ffd9c168ff90a6b67d73?s=128&d=identicon&r=PG&f=1", "display_name": "user_falafel", "link": "https://stackoverflow.com/users/2796792/user-falafel"}, "edited": false, "score": 0, "creation_date": 1426577544, "post_id": 29090842, "comment_id": 46418469, "body": "@user_falafel You had it right. <code>retrieve_all</code> should basically never be used, and iterators used whenever possible.  Unless you know you&#39;re going to only get a limited data set back, like with a LIMIT clause, you should never fetch all the rows from a database at once.  It risks consuming all your memory and leaves you open to a DOS attack.  They&#39;re teaching you bad practices on an obsolete ORM, I hope you&#39;re not paying them much.  I&#39;d be interested to see the course materials and critique them."}, {"owner": {"reputation": 27, "user_id": 2796792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256b9a9a6d83ffd9c168ff90a6b67d73?s=128&d=identicon&r=PG&f=1", "display_name": "user_falafel", "link": "https://stackoverflow.com/users/2796792/user-falafel"}, "edited": false, "score": 0, "creation_date": 1426584965, "post_id": 29090842, "comment_id": 46422233, "body": "Agreed, they are using obsolete ORM  for production in a teaching / education environment. I FLUNKED this test according to them.Thanks for your feedback!"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 1, "last_activity_date": 1426565377, "last_edit_date": 1426565377, "creation_date": 1426563117, "answer_id": 29090842, "question_id": 29089849, "link": "https://stackoverflow.com/questions/29089849/sorting-perl-with-classdbi/29090842#29090842", "title": "Sorting Perl with Class::DBI", "body": "<p>It's basically correct, but there's a number of small problems.</p>\n\n<p>It's not necessary to load DBI, Class::DBI will take care of that for you.</p>\n\n<p>You should be using <a href=\"https://metacpan.org/pod/Class::DBI#connection\" rel=\"nofollow\"><code>connection</code></a> instead of <code>set_db(\"Main\", ...)</code>.  <code>set_db</code> comes from Ima::DBI and it's not polite (or necessary) to peek under the hood like that.</p>\n\n<p>Although this isn't directly documented in Class::DBI (it should be), its inherited from <a href=\"https://metacpan.org/pod/Ima::DBI#set_db\" rel=\"nofollow\">Ima::DBI</a>, there's no need to check for DBI errors.  <a href=\"https://metacpan.org/pod/DBI#RaiseError\" rel=\"nofollow\">RaiseError</a> is on and if the connection fails it will throw an error.</p>\n\n<p>You have a typo, <code>use warning;</code> instead of <code>use warnings;</code>.</p>\n\n<p>Unless you have stitched three files together for the post, if the code is all in one file the <code>1;</code> statements do nothing.  <code>use Pet::Pets</code> will not work because there is no <code>Pet/Pets.pm</code> file.  You don't have to use a class which is already in the same file.</p>\n\n<p>In general, avoid using <code>$_</code> if you don't have to, too many things can quietly use or change it.  Instead, give the for loop a proper variable like <code>for my $person</code>.</p>\n\n<p><code>sort</code> only takes one block, but you're basically correct.  It should be <code>sort { ($a-&gt;name cmp $b-&gt;name) || ($a-&gt;age &lt;=&gt; $b-&gt;age) }  @Pets</code></p>\n\n<p>To avoid reading the whole, potentially very large, table into memory, the sorting should really be done in the database with an <code>ORDER BY name ASC, age ASC</code> and then retrieved a row at a time using an <a href=\"https://metacpan.org/pod/Class::DBI#ITERATORS\" rel=\"nofollow\">iterator</a>.  Unfortunately, <a href=\"https://metacpan.org/pod/Class::DBI#retrieve_all\" rel=\"nofollow\">retrieve_all</a> does not support any options.  You can use <code>retrieve_from_sql</code> to add arbitrary SQL to the end of the basic SELECT.  <code>my $all_people = Pet::Pets-&gt;retrieve_from_sql(\"ORDER BY name ASC, age ASC\");</code>  Then your data will already be sorted and can be read a row at a time.  <code>while( my $person = $all_people-&gt;next ) { ... }</code></p>\n\n<p>You're missing a <code>.</code> in <code>\"Age\". $_-&gt;age\"\\n\"</code>.</p>\n\n<p>Null values in a database come back as undef.  You'll want to check if <code>$_-&gt;pet</code> is defined and if not use some other string like <code>\"no pet\"</code> or just a blank <code>\"\"</code>.</p>\n\n<p>You're printing the person's age, the question asks for their pet.</p>\n\n<p>Otherwise, it should work.</p>\n\n<p>But really, tell whomever gave you this homework to stop telling people to use Class::DBI.  They can email me if they like, schwern@pobox.com.</p>\n"}], "owner": {"reputation": 27, "user_id": 2796792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/256b9a9a6d83ffd9c168ff90a6b67d73?s=128&d=identicon&r=PG&f=1", "display_name": "user_falafel", "link": "https://stackoverflow.com/users/2796792/user-falafel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1426565377, "creation_date": 1426555643, "last_edit_date": 1426562074, "question_id": 29089849, "link": "https://stackoverflow.com/questions/29089849/sorting-perl-with-classdbi", "title": "Sorting Perl with Class::DBI", "body": "<p>You have the following table called Pets:</p>\n\n<pre><code>name     age     pet\n------------------------\nCarol     25     null\nStean     23     cat\nMel       24     dog\nRich      24     rabbit\n</code></pre>\n\n<p>In a MySQL database on the server mydbserver with the user of 'user' with a \npassword of 'password'.</p>\n\n<p>Do the following:</p>\n\n<p>1) Create a <code>Class::DBI</code> connection to this database with the above credentials ( DBI.pm ).</p>\n\n<p>2) Create a Class for the table Pets ( Pet.pm )</p>\n\n<p>3) Create a program that prints all the names of people in the Pets table and what kind (if any )\nof pet he/she has sorted by name then age.</p>\n\n<p>Here is the code I wrote.....</p>\n\n<pre><code>#!/usr/bin/perl      \npackage Pet::DBI;\nuse DBI;\nuse strict;\nuse base 'Class::DBI';\nPet::DBI-&gt;set_db('Main','dbi:mysql:dname', 'user', 'password') \n\nor die $DBI::errstr \"\\n\";\n1;\n\npackage Pet::Pets;\nuse base 'Pet::DBI';\nuse strict;\nuse warning;\nPet::Pets-&gt;table('Pets');\nPet::Pets-&gt;columns(All =&gt; qw/name age pet/);\n1;\n\nuse Pet::Pets;\nmy @pets = Pet::Pets-&gt;retrieve_all; \nfor (sort {$a-&gt;name cmp $b-&gt;name} || {$a-&gt;age &lt;=&gt; $b-&gt;age}  @Pets) {\nprint \"Name:\".$_-&gt;name ' =&gt; '.\"Age\". $_-&gt;age\"\\n\";\n}\n\n1;\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 1632, "user_id": 1072222, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e25a242e4a1ca113d0fad40e1ba611d6?s=128&d=identicon&r=PG", "display_name": "cur4so", "link": "https://stackoverflow.com/users/1072222/cur4so"}, "is_accepted": false, "score": 0, "last_activity_date": 1426562177, "last_edit_date": 1426562177, "creation_date": 1426561598, "answer_id": 29090644, "question_id": 29089722, "link": "https://stackoverflow.com/questions/29089722/creating-a-user-in-perl/29090644#29090644", "title": "Creating a user in Perl", "body": "<pre><code>#!/usr/bin/perl\n\n$opt = 0;\n&amp;disp_menu;\n\n$opt = &lt;&gt;;\nprint \"You selected Option \";\nprint $opt;\n\nif ($opt == 3) {\n    $user = `sudo adduser mjensen`;\n    if ( $? != -1 ) {\n        print \"user mjensen has been created\\n\";\n    }        \n}\nelsif ($opt == 1) {\n    $group = `sudo groupadd Group1`;\n    if ( $? != -1 ) {\n        print \"group Group1 has been created\\n\";\n    }\n}\nelsif ($opt == 2) {\n    $dgroup = `sudo groupdel Group1`;\n    if ( $? != -1 ) {\n        print \"group Group1 has been dropped\\n\";\n    }\n}\nelsif ($opt == 4) {\n    $duser = `sudo userdel mjensen`;\n    if ( $? != -1 ) {\n        print \"user mjensen has been dropped\\n\";\n    }\n}\nelsif ($opt == 5) {\n    print \"You have exited the program\";\n}\n\nsub disp_menu {\n    print \"Main Menu\\n\";\n    print \"Option 1 Create Group\\n\";\n    print \"Option 2 Drop Group\\n\";\n    print \"Option 3 Create User\\n\";\n    print \"Option 4 Drop User\\n\";\n    print \"Option 5 Exit Menu\\n\";\n    print \"Enter Option =&gt; \";\n    return;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3630517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1161817e97e007e88ff716d1d8d43668?s=128&d=identicon&r=PG", "display_name": "user67946", "link": "https://stackoverflow.com/users/3630517/user67946"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426562177, "creation_date": 1426554772, "question_id": 29089722, "link": "https://stackoverflow.com/questions/29089722/creating-a-user-in-perl", "title": "Creating a user in Perl", "body": "<p>I am trying to create a script with these options, Create a User, Drop A User,\nCreate a group, Drop a group. How do stop it from running all the commands at once?</p>\n\n<pre><code>#!/usr/bin/perl\n\n$opt = 0;\n&amp;disp_menu;\n\n$opt = &lt;&gt;;\nprint \"You selected Option \";\nprint $opt;\n\n$user = `sudo adduser mjensen`;\n$group = `sudo groupadd Group1`;\n$dgroup = `sudo groupdel Group1  `;\n$duser = `sudo userdel mjensen`;\n\nsub disp_menu {\nprint \"Main Menu\\n\";\nprint \"Option 1 Create Group\\n\";\nprint \"Option 2 Drop Group\\n\";\nprint \"Option 3 Create User\\n\";\nprint \"Option 4 Drop User\\n\";\nprint \"Option 5 Exit Menu\\n\";\nprint \"Enter Option =&gt; \";\nreturn;}\n\nif ($opt == 3) {print \"$user\";\n}\n\nelsif ($opt == 1) {print \"$group\\n\";\n}\nelsif ($opt == 2) {print \"$dgroup\\n\";\n}\nelsif ($opt == 4) {print \"$duser\\n\";\n}\nelsif ($opt == 5) {print \"You have exited the program\";\n      }\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 1665, "user_id": 4665781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/vqN2k.png?s=128&g=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/4665781/jordan"}, "edited": false, "score": 0, "creation_date": 1426571942, "post_id": 29089410, "comment_id": 46416305, "body": "Thank you Thomas, that did it :)"}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "reply_to_user": {"reputation": 1665, "user_id": 4665781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/vqN2k.png?s=128&g=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/4665781/jordan"}, "edited": false, "score": 0, "creation_date": 1426581530, "post_id": 29089410, "comment_id": 46420278, "body": "No problem.  (\\w is more concise, but harder to remember offhand <i>what</i> it includes)."}, {"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1578701694, "post_id": 29089410, "comment_id": 105537498, "body": "Can you provide a reference for <code>:alnum:</code>? It is not on <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a>."}, {"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1578701849, "post_id": 29089410, "comment_id": 105537528, "body": "OK, it is in <i><a href=\"https://perldoc.perl.org/perlrecharclass.html#POSIX-Character-Classes\" rel=\"nofollow noreferrer\">perlrecharclass - Perl Regular Expression Character Classes, POSIX Character Classes</a></i>."}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "edited": false, "score": 0, "creation_date": 1578708334, "post_id": 29089410, "comment_id": 105538428, "body": "<a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\"><code>man perlre</code></a> states that the longer (tutorial) is <a href=\"https://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\"><code>perlretut</code></a>, and it&#39;s listed there.  I usually start with the manpages..."}], "tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": true, "score": 1, "last_activity_date": 1426552554, "creation_date": 1426552554, "answer_id": 29089410, "question_id": 29089309, "link": "https://stackoverflow.com/questions/29089309/perl-remove-non-letter-non-number-characters-from-string/29089410#29089410", "title": "Perl: Remove non-letter, non-number characters from string", "body": "<p>You would use a substitution with the <code>^</code> (not) regular expression.  While Perl offers shortcuts, you can see the parts more clearly like this:</p>\n\n<pre><code>$string =~ s/[^[:alnum:]_-]//g;\n</code></pre>\n\n<p>where the <code>[:alnum:]</code> is the character class for alphabetic and numeric characters.  The \"<code>-</code>\" is last in the brackets to avoid confusing it as part of a <em>range</em> of characters.</p>\n"}], "owner": {"reputation": 1665, "user_id": 4665781, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/vqN2k.png?s=128&g=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/4665781/jordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1420, "favorite_count": 0, "accepted_answer_id": 29089410, "answer_count": 1, "score": 0, "last_activity_date": 1578701436, "creation_date": 1426551881, "last_edit_date": 1578701436, "question_id": 29089309, "link": "https://stackoverflow.com/questions/29089309/perl-remove-non-letter-non-number-characters-from-string", "title": "Perl: Remove non-letter, non-number characters from string", "body": "<p>I have a Perl string that is only allowed to contain the letters A to Z (capital and lowercase), the numbers 0 to 9, and the \"-\" and \"_\" characters. I want to remove all non-matching characters from the string, leaving the rest untouched.</p>\n\n<p>So \"Hell@_World\" would become \"Hell_World\".</p>\n"}, {"tags": ["perl", "file", "line"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 2, "creation_date": 1426575154, "post_id": 29088832, "comment_id": 46417463, "body": "Also use semicolons <code>;</code> at 1st and last line in your code."}], "answers": [{"tags": [], "owner": {"reputation": 109, "user_id": 4559065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a01cb4f6fbf89c88c59fbf327c795c60?s=128&d=identicon&r=PG&f=1", "display_name": "Garry", "link": "https://stackoverflow.com/users/4559065/garry"}, "is_accepted": false, "score": -1, "last_activity_date": 1426550709, "creation_date": 1426550709, "answer_id": 29089124, "question_id": 29088832, "link": "https://stackoverflow.com/questions/29088832/check-how-many-in-each-line-in-perl/29089124#29089124", "title": "Check how many &quot;,&quot; in each line in Perl", "body": "<p>Do you want #commas for each line in the file, or #commas in the entire file?</p>\n\n<p>On a per-line basis, replace your while loop with:</p>\n\n<pre><code>my @data = &lt;list&gt;;\nforeach my $line {\n  my @chars = split //, $line;\n  my $count = 0;\n  foreach my $c (@chars) { $count++ if $c eq \",\" }\n  print \"There were $c commas\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 3, "last_activity_date": 1426551560, "creation_date": 1426551560, "answer_id": 29089260, "question_id": 29088832, "link": "https://stackoverflow.com/questions/29088832/check-how-many-in-each-line-in-perl/29089260#29089260", "title": "Check how many &quot;,&quot; in each line in Perl", "body": "<p>Use the <a href=\"http://perldoc.perl.org/perlop.html#tr/SEARCHLIST/REPLACEMENTLIST/cdsr\" rel=\"nofollow\">transliteration operator</a> in counting mode:</p>\n\n<pre><code>my $commas = $linelist =~ y/,//;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1426571976, "post_id": 29089910, "comment_id": 46416316, "body": "Your code is reading file into memory as well. Your remark about memory is misleading."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1426620855, "post_id": 29089910, "comment_id": 46445826, "body": "It&#39;s a different sort of memory that the Perl process can discard when it&#39;s done with it."}, {"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1426621233, "post_id": 29089910, "comment_id": 46446047, "body": "Perl process can&#39;t discard it, kernel does. Anyway, sentence <i>you don&#39;t need to read it into memory</i> is simply misleading. In your code, it is read whole into memory and is up to kernel if some pages of virtual memory behind <code>$map</code> is freed. You are making false impression that the part of the file will no be read into memory."}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 0, "last_activity_date": 1426556043, "creation_date": 1426556043, "answer_id": 29089910, "question_id": 29088832, "link": "https://stackoverflow.com/questions/29088832/check-how-many-in-each-line-in-perl/29089910#29089910", "title": "Check how many &quot;,&quot; in each line in Perl", "body": "<p>If you just want to count the number of somethings in a file, you don't need to read it into memory. Since you aren't changing the file, mmap would be just fine:</p>\n\n<pre><code>use File::Map qw(map_file);\nmap_file my $map, $filename, '&lt;';\nmy $count = $map =~ tr/,//;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5682, "user_id": 626810, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dde9640589b85543aa33fddb58bb169c?s=128&d=identicon&r=PG", "display_name": "Blaskovicz", "link": "https://stackoverflow.com/users/626810/blaskovicz"}, "is_accepted": false, "score": 0, "last_activity_date": 1426556179, "creation_date": 1426556179, "answer_id": 29089930, "question_id": 29088832, "link": "https://stackoverflow.com/questions/29088832/check-how-many-in-each-line-in-perl/29089930#29089930", "title": "Check how many &quot;,&quot; in each line in Perl", "body": "<pre><code>#! perl\n# perl script.pl [file path]\nuse strict;\nuse warnings;\nmy $file = shift or die \"No file name provided\";\nopen(my $IN, \"&lt;\", $file) or die \"Couldn't open file $file: $!\";\nmy @matches = ();\nmy $index = 0;\n# while &lt;$IN&gt; will get the file one line at a time rather than loading it all into memory\nwhile(&lt;$IN&gt;){\n  my $line = $_;\n  my $current_count = 0;\n  # match globally, meaning keep track of where the last match was\n  $current_count++ while($line =~ m/,/g);\n  $matches[$index] = $current_count;\n  $index++;\n}\n\n$index = 0;\nfor(@matches){\n  $index++;\n  print \"line $index had $_ matches\\n\" \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 3, "last_activity_date": 1426575306, "creation_date": 1426575306, "answer_id": 29093004, "question_id": 29088832, "link": "https://stackoverflow.com/questions/29088832/check-how-many-in-each-line-in-perl/29093004#29093004", "title": "Check how many &quot;,&quot; in each line in Perl", "body": "<p>Edited in your code :</p>\n\n<pre><code>use warnings;\nuse strict;\n\nopen my $list, \"&lt;\", \"file.csv\" or die $!;\nwhile (my $linelist = &lt;$list&gt;)\n{\n    my $commas = $linelist =~ y/,//;\n    print \"$commas\\n\";\n}\nclose($list);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1426603005, "post_id": 29095043, "comment_id": 46433822, "body": "<code>print Linuga::EN::Inflect::inflect &quot;There PL_V(is,$commas) $commas PL_N(comma,$commas) at $.. line.\\n&quot;</code>"}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1426621311, "last_edit_date": 1426621311, "creation_date": 1426583209, "answer_id": 29095043, "question_id": 29088832, "link": "https://stackoverflow.com/questions/29088832/check-how-many-in-each-line-in-perl/29095043#29095043", "title": "Check how many &quot;,&quot; in each line in Perl", "body": "<p>You can use <code>mmap</code> Perl IO layer instead of <a href=\"https://metacpan.org/pod/File::Map\" rel=\"nofollow\">File::Map</a>. It is almost as efficient as former but most probably present in your Perl installation without needing installing a module. Next, using <code>y///</code> is more efficient than <code>m//g</code> in array context.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse autodie;\n\nuse constant STUDENT_LIST =&gt; 'text.txt';\n\nopen my $list, '&lt;:mmap', STUDENT_LIST;\n\nwhile ( my $line = &lt;$list&gt; ) {\n    my $count = $line =~ y/,//;\n    print \"There is $count commas at $.. line.\\n\";\n}\n</code></pre>\n\n<p>If you would like grammatically correct output you can use <a href=\"http://metacpan.org/pod/Lingua::EN::Inflect\" rel=\"nofollow\">Lingua::EN::Inflect</a> in the right place</p>\n\n<pre><code>use Lingua::EN::Inflect qw(inflect);\nprint inflect \"There PL_V(is,$count) $count PL_N(comma,$count) at ORD($.) line.\\n\";\n</code></pre>\n\n<p>Example output:</p>\n\n<pre><code>There are 7 commas at 1st line.\nThere are 0 commas at 2nd line.\nThere is 1 comma at 3rd line.\nThere are 2 commas at 4th line.\nThere are 7 commas at 5th line.\n</code></pre>\n"}], "owner": {"reputation": 251, "user_id": 4454952, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/06b5b99d23cc74962544e91326ab1335?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/4454952/mateusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "closed_date": 1426653142, "answer_count": 6, "score": 1, "last_activity_date": 1426621311, "creation_date": 1426549060, "question_id": 29088832, "link": "https://stackoverflow.com/questions/29088832/check-how-many-in-each-line-in-perl", "closed_reason": "Duplicate", "title": "Check how many &quot;,&quot; in each line in Perl", "body": "<p>I have to check how many times was \",\" in each line in file. Anybody have idea how can I do it in Perl?</p>\n\n<p>On this moment my code looks like it:</p>\n\n<pre><code>open($list, \"&lt;\", $student_list)\nwhile ($linelist = &lt;$list&gt;)\n{\n   printf(\"$linelist\");\n}\nclose($list)\n</code></pre>\n\n<p>But I have no idea how to check how many times is \",\" in each $linelist :/</p>\n"}, {"tags": ["apache", "perl", "mod-perl", "mojolicious", "psgi"], "comments": [{"owner": {"reputation": 1474, "user_id": 751910, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4d4ee1e65bd8c86f66c43eecfe42a3e6?s=128&d=identicon&r=PG", "display_name": "alexk", "link": "https://stackoverflow.com/users/751910/alexk"}, "edited": false, "score": 0, "creation_date": 1426591732, "post_id": 29088401, "comment_id": 46426155, "body": "Are there any error messages in the logs?"}, {"owner": {"reputation": 481, "user_id": 378352, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7e9295107ed4f727b7126db26bcc1218?s=128&d=identicon&r=PG", "display_name": "dudeman", "link": "https://stackoverflow.com/users/378352/dudeman"}, "reply_to_user": {"reputation": 1474, "user_id": 751910, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4d4ee1e65bd8c86f66c43eecfe42a3e6?s=128&d=identicon&r=PG", "display_name": "alexk", "link": "https://stackoverflow.com/users/751910/alexk"}, "edited": false, "score": 0, "creation_date": 1426602999, "post_id": 29088401, "comment_id": 46433817, "body": "The error I get in the logs is at the view. I get a variable not imported error (Variable &quot;$tag&quot; is not imported). Which is really weird because even if the query that populates that variable in the controller comes back empty it would still be imported. So, what I think is that there is old code answering these requests. But, I don&#39;t know how to find and fix that."}, {"owner": {"reputation": 481, "user_id": 378352, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7e9295107ed4f727b7126db26bcc1218?s=128&d=identicon&r=PG", "display_name": "dudeman", "link": "https://stackoverflow.com/users/378352/dudeman"}, "reply_to_user": {"reputation": 1474, "user_id": 751910, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4d4ee1e65bd8c86f66c43eecfe42a3e6?s=128&d=identicon&r=PG", "display_name": "alexk", "link": "https://stackoverflow.com/users/751910/alexk"}, "edited": false, "score": 0, "creation_date": 1426606049, "post_id": 29088401, "comment_id": 46436144, "body": "Update on this. I put a die in the controller, restarted apache, and noted that it shows in the logs intermittently."}], "answers": [{"tags": [], "owner": {"reputation": 481, "user_id": 378352, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7e9295107ed4f727b7126db26bcc1218?s=128&d=identicon&r=PG", "display_name": "dudeman", "link": "https://stackoverflow.com/users/378352/dudeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1426608555, "creation_date": 1426608555, "answer_id": 29104125, "question_id": 29088401, "link": "https://stackoverflow.com/questions/29088401/intermittent-errors-with-new-code-release-to-existing-mojolicious-app/29104125#29104125", "title": "Intermittent errors with new code release to existing Mojolicious app", "body": "<p>I did finally resolve this and it turned out to be something simple. I was missing the use statement for my controller in my main application script. The script where I setup the routes. I'm not sure I understand why it was working intermittently in production and working all the time in development. But, once I added:</p>\n\n<p>use TheApp::Controller::Tags; in the main app pm it worked consistently.</p>\n\n<p>In retrospect it feels like I should have figured it out sooner, but the fact that it worked part of the time led me down the wrong path. Hopefully this will help someone else sometime.</p>\n"}], "owner": {"reputation": 481, "user_id": 378352, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7e9295107ed4f727b7126db26bcc1218?s=128&d=identicon&r=PG", "display_name": "dudeman", "link": "https://stackoverflow.com/users/378352/dudeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426608555, "creation_date": 1426546463, "question_id": 29088401, "link": "https://stackoverflow.com/questions/29088401/intermittent-errors-with-new-code-release-to-existing-mojolicious-app", "title": "Intermittent errors with new code release to existing Mojolicious app", "body": "<p>I'm having a problem with an existing Mojolicous app. I have added some new routes, views, controllers, and models, and am returning database results to view using Rose::DB::Object ORM. </p>\n\n<p>I updated the production version today with code that had been working great on Morbo. But, on apache2/plack/psgi mod_perl config the new Models are only returning the queries about 1 in 5 sometimes 1 in 10 times.</p>\n\n<p>I've eliminated a number of variables, like I can query the database directly and get my results no problem. Older Model's and their queries always work.</p>\n\n<p>It appears that only this new functionality is intermittent. I have narrowed requests to only one server and have restarted apache. But, am now at the point that I don't understand why the issue is persisting.</p>\n\n<p>I think this is some kind of mod_perl wonky behavior, but don't know why an apache restart doesn't fix it.</p>\n\n<p>Any help or ideas would be awesome.</p>\n"}, {"tags": ["arrays", "perl", "sorting"], "comments": [{"owner": {"reputation": 51, "user_id": 4672852, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8b69370523e93b55bd2d5d83e37e0ef3?s=128&d=identicon&r=PG&f=1", "display_name": "pubba", "link": "https://stackoverflow.com/users/4672852/pubba"}, "edited": false, "score": 0, "creation_date": 1426542452, "post_id": 29087505, "comment_id": 46407952, "body": "Also if someone could point me to some reading that explains it would be very appreciated, as my luck with google on this topic seems exhausted."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 1, "creation_date": 1426542689, "post_id": 29087505, "comment_id": 46408072, "body": "ad google, try: <i>perl sort array of hashes by multiple values</i> and check first NN links.. ;)"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 4672852, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8b69370523e93b55bd2d5d83e37e0ef3?s=128&d=identicon&r=PG&f=1", "display_name": "pubba", "link": "https://stackoverflow.com/users/4672852/pubba"}, "edited": false, "score": 0, "creation_date": 1426543112, "post_id": 29087673, "comment_id": 46408275, "body": "This is honestly just plain annyoing. I swear to god I&#39;ve tried that exact syntax on price earlier but it did not return the right result. However now it does.. Thank you!"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 51, "user_id": 4672852, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8b69370523e93b55bd2d5d83e37e0ef3?s=128&d=identicon&r=PG&f=1", "display_name": "pubba", "link": "https://stackoverflow.com/users/4672852/pubba"}, "edited": false, "score": 1, "creation_date": 1426544191, "post_id": 29087673, "comment_id": 46408741, "body": "@pubba Note the difference between <code>cmp</code> (for strings) and <code>&lt;=&gt;</code> (for numbers)."}], "tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": true, "score": 2, "last_activity_date": 1426543451, "last_edit_date": 1426543451, "creation_date": 1426542919, "answer_id": 29087673, "question_id": 29087505, "link": "https://stackoverflow.com/questions/29087505/sorting-array-perl-part-two/29087673#29087673", "title": "Sorting Array Perl (part two)", "body": "<p>The issue is <code>item{$a}</code>. It looks like you are trying get some value from hash <code>item</code> which is not a hash, of course.</p>\n\n<pre><code>my @test = sort { $a-&gt;{price} &lt;=&gt; $b-&gt;{price} } @menu;\n</code></pre>\n\n<p>You can sort according more than one field as well</p>\n\n<pre><code>my @test = sort {\n           $a-&gt;{price} &lt;=&gt; $b-&gt;{price}\n        or $a-&gt;{color} cmp $b-&gt;{color}\n        or $b-&gt;{items} cmp $a-&gt;{items} # note reverse order\n    } @menu;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 0, "last_activity_date": 1426543342, "last_edit_date": 1426543342, "creation_date": 1426542965, "answer_id": 29087682, "question_id": 29087505, "link": "https://stackoverflow.com/questions/29087505/sorting-array-perl-part-two/29087682#29087682", "title": "Sorting Array Perl (part two)", "body": "<p>This is how to order by prize:</p>\n\n<pre><code>my @test = sort { $a-&gt;{prize} &lt;=&gt; $b-&gt;{prize} } @menu;\n</code></pre>\n\n<p>and in descending order, just change $a and $b:</p>\n\n<pre><code>my @test = sort { $b-&gt;{prize} &lt;=&gt; $a-&gt;{prize} } @menu;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 4672852, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8b69370523e93b55bd2d5d83e37e0ef3?s=128&d=identicon&r=PG&f=1", "display_name": "pubba", "link": "https://stackoverflow.com/users/4672852/pubba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 29087673, "answer_count": 2, "score": 2, "last_activity_date": 1426543451, "creation_date": 1426542261, "last_edit_date": 1426543210, "question_id": 29087505, "link": "https://stackoverflow.com/questions/29087505/sorting-array-perl-part-two", "title": "Sorting Array Perl (part two)", "body": "<p>Right, so I've gotten some help but need some more, I have a pretty good understanding on how to sort an array alphabetically. But now I need to sort it numerically. It's probably a syntax error near \"<code>my @test = (sort {items{$a}} &lt;=&gt; {items{$b}} @menu)\"</code></p>\n\n<p>Had it been a hash with two keys I would have a solution, but since this array contains three categories it becomes difficult for me. Obviously looking for some help along with an explanation as possible as I'm eager to learn.\nThank you!</p>\n\n<pre><code>my @test = (sort {price{$a} &lt;=&gt; {price{$b}} @menu)\n</code></pre>\n"}, {"tags": ["string", "perl", "file"], "answers": [{"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 1, "last_activity_date": 1426541272, "last_edit_date": 1426541272, "creation_date": 1426540844, "answer_id": 29087132, "question_id": 29086854, "link": "https://stackoverflow.com/questions/29086854/read-file-to-one-string-and-separate-it-in-perl/29087132#29087132", "title": "Read file to one string and separate it in perl", "body": "<pre><code>my $list = do {\n    use autodie;\n    open my $fh, '&lt;', $file;\n    chomp(my @lines = &lt;$fh&gt;);\n    join ', ', @lines;\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 1, "creation_date": 1426541351, "post_id": 29087137, "comment_id": 46407401, "body": "<code>Can&#39;t modify &lt;HANDLE&gt; in chomp at - line 3, near &quot;&lt;$list&gt;;&quot;</code> :-P"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426541413, "post_id": 29087137, "comment_id": 46407435, "body": "Also, don&#39;t forget to check the <code>open</code> call for failure."}], "tags": [], "owner": {"reputation": 1, "user_id": 4678235, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153671225069307/picture?type=large", "display_name": "Dustin Schaeffer", "link": "https://stackoverflow.com/users/4678235/dustin-schaeffer"}, "is_accepted": false, "score": 0, "last_activity_date": 1426541696, "last_edit_date": 1426541696, "creation_date": 1426540863, "answer_id": 29087137, "question_id": 29086854, "link": "https://stackoverflow.com/questions/29086854/read-file-to-one-string-and-separate-it-in-perl/29087137#29087137", "title": "Read file to one string and separate it in perl", "body": "<p>Try reading the lines from a filehandle into an array, then joining that array into a string.</p>\n\n<pre><code>open (my $list, \"&lt;\", $file) or die;\nmy @lns = &lt;$list&gt;;\nchomp @lns;\nmy $string = join(\",\", @lns);\n\nprint \"$string\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 4539255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ea7e7328d01cdd9d669f5040a273c0b?s=128&d=identicon&r=PG&f=1", "display_name": "Resident Reporter", "link": "https://stackoverflow.com/users/4539255/resident-reporter"}, "is_accepted": false, "score": 0, "last_activity_date": 1426545144, "last_edit_date": 1426545144, "creation_date": 1426543891, "answer_id": 29087891, "question_id": 29086854, "link": "https://stackoverflow.com/questions/29086854/read-file-to-one-string-and-separate-it-in-perl/29087891#29087891", "title": "Read file to one string and separate it in perl", "body": "<p>The other answers will work.  Since you're new to Perl like me, a different but perhaps more beginner-friendly (straightforward, IMO) way of doing it would be:</p>\n\n<pre><code>use strict;\n\nsub main(){\n\nmy $output; \n    open( 'sourcefile', \"&lt;$ARGV[0]\" )\n          or die(\"Error: cannot open file '$ARGV[0]'\\n\");\n\n    while (my $line = &lt;sourcefile&gt;){\n        chomp $line; #will remove the newline for you.\n        $output = $output . $line;\n    }\n    print $output;\n}\n\nmain();\n</code></pre>\n"}], "owner": {"reputation": 251, "user_id": 4454952, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/06b5b99d23cc74962544e91326ab1335?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/4454952/mateusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1426545144, "creation_date": 1426539668, "last_edit_date": 1426539877, "question_id": 29086854, "link": "https://stackoverflow.com/questions/29086854/read-file-to-one-string-and-separate-it-in-perl", "title": "Read file to one string and separate it in perl", "body": "<p>So I have file which looks like:</p>\n\n<pre><code>Name, Surname, Number\nName2, Surname2, Number2\nName3, Surname3, Number3\n</code></pre>\n\n<p>I want to read it all to one string in Perl, and I want it to look like:</p>\n\n<pre><code>\"Name, Surname, Number, Name2, Surname2, Number2, Name3, Surname3, Number3\"\n</code></pre>\n\n<p>But I really don't have idea how to do it :/ I'm new in Perl. I know only, that to open file I need to do:</p>\n\n<pre><code>open($list, \"&lt;\", $file)\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 670, "user_id": 2403672, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5a0521b2f427ae0c78a3c4c175f12421?s=128&d=identicon&r=PG", "display_name": "deep", "link": "https://stackoverflow.com/users/2403672/deep"}, "edited": false, "score": 0, "creation_date": 1426534219, "post_id": 29084885, "comment_id": 46403495, "body": "I would like to go with regex as sometimes the log details changes. Thank you."}], "tags": [], "owner": {"reputation": 109, "user_id": 4559065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a01cb4f6fbf89c88c59fbf327c795c60?s=128&d=identicon&r=PG&f=1", "display_name": "Garry", "link": "https://stackoverflow.com/users/4559065/garry"}, "is_accepted": false, "score": 1, "last_activity_date": 1426532750, "last_edit_date": 1426532750, "creation_date": 1426532449, "answer_id": 29084885, "question_id": 29084698, "link": "https://stackoverflow.com/questions/29084698/perforce-commands-regular-expressions/29084885#29084885", "title": "Perforce commands Regular Expressions", "body": "<p>With data as organised as that, why use a regex at all?</p>\n\n<pre><code>for my $line (@lines) {\n  my @elems = split /\\s+/, $line;\n  next unless $elems[3] eq \"sd_bordeaux\";\n  next unless $elems[-2] eq \"IDLE\";\n  next unless $elems[-1] eq \"none\";\n  print \"$elems[0]\\n\";\n}\n</code></pre>\n\n<p>Out of interest even if your regex had responded with something, it wouldn't have given you the 280x you're expecting; it would have given you e.g. the 117 part from 117:02:40</p>\n\n<p>If for some reason it's got to be a regex, you could do it with ..</p>\n\n<pre><code>if $line =~ /^(\\d+)\\s+.s*sd_bordeaux\\s+(\\d+).*IDLE\\snone$/ {\n  my $id = $1;\n  my $hours = $2;\n</code></pre>\n\n<p>... that should at least return the number you're expecting.</p>\n"}, {"comments": [{"owner": {"reputation": 670, "user_id": 2403672, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5a0521b2f427ae0c78a3c4c175f12421?s=128&d=identicon&r=PG", "display_name": "deep", "link": "https://stackoverflow.com/users/2403672/deep"}, "edited": false, "score": 0, "creation_date": 1426534171, "post_id": 29084890, "comment_id": 46403457, "body": "@Thank you for pointing that out.Also, is there any trick in Regex to get digits greater than let say &quot;24&quot;. (I can try it doing a if loop inside but if there is an exception)Thank you."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 670, "user_id": 2403672, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5a0521b2f427ae0c78a3c4c175f12421?s=128&d=identicon&r=PG", "display_name": "deep", "link": "https://stackoverflow.com/users/2403672/deep"}, "edited": false, "score": 1, "creation_date": 1426534783, "post_id": 29084890, "comment_id": 46403824, "body": "You mean you want the regex to check if the hours are greater than 24? Best check that outside the regex (<code>if ($hours &gt; 24)</code>)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1426532462, "last_edit_date": 1495541577, "creation_date": 1426532462, "answer_id": 29084890, "question_id": 29084698, "link": "https://stackoverflow.com/questions/29084698/perforce-commands-regular-expressions/29084890#29084890", "title": "Perforce commands Regular Expressions", "body": "<p><code>$1</code> contains what was matched by the first capture of the most recent successful regex match.</p>\n\n<p>When you get the error, the most recent successful match was against <code>/IDLE\\s+none$/</code> which contains no captures.</p>\n\n<p>The following would be equivalent:</p>\n\n<pre><code>if ($line =~ /sd_bordeaux\\s+(\\d+):\\d+:\\d+\\s+/) {\n    my $hours = $1;\n    if ($line =~ /IDLE\\s+none$/) {\n        print \"$hours\\n\";\n    }\n}\n</code></pre>\n\n<p>But it looks like all you need is the following:</p>\n\n<pre><code>if ($line =~ /sd_bordeaux\\s+(\\d+):\\d+:\\d+\\s+IDLE\\s+none$/) {\n    my $hours = $1;\n    print \"$hours\\n\";\n}\n</code></pre>\n\n<p>That explains the problem and how to solve it, but Garry provides an <a href=\"https://stackoverflow.com/a/29084885/589924\">alternative approach</a> that's more readable.</p>\n"}], "owner": {"reputation": 670, "user_id": 2403672, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5a0521b2f427ae0c78a3c4c175f12421?s=128&d=identicon&r=PG", "display_name": "deep", "link": "https://stackoverflow.com/users/2403672/deep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 29084890, "answer_count": 2, "score": 0, "last_activity_date": 1426532750, "creation_date": 1426531812, "question_id": 29084698, "link": "https://stackoverflow.com/questions/29084698/perforce-commands-regular-expressions", "title": "Perforce commands Regular Expressions", "body": "<p>I am having the lines of a perforce command execution as follows:</p>\n\n<pre><code>2806  I deep  sd_bordeaux 117:02:40 IDLE none\n2807  I deep  sd_bordeaux 17:02:40  IDLE none\n2808  I deep  sd_coddeaux 117:02:40 IDLE all\n2809  I rahul sd_coddeaux 117:02:40 IDLE all\n</code></pre>\n\n<p>I have written the following code to run the command to get the above list in $command and store it in a array @lines and use regex to get the specified conditions. But I am not getting the desired results. </p>\n\n<pre><code>my $command = qx |p4 monitor show -ale|;\nmy $kill_id;\nmy @lines = split(\"\\n\", $command);\nfor my $line (@lines){\n    next if not $line =~ /(\\d+)\\s+/;\n    my $id = $1;\n    if ($line =~ /sd_bordeaux\\s+(\\d+):\\d+:\\d+\\s+/ and $line =~ /IDLE\\s+none$/){\n        my $hours = $1;\n        print \"$hours\";\n        print \"\\n\";\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>I am getting an error </p>\n\n<pre><code>Use of uninitialized value $hours in string at ./p4.pl\n</code></pre>\n\n<p>I am interested in getting the numbers \"2806\" and \"2807\" as $id and the first digits \"117\" &amp;  \"17\" as $hours.</p>\n\n<p>Please can some help me where I am going wrong. Thank you. </p>\n"}, {"tags": ["perl", "in-memory", "dht"], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 1, "last_activity_date": 1426536978, "creation_date": 1426536978, "answer_id": 29086152, "question_id": 29084001, "link": "https://stackoverflow.com/questions/29084001/is-there-any-in-memory-distributed-hash-table-implementation-perl/29086152#29086152", "title": "Is there any In-Memory Distributed Hash Table implementation Perl?", "body": "<p>If you mean an implementation that you can use from Perl, there are a number of modules for interfacing to Memcached e.g.: <a href=\"https://metacpan.org/pod/Cache::Memcached::Fast\" rel=\"nofollow\">Cache::Memcached::Fast</a>.</p>\n\n<p>If you're looking for an implementation that is written in Perl then I don't have a suggestion.</p>\n"}], "owner": {"reputation": 73, "user_id": 3606212, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100002423892564/picture?type=large", "display_name": "user3606212", "link": "https://stackoverflow.com/users/3606212/user3606212"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1426536978, "creation_date": 1426529422, "question_id": 29084001, "link": "https://stackoverflow.com/questions/29084001/is-there-any-in-memory-distributed-hash-table-implementation-perl", "title": "Is there any In-Memory Distributed Hash Table implementation Perl?", "body": "<p>I am looking for an in memory distributed hash table implementation in Perl.\nDoes any one have any suggestion</p>\n"}, {"tags": ["linux", "perl", "file-permissions"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1426529197, "post_id": 29083589, "comment_id": 46400820, "body": "See <code>man 2 stat</code> and <code>perldoc -f -X</code>"}, {"owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426529367, "post_id": 29083589, "comment_id": 46400924, "body": "@ThisSuitIsBlackNot : Not really. Here I want to see if the file has all the permission bits that I mentioned. The other questions is just to check the s bit of owner. Apologies for confusion though."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1426541858, "post_id": 29083589, "comment_id": 46407667, "body": "Don&#39;t think of what Perl returns as a decimal number. Think of it as an octal set of permissions. You can use <i>bit math</i> to check whether a particular permission is set. You can also use Perl&#39;s <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">file tests</a> to check permission too."}], "answers": [{"comments": [{"owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "edited": false, "score": 0, "creation_date": 1426537754, "post_id": 29084489, "comment_id": 46405541, "body": "Ya that works too, but I want to retrieve the string value of permissions as is. Is that possible?"}, {"owner": {"reputation": 375, "user_id": 4677579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LpQvC.png?s=128&g=1", "display_name": "sota", "link": "https://stackoverflow.com/users/4677579/sota"}, "reply_to_user": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "edited": false, "score": 0, "creation_date": 1426537956, "post_id": 29084489, "comment_id": 46405680, "body": "@user2780224, yep. There&#39;s a function format_perms() taking decimal form and giving you the string you want."}], "tags": [], "owner": {"reputation": 375, "user_id": 4677579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LpQvC.png?s=128&g=1", "display_name": "sota", "link": "https://stackoverflow.com/users/4677579/sota"}, "is_accepted": true, "score": 1, "last_activity_date": 1426531043, "creation_date": 1426531043, "answer_id": 29084489, "question_id": 29083589, "link": "https://stackoverflow.com/questions/29083589/get-permission-bits-string-on-linux-perl/29084489#29084489", "title": "Get permission bits string on Linux/Perl?", "body": "<p>Why not just convert your decimial number to binary form and use binary AND or XOR?</p>\n\n<p>This code gives you binary permissions:</p>\n\n<pre><code>printf '%b', (stat 'filename.txt')[2] &amp; 07777;\n</code></pre>\n\n<p>For example, -rw-r----- binary form will be 110100000. </p>\n"}, {"tags": [], "owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1426615473, "creation_date": 1426615473, "answer_id": 29106551, "question_id": 29083589, "link": "https://stackoverflow.com/questions/29083589/get-permission-bits-string-on-linux-perl/29106551#29106551", "title": "Get permission bits string on Linux/Perl?", "body": "<p>I somehow got the number needed to compare against and this is what I used to get the required answer - </p>\n\n<pre><code>my $mode = (stat('$file'))[2];\nprintf(\"permissions are %04o\\n\", $mode &amp; 07777);\n</code></pre>\n\n<p>and this worked for me!!</p>\n"}], "owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "closed_date": 1426653188, "accepted_answer_id": 29084489, "answer_count": 2, "score": 2, "last_activity_date": 1426615473, "creation_date": 1426528104, "last_edit_date": 1426537985, "question_id": 29083589, "link": "https://stackoverflow.com/questions/29083589/get-permission-bits-string-on-linux-perl", "closed_reason": "Duplicate", "title": "Get permission bits string on Linux/Perl?", "body": "<p>I want to write a shell / Perl script which can check if a file has particular permission bits set. </p>\n\n<p>For example I want to check if a file has permissions like</p>\n\n<pre><code>drwxr-s--- \n</code></pre>\n\n<p>When I use the <code>stat</code> function in Perl, it gives me a decimal number.\nIs there a way I can get the exact string like above in my perl script and compare it?\nIf not - is there a way to convert that string into a number and then compare?</p>\n"}, {"tags": ["linux", "perl", "file-permissions"], "comments": [{"owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "edited": false, "score": 0, "creation_date": 1426528149, "post_id": 29083434, "comment_id": 46400171, "body": "<code>ls -l</code>, and search the results for <code>s</code>"}, {"owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "reply_to_user": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "edited": false, "score": 0, "creation_date": 1426528789, "post_id": 29083434, "comment_id": 46400574, "body": "Thanks for suggestion. But I have too many files in my directory to do this, plus I do not want to do process this big result as well. I know the file name, just want a quick way to check that"}, {"owner": {"reputation": 18507, "user_id": 13317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/47a9a5b4589057085336011863d2ee9a?s=128&d=identicon&r=PG", "display_name": "Kenster", "link": "https://stackoverflow.com/users/13317/kenster"}, "edited": false, "score": 1, "creation_date": 1426529311, "post_id": 29083434, "comment_id": 46400887, "body": "You can run <code>ls -l</code> on a single file."}], "answers": [{"tags": [], "owner": {"reputation": 1748, "user_id": 4532614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f230595feac883e1643f5ba43084e895?s=128&d=identicon&r=PG&f=1", "display_name": "TobyLL", "link": "https://stackoverflow.com/users/4532614/tobyll"}, "is_accepted": true, "score": 3, "last_activity_date": 1426528258, "creation_date": 1426528258, "answer_id": 29083627, "question_id": 29083434, "link": "https://stackoverflow.com/questions/29083434/how-to-check-if-s-permission-bit-is-set-on-linux-shell-or-perl/29083627#29083627", "title": "How to check if &quot;s&quot; permission bit is set on Linux shell? or Perl?", "body": "<p>If you're using perl, then have a look at <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\">perldoc</a>:</p>\n\n<pre><code>-u  File has setuid bit set.\n-g  File has setgid bit set.\n-k  File has sticky bit set.\n</code></pre>\n\n<p>So something like:</p>\n\n<pre><code>if (-u $filename) { ... }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 926, "user_id": 3616686, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YlS1U.png?s=128&g=1", "display_name": "mattpr", "link": "https://stackoverflow.com/users/3616686/mattpr"}, "is_accepted": false, "score": 0, "last_activity_date": 1600786674, "creation_date": 1600786674, "answer_id": 64012422, "question_id": 29083434, "link": "https://stackoverflow.com/questions/29083434/how-to-check-if-s-permission-bit-is-set-on-linux-shell-or-perl/64012422#64012422", "title": "How to check if &quot;s&quot; permission bit is set on Linux shell? or Perl?", "body": "<p>non-perl options</p>\n<h1>Using <code>stat</code></h1>\n<pre><code>#!/bin/bash\ncheck_file=&quot;/tmp/foo.bar&quot;;\ntouch &quot;$check_file&quot;;\nchmod g+s &quot;$check_file&quot;;\n\nif stat -L -c &quot;%A&quot; &quot;$check_file&quot; | cut -c7 | grep -E '^S$' &gt; /dev/null; then\n    echo &quot;File $check_file has setgid.&quot;\nfi\n</code></pre>\n<p>Explanation:</p>\n<ul>\n<li>Use <code>stat</code> to print the file permissions.</li>\n<li>We know the group-execute permission is character number 7 so we extract that with <code>cut</code></li>\n<li>We use <code>grep</code> to check if the result is <code>S</code> (indicated setgid) and if so we do whatever we want with that file that has setgid.</li>\n</ul>\n<h1>Using <code>find</code></h1>\n<p>I have found (hah hah) that find is quite useful for the purpose of finding stuff based on permissions.</p>\n<pre><code>find . -perm -g=s -exec echo chmod g-s &quot;{}&quot; \\;\n</code></pre>\n<p>Finds all files/directories with setgid and unsets it.</p>\n"}], "owner": {"reputation": 784, "user_id": 2548443, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d7857d55926ffec7c0d703dcd9ee26f4?s=128&d=identicon&r=PG", "display_name": "Kedar Joshi", "link": "https://stackoverflow.com/users/2548443/kedar-joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1339, "favorite_count": 0, "accepted_answer_id": 29083627, "answer_count": 2, "score": 1, "last_activity_date": 1600786674, "creation_date": 1426527583, "question_id": 29083434, "link": "https://stackoverflow.com/questions/29083434/how-to-check-if-s-permission-bit-is-set-on-linux-shell-or-perl", "title": "How to check if &quot;s&quot; permission bit is set on Linux shell? or Perl?", "body": "<p>I am writing some scripts to check if the \"s\" permission bit is set for a particular file.\nFor example - permissions for my file are as follows-</p>\n\n<pre><code>drwxr-s---\n</code></pre>\n\n<p>How can I check in bash script or a perl script if that s bit is set or not?</p>\n"}, {"tags": ["bash", "perl", "sed"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1426523835, "post_id": 29082178, "comment_id": 46397320, "body": "did you wanna a perl solution?"}, {"owner": {"reputation": 1, "user_id": 4677201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23b98ae6cb02d7017d1f69425f461971?s=128&d=identicon&r=PG&f=1", "display_name": "user4677201", "link": "https://stackoverflow.com/users/4677201/user4677201"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1426524045, "post_id": 29082178, "comment_id": 46397474, "body": "Thanks, Perl will be also fine, but it should be quick, I need to modify several thousands of such files, each with several hundreds of lines..."}], "answers": [{"comments": [{"owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "edited": false, "score": 2, "creation_date": 1426524425, "post_id": 29082278, "comment_id": 46397725, "body": "You did forget the leading spaces."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "edited": false, "score": 0, "creation_date": 1426524722, "post_id": 29082278, "comment_id": 46397932, "body": "Thanks @Jotne: I overlooked it initially, it is added now."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 2, "last_activity_date": 1426524704, "last_edit_date": 1426524704, "creation_date": 1426524030, "answer_id": 29082278, "question_id": 29082178, "link": "https://stackoverflow.com/questions/29082178/replace-all-hyphens-at-the-end-of-line-by/29082278#29082278", "title": "Replace all hyphens at the end of line by &#39;?&#39;", "body": "<p>You can use <code>perl</code>:</p>\n\n<pre><code>perl -pe 's/\\G-|-(?=-*$)/?/g'\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>cat file\n\n??????FGJFG----HULKJ----LKHJ???????\n???JKLJLK-----UIOUOPPOIPIPIPOPIP???\nGGJKHKLJK----------JKLHKLJLKJLKJLKJ\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38004, "user_id": 2341847, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/1HdBS.png?s=128&g=1", "display_name": "Jotne", "link": "https://stackoverflow.com/users/2341847/jotne"}, "is_accepted": false, "score": 0, "last_activity_date": 1426524332, "creation_date": 1426524332, "answer_id": 29082381, "question_id": 29082178, "link": "https://stackoverflow.com/questions/29082178/replace-all-hyphens-at-the-end-of-line-by/29082381#29082381", "title": "Replace all hyphens at the end of line by &#39;?&#39;", "body": "<p>Here is an <code>awk</code></p>\n\n<pre><code>awk -F\"[^-]\" '{a=b=\"\";for (i=1;i&lt;=length($1);i++) a=\"?\"a;sub(/^-+/,a);for (i=1;i&lt;=length($NF);i++) b=\"?\"b;sub(/-+$/,b)}1' file\n??????FGJFG----HULKJ----LKHJ???????\n???JKLJLK-----UIOUOPPOIPIPIPOPIP???\nGGJKHKLJK----------JKLHKLJLKJLKJLKJ\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1426528845, "post_id": 29082468, "comment_id": 46400611, "body": "Why you people attacking me only? What&#39;s wrong with the above regex? I love to hear from you."}], "tags": [], "owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1426525620, "last_edit_date": 1426525620, "creation_date": 1426524570, "answer_id": 29082468, "question_id": 29082178, "link": "https://stackoverflow.com/questions/29082178/replace-all-hyphens-at-the-end-of-line-by/29082468#29082468", "title": "Replace all hyphens at the end of line by &#39;?&#39;", "body": "<p>Through Perl.</p>\n\n<pre><code>$ perl -pe 's/(?&lt;=[^-])-+(?=[^-\\n])(*SKIP)(*F)|-/?/g' file\n??????FGJFG----HULKJ----LKHJ???????\n\n???JKLJLK-----UIOUOPPOIPIPIPOPIP???\n\nGGJKHKLJK----------JKLHKLJLKJLKJLKJ\n</code></pre>\n\n<p><code>(?&lt;=[^-])-+(?=[^-\\n])</code> matches all the hyphens which are at the middle.  <code>(*SKIP)(*F)</code> makes the match to fail and <code>-</code> after <code>|</code> will match all the hyphens from the remaining string. </p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1426525270, "last_edit_date": 1426525270, "creation_date": 1426524829, "answer_id": 29082549, "question_id": 29082178, "link": "https://stackoverflow.com/questions/29082178/replace-all-hyphens-at-the-end-of-line-by/29082549#29082549", "title": "Replace all hyphens at the end of line by &#39;?&#39;", "body": "<p>In Perl,</p>\n\n<pre><code>perl -pe 's/^(-+)/\"?\" x length($1)/e; s/(-+)$/\"?\" x length($1)/e' file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 0, "last_activity_date": 1426525918, "creation_date": 1426525918, "answer_id": 29082920, "question_id": 29082178, "link": "https://stackoverflow.com/questions/29082178/replace-all-hyphens-at-the-end-of-line-by/29082920#29082920", "title": "Replace all hyphens at the end of line by &#39;?&#39;", "body": "<p>The same looping mechanism that you're using for the leading dashes can be used for the trailing ones, with appropriate minor changes:</p>\n\n<pre><code>sed -i -e ':a;s/^\\(-*\\)-/\\1?/;ta' \\\n       -e ':b;s/-\\(-*\\)$/?\\1/;tb' file\n</code></pre>\n\n<p>Note that this assumes GNU <code>sed</code> on several grounds; you have to do things a bit differently with the BSD (Mac OS X) version of <code>sed</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1426527266, "creation_date": 1426527266, "answer_id": 29083342, "question_id": 29082178, "link": "https://stackoverflow.com/questions/29082178/replace-all-hyphens-at-the-end-of-line-by/29083342#29083342", "title": "Replace all hyphens at the end of line by &#39;?&#39;", "body": "<p>This one-line Perl program will do as you ask</p>\n\n<pre><code>perl -pe 's/(?|^(\\-+)|(\\-+)$)/$1=~tr|-|?|r/eg' myfile.txt\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4677201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23b98ae6cb02d7017d1f69425f461971?s=128&d=identicon&r=PG&f=1", "display_name": "user4677201", "link": "https://stackoverflow.com/users/4677201/user4677201"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 6, "score": -1, "last_activity_date": 1426527266, "creation_date": 1426523730, "last_edit_date": 1426526032, "question_id": 29082178, "link": "https://stackoverflow.com/questions/29082178/replace-all-hyphens-at-the-end-of-line-by", "title": "Replace all hyphens at the end of line by &#39;?&#39;", "body": "<p>I have following file:</p>\n\n<pre><code>------FGJFG----HULKJ----LKHJ-------\n---JKLJLK-----UIOUOPPOIPIPIPOPIP---\nGGJKHKLJK----------JKLHKLJLKJLKJLKJ\n</code></pre>\n\n<p>and I want this:</p>\n\n<pre><code>??????FGJFG----HULKJ----LKHJ???????\n???JKLJLK-----UIOUOPPOIPIPIPOPIP???\nGGJKHKLJK----------JKLHKLJLKJLKJLKJ\n</code></pre>\n\n<p>i.e., I want to replace all leading and tailing '<code>-</code>' by the same number of '<code>?</code>', but not the '<code>-</code>' between letters</p>\n\n<p>I know how to do this for leading:</p>\n\n<pre><code>sed -i ':a;s/^\\(-*\\)-/\\1?/;ta' file\n</code></pre>\n\n<p>but how can I modify the command to replace '<code>-</code>' at the end of lines?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1426523797, "post_id": 29082025, "comment_id": 46397293, "body": "How did you create this data structure in the first place? It&#39;s far from ideal for creating XML data, and looks like something that <code>XML::Simple</code> would create. For instance, there&#39;s no way of knowing the names of the elements inside <code>groups</code> and <code>users</code>. And where do the names <code>map</code> and <code>item</code> come from?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426524034, "post_id": 29082025, "comment_id": 46397464, "body": "I think you&#39;ll get something like that from parsing JSON - JSON has arrays in it, where XML doesn&#39;t."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426524191, "post_id": 29082025, "comment_id": 46397571, "body": "@Sobrique: But <code>XML::Simple</code> creates stuff like that :)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426524382, "post_id": 29082025, "comment_id": 46397698, "body": "Another reason not to like <code>XML::Simple</code> then :)"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426523903, "post_id": 29082192, "comment_id": 46397364, "body": "That would create the correct XML, sure, but I think the OP is looking for a <i>generic</i> way of converting a Perl data structure to XML. You may as well just type in the XML instead of typing code to create it."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426524006, "post_id": 29082192, "comment_id": 46397445, "body": "I&#39;d read it as a fairly large data structure, which&#39;d need to be iterated to make some XML, rather than typing it all by hand. If it&#39;s just smooshing ... something from JSON (maybe?) into XML, that&#39;s altogether more complicated."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1426524089, "post_id": 29082192, "comment_id": 46397501, "body": "Then we agree. But your code doesn&#39;t make any use of the OP&#39;s data structure. As I commented above, there&#39;s no way to get the tag names <code>map</code>, <code>item</code>, <code>user</code> or <code>group</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426524949, "post_id": 29082192, "comment_id": 46398100, "body": "Hmm, yes. You have to make certain assumptions. &#39;user&#39; and &#39;group&#39; you can perhaps fudge because of plurals, but ..."}, {"owner": {"reputation": 5, "user_id": 1421774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb4fc280d9afbfeeec8142f813c4ecf?s=128&d=identicon&r=PG", "display_name": "Mohammad Sajid Anwar", "link": "https://stackoverflow.com/users/1421774/mohammad-sajid-anwar"}, "edited": false, "score": 0, "creation_date": 1426525585, "post_id": 29082192, "comment_id": 46398534, "body": "Thanks Sobrique for your solution, much appreciated."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426525643, "post_id": 29082192, "comment_id": 46398580, "body": "It&#39;s not particularly complete, but hopefully it gives you a suitable start point?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1426525583, "last_edit_date": 1495542136, "creation_date": 1426523763, "answer_id": 29082192, "question_id": 29082025, "link": "https://stackoverflow.com/questions/29082025/perl-data-structure-to-xml/29082192#29082192", "title": "Perl data structure to xml", "body": "<p>Yes, wise choice. <a href=\"http://search.cpan.org/~grantm/XML-Simple-2.20/lib/XML/Simple.pm\" rel=\"nofollow noreferrer\"><code>XML::Simple</code></a> ... isn't. It's <em>for</em> simple XML. </p>\n\n<p>As noted in the comments though - your data is a little ambiguous - specifically, how do you tell what the elements should be called within 'groups' or 'users'. </p>\n\n<p>This looks like you might have parsed some JSON. (Indeed, you can turn it straight back into JSON:</p>\n\n<pre><code>print to_json ( $data, { pretty =&gt; 1 } );\n</code></pre>\n\n<p>The core problem is - where JSON supports arrays, XML does not. So there's really very little you could do that will <em>directly</em> turn your data structure into XML. </p>\n\n<p>However if you don't mind doing a bit of work yourself:</p>\n\n<p>Here's how you assemble some XML using <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.48/Twig.pm\" rel=\"nofollow noreferrer\"><code>XML::Twig</code></a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/29009370/assembling-xml-in-perl/29009769#29009769\">Assembling XML in Perl</a></p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;new( 'pretty_print' =&gt; 'indented' );\n$twig-&gt;set_root( \n    XML::Twig::Elt-&gt;new(\n        'map',\n    )\n);\nmy $item = $twig-&gt;root-&gt;insert_new_elt('item', { 'id' =&gt; 1, 'name' =&gt; 'A' } );\nmy $users = $item -&gt;insert_new_elt( 'users' );\n   $users -&gt; insert_new_elt ( 'user', { 'id' =&gt; 1, 'name' =&gt; 'u1' } );\n   $users -&gt; insert_new_elt ( 'user', { 'id' =&gt; 2, 'name' =&gt; 'u2' } );\n\nmy $groups = $item -&gt; insert_new_elt ('last_child', 'groups');\n   $groups -&gt; insert_new_elt ( 'group', { 'id' =&gt; 1, 'name' =&gt; 'g1' } );\n\n$twig-&gt;set_xml_version(\"1.0\");\n$twig-&gt;set_encoding('utf-8');\n\n$twig-&gt;print;\n</code></pre>\n\n<p>Which prints:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;map&gt;\n  &lt;item id=\"1\" name=\"A\"&gt;\n    &lt;users&gt;\n      &lt;user id=\"2\" name=\"u2\"/&gt;\n      &lt;user id=\"1\" name=\"u1\"/&gt;\n    &lt;/users&gt;\n    &lt;groups&gt;\n      &lt;group id=\"1\" name=\"g1\"/&gt;\n    &lt;/groups&gt;\n  &lt;/item&gt;\n&lt;/map&gt;\n</code></pre>\n\n<p>Iterating your data structure is left as an exercise for the reader.</p>\n\n<p>As Borodin correctly notes - you have no way to infer <code>map</code> <code>item</code> <code>group</code> or <code>user</code> from your data structure. The latter two you can <em>perhaps</em> infer based on plurals, but given your data set, the best I can come up with is something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $data = {\n    id    =&gt; 1,\n    name  =&gt; \"A\",\n    users =&gt; [ { id =&gt; 1, name =&gt; \"u1\" }, { id =&gt; 2, name =&gt; \"u2\" } ],\n    groups =&gt; [ { id =&gt; 1, name =&gt; \"g1\" } ]\n};\n\n\nmy $twig = XML::Twig-&gt;new( 'pretty_print' =&gt; 'indented' );\n$twig-&gt;set_root( XML::Twig::Elt-&gt;new( 'map', ) );\n\nmy $item = $twig-&gt;root-&gt;insert_new_elt('item');\nforeach my $key ( keys %$data ) {\n    if ( not ref $data-&gt;{$key} ) {\n        $item-&gt;set_att( $key, $data-&gt;{$key} );\n        next;\n    }\n    if ( ref( $data-&gt;{$key} ) eq \"ARRAY\" ) {\n        my $fakearray = $item-&gt;insert_new_elt($key);\n        foreach my $element ( @{ $data-&gt;{$key} } ) {\n            my $name = $key;\n               $name =~ s/s$//g;\n            $fakearray-&gt;insert_new_elt( $name, $element );\n        }\n        next;\n    }\n    if ( ref ( $data -&gt; {$key} ) eq \"HASH\" ) { \n        $item -&gt; insert_new_elt( $key, $data -&gt; {$key} );\n        next;\n    }\n}\n\n$twig-&gt;set_xml_version(\"1.0\");\n$twig-&gt;set_encoding('utf-8');\n\n$twig-&gt;print;\n</code></pre>\n\n<p>This isn't ideal because - <code>map</code> is hardcoded, as is <code>item</code>. And I take the very simplistic approach of assuming the array has an <code>s</code> on the end, to pluralise it. </p>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 1421774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb4fc280d9afbfeeec8142f813c4ecf?s=128&d=identicon&r=PG", "display_name": "Mohammad Sajid Anwar", "link": "https://stackoverflow.com/users/1421774/mohammad-sajid-anwar"}, "edited": false, "score": 0, "creation_date": 1426525667, "post_id": 29082702, "comment_id": 46398593, "body": "Thanks for your solution, David, as always."}], "tags": [], "owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1426525276, "creation_date": 1426525276, "answer_id": 29082702, "question_id": 29082025, "link": "https://stackoverflow.com/questions/29082025/perl-data-structure-to-xml/29082702#29082702", "title": "Perl data structure to xml", "body": "<p>You can do it similarly to Sobrique's method but with less hardcoded strings, like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict; use warnings;\n\nuse XML::Twig;\n\nmy $data = {\n    id =&gt; 1,\n    name =&gt; \"A\",\n    users  =&gt; [ { id =&gt; 1, name =&gt; \"u1\" }, { id =&gt; 2, name =&gt; \"u2\" } ],\n    groups =&gt; [ { id =&gt; 1, name =&gt; \"g1\" } ]\n};\n\nsub array_to_elts {\n    my ( $root, $name, $arrayref ) = @_;\n    map { $root-&gt;insert_new_elt($name, $_) } @{ $arrayref };\n}\n\nmy $twig  = XML::Twig\n    -&gt;new()\n    -&gt;set_xml_version(\"1.0\")\n    -&gt;set_encoding('utf-8');\n\nmy $map = XML::Twig::Elt-&gt;new('map');\n$twig-&gt;set_root($map);\n\nmy $item  = $map-&gt;insert_new_elt(\n    'item',\n    { id =&gt; $data-&gt;{'id'}, name =&gt; $data-&gt;{'name'} },\n);\n\nmy $lines = $item-&gt;insert_new_elt('groups');\nmy $links = $item-&gt;insert_new_elt('users' );\n\narray_to_elts($lines, 'group', $data-&gt;{'groups'});\narray_to_elts($links, 'user',  $data-&gt;{'users' });\n\n$twig-&gt;set_pretty_print('indented');\n$twig-&gt;print;\n</code></pre>\n\n<p>You could go to extreme lengths to reduce the hardcoded vals and base more off the raw data, but it quickly gets harder to read..</p>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 1421774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb4fc280d9afbfeeec8142f813c4ecf?s=128&d=identicon&r=PG", "display_name": "Mohammad Sajid Anwar", "link": "https://stackoverflow.com/users/1421774/mohammad-sajid-anwar"}, "edited": false, "score": 0, "creation_date": 1426525638, "post_id": 29082712, "comment_id": 46398576, "body": "Thanks for your solution, Choroba. I must say this looks hardcore."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 5, "user_id": 1421774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb4fc280d9afbfeeec8142f813c4ecf?s=128&d=identicon&r=PG", "display_name": "Mohammad Sajid Anwar", "link": "https://stackoverflow.com/users/1421774/mohammad-sajid-anwar"}, "edited": false, "score": 0, "creation_date": 1426525851, "post_id": 29082712, "comment_id": 46398723, "body": "@MohammadSajidAnwar: XML is hardcore :-)"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1426525299, "creation_date": 1426525299, "answer_id": 29082712, "question_id": 29082025, "link": "https://stackoverflow.com/questions/29082025/perl-data-structure-to-xml/29082712#29082712", "title": "Perl data structure to xml", "body": "<p>\"Generic\" way using <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a>. You might need to add new code to the \"else\" part to handle other types of structures.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse XML::LibXML;\n\nmy $data = {\n            id     =&gt; 1,\n            name   =&gt; \"A\",\n            users  =&gt; [ { id =&gt; 1, name =&gt; \"u1\" },\n                        { id =&gt; 2, name =&gt; \"u2\" } ],\n            groups =&gt; [ { id =&gt; 1, name =&gt; \"g1\" } ],\n           };\n\nsub to_xml {\n    my ($data, $xml) = @_;\n    for my $entry (keys %$data) {\n        my $ref = ref $data-&gt;{$entry};\n        if (not $ref) {\n            $xml-&gt;setAttribute($entry, $data-&gt;{$entry});\n\n        } elsif ('ARRAY' eq $ref) {\n            (my $name = $entry) =~ s/s$// or die \"Can't guess the element name.\\n\";\n            my $list = $xml-&gt;addNewChild(q(), $entry);\n            for my $inner (@{ $data-&gt;{$entry} }) {\n                to_xml($inner, $list-&gt;addNewChild(q(), $name));\n            }\n\n        } else {\n            die \"Unhandled structure $ref.\\n\";\n        }\n    }\n}\n\nmy $xml = 'XML::LibXML::Document'-&gt;createDocument;\nmy $root = $xml-&gt;createElement('map');\n$xml-&gt;setDocumentElement($root);\nfor my $entry ($data) {\n    my $item = $root-&gt;addNewChild(q(), 'item');\n    to_xml($entry, $item);\n}\n\nprint $xml;\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 1421774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb4fc280d9afbfeeec8142f813c4ecf?s=128&d=identicon&r=PG", "display_name": "Mohammad Sajid Anwar", "link": "https://stackoverflow.com/users/1421774/mohammad-sajid-anwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "accepted_answer_id": 29082192, "answer_count": 3, "score": 0, "last_activity_date": 1426526994, "creation_date": 1426523335, "question_id": 29082025, "link": "https://stackoverflow.com/questions/29082025/perl-data-structure-to-xml", "title": "Perl data structure to xml", "body": "<p>I have got perl data something like below:</p>\n\n<pre><code>$data = {\n   id =&gt; 1,\n   name =&gt; \"A\",\n   users  =&gt; [ { id =&gt; 1, name =&gt; \"u1\" }, { id =&gt; 2, name =&gt; \"u2\" } ],\n   groups =&gt; [ { id =&gt; 1, name =&gt; \"g1\" } ]\n};\n</code></pre>\n\n<p>I would like to convert this into an xml something like below:</p>\n\n<pre><code>&lt;map&gt;\n  &lt;item id=\"1\" name=\"A\"&gt;\n     &lt;users&gt;\n        &lt;user id=\"1\" name=\"u1\"/&gt;\n        &lt;user id=\"2\" name=\"u2\"/&gt; \n     &lt;/users&gt;\n     &lt;groups&gt;\n        &lt;group id=\"1\" name=\"g1\"/&gt;\n     &lt;/groups&gt;         \n  &lt;/item&gt;\n&lt;/map&gt;\n</code></pre>\n\n<p>I could do that manually creating each line explicitly. However I am looking for any CPAN Module base solution.</p>\n\n<p>I tried XML::Twig but didn't go anywhere. I have used XML::Simple in the past for such thing but this time wanted to try something else as XML::Simple has been getting bad reviews.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1426521642, "post_id": 29081334, "comment_id": 46395901, "body": "Can you describe what each version is intended to do, and provide some sample inputs and outputs?"}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 1, "creation_date": 1426521664, "post_id": 29081334, "comment_id": 46395922, "body": "<code>just one minute better on 74MM records</code> - How long does the first subroutine take?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1426522032, "post_id": 29081334, "comment_id": 46396158, "body": "Also, note <code>perl -E &#39;$x = 1234; substr($x, -2, 0, &quot;.&quot;); say $x&#39;</code> ... I am not sure your comment is needed."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426522161, "post_id": 29081334, "comment_id": 46396234, "body": "Why are you &quot;inserting a decimal&quot; instead of just dividing by a multiple of 10 if the value is an int?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1426522334, "post_id": 29081334, "comment_id": 46396333, "body": "@ThisSuitIsBlackNot Maybe a healthy desire to avoid any kind of floating point arithmetic."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1426522533, "post_id": 29081334, "comment_id": 46396474, "body": "@Sinan&#220;n&#252;r That makes sense. It just seems odd to write a roundabout division function and expect it to perform well."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1426522740, "post_id": 29081334, "comment_id": 46396607, "body": "Please describe in English what your subroutine is supposed to do (including edge cases)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1426523287, "post_id": 29081334, "comment_id": 46396949, "body": "<i>&quot;a run of some 74mm records&quot;</i> Those are short records \u2014 just under three inches"}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1426533763, "post_id": 29081334, "comment_id": 46403225, "body": "@ysth - I prefer interpretive dance."}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1434376424, "post_id": 29081334, "comment_id": 49737560, "body": "This said <code>insertDecimal</code> is just a helper routine, part of working on a 74-million-line fix-record file. The overall goal is to parse desired fields to a CSV file. My overall goal was/is to speed up the task (which was taking some 105 minutes [and now is down to 30 and could be faster the more CPU&#39;s the machine has <i>(yes threaded!)</i>)"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1434376842, "post_id": 29081334, "comment_id": 49737852, "body": "In this question, I simply wanted to focus on <code>insertDecimal</code>, Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1426533730, "post_id": 29081479, "comment_id": 46403209, "body": "gah? Am I dense, or is that a typo?"}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 1, "creation_date": 1426538405, "post_id": 29081479, "comment_id": 46405919, "body": "Okay. You scared me for a minute. :-)"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1434379049, "post_id": 29081479, "comment_id": 49739500, "body": "I wonder if both routines <i>indeed</i> do essentially the <i>same</i> amount of work? They do the same <i>thing</i>, but to me it seemed that the first does more weight lifting (with the 2 <code>substr</code> calls). Also, please explain why you think <i>moving the length check ahead of the check for the decimal point</i> would help to optimize (considering that in most cases this routine would run all the way)?"}, {"owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "edited": false, "score": 0, "creation_date": 1434379260, "post_id": 29081479, "comment_id": 49739661, "body": "And yes I agree the ugly alternative, is hmm, well, ugly :) However, it does show your TIMTOWTDI skills! However, I don&#39;t see why that would improve performance considering that <code>([^.]{$n})</code> of the regex needs to be recompiled with each <code>gah</code> call?"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1426524187, "last_edit_date": 1426524187, "creation_date": 1426521834, "answer_id": 29081479, "question_id": 29081334, "link": "https://stackoverflow.com/questions/29081334/efficiently-inserting-a-decimal-in-perl-string/29081479#29081479", "title": "Efficiently inserting a decimal in perl string", "body": "<p>Both routines would seem to do essentially the same amount of work:</p>\n\n<ul>\n<li><p>scan <code>$number</code> for a single character (any compiler ought be able to reduce that regex match to an <code>index</code>)</p></li>\n<li><p>compare the length of <code>$number</code> to a limit</p></li>\n<li><p>possibly insert a single character somewhere within <code>$number</code></p></li>\n</ul>\n\n<p>Using lvalue <code>substr</code> (or, just taking advantage of the fourth argument to <code>substr</code>) may make the insertion a little more efficient, but, after all, things will have to be moved.</p>\n\n<p>To my eye, the biggest opportunity for optimization comes from moving the length check ahead of the check for the decimal point.</p>\n\n<p>I would be tempted to re-write your routine as</p>\n\n<pre><code>sub insertDecimal {\n    my ($number, $sigDigRight) = @_;\n\n    return $number if length($number) &lt; $sigDigRight;\n    return $number if index($number, '.') &gt;= 0;\n\n    substr($number, -$sigDigRight, 0, '.');\n\n    $number;\n}\n</code></pre>\n\n<p>I find simple decisions and short lines to be easier to understand. I do not think this should change the correctness of the function.</p>\n\n<p>An ugly alternative is:</p>\n\n<pre><code>sub gah {\n    my ($number, $sigDigRight) = @_;\n\n    my $n = length($number) - $sigDigRight;\n    return $number unless $n &gt; 0;\n\n    $number =~ s{\\A ([^.]{$n}) ([^.]+) \\z}{$1.$2}x;\n    $number;\n}\n</code></pre>\n\n<p>That combines the check for <code>.</code> with the replacement operation.</p>\n\n<p>Again, I cannot be certain this is correct wrt your spec, but it is something for you to explore.</p>\n\n<p>I probably would not opt for <code>gah</code> unless the improvement was more than 20% of something that took at least an hour or so. On my system, it slows down a simple example by 1,000%.</p>\n"}], "owner": {"reputation": 751, "user_id": 3299282, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/669a479b873fa683ddd20e4b03d6751d?s=128&d=identicon&r=PG&f=1", "display_name": "lzc", "link": "https://stackoverflow.com/users/3299282/lzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1426524187, "creation_date": 1426521442, "question_id": 29081334, "link": "https://stackoverflow.com/questions/29081334/efficiently-inserting-a-decimal-in-perl-string", "title": "Efficiently inserting a decimal in perl string", "body": "<p>I came across code:</p>\n\n<pre><code>sub insertDecimal\n{\n        my $number = shift;\n        my $sigDigRight = shift;\n\n        if ($number =~ /\\./) { return ($number); }\n        elsif (length $number &lt; $sigDigRight) { return ($number); }\n        else\n        {\n                my $leftSide = substr($number, 0, (length $number)-$sigDigRight);\n                my $rightSide = substr($number, (length $number)-$sigDigRight, );\n\n                return ($leftSide . \".\" . $rightSide);\n        }\n}\n</code></pre>\n\n<p>And I hoped to improve/re-write as:</p>\n\n<pre><code>sub insertDecimal\n{\n        my ($number, $sigDigRight) = @_;\n\n        return $number if index ($number, '.') != -1 or length $number &lt; $sigDigRight;\n\n        # YES! substr takes an LVALUE ... perldoc it for more :)\n        substr($number, -$sigDigRight, 0) = '.';\n\n        return $number;\n}\n</code></pre>\n\n<p>I was very surprised that a run of some 74mm records had almost no improvement at all with 2nd version.</p>\n\n<p>Questions:</p>\n\n<ol>\n<li>Anyone to <em>overflow</em> with better way to make insertDecimal more efficient ?</li>\n<li>How come I see no improvement, at all (just one minute better on 74MM records) ?</li>\n<li>If Perl compiler is re-jiggering the code of the first version to be more efficient, is there anyway I can see the improved path to execution that Perl has chosen ?</li>\n</ol>\n"}, {"tags": ["arrays", "perl", "sorting"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1426519319, "last_edit_date": 1426519319, "creation_date": 1426518914, "answer_id": 29080379, "question_id": 29080216, "link": "https://stackoverflow.com/questions/29080216/sorting-array-in-perl/29080379#29080379", "title": "Sorting Array in Perl", "body": "<p>The first argument to <code>sort BLOCK LIST</code> is the block that compares two members of the list, not the way how to extract the things to compare. See <a href=\"http://p3rl.org/sort\" rel=\"nofollow\">sort</a>.</p>\n\n<pre><code>my @test = sort { $a-&gt;{item} cmp $b-&gt;{item} } @menu;\n</code></pre>\n\n<p><a href=\"http://p3rl.org/Sort::Key\" rel=\"nofollow\">Sort::Key</a> allows you to specify \"what to sort by\", not \"how to compare elements\".</p>\n\n<pre><code>use Sort::Key qw{ keysort };\n# ...\nmy @test = keysort { $_-&gt;{item} } @menu;\n</code></pre>\n\n<p>In your code without <a href=\"http://p3rl.org/strict\" rel=\"nofollow\">strict</a>, the string <code>\"item\"</code> is used to compare the elements, which doesn't really change the order in any way. What you see in the output is the representation of the members of the array, i.e. hash references. If you want to see the items only, use</p>\n\n<pre><code>for (@test) {\n    print $_-&gt;{item}, \"\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1426518927, "creation_date": 1426518927, "answer_id": 29080387, "question_id": 29080216, "link": "https://stackoverflow.com/questions/29080216/sorting-array-in-perl/29080387#29080387", "title": "Sorting Array in Perl", "body": "<p>The contents of the curlies needs to be an expression that returns the whether the elements in <code>$a</code> should appear before the element in <code>$b</code> in the final result.</p>\n\n<p>The elements, in this case, are references to hashes. You want to compare the <code>item</code> element of those hashes, so</p>\n\n<pre><code>sort { $a-&gt;{item} cmp $b-&gt;{item} }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1426519565, "last_edit_date": 1426519565, "creation_date": 1426518978, "answer_id": 29080411, "question_id": 29080216, "link": "https://stackoverflow.com/questions/29080216/sorting-array-in-perl/29080411#29080411", "title": "Sorting Array in Perl", "body": "<p>Your <code>print $_</code> prints the string value of each hash reference, so you will get something like <code>HASH(0x1d33524)</code>. You need to print the fields of each hash that you're interested in.</p>\n\n<p>Also, you need a proper comparison expression inside the <code>sort</code> block. Just giving the name of a hash key won't do anything useful.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @menu = (\n  { item =&gt; 'Blazer', price =&gt; 100, color =&gt; 'Brown' },\n  { item =&gt; 'Jeans',  price =&gt; 50,  color =&gt; 'Blue' },\n  { item =&gt; 'Shawl',  price =&gt; 30,  color =&gt; 'Red' },\n  { item =&gt; 'Suit',   price =&gt; 40,  color =&gt; 'Black' },\n  { item =&gt; 'Top',    price =&gt; 25,  color =&gt; 'White' },\n);\n\nmy @test = sort { $a-&gt;{item} cmp $b-&gt;{item} } @menu;\n\nfor ( @test ) {\n  print \"@{$_}{qw/ item price color /}\\n\";\n}\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Blazer 100 Brown\nJeans 50 Blue\nShawl 30 Red\nSuit 40 Black\nTop 25 White\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>If all you want is a sorted list of the item field values then you can write this more simply</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @menu = (\n  { item =&gt; 'Blazer', price =&gt; 100, color =&gt; 'Brown' },\n  { item =&gt; 'Jeans',  price =&gt; 50,  color =&gt; 'Blue' },\n  { item =&gt; 'Shawl',  price =&gt; 30,  color =&gt; 'Red' },\n  { item =&gt; 'Suit',   price =&gt; 40,  color =&gt; 'Black' },\n  { item =&gt; 'Top',    price =&gt; 25,  color =&gt; 'White' },\n);\n\nmy @test = sort map { $_-&gt;{item} } @menu;\n\nprint \"$_\\n\" for @test;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Blazer\nJeans\nShawl\nSuit\nTop\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1426598928, "creation_date": 1426598928, "answer_id": 29100349, "question_id": 29080216, "link": "https://stackoverflow.com/questions/29080216/sorting-array-in-perl/29100349#29100349", "title": "Sorting Array in Perl", "body": "<p>See also <code>List::UtilsBy</code>:</p>\n\n<pre><code>use List::UtilsBy 'sort_by';\n\nmy @test = sort_by { $_-&gt;{item} } @menu;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 4672852, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8b69370523e93b55bd2d5d83e37e0ef3?s=128&d=identicon&r=PG&f=1", "display_name": "pubba", "link": "https://stackoverflow.com/users/4672852/pubba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 29080411, "answer_count": 4, "score": 1, "last_activity_date": 1426598928, "creation_date": 1426518427, "question_id": 29080216, "link": "https://stackoverflow.com/questions/29080216/sorting-array-in-perl", "title": "Sorting Array in Perl", "body": "<p>I thought I could do it the way that has been stated below. However when I sort it this way the output is the values in hexadecimal values, instead of the string pointing to \"item\" in the array @menu. What I want to achieve is to sort it by \"item-name\"</p>\n\n<pre><code>my @menu = (\n        { item =&gt; \"Blazer\", price =&gt; 100, color =&gt; \"Brown\" },\n        { item =&gt; \"Jeans\",  price =&gt; 50, color =&gt; \"Blue\" },\n        { item =&gt; \"Shawl\",  price =&gt; 30, color =&gt; \"Red\" },\n        { item =&gt; \"Suit\",   price =&gt; 40, color =&gt; \"Black\" },\n        { item =&gt; \"Top\",    price =&gt; 25, color =&gt; \"White\" },\n    );    \n\n    my @test = sort {item } @menu;\n\n    foreach (@test){\n    print $_;\n\n    }\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1426518071, "post_id": 29079733, "comment_id": 46393296, "body": "<a href=\"http://p3rl.org/perlre\" rel=\"nofollow noreferrer\">perlre</a>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1426518330, "post_id": 29079733, "comment_id": 46393471, "body": "<a href=\"http://www.nu42.com/2010/09/explain-this-regex-to-me.html\" rel=\"nofollow noreferrer\">Explain this regex to me</a>."}, {"owner": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426607639, "post_id": 29079733, "comment_id": 46437401, "body": "Thanks a lot everybody. I have another question related to same     =~/(?&lt;![\\w.])($val)(?![\\w.])/gi).  i am trying to match value of $val in target string. i have noticed a new problem. if $val is xxx. and is to be replaced by YY then the regex is picking every xxx@. where @ means any character and not just &quot;.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426522455, "post_id": 29080178, "comment_id": 46396417, "body": "I have difficulty understanding how are these working    &quot;?&lt;!&quot;       &quot;?!&quot;"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426522805, "post_id": 29080178, "comment_id": 46396655, "body": "@Tanumoy: The former one is &quot;negative lookbehind&quot;, i.e. it means &quot;is not preceded by <code>[\\w.]</code>, which is a character class composed of word characters and dot. The latter one is similar for &quot;is not followed&quot;."}, {"owner": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426523557, "post_id": 29080178, "comment_id": 46397114, "body": "please correct me if i am wrong. so what i understand is value of $val will not preceded by [0-9a-zA-Z] and a dot. wondering why is the dot there ?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426523683, "post_id": 29080178, "comment_id": 46397202, "body": "@Tanumoy: Very hard to guess without context. What does the script do? Does the regex check a filename, version, or something else?"}, {"owner": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426525633, "post_id": 29080178, "comment_id": 46398573, "body": "i got your point grt ! wondering if you could guide me with the regex where i can make the first letter of every word in a statement upper case and rest of the letters as lower case."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426525887, "post_id": 29080178, "comment_id": 46398743, "body": "@Tanumoy: It&#39;s better to start a new question."}, {"owner": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426526049, "post_id": 29080178, "comment_id": 46398858, "body": "i am not being allowed to ask another question. the website is asking me to wait for 3 days."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1426518712, "last_edit_date": 1426518712, "creation_date": 1426518341, "answer_id": 29080178, "question_id": 29079733, "link": "https://stackoverflow.com/questions/29079733/perl-decoding-regex/29080178#29080178", "title": "Perl : Decoding Regex", "body": "<p>The regex seems to search for <code>$val</code> (i.e. string that matches the contents of the variable <code>$val</code>) <strong>not</strong> surrounded by word characters or dots.</p>\n\n<p>Putting <code>$val</code> into parentheses remembers the corresponding matched part in <code>$1</code>.</p>\n\n<p>See <a href=\"http://p3rl.org/perlre\" rel=\"nofollow\">perlre</a> for details.</p>\n\n<p>Note that <code>=~</code> is not part of the regex, it's the \"binding operator\".</p>\n\n<p>Similarly, <code>gi)</code> is part of something bigger. <code>g</code> means the matching happens <em>globally</em>, which has different effects based on the <em>context</em> the matching occurs in, and <code>i</code> makes the match case insensitive (which could only influence $val here). The whole expression was in parentheses, probably, but we can't see the opening one.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426607711, "post_id": 29080696, "comment_id": 46437475, "body": "Thanks a lot everybody. I have another question related to same =~/(?&lt;![\\w.])($val)(?![\\w.])/gi). i am trying to match value of $val in target string. i have noticed a new problem. if $val is xxx.  and is to be replaced by YY then the regex is picking every xxx@. where @ means any character and not just &quot;.&quot; And i am sorry but cant remove the &quot;.&quot; or any other nonalphanumeric character that comes in $val. requesting for help."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426608267, "post_id": 29080696, "comment_id": 46437942, "body": "If <code>$val</code> isn&#39;t a regex pattern, but text you want to match, you&#39;ll need to convert it to a regex pattern. <code>&#47;(?&lt;![\\w.])(\\Q$val\\E)(?![\\w.])&#47;gi</code>"}, {"owner": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "edited": false, "score": 0, "creation_date": 1426612337, "post_id": 29080696, "comment_id": 46440867, "body": "Thanks a ton ikegami :)  sorry i know we are not to waste words in this portal. But i seriously wanted to show my appreciation."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1426519727, "creation_date": 1426519727, "answer_id": 29080696, "question_id": 29079733, "link": "https://stackoverflow.com/questions/29079733/perl-decoding-regex/29080696#29080696", "title": "Perl : Decoding Regex", "body": "<p>Read <code>(?&lt;!PAT)</code> as \"not immediately preceded by text matching <code>PAT</code>\".</p>\n\n<p>Read <code>(?!PAT)</code> as \"not immediately followed by text matching <code>PAT</code>\".</p>\n"}, {"tags": [], "owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "is_accepted": false, "score": 0, "last_activity_date": 1426520061, "creation_date": 1426520061, "answer_id": 29080826, "question_id": 29079733, "link": "https://stackoverflow.com/questions/29079733/perl-decoding-regex/29080826#29080826", "title": "Perl : Decoding Regex", "body": "<p>I use these sites to help with testing and learning and decoding regex: </p>\n\n<p><a href=\"https://regex101.com/\" rel=\"nofollow\">https://regex101.com/</a>: This one dissects and explains the expression the best IMO. </p>\n\n<p><a href=\"http://www.regexr.com/\" rel=\"nofollow\">http://www.regexr.com/</a></p>\n"}, {"tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": false, "score": 0, "last_activity_date": 1426549717, "creation_date": 1426549717, "answer_id": 29088948, "question_id": 29079733, "link": "https://stackoverflow.com/questions/29079733/perl-decoding-regex/29088948#29088948", "title": "Perl : Decoding Regex", "body": "<p>define $val then watch the regex engine work with <a href=\"https://metacpan.org/pod/rxrx\" rel=\"nofollow\">rxrx</a> - command-line REPL and wrapper for Regexp::Debugger</p>\n\n<p>it shows output like this but in color</p>\n\n<pre><code>            Matched\n            |\n            VVV\n/(?&lt;![\\w.])(dog)(?![\\w.])/\n\n\n                                            |\n                                            V\n'The quick brown fox jumps over the lazy dog'\n                                         ^^^\n\n[Visual of regex at 'rxrx' line 0]         [step: 189]\n</code></pre>\n\n<p>It also gives descriptions like this</p>\n\n<pre><code>(?&lt;!              #    Match negative lookbehind\n  [\\w.]           #      Match any of the listed characters\n)                 #    The end of negative lookbehind\n(                 #    The start of a capturing block ($1)\n  dog             #      Match a literal sequence (\"dog\")\n)                 #    The end of $1\n(?!               #    Match negative lookahead\n  [\\w.]           #      Match any of the listed characters\n)                 #    The end of negative lookahead\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4602171, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d5076e27abea7b06355f7475fae9d133?s=128&d=identicon&r=PG&f=1", "display_name": "Tanumoy", "link": "https://stackoverflow.com/users/4602171/tanumoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 29080178, "answer_count": 4, "score": 0, "last_activity_date": 1426549717, "creation_date": 1426517189, "last_edit_date": 1426518043, "question_id": 29079733, "link": "https://stackoverflow.com/questions/29079733/perl-decoding-regex", "title": "Perl : Decoding Regex", "body": "<p>I would highly appreciate if somebody could help me understand the following.</p>\n\n<pre><code>=~/(?&lt;![\\w.])($val)(?![\\w.])/gi)\n</code></pre>\n\n<p>This what i picked up but i dont understand this.</p>\n\n<p>Lookaround: <code>(?=a)</code> for a lookahead, <code>?!</code> for negative lookahead, or <code>?&lt;=</code> and <code>?&lt;!</code> for lookbehinds (positive and negative, respectively).</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426517369, "post_id": 29079677, "comment_id": 46392786, "body": "<i>&quot; if found any common, the assign the common value to both elements&quot;</i> So the value of the first two elements of the result is always the same?"}], "answers": [{"tags": [], "owner": {"reputation": 940, "user_id": 4537473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdbe6f3dfecb0d497779d656c944ac3?s=128&d=identicon&r=PG", "display_name": "David K-J", "link": "https://stackoverflow.com/users/4537473/david-k-j"}, "is_accepted": true, "score": 0, "last_activity_date": 1426517492, "creation_date": 1426517492, "answer_id": 29079851, "question_id": 29079677, "link": "https://stackoverflow.com/questions/29079677/perl-data-process/29079851#29079851", "title": "Perl data process", "body": "<p>It sounds like you want to calculate some kind of intersection of your data points?\nI would do something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict; use warnings;\nuse autodie;\n\nuse Data::Dumper;\n\nmy @data = (\n    [qw(x y)],\n    [qw(x)  ],\n    [qw(x z)],\n    [qw(z)  ],\n);\n\nsub intersect {\n    my ($a, $b) = @_;\n\n    my $union = {};\n    my $isect = {};\n\n    foreach my $e (@$a, @$b) {\n        $union-&gt;{$e}++ &amp;&amp; $isect-&gt;{$e}++;\n    }\n\n    return keys %$isect;\n}\n\nmy @result = ();\n\nfor my $i (0..$#data - 1) {\n    my @intersection = intersect($data[$i], $data[$i+1]);\n\n    if (scalar @intersection) {\n        my $isect = shift @intersection;\n\n        if ($i == 0) {\n            push @result, $isect;\n        }\n\n        push @result, $isect;\n    }\n    else {\n        die sprintf(\"Data points do not intersect at position %d\", $i+1);\n    }\n}\n\nprint Dumper \\@result;\n</code></pre>\n\n<p>Running this script gives me the following output:</p>\n\n<pre><code>$ ./intersection.pl \n$VAR1 = [\n          'x',\n          'x',\n          'x',\n          'z'\n        ];\n</code></pre>\n\n<p>Hope this helps.</p>\n\n<p>Another <code>intersect</code> method is also available in the <code>Array::Utils</code> package on CPAN.</p>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 1421774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb4fc280d9afbfeeec8142f813c4ecf?s=128&d=identicon&r=PG", "display_name": "Mohammad Sajid Anwar", "link": "https://stackoverflow.com/users/1421774/mohammad-sajid-anwar"}, "edited": false, "score": 0, "creation_date": 1426518338, "post_id": 29080052, "comment_id": 46393481, "body": "Thanks for your solution. Slightly different approach to David Kitcher-Jones answer."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1426520848, "post_id": 29080052, "comment_id": 46395303, "body": "You&#39;re creating most of the hashes twice."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1426518604, "last_edit_date": 1426518604, "creation_date": 1426517967, "answer_id": 29080052, "question_id": 29079677, "link": "https://stackoverflow.com/questions/29079677/perl-data-process/29080052#29080052", "title": "Perl data process", "body": "<p>This is easily done using the <code>intersect</code> function from the <a href=\"https://metacpan.org/module/Array::Utils\" rel=\"nofollow\"><code>Array::Utils</code></a> module. It may need installing as it isn't a core module.</p>\n\n<p>I'm not certain that I have your specification correctly. You are syaing that you want common elements between the first two list added <em>twice</em>. Is that right? And you don't say what happens if you have more than one common item between any pair of lists. This solution just adds the first one.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Array::Utils 'intersect';\n\nmy $data = [ ['x', 'y'], ['x'], ['x', 'z'], ['z'] ];\n\nmy @result;\n\nfor my $i ( 1 .. $#$data ) {\n  my @pair = @{$data}[$i-1, $i];\n  my @common = intersect(@{$pair[0]}, @{$pair[1]});\n  push @result, $common[0];\n  push @result, $common[0] if $i == 1;\n}\n\nprintf \"[ %s ]\\n\", join ', ', @result;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>[ x, x, x, z ]\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>If it is a problem for you to install the module then you can simply copy this subroutine definition to the end of the code, and remove the <code>use Array::Utils</code> statement.</p>\n\n<pre><code>sub intersect(\\@\\@) {\n  my %e = map { $_ =&gt; undef } @{$_[0]};\n  return grep { exists( $e{$_} ) } @{$_[1]};\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 1421774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb4fc280d9afbfeeec8142f813c4ecf?s=128&d=identicon&r=PG", "display_name": "Mohammad Sajid Anwar", "link": "https://stackoverflow.com/users/1421774/mohammad-sajid-anwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 29079851, "answer_count": 2, "score": 0, "last_activity_date": 1426521203, "creation_date": 1426517025, "question_id": 29079677, "link": "https://stackoverflow.com/questions/29079677/perl-data-process", "title": "Perl data process", "body": "<p>I have data something like below:</p>\n\n<pre><code>$data = [\n    [qw(x y)],\n    [qw(x)  ],\n    [qw(x z)],\n    [qw(z)  ], \n];\n</code></pre>\n\n<p>And I would like to convert this into something like below:</p>\n\n<pre><code> [ x, x, x, z ]\n</code></pre>\n\n<p>The rule is starting with first element, find the common element between the first two elements, if found any common, the assign the common value to both elements i.e. x. Now pick the second and third element, find if any common value between them then do the same and carry on until you reach the last element. if you find common value between the last two pairs then only assign it to the last element.</p>\n"}, {"tags": ["perl", "class-dbi"], "answers": [{"tags": [], "owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "is_accepted": true, "score": 3, "last_activity_date": 1426517265, "last_edit_date": 1426517265, "creation_date": 1426516953, "answer_id": 29079648, "question_id": 29079044, "link": "https://stackoverflow.com/questions/29079044/perl-classdbi-multiple-connections/29079648#29079648", "title": "Perl class::dbi - multiple connections", "body": "<p>The <code>Class::DBI</code> <a href=\"http://search.cpan.org/~tmtm/Class-DBI-v3.0.17/lib/Class/DBI.pm#Dynamic_Database_Connections_/_db_Main\" rel=\"nofollow\">docs</a> tell you to provide your own <code>db_Main()</code> method in lieu of using <code>connection()</code>. I believe this could return a standard DBI handle, but Class::DBI uses Ima::DBI internally. You could use a single class for this, but to mirror your pseudo code:</p>\n\n<pre><code>package MyClassLibAlias;\nuse base qw(MyClassLib);\n\nsub db_Main {\n    my $self = shift;        \n    my ($dsn, $username, $password) = ...;\n    return Ima::DBI-&gt;connect_cached($dsn, $username, $password);\n}\n</code></pre>\n\n<p>You'll likely want to reference the dsn, username and password using class attributes.</p>\n"}], "owner": {"reputation": 141, "user_id": 1991467, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/20aa997b61fce20d5f4b08896fccadc8?s=128&d=identicon&r=PG", "display_name": "James Hobson", "link": "https://stackoverflow.com/users/1991467/james-hobson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 29079648, "answer_count": 1, "score": 3, "last_activity_date": 1426517265, "creation_date": 1426515370, "question_id": 29079044, "link": "https://stackoverflow.com/questions/29079044/perl-classdbi-multiple-connections", "title": "Perl class::dbi - multiple connections", "body": "<p>I have a class library I have developed over the last few years that uses Perl's Class::DBI to wrap a relational database (the DB scheme for Prestashop, not that that matters)</p>\n\n<p>Is anyone aware of anyway in a single perl script to create multiple \"instances\" of this class, pointing to different database?  E.g. now I do something like:</p>\n\n<pre><code>use MyClassLib;\nMyClassLib-&gt;connection('dbi:mysql:mydatabase', 'username', 'password');\nMyClassLib-&gt;some_method()\n</code></pre>\n\n<p>All that works nicely.</p>\n\n<p>What I'm trying to do is essentially alias <code>MyClassLib</code> to be able to use another \"instance\" of it pointing at a different database.  Which is a pain as <code>Class::DBI</code> stores its database connection as static state.</p>\n\n<p>Something like this in pseudo code</p>\n\n<pre><code>use MyClassLib;\nuse MyClassLib as MyClassLibAlias;\nMyClassLib-&gt;connection('dbi:mysql:mydatabase', 'username', 'password');\nMyClassLibAlias-&gt;connection('dbi:mysql:mynewdatabase', 'username', 'password');\nMyClassLib-&gt;some_method()\n</code></pre>\n\n<p>And then from code access <code>MyClassLib</code> and <code>MyClassLibAlias</code>.  Im aware <code>Class::DBI</code> is legacy and a solution that uses <code>DBIx::Class</code> would also be appreciated if non exists for <code>Class::DBI</code></p>\n\n<p>Thanks</p>\n"}, {"tags": ["linux", "bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426514945, "post_id": 29078801, "comment_id": 46390993, "body": "If you add that then the XML data will be malformed."}, {"owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426514972, "post_id": 29078801, "comment_id": 46391012, "body": "I agree , but its works for me -:)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1426515024, "post_id": 29078801, "comment_id": 46391041, "body": "I don&#39;t think I want to help you create invalid XML!"}, {"owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426515294, "post_id": 29078801, "comment_id": 46391233, "body": "look , this xml I use is for testing and I have only line with  &lt;/Networks&gt; string , so this is the fact, and I dont see any problem here , I tested it more then 10 times"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426515491, "post_id": 29078801, "comment_id": 46391399, "body": "Whatever you tested it with is an incorrect implementation of the XML standards."}, {"owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426515546, "post_id": 29078801, "comment_id": 46391439, "body": "so if you say so , please explain what are the risks here ?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 2, "creation_date": 1426515984, "post_id": 29078801, "comment_id": 46391768, "body": "<a href=\"http://www.w3.org/TR/2006/REC-xml11-20060816/#sec-terminology\" rel=\"nofollow noreferrer\">By allowing this, your document is no longer XML</a>, so don&#39;t call it that. To read and write XML documents, use an XML library instead of regular expressions."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426519216, "post_id": 29078801, "comment_id": 46394090, "body": "XML is a widely accepted and well defined standard. The thing with standards are - they work best if everyone sticks to them. If you&#39;ve ever tried to parse HTML, you&#39;ll know there&#39;s a HORRIFIC number of edge cases, making it extremely difficult to parse."}], "answers": [{"comments": [{"owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "edited": false, "score": 0, "creation_date": 1426515850, "post_id": 29079002, "comment_id": 46391670, "body": "hope there is only 1 line in this multiline content (it will not work because sed need a <code>\\ </code> (without space) at the end of each line inserted by <code>a</code>, you need to change the content first) and it add it to every <code>&#47;&lt;Network&gt;</code>"}, {"owner": {"reputation": 871, "user_id": 2508466, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/UHx7w.jpg?s=128&g=1", "display_name": "yaccob", "link": "https://stackoverflow.com/users/2508466/yaccob"}, "reply_to_user": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "edited": false, "score": 0, "creation_date": 1426518960, "post_id": 29079002, "comment_id": 46393888, "body": "sed doesn&#39;t need a \\ at the end of each line inserted. It just needs a newline at the end of each inserted line."}], "tags": [], "owner": {"reputation": 871, "user_id": 2508466, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/UHx7w.jpg?s=128&g=1", "display_name": "yaccob", "link": "https://stackoverflow.com/users/2508466/yaccob"}, "is_accepted": false, "score": 1, "last_activity_date": 1426519996, "last_edit_date": 1426519996, "creation_date": 1426515258, "answer_id": 29079002, "question_id": 29078801, "link": "https://stackoverflow.com/questions/29078801/how-to-add-content-of-variable-after-word-in-xml-file/29079002#29079002", "title": "how to add content of variable after word in XML file", "body": "<pre><code>sed -e \"/&lt;Networks&gt;/a \\\n$ADD_XML\"\n</code></pre>\n\n<p>... adds the $ADD_XML after all occurrences of &lt;Networks&gt;.</p>\n\n<pre><code>sed -e \"1,/&lt;Networks&gt;/s@&lt;Networks&gt;@&amp;\\n$ADD_XML@\"\n</code></pre>\n\n<p>... does the trick for the first occurrence only. If $ADD_XML contains '@' characters you need to use a different character (one not used in $ADD_XML) or go for a more sophisticated solution as suggested by other answers. </p>\n"}, {"tags": [], "owner": {"reputation": 26087, "user_id": 1312406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5418f577abfa7c529dd026723462b440?s=128&d=identicon&r=PG", "display_name": "Paul Evans", "link": "https://stackoverflow.com/users/1312406/paul-evans"}, "is_accepted": false, "score": 1, "last_activity_date": 1426515272, "creation_date": 1426515272, "answer_id": 29079009, "question_id": 29078801, "link": "https://stackoverflow.com/questions/29078801/how-to-add-content-of-variable-after-word-in-xml-file/29079009#29079009", "title": "how to add content of variable after word in XML file", "body": "<p>You want something like the following <code>awk</code>:</p>\n\n<pre><code>    awk '$0 == \"&lt;Networks&gt;\"{print; print \"'$ADD_XML'\"}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "is_accepted": false, "score": 1, "last_activity_date": 1426516344, "creation_date": 1426516344, "answer_id": 29079416, "question_id": 29078801, "link": "https://stackoverflow.com/questions/29078801/how-to-add-content-of-variable-after-word-in-xml-file/29079416#29079416", "title": "how to add content of variable after word in XML file", "body": "<pre><code>echo \"${ADD_XML}\" &gt;/tmp/Add.XML\nsed '1,\\#&lt;/Networks&gt;# {\n        \\#&lt;/Networks&gt;# {\n           p\n           r /tmp/Add.XML\n           }\n        }\n    ' YourFile\nrm /tmp/Add.XML\n</code></pre>\n\n<ul>\n<li>use a temporary file and <code>r</code> sed action (read and write content of a file)</li>\n<li>sub part is to insert it only at 1st <code>Network</code></li>\n<li>just the <code>p</code> needed to print last line of  <code>Network</code> before insterting the file (r replace the output of the current [buffer] line)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 46858, "user_id": 967492, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/526ea226101e199d029049dda22a4e58?s=128&d=identicon&r=PG", "display_name": "potong", "link": "https://stackoverflow.com/users/967492/potong"}, "is_accepted": false, "score": 1, "last_activity_date": 1426517280, "last_edit_date": 1426517280, "creation_date": 1426516962, "answer_id": 29079653, "question_id": 29078801, "link": "https://stackoverflow.com/questions/29078801/how-to-add-content-of-variable-after-word-in-xml-file/29079653#29079653", "title": "how to add content of variable after word in XML file", "body": "<p>This might work for you (GNU sed &amp; bash):</p>\n\n<pre><code>sed '/&lt;Networks&gt;/r /dev/stdin' &lt;&lt;&lt;\"$ADD_XML\" file\n</code></pre>\n\n<p>This reads in the contents of <code>$ADD_XML</code> after <code>&lt;Networks&gt;</code> using the stdin as a file.</p>\n\n<p>If there are likely to be more than one <code>&lt;Network&gt;</code> tag use:</p>\n\n<pre><code>sed $'1,/&lt;Networks&gt;/{/&lt;Networks&gt;/r /dev/stdin\\n}' &lt;&lt;&lt;\"$ADD_XML\" file\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1426519605, "last_edit_date": 1495541389, "creation_date": 1426518879, "answer_id": 29080363, "question_id": 29078801, "link": "https://stackoverflow.com/questions/29078801/how-to-add-content-of-variable-after-word-in-xml-file/29080363#29080363", "title": "how to add content of variable after word in XML file", "body": "<p>I'll repeat what I said on <a href=\"https://unix.stackexchange.com/questions/190449/how-to-delete-line-from-the-xml-file/190460#190460\">\"Unix\"</a></p>\n\n<p>Don't do this. </p>\n\n<p>Parsing XML with regular expressions is messy and it breaks. There are many valid things you can do with XML that will screw up a regular expression. (The simplest and most obvious being - pretty-printing gives you valid XML, but will break a regular expression).  Likewise deliberately creating malformed XML is very nasty, and also prone to screwing up. </p>\n\n<p>See also: <a href=\"https://stackoverflow.com/questions/28909882/dealing-with-malformed-xml/28913945#28913945\">Dealing with malformed XML</a></p>\n\n<p>And: <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\">RegEx match open tags except XHTML self-contained tags</a></p>\n\n<p>So don't do it. Use a parser. </p>\n\n<p>Something like this should do what you need (If you can include a slightly bigger sample of source data, I can amend):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $xml_text = '&lt;XML&gt;\n&lt;Networks&gt;&lt;units&gt;&lt;unit ip=\"1.2.3.4\" /&gt;&lt;/units&gt;&lt;ranges/&gt;&lt;/Networks&gt;\n&lt;/XML&gt;';\n\nmy $original = XML::Twig-&gt;new( 'pretty_print' =&gt; 'indented' );\n#would probably use 'parsefile' instead here\n$original-&gt;parse($xml_text);\n\nprint \"\\nBefore:\\n\";\n$original-&gt;print;\n\n\n#read update:\n\nmy $to_insert =  XML::Twig-&gt;new -&gt; parse ( \\*DATA );\n\n#insert a new element into 'Networks':\nforeach my $unit ( $to_insert -&gt; root -&gt; children ) {\n    $unit -&gt; cut();\n    $unit -&gt; paste ( $original-&gt;root-&gt;first_child('Networks')-&gt;first_child('units') );\n}\n\n\nprint \"\\nAfter:\\n\";\n$original-&gt;print;\n\n\n__DATA__\n &lt;units&gt;\n &lt;unit ip=\"10.106.5.8\" unit_type=\"RECOGNIZE Discovery\"/&gt;\n &lt;unit ip=\"10.106.3.21\" unit_type=\"RECOGNIZE Discovery\"/&gt;\n &lt;unit ip=\"10.106.3.12\" unit_type=\"RECOGNIZE Discovery\"/&gt;\n &lt;unit ip=\"10.106.3.13\" unit_type=\"RECOGNIZE Discovery\"/&gt;  \n &lt;/units&gt;\n</code></pre>\n"}], "owner": {"reputation": 1422, "user_id": 2557854, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8ce7e2aeef8bef05414806fc18aae490?s=128&d=identicon&r=PG&f=1", "display_name": "maihabunash", "link": "https://stackoverflow.com/users/2557854/maihabunash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 29080363, "answer_count": 5, "score": -1, "last_activity_date": 1426519996, "creation_date": 1426514709, "question_id": 29078801, "link": "https://stackoverflow.com/questions/29078801/how-to-add-content-of-variable-after-word-in-xml-file", "title": "how to add content of variable after word in XML file", "body": "<p>ADD_XML variable include the following</p>\n\n<pre><code>echo \"$ADD_XML\"\n &lt;units&gt;\n &lt;unit ip=\"10.106.5.8\" unit_type=\"RECOGNIZE Discovery\"/&gt;\n &lt;unit ip=\"10.106.3.21\" unit_type=\"RECOGNIZE Discovery\"/&gt;\n &lt;unit ip=\"10.106.3.12\" unit_type=\"RECOGNIZE Discovery\"/&gt;\n &lt;unit ip=\"10.106.3.13\" unit_type=\"RECOGNIZE Discovery\"/&gt;\n &lt;/units&gt;\n &lt;ranges/&gt;\n &lt;/Networks&gt;\n</code></pre>\n\n<p>I want to add the content of $ADD_XML after the first:</p>\n\n<pre><code> &lt;Networks&gt; \n</code></pre>\n\n<p>in my XML file</p>\n\n<p>please advice how to implemented this by sed/awk or perl one liner line</p>\n\n<p>example how it shul be in the XML file</p>\n\n<pre><code> &lt;/Networks&gt;\n &lt;units&gt;\n &lt;unit ip=\"10.106.5.8\" unit_type=\"RECOGNIZE Discovery\"/&gt;\n &lt;unit ip=\"10.106.3.21\" unit_type=\"RECOGNIZE Discovery\"/&gt;\n &lt;unit ip=\"10.106.3.12\" unit_type=\"RECOGNIZE Discovery\"/&gt;\n &lt;unit ip=\"10.106.3.13\" unit_type=\"RECOGNIZE Discovery\"/&gt;\n &lt;/units&gt;\n &lt;ranges/&gt;\n  &lt;/Networks&gt;\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426512510, "post_id": 29077712, "comment_id": 46389302, "body": "Do you need the hash structure apart from for the renaming?"}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1426511908, "post_id": 29077747, "comment_id": 46388894, "body": "You can use <code>values</code> instead of <code>keys</code> as you don&#39;t need the keys for the operation."}, {"owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 0, "creation_date": 1426511951, "post_id": 29077747, "comment_id": 46388918, "body": "Worked like a charm! I&#39;m feeling dumb for not knowing stuff like this...but I know that as a new guy in programming I&#39;ll learn with time and practice!!  Thank you very much!"}, {"owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 0, "creation_date": 1426512207, "post_id": 29077747, "comment_id": 46389089, "body": "No.. I don&#39;t need to change in the disk! I need to put the INPUT= at the beginning because they will be part of source command where I need to put the <code>*.bam</code> file as <code>INPUT=*.bam</code> and so on."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426512239, "post_id": 29077747, "comment_id": 46389119, "body": "Ok. then ignore the second bit. You mentioned <code>rename</code> which would have changed the filenames in that way :)"}, {"owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 0, "creation_date": 1426512325, "post_id": 29077747, "comment_id": 46389174, "body": "Oh...I see! So rename will actually change the files on disk. Yeah..this could lead me to big mess! Thanks!!!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1426511970, "last_edit_date": 1426511970, "creation_date": 1426511625, "answer_id": 29077747, "question_id": 29077712, "link": "https://stackoverflow.com/questions/29077712/adding-a-prefix-to-a-list-of-file-names-in-a-hash-of-arrays/29077747#29077747", "title": "Adding a prefix to a list of file names in a hash of arrays", "body": "<p>So, iterating every element - you actually need two loops. One for the 'top level' - the hash values. (Which are array references). </p>\n\n<p>Then with each array reference, iterate within those applying a transform. </p>\n\n<pre><code>foreach my $array_ref ( values %hash ) {\n   foreach my $oldfilename ( @$array_ref ) {\n       $element =~ s/^/INPUT=/;\n   }\n}\n</code></pre>\n\n<p>Or did you actually want to change the filenames <em>on disk</em>? If so, you can use <a href=\"http://perldoc.perl.org/functions/rename.html\" rel=\"nofollow\"><code>rename</code></a> (I don't think this is what you want though)</p>\n\n<pre><code>foreach my $array_ref ( values %hash ) {\n   foreach my $oldfilename ( @$array_ref ) {\n       rename $oldfilename, 'INPUT='.$oldfilename\n   }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 0, "creation_date": 1426513162, "post_id": 29078217, "comment_id": 46389743, "body": "I see... so here it will be applicable outside the %hash? I don&#39;t even need the %hash in the first place?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 0, "creation_date": 1426513180, "post_id": 29078217, "comment_id": 46389754, "body": "Okay I&#39;ve chnaged my answer as I thought <i>&quot;rename the files&quot;</i> meant renaming the files!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "edited": false, "score": 0, "creation_date": 1426513226, "post_id": 29078217, "comment_id": 46389789, "body": "Yes, correct. The array <code>@files</code> contains the modified names of all the files that start with any of the strings in <code>input.txt</code> and end with <code>.bam</code>. That&#39;s why I asked if you needed the hash, as a simple list of files is much easier."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1426512999, "creation_date": 1426512999, "answer_id": 29078217, "question_id": 29077712, "link": "https://stackoverflow.com/questions/29077712/adding-a-prefix-to-a-list-of-file-names-in-a-hash-of-arrays/29078217#29078217", "title": "Adding a prefix to a list of file names in a hash of arrays", "body": "<p>This can be done neatly by building a regular expressions out of the contents of <code>input.txt</code>, and checking all <code>*.bam</code> files against it.</p>\n\n<p>Like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @patterns = do {\n  open my $in_fh, '&lt;', 'input.txt' or die qq{Unable to open \"input.txt\" for input: $!};\n  &lt;$in_fh&gt;;\n};\nchomp @patterns;\nmy $re = join '|', map quotemeta, @patterns;\n\nmy @files = grep /^(?:$re)/, glob '*.bam';\n$_ = \"INPUT=$_\" for @files;\n</code></pre>\n"}], "owner": {"reputation": 527, "user_id": 4618743, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/868757423163601/picture?type=large", "display_name": "guidebortoli", "link": "https://stackoverflow.com/users/4618743/guidebortoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 29077747, "answer_count": 2, "score": 1, "last_activity_date": 1426513530, "creation_date": 1426511510, "last_edit_date": 1426513530, "question_id": 29077712, "link": "https://stackoverflow.com/questions/29077712/adding-a-prefix-to-a-list-of-file-names-in-a-hash-of-arrays", "title": "Adding a prefix to a list of file names in a hash of arrays", "body": "<p>The array <code>@lines</code> contains the keys of <code>%hash</code> like this</p>\n\n<pre><code>HG00117\nHG00119\nNA20828\n</code></pre>\n\n<p>And so on for other many samples. I just showed three for the example below.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dump;\n\nopen (FILE, 'input.txt'); \nchomp (my @lines = (&lt;FILE&gt;)); \nclose(FILE);\n\nmy %hash;\n\n$hash{$_} = [ glob(\"$_*.bam\") ] for @lines;\n\ndd %hash;\n</code></pre>\n\n<p>This will print me my hash of arrays:</p>\n\n<pre><code>(\n  \"HG00117\",\n  [\n    \"HG00117.mapped.ILLUMINA.bwa.GBR.exome.20120522.bam_herc2_data.bam\",\n    \"HG00117.mapped.ILLUMINA.bwa.GBR.low_coverage.20101123.bam_herc2_phase1.bam\",\n    \"HG00117.mapped.ILLUMINA.bwa.GBR.low_coverage.20120522.bam_herc2_data.bam\",\n    \"HG00117.mapped.illumina.mosaik.GBR.exome.20110411.bam_herc2_phase1.bam\",\n  ],\n  \"HG00119\",\n  [\n    \"HG00119.mapped.ILLUMINA.bwa.GBR.exome.20120522.bam_herc2_data.bam\",\n    \"HG00119.mapped.ILLUMINA.bwa.GBR.low_coverage.20101123.bam_herc2_phase1.bam\",\n    \"HG00119.mapped.ILLUMINA.bwa.GBR.low_coverage.20120522.bam_herc2_data.bam\",\n    \"HG00119.mapped.illumina.mosaik.GBR.exome.20110411.bam_herc2_phase1.bam\",\n  ],\n  \"NA20828\",\n  [\n    \"NA20828.mapped.ILLUMINA.bwa.TSI.exome.20121211.bam_herc2_data.bam\",\n    \"NA20828.mapped.ILLUMINA.bwa.TSI.low_coverage.20101123.bam_herc2_phase1.bam\",\n    \"NA20828.mapped.ILLUMINA.bwa.TSI.low_coverage.20130415.bam_herc2_data.bam\",\n    \"NA20828.mapped.illumina.mosaik.TSI.exome.20110411.bam_herc2_phase1.bam\",\n  ],\n)\n</code></pre>\n\n<p>I want to prefix each element of the arrays with <code>INPUT=</code>, so they look like this</p>\n\n<pre><code>(\n  \"HG00117\",\n  [\n    \"INPUT=HG00117.mapped.ILLUMINA.bwa.GBR.exome.20120522.bam_herc2_data.bam\",\n    \"INPUT=HG00117.mapped.ILLUMINA.bwa.GBR.low_coverage.20101123.bam_herc2_phase1.bam\",\n    \"INPUT=HG00117.mapped.ILLUMINA.bwa.GBR.low_coverage.20120522.bam_herc2_data.bam\",\n    \"INPUT=HG00117.mapped.illumina.mosaik.GBR.exome.20110411.bam_herc2_phase1.bam\",\n  ],\n  \"HG00119\",\n  [\n    \"INPUT=HG00119.mapped.ILLUMINA.bwa.GBR.exome.20120522.bam_herc2_data.bam\",\n    \"INPUT=HG00119.mapped.ILLUMINA.bwa.GBR.low_coverage.20101123.bam_herc2_phase1.bam\",\n    \"INPUT=HG00119.mapped.ILLUMINA.bwa.GBR.low_coverage.20120522.bam_herc2_data.bam\",\n    \"INPUT=HG00119.mapped.illumina.mosaik.GBR.exome.20110411.bam_herc2_phase1.bam\",\n  ],\n  \"NA20828\",\n  [\n    \"INPUT=NA20828.mapped.ILLUMINA.bwa.TSI.exome.20121211.bam_herc2_data.bam\",\n    \"INPUT=NA20828.mapped.ILLUMINA.bwa.TSI.low_coverage.20101123.bam_herc2_phase1.bam\",\n    \"INPUT=NA20828.mapped.ILLUMINA.bwa.TSI.low_coverage.20130415.bam_herc2_data.bam\",\n    \"INPUT=NA20828.mapped.illumina.mosaik.TSI.exome.20110411.bam_herc2_phase1.bam\",\n  ],\n)\n</code></pre>\n\n<p>I tried regex and <code>grep</code> but nothing seems to work. I think I'm getting confused with the scope of <code>foreach</code>. I also tried the <code>rename</code> function but it didn't work.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1426509692, "post_id": 29076886, "comment_id": 46387486, "body": "Why do you want to use <code>&#47;ag&#47;smartcube&#47;perl&#47;modules</code> in preference to one of the four directories where perl is already looking? I imagine you&#39;ve installed <code>DBI</code> in the same way, but perl can&#39;t find it because the location isn&#39;t in <code>@INC</code>. You should reinstall <code>DBI</code> without setting <code>INSTALL_BASE</code>, and then <code>DBD::Oracle</code> should install correctly\u2014also without <code>INSTALL_BASE</code>."}, {"owner": {"reputation": 121, "user_id": 1821820, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/47fc0a252f1fb8deff7cf44e39d380f3?s=128&d=identicon&r=PG", "display_name": "user1821820", "link": "https://stackoverflow.com/users/1821820/user1821820"}, "edited": false, "score": 0, "creation_date": 1426510232, "post_id": 29076886, "comment_id": 46387796, "body": "I have to install like 30 modules by hand somewhere [there is another Perl version on the system which I cannot touch ] so /ag/smartcube/perl/modules seems like good idea. Yes i installed all modules like this: /ag/smartcube/perl/bin/perl Makefile.PL INSTALL_BASE=/ag/smartcube/perl/modules. because I had no idea what else to do.."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 0, "last_activity_date": 1426510782, "last_edit_date": 1592644375, "creation_date": 1426510453, "answer_id": 29077333, "question_id": 29076886, "link": "https://stackoverflow.com/questions/29076886/failing-to-compile-dbd-oracle-1-74-cant-locate-dbi-pm/29077333#29077333", "title": "Failing to compile DBD-Oracle-1.74 | Can&#39;t locate DBI.pm", "body": "<p>You should have installed modules using</p>\n<pre>/ag/smartcube/perl/bin/perl Makefile.PL\nmake\nmake test\nmake install</pre>\n<p>So that the modules you built would go into the locations where <code>/ag/smartcube/perl/bin/perl</code> expects to find them.</p>\n<p>Also, there isn't a good reason to use 5.10.0 in preference to 5.10.1.</p>\n<p>From <a href=\"https://metacpan.org/pod/perl5101delta#Selected-Bug-Fixes\" rel=\"nofollow noreferrer\">perldoc perl5101delta</a>:</p>\n<blockquote>\n<ul>\n<li><p>5.10.0 inadvertently disabled an optimisation, which caused a measurable performance drop in list assignment, such as is often used to assign function parameters from <code>@_</code>. The optimisation has been re-instated, and the performance regression fixed.</p>\n</li>\n<li><p>And others ...</p>\n</li>\n</ul>\n</blockquote>\n"}], "owner": {"reputation": 121, "user_id": 1821820, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/47fc0a252f1fb8deff7cf44e39d380f3?s=128&d=identicon&r=PG", "display_name": "user1821820", "link": "https://stackoverflow.com/users/1821820/user1821820"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 29077333, "answer_count": 1, "score": 1, "last_activity_date": 1426510782, "creation_date": 1426509120, "question_id": 29076886, "link": "https://stackoverflow.com/questions/29076886/failing-to-compile-dbd-oracle-1-74-cant-locate-dbi-pm", "title": "Failing to compile DBD-Oracle-1.74 | Can&#39;t locate DBI.pm", "body": "<p>please help. I am trying to compile DBD-Oracle-1.74 Perl module and failing because obviously Perl <strong>Can't locate DBI.pm</strong>. But  DBI.pm  is there... I am using compiled under </p>\n\n<pre><code>/ag/smartcube/perl/bin/perl\n</code></pre>\n\n<p>and putting modules inside:   </p>\n\n<pre><code>/ag/smartcube/perl/modules\n</code></pre>\n\n<p>directory. This system is cut off from internet, so no cpan or something like this is allowed. Only manual compilation.   </p>\n\n<pre><code> cd DBD-Oracle-1.74\n    [root@dcpscp20907234 DBD-Oracle-1.74]# /ag/smartcube/perl/bin/perl Makefile.PL INSTALL_BASE=/ag/smartcube/perl/modules\n    Can't locate DBI.pm in @INC (@INC contains: /ag/smartcube/perl/lib/5.10.0/x86_64-linux /ag/smartcube/perl/lib/5.10.0 /ag/smartcube/perl/lib/site_perl/5.10.0/x86_64-linux /ag/smartcube/perl/lib/site_perl/5.10.0 .) at Makefile.PL line 21.\n    BEGIN failed--compilation aborted at Makefile.PL line 21.\n    [root@dcpscp20907234 DBD-Oracle-1.74]# find /ag/smartcube/ -iname DBI.pm\n    /ag/smartcube/perl/modules/lib/perl5/x86_64-linux/Bundle/DBI.pm\n    /ag/smartcube/perl/modules/lib/perl5/x86_64-linux/DBI.pm\n    /ag/smartcube/perl/modules/DBI-1.633/lib/Bundle/DBI.pm\n    /ag/smartcube/perl/modules/DBI-1.633/DBI.pm\n    /ag/smartcube/perl/modules/DBI-1.633/blib/lib/Bundle/DBI.pm\n    /ag/smartcube/perl/modules/DBI-1.633/blib/lib/DBI.pm\n</code></pre>\n\n<p>Please help, how to \"tell\" perl that DBI.pm is there. </p>\n\n<p>Thank you</p>\n"}, {"tags": ["perl", "ipcopen3"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426505430, "post_id": 29075346, "comment_id": 46384933, "body": "I suggest you start by updating the <code>IPC::Open3</code> module. In the current version, line 215 is a blank line."}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1426506104, "post_id": 29075346, "comment_id": 46385322, "body": "Try <code>open3(\\*STDIN, \\*OLDOUT, \\*OLDERR)</code>."}, {"owner": {"reputation": 77, "user_id": 1722239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468c5f994157b07c18df31fb8ae342d4?s=128&d=identicon&r=PG", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1722239/abhishek"}, "edited": false, "score": 0, "creation_date": 1426506113, "post_id": 29075346, "comment_id": 46385332, "body": "Unfortunately, updating the module is beyond my sphere of influence. I am forced to use what is available: Perl version 5.8.8, and Open3 V1.1."}, {"owner": {"reputation": 77, "user_id": 1722239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468c5f994157b07c18df31fb8ae342d4?s=128&d=identicon&r=PG", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1722239/abhishek"}, "edited": false, "score": 0, "creation_date": 1426506395, "post_id": 29075346, "comment_id": 46385480, "body": "@nwehhnhof, tried replacing all 3 eval open3&#39;s with your suggestion, but now the open3 output does not appear on transcript (intended) as well as STDOUT/STDERR (Unintended)."}, {"owner": {"reputation": 77, "user_id": 1722239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468c5f994157b07c18df31fb8ae342d4?s=128&d=identicon&r=PG", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1722239/abhishek"}, "edited": false, "score": 0, "creation_date": 1426506491, "post_id": 29075346, "comment_id": 46385536, "body": "If this is a version issue, I guess I should delete this question altogether, since it addresses an &quot;old problem&quot; that&#39;s already fixed and does not help anybody else."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1426506770, "post_id": 29075346, "comment_id": 46385681, "body": "If updating to a new version isn&#39;t an option, looking for workarounds might be."}], "answers": [{"comments": [{"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1426507185, "post_id": 29076211, "comment_id": 46385926, "body": "The first call to <code>open3</code> will consume all input on <i>stdin</i> anyway. So for subsequent invocations of <code>open3</code>, you can simply pass <code>undef</code> as first argument. (Or pass <code>undef</code> all the time if the called program doesn&#39;t read from <i>stdin</i>.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1426507894, "post_id": 29076211, "comment_id": 46386354, "body": "@nwellnhof: Thanks. I&#39;ve added a note on my solution."}, {"owner": {"reputation": 77, "user_id": 1722239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468c5f994157b07c18df31fb8ae342d4?s=128&d=identicon&r=PG", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1722239/abhishek"}, "edited": false, "score": 0, "creation_date": 1426508754, "post_id": 29076211, "comment_id": 46386868, "body": "Thanks to both of you. This helped out. Experimenting further showed that duping STDOUT and STDERR is not needed (Don&#39;t know why, as it should logically). Since there was no need for STDIN which I was using earlier, passing undef makes the error go away."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 77, "user_id": 1722239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468c5f994157b07c18df31fb8ae342d4?s=128&d=identicon&r=PG", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1722239/abhishek"}, "edited": false, "score": 0, "creation_date": 1426508922, "post_id": 29076211, "comment_id": 46386977, "body": "@Abhishek: I&#39;ve been unable to test this. Does it work as I&#39;ve written it? If you describe your experience then it will be useful to others who come here looking for help with a similar problem"}, {"owner": {"reputation": 77, "user_id": 1722239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468c5f994157b07c18df31fb8ae342d4?s=128&d=identicon&r=PG", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1722239/abhishek"}, "edited": false, "score": 0, "creation_date": 1426510062, "post_id": 29076211, "comment_id": 46387709, "body": "Umm.... This will actually not work as is. The problem is that at every call to the subroutine, IN_COPY, OUT_COPY and ERR_COPY are updated with the ones applicable at that moment (Redirected copies!). Therefore, anything printed inside open3 will appear both in the transcript file and the STDOUT/ERR."}, {"owner": {"reputation": 77, "user_id": 1722239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468c5f994157b07c18df31fb8ae342d4?s=128&d=identicon&r=PG", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1722239/abhishek"}, "edited": false, "score": 0, "creation_date": 1426510655, "post_id": 29076211, "comment_id": 46388052, "body": "A small change needed is to copy the standard inputs/outputs before the start of logging. Updating the answer to reflect this."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1426513156, "post_id": 29076211, "comment_id": 46389738, "body": "<code>OUT_COPY</code> and <code>ERR_COPY</code> are written to by the child process but read from the parent process. They should be input handles."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1426513702, "post_id": 29076211, "comment_id": 46390138, "body": "@mob: They&#39;re not read by the parent process. The parent has duped its own <code>STDOUT</code> and passed it to the child, so the child is sending output directly without intervention."}, {"owner": {"reputation": 77, "user_id": 1722239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468c5f994157b07c18df31fb8ae342d4?s=128&d=identicon&r=PG", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1722239/abhishek"}, "edited": false, "score": 0, "creation_date": 1426524936, "post_id": 29076211, "comment_id": 46398091, "body": "Well, the (logical) corrections I did to the code were rejected... The above code will not work correctly per my last comment. Hope future readers understand the changes from my comment. -Abhishek"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1426530282, "post_id": 29076211, "comment_id": 46401416, "body": "1) Only STDIN is closed. You don&#39;y need to copy STDOUT and STDERR. 2) Giving the same STDIN to multiple processes makes no sense, so you should probably open <code>&#47;dev&#47;null</code> instead of duping STDIN. 3) The first arg of <code>open3</code> should be <code>&#39;&lt;&amp;...&#39;</code> rather than <code>&#39;&gt;&amp;...&#39;</code>. 4) You call <code>waitpid</code> even when <code>open3</code> fails to launch a process."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1426508813, "last_edit_date": 1426508813, "creation_date": 1426507038, "answer_id": 29076211, "question_id": 29075346, "link": "https://stackoverflow.com/questions/29075346/warning-within-ipcopen3-when-using-open3-twice/29076211#29076211", "title": "Warning within IPC::Open3 when using open3 twice", "body": "<p>I think the problem is the way <code>open3</code> uses the file handles that you pass. If you use, say, <code>&gt;&amp;STDOUT</code> then the file handle is duped, the dupe is passed to the child process, and the parent's copy is <em>closed</em>. That means the second time you do the same thing you are duping a closed file handle, which doesn't have the effect you want.</p>\n\n<p>The only way around this that I can see is to dupe the file handles separately and pass the dupes to the child process. It won't matter that the parent's copy of the dupes is closed because it still has the original <code>STDOUT</code> etc. Unfortunately it adds another three statements to each <code>open3</code> call, so you woul probably want to wrap the whole thing in a subroutine, like this.</p>\n\n<pre><code>my_open3('ls');\nmy_open3('ls');\nmy_open3('ls');\n\nsub my_open3 {\n\n  my @cmd = @_;\n  my $pid;\n\n  open IN_COPY,  '&lt;&amp;', STDIN  or die \"Couldn't dup STDIN: $!\";\n  open OUT_COPY, '&gt;&amp;', STDOUT or die \"Couldn't dup STDOUT: $!\";\n  open ERR_COPY, '&gt;&amp;', STDERR or die \"Couldn't dup STDERR: $!\";\n\n  eval {\n    $pid = open3('&gt;&amp;IN_COPY', '&gt;&amp;OUT_COPY', '&gt;&amp;ERR_COPY', @cmd);\n  };\n\n  waitpid $pid, 0;\n}\n</code></pre>\n\n<p>This isn't the nicest of solutions, so if anyone can see anything better then please chime in. The only alternative I can see is to let the parent keep its own standard IO handles and use completely new ones to communicate with the child process each time. Then the parent would have mess with <a href=\"https://metacpan.org/module/IO::Select\" rel=\"nofollow\"><code>IO::Select</code></a> to do the copying from the child output to its own <code>STDOUT</code> and <code>STDERR</code>.</p>\n\n<p>As <code>nwellnhof</code> says, if the child doesn't use its <code>STDIN</code> (as is the case with the <code>ls</code> command) then you can just pass <code>undef</code> as the first parameter. That saves duplicating one of three standard handles.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1426530201, "creation_date": 1426530201, "answer_id": 29084225, "question_id": 29075346, "link": "https://stackoverflow.com/questions/29075346/warning-within-ipcopen3-when-using-open3-twice/29084225#29084225", "title": "Warning within IPC::Open3 when using open3 twice", "body": "<p>It doesn't make sense to give the same STDIN to multiple parallel process. <code>open3</code> thus assumes the handle you tell <code>open3</code> to use isn't used by anything else, so it closes it.</p>\n\n<p>It looks like your children aren't using the STDIN you provide them, so you should provide a handle to <code>/dev/null</code>.</p>\n\n<pre><code>open(local *CHILD_STDIN, '&lt;', '/dev/null') or die $!;\n$pid = open3('&lt;&amp;CHILD_STDIN', '&gt;&amp;STDOUT', '&gt;&amp;STDERR', @cmd);\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 1722239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/468c5f994157b07c18df31fb8ae342d4?s=128&d=identicon&r=PG", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1722239/abhishek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 29084225, "answer_count": 2, "score": 0, "last_activity_date": 1426530201, "creation_date": 1426504114, "last_edit_date": 1592644375, "question_id": 29075346, "link": "https://stackoverflow.com/questions/29075346/warning-within-ipcopen3-when-using-open3-twice", "title": "Warning within IPC::Open3 when using open3 twice", "body": "<p>I am using <a href=\"https://metacpan.org/module/IPC::Open3\" rel=\"nofollow noreferrer\">IPC::Open3</a> for the suggestion given by Hans Lub <a href=\"https://stackoverflow.com/a/28365805/622310\">here</a>.</p>\n<p>My issue is that the <code>open3</code> call works correctly for the first time, but subsequent invocations return the warning:</p>\n<pre><code>Use of uninitialized value in numeric ne (!=) at /usr/lib/perl5/5.8.8/IPC/Open3.pm line 215.\n</code></pre>\n<p>The code sample I am using looks like this:</p>\n<pre><code>use  IPC::Open3;\n\nmy $pid;\n# dup the old standard output and error \nopen(OLDOUT, &quot;&gt;&amp;STDOUT&quot;) or die &quot;Can't dup STDOUT: $!\\n&quot;;\nopen(OLDERR, &quot;&gt;&amp;STDERR&quot;) or die &quot;Can't dup STDERR: $!\\n&quot;;\n\nmy $transcript_file = &quot;transcript.temp&quot;;\n# reopen stdout and stderr\nopen (STDOUT, &quot;|tee -i $transcript_file&quot;) or die &quot;Can't reopen STDOUT: $!\\n&quot;;\nopen (STDERR, &quot;&gt;&amp;STDOUT&quot;)              or die &quot;Can't reopen STDERR: $!\\n&quot;;\n\n# print statements now write to log\nprint &quot;Logging important info: blah!\\n&quot;;\nprint STDERR &quot;OOPS!\\n&quot;;\n\n#eval { $pid = open3(&quot;\\*STDIN&quot;, &quot;\\*OLDOUT&quot;, &quot;\\*OLDERR&quot;, &quot;ls&quot;); }; # Tried this, but doesnt seem to help. Output does not appear on STDOUT.\neval { $pid = open3(&quot;&gt;&amp;STDIN&quot;, &quot;&gt;&amp;OLDOUT&quot;, &quot;&gt;&amp;OLDERR&quot;, &quot;ls&quot;); }; #This works correctly\nwaitpid( $pid, 0 );\n\neval { $pid = open3(&quot;&gt;&amp;STDIN&quot;, &quot;&gt;&amp;OLDOUT&quot;, &quot;&gt;&amp;OLDERR&quot;, &quot;ls&quot;); }; #First warning\nwaitpid( $pid, 0 );\n\neval { $pid = open3(&quot;&gt;&amp;STDIN&quot;, &quot;&gt;&amp;OLDOUT&quot;, &quot;&gt;&amp;OLDERR&quot;, &quot;ls&quot;); }; #Second warning\nwaitpid( $pid, 0 );\n</code></pre>\n<p>I apologize if I look to be trying to get others solve my problems, but I just can't seem to get around this, and looking inside Perl modules is beyond my current understanding.</p>\n"}, {"tags": ["c", "multithreading", "perl"], "comments": [{"owner": {"reputation": 35932, "user_id": 1606345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IwiIM.png?s=128&g=1", "display_name": "David Ranieri", "link": "https://stackoverflow.com/users/1606345/david-ranieri"}, "edited": false, "score": 0, "creation_date": 1426503595, "post_id": 29075065, "comment_id": 46383902, "body": "This line is very suspicious: <code>for(i=0;args[i];++i)</code>, do you mean <code>for(i=0;i&lt;args;++i)</code>?"}, {"owner": {"reputation": 3612, "user_id": 2464355, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f06527656750e7dc39c2b01e85fc302c?s=128&d=identicon&r=PG", "display_name": "John Tracid", "link": "https://stackoverflow.com/users/2464355/john-tracid"}, "reply_to_user": {"reputation": 35932, "user_id": 1606345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IwiIM.png?s=128&g=1", "display_name": "David Ranieri", "link": "https://stackoverflow.com/users/1606345/david-ranieri"}, "edited": false, "score": 0, "creation_date": 1426504104, "post_id": 29075065, "comment_id": 46384219, "body": "@AlterMann maybe you are right, but currently it doesn&#39;t hit it because it crash far early."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426509948, "post_id": 29075065, "comment_id": 46387638, "body": "Hooray for using <code>++i</code> instead of <code>i++</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3612, "user_id": 2464355, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f06527656750e7dc39c2b01e85fc302c?s=128&d=identicon&r=PG", "display_name": "John Tracid", "link": "https://stackoverflow.com/users/2464355/john-tracid"}, "edited": false, "score": 0, "creation_date": 1426507448, "post_id": 29075711, "comment_id": 46386082, "body": "I added some details: this code declared inside Perl library. So I don&#39;t create interpreter myself, it is already created. How I could set this context for such case?"}], "tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": true, "score": 2, "last_activity_date": 1426525991, "last_edit_date": 1426525991, "creation_date": 1426505331, "answer_id": 29075711, "question_id": 29075065, "link": "https://stackoverflow.com/questions/29075065/calling-perl-function-from-c-produce-crash/29075711#29075711", "title": "Calling Perl function from C produce crash", "body": "<p>You probably forgot to tell your thread about the current Perl interpreter. The <a href=\"http://perldoc.perl.org/perlembed.html#Maintaining-multiple-interpreter-instances\" rel=\"nofollow\"><code>perlembed</code> man page</a> says:</p>\n\n<blockquote>\n  <p>PERL_SET_CONTEXT(interp) should also be called whenever interp is used by a thread that did not create it (using either perl_alloc(), or the more esoteric perl_clone()).</p>\n</blockquote>\n\n<p>Also note that calling Perl from C is not thread-safe. Make sure that proper locking is in place.</p>\n\n<p><strong>EDIT:</strong> If you didn't create the interpreter yourself, you can get a <code>void *</code> to the interpreter via the macro <code>PERL_GET_CONTEXT</code>. If you're only using a single interpreter, you could add some code to the XS boot section to store this value in a global. If you have multiple interpreters (or want to support <code>fork</code> on Windows), you have to track the current interpreter when registering your callback.</p>\n"}], "owner": {"reputation": 3612, "user_id": 2464355, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f06527656750e7dc39c2b01e85fc302c?s=128&d=identicon&r=PG", "display_name": "John Tracid", "link": "https://stackoverflow.com/users/2464355/john-tracid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 1, "accepted_answer_id": 29075711, "answer_count": 1, "score": 2, "last_activity_date": 1426525991, "creation_date": 1426503247, "last_edit_date": 1426507349, "question_id": 29075065, "link": "https://stackoverflow.com/questions/29075065/calling-perl-function-from-c-produce-crash", "title": "Calling Perl function from C produce crash", "body": "<p>I have a Perl library written in C and inside XS file I declared callback function to call Perl functions from C code. When call this function from C code (multithreaded):</p>\n\n<pre><code>char *\ncallbackfunc(void *fun, char **args)\n{\n  dSP;\n\n  int count,i;\n  char *s;\n\n  ENTER;\n  SAVETMPS;\n\n  PUSHMARK(SP);\n  for(i=0;args[i];++i) {\n    XPUSHs(sv_2mortal(newSVpv(args[i],0)));\n  }\n  PUTBACK;\n\n  count = call_sv(fun,G_SCALAR|G_EVAL);\n\n  SPAGAIN;\n\n  s = NULL;\n  if(count &gt; 1)\n    croak(\"callback may return only single value\\n\");\n  if(count==1) {\n    s = strdup(POPp);\n  }\n\n  PUTBACK;\n  FREETMPS;\n  LEAVE;    \n  return s;\n}\n</code></pre>\n\n<p>I get crash at <em>dSP</em> macro:</p>\n\n<pre><code>#0 callbackfunc (fun=0x2416a58, args=0x7f3a0cfa9a10) at MyLibrary.xs:24\n24 dSP;\n</code></pre>\n\n<p>In disassembler it looks like some thread specific data not found:</p>\n\n<pre><code>push  %r15\npush  %r14\nmov   %rdi,%r14\npush  %r13\nmov   %rsi,%r13\npush  %r12\npush  %rbp\npush  %rbx\nsub   $0x8,%rsp\nmov   0x2015dd(%rip),%rbx\nmov   (%rbx),%edi\ncallq 0x7f3a0e37f550 &lt;pthread_getspecific@plt&gt;\nmov   (%rbx),%esi\nmov   (%rax),%r15 // here is crash because %rax is 0x0\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1426501589, "post_id": 29074197, "comment_id": 46382748, "body": "The <code>print $abcd  $_,&quot;\\n&quot;</code> should be inside the foreach loop."}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "reply_to_user": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1426503680, "post_id": 29074197, "comment_id": 46383942, "body": "You are right ..thanks :))"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426501370, "post_id": 29074299, "comment_id": 46382620, "body": "Thanks a lot @fugu the one you provided is working fine :) .I&#39;ll really appreciate if you could also tell where I went wrong ."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426501413, "post_id": 29074299, "comment_id": 46382652, "body": "The quotation marks in your pattern match aren&#39;t doing what you think they are."}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426502867, "post_id": 29074299, "comment_id": 46383485, "body": "I tried mine with  s/\\,//g instead of s/&quot;,&quot;//g  also still its not working !"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426503663, "post_id": 29074299, "comment_id": 46383933, "body": "@Grace90: There&#39;s a few things wrong with your own code.  1. The format for <code>substr</code> is <code>substr EXPR,OFFSET,LENGTH</code> and you use <code>substr $_, 0, -1</code> so the offset is zero and the length is -1. A negative length removes that many characters off the end of the string, so you&#39;re deleting the character that might be a comma.  2. <code>s&#47;&quot;,&quot;&#47;&#47;g</code> deletes all occurrences of <code>&quot;,&quot;</code> when you want to remove just commas. <code>s&#47;,&#47;&#47;g</code> is correct, but  it will remove all commas anywhere in the string instead of just at the end.  3. You print the value of <code>$_</code> after the end of the loop when it no longer has any value."}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426503796, "post_id": 29074299, "comment_id": 46384014, "body": "@Sobrique ...working now ,had to put   print $abcd $_,&quot;\\n&quot;  inside foreach loop as suggested by JE SUIS CHARLIE above  and  use   s/\\,//g instead of s/&quot;,&quot;//g as you said . Thankyou :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426503860, "post_id": 29074299, "comment_id": 46384064, "body": "@Grace90: You don&#39;t need to escape the comma. <code>s&#47;,&#47;&#47;g</code> is fine. And your call to <code>substr</code> is also wrong."}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426504251, "post_id": 29074299, "comment_id": 46384305, "body": "@borodin thanks its working with or without escape :)"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": true, "score": 3, "last_activity_date": 1426503867, "last_edit_date": 1426503867, "creation_date": 1426501000, "answer_id": 29074299, "question_id": 29074197, "link": "https://stackoverflow.com/questions/29074197/how-to-remove-commas-at-the-end-of-array-elements-if-present/29074299#29074299", "title": "How to remove commas at the end of array elements if present?", "body": "<p>Your program will not print anything as it stands, because your print statement (which is outside of your loop) refers to the <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow\">default variable</a> <code>$_</code>, which only exists in your loop.</p>\n\n<p>You are also performing a regex on <code>\",\"</code> - which is not what you want (<code>,</code> at the end of each string).</p>\n\n<p>You should <strong>always</strong> add <code>use strict</code> and <code>use warnings</code> to the beginning of every script to catch this sort of thing</p>\n\n<p>I would use something like this: </p>\n\n<p>This only removes <code>,</code> that occur at the end of each line.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nfor my $element (@array){\n     $element =~ s/,$//g;\n     print \"$element\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 904, "favorite_count": 0, "accepted_answer_id": 29074299, "answer_count": 1, "score": 0, "last_activity_date": 1426503867, "creation_date": 1426500696, "question_id": 29074197, "link": "https://stackoverflow.com/questions/29074197/how-to-remove-commas-at-the-end-of-array-elements-if-present", "title": "How to remove commas at the end of array elements if present?", "body": "<p>I have an array23 which contains strings of a file each in one line . Some strings have a \",\" in the end without a white space . I want to remove commas in the end of strings if they are present . I have tried the following code but is not working</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n\nopen my $abcd , '&gt;','perl_script_3_out_1.txt' or die $!;\n\nforeach( @array23 )\n {\n   if ((substr $_,0,-1) =~ \",\")\n   { \n    s/\",\"//g;\n   }\n }\n  print $abcd  \"$_\";                                                                                                                                 \n\nclose($abcd);\n</code></pre>\n"}, {"tags": ["regex", "string", "perl", "next"], "answers": [{"comments": [{"owner": {"reputation": 55943, "user_id": 3933332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zuzev.png?s=128&g=1", "display_name": "Rizier123", "link": "https://stackoverflow.com/users/3933332/rizier123"}, "edited": false, "score": 0, "creation_date": 1427470531, "post_id": 29073993, "comment_id": 46803400, "body": "I think an explanation for OP and for further readers would be helpful what the regex exactly does"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1427471901, "post_id": 29073993, "comment_id": 46804324, "body": "Actually it is pretty simple regex based on lookahead (zero width assertion) and I have written briefly about it. Besides linked demo has more details for this."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 4, "last_activity_date": 1426500053, "creation_date": 1426500053, "answer_id": 29073993, "question_id": 29073829, "link": "https://stackoverflow.com/questions/29073829/regex-to-search-pattern-surrounded-by-a-common-pattern-repetitively/29073993#29073993", "title": "Regex to search pattern surrounded by a common pattern repetitively", "body": "<p>Since you want to match <code>aba</code> that are overlapping you will need to use lookaheads which is zero width assertion.</p>\n\n<p>You can use this rgex:</p>\n\n<pre><code>/(?=(aba))/g\n</code></pre>\n\n<p>And get the group count.</p>\n\n<p><a href=\"https://regex101.com/r/hZ2dT0/1\" rel=\"nofollow\">RegEx Demo</a></p>\n"}], "owner": {"reputation": 33, "user_id": 4675725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LNSeBY3UXNg/AAAAAAAAAAI/AAAAAAAAANc/EkOTPuH5-OQ/photo.jpg?sz=128", "display_name": "Abhishek Garg", "link": "https://stackoverflow.com/users/4675725/abhishek-garg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 29073993, "answer_count": 1, "score": 3, "last_activity_date": 1426529806, "creation_date": 1426499658, "last_edit_date": 1426529806, "question_id": 29073829, "link": "https://stackoverflow.com/questions/29073829/regex-to-search-pattern-surrounded-by-a-common-pattern-repetitively", "title": "Regex to search pattern surrounded by a common pattern repetitively", "body": "<p>I have following string.</p>\n\n<pre><code>$str = \"abafghababa\";\n</code></pre>\n\n<p>I want to search pattern aba and its count.</p>\n\n<p>Expected output for count is 3</p>\n\n<p>I was trying with <code>$count = () = $str =~ /aba/;</code>\nBut this is resulting as 2 which is correct. But i want to findout a way where it can result as 3.</p>\n"}, {"tags": ["perl", "postgresql", "sap-iq"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3999290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a34a99bdc59810459bac1701f48c5500?s=128&d=identicon&r=PG&f=1", "display_name": "Baury", "link": "https://stackoverflow.com/users/3999290/baury"}, "edited": false, "score": 0, "creation_date": 1426502688, "post_id": 29071770, "comment_id": 46383362, "body": "That could work but I need 2 connections on DBI and that is where the problem comes in I am uncertain how to use copy with DBI to copy from Sybase to PostgreSQL in Perl"}], "tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 1, "last_activity_date": 1426491654, "creation_date": 1426491654, "answer_id": 29071770, "question_id": 29071690, "link": "https://stackoverflow.com/questions/29071690/how-to-insert-values-in-postgresql-faster-than-insert-value-functions/29071770#29071770", "title": "How to insert values in PostgreSQL faster than insert() value() functions?", "body": "<p>Populating a PostgreSQL database <a href=\"http://www.postgresql.org/docs/current/interactive/populate.html\" rel=\"nofollow\">is documented here</a>. The <a href=\"http://www.postgresql.org/docs/current/interactive/sql-copy.html\" rel=\"nofollow\">COPY</a> command is your fiend.</p>\n\n<ul>\n<li>Use COPY</li>\n<li>Remove Indexes</li>\n<li>Remove Foreign Key Constraints</li>\n<li>Increase maintenance_work_mem</li>\n<li>Increase checkpoint_segments</li>\n<li>Disable WAL Archival and Streaming Replication</li>\n<li>Run ANALYZE Afterwards</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 3999290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a34a99bdc59810459bac1701f48c5500?s=128&d=identicon&r=PG&f=1", "display_name": "Baury", "link": "https://stackoverflow.com/users/3999290/baury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426507609, "creation_date": 1426491311, "last_edit_date": 1426507609, "question_id": 29071690, "link": "https://stackoverflow.com/questions/29071690/how-to-insert-values-in-postgresql-faster-than-insert-value-functions", "title": "How to insert values in PostgreSQL faster than insert() value() functions?", "body": "<p>I have an optimization issue. At the moment I am using DBI in Perl to connect to IQ(Sybase) then load the values into a hash, I then connect to PostgreSQL and use that hash to do a line by line insert with <code>insert() value()</code>. This is very slow. Does anyone know of a faster way to run this? My main problem is the two different DB servers and I need to avoid a hash when inserting so some type of bulk insert would be ideal just not sure how?</p>\n"}, {"tags": ["perl", "callback", "timeout", "lwp-useragent"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1426490447, "post_id": 29071348, "comment_id": 46377340, "body": "There is no retrying. If you mess the connection up you are on your own to fix it again, that is redo the full connection and not just write a single chunk."}], "answers": [{"tags": [], "owner": {"reputation": 30275, "user_id": 4272464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fa45261dec56004145c653832504920?s=128&d=identicon&r=PG&f=1", "display_name": "bgoldst", "link": "https://stackoverflow.com/users/4272464/bgoldst"}, "is_accepted": true, "score": 1, "last_activity_date": 1426491018, "last_edit_date": 1426491018, "creation_date": 1426490701, "answer_id": 29071554, "question_id": 29071348, "link": "https://stackoverflow.com/questions/29071348/lwpuseragent-get-callback-with-timeout/29071554#29071554", "title": "LWP::UserAgent get callback with timeout", "body": "<p>If the <code>'content_cb'</code> callback is called for a chunk, then that means the chunk has been successfully returned from the request. The <code>LWP::UserAgent</code> layer has done its job at that point (with respect to that chunk). Your program is then responsible for doing whatever with the chunk. <code>LWP::UserAgent</code> has no idea about how your program sets or handles system signals, so it can't possibly redo any request, or re-notify your program of any chunk, in response to a system signal or any other event that goes on in the context of your program (and that is outside the context of <code>LPW::UserAgent</code>).</p>\n\n<p>Furthermore, it should be mentioned that even if you set the <code>LWP::UserAgent</code> <a href=\"http://search.cpan.org/dist/libwww-perl/lib/LWP/UserAgent.pm#$ua-%3Etimeout\" rel=\"nofollow\">timeout</a> property, which applies to pending server activity (such as responding to the request at all, or sending the next chunk), then <code>LWP::UserAgent</code> would not even resend the request in the case of such a timeout. The module has simply not been designed to do that under any circumstances:</p>\n\n<blockquote>\n  <p>The requests is aborted if no activity on the connection to the server is observed for timeout seconds.</p>\n</blockquote>\n\n<p>You can always resend the request in your code if any kind of timeout occurs, or if your code deems that it has not received sufficient response data from the server.</p>\n"}, {"tags": [], "owner": {"reputation": 13167, "user_id": 546205, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d7dd187ae1f4400664cbc0e66c8a2ce?s=128&d=identicon&r=PG", "display_name": "Miguel Prz", "link": "https://stackoverflow.com/users/546205/miguel-prz"}, "is_accepted": false, "score": 1, "last_activity_date": 1426490912, "creation_date": 1426490912, "answer_id": 29071605, "question_id": 29071348, "link": "https://stackoverflow.com/questions/29071348/lwpuseragent-get-callback-with-timeout/29071605#29071605", "title": "LWP::UserAgent get callback with timeout", "body": "<p>If you are worried about timeouts, use the <a href=\"https://metacpan.org/pod/LWP::UserAgent#ua-timeout\" rel=\"nofollow\">timeout method</a>. \nIn your code, when a chunk of data arrives, LWP::UserAgent calls your <code>':content_cb'</code> callback, and no retry is done. </p>\n\n<p>IMO it has no sense to handle timeout in that way because it will never happens (unless <code>print $fh $chunk;</code> takes its time).</p>\n"}], "owner": {"reputation": 21019, "user_id": 198183, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/52f281a988bae754991af26224c796af?s=128&d=identicon&r=PG", "display_name": "sid_com", "link": "https://stackoverflow.com/users/198183/sid-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 838, "favorite_count": 0, "accepted_answer_id": 29071554, "answer_count": 2, "score": 1, "last_activity_date": 1426491018, "creation_date": 1426489907, "question_id": 29071348, "link": "https://stackoverflow.com/questions/29071348/lwpuseragent-get-callback-with-timeout", "title": "LWP::UserAgent get callback with timeout", "body": "<p>Is the chunk lost with this code if the time is out (2 seconds), or does <code>get</code> retry to download the missed chunk?</p>\n\n<pre><code>use LWP::UserAgent;\n\nmy $url = '...';\nmy $file_name = '...';\nmy $ua = LWP::UserAgent-&gt;new();\n\nopen my $fh, '&gt;&gt;:raw', $file_name or die $!;\nmy $res = $ua-&gt;get( \n    $url,\n    ':content_cb' =&gt; sub {\n        my ( $chunk, $res, $proto ) = @_;\n        eval {\n            local $SIG{ALRM} = sub { die \"time out\\n\" };\n            alarm 2;\n            print $fh $chunk;\n            alarm 0;\n        };\n        # ...\n    },\n);\nclose $fh;\n</code></pre>\n"}, {"tags": ["perl", "ping", "poe"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 777250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3962286869ffc96c7cbc8ff057fe003?s=128&d=identicon&r=PG&f=1", "display_name": "Massimo", "link": "https://stackoverflow.com/users/777250/massimo"}, "edited": false, "score": 0, "creation_date": 1426493502, "post_id": 29071389, "comment_id": 46378557, "body": "thanks, but I can&#39;t find there anything about number of packets"}, {"owner": {"reputation": 481, "user_id": 3623056, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d12778b73dfe65165c66f2e88ce1c3bf?s=128&d=identicon&r=PG&f=1", "display_name": "mbsingh", "link": "https://stackoverflow.com/users/3623056/mbsingh"}, "reply_to_user": {"reputation": 63, "user_id": 777250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3962286869ffc96c7cbc8ff057fe003?s=128&d=identicon&r=PG&f=1", "display_name": "Massimo", "link": "https://stackoverflow.com/users/777250/massimo"}, "edited": false, "score": 0, "creation_date": 1426494023, "post_id": 29071389, "comment_id": 46378769, "body": "Read the section marked with the subheading - <b>Payload =&gt; $bytes</b>"}, {"owner": {"reputation": 242, "user_id": 1040195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c297cfd6afbb9db421d8c83fcd61a64e?s=128&d=identicon&r=PG", "display_name": "Richard Morgan", "link": "https://stackoverflow.com/users/1040195/richard-morgan"}, "edited": false, "score": 0, "creation_date": 1426510650, "post_id": 29071389, "comment_id": 46388049, "body": "It seems the module you&#39;re using is more of a client than a simple command. Does the simpler Net::Ping help? <a href=\"http://perldoc.perl.org/Net/Ping.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/Net/Ping.html</a>"}, {"owner": {"reputation": 63, "user_id": 777250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3962286869ffc96c7cbc8ff057fe003?s=128&d=identicon&r=PG&f=1", "display_name": "Massimo", "link": "https://stackoverflow.com/users/777250/massimo"}, "edited": false, "score": 0, "creation_date": 1426511756, "post_id": 29071389, "comment_id": 46388798, "body": "I have to ping 1500 hosts at once so I shifted to asynchronous way."}, {"owner": {"reputation": 63, "user_id": 777250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3962286869ffc96c7cbc8ff057fe003?s=128&d=identicon&r=PG&f=1", "display_name": "Massimo", "link": "https://stackoverflow.com/users/777250/massimo"}, "edited": false, "score": 0, "creation_date": 1426512286, "post_id": 29071389, "comment_id": 46389148, "body": "@manpreetbhamba Payload or data bytes stands for bytes in packet, so thus one can control packet size. But how can exactly send 4 packets, for example?"}], "tags": [], "owner": {"reputation": 481, "user_id": 3623056, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d12778b73dfe65165c66f2e88ce1c3bf?s=128&d=identicon&r=PG&f=1", "display_name": "mbsingh", "link": "https://stackoverflow.com/users/3623056/mbsingh"}, "is_accepted": false, "score": 0, "last_activity_date": 1426490072, "creation_date": 1426490072, "answer_id": 29071389, "question_id": 29071281, "link": "https://stackoverflow.com/questions/29071281/how-to-specify-number-of-packets-to-ping/29071389#29071389", "title": "How to specify number of packets to ping?", "body": "<p>Yes, it is possible to send a ping with a non-standard payload size. \nDetails here :</p>\n\n<p><a href=\"https://metacpan.org/pod/POE::Component::Client::Ping#OTHER-RESOURCES\" rel=\"nofollow\">https://metacpan.org/pod/POE::Component::Client::Ping#OTHER-RESOURCES</a></p>\n"}, {"tags": [], "owner": {"reputation": 104, "user_id": 230891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d4f61dae367905f646713ee2a0b65c5?s=128&d=identicon&r=PG", "display_name": "Rocco Caputo", "link": "https://stackoverflow.com/users/230891/rocco-caputo"}, "is_accepted": false, "score": 0, "last_activity_date": 1428003332, "creation_date": 1428003332, "answer_id": 29421055, "question_id": 29071281, "link": "https://stackoverflow.com/questions/29071281/how-to-specify-number-of-packets-to-ping/29421055#29421055", "title": "How to specify number of packets to ping?", "body": "<p>No, POE::Component::Client::Ping doesn't implement repetition logic.  It just pings.  I wrote it such that control of <em>how</em> it pings is almost entirely in your hands.</p>\n"}], "owner": {"reputation": 63, "user_id": 777250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3962286869ffc96c7cbc8ff057fe003?s=128&d=identicon&r=PG&f=1", "display_name": "Massimo", "link": "https://stackoverflow.com/users/777250/massimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 547, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1428003332, "creation_date": 1426489603, "last_edit_date": 1426503969, "question_id": 29071281, "link": "https://stackoverflow.com/questions/29071281/how-to-specify-number-of-packets-to-ping", "title": "How to specify number of packets to ping?", "body": "<p>I'm using <a href=\"https://metacpan.org/pod/POE::Component::Client::Ping\" rel=\"nofollow\">POE::Component::Client::Ping</a> to ping multiple hosts with this <a href=\"http://poe.perl.org/?POE_Cookbook/Pinging_Multiple_Hosts\" rel=\"nofollow\">example</a>. </p>\n\n<p>As I understand this sends one request to host. Is it possible to specify number of packets to ping like in <code>ping -c 4 HOST</code>?</p>\n"}, {"tags": ["regex", "perl", "file-handling"], "comments": [{"owner": {"reputation": 242, "user_id": 1040195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c297cfd6afbb9db421d8c83fcd61a64e?s=128&d=identicon&r=PG", "display_name": "Richard Morgan", "link": "https://stackoverflow.com/users/1040195/richard-morgan"}, "edited": false, "score": 0, "creation_date": 1426510899, "post_id": 29070732, "comment_id": 46388210, "body": "Why was this downvoted? Seems like a fair question."}], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1426490198, "post_id": 29071198, "comment_id": 46377239, "body": "@slayedbyucifer Your answer is not fit for other fasta files.?"}, {"owner": {"reputation": 20787, "user_id": 1251660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UaQAA.jpg?s=128&g=1", "display_name": "slayedbylucifer", "link": "https://stackoverflow.com/users/1251660/slayedbylucifer"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1426490889, "post_id": 29071198, "comment_id": 46377534, "body": "@Hussain, This answer is specific to the sample data given. That&#39;s all."}], "tags": [], "owner": {"reputation": 20787, "user_id": 1251660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UaQAA.jpg?s=128&g=1", "display_name": "slayedbylucifer", "link": "https://stackoverflow.com/users/1251660/slayedbylucifer"}, "is_accepted": false, "score": 0, "last_activity_date": 1426489782, "last_edit_date": 1426489782, "creation_date": 1426489272, "answer_id": 29071198, "question_id": 29070732, "link": "https://stackoverflow.com/questions/29070732/how-to-extract-the-sequence-from-fasta-file-using-perl/29071198#29071198", "title": "How to extract the sequence from FASTA file using Perl?", "body": "<p>If <code>awk</code> is OK for you, then this simple one-liner does it</p>\n\n<pre><code># cat test \ngi|542264878|ref|XP_003460692.2| PREDICTED: myosin heavy chain, fast skeletal muscle-like, partial [Oreochromis niloticus| KCFEKPKPAKGKAEAHFSLVHYAGTVDYNITGWLDKNKDPLNDSVVQLYQKSSNKLLALLYVAHAGGEEAGGGKKGGKKKGGSFQTVSALFRENLGKLMTNLRSTHPHFVRCLIPNETKTPGLMENFLVIHQLRCNGVLEGIRICRKGFPSRILYGDFKQRYKVLNASVIPEGQFIDNKKAS\n\n# awk '{print $NF}' test\nKCFEKPKPAKGKAEAHFSLVHYAGTVDYNITGWLDKNKDPLNDSVVQLYQKSSNKLLALLYVAHAGGEEAGGGKKGGKKKGGSFQTVSALFRENLGKLMTNLRSTHPHFVRCLIPNETKTPGLMENFLVIHQLRCNGVLEGIRICRKGFPSRILYGDFKQRYKVLNASVIPEGQFIDNKKAS\n</code></pre>\n\n<p>Here is <code>perl</code> way:</p>\n\n<pre><code># perl -lane 'print $F[-1]' test \nKCFEKPKPAKGKAEAHFSLVHYAGTVDYNITGWLDKNKDPLNDSVVQLYQKSSNKLLALLYVAHAGGEEAGGGKKGGKKKGGSFQTVSALFRENLGKLMTNLRSTHPHFVRCLIPNETKTPGLMENFLVIHQLRCNGVLEGIRICRKGFPSRILYGDFKQRYKVLNASVIPEGQFIDNKKAS\n</code></pre>\n\n<p>Refer this link for Per one-liner explanation: <a href=\"https://blogs.oracle.com/ksplice/entry/the_top_10_tricks_of\" rel=\"nofollow\">https://blogs.oracle.com/ksplice/entry/the_top_10_tricks_of</a></p>\n"}], "owner": {"reputation": 1, "user_id": 4663818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/646230067cbdec6e70a21c740d90f20c?s=128&d=identicon&r=PG&f=1", "display_name": "Dinesh Ramdin", "link": "https://stackoverflow.com/users/4663818/dinesh-ramdin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 700, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1426490985, "creation_date": 1426487081, "last_edit_date": 1426490985, "question_id": 29070732, "link": "https://stackoverflow.com/questions/29070732/how-to-extract-the-sequence-from-fasta-file-using-perl", "title": "How to extract the sequence from FASTA file using Perl?", "body": "<p>I have a <code>FASTA</code> file with many Protein sequences. I need to read the FASTA file, delete the header and save the sequences in different variables. Any suggestions on how to do it in Perl (please not Bio Perl)?</p>\n\n<p>Example for the FASTA file:</p>\n\n<pre><code>gi|542264878|ref|XP_003460692.2| PREDICTED: myosin heavy chain, fast skeletal muscle-like, partial [Oreochromis niloticus|\nKCFEKPKPAKGKAEAHFSLVHYAGTVDYNITGWLDKNKDPLNDSVVQLYQKSSNKLLALLYVAHAGGEEAGGGKKGGKKKGGSFQTVSALFRENLGKLMTNLRSTHPHFVRCLIPNETKTPGLMENFLVIHQLRCNGVLEGIRICRKGFPSRILYGDFKQRYKVLNASVIPEGQFIDNKKAS\n</code></pre>\n\n<p>And I want only the sequence:</p>\n\n<pre><code>KCFEKPKPAKGKAEAHFSLVHYAGTVDYNITGWLDKNKDPLNDSVVQLYQKSSNKLLALLYVAHAGGEEAGGGKKGGKKKGGSFQTVSALFRENLGKLMTNLRSTHPHFVRCLIPNETKTPGLMENFLVIHQLRCNGVLEGIRICRKGFPSRILYGDFKQRYKVLNASVIPEGQFIDNKKAS\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 2, "last_activity_date": 1426486198, "last_edit_date": 1426486198, "creation_date": 1426485012, "answer_id": 29070345, "question_id": 29069861, "link": "https://stackoverflow.com/questions/29069861/query-on-test-automation-framework/29070345#29070345", "title": "Query on test automation framework", "body": "<p>The question is a bit too broad to comment usefully on except for one part.</p>\n\n<p>If the project is in Java, write the tests in Java.  Writing the tests in a different language adds all sorts of complications.</p>\n\n<p>You have to maintain another programming language and attendant libraries.  They can have different caveats and bugs for the same actions, such as you ran into with a lack of a database driver in a certain environment.</p>\n\n<p>Having the tests done in a different language than the project is developed in drives a wedge between testing and development.  Developers will not feel responsible for participating in the testing process because they don't even know the language.</p>\n\n<p>With the tests written in a different language, they cannot leverage any work which has already been done.  They have to write all over again basic code to access and work with the data and services, doubling the work and doubling the bugs.  If the project code changes APIs or data structures, the test code can easily fall out of sync requiring extra maintenance hassles.</p>\n\n<p>Java already has well developed testing tools to do what you want.  The whole structure of running specific tests vs the whole test suite is built into test suites like jUnit.</p>\n\n<p>So I can underscore the point, I wrote Test::More and I'm recommending you <em>not</em> use it here.</p>\n"}], "owner": {"reputation": 9, "user_id": 2480909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19433777295af98e120581abdc762fca?s=128&d=identicon&r=PG", "display_name": "user2480909", "link": "https://stackoverflow.com/users/2480909/user2480909"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1426486198, "creation_date": 1426481833, "question_id": 29069861, "link": "https://stackoverflow.com/questions/29069861/query-on-test-automation-framework", "title": "Query on test automation framework", "body": "<p>This is regarding an issue I have been facing for sometime. Though I have found a solution, I really would like to get some opinion about the approach taken.\nWe have an application which receives messages from a host, does some processing and then pass that message on to an external system. This application is developed in Java and has to run on Linux/Oracle and HP-NonS top Tandem/SQLMX OS/DB combination.\nI have developed a test automation framework which is written in Perl.This script traverses directories (specified as an argument to this script)  and executes test cases specified under those directories. Test cases could be organized into directories as per functionality. This approach was taken to ensure that a specific functionality can also checked in addition to entire regression suite.For verification of the test results, script read test case specific input files which has sql queries mentioned in them.\nIn Linux/Oracle, Perl DBD/DBI interface is used to query Oracle database.\nWhen this automation tool was run in Tandem, I came to know that there was no DBD/DBI interface for SQLMX. When we contacted HP, they informed us that it would be a while before they develop DBD/DBI interfaces for SQLMX DB.\nTo circumvent this issue, I developed a small Java application which accepts DB connection string, user name, password and various other parameters. This Java app is now responsible for test case verification functionality.\nI must say it meets our current needs, but something tells me (do not know what) that approach taken is not a good one, though now I have the flexibility of running this automation with any DB which has a JDBC interface.\nCan you please provide feedback on the above approach and suggest a better solution?\nThanks in advance</p>\n"}, {"tags": ["arrays", "perl", "loops", "conditional", "grouping"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1426448477, "post_id": 29065237, "comment_id": 46366292, "body": "Stack Overflow is a site where experienced programmers can ask their peers for help with a problem that has them beaten. It isn&#39;t an opportunity for the world to get software engineering done for free. Would you consider offering your skills as a biologist for nothing? Do you think of Software Engineer as a <i>real job</i>?"}, {"owner": {"reputation": 17, "user_id": 4157683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d624dfb89a37119c1ab2ba7506b7bb8?s=128&d=identicon&r=PG&f=1", "display_name": "Angie", "link": "https://stackoverflow.com/users/4157683/angie"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426449999, "post_id": 29065237, "comment_id": 46366806, "body": "Mr.Borodin I am a undergrad student, who is working on cancer data to find significant genes for my project. I never taken programming courses before and I could&#39;nt afford to pay a software engineer to do this. I am just asking for help. I chose biology to serve the community once I become a biologist through my research not just for money. Kindly help me if possible.Thanks"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "edited": false, "score": 1, "creation_date": 1426460166, "post_id": 29065237, "comment_id": 46369939, "body": "@fugu I read it as &quot;grad&quot; student ... <i>sigh</i> Either way, without code, this question should be closed for now."}, {"owner": {"reputation": 46162, "user_id": 610573, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e385b6ee766f289fe921610c025717c0?s=128&d=identicon&r=PG", "display_name": "Chris Baker", "link": "https://stackoverflow.com/users/610573/chris-baker"}, "edited": false, "score": 0, "creation_date": 1428593667, "post_id": 29065237, "comment_id": 47237390, "body": "@Angie I wonder if you&#39;ll not take a paycheck from the pharmaceutical company that conducts the research you intend to do after graduation, and whether they&#39;ll give the resulting medicine away for free. All in the name of helping out, right? Our sense of fulfillment will keep our stomach&#39;s full!"}], "answers": [{"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1426459725, "post_id": 29066974, "comment_id": 46369822, "body": "Feel free to formulate a new question if you want your code to be corrected."}], "tags": [], "owner": {"reputation": 1763, "user_id": 1016442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97080849fb073d925fee1b8c8b22d85?s=128&d=identicon&r=PG", "display_name": "nlu", "link": "https://stackoverflow.com/users/1016442/nlu"}, "is_accepted": true, "score": -3, "last_activity_date": 1426458725, "creation_date": 1426458725, "answer_id": 29066974, "question_id": 29065237, "link": "https://stackoverflow.com/questions/29065237/looping-through-array-and-grouping-data-based-on-a-criteria-in-perl/29066974#29066974", "title": "Looping through array and grouping data based on a criteria in perl", "body": "<p>You can use the following as a start. </p>\n\n<p>I assumed, the data parts are split by single spaces, as given in your example and that data is in a file called \"data.txt\". </p>\n\n<p>The result is an array of arrays that contain the elements that are to be grouped together.</p>\n\n<pre><code>#!/usr/bin/perl\n#\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nopen(my $fd, \"&lt;\", \"data.txt\")\n    || die(\"could not open file: $!\");\n\n\nmy @sets;\n\nmy %last;\nmy $set_index = 0;\n\nwhile (&lt;$fd&gt;) {\n\n    my %current;\n\n    ($current{start}, $current{end}, undef, $current{sequence}) = split(\" \", $_);\n  if(exists($last{end}) &amp;&amp;\n       $current{start} - $last{end} &gt;= 55) {\n        push(@sets, []);\n        $set_index++;\n    }\n    push(@{$sets[$set_index]}, \\%current);\n\n    %last = %current;\n}\n\nprint Dumper(@sets);\n</code></pre>\n\n<p>Besides knowing arrays and hashes you also need to understand how complex data structures are built with perl using references. This is explained in <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">http://perldoc.perl.org/perlref.html</a> and there is an indepth introduction in <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">http://perldoc.perl.org/perlreftut.html</a>.</p>\n\n<p>This is definitely not the most succinct way of achieving what you want, but I hope, it is understandable.</p>\n\n<p>Nevertheless you won't have much joy using it, if you don't try to understand what is happening as you will need to make changes of your own.</p>\n"}], "owner": {"reputation": 17, "user_id": 4157683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d624dfb89a37119c1ab2ba7506b7bb8?s=128&d=identicon&r=PG&f=1", "display_name": "Angie", "link": "https://stackoverflow.com/users/4157683/angie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "closed_date": 1426498208, "accepted_answer_id": 29066974, "answer_count": 1, "score": -5, "last_activity_date": 1428593008, "creation_date": 1426448028, "last_edit_date": 1428593008, "question_id": 29065237, "link": "https://stackoverflow.com/questions/29065237/looping-through-array-and-grouping-data-based-on-a-criteria-in-perl", "closed_reason": "Needs more focus", "title": "Looping through array and grouping data based on a criteria in perl", "body": "<p>I have an array as mentioned below with four columns. Each column represents start, end position, DNA strand, and genes respectively. I want to categorize each rows into number of groups as mentioned below.</p>\n\n<p>Criteria: When the difference between end position of one row and start position of next rows is less than 55 then it will be grouped in one list. </p>\n\n<pre><code>410 1750 + dnaA     \n1939 3075 + dnaB     \n3206 3421 + daaR    \n3437 4549 + becG     \n4567 4812 + yaaB  \n4860 6783 + vyrY   \n15915 17381 + guaB   \n19062 19946 + UsaD  \n19968 20558 + byaE\n\noutput format:\n\nList 1:  \n410 1750 + dnaA\n\nList 2:  \n1939 3075 + dnaN\n\nList 3:  \n3206 3421 + yaaA  \n3437 4549 + recF  \n4567 4812 + yaaB  \n4860 6783 + gyrB\n\nList 4:   \n15915 17381 + guaB\n\nList 5:   \n19062 19946 + yaaD   \n19968 20558 + yaaE\n</code></pre>\n"}, {"tags": ["perl", "memory-leaks", "closures", "circular-reference"], "answers": [{"comments": [{"owner": {"reputation": 925, "user_id": 3090865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2fac1574e64da63ad35bafba6a7a35e?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg G", "link": "https://stackoverflow.com/users/3090865/oleg-g"}, "edited": false, "score": 0, "creation_date": 1426485839, "post_id": 29066366, "comment_id": 46375773, "body": "Oh, they broke backward compatibility :) Good to know!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 925, "user_id": 3090865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2fac1574e64da63ad35bafba6a7a35e?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg G", "link": "https://stackoverflow.com/users/3090865/oleg-g"}, "edited": false, "score": 0, "creation_date": 1426486221, "post_id": 29066366, "comment_id": 46375898, "body": "@Oleg G, Why do you say fixing this bug is a bad thing?"}, {"owner": {"reputation": 925, "user_id": 3090865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2fac1574e64da63ad35bafba6a7a35e?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg G", "link": "https://stackoverflow.com/users/3090865/oleg-g"}, "edited": false, "score": 0, "creation_date": 1426487062, "post_id": 29066366, "comment_id": 46376143, "body": "no, i don&#39;t think this is bad. Contrariwise, I think this is the case where backward compatibility should be broken. Sorry for misleading"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 8, "last_activity_date": 1426468622, "last_edit_date": 1426468622, "creation_date": 1426454808, "answer_id": 29066366, "question_id": 29065071, "link": "https://stackoverflow.com/questions/29065071/nested-closures-and-captured-variables/29066366#29066366", "title": "Nested closures and captured variables", "body": "<p>Perl used to over-capture in nested closures before, but it does not do so since 5.18.</p>\n\n<pre><code>$ tail -n 9 a.pl   # Modified to make clearer when the object is destroyed.\npackage main;\n\n{\n   my $a = Awesome-&gt;new;\n   $a-&gt;prepare('barbie','pony','flash');\n   $a-&gt;make();\n}\n\nprint \"done.\\n\";\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>$ 5.16.3t/bin/perl a.pl\nawesome: barbie\nawesome: pony\nawesome: flash\nAnd you have surprise: pony\ndone.\ndestroying at a.pl line 43 during global destruction.\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>$ 5.18.2t/bin/perl a.pl\nawesome: barbie\nawesome: pony\nawesome: flash\nAnd you have surprise: pony\ndestroying at a.pl line 43.\ndone.\n</code></pre>\n"}], "owner": {"reputation": 925, "user_id": 3090865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2fac1574e64da63ad35bafba6a7a35e?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg G", "link": "https://stackoverflow.com/users/3090865/oleg-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 1, "accepted_answer_id": 29066366, "answer_count": 1, "score": 4, "last_activity_date": 1426468622, "creation_date": 1426447139, "question_id": 29065071, "link": "https://stackoverflow.com/questions/29065071/nested-closures-and-captured-variables", "title": "Nested closures and captured variables", "body": "<p>I have this example with nested closures which demonstrates memory leak</p>\n\n<pre><code>use v5.10;\nuse strict;\n\npackage Awesome;\n\nsub new {\n    bless {steps =&gt; [], surprise =&gt; undef}, shift;\n}\n\nsub say {\n    print \"awesome: \", $_[1], \"\\n\";\n}\n\nsub prepare {\n    my ($self, @steps) = @_;\n\n    for my $s (@steps) {\n        push @{$self-&gt;{steps}}, sub {\n            $self-&gt;say($s);\n\n            if ($s eq 'pony') {\n                $self-&gt;{surprise} = sub {\n                    $s;\n                }\n            }\n        };\n    }\n}\n\nsub make {\n    my $self = shift;\n\n    while (my $step = shift @{$self-&gt;{steps}}) {\n        $step-&gt;();\n    }\n\n    if ($self-&gt;{surprise}) {\n        printf(\"And you have surprise: %s\\n\", $self-&gt;{surprise}-&gt;());\n    }\n}\n\nsub DESTROY {\n    warn \"destroying\";\n}\n\npackage main;\n\nmy $a = Awesome-&gt;new;\n$a-&gt;prepare('barbie','pony','flash');\n$a-&gt;make();\n</code></pre>\n\n<p>Output on my perl is</p>\n\n<pre><code>awesome: barbie\nawesome: pony\nawesome: flash\nAnd you have surprise: pony\ndestroying at /tmp/t.pl line 43 during global destruction.\n</code></pre>\n\n<p>And this \"during global destruction\" means that object couldn't be destroyed in normal way, because it has some circular references.</p>\n\n<p>However the only circular references are created by</p>\n\n<pre><code>push @{$self-&gt;{steps}}, sub {\n            $self-&gt;say($s);\n</code></pre>\n\n<p>where we are using $self inside first closure. And later inside make() we'll delete this steps and circular references. But looks like this nested closure with \"suprise\" makes problems. For example if we'll not pass \"pony\" to prepare() output will be good as expected:</p>\n\n<pre><code>awesome: barbie\nawesome: flash\ndestroying at /tmp/t.pl line 43.\n</code></pre>\n\n<p>So, is nested closures in perl captures the same variables as closure from upper level already captured even if we are not using them?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8685, "user_id": 2743458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r8R0W.jpg?s=128&g=1", "display_name": "bloodyKnuckles", "link": "https://stackoverflow.com/users/2743458/bloodyknuckles"}, "edited": false, "score": 0, "creation_date": 1426438899, "post_id": 29063327, "comment_id": 46362920, "body": "I don&#39;t think you can simply plug grep into a string substitution. What does <code>@array1</code> look like?"}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "reply_to_user": {"reputation": 8685, "user_id": 2743458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r8R0W.jpg?s=128&g=1", "display_name": "bloodyKnuckles", "link": "https://stackoverflow.com/users/2743458/bloodyknuckles"}, "edited": false, "score": 0, "creation_date": 1426441022, "post_id": 29063327, "comment_id": 46363739, "body": "@array1 contains strings in which some of them have TXD and RXD as substrings"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426445829, "post_id": 29063327, "comment_id": 46365428, "body": "If there is more than one element of <code>@rray1</code> that contains <code>TXD</code> then what do you want to replace <code>PIOMUX_UART1_TXD</code> with?"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426440323, "post_id": 29063440, "comment_id": 46363508, "body": "i did this... open my $f6,&#39;&lt;&#39;,&#39;t_code.txt&#39; or die $!; my @lines = &lt;$f6&gt;;  my @newlines; while (&lt;$f6&gt;) {     s/PIOMUX_UART1_TXD/join q(), grep m=txd=, @array1/eg;     s/PIOMUX_UART1_RXD/join q(), grep m=rxd=, @array1/eg;     print; }         close($f1); close($f6);"}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426453022, "post_id": 29063440, "comment_id": 46367760, "body": "open my $f6,&#39;&lt;&#39;,&#39;t_code.txt&#39; or die $!; open my $f7,&#39;&gt;&#39;,&#39;c_code2.txt&#39; or die $!;  my @lines = &lt;$f6&gt;;   my @newlines;    while (&lt;$f6&gt;)    {    $_ = s/PIOMUX_UART1_TXD/join q(), grep m=txd=, @array1/eg;    $_ = s/PIOMUX_UART1_RXD/join q(), grep m=rxd=, @array1/eg;    print $f7 &quot;$_&quot;;    }      close($f6);    close($f7);"}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426453078, "post_id": 29063440, "comment_id": 46367772, "body": "if i use the above code it gives an empty file c_code2.txt"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426454993, "post_id": 29063440, "comment_id": 46368361, "body": "@Grace90: Don&#39;t use the assignment operator <code>=</code> for matching, use the binding operator <code>=~</code>. Also, <code>$_ =~ s&#47;&#47;&#47;</code> is the same as <code>s&#47;&#47;&#47;</code>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1426438519, "creation_date": 1426438519, "answer_id": 29063440, "question_id": 29063327, "link": "https://stackoverflow.com/questions/29063327/how-to-get-the-output-for-this-code/29063440#29063440", "title": "How to get the output for this code?", "body": "<p>Several problems in the code:</p>\n\n<ol>\n<li><p>To be able to use code in the replacement part of a substitution, you must use the <code>/e</code> modifier.</p></li>\n<li><p>In a <code>s///</code> construct, you can't use <code>/</code> unquoted. Either change the separator, or backslash it.</p></li>\n<li><p>The replacement part in a substitution is a string. In case of code, it's evaluated in scalar context. <code>grep</code> in scalar context returns the number of matches.</p></li>\n</ol>\n\n<p>Cf:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nmy @array1 = qw( aTXDb cRXDd );\n\nwhile (&lt;DATA&gt;) {\n    s/PIOMUX_UART1_TXD/join q(), grep m=TXD=, @array1/eg;\n    s/PIOMUX_UART1_RXD/join q(), grep m=RXD=, @array1/eg;\n    print;\n}\n\n__DATA__\nPIOMUX_UART1_TXD\nPIOMUX_UART1_RXD\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426450818, "post_id": 29064902, "comment_id": 46367074, "body": "Its working fine for join i tried ...but in my case  there is going to be just one string containing txd and one containing rxd in array1 so i am doing                                      my $txd =  grep /TXD/, @array1; my $rxd =  grep /RXD/, @array1;                                                                               This is  returning numeric values in $txd and $rxd somehow instead of grepped strings"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426453481, "post_id": 29064902, "comment_id": 46367888, "body": "@Grace90: Okay I&#39;ve made a change to my solution. Give it another try."}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426455700, "post_id": 29064902, "comment_id": 46368588, "body": "Thanks a lot Borodin its working fine now :))  I&#39;ll really appreciate if you can let me know why was it returning numeric values and now its perfectly fine ."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426456436, "post_id": 29064902, "comment_id": 46368806, "body": "@Grace90: Because of point 3 from choroba&#39;s solution. <code>my $txd = grep ...</code> puts <code>grep</code> in scalar context, when it returns the <i>count</i> of the number of matching elements. Using ``my ($txd) = grep ...` applies list context instead, so <code>$txd</code> is set to the first of the list of matches that <code>grep</code> returns."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1426453452, "last_edit_date": 1426453452, "creation_date": 1426446349, "answer_id": 29064902, "question_id": 29063327, "link": "https://stackoverflow.com/questions/29063327/how-to-get-the-output-for-this-code/29064902#29064902", "title": "How to get the output for this code?", "body": "<p>Since <code>@array1</code> (a dreadful choice of identifier, by the way) doesn't change inside the loop, it is best to build the replacement strings outside instead of every time you make a replacement.</p>\n\n<p>It isn't clear exactly what string you want to replace <code>PIOMUX_UART1_TXD</code> and <code>PIOMUX_UART1_RXD</code> with, but this code joins all the matching elements of the array with commas and uses that. I hope it's cler how to do something different if you need to.</p>\n\n<p>I've also used a <code>while</code> loop, as there's no need to read the whole file into an array beforehand.</p>\n\n<pre><code>my ($in_file, $out_file) = qw/ t_code.txt c_code2.txt /;\n\nopen my $in_fh,  '&lt;', $in_file  or die qq{Unable to open \"$in_file\" for reading: $!};\nopen my $out_fh, '&gt;', $out_file or die qq{Unable to open \"$out_file\" for writing: $!};\n\nmy ($txd) = grep /TXD/, @array1;\nmy ($rxd) = grep /RXD/, @array1;\n\nwhile ( &lt;$in_fh&gt; ) {\n  s/PIOMUX_UART1_TXD/$txd/g;\n  s/PIOMUX_UART1_RXD/$rxd/g;\n  print $out_fh $_;\n}\n\nclose $out_fh or die $!;\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 29064902, "answer_count": 2, "score": 0, "last_activity_date": 1426453452, "creation_date": 1426437971, "last_edit_date": 1426445608, "question_id": 29063327, "link": "https://stackoverflow.com/questions/29063327/how-to-get-the-output-for-this-code", "title": "How to get the output for this code?", "body": "<p>I have a file <code>t_code.txt</code> in which I want to replace all occurrences of strings <code>PIOMUX_UART1_TXD</code> and <code>PIOMUX_UART1_RXD</code> with strings in <code>@array1</code> containing <code>TXD</code> and <code>RXD</code> respectively and then print it in new file <code>c_code2.txt</code> but it's not working</p>\n\n<pre><code>open my $f6, '&lt;', 't_code.txt' or die $!;\nmy @lines = &lt;$f6&gt;;\n\nmy @newlines;\nforeach (@lines) {\n    $_ =~ s/PIOMUX_UART1_TXD/ grep ( / TXD / )(@array1)/g;\n    $_ =~ s/PIOMUX_UART1_RXD/ grep ( / RXD / )(@array1)/g;\n    push(@newlines, $_);\n}\n\nclose($f6);\n\nopen my $output, '&gt;', 'c_code2.txt' or die \"Can't open the output file!\";\nprint $output @newlines;\nclose($output);\n</code></pre>\n"}, {"tags": ["html", "mysql", "perl", "cgi", "dbi"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 2, "creation_date": 1426429535, "post_id": 29061693, "comment_id": 46359646, "body": "<i>Always</i> <code>use strict; use warnings;</code>!"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1426430386, "post_id": 29061693, "comment_id": 46359942, "body": "<a href=\"https://metacpan.org/pod/CGI#CGI.pm-HAS-BEEN-REMOVED-FROM-THE-PERL-CORE\" rel=\"nofollow noreferrer\">CGI.pm has been removed from Perl code</a>. Consider using <a href=\"https://metacpan.org/pod/CGI::Alternatives\" rel=\"nofollow noreferrer\">one of the alternatives</a>."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1426430784, "post_id": 29061693, "comment_id": 46360060, "body": "Bah. Perl <b>core</b> not code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1426433305, "post_id": 29061693, "comment_id": 46360899, "body": "Do I understand correctly that the first script you show is <code>serverside.pl</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4634103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11879019eb31783b05f74720f041b8f7?s=128&d=identicon&r=PG&f=1", "display_name": "JustLewis", "link": "https://stackoverflow.com/users/4634103/justlewis"}, "edited": false, "score": 0, "creation_date": 1426430809, "post_id": 29061804, "comment_id": 46360064, "body": "So when I sent the variables from my other perl file to this one, I didn&#39;t actually send them? How can I send them from one Perl script to another?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 13, "user_id": 4634103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11879019eb31783b05f74720f041b8f7?s=128&d=identicon&r=PG&f=1", "display_name": "JustLewis", "link": "https://stackoverflow.com/users/4634103/justlewis"}, "edited": false, "score": 0, "creation_date": 1426430876, "post_id": 29061804, "comment_id": 46360080, "body": "What other Perl file? You didn&#39;t mention another Perl file in the question. You have obvious errors in this program and this answer already explains how to fix them."}, {"owner": {"reputation": 13, "user_id": 4634103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11879019eb31783b05f74720f041b8f7?s=128&d=identicon&r=PG&f=1", "display_name": "JustLewis", "link": "https://stackoverflow.com/users/4634103/justlewis"}, "edited": false, "score": 0, "creation_date": 1426431154, "post_id": 29061804, "comment_id": 46360159, "body": "I have another pl file which the html form originally sends the variables to just to display them as a receipt - I want to then send the vars on to this perl file at the top - I can paste the other perl file if it would help?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 13, "user_id": 4634103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11879019eb31783b05f74720f041b8f7?s=128&d=identicon&r=PG&f=1", "display_name": "JustLewis", "link": "https://stackoverflow.com/users/4634103/justlewis"}, "edited": false, "score": 0, "creation_date": 1426431353, "post_id": 29061804, "comment_id": 46360234, "body": "So the data is coming from a browser using an HTML form which another Perl script generates? It is possible that as well as the problems you have with the Perl you&#39;ve already shared, there are further problems with the form (in which case the generated HTML is relevant to the question but the Perl that generates it is probably not), but I&#39;d fix the problems we know exist before looking for more problems elsewhere."}, {"owner": {"reputation": 13, "user_id": 4634103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11879019eb31783b05f74720f041b8f7?s=128&d=identicon&r=PG&f=1", "display_name": "JustLewis", "link": "https://stackoverflow.com/users/4634103/justlewis"}, "edited": false, "score": 0, "creation_date": 1426431593, "post_id": 29061804, "comment_id": 46360323, "body": "tried your previous suggestion and it didn&#39;t help - I think because the actual problem is the passing of the variables - but I know the variables are successfully passing from the HTML form to the first perl file as it prints them out on the page - I&#39;ll post the other .pl above"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 0, "last_activity_date": 1426431751, "last_edit_date": 1426431751, "creation_date": 1426430130, "answer_id": 29061804, "question_id": 29061693, "link": "https://stackoverflow.com/questions/29061693/perl-cgi-sending-null-values-to-mysql-database/29061804#29061804", "title": "Perl CGI sending null values to mySQL database?", "body": "<p>You make the same mistake several times. I'll use the first instance an example:</p>\n\n<pre><code>$name = param($name);\n</code></pre>\n\n<p>You get the value of <code>$name</code> (which you haven't yet defined) and use it to get a param from the HTTP request. Since it isn't defined, you don't get the result you are looking for, so you don't get the submitted data in <code>$name</code>.</p>\n\n<p>Presumably you intended:</p>\n\n<pre><code>$name = param('name');\n</code></pre>\n\n<hr>\n\n<p>Update now you have the form you are using:</p>\n\n<pre><code>print qq!&lt;br&gt;&lt;form method=\"get\" action=\"serverside.pl\"&gt;!;\nprint qq!&lt;input type=\"submit\" value=\"Confirm Booking\" /&gt;\\n&lt;/form&gt;&lt;br /&gt;!;\n</code></pre>\n\n<p>You don't have any <code>&lt;input&gt;</code> elements except for the submit button (which doesn't have a <code>name</code> attribute), so there is no data to submit.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 4634103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11879019eb31783b05f74720f041b8f7?s=128&d=identicon&r=PG&f=1", "display_name": "JustLewis", "link": "https://stackoverflow.com/users/4634103/justlewis"}, "edited": false, "score": 0, "creation_date": 1426725449, "post_id": 29063602, "comment_id": 46495738, "body": "Thanks for the detailed reply, I stumbled through a solution a couple days back but this definitely clarifies the matter and helped me understand it better!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1426439962, "last_edit_date": 1426439962, "creation_date": 1426439315, "answer_id": 29063602, "question_id": 29061693, "link": "https://stackoverflow.com/questions/29061693/perl-cgi-sending-null-values-to-mysql-database/29063602#29063602", "title": "Perl CGI sending null values to mySQL database?", "body": "<p>You are misunderstanding the way CGI programs work. They don't send data to one-another: they are executed as a result of an action on a web browser, and if that action was a click on a form <em>submit</em> button then they will receive a set of parameters according to the names and contents of that form's <code>&lt;input&gt;</code> elements.</p>\n\n<p>Your scripts don't <code>use strict</code> as they should, and the <code>-w</code> on the shebang line pretty much duplicates the action of the <code>use warnings</code> statement. You should use just the latter.</p>\n\n<p>As Quentin says, the NULL values in the database are because you are calling <code>$name = param($name)</code> which, because <code>$name</code> is undefined, is the same as <code>$name = param('')</code>. You need to use a fixed string, like you did in your other script <code>$name = param('name')</code>.</p>\n\n<p>But that assumes that <em>somewhere</em> there is a CGI script or just an HTML file that has a <code>&lt;form&gt;</code> element with all those <code>&lt;input&gt;</code> fields. Clicking <code>submit</code> on such a form will execute the script specified in the <code>action</code> attribute and pass to it the contents of all the fields.</p>\n\n<p>The first of your two scripts is expecting form input, and writes the contents of that form to the database, while the second of the two (that you say is <em>the first perl file</em>!) is <em>also</em> expecting form input but builds a web page with the information. The problem is that you don't seem to have written that form anywhere.</p>\n\n<p>What I think you need is to combine the two CGI scripts, so that when <code>submit</code> is clicked the script <em>both</em> writes the information to the database <em>and</em> displays it on the screen. And you also need to write that form which, as I said could be just a plain HTML file.</p>\n\n<p>It is also common to combine the form input and the database update in one script, which checks to see if it has been passed any parameters. If there are none then it displays the input form and waits for a response. Otherwise they are used to update the database and put up a confirmation page. </p>\n\n<p>I hope this helps you.</p>\n"}], "owner": {"reputation": 13, "user_id": 4634103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11879019eb31783b05f74720f041b8f7?s=128&d=identicon&r=PG&f=1", "display_name": "JustLewis", "link": "https://stackoverflow.com/users/4634103/justlewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 29061804, "answer_count": 2, "score": 1, "last_activity_date": 1426439962, "creation_date": 1426429340, "last_edit_date": 1426431645, "question_id": 29061693, "link": "https://stackoverflow.com/questions/29061693/perl-cgi-sending-null-values-to-mysql-database", "title": "Perl CGI sending null values to mySQL database?", "body": "<p>Scenario: I have a HTML form that sends variables to a Perl CGI which then takes them and inserts them on to a SQL DB I created earlier, but the problem is that it sends only NULL values to the DB - it does send the \"correct number\" of nulls though so I don't know what is going wrong. I have a feeling it is something to do with the variable passing to the Perl not Perl to DB. The Perl file:</p>\n\n<pre><code>  #! \\xampp\\perl\\bin\\perl.exe -w\n\nrequire \"dbfunc.pl\";\n\nuse warnings;\nuse CGI qw/:standard/;\nuse CGI::Carp qw(fatalsToBrowser);\n\n\n$table  = \"routes\";\n#$spotted = \"spotted\";\n$booked = \"bookings\";\n$logged = \"log\";\n\n$dbh = getConnection();\n\n\n\n\nprint header;\nprint start_html(\"Journey Details\");\n\n$name = param($name);\n$email = param($email);\n$price = param($price);\n$date = param($date);\n$departure = param($departure);\n$arrival = param($arrival);\n$adults = param($adults);\n$children = param($children);\n$totalCost = param($totalCost);\n$departureTime = param($departureTime);\n$arrivalTime = param($arrivalTime);\n$jid = param($jid);\n\n\n\n    $dbh-&gt;do(\"INSERT INTO $logged VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\", undef,\n           $date, $date, $name, $email, $departure, $arrival, $departureTime, $adults, $children, $totalCost);\n\n    #my $sth = $dbh-&gt;prepare(qq{INSERT INTO $logged SET DateBooked=?, Journeydate=?, Name=?, Email=?, RouteFrom=?, RouteTo=? , DepartTime=?, Adults=?, Children=?, AmountPaid=?});\n    #$sth-&gt;execute($date, $date, $name, $email, $departure, $arrival, $departureTime, $adults, $children, $totalCost) or die $dbh-&gt;errstr;\n\n\nprint end_html;\n</code></pre>\n\n<p>The first perl file that initially takes the vars:</p>\n\n<pre><code>#! \\xampp\\perl\\bin\\perl.exe -w\n\nuse CGI qw(:standard);\n$query = new CGI;\n@parameters = $query -&gt; param;\n\nprint header, start_html(\"Receipt\");\n\n    print p(\"Your Journey Receipt\");\n\n    my $name = $query-&gt;param('name');\n    print (\"Name: $name\");\n\n    print br;\n\n    my $email = $query-&gt;param('email');\n    print (\"Email: $email\");\n\n    print br;\n\n    my $price = $query-&gt;param('price');\n    print (\"Price: &amp;pound$price\");\n\n    print br;\n\n    my $date = $query-&gt;param('date');\n    print (\"Journey date: $date\");\n\n    print br;\n\n    my $departure = $query-&gt;param('departure');\n    print (\"From: $departure\");\n\n    print br;\n\n    my $arrival = $query-&gt;param('arrival');\n    print (\"To: $arrival\");\n\n    print br;\n\n    my $adults = $query-&gt;param('adults');\n    print (\"Adults: $adults\");\n\n    print br;\n\n    my $children = $query-&gt;param('children');\n    print (\"Children: $children\");\n\n    print br;\n\n    my $totalCost = $query-&gt;param('totalCost');\n    print (\"Total Cost:  &amp;pound$totalCost\");\n\n    print br;\n\n    my $departureTime = $query-&gt;param('departureTime');\n    print (\"Departure: $departureTime\");\n\n    print br;\n\n    my $arrivalTime = $query-&gt;param('arrivalTime');\n    print (\"Arrival: $arrivalTime\");\n\n    print br;\n\n    my $jid = $query-&gt;param('jid');\n    print (\"Journey ID: $jid\");\n\n    print br;\n\n    print qq!&lt;br&gt;&lt;form&gt;&lt;input type=\"Button\" value=\"Back\" onclick=\"history.back()\"&gt;&lt;/form&gt;!;\n    print qq!&lt;br&gt;&lt;form method=\"get\" action=\"serverside.pl\"&gt;!;\n    print qq!&lt;input type=\"submit\" value=\"Confirm Booking\" /&gt;\\n&lt;/form&gt;&lt;br /&gt;!;\n\nprint end_html;\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4564217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZskJp.png?s=128&g=1", "display_name": "rbees", "link": "https://stackoverflow.com/users/4564217/rbees"}, "edited": false, "score": 0, "creation_date": 1426426829, "post_id": 29061186, "comment_id": 46358708, "body": "duhhhh, I knew it was something simple that I was just over looking"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "reply_to_user": {"reputation": 35, "user_id": 4564217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZskJp.png?s=128&g=1", "display_name": "rbees", "link": "https://stackoverflow.com/users/4564217/rbees"}, "edited": false, "score": 1, "creation_date": 1426427079, "post_id": 29061186, "comment_id": 46358797, "body": "Everything is simple when you know it. :)"}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 6, "last_activity_date": 1426426354, "creation_date": 1426426354, "answer_id": 29061186, "question_id": 29061158, "link": "https://stackoverflow.com/questions/29061158/beginning-perl-syntax-error-at/29061186#29061186", "title": "Beginning Perl syntax error at", "body": "<p>The syntax is <code>else {</code>, since there is no condition for <code>else</code>, whereas <code>elsif</code> does have a condition. The syntax is:</p>\n\n<pre><code>if (condition) {\n    ...\n}\nelsif (condition) {\n    ...\n}\nelse {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4564217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZskJp.png?s=128&g=1", "display_name": "rbees", "link": "https://stackoverflow.com/users/4564217/rbees"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 29061186, "answer_count": 1, "score": 3, "last_activity_date": 1426426354, "creation_date": 1426426201, "question_id": 29061158, "link": "https://stackoverflow.com/questions/29061158/beginning-perl-syntax-error-at", "title": "Beginning Perl syntax error at", "body": "<p>Thanks for the help I have found on this site by searching the web when looking for problems.</p>\n\n<p>It seams that I am unable to figure out just what the problem with this code is.  I was told that Perl was easier than Bash but now that I have tried it I am not sure that is true at all.  Anyway...I have been over this code and searched but have not been able to discover just what is wrong with it.  Part of the problem is that my old brain does not learn new things so easy as it once did. The code</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $target = 12;\nmy $guess=0;\nprint \"Guess my number!\\n\";\nprint \"Enter your guess: \";\n$guess = &lt;STDIN&gt;;\nwhile ($guess != $target) {\n  if ($target == $guess) {\n    print \"That's it! You guessed correctly!\\n\";\n    exit;\n  }\n  elsif ($guess &gt; $target) {\n    print \"Your number is bigger than my number\\n\";\n    print \"Try agin\";\n    print \"Enter a lower guess: \";\n    $guess = &lt;STDIN&gt;;\n  }\n  else ($guess &lt; $target) {  # syntax error at , near \"else (\"\n    print \"Your number is less than my number\\n\";\n    print \"Try agin\";\n    print \"Enter a higher guess: \";\n    $guess = &lt;STDIN&gt;;\n  }\n}  # syntax error at , near \"}\"\n</code></pre>\n\n<p>I am getting errors at the lines marked above.  Yet the code is identical to the code in the elsif just above it.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 0, "creation_date": 1426416125, "post_id": 29059586, "comment_id": 46355664, "body": "The <code>m&#47;w{2,}z$&#47;</code> looks for two or more of <code>w</code> then a <code>z</code> then end of string. Have you copied the regular expression correctly? Did you mean <code>m&#47;\\w{2,}z$</code>? The <code>g</code> after the match is not useful or necessary. Please provide a minimal example of code that we can run and that shows the problem you are getting. See <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 4672852, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8b69370523e93b55bd2d5d83e37e0ef3?s=128&d=identicon&r=PG&f=1", "display_name": "pubba", "link": "https://stackoverflow.com/users/4672852/pubba"}, "edited": false, "score": 0, "creation_date": 1426415691, "post_id": 29059622, "comment_id": 46355563, "body": "Thanks, it was really that easy. Hate to screw up the easy stuff. Cheers!"}], "tags": [], "owner": {"reputation": 28073, "user_id": 377037, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/fb2956c6a757f40f0ee02aa30fd2090f?s=128&d=identicon&r=PG", "display_name": "Tom van der Woerdt", "link": "https://stackoverflow.com/users/377037/tom-van-der-woerdt"}, "is_accepted": true, "score": 1, "last_activity_date": 1426415547, "creation_date": 1426415547, "answer_id": 29059622, "question_id": 29059586, "link": "https://stackoverflow.com/questions/29059586/regular-expression-working-only-irregular/29059622#29059622", "title": "Regular expression working only irregular", "body": "<p><code>w{2,}</code> means you want to see twice a <code>w</code>. Try <code>\\w{2,}</code>, which means you want two word characters (letters):</p>\n\n<pre><code>if($_ =~ m/\\w{2,}z$/ig)\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 4672852, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8b69370523e93b55bd2d5d83e37e0ef3?s=128&d=identicon&r=PG&f=1", "display_name": "pubba", "link": "https://stackoverflow.com/users/4672852/pubba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 29059622, "answer_count": 1, "score": 1, "last_activity_date": 1426415790, "creation_date": 1426415243, "last_edit_date": 1426415790, "question_id": 29059586, "link": "https://stackoverflow.com/questions/29059586/regular-expression-working-only-irregular", "title": "Regular expression working only irregular", "body": "<p>Coding in Perl and got the following piece of code, trying to match words with at least two letters as well as the ending character being a \"Z\"</p>\n\n<pre><code>if($_ =~ m/w{2,}z$/ig)\n</code></pre>\n\n<p>The file I'm reading from contains the following words:</p>\n\n<pre><code>ahahahahahahahahahahaz\nsfafafasfasfasfsvxcvcxZ\nabcdefghijklmnopqrstZ\nabcdefghijklmnopqrstz\n</code></pre>\n\n<p>Only <code>sfafafasfasfasfsvxcvcxZ</code> is being recognized. \nWhat am I missing here? </p>\n\n<p>Also, I would like to retrieve cases where the word might be:\n<code>thisisaword-iwanttoberecognizedZ</code> would it suffice to write the code as\n  <code>if($_ =~ m/D{2,}z$/ig)</code></p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1426409459, "post_id": 29058723, "comment_id": 46354128, "body": "Thanks, but I am aware of the <code>g</code> operator.. Using that I would get all matches at once. Sorry, this was not my intention, I would like to get each set of matches in groups. One group for each iteration of the while loop.."}, {"owner": {"reputation": 127, "user_id": 1200388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2943f6ee832214068c78c2eaed84a3a7?s=128&d=identicon&r=PG", "display_name": "Luke Mat", "link": "https://stackoverflow.com/users/1200388/luke-mat"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1426409588, "post_id": 29058723, "comment_id": 46354159, "body": "Ah okay. That may be possible with only regex but you could just split the string by a comma and do it that way."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1426409702, "post_id": 29058723, "comment_id": 46354188, "body": "Yes for this simple case, but in my actual situation, the string does not necessary contain commas. For example the string could be random file contents, and the user inputs both the file name and the regex.."}], "tags": [], "owner": {"reputation": 127, "user_id": 1200388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2943f6ee832214068c78c2eaed84a3a7?s=128&d=identicon&r=PG", "display_name": "Luke Mat", "link": "https://stackoverflow.com/users/1200388/luke-mat"}, "is_accepted": false, "score": 0, "last_activity_date": 1426409102, "last_edit_date": 1426409102, "creation_date": 1426408366, "answer_id": 29058723, "question_id": 29058546, "link": "https://stackoverflow.com/questions/29058546/how-to-use-global-matching-with-multiple-capture-groups/29058723#29058723", "title": "How to use global matching with multiple capture groups?", "body": "<p>To use global regex in perl you simply put a 'g' at the end like this: <code>$str =~ /REGEX/g;</code></p>\n\n<p>So you should change the regex line to be <code>my @a = $str =~ /Name: (\\w+) (\\w+)/g;</code> and you should get the result you are looking for.</p>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1426409927, "creation_date": 1426409927, "answer_id": 29058913, "question_id": 29058546, "link": "https://stackoverflow.com/questions/29058546/how-to-use-global-matching-with-multiple-capture-groups/29058913#29058913", "title": "How to use global matching with multiple capture groups?", "body": "<p>Seems like I just forgot a <code>.*?</code> to skip from the <code>\\G</code> anchor to the next match:</p>\n\n<pre><code>my @a = $str =~ /\\G.*?Name: (\\w+) (\\w+)/;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1426413515, "post_id": 29059274, "comment_id": 46355089, "body": "Nice, but I am afraid this does not meet the requirements I had in mind.. The names in <code>$str</code> was just a sample, the string does not have to contain names at all, it could be a Perl source file for example. I was trying to simplify the general case, by showing a specific case.. sorry if that was confusing.."}], "tags": [], "owner": {"reputation": 1296, "user_id": 790557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTS1c.jpg?s=128&g=1", "display_name": "jjpcondor", "link": "https://stackoverflow.com/users/790557/jjpcondor"}, "is_accepted": false, "score": 0, "last_activity_date": 1426413028, "creation_date": 1426413028, "answer_id": 29059274, "question_id": 29058546, "link": "https://stackoverflow.com/questions/29058546/how-to-use-global-matching-with-multiple-capture-groups/29059274#29059274", "title": "How to use global matching with multiple capture groups?", "body": "<p>from the input string which contains optional commas as separator, I have obtained this output (\"John Smith\", \"Bill Gates\", \"Mark Twain\") with this simple script:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dump;\n\nmy $str = 'Name: John Smith, Name: Bill Gates Name: Mark Twain';\n\nmy @person = split (/Name:/, $str);\nmy @a;\n\nforeach (@person) { \n    s/\\,//; # trim comma\n    s/^\\s+//; # trim leading space\n    s/\\s+$//; # trim trailing space\n    s/Name:\\s(\\w+) (\\[^,]+)/$1 $2/;\n    if ($_ ne \"\") {push @a, $_;}\n};\n\ndd @a;\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 29058913, "answer_count": 3, "score": 1, "last_activity_date": 1426413028, "creation_date": 1426406906, "question_id": 29058546, "link": "https://stackoverflow.com/questions/29058546/how-to-use-global-matching-with-multiple-capture-groups", "title": "How to use global matching with multiple capture groups?", "body": "<p>I am trying to use a regexp that contains multiple capture groups in a global search. The regex is input by the user, so I do not know the number of capture groups in advance. For each application of the regex, I would like to store the current matches in an array. Here is a simple example:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dump;\n\nmy $str = 'Name: John Smith, Name: Bill Gates';\n\npos($str) = 0;\nwhile (1) {\n\n    #Note: the regex is not known at compile time\n    my @a = $str =~ /\\GName: (\\w+) (\\w+)/;\n    dd @a;\n    last if @a == 0; \n    pos($str) = $+[0];\n}\n</code></pre>\n\n<p>However, this does not work. The output is:</p>\n\n<blockquote>\n  <p>(\"John\", \"Smith\")  </p>\n</blockquote>\n\n<p>Expected output would be:</p>\n\n<blockquote>\n  <p>(\"John\", \"Smith\")<br>\n  (\"Bill\", \"Gates\")</p>\n</blockquote>\n"}, {"tags": ["regex", "perl", "cloudflare", "lwp", "lwp-useragent"], "comments": [{"owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 1, "creation_date": 1426401730, "post_id": 29057331, "comment_id": 46352687, "body": "I see no question here."}, {"owner": {"reputation": 159, "user_id": 4671229, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93aa060c52816f0165dc5d43306c0b21?s=128&d=identicon&r=PG&f=1", "display_name": "Spenser Truex", "link": "https://stackoverflow.com/users/4671229/spenser-truex"}, "reply_to_user": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "edited": false, "score": 0, "creation_date": 1426433553, "post_id": 29057331, "comment_id": 46360994, "body": "The question was &#39;How does one access a site with cloudflare protection using LWP&#39; @DaveSherohman."}], "answers": [{"comments": [{"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1426434906, "post_id": 29059641, "comment_id": 46361457, "body": "LWP can do it just fine, if <code>cookie_jar</code> is set to an <code>HTTP::Cookies</code> object. All Mech does is set one up by default, while LWP leaves it up to the user."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1426434991, "post_id": 29059641, "comment_id": 46361499, "body": "In fact <code>$ua-&gt;cookie_jar({});</code> is enough to instantiate an in-memory cookie jar that will do the job."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 5, "last_activity_date": 1426456615, "last_edit_date": 1426456615, "creation_date": 1426415674, "answer_id": 29059641, "question_id": 29057331, "link": "https://stackoverflow.com/questions/29057331/waiting-for-cloudflare-ddos-protection-lwp-perl/29059641#29059641", "title": "Waiting for CloudFlare DDOS Protection LWP Perl", "body": "<p>The DDOS protection intercepts the request, sets a cookie and then redirects you to the target page. You have to submit the cookie you got from the interception on the next request to get through the DDOS protection. <a href=\"https://metacpan.org/pod/LWP::UserAgent\" rel=\"nofollow\">LWP</a> will do this for you if you create a cookie jar.</p>\n\n<pre><code>LWP::UserAgent-&gt;new( cookie_jar =&gt; {} )\n</code></pre>\n\n<p><a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"nofollow\">WWW::Mechanize</a>, a subclass of LWP::UserAgent, passes that argument to LWP::UserAgent for you, so you can also use</p>\n\n<pre><code> use WWW::Mechanize;\n my $ua = WWW::Mechanize-&gt;new;\n</code></pre>\n\n<p>When the <code>LWP::UserAgent</code> or <code>WWW::Mechanize</code> UA has a cookie jar, <code>get</code> will automatically accept the cookie, follow the redirection, and submit the cookie in the subsequent requests.</p>\n"}, {"tags": [], "owner": {"reputation": 159, "user_id": 4671229, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93aa060c52816f0165dc5d43306c0b21?s=128&d=identicon&r=PG&f=1", "display_name": "Spenser Truex", "link": "https://stackoverflow.com/users/4671229/spenser-truex"}, "is_accepted": true, "score": 1, "last_activity_date": 1426909015, "creation_date": 1426909015, "answer_id": 29178943, "question_id": 29057331, "link": "https://stackoverflow.com/questions/29057331/waiting-for-cloudflare-ddos-protection-lwp-perl/29178943#29178943", "title": "Waiting for CloudFlare DDOS Protection LWP Perl", "body": "<p>Cloudflare needed Javascript, so I used WWW::Mechanize::Firefox. Like this</p>\n\n<pre><code>#!/usr/bin/perl\nuse WWW::Mechanize::Firefox;\nsystem('firefox &amp;'); #The &amp; makes it so the program doesn't wait.\nsleep 5; #So firefox can load\n$mech = WWW::Mechanize::Firefox-&gt;new;\n$mech-&gt;get('http://www.mycloudflareblockedwebsite.com/');\nif($mech-&gt;content =~ /Test if it is the CLOUDFLARE source HTML page/) {\n      sleep 10; #Wait for cloudflare to do it's thing\n}\n</code></pre>\n\n<p>Taa daa!</p>\n\n<p>It took me a long time to do that.</p>\n"}], "owner": {"reputation": 159, "user_id": 4671229, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93aa060c52816f0165dc5d43306c0b21?s=128&d=identicon&r=PG&f=1", "display_name": "Spenser Truex", "link": "https://stackoverflow.com/users/4671229/spenser-truex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1813, "favorite_count": 0, "accepted_answer_id": 29178943, "answer_count": 2, "score": 3, "last_activity_date": 1432879452, "creation_date": 1426394816, "last_edit_date": 1426909090, "question_id": 29057331, "link": "https://stackoverflow.com/questions/29057331/waiting-for-cloudflare-ddos-protection-lwp-perl", "title": "Waiting for CloudFlare DDOS Protection LWP Perl", "body": "<p>Edit: Ended up using WWW::Mechanize::Firefox. I answered my own question below.</p>\n\n<p>I am trying to access a website and download it's page. The cloudflare DDOS protection on the site will occasionally come on, and I can't make LWP go through it. I can successfully detect that a page <em>is</em> a cloudflare splash page with the regex <code>/Ray ID: [a-f0-9]*/</code> but whenever I attempt to connect again I just get the same splash screen with a new Ray ID. Here is a (condensed) code sample:</p>\n\n<pre><code>use LWP::UserAgent;\n$ua = LWP::UserAgent-&gt;new;\n$ua-&gt;agent('Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Firefox/31.0 Iceweasel/31.3.0');\n$signin_url = 'my url';\n$signin_page = $ua-&gt;get($signin_url);\nif($signin_page-&gt;content =~ /Ray ID: ([a-f0-9]*)/i) {\n     print \"DDOS protection page here\\n\";\n     #more code to retry, but just gets back into this part of the IF\n } else {\n     print \"Not the DDOS page\\n\";\n     #now I would save to file\n}\n</code></pre>\n\n<p>Since that doesn't work I need to be able to do it another way.</p>\n"}, {"tags": ["perl", "sockets", "tcp"], "answers": [{"comments": [{"owner": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "edited": false, "score": 0, "creation_date": 1426394748, "post_id": 29057080, "comment_id": 46351589, "body": "thanks... it seems that data has to be passed as ASCII to set MSS value otherwise it will exceed the max bytes. Is there a way i can use decimal or hex?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "edited": false, "score": 0, "creation_date": 1426428395, "post_id": 29057080, "comment_id": 46359240, "body": "@user2896215 <code>0x000A</code> <i>is</i> hex. What is the exact issue you&#39;re having?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "edited": false, "score": 0, "creation_date": 1426431139, "post_id": 29057080, "comment_id": 46360156, "body": "@user2896215 Ah, looking at the source I think I see what you&#39;re talking about (I don&#39;t have a machine I can test on right now): try <code>data =&gt; [ &quot;\\x00\\x0A&quot; ]</code> instead. I didn&#39;t understand that <code>optset</code> wants binary strings (byte strings)."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 0, "last_activity_date": 1426431354, "last_edit_date": 1592644375, "creation_date": 1426391932, "answer_id": 29057080, "question_id": 29053741, "link": "https://stackoverflow.com/questions/29053741/how-to-set-tcp-options-mss-value-in-netrawip/29057080#29057080", "title": "how to set tcp options (MSS value) in Net::RawIP", "body": "<p>According to the <a href=\"https://metacpan.org/pod/Net::RawIP#optset-OPTPROTO-type-...-data\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><strong>optset(OPTPROTO =&gt; { type =&gt; [...],data =&gt; [...] },...)</strong></p>\n<p>[...] The value of the data also is an array reference. This array must be filled with <em>strings</em> which must contain all bytes from a option except bytes with type and length of an option.</p>\n</blockquote>\n<p>(emphasis added)</p>\n<p>You're passing a reference to an array of integers; you need to pass a reference to an array of strings. Try something like this:</p>\n<pre><code>$packet-&gt;optset( tcp =&gt; { type =&gt; [ 2 ], data =&gt; [ &quot;\\x00\\x0A&quot; ] } );\n</code></pre>\n<p><a href=\"http://www.iana.org/assignments/tcp-parameters/tcp-parameters.xhtml\" rel=\"nofollow noreferrer\">The length of the maximum segment size field is 4</a>, which includes one byte for the kind field, one byte for the length field, and two bytes for the data itself, so you need to pass a two-byte string as above.</p>\n"}], "owner": {"reputation": 447, "user_id": 2896215, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/197d27a820d10c716a4cdc2c024d3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "user2896215", "link": "https://stackoverflow.com/users/2896215/user2896215"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 29057080, "answer_count": 1, "score": 1, "last_activity_date": 1426431354, "creation_date": 1426364355, "last_edit_date": 1426376467, "question_id": 29053741, "link": "https://stackoverflow.com/questions/29053741/how-to-set-tcp-options-mss-value-in-netrawip", "title": "how to set tcp options (MSS value) in Net::RawIP", "body": "<p>Can i set Maximum segment size to some value when using Net::RawIP?</p>\n\n<p>I am trying the below code but don't know how can i set MSS value in TCP options to custom value. </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Net::RawIP;\n\n$packet = new Net::RawIP;\n\n$packet-&gt;set({\n    ip  =&gt; {\n        saddr =&gt; '192.168.122.128',\n        daddr =&gt; '192.168.122.1'\n    },\n    tcp =&gt; { source =&gt; 2323,\n        dest    =&gt; 8080,\n        syn     =&gt; 1,\n        seq     =&gt; 100,\n        ack_seq =&gt; 0,\n        data    =&gt; 'hello world'\n    }\n});\n\n$packet-&gt;optset(tcp =&gt; { type =&gt; [ (2) ], data =&gt; [ (10) ] });\n\n$packet-&gt;send(0, 1); \n</code></pre>\n"}, {"tags": ["perl", "sorting", "multidimensional-array", "data-structures", "hash"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1426371615, "post_id": 29052889, "comment_id": 46347169, "body": "You&#39;re doing something wrong when you use things like <code>locus4 &gt;9.+.2668516.2768570.GABA3.1.54.6586237.2718516.2718570 45880 46000 locus4</code> as hash keys. It looks like you&#39;re using an entire line from a space- or tab-separated file as a key; instead, consider splitting out the relevant pieces of data and using human-readable names as keys, e.g. <code>my %loci = ( locus4 =&gt; { width =&gt; 45880, type =&gt; &#39;GABA3&#39; } );</code> (I have no idea what your data really represents so I just made these up, but I hope you get the gist)."}, {"owner": {"reputation": 584, "user_id": 1487449, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/p2mW4.jpg?s=128&g=1", "display_name": "Cristian Velandia", "link": "https://stackoverflow.com/users/1487449/cristian-velandia"}, "edited": false, "score": 0, "creation_date": 1426381941, "post_id": 29052889, "comment_id": 46349495, "body": "The main idea, is organise. So, I want to create this key for the %hash to classify my tabulated-data...Any suggestions to organise or to reference in two different strings those values? Because I can compare with a conditional."}, {"owner": {"reputation": 3414, "user_id": 40285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1574e7851a08a81faca7e0f87575510e?s=128&d=identicon&r=PG", "display_name": "Len Jaffe", "link": "https://stackoverflow.com/users/40285/len-jaffe"}, "edited": false, "score": 0, "creation_date": 1426533517, "post_id": 29052889, "comment_id": 46403082, "body": "In order to organize your data we&#39;ll need to become for familiar with your data domain. Care to elaborate?"}], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1426360262, "creation_date": 1426360262, "answer_id": 29053064, "question_id": 29052889, "link": "https://stackoverflow.com/questions/29052889/how-can-i-sort-a-hash-of-hashes-of-array-of-arrays-by-inner-array-in-value-in/29053064#29053064", "title": "How can I sort a Hash of hashes of Array of Arrays by (inner) array in value in Perl", "body": "<p>To get the last element, use the index of -1.</p>\n\n<pre><code>my $inner_hash = $hash{'locus4 &gt;9.+.2668516.2768570.GABA3.1.54.6586237.2718516.2718570 45880 46000 locus4'};\n\nmy @sorted = sort { $inner_hash-&gt;{$a}[-1]\n                    &lt;=&gt;\n                    $inner_hash-&gt;{$b}[-1]\n                } keys %$inner_hash;\nprint \"@sorted\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1426511336, "creation_date": 1426511336, "answer_id": 29077656, "question_id": 29052889, "link": "https://stackoverflow.com/questions/29052889/how-can-i-sort-a-hash-of-hashes-of-array-of-arrays-by-inner-array-in-value-in/29077656#29077656", "title": "How can I sort a Hash of hashes of Array of Arrays by (inner) array in value in Perl", "body": "<p>To sort a list by comparing some expression on each element individually, you might like to use the collection of functions in <code>List::UtilsBy</code> called <code>sort_by</code>. Specifically in this case as the key expression is returning a number to be compared numerically, you'll want to use <code>nsort_by</code>:</p>\n\n<pre><code>use List::UtilsBy 'nsort_by';\n\nmy @sorted = nsort_by { $_-&gt;[-1] } @items;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": false, "score": 0, "last_activity_date": 1426513308, "creation_date": 1426513308, "answer_id": 29078316, "question_id": 29052889, "link": "https://stackoverflow.com/questions/29052889/how-can-i-sort-a-hash-of-hashes-of-array-of-arrays-by-inner-array-in-value-in/29078316#29078316", "title": "How can I sort a Hash of hashes of Array of Arrays by (inner) array in value in Perl", "body": "<p>Keys in the hash doesn't have any order so if you want to have keys in order you have to change your inner hash into an array.</p>\n\n<pre><code>my %hash = (\n    'locus4 &gt;9.+.2668516.2768570.GABA3.1.54.6586237.2718516.2718570 45880 46000 locus4'\n        =&gt; {\n        '-1.19 +' =&gt; [ [ '+', '2', '120', '0.76', '0.809799' ] ],\n        '-1.19 -' =&gt; [ [ '-', '2', '120', '0.19', '0.585090' ] ]\n        }\n);\n\nfor my $value ( values %hash ) {\n    $value = [\n        map +[ $_, $value-&gt;{$_} ],\n        sort { $value-&gt;{$a}[0][-1] &lt;=&gt; $value-&gt;{$b}[0][-1] } keys %$value\n    ];\n}\n</code></pre>\n\n<p>The result will be</p>\n\n<pre><code>'locus4 &gt;9.+.2668516.2768570.GABA3.1.54.6586237.2718516.2718570 45880 46000 locus4'\n    =&gt; [\n    [ '-1.19 -', [ [ '-', '2', '120', '0.19', '0.585090' ] ] ],\n    [ '-1.19 +', [ [ '+', '2', '120', '0.76', '0.809799' ] ] ]\n    ]\n</code></pre>\n\n<p>I would recommend removing double array in inside so code would look like:</p>\n\n<pre><code>for my $value ( values %hash ) {\n    $value = [\n        map +[ $_, $value-&gt;{$_}[0] ],\n        sort { $value-&gt;{$a}[0][-1] &lt;=&gt; $value-&gt;{$b}[0][-1] } keys %$value\n    ];\n}\n</code></pre>\n\n<p>and the result:</p>\n\n<pre><code>'locus4 &gt;9.+.2668516.2768570.GABA3.1.54.6586237.2718516.2718570 45880 46000 locus4'\n    =&gt; [\n    [ '-1.19 -', [ '-', '2', '120', '0.19', '0.585090' ] ],\n    [ '-1.19 +', [ '+', '2', '120', '0.76', '0.809799' ] ]\n    ]\n</code></pre>\n"}], "owner": {"reputation": 584, "user_id": 1487449, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/p2mW4.jpg?s=128&g=1", "display_name": "Cristian Velandia", "link": "https://stackoverflow.com/users/1487449/cristian-velandia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "closed_date": 1426653208, "answer_count": 3, "score": 1, "last_activity_date": 1426513308, "creation_date": 1426359304, "last_edit_date": 1426361173, "question_id": 29052889, "link": "https://stackoverflow.com/questions/29052889/how-can-i-sort-a-hash-of-hashes-of-array-of-arrays-by-inner-array-in-value-in", "closed_reason": "Duplicate", "title": "How can I sort a Hash of hashes of Array of Arrays by (inner) array in value in Perl", "body": "<p>I have this data-structure, product of my data:</p>\n\n<pre><code>'locus4 &gt;9.+.2668516.2768570.GABA3.1.54.6586237.2718516.2718570 45880 46000 locus4' =&gt; {\n    '-1.19 +' =&gt; [\n        [\n            '+', '2', '120', '0.76', '0.809799'\n        ]\n    ],\n    '-1.19 -' =&gt; [\n        [\n            '-', '2', '120', '0.19', '0.585090'\n        ]\n    ]\n}\n</code></pre>\n\n<p>I want to organize it according to the <strong>last value</strong> of the 'inside' array that corresponds to the data grouped by a 'inside' key, in this case: '-1.19 +' and '-1.19 -'. Because I want to put the the key that has the greatest value of the inside array, on the bottom of my hash.</p>\n\n<p>In other words:</p>\n\n<pre><code>'locus4 &gt;9.+.2668516.2768570.GABA3.1.54.6586237.2718516.2718570 45880 46000 locus4' =&gt; {\n    '-1.19 -' =&gt; [\n        [\n            '-', '2', '120', '0.19', '0.585090'\n        ]\n    ],\n    '-1.19 +' =&gt; [\n        [\n            '+', '2', '120', '0.76', '0.809799'\n        ]\n    ]\n}\n</code></pre>\n\n<p>How Can I do this task, because I want to select the key that has the greater value, so I want to shift the other ones.</p>\n\n<p>Any suggestions? Thanks in advance.</p>\n"}, {"tags": ["perl", "backticks"], "comments": [{"owner": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 2, "creation_date": 1426355744, "post_id": 29052080, "comment_id": 46342226, "body": "What do you expect &quot;change directory&quot; to return and hence to be printed? Are you asking the wrong question, are you expecting the working directory of the Perl program to be changed? Please be more specific about the problem and what you want to achieve."}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "reply_to_user": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 0, "creation_date": 1426369110, "post_id": 29052080, "comment_id": 46346420, "body": "I&#39;m expecting that when the program exits, the prompt will show that it is in the new directory. It isn&#39;t! Subsequent commands using files in that directory fail. Kapish?"}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "reply_to_user": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 0, "creation_date": 1426369587, "post_id": 29052080, "comment_id": 46346574, "body": "Also, the print returns any error messages. There were none in this case."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1426373339, "post_id": 29052080, "comment_id": 46347589, "body": "<b><i>Kapish?</i></b> Are you serious?! You are so blinded by a lack of understanding. Yes, we do <b><i>capisce</i></b>! That&#39;s why we are trying to explain to you that the `` cd \\\\ `` is going to succeed in the subshell, but will not do anything visible to your Perl program. Subsequent `` somecmd `` invocations will start independent subshells in which the current directory is still unchanged. That&#39;s why you need to <code>chdir</code> in your Perl script."}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1426394984, "post_id": 29052080, "comment_id": 46351618, "body": "Though I already tried chdir, and it didn&#39;t work, your confidence inspired me to try it again. It still didn&#39;t work, with no error message printed. When I gave it an illegal address, an error message was printed."}], "answers": [{"comments": [{"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1426369151, "post_id": 29052282, "comment_id": 46346434, "body": "chdir does exactly the same thing, which is not surprising, since it is a synonym."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 5, "creation_date": 1426370257, "post_id": 29052282, "comment_id": 46346748, "body": "@user1067305 Don&#39;t confuse the <a href=\"https://technet.microsoft.com/en-us/library/bb490875.aspx\" rel=\"nofollow noreferrer\">Windows command</a> <code>chdir</code> with the <a href=\"http://perldoc.perl.org/functions/chdir.html\" rel=\"nofollow noreferrer\">Perl function</a> <code>chdir</code>. The former will only change the working directory of the shell it is invoked in; the latter will change the working directory of your Perl script."}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1426396389, "post_id": 29052282, "comment_id": 46351797, "body": "AHA! That&#39;s the answer!! I WAS using chdir as a windows command in the backticks. Using it as the perl command, followed by a dir in backticks, gave me the dir of the targeted folder. Thank you all!"}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "reply_to_user": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 1, "creation_date": 1426464494, "post_id": 29052282, "comment_id": 46370988, "body": "@user1067305 it&#39;s great you got your program working, but do you understand why cd in backticks did not do what you expected? It really is worth taking the time to understand what it was doing and why it wasn&#39;t what you wanted. For similar reasons, attempting to change environment variables like %PATH using backticks will also appear to fail."}, {"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1426560938, "post_id": 29052282, "comment_id": 46413418, "body": "Yes, thank you. I believe I do. The confusion here arose because I was translating a simple script from a batch file into perl, and some of the commands worked and some didn&#39;t. You guys explained why. The other confusion was that people said &quot;use chdir&quot;, but there are TWO chdirs, the windows one and the perl one, and that&#39;s where you set me straight."}], "tags": [], "owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "is_accepted": true, "score": 7, "last_activity_date": 1426355947, "creation_date": 1426355947, "answer_id": 29052282, "question_id": 29052080, "link": "https://stackoverflow.com/questions/29052080/perl-backticks-not-working-for-cd-why/29052282#29052282", "title": "perl backticks not working for cd. Why?", "body": "<p>You may be looking for <a href=\"http://perldoc.perl.org/functions/chdir.html\" rel=\"noreferrer\"><code>chdir</code></a>. Using a shell command in backticks is not going to have a lasting effect. When you run a backtick command, you spawn a new shell, execute the command, and return the standard output to Perl. Then the shell exits and any and all changes to it is lost. </p>\n"}, {"comments": [{"owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "edited": false, "score": 0, "creation_date": 1426369255, "post_id": 29052907, "comment_id": 46346470, "body": "The command is part of a script which executes many other commands, all of which work. Commands in the same script which follow the cd fail because the directory has not changed."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1426373544, "last_edit_date": 1592644375, "creation_date": 1426359372, "answer_id": 29052907, "question_id": 29052080, "link": "https://stackoverflow.com/questions/29052080/perl-backticks-not-working-for-cd-why/29052907#29052907", "title": "perl backticks not working for cd. Why?", "body": "<p><a href=\"https://metacpan.org/pod/perlfaq8#I-changed-directory-modified-my-environment-in-a-perl-script.-How-come-the-change-disappeared-when-I-exited-the-script-How-do-I-get-my-changes-to-be-visible\" rel=\"nofollow noreferrer\">perldoc -q changed</a></p>\n<blockquote>\n<h3>I {changed directory, modified my environment} in a perl script. How come the change disappeared when I exited the script? How do I get my changes to be visible?</h3>\n<p>In the strictest sense, it can't be done--the script executes as a different process from the shell it was started from. Changes to a process are not reflected in its parent--only in any children created after the change.</p>\n</blockquote>\n"}], "owner": {"reputation": 2531, "user_id": 1067305, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d0d62c9f798697f2c32f86d66f5e4a86?s=128&d=identicon&r=PG", "display_name": "user1067305", "link": "https://stackoverflow.com/users/1067305/user1067305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 0, "accepted_answer_id": 29052282, "answer_count": 2, "score": -5, "last_activity_date": 1426373544, "creation_date": 1426354725, "last_edit_date": 1426355991, "question_id": 29052080, "link": "https://stackoverflow.com/questions/29052080/perl-backticks-not-working-for-cd-why", "title": "perl backticks not working for cd. Why?", "body": "<p>I'm using AS perl on win7.</p>\n\n<pre><code>print `cd \\\\\\\\ `; # does nothing, says nothing\n</code></pre>\n\n<p>Same with qx() </p>\n\n<pre><code>print `dir \\\\\\\\ `;  # correctly prints the root directory\n</code></pre>\n\n<p>other commands also seem to work fine.</p>\n\n<p>cd works fine from the command line of a batch file.</p>\n\n<p>Has anyone else seen this? Is there a workaround?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426352091, "post_id": 29051514, "comment_id": 46340967, "body": "Thanks its working now :) ...One more thing  when we grep from array and put in array1 then a new line charater is added at the end of each element on its own?"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426352360, "post_id": 29051514, "comment_id": 46341065, "body": "@Grace90 no, it was already there when you read it from the file. Use <code>chomp</code> to remove it."}], "tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 0, "last_activity_date": 1426351654, "creation_date": 1426351654, "answer_id": 29051514, "question_id": 29051491, "link": "https://stackoverflow.com/questions/29051491/how-to-get-the-output-for-the-following-code/29051514#29051514", "title": "How to get the output for the following code?", "body": "<p>In <code>my @array1 = grep ...</code>, remove the <code>my</code>. You're declaring a <em>new</em> <code>@array1</code> inside the foreach loop that doesn't exist outside of the loop, while the original <code>@array1</code> stays empty.</p>\n"}], "owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 29051514, "answer_count": 1, "score": 0, "last_activity_date": 1426368364, "creation_date": 1426351530, "last_edit_date": 1426368364, "question_id": 29051491, "link": "https://stackoverflow.com/questions/29051491/how-to-get-the-output-for-the-following-code", "title": "How to get the output for the following code?", "body": "<p>I have a file output1.txt which has one string per line. I want to extract the strings which contain either of the substrings 'rxd' or 'txd' or 'cts' or 'rts' along with '<em>UART</em>' which should be there in the string with any four of these and then write it back in output1.txt but I am getting a blank file after running this code.</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\nmy @array1;\n\nopen my $abc , '&lt;', 'output1.txt' or die $!;\nmy @array = &lt;$abc&gt;;\nforeach $_ (@array) {\n    my @array1 = grep {\n        ( /txd/ || /rxd/ || /cts/ || /rts/ ) &amp;&amp; ( /_UART_/ )\n    } (@array);\n}\nclose $abc;\n\nopen my $f1 , '&gt;', 'output1.txt' or die $!;\nforeach (@array1) {\n    print $f1 \"$_\\n\";\n}\nclose $f1;\n</code></pre>\n"}, {"tags": ["linux", "perl", "sockets", "network-programming"], "answers": [{"tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1426351775, "creation_date": 1426351775, "answer_id": 29051537, "question_id": 29050544, "link": "https://stackoverflow.com/questions/29050544/httpdaemon-and-debug-error-codes/29051537#29051537", "title": "HTTP::Daemon and debug error codes", "body": "<p>You can just check <code>$!</code> (i.e. the errno from the underlying system call) for problems while initializing the underlying socket. And more than creating the listener is not done inside <code>HTTP::Daemon::new</code></p>\n\n<pre><code>HTTP::Daemon-&gt;new(...) or die \"error: $!\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": true, "score": 0, "last_activity_date": 1426353286, "creation_date": 1426353286, "answer_id": 29051808, "question_id": 29050544, "link": "https://stackoverflow.com/questions/29050544/httpdaemon-and-debug-error-codes/29051808#29051808", "title": "HTTP::Daemon and debug error codes", "body": "<p>If I'm not root and I run this against a privileged ( &lt; 1024 ) port or against a higher port that is already in use:</p>\n\n<pre><code>#!perl\n# HTTP_daemon.pl \n\nuse HTTP::Daemon;      \nuse warnings;      \nmy $d = HTTP::Daemon-&gt;new(LocalAddr=&gt;\"127.0.0.1\", \n                       LocalPort=&gt;\"88\",     \n                       ReuseAddr=&gt;'1') || die \"$!\";\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>Permission denied at HTTP_daemon.pl line 4.\n</code></pre>\n\n<p>For errors and status codes related to HTTP use <a href=\"http://www.metacpan.org\" rel=\"nofollow\"><code>HTTP::Status</code></a>.</p>\n"}], "owner": {"reputation": 29, "user_id": 2903871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e83d593f904515ed8d393f01d0269a5e?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/2903871/mihai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 29051808, "answer_count": 2, "score": 1, "last_activity_date": 1426353286, "creation_date": 1426346463, "last_edit_date": 1426350653, "question_id": 29050544, "link": "https://stackoverflow.com/questions/29050544/httpdaemon-and-debug-error-codes", "title": "HTTP::Daemon and debug error codes", "body": "<p>How can I debug error codes when the daemon itself can not be initialized:</p>\n\n<pre><code>my $d = HTTP::Daemon-&gt;new(LocalAddr=&gt;$ae::Settings{ip},\n                       LocalPort=&gt;$ae::Settings{port},\n                       ReuseAddr=&gt;'1') || die \"error\";\n</code></pre>\n\n<p>What I would like is more specific error codes instead of a simple 'die'. For example if I can't bind to certain ports, <em>etc.</em></p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426337148, "post_id": 29048815, "comment_id": 46336314, "body": "ok got it so $/ now becomes local to the file so it reads the file in one go just as by default it will read the line in one go...thanks a lot !!"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1426356708, "post_id": 29048815, "comment_id": 46342538, "body": "No, it isn&#39;t local to the file. It is local to the block."}, {"owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "edited": false, "score": 0, "creation_date": 1426361053, "post_id": 29048815, "comment_id": 46343994, "body": "By block u mean {} is it ? and in {}  in the code its just opening the file in read mode so in this specific case it must be local to the file...please correct me if i am wrong!"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1426356702, "last_edit_date": 1426356702, "creation_date": 1426335460, "answer_id": 29048815, "question_id": 29048699, "link": "https://stackoverflow.com/questions/29048699/why-do-we-have-to-localize-in-the-code/29048815#29048815", "title": "Why do we have to localize $/ in the code?", "body": "<p><code>$/</code> is the record separator which is used for reading bits of a file at a time in a <code>while</code> loop. By default it's 'new line'. </p>\n\n<p>However it's bad form to change it globally, because it may break other bits of your program. </p>\n\n<p><code>local</code> avoids this problem, by scoping the change to the current scope (practically 'this set of <code>{}</code>'). By default - when you <code>local</code>ize in this way, it sets the value to <code>undef</code>. Which means you'll read the whole file in one go.</p>\n\n<p>So what this means is - read everything in <code>$fh</code> into <code>$data</code> but don't mess with <code>$/</code> globally. </p>\n"}], "owner": {"reputation": 149, "user_id": 4659538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/08fa960fe310d1044d9a175f4961bd39?s=128&d=identicon&r=PG&f=1", "display_name": "Grace90", "link": "https://stackoverflow.com/users/4659538/grace90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "closed_date": 1426653246, "accepted_answer_id": 29048815, "answer_count": 1, "score": 0, "last_activity_date": 1426356702, "creation_date": 1426334648, "last_edit_date": 1426336753, "question_id": 29048699, "link": "https://stackoverflow.com/questions/29048699/why-do-we-have-to-localize-in-the-code", "closed_reason": "Duplicate", "title": "Why do we have to localize $/ in the code?", "body": "<p>I have this code which reads a file and then prints each string separated by a space in the next line in another file output1.txt. What I am wondering is if i remove $/ , it takes only the first line of uart1.txt. What is local doing here and in the end file handle is returned in $data? Is there any way I can do this task?</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nopen STDOUT, \"&gt;\", \"output1.txt\" or die \"$0: open: $!\";\n\nuse strict; \nuse warnings;\n\nmy $data= do {\nopen my $fh , '&lt;','D:\\perl_learning\\uart1.txt' or die $!;\n local $/;\n&lt;$fh&gt;;\n};\n\nwhile($data =~ /(\\S+)/g)\n{\nmy $word=$1;\nprintf\"%s\\n\",$word; \n};    \n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1426331474, "post_id": 29048111, "comment_id": 46334782, "body": "This is not specific to Pod::Text::Termcap, but with POD formatting in general."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1426331989, "post_id": 29048111, "comment_id": 46334910, "body": "@Schwern Do you have any references?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1426332417, "post_id": 29048111, "comment_id": 46334999, "body": "<code>perldoc -oman</code> and <code>perldoc -otext</code> both have the same behavior (they were written by the same person).  <code>perldoc -ohtml</code> doesn&#39;t bother quoting, probably because the <code>&lt;code&gt;</code> tag makes it unnecessary."}], "answers": [{"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1426332698, "post_id": 29048328, "comment_id": 46335067, "body": "Thanks for the reference! What do they mean by <code>&quot;not quote things that don&#39;t benefit from being quoted&quot;</code>? If I write <code>C&lt;$1&gt;</code> I obviously want it to stand out in some way. Why remove the formatting indicated by the user?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1426333838, "post_id": 29048328, "comment_id": 46335358, "body": "@H&#229;konH&#230;gland I&#39;ve updated the answer with my best guess.  I think they figured <code>$1</code> already stands out."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 2, "last_activity_date": 1426333809, "last_edit_date": 1426333809, "creation_date": 1426332196, "answer_id": 29048328, "question_id": 29048111, "link": "https://stackoverflow.com/questions/29048111/how-to-output-code-text-with-numbers-using-podtexttermcap/29048328#29048328", "title": "How to output code text with numbers using Pod::Text::Termcap?", "body": "<p>The answer lies in <a href=\"https://metacpan.org/source/RRA/podlators-2.5.3/lib/Pod/Text.pm#L583\" rel=\"nofollow\"><code>Pod::Text-&gt;cmd_c</code></a> which was written by Russ Allbery back in 2001 and remains largely unchanged.  The function has comments explaining what was thought not to benefit from quoting.</p>\n\n<pre><code># Apply a whole bunch of messy heuristics to not quote things that don't\n# benefit from being quoted.  These originally come from Barrie Slaymaker and\n# largely duplicate code in Pod::Man.\nsub cmd_c {\n    my ($self, $attrs, $text) = @_;\n\n    # A regex that matches the portion of a variable reference that's the\n    # array or hash index, separated out just because we want to use it in\n    # several places in the following regex.\n    my $index = '(?: \\[.*\\] | \\{.*\\} )?';\n\n    # Check for things that we don't want to quote, and if we find any of\n    # them, return the string with just a font change and no quoting.\n    $text =~ m{\n      ^\\s*\n      (?:\n         ( [\\'\\`\\\"] ) .* \\1                             # already quoted\n       | \\` .* \\'                                       # `quoted'\n       | \\$+ [\\#^]? \\S $index                           # special ($^Foo, $\")\n       | [\\$\\@%&amp;*]+ \\#? [:\\'\\w]+ $index                 # plain var or func\n       | [\\$\\@%&amp;*]* [:\\'\\w]+ (?: -&gt; )? \\(\\s*[^\\s,]\\s*\\) # 0/1-arg func call\n       | [+-]? ( \\d[\\d.]* | \\.\\d+ ) (?: [eE][+-]?\\d+ )? # a number\n       | 0x [a-fA-F\\d]+                                 # a hex constant\n      )\n      \\s*\\z\n     }xo &amp;&amp; return $text;\n\n    # If we didn't return, go ahead and quote the text.\n    return $$self{opt_alt}\n        ? \"``$text''\"\n        : \"$$self{LQUOTE}$text$$self{RQUOTE}\";\n}\n</code></pre>\n\n<p>The logic seems to be they didn't think it was necessary to quote things that already looked like code.  <code>$variables</code>, <code>function_calls()</code>, numbers, and code which was already quoted.  For a definitive answer you can email Russ.</p>\n\n<p>If you want to know more, you may be able to glean some information from their git repository, but the commit entries shed no light on the decisions.</p>\n\n<pre><code>commit d374354c961250d1ee23342451713313fd934eda\nAuthor: Russ Allbery &lt;rra@stanford.edu&gt;\nDate:   Tue Jul 10 10:54:27 2001 +0000\n\n        * lib/Pod/Text.pm (seq_c): Add heuristics to decide whether or not\n        to quote the argument of C&lt;&gt;.\n\n        * lib/Pod/Text.pm: Added a LICENSE section to the documentation.\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 29048328, "answer_count": 1, "score": 1, "last_activity_date": 1426333809, "creation_date": 1426330660, "question_id": 29048111, "link": "https://stackoverflow.com/questions/29048111/how-to-output-code-text-with-numbers-using-podtexttermcap", "title": "How to output code text with numbers using Pod::Text::Termcap?", "body": "<p>I am trying to use <a href=\"https://metacpan.org/pod/Pod::Text::Termcap\" rel=\"nofollow\"><code>Pod::Text::Termcap</code></a> to output Pod as text to a terminal window. It works mostly very well, except for one case of displaying code text using the Pod <code>C&lt;&gt;</code> tag. Usually, <code>Pod::Text::Termcap</code> displays code text in double quotes, and this is fine. But, if I write code text containing only digits or a dollar sign followed by digits, the code text is no longer quoted. For example:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Pod::Text::Termcap;\n\nmy $pod_str = '=pod\n\nThis is a quoted name C&lt;Peter&gt;. The next text:  C&lt;$1&gt; , should also be quoted.\n\n=cut';\n\nmy $parser = Pod::Text::Termcap-&gt;new();\nmy $str;\n$parser-&gt;output_string( \\$str );\n$parser-&gt;parse_string_document( $pod_str );\nprint $str;\n</code></pre>\n\n<p>The output is:</p>\n\n<blockquote>\n  <p>This is a quoted name \"Peter\". The next text: $1 , should also be\n  quoted.</p>\n</blockquote>\n"}, {"tags": ["perl", "binary", "decimal"], "answers": [{"tags": [], "owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "is_accepted": false, "score": 2, "last_activity_date": 1426328378, "creation_date": 1426328378, "answer_id": 29047786, "question_id": 29047084, "link": "https://stackoverflow.com/questions/29047084/decimal-and-binary-conversion-with-big-numbers/29047786#29047786", "title": "Decimal and binary conversion with big numbers", "body": "<p>Perl provides <a href=\"http://perldoc.perl.org/Math/BigInt.html#Input\" rel=\"nofollow\">built-in bignum facilities</a>. Turn them on with <code>use bignum;</code>. Your conversion functions would look like this:</p>\n\n<pre><code>use bignum;\nmy ($b_orig, $d_orig, $b, $d);\n\n$d_orig = 76982379919017706648824420266;\n$b_orig = '111110001011111001010101000010011001000010101111001110000000000000000000000000000000000000000000';\n\nprint (\"dec($b_orig) [orig] = $d_orig;\\n\");\nprint (\"dec($b_orig) [comp] = \" . Math::BigInt-&gt;from_bin($b_orig) . \";\\n\");\nprint (\"bin($d_orig) [orig] = $b_orig;\\n\");\nprint (\"bin($d_orig) [comp] = \".substr(Math::BigInt-&gt;new($d_orig)-&gt;as_bin(), 2).\";\\n\");\n</code></pre>\n\n<p><strong><em>Caveat</em></strong></p>\n\n<p>There is no correspondence between the binary and the decimal number that you provide. I have not checked whether this is a flawof the bigint library or not.</p>\n"}, {"tags": [], "owner": {"reputation": 50625, "user_id": 3549014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290cbac6da9b4ef5ac976e5d50ab637e?s=128&d=identicon&r=PG", "display_name": "Gyrocode.com", "link": "https://stackoverflow.com/users/3549014/gyrocode-com"}, "is_accepted": true, "score": 4, "last_activity_date": 1426328922, "last_edit_date": 1426328922, "creation_date": 1426328384, "answer_id": 29047787, "question_id": 29047084, "link": "https://stackoverflow.com/questions/29047084/decimal-and-binary-conversion-with-big-numbers/29047787#29047787", "title": "Decimal and binary conversion with big numbers", "body": "<p>You can use <a href=\"http://search.cpan.org/~pjacklam/Math-BigInt-1.9993/\" rel=\"nofollow\">Math::BigInt</a>. Please note, that input to these functions should be strings.</p>\n\n<pre><code>use Math::BigInt;\n\nsub bin2dec {\n  my $bin = shift;\n  return Math::BigInt-&gt;new(\"0b$bin\");\n}\n\nsub dec2bin {\n  my $dec = shift;\n  my $i = Math::BigInt-&gt;new($dec);\n  return substr($i-&gt;as_bin(), 2);\n}\n\nprint \"Dec: \" . bin2dec(\"111110001011111001010101000010011001000010101111001110000000000000000000000000000000000000000000\") . \"\\n\";\nprint \"Bin: \" . dec2bin(\"76982379919017706648824420266\") . \"\\n\";\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>Dec: 76982379919017710405206147072\nBin: 111110001011111001010101000010011001000010101111001101001001010101100110001100111001011110101010\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1426328400, "creation_date": 1426328400, "answer_id": 29047789, "question_id": 29047084, "link": "https://stackoverflow.com/questions/29047084/decimal-and-binary-conversion-with-big-numbers/29047789#29047789", "title": "Decimal and binary conversion with big numbers", "body": "<p>Perl's bigint provides transparent support for big integers:</p>\n\n<pre>perl -Mbigint -E 'say oct \"0b111110001011111001010101000010011001000010101111001110000000000000000000000000000000000000000000\"'\n76982379919017710405206147072</pre>\n\n<p>You do not need to write your own conversion routine. <code>oct</code> will convert for you.</p>\n"}], "owner": {"reputation": 33, "user_id": 4670100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4844bee1ab0ca07ef28ac58a7d7f7afc?s=128&d=identicon&r=PG&f=1", "display_name": "valentin", "link": "https://stackoverflow.com/users/4670100/valentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 932, "favorite_count": 0, "accepted_answer_id": 29047787, "answer_count": 3, "score": 3, "last_activity_date": 1604066457, "creation_date": 1426322424, "last_edit_date": 1604066457, "question_id": 29047084, "link": "https://stackoverflow.com/questions/29047084/decimal-and-binary-conversion-with-big-numbers", "title": "Decimal and binary conversion with big numbers", "body": "<p>I have to convert big numbers in Perl from decimal to binary and the other way around.</p>\n<p>An example number of that length:</p>\n<pre><code>Dec: 76982379919017706648824420266\nBin: 111110001011111001010101000010011001000010101111001110000000000000000000000000000000000000000000\n</code></pre>\n<p>I found two functions:</p>\n<pre><code>sub dec2bin {\n    my $str = unpack(&quot;B32&quot;, pack(&quot;N&quot;, shift));\n    $str =~ s/^0+(?=\\d)//;   # otherwise you'll get leading zeros\n    return $str;\n}\nsub bin2dec {\n    return unpack(&quot;N&quot;, pack(&quot;B32&quot;, substr(&quot;0&quot; x 32 . shift, -32)));\n}\n</code></pre>\n<p>But, both of them seem to stop working with big numbers.</p>\n<pre><code>Output of\nbin2dec(111110001011111001010101000010011001000010101111001110000000000000000000000000000000000000000000)\nis 1543163 \nand output of\ndec2bin(76982379919017706422040262422)\nis 11111111111111111111111111111111\n</code></pre>\n<p>Is there a proper way of doing it with such big numbers?</p>\n"}, {"tags": ["arrays", "perl", "count", "format", "newline"], "comments": [{"owner": {"reputation": 882, "user_id": 3965075, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FLP7B.jpg?s=128&g=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/3965075/praveen"}, "edited": false, "score": 1, "creation_date": 1426312508, "post_id": 29045805, "comment_id": 46330852, "body": "Cab you provide the input file which will be more helpful and also the expected output .."}], "answers": [{"tags": [], "owner": {"reputation": 4883, "user_id": 62138, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/65881e840f44a05c4f3b0aea257da42e?s=128&d=identicon&r=PG", "display_name": "salparadise", "link": "https://stackoverflow.com/users/62138/salparadise"}, "is_accepted": true, "score": 3, "last_activity_date": 1426320103, "creation_date": 1426320103, "answer_id": 29046791, "question_id": 29045805, "link": "https://stackoverflow.com/questions/29045805/how-to-print-a-certain-amount-of-results-on-a-single-line/29046791#29046791", "title": "how to print a certain amount of results on a single line", "body": "<p>change <code>print  join(' ',%scount), \"\\n\";</code> to:</p>\n\n<pre><code>my $n;\nprint map {$n++; $n % 10 ? \"$_ $scount{$_} \":\"$_ $scount{$_}\\n\"} keys %scount;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1426356674, "creation_date": 1426356674, "answer_id": 29052411, "question_id": 29045805, "link": "https://stackoverflow.com/questions/29045805/how-to-print-a-certain-amount-of-results-on-a-single-line/29052411#29052411", "title": "how to print a certain amount of results on a single line", "body": "<p>Possibly a bit more readable:</p>\n\n<pre><code>my @results = %count;\nwhile (@results) {\n   print(join(\" \", splice(@results, 10)), \"\\n\");\n}\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 4639985, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/10ed3a4e297e3ecb9cc5a63311d0c87e?s=128&d=identicon&r=PG&f=1", "display_name": "bob george", "link": "https://stackoverflow.com/users/4639985/bob-george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 29046791, "answer_count": 2, "score": 0, "last_activity_date": 1426356674, "creation_date": 1426311081, "last_edit_date": 1426314787, "question_id": 29045805, "link": "https://stackoverflow.com/questions/29045805/how-to-print-a-certain-amount-of-results-on-a-single-line", "title": "how to print a certain amount of results on a single line", "body": "<p>I want to print up to 10 results per line and then after 10 force a new line. How would I do this?</p>\n\n<p>This is the code:</p>\n\n<pre><code>my @email;\nmy @gender;\nmy @state;\n\nwhile ( &lt;&gt; ) {\n  chomp;\n  my @fields = split /,/;\npush @gender, $fields[5];\npush @email, $fields[3];\npush @state, $fields[4];\n}\n\n#records\nprint \"There are $_ records in this file\\n\" for scalar (@email-1);\nprint \"\\n\";\n\n#gender\nmy %count;\n$count{$_}++ for @gender;\nwhile( my ($gender =&gt; $count) = each %count) {\ndelete $count{gender};}\nprint \"Male/Female distribution:\\n\";\nprint join(' ',%count), \"\\n\";\nprint \"\\n\";\n#email\n\n\n\n#states\nmy %scount;\n$scount{$_}++ for @state;\nwhile( my ($state =&gt; $scount) = each %scount){\ndelete $scount{state};}\nprint  join(' ',%scount), \"\\n\";\n</code></pre>\n\n<p>and its result:</p>\n\n<pre><code>8 NC 292 OK 163 NY 901 VA 477 PA 195 NE 62 OH 711 WV 37 NM 10 MO 7 NH 77 MA  689 MN 431 TX 920 ME 81 NJ 673 RI 91 AL 230 KS 22 ND 31 FL 461 CT 305 CA 1262 IA 139 DE 33 CO 118 MI 378 IN 211 AR 163 IL 811 KY 11\n</code></pre>\n\n<p>So for example I would want a new line after <code>NM 10</code>.</p>\n"}, {"tags": ["perl", "sorting", "multidimensional-array", "data-structures", "perl-data-structures"], "comments": [{"owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "edited": false, "score": 0, "creation_date": 1426320432, "post_id": 29045755, "comment_id": 46332280, "body": "You have to specify your requirements in more detail what you have and what you want and less in richness of your data which repels people from answering you because they can&#39;t see &quot;big picture&quot;. Smoething like I have <code>{foo=&gt;{bar=&gt;[[1,2,3],[4,5,0]]}}</code> and I want <code>{foo=&gt;{bar=&gt;[[4,5,0],[1,2,3]]}}</code>. Do you see differnece?"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1426353549, "post_id": 29045755, "comment_id": 46341469, "body": "You need to format the code sample in your question more appropriately - the code is mostly invisible due to side scrolling and overly deep indentation. You might try running <a href=\"https://metacpan.org/pod/Perl::Tidy\" rel=\"nofollow noreferrer\"><code>perltidy</code></a> against it to clean things up or using the &quot;terse&quot; options to <code>Data::Dump</code> if you are outputting the <code>%locus</code> hash itself."}], "answers": [{"tags": [], "owner": {"reputation": 25491, "user_id": 49197, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/15ebf24a33a29b9efbf9924f530dd736?s=128&d=identicon&r=PG", "display_name": "Hynek -Pichi- Vychodil", "link": "https://stackoverflow.com/users/49197/hynek-pichi-vychodil"}, "is_accepted": true, "score": 1, "last_activity_date": 1426320667, "creation_date": 1426320667, "answer_id": 29046856, "question_id": 29045755, "link": "https://stackoverflow.com/questions/29045755/sorting-a-hash-of-hashes-of-array-of-arrays-in-perl/29046856#29046856", "title": "Sorting a Hash of Hashes of Array of Arrays in Perl", "body": "<p>I just try guess what you are looking for because you are not clear what you want.</p>\n\n<pre><code>for my $outher (values %hash) {\n    for my $inner (values %$outher) {\n        @$inner = sort {$a-&gt;[17] &lt;=&gt; $b-&gt;[17]} @$inner;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 584, "user_id": 1487449, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/p2mW4.jpg?s=128&g=1", "display_name": "Cristian Velandia", "link": "https://stackoverflow.com/users/1487449/cristian-velandia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 1, "accepted_answer_id": 29046856, "answer_count": 1, "score": 1, "last_activity_date": 1426377653, "creation_date": 1426310521, "last_edit_date": 1426377653, "question_id": 29045755, "link": "https://stackoverflow.com/questions/29045755/sorting-a-hash-of-hashes-of-array-of-arrays-in-perl", "title": "Sorting a Hash of Hashes of Array of Arrays in Perl", "body": "<p>I made a hash (<code>%locus</code>) to organise my data, when I print it with <code>Data::Dumper</code> it shows the data structure:</p>\n\n<pre><code>'locus8 &gt;9.2668516.276570.GABA3.1.54.6586237.218516.2718570 74280 74440 locus8' \n =&gt; {    \n '3 70.75 0.995018 -1.89 -' =&gt; [          \n   [                                                                           \n    'window10',                                                'locus8',         \n    '&gt;9.2668516.2768570.GABA3.1.54.6586237.2718516.2718570', '74280',      \n     '74400',                                                  '-',              \n    '3',                                                      '120',        \n    '55.87',                                                  '-17.41',         \n    '-11.92',                                                 '-10.60',         \n    '-1.32',                                                  '1.57',           \n    '-1.58',                                                  '0.68',           \n    '2.76',                                                   '0.995018'        \n    ],                                                                          \n    [                          \n      'window11',                                                'locus8',   \n      '&gt;9.2668516.276570.GABA3.1.54.6586237.218516.2718570', '74320',          \n      '74440', '-', '3', '120', '70.75', '-22.97', '-17.28', '-15.07', '-2.21', \n\n      '-1.89', '0.75', '1.95', '0.976184'                                       \n    ]  \n  ]                                                                             \n  },\n</code></pre>\n\n<p>How Can I sort the internal arrays by the last element in the arrays <code>$_[17]</code>?</p>\n\n<pre><code>[                                                           \n  [\n    'window11',                                                'locus8',\n    '&gt;9.+.2668516.2768570.GABA3.1.54.6586237.2718516.2718570', '74320',\n    '74440',                                                   '-',\n    '3',                                                       '120',\n    '70.75',                                                   '-22.97',\n    '-17.28',                                                  '-15.07',\n    '-2.21',                                                   '1.55',\n    '-1.89',                                                   '0.75',\n    '1.95',                                                    '0.976184'\n  ],\n  [\n    'window10',                                                'locus8',\n    '&gt;9.+.2668516.2768570.GABA3.1.54.6586237.2718516.2718570', '74280',\n    '74400',                                                   '-',\n    '3',                                                       '120',\n    '55.87',                                                   '-17.41',\n    '-11.92',                                                  '-10.60',\n    '-1.32',                                                   '1.57',\n    '-1.58',                                                   '0.68',\n    '2.76',                                                    '0.995018'\n  ],\n]\n</code></pre>\n\n<p>I want to maintain the data structure but, with the 'internal arrays' organised. Thanks in advance.</p>\n"}, {"tags": ["perl", "escaping"], "comments": [{"owner": {"reputation": 110733, "user_id": 1009479, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/wlrC5.jpg?s=128&g=1", "display_name": "Yu Hao", "link": "https://stackoverflow.com/users/1009479/yu-hao"}, "edited": false, "score": 0, "creation_date": 1426297516, "post_id": 29044499, "comment_id": 46328749, "body": "You want the output to be <code>\\t</code>, right? <code>&quot;\\\\t&quot;</code> should work."}], "answers": [{"tags": [], "owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "is_accepted": false, "score": 1, "last_activity_date": 1426298821, "creation_date": 1426298821, "answer_id": 29044671, "question_id": 29044499, "link": "https://stackoverflow.com/questions/29044499/how-to-print-special-char-in-perl/29044671#29044671", "title": "How to print special char in Perl", "body": "<p>It might help us understand the context if you explained why you want this and what you're trying to achieve.</p>\n\n<p>If you simple want to dump out the value of a variable and have the special characters be visible and readable then perhaps Data::Dumper would help:</p>\n\n<pre><code>use Data::Dumper\n\n$var = \"\\n\";\n$var_tab = \"\\t\";\n\n$Data::Dumper::Terse = 1;\n$Data::Dumper::Useqq = 1;\n\nprint Data::Dumper::qquote($var);      # \"\\n\"\nprint Data::Dumper::qquote($var_tab);  # \"\\t\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 0, "last_activity_date": 1426305837, "creation_date": 1426305837, "answer_id": 29045315, "question_id": 29044499, "link": "https://stackoverflow.com/questions/29044499/how-to-print-special-char-in-perl/29045315#29045315", "title": "How to print special char in Perl", "body": "<p>If you want print the special character value, Try <code>regex</code> for substitute the <code>\\</code> with empty.Like</p>\n\n<pre><code>my $var = \"\\\\n\"; \n$var =~s/\\\\//g;\nprint \"$'\";\n</code></pre>\n\n<p>Else If you want print the <code>\\n</code> . Just use the single quotes instead of double quotes. or use forward slashes within double quotes.</p>\n\n<pre><code>my $var = \"\\\\n\";   #slashes for escape the special character \nmy $var_tab = '\\t'; #single quotes also escape the special character\nprint \"$var  $var_tab  \";\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4598738"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5042, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1426306822, "creation_date": 1426297077, "last_edit_date": 1426306822, "question_id": 29044499, "link": "https://stackoverflow.com/questions/29044499/how-to-print-special-char-in-perl", "title": "How to print special char in Perl", "body": "<p>I have a special char in my variable like this    </p>\n\n<pre><code>my $var = \"\\n\"; \nmy $var_tab = \"\\t\";\n</code></pre>\n\n<p>I need to print out not this character but character value/code (\\t,\\n).<br>\nI have tried to add one more slash, but it doesn't work.    </p>\n\n<pre><code> my $var.=\"\\\\\";\n</code></pre>\n\n<p>How can I print value of special char?</p>\n"}, {"tags": ["arrays", "regex", "perl"], "comments": [{"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1426294248, "post_id": 29044206, "comment_id": 46328135, "body": "Matching is case sensitive, or you could add the <code>&#47;i</code> flag. Also, please format your code with proper indentations."}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1426296745, "post_id": 29044206, "comment_id": 46328630, "body": "if there is a space between <code>Errors</code> and the semicolon, it won&#39;t match your regex."}, {"owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "reply_to_user": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1426297123, "post_id": 29044206, "comment_id": 46328693, "body": "There is a space between them. It looks like this: &#39;Errors  :  0&#39; . What would be the best way to do the regex then?"}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1426297413, "post_id": 29044206, "comment_id": 46328731, "body": "You could do <code>m&#47;Errors\\s*:\\s*0&#47;i</code> as long as the number isn&#39;t 0 padded. Something like <code>Errors : 05</code> would still match it for a false positive. Another way you could do it is <code>m&#47;Errors\\s*:\\s*(\\d+)&#47;i</code> to capture the number in <code>$1</code> and check if that is <code>0</code>."}, {"owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "reply_to_user": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1426297633, "post_id": 29044206, "comment_id": 46328770, "body": "There is no zero padding. All I have is just this string &#39;Errors  :  0&#39;.                           m/Errors\\s*:\\s*0/i or m/Errors\\s*:\\s*(\\d+)/i still does not work :("}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 1, "creation_date": 1426297821, "post_id": 29044206, "comment_id": 46328793, "body": "I started a chat room, join and I&#39;ll help you debug: <a href=\"http://chat.stackoverflow.com/rooms/72962/perl-open-files-from-array-and-read-one-by-one\">chat.stackoverflow.com/rooms/72962/&hellip;</a>"}, {"owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "reply_to_user": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "edited": false, "score": 0, "creation_date": 1426297914, "post_id": 29044206, "comment_id": 46328811, "body": "@chiIemagic..I do not have enough credit points to talk in the chat room :("}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1426298737, "post_id": 29044206, "comment_id": 46328942, "body": "Since you&#39;re setting <code>$&#47;</code> to slurp mode with <code>undef</code>, you can remove the <code>while</code> loop and the <code>chomp</code>, since it&#39;s only ever going to read one record and <code>chomp</code> shouldn&#39;t affect it."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "edited": false, "score": 0, "creation_date": 1426531848, "post_id": 29044657, "comment_id": 46402207, "body": "you are right about the pattern match - yes there is a space in this string that I had missed: &#39;Errors : 0&#39; and the regex you suggested works!"}], "tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 2, "last_activity_date": 1426298716, "creation_date": 1426298716, "answer_id": 29044657, "question_id": 29044206, "link": "https://stackoverflow.com/questions/29044206/perl-open-files-from-array-and-read-one-by-one/29044657#29044657", "title": "Perl: open files from array and read one by one", "body": "<p>First, let Perl tell you why it couldn't open a file:</p>\n\n<pre><code>open my $fh , '&lt;', $dynfile or die \"Could not open file $!\\n\";\n</code></pre>\n\n<p>I notice that your error message references <em>dyn.bxt.transcript</em> and <em>dyn.cnl.transcript</em> that are not in your <code>@dynfiles</code>. It helps is you build a complete and minimal script with sample inputs.</p>\n\n<p>Then you are undefining the input record separator, after which you use a <code>while</code> which should only ever return the single line of the entire file. That's typically a bad thing.</p>\n\n<p>Next, if looks as if your pattern doesn't match the string <code>Errors : 0</code> that has a space in it.</p>\n\n<pre><code>        if ($line =~ m/Errors\\s*:\\s+0/) {\n</code></pre>\n\n<p>I'm not sure what you're doing with the <code>do</code>. That returns the last evaluated expression, which in your case is <code>close $fh</code>. But, that <code>%data</code> hash disappears at the end of each iteration of the block. Again, strip out everything that isn't part of investigating this problem.</p>\n"}, {"tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 1, "last_activity_date": 1426299259, "last_edit_date": 1426299259, "creation_date": 1426298952, "answer_id": 29044685, "question_id": 29044206, "link": "https://stackoverflow.com/questions/29044206/perl-open-files-from-array-and-read-one-by-one/29044685#29044685", "title": "Perl: open files from array and read one by one", "body": "<p>You can reduce the code using some well tested modules. For example using one of my favourite <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow\">Path::Tiny</a>, you could write:</p>\n\n<pre><code>use 5.014;\nuse warnings;\nuse Path::Tiny;\n\nmy @dynfiles = map { \"dyn.$_.transcript\" } qw(abc def ghi jkl);\nsay \"Dyn run status: \",\n    (path($_)-&gt;slurp =~ /error\\s*:\\s*0\\b/i)\n        ? \"PASS\"\n        : \"FAIL\"\n    for (grep {-f} @dynfiles);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "edited": false, "score": 0, "creation_date": 1426354889, "post_id": 29045047, "comment_id": 46341930, "body": "@chilemagic..This was really useful and worked for me! I&#39;m trying the same logic in the other subroutines that I had like we discussed on chat and I&#39;m facing an issue..let me know when you are free for a quick chat again? :)"}, {"owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "reply_to_user": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "edited": false, "score": 0, "creation_date": 1426360780, "post_id": 29045047, "comment_id": 46343908, "body": "Hey @chmod, post what information you have about the issue in the chatroom: <a href=\"http://chat.stackoverflow.com/rooms/72962/perl-open-files-from-array-and-read-one-by-one\">chat.stackoverflow.com/rooms/72962/&hellip;</a> and I&#39;ll take a look at it today or tomorrow!"}, {"owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "edited": false, "score": 0, "creation_date": 1426531744, "post_id": 29045047, "comment_id": 46402162, "body": "@chilemagic..was finally able to correct the script..Thanks! :)"}], "tags": [], "owner": {"reputation": 4481, "user_id": 2534803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c7ec08249e708f748e2b9f7f9210b7aa?s=128&d=identicon&r=PG&f=1", "display_name": "hmatt1", "link": "https://stackoverflow.com/users/2534803/hmatt1"}, "is_accepted": true, "score": 2, "last_activity_date": 1426303001, "creation_date": 1426303001, "answer_id": 29045047, "question_id": 29044206, "link": "https://stackoverflow.com/questions/29044206/perl-open-files-from-array-and-read-one-by-one/29045047#29045047", "title": "Perl: open files from array and read one by one", "body": "<p>After viewing reading your code and debugging in chat, I would probably go with something like this:</p>\n\n<pre><code>sub dynamo_check {\n\n    opendir(my $dh, $log_file) or die \"can't opendir $log_file: $!\";\n    my @dynfiles = grep { /^dynamo.*transcript$/ &amp;&amp; -f \"$log_file/$_\" } readdir($dh);\n    close $dh;\n\n    foreach my $dynamofile (@dynfiles) {\n        print \"Checking file: $dynamofile\\n\";\n\n        open my $fh, '&lt;', $log_file . $dynamofile or die \"$!\\n\";\n\n        my $passed = 0;\n\n        while(my $line = &lt;$fh&gt;) {\n            if ($line =~ m/Errors\\s*:\\s*0/i) {\n                $passed = 1;\n                last;\n            }\n        }\n        if ( $passed == 1 ) {\n            print \"Dynamo run status: PASS\\n\";\n            $data{$dynamofile} = \"pass\";\n        }else {\n            print \"Dynamo run status: FAIL\\n\";\n            $data{$dynamofile} = \"fail\";\n        }\n    }\n    print Dumper(\\%data);\n}\n</code></pre>\n\n<p>Summary of changes:</p>\n\n<ul>\n<li>Add on <code>$!</code> to get a better error message as reference in <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">perlvar</a></li>\n<li>Use <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\">grep</a> and <a href=\"http://perldoc.perl.org/functions/readdir.html\" rel=\"nofollow\">readdir</a> to find the files you want to read instead of hard coding it.</li>\n<li>Prepend the directory path to the file name when we open the files.</li>\n<li>Remove the <code>do</code> block;</li>\n<li>Set the values in <code>%data</code> to <code>pass</code> or <code>fail</code>.</li>\n<li>No need to use <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow\">chomp</a> here.</li>\n<li>No need to set <code>local $/ = undef;</code>, we can go through the lines one by one and break out of the <code>while</code> loop with <a href=\"http://perldoc.perl.org/functions/last.html\" rel=\"nofollow\">last</a> when we find the <code>Errors</code> line.</li>\n</ul>\n"}], "owner": {"reputation": 85, "user_id": 4480711, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8162e424e87f54d3ae391ce44b808404?s=128&d=identicon&r=PG&f=1", "display_name": "chmod", "link": "https://stackoverflow.com/users/4480711/chmod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 29045047, "answer_count": 3, "score": 3, "last_activity_date": 1426303001, "creation_date": 1426294089, "last_edit_date": 1426297559, "question_id": 29044206, "link": "https://stackoverflow.com/questions/29044206/perl-open-files-from-array-and-read-one-by-one", "title": "Perl: open files from array and read one by one", "body": "<p>I have an array in Perl that looks like this:</p>\n\n<pre><code> my @dynfiles = ('dyn.abc.transcript', 'dyn.def.transcript', 'dyn.ghi.transcript', 'dyn.jkl.transcript');\n</code></pre>\n\n<p>I'm trying to open these files and read them one by one. For this I have a code that looks like this:</p>\n\n<pre><code>foreach my $dynfile (@dynfiles) {\n    print \"$dynfile\\n\";\n    open my $fh , '&lt;', $dynfile or die \"Could not open file\\n\";\n    my %data;\n    $data{$dynfile} = do {\n        local $/ = undef;\n        while (my $line = &lt;$fh&gt;) {\n            chomp $line;\n            if ($line =~ m/Errors:\\s+0/) {\n                print \"Dyn run status: PASS\\n\";\n            } else { \n                print \"Dyn Run status : FAIL\\n\";\n            }\n        }\n        close $fh;\n    }\n}\n</code></pre>\n\n<p>And I get this error as output: </p>\n\n<pre><code>dyn.bxt.transcript\nDyn run status: FAIL\ndyn.cnl.transcript\n17:25:19 : -E- Could not open dyn.cnl.transcript\n</code></pre>\n\n<p>So my concern is that it isn't reading the files in the array at all. Also, this file <code>dyn.bxt.transcript</code> had this string <code>Errors : 0</code> in it, but I still get <code>Dyn run status: FAIL</code> in the output. \nAm I doing anything wrong here? I'm using a simple pattern match, not sure where the problem is..Kindly help.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["linux", "perl", "shell", "pipe"], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "edited": false, "score": 0, "creation_date": 1426285082, "post_id": 29042777, "comment_id": 46325744, "body": "chomp removes the trailing new line.  it was my attempt to make sure the formatting was exactly the same as my listed version (no newline at end)"}, {"owner": {"reputation": 7758, "user_id": 221794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1f02cce059c0fc8ca0f4012900bd00f0?s=128&d=identicon&r=PG", "display_name": "Dyno Fu", "link": "https://stackoverflow.com/users/221794/dyno-fu"}, "reply_to_user": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "edited": false, "score": 0, "creation_date": 1426285365, "post_id": 29042777, "comment_id": 46325838, "body": "basically, xargs will solve your problem. you can also try remove -i, <code>find .&#47; -type f -name &quot;*.tag&quot; | xargs script.pl</code> then it will feed to script.pl in a batch."}], "tags": [], "owner": {"reputation": 7758, "user_id": 221794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1f02cce059c0fc8ca0f4012900bd00f0?s=128&d=identicon&r=PG", "display_name": "Dyno Fu", "link": "https://stackoverflow.com/users/221794/dyno-fu"}, "is_accepted": false, "score": 1, "last_activity_date": 1426284795, "last_edit_date": 1426284795, "creation_date": 1426284387, "answer_id": 29042777, "question_id": 29042721, "link": "https://stackoverflow.com/questions/29042721/pass-a-list-of-files-to-perl-script-via-pipe/29042777#29042777", "title": "Pass a list of files to perl script via pipe", "body": "<p>you need xargs, e.g.  </p>\n\n<pre><code> find ./ -type f -name \"*.tag\" | xargs -i script.pl {}\n</code></pre>\n\n<p>what is chomp?</p>\n"}, {"comments": [{"owner": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "edited": false, "score": 0, "creation_date": 1426287104, "post_id": 29043142, "comment_id": 46326377, "body": "Wow way simpler than I thought.  Thanks for the complete answer!"}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 3, "last_activity_date": 1426286810, "last_edit_date": 1495542136, "creation_date": 1426286394, "answer_id": 29043142, "question_id": 29042721, "link": "https://stackoverflow.com/questions/29042721/pass-a-list-of-files-to-perl-script-via-pipe/29043142#29043142", "title": "Pass a list of files to perl script via pipe", "body": "<p>From <a href=\"http://perldoc.perl.org/perlop.html#I%2fO-Operators\" rel=\"nofollow noreferrer\"><code>perldoc perlop</code></a>:</p>\n\n<blockquote>\n  <p>The null filehandle <code>&lt;&gt;</code> is special [...] Input from <code>&lt;&gt;</code> comes either from standard input, or from each file listed on the command line. Here's how it works: the first time <code>&lt;&gt;</code> is evaluated, the <code>@ARGV</code> array is checked, and if it is empty, <code>$ARGV[0]</code> is set to <code>-</code>, which when opened gives you standard input. The <code>@ARGV</code> array is then processed as a list of filenames.</p>\n</blockquote>\n\n<p>You're not passing any command line arguments to your Perl scripts, so everything you pipe into them is read into <code>STDIN</code> instead of being treated as filenames:</p>\n\n<pre><code>$ echo foo &gt; foo.txt\n$ echo bar &gt; bar.txt\n$ ls | perl -e 'print \"&lt;$_&gt;\\n\" while &lt;&gt;'\n&lt;bar.txt\n&gt;\n&lt;foo.txt\n&gt;\n</code></pre>\n\n<p>Notice that the files <code>foo.txt</code> and <code>bar.txt</code> are not actually read; all we get is the file names. If you want the files to be opened and read, you have to pass them as command line arguments or explicitly set <code>@ARGV</code>:</p>\n\n<pre><code>$ perl -e 'print \"&lt;$_&gt;\\n\" while &lt;&gt;' *\n&lt;bar\n&gt;\n&lt;foo\n&gt;\n</code></pre>\n\n<p>If you have a large number of files, like you're likely to get from <code>find</code>, you should use <code>xargs</code> as <a href=\"https://stackoverflow.com/a/29042777/176646\">Dyno Hongjun Fu suggested</a>.</p>\n\n<p>However, you don't need <code>find</code>, <code>ls</code>, <code>cat</code>, or your Perl one-liner to run your script on all the <code>.tag</code> files in the current directory. Simply do:</p>\n\n<pre><code>script.pl *.tag\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 4447265, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pWYgw.jpg?s=128&g=1", "display_name": "jbord39", "link": "https://stackoverflow.com/users/4447265/jbord39"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2613, "favorite_count": 0, "accepted_answer_id": 29043142, "answer_count": 2, "score": 0, "last_activity_date": 1426286810, "creation_date": 1426284104, "question_id": 29042721, "link": "https://stackoverflow.com/questions/29042721/pass-a-list-of-files-to-perl-script-via-pipe", "title": "Pass a list of files to perl script via pipe", "body": "<p>I am having a problem where my perl script will fail upon having an input piped, but works fine when I just list all the file names individually.</p>\n\n<p>For reference, input of the perl script is read with while(&lt;>).</p>\n\n<p>Example:</p>\n\n<pre><code>script.pl file1.tag file2.tag file3.tag\n</code></pre>\n\n<p>runs fine.</p>\n\n<p>But the following all fail.</p>\n\n<pre><code>find ./*.tag | chomp | script.pl\nls -l *.tag | perl -pe 's/\\n/ /g' | script.pl\nfind ./*.tag | perl -pe 's/\\n/ /g' | script.pl\n</code></pre>\n\n<p>I also tested dumping it into a text file and catting that into the perl:</p>\n\n<pre><code>cat files.text | script.pl\n</code></pre>\n\n<p>All of them fail the same way.  It is like the script is passed no input arguments and the program just finishes.</p>\n"}, {"tags": ["regex", "bash", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1426283271, "post_id": 29042328, "comment_id": 46325072, "body": "Interesting. Running your command with <code>-MO=Deparse</code> indicates that your bracket escape isn&#39;t getting passed through. Double escaping doesn&#39;t help though, because then it <i>does</i>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1426283442, "post_id": 29042328, "comment_id": 46325142, "body": "You should be getting an error like <code>Can&#39;t open perl script &quot;s&#47;foo&#47;bar\\(&#47;g&quot;: No such file or directory</code>, since anything immediately following <code>-i</code> is used as the extension for the backup file (in this case, just <code>e</code>). <code>perl -i -pe &#39;s&#47;foo&#47;bar(&#47;g</code> should work fine, no need to escape parentheses in the replacement."}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1426283680, "post_id": 29042328, "comment_id": 46325242, "body": "You don&#39;t have to escape a <code>special regex character</code> in a replacement string since it is only a string."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1426283825, "post_id": 29042328, "comment_id": 46325301, "body": "This has nothing with your problem, only nitpicking: in <code>bash</code> is better to write <code>$(grep -ril ...)</code> e.g. using <code>$()</code> construction, instead of the backticks. It is more readable and also nestable."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1426284095, "post_id": 29042328, "comment_id": 46325413, "body": "@ThisSuitIsBlackNot: that&#39;s an answer, I think, not a comment"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1426284319, "post_id": 29042328, "comment_id": 46325497, "body": "@ysth The OP said their shell just hangs, so I&#39;m assuming they ran a different command than they&#39;re showing us. Maybe they forgot a closing quote or backtick, like I did in my previous comment. I&#39;ll make it an answer if they come back and clarify."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 7, "last_activity_date": 1426287321, "last_edit_date": 1426287321, "creation_date": 1426287014, "answer_id": 29043235, "question_id": 29042328, "link": "https://stackoverflow.com/questions/29042328/how-to-escape-a-parenthesis-in-a-perl-pie-one-liner/29043235#29043235", "title": "How to escape a parenthesis in a perl pie one-liner?", "body": "<p>What you posted exits immediately as Perl tries to open <code>s/foo/bar\\(/g</code> as a source file since the <code>e</code> is treated the argument of <code>-i</code>.</p>\n\n<pre><code>$ perl -pie 's/foo/bar\\(/g' `grep -ril foo .`\nCan't open perl script \"s/foo/bar\\(/g\": No such file or directory\n</code></pre>\n\n<p>I'm guessing you ran the following instead:</p>\n\n<pre><code>perl -i -pe's/foo/bar\\(/g' `grep -ril foo .`\n</code></pre>\n\n<p>This will hang when <code>grep</code> finds nothing. When no arguments are given, the <code>-i</code> is effectively ignored. The program will read from STDIN and write to STDOUT. So, when <code>grep</code> returns nothing, this program will block waiting for input from STDIN.</p>\n\n<p>Solution:</p>\n\n<pre><code>grep -ril foo . | xargs perl -i -pe's/foo/bar\\(/ig'\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 904272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47a1496d4cde525b2720c75318ce454?s=128&d=identicon&r=PG", "display_name": "polsar", "link": "https://stackoverflow.com/users/904272/polsar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1426287321, "creation_date": 1426282449, "question_id": 29042328, "link": "https://stackoverflow.com/questions/29042328/how-to-escape-a-parenthesis-in-a-perl-pie-one-liner", "title": "How to escape a parenthesis in a perl pie one-liner?", "body": "<p>I want to replace all occurrences of \"foo\" with \"bar(\" in all files that contain \"foo\". I have tried</p>\n\n<pre><code>perl -pie 's/foo/bar\\(/g' `grep -ril foo .`\n</code></pre>\n\n<p>but that just hangs and nothing happens. I have tried varying the number of escape backslashes in front of the opening parenthesis, but to no success. I'm working in bash 4.1.5.</p>\n\n<p>The replacement works fine if I remove the opening parenthesis. Does anyone know how to escape the opening parenthesis?</p>\n"}]