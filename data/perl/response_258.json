[{"tags": ["perl", "apache2", "mod-perl2"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 3, "creation_date": 1576708943, "post_id": 59400591, "comment_id": 104991027, "body": "<code>@INC</code> and package namespaces are global. Once you have loaded MyX from the first module, the second use will be a no-op (other than importing once again from MyX that is already loaded)."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 2, "creation_date": 1576709145, "post_id": 59400591, "comment_id": 104991093, "body": "If you did manage to load the second MyX, you would break the parts of the program that expect the first one, since the package namespace is global."}, {"owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1576710223, "post_id": 59400591, "comment_id": 104991426, "body": "I have config-data in a package. Worked fine but now I need to have a 2nd instance of the application at another path within the same server. Any idea how I can rebuild that WITHOUT giving any config-package an own name?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1576713511, "post_id": 59400591, "comment_id": 104992239, "body": "mod_perl is a poor framework for this since it does not have such flexibility, you only get the one perl interpreter built into Apache. With a modern web framework, you could have the two different paths proxy to two separate webapp processes."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1576735154, "post_id": 59400591, "comment_id": 104996515, "body": "&quot;<i>MyX is not always working as expected</i>&quot; -- this is the critical statement and can you elaborate (with an example)?   The thing is, I don&#39;t see how that can be:  when you say <code>use lib &#39;&#47;etc&#47;apache2&#47;a&#39;</code> and then <code>use MyX</code> it is going to load <code>MyX</code> from <code>a&#47;</code> of course (and it would never even look at <code>b</code>).  So you got what you want, no?  So how is that failing?   ///  The other option: can you make it <code>package a::MyX;</code> and load as <code>use a::MyX</code> (and same for <code>b</code>)?  If the packages aren&#39;t different enough for this to make sense then it should be one (in a common location) anyway."}], "answers": [{"tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": true, "score": 0, "last_activity_date": 1576756899, "creation_date": 1576756899, "answer_id": 59409393, "question_id": 59400591, "link": "https://stackoverflow.com/questions/59400591/mod-perl2-use-module-by-its-location-and-not-by-its-name/59409393#59409393", "title": "mod_perl2: Use module by its location and not by its name", "body": "<p>As Grinzz pinted out, @INC and package namespaces are global - so the solution is to add a different perl interpreter for each directory.</p>\n\n<p>According to the documentation: <a href=\"https://perl.apache.org/docs/2.0/user/config/config.html#C_Parent_\" rel=\"nofollow noreferrer\">https://perl.apache.org/docs/2.0/user/config/config.html#C_Parent_</a>\nthis should work at least in a Location-Directive.</p>\n"}], "owner": {"reputation": 8001, "user_id": 307297, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/e28FD.png?s=128&g=1", "display_name": "chris01", "link": "https://stackoverflow.com/users/307297/chris01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 59409393, "answer_count": 1, "score": 1, "last_activity_date": 1576756899, "creation_date": 1576706724, "last_edit_date": 1576707753, "question_id": 59400591, "link": "https://stackoverflow.com/questions/59400591/mod-perl2-use-module-by-its-location-and-not-by-its-name", "title": "mod_perl2: Use module by its location and not by its name", "body": "<p>I am having 2 directories in my Apache webserver.</p>\n\n<pre><code>PerlModule HandlerA\nPerlModule HandlerB\n\n&lt;Directory \"/var/www/html/testa\"&gt;\n    Options FollowSymLinks\n    Order deny,allow\n    AllowOverride All\n\n    SetHandler perl-script\n    PerlHandler HandlerA\n&lt;/Directory&gt;\n\n&lt;Directory \"/var/www/html/testb\"&gt;\n    Options FollowSymLinks\n    Order deny,allow\n    AllowOverride All\n\n    SetHandler perl-script\n    PerlHandler HandlerB\n&lt;/Directory&gt;\n</code></pre>\n\n<p>/testa has HandlerA and /testb has HandlerB.</p>\n\n<p><strong>HandlerA.pm</strong></p>\n\n<pre><code>package HandlerA;\n\nuse strict;\nuse warnings;\nuse Apache2::Const;\nuse lib \"/etc/apache2/a\";\nuse MyA;\nuse MyX;\n\nsub handler\n{\n    my $r = shift;\n\n    my $str = \"Handler=A  MyA=\" . MyA::foo () . \"  MyX=\" . MyX::foo ();\n    $r-&gt;log_error ($str);\n\n    $r-&gt;content_type (\"text/plain\");\n    print $str;\n    return Apache2::Const::OK;\n}\n1;\n</code></pre>\n\n<p><strong>HandlerB.pm</strong></p>\n\n<pre><code>package HandlerB;\n\nuse strict;\nuse warnings;\nuse Apache2::Const;\nuse lib \"/etc/apache2/b\";\nuse MyB;\nuse MyX;\n\nsub handler\n{\n    my $r = shift;\n\n    my $str = \"Handler=B  MyB=\" . MyB::foo () . \"  MyX=\" . MyX::foo ();\n    $r-&gt;log_error ($str);\n\n    $r-&gt;content_type (\"text/plain\");\n    print $str;\n    return Apache2::Const::OK;\n}\n1;\n</code></pre>\n\n<p>In each handler I am using foo of a module. The modules reside in a directory a (for HandlerA) and b (for HandlerB).</p>\n\n<p>a/MyA::foo prints A</p>\n\n<p>b/MyB::foo prints B</p>\n\n<p>a/MyX::foo prints A</p>\n\n<p>b/MyX::foo prints B</p>\n\n<p><strong>Only showing a/MyX.pm</strong></p>\n\n<pre><code>package MyX;\n\nsub foo\n{\n    return \"A\";\n}\n1;\n</code></pre>\n\n<p>Because MyA and MyB differ by name it is working fine that HandlerA uses the correct foo.</p>\n\n<p>But thats not the case with MyX.</p>\n\n<p>How can I make is possible to use a/MyX.pm in HandlerA and b/MyX.pm in HandlerB?\nSo it should use the module not by name but by its file-location.</p>\n\n<p>Output of Handler A should be</p>\n\n<blockquote>\n  <p>Handler=A  MyA=A  MyX=A</p>\n</blockquote>\n\n<p>Output of HandlerB should be</p>\n\n<blockquote>\n  <p>Handler=B  MyB=B  MyX=B</p>\n</blockquote>\n\n<p>MyX is not always working as expected and it gets mixed up.</p>\n"}, {"tags": ["regex", "perl", "ubuntu", "debian"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1576704152, "post_id": 59400066, "comment_id": 104989351, "body": "<a href=\"https://stackoverflow.com\">Stack Overflow</a> is for programming questions, not questions about using or configuring Unix and its utilities. <a href=\"https://unix.stackexchange.com\">Unix & Linux</a> or <a href=\"https://superuser.com\">Super User</a> would be better places for questions like this."}], "answers": [{"comments": [{"owner": {"reputation": 7230, "user_id": 444796, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7f0c33445ef45506e339d70a36d57dc1?s=128&d=identicon&r=PG", "display_name": "Ichthyo", "link": "https://stackoverflow.com/users/444796/ichthyo"}, "edited": false, "score": 0, "creation_date": 1579289721, "post_id": 59400115, "comment_id": 105729707, "body": "which means: if you port or maintain a DEB package, <i>and this package indeed uses <code>rename</code>,</i> you should add the &#39;rename&#39; package to its build-dependencies (starting with Debian/Buster). This will also automatically ensure the <code>update-alternatives</code> is performed"}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": true, "score": 2, "last_activity_date": 1576705219, "last_edit_date": 1576705219, "creation_date": 1576703981, "answer_id": 59400115, "question_id": 59400066, "link": "https://stackoverflow.com/questions/59400066/rename-command-debian-server/59400115#59400115", "title": "rename command Debian server", "body": "<p>The rename command that is part of the <code>util-linux</code> package, won't work.</p>\n\n<p>You need to run : </p>\n\n<pre><code>#\u00a0apt install rename\n</code></pre>\n\n<p>If you run the following command (<code>GNU</code>)</p>\n\n<pre><code>$ file \"$(readlink -f \"$(type -p rename)\")\"\n</code></pre>\n\n<p>and you have a result that contains <code>Perl script, ASCII text executable</code> and not containing <code>ELF</code>, then this seems to be the right tool =)</p>\n\n<p>If not, to make it the default (usually already the case) on <code>Debian</code> and derivative like <code>Ubuntu</code> :</p>\n\n<pre><code>#\u00a0update-alternatives --set rename /usr/bin/file-rename\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 2361412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31867e736a10d59f43acd76de05a4d3f?s=128&d=identicon&r=PG", "display_name": "Dan Howes", "link": "https://stackoverflow.com/users/2361412/dan-howes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 59400115, "answer_count": 1, "score": 1, "last_activity_date": 1576705219, "creation_date": 1576703676, "last_edit_date": 1576704886, "question_id": 59400066, "link": "https://stackoverflow.com/questions/59400066/rename-command-debian-server", "title": "rename command Debian server", "body": "<p>The following worked on my old server (Ubuntu)</p>\n\n<pre><code>rename -n 's/(.*)\\/.*\\./$1\\/$1./' */*\n</code></pre>\n\n<p>but not on my new server (Debian).</p>\n\n<p>I'm guessing the new server is using the Perl <code>rename</code>. How would one convert the above to work the same with Perl <code>rename</code>? All it was meant to do is rename files in a folder so that the name starts with the name of the parent folder (removing any name before the last dot in the original filename).  Thus, <code>include/anything.h</code> would become <code>include/include.h</code>.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "edited": false, "score": 0, "creation_date": 1576704540, "post_id": 59398888, "comment_id": 104989524, "body": "<code>my $s = &#39;&#47;home&#47;myself&#47;input.txt&#39;; if ( not $s ) { print &quot;empty string&quot;; } else { (my $in) = $s =~ &#47;([^\\&#47;]+)$&#47;; print $in; }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 949, "user_id": 1015315, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/acc5cfe18423f43ae9692a71c4dea156?s=128&d=identicon&r=PG", "display_name": "Ilonpilaaja", "link": "https://stackoverflow.com/users/1015315/ilonpilaaja"}, "edited": false, "score": 0, "creation_date": 1576697556, "post_id": 59398921, "comment_id": 104986875, "body": "Ohhh I am sure to have read this. The slash is used both for matching and delimiting, what a stupid mistake. Thanks, it works."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1576697654, "post_id": 59398921, "comment_id": 104986909, "body": "with !, you no longer need the \\"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 1, "creation_date": 1576697746, "post_id": 59398921, "comment_id": 104986955, "body": "Sure, simple copy/paste and forgot to remove it, thanks"}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": true, "score": 3, "last_activity_date": 1576698115, "last_edit_date": 1576698115, "creation_date": 1576697462, "answer_id": 59398921, "question_id": 59398888, "link": "https://stackoverflow.com/questions/59398888/unmatched-square-bracket-perl-regex/59398921#59398921", "title": "unmatched square bracket Perl regex", "body": "<p>Your regex is wrong, that's very simple.</p>\n\n<p>The delimiter is <code>/</code>, so your regex should looks like :</p>\n\n<pre><code> /^.*([^\\/]+)$/\n #      ^  backslash is mandatory with / delimiter\n</code></pre>\n\n<p>Another solution, using <a href=\"https://perldoc.perl.org/functions/m.html\" rel=\"nofollow noreferrer\"><code>m//</code> <em>match operator</em></a> and an <em>arbitrary <code>!</code> delimiter</em> :</p>\n\n<pre><code>m!^.*([^/]+)$!\n</code></pre>\n"}], "owner": {"reputation": 949, "user_id": 1015315, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/acc5cfe18423f43ae9692a71c4dea156?s=128&d=identicon&r=PG", "display_name": "Ilonpilaaja", "link": "https://stackoverflow.com/users/1015315/ilonpilaaja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 59398921, "answer_count": 1, "score": -1, "last_activity_date": 1576698115, "creation_date": 1576697325, "question_id": 59398888, "link": "https://stackoverflow.com/questions/59398888/unmatched-square-bracket-perl-regex", "title": "unmatched square bracket Perl regex", "body": "<p>I am sure to have done some search, and I am not a complete novice in regexes (say, I use them regularly, not pun intended, in <code>vim</code>). Let's say I have a path <code>/home/myself/input.txt</code> and\nI would like to extract <code>input.txt</code>. What can be easier, right.\nSo, here is my Perl line (and I am indeed new to Perl):</p>\n\n<pre><code>my $s = \"/home/myself/input.txt\";\nif ( $s =~ /^.*([^/]+)$/ ) { # match anything except a slash...\n    my $in = \"$1\"; #extract the first group\n}\n</code></pre>\n\n<p>However, the terminal is not happy: </p>\n\n<blockquote>\n  <p>Unmatched [ in regex; marked by &lt;-- HERE in</p>\n</blockquote>\n\n<p>What am I missing in such a simple situation? Doe square brackets have some other meaning in Perl?</p>\n"}, {"tags": ["bash", "shell", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1576672588, "post_id": 59392083, "comment_id": 104974036, "body": "Do you want to add <code>_old</code> if there&#39;s no duplicate?"}, {"owner": {"reputation": 121, "user_id": 6858372, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4238e8e74fa818ee18d060f71c50a989?s=128&d=identicon&r=PG&f=1", "display_name": "ALG", "link": "https://stackoverflow.com/users/6858372/alg"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576672662, "post_id": 59392083, "comment_id": 104974077, "body": "No, only to the ones with duplicates"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1576672978, "last_edit_date": 1576672978, "creation_date": 1576672536, "answer_id": 59392190, "question_id": 59392083, "link": "https://stackoverflow.com/questions/59392083/change-suffix-on-partial-duplicates-with-bash-perl/59392190#59392190", "title": "Change suffix on partial duplicates with bash perl", "body": "<pre><code>perl -pale'\n   next if $. != 1;\n\n   my %map = map { /^(.*)_new\\z/s ? ( $1 =&gt; \"$1_old\", $_ =&gt; $1 ) : () } @F;\n   @F = map { $map{$_} // $_ } @F;\n   $_ = \"@F\";\n'\n</code></pre>\n\n<p>If the line is <code>AGE_030 AGE_030_new AGE_031</code>, <code>@F</code> will contain <code>\"AGE_030\", \"AGE_030_new\", \"AGE_031\"</code>. From this, the following mapping is created: <code>\"AGE_030\" =&gt; \"AGE_030_old\", \"AGE_030_new\" =&gt; \"AGE_030\"</code>. Finally, we apply the mapping and rebuild the line.</p>\n\n<p><a href=\"https://stackoverflow.com/q/41742890/589924\">Specifying file to process to Perl one-liner</a></p>\n"}], "owner": {"reputation": 121, "user_id": 6858372, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4238e8e74fa818ee18d060f71c50a989?s=128&d=identicon&r=PG&f=1", "display_name": "ALG", "link": "https://stackoverflow.com/users/6858372/alg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 1, "accepted_answer_id": 59392190, "answer_count": 1, "score": 0, "last_activity_date": 1576672978, "creation_date": 1576672209, "question_id": 59392083, "link": "https://stackoverflow.com/questions/59392083/change-suffix-on-partial-duplicates-with-bash-perl", "title": "Change suffix on partial duplicates with bash perl", "body": "<p>I have a file with multiple columns, and some of their names are partial duplicates, following this pattern:</p>\n\n<pre><code>[]$head -n1 file.csv\n\nAGE_030 AGE_031 AGE_032 AMET_022 ... MEND_009 MOLI_032 ... OIA_013 SH-1 SH-10 SH-107\nSH-108 SH-4 SH-1_new SH-4_new AREN_1 AREN_28 AREN_3 AREN_4 AGE_032_new AMET_022_new\nMEND_009_new MOLI_032_new OIA_013_new... \n</code></pre>\n\n<p>All column names with <strong>_new</strong> suffix have another match without it.</p>\n\n<p>I want to replace the suffixes of both mathes in this way for all partial duplicates:</p>\n\n<ul>\n<li><strong>AGE_032</strong> to <strong>AGE_032_old</strong>  </li>\n<li><strong>AGE_032_new</strong> to <strong>AGE_032</strong></li>\n</ul>\n\n<p>I want to do it in a way that allows me to edit the column names INSIDE the file, as <code>perl -i</code> does.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["regex", "perl", "hash", "substitution", "tr"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1576660390, "post_id": 59388058, "comment_id": 104967905, "body": "no, can&#39;t do that, <code>tr</code> isn&#39;t regex -- it&#39;s <i>transliteration</i>.  Read its entry <a href=\"https://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">in perlop</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1576670977, "post_id": 59388058, "comment_id": 104973226, "body": "Of course it doesn&#39;t work. <code>tr&#47;&#47;&#47;</code> takes neither a regex pattern (<code>(.)</code>) nor a string literal (<code>&#47;$map{$1}&#47;</code>). You could dynamically build a sub. <code>my $keys = join &#39;&#39;, map quotemeta, keys %map; my $vals = join &#39;&#39;, map quotemeta, values %map; my $tr = eval &quot;sub  { $_[0] =~ tr&#47;\\Q$keys\\E&#47;\\Q$vals\\E&#47;r }&quot;; my str2 = $tr-&gt;($str1);</code> This <i>might</i> be faster if you want to perform the same operation on many long strings."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "edited": false, "score": 2, "creation_date": 1576705622, "post_id": 59388058, "comment_id": 104989883, "body": "Using regex can move past the single character search. <code>s&#47;(.)&#47;$map{$1}&#47;g</code> is the right idea, however only the keys should be matched, otherwise if the key is not found an uninitilaized value is thrown. So using the keys only is simply this <code>$str2 =~ s&#47;([abc])&#47;$map{$1}&#47;g;</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1576834484, "post_id": 59388058, "comment_id": 105032152, "body": "@x15 good point, where one can also do <code>s{(.)}{$map{$1}&#47;&#47;$1}eg</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3269, "user_id": 93745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8F5Wc.jpg?s=128&g=1", "display_name": "tinita", "link": "https://stackoverflow.com/users/93745/tinita"}, "edited": false, "score": 1, "creation_date": 1576664058, "post_id": 59388566, "comment_id": 104969747, "body": "You can also delete characters like in the original code. Depending on the character set this could do it: <code>tr&#47;abc\\0-\\xFF&#47;948&#47;d</code>"}], "tags": [], "owner": {"reputation": 19222, "user_id": 789186, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d232cc5abe46092d3972d4f85833e42?s=128&d=identicon&r=PG", "display_name": "user4035", "link": "https://stackoverflow.com/users/789186/user4035"}, "is_accepted": false, "score": 2, "last_activity_date": 1576659713, "creation_date": 1576659713, "answer_id": 59388566, "question_id": 59388058, "link": "https://stackoverflow.com/questions/59388058/perl-substitute-string-characters-using-a-hash-and-tr/59388566#59388566", "title": "perl substitute string characters using a hash and tr", "body": "<p>If you need to replace exacly 1 character by 1 character, <code>tr</code> is ideal for you:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $str = 'abcd';\nmy $str2 = $str;\n$str2 =~ tr /abc/948/;\n\nprint \" $str =&gt; $str2\\n\";\n</code></pre>\n\n<p>It didn't delete \"d\", which will happen with the code from your question. Output:</p>\n\n<pre><code>abcd =&gt; 948d\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1577182427, "last_edit_date": 1577182427, "creation_date": 1576828395, "answer_id": 59421638, "question_id": 59388058, "link": "https://stackoverflow.com/questions/59388058/perl-substitute-string-characters-using-a-hash-and-tr/59421638#59421638", "title": "perl substitute string characters using a hash and tr", "body": "<p>No, one cannot do that with <code>tr</code>.  That tool is very different from regex.</p>\n\n<p>Its entry in <a href=\"https://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\"><em>Quote Like Operators</em> in perlop</a> says</p>\n\n<blockquote>\n  <p>Transliterates all occurrences of the characters found (or not found if the <code>/c</code> modifier is specified) in the search list with the positionally corresponding character in the replacement list [...]</p>\n</blockquote>\n\n<p>and further down it adds</p>\n\n<blockquote>\n  <p>Characters may be literals, or (if the delimiters aren't single quotes) any of the escape sequences accepted in double-quoted strings. But there is never any variable interpolation, so <code>\"$\"</code> and <code>\"@\"</code> are always treated as literals. [...]</p>\n</blockquote>\n\n<p>So one surely can't have a hash evaluated, nor match on a regex pattern in the first place.</p>\n\n<p>The lack of even basic variable interpolation is explained at the very end</p>\n\n<blockquote>\n  <p>... the transliteration table is built at compile time, ... </p>\n</blockquote>\n\n<p>We are then told of using <a href=\"https://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\">eval</a>, with an example, if we must use variables with <code>tr</code>.  </p>\n\n<p>In this case you'd need to first build variables, one a sequence of characters to replace (<code>keys</code>) and the other a sequence of their replacement characters (<code>values</code>), and then use them in <code>tr</code> via <code>eval</code> like in the docs. Better yet, you'd build a sub with it as in ikegami's comment.  Here is a <a href=\"https://stackoverflow.com/q/37358489/4653379\">related page</a>.</p>\n\n<p>But this is <em>the opposite</em> of finding an approach simpler than that basic regex, the question's point.</p>\n"}], "owner": {"reputation": 1047, "user_id": 1191999, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8a5575da1a4d6205f568754e55294cfb?s=128&d=identicon&r=PG", "display_name": "Ram", "link": "https://stackoverflow.com/users/1191999/ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1577182427, "creation_date": 1576657545, "last_edit_date": 1576708214, "question_id": 59388058, "link": "https://stackoverflow.com/questions/59388058/perl-substitute-string-characters-using-a-hash-and-tr", "title": "perl substitute string characters using a hash and tr", "body": "<p>I need an efficient way to replace all chars from a string with another char based on a hash map \nCurrently I am using regex <code>s///</code>  and that is working fine. Can I use <code>tr</code> instead , because I just need character by character conversion. </p>\n\n<p>This is what I am trying:</p>\n\n<pre><code>my %map = ( a =&gt; 9 , b =&gt; 4 , c =&gt; 8 );\nmy $str = 'abc';\nmy $str2 = $str;\n$str2 =~ s/(.)/$map{$1}/g;   # $str2 =~ tr /(.)/$map{$1}/  Does not work \n\n\nprint \" $str =&gt; $str2\\n\";\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4244, "user_id": 3348112, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab4cd9458f5debd780353a5554b718d8?s=128&d=identicon&r=PG&f=1", "display_name": "CAustin", "link": "https://stackoverflow.com/users/3348112/caustin"}, "edited": false, "score": 0, "creation_date": 1576638942, "post_id": 59384946, "comment_id": 104961449, "body": "Do you actually need to modify preexisting strings, or are you just asking for a way to assign a value that contains quotes to a variable?"}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1576639841, "post_id": 59384946, "comment_id": 104961640, "body": "That doesn&#39;t need any regular expressions. Just escape them: <code>$movie = &quot;\\&quot;Spiderman\\&quot;&quot;;</code> Or just use single quotes as there&#39;s nothing to interpolate anyways: <code>$movie = &#39;&quot;Spiderman&quot;&#39;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1576639522, "creation_date": 1576639522, "answer_id": 59385073, "question_id": 59384946, "link": "https://stackoverflow.com/questions/59384946/how-can-i-add-double-quotes-perl/59385073#59385073", "title": "How can I add double quotes? perl", "body": "<p>Escape them.</p>\n\n<pre><code>$movie = \"\\\"Spiderman\\\"\";\n</code></pre>\n\n<p>Alternatively, you could use a different delimiter.</p>\n\n<pre><code>$movie = qq{\"Spiderman\"};\n</code></pre>\n\n<p>Since you don't interpolate or use any escape sequence, you could also switch to a single-quoted string literal.</p>\n\n<pre><code>$movie = '\"Spiderman\"';\n</code></pre>\n\n<hr>\n\n<p>On the other hand, if you're trying to programmatically add quotes, you can use the following:</p>\n\n<pre><code>$movie = '\"' . $movie . '\"';\n</code></pre>\n\n<hr>\n\n<p>(Note that it's very odd to put a space after the <code>$</code>. I've-never-ever-seen-it-done level of odd.)</p>\n"}, {"tags": [], "owner": {"reputation": 34, "user_id": 9120297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ciPsw.png?s=128&g=1", "display_name": "Izya Budman", "link": "https://stackoverflow.com/users/9120297/izya-budman"}, "is_accepted": true, "score": 0, "last_activity_date": 1576675952, "creation_date": 1576675952, "answer_id": 59393154, "question_id": 59384946, "link": "https://stackoverflow.com/questions/59384946/how-can-i-add-double-quotes-perl/59393154#59393154", "title": "How can I add double quotes? perl", "body": "<p>You may do this using regular expression but it's some strange wish...</p>\n\n<pre><code>$movie =~ s/(.*)/\"$1\"/;\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 12452198, "user_type": "registered", "profile_image": "https://graph.facebook.com/2689152861140223/picture?type=large", "display_name": "Mitico Mancipe", "link": "https://stackoverflow.com/users/12452198/mitico-mancipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 59393154, "answer_count": 2, "score": 0, "last_activity_date": 1576675952, "creation_date": 1576638563, "question_id": 59384946, "link": "https://stackoverflow.com/questions/59384946/how-can-i-add-double-quotes-perl", "title": "How can I add double quotes? perl", "body": "<p>I want to add double quotes to a string or variables, I haven't found much about it, I know it's done through regular expressions.\nFor example I have this variable like this</p>\n\n<pre><code>my $ movie = \"Spiderman\";\n</code></pre>\n\n<p>or this way</p>\n\n<pre><code>my $ movie = \"Lord of rings\";\n</code></pre>\n\n<p>And I want it to look like this</p>\n\n<pre><code>$ movie = \"\" Spiderman \"\";\n$ movie = \"\" Lord of rings \"\";\n</code></pre>\n\n<p>I would appreciate some clue or idea.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4244, "user_id": 3348112, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab4cd9458f5debd780353a5554b718d8?s=128&d=identicon&r=PG&f=1", "display_name": "CAustin", "link": "https://stackoverflow.com/users/3348112/caustin"}, "edited": false, "score": 0, "creation_date": 1576631480, "post_id": 59384179, "comment_id": 104960164, "body": "Generally, regex operations will be faster if they&#39;re split up like in your second example. This is because the regex engine won&#39;t have to backtrack as it matches the various groups. However, many people find the single line approach with <code>$1</code> <code>$2</code> <code>$3</code> grouping to be easier to read and understand. You also might be able to leverage strict ordering rules in your input to make a more reliable and concise pattern (for example, if the date is always at the beginning of the string, you can help identify it with <code>^</code>)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "edited": false, "score": 1, "creation_date": 1576632760, "post_id": 59384179, "comment_id": 104960394, "body": "It depends upon the actual form of the text being matched. If it is done as #2 there is the possibility that date/time/body are matched in the wrong parts. If looking for a good question to start intelligent discussion, this really isn&#39;t it. This could turn into an <i>out_of_order</i> match question but even that should be done with a single regex."}, {"owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "edited": false, "score": 0, "creation_date": 1576634119, "post_id": 59384179, "comment_id": 104960618, "body": "Please add the actual patterns to help with run time comparison estimates."}], "answers": [{"tags": [], "owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "is_accepted": false, "score": 1, "last_activity_date": 1576635312, "last_edit_date": 1576635312, "creation_date": 1576634556, "answer_id": 59384500, "question_id": 59384179, "link": "https://stackoverflow.com/questions/59384179/match-one-by-one-or-match-all-in-one-regex-line-perl/59384500#59384500", "title": "Match one by one or match all in one regex line (Perl)", "body": "<p>The first method, using the three patterns in one regex, will probably be preferred in most cases. This is because it is more familiar and thus easier to maintain. The date and time especially seem to naturally go into one regex.<br>\nRemember to add the <code>x</code> flag for readability.<br>\nConsider using   <code>Regexp::Common::time</code>: <a href=\"https://metacpan.org/pod/Regexp::Common::time\" rel=\"nofollow noreferrer\">https://metacpan.org/pod/Regexp::Common::time</a> .<br>\nCapture directly into the variables instead of <code>$1</code> etc for speed and readability:</p>\n\n<pre><code>my ($date, $time, $other) = $email =~ m{...}x;\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 1701831, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1641053119/picture?type=large", "display_name": "Cadz", "link": "https://stackoverflow.com/users/1701831/cadz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576635312, "creation_date": 1576630958, "last_edit_date": 1576633367, "question_id": 59384179, "link": "https://stackoverflow.com/questions/59384179/match-one-by-one-or-match-all-in-one-regex-line-perl", "title": "Match one by one or match all in one regex line (Perl)", "body": "<p>I have a task that parses an email body content and extract a couple of words inside it.\nIt's not really that important how I extract those words, but Im curious which of the 2 options below is faster or suggested.</p>\n\n<pre><code>1. $email =~ /(date) (time) (some other pattern)/;\n   my $date = $1;\n   my $time = $2;\n   my $other_pattern = $3;\n\n2. $email =~ /(date)/;\n   my $date = $1;\n   $email =~ /(time)/;\n   my $time = $1\n   $email =~ /(some other pattern)/;\n   my $other_pattern = $1;\n</code></pre>\n\n<p>Number 1 wherein match all in one regex line or number 2 where I match one by one? and why.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1576626346, "post_id": 59383657, "comment_id": 104959108, "body": ".pl is usually a perl file, but this happens to be a .gif image"}, {"owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "edited": false, "score": 0, "creation_date": 1576676362, "post_id": 59383657, "comment_id": 104975958, "body": "what did you use to download the website?"}], "answers": [{"tags": [], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "is_accepted": true, "score": 8, "last_activity_date": 1576626316, "creation_date": 1576626316, "answer_id": 59383689, "question_id": 59383657, "link": "https://stackoverflow.com/questions/59383657/after-crawling-a-website-i-have-non-perl-files-with-a-pl-extension/59383689#59383689", "title": "After crawling a website, I have non-perl files with a .pl extension", "body": "<p>You can tell from the <a href=\"https://en.wikipedia.org/wiki/List_of_file_signatures\" rel=\"noreferrer\">magic byte</a> in that file that it's a GIF file. GIF98a is a version of a gif file.</p>\n\n<p>So what almost certainly happened is</p>\n\n<ul>\n<li>Someone created a web server</li>\n<li>That server is running in CGI mode.</li>\n<li>They have a perl script (which is normally <code>.pl</code> suffix)</li>\n<li>That perl script is serving up files.</li>\n<li>That perl script did not set <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec19.html\" rel=\"noreferrer\"><code>Content-Disposition</code> header properly</a> so your browser doesn't know what to save it as.</li>\n<li>Your browser defaulted the save-name to the name of the cgi script, or you accepted that manually.</li>\n<li>It served you a <code>.gif</code> file, which you downloaded to that location.</li>\n</ul>\n"}], "owner": {"reputation": 59, "user_id": 8922511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbadef63c924043e9c4698c0ce9e8208?s=128&d=identicon&r=PG&f=1", "display_name": "jrcollins", "link": "https://stackoverflow.com/users/8922511/jrcollins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 59383689, "answer_count": 1, "score": 1, "last_activity_date": 1576676417, "creation_date": 1576626096, "last_edit_date": 1576676417, "question_id": 59383657, "link": "https://stackoverflow.com/questions/59383657/after-crawling-a-website-i-have-non-perl-files-with-a-pl-extension", "title": "After crawling a website, I have non-perl files with a .pl extension", "body": "<p>I have a static website I downloaded. Among the usual <code>.css</code>, <code>.js</code> and <code>.html</code> files there is a <code>.pl</code> file with the following contents:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xCDrb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xCDrb.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I had to upload a screenshot because the file contents didn't display correctly when I copied and pasted them here. I understand it's a Perl file but can anyone tell me what purpose it has?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1576622691, "post_id": 59383114, "comment_id": 104958211, "body": "You first need to determine what characters would constitute a &quot;boundary&quot;, then you can use <a href=\"https://perldoc.pl/perlretut#Looking-ahead-and-looking-behind\" rel=\"nofollow noreferrer\">lookarounds</a> to assert what characters are allowed before and after. Negative lookarounds are usually best, because they also succeed when there are no remaining characters."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "edited": false, "score": 0, "creation_date": 1576634379, "post_id": 59383114, "comment_id": 104960673, "body": "Is the question fully answered or does any residual question remain ?"}, {"owner": {"reputation": 3767, "user_id": 8710344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2292c452c0d0c9824d2aa38bb74d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "HardcoreHenry", "link": "https://stackoverflow.com/users/8710344/hardcorehenry"}, "edited": false, "score": 0, "creation_date": 1576679627, "post_id": 59383114, "comment_id": 104977756, "body": "Fully answered --  I wasn&#39;t aware of the look-around feature, which does pretty much exactly what I was after."}], "answers": [{"comments": [{"owner": {"reputation": 3767, "user_id": 8710344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2292c452c0d0c9824d2aa38bb74d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "HardcoreHenry", "link": "https://stackoverflow.com/users/8710344/hardcorehenry"}, "edited": false, "score": 0, "creation_date": 1576623063, "post_id": 59383196, "comment_id": 104958314, "body": "Thanks, that&#39;s exactly what I was looking for."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 6, "last_activity_date": 1576622784, "creation_date": 1576622784, "answer_id": 59383196, "question_id": 59383114, "link": "https://stackoverflow.com/questions/59383114/is-it-possible-to-define-word-boundary-character-set-in-perl/59383196#59383196", "title": "Is it possible to define word boundary character set in perl", "body": "<p>Using negative look-arounds makes the pattern a bit shorter and more readable, and gets rid of the capture groups:</p>\n\n<pre><code>s/(?&lt;![\\w$)])\\$\\(FOO\\)(?![\\w$(])/FOO/\n</code></pre>\n"}], "owner": {"reputation": 3767, "user_id": 8710344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2292c452c0d0c9824d2aa38bb74d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "HardcoreHenry", "link": "https://stackoverflow.com/users/8710344/hardcorehenry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 2, "accepted_answer_id": 59383196, "answer_count": 1, "score": 2, "last_activity_date": 1576622784, "creation_date": 1576622289, "question_id": 59383114, "link": "https://stackoverflow.com/questions/59383114/is-it-possible-to-define-word-boundary-character-set-in-perl", "title": "Is it possible to define word boundary character set in perl", "body": "<p>I need to replace some strings in perl, which start with a <code>$</code> character and end with a <code>)</code>.   So for example replace <code>$(FOO)</code> with <code>FOO</code>.   I DON'T want to match something like <code>$(FOO)_BLAH</code> or <code>BLAH_$(FOO)</code> or $(FOO)$(BAR), but I do want to match the inner part of <code>$($(FOO))</code>.   I cannot use <code>\\b</code> in my regex as neither the <code>$</code> or the <code>)</code> are actually word characters.  I'd like to do something equivalent though.   I came up with:</p>\n\n<pre><code>/([^\\w\\$\\)_]|^)\\$\\(FOO\\)([^\\w\\$\\(_]|$)/$1FOO$2/\n</code></pre>\n\n<p>This seems messy (specifically I don't like the <code>$1</code> and <code>$2</code> in the regex.   I'm just wondering if there's a cleaner way of doing this.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1576615771, "post_id": 59381863, "comment_id": 104955681, "body": "Cross-posted to <a href=\"https://www.reddit.com/r/perl/comments/ec0xs0/very_confused_on_how_to_approach_beginner_perl/\" rel=\"nofollow noreferrer\">reddit.com/r/perl/comments/ec0xs0/&hellip;</a>"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 2, "creation_date": 1576616138, "post_id": 59381863, "comment_id": 104955840, "body": "<a href=\"https://softwareengineering.meta.stackexchange.com/questions/6166/open-letter-to-students-with-homework-problems\" title=\"open letter to students with homework problems\">softwareengineering.meta.stackexchange.com/questions/6166/&hellip;</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1576752794, "post_id": 59381863, "comment_id": 105003890, "body": "What have you tried? What problems are you having? Please show us your code."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1576752836, "post_id": 59381863, "comment_id": 105003914, "body": "I&#39;m slightly confused as to why you&#39;re watching videos and reading articles. Isn&#39;t this stuff in your course notes?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1576620765, "last_edit_date": 1576620765, "creation_date": 1576620429, "answer_id": 59382795, "question_id": 59381863, "link": "https://stackoverflow.com/questions/59381863/simple-perl-assignment-with-txt-file/59382795#59382795", "title": "&quot;simple&quot; perl assignment with .txt file", "body": "<p><a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\"><code>open</code></a> can be used to open a file. <a href=\"http://perldoc.perl.org/functions/readline.html\" rel=\"nofollow noreferrer\"><code>&lt;$fh&gt;</code></a> will read a line from the file whose handle is in <code>$fh</code>. <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\"><code>chomp</code></a> can be used to remove the trailing line feed from a variable's value</p>\n\n<p>As for storing the names in two hashes... That doesn't make much sense. Hashes allows one to store values indexed by a string called a key. Should the name be used as a key or value of the hash element? If it's the key, what should be used as the value, and vice-versa. I can't help you with that.</p>\n\n<p>By the way, you should always start your programs with <code>use strict; use warnings;</code>. </p>\n\n<p><code>($first, $last)</code> should be <code>my ($first, $last)</code>.</p>\n\n<p><code>split / /, $line</code> (splitting on each space) should be <code>split ' ', $line</code> (splitting on whitespace).</p>\n"}], "owner": {"reputation": 11, "user_id": 12554698, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wa3oJ2ZUOew/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdOQGyPLuspgTatdxRP81X0fVyRBQ/photo.jpg?sz=128", "display_name": "Mark Adams", "link": "https://stackoverflow.com/users/12554698/mark-adams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1576620765, "creation_date": 1576615719, "question_id": 59381863, "link": "https://stackoverflow.com/questions/59381863/simple-perl-assignment-with-txt-file", "title": "&quot;simple&quot; perl assignment with .txt file", "body": "<p>I have an assignment that explains the following:</p>\n\n<p>Write a small Perl program called names.pl reads in a list of first and last names (full name per line) and stores the names in two hashes (%firstNameHash and %lastNameHash). Below is the user interface showing how it should work. Hint, in Perl you can assign 2 variables at once: ($first, $last) = split / /, $line;</p>\n\n<pre><code>File name to read in: myFile.txt\n(F) for first name (L) for last name search and (.) to exit: F\nEnter first name: Mike\nJonas\n(F) for first name (L) for last name search and (.) to exit: L\nEnter last name: Jonas\nMike\n(F) for first name (L) for last name search and (.) to exit: .\nDone!\n</code></pre>\n\n<p>I find this explanation to be pretty confusing, but I get the interface. I have the test file (myFile.txt) we were assigned, and it looks like this:</p>\n\n<pre><code>Mike Jonas\nMark Jones\nMax Tedford\nRobbie MacPheson\nAlison Bailey\n</code></pre>\n\n<p>I've watched some videos/read some articles for a couple hours, but when you don't know exactly what to look for, it can be confusing.</p>\n\n<p>Could anyone suggest a possible direction to start in? It would really help.</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["perl", "hash", "key"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 2, "creation_date": 1576604068, "post_id": 59379291, "comment_id": 104950753, "body": "<a href=\"http://metacpan.org/pod/perlfunc#chomp\" rel=\"nofollow noreferrer\"><code>perldoc -f chomp</code></a>"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1576604320, "post_id": 59379291, "comment_id": 104950872, "body": "FWIW, the &quot;error&quot; is just a warning, and the full warning is &quot;uninitialized hash value&quot;, because you tried to interpolate into a string the value of a hash key that does not have a defined value (uninitialized is an unfortunate word choice that is now used mostly for backcompat)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1576621927, "post_id": 59379291, "comment_id": 104957989, "body": "@Grinnz, Re &quot;<i>the &quot;error&quot; is just a warning</i>&quot;, So? That the error resulted in a warning and incorrect output rather than an exception doesn&#39;t make it any less of an error."}, {"owner": {"reputation": 7444, "user_id": 967621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOso6.jpg?s=128&g=1", "display_name": "Timur Shtatland", "link": "https://stackoverflow.com/users/967621/timur-shtatland"}, "edited": false, "score": 0, "creation_date": 1576869431, "post_id": 59379291, "comment_id": 105046493, "body": "Even though it is clear what the error was, it would help in the future if you provided in the question both STDOUT and STDERR, as well added printing the <code>$key</code>, not just <code>$hash{$key}</code>. STDOUT would have suggested the need for <code>chomp</code>, as one comment and the accepted answer say."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1576614458, "creation_date": 1576614458, "answer_id": 59381639, "question_id": 59379291, "link": "https://stackoverflow.com/questions/59379291/perl-hash-printing-the-value-of-a-key/59381639#59381639", "title": "perl hash printing the value of a key", "body": "<p><code>$key</code> contains the line entered <em>including the trailing line feed</em>. Add</p>\n\n<pre><code>chomp($key);\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 12401841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbcce32d293e478b08a712d3f19f674?s=128&d=identicon&r=PG&f=1", "display_name": "techie", "link": "https://stackoverflow.com/users/12401841/techie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 59381639, "answer_count": 1, "score": -1, "last_activity_date": 1576614458, "creation_date": 1576603739, "question_id": 59379291, "link": "https://stackoverflow.com/questions/59379291/perl-hash-printing-the-value-of-a-key", "title": "perl hash printing the value of a key", "body": "<p>the below script stores the key value pairs. Based on the input key given it should retrieve the corresponding value. In below code I am able to see the key value pairs from the first print but when I give one of the keys as an input, it throws an error saying \"uninitialized hash\".\nHow to solve this ?</p>\n\n<pre><code>...\nfor my $key ( sort keys %hash ) {\n    print \"$key = $hash{$key}\\n\"; \n}\n my $key = &lt;STDIN&gt;;\n print \"list is = $hash{$key}\\n\";\n</code></pre>\n"}, {"tags": ["amazon-web-services", "perl", "ubuntu"], "comments": [{"owner": {"reputation": 2186, "user_id": 5855374, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/34ZAL.jpg?s=128&g=1", "display_name": "linuxartisan", "link": "https://stackoverflow.com/users/5855374/linuxartisan"}, "edited": false, "score": 1, "creation_date": 1576555739, "post_id": 59367470, "comment_id": 104928504, "body": "Your inode usage could be high. Check with <code>df -i</code>."}, {"owner": {"reputation": 3065, "user_id": 3425138, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a3oSD.png?s=128&g=1", "display_name": "Ashish Karpe", "link": "https://stackoverflow.com/users/3425138/ashish-karpe"}, "reply_to_user": {"reputation": 2186, "user_id": 5855374, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/34ZAL.jpg?s=128&g=1", "display_name": "linuxartisan", "link": "https://stackoverflow.com/users/5855374/linuxartisan"}, "edited": false, "score": 0, "creation_date": 1576556536, "post_id": 59367470, "comment_id": 104928637, "body": "ubuntu@ip-172-21-0-14:/opt/aws-scripts-mon$ df -i Filesystem                      Inodes   IUsed     IFree IUse% Mounted on udev                            503264     376    502888    1% /dev tmpfs                           505575     506    505069    1% /run /dev/xvda1                     1310720 1306201      4519  100% / tmpfs                           505575       1    505574    1% /dev/shm"}, {"owner": {"reputation": 3065, "user_id": 3425138, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a3oSD.png?s=128&g=1", "display_name": "Ashish Karpe", "link": "https://stackoverflow.com/users/3425138/ashish-karpe"}, "reply_to_user": {"reputation": 2186, "user_id": 5855374, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/34ZAL.jpg?s=128&g=1", "display_name": "linuxartisan", "link": "https://stackoverflow.com/users/5855374/linuxartisan"}, "edited": false, "score": 0, "creation_date": 1576556540, "post_id": 59367470, "comment_id": 104928638, "body": "tmpfs                           505575       4    505571    1% /run/lock tmpfs                           505575      16    505559    1% /sys/fs/cgroup /dev/mapper/cassandra-volume 104853504    1823 104851681    1% /var/lib/cassandra tmpfs                           505575       4    505571    1% /run/user/1000"}, {"owner": {"reputation": 3065, "user_id": 3425138, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a3oSD.png?s=128&g=1", "display_name": "Ashish Karpe", "link": "https://stackoverflow.com/users/3425138/ashish-karpe"}, "reply_to_user": {"reputation": 2186, "user_id": 5855374, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/34ZAL.jpg?s=128&g=1", "display_name": "linuxartisan", "link": "https://stackoverflow.com/users/5855374/linuxartisan"}, "edited": false, "score": 0, "creation_date": 1576556622, "post_id": 59367470, "comment_id": 104928652, "body": "@linuxartisan yes you are right 100 IUse% now what can be done as this production Cassandra DB"}, {"owner": {"reputation": 2186, "user_id": 5855374, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/34ZAL.jpg?s=128&g=1", "display_name": "linuxartisan", "link": "https://stackoverflow.com/users/5855374/linuxartisan"}, "edited": false, "score": 1, "creation_date": 1576557137, "post_id": 59367470, "comment_id": 104928743, "body": "You need to find some old files and delete them. Check my answer."}], "answers": [{"comments": [{"owner": {"reputation": 3065, "user_id": 3425138, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a3oSD.png?s=128&g=1", "display_name": "Ashish Karpe", "link": "https://stackoverflow.com/users/3425138/ashish-karpe"}, "edited": false, "score": 0, "creation_date": 1576566930, "post_id": 59367705, "comment_id": 104931390, "body": "how to find these small files and delete old / not required ones?"}, {"owner": {"reputation": 3065, "user_id": 3425138, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a3oSD.png?s=128&g=1", "display_name": "Ashish Karpe", "link": "https://stackoverflow.com/users/3425138/ashish-karpe"}, "edited": false, "score": 0, "creation_date": 1576567457, "post_id": 59367705, "comment_id": 104931587, "body": "root@ip-172-21-0-17:/tmp# for i in /*; do echo $i; find $i |wc -l | sort -hr | head ; done /bin 172 /boot 515 /dev 378 /etc 2076 /home 24 /initrd.img 1 /initrd.img.old 1 /lib 54688 /lib64 2 /lost+found 1 /media 1 /mnt 1 /opt 16508 /proc find: \u2018/proc/8225\u2019: No such file or directory 683545 /root 74 /run 510 /sbin 225 /snap 2 /srv 1 /sys 37139 /tmp 28 /usr 1227642 /var 12655 /vmlinuz 1 /vmlinuz.old 1 root@ip-172-21-0-17:/tmp# ls -i /usr/ bin/     games/   include/ lib/     local/   sbin/    share/   src/"}, {"owner": {"reputation": 3065, "user_id": 3425138, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a3oSD.png?s=128&g=1", "display_name": "Ashish Karpe", "link": "https://stackoverflow.com/users/3425138/ashish-karpe"}, "edited": false, "score": 0, "creation_date": 1576567461, "post_id": 59367705, "comment_id": 104931590, "body": "root@ip-172-21-0-17:/tmp# ls -i /usr/ 105 bin  106 games  107 include  108 lib  109 local  110 sbin  111 share  112 src root@ip-172-21-0-17:/tmp# for i in /usr/*; do echo $i; find $i |wc -l | sort -hr | head ; done /usr/bin 882 /usr/games 1 /usr/include 2247 /usr/lib 11276 /usr/local 716 /usr/sbin 159 /usr/share 25678 /usr/src 1186682"}, {"owner": {"reputation": 3065, "user_id": 3425138, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a3oSD.png?s=128&g=1", "display_name": "Ashish Karpe", "link": "https://stackoverflow.com/users/3425138/ashish-karpe"}, "edited": false, "score": 0, "creation_date": 1576567517, "post_id": 59367705, "comment_id": 104931617, "body": "root@ip-172-21-0-17:/tmp# sudo apt-get autoremove Reading package lists... Done Building dependency tree Reading state information... Done You might want to run &#39;apt-get -f install&#39; to correct these. The following packages have unmet dependencies:  linux-headers-4.4.0-157-generic : Depends: linux-headers-4.4.0-157 but it is not installed E: Unmet dependencies. Try using -f."}], "tags": [], "owner": {"reputation": 2186, "user_id": 5855374, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/34ZAL.jpg?s=128&g=1", "display_name": "linuxartisan", "link": "https://stackoverflow.com/users/5855374/linuxartisan"}, "is_accepted": true, "score": 1, "last_activity_date": 1576557625, "creation_date": 1576557625, "answer_id": 59367705, "question_id": 59367470, "link": "https://stackoverflow.com/questions/59367470/apt-get-f-install-getting-disk-space-error-in-spite-of-space/59367705#59367705", "title": "apt-get -f install getting disk space error in-spite of space", "body": "<p>Your inode usage is high. Which basically means that you have a lot of small files on your server (since disk is still not full).</p>\n\n<p>So you need to find these small files and delete old / not required ones.</p>\n\n<p>Meanwhile, as a quick workaround, you may try autoremoving unneeded packages.</p>\n\n<pre><code>sudo apt-get autoremove\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sudo apt autoremove\n</code></pre>\n\n<p>Note: This is <strong>not a permanent solution</strong>. It's just a quick fix.</p>\n\n<p>You are bound to face this problem time and again, unless you find where these small files are getting created and write a <code>cron job</code> to periodically delete them.</p>\n"}], "owner": {"reputation": 3065, "user_id": 3425138, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a3oSD.png?s=128&g=1", "display_name": "Ashish Karpe", "link": "https://stackoverflow.com/users/3425138/ashish-karpe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "closed_date": 1576570441, "accepted_answer_id": 59367705, "answer_count": 1, "score": -1, "last_activity_date": 1576557625, "creation_date": 1576555392, "question_id": 59367470, "link": "https://stackoverflow.com/questions/59367470/apt-get-f-install-getting-disk-space-error-in-spite-of-space", "closed_reason": "Not suitable for this site", "title": "apt-get -f install getting disk space error in-spite of space", "body": "<p>I want to set cloudwatch alerts on my production server but getting dependency errors for libwww-perl while resolving it is saying  \"No space left on device\" though there is space. please let me know what is that I am missing. </p>\n\n<p>ubuntu@ip-172-21-0-17:/opt/aws-scripts-mon$ ./mon-put-instance-data.pl</p>\n\n<pre><code>Can't locate URI/Escape.pm in @INC (you may need to install the URI::Escape module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.22.1 /usr/local/share/perl/5.22.1 /usr/lib/x86_64-linux-gnu/perl5/5.22 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.22 /usr/share/perl/5.22 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base . .) at AwsSignatureV4.pm line 20.\nBEGIN failed--compilation aborted at AwsSignatureV4.pm line 20.\nCompilation failed in require at CloudWatchClient.pm line 21.\nBEGIN failed--compilation aborted at CloudWatchClient.pm line 21.\nCompilation failed in require at ./mon-put-instance-data.pl line 86.\nBEGIN failed--compilation aborted at ./mon-put-instance-data.pl line 86.\n</code></pre>\n\n<p>ubuntu@ip-172-21-0-17:/opt/aws-scripts-mon$ sudo apt-get install libwww-perl libdatetime-perl -y</p>\n\n<pre><code>Reading package lists... Done\nBuilding dependency tree\nReading state information... Done\nYou might want to run 'apt-get -f install' to correct these:\nThe following packages have unmet dependencies:\n libdatetime-perl : Depends: libdatetime-locale-perl but it is not going to be installed\n                    Depends: libdatetime-timezone-perl (&gt;= 1:1.74) but it is not going to be installed\n                    Depends: libparams-validate-perl (&gt;= 1.03) but it is not going to be installed\n                    Depends: libtry-tiny-perl but it is not going to be installed\n libwww-perl : Depends: libencode-locale-perl but it is not going to be installed\n               Depends: libfile-listing-perl but it is not going to be installed\n               Depends: libhtml-parser-perl but it is not going to be installed\n               Depends: libhtml-tagset-perl but it is not going to be installed\n               Depends: libhtml-tree-perl but it is not going to be installed\n               Depends: libhttp-cookies-perl but it is not going to be installed\n               Depends: libhttp-date-perl but it is not going to be installed\n               Depends: libhttp-message-perl but it is not going to be installed\n               Depends: libhttp-negotiate-perl but it is not going to be installed\n               Depends: liblwp-mediatypes-perl but it is not going to be installed\n               Depends: liblwp-protocol-https-perl but it is not going to be installed\n               Depends: libnet-http-perl (&gt;= 6.07) but it is not going to be installed\n               Depends: liburi-perl but it is not going to be installed\n               Depends: libwww-robotrules-perl but it is not going to be installed\n               Recommends: libhtml-form-perl but it is not going to be installed\n               Recommends: libhtml-format-perl but it is not going to be installed\n               Recommends: libhttp-daemon-perl but it is not going to be installed\n               Recommends: libmailtools-perl but it is not going to be installed\n linux-headers-4.4.0-157-generic : Depends: linux-headers-4.4.0-157 but it is not going to be installed\nE: Unmet dependencies. Try 'apt-get -f install' with no packages (or specify a solution).\n</code></pre>\n\n<p>ubuntu@ip-172-21-0-17:/opt/aws-scripts-mon$ sudo apt-get -f install</p>\n\n<pre><code>Reading package lists... Done\nBuilding dependency tree\nReading state information... Done\nCorrecting dependencies... Done\nThe following packages were automatically installed and are no longer required:\n  linux-headers-4.4.0-101 linux-headers-4.4.0-101-generic linux-headers-4.4.0-103 linux-headers-4.4.0-103-generic linux-headers-4.4.0-104 linux-headers-4.4.0-104-generic linux-headers-4.4.0-108\n  linux-headers-4.4.0-108-generic linux-headers-4.4.0-109 linux-headers-4.4.0-109-generic linux-headers-4.4.0-112 linux-headers-4.4.0-112-generic linux-headers-4.4.0-116\n  linux-headers-4.4.0-116-generic linux-headers-4.4.0-119 linux-headers-4.4.0-119-generic linux-headers-4.4.0-121 linux-headers-4.4.0-121-generic linux-headers-4.4.0-124\n  linux-headers-4.4.0-124-generic linux-headers-4.4.0-127 linux-headers-4.4.0-127-generic linux-headers-4.4.0-128 linux-headers-4.4.0-128-generic linux-headers-4.4.0-130\n  linux-headers-4.4.0-130-generic linux-headers-4.4.0-133 linux-headers-4.4.0-133-generic linux-headers-4.4.0-134 linux-headers-4.4.0-134-generic linux-headers-4.4.0-137\n  linux-headers-4.4.0-137-generic linux-headers-4.4.0-138 linux-headers-4.4.0-138-generic linux-headers-4.4.0-139 linux-headers-4.4.0-139-generic linux-headers-4.4.0-141\n  linux-headers-4.4.0-141-generic linux-headers-4.4.0-142 linux-headers-4.4.0-142-generic linux-headers-4.4.0-143 linux-headers-4.4.0-143-generic linux-headers-4.4.0-148\n  linux-headers-4.4.0-148-generic linux-headers-4.4.0-150 linux-headers-4.4.0-150-generic linux-headers-4.4.0-59 linux-headers-4.4.0-59-generic linux-headers-4.4.0-66\n  linux-headers-4.4.0-66-generic linux-headers-4.4.0-70 linux-headers-4.4.0-70-generic linux-headers-4.4.0-71 linux-headers-4.4.0-71-generic linux-headers-4.4.0-72 linux-headers-4.4.0-72-generic\n  linux-headers-4.4.0-75 linux-headers-4.4.0-75-generic linux-headers-4.4.0-78 linux-headers-4.4.0-78-generic linux-headers-4.4.0-79 linux-headers-4.4.0-79-generic linux-headers-4.4.0-81\n  linux-headers-4.4.0-81-generic linux-headers-4.4.0-83 linux-headers-4.4.0-83-generic linux-headers-4.4.0-87 linux-headers-4.4.0-87-generic linux-headers-4.4.0-89 linux-headers-4.4.0-89-generic\n  linux-headers-4.4.0-91 linux-headers-4.4.0-91-generic linux-headers-4.4.0-92 linux-headers-4.4.0-92-generic linux-headers-4.4.0-93 linux-headers-4.4.0-93-generic linux-headers-4.4.0-96\n  linux-headers-4.4.0-96-generic linux-headers-4.4.0-97 linux-headers-4.4.0-97-generic linux-headers-4.4.0-98 linux-headers-4.4.0-98-generic linux-image-4.4.0-101-generic\n  linux-image-4.4.0-103-generic linux-image-4.4.0-104-generic linux-image-4.4.0-108-generic linux-image-4.4.0-109-generic linux-image-4.4.0-112-generic linux-image-4.4.0-116-generic\n  linux-image-4.4.0-119-generic linux-image-4.4.0-121-generic linux-image-4.4.0-124-generic linux-image-4.4.0-127-generic linux-image-4.4.0-128-generic linux-image-4.4.0-130-generic\n  linux-image-4.4.0-133-generic linux-image-4.4.0-134-generic linux-image-4.4.0-137-generic linux-image-4.4.0-138-generic linux-image-4.4.0-139-generic linux-image-4.4.0-141-generic\n  linux-image-4.4.0-142-generic linux-image-4.4.0-143-generic linux-image-4.4.0-148-generic linux-image-4.4.0-150-generic linux-image-4.4.0-59-generic linux-image-4.4.0-66-generic\n  linux-image-4.4.0-70-generic linux-image-4.4.0-71-generic linux-image-4.4.0-72-generic linux-image-4.4.0-75-generic linux-image-4.4.0-78-generic linux-image-4.4.0-79-generic\n  linux-image-4.4.0-81-generic linux-image-4.4.0-83-generic linux-image-4.4.0-87-generic linux-image-4.4.0-89-generic linux-image-4.4.0-91-generic linux-image-4.4.0-92-generic\n  linux-image-4.4.0-93-generic linux-image-4.4.0-96-generic linux-image-4.4.0-97-generic linux-image-4.4.0-98-generic linux-modules-4.4.0-143-generic linux-modules-4.4.0-148-generic\n  linux-modules-4.4.0-150-generic\nUse 'sudo apt autoremove' to remove them.\nThe following additional packages will be installed:\n  linux-headers-4.4.0-157\nThe following NEW packages will be installed:\n  linux-headers-4.4.0-157\n0 upgraded, 1 newly installed, 0 to remove and 164 not upgraded.\n8 not fully installed or removed.\nNeed to get 0 B/10.0 MB of archives.\nAfter this operation, 71.1 MB of additional disk space will be used.\nDo you want to continue? [Y/n] Y\n(Reading database ... 1293295 files and directories currently installed.)\nPreparing to unpack .../linux-headers-4.4.0-157_4.4.0-157.185_all.deb ...\nUnpacking linux-headers-4.4.0-157 (4.4.0-157.185) ...\ndpkg: error processing archive /var/cache/apt/archives/linux-headers-4.4.0-157_4.4.0-157.185_all.deb (--unpack):\n unable to create '/usr/src/linux-headers-4.4.0-157/Kbuild.dpkg-new' (while processing './usr/src/linux-headers-4.4.0-157/Kbuild'): No space left on device\nNo apport report written because the **error message indicates a disk full error**\n                                                                              dpkg-deb: error: subprocess paste was killed by signal (Broken pipe)\nErrors were encountered while processing:\n /var/cache/apt/archives/linux-headers-4.4.0-157_4.4.0-157.185_all.deb\nE: Sub-process /usr/bin/dpkg returned an error code (1)\n</code></pre>\n\n<p>ubuntu@ip-172-21-0-17:/opt/aws-scripts-mon$ df -h</p>\n\n<pre><code>Filesystem                    Size  Used Avail Use% Mounted on\nudev                          2.0G     0  2.0G   0% /dev\ntmpfs                         395M   46M  350M  12% /run\n/dev/xvda1                     20G   13G  6.4G  67% /\ntmpfs                         2.0G     0  2.0G   0% /dev/shm\ntmpfs                         5.0M     0  5.0M   0% /run/lock\ntmpfs                         2.0G     0  2.0G   0% /sys/fs/cgroup\n/dev/mapper/cassandra-volume  200G  6.4G  194G   4% /var/lib/cassandra\ntmpfs                         395M     0  395M   0% /run/user/1000\n</code></pre>\n"}, {"tags": ["regex", "perl", "templates"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1576540011, "post_id": 59365734, "comment_id": 104925392, "body": "My suggestion would be to go back to basics and re-approach this as a templating problem. See <a href=\"https://metacpan.org/pod/Text::Template\" rel=\"nofollow noreferrer\">Text::Template</a> or <a href=\"https://metacpan.org/pod/Mojo::Template\" rel=\"nofollow noreferrer\">Mojo::Template</a> for example."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1576540090, "post_id": 59365734, "comment_id": 104925407, "body": "Why do you need to replace <code>$(AB)</code> by <code>\\$($1)</code> which evaluates to <code>$(AB)</code>?"}, {"owner": {"reputation": 3767, "user_id": 8710344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2292c452c0d0c9824d2aa38bb74d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "HardcoreHenry", "link": "https://stackoverflow.com/users/8710344/hardcorehenry"}, "edited": false, "score": 0, "creation_date": 1576542976, "post_id": 59365734, "comment_id": 104926032, "body": "Once generated I need to run this regex on a thousand makefiles...  The variable names in the file where I read the patterns from will not match all of the instances in the makefiles where I have to apply the regex. -- one makefile I might have <code>foo_1_$(AB)_(CD)</code>, and <code>foo_1_$(1)_$(2)</code> in another."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1576543285, "post_id": 59365734, "comment_id": 104926101, "body": "Ah... so you mean that given that <code>..$(AB)..</code> thing your code should write the regex pattern that ... works on it (or, on the same &quot;kind&quot; of a pattern)?  So what kinds of things can that pattern be?  Just a variable number of <code>_$(AB)</code> &quot;tokens&quot; or something completely different?"}, {"owner": {"reputation": 3767, "user_id": 8710344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2292c452c0d0c9824d2aa38bb74d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "HardcoreHenry", "link": "https://stackoverflow.com/users/8710344/hardcorehenry"}, "edited": false, "score": 0, "creation_date": 1576543605, "post_id": 59365734, "comment_id": 104926167, "body": "These are makefile variables that start with a particular set of prefixes.   The makefile variables do not have a specific format outside of the prefix, but they are all created using token pasting, where the tokens represent various settings the makefile is called with.   But each makefile uses different  variable names for the tokens"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1576543791, "post_id": 59365734, "comment_id": 104926209, "body": "&quot;<i>specific format outside of the prefix</i>&quot;  --- so what is that &quot;prefix&quot; -- stuff before the first <code>_</code>? Like, <code>[^_]+_.*</code> ? Or followed by any number of any subpatterns, but each starting with <code>_</code>? Or ...?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1576585226, "post_id": 59365734, "comment_id": 104940644, "body": "There are plenty of template modules already. Don&#39;t (poorly) invent another!"}, {"owner": {"reputation": 3767, "user_id": 8710344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2292c452c0d0c9824d2aa38bb74d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "HardcoreHenry", "link": "https://stackoverflow.com/users/8710344/hardcorehenry"}, "edited": false, "score": 0, "creation_date": 1576593344, "post_id": 59365734, "comment_id": 104945218, "body": "An actual example of the prefix might be <code>$(X)LIB_</code>, where the LIB_ is optional.   The prefix can be described as <code>\\$\\(?X\\)?(?:_LIB)?(?:_LOCAL)?</code>   The trick is that not <i>all</i> variables that start with this prefix need to be replaced -- I have to be selective based on the information inside."}], "answers": [{"comments": [{"owner": {"reputation": 3767, "user_id": 8710344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2292c452c0d0c9824d2aa38bb74d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "HardcoreHenry", "link": "https://stackoverflow.com/users/8710344/hardcorehenry"}, "edited": false, "score": 0, "creation_date": 1576543359, "post_id": 59365885, "comment_id": 104926119, "body": "Unfortunately, I cannot make the assumption that the string is formatted as such.   <code>foo_$(AB)_123_$(CD)_foo_$(EF)</code> would also be a valid pattern."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3767, "user_id": 8710344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2292c452c0d0c9824d2aa38bb74d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "HardcoreHenry", "link": "https://stackoverflow.com/users/8710344/hardcorehenry"}, "edited": false, "score": 1, "creation_date": 1576543465, "post_id": 59365885, "comment_id": 104926137, "body": "@HardcoreHenry Yeah, I just saw your comment under the question which made me reread the question ... but so what kinds of things are possible?  You have to spell that out <i>very</i> precisely.  One can&#39;t have a regex generator that&#39;ll work on arbitrary patterns."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3767, "user_id": 8710344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2292c452c0d0c9824d2aa38bb74d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "HardcoreHenry", "link": "https://stackoverflow.com/users/8710344/hardcorehenry"}, "edited": false, "score": 1, "creation_date": 1576543652, "post_id": 59365885, "comment_id": 104926174, "body": "@HardcoreHenry For instance, if you say that the groups following the pattern to be replaced are all <code>_stuff</code>  (<code>_$(AB)</code> or <code>_123</code> ...) then that&#39;s a small modification of what I&#39;ve posted here.  Some other specification may require a big change ... but I can&#39;t write to code to generate regex out of anything?"}, {"owner": {"reputation": 3767, "user_id": 8710344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2292c452c0d0c9824d2aa38bb74d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "HardcoreHenry", "link": "https://stackoverflow.com/users/8710344/hardcorehenry"}, "edited": false, "score": 0, "creation_date": 1576543764, "post_id": 59365885, "comment_id": 104926204, "body": "Essentially I want the first <code>$(..)</code> in the variable name to be replaced with <code>\\$($1)</code>, the second <code>$(..)</code> to be replaced with <code>\\$($2)</code>, etc..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3767, "user_id": 8710344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2292c452c0d0c9824d2aa38bb74d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "HardcoreHenry", "link": "https://stackoverflow.com/users/8710344/hardcorehenry"}, "edited": false, "score": 1, "creation_date": 1576544087, "post_id": 59365885, "comment_id": 104926262, "body": "That&#39;s what the question says, I got that -- but why do you want that? Is the objective not to replace what precedes those, and keep those unchanged? Then it&#39;s much easier to identify that whole subpattern that follows what need be replaced. If you insist to actually capture and replace <code>$(...)</code> one by one, then perhaps split the string or do <code>while (&#47;...&#47;g)</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 3767, "user_id": 8710344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2292c452c0d0c9824d2aa38bb74d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "HardcoreHenry", "link": "https://stackoverflow.com/users/8710344/hardcorehenry"}, "edited": false, "score": 1, "creation_date": 1576545545, "post_id": 59365885, "comment_id": 104926563, "body": "@HardcoreHenry Updated (by adding a section at the end) to my current understanding of what you need.  It doesn&#39;t &quot;<i>generate</i>&quot; a regex, which would be a very complex undertaking, but it is a regex which should do what is (seems to be) needed"}, {"owner": {"reputation": 3767, "user_id": 8710344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2292c452c0d0c9824d2aa38bb74d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "HardcoreHenry", "link": "https://stackoverflow.com/users/8710344/hardcorehenry"}, "edited": false, "score": 0, "creation_date": 1576593762, "post_id": 59365885, "comment_id": 104945437, "body": "There are variables such as <code>foo_2_$(AB)_bar</code> that I don&#39;t want to replace (whereas I might want to replace <code>foo_2_$(AB)_foobar</code>, so I need a list of regex&#39;s to distinguish between the variables I do want to replace.    I am just replacing the prefix though, so I can indeed group the entire end together.   I will go with a solution based on this answer.   Thanks."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 5, "last_activity_date": 1576604419, "last_edit_date": 1576604419, "creation_date": 1576541128, "answer_id": 59365885, "question_id": 59365734, "link": "https://stackoverflow.com/questions/59365734/auto-generating-substitution-in-perl/59365885#59365885", "title": "auto-generating substitution in perl", "body": "<p>Writing code to generate regex off of a given pattern is a complex undertaking (except in simplest cases), and that's when it is precisely specified what that pattern can be. In this case I also don't see why one can't solve the problem by writing the regex for a given type of a pattern (instead of writing code that would write regex).<sup>&dagger;</sup>  </p>\n\n<p>In either case one would need those regex so here's some of that.  Since no precise rules for what the patterns may be are given, I use some basic assumptions drawn from hints in the question.</p>\n\n<p>I take it that the pattern to replace (<code>foo_</code>) is followed by a number, and then by the pattern <code>_$(AB)</code> (literal dollar and parens with chars inside), repeated any number of times (\"<em>there may be a variable number of tokens</em>\"). </p>\n\n<p>One way to approach this is by matching the whole following pattern (all repetitions). With lookahead</p>\n\n<pre><code>s/[a-z]+_([0-9]+)(?=_(\\$\\(\\w+\\))+)/XXX_$1/;\n</code></pre>\n\n<p>A simple minded test in a one-liner</p>\n\n<pre><code>perl -wE'$_=q{foo_1_$(AB)_$(CB)}; s/[a-z]+_([0-9]+)(?=_(\\$\\(\\w+\\))+)/XXX_$1/; say'\n</code></pre>\n\n<p>replaces <code>foo</code> to <code>XXX</code>.  It works for only one group <code>_$(AB)</code>, and for more than two,  as well.</p>\n\n<p>This does not match the lone <code>foo_1</code>, without following <code>_$(AB)</code>, decided based on the \"spirit\" of the question (since such a requirement is not spelled out). If such a case in fact should be matched as well then that is possible with a few small changes (mostly related to moving <code>_</code> into the pattern to be replaced, as optional (<code>[a-z]+_[0-9]+_?)</code>)</p>\n\n<hr>\n\n<p><strong>Update</strong>&nbsp;  If the \"tokens\" that follow <code>foo_</code> (to be replaced) can in fact be <em>anything</em> (so not necessarily <code>$(..)</code>), except that they are strung together with <code>_</code>, then we can use a modification like</p>\n\n<pre><code>/[a-z]+_(\\d?)(?=(_[^_]+)*)/XXX_$1/;\n</code></pre>\n\n<p>where the number after <code>foo_</code> is optional, per example given in a comment. But then it's simpler</p>\n\n<pre><code>/[a-z]+(?=(_[^_]+)*)/XXX/;\n</code></pre>\n\n<p>Example</p>\n\n<pre><code>perl -wE'\n    $_=q{foo_$(AB)_123_$(CD)_foo_$(EF)}; say;\n    s/[a-z]+(?=(_[^_]+)*)/XXX/; say'\n</code></pre>\n\n<p>prints</p>\n\n<pre>\nfoo_$(AB)_123_$(CD)_foo_$(EF)\nXXX_$(AB)_123_$(CD)_foo_$(EF)\n</pre>\n\n<p>Note: what the above regex does is also done by <code>/[a-z]+(?=_)/XXX/</code>.  However, the more detailed regex above can be tweaked and adapted for more precise requirements and I'd use that, or its variations, as a main building block for complete solutions.</p>\n\n<p>If the rules for what may be a pattern are less structured (less than \"<em>any tokens connected with <code>_</code></em>\") then we need to know them, and probably very precisely.</p>\n\n<p>This clearly doesn't generate the regex from a given pattern, as asked, but <em>is a regex</em> to match such a (class of) patterns. That can solve the problem given sufficient specification for what those patterns may be like -- which would be necessary for regex generation as well.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup> Another option is that some templating system is used but then you are again directly writing regex to match given types of patterns.</p>\n"}], "owner": {"reputation": 3767, "user_id": 8710344, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2292c452c0d0c9824d2aa38bb74d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "HardcoreHenry", "link": "https://stackoverflow.com/users/8710344/hardcorehenry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 59365885, "answer_count": 1, "score": 2, "last_activity_date": 1576610641, "creation_date": 1576539659, "last_edit_date": 1576610641, "question_id": 59365734, "link": "https://stackoverflow.com/questions/59365734/auto-generating-substitution-in-perl", "title": "auto-generating substitution in perl", "body": "<p>I'm trying to autogenerate a  regex pattern in perl based on some input, to handle various variables that are created by token pasting in a Makefile...   So, for example, I might have a pattern such as: </p>\n\n<pre><code>foo_1_$(AB)_$(CB)\n</code></pre>\n\n<p>Given this pattern, I need to create a regex that will convert all instances of <code>foo_1_\\$(\\w+)_\\$(\\w+)</code> to <code>bar_1_\\$($1)_\\$($2)</code>.   The main issue I'm having is with the \"to\" side of the pattern -- I need to increment the <code>$</code> number reference each time -- notice that there may be a variable number of tokens in any given pattern.</p>\n\n<p>So...  I'm thinking something like this:</p>\n\n<pre><code>foreach $pattern (@patterns) {\n    my $from = $pattern;\n    # foo_1_$(AB)_$(CD)\n    $from =~ s/\\$\\(\\w+\\)/\\$\\(\\\\w\\\\\\+\\)/g;\n    # foo_1_$(\\w+)_$(\\w+)\n\n    my $to = $pattern =~ s/foo/bar/r;\n    # bar_1_$(AB)_$(CD);\n    $to =~ s/\\$\\(\\w+\\)/\\\\\\$\\(\\$?)/g; #???\n    # bar_1_\\$($1)_\\$($2)\n    #           ^      ^\n\n    #this next part is done outside of this loop, but for the example code:\n    $line ~= s/\\Q$from\\E/$to/; \n }\n</code></pre>\n\n<p>How do I cause each subsequent replacement in my <code>to</code> to have an incremental index?</p>\n"}, {"tags": ["perl", "import", "package"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1576518707, "post_id": 59361699, "comment_id": 104917653, "body": "Your terminology is a little confused so for clarification: Named functions exist within a package, and when you request them from another module, they are imported from that module&#39;s package into yours. Builtins can be used regardless of being present in the package, and are only those found in <a href=\"https://perldoc.pl/perlfunc\" rel=\"nofollow noreferrer\">perlfunc</a>."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1578329702, "last_edit_date": 1578329702, "creation_date": 1576520182, "answer_id": 59362213, "question_id": 59361699, "link": "https://stackoverflow.com/questions/59361699/is-there-an-option-in-the-perl-command-to-check-for-undefined-functions/59362213#59362213", "title": "Is there an option in the perl command to check for undefined functions?", "body": "<blockquote>\n  <p><em>I did not know if this was already under the fold of the standard perl library or not.</em></p>\n</blockquote>\n\n<p>It sounds like you want to distinguish imported subs from other subs and builtin functions.</p>\n\n<p>If you always list your imports explicitly instead of accepting the defaults like I do, then you'll not only know which subs are imported, you'll know from which module they were imported.</p>\n\n<pre><code>use Foo::Bar;                 # Default imports\nuse Foo::Bar qw( );           # Import nothing  (\"()\" also works)\nuse Foo::Bar qw( foo bar );   # Import subs foo and bar.\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><em>Is there an option in the perl command to check for undefined functions?</em></p>\n</blockquote>\n\n<p>On the other hand, if you are trying to identify the subs that you call that don't exist or that aren't defined at compile time, then this question is a duplicate of <a href=\"https://stackoverflow.com/q/41428150/589924\">How can I smoke out undefined subroutines?</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": false, "score": 1, "last_activity_date": 1578334350, "creation_date": 1578334350, "answer_id": 59616936, "question_id": 59361699, "link": "https://stackoverflow.com/questions/59361699/is-there-an-option-in-the-perl-command-to-check-for-undefined-functions/59616936#59616936", "title": "Is there an option in the perl command to check for undefined functions?", "body": "<p>Aside from the particular technical details, you can't know if a function will be defined at some time in the future when you plan to use it. As a dynamic language, thinks come into and go out of existence, and even change their definitions, while the programming is running. </p>\n\n<p>Jeffrey Kegler wrote <a href=\"https://www.perlmonks.org/?node_id=663393\" rel=\"nofollow noreferrer\">Perl Cannot Be Parsed: A Formal Proof</a> that relied on this idea. The details of the halting problem aren't as interesting as workings of a dynamic language.</p>\n\n<p>And, for what it's worth, those command-line options don't make programs idiot-proof. For example, in <a href=\"http://www.masteringperl.org\" rel=\"nofollow noreferrer\">Mastering Perl</a> I show that merely adding <code>-T</code> to a program doesn't magically make it secure, as many would have you believe.</p>\n\n<p>What were you doing with <a href=\"https://metacpan.org/pod/Unicode::Normalize\" rel=\"nofollow noreferrer\">Unicode::Normalize</a>? It has an <code>NFD</code> already but your question makes it sound like you were wrapping it somehow:</p>\n\n<pre><code>use Unicode::Normalize qw(NFD);\n</code></pre>\n"}], "owner": {"reputation": 1140, "user_id": 8981474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5S2rF.png?s=128&g=1", "display_name": "isakbob", "link": "https://stackoverflow.com/users/8981474/isakbob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 59362213, "answer_count": 2, "score": 2, "last_activity_date": 1578334350, "creation_date": 1576517864, "question_id": 59361699, "link": "https://stackoverflow.com/questions/59361699/is-there-an-option-in-the-perl-command-to-check-for-undefined-functions", "title": "Is there an option in the perl command to check for undefined functions?", "body": "<h1>Background</h1>\n\n<p>The <a href=\"https://perldoc.perl.org/perl.html\" rel=\"nofollow noreferrer\"><code>perl</code></a> command has several <a href=\"https://www.perl.com/pub/2004/08/09/commandline.html/\" rel=\"nofollow noreferrer\">idiot-proofing</a> command line options described in <a href=\"https://perldoc.perl.org/perlrun.html\" rel=\"nofollow noreferrer\"><code>perldoc perlrun</code></a>:</p>\n\n<pre><code>-c causes Perl to check the syntax of the program and then exit without executing it.\n-w prints warnings about dubious constructs, such as variable names that are mentioned only once and scalar variables that are used before being set, etc.\n-T forces \"taint\" checks to be turned on so you can test them.\n</code></pre>\n\n<p>After reading through these options, I could not find one that detects undefined functions.  For example, I had a function I used called <a href=\"https://perldoc.perl.org/Unicode/Normalize.html\" rel=\"nofollow noreferrer\"><code>NFD()</code></a> that imports the <code>Unicode::Normalize</code> package. However, being a perl novice, I did not know if this was already under the fold of the standard perl library or not.  And <code>perl -c</code> nor any of the other options uncovered this error for me, rather a coworker noticed that it was somehow undefined (and not inside the standard libraries).  Therefore, I was curious about the following:</p>\n\n<h1>Question</h1>\n\n<p>Is there an option in the <code>perl</code> command to automatically detect if there is an undefined function not already inside an imported package?</p>\n"}, {"tags": ["perl", "split", "directory", "path"], "answers": [{"tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 3, "last_activity_date": 1576517944, "last_edit_date": 1576517944, "creation_date": 1576517621, "answer_id": 59361652, "question_id": 59361600, "link": "https://stackoverflow.com/questions/59361600/how-to-split-cut-till-specific-path-directory-path-of-string-in-perl/59361652#59361652", "title": "How to split/cut till specific path (directory path )of string in perl", "body": "<p>As <em>one-liner</em> :</p>\n\n<pre><code>$ perl -F'/' -lane 'print join \"/\", @{F[0..4]}' &lt;&lt;&lt; \"/abcd/prod/Cid/1234/Did\"\n</code></pre>\n\n<p>As a script :</p>\n\n<pre><code>while (&lt;&gt;) {\n    chomp $_;\n    my @F = split(m[/], $_, 0);\n    print join('/', @F[0..4]), \"\\n\";\n}\n</code></pre>\n\n<h2>\u00a0Output :</h2>\n\n<pre><code>/abcd/prod/Cid/1234\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12532428, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDCi6neGEqHNglzuc6Y5Lxjx4rR6UNjiaafnETe=k-s128", "display_name": "KKarunesh", "link": "https://stackoverflow.com/users/12532428/kkarunesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1576607955, "creation_date": 1576517372, "last_edit_date": 1576607955, "question_id": 59361600, "link": "https://stackoverflow.com/questions/59361600/how-to-split-cut-till-specific-path-directory-path-of-string-in-perl", "title": "How to split/cut till specific path (directory path )of string in perl", "body": "<p>Input : <code>\"/abcd/prod/Cid/1234/Did\"</code> or <code>\"/abcd/prod/Cid/1234/Did/Pid/234\"</code></p>\n\n<p>Output: <code>\"/abcd/prod/Cid/1234/\"</code>  (Only till 4th word, considering '/' is the delimiter)</p>\n\n<p>How to slice and get above using perl</p>\n"}, {"tags": ["function", "perl", "compilation", "symbols", "compile-time"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1576518084, "post_id": 59361396, "comment_id": 104917383, "body": "One way, see <a href=\"https://stackoverflow.com/questions/41428150/how-can-i-smoke-out-undefined-subroutines/41434568#41434568\">How can I smoke out undefined subroutines</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576640052, "post_id": 59361396, "comment_id": 104961681, "body": "How is this different than <a href=\"https://stackoverflow.com/q/41428150/589924\">this question</a>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576807000, "post_id": 59361396, "comment_id": 105025187, "body": "You had this question marked as not a dupe, so you must think it&#39;s different. But until you explain how it&#39;s different, I don&#39;t see how we can help you."}], "answers": [{"comments": [{"owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "edited": false, "score": 0, "creation_date": 1576520878, "post_id": 59361826, "comment_id": 104918564, "body": "Can you be explicit, is there any method to do this with parenthesis in such a fashion that works that works with variables and without indirect object syntax?"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "edited": false, "score": 2, "creation_date": 1576524528, "post_id": 59361826, "comment_id": 104920039, "body": "Not automatically, that is precisely what the parser symbol checking is doing and the parentheses cause this to be deferred, the problem is it just has many fallback options. You can explicitly check if a function is defined with something like <code>BEGIN { die &quot;Foo::bar is undefined&quot; unless defined &amp;Foo::bar }</code>"}, {"owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "edited": false, "score": 0, "creation_date": 1576524767, "post_id": 59361826, "comment_id": 104920119, "body": "Yes, I know I could write it explicitly. I just figured there was a way to force it. Since that&#39;s precisely what I want and it seems like something <code>strict</code> should do. Especially when perl doesn&#39;t permit overloading. It seems like the symbol either exists or it doesn&#39;t and that can usually be determined at compile time."}, {"owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "edited": false, "score": 0, "creation_date": 1576524866, "post_id": 59361826, "comment_id": 104920151, "body": "Or put another way, it seems like a bareword check that was a little more aggressive would be massively more useful. Parens shouldn&#39;t make that warning less strict"}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "edited": false, "score": 0, "creation_date": 1576525336, "post_id": 59361826, "comment_id": 104920326, "body": "I agree such a thing would be useful, but it&#39;s not a hard line that strict currently draws, because there are many other possibilities and some symbols are not meant to be resolved until runtime (indicated by parentheses, or being part of a method call, etc)."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "edited": false, "score": 2, "creation_date": 1576525387, "post_id": 59361826, "comment_id": 104920343, "body": "Certainly this would all be much simpler if indirect object notation didn&#39;t exist."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "edited": false, "score": 1, "creation_date": 1576525474, "post_id": 59361826, "comment_id": 104920384, "body": "Consider the usual case of intentionally delaying a symbol resolution using parentheses: calling a subroutine which is defined later in the same file, without needing to predeclare it."}], "tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": true, "score": 3, "last_activity_date": 1576519096, "last_edit_date": 1576519096, "creation_date": 1576518374, "answer_id": 59361826, "question_id": 59361396, "link": "https://stackoverflow.com/questions/59361396/is-there-a-perl-strict-symbol-resolution-syntax-for-functions/59361826#59361826", "title": "Is there a Perl strict symbol resolution syntax for functions?", "body": "<p>Calling a function without parentheses will attempt to resolve the symbol in the parsing phase, this also includes fully-qualified symbols. The tricky part is what happens when it doesn't resolve. Under use strict 'subs', it will die due to bareword strings being disallowed.</p>\n\n<pre><code>use strict;\nuse warnings;\nFoo::bar; # Bareword \"Foo::bar\" not allowed while \"strict subs\" in use\n</code></pre>\n\n<p>This gets trickier when there are arguments. It still attempts to parse it as a bareword string, and so may report a syntax error when it's followed by something that wouldn't make sense there.</p>\n\n<pre><code>use strict;\nuse warnings;\nFoo::bar 42; # Number found where operator expected\n</code></pre>\n\n<p>Other times it parses it as an indirect method call, which then postpones the error to runtime, or may even end up doing something you didn't expect.</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $foo;\nFoo::bar $foo; # Can't call method \"bar\" on an undefined value\n</code></pre>\n\n<p>Basically, Perl tries really hard to figure out what the syntax was supposed to mean and so doesn't always end up with a useful error message when it doesn't work.</p>\n"}], "owner": {"reputation": 63855, "user_id": 124486, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/605442f85418d858e2ce1e1aea2092bb?s=128&d=identicon&r=PG", "display_name": "Evan Carroll", "link": "https://stackoverflow.com/users/124486/evan-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 59361826, "answer_count": 1, "score": 0, "last_activity_date": 1576607136, "creation_date": 1576516625, "last_edit_date": 1576607136, "question_id": 59361396, "link": "https://stackoverflow.com/questions/59361396/is-there-a-perl-strict-symbol-resolution-syntax-for-functions", "title": "Is there a Perl strict symbol resolution syntax for functions?", "body": "<p>I want to know how to force the resolution of subs at compile time.</p>\n\n<p>For some background, with perl, I can resolve package symbols strictly at compile-time using a <code>::</code> affixed to the end of the package name. For example.</p>\n\n<pre><code>perl -wE'use warnings FATAL =&gt; \"bareword\"; die 7; Foo::; die 42'\nBareword \"Foo::\" refers to nonexistent package at -e line 1.\n</code></pre>\n\n<p>You'll notice in the above code, we didn't die with 7 or 42. We died before the run-time phase. This only works to resolve the package name. I can use a method resolution operator (<code>-&gt;</code>) with the above syntax and resolve a function name in run-time,</p>\n\n<pre><code>perl -E'use warnings FATAL =&gt; \"bareword\"; die 7; Foo::-&gt;bar(); die 42'\nBareword \"Foo::\" refers to nonexistent package at -e line 1.\n</code></pre>\n\n<p>But this isn't exactly what I want,</p>\n\n<ul>\n<li><p>If I declare a package <code>Foo</code> <strong>that lacks a sub <code>bar</code></strong> and I want to call the non-existent function <code>bar</code> inside that package, I will no longer get a compile-time error,</p>\n\n<pre><code>perl -E'package Foo {}; use warnings FATAL =&gt; \"bareword\"; die 7; Foo::-&gt;bar(); die 42'\n7 at -e line 1.\n</code></pre>\n\n<p>You can see here, when <code>()</code> is affixed to the end of the symbol it resolves in run-time; but, when <code>::</code> is affixed to the end of a symbol though it's assumed to be a package name it's resolved in compile-time. </p></li>\n<li><p>The <code>-&gt;</code> operator is using run-time method resolution. It searches <code>@ISA</code>.</p></li>\n</ul>\n\n<p>What I would like is to die if <code>Foo</code> doesn't have <code>bar</code> sub in compile-time.</p>\n"}, {"tags": ["perl", "perl-prove"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1576509719, "post_id": 59359259, "comment_id": 104913202, "body": "Works for me on TAP::Harness v3.38 and Perl v5.26.1."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1576509857, "post_id": 59359260, "comment_id": 104913266, "body": "<a href=\"https://metacpan.org/pod/distribution/Test-Harness/bin/prove\" rel=\"nofollow noreferrer\">metacpan.org/pod/distribution/Test-Harness/bin/prove</a>, actually. I think this doc is generated from the POD in the distribution that&#39;s shipped as part of Perl, it&#39;s not included in Perl itself."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1576517770, "post_id": 59359260, "comment_id": 104917241, "body": "Bugs for this distribution should be submitted <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=Test-Harness\" rel=\"nofollow noreferrer\">here</a>, and bugs in Perl also should not be submitted to the <a href=\"https://github.com/Perl/perl5/issues\" rel=\"nofollow noreferrer\">GitHub repository</a> not through the perlbug utility (docs for this are in process of being updated)."}], "tags": [], "owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "is_accepted": false, "score": 3, "last_activity_date": 1576508693, "creation_date": 1576508693, "answer_id": 59359260, "question_id": 59359259, "link": "https://stackoverflow.com/questions/59359259/how-to-specify-rules-in-proverc/59359260#59359260", "title": "How to specify rules in .proverc?", "body": "<p>The solution is simple: Replace the first equal sign with a blank and specify rules inside of <code>.proverc</code> as follows:</p>\n\n<pre><code>--rules 'par=**'\n</code></pre>\n"}], "owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1576509260, "creation_date": 1576508693, "last_edit_date": 1592644375, "question_id": 59359259, "link": "https://stackoverflow.com/questions/59359259/how-to-specify-rules-in-proverc", "title": "How to specify rules in .proverc?", "body": "<p>The <a href=\"https://perldoc.perl.org/prove.html\" rel=\"nofollow noreferrer\">manpage of Perls prove</a> tool says:</p>\n<blockquote>\n<p>Options in .proverc are specified in the same way as command line options:</p>\n<pre><code># .proverc\n--state=hot,fast,save\n-j9\n</code></pre>\n</blockquote>\n<p>This is not true, a rule specified as</p>\n<pre><code>--rules='par=**'\n</code></pre>\n<p>will work on the command line but is <strong>not</strong> recognized in the <code>.proverc</code> file. In fact, adding this line to <code>.proverc</code> will disable parallel testing for all files.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "edited": false, "score": 1, "creation_date": 1576509928, "post_id": 59359489, "comment_id": 104913305, "body": "you just saved my evening sir. I just had <code>use v5.22</code> and forgot <code>use warnings</code> in this script."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1576510192, "last_edit_date": 1576510192, "creation_date": 1576509558, "answer_id": 59359489, "question_id": 59359217, "link": "https://stackoverflow.com/questions/59359217/ioprompter-echo-stars-not-working-as-intended/59359489#59359489", "title": "IO::Prompter echo &quot;stars&quot; not working as intended", "body": "<p>In the documentation for <code>-echo</code>, we find the following:</p>\n\n<blockquote>\n  <p>Note that this option is only available when the Term::ReadKey module is installed. If it is used when that module is not available, a warning will be issued.</p>\n</blockquote>\n\n<p>So, simply install Term::ReadKey.</p>\n\n<p>And always use <code>use strict; use warnings;</code>! That said, the warning could be better. <code>Warning: next input will be in plaintext</code> would be more useful if it explained what that is so.</p>\n"}], "owner": {"reputation": 1136, "user_id": 1694803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5qVj9.jpg?s=128&g=1", "display_name": "Boris D&#228;ppen", "link": "https://stackoverflow.com/users/1694803/boris-d%c3%a4ppen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 59359489, "answer_count": 1, "score": 2, "last_activity_date": 1576510192, "creation_date": 1576508523, "question_id": 59359217, "link": "https://stackoverflow.com/questions/59359217/ioprompter-echo-stars-not-working-as-intended", "title": "IO::Prompter echo &quot;stars&quot; not working as intended", "body": "<p>I took some Perl code I already used last year on a fresh installation on Ubuntu 18.04.\nFor \"some\" reason <code>IO::Prompter</code> does not properly echo the stars, as you can see in the example.</p>\n\n<pre><code>user@host:~$ sudo cpan install IO::Prompter\nIO::Prompter is up to date (0.004015).\n\nuser@host:~$ perl -MIO::Prompter -E 'say prompt \"foo: \", -echo=&gt;\"*\"'\nfoo: topSecret\ntopSecret\n\nuser@host:~$ perl --version\nThis is perl 5, version 26, subversion 1 (v5.26.1) built for x86_64-linux-gnu-thread-multi\n</code></pre>\n\n<p>What am I overlooking?\nI have no \"fancy\" setups in this fresh VM.\nJust installed missing libs via <code>cpan</code> and use the shipped system perl.</p>\n\n<p>Any help appreciated. Also alternative module suggestions.</p>\n"}, {"tags": ["perl", "hash", "sha256", "sha", "sha2"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12543201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d9de88eee04973693cc41399036de73?s=128&d=identicon&r=PG&f=1", "display_name": "Perez", "link": "https://stackoverflow.com/users/12543201/perez"}, "edited": false, "score": 0, "creation_date": 1576476969, "post_id": 59351005, "comment_id": 104898223, "body": "Thanks!<code>chomp $line;</code> before printing the SHA256 hash solves it."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": false, "score": 3, "last_activity_date": 1576474331, "creation_date": 1576474331, "answer_id": 59351005, "question_id": 59350760, "link": "https://stackoverflow.com/questions/59350760/perl-read-file-line-by-line-output-sha256/59351005#59351005", "title": "Perl read file line by line output SHA256", "body": "<p>If you read a line from a file using <code>&lt;$fh&gt;</code> the line end from the input is included in the result. Thus, what you did was to hash <code>test\\n</code> instead of <code>test</code>:</p>\n\n<pre><code>use Digest::SHA 'sha256_hex'; \nprint sha256_hex(\"test\\n\"),\"\\n\"; # f2ca1bb6c7e907d06dafe4687e579fce76b37e4e93b7605022da52e6ccc26fd2\nprint sha256_hex(\"test\"),\"\\n\";   # 9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12543201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d9de88eee04973693cc41399036de73?s=128&d=identicon&r=PG&f=1", "display_name": "Perez", "link": "https://stackoverflow.com/users/12543201/perez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576476594, "creation_date": 1576472276, "last_edit_date": 1576476594, "question_id": 59350760, "link": "https://stackoverflow.com/questions/59350760/perl-read-file-line-by-line-output-sha256", "title": "Perl read file line by line output SHA256", "body": "<p>I'm trying to read a text file line by line and then printing out the SHA256 value in terminal afterwards.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n...\n\nuse Digest::SHA qw(sha256_hex);\n\nwhile ( my $line = &lt;$fh&gt; ) {\n\n    print $line;\n    print sha256_hex($line), \"\\n\";\n\n    print \"Next\", \"\\n\";\n\n}\nclose $fh;\n</code></pre>\n\n<p>Sample output:</p>\n\n<pre><code>test\nf2ca1bb6c7e907d06dafe4687e579fce76b37e4e93b7605022da52e6ccc26fd2\nNext\n</code></pre>\n\n<p>When I tried using <code>sha256_hex('test');</code> instead of <code>sha256_hex($line);</code> the hash value is <code>9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08</code>.</p>\n\n<p>What did I do wrong? I am a newbie in perl, so excuse if it is something silly.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl", "data-dumper"], "answers": [{"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1576468766, "creation_date": 1576468766, "answer_id": 59350394, "question_id": 59349733, "link": "https://stackoverflow.com/questions/59349733/how-can-i-combine-datadumper-and-statisticsdiversityshannon-into-a-whole-l/59350394#59350394", "title": "How can I combine Data::Dumper and Statistics::Diversity::Shannon into a whole loop?", "body": "<p>Your first code snippet does not use <code>Data::Dumper</code> correctly. <code>Data::Dumper</code> mainly provides one function, <code>Dumper</code>, which outputs any data in a format that can be interpreted as Perl code.</p>\n\n<pre><code># instead of  printf \"\\$VAR1 = ...\nprint Dumper([values %counts]);\n</code></pre>\n\n<p>Since the output of <code>Data::Dumper::Dumper</code> is Perl code, you can read it by evaluating it as Perl code (with <code>eval</code>).</p>\n\n<p>So if your first script writes output to a file called <code>some.data</code>, your second script can call</p>\n\n<pre><code>my $VAR1;\nopen my $fh, \"&lt;\", \"some.data\";\neval do { local $/; &lt;$fh&gt; };      # read data from $fh and call  eval  on it\n# now the data from the first script is in $VAR1\nmy $d = Statistics::Diversity::Shannon-&gt;new( data =&gt; $VAR1 );\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1576482300, "last_edit_date": 1576482300, "creation_date": 1576468881, "answer_id": 59350407, "question_id": 59349733, "link": "https://stackoverflow.com/questions/59349733/how-can-i-combine-datadumper-and-statisticsdiversityshannon-into-a-whole-l/59350407#59350407", "title": "How can I combine Data::Dumper and Statistics::Diversity::Shannon into a whole loop?", "body": "<p>Data::Dumper is a debugging tool, not a serializing too. Not a good one, at least. </p>\n\n<p>But you aren't even using Data::Dumper. You're using something far worse.</p>\n\n<p>Let's start by using something acceptable like JSON.</p>\n\n<pre><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings;\n\nuse Cpanel::JSON::XS qw( encode_json );\n\n{\n   my @names = qw( A A A A B B B C D );\n\n   my %counts; ++$counts{$_} for @names;\n   my @data = sort { $b &lt;=&gt; $a } values(%counts);\n\n   print encode_json(\\@data);\n}\n</code></pre>\n\n<p>(Note that the <code>sort { $b &lt;=&gt; $a }</code> doesn't appear required.)</p>\n\n<p>And this is one way to read it back in:</p>\n\n<pre><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings;\n\nuse Cpanel::JSON::XS               qw( decode_json );\nuse Statistics::Diversity::Shannon qw( );\n\n{\n   my $json = do { local $/; &lt;&gt; };\n   my $data = decode_json($json);\n\n   my $d = Statistics::Diversity::Shannon-&gt;new( data =&gt; $data );\n   my $H = $d-&gt;index();\n   my $E = $d-&gt;evenness();\n\n   print \"$H/$E\\n\";\n}\n</code></pre>\n\n<hr>\n\n<p>Above, I assumed you meant \"work together\" when you said \"combine into whole loop\".</p>\n\n<p>On the other hand, maybe you meant \"combine into a single file\". If that's the case, then you can use the following:</p>\n\n<pre><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings;\n\nuse Statistics::Diversity::Shannon qw( );\n\n{\n   my @names = qw( A A A A B B B C D );\n\n   my %counts; ++$counts{$_} for @names;\n   my @data = values(%counts);\n\n   my $d = Statistics::Diversity::Shannon-&gt;new( data =&gt; \\@data );\n   my $H = $d-&gt;index();\n   my $E = $d-&gt;evenness();\n\n   print \"$H/$E\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 12465907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mALiyjAydM6Ws0Xn6sZRBhEUuoRzOmR7iAsvhj7CQ=k-s128", "display_name": "Chen Leo", "link": "https://stackoverflow.com/users/12465907/chen-leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 59350407, "answer_count": 2, "score": 0, "last_activity_date": 1576489359, "creation_date": 1576461682, "last_edit_date": 1576489359, "question_id": 59349733, "link": "https://stackoverflow.com/questions/59349733/how-can-i-combine-datadumper-and-statisticsdiversityshannon-into-a-whole-l", "title": "How can I combine Data::Dumper and Statistics::Diversity::Shannon into a whole loop?", "body": "<p>I want to combine this two functions together to get Shannon Diversity Index. </p>\n\n<p>How can do ?</p>\n\n<p>The first function is using Data::Dumper to get the unique numbers.</p>\n\n<pre><code>#!perl \n\nuse warnings;\nuse strict;\nuse Data::Dumper;\n\n$Data::Dumper::Sortkeys=1;    \nmy @names = qw(A A A A B B B C D);    \nmy %counts;\n$counts{$_}++ for @names;    \nprintf \"\\$VAR1 = { %s};\\n\",       \njoin ' ',           \nmap \"$_ \",             \nsort { $b &lt;=&gt; $a }                \nvalues(%counts);                \nexit; \n</code></pre>\n\n<p>This is the output</p>\n\n<pre><code>$VAR1 = { 4 3 1 1 };\n</code></pre>\n\n<p>Then I can input it into the second function. </p>\n\n<p>The second function is using <a href=\"https://metacpan.org/pod/Statistics::Diversity::Shannon\" rel=\"nofollow noreferrer\"><code>Statistics::Diversity::Shannon</code></a> to get Shannon  Diversity Index. </p>\n\n<pre><code>#!perl\n\nuse warnings;   \nuse strict;    \nuse Statistics::Diversity::Shannon;\n\nmy @data = qw( 4 3 1 1 );    \nmy $d = Statistics::Diversity::Shannon-&gt;new( data =&gt; \\@data );    \nmy $H = $d-&gt;index();    \nmy $E = $d-&gt;evenness();    \nprint \"$d/$H/$E\";    \nexit;\n</code></pre>\n\n<p>How can I combine this two functions into a whole loop by using the original data set (A A A A B B B C D) to get the Shannon Diversity Index. </p>\n"}, {"tags": ["azure", "perl", "azure-web-app-service"], "comments": [{"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 0, "creation_date": 1576459543, "post_id": 59349108, "comment_id": 104895042, "body": "Did you run shell script installed by Strawberry Perl? (The script sets some variables which is important) Why would you install other distribution of Perl if you already have one? Probably you should investigate what is pre-installed already and try to use it. If you find that it does not cover your requirements and it is not possible to correct with installation of additional <b>CPAN</b> modules -- only then it would make a sense to install other distribution."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "edited": false, "score": 0, "creation_date": 1576472126, "post_id": 59349108, "comment_id": 104897126, "body": "@Polar Bear, Re &quot;<i>Why would you install other distribution of Perl if you already have one?</i>&quot;, Why wouldn&#39;t? Having a Perl build that&#39;s under your control avoids so many problem. I cringe whenever I see someone using local::lib instead of just installing Perl locally. In this case, the Perl located <i>isn&#39;t even a native build</i>! It&#39;s built for MSYS, a unix emulation environment. Worse, it&#39;s sole purpose is to power <code>git</code>, so it could be crippled, and it&#39;s gotta make installing modules hard. Not using this build is definitely not the way to go."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576472162, "post_id": 59349108, "comment_id": 104897133, "body": "Re &quot;<i>running the above command still shows the old Perl version.</i>&quot;, It comes down to which one is first in the PATH (unless you use the full path to it). I&#39;m pretty sure Strawberry Perl adds itself to the start of the PATH, but it&#39;s possible that you were suppose to run a script as part of the installation process to make that happen like Polar Bear said."}, {"owner": {"reputation": 4234, "user_id": 12313309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPDo.jpg?s=128&g=1", "display_name": "Polar Bear", "link": "https://stackoverflow.com/users/12313309/polar-bear"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576475441, "post_id": 59349108, "comment_id": 104897828, "body": "@ikegami Well if this perl installation is purposed for GIT then probably it is not a good idea to try &#39;extend&#39; it -- it can break GIT toolset. Well, although I at this moment work in Windows 10 with Perl, but in Linux I find it is much easier to do practically anything (may be except specialized packages which is available only in Windows environment). Docker in my opinion is much better tool for virtualization that Azure (I do not use Azure and I can not do full comparison)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576479087, "post_id": 59349108, "comment_id": 104898760, "body": "*Not using this build is definitely the way to go. (Accidentally included an extra &quot;not&quot; in my original comment)"}], "owner": {"reputation": 217, "user_id": 2574948, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/ZsQWF.jpg?s=128&g=1", "display_name": "user2574948", "link": "https://stackoverflow.com/users/2574948/user2574948"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 399, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1576454066, "creation_date": 1576454066, "question_id": 59349108, "link": "https://stackoverflow.com/questions/59349108/azure-perl-support", "title": "Azure perl support", "body": "<p>I would like to know how I can run perl scripts on Azure web app. Just by running <code>perl -v</code> indicates that it has Perl installed already. However, the bin folder was within a GIT folder, which is unusual.</p>\n\n<p>I have attempted installing Strawberry Perl on top of that, but running the above command still shows the old Perl version.</p>\n\n<p>Couldn't find any proper documentation for Perl within Azure. Am I missing anything?</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1576411093, "post_id": 59342301, "comment_id": 104884213, "body": "<i>&quot;..this turns up as escaped valid text in the form..&quot;</i> Can you include a screen shot of that text? And what would be the expected result?"}, {"owner": {"reputation": 322, "user_id": 300113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e2857243a00c807abd5e6b5d9e3a6?s=128&d=identicon&r=PG", "display_name": "Hugh Barnard", "link": "https://stackoverflow.com/users/300113/hugh-barnard"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1576421047, "post_id": 59342301, "comment_id": 104886409, "body": "I&#39;ve added a sample screenshot of the output, as requested."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1576433542, "post_id": 59342301, "comment_id": 104889574, "body": "Just a wild guess, but what happens if you remove the opening and closing single quotes from the string you generate in the heredoc (or leave the quotes in, and assign it directly to the variable by losing the heredoc portion)?"}, {"owner": {"reputation": 322, "user_id": 300113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e2857243a00c807abd5e6b5d9e3a6?s=128&d=identicon&r=PG", "display_name": "Hugh Barnard", "link": "https://stackoverflow.com/users/300113/hugh-barnard"}, "edited": false, "score": 0, "creation_date": 1576484170, "post_id": 59342301, "comment_id": 104900463, "body": "Thanks. I have to concentrate on something else in the next couple of days, but I&#39;ll give removing quotes a spin."}], "answers": [{"comments": [{"owner": {"reputation": 322, "user_id": 300113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e2857243a00c807abd5e6b5d9e3a6?s=128&d=identicon&r=PG", "display_name": "Hugh Barnard", "link": "https://stackoverflow.com/users/300113/hugh-barnard"}, "edited": false, "score": 0, "creation_date": 1576515688, "post_id": 59359376, "comment_id": 104916244, "body": "Thank you, works a treat and I didn&#39;t know that! In fact I had already tried removing the single quotes but gratitude to both of you."}], "tags": [], "owner": {"reputation": 1934, "user_id": 10667839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ee13d3681ace95a1c13693db607f72?s=128&d=identicon&r=PG&f=1", "display_name": "clamp", "link": "https://stackoverflow.com/users/10667839/clamp"}, "is_accepted": false, "score": 2, "last_activity_date": 1576526554, "last_edit_date": 1576526554, "creation_date": 1576509165, "answer_id": 59359376, "question_id": 59342301, "link": "https://stackoverflow.com/questions/59342301/mojolicious-passing-a-select-field-html-fragment/59359376#59359376", "title": "Mojolicious: Passing a Select field HTML Fragment", "body": "<p>You do not show your template. If you use the Mojolicious template engine, note that the default behaviour is with <code>auto_escape</code> set.</p>\n\n<p>For details see the <a href=\"https://mojolicious.org/perldoc/Mojo/Template\" rel=\"nofollow noreferrer\">Mojo::Template</a> documentation.</p>\n\n<p>That means you will have to use <code>%==</code> in your template to get the unescaped content of your stashed variable:</p>\n\n<pre><code>use Mojolicious::Lite;\n\nget '/',\n    sub {\n        my $self = shift;\n        my $option_string = '  &lt;optgroup id=\"eu\" label=\"EU\"&gt;\n           &lt;option value=\"de\"&gt;Germany&lt;/option&gt;\n           &lt;option value=\"en\"&gt;en&lt;/option&gt;&lt;/optgroup&gt;';\n        my $select_classification = &lt;&lt;EOT ;\n          '&lt;select type=\"required\" name=\"classification\"&gt;\n           &lt;option value=\\\"\\\"&gt;&lt;/option&gt;$option_string&lt;/select&gt;'\\n    \nEOT\n        $self-&gt;stash( 'selectclassification',$select_classification );\n        $self-&gt;render(template =&gt; 'foo');\n    };\n\napp-&gt;start;\n\n__DATA__\n\n@@ foo.html.ep\n\n    %==  $selectclassification;\n</code></pre>\n\n<p>You might also want to remove the single quotes as suggested by @stevieb</p>\n"}], "owner": {"reputation": 322, "user_id": 300113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a2e2857243a00c807abd5e6b5d9e3a6?s=128&d=identicon&r=PG", "display_name": "Hugh Barnard", "link": "https://stackoverflow.com/users/300113/hugh-barnard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1576526554, "creation_date": 1576398389, "last_edit_date": 1576420972, "question_id": 59342301, "link": "https://stackoverflow.com/questions/59342301/mojolicious-passing-a-select-field-html-fragment", "title": "Mojolicious: Passing a Select field HTML Fragment", "body": "<p>This is not super elegant, but I need to glue existing code onto a new Mojolicious application and maintain some backwards compatibility.</p>\n\n<p>In the old application I have some database records:</p>\n\n<pre><code>    # hacked in special sql for categories, keep them in order in the drop down\n    # 11/7/2011 9999 category number is for folksonomy tags only....\n    if ( $table eq 'om_categories' ) {\n        my $sqlstring =\n\"SELECT * FROM om_categories WHERE category != '9999' order by parent,description\";\n        ( $registry_error, $hash_ref ) =\n          sqlraw( $class, $db, $sqlstring, $id, $token );\n</code></pre>\n\n<p>that are then converted into, select HTML entries, used in several places:</p>\n\n<pre><code>    if ($object eq 'OmYellowpage') {\n    my ( $option_string, $count ) =\n          collect_items( 'local', $self-&gt;session('db'), 'om_categories', '', 'description', 'select', '' );\n\n        my $select_classification = &lt;&lt;EOT ;\n '&lt;select type=\"required\" name=\"classification\"&gt;&lt;option value=\\\"\\\"&gt;&lt;/option&gt;$option_string&lt;/select&gt;'\\n    \nEOT\n</code></pre>\n\n<p>and in the <strong>new</strong> Mojolicious application, I wanted to do this:</p>\n\n<pre><code>$self-&gt;stash( 'selectclassification',$select_classification ) ;\n</code></pre>\n\n<p>however, probably quite logically, this turns up as escaped valid text in the form, rather than the select that I wanted:</p>\n\n<pre><code>&amp;lt;optgroup label=&amp;quot; TRANSPORT&amp;quot;&amp;gt;&amp;lt;option value=&amp;quot;1004, 1160,Driving skills&amp;quot;&amp;gt;Driving skills&amp;lt;/option&amp;gt;\n</code></pre>\n\n<p>I've tried various other Mojolicious rendering syntaxes (including partial) but can't find anything that works currently. I don't particularly want to radically rewrite this bit, because the current library will then lose back compatibility. So I'm stuck, I'm relatively new to Mojolicious, too.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RocyQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RocyQ.png\" alt=\"Partial screen shot of output\"></a></p>\n\n<p>For the curious, <a href=\"https://sourceforge.net/projects/cclite/\" rel=\"nofollow noreferrer\">this is the old project</a></p>\n"}, {"tags": ["regex", "perl", "variables", "disambiguation"], "comments": [{"owner": {"reputation": 165, "user_id": 5280471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837155e8bc791ef5cd9d065dbd9fd0f4?s=128&d=identicon&r=PG", "display_name": "Avenger", "link": "https://stackoverflow.com/users/5280471/avenger"}, "edited": false, "score": 0, "creation_date": 1576356422, "post_id": 59338920, "comment_id": 104875700, "body": "For <code>&#47;^$bother$&#47;</code> I could make do with <code>&#47;^${bo}ther$&#47;</code>. But for <code>$bi-&gt;{bo}</code>, just <code>${bi-&gt;{bo}}</code> (i.e. wrapping in <code>${}</code>) doesn&#39;t do, errors with <i>&quot;Can&#39;t use bareword (&quot;bi&quot;) as a HASH ref&quot;</i>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576418236, "post_id": 59338920, "comment_id": 104885805, "body": "That&#39;s because <code>$BLOCK[...]</code> is an array lookup, where <code>BLOCK</code> is expected to return a reference to an array"}, {"owner": {"reputation": 165, "user_id": 5280471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837155e8bc791ef5cd9d065dbd9fd0f4?s=128&d=identicon&r=PG", "display_name": "Avenger", "link": "https://stackoverflow.com/users/5280471/avenger"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576693362, "post_id": 59338920, "comment_id": 104985155, "body": "where am I using <code>$BLOCK[...]</code> in my code?.. I know I could use something like <code>(?{ code })</code> (re-eval code), but to me it would be too overkill, and having a temporary simpler variable would be better. <b>re-eval</b> code would be great for a very complex match I won&#39;t require to do a lot of times in a program, I guess."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576694223, "post_id": 59338920, "comment_id": 104985526, "body": "Re &quot;<i>where am I using $BLOCK[...] in my code?</i>&quot;, You didn&#39;t show it, but you said you tried <code>&#47;^bo${bi-&gt;{bo}}[r]ther$&#47;</code> (&quot;<i>Wrapping in <code>${}</code> didn&#39;t work for me</i>&quot;)"}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 5280471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837155e8bc791ef5cd9d065dbd9fd0f4?s=128&d=identicon&r=PG", "display_name": "Avenger", "link": "https://stackoverflow.com/users/5280471/avenger"}, "edited": false, "score": 1, "creation_date": 1576356670, "post_id": 59339025, "comment_id": 104875754, "body": "what about the <code>$bi-&gt;{bo}</code> bit (which shouldn&#39;t consider the <code>[r]</code> bit)?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "reply_to_user": {"reputation": 165, "user_id": 5280471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837155e8bc791ef5cd9d065dbd9fd0f4?s=128&d=identicon&r=PG", "display_name": "Avenger", "link": "https://stackoverflow.com/users/5280471/avenger"}, "edited": false, "score": 0, "creation_date": 1576356827, "post_id": 59339025, "comment_id": 104875795, "body": "A hash reference ? Probably want to assign it to a <code>my $bo = $bi-&gt;{bo};</code> bit. Keep dereferencing it untill you get a scalar."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 4, "creation_date": 1576356921, "post_id": 59339025, "comment_id": 104875814, "body": "<code>&#47;^bo(?:$bi-&gt;{bo})[r]ther$&#47;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "edited": false, "score": 0, "creation_date": 1576357712, "post_id": 59339025, "comment_id": 104875999, "body": "As far as the regex goes, it looks like the variable can be wrapped in a group without modification and should cover all cases. Like <code>(?:$bo)</code> or <code>(?:$bi-&gt;{bo})</code> but it will be wrapped inside a residual group.."}, {"owner": {"reputation": 165, "user_id": 5280471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837155e8bc791ef5cd9d065dbd9fd0f4?s=128&d=identicon&r=PG", "display_name": "Avenger", "link": "https://stackoverflow.com/users/5280471/avenger"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1576360026, "post_id": 59339025, "comment_id": 104876451, "body": "About the <code>$bo = $bi-&gt;{bo}</code> I mentioned in the question I had reasons it wasn&#39;t desirable in my case (look up <code>$bi_resolved</code> in the question). The untracked-grouping might be the way to go and fulfill my needs. Wouldn&#39;t it be reasonable if @choroba nailed the answer here?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1576361977, "post_id": 59339025, "comment_id": 104876870, "body": "The important thing is to learn; who earns the XP is insignificant :)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1576375753, "post_id": 59339025, "comment_id": 104878955, "body": "instead of a non-capturing group, you can \\-escape the -. or add an empty comment <code>(?#)</code>"}, {"owner": {"reputation": 165, "user_id": 5280471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837155e8bc791ef5cd9d065dbd9fd0f4?s=128&d=identicon&r=PG", "display_name": "Avenger", "link": "https://stackoverflow.com/users/5280471/avenger"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1576693025, "post_id": 59339025, "comment_id": 104984998, "body": "@ysth, I wanted to consider the dereferencing in that case, I wanted to use <code>$bi-&gt;{bo}</code> and keep as regex the <code>[r]</code> bit (which could be something like <code>[rR]</code> to make more sense). The point was, it could be undestand by perl as a continuation of the variable, as an array index refernce <code>$bi-&gt;{bo}[r]</code> (which would result in a syntax error, in the example)."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "is_accepted": true, "score": 2, "last_activity_date": 1576357850, "last_edit_date": 1576357850, "creation_date": 1576356540, "answer_id": 59339025, "question_id": 59338920, "link": "https://stackoverflow.com/questions/59338920/perl-variable-disambiguation-within-regex/59339025#59339025", "title": "Perl variable disambiguation within regex", "body": "<p>To separate interpolated variable names from other text is usually<br>\ndone like <code>${name}</code>  </p>\n\n<p>So, a part of the code sample becomes  </p>\n\n<pre><code>use strict;\nuse warnings;\n\n$_=\"botherther\";\n\nmy $bo = \"bother\";\nif (/^${bo}ther$/) { # want to consider just $bo here!\n  print(\"Undestood regex as /${bo}ther/.\\n\");\n} else {\n  print(\"Couldnt discern variable.\\n\");\n}\n</code></pre>\n\n<p>A good way to test stuff is to put it into a <code>qr//</code> then print it out :  </p>\n\n<pre><code>my $rx = qr/^${bo}ther$/;\nprint $rx;\n</code></pre>\n\n<hr>\n\n<p>Per @choroba :  </p>\n\n<p>As far as the regex goes, it looks like the variable can also be wrapped<br>\nin a  group without modification and should cover all cases.<br>\nIt's really just a parsing thing. If Perl can distinquish delimiters to get<br>\na variable notation in a string, it will interpolate it. </p>\n\n<p>Like <code>(?:$bo)</code> or <code>(?:$bi-&gt;{bo})</code><br>\nbut it will be wrapped inside a residual group.</p>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 5280471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837155e8bc791ef5cd9d065dbd9fd0f4?s=128&d=identicon&r=PG", "display_name": "Avenger", "link": "https://stackoverflow.com/users/5280471/avenger"}, "edited": false, "score": 0, "creation_date": 1576692710, "post_id": 59343789, "comment_id": 104984859, "body": "I may want to interpret the variable, so I emphasized in my item (3) that I was not looking for a \\Q \\E solution. Sorry if I made a long question and you didn&#39;t feel like reading it all. Here&#39;s what I posted: <i>&quot;Important noting, I don&#39;t care for the sake of this context, about the escapes \\Q and \\E, &quot;I am assuming there&#39;s never metacharacters within the variables&quot;.&quot;</i>. Your first suggestion drops the <code>-&gt;</code> of the variable, I was looking for a way to arbitrarily wrap the variable name, which the curly brackets didn&#39;t do. Anyways, thanks for the collaboration."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 165, "user_id": 5280471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837155e8bc791ef5cd9d065dbd9fd0f4?s=128&d=identicon&r=PG", "display_name": "Avenger", "link": "https://stackoverflow.com/users/5280471/avenger"}, "edited": false, "score": 0, "creation_date": 1576694542, "post_id": 59343789, "comment_id": 104985676, "body": "Re &quot;<i>I am assuming there&#39;s never metacharacters within the variables</i>&quot;, That&#39;s a stupid assumption to make. There&#39;s no reason to open yourself up to code injection bugs/attacks just to avoid <code>\\Q...\\E</code>, especially when the alternative (<code>(?:...)</code>) is just one character shorter."}, {"owner": {"reputation": 165, "user_id": 5280471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837155e8bc791ef5cd9d065dbd9fd0f4?s=128&d=identicon&r=PG", "display_name": "Avenger", "link": "https://stackoverflow.com/users/5280471/avenger"}, "edited": false, "score": 0, "creation_date": 1578449057, "post_id": 59343789, "comment_id": 105439224, "body": "I meant for the sake of my question, this very important and relevant fact is not taken into account...... I already know what the <code>\\Q</code> and <code>\\E</code> does and their application is not the point of the question...."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1576438456, "last_edit_date": 1576438456, "creation_date": 1576411953, "answer_id": 59343789, "question_id": 59338920, "link": "https://stackoverflow.com/questions/59338920/perl-variable-disambiguation-within-regex/59343789#59343789", "title": "Perl variable disambiguation within regex", "body": "<p>There are four main ways:</p>\n\n<ul>\n<li>Use <code>/x</code> (<code>$bi{bo} [r]</code> instead of <code>$bi{bo}[r]</code>)</li>\n<li>Use curlies around the variable name (<code>${bo}ther</code> instead of <code>$bother</code>)</li>\n<li>Escape the next character (<code>$bo\\-&gt;[0]</code> instead of <code>$bo-&gt;[0]</code>)</li>\n<li>Isolation via parens or some other means (<code>(?:$bi{bo})[r]</code> instead of <code>$bi{bo}[r]</code>)<sup>[1]</sup></li>\n</ul>\n\n<p>That said, if you're interpolating text (rather than a regex pattern), you should be using <code>\\Q$var\\E</code> anyway, making the problem moot.</p>\n\n<pre><code>use strict;\nuse warnings FATAL =&gt; \"all\";\n\n$_=\"botherther\";\n\nmy $bo = \"bother\";\nif (/^\\Q$bo\\Ether$/) { # want to consider just $bo here!\n  print(\"Understood regex as /^botherther\\$/.\\n\");\n} else {\n  print(\"Couldn't discern variable.\\n\");\n}\n\nmy $bi = { bo =&gt; \"the\" };\nif (/^bo\\Q$bi-&gt;{bo}\\E[r]ther$/) { # now, $bi-&gt;{bo} only\n  print(\"Discerned /^bothe[r]ther\\$/\\n\");\n} else {\n  print(\"Couldn't discern variable.\\n\");\n}\n</code></pre>\n\n<p>Thanks to @ysth for improvements.</p>\n\n<hr>\n\n<ol>\n<li>Imposes a small run-time penalty.</li>\n</ol>\n"}], "owner": {"reputation": 165, "user_id": 5280471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837155e8bc791ef5cd9d065dbd9fd0f4?s=128&d=identicon&r=PG", "display_name": "Avenger", "link": "https://stackoverflow.com/users/5280471/avenger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 59339025, "answer_count": 2, "score": 1, "last_activity_date": 1576438456, "creation_date": 1576355596, "last_edit_date": 1576356517, "question_id": 59338920, "link": "https://stackoverflow.com/questions/59338920/perl-variable-disambiguation-within-regex", "title": "Perl variable disambiguation within regex", "body": "<p>I want to ensure variables are interpolated as they are within perl regular expressions. Would rather avoid binding over to other variables in a cascate of \"ifs\" that would rarely need that variable throughout the code execution. How could I ensure I used the variable?</p>\n\n<pre><code>use strict;\nuse warnings FATAL =&gt; \"all\";\n\n$_=\"botherther\";\n\nmy $bo = \"bother\";\nif (/^$bother$/) { # want to consider just $bo here!\n  print(\"Undestood regex as /($bo)ther/.\\n\");\n} else {\n  print(\"Couldnt discern variable.\\n\");\n}\n\nmy $bi = { bo =&gt; \"the\" };\nif (/^bo$bi-&gt;{bo}[r]ther$/) { # now, $bi-&gt;{bo} only\n  print(\"Discerned /bo($bi-&gt;{bo})[r]/\\n\");\n} else {\n  print(\"Couldnt discern variable.\\n\");\n}\n</code></pre>\n\n<p>I'm not able to find a way to wrap the variables properly within the regex. Of course I could just <code>my $bi_resolved = $bi-&gt;{bo}</code> or fill the regex with null-thingies (like <code>[]</code> or <code>()</code>), but this does not feel like a proper separator.</p>\n\n<p>For clarity:</p>\n\n<ol>\n<li>I wanted to expand <code>$bo</code> into <code>bother</code> to get the <code>/botherther/</code> string in the first match.</li>\n<li>I wanted to expand <code>$bi-&gt;{bo}</code> into <code>the</code> to get <code>&lt;bo&gt;&lt;the&gt;&lt;[r]ther&gt;</code>, again <code>/botherther/</code> in the second match.</li>\n<li>Important noting, I don't care for the sake of this context, about the escapes <code>\\Q</code> and <code>\\E</code>, <em>\"I am assuming there's never metacharacters within the variables\"</em>.</li>\n</ol>\n\n<p>I have searched thru questions, read documentation, and couldn't find an answer for this. Wrapping in <code>${}</code> didn't work for me (that's trying to dereference stuff). So, while searching I feel I am just barking at the wrong tree... It's simply unbelievable nobody ever needed to ask something like that around perlmonks or stackoverflow. I'm probably just looking for the wrong keywords here. :/</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1576339484, "last_edit_date": 1576339484, "creation_date": 1576338777, "answer_id": 59336717, "question_id": 59336629, "link": "https://stackoverflow.com/questions/59336629/how-do-i-prevent-the-first-argument-in-a-subroutine-from-being-absorbed-into/59336717#59336717", "title": "How do I prevent the first argument in a subroutine from being absorbed into &quot;@_&quot; in perl?", "body": "<p>Your question isn't very clear. I think you have a sub that has a required parameter (<code>$prompt</code>) and one optional parameter (<code>$flag</code>), and that you're basically asking how to implement that.</p>\n\n<p>It's easiest if optional parameter come after required ones.</p>\n\n<pre><code>sub main($;$) {\n    my ($prompt, $flag) = @_;\n\n    ...\n    if ($flag) { ... }\n    ...\n}\n\n\nmain($prompt);     # $flag = undef, which is false.\nmain($prompt, 0);  # $flag = 0,     which is false.\nmain($prompt, 1);  # $flag = 1,     which is true.\n</code></pre>\n\n<p>The above will assign <code>undef</code> to <code>$flag</code> if only one argument was provided. You could evaluate <code>@_</code> in scalar context to get the number of arguments provided to check if <code>$flags</code> was provided, but it's not necessary here because <code>undef</code> is a good default.</p>\n\n<hr>\n\n<p>If a sub accepts multiple options, it's probably best to provide them by name as follows:</p>\n\n<pre><code>sub main($%) {\n    my ($prompt, %opts) = @_;\n\n    ...\n    if ($opts{purple}) { ... }\n    ...\n}\n\n\nmain($prompt);\nmain($prompt, purple =&gt; 1);\n</code></pre>\n\n<hr>\n\n<p>Note there are problems to using prototypes (including the fact that they can be silently ignored), so you should probably avoid using them even though I left them in.</p>\n"}], "owner": {"reputation": 1140, "user_id": 8981474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5S2rF.png?s=128&g=1", "display_name": "isakbob", "link": "https://stackoverflow.com/users/8981474/isakbob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 59336717, "answer_count": 1, "score": 0, "last_activity_date": 1576339484, "creation_date": 1576338201, "question_id": 59336629, "link": "https://stackoverflow.com/questions/59336629/how-do-i-prevent-the-first-argument-in-a-subroutine-from-being-absorbed-into", "title": "How do I prevent the first argument in a subroutine from being absorbed into &quot;@_&quot; in perl?", "body": "<h1>Background</h1>\n\n<p>I have two subroutines that output a prompt.  One is a facade subroutine and another is the main subroutine as shown below:</p>\n\n<pre><code>sub facade(@)\n{\n    my ($prompt) = @_;\n    return main(\"FLAG\", $prompt);\n}\nsub main($@)\n{\n    my ($flags) = shift;\n    my ($prompt) = @_;\n    ...&lt;functionality to print a menu prompt&gt;...\n}\n</code></pre>\n\n<h1>Behavior</h1>\n\n<p>What I want to happen is to output something like the menu below:</p>\n\n<blockquote>\n  <p>Choose an option</p>\n  \n  <p>X) Exit</p>\n  \n  <p>1) Green</p>\n  \n  <p>2) Blue</p>\n  \n  <p>3) Red</p>\n  \n  <p>4) Purple (only if \"FLAG\" is passed in)</p>\n</blockquote>\n\n<p>What actually happens is the following:</p>\n\n<blockquote>\n  <p>Choose an option</p>\n  \n  <p>X) Exit</p>\n  \n  <p>1) Green</p>\n  \n  <p>2) Blue</p>\n  \n  <p>3) Red</p>\n  \n  <p>4) FLAG</p>\n</blockquote>\n\n<p>This means that the first argument is for some reason absorbed into the \"@\" itself and not into the logic of my function which says \"if this flag exists, output a 4th option\".  This leads to my question:</p>\n\n<h1>Question</h1>\n\n<p>How do I prevent the first \"$\" argument in a subroutine from being absorbed into \"@_\"?</p>\n"}, {"tags": ["regex", "perl", "hex"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "edited": false, "score": 0, "creation_date": 1576479488, "post_id": 59337381, "comment_id": 104898919, "body": "Outstanding, work very well. You help my task again."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1576413395, "last_edit_date": 1576413395, "creation_date": 1576343696, "answer_id": 59337381, "question_id": 59333036, "link": "https://stackoverflow.com/questions/59333036/how-to-decode-hex-to-negative-integer-value-in-perl/59337381#59337381", "title": "How to decode hex to negative integer value in Perl", "body": "<p>I'm guessing the decoded value is a 64-bit signed two's-complement ints cast to unsigned. On a two's complement machine, you can cast it back using the following:</p>\n\n<pre><code>$num = unpack 'q', pack 'Q', $num;\n</code></pre>\n\n<p>For example,</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\n\nuse Config qw( %Config );\n\nsub decode_int {\n    my ($encoded_num) = @_;\n\n    my $num = 0;\n    $num = ( $num &lt;&lt; 7 ) | ( $_ &amp; 0x7F )\n       for reverse unpack 'C*', $encoded_num;\n\n    $num = unpack 'q', pack 'Q', $num;\n\n    return $num;\n}\n\n{\n   $Config{ivsize} &gt;= 8 &amp;&amp; $Config{uvsize} &gt;= 8\n      or die(\"64-bit int support required\\n\");\n\n   say decode_int(pack('H*', $_))\n      for qw(\n         9BDCE310\n         B4D9F1E502\n         EAB1A9C607\n         88EE8EB9F9FFFFFFFF01\n         9E828D89FCFFFFFFFF01\n      );\n}\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>35188251\n750546100\n2026526954\n-1759267064\n-1054654178\n</code></pre>\n\n<p>Note that the encoding scheme used is very inefficient for signed numbers.</p>\n"}], "owner": {"reputation": 101, "user_id": 2787859, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004041835408/picture?type=large", "display_name": "\u0e15\u0e49\u0e2d\u0e07 \u0e40\u0e2d\u0e01\u0e21\u0e31\u0e22", "link": "https://stackoverflow.com/users/2787859/%e0%b8%95%e0%b9%89%e0%b8%ad%e0%b8%87-%e0%b9%80%e0%b8%ad%e0%b8%81%e0%b8%a1%e0%b8%b1%e0%b8%a2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 2, "accepted_answer_id": 59337381, "answer_count": 1, "score": 3, "last_activity_date": 1576413395, "creation_date": 1576306922, "question_id": 59333036, "link": "https://stackoverflow.com/questions/59333036/how-to-decode-hex-to-negative-integer-value-in-perl", "title": "How to decode hex to negative integer value in Perl", "body": "<p>I have the following hex data format:</p>\n\n<pre><code>9BDCE310\nB4D9F1E502\nEAB1A9C607\n88EE8EB9F9FFFFFFFF01\n9E828D89FCFFFFFFFF01\n</code></pre>\n\n<p>Normally, I using the following code to decode back to integer:</p>\n\n<pre><code>sub decodeInt\n{\n    $_[0] =~ s/^([\\x80-\\xFF]*[\\x00-\\x7F])// or return;\n\n    my $encoded_num = $1;\n    my $num = 0;\n    for ( reverse unpack 'C*', $encoded_num )\n    {\n        $num = ( $num &lt;&lt; 7 ) | ( $_ &amp; 0x7F );\n    }\n\n    return $num;\n}\n</code></pre>\n\n<p>But it didn't work with the signed negative integer value (the last 2 data).</p>\n\n<pre><code>88EE8EB9F9FFFFFFFF01\n9E828D89FCFFFFFFFF01\n</code></pre>\n\n<p>Please help me modify the code.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1576262777, "post_id": 59328125, "comment_id": 104855842, "body": "You are using a regex :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1576262867, "post_id": 59328125, "comment_id": 104855891, "body": "<code>join &quot;|&quot;, ( split &#47;\\|&#47; )[0..3]</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "edited": false, "score": 1, "creation_date": 1576262923, "post_id": 59328125, "comment_id": 104855919, "body": "Yes, split with a regex."}], "answers": [{"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 6, "last_activity_date": 1576262722, "last_edit_date": 1576262722, "creation_date": 1576262419, "answer_id": 59328166, "question_id": 59328125, "link": "https://stackoverflow.com/questions/59328125/removing-extra-pipes-and-text-around-them-from-string-in-perl-with-regex/59328166#59328166", "title": "Removing extra pipes and text around them from string in Perl with regex", "body": "<p>You may use this regex:</p>\n\n<pre><code>s='hello|world|nice|to|meet|you'\nperl -pe 's/^((?:[^|]*\\|){3}[^|]*).*/$1/' &lt;&lt;&lt; \"$s\"\n</code></pre>\n\n<p></p>\n\n<pre><code>hello|world|nice|to\n</code></pre>\n\n<p><strong>RegEx Details:</strong></p>\n\n<ul>\n<li><code>^</code>: Start</li>\n<li><code>(</code>: Start capture group #1\n\n<ul>\n<li><code>(?:</code>: Start non-capture group\n\n<ul>\n<li><code>[^|]*</code>: Match 0 or more of any character that is not pipe</li>\n<li><code>\\|</code>: Match a pipe</li>\n</ul></li>\n<li><code>){3}</code>: End non-capture group. <code>{3}</code> matches 3 repetitions of this group</li>\n<li><code>[^|]*</code>: Match 0 or more of any character that is not pipe</li>\n</ul></li>\n<li><code>)</code>: End capture group #`</li>\n<li><code>.*</code>: Match everything till end</li>\n</ul>\n\n<p><strong>Perl Code</strong>:</p>\n\n<pre><code>$str = \"hello|world|nice|to|meet|you\" ;\n\n$str =~ s/^((?:[^|]*\\|){3}[^|]*).*/$1/;\n\nprint \"$str\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5144, "user_id": 12115778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oC38b.jpg?s=128&g=1", "display_name": "richyen", "link": "https://stackoverflow.com/users/12115778/richyen"}, "is_accepted": false, "score": 2, "last_activity_date": 1576263175, "last_edit_date": 1576263175, "creation_date": 1576262433, "answer_id": 59328169, "question_id": 59328125, "link": "https://stackoverflow.com/questions/59328125/removing-extra-pipes-and-text-around-them-from-string-in-perl-with-regex/59328169#59328169", "title": "Removing extra pipes and text around them from string in Perl with regex", "body": "<p>You can capture with <code>()</code>:</p>\n\n<pre><code>$ cat foo.pl &amp;&amp; ./foo.pl\n#!/usr/bin/perl\n\n$str = \"hello|world|nice|to|meet|you\" ;\n$str =~ s/^(([^\\|]*\\|){3}[^\\|]*)\\|.*/$1/;\nprint STDOUT \"$str\\n\";\nhello|world|nice|to\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "is_accepted": false, "score": 2, "last_activity_date": 1576306984, "last_edit_date": 1576306984, "creation_date": 1576262759, "answer_id": 59328231, "question_id": 59328125, "link": "https://stackoverflow.com/questions/59328125/removing-extra-pipes-and-text-around-them-from-string-in-perl-with-regex/59328231#59328231", "title": "Removing extra pipes and text around them from string in Perl with regex", "body": "<p>To remove all but the first 3 pipes and surrounding text can be done like :  </p>\n\n<p><code>$txt =~ s/^(?:[^|]*\\|){3}[^|]*\\K.*//s;</code></p>\n"}], "owner": {"reputation": 721, "user_id": 667570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d4d2c92ba9a0fce1de04bb79c6cbe355?s=128&d=identicon&r=PG&f=1", "display_name": "Sol", "link": "https://stackoverflow.com/users/667570/sol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 1, "accepted_answer_id": 59328166, "answer_count": 3, "score": 1, "last_activity_date": 1576306984, "creation_date": 1576262242, "question_id": 59328125, "link": "https://stackoverflow.com/questions/59328125/removing-extra-pipes-and-text-around-them-from-string-in-perl-with-regex", "title": "Removing extra pipes and text around them from string in Perl with regex", "body": "<p>Let's say I have a string like this that I'd like to process in perl.</p>\n\n<pre><code>hello|world|nice|to|meet|you\n</code></pre>\n\n<p>I'd like to keep the first three pipe symbols and the text around them and discard the rest of the string. So, I'd end up with this:</p>\n\n<pre><code>hello|world|nice|to\n</code></pre>\n\n<p>I'm thinking I want to do something like this:</p>\n\n<pre><code>substitute (zero or more non-pipes followed by a pipe)[3 times] followed by the rest of the string with a back reference to the piece of the regex where I matched the 3 pipes and the characters around them. \n</code></pre>\n\n<p>I'm not sure about the regex syntax for this in perl.</p>\n\n<p>I can do what I want to like this:</p>\n\n<pre><code>$str = \"hello|world|nice|to|meet|you\" ;\n@a = split(/\\|/, $str) ;\nprint $a[0] . \"|\" . $a[1] . \"|\" . $a[2] . \"|\" . $a[3]\n</code></pre>\n\n<p>But, I'd like to see how to do this with a regex.</p>\n"}, {"tags": ["perl", "stat"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1576258972, "post_id": 59327359, "comment_id": 104854174, "body": "&quot;<i>can I rely on the <code>stat</code> call in <code>File::Find</code></i>&quot; -- probably, but I wouldn&#39;t.  Relying only on what you can see (and control) in your code is only one more call, right?  Might as well make one explicit call to <code>stat</code> (or <code>File::stat</code>) to retrieve upfront all you need."}], "answers": [{"tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 3, "last_activity_date": 1576259084, "creation_date": 1576259084, "answer_id": 59327476, "question_id": 59327359, "link": "https://stackoverflow.com/questions/59327359/perl-filefind-and/59327476#59327476", "title": "perl File::Find and _", "body": "<p>Based on <a href=\"https://metacpan.org/pod/File::Find\" rel=\"nofollow noreferrer\">its documentation</a>, \"It is guaranteed that an <em>lstat</em> has been called before the user's wanted() function is called. This enables fast file checks involving _. Note that this guarantee no longer holds if follow or follow_fast are not set.\"</p>\n\n<p>So I'd suggest that, under any other circumstance, you cannot rely on it.</p>\n"}], "owner": {"reputation": 123, "user_id": 11690214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db211c870921bd0248928a0dfffe3e36?s=128&d=identicon&r=PG&f=1", "display_name": "allmail", "link": "https://stackoverflow.com/users/11690214/allmail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1576259084, "creation_date": 1576258488, "question_id": 59327359, "link": "https://stackoverflow.com/questions/59327359/perl-filefind-and", "title": "perl File::Find and _", "body": "<p>I am using <code>File::Find</code> to go through a ton of files and then doing cleanup based on their size, age etc. I am accessing these files through windows network shares so the stat calls are expensive</p>\n\n<p>The code looked something like this</p>\n\n<pre><code>sub findItems\n{\n  my $item = $File::Find::name;\n  my $dir  = $File::Find::dir;\n  my $itemName = $_;\n\n  if    (-f $item) { .. }\n  elsif (-d $item) { .. }\n\n  my $age = -M $item;\n  my $size = -s $item;\n</code></pre>\n\n<p>Figured out that it was taking a lot of time. The culprit was the 3 calls <code>-f/-d</code>, <code>-M</code> and <code>-s</code>, all needing a fresh <code>stat</code>. So I changed it to</p>\n\n<pre><code>sub findItems\n{\n  my $item = $File::Find::name;\n  my $dir  = $File::Find::dir;\n  my $itemName = $_;\n\n  if    (-f $item) { .. }\n  elsif (-d $item) { .. }\n\n  my $age = -M _;\n  my $size = -s _;\n</code></pre>\n\n<p>This almost halved the time as I went from 4 <code>stat</code> calls to 2. I said 4 because I know there is one <code>stat</code> call in <code>File::find</code> as well, and 3 are in my code.</p>\n\n<p>My question is can I rely on the <code>stat</code> call in <code>File::Find</code> and change my code to this</p>\n\n<pre><code>sub findItems\n{\n  my $item = $File::Find::name;\n  my $dir  = $File::Find::dir;\n  my $itemName = $_;\n\n  if    (-f _) { .. }\n  elsif (-d _) { .. }\n\n  my $age = -M _;\n  my $size = -s _;\n</code></pre>\n\n<p>This will again halve the time it takes. I guess I will have to actually check the <code>File::Find</code> code to see if there might be some other <code>stat</code> call on anything other than <code>$item</code></p>\n\n<p>thanks</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1576253372, "post_id": 59326093, "comment_id": 104851532, "body": "Always <code>use strict; use warnings;</code>."}, {"owner": {"reputation": 11, "user_id": 12532428, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDCi6neGEqHNglzuc6Y5Lxjx4rR6UNjiaafnETe=k-s128", "display_name": "KKarunesh", "link": "https://stackoverflow.com/users/12532428/kkarunesh"}, "reply_to_user": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1576253598, "post_id": 59326093, "comment_id": 104851642, "body": "Yes, have these already in my code."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1576254140, "post_id": 59326093, "comment_id": 104851935, "body": "I say this because using strict would cause clear errors when using a variable that hasn&#39;t been declared, like <code>%departments</code>."}], "answers": [{"tags": [], "owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "is_accepted": false, "score": 2, "last_activity_date": 1576253876, "creation_date": 1576253876, "answer_id": 59326264, "question_id": 59326093, "link": "https://stackoverflow.com/questions/59326093/how-to-fetch-key-value-from-array-of-hashes-in-perl/59326264#59326264", "title": "How to fetch key-value from array of hashes in perl", "body": "<p>You are constructing the array of hashes incorrectly. <code>[]</code> is a constructor for an anonymous arrayref, which is a scalar, but you are putting it in an array, resulting in an array with one value: a reference to another array. Simply use <code>()</code> (the parentheses don't create a structure, but they are necessary for precedence over the assignment operator).</p>\n\n<pre><code>use strict;\nuse warnings;\nmy @emp_details = (\n    {\n        CID =&gt; '21',\n        ID =&gt; '1',\n        ORDERING =&gt; '1',\n        PID =&gt; '143'\n    },\n    {\n        CID =&gt; '22',\n        ID =&gt; '2',\n        ORDERING =&gt; '1',\n        PID =&gt; '67'\n    }\n);\nmy @ids = map { $_-&gt;{ID} } @emp_details;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1576253896, "creation_date": 1576253896, "answer_id": 59326270, "question_id": 59326093, "link": "https://stackoverflow.com/questions/59326093/how-to-fetch-key-value-from-array-of-hashes-in-perl/59326270#59326270", "title": "How to fetch key-value from array of hashes in perl", "body": "<p>Do you really have <code>my @emp_details = [ ... ];</code>? <code>[]</code> constructs an array and returns a reference to it, meaning <code>@emp_details</code> would get populated with a single element (a reference to an array).</p>\n\n<p>I'm going to assume you have the following instead:</p>\n\n<pre><code>my @emp_details = (\n    {\n        CID =&gt; '21',\n        ID =&gt; '1',\n        ORDERING =&gt; '1',\n        PID =&gt; '143'\n    },\n    {\n        CID =&gt; '22',\n        ID =&gt; '2',\n        ORDERING =&gt; '1',\n        PID =&gt; '67'\n    }\n);\n</code></pre>\n\n<p>Well, the first problem with your attempt is that the array is named <code>@emp_details</code>, not <code>@departments</code>.</p>\n\n<p>The second problem with your attempt is that you are assigning the list of ids to a hash, which doesn't make sense.</p>\n\n<p>Fixed:</p>\n\n<pre><code>my @ids = map { $_-&gt;{ID} } @emp_details;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12532428, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDCi6neGEqHNglzuc6Y5Lxjx4rR6UNjiaafnETe=k-s128", "display_name": "KKarunesh", "link": "https://stackoverflow.com/users/12532428/kkarunesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1576253990, "creation_date": 1576253187, "last_edit_date": 1576253990, "question_id": 59326093, "link": "https://stackoverflow.com/questions/59326093/how-to-fetch-key-value-from-array-of-hashes-in-perl", "title": "How to fetch key-value from array of hashes in perl", "body": "<p>My code:</p>\n\n<pre><code>my @emp_details = [\n    {\n        CID =&gt; '21',\n        ID =&gt; '1',\n        ORDERING =&gt; '1',\n        PID =&gt; '143'\n    },\n    {\n        CID =&gt; '22',\n        ID =&gt; '2',\n        ORDERING =&gt; '1',\n        PID =&gt; '67'\n    }\n];\n</code></pre>\n\n<p>Expected output: Values of all the key - ID, i.e.:\n<code>[1,2]</code></p>\n\n<p>i.e. Need to fetch both the hashes in <code>the emp_details</code> list and get the value from each ID.</p>\n\n<p>How to do in perl?</p>\n\n<p>My trials:</p>\n\n<pre><code>my %hash =\nmap {$_-&gt;{ID} } @departments;\n</code></pre>\n\n<p>errors out: <code>Not a HASH reference</code> </p>\n\n<p>I tried with <code>map {$_-&gt;{ID} } %departments;</code></p>\n\n<p>There was no response in this case as well.</p>\n"}, {"tags": ["windows", "apache", "perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576338203, "post_id": 59321004, "comment_id": 104870999, "body": "Re &quot;<i>I have copied down the lib folder inside this build to Perl installation lib folder.</i>&quot;, You appear to have incorrectly replicated by the installation process. By why did you try at all?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6282087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9396ee3f64dfd9a76891d493806a0c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sucheta P", "link": "https://stackoverflow.com/users/6282087/sucheta-p"}, "edited": false, "score": 0, "creation_date": 1576238466, "post_id": 59321905, "comment_id": 104844100, "body": "Current version of Activestate Perl 5.28 does not have PPM anymore. <a href=\"https://www.activestate.com/blog/goodbye-ppm-hello-state-tool/\" rel=\"nofollow noreferrer\">activestate.com/blog/goodbye-ppm-hello-state-tool</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 11, "user_id": 6282087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9396ee3f64dfd9a76891d493806a0c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sucheta P", "link": "https://stackoverflow.com/users/6282087/sucheta-p"}, "edited": false, "score": 0, "creation_date": 1576238781, "post_id": 59321905, "comment_id": 104844232, "body": "@SuchetaP: Well that sucks. So you&#39;re back to installing the MySQL client library and taking it from there."}, {"owner": {"reputation": 11, "user_id": 6282087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9396ee3f64dfd9a76891d493806a0c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sucheta P", "link": "https://stackoverflow.com/users/6282087/sucheta-p"}, "edited": false, "score": 0, "creation_date": 1576238866, "post_id": 59321905, "comment_id": 104844271, "body": "When I use this command perl -MDBD::mysql -le&#39;print $DBD::mysql::VERSION&#39;  This below erros comes                                                                                     Can&#39;t locate loadable object for module DBD::mysql in @INC (@INC contains: C:/Pe rl64/lib C:/Perl64/site/lib C:/Perl64/lib) at -e line 0. Compilation failed in require. BEGIN failed--compilation aborted."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 11, "user_id": 6282087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9396ee3f64dfd9a76891d493806a0c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sucheta P", "link": "https://stackoverflow.com/users/6282087/sucheta-p"}, "edited": false, "score": 0, "creation_date": 1576240538, "post_id": 59321905, "comment_id": 104845107, "body": "@SuchetaP: I know. You&#39;ve said that. It&#39;s probably for the reason I&#39;ve described in my answer."}, {"owner": {"reputation": 11, "user_id": 6282087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9396ee3f64dfd9a76891d493806a0c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sucheta P", "link": "https://stackoverflow.com/users/6282087/sucheta-p"}, "edited": false, "score": 0, "creation_date": 1576499138, "post_id": 59321905, "comment_id": 104907725, "body": "@ikegami  dmake&#39; is not recognized as an internal or external command operable program or batch file.           dmake -- NOT OK                                                                                          This is the error i recieve while installing module so the installed files are not getting copied onto site/lib folder of perl installation. Then i manually copy the files. That also doesn&#39;t help.Can you please help to fix this. I have installed MinGW this also didn&#39;t help"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 11, "user_id": 6282087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9396ee3f64dfd9a76891d493806a0c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sucheta P", "link": "https://stackoverflow.com/users/6282087/sucheta-p"}, "edited": false, "score": 0, "creation_date": 1576500025, "post_id": 59321905, "comment_id": 104908147, "body": "@SuchetaP: So it looks like you don&#39;t have <code>dmake</code> installed. What happens if you run <code>cpan dmake</code>?"}, {"owner": {"reputation": 11, "user_id": 6282087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9396ee3f64dfd9a76891d493806a0c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sucheta P", "link": "https://stackoverflow.com/users/6282087/sucheta-p"}, "edited": false, "score": 0, "creation_date": 1576588304, "post_id": 59321905, "comment_id": 104942236, "body": "Unfortunately that also fails."}, {"owner": {"reputation": 11, "user_id": 6282087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9396ee3f64dfd9a76891d493806a0c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sucheta P", "link": "https://stackoverflow.com/users/6282087/sucheta-p"}, "edited": false, "score": 0, "creation_date": 1576588783, "post_id": 59321905, "comment_id": 104942504, "body": "I am doing installation on windows 2007 server.. It was a proxy too. Please help me how can I make the dmake command work on this server."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 11, "user_id": 6282087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9396ee3f64dfd9a76891d493806a0c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sucheta P", "link": "https://stackoverflow.com/users/6282087/sucheta-p"}, "edited": false, "score": 0, "creation_date": 1576589019, "post_id": 59321905, "comment_id": 104942650, "body": "@SuchetaP: You really can&#39;t just say &quot;that also fails&quot; and expect to get any reasonable help. How did it fail? What unexpected behaviour did you see? Were there any error messages? Please update your question with useful information like this."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1576237226, "last_edit_date": 1592644375, "creation_date": 1576237226, "answer_id": 59321905, "question_id": 59321004, "link": "https://stackoverflow.com/questions/59321004/how-to-fix-install-drivermysql-failed-cant-locate-loadable-object-for-module/59321905#59321905", "title": "How to fix install_driver(mysql) failed: Can&#39;t locate loadable object for module DBD::mysql in windows", "body": "<p>I don't know much about installing modules on Windows, but...</p>\n<blockquote>\n<p>I have installed <code>DBI</code> &amp; <code>DBD::mysql</code> through cpan. These modules got installed inside <code>cpan/build/DBI</code></p>\n</blockquote>\n<p>That's not the installation directory. That's an intermediate directory that <code>cpan</code> uses while building and installing a module.</p>\n<blockquote>\n<p>I have copied down the lib folder inside this build to Perl installation lib folder.</p>\n</blockquote>\n<p>You shouldn't need to do that. One of the reasons for using <code>cpan</code> is that it carries out <strong>all</strong> of the installation steps for you. If that hasn't happened then there were very likely some problems in the installation.</p>\n<p>Is there a log file for the installation? Did you see any error messages?</p>\n<blockquote>\n<p>install_driver(mysql) failed: Can't locate loadable object for module DBD::mysql in windows</p>\n</blockquote>\n<p>This seems to imply that you don't have the MySQL client library installed. <code>DBD::mysql</code> uses this library to actually communicate with the database server. You might need to <a href=\"https://dev.mysql.com/downloads/c-api/\" rel=\"nofollow noreferrer\">install the library from here</a>.</p>\n<p>It's also worth reading the <code>DBD::msql</code> <a href=\"https://metacpan.org/pod/distribution/DBD-mysql/lib/DBD/mysql/INSTALL.pod#BINARY-INSTALLATION\" rel=\"nofollow noreferrer\">installation guide</a>. It says:</p>\n<blockquote>\n<p><strong>ActiveState Perl</strong></p>\n<p>ActivePerl offers a PPM archive of DBD::mysql. All you need to do is typing in a cmd.exe window:</p>\n<pre><code>ppm install DBD-mysql\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 6282087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9396ee3f64dfd9a76891d493806a0c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sucheta P", "link": "https://stackoverflow.com/users/6282087/sucheta-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576332509, "creation_date": 1576234161, "last_edit_date": 1576332509, "question_id": 59321004, "link": "https://stackoverflow.com/questions/59321004/how-to-fix-install-drivermysql-failed-cant-locate-loadable-object-for-module", "title": "How to fix install_driver(mysql) failed: Can&#39;t locate loadable object for module DBD::mysql in windows", "body": "<p>I have the following issue on Windows 7.</p>\n\n<blockquote>\n  <p>install_driver(mysql) failed: Can't locate loadable object for module DBD::mysql in windows</p>\n</blockquote>\n\n<p>I am using ActivePerl version 5.28 in my local set up.</p>\n\n<p>When I print the drivers</p>\n\n<pre><code> use DBI;\n\n my @ary = DBI-&gt;available_drivers();\n</code></pre>\n\n<p>It give below options.</p>\n\n<blockquote>\n  <p>CSV DBM ExampleP File Gofer Mem ODBC Oracle Pg Proxy SQLite Sponge mysql</p>\n</blockquote>\n\n<p>Whereas I am getting the above error while connecting to mysql db.</p>\n\n<p>I have installed <code>DBI &amp; DBD::mysql</code> through cpan. These modules got installed inside <code>cpan/build/DBI</code></p>\n\n<p>I have copied down the lib folder inside this build to Perl installation lib folder.</p>\n\n<p>Is there something wrong here? Have I missed some steps?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1576224314, "post_id": 59318390, "comment_id": 104837381, "body": "Note: You should ALWAYS use <code>use strict; use warnings;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 12529744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eea6957d967aedc4c453ee4005c6089d?s=128&d=identicon&r=PG&f=1", "display_name": "akhlesh", "link": "https://stackoverflow.com/users/12529744/akhlesh"}, "edited": false, "score": 0, "creation_date": 1576238073, "post_id": 59318782, "comment_id": 104843896, "body": "my $add_job_count = 10; sub new_jobs  {     return $add_job_count -- ;  }     my $num_jobs = 0;    while( my $job = new_jobs()) {           $job_q-&gt;enqueue($job);         ++$num_jobs;    }     $job_q-&gt;end();     I am expecting the job to run 55 times  10+9+8+7+6+5+4+3+2+1 = 55 but only working 10 time using same scripts"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 9, "user_id": 12529744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eea6957d967aedc4c453ee4005c6089d?s=128&d=identicon&r=PG&f=1", "display_name": "akhlesh", "link": "https://stackoverflow.com/users/12529744/akhlesh"}, "edited": false, "score": 0, "creation_date": 1576238671, "post_id": 59318782, "comment_id": 104844183, "body": "You only place 10 things in the queue, not 55"}, {"owner": {"reputation": 9, "user_id": 12529744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eea6957d967aedc4c453ee4005c6089d?s=128&d=identicon&r=PG&f=1", "display_name": "akhlesh", "link": "https://stackoverflow.com/users/12529744/akhlesh"}, "edited": false, "score": 0, "creation_date": 1576243198, "post_id": 59318782, "comment_id": 104846365, "body": "let say this way, in the beginning, there were 10 jobs in a queue, and 2 threads start processing them, in between processing I want to add 2 more jobs to the queue."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 9, "user_id": 12529744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eea6957d967aedc4c453ee4005c6089d?s=128&d=identicon&r=PG&f=1", "display_name": "akhlesh", "link": "https://stackoverflow.com/users/12529744/akhlesh"}, "edited": false, "score": 0, "creation_date": 1576243543, "post_id": 59318782, "comment_id": 104846526, "body": "The code is already doing that. The thread(s) start processing as soon as there&#39;s a job available. The remaining jobs are added after the first job has (potentially) started. Jobs can be added as long as <code>-&gt;end</code> hasn&#39;t been called."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1576227066, "last_edit_date": 1576227066, "creation_date": 1576226050, "answer_id": 59318782, "question_id": 59318390, "link": "https://stackoverflow.com/questions/59318390/i-want-to-auto-increment-queue-in-perl/59318782#59318782", "title": "I want to auto increment queue in perl", "body": "<p>Before we start, let me mention that you should ALWAYS use <code>use strict; use warnings;</code>.</p>\n\n<p>You have three major problems:</p>\n\n<ul>\n<li>You print <code>threads-&gt;tid</code>, but I think you mean to print <code>$work</code>.</li>\n<li>You have a named sub inside of another named sub. Never do that. There's no point in doing so &mdash;the inner sub isn't private to the outer sub&mdash; and it causes problems.</li>\n<li>You never add anything to <code>$Qresults</code>, but the main thread expects there to be at least one false value in it.</li>\n</ul>\n\n<p>Fixed and cleaned up code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say );\nuse threads;\n\nuse Thread::Queue 3.01;\n\nuse constant NUM_THREADS =&gt; 1;\n\nsub worker {\n   my ($job) = @_;\n   return $job*2;\n}\n\n{\n   my $job_q    = Thread::Queue-&gt;new();\n   my $result_q = Thread::Queue-&gt;new();\n\n   my @threads =\n      map {\n         async {\n            while (defined( my $job = $job_q-&gt;dequeue() )) {\n               my $result = worker($job);\n               $result_q-&gt;enqueue($result);\n            }\n         }\n      }\n         1..NUM_THREADS;\n\n   # Add some jobs to the queue.\n   my $num_jobs = 0;\n   for my $job (1..5) {\n      $job_q-&gt;enqueue($job);\n      ++$num_jobs;\n   }\n\n   $job_q-&gt;end();\n\n   # Collect the result of the jobs.\n   for (1..$num_jobs) {\n      my $result = $result_q-&gt;dequeue();\n      say \"Result: $result\";\n   }\n\n   $_-&gt;join for @threads;\n}\n</code></pre>\n\n<p>Note how the worker doesn't need to know anything about the queues or threads.</p>\n"}], "owner": {"reputation": 9, "user_id": 12529744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eea6957d967aedc4c453ee4005c6089d?s=128&d=identicon&r=PG&f=1", "display_name": "akhlesh", "link": "https://stackoverflow.com/users/12529744/akhlesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1576227066, "creation_date": 1576224066, "question_id": 59318390, "link": "https://stackoverflow.com/questions/59318390/i-want-to-auto-increment-queue-in-perl", "title": "I want to auto increment queue in perl", "body": "<p>I am trying below code but the queue is not incrementing automatically\nafter thread 1 is complete it should check for new worker count and queue them up, but here worker count is getting set once and all threads are completing the work up to workers count, </p>\n\n<pre><code>use threads;\nuse Thread::Queue;\nuse threads::shared;\n\n$count = 5; \nsub process\n          {\n             print \"proccess started\";\n             return $count --;\n           }\n\n\nsub getWorkItems \n               {  \n                 $n =&amp;process;\n                 return $n--;\n               }\nprint \"******************worker_count*********************\\n\";\n print $n;\n\n\n     sub worker {\n                  my $tid = threads-&gt;tid;\n                  my( $Qwork, $Qresults ) = @_;\n                  while( my $work = $Qwork-&gt;dequeue ) \n                       {  \n                          sub result \n                               { my $i = threads-&gt;tid; \n                                  print \"\\nhello \\n\";\n                                  print  \"$i\";\n                                  print \"\\n\"\n                                }\n                         &amp;result;\n                     $Qresults-&gt;enqueue();\n                  }\n              }\n\nour $THREADS = 1;\n\nmy $Qwork = new Thread::Queue;\nmy $Qresults = new Thread::Queue;\n\n\n## Create the pool of workers\nmy @pool = map\n{\n    threads-&gt;create( \\&amp;worker, $Qwork, $Qresults )\n\n} 1 .. $THREADS;\n\n## Get the work items (from somewhere)\n## and queue them up for the workers\n\nwhile( my $workItem = getWorkItems()  ) \n    {\n      $Qwork-&gt;enqueue( $workItem );\n     }\n\n$Qwork-&gt;enqueue( (undef) x $THREADS );\n\nfor ( 1 .. $THREADS ) \n    {\n\n    while( $Qresults-&gt;dequeue ) \n         {\n         ## Do something with the result ##\n          print \"Request_proccessed\";\n          }\n\n    }\n\n## Clean up the threads\n$_-&gt;join for @pool;\n</code></pre>\n\n<p>output :::</p>\n\n<p>hello \n1</p>\n\n<p>hello \n1</p>\n\n<p>hello \n1</p>\n\n<p>hello \n1</p>\n\n<p>hello \n1</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 79, "user_id": 10391212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qYyry.png?s=128&g=1", "display_name": "T&#39;East", "link": "https://stackoverflow.com/users/10391212/teast"}, "edited": false, "score": 0, "creation_date": 1576226658, "post_id": 59318295, "comment_id": 104838329, "body": "Even as Perl developer my advice would be to use &#39;bash&#39; for this purpose. Try to find something by &#39;bash scp file with rename&#39;"}, {"owner": {"reputation": 96, "user_id": 9390437, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RdSSdGZWUQk/AAAAAAAAAAI/AAAAAAAAAAU/BXhZPNWbxUk/photo.jpg?sz=128", "display_name": "Nilesh Jain", "link": "https://stackoverflow.com/users/9390437/nilesh-jain"}, "edited": false, "score": 0, "creation_date": 1576229419, "post_id": 59318295, "comment_id": 104839527, "body": "i dont think you should use system commands when perl gives you module to do all this very easily. If you use system modules like scp and if someone updates the modules by mistake your program may stop working. I would suggest to use Net::FTP module."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1576252391, "post_id": 59318295, "comment_id": 104851043, "body": "You haven&#39;t renamed anything. What you&#39;ve done here is to copy the contents of the old file to a new file in a rather inefficient manner. Perhaps no-one has shown you Perl&#39;s <a href=\"https://perldoc.perl.org/functions/rename.html\" rel=\"nofollow noreferrer\">rename</a> function."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1576252501, "post_id": 59318295, "comment_id": 104851110, "body": "Also, do you really have a file that is actually called <code>DIAMETER_Requests_\\w+.csv</code>? It seems far more likely to me that the <code>\\w+</code> indicates that this is a regular expression which defines the format of your filenames."}, {"owner": {"reputation": 23, "user_id": 12529716, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAkAurMX4yEMZfskBB38T6aLyzbLIumB7r6K1Zt7v8=k-s128", "display_name": "Priti Patel", "link": "https://stackoverflow.com/users/12529716/priti-patel"}, "edited": false, "score": 0, "creation_date": 1576290301, "post_id": 59318295, "comment_id": 104862648, "body": "I am using an internal tool developed by the company to transfer the file, and I put a general regex for that file name. Hence the &quot;w&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1576228859, "creation_date": 1576228859, "answer_id": 59319462, "question_id": 59318295, "link": "https://stackoverflow.com/questions/59318295/perl-script-to-ssh-and-rename-file/59319462#59319462", "title": "Perl Script to ssh and rename file", "body": "<p>You can do this with <a href=\"https://metacpan.org/pod/Net::OpenSSH\" rel=\"nofollow noreferrer\">Net::OpenSSH</a>, no need to first copy and then rename file at the remote server:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Net::OpenSSH;\n\nmy $host = 'user@some.domain.com';\nmy $ssh = Net::OpenSSH-&gt;new($host);\n$ssh-&gt;error and\n  die \"Couldn't establish SSH connection: \". $ssh-&gt;error;\n$ssh-&gt;scp_put(\"DIAMETER.csv\", \"DIAMETER.old.csv\")\n  or die \"scp failed: \" . $ssh-&gt;error;\n\nmy $async = 1;\n$ssh-&gt;disconnect( $async );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 9390437, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RdSSdGZWUQk/AAAAAAAAAAI/AAAAAAAAAAU/BXhZPNWbxUk/photo.jpg?sz=128", "display_name": "Nilesh Jain", "link": "https://stackoverflow.com/users/9390437/nilesh-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1576229539, "last_edit_date": 1576229539, "creation_date": 1576229115, "answer_id": 59319537, "question_id": 59318295, "link": "https://stackoverflow.com/questions/59318295/perl-script-to-ssh-and-rename-file/59319537#59319537", "title": "Perl Script to ssh and rename file", "body": "<p>I think you can use this module which is inbuilt in perl for FTP and easily achieve what you want. Below code is also taken from the docs of Net::FTP <a href=\"https://perldoc.perl.org/Net/FTP.html\" rel=\"nofollow noreferrer\">Net::FTP</a>    </p>\n\n<pre><code>    use Net::FTP;\n    $ftp = Net::FTP-&gt;new(\"some.host.name\", Debug =&gt; 0)\n      or die \"Cannot connect to some.host.name: $@\";\n    $ftp-&gt;login(\"anonymous\",'-anonymous@')\n      or die \"Cannot login \", $ftp-&gt;message;\n    $ftp-&gt;cwd(\"/pub\")\n      or die \"Cannot change working directory \", $ftp-&gt;message;\n    $ftp-&gt;get(\"actual_file_name\",\"filename_to_be_changed\")\n      or die \"get failed \", $ftp-&gt;message;\n    $ftp-&gt;quit;\n</code></pre>\n\n<p>To access SFTP server just take a look at <a href=\"https://metacpan.org/pod/Net::SFTP::Foreign\" rel=\"nofollow noreferrer\">Net::SFTP::Foreign</a> module of perl.</p>\n"}], "owner": {"reputation": 23, "user_id": 12529716, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAkAurMX4yEMZfskBB38T6aLyzbLIumB7r6K1Zt7v8=k-s128", "display_name": "Priti Patel", "link": "https://stackoverflow.com/users/12529716/priti-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 59319462, "answer_count": 2, "score": 2, "last_activity_date": 1576229539, "creation_date": 1576223590, "last_edit_date": 1576229382, "question_id": 59318295, "link": "https://stackoverflow.com/questions/59318295/perl-script-to-ssh-and-rename-file", "title": "Perl Script to ssh and rename file", "body": "<p>I am really new to perl scripting, and what I'd like is to ssh csv files from server A and rename them after they have been transferred.</p>\n\n<p>Server </p>\n\n<blockquote>\n  <p>A:/dirA/DIAMETER_Requests_\\w+.csv==>transfer to Server B:/dirB/</p>\n</blockquote>\n\n<p>and then rename them in Server </p>\n\n<blockquote>\n  <p>A:/dirA/DIAMETER_Requests_\\w+.csv ==> Server</p>\n  \n  <p>A:/dirA/DIAMETER_Requests_\\w+.csv.old</p>\n</blockquote>\n\n<p>I have managed to rename them but I am not sure how to go by with adding ssh option</p>\n\n<p>Any help is very much appreciated!</p>\n\n<pre><code>#!/bin/perl\n#\n\n    @result = ();\n    open (IN_FILE, \"/dirA/DIAMETER_Requests_\\w+.csv$\") ||\n        die (\"ERROR: Cannot open file '/dirA/DIAMETER_Requests_\\w+.csv$': $!\\n\");\n    while (defined ($line = &lt;IN_FILE&gt;))\n    {\n        push (@result, $line);\n    }\n    close (IN_FILE);\n    open (OUT_FILE, \"&gt;/dirA/DIAMETER_Requests_\\w+.old.csv$\") ||\n        die (\"ERROR: Cannot create file '/dirA/DIAMETER_Requests_\\w+.old.csv$': $!\\n\");\n    print OUT_FILE join (\"\", @result);\n    close (OUT_FILE);\n\n#   The end\n    exit (0)\n</code></pre>\n"}, {"tags": ["perl", "aspell"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1576253141, "post_id": 59314440, "comment_id": 104851421, "body": "Consider <a href=\"https://metacpan.org/pod/Text::Hunspell\" rel=\"nofollow noreferrer\">Text::Hunspell</a> interface to the hunspell library as it is much better maintained."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9270203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/209e96600389ff9104b5f9c58e511e8e?s=128&d=identicon&r=PG&f=1", "display_name": "elci", "link": "https://stackoverflow.com/users/9270203/elci"}, "edited": false, "score": 0, "creation_date": 1576528621, "post_id": 59314535, "comment_id": 104921664, "body": "Yes, this would indeed be the easiest solution and is how I was able to install Aspell and other Perl modules in the first place, but things went to another level when I tried to install Text::Aspell. In this particular case, I think figuring out how to use Aspell directly was a less onerous task than jumping through the multiple hoops of installing Text::Aspell given our particular server configuration. But yes, I agree in general the best solution is always to try to not reinvent the wheel! (:"}], "tags": [], "owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "is_accepted": false, "score": 2, "last_activity_date": 1576196393, "creation_date": 1576196393, "answer_id": 59314535, "question_id": 59314440, "link": "https://stackoverflow.com/questions/59314440/perl-interface-with-aspell/59314535#59314535", "title": "Perl interface with Aspell", "body": "<p>You should take a step back and investigate if you can install <code>Text::Aspell</code> without administrator privilige. In most cases that's <a href=\"https://www.perlmonks.org/?node_id=693828\" rel=\"nofollow noreferrer\">perfectly possible</a>.</p>\n\n<p>You can install modules into your home directory. If there is no C-compiler available on the server you can install the module on a compatible machine, compile and copy the files.</p>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 9270203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/209e96600389ff9104b5f9c58e511e8e?s=128&d=identicon&r=PG&f=1", "display_name": "elci", "link": "https://stackoverflow.com/users/9270203/elci"}, "edited": false, "score": 0, "creation_date": 1576528430, "post_id": 59314679, "comment_id": 104921597, "body": "This is perfect, thanks so much! I&#39;m able to get it to work now. The background information to help me understand submitting commands via STDIN is super helpful."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 55, "user_id": 9270203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/209e96600389ff9104b5f9c58e511e8e?s=128&d=identicon&r=PG&f=1", "display_name": "elci", "link": "https://stackoverflow.com/users/9270203/elci"}, "edited": false, "score": 0, "creation_date": 1576535695, "post_id": 59314679, "comment_id": 104924290, "body": "@elci great :) if questions pop up please let me know"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 55, "user_id": 9270203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/209e96600389ff9104b5f9c58e511e8e?s=128&d=identicon&r=PG&f=1", "display_name": "elci", "link": "https://stackoverflow.com/users/9270203/elci"}, "edited": false, "score": 0, "creation_date": 1576536358, "post_id": 59314679, "comment_id": 104924489, "body": "@elci Other ways to pass things to an exernal program&#39;s <code>STDIN</code> -- 1) have them in a file, then run <code>prog &lt; file</code> (then <code>prog</code> reads via its <code>STDIN</code> from the file, line by line) 2) use a &quot;<i>pipe open</i>&quot; (see <a href=\"https://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\">open</a> docs) 3) Nicest, use modules, say <a href=\"https://metacpan.org/pod/IPC::Run3\" rel=\"nofollow noreferrer\">IPC::Run3</a> or <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\">IPC::Run</a>.  I&#39;ll add  to the answer when i get a minute"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 3, "last_activity_date": 1576304943, "last_edit_date": 1576304943, "creation_date": 1576197905, "answer_id": 59314679, "question_id": 59314440, "link": "https://stackoverflow.com/questions/59314440/perl-interface-with-aspell/59314679#59314679", "title": "Perl interface with Aspell", "body": "<p>The complication with using <code>aspell</code> out of a program is that it is an interactive and command-line driver tool, as you suspect.  However, there is a simple way to do what you need.  </p>\n\n<p>In order to use <code>aspell</code>'s command <code>list</code> one needs to pass it words via <code>STDIN</code>, as its man page says. While I find the <a href=\"http://aspell.net/man-html/index.html\" rel=\"nofollow noreferrer\">GNU Aspell manual</a> a little difficult to get going with, passing input to a program via its <code>STDIN</code> is easy enough and we can rewrite the invocation as</p>\n\n<pre><code>echo dad word lkj | aspell list\n</code></pre>\n\n<p>We get <code>lkj</code> printed back, as due. Now this can run out of a program just as it stands</p>\n\n<pre><code>my $word_list = q(word lkj good asdf);\n\nmy $cmd = qq(echo $word_list | aspell list);\n\nmy @aspell_out = qx($cmd);\n\nprint for @aspell_out;\n</code></pre>\n\n<p>This prints lines <code>lkj</code> and <code>asdf</code>.</p>\n\n<p>I assemble the command in a string (as opposed to an array) for specific reasons, explained below. The <a href=\"https://perldoc.perl.org/perlop.html#Quote-Like-Operators\" rel=\"nofollow noreferrer\">qx</a> is the operator form of backticks, which I prefer for its far superior readability.  </p>\n\n<p>Note that <code>qx</code> can return all output in a string, if in <em>scalar context</em> (assigned to a scalar for example), or in a list when in <em>list context</em>.  Here I assign to an array so you get each word as an element (alas, each also comes with a newline, so may want to do <code>chomp @aspell_out;</code>).</p>\n\n<hr>\n\n<p><em>Comment on a list vs string form of a command</em></p>\n\n<p>I think that it's safe to recommend to use a list-form for a command, in general.  So we'd say</p>\n\n<pre><code>my @cmd = ('ls', '-l', $dir);  # to be run as an external command\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>my $cmd = \"ls -l $dir\";        # to be run as an external command\n</code></pre>\n\n<p>The list form generally makes it easier to manage the command, and it avoids the shell altogether.</p>\n\n<p>However, this case is a little different</p>\n\n<ul>\n<li><p>The <code>qx</code> operator doesn't really behave differently -- the array gets concatenated into a string, and that runs. The very fact that we <em>can</em> pass it an array is incidental, and not even documented</p></li>\n<li><p>We need to <em>pipe</em> input to <code>aspell</code>'s <code>STDIN</code>, and shell does that for us simply. We can use a shell with command's LIST form as well, but then we'd need to invoke it explicitly.  We can also go for <code>aspell</code>'s <code>STDIN</code> by means other than the shell but that's more complex</p></li>\n<li><p>With a command in a list the <em>command name must be the first word</em>, so that <code>\"aspell list\"</code> from the question is wrong and it should fail (there is no command named that) ... except that <em>in this case</em> it wouldn't (if the rest were correct), since for <code>qx</code> the array gets collapsed into a string</p></li>\n</ul>\n\n<p>Finally, <code>apsell</code> nicely exposes its API in a C library and that's been utilized for the module you mention. I'd suggest to install it as a user (no privileges needed) and use that.</p>\n"}], "owner": {"reputation": 55, "user_id": 9270203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/209e96600389ff9104b5f9c58e511e8e?s=128&d=identicon&r=PG&f=1", "display_name": "elci", "link": "https://stackoverflow.com/users/9270203/elci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 59314679, "answer_count": 2, "score": 2, "last_activity_date": 1586514897, "creation_date": 1576195558, "last_edit_date": 1586514897, "question_id": 59314440, "link": "https://stackoverflow.com/questions/59314440/perl-interface-with-aspell", "title": "Perl interface with Aspell", "body": "<p>I am trying to identify misspelled words with Aspell via Perl. I am working on a Linux server without administrator privileges which means I have access to Perl and Aspell but not, for example, Text::Aspell which is a Perl interface for Aspell.</p>\n\n<p>I want to do the very simple task of passing a list of words to Aspell and having it return the words that are misspelled. If the words I want to check are \"dad word lkjlkjlkj\" I can do this through the command line with the following commands:</p>\n\n<pre><code>aspell list\ndad word lkjlkjlkj\n</code></pre>\n\n<p>Aspell requires CTRL + D at the end to submit the word list. It would then return \"lkjlkjlkj\", as this isn't in the dictionary.</p>\n\n<p>In order to do the exact same thing, but submitted via Perl (because I need to do this for thousands of documents) I have tried:</p>\n\n<pre><code>my $list = q(dad word lkjlkjlkj):\nmy @arguments = (\"aspell list\", $list, \"^D\");\nmy $aspell_out=`@arguments`;\nprint \"Aspell output = $aspell_out\\n\";\n</code></pre>\n\n<p>The expected output is \"Aspell output = lkjlkjlkj\" because this is the output that Aspell gives when you submit these commands via the command line. However, the actual output is just \"Aspell output = \". That is, Perl does not capture any output from Aspell. No errors are thrown.</p>\n\n<p>I am not an expert programmer, but I thought this would be a fairly simple task. I've tried various iterations of this code and nothing works. I did some digging and I'm concerned that perhaps because Aspell is interactive, I need to use something like Expect, but I cannot figure out how to use it. Nor am I sure that it is actually the solution to my problem. I also think ^D should be an appropriate replacement for CTRL+D at the end of the commands, but all I know is it doesn't throw an error. I also tried \\cd instead. Whatever it is, there is obviously an issue in either submitting the command or capturing the output.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 0, "creation_date": 1576192955, "post_id": 59314001, "comment_id": 104829940, "body": "You should avoid using the default import set of POSIX as noted in <a href=\"https://perldoc.pl/POSIX#CAVEATS\" rel=\"nofollow noreferrer\">CAVEATS</a>; <code>use POSIX &#39;ceil&#39;;</code> will get just the function you want."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576213808, "post_id": 59314001, "comment_id": 104833936, "body": "Re &quot;<i>I also tried to use BigFloat instead of bigint, but then the result of <code>$entry = ($g ** ($u * $z)) % $n;</code></i>&quot;, <code>use bigint;</code> has no direct effect on that statement. <code>use bigint;</code> only has a an effect on numerical literals."}], "answers": [{"comments": [{"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "edited": false, "score": 1, "creation_date": 1576193042, "post_id": 59314068, "comment_id": 104829958, "body": "I&#39;ll also note that while sqrt is overloaded to maintain BigFloat precision, POSIX::ceil is not. Math::BigFloat has a <code>bceil</code> method that avoids the intermediate conversion to a native float, so it would be better to do <code>my $z = sqrt($n-1)-&gt;bceil;</code> or use the methods entirely such as <code>my $z = $n-&gt;bsub(1)-&gt;bsqrt-&gt;bceil;</code>"}, {"owner": {"reputation": 33, "user_id": 12527849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9fa959620bd6a4edab23c93d2e3a7d5?s=128&d=identicon&r=PG&f=1", "display_name": "Heinz Bauer", "link": "https://stackoverflow.com/users/12527849/heinz-bauer"}, "edited": false, "score": 0, "creation_date": 1576193738, "post_id": 59314068, "comment_id": 104830089, "body": "It seems that bignum isn&#39;t enough for my purposes. Later, i call <code>$entry = ($g ** ($u * $z)) % $n;</code> with <code>$g = 15</code>, <code>$u = 3</code>, <code>$z = 7</code> and <code>$n = 41</code>, which evaluates to 3 instead of 26."}, {"owner": {"reputation": 8718, "user_id": 5848200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8072aaf76dcb4fe5027964252f16382?s=128&d=identicon&r=PG", "display_name": "Grinnz", "link": "https://stackoverflow.com/users/5848200/grinnz"}, "reply_to_user": {"reputation": 33, "user_id": 12527849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9fa959620bd6a4edab23c93d2e3a7d5?s=128&d=identicon&r=PG&f=1", "display_name": "Heinz Bauer", "link": "https://stackoverflow.com/users/12527849/heinz-bauer"}, "edited": false, "score": 1, "creation_date": 1576194363, "post_id": 59314068, "comment_id": 104830220, "body": "@HeinzBauer Please update your question with the whole code (simplified but complete) that is giving you the wrong result, what you get and what you expect."}], "tags": [], "owner": {"reputation": 5144, "user_id": 12115778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oC38b.jpg?s=128&g=1", "display_name": "richyen", "link": "https://stackoverflow.com/users/12115778/richyen"}, "is_accepted": false, "score": 4, "last_activity_date": 1576192691, "creation_date": 1576192691, "answer_id": 59314068, "question_id": 59314001, "link": "https://stackoverflow.com/questions/59314001/use-bigint-and-float-perl/59314068#59314068", "title": "Use bigint and float perl", "body": "<p>you need to use <code>bignum</code>, not <code>bigint</code>:</p>\n\n<pre><code>$ cat bauer.pl \n#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse POSIX;\nuse bigint;\n\n\nmy($g, $y, $n) = ($ARGV[0], $ARGV[1], $ARGV[2]);\n\nmy $z = ceil(sqrt($n-1));\n\n$ perl r.pl \n1.41421356237309504880168872420969807857\n</code></pre>\n\n<p>With your program signature:</p>\n\n<pre><code>$ cat bauer.pl \n#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse POSIX;\nuse bignum;\n\n\nmy($g, $y, $n) = ($ARGV[0], $ARGV[1], $ARGV[2]);\n\nmy $z = ceil(sqrt($n-1));\nprint STDOUT \"$z\\n\";\n\n$ perl bauer.pl 1 2 48\n7\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 12527849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9fa959620bd6a4edab23c93d2e3a7d5?s=128&d=identicon&r=PG&f=1", "display_name": "Heinz Bauer", "link": "https://stackoverflow.com/users/12527849/heinz-bauer"}, "edited": false, "score": 0, "creation_date": 1576196475, "post_id": 59314497, "comment_id": 104830704, "body": "I already tried to use BigFloat, but i run into problems when calculating stuff like <code>($g ** ($u * $z)) % $n</code>..."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 33, "user_id": 12527849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9fa959620bd6a4edab23c93d2e3a7d5?s=128&d=identicon&r=PG&f=1", "display_name": "Heinz Bauer", "link": "https://stackoverflow.com/users/12527849/heinz-bauer"}, "edited": false, "score": 0, "creation_date": 1576196677, "post_id": 59314497, "comment_id": 104830756, "body": "@HeinzBauer Oh, I see the statement now (but it doesn&#39;t spell out the &quot;<i>problems</i>&quot;).  You can use this alongside any other tool, converting to and fro. Can you explain what kinds of problems you run into? I&#39;d be surprised if the problem were with this module in particular. Best edit the question so you can state the problem (with an example) that can then be dealt with."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 33, "user_id": 12527849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9fa959620bd6a4edab23c93d2e3a7d5?s=128&d=identicon&r=PG&f=1", "display_name": "Heinz Bauer", "link": "https://stackoverflow.com/users/12527849/heinz-bauer"}, "edited": false, "score": 0, "creation_date": 1576197193, "post_id": 59314497, "comment_id": 104830878, "body": "@HeinzBauer I&#39;ve run your calculations from the question and I don&#39;t see the problem.  Can you specify what &quot;problems&quot; you run into?  Can you update your code showing precisely what you get vs. what you expect?"}, {"owner": {"reputation": 33, "user_id": 12527849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9fa959620bd6a4edab23c93d2e3a7d5?s=128&d=identicon&r=PG&f=1", "display_name": "Heinz Bauer", "link": "https://stackoverflow.com/users/12527849/heinz-bauer"}, "edited": false, "score": 0, "creation_date": 1576197803, "post_id": 59314497, "comment_id": 104831000, "body": "thanks, i edited the question. The problem i mean is maybe an integer overflow when calculating 15^(3*7) mod 41, which should result in 26 and not in 3, if i am not wrong."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 33, "user_id": 12527849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9fa959620bd6a4edab23c93d2e3a7d5?s=128&d=identicon&r=PG&f=1", "display_name": "Heinz Bauer", "link": "https://stackoverflow.com/users/12527849/heinz-bauer"}, "edited": false, "score": 0, "creation_date": 1576198372, "post_id": 59314497, "comment_id": 104831086, "body": "@HeinzBauer I see, thank you. I get the 26 for <code>$u==3</code> ...? (Copy-pasted your second loop.)  Need to run now but I&#39;ll amend my post later to add calculations."}, {"owner": {"reputation": 33, "user_id": 12527849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9fa959620bd6a4edab23c93d2e3a7d5?s=128&d=identicon&r=PG&f=1", "display_name": "Heinz Bauer", "link": "https://stackoverflow.com/users/12527849/heinz-bauer"}, "edited": false, "score": 0, "creation_date": 1576198726, "post_id": 59314497, "comment_id": 104831148, "body": "thats funny, i get 3 for <code>$u==3</code> when ever changing the &quot;use&quot; section to <code>use Math::BigFloat</code> or <code>use Math::BigInt</code>. What am i missing?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 33, "user_id": 12527849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9fa959620bd6a4edab23c93d2e3a7d5?s=128&d=identicon&r=PG&f=1", "display_name": "Heinz Bauer", "link": "https://stackoverflow.com/users/12527849/heinz-bauer"}, "edited": false, "score": 0, "creation_date": 1576225359, "post_id": 59314497, "comment_id": 104837777, "body": "@HeinzBauer Updated with an added section, with your calculation example"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1576259326, "last_edit_date": 1576259326, "creation_date": 1576196124, "answer_id": 59314497, "question_id": 59314001, "link": "https://stackoverflow.com/questions/59314001/use-bigint-and-float-perl/59314497#59314497", "title": "Use bigint and float perl", "body": "<p>I'd recommend <a href=\"https://perldoc.perl.org/Math/BigFloat.html\" rel=\"nofollow noreferrer\">Math::BigFloat</a> and <a href=\"https://perldoc.perl.org/Math/BigInt.html\" rel=\"nofollow noreferrer\">Math::BigInt</a> over the <a href=\"https://perldoc.perl.org/bigint.html\" rel=\"nofollow noreferrer\">bigint</a> pragma, practically always. </p>\n\n<p>The pragma is \"<em>just a thin wrapper around various modules of the Math::BigInt family</em>\" says the (linked) doc, but has very non-trivial actions (the \"<em>Description</em>\" conveys it). Instead, use the classes to set up what you want burdened with infinite precision support, itself non-trivial and costly.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse Math::BigFloat;\n\nmy($g, $y, $n) = ($ARGV[0], $ARGV[1], $ARGV[2]);\n\nmy $z = sqrt($n-1);\nsay $z; \n\nmy $num = Math::BigFloat-&gt;new( $z );\nsay $num;\n\nmy $num_ceil = $num-&gt;bceil();\nsay $num_ceil;\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong> &nbsp;  The shown calculation has no need for a big-number exponent</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nuse POSIX 'ceil';\nuse Math::BigInt;\n\nmy ($g, $y, $n) = @ARGV;\n\nmy $z = ceil(sqrt($n-1));\n\nmy $bg = Math::BigInt-&gt;new($g);\n\nmy $e;\nfor my $u (0 .. $z) {\n    $e = $bg-&gt;copy-&gt;bmodpow($u*$rnd, $n);\n    say \"$u:  $e\";\n}\n</code></pre>\n\n<p>There happens to be a <a href=\"https://perldoc.perl.org/Math/BigInt.html#bmodpow()\" rel=\"nofollow noreferrer\">bmodpow</a> method, doing exactly what's needed and being \n\"<em>far superior</em>\" at it.  Most arithmetic methods <em>modify their operands</em>, thus <code>copy()</code> is chained in to preserve <code>$bg</code> for the next iteration.  See \"<em>Modifying and =</em>\" bullet under <a href=\"https://perldoc.perl.org/Math/BigInt.html#CAVEATS\" rel=\"nofollow noreferrer\">Caveats in docs</a>.</p>\n\n<p>I declare <code>$e</code> outside of the loop to avoid the (copy) constructor running every time in the loop as the variable becomes (is assigned) a <code>BigInt</code> object, returned by the method. (I am not certain that this is needed or that it helps though.)</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 12527849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9fa959620bd6a4edab23c93d2e3a7d5?s=128&d=identicon&r=PG&f=1", "display_name": "Heinz Bauer", "link": "https://stackoverflow.com/users/12527849/heinz-bauer"}, "edited": false, "score": 0, "creation_date": 1576224369, "post_id": 59317071, "comment_id": 104837401, "body": "Ah, thank you. The algorithm i try to implement works slightly different from wikipedia&#39;s one, so the <code>$n-1</code> should work correct. I try it out and tell you if it worked."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1576253595, "last_edit_date": 1576253595, "creation_date": 1576217558, "answer_id": 59317071, "question_id": 59314001, "link": "https://stackoverflow.com/questions/59314001/use-bigint-and-float-perl/59317071#59317071", "title": "Use bigint and float perl", "body": "<blockquote>\n  <p><em>Whenever I look into $z it evaluates to 6 instead of 7,</em></p>\n</blockquote>\n\n<p><code>use bigint;</code> causes numeric literals to be replaced with Math::BigInt objects. For example,</p>\n\n<pre><code>1\n</code></pre>\n\n<p>gets replaced with</p>\n\n<pre><code>Math::BigInt-&gt;new(1)\n</code></pre>\n\n<p>Math::BigInt in turn overrides a number of operators when a Math::BigInt object is used as an operand.</p>\n\n<p>As such,</p>\n\n<pre><code>use bigint;\nmy $z = ceil(sqrt($n-1));\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>use Math::BigInt;\nmy $z = ceil(sqrt($n-Math::BigInt-&gt;new(1)));\n</code></pre>\n\n<p>which is equivalent to</p>\n\n<pre><code>use Math::BigInt;\n\nmy $temp = Math::BigInt-&gt;new(1);   #  1 [BigInt]\n$temp-&gt;bneg;                       # -1 [BigInt]\n$temp-&gt;badd($n);                   # 40 [BigInt]\n$temp-&gt;bsqrt();                    #  6 [BigInt]      &lt;--- XXX\n$temp = $temp-&gt;numify;             #  6 [Primitive]\nmy $z = ceil($temp);               #  6 [Primitive]\n</code></pre>\n\n<p>So, you are using a Math::BigInt when you don't want to. Don't do that!!! Simply use</p>\n\n<pre><code># No \"use bigint;\"!!!\nmy $z = ceil(sqrt($n-1));\n</code></pre>\n\n<p>Of course, the algorithm to which you linked actually calls for</p>\n\n<pre><code># No \"use bigint;\"!!!\nmy $z = ceil(sqrt($n));\n</code></pre>\n\n<hr>\n\n<p>Because <code>use bigint;</code> can have large effects at a distance, I personally find <code>use bigint;</code> far too magical. I'd much rather use <code>Math::BigInt-&gt;new(...)</code> where appropriate rather than having <code>use bigint;</code> convert all my numerical constants into Math::BigInt objects. I'd also rather use Math::BigInt's methods instead of overloaded operators. Far less surprises that way (e.g. such as the loss of big number support when using <code>ceil</code>).</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature qw( say );\n\nuse Config       qw( %Config );\nuse Math::BigInt qw( );\nuse POSIX        qw( ceil );\n\n# Each of the arguments is expected to be in [0, 2^32).\n# Should use exponentiation by squaring instead of larger number support.\nsub pow_m {\n   my ($base, $exp, $mod) = @_;\n   my $n = Math::BigInt-&gt;new($base);\n   $n-&gt;bpow($exp);\n   $n-&gt;bmod($mod);\n   return $n-&gt;numify();\n}\n\n# Each of the arguments is expected to be in [0, 2^32).\n# Requires a 64-bit integers or $e might overflow.\nsub babystep_giantstep {\n   my ($g, $h, $mod) = @_;\n\n   my $m = ceil(sqrt($mod));\n\n   my %table;\n\n   my $e = 1;\n   for my $i (0..$m-1) {\n      $table{$e} = $i;\n      $e = ($e * $g) % $mod;\n   }\n\n   my $factor = pow_m($g, $mod-$m-1, $mod);\n\n   $e = $h;\n   for my $i (0..$m-1) {\n      if (exists($table{$e})) {\n         return $i*$m + $table{$e};\n      }\n\n      $e = ($e * $factor) % $mod;\n   }\n\n   return undef;\n}\n\n{\n   $Config{uvsize} &gt;= 8\n      or warn(\"Results may overflow\\n\");\n\n   my ($g, $h, $mod) = @ARGV;   \n   my $log = babystep_giantstep($g, $h, $mod);\n   say $log;\n\n   my $test = Math::BigInt-&gt;new($g);\n   $test-&gt;bpow($log);\n   $test-&gt;bmod($mod);\n   $test = $test-&gt;numify;\n   say $test == $h ? \"ok\" : \"not ok\";\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 12527849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9fa959620bd6a4edab23c93d2e3a7d5?s=128&d=identicon&r=PG&f=1", "display_name": "Heinz Bauer", "link": "https://stackoverflow.com/users/12527849/heinz-bauer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 59314497, "answer_count": 3, "score": 3, "last_activity_date": 1576259326, "creation_date": 1576192236, "last_edit_date": 1576197623, "question_id": 59314001, "link": "https://stackoverflow.com/questions/59314001/use-bigint-and-float-perl", "title": "Use bigint and float perl", "body": "<p>I am extremely new to Perl, so I hope you will excuse my inexperience.</p>\n\n<p>I have the following lines of code:</p>\n\n<pre><code>use warnings;\nuse strict;\nuse POSIX 'ceil';\nuse bigint;\n\n\nmy($g, $y, $n) = ($ARGV[0], $ARGV[1], $ARGV[2]);\n\nmy $z = ceil(sqrt($n-1));\n\nmy $entry;\n\nprint \"list1: \\n\";\nfor my $v (0 .. $z) {\n    $entry = ($g ** $v) % $n;\n    $entry = ($entry ** ($n - 2)) % $n;\n    $entry = ($entry * $y) % $n;\n\n    print \"$entry : $v\\n\";\n}\n\nprint \"list2: \\n\";\nfor my $u (0 .. $z) {\n    $entry = ($g ** ($u * $z)) % $n;\n    print \"$entry: $u\\n\";\n}\n\n</code></pre>\n\n<p>I need to use the bigint environment because of some following statements. Whenever I look into <code>$z</code> it evaluates to 6 instead of 7, when i call my program with <code>$n = 41</code>. It looks as if the bigint environment rounds the value of the <code>sqrt</code> method. I also tried to use BigFloat instead of bigint, but then the result of <code>$entry = ($g ** ($u * $z)) % $n;</code> gets calculated wrong (with <code>($g, $y, $n) = (15, 38, 41)</code> the result is 3, when <code>$u</code> reached 3 in the for loop, but should be 26 instead).</p>\n\n<p>Is there any option to avoid this rounding, so I can use float while calculating the square root and bigint in all following statements, so the pow operation works properly?</p>\n\n<p>My call is <code>perl program.pl 15 38 41</code>. I try to implement the <a href=\"https://en.wikipedia.org/wiki/Baby-step_giant-step\" rel=\"nofollow noreferrer\">baby-step-giant-step algorithm</a>.</p>\n"}, {"tags": ["python", "ruby", "perl", "oop", "package"], "comments": [{"owner": {"reputation": 27744, "user_id": 484814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d14596734c0c2c409886b612063553cf?s=128&d=identicon&r=PG", "display_name": "PerformanceDBA", "link": "https://stackoverflow.com/users/484814/performancedba"}, "edited": false, "score": 0, "creation_date": 1577417041, "post_id": 59304806, "comment_id": 105165021, "body": "The Q is single, and focussed, although the target is three libraries.  The confusion may have been due to the very poor English.  Corrected."}, {"owner": {"reputation": 27744, "user_id": 484814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d14596734c0c2c409886b612063553cf?s=128&d=identicon&r=PG", "display_name": "PerformanceDBA", "link": "https://stackoverflow.com/users/484814/performancedba"}, "edited": false, "score": 0, "creation_date": 1577417790, "post_id": 59304806, "comment_id": 105165140, "body": "1) <code>regex</code> works perfectly (millions of computers since 1960, billions of scripts), and it can be used for this purpose.  <code>regex</code> is not a script, it is a pattern search facility that is built into all the Unix utilities (and many others).  You need to write a simple script with the <code>regexes</code> that you need in it.  2) @Holli&#39;s Answer shows you how to use the facilities of the package to inspect it, for Perl &amp; Python.  3) You need to write a script to inspect the Ruby library."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1577443700, "post_id": 59304806, "comment_id": 105171765, "body": "See also <a href=\"https://metacpan.org/pod/Devel::Examine::Subs\" rel=\"nofollow noreferrer\">Devel::Examine::Subs</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9265791, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mE8mzUu8c5c/AAAAAAAAAAI/AAAAAAAAAK4/6jgFXulPobA/photo.jpg?sz=128", "display_name": "Yiming Sun", "link": "https://stackoverflow.com/users/9265791/yiming-sun"}, "edited": false, "score": 0, "creation_date": 1576156763, "post_id": 59304988, "comment_id": 104813259, "body": "Thank you very much! I will look into them"}, {"owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "reply_to_user": {"reputation": 21, "user_id": 9265791, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mE8mzUu8c5c/AAAAAAAAAAI/AAAAAAAAAK4/6jgFXulPobA/photo.jpg?sz=128", "display_name": "Yiming Sun", "link": "https://stackoverflow.com/users/9265791/yiming-sun"}, "edited": false, "score": 0, "creation_date": 1576157554, "post_id": 59304988, "comment_id": 104813704, "body": "Sure thing. Here&#39;s a little one hour fun talk about PPR and its development. It&#39;s by one of the demigods of the Perl community."}], "tags": [], "owner": {"reputation": 4524, "user_id": 8893864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfBb3bzlcfw/AAAAAAAAAAI/AAAAAAAAADM/vILdjUEHHM8/photo.jpg?sz=128", "display_name": "Holli", "link": "https://stackoverflow.com/users/8893864/holli"}, "is_accepted": false, "score": 2, "last_activity_date": 1576155572, "last_edit_date": 1576155572, "creation_date": 1576154952, "answer_id": 59304988, "question_id": 59304806, "link": "https://stackoverflow.com/questions/59304806/how-to-get-class-and-function-names-from-a-library/59304988#59304988", "title": "How to get Class and Function Names from a Library?", "body": "<p>For Perl, there is <a href=\"https://metacpan.org/pod/Class::Inspector\" rel=\"nofollow noreferrer\">Class::Inspector</a>, for python there is <a href=\"https://docs.python.org/3/library/inspect.html\" rel=\"nofollow noreferrer\">inspect</a>. Ruby, I don't know. The term you should search for is \"introspection\".</p>\n\n<p>Also available for Perl is <a href=\"https://metacpan.org/pod/PPR\" rel=\"nofollow noreferrer\">PPR</a>, the Perl Pattern Recognizer, a regular expression that parses all of Perl.</p>\n"}], "owner": {"reputation": 21, "user_id": 9265791, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mE8mzUu8c5c/AAAAAAAAAAI/AAAAAAAAAK4/6jgFXulPobA/photo.jpg?sz=128", "display_name": "Yiming Sun", "link": "https://stackoverflow.com/users/9265791/yiming-sun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577440078, "creation_date": 1576154386, "last_edit_date": 1577416916, "question_id": 59304806, "link": "https://stackoverflow.com/questions/59304806/how-to-get-class-and-function-names-from-a-library", "title": "How to get Class and Function Names from a Library?", "body": "<p>I\u2019m doing research that requires the collation of class names and their function names for three libraries: Perl; Python; and Ruby.  </p>\n\n<p>I have downloaded the online libraries (.tar files), but I have not installed them (they require additional libraries).  Now I need to obtain the class names and their function names from each library.</p>\n\n<p>Obviously regular expression will barely work. I have received some hints like \u201cwrite a simple script in (eg.) Python to inspect the Python library\u201d, but I don't know how to do that.</p>\n\n<p>I will appreciate any help or comments!</p>\n"}, {"tags": ["perl", "datetime", "floating-point", "division"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1576147965, "post_id": 59302399, "comment_id": 104808605, "body": "I can&#39;t replicate your results, but <code>$math_ns&#47;1.0E9</code> should be <code>$nano&#47;1.0E9</code> and <code>return $math_s</code> should be <code>return $nano&#47;1.0E9;</code>. There&#39;s no reason to convert the numbers to strings!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576148554, "post_id": 59302399, "comment_id": 104808921, "body": "Note that <code>$now - $start</code> won&#39;t work as expected if the difference is a minute or more (because <code>in_units</code> it doesn&#39;t have enough info to convert minutes into seconds or nanoseconds, because not all minutes have 60 seconds). You should be using <code>$now-&gt;subtract_datetime_absolute($start)</code>"}, {"owner": {"reputation": 439, "user_id": 3338646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TQCYu.jpg?s=128&g=1", "display_name": "huckfinn", "link": "https://stackoverflow.com/users/3338646/huckfinn"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576148811, "post_id": 59302399, "comment_id": 104809040, "body": "Yes, I guess that too but  I cast  <code>$nano</code> explicitly to a <code>float</code> using the <code>sprintf..</code> way, to see whats wrong. Unfortunately as you see TIME.SECS: in  <code>TIME.SECS: 0 TIME.NANO: 1.355200e+07 IS.FLOAT: 1</code> produced by <code>print &quot;TIME.SECS: &quot;, $math_ns*1.0E-9,  &quot; TIME.NANO: &quot;   ,$math_ns,  &quot; IS.FLOAT: &quot;  ,Scalar::Util::Numeric::isfloat($math_ns),&quot;\\n&quot;;</code> is zero, despite of being a <code>float</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576148834, "post_id": 59302399, "comment_id": 104809051, "body": "Re &quot;<i>I guess that too but I cast the $nano explicitly to a float using the sprintf</i>&quot;, No, <code>sprintf</code> produces a <i>string</i>"}, {"owner": {"reputation": 439, "user_id": 3338646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TQCYu.jpg?s=128&g=1", "display_name": "huckfinn", "link": "https://stackoverflow.com/users/3338646/huckfinn"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576148943, "post_id": 59302399, "comment_id": 104809116, "body": "No it is a float ...<code>IS.FLOAT: 1</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576148971, "post_id": 59302399, "comment_id": 104809130, "body": "No, it&#39;s a definitely a string. <code>isfloat</code> doesn&#39;t return the type of the value or values in the scalar."}, {"owner": {"reputation": 439, "user_id": 3338646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TQCYu.jpg?s=128&g=1", "display_name": "huckfinn", "link": "https://stackoverflow.com/users/3338646/huckfinn"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576149125, "post_id": 59302399, "comment_id": 104809197, "body": "Any way <code>print &quot;TIME.SECS: &quot;, $nano*1.0E-9, &quot; TIME.NANO: &quot;   ,$nano, &quot; IS.FLOAT: &quot;  ,Scalar::Util::Numeric::isfloat($nano*1E-9),&quot;\\n&quot;;</code>  produces <code>TIME.SECS: 0 TIME.NANO: 13541000 IS.FLOAT: 0</code>;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1576149131, "post_id": 59302399, "comment_id": 104809199, "body": "It still works as a string, because <code>&#47;</code> doesn&#39;t care if the number is stored as a signed int, unsigned int, float, string (UTF8=0) or string (UTF8=1). The whole premise of your quesiton (that there is some kind of integer division) is false."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1576149232, "post_id": 59302399, "comment_id": 104809246, "body": "So I repeat, You shouldn&#39;t be performing these useless stringifications, and <code>$now - $start</code> should be <code>$now-&gt;subtract_datetime_absolute($start)</code>"}, {"owner": {"reputation": 439, "user_id": 3338646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TQCYu.jpg?s=128&g=1", "display_name": "huckfinn", "link": "https://stackoverflow.com/users/3338646/huckfinn"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576149433, "post_id": 59302399, "comment_id": 104809351, "body": "Ok,  what ist the the right cast of $nano to produce a valid float result, because <code>$nano * 1E-9</code> or <code>$nano&#47;19E</code> produces 0?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576149578, "post_id": 59302399, "comment_id": 104809448, "body": "Please add <code>use Devel::Peek; Dump($nano); Dump($math_ns); Dump($math_ns&#47;1.0E9)</code> and provide the output"}, {"owner": {"reputation": 439, "user_id": 3338646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TQCYu.jpg?s=128&g=1", "display_name": "huckfinn", "link": "https://stackoverflow.com/users/3338646/huckfinn"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576149953, "post_id": 59302399, "comment_id": 104809657, "body": "Please, the interval that is tested is below one second, I tested <code>$now-&gt;subtract_datetime_absolute($start) </code> with no effect."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1576149990, "post_id": 59302399, "comment_id": 104809678, "body": "Right, it won&#39;t make a difference for very small durations, but it&#39;s the correct tool to use in conjunction with <code>$dur-&gt;in_units(&#39;seconds&#39;)</code> or <code>$dur-&gt;in_units(&#39;nanoseconds&#39;)</code>"}, {"owner": {"reputation": 439, "user_id": 3338646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TQCYu.jpg?s=128&g=1", "display_name": "huckfinn", "link": "https://stackoverflow.com/users/3338646/huckfinn"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576151490, "post_id": 59302399, "comment_id": 104810438, "body": "So <code>my $math_s  =  Math::BigFloat-&gt;new(sprintf(&quot;%sE-9&quot;,$nano));</code>  with <code>print &quot;TIME.SECS: &quot;, $math_s, &quot; TIME.NANO: &quot;   ,$math_s*1E9, &quot; IS.FLOAT: &quot;  ,Scalar::Util::Numeric::isfloat($math_s),&quot;\\n&quot;;</code> produces the correct results<code>TIME.SECS: 0.013604 TIME.NANO: 13604000 IS.FLOAT: 1</code>"}, {"owner": {"reputation": 439, "user_id": 3338646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TQCYu.jpg?s=128&g=1", "display_name": "huckfinn", "link": "https://stackoverflow.com/users/3338646/huckfinn"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1576151694, "post_id": 59302399, "comment_id": 104810554, "body": "In the Question at the end."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1576151830, "post_id": 59302399, "comment_id": 104810632, "body": "Somehow, the value is being truncated because it&#39;s being replaced with a Math::BigInt object (as if <code>use bigint;</code> was used), yet you didn&#39;t show Math::BigInt or bigint(.pm) being involved. Is the program providing the output you get the exact one you posted?"}], "answers": [{"comments": [{"owner": {"reputation": 439, "user_id": 3338646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TQCYu.jpg?s=128&g=1", "display_name": "huckfinn", "link": "https://stackoverflow.com/users/3338646/huckfinn"}, "edited": false, "score": 0, "creation_date": 1576225182, "post_id": 59311045, "comment_id": 104837707, "body": "Thank you for the comprehensive explanation, it is more I&#39;ve expected. I think I&#39;ve to write the code, to handle two things. One the one hand I need scalars that can address <code>uint64</code> to hold the file sizes and the total sum of them (up to some TByte). So I&#39;ve to <code>use bigint;</code>. in some way. On the other hand there is these fine granular  statistic stuff of the transfer rate with some MBytes/s. that can be placed in the <code>{no bigint ...}</code>.  Thanks again"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 439, "user_id": 3338646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TQCYu.jpg?s=128&g=1", "display_name": "huckfinn", "link": "https://stackoverflow.com/users/3338646/huckfinn"}, "edited": false, "score": 0, "creation_date": 1576226604, "post_id": 59311045, "comment_id": 104838310, "body": "Perl is usually built with 64-bit ints. You can check using <code>perl -V:uvsize</code>. If this gives 8, 64-bit unsigned ints are used. If your Perl doesn&#39;t support 64-bit ints, just build one that does in your home directory instead of using Matg::BigInt. It&#39;s actually quite easy."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 439, "user_id": 3338646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TQCYu.jpg?s=128&g=1", "display_name": "huckfinn", "link": "https://stackoverflow.com/users/3338646/huckfinn"}, "edited": false, "score": 0, "creation_date": 1576226759, "post_id": 59311045, "comment_id": 104838375, "body": "Even if your Perl doesn&#39;t support 64-bit ints, it probably supports floats with 53 bits of precision. (<code>perl -V:nvsize</code> returns <code>8</code>.) Such a Perl can accurately store the numbers up to 9,0007 T. See <a href=\"https://stackoverflow.com/q/25081972/589924\">Maximum integer in Perl</a>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1576178136, "last_edit_date": 1576178136, "creation_date": 1576176546, "answer_id": 59311045, "question_id": 59302399, "link": "https://stackoverflow.com/questions/59302399/how-to-prevent-that-a-floating-point-divistion-turns-into-integer-devision-by-me/59311045#59311045", "title": "How to prevent that a floating point divistion turns into integer devision by measuruing time intervals in seconds of type float", "body": "<p><code>use bigint;</code> effectively causes <code>1.0E9</code> to be replaced with <code>Math::BigInt-&gt;new(1.0E9)</code>.</p>\n\n<p>Furthermore, Math::BigInt overrides division when at least one of its operands is a Math::BigInt object. The override cause the result to be a Math::BigInt object. </p>\n\n<p><code>use bigint;</code> can therefore have large effects at a distance. As such, I personally find <code>use bigint;</code> far too magical. I'd much rather use <code>Math::BigInt-&gt;new(...)</code> where appropriate rather than having <code>use bigint;</code> convert all my numerical constants into Math::BigInt objects.</p>\n\n<p>But you went the other way. Not only are you using <code>use bigint;</code>, you are using it when you obviously don't want its effects. At the very least, use <code>no bigint;</code> inside of <code>diffTime</code> so the numerical constants in that sub aren't automatically wrapped into Math::BigInt objects.</p>\n\n<pre><code>use bigint; \n\n# bigint isn't used by DateTime::Duration\nmy $nano = do { no bigint; 13552000 };\n\nsay $nano/1E9;                        # 0\nno bigint;\nsay $nano/1E9;                        # 0.013552\n</code></pre>\n\n<p>But like I said above, I recommend avoiding <code>use bigint;</code> alltogether in favour of explicitly creating Math::BigInt objects where appropriate, which is not at all in your case.</p>\n\n<pre><code>my $nano = 13552000;\nsay $nano/1E9;                        # 0.013552\n</code></pre>\n\n<hr>\n\n<p>If you need to deal with Math::BigInt objects for whatever reason, and you need to perform floating point operations on them, the solution is to convert the Math::BigInt object into an ordinary scalar or a Math::BigFloat (or Math::BigRat) object.</p>\n\n<p>One can convert a Math::BigInt object into an ordinary scalar using <code>$x-&gt;numify</code>. This may overflow if the value is too large.</p>\n\n<p>One can convert a Math::BigInt object into a Math::BigFloat object using <code>Math::BigFloat-&gt;new($x)</code>.</p>\n\n<pre><code>use bigint; \n\nuse Math::BigFloat;\n\n# bigint isn't used by DateTime::Duration\nmy $nano = do { no bigint; 13552000 };\n\nsay $nano/1E9;                        # 0\nsay $nano/(1E9-&gt;numify);              # 0.013552\nsay $nano/Math::BigFloat-&gt;new(1E9);   # 0.013552\n</code></pre>\n\n<p>Don't use <code>sprintf</code> as you did. That will cause a needless precision loss.</p>\n"}], "owner": {"reputation": 439, "user_id": 3338646, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/TQCYu.jpg?s=128&g=1", "display_name": "huckfinn", "link": "https://stackoverflow.com/users/3338646/huckfinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 59311045, "answer_count": 1, "score": 1, "last_activity_date": 1576178136, "creation_date": 1576146157, "last_edit_date": 1576154440, "question_id": 59302399, "link": "https://stackoverflow.com/questions/59302399/how-to-prevent-that-a-floating-point-divistion-turns-into-integer-devision-by-me", "title": "How to prevent that a floating point divistion turns into integer devision by measuruing time intervals in seconds of type float", "body": "<p>I try to calculate a transfer rate for a bulk copy process using perl version 5.20 under Freebsd 12. I get strange results, because values in a sub-second interval are always zero, despite of using a float division to get a fractal second duration entry.</p>\n\n<p><strong>Details:</strong></p>\n\n<p>For the measurement I use DateTime::Hires and abstracted the time mark &amp; difference in two sub routines called <code>markTime</code> and <code>diffTime</code>. To see what is going one each step is printed.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/env perl\nuse v5.20.1;\nuse warnings;\nuse strict;\nuse bigint;\nuse Time::HiRes qw(usleep nanosleep);\nuse DateTime::HiRes;\nuse Scalar::Util::Numeric;\n\n# Set the total size of an object \nmy $ttlSize = 1E3;\n\n# Set the start time\nmy $startTime = &amp;markTime('START');\n\n# Sleep 12500 \u00b5s\nusleep(12500);\n\n# Calculate the elapsed time\nmy $runTime =  &amp;diffTime($startTime);\n\n# Calculate the rate in Bytes per second\nmy $rate =  $ttlSize/$runTime;\n\n# Print it\nprint \"RATE: $rate Bytes/s\\n\";\n\n# Routine to set a timestamp \nsub markTime () {\n    my $prefix =  shift;\n    $prefix ='NOW' if not $prefix;\n    my $now =  DateTime::HiRes-&gt;now;\n    print\"MARK.$prefix: \",$now-&gt;strftime( '%Y-%m-%d-%H-%M-%S.%N' ),\"\\n\";\n    return $now;\n}\n\n# Routine calc the difference\nsub diffTime () {\n    my $start = shift;\n    # Calculate the duration\n    my $now  =  &amp;markTime('DIFF');\n    my $dur  =  $now - $start;\n    my $nano =  $dur-&gt;in_units('nanoseconds');\n\n    # Original dateTime duration is integer\n    print \"DT.DUARTION: \",$nano,\" ns  IS.INT: \",\n        Scalar::Util::Numeric::isint($nano),\"\\n\";\n\n    # Calc values for mano, micro, milli and seconds\n    my $math_ns  = sprintf(\"%e\",$nano);\n    my $math_mus = sprintf(\"%e\",$math_ns/1.0E3);\n    my $math_ms  = sprintf(\"%e\",$math_ns/1.0E6);\n    my $math_s   = sprintf(\"%e\",$math_ns/1.0E9);\n    # Show the calculations\n    print\"MATH: \",$math_ns,\" ns\\n\";\n    print\"MATH: \",$math_mus,\" \u00b5s\\n\";\n    print\"MATH: \",$math_ms,\" ms\\n\";\n    print\"MATH: \",$math_s,\" s\\n\";\n    # Check if the stuff ist float\n    print \"TIME.SECS: \", $math_ns*1.0E-9,\n        \" TIME.NANO: \"   ,$math_ns,\n        \" IS.FLOAT: \"  ,Scalar::Util::Numeric::isfloat($math_ns),\"\\n\";\n    return $math_s;\n}\n</code></pre>\n\n<p>The result shows, that the sub-second float value for <code>runtime</code> is \"cutted\" by the division and the transfer rate becomes INF, despite of using a float divistion operation. </p>\n\n<pre><code>MARK.START: 2019-12-12-10-12-33.954870000\nMARK.DIFF: 2019-12-12-10-12-33.968422000\nDT.DUARTION: 13552000 ns  IS.INT: 1\nMATH: 1.355200e+07 ns\nMATH: 1.355200e+04 \u00b5s\nMATH: 1.300000e+01 ms\nMATH: 0.000000e+00 s\nTIME.SECS: 0 TIME.NANO: 1.355200e+07 IS.FLOAT: 1\nRATE: inf Bytes/s\n</code></pre>\n\n<p>What do I've to do, to get a correct value of 0.013552 for the <code>$runtime</code> variable?</p>\n\n<p>Dump values:</p>\n\n<pre><code>---NANO---\nSV = PVNV(0x8029cf9f0) at 0x8031c6408\n  REFCNT = 1\n  FLAGS = (IOK,NOK,POK,IsCOW,pIOK,pNOK,pPOK)\n  IV = 13574000\n  NV = 13574000\n  PV = 0x8031ab5d0 \"13574000\"\\0\n  CUR = 8\n  LEN = 10\n  COW_REFCNT = 1\n\n---MATH_NS---\nSV = PV(0x802cb8900) at 0x8031c64e0\n  REFCNT = 1\n  FLAGS = (POK,IsCOW,pPOK)\n  PV = 0x8031ab0f0 \"1.357400e+07\"\\0\n  CUR = 12\n  LEN = 16\n  COW_REFCNT = 2\n\n---MATH_NS/1E9---\nSV = PV(0x802d18b50) at 0x802f19bb8\n  REFCNT = 1\n  FLAGS = (TEMP,ROK)\n  RV = 0x8031d97c8\n  SV = PVHV(0x800a8a560) at 0x8031d97c8\n    REFCNT = 2\n    FLAGS = (OBJECT,SHAREKEYS)\n    STASH = 0x8016910d8 \"Math::BigInt\"\n    ARRAY = 0x80323cdc0  (0:7, 2:1)\n    hash quality = 62.5%\n    KEYS = 2\n    FILL = 1\n    MAX = 7\n    Elt \"value\" HASH = 0x7025df17\n    SV = IV(0x803162b60) at 0x803162b70\n      REFCNT = 1\n      FLAGS = (ROK)\n      RV = 0x801acca08\n      SV = PVAV(0x800a894d8) at 0x801acca08\n        REFCNT = 1\n        FLAGS = (OBJECT)\n        STASH = 0x801692e70 \"Math::BigInt::Calc\"\n        ARRAY = 0x802d3bb18\n        FILL = 0\n        MAX = 0\n        FLAGS = (REAL)\n        Elt No. 0\n        SV = IV(0x800b19ae8) at 0x800b19af8\n          REFCNT = 1\n          FLAGS = (IOK,pIOK)\n          IV = 0\n    Elt \"sign\" HASH = 0xc9f40697\n    SV = PV(0x802cb8aa0) at 0x8031c6078\n      REFCNT = 1\n      FLAGS = (POK,IsCOW,pPOK)\n      PV = 0x8017af0f0 \"+\"\\0\n      CUR = 1\n      LEN = 10\n      COW_REFCNT = 1\n  PV = 0x8031d97c8 \"\"\n  CUR = 0\n  LEN = 0\n</code></pre>\n\n<p><strong>Correction of diffTime with Math::BigFloat</strong></p>\n\n<p>So I worked it out, that in the program <code>use bigint;</code> (now invoked in the example) is the trouble maker and will have effects on all divisions. The work around is:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub diffTimeBigFloat () {\n    my $start = shift;\n    # Calculate the duration\n    my $now  =  &amp;markTime('DIFF');\n    my $dur  =  $now-&gt;subtract_datetime_absolute($start);\n    my $nano =  $dur-&gt;in_units('nanoseconds');\n    # Original dateTime Duration\n    print \"DT.DUARTION: \",$nano,\" ns  IS.INT: \",\n        Scalar::Util::Numeric::isint($nano),\"\\n\";\n\n    # Calc values for mano, micro, milli and seconds\n    my $math_s  =  Math::BigFloat-&gt;new(sprintf(\"%sE-9\",$nano));\n    print\"MATH: \",$math_s,\" s\\n\";\n    print \"TIME.SECS: \", $math_s, \n          \" TIME.NANO: \", $math_s*1E9,\n          \" IS.FLOAT: \" ,Scalar::Util::Numeric::isfloat($math_s),\"\\n\";\n    return $math_s;\n}\n</code></pre>\n"}, {"tags": ["python", "database", "perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 2, "creation_date": 1576131855, "post_id": 59298237, "comment_id": 104801103, "body": "Why don&#39;t you want to make a new connection?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1576132896, "post_id": 59298237, "comment_id": 104801436, "body": "In theory, you can pass file handles (incl sockets) between processes on some systems, but I&#39;m not sure how&#39;d you go about getting the handle from the C library used by the Perl module, and I really don&#39;t see the use of having a socket to the server. It&#39;s not like you can create Python database connection object around it."}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 4, "creation_date": 1576137021, "post_id": 59298237, "comment_id": 104802977, "body": "Looking at the other comments, I think this may be a case of the <a href=\"https://meta.stackexchange.com/q/66377/628382\">XY problem</a>. Another useful resource: <a href=\"http://xyproblem.info\" rel=\"nofollow noreferrer\">xyproblem.info</a>."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1576140105, "post_id": 59298237, "comment_id": 104804211, "body": "<a href=\"http://sqlrelay.sourceforge.net\" rel=\"nofollow noreferrer\">sqlrelay.sourceforge.net</a> ftw"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1576152745, "post_id": 59298237, "comment_id": 104811092, "body": "Fetch the data using the Perl script, then send that data as JSON to Python?"}], "answers": [{"tags": [], "owner": {"reputation": 11918, "user_id": 12098405, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C7IUyuZ5qqE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rehqQyGdh463Xz2DY8S4TYPhnDvzA/photo.jpg?sz=128", "display_name": "dash-o", "link": "https://stackoverflow.com/users/12098405/dash-o"}, "is_accepted": true, "score": 0, "last_activity_date": 1576941620, "creation_date": 1576941620, "answer_id": 59437378, "question_id": 59298237, "link": "https://stackoverflow.com/questions/59298237/can-a-db-handle-be-passed-from-a-perl-script-to-a-python-script/59437378#59437378", "title": "Can a db handle be passed from a perl script to a python script?", "body": "<p>There answer is that almost all databases (Oracle, MySQL, Postgresql) will NOT allow you to pass open DB connections between processes (even parent/child). This is a limit on the databases connection, which will usually be associated with lot of state information.</p>\n\n<p>If it was possible to 'share' such a connection, it will be a challenge for the system to know where to ship the results for queries sent to the database (will the result go to the parent, or to the child ?).</p>\n\n<p>Even if it is possible somehow to forward connection between processes, trying to pass a complex object (database connection is much more the socket) between Perl (usually DBI), and Python is close to impossible.</p>\n\n<p>The 'proper' solution is to pass the database connection string, username, and password to the Python process, so that it can establish it's own connection.</p>\n"}], "owner": {"reputation": 39, "user_id": 12522510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/035385441f71a7b48cca26bfe54cef8b?s=128&d=identicon&r=PG&f=1", "display_name": "Uzumaki Naruto", "link": "https://stackoverflow.com/users/12522510/uzumaki-naruto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "accepted_answer_id": 59437378, "answer_count": 1, "score": 0, "last_activity_date": 1576941620, "creation_date": 1576128574, "question_id": 59298237, "link": "https://stackoverflow.com/questions/59298237/can-a-db-handle-be-passed-from-a-perl-script-to-a-python-script", "title": "Can a db handle be passed from a perl script to a python script?", "body": "<p>I've been trying to look for ways to call my python script from my perl script and pass the database handle from there while calling it. I don't want to establish another connection in my python script and just use the db handle which is being used by the perl script. Is it even possible and if yes then how?</p>\n"}, {"tags": ["bash", "perl"], "answers": [{"comments": [{"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 0, "creation_date": 1576137343, "post_id": 59297572, "comment_id": 104803093, "body": "The <code>rename</code> command that is part of the util-linux package -- won&#39;t."}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "reply_to_user": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 0, "creation_date": 1576158034, "post_id": 59297572, "comment_id": 104813992, "body": "Yes, as explained deeply"}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 1, "last_activity_date": 1576158217, "last_edit_date": 1576158217, "creation_date": 1576123697, "answer_id": 59297572, "question_id": 59297304, "link": "https://stackoverflow.com/questions/59297304/sort-directories-in-bash/59297572#59297572", "title": "Sort directories in bash", "body": "<p>One solution is to rename directories before with <code>000</code> integer prefix :</p>\n\n<pre><code>find . -type d -name '*Label_*' -exec \\\n    rename 's/Label_(\\d+)/sprintf \"Label_%.03d\", $1/e' {} \\;\n</code></pre>\n\n<p><img src=\"https://pix.toile-libre.org/upload/original/1377510865.png\" alt=\"warning\"> <strong>There are other tools with the same name which may or may not be able to do this, so be careful.</strong><br>\n<br/></p>\n\n<p>If you run the following command (<code>GNU</code>)</p>\n\n<pre><code>$ file \"$(readlink -f \"$(type -p rename)\")\"\n</code></pre>\n\n<p>and you have a result that contains <code>Perl script, ASCII text executable</code> and not containing <code>ELF</code>, then this seems to be the right tool =)</p>\n\n<p>If not, to make it the default (usually already the case) on <code>Debian</code> and derivative like <code>Ubuntu</code> :</p>\n\n<pre><code>$ sudo update-alternatives --set rename /path/to/rename\n</code></pre>\n\n<p>Replace <code>/path/to/rename</code> to the path of your <code>perl rename</code> executable.</p>\n\n<hr>\n\n<p>If you don't have this command, search your package manager to install it or <a href=\"https://metacpan.org/module/RMBARKER/File-Rename-0.20/rename.PL\" rel=\"nofollow noreferrer\">do it manually</a> (no deps...)</p>\n\n<hr>\n\n<p><sub><sup>This tool was originally written by Larry Wall, the Perl's dad.</sup></sub></p>\n"}, {"tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 1, "last_activity_date": 1576123977, "creation_date": 1576123977, "answer_id": 59297607, "question_id": 59297304, "link": "https://stackoverflow.com/questions/59297304/sort-directories-in-bash/59297607#59297607", "title": "Sort directories in bash", "body": "<p>Another solution is to use <code>sort</code> :</p>\n\n<pre><code>for folder in $(printf '%s\\n' $1/*/ | sort -V); do\n    ...\n</code></pre>\n"}], "owner": {"reputation": 341, "user_id": 8034918, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/dfcf27265ea67da520011ad96f96b53c?s=128&d=identicon&r=PG&f=1", "display_name": "user8034918", "link": "https://stackoverflow.com/users/8034918/user8034918"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1576158217, "creation_date": 1576121244, "question_id": 59297304, "link": "https://stackoverflow.com/questions/59297304/sort-directories-in-bash", "title": "Sort directories in bash", "body": "<p>I want to go through the content of each directory and select the files within each directory randomly the code is working fine. However when it is traversing through directories, It doesn't process them in a sorted way. For example, I have directories named as <code>Label_1</code>, <code>Label_2</code>, <code>Label_3</code>,..., <code>Label_83</code>,\nbut when the script is running it is echoing <code>Label_1</code>, <code>Label_2</code>, <code>Label_10</code>,... \nI want this echoing to happen in a sorted way like after <code>Label_2</code> should be <code>Label_3</code> not <code>label_10</code>as it affects the final result in train.list and test.list. Is there anyway how I can sort these directories so that it would be written in the output files in the sorted way?</p>\n\n<pre><code>#!/bin/bash\n&gt; train.list\n&gt; test.list\nCOUNT=-1\nfor folder in $1/*\ndo\n        echo $folder\n        COUNT=$[$COUNT + 1]\n        for imagesFolder in \"$folder\"/*\n        do\n                if ( (( ( RANDOM % $2 )  ))  &gt; 1 ); then\n                        echo \"$imagesFolder\" $COUNT &gt;&gt; train.list\n                else\n                        echo \"$imagesFolder\" $COUNT &gt;&gt; test.list\n                fi\n                done\ndone\n</code></pre>\n"}]