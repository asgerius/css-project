[{"tags": ["perl"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 2, "creation_date": 1432166008, "post_id": 30362170, "comment_id": 48816031, "body": "If I remove the ampersands in your sub definitions (so it compiles), it works as you say you want it to.  Can you post some working code that exhibits this problem?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1432166789, "post_id": 30362170, "comment_id": 48816207, "body": "yes, show how you are actually constructing the list in myFunction.  what you show works the way you want."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432225322, "post_id": 30362170, "comment_id": 48847804, "body": "Please don&#39;t fix the problems in your original post:: it makes nonsense of the solutions that were written to help you"}, {"owner": {"reputation": 1286, "user_id": 673496, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/7d67ffb826a7273e252fef415283cce7?s=128&d=identicon&r=PG", "display_name": "rhavin", "link": "https://stackoverflow.com/users/673496/rhavin"}, "edited": false, "score": 0, "creation_date": 1432234093, "post_id": 30362170, "comment_id": 48853151, "body": "I just fixed syntax errors not present in my own code but in the short example i gave outlining the problem"}], "answers": [{"comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 4, "creation_date": 1432172417, "post_id": 30362566, "comment_id": 48817689, "body": "Your last bullet point (&quot;Don&#39;t use upper case letters in local identifiers&quot;) is not nearly as widely accepted as your other points.  That&#39;s a local coding style issue; lots of people use camelCase function names.  I&#39;ve done it myself."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 1, "creation_date": 1432178670, "post_id": 30362566, "comment_id": 48819166, "body": "@cjm: Maybe so, but that doesn&#39;t make camel case a good idea. It is mainly used by programmers coming from a Java or Visual Basic background, and very rarely by those whose primary language is Perl. There is no Perl style guide that I know of that recommends camel case, and <a href=\"http://perldoc.perl.org/perlstyle.html\" rel=\"nofollow noreferrer\"><code>perlstyle</code></a> points out that <i>\u201cIt is generally easier to read <code>$var_names_like_this</code> than <code>$VarNamesLikeThis</code>, especially for non-native speakers of English\u201d</i>. <a href=\"http://bit.ly/1LnqXUQ\" rel=\"nofollow noreferrer\">This blog post</a> is a useful discussion of Perl naming conventions from a learning programmer."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 7, "last_activity_date": 1432167975, "creation_date": 1432167975, "answer_id": 30362566, "question_id": 30362170, "link": "https://stackoverflow.com/questions/30362170/perl-how-do-i-return-undef-into-a-list/30362566#30362566", "title": "Perl: how do I return undef into a list?", "body": "<p>I don't know what makes you think you're not getting <code>undef</code> in the list. However, there are a number of problems with your code</p>\n\n<ul>\n<li><p>Don't use an ampersand <code>&amp;</code> when defining subroutines \u2014 it is a syntax error</p></li>\n<li><p>Don't use an ampersand when calling subroutines. That hasn't been necessary since Perl 4 over twenty years ago</p></li>\n<li><p>Don't use prototypes (the parentheses after the subroutine name in the definition) as they don't do what you think, and they're meant for something quite specialised</p></li>\n<li><p>Don't use upper case letters in local identifiers: they are reserved for global identifiers like package names</p></li>\n</ul>\n\n<p>This rewrite of your code fixes the syntax errors and corrects the above problems. As you see, the second element of the returned list is <code>undef</code></p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub my_function {\n  return (\n    my_other_function_a(),\n    my_other_function_b(),\n    my_other_function_c()\n  );\n}\n\nsub my_other_function_a {\n  return 'A';\n}\n\nsub my_other_function_b {\n  return undef;\n}\n\nsub my_other_function_c {\n  return 'C';\n}\n\n\nuse Data::Dump;\ndd [ my_function ];\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>[\"A\", undef, \"C\"]\n</code></pre>\n"}], "owner": {"reputation": 1286, "user_id": 673496, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/7d67ffb826a7273e252fef415283cce7?s=128&d=identicon&r=PG", "display_name": "rhavin", "link": "https://stackoverflow.com/users/673496/rhavin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432234237, "creation_date": 1432165266, "last_edit_date": 1432234237, "question_id": 30362170, "link": "https://stackoverflow.com/questions/30362170/perl-how-do-i-return-undef-into-a-list", "title": "Perl: how do I return undef into a list?", "body": "<p>I have a little problem in Perl. Basically, i do something like this:</p>\n\n<pre><code>sub myFunction\n{\n    return (&amp;myOtherFnA(),&amp;myOtherFnB(),&amp;myOtherFnC());\n}\nsub myOtherFnA() {return 'A';}\nsub myOtherFnB() {return undef;}\nsub myOtherFnC() {return 'C';}\n</code></pre>\n\n<p>my Problem is: when myOtherFnB() is returning <em>undef</em>, i want a list that has <em>undef</em> as 2nd element. But when myOtherFnB() does so, i just get a list with 2 elements, that of myOtherFnA() and that of myOtherFnC(). I get:</p>\n\n<p>('A','C')</p>\n\n<p>but i want to get:</p>\n\n<p>('A', undef, 'C')</p>\n\n<p>What syntax do I need to use to stop Perl from removing the return of myOtherFnB() from the list if it is <em>undef</em> and actually just put an element of undef into the list?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4921615"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1432148416, "post_id": 30356957, "comment_id": 48808169, "body": "I&#39;m sorry I don&#39;t understand what it means is it like          this                                                                                                                        my $filename1 = &#39;lookup.txt&#39;;          open(my $fh, &#39;&lt;:encoding(UTF-8)&#39;, $filename);        Is it like this?"}, {"owner": {"reputation": 2595, "user_id": 3897316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6cf468fea626f3aec65a199e2f67b309?s=128&d=identicon&r=PG&f=1", "display_name": "Degustaf", "link": "https://stackoverflow.com/users/3897316/degustaf"}, "edited": false, "score": 0, "creation_date": 1432149298, "post_id": 30356957, "comment_id": 48808689, "body": "@lux That should fix the warning.  And, possibly, what is wrong with your program in general."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432151367, "post_id": 30356957, "comment_id": 48809827, "body": "Is that data fixed-width, whitespace-separated or tab-separated?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4921615"}, "edited": false, "score": 0, "creation_date": 1432154226, "post_id": 30356957, "comment_id": 48811508, "body": "It is tab-separated. I feel my while loop and split function is wrong."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432168722, "post_id": 30356957, "comment_id": 48816697, "body": "Why does your code split on commas <code>,</code> if the data is tab-separated?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1432168780, "post_id": 30356957, "comment_id": 48816722, "body": "Do you have multiple accounts? <a href=\"http://stackoverflow.com/q/30337959/\">This question</a> is almost identical and presented in a very similar way, and the <code>lux</code> account is only two days old"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4921615"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432169510, "post_id": 30356957, "comment_id": 48816909, "body": "That may be the reason my program is not running I guess. Thanks @Borodin I was able to print the rows using this program. I was not successful in printing the header it did not print. I&#39;m editing my question to post that there."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4921615"}, "edited": false, "score": 0, "creation_date": 1432231328, "post_id": 30356957, "comment_id": 48851480, "body": "I am still not able to resolve why my header is not printing using the program above. Line 28:  $ids_to_lookup{$fields[1]}{$fields[3]}; . I used the sample test data from my question now. Please any help on that is much expected.Thx"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4921615"}, "edited": false, "score": 0, "creation_date": 1432239812, "post_id": 30356957, "comment_id": 48856341, "body": "Yes I&#39;m not using that account now."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4921615"}, "edited": false, "score": 0, "creation_date": 1432245285, "post_id": 30356957, "comment_id": 48859206, "body": "I am just wondering if my posts are visible to everyone, I was having some problems with my browser"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432288385, "post_id": 30356957, "comment_id": 48875009, "body": "Why do you have multiple accounts in the first place? You must decide whether you want to be <code>lux</code>, <code>marko</code> or <code>rajal2</code> and stick with it please"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 1, "last_activity_date": 1432170198, "last_edit_date": 1432170198, "creation_date": 1432150913, "answer_id": 30358970, "question_id": 30356957, "link": "https://stackoverflow.com/questions/30356957/comparing-two-text-files-and-printing-out-matching-ids-sub-ids-and-timestamp-re/30358970#30358970", "title": "Comparing two text files and printing out matching ids, sub_ids and timestamp related to the id", "body": "<pre><code>#!/bin/env perl\nuse warnings;\nuse strict; \nuse autodie;\nuse open qw/ :std :encoding(UTF-8) /;\n\nmy $lookup_qfn = 'lookup.txt';\nmy $master_qfn = 'c73p1avfusevrmtop.txt';\n\nmy %ids_to_lookup;\n{\n    open(my $fh, '&lt;', $lookup_qfn);\n    &lt;$fh&gt;;  # Header\n    while (&lt;$fh&gt;) {\n        chomp;\n        my @fields = split /\\t/;\n        ++$ids_to_lookup{$fields[0]}{$fields[1]};\n    }\n}\n\nmy @output;\n{\n    open(my $fh, '&lt;', $master_qfn);\n    &lt;$fh&gt;;  # Header\n    print(join(\"\\t\", \"IRR ID\", \"Rev ID\", \"Date Released\"), \"\\n\");\n    while (&lt;$fh&gt;) {\n        chomp;\n        my @fields = split /\\t/;\n        next if !$ids_to_lookup{$fields[1]}{$fields[3]};\n\n        print(join(\"\\t\", @fields[3,2,5]), \"\\n\");\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 0, "last_activity_date": 1432152093, "last_edit_date": 1432152093, "creation_date": 1432151534, "answer_id": 30359157, "question_id": 30356957, "link": "https://stackoverflow.com/questions/30356957/comparing-two-text-files-and-printing-out-matching-ids-sub-ids-and-timestamp-re/30359157#30359157", "title": "Comparing two text files and printing out matching ids, sub_ids and timestamp related to the id", "body": "<p>Not sure how to sort on date properly, but apart from that give this a go:</p>\n\n<pre><code>use warnings;\nuse strict; \n\n\nopen my $file1, '&lt;', 'in1.txt' or die $!;\nopen my $file2, '&lt;', 'in2.txt' or die $!;\n\nmy %data;\nwhile(&lt;$file1&gt;){\n    chomp;\n    next if /^Name/;\n    my @split = split(/\\s+/);\n    $data{$split[0]} = $split[1];\n}\n\nmy %match;\nwhile(&lt;$file2&gt;){\n    chomp;\n    next if /^Type/;\n    my @split = split;\n    my ($name, $rev_id, $irr_id, $date, $time) = ($split[1], $split[2], $split[3], $split[7], $split[8]);\n\n    push @{$match{$name}{$date}}, $rev_id, $irr_id, $time;\n}\n\nforeach my $name (keys %match){\n    foreach my $date (sort {  $match{$name}{$a} cmp $match{$name}{$b}} keys $match{$name}){\n        my ($rev_id, $irr_id, $time) = @{$match{$name}{$date}};\n        print \"$irr_id\\t$rev_id\\t$date\\t$time\\n\";\n\n     }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4921615"}, "edited": false, "score": 0, "creation_date": 1432159973, "post_id": 30361183, "comment_id": 48814173, "body": "Could you please share your output as to what you got after plugging in the time::piece and use open qw/ :std:encoding(UTF-8) libraries"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4921615"}, "edited": false, "score": 0, "creation_date": 1432160237, "post_id": 30361183, "comment_id": 48814270, "body": "This is the error message I&#39;m getting:                       C:\\Strawberry\\perl\\bin&gt;perl newlist.pl Error parsing time at C:/Strawberry/perl/lib/Time/Piece.pm line 469, &lt;$_[...]&gt; line 41."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432160335, "post_id": 30361183, "comment_id": 48814313, "body": "@lux: I&#39;m afraid I posted my code far too early. Try it now"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1432164194, "post_id": 30361183, "comment_id": 48815498, "body": "@lux: Please stop editing people&#39;s solutions in order to comment on them. If you want to comment on a solution then use a comment, or to provide more information you can edit your own question"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4921615"}, "edited": false, "score": 0, "creation_date": 1432164618, "post_id": 30361183, "comment_id": 48815645, "body": "I apologize for that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4921615"}, "edited": false, "score": 0, "creation_date": 1432167269, "post_id": 30361183, "comment_id": 48816338, "body": "Why do I still get that error message I copied in the code. I wish it could print it tabulated as yours. But I still couldn&#39;t print it because of the libraries"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432168233, "post_id": 30361183, "comment_id": 48816564, "body": "@lux: Please post a comment so that other people can see what error message you&#39;re getting. Solutions on Stack Overflow are intended to be useful to other people besides the poster of the original question. You are getting that error because your actual data is different from what you have shown. If you create files with the data from your question then there will be no errors"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4921615"}, "edited": false, "score": 0, "creation_date": 1432232539, "post_id": 30361183, "comment_id": 48852176, "body": "I like to use this program to validate my current program. Unfortunately, the libraries are not getting installed in my required directories. Is there any way I could run this program without the libraries. Is it possible to give me the traditional way of printing the expected output without the Time::Piece and open qw/ :std :encoding(UTF-8) . I&#39;m sure with my practice and fluency with Perl I will get the knitty-gritties of Perl and make it more friendlier to me."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4921615"}, "edited": false, "score": 0, "creation_date": 1432282820, "post_id": 30361183, "comment_id": 48871594, "body": "How can I make the program print (Time::piece) in reverse chronological order?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1432493803, "last_edit_date": 1432493803, "creation_date": 1432159454, "answer_id": 30361183, "question_id": 30356957, "link": "https://stackoverflow.com/questions/30356957/comparing-two-text-files-and-printing-out-matching-ids-sub-ids-and-timestamp-re/30361183#30361183", "title": "Comparing two text files and printing out matching ids, sub_ids and timestamp related to the id", "body": "<p>This will work for you. I think ikegami overlooked the requirement to sort the output as his solution contains no code for it</p>\n\n<p>I'm assuming that the Irr-ID is sufficient to identify a record, and there can't be multiple entries with the same ID and a different name</p>\n\n<p>Also, this sorts the output in chronological order as you say, even though your requested output is in <em>reverse</em> chronological order</p>\n\n<pre><code>#!/bin/env perl\n\nuse strict; \nuse warnings;\nuse 5.010;\nuse autodie;\n\nuse open qw/ :std :encoding(UTF-8) /;\n\nuse Time::Piece;\n\nmy ($filename1, $filename2) = qw/ lookup.txt c73p1avfusevrmtop.txt /;\n\nmy %ids_required;\n\nopen my $fh, '&lt;', $filename1;\nwhile ( &lt;$fh&gt; ) {\n  my $irr_id = (split)[1];\n  ++$ids_required{$irr_id};\n}\n\nmy @rows;\n\nopen $fh, '&lt;', $filename2;\nwhile ( &lt;$fh&gt; ) {\n\n  my ($rev_id, $irr_id) = (split)[2,3];\n  next unless $ids_required{$irr_id};\n\n  my $date_time = join ' ', m&lt; (\\d{1,2}/\\d{1,2}/\\d{4}) \\s+ (\\d{1,2}:\\d{2}) &gt;x;\n  $date_time = Time::Piece-&gt;strptime($date_time, '%m/%d/%Y %H:%M');\n  push @rows, [ $irr_id, $rev_id, $date_time ];\n}\n\nprint join(\"\\t\", 'IRR ID', 'Rev ID', 'Date Released'), \"\\n\";\nprint join(\"\\t\", @$_), \"\\n\" for sort { $a-&gt;[2] &lt;=&gt; $b-&gt;[2] } @rows;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>IRR ID  Rev ID  Date Released\n99034201    PROD_2_2    2/1/2015 11:27\n99034201    PROD_2_3    3/17/2015 23:51\n99034201    PROD_2_4    4/23/2015 10:27\n99034201    PROD_2_5    5/3/2015 6:59\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4921615"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1432493803, "creation_date": 1432144282, "last_edit_date": 1432237168, "question_id": 30356957, "link": "https://stackoverflow.com/questions/30356957/comparing-two-text-files-and-printing-out-matching-ids-sub-ids-and-timestamp-re", "title": "Comparing two text files and printing out matching ids, sub_ids and timestamp related to the id", "body": "<p>I'm trying to compare two txt table files file 1.txt (lookup table) and    file2.txt (master file) and print the matching ids and two more columns   from the master file (Rev_Id and Date Released).</p>\n\n<p>File 1:lookup table</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Name                IRR ID\nslic73p1hsicbxttop  99034438\nc73p1avrsrldo150top 99034238\nc73p1avrfusevrmtop  99034201 \n</code></pre>\n\n<p>File 2:masterfile</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Type Name               Rev ID   IRR ID   PP Group      Date Released   PP Category                              \nComp c73p1avrfusevrmtop PROD_2_5 99034201 SEG RIP Reuse 5/3/2015 6:59   Hard   \nComp c73p1avrfusevrmtop PROD_2_4 99034201 SEG RIP Reuse 4/23/2015 10:27 Hard   \nComp c73p1avrfusevrmtop PROD_2_3 99034201 SEG RIP Reuse 3/17/2015 23:51 Hard   \nComp c73p1avrfusevrmtop PROD_2_2 99034201 SEG RIP Reuse 2/1/2015 11:27  Hard\n</code></pre>\n\n<p>Expected Output: there are also other rows in the table which doesn't match</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>IRR ID   Rev ID   Date Released (date to be printed in a chronological order)\n99034201 PROD_2_5 5/3/2015 6:59    \n99034201 PROD_2_4 4/23/2015 10:27  \n99034201 PROD_2_3 3/17/2015 23:51  \n99034201 PROD_2_2 2/1/2015 11:27  \n</code></pre>\n\n<p>I got my code to work finally to work: This is my code but it is doing a different job to my requirement. My requirement was to get the IRR ID from the lookup.txt and match it with c73p1avrfusevrmtop.txt (master table) and print ONLY the matching IRR ID, Rev IDs (related to that IRR ID) and the date released of the Rev IDs. But my program is simply printing all the IRR IDs, RevIDs and Date Released without matching them with the lookup table. I am not sure where the bug is in my program. This is my program:</p>\n\n<pre><code>#!/bin/env perl\n#use warnings;\n use strict; \n use autodie; \n use Data::Dumper;\n\n my $lookup_qfn = 'lookup.txt';\n my $master_qfn = 'c73p1avrfusevrmtop.txt';\n\n my %ids_to_lookup;\n    {\n    open(my $fh, '&lt;:encoding(UTF-8)', $lookup_qfn);\n    &lt;$fh&gt;;  # Header\n    while (&lt;$fh&gt;) {\n       my @fields = split();\n       #print Dumper(@fields);\n       ++$ids_to_lookup{$fields[0]}{$fields[1]};\n    }\n\n}\nmy @output;\n {\n    open(my $fh, '&lt;', $master_qfn);\n    &lt;$fh&gt;;  # Header\n     print(join(\"    \", \"IRR ID\", \"Rev ID\", \"Date Released\"), \"\\n\");\n } \n\n {\n    open(my $fh, '&lt;:encoding(UTF-8)', $master_qfn);\n    &lt;$fh&gt;;  # Header\n    while (&lt;$fh&gt;) {\n       my @fields = split();\n       #print Dumper(@fields);\n       $ids_to_lookup{$fields[1]}{$fields[3]};\n\n        print(join(\"  \", @fields[3,2,7,8]), \"\\n\");\n    }\n}\n\nThis is my output:\n     IRR ID    Rev ID    Date Released\n     99034201  PROD_2_5  2015-05-03  6:59:09\n     99034201  PROD_2_4  2015-04-23  10:27:38\n     99034201  PROD_2_3  2015-03-17  23:51:23\n     99034201  PROD_2_2  2015-02-01  11:27:55\n     99034201  PROD_2_1  2014-12-26  6:43:14\n     99034201  PROD_2_0  2014-12-20  21:09:06\n     **99038319  PROD_1_7  2014-12-17  21:38:19\n     99038319  PROD_1_6  2014-12-04  6:24:26\n     99038319  PROD_1_5  2014-11-17  8:51:49**\n     99034201  POLO_2_0  2014-10-30  23:01:49\n     99034201  PROD_1_3  2014-06-16  6:58:50\n     99034201  PROD_1_2  2014-05-10  2:37:42\n     99034201  PROD_1_1  2014-04-27  22:58:48\n     99034201  PROD_1_0  2014-01-17  10:15:02\n     99034201  POLO_1_1  2014-01-07  11:18:45\n     99034201  POLO_1_0  2013-10-20  18:23:11\n     99034201  RTL1P0_1_0  2013-06-26  11:33:03\n</code></pre>\n\n<p>I know I'm bugging you guys a lot. But I just want to learn Perl with all this hard work.</p>\n"}, {"tags": ["perl", "excel", "batch-file", "multiple-languages", "vba"], "comments": [{"owner": {"reputation": 136405, "user_id": 1140579, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/TbC2t.jpg?s=128&g=1", "display_name": "Siddharth Rout", "link": "https://stackoverflow.com/users/1140579/siddharth-rout"}, "edited": false, "score": 0, "creation_date": 1432144961, "post_id": 30356878, "comment_id": 48806166, "body": "I have not worked with perl but a short google search directed me to <a href=\"http://www.codeproject.com/Articles/15698/How-to-execute-a-Perl-script-from-VBA\" rel=\"nofollow noreferrer\">This</a> Not sure if this is what you want?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1432150141, "last_edit_date": 1432150141, "creation_date": 1432149586, "answer_id": 30358571, "question_id": 30356878, "link": "https://stackoverflow.com/questions/30356878/passing-excel-vba-variables-to-perl/30358571#30358571", "title": "Passing Excel VBA variables to Perl?", "body": "<p>You can't pass <em>variables</em> to/between <em>scripts</em>, but you can pass <em>values</em> to/between <em>processes</em>.</p>\n\n<p>The number of ways of doing this is nearly infinite. The most common way to pass values from one process to another is through command-line arguments. <a href=\"http://www.codeproject.com/Articles/15698/How-to-execute-a-Perl-script-from-VBA\" rel=\"nofollow\">This</a> shows how to execute another program (such as a batch file) from VBA.</p>\n\n<p>What follows is an example of such a batch file passing arguments to a Perl script, which in turn prints them.</p>\n\n<pre><code>&gt;type a.bat\n@echo off\necho Start of batch file\nperl a.pl %*\necho End of batch file\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>&gt;type a.pl\nuse strict;\nuse warnings;\nuse feature qw( say );\nsay 'Start of Perl script';\nsay for 0+@ARGV, @ARGV;\nsay 'End of Perl script';\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>&gt;a.bat abc \"123 456\" def\nStart of batch file\nStart of Perl script\n3\nabc\n123 456\ndef\nEnd of Perl script\nEnd of batch file\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4171678, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b0af73068b64798e4a3ef4844be138fc?s=128&d=identicon&r=PG&f=1", "display_name": "excelSU", "link": "https://stackoverflow.com/users/4171678/excelsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 1, "accepted_answer_id": 30358571, "answer_count": 1, "score": -1, "last_activity_date": 1432150141, "creation_date": 1432144079, "last_edit_date": 1531161705, "question_id": 30356878, "link": "https://stackoverflow.com/questions/30356878/passing-excel-vba-variables-to-perl", "title": "Passing Excel VBA variables to Perl?", "body": "<p>Is it possible to pass variables to a perl script from excel without using Batch as a gateway (VBA -> Batch -> Perl), if not possible how can I send batch variables to Perl?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 159, "user_id": 4901229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e2d9a8327e86d597cc5313d5831369?s=128&d=identicon&r=PG", "display_name": "nbeck", "link": "https://stackoverflow.com/users/4901229/nbeck"}, "edited": false, "score": 0, "creation_date": 1432141167, "post_id": 30355705, "comment_id": 48804044, "body": "Please add some information, we can not know what you want. Why this order in your output ? what is the content of printing_summary.pl.... A better explanation of your problem will be useful to help you !"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4901122, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0b4a0baba134fbab962e06a0031ee321?s=128&d=identicon&r=PG&f=1", "display_name": "kevin su", "link": "https://stackoverflow.com/users/4901122/kevin-su"}, "edited": false, "score": 0, "creation_date": 1432182802, "post_id": 30358058, "comment_id": 48820389, "body": "why i run the script it shows bad interpreter: no such file or directory"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 67, "user_id": 4901122, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0b4a0baba134fbab962e06a0031ee321?s=128&d=identicon&r=PG&f=1", "display_name": "kevin su", "link": "https://stackoverflow.com/users/4901122/kevin-su"}, "edited": false, "score": 0, "creation_date": 1432213696, "post_id": 30358058, "comment_id": 48839140, "body": "Probably because that&#39;s not where your perl binary is located. You&#39;ll have to fix the first line (the &#39;shebang&#39; line) with the path to your perl installation."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 0, "last_activity_date": 1433011565, "last_edit_date": 1433011565, "creation_date": 1432147847, "answer_id": 30358058, "question_id": 30355705, "link": "https://stackoverflow.com/questions/30355705/use-perl-to-print-text-in-given-commend/30358058#30358058", "title": "use perl to print text in given commend", "body": "<p>It appears as though you want to simply eliminate duplicate users. Here's one way. The only difference is that the output is not sorted in the same order it came in from the file.</p>\n\n<p>It uses an external module, Getopt::Long to handle the arguments, then uses a hash to eliminate duplicates:</p>\n\n<p>Code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Getopt::Long;\n\nmy $action;\n\nGetOptions(\"a=s\" =&gt; \\$action,);\n\nif ($action eq 'printing_usage_file'){\n    print_usage_file();\n}\n\nsub print_usage_file {\n\n    open my $file, '&lt;', 'input.txt'\n      or die \"Can't open the file!: $!\";\n\n    my %user_hash;\n\n    while (my $line = &lt;$file&gt;){\n        chomp $line;\n        $user_hash{$line} = 1;\n    }\n\n    print \"\\nPrinting users:\\n\\n\";\n\n    for my $user (keys %user_hash){\n        print \"$user\\n\";\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ ./printing_summary.pl -a printing_usage_file\n\nPrinting users:\n\njohn.smith\nMarcoRibeiro\nlial_chen14\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 4616534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f9ca9d18ebd1997e06996c5e3b6a2f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Blaylock", "link": "https://stackoverflow.com/users/4616534/ian-blaylock"}, "is_accepted": false, "score": 0, "last_activity_date": 1432160620, "last_edit_date": 1432160620, "creation_date": 1432160274, "answer_id": 30361332, "question_id": 30355705, "link": "https://stackoverflow.com/questions/30355705/use-perl-to-print-text-in-given-commend/30361332#30361332", "title": "use perl to print text in given commend", "body": "<p>Assuming that I understood what you were asking, this should work.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nmy (%names,$i);\nforeach (&lt;&gt;) { $names{$_} = ++$i if !$names{$_};}\nprint \"Printing users:\\n\";\nprint $_ foreach sort {$names{$a} &lt;=&gt; $names{$b}} keys %names;\n</code></pre>\n\n<p>This displays the users in the same order they are found in the file while removing the duplicates.</p>\n\n<p>Example output:</p>\n\n<pre><code>~/oneoffscripts $ perl -a printing_summary.pl printing_usage_file\nPrinting users:\njohn.smith\nMarcoRibiero\nlial_chen14\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4901122, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0b4a0baba134fbab962e06a0031ee321?s=128&d=identicon&r=PG&f=1", "display_name": "kevin su", "link": "https://stackoverflow.com/users/4901122/kevin-su"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "closed_date": 1432163514, "accepted_answer_id": 30358058, "answer_count": 2, "score": -5, "last_activity_date": 1433011565, "creation_date": 1432140211, "question_id": 30355705, "link": "https://stackoverflow.com/questions/30355705/use-perl-to-print-text-in-given-commend", "closed_reason": "Not suitable for this site", "title": "use perl to print text in given commend", "body": "<p>I have a file name : printing_usage_file</p>\n\n<pre><code>john.smith\nMarcoRibeiro\njohn.smith\njohn.smith\nlial_chen14\n</code></pre>\n\n<p>and I need to output </p>\n\n<pre><code>Printing users:\njohn.smith\nMarcoRibeiro\nlial_chen14\n</code></pre>\n\n<p>on the screen when I use <strong>printing_summary.pl -a printing_usage_file</strong> commend.\nwhat should I write in the perl script?</p>\n"}, {"tags": ["regex", "bash", "perl", "variables", "grep"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432139484, "post_id": 30355002, "comment_id": 48802965, "body": "Variables don&#39;t interpolate inside single quotes, so <code>foo=bar; echo &#39;$foo&#39;</code> will print <code>$foo</code>, not <code>bar</code>. There&#39;s probably an easier way to do this...what exactly are you trying to accomplish? Do you just want to print everything inside the curly braces following the specified <code>MENU&gt;</code> line?"}, {"owner": {"reputation": 129, "user_id": 4921139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85966a07a7cd1424d78a247f06050e01?s=128&d=identicon&r=PG&f=1", "display_name": "Alek", "link": "https://stackoverflow.com/users/4921139/alek"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432139998, "post_id": 30355002, "comment_id": 48803331, "body": "I want to only take everything between the curly braces, nothing outside. But because there are lots of instances of them within the file itself, it makes it difficult telling <code>grep</code> which one I want. I didn&#39;t know that about the single quotes though. Can I use <code>grep -P</code> with double quotes instead?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1432145087, "post_id": 30355002, "comment_id": 48806253, "body": "Tip: <code>(?&lt;=...)...</code> can be written as <code>...\\K...</code>, which also allows &quot;variable-length&quot; patterns."}, {"owner": {"reputation": 129, "user_id": 4921139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85966a07a7cd1424d78a247f06050e01?s=128&d=identicon&r=PG&f=1", "display_name": "Alek", "link": "https://stackoverflow.com/users/4921139/alek"}, "edited": false, "score": 0, "creation_date": 1432148611, "post_id": 30355002, "comment_id": 48808309, "body": "Oh. That is a great help, thanks. Variable-length lookbehinds was such a pain when using <code>[0-9]+</code>, that&#39;s why it was in a new <code>grep</code>. I don&#39;t need it any more, but I will remember the tip for next time."}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 4921139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85966a07a7cd1424d78a247f06050e01?s=128&d=identicon&r=PG&f=1", "display_name": "Alek", "link": "https://stackoverflow.com/users/4921139/alek"}, "edited": false, "score": 1, "creation_date": 1432140509, "post_id": 30355597, "comment_id": 48803668, "body": "Ah, thank you very much, that worked perfectly. Hopefully I&#39;ll be able to use that with all the other sections of the file too. =D Sorry I can&#39;t vote you up yet. I need 15 reputation, and I&#39;ve only just joined."}], "tags": [], "owner": {"reputation": 31962, "user_id": 478288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a838e5ef0f378f35f9c7875ec37f647?s=128&d=identicon&r=PG", "display_name": "chrisaycock", "link": "https://stackoverflow.com/users/478288/chrisaycock"}, "is_accepted": true, "score": 2, "last_activity_date": 1432139884, "creation_date": 1432139884, "answer_id": 30355597, "question_id": 30355002, "link": "https://stackoverflow.com/questions/30355002/how-do-you-add-a-variable-to-a-grep-p-regex-lookaround/30355597#30355597", "title": "How do you add a variable to a grep -P regex lookaround?", "body": "<p>You can't use <em>single quotes</em> in bash with variables; use <em>double quotes</em> instead.</p>\n\n<p>I had to make some changes to your grep statement since I couldn't get it to work on my system. Here's an example that uses process substitution and redirection to obviate the need for <code>cat</code> or one-time-use variables.</p>\n\n<pre><code>echo -en $(grep -Po \"\\\"MENU&gt;$MENU_NUM&gt;[0-9]+\\\"  {.*\" &lt;(tr \"\\n\" \" \" &lt; Dialogue.txt) | grep -Po '(?&lt;={ ).*' | grep -Po '^(.*?)}' | head -c-3)\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 4921139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85966a07a7cd1424d78a247f06050e01?s=128&d=identicon&r=PG&f=1", "display_name": "Alek", "link": "https://stackoverflow.com/users/4921139/alek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 30355597, "answer_count": 1, "score": 1, "last_activity_date": 1432145083, "creation_date": 1432138149, "last_edit_date": 1432145083, "question_id": 30355002, "link": "https://stackoverflow.com/questions/30355002/how-do-you-add-a-variable-to-a-grep-p-regex-lookaround", "title": "How do you add a variable to a grep -P regex lookaround?", "body": "<p>I'm trying to create a text-based game in bash, and I need my script to look through a file and display a specific section onto the terminal using delimiters and a regex lookaround. A slight problem is that I only started learning bash this year so I'm still not very efficient with my coding; so apologies for the crudeness. My problem is is follows:</p>\n\n<p>here is a modified snippet of the file I want to search through:</p>\n\n<pre><code>\"MENU&gt;2&gt;8\"\n\n{\n\n\\e[1m\\e[33m1\\e[21m \\e[37m- \\e[33mOption one.\n\\n\\e[1m2\\e[21m \\e[37m- \\e[33mOption two.\n\\n\\e[1m3\\e[21m \\e[37m- \\e[33mOption three.\n\n}\n</code></pre>\n\n<p>The title is what I grep for inside the quotation, the first number after it is the menu number because there are multiple (assigned to the variable <code>$MENU_NUM</code>), and the second number is the field used to find said title. The code may make more sense than me trying to explain it:</p>\n\n<pre><code>TEXT=$(cat ~/Desktop/Dialogue.txt | tr \"\\n\" \" \")\n\nMENU_NUM=2\n\necho -en $(echo \"$TEXT\" | grep -Po '(?&lt;=MENU&gt;[^$MENU_NUM]&gt;)[0-9]+\"  {.*' | grep -Po '(?&lt;={ ).*' | grep -Po '^(.*?)}' | head -c-3)\n</code></pre>\n\n<p>I realise it looks awful with all the piping, but I couldn't get it to work with one grep without it outputting EVERYTHING after the lookbehind. I'm not too fussed with whether or not it's convoluted, the only thing I can't get to work is the variable. No matter what I try, it will not read <code>$MENU_NUM</code>.\nI've tried:</p>\n\n<pre><code>\\$MENU_NUM\n^$MENU_NUM\n/^$MENU_NUM/\n\\^$MENU_NUM/\n^${MENU_NUM}\n</code></pre>\n\n<p>and tons of other variations but it just will not read that number.\nJust to clarify, if I use a number, it works. For example, if I use:</p>\n\n<pre><code>echo -en $(echo \"$TEXT\" | grep -Po '(?&lt;=MENU&gt;2&gt;)[0-9]+\"  {.*' | grep -Po '(?&lt;={ ).*' | grep -Po '^(.*?)}' | head -c-3)\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>1 - Option one.\n2 - Option two.\n3 - Option three.\n</code></pre>\n\n<p>in the right colour and formatting.</p>\n\n<p>I hope someone can help me out with this as I was really getting into bash; but this is annoying me quite a lot. And regex help pages on the Internet are so full of technical language that I just get confused and it makes it even more irksome.</p>\n\n<blockquote>\n  <p>EDIT</p>\n</blockquote>\n\n<p>Thanks to the help of <em>chrisaycock</em> I was able to modify my code substantially. What follows is the outcome:</p>\n\n<pre><code> $ echo -en $(echo \"$TEXT\" | grep -Po \"\\\"MENU&gt;$MENU_NUM&gt;[0-9]+\\\"  {.*?}\" | grep -Po '(?&lt;={ ).*' | head -c-3)\n 1 - Option one.\n 2 - Option two.\n 3 - Option three.\n</code></pre>\n\n<p>Just like it should be.</p>\n\n<p>Now it now only uses two greps and seems to work with other sections of the file too. I kept the <code>$TEXT</code> variable in as it's necessary for my script in other sections. Thanks again.</p>\n"}, {"tags": ["regex", "perl", "match"], "comments": [{"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1432137954, "post_id": 30354435, "comment_id": 48802001, "body": "<code>\\w</code> includes letters, numbers and underscore.  Letter only alternatives might be <code>[[:alpha:]]</code>, <code>[\\p{PosixAlpha}]</code> or <code>[\\p{XPosixAlpha}]</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1432138138, "post_id": 30354435, "comment_id": 48802145, "body": "Your pattern says you want the start of the string, the literal character <code>d</code> and one char from the <code>\\w</code> character group after that. I suggest you take a look at this: <a href=\"https://regex101.com/r/bQ8bM7/1\" rel=\"nofollow noreferrer\">regex101.com/r/bQ8bM7/1</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1432138221, "post_id": 30354435, "comment_id": 48802196, "body": "Also I don&#39;t understand exactly what the goal is. Where is the <code>HC</code> in your example. Can you show sample input and sample output or try to give the explanation in different words?"}, {"owner": {"reputation": 12037, "user_id": 638544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d4c99fe6d9d6cfa7198610b0541cf5d?s=128&d=identicon&r=PG", "display_name": "Brilliand", "link": "https://stackoverflow.com/users/638544/brilliand"}, "edited": false, "score": 0, "creation_date": 1503694804, "post_id": 30354435, "comment_id": 78738169, "body": "Downvoted because I have a problem described by the title, but your question body is different."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1432139813, "creation_date": 1432139813, "answer_id": 30355578, "question_id": 30354435, "link": "https://stackoverflow.com/questions/30354435/matching-first-letter-of-word/30355578#30355578", "title": "Matching first letter of word", "body": "<p>That regex doesn't do what you think it does:</p>\n\n<pre><code>m/^d(\\w)/ \n</code></pre>\n\n<p>Matches 'start of line' - letter <code>d</code> then a single <code>word character</code>. </p>\n\n<p>You may want:</p>\n\n<pre><code>m/^\\d+(\\w)/ \n</code></pre>\n\n<p>Which will then match one or more <em>digits</em> from the start of line, and grab the first <code>word character</code> after that. </p>\n\n<p>E.g.:</p>\n\n<pre><code>my $string = '25HC'; \n\nmy ( $match ) =( $string =~ m/^\\d+(\\w)/ );\nprint $match,\"\\n\";\n</code></pre>\n\n<p>Prints <code>H</code></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4921448, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P6JJfXboGW4/AAAAAAAAAAI/AAAAAAAABSk/wEO-9CLH1J0/photo.jpg?sz=128", "display_name": "Matthew K", "link": "https://stackoverflow.com/users/4921448/matthew-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1498767757, "last_edit_date": 1498767757, "creation_date": 1432141326, "answer_id": 30356032, "question_id": 30354435, "link": "https://stackoverflow.com/questions/30354435/matching-first-letter-of-word/30356032#30356032", "title": "Matching first letter of word", "body": "<p>You could try <code>^.*?([A-Za-z])</code>.</p>\n\n<p>The following code returns:</p>\n\n<pre><code>ITEM: 22hb\nMATCH: h\n\nITEM: 33HB\nMATCH: H\n\nITEM: 3333\nMATCH:\n\nITEM: 43 H\nMATCH: H\n\nITEM: HB33\nMATCH: H\n</code></pre>\n\n<p>Script.</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy @array = ('22hb','33HB','3333','43 H','HB33');\nfor my $item (@array) {\n    my $match = $1 if $item =~ /^.*?([A-Za-z])/;\n    print \"ITEM: $item \\nMATCH: $match\\n\\n\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 4917492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13e8246dc3f259aca279b32ba4787b3?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Paul", "link": "https://stackoverflow.com/users/4917492/tarun-paul"}, "is_accepted": false, "score": 0, "last_activity_date": 1432144973, "creation_date": 1432144973, "answer_id": 30357174, "question_id": 30354435, "link": "https://stackoverflow.com/questions/30354435/matching-first-letter-of-word/30357174#30357174", "title": "Matching first letter of word", "body": "<p>I believe this is what you are looking for:</p>\n\n<p>(If you can provide more clear example of what you are looking for we may be able to help you better)</p>\n\n<p>The following code takes two strings and finds the first non-digit character common in both the strings:</p>\n\n<pre><code>my $string1 = '25HB';\nmy $string2 = 'HC';\n\n#strip all digits\n$string1 =~ s/\\d//g;\nforeach my $alpha (split //, $string1) {\n    # for each non-digit check if we find a match\n    if ($string2 =~ /$alpha/) {\n        print \"First matching non-numeric character: $alpha\\n\";\n        exit;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "edited": false, "score": 0, "creation_date": 1432146005, "post_id": 30357427, "comment_id": 48806793, "body": "You are right, my example was not clear. I wanted to check if the first letter of the word was a match. It&#39;s hard to articulate but in 12HB and 56HA, H would be the first letter in each and also a match. Thanks for your input!"}], "tags": [], "owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "is_accepted": false, "score": 1, "last_activity_date": 1432148756, "last_edit_date": 1432148756, "creation_date": 1432145805, "answer_id": 30357427, "question_id": 30354435, "link": "https://stackoverflow.com/questions/30354435/matching-first-letter-of-word/30357427#30357427", "title": "Matching first letter of word", "body": "<p>You are not clear about what you want. If you want to match the first letter in a string to the same letter later in the string:</p>\n\n<pre><code>m{\n  (              # start a capture\n    [[:alpha:]]  # match a single letter\n  )              # end of capture\n  .*?            # skip minimum number of any character\n  \\1             # match the captured letter\n}msx;            # /m means multilines, /s means . matches newlines, /x means ignore whitespace in pattern\n</code></pre>\n\n<p>See <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\">perldoc perlre</a> for more details.</p>\n\n<p><strong>Addendum:</strong></p>\n\n<p>If by word, you mean any alphanumeric sequence, this may be closer to what you want:</p>\n\n<pre><code>m{\n  \\b             # match a word boundary (start or end of a word)\n  \\d*            # greedy match any digits\n  (              # start a capture\n    [[:alpha:]]  # match a single letter\n  )              # end of capture\n  .*?            # skip minimum number of any character\n  \\b             # match a word boundary (start or end of a word)\n  \\d*            # greedy match any digits\n  \\1             # match the captured letter\n}msx;            # /m means multilines, /s means . matches newlines, /x means ignore whitespace in pattern\n</code></pre>\n"}], "owner": {"reputation": 577, "user_id": 4573353, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/843bcb9df7ef490fdba185dcb76ebea7?s=128&d=identicon&r=PG&f=1", "display_name": "EA00", "link": "https://stackoverflow.com/users/4573353/ea00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3906, "favorite_count": 0, "accepted_answer_id": 30355578, "answer_count": 4, "score": 0, "last_activity_date": 1498767757, "creation_date": 1432136703, "last_edit_date": 1432137500, "question_id": 30354435, "link": "https://stackoverflow.com/questions/30354435/matching-first-letter-of-word", "title": "Matching first letter of word", "body": "<p>I want to match the first letter of a word in one string to another with the similar letter. In this example the letter H:</p>\n\n<pre><code>25HB matches to HC\n</code></pre>\n\n<p>I am using the match operator shown below:</p>\n\n<pre><code>my ($match) = ( $value =~ m/^d(\\w)/ );\n</code></pre>\n\n<p>to not match the digit, but the first matching word character. How could I correct this?</p>\n"}, {"tags": ["perl", "rpm", "cpan", "rpmbuild", "cpanm"], "comments": [{"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1432145987, "post_id": 30354317, "comment_id": 48806780, "body": "I use <code>perlbrew</code> to get my own copy of Perl. When I switch to its Perl, the <code>cpan</code> automatically switches so anything I load will only be local. See <a href=\"http://perlbrew.pl/\" rel=\"nofollow noreferrer\">perlbrew.pl</a>"}, {"owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "reply_to_user": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1432152190, "post_id": 30354317, "comment_id": 48810360, "body": "Thanks, I&#39;m trying to avoid cpan entirely though (other than for first time around, every time after that would be via rpm)"}], "answers": [{"comments": [{"owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "edited": false, "score": 0, "creation_date": 1432152128, "post_id": 30356665, "comment_id": 48810329, "body": "Yes, I want them installed into /tmp/perl, this is what I want, but its not doing that currently. I just want a directory for with the newly installed modules and any depencies. I will try your suggestion thanks."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "edited": false, "score": 1, "creation_date": 1432152467, "post_id": 30356665, "comment_id": 48810506, "body": "Either you didn&#39;t ask to install anything, the installation is failing, or you are overriding the parameters passed by <code>cpan</code> using env vars <code>PERL_MM_OPT</code> and/or <code>PERL_MB_OPT</code>"}, {"owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "edited": false, "score": 0, "creation_date": 1432205196, "post_id": 30356665, "comment_id": 48832929, "body": "Thanks, I think maybe some installs are failing. Eg install ExtUtils::XSBuilder::ParseSource says GRICHTER/ExtUtils-XSBuilder-0.28.tar.gz      : make_test NO 2 dependencies missing (Tie::IxHash,Parse::RecDescent). But install Tie::IxHash says already installed. Do these methods conflict somehow with how they look for existing dependencies ?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "edited": false, "score": 0, "creation_date": 1432205799, "post_id": 30356665, "comment_id": 48833347, "body": "Did you tell Perl where to look for the modules by setting env var <code>PERL5LIB</code>?"}, {"owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "edited": false, "score": 0, "creation_date": 1432213443, "post_id": 30356665, "comment_id": 48838961, "body": "Thanks for persisting, I was trying export PERL5LIB=/tmp/perl/lib/5.14.2/:/tmp/perl/lib/site_perl/:/opt&zwnj;&#8203;/perl/lib/5.14.2/:/o&zwnj;&#8203;pt/perl/lib/site_per&zwnj;&#8203;l/ but I get that dependency error or &#39;already built but the result looks suspicious. Skipping another build attempt&#39; (not on all modules, some do install ok, but a fair portion of them)"}, {"owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "edited": false, "score": 0, "creation_date": 1432214066, "post_id": 30356665, "comment_id": 48839405, "body": "I&#39;m accepting this answer, as I still have some problems, but I think probably unrelated to the original question. Thanks ikegami"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "edited": false, "score": 0, "creation_date": 1432214842, "post_id": 30356665, "comment_id": 48839980, "body": "(Probably should be <code>export PERL5LIB=&#47;tmp&#47;perl&#47;lib</code>) I&#39;ve never seen that message. Make sure <code>build_dir_reuse</code> is still false (<code>0</code>)?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1432149256, "last_edit_date": 1432149256, "creation_date": 1432143439, "answer_id": 30356665, "question_id": 30354317, "link": "https://stackoverflow.com/questions/30354317/cpan-install-into-temp-directory/30356665#30356665", "title": "CPAN install into temp directory?", "body": "<p>No, that will install them in <code>/tmp/perl</code> (unless you override the arguments from <code>cpan</code> with an environment variables). They're not installed in <code>~/.cpan/build</code>. That is where the modules are built (by <code>make</code> or <code>Build</code>) before they are installed (by <code>make install</code> or <code>Build install</code>). You can wipe that directory whenever you want.</p>\n\n<hr>\n\n<p>By the way, you're telling ExtUtils::MakeMaker and Module::Build to use two different conventions. That's bad.</p>\n\n<pre><code>o conf mbuildpl_arg \"--install_base /tmp/perl\"\no conf makepl_arg \"PREFIX=/tmp/perl\"\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>o conf mbuildpl_arg \"--install_base /tmp/perl\"\no conf makepl_arg \"INSTALL_BASE=/tmp/perl\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>o conf mbuildpl_arg \"--prefix /tmp/perl\"\no conf makepl_arg \"PREFIX=/tmp/perl\"\n</code></pre>\n\n<p>Personally, when I used local modules before I used local builds of Perl, I used</p>\n\n<pre><code>o conf mbuildpl_arg \"--prefix /tmp/perl --lib /tmp/perl/lib/perl5\"\no conf makepl_arg \"PREFIX=/tmp/perl LIB=/tmp/perl/lib/perl5\"\n</code></pre>\n\n<p>I dislike <code>INSTALL_BASE</code> as it makes it hard to upgrade your <code>perl</code> smoothly.</p>\n"}], "owner": {"reputation": 12819, "user_id": 1429053, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ikeNz.png?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1429053/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 513, "favorite_count": 0, "accepted_answer_id": 30356665, "answer_count": 1, "score": 1, "last_activity_date": 1432149256, "creation_date": 1432136342, "question_id": 30354317, "link": "https://stackoverflow.com/questions/30354317/cpan-install-into-temp-directory", "title": "CPAN install into temp directory?", "body": "<p>I'm trying to install quite a few modules from CPAN into a temporary directory.</p>\n\n<p>This is purely to place quite a few of them into a directory that I can then create a custom RPM out of. The rpm will then later be used on new installs as a bootstrap type thing on top of a custom perl install. They won't be run from this temporary location.</p>\n\n<p>In CPAN I have tried </p>\n\n<pre><code>o conf mbuildpl_arg \"--install_base /tmp/perl\"\no conf makepl_arg \"PREFIX=/tmp/perl\"\n</code></pre>\n\n<p>But this seems to install them into /root/.cpan/build/somename/tmp/perl (where 'somename' varies each time), or the usual location. I was hoping to capture them all into a temporary buildroot type folder, that I can rpm them into the correct folder later.</p>\n\n<p>Is there any way to do this, or am I doing something that isn't a good idea ?</p>\n\n<p>I've looked into fpm and cpan2rpm but couldn't see a way to do lots of Perl modules into one RPM, so happy for any better thoughts on how to go from lots of modules to one custom RPM.</p>\n"}, {"tags": ["xml", "perl", "search", "replace"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1432136582, "post_id": 30353818, "comment_id": 48801064, "body": "Are you typing XML comments incorrectly for a specific reason? Why the reference to <code>@@@</code>? Also, <code>my $input = do { local $&#47;; &lt;$input_file&gt; };</code> . Also, you are not reading using UTF-8 layer."}, {"owner": {"reputation": 162, "user_id": 4474191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/482b63d95eed38982b317bacfa053db2?s=128&d=identicon&r=PG", "display_name": "Nachiappan R", "link": "https://stackoverflow.com/users/4474191/nachiappan-r"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1432141340, "post_id": 30353818, "comment_id": 48804132, "body": "Files coming like this I am not typing"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1432163467, "post_id": 30353818, "comment_id": 48815281, "body": "Are you claiming comments in the files literally use <b><code>&lt;\\!--</code></b>? In that case, they are not XML."}, {"owner": {"reputation": 162, "user_id": 4474191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/482b63d95eed38982b317bacfa053db2?s=128&d=identicon&r=PG", "display_name": "Nachiappan R", "link": "https://stackoverflow.com/users/4474191/nachiappan-r"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1432170887, "post_id": 30353818, "comment_id": 48817278, "body": "Sinan my requirement is to remove that comment line from the file, its purely xml file, example purpose I changed the code."}], "answers": [{"comments": [{"owner": {"reputation": 162, "user_id": 4474191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/482b63d95eed38982b317bacfa053db2?s=128&d=identicon&r=PG", "display_name": "Nachiappan R", "link": "https://stackoverflow.com/users/4474191/nachiappan-r"}, "edited": false, "score": 0, "creation_date": 1432147571, "post_id": 30354322, "comment_id": 48807683, "body": "Thanks, could you guide me where I to include the source and destination folder path,  how to include xsh2 module to the program, it is possible other method can implement my task."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 162, "user_id": 4474191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/482b63d95eed38982b317bacfa053db2?s=128&d=identicon&r=PG", "display_name": "Nachiappan R", "link": "https://stackoverflow.com/users/4474191/nachiappan-r"}, "edited": false, "score": 0, "creation_date": 1432154627, "post_id": 30354322, "comment_id": 48811715, "body": "@NachiappanR: The source and target directories should be specified as parameters to the script."}, {"owner": {"reputation": 162, "user_id": 4474191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/482b63d95eed38982b317bacfa053db2?s=128&d=identicon&r=PG", "display_name": "Nachiappan R", "link": "https://stackoverflow.com/users/4474191/nachiappan-r"}, "edited": false, "score": 0, "creation_date": 1432170948, "post_id": 30354322, "comment_id": 48817295, "body": "Thanks choroba, can you say did I need to include xsh2 module, if so please tell me the procedure."}, {"owner": {"reputation": 162, "user_id": 4474191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/482b63d95eed38982b317bacfa053db2?s=128&d=identicon&r=PG", "display_name": "Nachiappan R", "link": "https://stackoverflow.com/users/4474191/nachiappan-r"}, "edited": false, "score": 0, "creation_date": 1432171821, "post_id": 30354322, "comment_id": 48817522, "body": "Even I install the xsh2 using ppm install xsh2 in command prompt but I am facing the error Can&#39;t locate XML/XSH2.pm in @INC (you may need to install the XML::XSH2 module) (@INC contains: C:/Perl/site/lib C:/Perl/lib .) at searcn.pl line 5. BEGIN failed--compilation aborted at hello.pl line 5."}, {"owner": {"reputation": 162, "user_id": 4474191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/482b63d95eed38982b317bacfa053db2?s=128&d=identicon&r=PG", "display_name": "Nachiappan R", "link": "https://stackoverflow.com/users/4474191/nachiappan-r"}, "edited": false, "score": 0, "creation_date": 1432179525, "post_id": 30354322, "comment_id": 48819402, "body": "I hope the code will work, but only problem is how to include the module XSH2, is any other method to include the same task?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 162, "user_id": 4474191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/482b63d95eed38982b317bacfa053db2?s=128&d=identicon&r=PG", "display_name": "Nachiappan R", "link": "https://stackoverflow.com/users/4474191/nachiappan-r"}, "edited": false, "score": 0, "creation_date": 1432199010, "post_id": 30354322, "comment_id": 48828691, "body": "The module name is <code>XML::XSH2</code>, not <code>xsh2</code>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1432136874, "last_edit_date": 1432136874, "creation_date": 1432136368, "answer_id": 30354322, "question_id": 30353818, "link": "https://stackoverflow.com/questions/30353818/search-and-replace-specific-code-in-xml-using-perl/30354322#30354322", "title": "Search and replace specific code in xml using perl", "body": "<p>Use a proper XML handling module. I like <a href=\"http://p3rl.org/XML::XSH2\" rel=\"nofollow\">XML::XSH2</a>, a wrapper around <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a>:</p>\n\n<pre><code>#! /usr/bin/perl\nuse warnings;\nuse strict;\n\nuse XML::XSH2;   # To handle XML.\nuse Path::Tiny;  # To move files around.\n\nmy ($source, $target) = @ARGV;\n\nfor my $file (path($source)-&gt;children(qr/\\.xml$/)) {\n    xsh \"open $file ; delete //comment() ; save\";\n    path($file)-&gt;copy($target);\n    path($file)-&gt;remove;\n}\n</code></pre>\n"}], "owner": {"reputation": 162, "user_id": 4474191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/482b63d95eed38982b317bacfa053db2?s=128&d=identicon&r=PG", "display_name": "Nachiappan R", "link": "https://stackoverflow.com/users/4474191/nachiappan-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 30354322, "answer_count": 1, "score": 0, "last_activity_date": 1432173381, "creation_date": 1432135016, "last_edit_date": 1432173381, "question_id": 30353818, "link": "https://stackoverflow.com/questions/30353818/search-and-replace-specific-code-in-xml-using-perl", "title": "Search and replace specific code in xml using perl", "body": "<p>I am new to Perl, I have a task to replace or remove comment part (<code>&lt;!--</code>) in multiple XML files, after replace I need to move those multiple XML files to other directories. I am illustrating below my <code>D:\\folder1\\</code> having many xml files <code>a.xml</code>, <code>b.xml</code>, <code>c.xml</code> so on, after replace I need to move all the files from <code>folder1</code> to <code>D:\\folder2\\</code>.</p>\n\n<p>I tried one file by replacing <code>-</code> and <code>@@@</code> but I don't have idea to remove comment line (<code>&lt;!--add aaa --&gt;</code>) from xml files in directory.</p>\n\n<p>My Perl code follow below</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $tag = 'SHORT_DESC';\n\nopen my $input_file, '&lt;', 'test.xml' or die $!;\nopen my $output_file, '&gt;', 'test_out.xml' or die $!;\n\nmy $input;\n{\n  local $/;               #Set record separator to undefined.\n  $input = &lt;$input_file&gt;; #This allows the whole input file to be read at once.\n}\n\n$input =~ s/&amp;/@@@/g;\n$input =~ s/^- (?=&lt;)//gm;\n$input =~ s/&lt;header[^&gt;]*&gt;\\K\\s*&lt;header[^&gt;]*&gt;//gis;\nclose $input_file or die $!;\nprint {$output_file} $input;\nclose $output_file or die $!;\n</code></pre>\n\n<p>And my XML is </p>\n\n<pre><code>&lt;?xml version = '1.0' encoding = 'UTF-8'?&gt;\n&lt;!-- Order details--&gt;\n&lt;order&gt;\n&lt;Names&gt;\n&lt;!-- Names--&gt;\n&lt;content&gt;This is dummy content&lt;/content&gt;\n&lt;/Names&gt;\n&lt;/order&gt;\n</code></pre>\n"}, {"tags": ["perl", "getopt-long"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1432134884, "post_id": 30353407, "comment_id": 48799813, "body": "You are passing the number of elements in <code>@ARGV</code> to your sub <code>configure</code> and assign it to <code>$args</code> but never use it. Why?"}, {"owner": {"reputation": 388, "user_id": 1842478, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9e2ed666702a45240d66a05bd2869d75?s=128&d=identicon&r=PG", "display_name": "s_boardman", "link": "https://stackoverflow.com/users/1842478/s-boardman"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1432135327, "post_id": 30353407, "comment_id": 48800161, "body": "@simbabque I pass my &#39;$configure&#39; hash around between subroutines so it will get used downstream in the process."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1432135440, "post_id": 30353407, "comment_id": 48800250, "body": "That doesn&#39;t answer my question. ;) Also, have you thought about using Moo(se)? =)"}, {"owner": {"reputation": 388, "user_id": 1842478, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9e2ed666702a45240d66a05bd2869d75?s=128&d=identicon&r=PG", "display_name": "s_boardman", "link": "https://stackoverflow.com/users/1842478/s-boardman"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1432135641, "post_id": 30353407, "comment_id": 48800385, "body": "@simbabque Ah I see what you mean now. I&#39;m not 100% sure why this is done, its standard practice by my boss and I&#39;ve been learning Perl by using various scripts of his as a starting point. I shall investigate thusly. Havdn&#39;t come across Moose before, will take a look. :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1432136250, "post_id": 30353407, "comment_id": 48800816, "body": "No offense to your boss, but from personal experience I can tell you not to trust your company&#39;s codebase to learn from. If you want to learn from other people&#39;s code, read CPAN. While you&#39;re at reading up stuff, check what the <code>&amp;</code> in front of your function call does and consider if that is really the behaviour you want. ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 388, "user_id": 1842478, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9e2ed666702a45240d66a05bd2869d75?s=128&d=identicon&r=PG", "display_name": "s_boardman", "link": "https://stackoverflow.com/users/1842478/s-boardman"}, "edited": false, "score": 0, "creation_date": 1432135194, "post_id": 30353729, "comment_id": 48800056, "body": "Super, the second option is the most syntactically pleasing to me and works a treat. Thanks very much!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1432134764, "creation_date": 1432134764, "answer_id": 30353729, "question_id": 30353407, "link": "https://stackoverflow.com/questions/30353407/passing-multiple-file-lists-to-perl-script/30353729#30353729", "title": "Passing multiple file lists to perl script", "body": "<p>From your commented code it looks like you are overwriting <code>$config</code> with these lines:</p>\n\n<blockquote>\n<pre><code>$config = {'current_samples' =&gt; \\@current_samples};\n#$config = {'old_samples' =&gt; \\@old_samples};\n</code></pre>\n</blockquote>\n\n<p>Instead, do all config assignments in one line:</p>\n\n<pre><code>my $config = {\n  'current_samples' =&gt; \\@current_samples,\n  'old_samples' =&gt; \\@old_samples,\n};\n</code></pre>\n\n<p>Or you can do them in single lines and assign to the keys of the hashref:</p>\n\n<pre><code>my $config = {};\n$config-&gt;{'current_samples'} = \\@current_samples;\n$config-&gt;{'old_samples'} = \\@old_samples;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1432135635, "creation_date": 1432135635, "answer_id": 30354054, "question_id": 30353407, "link": "https://stackoverflow.com/questions/30353407/passing-multiple-file-lists-to-perl-script/30354054#30354054", "title": "Passing multiple file lists to perl script", "body": "<p>As a an alternative solution, <a href=\"https://metacpan.org/pod/Getopt::Declare\" rel=\"nofollow\"><code>Getopt::Declare</code></a> has syntax to support loading arguments into array references as well:</p>\n\n<pre><code>use strict; \nuse warnings; \n\nuse Getopt::Declare;\n\nmy $args = Getopt::Declare-&gt;new(\n   join( \"\\n\",\n      '[strict]',\n      \"-current-samples &lt;files&gt;... \\t List of file names\",\n      \"-old-samples     &lt;files&gt;... \\t List of file names\",\n   )\n) || exit(1);\n</code></pre>\n\n<p>the <code>...</code> after each  tag tells Getopt::Declare to gather arguments into an array reference.</p>\n\n<p>Then you just specify multiple space-separated values on the command line:</p>\n\n<pre><code>perl test-getopt-declare.pl -current-samples a b c d e f -old-samples 1 2 3 4 5 6\n</code></pre>\n"}], "owner": {"reputation": 388, "user_id": 1842478, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9e2ed666702a45240d66a05bd2869d75?s=128&d=identicon&r=PG", "display_name": "s_boardman", "link": "https://stackoverflow.com/users/1842478/s-boardman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 30353729, "answer_count": 2, "score": 1, "last_activity_date": 1432139369, "creation_date": 1432133925, "last_edit_date": 1432139369, "question_id": 30353407, "link": "https://stackoverflow.com/questions/30353407/passing-multiple-file-lists-to-perl-script", "title": "Passing multiple file lists to perl script", "body": "<p>I want to pass two file lists to my perl script and have them handled with <code>Getopt::Long</code> for storing an array (via a reference) in a dictionary.</p>\n\n<pre><code>#!/usr/bin/env perl\n\n# author:sb2\n\n\nuse strict;\nuse warnings;\nuse Getopt::Long;\nuse File::Basename;\nuse Data::Dumper;\n\n\nprint Dumper(@ARGV);\n\nmy($config);\n\n$config = &amp;configure(scalar @ARGV);\n\nsub configure{\n    my $args = shift;\n    my $config = {};\n    my @current_samples = ();\n    #my @old_samples = ();\n    $config = {'current_samples' =&gt; \\@current_samples};\n    #$config = {'old_samples' =&gt; \\@old_samples};\n    GetOptions($config, \n           #\"old_samples=s{,}\",\n           \"current_samples=s{,}\",\n               \"help|h!\", )\n        || warn \"error : $!\\n\";\n    print Dumper($config);\n    return($config);\n}\n</code></pre>\n\n<p>I can happily pass one file list and have it stored as expected:</p>\n\n<pre><code>[sb2 ~]$ perl test.pl -current_samples WS*\n$VAR1 = '-current_samples';\n$VAR2 = 'WS68726_1401';\n$VAR3 = 'WS68726_1402';\n$VAR4 = 'WS68726_1500';\n$VAR5 = 'WS68726_1501';\n$VAR1 = {\n          'current_samples' =&gt; [\n                                 'WS68726_1401',\n                                 'WS68726_1402',\n                                 'WS68726_1500',\n                                 'WS68726_1501'\n                               ]\n        };\n</code></pre>\n\n<p>However, when I uncomment my second list parameter and use that my 'current_samples' variable is now a string with a single filename. Although the 'old_samples' variable has parsed correctly (as above):</p>\n\n<pre><code>[sb2 ~]$ perl test.pl -current_samples WS* -old_samples HG*\n$VAR1 = '-current_samples';\n$VAR2 = 'WS68726_1401';\n$VAR3 = 'WS68726_1402';\n$VAR4 = 'WS68726_1500';\n$VAR5 = 'WS68726_1501';\n$VAR6 = '-old_samples';\n$VAR7 = 'HG001';\n$VAR8 = 'HG002';\n$VAR9 = 'HG003';\n$VAR1 = {\n          'current_samples' =&gt; 'WS68726_1501'\n          'old_samples' =&gt; [\n                             'HG001',\n                             'HG002',\n                             'HG003'\n                           ]\n        };\n</code></pre>\n\n<p>I tried swapping the order of variables around and the only one that made a difference was switching the config assignment ones:</p>\n\n<pre><code>sub configure{\n    my $args = shift;\n    my $config = {};\n    my @current_samples = ();\n    #my @old_samples = ();\n    $config = {'current_samples' =&gt; \\@current_samples};\n    #$config = {'old_samples' =&gt; \\@old_samples};\n    GetOptions($config, \n           \"current_samples=s{,}\",\n           \"old_samples=s{,}\",\n               \"help|h!\", )\n        || warn \"error : $!\\n\";\n    print Dumper($config);\n    return($config);\n}\n</code></pre>\n\n<p>Produces:</p>\n\n<pre><code>[sb2 ~]$ perl test.pl -current_samples WS* -old_samples HG*\n$VAR1 = '-current_samples';\n$VAR2 = 'WS68726_1401';\n$VAR3 = 'WS68726_1402';\n$VAR4 = 'WS68726_1500';\n$VAR5 = 'WS68726_1501';\n$VAR6 = '-old_samples';\n$VAR7 = 'HG001';\n$VAR8 = 'HG002';\n$VAR9 = 'HG003';\n$VAR1 = {\n          'current_samples' =&gt; [\n                                 'WS68726_1401',\n                                 'WS68726_1402',\n                                 'WS68726_1500',\n                                 'WS68726_1501'\n                               ],\n          'old_samples' =&gt; 'HG003'\n        };\n</code></pre>\n\n<p>I can't see anything in the <a href=\"http://perldoc.perl.org/Getopt/Long.html#Options-with-multiple-values\" rel=\"nofollow\">GetOptions CPAN</a> page which alludes to this ordering affect so any help would be greatly appreciated!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 0, "creation_date": 1432133162, "post_id": 30352331, "comment_id": 48798428, "body": "Is this a typo? Do you have an extra backslash? i.e. do you really mean <code>(&quot;.$variable.&quot;.EXAMPLE\\d+)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4583730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9034317661761d9eb794d13bc99b56c?s=128&d=identicon&r=PG&f=1", "display_name": "or89", "link": "https://stackoverflow.com/users/4583730/or89"}, "edited": false, "score": 0, "creation_date": 1432132356, "post_id": 30352398, "comment_id": 48797811, "body": "Thank you! But I need to catch the beginning of the sentence without groups, only with one regex. The meaning is that I can&#39;t use $1 afterwards, I need that the regex will be immediate\u2026"}, {"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "reply_to_user": {"reputation": 11, "user_id": 4583730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9034317661761d9eb794d13bc99b56c?s=128&d=identicon&r=PG&f=1", "display_name": "or89", "link": "https://stackoverflow.com/users/4583730/or89"}, "edited": false, "score": 0, "creation_date": 1432132499, "post_id": 30352398, "comment_id": 48797911, "body": "This is only possible using lookahead assertions and if the word can be expressed as a fixed length pattern. Meaning <code>word\\d</code> would work, <code>word\\d+</code> would not work"}], "tags": [], "owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "is_accepted": false, "score": 1, "last_activity_date": 1432131959, "last_edit_date": 1432131959, "creation_date": 1432131518, "answer_id": 30352398, "question_id": 30352331, "link": "https://stackoverflow.com/questions/30352331/match-the-all-line-until-the-regex/30352398#30352398", "title": "Match the all line until the regex", "body": "<p>I would use <a href=\"http://perldoc.perl.org/perlre.html#Capture-groups\" rel=\"nofollow\">capture groups</a>:</p>\n\n<pre><code>/(.*?)(EXAMPLE\\d+)/\n</code></pre>\n\n<p>After the matching operation the line before the word of interest is available in capturing group 1, (<code>$1</code>). Like this:</p>\n\n<pre><code>$string = \"foo bar EXAMPLE1\";\n$string =~ /(.*?)(EXAMPLE\\d+)/;\nprint($1); # Prints \"foo bar \"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "reply_to_user": {"reputation": 11, "user_id": 4583730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9034317661761d9eb794d13bc99b56c?s=128&d=identicon&r=PG&f=1", "display_name": "or89", "link": "https://stackoverflow.com/users/4583730/or89"}, "edited": false, "score": 0, "creation_date": 1432132982, "post_id": 30352754, "comment_id": 48798299, "body": "@or89 If you will please edit your question to include sample input and expected output, then we will can verify our answers work before we post them."}], "tags": [], "owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "is_accepted": false, "score": 0, "last_activity_date": 1432133094, "last_edit_date": 1432133094, "creation_date": 1432132390, "answer_id": 30352754, "question_id": 30352331, "link": "https://stackoverflow.com/questions/30352331/match-the-all-line-until-the-regex/30352754#30352754", "title": "Match the all line until the regex", "body": "<p>Just add <code>.*?</code> in the beginning.. which means.. match all in a non greedy way (so that it wont eat your following regex)</p>\n\n<p>Something like this:</p>\n\n<pre><code>(.*?EXAMPLE\\\\d+)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4583730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9034317661761d9eb794d13bc99b56c?s=128&d=identicon&r=PG&f=1", "display_name": "or89", "link": "https://stackoverflow.com/users/4583730/or89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1432133094, "creation_date": 1432131372, "last_edit_date": 1432131519, "question_id": 30352331, "link": "https://stackoverflow.com/questions/30352331/match-the-all-line-until-the-regex", "title": "Match the all line until the regex", "body": "<p>I'm using Perl to write a script and have a question regarding to regex.\nI need to match the all line <strong>until</strong> the match regex I have...</p>\n\n<p>for example:</p>\n\n<pre><code> (\".$variable.\".EXAMPLE\\\\d+)\n</code></pre>\n\n<p>this is the regex that catch the expression in the line, and I want to make changes in it so it will take the the all line before the expression.</p>\n\n<p>I hope I was clear enough :)</p>\n\n<p>thanks!</p>\n"}, {"tags": ["perl", "http", "basic-authentication", "asana"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1432136741, "last_edit_date": 1432136741, "creation_date": 1432133173, "answer_id": 30353063, "question_id": 30352230, "link": "https://stackoverflow.com/questions/30352230/http-basic-authentication-in-asana-with-perl/30353063#30353063", "title": "HTTP Basic Authentication in Asana with perl", "body": "<p>I've run into something similar (on a completely different service), and couldn't get it working. I <em>think</em> it's to do with a realm/hostname mismatch. \nAs you note - if you hit that URL directly, from a web browser, you get the same answer (without an auth prompt). </p>\n\n<p>But what I ended up doing instead:</p>\n\n<pre><code>my $request = HTTP::Request -&gt; new ( 'GET' =&gt; 'https://path/to/surl' );\n$request -&gt; authorization_basic ( 'username', 'password' ); \n\nmy $results = $user_agent -&gt; request ( $request ); \n</code></pre>\n"}], "owner": {"reputation": 407, "user_id": 1364597, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/59d24328425dc18bd56b750f9a9e5f41?s=128&d=identicon&r=PG", "display_name": "Sly", "link": "https://stackoverflow.com/users/1364597/sly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432136741, "creation_date": 1432131143, "question_id": 30352230, "link": "https://stackoverflow.com/questions/30352230/http-basic-authentication-in-asana-with-perl", "title": "HTTP Basic Authentication in Asana with perl", "body": "<p>I'm trying to use Asana API with HTTP Basic Auth. The following program prints </p>\n\n<pre><code>{\"errors\":[{\"message\":\"Not Authorized\"}]}\n</code></pre>\n\n<p>It seems that LWP doesn't send the auth credentials to the server.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse v5.14.0;\nuse LWP;\n\nmy $ua = new LWP::UserAgent;\n$ua-&gt;credentials('app.asana.com:443', 'realm', 'api_key_goes_here' =&gt; '');\n\nmy $res = $ua-&gt;get(\"https://app.asana.com/api/1.0/users/me\");\nsay $res-&gt;decoded_content;\n</code></pre>\n"}, {"tags": ["perl", "session", "cookies", "dns", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1432129928, "creation_date": 1432129928, "answer_id": 30351757, "question_id": 30351615, "link": "https://stackoverflow.com/questions/30351615/how-to-change-domain-in-cgisession/30351757#30351757", "title": "How to change domain in CGI::Session?", "body": "<p>First of all, if you want the cookie to be visible to both <code>www.mysite.com</code> and <code>dev.mysite.com</code>, the cookies needs to be tied to <code>.mysite.com</code>, not <code>mysite.com</code>.</p>\n\n<p>On to the question.</p>\n\n<pre><code>print $session-&gt;header( ... );\n</code></pre>\n\n<p>is documented to be a shortcut for</p>\n\n<pre><code>my $cookie = CGI::Cookie-&gt;new(\n   -name  =&gt; $session-&gt;name,\n   -value =&gt; $session-&gt;id,\n);\nprint $cgi-&gt;header( -cookie =&gt; $cookie, ... );\n</code></pre>\n\n<p>So you could use</p>\n\n<pre><code>my $cookie = CGI::Cookie-&gt;new(\n   -name   =&gt; $session-&gt;name,\n   -value  =&gt; $session-&gt;id,\n   -domain =&gt; '.mysite.com',\n);\nprint $cgi-&gt;header( -cookie =&gt; $cookie );\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 3868524, "user_type": "registered", "profile_image": "https://graph.facebook.com/553431102/picture?type=large", "display_name": "Avi Moraly", "link": "https://stackoverflow.com/users/3868524/avi-moraly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 30351757, "answer_count": 1, "score": 0, "last_activity_date": 1432130035, "creation_date": 1432129593, "last_edit_date": 1432130035, "question_id": 30351615, "link": "https://stackoverflow.com/questions/30351615/how-to-change-domain-in-cgisession", "title": "How to change domain in CGI::Session?", "body": "<p>I want to use CGI::Session module in order to implement my website sessions.\nI want to change session cookie in a way that it will fit to the domain that I want.</p>\n\n<p>For example, I have two sites, <code>www.mysite.com</code> and <code>dev.mysite.com</code></p>\n\n<p>In this case I want the session cookie domain to be <code>mysite.com</code>.</p>\n\n<p>I've tried to use the module but it only keeps the domain of the script and I want to change it.</p>\n\n<p>Is there a way to do it? Because I looked in the documentation and didn't find anything.</p>\n"}, {"tags": ["json", "perl", "template-toolkit"], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1432129942, "last_edit_date": 1432129942, "creation_date": 1432129342, "answer_id": 30351487, "question_id": 30350950, "link": "https://stackoverflow.com/questions/30350950/template-toolkit-display-array-by-id/30351487#30351487", "title": "Template Toolkit - Display array by ID", "body": "<p>I'm not going to give you a full solution, because it's long, complicated and you don't give nearly enough detail to allow it to be possible in the first place.</p>\n\n<p>However, you can decode JSON like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse JSON; \n\nmy $JSON_text = '{\n        \"user\":\n        [\n            { \n            \"id\": 12345,\n                \"name\": \"bob\",\n                \"age\": \"22\",\n                \"birth_place\": \"London\"\n            },\n            { \n            \"id\": 12346,\n                \"name\": \"amy\",\n                \"age\": \"20\",\n                \"birth_place\": \"London\"\n            }\n        ]\n    }';\n\nmy $JSON = decode_json ( $JSON_text ); \nforeach my $element ( @{$JSON-&gt;{\"user\"}} ) {\n   print $element-&gt;{\"id\"}, \"\\n\";\n}\n</code></pre>\n\n<p>I'll leave it to you to try and figure out how to extract the fields you desire into your template. By the way - the JSON you posted isn't valid, so I've had to amend it slightly.  Hopefully that's a transposition error on your source. </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1432144276, "creation_date": 1432144276, "answer_id": 30356956, "question_id": 30350950, "link": "https://stackoverflow.com/questions/30350950/template-toolkit-display-array-by-id/30356956#30356956", "title": "Template Toolkit - Display array by ID", "body": "<p>If you need to check for multiple users, you really want a hash rather than an array.</p>\n\n<pre><code>my $data = decode_json(...);\nmy %data_by_userid = map { $_-&gt;{id} =&gt; $_ } @{ $data-&gt;{user} };\n</code></pre>\n\n<p>Template parameters:</p>\n\n<pre><code>data_by_userid =&gt; \\%data_by_userid\n</code></pre>\n\n<p>Then, you'd use</p>\n\n<pre><code>[% user = data_by_userid.$id -%]\n[% IF user -%]\nName: [% user.name %]\nAge: [% user.age %]\nBirth Place: [% user.birth_place %]\n[% END -%]\n</code></pre>\n\n<hr>\n\n<p>If you only need one user in the template, just use</p>\n\n<pre><code>my $data = decode_json(...);\nmy ($user) = grep { $_-&gt;{id} == $id } @{ $data-&gt;{user} };\n</code></pre>\n\n<p>Template parameters:</p>\n\n<pre><code>user =&gt; $user\n</code></pre>\n\n<p>Then, you'd use</p>\n\n<pre><code>[% IF user -%]\nName: [% user.name %]\nAge: [% user.age %]\nBirth Place: [% user.birth_place %]\n[% END -%]\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 4116648, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf5fbb94e5fa187ffff62505d3c89e4e?s=128&d=identicon&r=PG&f=1", "display_name": "vanilla_splsh", "link": "https://stackoverflow.com/users/4116648/vanilla-splsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 1, "accepted_answer_id": 30356956, "answer_count": 2, "score": -3, "last_activity_date": 1432144276, "creation_date": 1432128061, "question_id": 30350950, "link": "https://stackoverflow.com/questions/30350950/template-toolkit-display-array-by-id", "title": "Template Toolkit - Display array by ID", "body": "<p>I want to display a block of an array by the ID - can I do this using Template Toolkit or will it be in the Perl controller side? (I'm using Dancer &amp; REST::Client to grab the JSON)</p>\n\n<p>This is the JSON:</p>\n\n<pre><code>    {\n        \"user\":\n        [\n            { \n            \"id\": 12345,\n                \"name\": bob,\n                \"age\": 22,\n                \"birth_place\": \"London\"\n            },\n            { \n            \"id\": 12346,\n                \"name\": amy,\n                \"age\": 20,\n                \"birth_place\": \"London\"\n            }\n        ]\n    }\n</code></pre>\n\n<p>I'm getting the ID of the user in the controller so I can display the ID in the template with <code>[% user.id %]</code>. So I want to be able to basically do</p>\n\n<p>1) If user id matches the id of one of the id's in the JSON</p>\n\n<p>2) Display data from that block</p>\n\n<pre><code>Name: [% content.name %]\nAge: [% content.age %]\nBirth Place: [% content.birth_place %]\n</code></pre>\n\n<p>Any help? :)</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 3, "creation_date": 1432128218, "post_id": 30350747, "comment_id": 48794381, "body": "There is not enough information included in your question to help debug your issue. What pattern are you using to capture the values of <code>$1</code>, <code>$2</code>, <code>$3</code>, and <code>$4</code>? Also what do you expect the output to be? What are the values of <code>$truep</code> and <code>$falsen</code>?"}, {"owner": {"reputation": 2999, "user_id": 1472286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fefc10bcebd74a609fe7f8a8e5970909?s=128&d=identicon&r=PG&f=1", "display_name": "PGreen", "link": "https://stackoverflow.com/users/1472286/pgreen"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1432128453, "post_id": 30350747, "comment_id": 48794564, "body": "The file is actually more complex, that&#39;s why I didn&#39;t write down the pattern. But I previously checked it and it works. Each element is identified. But I think that the counter is somehow adding values without taking <code>$id</code> key into account."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1432129785, "post_id": 30350747, "comment_id": 48795688, "body": "It might be, you may be right. But we can&#39;t tell, given this sample, whether that&#39;s happening or <i>how</i> it&#39;s happening. I would <i>guess</i> you&#39;re hitting a selection/conversion problem. (e.g. check that you&#39;ve got <i>literally</i> what you expect for the first two values, and the pattern is being anchored properly etc.)"}], "answers": [{"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 2, "last_activity_date": 1432129394, "last_edit_date": 1432129394, "creation_date": 1432128549, "answer_id": 30351140, "question_id": 30350747, "link": "https://stackoverflow.com/questions/30350747/perl-counter-in-hash-of-hash/30351140#30351140", "title": "Perl counter in hash of hash", "body": "<p>Assuming you really want tn, etc., to be constants and not variables, you need to initialize all 4 for each id to get 0's in the hash-of-hashes.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse Data::Dumper;\n$Data::Dumper::Sortkeys=1;\n\nmy %hash;\nwhile (&lt;DATA&gt;){\n    chomp;\n    my ($actual, $predicted, $mutation, $id) = split;\n    for my $type (qw(tn tp fn fp)) {\n        $hash{$id}{$type} = 0 unless exists $hash{$id}{$type}; \n    }\n    if (($actual == 1) and ($predicted == 1)) {\n        $hash{$id}{tp}++;\n    }\n    elsif (($actual == 1) and ($predicted == 0)) {\n        $hash{$id}{fn}++;\n    }\n    elsif (($actual == 0) and ($predicted == 0)) {\n        $hash{$id}{tn}++;\n    }\n    elsif (($actual == 0) and ($predicted == 1)) {\n        $hash{$id}{fp}++;\n    }\n}\n\nprint Dumper(\\%hash);\n\n__DATA__\n1   1  A12P P1234\n1   0  A52Q P1234\n1   1  M12P P8866\n1   1  R50T P1222\n1   1  A82L P8866\n0   0  D83F P8866\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>$VAR1 = {\n          'P1222' =&gt; {\n                       'fn' =&gt; 0,\n                       'fp' =&gt; 0,\n                       'tn' =&gt; 0,\n                       'tp' =&gt; 1\n                     },\n          'P1234' =&gt; {\n                       'fn' =&gt; 1,\n                       'fp' =&gt; 0,\n                       'tn' =&gt; 0,\n                       'tp' =&gt; 1\n                     },\n          'P8866' =&gt; {\n                       'fn' =&gt; 0,\n                       'fp' =&gt; 0,\n                       'tn' =&gt; 1,\n                       'tp' =&gt; 2\n                     }\n        };\n</code></pre>\n"}], "owner": {"reputation": 2999, "user_id": 1472286, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fefc10bcebd74a609fe7f8a8e5970909?s=128&d=identicon&r=PG&f=1", "display_name": "PGreen", "link": "https://stackoverflow.com/users/1472286/pgreen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 30351140, "answer_count": 1, "score": 2, "last_activity_date": 1432129394, "creation_date": 1432127559, "question_id": 30350747, "link": "https://stackoverflow.com/questions/30350747/perl-counter-in-hash-of-hash", "title": "Perl counter in hash of hash", "body": "<p>I have a file looking like this:</p>\n\n<pre><code>1   1  A12P P1234\n1   0  A52Q P1234\n1   1  M12P P8866\n1   1  R50T P1222\n1   1  A82L P8866\n0   0  D83F P8866\n....\n</code></pre>\n\n<p>in a perl loop, I parse each line and save each column value:</p>\n\n<pre><code>while (&lt;FILE&gt;){\n     ...\n     my $actual=$1; my $predicted=$2; $mutation=$3; $id=$4; \n        if ($actual==1) {\n            if ($predicted==1)   { $hash{$id}{$truep}++; } \n            elsif ($predicted==0){ $hash{$id}{$falsen}++; } \n        } elsif ($actual==0) {\n            if ($predicted==0)   { $hash{$id}{$truen}++; } \n            elsif ($predicted==1){ $hash{$id}{$falsep}++; } \n        }\n}\n\nfor $id (keys %hash) {\n        $tp = $hash{$id}{$truep};\n        $tn = $hash{$id}{$truen};\n        $fp = $hash{$id}{$falsep};\n        $fn = $hash{$id}{$falsen};\n        ...\n    }\n</code></pre>\n\n<p>I would expect that, for P8866:</p>\n\n<pre><code>$hash{$id}{$fp} --&gt; FP = 0\n$hash{$id}{$tp} --&gt; TP = 2\n$hash{$id}{$fn} --&gt; FN = 0\n$hash{$id}{$tn} --&gt; TN = 1\n</code></pre>\n\n<p>I would expect that, for P1234:</p>\n\n<pre><code>$hash{$id}{$fp} --&gt; FP = 0\n$hash{$id}{$tp} --&gt; TP = 1\n$hash{$id}{$fn} --&gt; FN = 1\n$hash{$id}{$tn} --&gt; TN = 0\n</code></pre>\n\n<p>But it doesn't give me the expected values. did I define the hash incorrectly? is there a better way to parse the file?</p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"tags": [], "owner": {"reputation": 891, "user_id": 1936342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a294c91706727c611866ae6df25ba61?s=128&d=identicon&r=PG", "display_name": "Logioniz", "link": "https://stackoverflow.com/users/1936342/logioniz"}, "is_accepted": false, "score": 3, "last_activity_date": 1432195158, "last_edit_date": 1432195158, "creation_date": 1432194780, "answer_id": 30367729, "question_id": 30348769, "link": "https://stackoverflow.com/questions/30348769/test-mojo-premature-connection-close/30367729#30367729", "title": "Test Mojo - Premature connection close", "body": "<p>Long operation require <code>inactivity_timeout</code> on <strong>client</strong> side and <strong>server</strong> side.\nAlso if you write non-blocking code you must have <code>render_later</code>.</p>\n\n<p>One day I needed option <code>max_connections</code>, but I can not remember why.\nSo, after this day i always add <code>max_connections(0)</code> to my test :)</p>\n\n<p>See, example <a href=\"https://gist.github.com/Logioniz/8d4c49cb649ecc116253\" rel=\"nofollow\">here</a>.</p>\n\n<p>When you post your question you should write simple mojolicious lite example which have all logic which have error. So, now you show right test code and ask why it not working without main logic :) It's very strangely. Nobody will answer you or coming up with possible events when you have specific.</p>\n"}, {"tags": [], "owner": {"reputation": 2262, "user_id": 1681985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfTOr.jpg?s=128&g=1", "display_name": "arhak", "link": "https://stackoverflow.com/users/1681985/arhak"}, "is_accepted": false, "score": 0, "last_activity_date": 1586778739, "last_edit_date": 1586778739, "creation_date": 1586773853, "answer_id": 61185937, "question_id": 30348769, "link": "https://stackoverflow.com/questions/30348769/test-mojo-premature-connection-close/61185937#61185937", "title": "Test Mojo - Premature connection close", "body": "<p>based on @Logioniz <a href=\"https://stackoverflow.com/a/30367729/1681985\">answer</a> and <a href=\"https://stackoverflow.com/a/30367729/1681985\">gist</a>\nhere is a fork of his MWE</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use Mojo::Base -strict;\n\nuse Mojo::IOLoop;\nuse Mojolicious::Lite;\nuse Test::More;\nuse Test::Mojo;\n\nget '/delayed' =&gt; sub {\n  my $c = shift-&gt;render_later;\n  $c-&gt;inactivity_timeout(5);\n  Mojo::IOLoop-&gt;timer(3 =&gt; sub {\n    $c-&gt;render(json =&gt; {result =&gt; 'ok'});\n  });\n};\n\nget '/premature' =&gt; sub {\n  my $c = shift;\n  #$c-&gt;render(text =&gt; 'To be continued...', status =&gt; 206);\n  $c-&gt;tx-&gt;res-&gt;headers-&gt;connection('close');\n  $c-&gt;rendered(123);\n};\n\nmy $t = Test::Mojo-&gt;new;\n\nsubtest 'enough timeout' =&gt; sub {\n  $t-&gt;ua-&gt;inactivity_timeout(5);\n  $t-&gt;get_ok('/delayed')\n    -&gt;status_is(200)\n    -&gt;json_is('/result' =&gt; 'ok')\n  ;\n};\n\nsubtest 'not enough timeout' =&gt; sub {\n  $t-&gt;ua-&gt;inactivity_timeout(1);\n  $t-&gt;get_fail('/delayed')\n    -&gt;status_isnt(200)\n    -&gt;content_is('', 'no content')\n  ;\n};\n\nsubtest 'sudden close' =&gt; sub {\n  $t-&gt;ua-&gt;inactivity_timeout(5);\n  $t-&gt;ua-&gt;max_connections(0);\n  $t-&gt;get_fail('/premature')\n    -&gt;status_isnt(200)\n    -&gt;content_is('', 'no content')\n  ;\n};\n\ndone_testing();\n\npackage Test::Mojo;\n\nuse Test::More;\n\nsub get_fail {\n  my ($self, $uri) = @_;\n  TODO: {\n    local $TODO = 'get_fail';\n    return $self-&gt;get_ok($uri);\n  }\n}\n</code></pre>\n\n<p>the corresponding output is:</p>\n\n<pre><code># Subtest: enough timeout\n    ok 1 - GET /delayed\n    ok 2 - 200 OK\n    ok 3 - exact match for JSON Pointer \"/result\"\n    1..3\nok 1 - enough timeout\n# Subtest: not enough timeout\n    # Inactivity timeout\n    not ok 1 - GET /delayed # TODO get_fail\n    #   Failed (TODO) test 'GET /delayed'\n    #   at D:/TMP-aux/MSP-reports2/1-fork-quick.pl line 60.\n    ok 2 - not 200 OK\n    ok 3 - no content\n    1..3\nok 2 - not enough timeout\n# Subtest: sudden close\n    # Premature connection close\n    not ok 1 - GET /premature # TODO get_fail\n    #   Failed (TODO) test 'GET /premature'\n    #   at D:/TMP-aux/MSP-reports2/1-fork-quick.pl line 60.\n    ok 2 - not 200 OK\n    ok 3 - no content\n    1..3\nok 3 - sudden close\n1..3\n</code></pre>\n"}], "owner": {"reputation": 499, "user_id": 3414053, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gENLF.png?s=128&g=1", "display_name": "lanti", "link": "https://stackoverflow.com/users/3414053/lanti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 813, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1586793722, "creation_date": 1432122401, "last_edit_date": 1586793722, "question_id": 30348769, "link": "https://stackoverflow.com/questions/30348769/test-mojo-premature-connection-close", "title": "Test Mojo - Premature connection close", "body": "<p>I am testing my app using this code:</p>\n\n<pre><code>use Carp; use Carp::Heavy;\nuse Mojo::Base -strict;\n\nuse Test::More;\nuse Test::Mojo;\n\nuse FindBin;\nrequire \"$FindBin::Bin/../script/MyApp\";\nmy $t = Test::Mojo-&gt;new( 'MyDb' );\n$t-&gt;ua-&gt;max_redirects(10);\n$t-&gt;ua-&gt;inactivity_timeout(3600);\n$t-&gt;ua-&gt;connect_timeout(3600);\n\n$t-&gt;get_ok('/int/ap/profit/2015-01-01/2015-03-31/overview')\n  -&gt;status_is(200)\n  -&gt;text_is('html body h3' =&gt; '\u00dcberblick')\n  -&gt;text_is('tr:nth-child(2) td:nth-child(8)' =&gt; '2.000,00')\n  -&gt;text_is('tr:nth-child(5) td:nth-child(8)' =&gt; '4.000,00')\n;\n\ndone_testing();\n</code></pre>\n\n<p>This test fails with <em>Premature connection close</em>. Nevertheless runnning the same request on morbo returns the expected html-code to the browser. It seems as if <code>$t-&gt;ua-&gt;inactivity_timeout(3600);</code>  does not have any effect here.</p>\n"}, {"tags": ["perl", "environment-variables"], "answers": [{"tags": [], "owner": {"reputation": 2022, "user_id": 4915222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wuFdJ.jpg?s=128&g=1", "display_name": "Peter Paul Kiefer", "link": "https://stackoverflow.com/users/4915222/peter-paul-kiefer"}, "is_accepted": false, "score": 1, "last_activity_date": 1432122847, "creation_date": 1432122847, "answer_id": 30348926, "question_id": 30348503, "link": "https://stackoverflow.com/questions/30348503/access-environment-variable-in-perl-written-in-double-quotes-via-config-file/30348926#30348926", "title": "Access environment variable in perl written in double quotes via config file", "body": "<p>Try </p>\n\n<pre><code>my path = $ENV{\"ROOT\"} . config-&gt;{$path};\nopen(filehandle, path);\n</code></pre>\n\n<p>But now you do not have to precede your configured path with $ROOT. </p>\n\n<blockquote>\n  <p>config file: path = '/abc/somepath'</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1432129653, "creation_date": 1432129653, "answer_id": 30351641, "question_id": 30348503, "link": "https://stackoverflow.com/questions/30348503/access-environment-variable-in-perl-written-in-double-quotes-via-config-file/30351641#30351641", "title": "Access environment variable in perl written in double quotes via config file", "body": "<p>Are you looking for this?</p>\n\n<pre><code>sub get_conf {\n   my ($config, $key) = @_;\n   my $val = $config{key};\n   return undef if !defined($val);\n\n   $val =~ s{\\$ROOT\\b}{$ENV{ROOT}}g;\n   return $val;\n}\n\nmy $path = get_conf(config, 'path');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2000, "user_id": 1275160, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e59227edde0173c28ade664aac101ec?s=128&d=identicon&r=PG", "display_name": "Diab Jerius", "link": "https://stackoverflow.com/users/1275160/diab-jerius"}, "is_accepted": false, "score": 0, "last_activity_date": 1432137247, "creation_date": 1432137247, "answer_id": 30354663, "question_id": 30348503, "link": "https://stackoverflow.com/questions/30348503/access-environment-variable-in-perl-written-in-double-quotes-via-config-file/30354663#30354663", "title": "Access environment variable in perl written in double quotes via config file", "body": "<p>For a more general solution, try one of the <a href=\"https://metacpan.org/search?q=String%3A%3AInterpolate\" rel=\"nofollow\">String::Interpolate</a> modules on <a href=\"http://metacpan.org\" rel=\"nofollow\">CPAN</a>.  I favor <a href=\"https://metacpan.org/pod/String::Interpolate::RE\" rel=\"nofollow\">String::Interpolate::RE</a> (disclaimer: I wrote it):</p>\n\n<pre><code>use String::Interpolate::RE 'strinterp';\n\nmy $path = strinterp( $config{path}, {}, { useENV=&gt; 1 } );\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 4836407, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b0d8f6ac2f1df05c8a7a8926dbc77f96?s=128&d=identicon&r=PG&f=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/4836407/ankita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1432137247, "creation_date": 1432121719, "last_edit_date": 1432123790, "question_id": 30348503, "link": "https://stackoverflow.com/questions/30348503/access-environment-variable-in-perl-written-in-double-quotes-via-config-file", "title": "Access environment variable in perl written in double quotes via config file", "body": "<p>I have an environment variable <strong>$ROOT</strong>. For eg. $ROOT = \"/someroot\" It is accessed in a Perl file via config file parameters.</p>\n\n<p>Eg\nIn config file :\n<code>path = '$ROOT/abc/somepath'</code></p>\n\n<p>In Perl file while using this variable when I write config->{$path} in back ticks <code>config-&gt;{$path}</code> value of $ROOT is accessible i.e /someroot/abc/somepath but when in double quotes \"config->{$path}\" the result is $ROOT/abc/somepath.\nI need this to be written in double quotes for opening files : <code>open (filehandle,\"config-&gt;{$path}\");</code> How can achieve the value of config->{$path} in double quotes.</p>\n\n<p>P.S I have also used $ENV{'config->{$path}'}; </p>\n"}, {"tags": ["excel", "perl", "cgi", "perl-module", "cgi-bin"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1432119124, "post_id": 30347272, "comment_id": 48787627, "body": "Check return value of <code>new()</code>. <code>my $workbook = Spreadsheet::WriteExcel-&gt;new(&#39;perl.xls&#39;) or die &quot;can&#39;t open?&quot;;</code>"}, {"owner": {"reputation": 766, "user_id": 1990200, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0dd37e9358204fac790f48f849a0bf5a?s=128&d=identicon&r=PG", "display_name": "sp1rs", "link": "https://stackoverflow.com/users/1990200/sp1rs"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1432119435, "post_id": 30347272, "comment_id": 48787841, "body": "@\u0421\u0443\u0445\u043e\u043927  its returning cant open .."}, {"owner": {"reputation": 1786, "user_id": 1820650, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce47757627908a1013e0951158f4c2e6?s=128&d=identicon&r=PG", "display_name": "Dr.Avalanche", "link": "https://stackoverflow.com/users/1820650/dr-avalanche"}, "edited": false, "score": 3, "creation_date": 1432120532, "post_id": 30347272, "comment_id": 48788549, "body": "@sp1rs find out why? <code>...or die can&#39;t open: $!;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 766, "user_id": 1990200, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0dd37e9358204fac790f48f849a0bf5a?s=128&d=identicon&r=PG", "display_name": "sp1rs", "link": "https://stackoverflow.com/users/1990200/sp1rs"}, "edited": false, "score": 0, "creation_date": 1432126194, "post_id": 30349621, "comment_id": 48792774, "body": "it will work only if u create a .xls file before with changed permission , then it worked for me. Thx davecross."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 766, "user_id": 1990200, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0dd37e9358204fac790f48f849a0bf5a?s=128&d=identicon&r=PG", "display_name": "sp1rs", "link": "https://stackoverflow.com/users/1990200/sp1rs"}, "edited": false, "score": 0, "creation_date": 1432126286, "post_id": 30349621, "comment_id": 48792844, "body": "That&#39;s not true. It will work as long as your user has permissions to create a file in the target directory."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 2, "last_activity_date": 1432124752, "creation_date": 1432124752, "answer_id": 30349621, "question_id": 30347272, "link": "https://stackoverflow.com/questions/30347272/cant-call-method-add-worksheet-on-an-undefined-value/30349621#30349621", "title": "Can&#39;t call method &quot;add_worksheet&quot; on an undefined value?", "body": "<p>The error message is pretty clear. You're calling a method (<code>add_worksheet()</code>) on an undefined value. You're calling that method on <code>$workbook</code>, so you need to investigate how that value is set. It comes from this line:</p>\n\n<pre><code>my $workbook = Spreadsheet::WriteExcel-&gt;new('perl.xls');\n</code></pre>\n\n<p>So it's probably worth looking at the documentation for the <code>new()</code> method in <a href=\"https://metacpan.org/pod/Spreadsheet::WriteExcel\" rel=\"nofollow\">Spreadsheet::WriteExcel</a>. It says this:</p>\n\n<blockquote>\n  <p>If the file cannot be created, due to file permissions or some other\n  reason, <code>new</code> will return <code>undef</code>. Therefore, it is good practice to \n  check the return value of <code>new</code> before proceeding. As usual the Perl \n  variable <code>$!</code> will be set if there is a file creation error. You will \n  also see one of the warning messages detailed in \"<a href=\"https://metacpan.org/pod/Spreadsheet::WriteExcel#DIAGNOSTICS\" rel=\"nofollow\">DIAGNOSTICS</a>\":</p>\n\n<pre><code>my $workbook  = Spreadsheet::WriteExcel-&gt;new('protected.xls');\ndie \"Problems creating new Excel file: $!\" unless defined $workbook;\n</code></pre>\n</blockquote>\n\n<p>I'd guess that your CGI program is trying to write a file in a directory where doesn't have the required permissions. You might want give <code>new()</code> the full path to a directory where the file should be created.</p>\n\n<p>It's also worth pointing out this warning from the documentation:</p>\n\n<blockquote>\n  <p><strong>Note: This module is in maintenance only mode</strong> and in future will \n  only be updated with bug fixes. The newer, more feature rich and API\n  compatible <a href=\"https://metacpan.org/pod/Excel::Writer::XLSX\" rel=\"nofollow\">Excel::Writer::XLSX</a> module is recommended instead. See,\n  \"<a href=\"https://metacpan.org/pod/Spreadsheet::WriteExcel#Migrating-to-Excel::Writer::XLSX\" rel=\"nofollow\">Migrating to Excel::Writer::XLSX</a>\".</p>\n</blockquote>\n"}], "owner": {"reputation": 766, "user_id": 1990200, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0dd37e9358204fac790f48f849a0bf5a?s=128&d=identicon&r=PG", "display_name": "sp1rs", "link": "https://stackoverflow.com/users/1990200/sp1rs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3502, "favorite_count": 0, "accepted_answer_id": 30349621, "answer_count": 1, "score": 1, "last_activity_date": 1432124752, "creation_date": 1432118455, "question_id": 30347272, "link": "https://stackoverflow.com/questions/30347272/cant-call-method-add-worksheet-on-an-undefined-value", "title": "Can&#39;t call method &quot;add_worksheet&quot; on an undefined value?", "body": "<p>here is my cgi code , perl.xls file is present in the save folder as the script.</p>\n\n<pre><code> #!/usr/bin/perl\n print \"Content-type: text/html\\n\\n\";\n use CGI;\n use DBI;\n use Spreadsheet::WriteExcel;\n use strict;\n use warnings;\n use CGI::Carp qw(fatalsToBrowser);\n my $cgi = CGI-&gt;new;\n my $workbook = Spreadsheet::WriteExcel-&gt;new('perl.xls');\n my $worksheet = $workbook-&gt;add_worksheet();\n $worksheet-&gt;write(0,0,'value');\n</code></pre>\n\n<p>And when i run the script i get this error</p>\n\n<pre><code>Software error:\n\nCan't call method \"add_worksheet\" on an undefined value at /var/www/cgi-bin/excel.cgi line 17.\n\n For help, please send mail to the webmaster (root@localhost), giving this error message and the time and date of the error. \n</code></pre>\n"}, {"tags": ["perl", "time"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1432109641, "post_id": 30343029, "comment_id": 48780983, "body": "Can you be a bit more specific? I&#39;m not sure I understand the question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432110896, "post_id": 30343029, "comment_id": 48781745, "body": "Do you just want to wait until the seconds are a multiple of 5, or do you want to perform some operation until then?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1432113473, "last_edit_date": 1432113473, "creation_date": 1432111472, "answer_id": 30344581, "question_id": 30343029, "link": "https://stackoverflow.com/questions/30343029/how-do-i-run-a-function-until-time-is-multiple-of-5-seconds-in-perl/30344581#30344581", "title": "How do I run a function until time is multiple of 5 seconds in Perl?", "body": "<p>If you just want to suspend your process until the seconds are a multiple of 5, then you can use the <a href=\"https://metacpan.org/pod/Time::HiRes\" rel=\"nofollow\"><code>Time::HiRes</code></a> module like this</p>\n\n<pre><code>use Time::HiRes qw/ gettimeofday usleep /;\n\nmy ($s, $us) = gettimeofday;\nmy $delay = 1_000_000 * (5 - $s % 5) - $us;\nusleep $delay;\n\n# Do stuff\n</code></pre>\n\n<p>or if you want to execute some code until the next multiple of 5 seconds then use this</p>\n\n<pre><code>use Time::HiRes qw/ gettimeofday tv_interval /;\n\nmy $t1 = [ gettimeofday ];\n$t1-&gt;[0] += 5 - $t1-&gt;[0] % 5;\n$t1-&gt;[1] = 0;\n\nwhile ( tv_interval([ gettimeofday ], $t1) &gt; 0 ) {\n  # Do stuff\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "is_accepted": false, "score": 0, "last_activity_date": 1432114567, "creation_date": 1432114567, "answer_id": 30345857, "question_id": 30343029, "link": "https://stackoverflow.com/questions/30343029/how-do-i-run-a-function-until-time-is-multiple-of-5-seconds-in-perl/30345857#30345857", "title": "How do I run a function until time is multiple of 5 seconds in Perl?", "body": "<p>Borodin's answer is what you want if you really need the seconds to be a multiple of five.  However, is it possible you just want to implement five second delays in your program?  If so:</p>\n\n<pre><code>sleep 5;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4919225"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1432117485, "accepted_answer_id": 30344581, "answer_count": 2, "score": 1, "last_activity_date": 1432114567, "creation_date": 1432106930, "last_edit_date": 1432109623, "question_id": 30343029, "link": "https://stackoverflow.com/questions/30343029/how-do-i-run-a-function-until-time-is-multiple-of-5-seconds-in-perl", "closed_reason": "Not suitable for this site", "title": "How do I run a function until time is multiple of 5 seconds in Perl?", "body": "<p>I am new to Perl. How do I create a a loop that runs until the current time is a multiple of 5 seconds?</p>\n"}, {"tags": ["arrays", "regex", "perl", "pattern-matching"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 712405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NQ67W.jpg?s=128&g=1", "display_name": "eslam saad", "link": "https://stackoverflow.com/users/712405/eslam-saad"}, "edited": false, "score": 0, "creation_date": 1432104646, "post_id": 30342137, "comment_id": 48777843, "body": "It gives me <code>Can&#39;t modify anonymous list ([]) in scalar assignment</code> error when compile it, any idea why this new edit in your answer causes this error?"}], "tags": [], "owner": {"reputation": 452, "user_id": 3249348, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9f39509e45affaa35a8ebd5b9547291?s=128&d=identicon&r=PG&f=1", "display_name": "avinashkr", "link": "https://stackoverflow.com/users/3249348/avinashkr"}, "is_accepted": false, "score": 0, "last_activity_date": 1432104231, "creation_date": 1432104231, "answer_id": 30342137, "question_id": 30342017, "link": "https://stackoverflow.com/questions/30342017/perl-regex-storing-variable-lines-in-array/30342137#30342137", "title": "Perl: RegEx: Storing variable lines in array", "body": "<p>Maybe you can try this :</p>\n\n<pre><code>push  @statistics_of_layers_var ,[$a] = ($slurp =~ /(Statistics\\s+Of\\s+Layers)\n(?:(\\n|.)*)(Summary)/gm );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1432111156, "creation_date": 1432111156, "answer_id": 30344474, "question_id": 30342017, "link": "https://stackoverflow.com/questions/30342017/perl-regex-storing-variable-lines-in-array/30344474#30344474", "title": "Perl: RegEx: Storing variable lines in array", "body": "<p>You can achieve this without a complicated regular expression. Simply use the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow\">range operator</a> (also called flip-flop operator) to find the lines you want.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\n\nmy @statistics_of_layers_var;\nwhile (&lt;DATA&gt;) {\n    # use the range-operator to find lines with start and end flag\n    if (/^Statistics Of Layers/ .. /^Summary/) {\n        # but do not keep the start and the end\n        next if m/^Statistics Of Layers/ || m/^Summary/;\n        # add the line to the collection\n        push @statistics_of_layers_var, $_ ;\n    }\n}\n\np @statistics_of_layers_var;\n\n__DATA__\nSome Data\nStatistics Of Layers\nLine#1\nLine#2\nLine#3\n...\nSummary\nSome more data\n</code></pre>\n\n<p>It works by looking at the current line and flipps the block on and off. If <code>/^Statistics of Layers/</code> matches the line it will run the block for each following line until the `/^Summary/ matches a line. Because those start and end lines are included we need to skip them when adding lines to the array.</p>\n\n<p>This also works if your file contains multiple intances of this pattern. Then you'd get all of the lines in the array.</p>\n"}], "owner": {"reputation": 73, "user_id": 712405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NQ67W.jpg?s=128&g=1", "display_name": "eslam saad", "link": "https://stackoverflow.com/users/712405/eslam-saad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1432111156, "creation_date": 1432103803, "last_edit_date": 1432109798, "question_id": 30342017, "link": "https://stackoverflow.com/questions/30342017/perl-regex-storing-variable-lines-in-array", "title": "Perl: RegEx: Storing variable lines in array", "body": "<p>I'm developing a Perl script and one of the script functions is to detect many lines of data between two terminals and store them in an array. I need to store all lines in an array but to be grouped separately as 1st line in <code>$1</code> and 2nd in <code>$2</code> and so on. The problem here is that number of these lines is variable and will change with each new run.</p>\n\n<pre><code>my @statistics_of_layers_var;\nfor( &lt;ALL_FILE&gt; ) {\n   @statistics_of_layers_var = ($all_file =~ /(Statistics\\s+Of\\s+Layers)\n   (?:(\\n|.)*)(Summary)/gm );\n   print @statistics_of_layers_var;\n</code></pre>\n\n<p>The given data should be</p>\n\n<pre><code>Statistics Of Layers\nLine#1\nLine#2\nLine#3\n...\nSummary\n</code></pre>\n\n<p>How I could achieve it?</p>\n"}, {"tags": ["perl", "find", "file-exists"], "answers": [{"comments": [{"owner": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "edited": false, "score": 1, "creation_date": 1432103223, "post_id": 30341693, "comment_id": 48776969, "body": "Thanks \u0421\u0443\u0445\u043e\u043927. Better solution :)"}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 4, "last_activity_date": 1432103695, "last_edit_date": 1432103695, "creation_date": 1432102672, "answer_id": 30341693, "question_id": 30341627, "link": "https://stackoverflow.com/questions/30341627/how-to-verify-more-than-1-file-exist-with-a-given-file-extension-in-perl/30341693#30341693", "title": "How to verify more than 1 file exist with a given file extension in perl", "body": "<p>In scalar context you can iterate over directory items using <code>while()</code>, and immediately break the loop when your condition is met,</p>\n\n<pre><code>my $count = 0;\nwhile (defined(my $f = readdir $dir)) {\n    if ($f =~ /\\.wav$/ and ++$count &gt;= 2) {\n      print \"there are at least two wav files\\n\";\n      last;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "edited": false, "score": 0, "creation_date": 1432103899, "post_id": 30341987, "comment_id": 48777341, "body": "but still it counts all the files. Why count all the files to see whether there are at least 2 files."}, {"owner": {"reputation": 4586, "user_id": 1507014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ca563ac151770f5ae24c741970401c81?s=128&d=identicon&r=PG", "display_name": "Bentoy13", "link": "https://stackoverflow.com/users/1507014/bentoy13"}, "reply_to_user": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "edited": false, "score": 0, "creation_date": 1432107321, "post_id": 30341987, "comment_id": 48779589, "body": "Globbing may be slow if there are many files with the requested extension, else it is quite fast. Compared with the accepted solution, if your directory contains zz.wav and zzz.wav and many other files, the function may be quite long. Besides this point, I think it is simple enough to be used."}], "tags": [], "owner": {"reputation": 4586, "user_id": 1507014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ca563ac151770f5ae24c741970401c81?s=128&d=identicon&r=PG", "display_name": "Bentoy13", "link": "https://stackoverflow.com/users/1507014/bentoy13"}, "is_accepted": false, "score": 0, "last_activity_date": 1432103687, "creation_date": 1432103687, "answer_id": 30341987, "question_id": 30341627, "link": "https://stackoverflow.com/questions/30341627/how-to-verify-more-than-1-file-exist-with-a-given-file-extension-in-perl/30341987#30341987", "title": "How to verify more than 1 file exist with a given file extension in perl", "body": "<p>You can use <code>glob</code> to expand the list of files in a directory with widcards, or better <code>bsd_glob</code> from package <code>File::Glob</code>:</p>\n\n<pre><code>use File::Glob ':bsd_glob';\nmy @wavfiles = bsd_glob(\"$your_directory/*.wav\");\nmy $count_wavs = @wavfiles;\n</code></pre>\n\n<p>Note that the count of files is using an array in scalar context.</p>\n\n<p><code>bsd_glob</code> is better because it handles correctly spaces in directory names (amongst others), prefer this one on <code>glob</code>.</p>\n"}], "owner": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 30341693, "answer_count": 2, "score": 0, "last_activity_date": 1432103695, "creation_date": 1432102430, "last_edit_date": 1432102946, "question_id": 30341627, "link": "https://stackoverflow.com/questions/30341627/how-to-verify-more-than-1-file-exist-with-a-given-file-extension-in-perl", "title": "How to verify more than 1 file exist with a given file extension in perl", "body": "<p>My requirement is to know whether are at least 2 <code>.wav</code> files in a directory.</p>\n\n<p>Currently I'm using <code>grep(/\\.wav$/,readdir($dir))</code> to get the number of <code>.wav</code>  files exist and then check whether its <code>greater than 1</code>.</p>\n\n<p>But I really don't want to count all the files if there were <code>1000s</code> of them.</p>\n\n<p>Anyone have better solution for this...</p>\n\n<p>Thank you :)</p>\n"}, {"tags": ["perl", "sorting", "data-structures", "hash", "perl-data-structures"], "comments": [{"owner": {"reputation": 28990, "user_id": 1114966, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af8712b05e5cfb862323a07c83749054?s=128&d=identicon&r=PG", "display_name": "squiguy", "link": "https://stackoverflow.com/users/1114966/squiguy"}, "edited": false, "score": 5, "creation_date": 1432094537, "post_id": 30340027, "comment_id": 48773736, "body": "Nothing is wrong. Hashes are inherently not ordered."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1432213259, "post_id": 30340027, "comment_id": 48838829, "body": "You would set <code>PERL_HASH_SEED</code> and use <code>PERL_PERTURB_KEYS=0</code> If you want the keys to stay in their <i>insertion order</i>  (ordered but not sorted).  This was not clear in your question.  If you are serious about maintaining the order <i>in the application</i> (rather than relying on an environment variable) you would  be better off tieing the hash with one of the CPAN modules that were mentioned."}], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 4901229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e2d9a8327e86d597cc5313d5831369?s=128&d=identicon&r=PG", "display_name": "nbeck", "link": "https://stackoverflow.com/users/4901229/nbeck"}, "edited": false, "score": 1, "creation_date": 1432122576, "post_id": 30340077, "comment_id": 48790029, "body": "@mod Thanks for the edit yes just forgot the sort ! The most important part."}], "tags": [], "owner": {"reputation": 159, "user_id": 4901229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e2d9a8327e86d597cc5313d5831369?s=128&d=identicon&r=PG", "display_name": "nbeck", "link": "https://stackoverflow.com/users/4901229/nbeck"}, "is_accepted": false, "score": 4, "last_activity_date": 1503925183, "last_edit_date": 1503925183, "creation_date": 1432094675, "answer_id": 30340077, "question_id": 30340027, "link": "https://stackoverflow.com/questions/30340027/why-do-hash-keys-have-different-order-when-printing/30340077#30340077", "title": "Why do hash keys have different order when printing?", "body": "<p>Nothing wrong with your perl, a hash is unsorted. </p>\n\n<p>If you want to sort by key you need to do something like that: </p>\n\n<pre><code>foreach my $key (sort keys %hash1) {\n    print $key, $hash1{$key};\n}\n</code></pre>\n\n<p>and same thing for hash2... </p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1432131674, "post_id": 30340150, "comment_id": 48797219, "body": "I&#39;d suggest adding a reference to hash slicing. E.g. <code>@hash{@element_order}</code> as I find that useful."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432131913, "post_id": 30340150, "comment_id": 48797429, "body": "@Sobrique thanks ... I&#39;m not sure if it is &quot;idiomatic&quot; but I sometimes store  ready-to-use arrays to use for slicing  ..."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432142023, "post_id": 30340150, "comment_id": 48804520, "body": "@lutaoact  - even more fun awaits with <code>perl-5.20</code> where you have the option to access a hash with <code>%hash{ @keys }</code> and get back a ready-made subset of the hash with <a href=\"http://www.effectiveperlprogramming.com/2014/07/perl-5-20-introduces-keyvalue-slices/\" rel=\"nofollow noreferrer\">key/value slices</a>."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1433278820, "post_id": 30340150, "comment_id": 49280914, "body": "@mob thanks for edits on the <code>{</code> to <code>(</code> ... I dithered on whether to use a anonymous hash reference and  forgot to double check the <code>% ()</code> and <code>$ ()</code> ..."}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": true, "score": 12, "last_activity_date": 1433277111, "last_edit_date": 1433277111, "creation_date": 1432095233, "answer_id": 30340150, "question_id": 30340027, "link": "https://stackoverflow.com/questions/30340027/why-do-hash-keys-have-different-order-when-printing/30340150#30340150", "title": "Why do hash keys have different order when printing?", "body": "<p>When printing a hash there are a few different notions of order that are relevant: \"insertion order\", \"sort order\" and \"random\". See the <a href=\"http://perldoc.perl.org/perlrun.html#ENVIRONMENT\" rel=\"nofollow\">ENVIRONMENT section of the <code>perlrun</code></a> documentation for a discussion of ways you can control this behavior and for the reasons why the default is to use hash randomization.</p>\n\n<p>For at least a decade hashes in perl have not guaranteed key order.  More recently, hash randomization has been part of a general security \"hardening\" effort. There are good reasons for hashes to be randomized. For more details see the <a href=\"http://perldoc.perl.org/perlsec.html#Algorithmic-Complexity-Attacks\" rel=\"nofollow\"><code>perlsec</code> discussion of algorithmic complexity attacks</a>. You'll note in the Perl security documentation that further enhancements were added in <code>perl-5.18</code> - if you are seeing a different behavior compared to previous versions it may be due to these most recent changes.</p>\n\n<p>Besides explicitly <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow\">sorting your hash keys</a> in a deterministic way, there are other approaches you can take to ordering your hashes: <a href=\"https://metacpan.org/pod/Hash::Ordered\" rel=\"nofollow\"><code>Hash::Ordered</code></a> is one example. The <code>Hash::Ordered</code> documentation has a good discussion of the pros and cons of a number of other modules.</p>\n\n<p>While a hash is an \"<em>unordered basket</em>\" of scalars arranged in key-value pairs; an array <em>is</em> an \"<em>ordered sequence</em>\" of scalars <sup>[<strong>1</strong>]</sup>. A \"<a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow\">slice</a>\" is way of accessing \"several elements of a list, an array, or a hash simultaneously\". A slice uses the <code>@</code> sigil since the operation returns a list of multiple values - and with <code>@</code> we get \"ordered sequence\". The upshot is that one way to impose a kind of \"order\" on a hash is by using a slice to access it:</p>\n\n<pre><code># We want alphabetical disorder ...\nmy %hashed = ( 1 =&gt; \"z\", 2 =&gt; \"x\", 3 =&gt; \"y\" );\nfor my $key ( keys %hashed ) { print $hashed{$key} } ;\n__END__    \nzyx\n</code></pre>\n\n<p>We want \"<code>zxy</code>\" not \"<code>zyx</code>\". To impose our arbitrary version of order on this hash we first need to recognize that culprit here is <code>keys %hashed</code> which returns the keys in random order. The solution is to <code>sort</code> keys of ccurse and in this contrived example we store them in <code>@sort_order</code> and use it to \"slice\" out what we want from the hash, the way we want it:</p>\n\n<pre><code>my @sort_order = sort keys %hashed ;\nprint @hashed{@sort_order} ;\n__END__\nzxy\n</code></pre>\n\n<p>Tada!! Slices can be useful when you want to store keys and values in a hash but access that data in an ordered way. Remember the \"<code>@</code>\" when you want to slice a hash; as <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow\"><code>perldata</code></a> puts it: \"you use an <code>'@'</code> ... on a hash slice ... [because] you are getting back ...a list\". And lists are orderly.</p>\n\n<hr>\n\n<p><sup>[<strong>1</strong>]</sup> The definitions of hashes as \"unordered baskets\" and arrays as \"ordered sequence\" are from Mike Friedman's (FRIEDO) excellent article on <a href=\"http://friedo.com/blog/2013/07/arrays-vs-lists-in-perl\" rel=\"nofollow\">Arrays vs. Lists in Perl</a>. </p>\n\n<p><strong>Further References</strong></p>\n\n<ul>\n<li><em>cf.</em> <a href=\"http://perldoc.perl.org/perlfaq4.html#How-can-I-always-keep-my-hash-sorted%3f\" rel=\"nofollow\"><code>perlfaq</code> -q How can I always keep my hash sorted?</a></li>\n<li>In addtion to creating a number of really useful CPAN modules, GARU (Breno de Oliveira) published <a href=\"http://onionstand.blogspot.ca/2012/12/are-you-relying-on-hash-keys-being.html\" rel=\"nofollow\">an excellent article on hash ordering</a> that thoroughly covers recent Perl development and hash randomization issues.</li>\n<li>For more advanced examples of neat things you can do with hash slices see Vince Veselosky's article <a href=\"http://www.webquills.net/web-development/perl/perl-5-hash-slices-can-replace.html\" rel=\"nofollow\">Hash slices can replace loops</a>.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1432129532, "post_id": 30340478, "comment_id": 48795470, "body": "You can also set this as a variable to change the behavior of <code>print Dumper()</code> and friends. e.g. <code>$Data::Dumper::Sortkeys = 1</code>;"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1432131591, "post_id": 30340478, "comment_id": 48797134, "body": "I&#39;d argue that if you&#39;re trying to sort it, then you don&#39;t want to be using <code>Dumper</code> in the first place."}], "tags": [], "owner": {"reputation": 4883, "user_id": 62138, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/65881e840f44a05c4f3b0aea257da42e?s=128&d=identicon&r=PG", "display_name": "salparadise", "link": "https://stackoverflow.com/users/62138/salparadise"}, "is_accepted": false, "score": 3, "last_activity_date": 1432097278, "creation_date": 1432097278, "answer_id": 30340478, "question_id": 30340027, "link": "https://stackoverflow.com/questions/30340027/why-do-hash-keys-have-different-order-when-printing/30340478#30340478", "title": "Why do hash keys have different order when printing?", "body": "<p>G. Cito's answer is correct. If you want sorted output from Data::Dumper however, you can do:</p>\n\n<pre><code>use Data::Dumper;\n\nmy $hash1 = {\n  keyc =&gt; 2,\n  key1 =&gt; 1,\n  keya =&gt; 3,\n  keyb =&gt; 4,\n};\n\nmy $hash2 = {\n  keyc =&gt; 2,\n  key1 =&gt; 1,\n  keya =&gt; 3,\n  keyb =&gt; 4,\n};\n\nmy $dumper = Data::Dumper-&gt;new([$hash1, $hash2]);\n$dumper-&gt;Sortkeys(1);\nprint $dumper-&gt;Dump;\n</code></pre>\n"}], "owner": {"reputation": 3069, "user_id": 2693045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/q4XJz.jpg?s=128&g=1", "display_name": "lutaoact", "link": "https://stackoverflow.com/users/2693045/lutaoact"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2024, "favorite_count": 1, "accepted_answer_id": 30340150, "answer_count": 3, "score": 4, "last_activity_date": 1503925183, "creation_date": 1432094313, "last_edit_date": 1435671566, "question_id": 30340027, "link": "https://stackoverflow.com/questions/30340027/why-do-hash-keys-have-different-order-when-printing", "title": "Why do hash keys have different order when printing?", "body": "<p>I want to build several hashes using the same keys and for the keys to have the same order when I print them. So, in the example below, the keys of <code>$hash1</code> and <code>$hash2</code> should always have the same order, but there should be no need to keep that order when creating the hash.</p>\n\n<pre><code>use Data::Dumper;\n\nmy $hash1 = {\n  keyc =&gt; 2,\n  key1 =&gt; 1,\n  keya =&gt; 3,\n  keyb =&gt; 4,\n};\n\nmy $hash2 = {\n  keyc =&gt; 2,\n  key1 =&gt; 1,\n  keya =&gt; 3,\n  keyb =&gt; 4,\n};\n\nprint Dumper $hash1, $hash2;\n</code></pre>\n\n<p>But the output is as follows:</p>\n\n<pre><code>$VAR1 = {\n          'key1' =&gt; 1,\n          'keyc' =&gt; 2,\n          'keyb' =&gt; 4,\n          'keya' =&gt; 3\n        };\n$VAR2 = {\n          'keyb' =&gt; 4,\n          'keya' =&gt; 3,\n          'keyc' =&gt; 2,\n          'key1' =&gt; 1\n        };\n</code></pre>\n\n<p><em>i.e</em> the hashes have a different and unexpected order. What's wrong with my perl?</p>\n\n<p>My perl version is:</p>\n\n<pre><code>This is perl 5, version 18, subversion 2 (v5.18.2) built for darwin-thread-multi-2level\n(with 2 registered patches, see perl -V for more detail)\n</code></pre>\n\n<p>Notice: I know that keys of perl hash is unsorted order. I want they have the same order, but there should be no need to have the sorted order. I hope that I can get the same print output if I run the code again.</p>\n\n<p>Following advice from answers, I set two environment variables:</p>\n\n<p><code>PERL_HASH_SEED=0x00 PERL_PERTURB_KEYS=0</code></p>\n\n<p>Then I can get the same output when I run the code repeatedly.</p>\n"}, {"tags": ["algorithm", "perl"], "comments": [{"owner": {"reputation": 42504, "user_id": 1161878, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0157ddd785dc01e95342e3661d34b42a?s=128&d=identicon&r=PG", "display_name": "Gene", "link": "https://stackoverflow.com/users/1161878/gene"}, "edited": false, "score": 2, "creation_date": 1432082350, "post_id": 30337959, "comment_id": 48770760, "body": "This is an imprecise problem description.  If you explain with more care, you&#39;re more likely to get a useful answer. Sample data will allow people to give you a working solution. And the rules of SO require that you explain what you&#39;ve tried."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 2, "creation_date": 1432084113, "post_id": 30337959, "comment_id": 48771170, "body": "Welcome to Stack Overflow. Please read the <a href=\"https://stackoverflow.com/tour\">About</a> page soon.  It sounds straight-forward enough, to the extent you&#39;ve explained it.  Read the first file and stash the information in a hash table of some sort.  Read the second file, and when the identification information matches, print the line.  Show us your code and we can help more; until then, there&#39;s not much we can (or will) do for you -- we don&#39;t normally write code from scratch, but we&#39;ll certainly help you fix an honest attempt at solving your problem.  (Don&#39;t forget <code>use strict; use warnings;</code>)"}, {"owner": {"reputation": 43, "user_id": 4913284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2495143d1e140464d2b47ad47b5cb24e?s=128&d=identicon&r=PG&f=1", "display_name": "marko", "link": "https://stackoverflow.com/users/4913284/marko"}, "edited": false, "score": 0, "creation_date": 1432085855, "post_id": 30337959, "comment_id": 48771600, "body": "I&#39;m sorry I was working out on the algorithm when I wrote the comment. This is how I tried, I managed to read the second table, but not very sure how to do the second one:#!/bin/env perl ` &lt;/use strict;  use warnings;  use autodie;   use Data::Dumper;    # Create a file handle for the input file  my $fname = &#39;secondtable.txt&#39;;  open(my $fh, &#39;&lt;:encoding(UTF-8)&#39;, $fname);    # print header  my $cname = readline $fh;  print $cname;             #     # print rows  while (my $line = readline $fh) {      chomp $line;      print &quot;$line\\n&quot;;  }/&gt;`"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1432094319, "post_id": 30337959, "comment_id": 48773665, "body": "@marko: Please add information by editing your question. Code in comments us very difficult to read"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4913284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2495143d1e140464d2b47ad47b5cb24e?s=128&d=identicon&r=PG&f=1", "display_name": "marko", "link": "https://stackoverflow.com/users/4913284/marko"}, "edited": false, "score": 0, "creation_date": 1432143093, "post_id": 30346933, "comment_id": 48805056, "body": "Thank you for your help."}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": true, "score": 0, "last_activity_date": 1432117516, "creation_date": 1432117516, "answer_id": 30346933, "question_id": 30337959, "link": "https://stackoverflow.com/questions/30337959/how-to-write-an-algorithm-in-perl-to-read-data-from-two-files-match-and-print-th/30346933#30346933", "title": "How to write an algorithm in Perl to read data from two files match and print the query", "body": "<pre><code>use warnings;\nuse strict; \n\nopen my $file1, '&lt;', 'in1.txt' or die $!;\nopen my $file2, '&lt;', 'in2.txt' or die $!;\n\nmy %data1;\nwhile(&lt;$file1&gt;){\n    chomp;\n    next if /^name/;\n    my @split = split(/\\t/);\n    $data1{$split[0]}{$split[1]}++;\n}\n\nmy %data2;\nwhile(&lt;$file2&gt;){\n    chomp;\n    next if /^name/;\n    my @split = split(/\\t/);\n    $data2{$split[0]}{$split[1]}++;\n    print \"$split[0]\\t$split[1]\\n\" if $data1{$split[0]}{$split[1]};\n}\n</code></pre>\n\n<p>--- in1 --- </p>\n\n<pre><code>name    id\nfoo 1\nbar 2\nbaz 3\nother   4\n</code></pre>\n\n<p>--- in2 ---</p>\n\n<pre><code>name    id\nbar 1\nbaz 2\nbaz 3\nother   4\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4913284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2495143d1e140464d2b47ad47b5cb24e?s=128&d=identicon&r=PG&f=1", "display_name": "marko", "link": "https://stackoverflow.com/users/4913284/marko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "closed_date": 1432117513, "accepted_answer_id": 30346933, "answer_count": 1, "score": -2, "last_activity_date": 1432168614, "creation_date": 1432078851, "last_edit_date": 1432168614, "question_id": 30337959, "link": "https://stackoverflow.com/questions/30337959/how-to-write-an-algorithm-in-perl-to-read-data-from-two-files-match-and-print-th", "closed_reason": "Not suitable for this site", "title": "How to write an algorithm in Perl to read data from two files match and print the query", "body": "<p>I am in a difficult situation writing an algorithm for a task. Every question I ask here I am learning something new and thanks for that.</p>\n\n<p>I have to read a text file (a table contains an ID and a name) and I have to match them with another file which has the same ID and name.</p>\n\n<p>I want to write a program in Perl to print out the result which will match the first table with the second, and  print only the matching ID, name, sub-ID and date (last two fields from the second table).</p>\n\n<p>Can anyone help me out with this?</p>\n\n<p>This is what I already tried.</p>\n\n<pre><code>#!/bin/env perl\n\nuse strict;  \nuse warnings;  \nuse autodie;  \n\nuse Data::Dumper;  \n\n# Create a file handle for the input file \nmy $fname = 'secondtable.txt';  \nopen(my $fh, '&lt;:encoding(UTF-8)', $fname);  \n\n# print header  \nmy $cname = readline $fh;  \nprint $cname;  \n\n# # print rows  \nwhile ( my $line = readline $fh ) {\n  chomp $line;\n  print \"$line\\n\";\n}\n</code></pre>\n"}, {"tags": ["php", "perl", "apple-push-notifications"], "comments": [{"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 2, "creation_date": 1432079118, "post_id": 30337468, "comment_id": 48770017, "body": "I&#39;ve never done anything related to APNS but the first thing I&#39;d do is to search cpan for any related modules.  <a href=\"http://search.cpan.org/search?query=apns&amp;mode=all\" rel=\"nofollow noreferrer\">CPAN search</a>"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1432098908, "post_id": 30337468, "comment_id": 48775084, "body": "&quot;...but didnt work....&quot; -  and the error message is what? Also, make sure that you have a key for your client cert (SSL_key_file) and specify the version of the module you use (IO::Socket::SSL-&gt;VERSION). For SSL related debugging set <code>$IO::Socket::SSL::DEBUG=4</code>."}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1432075807, "creation_date": 1432075807, "question_id": 30337468, "link": "https://stackoverflow.com/questions/30337468/php-stream-context-create-equivalent-in-perl", "title": "PHP stream_context_create() equivalent in perl", "body": "<p>I am following a tutorial <a href=\"https://blog.serverdensity.com/how-to-build-an-apple-push-notification-provider-server-tutorial/\" rel=\"nofollow\">https://blog.serverdensity.com/how-to-build-an-apple-push-notification-provider-server-tutorial/</a> to implement connectivity with apple APNS server. The tutorial provided a php code for this:</p>\n\n<pre><code>// Open the connection\n$apnsHost = 'gateway.sandbox.push.apple.com';\n$apnsPort = 2195;\n$apnsCert = 'apns-dev.pem';\n\n$streamContext = stream_context_create();\nstream_context_set_option($streamContext, 'ssl', 'local_cert', $apnsCert);\n\n$apns = stream_socket_client('ssl://' . $apnsHost . ':' . $apnsPort, $error, $errorString, 2, STREAM_CLIENT_CONNECT, $streamContext);\n\n// Send the payload\n$apnsMessage = chr(0) . chr(0) . chr(32) . pack('H*', str_replace(' ', '', $deviceToken)) . chr(0) . chr(strlen($payload)) . $payload;\nfwrite($apns, $apnsMessage);\n\n// Close Resources\nsocket_close($apns);\nfclose($apns);\n</code></pre>\n\n<p>I want to write this in Perl. What is the best equivalent of PHP's stream_context_create(). I tried something like the below, but didnt work.</p>\n\n<pre><code>use IO::Socket::SSL;\n\nmy $client = IO::Socket::SSL-&gt;new(\n        # where to connect\n        PeerHost =&gt; \"gateway.sandbox.push.apple.com\",\n        PeerPort =&gt; \"2195\",\n\n        SSL_cert_file =&gt;'localcert.pem',\n\n    ) or die \"failed connect or ssl handshake: $!,$SSL_ERROR\";\n</code></pre>\n"}, {"tags": ["arrays", "perl", "arrayref"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 4515908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e95e5b6e116e9b8f9c62fd34da7a5687?s=128&d=identicon&r=PG&f=1", "display_name": "xcvbnm", "link": "https://stackoverflow.com/users/4515908/xcvbnm"}, "edited": false, "score": 0, "creation_date": 1432072238, "post_id": 30336711, "comment_id": 48767839, "body": "Wauw is it only because i didn&#39;t use &quot;my&quot;. Very interesting to be honest. I should learn to use it. And thanks"}, {"owner": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 4, "creation_date": 1432072314, "post_id": 30336711, "comment_id": 48767880, "body": "Because you didn&#39;t use <code>my</code>, your use of <code>@a</code> referred to the global <code>@a</code>, which is not recreated each time through the loop like you expected.  <code>my @a</code> creates a new <code>@a</code> each time."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 69, "user_id": 4515908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e95e5b6e116e9b8f9c62fd34da7a5687?s=128&d=identicon&r=PG&f=1", "display_name": "xcvbnm", "link": "https://stackoverflow.com/users/4515908/xcvbnm"}, "edited": false, "score": 0, "creation_date": 1432094814, "post_id": 30336711, "comment_id": 48773814, "body": "@xcvbnm: You should <code>use strict</code> as ikegami says, and declare <i>all</i> your variables with <code>my</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432113443, "post_id": 30336711, "comment_id": 48783534, "body": "But in this scenario - also ensure you do that inside the loop - <code>my @a</code> outside the loop will have the same result - you push a reference to the same array each time."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 7, "last_activity_date": 1432125797, "last_edit_date": 1432125797, "creation_date": 1432071961, "answer_id": 30336711, "question_id": 30336634, "link": "https://stackoverflow.com/questions/30336634/perl-array-reference-always-rewrites-over-itself-in-a-loop/30336711#30336711", "title": "Perl array reference always rewrites over itself in a loop", "body": "<p>You only have only two arrays in total. You want one per line, plus <code>@b</code>. <code>my</code> creates a new variable each time it is executed, so you can use the following:</p>\n\n<pre><code>my @b;\nwhile (&lt;IN&gt;) { \n    my @a = split;\n    push @b, \\@a; \n }\n</code></pre>\n\n<p>By the way, you should always use <code>use strict; use warnings;</code>. </p>\n"}], "owner": {"reputation": 69, "user_id": 4515908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e95e5b6e116e9b8f9c62fd34da7a5687?s=128&d=identicon&r=PG&f=1", "display_name": "xcvbnm", "link": "https://stackoverflow.com/users/4515908/xcvbnm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 30336711, "answer_count": 1, "score": 0, "last_activity_date": 1432125797, "creation_date": 1432071620, "question_id": 30336634, "link": "https://stackoverflow.com/questions/30336634/perl-array-reference-always-rewrites-over-itself-in-a-loop", "title": "Perl array reference always rewrites over itself in a loop", "body": "<p>I am trying to read some numbers from a text file and store it as a 2 dimensional array. I read a line and push into another array as an array reference. But I noticed that main array only has last line in all rows. How can i correct this? Thanks in advance. This is part i do it.</p>\n\n<pre><code>open IN, \"a.txt\";\n@b=();\n\nwhile (&lt;IN&gt;)\n\n { \n  $t =$_; \n  @a = split /\\s+/,$t; \n  push(@b, \\@a); \n }\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1432070573, "post_id": 30336320, "comment_id": 48767148, "body": "Your <code>elsif</code> in <code>_get_hyd_tc</code> will never be entered. Why are you using the same condition in both the <code>if</code> and the <code>elsif</code>? And why are you using a condition that will match any string? <code>.*</code> means match zero or more characters."}, {"owner": {"reputation": 2750, "user_id": 801553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74c6e34ee0ad953bb3079f5bb5cd9497?s=128&d=identicon&r=PG", "display_name": "Patrick J. S.", "link": "https://stackoverflow.com/users/801553/patrick-j-s"}, "edited": false, "score": 1, "creation_date": 1432072746, "post_id": 30336320, "comment_id": 48768079, "body": "Are the comments in the input in the real input or did you put them in? If you put them in, that&#39;s a <code>JSON</code>-format and your problem can be solved without any parsing on your part as the JSON module comes with perl."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1436032153, "creation_date": 1436032153, "answer_id": 31223537, "question_id": 30336320, "link": "https://stackoverflow.com/questions/30336320/perl-function-to-parse-the-command-output/31223537#31223537", "title": "perl function to parse the command output", "body": "<p>You are approaching this the wrong way. </p>\n\n<p>Your snippet you give is JSON. So really - your best bet by far is to process it as <code>JSON</code> and not try and parse it yourself. </p>\n\n<p>Something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse JSON;\nuse Data::Dumper;\n\nmy $command_output = '[\n    {\n       \"lan\" : 0,           \n       \"wan\" : 0,           \n       \"name\" : \"XYZ\",       \n       \"packets\" : 0,       \n       \"bytes\" : 0          \n    }\n]';\n\n\nmy $json_ob = decode_json( $command_output );\nprint Dumper \\$json_ob;\n\nprint $json_ob -&gt; [0] -&gt; {'name'};\n</code></pre>\n\n<p>Those <code>[]</code> in your text denotes an array. <em>usually</em> that means multiple elements. You could iterate those elements, but as you've just got one, accessing it via <code>[0]</code> does the trick. </p>\n\n<p>Now, you could if you really want map the attributes from 'words' to numeric, but ... there isn't really any need. </p>\n\n<p>But to answer your question - why is <code>null</code> returned - it's because:</p>\n\n<pre><code>if ($line =~ /(.*)/) {\n</code></pre>\n\n<p>Will always evaluate as true - zero or more of anything.</p>\n\n<p>And therefore you will never run the second <code>elsif</code> loop and so this never happens:</p>\n\n<pre><code>    $result{$opt}{++$count} = $value;\n</code></pre>\n\n<p>And so you never have anything other than an empty array to return. </p>\n"}], "owner": {"reputation": 173, "user_id": 3587025, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dceb16be8b88ea27250fed2644f9e370?s=128&d=identicon&r=PG&f=1", "display_name": "user3587025", "link": "https://stackoverflow.com/users/3587025/user3587025"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 269, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1436032153, "creation_date": 1432070157, "question_id": 30336320, "link": "https://stackoverflow.com/questions/30336320/perl-function-to-parse-the-command-output", "title": "perl function to parse the command output", "body": "<p>I have written a perl function that executes a command and parses  the command output. The command will provide the  output mentioned below. In the  function call i pass a number between  1 to 5 as arguments . '1' correspond to lan, 2 corresponds to wan, '3' corresponds to name and so on. ( see the output below) . for example if 1 is passed as an argument in the function call the expected output is   '0'  ( 1 = lan  and  value  of lan = 0 ) . When i execute the script im not getting the expected output. null is returned.Any suggestions?</p>\n\n<p>command output 1 :</p>\n\n<pre><code>[\n    {\n       \"lan\" : 0,           #1\n       \"wan\" : 0,           #2\n       \"name\" : \"XYZ\",      #3 \n       \"packets\" : 0,       #4\n       \"bytes\" : 0          #5\n    }\n]\n</code></pre>\n\n<p>Function call  </p>\n\n<pre><code>$self-&gt;{'stats_obj'} = Statistics-&gt;new( ip =&gt; \"ip addr\")\n\n    my $result = $self-&gt;{'stats_obj'}-&gt;statistics_get('1');\n       INFO('statistics:' . $result );\n</code></pre>\n\n<p>Function:</p>\n\n<pre><code>sub statistics_get{\n    my ($self, $option)= @_;\n\n    my $result = $self-&gt;_get_hyd_tc();\n\n    return $result-&gt;{$option};\n\n}\n\nsub _get_hyd_tc {\n\n    my ($self)  = @_;\n\n    my $opt;\n    my %result;\n    my $line;\n\n    my $cmd     = 'cmd goes here';\n\n    $self-&gt;execute($cmd);\n\n    my $count =0;\n\n    foreach my $line (  $self-&gt;output() ) {\n    chomp $line;\n\n    if ( $line =~ /(Requested table doesn't.*)/i ){\n\n        ERROR('table doesnt exist'  . $line)\n\n    }\n\n    if ($line =~ /(.*)/) {\n\n        $opt = $1;\n        $count = 0;\n\n   }\n     elsif ( $line =~ /(.*)/) {\n\n        my $key = $1;\n        my $value = $2;\n        $result{$opt}{++$count} = $value;\n       }\n    }\n\n    return \\%result;\n\n}\n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 5, "last_activity_date": 1432060882, "creation_date": 1432060882, "answer_id": 30333618, "question_id": 30333444, "link": "https://stackoverflow.com/questions/30333444/perl-one-liner-idiomatic-syntax/30333618#30333618", "title": "Perl one-liner idiomatic syntax", "body": "<p>In my experience, most people include the semi-colon, though one of the following might be more idiomatic in this case:</p>\n\n<pre><code>$var = 24 if !$var;\n$var = 24 unless $var;\n$var ||= 24;\n</code></pre>\n\n<p>(Some people hate <code>unless</code>, though.)</p>\n\n<hr>\n\n<p>Not quite as many, but quite a few, also include a trailing comma in lists spanning multiple lines.</p>\n\n<pre><code>my @foo = (\n   \"abc def\",\n   \"ghi jkl\",\n   \"mno pqr\",\n);\n</code></pre>\n\n<p>This reduces the number of changed lines when adding to the list, and makes it easier to do so.</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 6, "creation_date": 1432067737, "post_id": 30333622, "comment_id": 48765782, "body": "<code>&#47;&#47;=</code> might be worth including for perl 5.10."}, {"owner": {"reputation": 1314, "user_id": 2938149, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9b2d6e2cfcb23de95f6efc35816c1afb?s=128&d=identicon&r=PG", "display_name": "Bruno9779", "link": "https://stackoverflow.com/users/2938149/bruno9779"}, "edited": false, "score": 0, "creation_date": 1432212803, "post_id": 30333622, "comment_id": 48838475, "body": "I have tried &#39;&#39;//=&#39;&#39; and &#39;&#39;||=&#39;&#39; on perl 5.10 on CentOS 6 and both work without issues. Maybe it is a Red Hat backport?"}, {"owner": {"reputation": 862, "user_id": 1155333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dcec13071dd7747b48798a80a6fa59b?s=128&d=identicon&r=PG", "display_name": "Cornel Ghiban", "link": "https://stackoverflow.com/users/1155333/cornel-ghiban"}, "edited": false, "score": 0, "creation_date": 1432226838, "post_id": 30333622, "comment_id": 48848733, "body": "Please note that there is a tiny difference between ||= and //=. For $var equal to 0, $var ||= 24 will change the value of $var, while $var //= 24 will not change $var&#39;s value."}], "tags": [], "owner": {"reputation": 862, "user_id": 1155333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dcec13071dd7747b48798a80a6fa59b?s=128&d=identicon&r=PG", "display_name": "Cornel Ghiban", "link": "https://stackoverflow.com/users/1155333/cornel-ghiban"}, "is_accepted": true, "score": 7, "last_activity_date": 1432060888, "creation_date": 1432060888, "answer_id": 30333622, "question_id": 30333444, "link": "https://stackoverflow.com/questions/30333444/perl-one-liner-idiomatic-syntax/30333622#30333622", "title": "Perl one-liner idiomatic syntax", "body": "<p>Both are correct, as you noticed. You don't need to end your last statement within a block with a semicolon, but it's good practice.</p>\n\n<p>Here are a few ways to rewrite your if statement:</p>\n\n<pre><code>$var = 24 if !$var;\n$var = 24 unless $var;\n$var ||= 24;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 13, "last_activity_date": 1432062564, "last_edit_date": 1432062564, "creation_date": 1432061039, "answer_id": 30333672, "question_id": 30333444, "link": "https://stackoverflow.com/questions/30333444/perl-one-liner-idiomatic-syntax/30333672#30333672", "title": "Perl one-liner idiomatic syntax", "body": "<p>First, <code>if (!$var) { $var = 24; }</code> on a single-line with or without semi-colons is not idiomatic in Perl.</p>\n\n<p>As you have noticed, the semi-colon is not necessary, because, in Perl, semi-colons are statement separators, not statement terminators.</p>\n\n<p>Your question has 'one-liner' in the title, but I can't figure out what this has to do with one-liners. If there is a reason to use the full <code>if condition block</code> syntax, then don't put it on a single line. Instead:</p>\n\n<pre><code>if (!$var) {\n    $var = 24;\n}\n</code></pre>\n\n<p>Presumably, you are using the block because you might add other statements in it. This will make your diffs cleaner.</p>\n\n<p>On the other hand, the statement is only meant to set <code>$var</code> and nothing else when <code>$var</code> is false or undefined, then you should use:</p>\n\n<pre><code>$var ||= 24;\n</code></pre>\n\n<p>over other methods because this is the clearest statement of intent. If the idea is to only set <code>$var</code> when it is not defined, you can use:</p>\n\n<pre><code> $var //= 24;\n</code></pre>\n\n<p>with 5.10 and later.</p>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 4917492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13e8246dc3f259aca279b32ba4787b3?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Paul", "link": "https://stackoverflow.com/users/4917492/tarun-paul"}, "is_accepted": false, "score": 3, "last_activity_date": 1432061679, "last_edit_date": 1432061679, "creation_date": 1432061446, "answer_id": 30333804, "question_id": 30333444, "link": "https://stackoverflow.com/questions/30333444/perl-one-liner-idiomatic-syntax/30333804#30333804", "title": "Perl one-liner idiomatic syntax", "body": "<p>From <a href=\"http://perldoc.perl.org/perlsyn.html\" rel=\"nofollow\" title=\"perldoc::perlsyn\">perldoc perlsyn</a>:</p>\n\n<blockquote>\n  <p>Every simple statement must be terminated with a semicolon,\n  unless it is the final statement in a block, in which case the semicolon is optional.\n  But put the semicolon in anyway if the block takes up more than one line,\n  because you may eventually add another line.</p>\n</blockquote>\n\n<p>I prefer to add semicolon always.</p>\n"}], "owner": {"reputation": 1314, "user_id": 2938149, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9b2d6e2cfcb23de95f6efc35816c1afb?s=128&d=identicon&r=PG", "display_name": "Bruno9779", "link": "https://stackoverflow.com/users/2938149/bruno9779"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 30333622, "answer_count": 4, "score": 0, "last_activity_date": 1432062564, "creation_date": 1432060342, "question_id": 30333444, "link": "https://stackoverflow.com/questions/30333444/perl-one-liner-idiomatic-syntax", "title": "Perl one-liner idiomatic syntax", "body": "<p>In perl both:</p>\n\n<pre><code>if (!$var) { $var = 24 }\n</code></pre>\n\n<p>and :</p>\n\n<pre><code>if (!$var) { $var = 24; }\n</code></pre>\n\n<p>Are correct, when I expected only the second one to work.</p>\n\n<p>Which one is the most idiomatic syntax?</p>\n"}, {"tags": ["perl", "ssl", "apple-push-notifications"], "answers": [{"tags": [], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "is_accepted": true, "score": 0, "last_activity_date": 1432151432, "creation_date": 1432151432, "answer_id": 30359122, "question_id": 30332833, "link": "https://stackoverflow.com/questions/30332833/issues-with-connecting-with-apple-apns-using-perl/30359122#30359122", "title": "Issues with connecting with apple APNS using perl", "body": "<p>Figured out the issue finally. Apple server drops a session if invalid tokens are supplied and the write_partial function sends a termination signal when fails to write to the socket. To prevent the script from terminating we need to use</p>\n\n<pre><code>$SIG{'PIPE'} = 'IGNORE';\n</code></pre>\n"}], "owner": {"reputation": 2920, "user_id": 3360140, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/OThx0.jpg?s=128&g=1", "display_name": "Kamrul Khan", "link": "https://stackoverflow.com/users/3360140/kamrul-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 30359122, "answer_count": 1, "score": 0, "last_activity_date": 1513887566, "creation_date": 1432058265, "question_id": 30332833, "link": "https://stackoverflow.com/questions/30332833/issues-with-connecting-with-apple-apns-using-perl", "title": "Issues with connecting with apple APNS using perl", "body": "<p>I am using a library(Net::APNS::Persistent) that uses Net::SSLeay.  This library helps to communicate with Apples APNS servers. I found if I send any bad data for example wrong token or poorly formatted payload, the program terminates after three tries.  And it shows no error message.</p>\n\n<p>As per my debugging this issue is occurring from line number 1895 of SSLeay.pm</p>\n\n<p>$wrote = write_partial($ssl, $written, $to_write, $$data_ref);</p>\n\n<p>I tried to catch if any exception, term signal were sent but no luck. If there is a network issue or any sort of error I expect it should show an error message/ exception that can be handled. But it simply kills the program without saying anything. Is there a way to sort this out? My code is as below:</p>\n\n<pre><code>package apnsClient;\n\nuse Net::APNS::Persistent;\nuse Data::Dumper;\nuse Test::Trap;\n\nmy $cfg;\nmy $apns;\n\nsub load {\n    my $class = shift;\n    my $self = {\n        _cfg =&gt; shift,\n    };\n\n    $cfg = $self-&gt;{_cfg};\n\n    bless $self, $class;\n    return $self;\n}\n\nsub connect {\n    my ($sandbox, $cert, $key, $pass) = $cfg-&gt;getAPNSServer();\n\n    print \"[x] Cert $cert Key $key \\n\";\n\n    $apns = Net::APNS::Persistent-&gt;new({\n        sandbox =&gt; $sandbox,\n        cert    =&gt; $cert,\n        key     =&gt; $key,\n    }) or die(\"[-] Unable to connect to APNS server\");\n}\n\nsub push {\n    my ($class,$token,$payload) = @_;\n\n    print \"[+] Sending push with token: $token and Data: \\n \".Dumper($payload);\n\n    $apns-&gt;queue_notification(\n       $token,\n       $payload\n       );\n    print \"[+] Sending apns queue \\n\";\n    $apns-&gt;send_queue;\n    print \"[+] Sent \\n\";\n}\n\nsub disconnect {\n    $apns-&gt;disconnect;\n}\n\n1;\n</code></pre>\n"}, {"tags": ["perl", "io"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 7, "creation_date": 1432051490, "post_id": 30330634, "comment_id": 48756098, "body": "Instead of using <code>ls</code>, why not use <code>glob</code>? It correctly expands <code>~</code> in paths."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1432051701, "post_id": 30330634, "comment_id": 48756264, "body": "<code>use Data::Dumper; $Data::Dumper::Useqq = 1; print Dumper \\@olap_f;</code> will show you exactly what&#39;s going on."}, {"owner": {"reputation": 3416, "user_id": 2157668, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/864d5df0347f37aa7d3c1c1285a91dd0?s=128&d=identicon&r=PG", "display_name": "olala", "link": "https://stackoverflow.com/users/2157668/olala"}, "edited": false, "score": 0, "creation_date": 1432052222, "post_id": 30330634, "comment_id": 48756597, "body": "i didn&#39;t know glob and Data::Dumper. thanks for the suggestions."}, {"owner": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "edited": false, "score": 1, "creation_date": 1432055838, "post_id": 30330634, "comment_id": 48758802, "body": "Relevant question: <a href=\"http://unix.stackexchange.com/questions/128985/why-not-parse-ls\">unix.stackexchange.com/questions/128985/why-not-parse-ls</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3416, "user_id": 2157668, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/864d5df0347f37aa7d3c1c1285a91dd0?s=128&d=identicon&r=PG", "display_name": "olala", "link": "https://stackoverflow.com/users/2157668/olala"}, "edited": false, "score": 0, "creation_date": 1432052248, "post_id": 30330857, "comment_id": 48756614, "body": "chomp solved the problem!! thanks for the other suggestions as well!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 5, "creation_date": 1432052343, "post_id": 30330857, "comment_id": 48756688, "body": "I&#39;d suggest adding - use a lexically scoped filehandle, as it&#39;s generally better style. <code>open ( my $input, &quot;&lt;&quot;, $file ) or die $!;</code>"}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": true, "score": 6, "last_activity_date": 1432052431, "last_edit_date": 1432052431, "creation_date": 1432051912, "answer_id": 30330857, "question_id": 30330634, "link": "https://stackoverflow.com/questions/30330634/perl-canot-open-file-within-a-loop/30330857#30330857", "title": "perl: canot open file within a loop", "body": "<p>You have newlines at the end of each filename:</p>\n\n<pre><code>my @olap_f = `ls ~dir_to_file/*txt`;\nchomp @olap_f; # Remove newlines\n</code></pre>\n\n<p>Better yet, use <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\"><code>glob</code></a> to avoid launching a new process (and having to trim newlines):</p>\n\n<pre><code>my @olap_f = glob \"~dir_to_file/*txt\";\n</code></pre>\n\n<p>Also, use <a href=\"http://perldoc.perl.org/perlvar.html#$OS_ERROR\" rel=\"nofollow\"><code>$!</code></a> to find out why a file couldn't be opened:</p>\n\n<pre><code>open(IN,'&lt;',$file) || die \"cannot open $file: $!\";\n</code></pre>\n\n<p>This would have told you</p>\n\n<pre><code>cannot open /full_dir_to_file/a.txt\n: No such file or directory\n</code></pre>\n\n<p>which might have made you recognize the unwanted newline.</p>\n"}, {"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 1, "last_activity_date": 1432053856, "creation_date": 1432053856, "answer_id": 30331490, "question_id": 30330634, "link": "https://stackoverflow.com/questions/30330634/perl-canot-open-file-within-a-loop/30331490#30331490", "title": "perl: canot open file within a loop", "body": "<p>I'll add a quick plug for <a href=\"https://metacpan.org/pod/IO::All\" rel=\"nofollow\"><code>IO::All</code></a> here. It's important to know what's going on under the hood but it's convenient sometimes to be able to do:</p>\n\n<pre><code>use IO::All;\nmy @olap_f = io-&gt;dir('/full_dir_to_file/')-&gt;glob('*txt');\n</code></pre>\n\n<p>In this case it's not shorter than @cjm's use of <code>glob</code> but <code>IO::All</code> does have a few other convenient methods for working with files as well.</p>\n"}], "owner": {"reputation": 3416, "user_id": 2157668, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/864d5df0347f37aa7d3c1c1285a91dd0?s=128&d=identicon&r=PG", "display_name": "olala", "link": "https://stackoverflow.com/users/2157668/olala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 30330857, "answer_count": 2, "score": 0, "last_activity_date": 1432053856, "creation_date": 1432051334, "last_edit_date": 1432051885, "question_id": 30330634, "link": "https://stackoverflow.com/questions/30330634/perl-canot-open-file-within-a-loop", "title": "perl: canot open file within a loop", "body": "<p>I am trying to read in a bunch of similar files and process them one by one. Here is the code I have. But somehow the perl script doesn't read in the files correctly. I'm not sure how to fix it. The files are definitely readable and writable by me. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @olap_f = `ls /full_dir_to_file/*txt`;\n\nforeach my $file (@olap_f){\n    my %traits_h;\n\n    open(IN,'&lt;',$file) || die \"cannot open $file\";\n\n    while(&lt;IN&gt;){\n        chomp;\n        my @array = split /\\t/;\n        my $trait = $array[4];\n        $traits_h{$trait} ++;\n    }\n    close IN;\n\n}  \n</code></pre>\n\n<p>When I run it, the error message (something like below) showed up: </p>\n\n<pre><code>cannot open /full_dir_to_file/a.txt\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1432049383, "post_id": 30329675, "comment_id": 48754622, "body": "Did you use the ppm from one install of Perl, but try to use the module using another install of Perl?"}, {"owner": {"reputation": 11, "user_id": 4517346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5d4242fe98a40a1bcc5a0f1901a447?s=128&d=identicon&r=PG&f=1", "display_name": "Said Dante Alegri", "link": "https://stackoverflow.com/users/4517346/said-dante-alegri"}, "edited": false, "score": 0, "creation_date": 1432049948, "post_id": 30329675, "comment_id": 48755007, "body": "Can&#39;t locate XML/RSS.pm in @INC (@INC contains: /usr/lib/perl5/site_perl/5.14/i686-cygwin-threads-64int /usr/lib/perl5/site_perl/5.14 /usr/lib/perl5/vendor_perl/5.14/i686-cygwin-threads-64int /usr/lib/perl5/vendor_perl/5.14 /usr/lib/perl5/5.14/i686-cygwin-threads-64int /usr/lib/perl5/5.14 /usr/lib/perl5/site_perl/5.10 /usr/lib/perl5/vendor_perl/5.10 /usr/lib/perl5/site_perl/5.8 .) at bao1.pl line 3. BEGIN failed--compilation aborted at bao1.pl line 3."}, {"owner": {"reputation": 11, "user_id": 4517346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5d4242fe98a40a1bcc5a0f1901a447?s=128&d=identicon&r=PG&f=1", "display_name": "Said Dante Alegri", "link": "https://stackoverflow.com/users/4517346/said-dante-alegri"}, "edited": false, "score": 0, "creation_date": 1432049980, "post_id": 30329675, "comment_id": 48755032, "body": "this is where I call the module use XML::RSS;"}, {"owner": {"reputation": 11, "user_id": 4517346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5d4242fe98a40a1bcc5a0f1901a447?s=128&d=identicon&r=PG&f=1", "display_name": "Said Dante Alegri", "link": "https://stackoverflow.com/users/4517346/said-dante-alegri"}, "edited": false, "score": 0, "creation_date": 1432050163, "post_id": 30329675, "comment_id": 48755139, "body": "The module is correctly installed in C:\\Perl\\site\\lib\\XML"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1432050444, "post_id": 30329675, "comment_id": 48755347, "body": "That error message is not from ActiveState&#39;s <code>perl</code>. It is from Cygwin&#39;s. Decide which one you want to use, and adjust your path appropriately."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4517346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5d4242fe98a40a1bcc5a0f1901a447?s=128&d=identicon&r=PG&f=1", "display_name": "Said Dante Alegri", "link": "https://stackoverflow.com/users/4517346/said-dante-alegri"}, "edited": false, "score": 0, "creation_date": 1432059153, "post_id": 30330322, "comment_id": 48760814, "body": "How can I install the module and run it with Cygwin please?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 11, "user_id": 4517346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5d4242fe98a40a1bcc5a0f1901a447?s=128&d=identicon&r=PG&f=1", "display_name": "Said Dante Alegri", "link": "https://stackoverflow.com/users/4517346/said-dante-alegri"}, "edited": false, "score": 0, "creation_date": 1432059295, "post_id": 30330322, "comment_id": 48760892, "body": "By installing the module using Cygwin&#39;s <code>cpan</code> instead of ActiveState&#39;s <code>ppm</code>. Make sure you are running the right <code>cpan</code> because there will also be a <code>cpan</code> that came with ActiveState."}, {"owner": {"reputation": 11, "user_id": 4517346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5d4242fe98a40a1bcc5a0f1901a447?s=128&d=identicon&r=PG&f=1", "display_name": "Said Dante Alegri", "link": "https://stackoverflow.com/users/4517346/said-dante-alegri"}, "edited": false, "score": 0, "creation_date": 1432062682, "post_id": 30330322, "comment_id": 48762920, "body": "I did this but it still don&#39;t work, I have a bunch of errors like Can&#39;t test without successful make"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 11, "user_id": 4517346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5d4242fe98a40a1bcc5a0f1901a447?s=128&d=identicon&r=PG&f=1", "display_name": "Said Dante Alegri", "link": "https://stackoverflow.com/users/4517346/said-dante-alegri"}, "edited": false, "score": 0, "creation_date": 1432062836, "post_id": 30330322, "comment_id": 48763015, "body": "Edit your post, show the command you ran, paste the error messages you got instead of making vague statements in comments. Did you install <code>make</code> for Cygwin? Did you install <code>gcc</code> for Cygwin? First, understand how your preferred environment works."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 6, "last_activity_date": 1432053245, "last_edit_date": 1432053245, "creation_date": 1432050507, "answer_id": 30330322, "question_id": 30329675, "link": "https://stackoverflow.com/questions/30329675/on-windows-why-cant-perl-find-a-module-i-installed-using-ppm/30330322#30330322", "title": "On Windows, why can&#39;t perl find a module I installed using ppm?", "body": "<p>Using <code>ppm</code>, you installed the module in ActiveState Perl distribution's <code>lib</code>. However, the <code>perl</code> binary you are trying to run is from Cygwin.</p>\n\n<p>That means, Cygwin's <code>bin</code> directories appear before ActiveState's <code>bin</code> directories in your <code>%PATH%</code>.</p>\n\n<p><a href=\"https://support.microsoft.com/en-us/kb/310519\" rel=\"nofollow\">Edit your <code>%PATH%</code></a> so that <code>C:\\Perl\\site\\bin;C:\\Perl\\bin</code> appear ahead of any Cygwin related directories if you wish to use ActiveState's <code>perl</code>.</p>\n\n<p>Or, invoke <code>perl</code> using <code>C:\\Perl\\bin\\perl.exe</code> to make sure you run the right <code>perl</code>.</p>\n\n<p>You should seriously consider becoming familiar with how your chosen OS works before attempting to become a programmer.</p>\n"}], "owner": {"reputation": 11, "user_id": 4517346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5d4242fe98a40a1bcc5a0f1901a447?s=128&d=identicon&r=PG&f=1", "display_name": "Said Dante Alegri", "link": "https://stackoverflow.com/users/4517346/said-dante-alegri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "closed_date": 1432082530, "answer_count": 1, "score": -1, "last_activity_date": 1432053245, "creation_date": 1432048727, "last_edit_date": 1432050690, "question_id": 30329675, "link": "https://stackoverflow.com/questions/30329675/on-windows-why-cant-perl-find-a-module-i-installed-using-ppm", "closed_reason": "Not suitable for this site", "title": "On Windows, why can&#39;t perl find a module I installed using ppm?", "body": "<p>I'm using ActivePerl-5.18.4.1804 on Windows 7.  I have a script that requires <a href=\"https://metacpan.org/pod/\" rel=\"nofollow\">XML::RSS</a> module.  I did install it using <code>ppm</code>, but I have always the same error message:</p>\n\n<blockquote>\n  <p><code>Can't locate XML/RSS.pm in @INC (@INC contains: /usr/lib/perl5/site_perl/5.14/i686-cygwin-threads-64int /usr/lib/perl5/site_perl/5.14 /usr/lib/perl5/vendor_perl/5.14/i686-cygwin-threads-64int /usr/lib/perl5/vendor_perl/5.14 /usr/lib/perl5/5.14/i686-cygwin-threads-64int /usr/lib/perl5/5.14 /usr/lib/perl5/site_perl/5.10 /usr/lib/perl5/vendor_perl/5.10 /usr/lib/perl5/site_perl/5.8 .) at bao1.pl line 3. BEGIN failed--compilation aborted at bao1.pl line 3.</code></p>\n</blockquote>\n"}, {"tags": ["perl", "data-structures", "perl-data-structures"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 3, "creation_date": 1432046502, "post_id": 30328787, "comment_id": 48752273, "body": "Have you attempted a solution to this problem? Please show it if you have."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432046560, "post_id": 30328787, "comment_id": 48752334, "body": "Hi. Stack Overflow is a site for helping people with programming problems. It&#39;s not a coding service. Those exist, but usually they cost money. If  you would like some assistance with your coding problem, I&#39;d suggest taking a look at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and redrafting your question accordingly."}, {"owner": {"reputation": 19585, "user_id": 3115685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206073fe8f46ef1f9261d75c80c19c6f?s=128&d=identicon&r=PG&f=1", "display_name": "arco444", "link": "https://stackoverflow.com/users/3115685/arco444"}, "edited": false, "score": 0, "creation_date": 1432046636, "post_id": 30328787, "comment_id": 48752409, "body": "You didn&#39;t <i>even</i> share what the value of this <b>&quot;quota&quot;</b> is."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1432052668, "post_id": 30328787, "comment_id": 48756916, "body": "Oops ... I&#39;m a bit of a <code>push @over</code> I guess :-P   @mak-on-in ... If you want to continue to be part of Stackoverflow you should try to improve your question; more clearly formulate your requirements; have a clear and relevant title/subject that connects your problem to some general programming question/technique; and at least make an <i>attempt</i> to solve it (in this case with perl)."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4916572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/875a2272135cace2ead9d12840d3b9d8?s=128&d=identicon&r=PG&f=1", "display_name": "mak ko nin", "link": "https://stackoverflow.com/users/4916572/mak-ko-nin"}, "edited": false, "score": 1, "creation_date": 1432096031, "post_id": 30331000, "comment_id": 48774136, "body": "Thanks for your kind help!!!"}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 1, "last_activity_date": 1432084995, "last_edit_date": 1432084995, "creation_date": 1432052331, "answer_id": 30331000, "question_id": 30328787, "link": "https://stackoverflow.com/questions/30328787/filter-textual-data-and-count-records-corresponding-to-a-specific-value/30331000#30331000", "title": "Filter textual data and count records corresponding to a specific value", "body": "<p>You can transform your data into an array of arrays and then iterate through the array elements to check for the \"Over quota\" statement. </p>\n\n<p>This one-liner will <code>split</code> the input on blank lines (<code>split/\\n{2,}/</code>) and uses <code>push</code> to put the resulting records in an array (<code>@quotalog</code>) of anonymous arrays (note the anonymous array constructors <code>[ ]</code>):</p>\n\n<pre><code> perl -n0E 'push @quotalog, map { s/\\s+/ /gr ; [split] } split/\\n{2,}/ ;\n            for (@quotalog){ say $_-&gt;[0] if (\"@$_\" =~ /Over/) }' quotadata.txt\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>64ACF141E4D\n67E1A1420CF\n680911418C9\n666611416DD\n62980141A8C\n6DD47142017\n696AD1420A4\n</code></pre>\n\n<p>Or, to approximate your sample output:</p>\n\n<pre><code>perl -n0E 'push @quotalog, map { [split] } split/\\n{2,}/ ; \n   for (@quotalog){ push @over, $_-&gt;[0] if (\"@$_\" =~ /Over/) }\n   print ~~@over, \" Over quota:\\n\" ; print join \", \", @over,\"\\n\";' quotadata.txt\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>7 Over quota: \n64ACF141E4D, 67E1A1420CF, 680911418C9, 666611416DD, 62980141A8C, 6DD47142017, 696AD1420A4,\n</code></pre>\n\n<p>You might instead want to transform the data into a hash of arrays. Here we use a \"<strong>double <code>map</code> to a hash</strong>\" to create the hash and <code>Data::Dumper</code> to view it (as an alternative you could use <a href=\"http://www.metacpan.org/pod/Data::Printer\" rel=\"nofollow\"><code>Data::Printer</code></a>):</p>\n\n<pre><code> perl -MData::Dumper -n0E 'map { $quotas{$_-&gt;[0]} = [ @{ $_ }[1...$#$_] ] } \n         map { [ split ] } split/\\n{2,}/ ; print Dumper \\%quotas' quotadata.txt\n</code></pre>\n\n<p>This is just for illustrative purposes - the second <code>map</code> (<em>i.e.</em> the first <code>map</code> the list of <code>split</code> records sees) might be better using a regex instead of a simple <code>split</code>.  In any case, once your data is nicely arranged your can begin to extract information from it - though for that a longer script form application would be more appropriate.</p>\n\n<p>Have a terminal or browser window open on <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow\">The Perl Data Structures Cookbook</a> (<em>cf.</em> <code>perdoc perldsc</code>) as you experiment and you'll learn quite a bit with your relatively simple exercise.</p>\n"}], "owner": {"reputation": 11, "user_id": 4916572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/875a2272135cace2ead9d12840d3b9d8?s=128&d=identicon&r=PG&f=1", "display_name": "mak ko nin", "link": "https://stackoverflow.com/users/4916572/mak-ko-nin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "closed_date": 1432065093, "answer_count": 1, "score": -5, "last_activity_date": 1432093894, "creation_date": 1432046360, "last_edit_date": 1432093894, "question_id": 30328787, "link": "https://stackoverflow.com/questions/30328787/filter-textual-data-and-count-records-corresponding-to-a-specific-value", "closed_reason": "Not suitable for this site", "title": "Filter textual data and count records corresponding to a specific value", "body": "<p>From the data below I would like to find out how many unique \"Over quota\"  lines there are corresponding to the ID values that start each line (<em>e.g.</em> <code>38148141CEB*</code>),  Each ID should only be counted once, even though there are multiple \"Over quota\" lines. What sort of data structure would be best to use for this task? How can I transform the data to achieve this?</p>\n\n<h1>Sample Input</h1>\n\n<pre><code>38148141CEB*   55166 Tue May 19 20:38:45  aaa@bbb.com\n                                     aaa@nwegweg.com\n\nAABFF141D0F*    6289 Tue May 19 20:38:44  MAILER-DAEMON\n                                     rgerg@rgerger.com\n\n3F384141CAF*   15422 Tue May 19 20:38:44  MAILER-DAEMON\n                                     gregrg@gserhweh.com\n\n6E5F1142129    59842 Tue May 19 17:22:39  rhgregr@grehedh.in\n(connect to mail.rtherh.com.hk[118.142.113.41]:25: Connection timed out)\n                                     hbed@herer.com.hk\n\n64ACF141E4D     7026 Tue May 19 14:21:14  hdtjndtrj@tjrftjnrf.com\n(host hergherhe.herherh.com[172.16.12.160] said: 452 4.2.2 Over quota (in      reply to end of DATA command))\n                                     c@rhedhed.com\n(host hergherhe.herherh.com[172.16.12.160] said: 452 4.2.2 Over quota (in reply to end of DATA command))\n                                     c@rhedhed.com\n\n67E1A1420CF     2993 Tue May 19 12:36:45  erhejhe\n(host z.rherh.com[172.16.12.164] said: 452 4.2.2 Over quota (in reply to end of DATA command))\n                                     heehedh88@drehnjedthnj.com\n(host hergherhe.herherh.com[172.16.12.160] said: 452 4.2.2 Over quota (in reply to end of DATA command))\n                                     c@rhedhed.com\n\n680911418C9    11041 Tue May 19 13:59:49  efswegrwe\n(host zgewsegws.nrhsrhedr.com[172.16.12.161] said: 452 4.2.2 Over quota (in reply to end of DATA command))\n                                     wrhwrg@etheherg.com\n\n666611416DD    29459 Tue May 19 11:35:58  erherhe@ejerthjrth.com\n(host herer.herwsrh.com[172.16.12.152] said: 452 4.2.2 Over quota (in reply to end of DATA command))\n                                     rggerhed@erhjehjedtr.com\n(host hergherhe.herherh.com[172.16.12.160] said: 452 4.2.2 Over quota (in reply to end of DATA command))\n                                     c@rhedhed.com\n(host hergherhe.herherh.com[172.16.12.160] said: 452 4.2.2 Over quota (in reply to end of DATA command))\n                                     c@rhedhed.com\n\n643F9142006    11077 Tue May 19 11:34:32  tejeastj@eherjhe.com\n(Host or domain name not found. Name service error for name=tjedtjedt.com type=MX: Host not found, try again)\n                                     tedjedth@edtjedthghr.com\n\n62980141A8C   464040 Tue May 19 15:52:06  etjertj@jrtjedtj.com.hk\n(host zherherh.com[172.16.12.159] said: 452 4.2.2 Over quota (in reply to end of DATA command))\n                                     trjerjer@rherherh.com\n\n6DD47142017    20049 Tue May 19 11:04:34  erhedrhje\n(host ejedtjedrth.com[172.16.12.161] said: 452 4.2.2 Over quota (in reply to end of DATA command))\n                                     ehjdthjdr@etjtdfteh.com\n\n696AD1420A4     7679 Tue May 19 15:09:05  wrgwsrg\n(host rwherhe.hre.com[172.16.12.157] said: 452 4.2.2 Over quota (in reply to end of DATA command))\n                                     wegw@gwrhbwrg.com\n</code></pre>\n\n<h1>Sample output</h1>\n\n<p>The output I need would look something like this:</p>\n\n<pre><code>7 Over quota:\n64ACF141E4D, 67E1A1420CF, 680911418C9, 666611416DD, 62980141A8C, 6DD47142017, 696AD1420A4\n</code></pre>\n"}, {"tags": ["perl", "sockets"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432050261, "post_id": 30327343, "comment_id": 48755212, "body": "Please <i>always</i> <code>use strict</code> and <code>use warnings</code> and declare your variables with <code>my</code> at their first point of use. You should also avoid <i>indirect object notation</i>, so <code>new IO::Socket::INET(...)</code> should be <code>IO::Socket::INET-&gt;new(...)</code>. The <a href=\"http://perldoc.perl.org/perlobj.html#Invoking-Class-Methods\" rel=\"nofollow noreferrer\"><i>Invoking Class Methods</i> section of <code>perlobj</code></a> says <i>\u201cWe recommend that you avoid this syntax, for several reasons\u201d</i>"}], "answers": [{"comments": [{"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1432053892, "post_id": 30327816, "comment_id": 48757686, "body": "Thanks for your help :) I will take your comments on good practices and will follow them. Also using send/recv only solve my problems Thanks again"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432053958, "post_id": 30327816, "comment_id": 48757722, "body": "<code>$| = 1</code> will set autoflush on the current output \u2014 here that is <code>STDOUT</code>. It is best to say what you mean with <code>STDOUT-&gt;autoflush</code> and <code>$socket-&gt;autoflush</code>. That requires <code>IO::Handle</code>, which has been loaded automatically on demand (via <code>IO::File</code> and <code>IO::Seekable</code>) since v5.14"}, {"owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "edited": false, "score": 0, "creation_date": 1432056998, "post_id": 30327816, "comment_id": 48759477, "body": "I have used <code>$|=1</code> and i am reading like this <code>socket-&gt;read($data,1024);</code> on client. The issue is that i am not able to get last few bytes on <code>STDOUT</code>  which i think is due to the fact that i am reading it into <code>1024 byte</code> buffer and since buffer is not full client waits. But i have nothing more to send from server side so how to get those last few bytes."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1432044662, "last_edit_date": 1432044662, "creation_date": 1432043924, "answer_id": 30327816, "question_id": 30327343, "link": "https://stackoverflow.com/questions/30327343/server-not-able-to-reply-back-to-client-in-perl/30327816#30327816", "title": "Server not able to reply back to client in perl", "body": "<p>Going to hazard a guess that it's this:</p>\n\n<pre><code>$data = &lt;$client_socket&gt;;\n$client_socket-&gt;send(\"hello\");\n\nprint $socket \"mailshow 018DB3FCE4\";\n$socket-&gt;recv($data,1024);\n</code></pre>\n\n<p>When you're reading from <code>$client_socket</code> as a file handle, it's trying to read a <em>line</em> of data. This line of data is defined by <code>$/</code> and is by default a line feed (or end-of-file). You don't send a line feed, so that <code>$data= &lt;$client_socket&gt;</code> blocks until you terminate the process. </p>\n\n<p>I would guess that if you:</p>\n\n<ul>\n<li><code>undef $/</code></li>\n<li>send <code>\\n</code></li>\n<li>or use <code>send</code>/<code>recv</code> exclusively</li>\n</ul>\n\n<p>You won't have this problem. </p>\n\n<p>Refer to <a href=\"http://perldoc.perl.org/perlipc.html#Internet-TCP-Clients-and-Servers\" rel=\"nofollow\"><code>perlipc</code></a> for an example. And please, please please - turn on <code>strict</code> and <code>warnings</code>. It's only polite when asking for assistance. </p>\n\n<p>This seems to do what you want:</p>\n\n<h2>Client:</h2>\n\n<pre><code>use strict;\nuse warnings;\n\nuse IO::Socket::INET;\n$| = 1;\n\nmy $socket = new IO::Socket::INET(\n    PeerHost =&gt; '127.0.0.1',\n    PeerPort =&gt; '5000',\n    Proto    =&gt; 'tcp',\n) or die \"Error in socket creation : $!\\n\";\n\nprint {$socket} \"mailshow 018DB3FCE4\\n\";\nmy $data;\n$socket-&gt;recv( $data, 1024 );\nprint \"Client received: \",$data,\"\\n\";\nsleep(5);\n$socket-&gt;close();\n</code></pre>\n\n<h2>Server:</h2>\n\n<pre><code>use strict;\nuse warnings;\n\nuse IO::Socket::INET;\n\n$| = 1;\nmy $socket = new IO::Socket::INET(\n    LocalHost =&gt; '127.0.0.1',\n    LocalPort =&gt; '5000',\n    Proto     =&gt; 'tcp',\n    Listen    =&gt; 5,\n    Reuse     =&gt; 1\n) or die \"Error in socket creation: $!\\n\";\n\nwhile (1) {\n    my $client_socket = $socket-&gt;accept();\n    my $data          = &lt;$client_socket&gt;;\n    print \"Received from socket is $data\\n\";\n    print \"Sending to socket\\n\";\n    $client_socket-&gt;send(\"hello\");\n\n}\n\n$socket-&gt;close();\n</code></pre>\n\n<p>Although as a style point - I'd strongly recommend <em>against</em> mixing <code>print</code>/<code>&lt;&gt;</code> and <code>send</code>/<code>recv</code> in your code - it's a great way to lead to confusion down the line. </p>\n\n<p>e.g.:</p>\n\n<pre><code>print {$socket} \"mailshow 018DB3FCE4\\n\";\nmy $data = &lt;$socket&gt;;\nprint \"Client received: \",$data,\"\\n\";\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>my $data          = &lt;$client_socket&gt;;\nprint \"Received from socket is $data\\n\";\nprint \"Sending to socket\\n\";\nprint {$client_socket} \"hello\\n\";\n</code></pre>\n"}], "owner": {"reputation": 2269, "user_id": 3016716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/wCaTR.jpg?s=128&g=1", "display_name": "shivams", "link": "https://stackoverflow.com/users/3016716/shivams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 30327816, "answer_count": 1, "score": 0, "last_activity_date": 1432049899, "creation_date": 1432042738, "last_edit_date": 1432049899, "question_id": 30327343, "link": "https://stackoverflow.com/questions/30327343/server-not-able-to-reply-back-to-client-in-perl", "title": "Server not able to reply back to client in perl", "body": "<p>I am using Perl to implement client-server commmunication via socket programming.</p>\n\n<p>I am sending some data from client to server, but I am not able to see anything on the server unless the client is killed using Ctrl-C.</p>\n\n<p>Also, whatever is returned from the server never reaches the client.</p>\n\n<p>This is the first time I have tried to do client-server programming and I have no clue what to do.</p>\n\n<p>I am using the <a href=\"https://metacpan.org/pod/IO::Socket::INET\" rel=\"nofollow\"><code>IO::Socket::INET</code></a> module.</p>\n\n<p>Here is my code</p>\n\n<p><strong>server</strong></p>\n\n<pre><code>use IO::Socket::INET;\n\nmy ($socket, $client_socket);\nmy ($peeraddress, $peerport);\n\n$| = 1;\n\n$socket = new IO::Socket::INET (\n  LocalHost =&gt; '127.0.0.1',\n  LocalPort =&gt; '5000',\n  Proto     =&gt; 'tcp',\n  Listen    =&gt; 5,\n  Reuse     =&gt; 1\n) or die \"Error in socket creation: $!\\n\";\n\nwhile (1) {\n  $client_socket = $socket-&gt;accept();\n  $data = &lt;$client_socket&gt;;\n  print \"Received from socket is $data\\n\";\n  print \"Sending to socket\\n\";\n  $client_socket-&gt;send(\"hello\");\n}\n\n$socket-&gt;close();\n</code></pre>\n\n<p><strong>client</strong></p>\n\n<pre><code>use IO::Socket::INET;\n\n$| = 1;\n\nmy($socket,$client_socket);\n\n$socket = new IO::Socket::INET (\n  PeerHost =&gt; '127.0.0.1',\n  PeerPort =&gt; '5000',\n  Proto =&gt; 'tcp',\n) or die \"Error in socket creation : $!\\n\";\n\nprint $socket \"mailshow 018DB3FCE4\";\n$socket-&gt;recv($data,1024);\nprint $data;\nsleep(5);\n$socket-&gt;close();\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 7, "creation_date": 1432037786, "post_id": 30325257, "comment_id": 48745089, "body": "Are you sure the dnsdomainname message goes to stdout, not stderr?"}, {"owner": {"reputation": 61610, "user_id": 725418, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/82ac2dc3e1ad4b7187f245c416528df9?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/725418/tlp"}, "edited": false, "score": 0, "creation_date": 1432038420, "post_id": 30325257, "comment_id": 48745495, "body": "Try running your program with a file with sample input from the command, i.e. in the shell, do <code>service --status-all &gt; input.txt</code> and change your command to <code>cat input.txt</code> in Perl."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1432039693, "post_id": 30325257, "comment_id": 48746486, "body": "Doesn&#39;t <code>service &lt;servicename&gt;  status</code> do the same?"}], "answers": [{"tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": false, "score": 0, "last_activity_date": 1432046118, "last_edit_date": 1432046118, "creation_date": 1432045757, "answer_id": 30328541, "question_id": 30325257, "link": "https://stackoverflow.com/questions/30325257/perl-regular-expression-yielding-strange-results/30328541#30328541", "title": "Perl - Regular expression yielding strange results", "body": "<p>Most likely the <code>service</code> command clears the environment and does other things to ensure consistent results from what are essentially shell scripts n your <code>service.d</code> directory.  In fact <code>service</code> itself may be a shell script (it usually was when I used Linux long ago). You can inspect it to help figure out why you are seeing <code>dnsdomainname: Unknown host</code> (it may be due to an environment variable like <code>$HOSTNAME</code> being cleared, or a missing name in <code>/etc/hosts</code> that normally wouldn't be an issue for the <code>service</code> command, for example).</p>\n\n<p>Following on @choroba's query the output you see on your console when you run <code>service --status-all</code> in your shell might not be the same output you get from <code>qx/ /</code> in your perl script because of the way <code>service</code> itselfs handles STDOUT and STDERR.</p>\n\n<p>From <code>perdoc -f qx</code> (<em>cf.</em> @TLP's remarks):</p>\n\n<blockquote>\n  <p>To read both a command's STDOUT and its STDERR separately, it's\n              easiest to redirect them separately to files, and then read from\n              those files when the program is done.</p>\n</blockquote>\n\n<p>Another approach, if you are willing to use a CPAN module, is <a href=\"https://metacpan.org/release/Capture-Tiny\" rel=\"nofollow\"><code>Capture::Tiny</code></a> which is a great tool for grabbing what you want from perl code or external commands.</p>\n"}], "owner": {"reputation": 125, "user_id": 3691006, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/476c0966ea9fad748b26078c4ece7884?s=128&d=identicon&r=PG&f=1", "display_name": "user3691006", "link": "https://stackoverflow.com/users/3691006/user3691006"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1432046118, "creation_date": 1432037416, "question_id": 30325257, "link": "https://stackoverflow.com/questions/30325257/perl-regular-expression-yielding-strange-results", "title": "Perl - Regular expression yielding strange results", "body": "<p>I am running a Perl script that runs a Linux system command, namely <code>service --status-all</code> in order to list services which have stopped and services which are currently running. The code that I am using runs the system command, and then chomps the input into an array. Followed by this the code is supposed to check if the service that the user promts for is <strong>running</strong> or has <strong>stopped</strong>, this is done using a regex that does yield the correct result. The problem lies in the additional information that the program lists, namely lines such as <code>dnsdomainname: Unknown host</code> and sometimes prints several lines of the same result.</p>\n\n<p>The code that I am running is as follows:</p>\n\n<pre><code>use warnings;\nuse strict;\n\n#Looping variables\nmy $service_query = 1;\n\n#Command\nmy $command_3 = \"service --status-all\";\n\n#Input variables\nmy $service = 0;\n\nwhile ($service_query == 1){    \n    print \"Please choose the service that you wish to analyze (Named service):\\n\";\n    $service = &lt;&gt;;\n\n    if ($service =~ /^[a-zA-Z0-9.:_-]+$/)\n    {\n        $service_query = 0;\n    }\n    else\n    {\n        print \"Argument not allowed.\\n\";    \n    }   \n}\n\nchomp(my @service_data_1 = qx/$command_3/);\nchomp($service);\n\nforeach my $line4(@service_data_1) #Filter output according to \"$service\".\n{\n\n    if ($line4 =~ /$service\\s\\Spid\\s[0-9]+\\S\\s(\\S+)/)\n    {\n        print \"1 $service is running\\n\";\n    }\n    elsif ($line4 =~ /$service\\sis\\s(\\S+)/)\n    {\n        print \"0 $service has stopped\\n\";\n    }\n}\n</code></pre>\n\n<p>The system command yields results such as these:</p>\n\n<pre><code>sandbox is stopped\nrpc.svcgssd is stopped\nrpcbind (pid 1284) is running...\nsaslauthd is stopped\nopenssh-daemon (pid 1593) is running...\nwpa_supplicant (pid 1444) is running...\n</code></pre>\n\n<p>What I want to be listed:</p>\n\n<p>User inputs <code>sandbox</code>, program should print: <code>0 sandbox has stopped</code></p>\n\n<p>What I actually get:</p>\n\n<p>User inputs sandbox, program prints:</p>\n\n<pre><code>dnsdomainname: Unknown host\n0 sandbox has stopped\n</code></pre>\n\n<p>I appreciate any help on the matter, thank you.</p>\n"}, {"tags": ["perl", "email", "encoding", "special-characters"], "comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1432042138, "post_id": 30324972, "comment_id": 48748440, "body": "Incidentally, the double quotes around your real name are not required, and just look like you put it in quotes because it&#39;s not your &quot;real&quot; name. (Either that, or you are using email software from Microsoft. Either way, embarrassing.)"}, {"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1432044266, "post_id": 30324972, "comment_id": 48750302, "body": "@tripleee: Well, it is my real name (look into my profile). But some e-mail clients (not sure wich one) need quotes when the name contains special characters."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1432050292, "post_id": 30324972, "comment_id": 48755231, "body": "The value no longer contains any special characters when you RFC2047-encode it."}], "answers": [{"comments": [{"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1432042229, "post_id": 30325259, "comment_id": 48748524, "body": "Maybe also link to <a href=\"https://www.ietf.org/rfc/rfc2047.txt\" rel=\"nofollow noreferrer\">RFC2047</a> which defines this encoding."}, {"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1432044630, "post_id": 30325259, "comment_id": 48750596, "body": "Is it safe to use this method for the complete address (<i>&quot;Hubert Sch&#246;lnast&quot; &lt;localpart@domain.tld&gt;</i>)?"}, {"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1432044737, "post_id": 30325259, "comment_id": 48750687, "body": "@tripleee: Thank you for the link, but RFCs are always so long and hard to read. Is there a shorter description of the algorithm?"}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 1, "creation_date": 1432050752, "post_id": 30325259, "comment_id": 48755539, "body": "In so many words, the encoded  string has the form <code>=?&lt;charset&gt;?&lt;bq&gt;?&lt;encoded&gt;?=</code> where <i>charset</i> is a character set specifier like <code>iso-8859-1</code>, <i>enc</i> is  an encoding specifier which is  either <code>b</code> for (a variant of) base64 or <code>q</code> for (a variant of) quoted-printable, and <i>encoded</i> is the thus encoded string."}, {"owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1432051105, "post_id": 30325259, "comment_id": 48755810, "body": "Again, you should omit the double quotes, and additiobally, you should not encode the email address -- the encoding is only valid or useful  for the human-readable parts, while the email terminus needs to be unencoded and machine-readable (though with IDNA there is yet another encoding for non-ASCII email addresses, sigh!) A correct implementation should produce  something like <code>=?utf-8?q?Hubert_Sch=C3=B6lnast?= &lt;localpart@domain.tld&gt;</code>"}, {"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "reply_to_user": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1432064184, "post_id": 30325259, "comment_id": 48763791, "body": "@tripleee: This means, when the user enters something like &#187;<b>&quot;[&#214;&#223;&#233;@] &lt;&#209;&#239;\u1e09&gt;&quot; &lt;local@domain.tld&gt;</b>&#171; into the address field, then I have to extract &#187;<b>&quot;[&#214;&#223;&#233;@] &lt;&#209;&#239;\u1e09&gt;&quot;</b>&#171;, throw away the quotation marks, decode this part and join it again to the part between the angel brackets? Isn&#39;t there a simpler way with less pitfalls?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1432069170, "post_id": 30325259, "comment_id": 48766492, "body": "@HubertSch&#246;lnast: There is. Its name is MIME::Words."}, {"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1432069633, "post_id": 30325259, "comment_id": 48766704, "body": "@choroba: The string, that MIME::Words produces is - according to Email::Valid - invalid, because it doesn&#39;t match the rfc822-restrictions. &#187;<b>Hubert Sch&#246;lnast &lt;localpart@domain.tld&gt;</b>&#171; will be converted to &#187;<b>=?ISO-8859-1?Q?Hubert=20Sch=F6lnast=20&lt;localpart@domain.tld&zwnj;&#8203;&gt;?=</b>&#171;"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1432072329, "post_id": 30325259, "comment_id": 48767894, "body": "@HubertSch&#246;lnast: Use <code>encode_mimewords</code> for the full address line."}, {"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1432107181, "post_id": 30325259, "comment_id": 48779508, "body": "@choroba: This is exactly what I did. This is my shortened perl-script (<code>&lt;|&gt;</code> is for a line-break): <code>#!&#47;usr&#47;bin&#47;perl -w &lt;|&gt; use MIME::Words qw{encode_mimeword}; &lt;|&gt; print encode_mimeword(&#39;Hubert Sch&#246;lnast &lt;localpart@domain.tld&gt;&#39;).&quot;\\n&quot;;</code> and this is its output: <code>=?ISO-8859-1?Q?Hubert=20Sch=C3=B6lnast=20&lt;localpart@domain.t&zwnj;&#8203;ld&gt;?=</code>"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 1, "creation_date": 1432109359, "post_id": 30325259, "comment_id": 48780817, "body": "@HubertSch&#246;lnast: Plural. <code>word</code> ne <code>words</code>."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1432072311, "last_edit_date": 1432072311, "creation_date": 1432037420, "answer_id": 30325259, "question_id": 30324972, "link": "https://stackoverflow.com/questions/30324972/how-to-encode-special-characters-in-e-mail-adresses/30325259#30325259", "title": "How to encode special characters in e-mail-adresses", "body": "<p>Use <a href=\"http://p3rl.org/MIME::Words\" rel=\"nofollow\">MIME::Words</a> to encode or decode the addresses, subject etc.</p>\n\n<p>E.g. when creating the email:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse utf8;\n\nuse MIME::Words qw{ encode_mimeword };\n\nmy $encoded = encode_mimeword('Hubert Sch\u00f6lnast');\n</code></pre>\n\n<p>To encode the name with the address, use <code>encode_mimewords</code>.</p>\n\n<p>When processing an email, use <code>decode_mimewords</code> instead.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1432039773, "post_id": 30325703, "comment_id": 48746558, "body": "Tip: This assumes a UTF-8-encoded source file. In that situation, use <code>use utf8;</code>. Then, you don&#39;t have to use <code>decode_utf8</code> everywhere."}, {"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1432044905, "post_id": 30325703, "comment_id": 48750833, "body": "@ernix: Thank you! I hope, that the cpan-modul Email:Sender correctly deals with line-lenght and all this stuff. This is why I use modules."}, {"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1432107562, "post_id": 30325703, "comment_id": 48779764, "body": "I searched on my mail-server for the files where all my e-mails are stored, and found, that there my address is stored in exactly that way that is produced by <code>encode(&#39;MIME_Header&#39;, $address)</code>. Thank you! (And I always use <code>use utf8;</code> in all my scripts, so there is no need for <code>decode_utf8</code>.)"}], "tags": [], "owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "is_accepted": true, "score": 3, "last_activity_date": 1432042001, "last_edit_date": 1432042001, "creation_date": 1432038708, "answer_id": 30325703, "question_id": 30324972, "link": "https://stackoverflow.com/questions/30324972/how-to-encode-special-characters-in-e-mail-adresses/30325703#30325703", "title": "How to encode special characters in e-mail-adresses", "body": "<p>Perl core has <code>Encode.pm</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Encode;\n\nmy $from_header = decode_utf8 q{From: \"Hubert Sch\u00f6lnast\" &lt;localpart@domain.tld&gt;};\nprint encode('MIME_Header', $from_header);\n\n1;\n__END__\nFrom: \"=?UTF-8?B?SHViZXJ0IFNjaMO2bG5hc3Q=?=\" &lt;localpart@domain.tld&gt;\n</code></pre>\n\n<p>There are a lot of requirements behind RFC822/2822 that makes it hard to deal with emails. </p>\n\n<p>RFC2822 also prohibits every lines in a message to be more than 998 characters.\nLong lines must be split across multiple lines by indenting the continuation lines.</p>\n\n<p>This means we have to pay attention to the line length whenever we modify them just <strong>after</strong> of converting of special characters and prepending a header label.</p>\n"}], "owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 30325703, "answer_count": 2, "score": 3, "last_activity_date": 1432072311, "creation_date": 1432036600, "question_id": 30324972, "link": "https://stackoverflow.com/questions/30324972/how-to-encode-special-characters-in-e-mail-adresses", "title": "How to encode special characters in e-mail-adresses", "body": "<p>E-Mail-Adresses do not only consist of this parts:</p>\n\n<blockquote>\n  <p>localpart@domain.tld</p>\n</blockquote>\n\n<p>The complete string in the next line (including the part between the quotation marks, the quotation marks itself and the angle brackets) is also a valid address:</p>\n\n<blockquote>\n  <p>\"John Doe\" &lt;localpart@domain.tld&gt;</p>\n</blockquote>\n\n<p>And when I replace \"John Doe\" with my own name, I get an address, that I can enter in my E-Mail-Client without getting any complaints (Note the \u00bb<strong>\u00f6</strong>\u00ab in my last name which is a non-ascii-character):</p>\n\n<blockquote>\n  <p>\"Hubert Sch\u00f6lnast\" &lt;localpart@domain.tld&gt;</p>\n</blockquote>\n\n<p>So it seems (to a user of a standard e-mail client like Thunderbird), as if special characters in the quoted section was ok.</p>\n\n<p>But when I check this complete e-mail adress in a perl-script with the cpan-module <strong>Email::Valid</strong> i get an error, saying that this address is not matching the rules of rfc822, and the documentation of this module says, that rfc822 does not allow any non-ascii-character in any part of an e-mail address. (When I omit the letter <em>\u00f6</em> or replace it with an ascii-letter, the check says that the address is valid.)</p>\n\n<p>So obviously any e-mail client must encode the e-mail-address before it sends an e-mail to a smtp-server, and must decode it when it received a new e-mail and displays header-information to the user. But I can't find out how this is done, and I really did my best on googling.</p>\n\n<p>I need this encoding-algorithm because I want to write a perl-script that accepts any valid e-mail-address (also with special characters in the quoted section) and then send e-mails to those addresses.</p>\n"}, {"tags": ["perl", "perl-module", "cpan"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1432042180, "post_id": 30324037, "comment_id": 48748476, "body": "You don&#39;t have the <code>nmake</code> program installed."}, {"owner": {"reputation": 23, "user_id": 3909029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318909f9b06aeb86007c9fa4e4201a44?s=128&d=identicon&r=PG&f=1", "display_name": "user271914", "link": "https://stackoverflow.com/users/3909029/user271914"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1432043982, "post_id": 30324037, "comment_id": 48750071, "body": "hi , can you help me how to install nmake program"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1432044169, "post_id": 30324037, "comment_id": 48750218, "body": "Which Perl distribution are you using? If you are using ActiveState, you need to install MinGW: <code>ppm install mingw</code>. If you do want to use Visual C tools, you can install <a href=\"http://www.nu42.com/2014/11/64-bit-perl-5201-with-visual-studio.html\" rel=\"nofollow noreferrer\">MS Visual Studio 2013 Community Edition</a> and build your own <code>perl</code>."}], "answers": [{"comments": [{"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 1, "creation_date": 1432047977, "post_id": 30328014, "comment_id": 48753535, "body": "<i>That means, unless you change the conditions under which a program runs, it will always do the same thing</i> Oh, I wish I could agree with you there... In my experience, you can do something the same way on the same machine and get different results. I don&#39;t know how many times I try something, it doesn&#39;t work, I call someone from IT, show them what doesn&#39;t work, but the darn thing works just fine. I usually tell the IT person just to take credit for it anyway instead of logging it to the ID Code <i>10-T</i>."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1432044450, "creation_date": 1432044450, "answer_id": 30328014, "question_id": 30324037, "link": "https://stackoverflow.com/questions/30324037/perl-module-install-error-cpan-spreadsheetparseexcel/30328014#30328014", "title": "Perl Module install error CPAN Spreadsheet::ParseExcel", "body": "<blockquote>\n  <p>I have tried 5 times.</p>\n</blockquote>\n\n<p>Computers are deterministic things. That means, unless you change the conditions under which a program runs, it will always do the same thing (except, maybe, if there is a solar flare or an EMP).</p>\n\n<p>So, there is no difference between issuing the same command once versus five times. If it failed the first time, <em>ceteris paribus</em>, it fill fail all five times.</p>\n\n<p>That said, it looks like you installed ActiveState Perl, but did not install the <a href=\"http://www.activestate.com/blog/2009/01/ppm-install-mingw\" rel=\"nofollow\">MinGW package</a> which provides the <code>gcc</code> &amp; <code>dmake</code> based build tools.</p>\n\n<p>So,</p>\n\n<pre>C:\\>ppm install MinGW</pre>\n\n<p>and then try to install packages.</p>\n\n<p>You also have the option of <a href=\"http://www.nu42.com/2014/11/64-bit-perl-5201-with-visual-studio.html\" rel=\"nofollow\">building your own <code>perl</code></a> using the Community Edition of Microsoft Visual Studio 2013 tools, or any other supported compiler.</p>\n"}, {"comments": [{"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1432057256, "post_id": 30329983, "comment_id": 48759634, "body": "Perl uses <code>make</code> (or <code>nmake</code> or <code>dmake</code>) to install even pure-Perl modules."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "reply_to_user": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "edited": false, "score": 0, "creation_date": 1432147246, "post_id": 30329983, "comment_id": 48807487, "body": "You&#39;re right about that. I do remember ActiveState&#39;s version of Perl could install Pure-Perl packages, but it might be because I had VisualStudio (and nmake) installed on my system."}], "tags": [], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1432049507, "last_edit_date": 1495540265, "creation_date": 1432049507, "answer_id": 30329983, "question_id": 30324037, "link": "https://stackoverflow.com/questions/30324037/perl-module-install-error-cpan-spreadsheetparseexcel/30329983#30329983", "title": "Perl Module install error CPAN Spreadsheet::ParseExcel", "body": "<blockquote>\n  <p>nmake' is not recognized as an internal or external command</p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/a/30328014/368630\">Sinan \u00dcn\u00fcr</a> is right. The error message is that you don't have <code>nmake</code> installed. This means you are attempting to compile code (probably C code) and there's no C compiler or Make program.</p>\n\n<p>A while ago, I would tell people that ActiveState doesn't fully support <code>cpan</code> because it can't compile code. ActiveState uses it's own pre-compiled packages available via the <em>Perl Package Manager</em> (PPM) which can be used from the command line or from a GUI interface. If a package isn't available via the <em>PPM</em> and it requires compilation, you were just out of luck. I would usually recommend <a href=\"http://strawberryperl.com\" rel=\"nofollow noreferrer\">Strawberry Perl</a> instead of ActivePerl for this very reason. Strawberry Perl comes with the complete <a href=\"https://en.wikipedia.org/wiki/MinGW\" rel=\"nofollow noreferrer\">MinGW</a> environment needed for those compilable CPAN modules.</p>\n\n<p>However, about a half a dozen years ago, ActiveState put together an installable <a href=\"http://www.activestate.com/blog/2009/01/ppm-install-mingw\" rel=\"nofollow noreferrer\">PPM package for the MinGW environment</a>. Once this is installed, ActivePerl can use CPAN.</p>\n\n<p>So you have two solutions:</p>\n\n<ul>\n<li>Install this PPM package as Sinan \u00dcn\u00fcr mentioned in his answer. Then, try <code>Spreadsheet::ParseExcel</code> again.</li>\n<li>Install Strawberry Perl instead of ActiveState's Perl. Strawberry Perl seems to be more compatible with the version of Perl found on Unix/Mac/Linux systems. Then try installing the <code>Spreadsheet::ParseExcel</code> package.</li>\n<li><p>Okay, three solutions: Install <a href=\"https://cygwin.com\" rel=\"nofollow noreferrer\">Cygwin</a> which will give you the complete <em>Linux Environment</em> on your Windows machine. It can take about two hours to install, but it comes with all of the GNU utilities you've known and love, most other Unix/Linux utilities, and the BASH shell. </p>\n\n<p>It's what a lot of Linux/Unix homeboys use when they get sick of that ol' <code>C:\\&gt;</code> prompt. Cygwin comes with the latest version of Perl and works with every single CPAN package I've tried. There are a few minor issues (Like Termcaps) where things don't quite work the way they're suppose to, but I'm generally happy with it. It even comes with X11 and allows you to run XWindow apps, and even use XWindow apps across systems -- just like a REAL operating system does!</p></li>\n</ul>\n\n<p>There maybe a few instances where CPAN modules may still have issues on Windows. One has to do with archiving and unarchiving modules and the missing <a href=\"http://www.winimage.com/zLibDll/index.html\" rel=\"nofollow noreferrer\">libz</a> library. However, installing this MinGW package (or using Strawberry Perl or Cygwin) will solve about 95% of the <code>cpan</code> installation issues.</p>\n"}], "owner": {"reputation": 23, "user_id": 3909029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318909f9b06aeb86007c9fa4e4201a44?s=128&d=identicon&r=PG&f=1", "display_name": "user271914", "link": "https://stackoverflow.com/users/3909029/user271914"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1929, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1432049507, "creation_date": 1432034042, "last_edit_date": 1432034368, "question_id": 30324037, "link": "https://stackoverflow.com/questions/30324037/perl-module-install-error-cpan-spreadsheetparseexcel", "title": "Perl Module install error CPAN Spreadsheet::ParseExcel", "body": "<p>hi am trying to install perl module from cpan in my windows machine am getting below error after hitting two times yes .</p>\n\n<pre><code>Checking if your kit is complete...\nWarning: the following files are missing in your kit:\nREADME\n    Please inform the author.\n    Writing Makefile for Digest::Perl::MD5\n    'nmake' is not recognized as an internal or external command,\n    operable program or batch file.\n      nmake  -- NOT OK\n    Running make test\n      Can't test without successful make\n    Running make install\n      make had returned bad status, install seems impossible\n    Running make for D/DO/DOUGW/Spreadsheet-ParseExcel-0.65.tar.gz\n      Is already unwrapped into directory C:\\Perl\\cpan\\build\\Spreadsheet-ParseExcel\n    0.65\n\n      CPAN.pm: Going to build D/DO/DOUGW/Spreadsheet-ParseExcel-0.65.tar.gz\n\n    'nmake' is not recognized as an internal or external command,\n    operable program or batch file.\n      nmake  -- NOT OK\n    Running make test\n      Can't test without successful make\n    Running make install\n      make had returned bad status, install seems impossible\n\n&gt;perl exceltoxml.pl\nCan't locate Spreadsheet/ParseExcel.pm in @INC (@INC contains: C:/Perl/site/lib\n    C:/Perl/lib .) at exceltoxml.pl line 4.\n    BEGIN failed--compilation aborted at exceltoxml.pl line 4.\n</code></pre>\n\n<p>I have tried 5 times.</p>\n"}, {"tags": ["windows", "perl", "batch-file", "cmd"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432049541, "post_id": 30322906, "comment_id": 48754728, "body": "Your question makes no sense. The batch file won&#39;t execute anything after <code>perl</code> before <code>perl</code> exits."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 2643741, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100001229224981/picture?type=large", "display_name": "Mayur Jadhav", "link": "https://stackoverflow.com/users/2643741/mayur-jadhav"}, "edited": false, "score": 0, "creation_date": 1432035029, "post_id": 30323390, "comment_id": 48743136, "body": "I think the task list thing  isn&#39;t working because even the perl exits before the shutdown is initiated. I am not allowed to make changes in the perl file so it won&#39;t work."}, {"owner": {"reputation": 5539, "user_id": 3510480, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9R8ei.jpg?s=128&g=1", "display_name": "MichaelS", "link": "https://stackoverflow.com/users/3510480/michaels"}, "reply_to_user": {"reputation": 111, "user_id": 2643741, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100001229224981/picture?type=large", "display_name": "Mayur Jadhav", "link": "https://stackoverflow.com/users/2643741/mayur-jadhav"}, "edited": false, "score": 0, "creation_date": 1432035201, "post_id": 30323390, "comment_id": 48743256, "body": "Sorry, I dont get the meaning of &quot; because even the perl exits before the shutdown is initiated&quot;."}, {"owner": {"reputation": 111, "user_id": 2643741, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100001229224981/picture?type=large", "display_name": "Mayur Jadhav", "link": "https://stackoverflow.com/users/2643741/mayur-jadhav"}, "edited": false, "score": 0, "creation_date": 1432035455, "post_id": 30323390, "comment_id": 48743427, "body": "Perl:  <code>some stuff</code>  <code>shutdown \\r \\t 1</code>  <code>exit</code>  So when the command shutdown is called, before shutdown is executed due to 1 sec timeout the Perl exits. So I am not able to find it in tasklist"}, {"owner": {"reputation": 5539, "user_id": 3510480, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9R8ei.jpg?s=128&g=1", "display_name": "MichaelS", "link": "https://stackoverflow.com/users/3510480/michaels"}, "reply_to_user": {"reputation": 111, "user_id": 2643741, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100001229224981/picture?type=large", "display_name": "Mayur Jadhav", "link": "https://stackoverflow.com/users/2643741/mayur-jadhav"}, "edited": false, "score": 0, "creation_date": 1432036384, "post_id": 30323390, "comment_id": 48744111, "body": "I&#39;m not really familiar with perl. <code>shutdown \\r \\t 1</code> calls <code>C:\\Windows\\System32\\shutdown.exe</code>, doesn&#39;t it? How about having your bat script wait for shutdown.exe to appear in the tasklist and exit after it disappears?"}], "tags": [], "owner": {"reputation": 5539, "user_id": 3510480, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9R8ei.jpg?s=128&g=1", "display_name": "MichaelS", "link": "https://stackoverflow.com/users/3510480/michaels"}, "is_accepted": true, "score": 1, "last_activity_date": 1432032235, "creation_date": 1432032235, "answer_id": 30323390, "question_id": 30322906, "link": "https://stackoverflow.com/questions/30322906/making-a-batch-file-wait-until-the-shutdown-command-called-by-a-perl-script-whi/30323390#30323390", "title": "Making a batch file wait until the shutdown command called by a Perl script (which is called by the batch file) gets executed", "body": "<p>Well, that's strange. It simply HAS to work with the last option, you've mentioned (checking the task list).</p>\n\n<p>However, the only option I can think of is to create a kind of flag file. Let your perl script create a file somewhere just before it terminates and make your bat loop around until this file is found and delete it before terminating. To avoid \"busy waiting\" you could add something like <code>ping localhost -n 6 &gt;nul</code> inside your bat loop.</p>\n"}], "owner": {"reputation": 111, "user_id": 2643741, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100001229224981/picture?type=large", "display_name": "Mayur Jadhav", "link": "https://stackoverflow.com/users/2643741/mayur-jadhav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "accepted_answer_id": 30323390, "answer_count": 1, "score": 0, "last_activity_date": 1432032235, "creation_date": 1432030934, "last_edit_date": 1432031240, "question_id": 30322906, "link": "https://stackoverflow.com/questions/30322906/making-a-batch-file-wait-until-the-shutdown-command-called-by-a-perl-script-whi", "title": "Making a batch file wait until the shutdown command called by a Perl script (which is called by the batch file) gets executed", "body": "<p>I have a batch file which calls a Perl script and then the Perl script which does some processing and then executes a command <code>shutdown /r /t 1</code>.\nIn the batch file after the Perl is called, there is exit <code>/b</code>. For instance:</p>\n\n<p>Batch file:</p>\n\n<pre><code>perl doSomething.pl\n\nexit /b\n</code></pre>\n\n<p>Perl file:</p>\n\n<pre><code>do stuff\n\nshutdown /r /t 1\n</code></pre>\n\n<p>I want the batch file to not exit and wait until the shutdown begins.</p>\n\n<p>I have tried</p>\n\n<pre><code>start /wait perl dosomething.pl\n</code></pre>\n\n<p>and looping with tasklist to check for <code>perl.exe</code> and exit only if <code>perl.exe</code> process has finished. Nothing worked.</p>\n\n<p>Is there a solution to achieve this without 'sleeping' or infinite loop wait until shutdown?</p>\n"}, {"tags": ["linux", "bash", "perl", "shell"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 4, "creation_date": 1432028532, "post_id": 30321861, "comment_id": 48738877, "body": "You forgot to end your <code>__HERE__</code>."}, {"owner": {"reputation": 1001, "user_id": 3156898, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/53b9baf7830447e6294326a609b8e688?s=128&d=identicon&r=PG&f=1", "display_name": "thonnor", "link": "https://stackoverflow.com/users/3156898/thonnor"}, "edited": false, "score": 0, "creation_date": 1432029720, "post_id": 30321861, "comment_id": 48739668, "body": "Why wouldn&#39;t you have a separate Perl script? I&#39;m just curious."}, {"owner": {"reputation": 231, "user_id": 4738153, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eb97fb1106021b914f22c3b8ba578620?s=128&d=identicon&r=PG&f=1", "display_name": "palyxk", "link": "https://stackoverflow.com/users/4738153/palyxk"}, "edited": false, "score": 0, "creation_date": 1432030011, "post_id": 30321861, "comment_id": 48739854, "body": "i am just exploring options ... probably it is good idea to just call script from shell : perl path/myscript.pl is something like this possible?"}], "answers": [{"tags": [], "owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "is_accepted": false, "score": 0, "last_activity_date": 1432031491, "last_edit_date": 1432031491, "creation_date": 1432031172, "answer_id": 30322992, "question_id": 30321861, "link": "https://stackoverflow.com/questions/30321861/embedded-perl-script-in-linux-shell/30322992#30322992", "title": "Embedded Perl script in Linux shell", "body": "<p>This is a way to call a Perl script in Shell script. Make sure Perl script is executable and the first line is <code>#!/usr/bin/perl</code>.</p>\n\n<pre><code>#!/bin/sh\n\n/path/to/perlscript/scriptName.pl arg1 arg2\n</code></pre>\n\n<p><code>arg1 arg2 ..</code> are the arguments if you need to pass any.</p>\n\n<p>You can set the PATH and call the script like this:</p>\n\n<pre><code>#!/bin/sh\n\nPATH=/path/to/perlscript/\n\n${PATH}test.pl\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 231, "user_id": 4738153, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eb97fb1106021b914f22c3b8ba578620?s=128&d=identicon&r=PG&f=1", "display_name": "palyxk", "link": "https://stackoverflow.com/users/4738153/palyxk"}, "edited": false, "score": 0, "creation_date": 1432033096, "post_id": 30323066, "comment_id": 48741838, "body": "Ok this is great, one question though : How can i return values back ? My scripts does something and then return back hash with processed data."}], "tags": [], "owner": {"reputation": 782, "user_id": 2911710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52f2f4741a0b30c4d7e282d18748144f?s=128&d=identicon&r=PG&f=1", "display_name": "RTLinuxSW", "link": "https://stackoverflow.com/users/2911710/rtlinuxsw"}, "is_accepted": false, "score": 1, "last_activity_date": 1432035956, "last_edit_date": 1432035956, "creation_date": 1432031401, "answer_id": 30323066, "question_id": 30321861, "link": "https://stackoverflow.com/questions/30321861/embedded-perl-script-in-linux-shell/30323066#30323066", "title": "Embedded Perl script in Linux shell", "body": "<p>The problem is the dollar signs need escaped.  It makes for an ugly, error prone Perl script.  Use environmental variables.</p>\n\n<pre><code>#!/bin/bash\n\nexport i=12\nreadarray results &lt; &lt;(perl &lt;&lt;-'__HERE__'\n        my $i = $ENV{'i'};\n        print \"$i\\n\";\n        $i += 1;\n        print \"$i\\n\";\n        __HERE__\n)\nfor r in \"${results[@]}\"; do echo $r; done\n</code></pre>\n\n<p>The quotes around <strong>HERE</strong> prevents bash from doing variable substitution. The \"-\" allows the here is document to be indented it tabs.</p>\n\n<p>While this is a nice exercise in the finer points of Bash, why not just code in Perl or Bash alone?  Bash does regular expressions, arrays, etc.  And Perl can do everything Bash can.</p>\n"}], "owner": {"reputation": 231, "user_id": 4738153, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/eb97fb1106021b914f22c3b8ba578620?s=128&d=identicon&r=PG&f=1", "display_name": "palyxk", "link": "https://stackoverflow.com/users/4738153/palyxk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 968, "favorite_count": 0, "closed_date": 1432040017, "answer_count": 2, "score": 1, "last_activity_date": 1432039625, "creation_date": 1432028134, "last_edit_date": 1432039625, "question_id": 30321861, "link": "https://stackoverflow.com/questions/30321861/embedded-perl-script-in-linux-shell", "closed_reason": "Duplicate", "title": "Embedded Perl script in Linux shell", "body": "<p>Can I invoke Perl script from Unix shell? For example I have bash script in form like:</p>\n\n<pre><code>#!/bin/sh\necho This is bash\n\ni=12\necho $i\n\nperl &lt;&lt;__HERE__\nprint \"This is perl\\n\";\nmy \\$i = $i;\nprint ++\\$i . \"\\n\";\n\n\necho This is bash again\necho $i\n</code></pre>\n\n<p>Above is just an example.</p>\n\n<p>Is it possible to pass variables from bash to script? Hope I expressed myself correctly and properly. I need to call Perl script which will take values from bash script and use them and then return processed results.</p>\n"}, {"tags": ["xml", "perl"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 4915364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tct5k.jpg?s=128&g=1", "display_name": "ambdere", "link": "https://stackoverflow.com/users/4915364/ambdere"}, "edited": false, "score": 0, "creation_date": 1432197589, "post_id": 30321394, "comment_id": 48827698, "body": "Thanks ..it really help me ;)"}], "tags": [], "owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "is_accepted": true, "score": 3, "last_activity_date": 1432027878, "last_edit_date": 1432027878, "creation_date": 1432026862, "answer_id": 30321394, "question_id": 30321246, "link": "https://stackoverflow.com/questions/30321246/use-xmllibxml-to-replace-an-xml-node/30321394#30321394", "title": "Use XML::LibXML to replace an XML node", "body": "<p>You get a <code>XML::LibXML::NodeList</code> as result. And this object has no function <code>parentNode</code>. You have to  get the first element of the array and then call the method <code>parentNode</code> on it.</p>\n\n<p>The first object will be an object of class <code>XML::LibXML::Node</code> and this has a funtion <code>parentNode</code>.</p>\n\n<p>for more details see the documentation of <a href=\"http://search.cpan.org/~shlomif/XML-LibXML/lib/XML/LibXML/Node.pod\" rel=\"nofollow\">XML::LibXML::Node</a></p>\n\n<pre><code>my $psw = $doc-&gt;findnodes(\"/utenti/utente[username=\\\"$userCookie\\\"]/password\");\nmy $parent = $psw-&gt;[0]-&gt;parentNode;\n$parent-&gt;removeChild($psw-&gt;[0]);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2043, "user_id": 2335842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda02075da146f14d3d77844c9d5056f?s=128&d=identicon&r=PG", "display_name": "optional", "link": "https://stackoverflow.com/users/2335842/optional"}, "is_accepted": false, "score": 2, "last_activity_date": 1432028310, "last_edit_date": 1432028310, "creation_date": 1432027363, "answer_id": 30321558, "question_id": 30321246, "link": "https://stackoverflow.com/questions/30321246/use-xmllibxml-to-replace-an-xml-node/30321558#30321558", "title": "Use XML::LibXML to replace an XML node", "body": "<p>update: you don't need to mess with the parent to change the contents of a node </p>\n\n<pre><code>#!/usr/bin/perl --\nuse strict;\nuse warnings;\nuse XML::LibXML 1.70; ## for load_html/load_xml/location\nmy $xml = q{&lt;a&gt;&lt;b&gt;&lt;c&gt;old password&lt;/c&gt;&lt;/b&gt;&lt;/a&gt;};\nmy $dom = XML::LibXML-&gt;new(qw/ recover 2 /)-&gt;load_xml(\n#~     location =&gt; $filepath_or_http,\n    string =&gt; $xml,\n);\nmy $password = $dom-&gt;findnodes('//c')-&gt;get_node(0);\n$password-&gt;removeChildNodes;\n$password-&gt;appendText('new password');\nprint \"$dom\";\n__END__\n&lt;?xml version=\"1.0\"?&gt;\n&lt;a&gt;&lt;b&gt;&lt;c&gt;new password&lt;/c&gt;&lt;/b&gt;&lt;/a&gt;\n</code></pre>\n\n<p>You could even ask for parent via xpath :) and using list context findnodes returns a list of nodes instead of a ...NodeList object</p>\n\n<pre><code>#!/usr/bin/perl --\nuse strict;\nuse warnings;\nuse XML::LibXML 1.70; ## for load_html/load_xml/location\nmy $xml = q{&lt;a&gt;&lt;b&gt;&lt;c&gt;&lt;/c&gt;&lt;/b&gt;&lt;/a&gt;};\nmy $dom = XML::LibXML-&gt;new(qw/ recover 2 /)-&gt;load_xml(\n#~     location =&gt; $filepath_or_http,\n    string =&gt; $xml,\n);\nmy( $parent ) = $dom-&gt;findnodes('//c/..');\nprint $parent-&gt;nodePath;\n__END__\n/a/b\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1432042851, "last_edit_date": 1432042851, "creation_date": 1432028167, "answer_id": 30321879, "question_id": 30321246, "link": "https://stackoverflow.com/questions/30321246/use-xmllibxml-to-replace-an-xml-node/30321879#30321879", "title": "Use XML::LibXML to replace an XML node", "body": "<p>The problem is that <code>$psw</code> is an <code>XML::LibXML::NodeList</code> object, not just a single node -- although it should be a list of one node</p>\n\n<p>The simplest solution here is to use a list assignment to grab just the first -- and hopefully only -- element in the list</p>\n\n<p>It's also neater to change the string delimiter if you have embedded double quotes</p>\n\n<p>Like this</p>\n\n<pre><code>my ($psw) = $doc-&gt;findnodes(qq&lt;/utenti/utente[username=\"$userCookie\"]/password&gt;);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 3, "last_activity_date": 1432028423, "creation_date": 1432028423, "answer_id": 30321972, "question_id": 30321246, "link": "https://stackoverflow.com/questions/30321246/use-xmllibxml-to-replace-an-xml-node/30321972#30321972", "title": "Use XML::LibXML to replace an XML node", "body": "<p><a href=\"http://p3rl.org/XML::XSH2\" rel=\"nofollow\">XML::XSH2</a>, a wrapper around <a href=\"http://p3rl.org/XML::LibXML\" rel=\"nofollow\">XML::LibXML</a>, can make your life easier:</p>\n\n<pre><code>set /utenti/utente[username=\"amministratore\"]/password $newPSW ;\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 4915364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tct5k.jpg?s=128&g=1", "display_name": "ambdere", "link": "https://stackoverflow.com/users/4915364/ambdere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 896, "favorite_count": 0, "accepted_answer_id": 30321394, "answer_count": 4, "score": 3, "last_activity_date": 1432042851, "creation_date": 1432026472, "last_edit_date": 1432027380, "question_id": 30321246, "link": "https://stackoverflow.com/questions/30321246/use-xmllibxml-to-replace-an-xml-node", "title": "Use XML::LibXML to replace an XML node", "body": "<p>Can someone help me please? I need to replace an XML node using Perl with the <code>XML::LibXML</code> module</p>\n\n<p>This is the fragment of the XML file:</p>\n\n<pre><code>&lt;utenti&gt;\n    &lt;utente&gt;\n        &lt;username&gt;amministratore&lt;/username&gt;\n        &lt;useremail&gt;admin@email.com&lt;/useremail&gt;\n        &lt;password&gt;0000&lt;/password&gt;\n    &lt;/utente&gt;\n&lt;/utenti&gt;\n</code></pre>\n\n<p>And I need to replace the value of the password.</p>\n\n<p>In particular I have to find in the XML file the user with a particular username (given by the cookie <code>$userCookie</code>) and replace his password with the variable <code>$newPSW</code>.</p>\n\n<p>I've tried this:</p>\n\n<pre><code>    my $psw = $doc-&gt;findnodes(\"/utenti/utente[username=\\\"$userCookie\\\"]/password\");\n    my $parent = $psw-&gt;parentNode;\n    $parent-&gt;removeChild($psw);\n\n\n    my $password = XML::LibXML::Element-&gt;new('password');\n    $password-&gt;appendText( $newPSW );\n    $parent-&gt;appendChild($password);\n</code></pre>\n\n<p>but everytime the browser give me the following error:</p>\n\n<pre><code>Can't locate object method \"parentNode\" via package \"XML::LibXML::NodeList\"\n</code></pre>\n\n<p>It seems to no find any method I use.</p>\n\n<p>Can someone help?</p>\n"}, {"tags": ["perl", "lwp-useragent"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1432025852, "post_id": 30318555, "comment_id": 48736903, "body": "Please show the result of <code>print $xmlResponse-&gt;headers-&gt;as_string</code>"}, {"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432026114, "post_id": 30318555, "comment_id": 48737088, "body": "@Borodin response is very much long near about 2-3 gb i can&#39;t post that"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1432026346, "post_id": 30318555, "comment_id": 48737234, "body": "Have you tried it? It will be only a dozen or so lines. However, expecting a 2GB HTTP message to arrive intact is a bit hopeful, and is probably the source of your problem. Are you asking for an entire database dump or something?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1432027211, "post_id": 30318555, "comment_id": 48737795, "body": "I would guess that the size of the message is the problem. A 32-bit signed value can hold up to 2,147,483,647 and so can represent the length of up to 2GB data. But please post the message headers as I asked"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1432032947, "post_id": 30318555, "comment_id": 48741761, "body": "Do you have at least 4 GB free memory when you run this script? Does it work reliably if you save to a file instead of trying to hold a 2-3GB string in memory?"}, {"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432035241, "post_id": 30318555, "comment_id": 48743283, "body": "@Borodin i have updated the response header"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1432036228, "post_id": 30318555, "comment_id": 48744005, "body": "Are you running a 32-bit Perl? Please show the output of <code>perl -v</code> if you&#39;re not sure"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432039992, "post_id": 30318555, "comment_id": 48746732, "body": "More accurately, <code>perl -V:ivsize</code>"}], "answers": [{"comments": [{"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1432019493, "post_id": 30318806, "comment_id": 48732945, "body": "I am getting the response within the timeout limit.I have handled the response for error .But i want to get the response"}, {"owner": {"reputation": 925, "user_id": 3090865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2fac1574e64da63ad35bafba6a7a35e?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg G", "link": "https://stackoverflow.com/users/3090865/oleg-g"}, "reply_to_user": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1432020422, "post_id": 30318806, "comment_id": 48733490, "body": "This may be also some other read error, not only timeout. Anyway, try to check X-Died header."}], "tags": [], "owner": {"reputation": 925, "user_id": 3090865, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b2fac1574e64da63ad35bafba6a7a35e?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg G", "link": "https://stackoverflow.com/users/3090865/oleg-g"}, "is_accepted": false, "score": 1, "last_activity_date": 1432031241, "last_edit_date": 1432031241, "creation_date": 1432019014, "answer_id": 30318806, "question_id": 30318555, "link": "https://stackoverflow.com/questions/30318555/lwpuseragent-returns-incomplete-2gb-response-message/30318806#30318806", "title": "LWP::UserAgent returns incomplete 2GB response message", "body": "<p>LWP may return incomplete response when it failed to read whole body because of the timeout or other read error. In this case <code>$response-&gt;is_success</code> will be <code>true</code> and <code>$response-&gt;code</code> will be <code>200</code>, but response headers will contain special header called <code>X-Died</code>.\nSo you can check this header:</p>\n\n<pre><code>unless ($response-&gt;is_success) {\n    die \"Response failed: \", $response-&gt;status_line;\n}\n\nif ($response-&gt;header('X-Died')) {\n    die \"Response failed (internal): \", $response-&gt;header('X-Died');\n}\n</code></pre>\n"}], "owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1432035222, "creation_date": 1432018079, "last_edit_date": 1432035222, "question_id": 30318555, "link": "https://stackoverflow.com/questions/30318555/lwpuseragent-returns-incomplete-2gb-response-message", "title": "LWP::UserAgent returns incomplete 2GB response message", "body": "<p>I am using <code>LWP::UserAgent</code>to send request on a URL. But sometime in the response I am getting incomplete <code>XML</code> response.</p>\n\n<p><strong>Code</strong> </p>\n\n<pre><code>$args-&gt;{pua} = LWP::UserAgent-&gt;new();\n$args-&gt;{header} = HTTP::Headers-&gt;new;\n$args-&gt;{header}-&gt;header(\"Content-Type\" =&gt; \"text/xml\", \"SOAPAction\" =&gt; $args-&gt;{soapaction});\n$request = HTTP::Request-&gt;new( \"POST\", $args-&gt;{endpoint}, $args-&gt;{header}, $args-&gt;{xml});\n$response = $args-&gt;{pua}-&gt;simple_request($request);\nmy $xmlResponse = $response-&gt;content;\n</code></pre>\n\n<p>In the <code>$xmlResponse</code> sometime I am getting incomplete response. Why is it happening?</p>\n\n<p><strong>ResponseHeader</strong></p>\n\n<pre><code>Connection: close\nDate: Tue, 19 May 2015 11:07:37 GMT\nServer: nginx/1.6.2\nVary: Accept-Encoding\nContent-Encoding: gzip\nContent-Type: text/xml;charset=ISO-8859-1\nClient-Date: Tue, 19 May 2015 11:07:40 GMT\nClient-Peer: 202.77.98.11:80\nClient-Response-Num: 1\nClient-Transfer-Encoding: chunked\nX-Frame-Options: SAMEORIGIN\n</code></pre>\n"}, {"tags": ["perl", "shell"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 1844760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97f1e7a25f1c0e167eeb0a9841c81?s=128&d=identicon&r=PG", "display_name": "CuriousOne", "link": "https://stackoverflow.com/users/1844760/curiousone"}, "edited": false, "score": 0, "creation_date": 1432025775, "post_id": 30317695, "comment_id": 48736843, "body": "It gives me below error as perl script can&#39;t recognize output variable from shell script.  Global symbol &quot;$output&quot; requires explicit package name at may.pl line 35."}, {"owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "reply_to_user": {"reputation": 35, "user_id": 1844760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97f1e7a25f1c0e167eeb0a9841c81?s=128&d=identicon&r=PG", "display_name": "CuriousOne", "link": "https://stackoverflow.com/users/1844760/curiousone"}, "edited": false, "score": 0, "creation_date": 1432045451, "post_id": 30317695, "comment_id": 48751338, "body": "Sorry, forgot a backslash."}], "tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": false, "score": 1, "last_activity_date": 1432045434, "last_edit_date": 1432045434, "creation_date": 1432014594, "answer_id": 30317695, "question_id": 30317287, "link": "https://stackoverflow.com/questions/30317287/how-to-call-shell-subroutine-from-perl-script/30317695#30317695", "title": "How to call shell subroutine from perl script", "body": "<pre><code>my $output = `source /path/my_shell-script.sh; extract_data arg1; echo \\$output`;\n</code></pre>\n\n<p>Your shell function is setting a variable in the shell.  But that variable is lost when the shell exits.  You need to print it to stdout, which Perl's backticks are capturing.  </p>\n"}, {"tags": [], "owner": {"reputation": 217, "user_id": 2310522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c29f1830b9552d0dd4048e028f898be6?s=128&d=identicon&r=PG", "display_name": "Igor Karbachinsky", "link": "https://stackoverflow.com/users/2310522/igor-karbachinsky"}, "is_accepted": false, "score": 2, "last_activity_date": 1432033017, "last_edit_date": 1432033017, "creation_date": 1432016400, "answer_id": 30318083, "question_id": 30317287, "link": "https://stackoverflow.com/questions/30317287/how-to-call-shell-subroutine-from-perl-script/30318083#30318083", "title": "How to call shell subroutine from perl script", "body": "<p>It's impossible to make an interaction between two processes without any file descriptor (by default this is stdout, stderr and stdin) when you use\nsystem, or <code>``</code> or even <code>open2</code>/<code>open3</code> calls.</p>\n\n<p>But if the problem is only that you don't want to break the code of your shell script, you can wrap it with another function in shell and call it from perl.\nYou can do something like this:</p>\n\n<p>Add code to <code>my_shell-script.sh</code>:</p>\n\n<pre><code>print_output()\n{\n  echo $output\n}\n</code></pre>\n\n<p>And your perl script:</p>\n\n<pre><code>my $output = `source /path/my_shell-script.sh; extract_data arg1; print_output`;\n</code></pre>\n\n<p>But this is terrible. Don't use global variables. This could be a good spike. But it would be better to use <code>return</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 16325, "user_id": 3220113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1c0b015f14adfdf581d04c065e903d?s=128&d=identicon&r=PG&f=1", "display_name": "Walter A", "link": "https://stackoverflow.com/users/3220113/walter-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1432025787, "creation_date": 1432025787, "answer_id": 30321007, "question_id": 30317287, "link": "https://stackoverflow.com/questions/30317287/how-to-call-shell-subroutine-from-perl-script/30321007#30321007", "title": "How to call shell subroutine from perl script", "body": "<p>You want to have an echo when my_shell-script.sh is called by Perl and not when it is called by another script. The script must decide if it is called by Perl.<br>\nTwo methods are:  </p>\n\n<ol>\n<li>Use a parameter/option to tell the script it must output the result</li>\n<li>Let my_shell-script.sh check the parent process and echo when the parent is perl.</li>\n</ol>\n\n<p>Since you call a function directly, you can take another solution. Make sure the original function name works without an echo, so other scripts don't need to be edited.</p>\n\n<pre><code>#!/bin/sh\nextract_data_process()\n   arg1=$1\n   // massage data code\n   output=massaged data\n   echo $output \n}\n\nextract_data()\n{\n   extract_data_process $1 &gt;/dev/null 2&gt;&amp;1\n   return 0\n}\n\nextract_data_verbose()\n{\n   output=$(extract_data_process $1 2&gt;&amp;1)\n   echo \"${output}\"\n   return 0\n}\n</code></pre>\n\n<p>Perl script:</p>\n\n<pre><code>my $output = `source /path/my_shell-script.sh; extract_data_verbose arg1`;\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 1844760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b97f1e7a25f1c0e167eeb0a9841c81?s=128&d=identicon&r=PG", "display_name": "CuriousOne", "link": "https://stackoverflow.com/users/1844760/curiousone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1432045434, "creation_date": 1432012704, "last_edit_date": 1432014689, "question_id": 30317287, "link": "https://stackoverflow.com/questions/30317287/how-to-call-shell-subroutine-from-perl-script", "title": "How to call shell subroutine from perl script", "body": "<p>I have a shell script where there are two subroutines written which take argument, massage that argument &amp; then provide new value as an output. </p>\n\n<p>This script is used by many other shell scripts. Now I have a Perl script where I want to call these shell subroutines with arguments. Below is my code:</p>\n\n<pre><code>#! /bin/sh\nextract_data()\n{\n  arg1 = $1\n  // massage data code\n  output=massaged data \n  return 0\n}\n</code></pre>\n\n<p>Perl script:</p>\n\n<pre><code>my $output = `source /path/my_shell-script.sh; extract_data arg1`;\n</code></pre>\n\n<p>So here I want to assign value of output variable from shell subroutine to output variable of Perl script. But what I have found is it is available only if I echo that output variable in shell subroutine like below.<BR></p>\n\n<pre><code>#! /bin/sh\nextract_data()\n{\narg1 = $1\n// massage data code\noutput=massaged data\necho $output \n}\n</code></pre>\n\n<p>I do not want to echo output variable as it is sensitive data &amp; will be exposed in the logs of other shell scripts.</p>\n\n<p>Please advise.</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 2049, "user_id": 1000290, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/765a148b3022ef1ccf1af2cba0f2339f?s=128&d=identicon&r=PG", "display_name": "tdihp", "link": "https://stackoverflow.com/users/1000290/tdihp"}, "edited": false, "score": 2, "creation_date": 1432003643, "post_id": 30315880, "comment_id": 48727057, "body": "&#39;:&#39;.join([&#39;google&#39;, &#39;apple&#39;, &#39;intel&#39;, &#39;qualcomm&#39;, &#39;nike&#39;, &#39;reebok&#39;, &#39;puma&#39;])"}, {"owner": {"reputation": 91, "user_id": 4536000, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-kENmNx0fU9o/AAAAAAAAAAI/AAAAAAAAQEg/6LiEf-FrDSo/photo.jpg?sz=128", "display_name": "PeterHsu", "link": "https://stackoverflow.com/users/4536000/peterhsu"}, "reply_to_user": {"reputation": 2049, "user_id": 1000290, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/765a148b3022ef1ccf1af2cba0f2339f?s=128&d=identicon&r=PG", "display_name": "tdihp", "link": "https://stackoverflow.com/users/1000290/tdihp"}, "edited": false, "score": 0, "creation_date": 1432003830, "post_id": 30315880, "comment_id": 48727096, "body": "I am not going to hard-code these brand in my code. What I intended to do is to join all elements in 2 variables."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 4536000, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-kENmNx0fU9o/AAAAAAAAAAI/AAAAAAAAQEg/6LiEf-FrDSo/photo.jpg?sz=128", "display_name": "PeterHsu", "link": "https://stackoverflow.com/users/4536000/peterhsu"}, "edited": false, "score": 0, "creation_date": 1432004122, "post_id": 30315918, "comment_id": 48727158, "body": "the + operator is &#39;elegant&#39; enough. Thanks a lot."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 91, "user_id": 4536000, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-kENmNx0fU9o/AAAAAAAAAAI/AAAAAAAAQEg/6LiEf-FrDSo/photo.jpg?sz=128", "display_name": "PeterHsu", "link": "https://stackoverflow.com/users/4536000/peterhsu"}, "edited": false, "score": 0, "creation_date": 1432005235, "post_id": 30315918, "comment_id": 48727416, "body": "@PeterHsu your code contains <code>, ( @{$</code> and you talk about elegance? Wat. :-P (Actually I&#39;m serious, that line could just be <code>say join &#39;:&#39;, @$brands, @$otherBrands</code>. Still not as nice as Python, though.)"}, {"owner": {"reputation": 91, "user_id": 4536000, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-kENmNx0fU9o/AAAAAAAAAAI/AAAAAAAAQEg/6LiEf-FrDSo/photo.jpg?sz=128", "display_name": "PeterHsu", "link": "https://stackoverflow.com/users/4536000/peterhsu"}, "edited": false, "score": 0, "creation_date": 1432005770, "post_id": 30315918, "comment_id": 48727546, "body": "Well.. I believe that is because I know the data structure and what exactly happened in the code (reference,dereference,array syntax, etc... ). These makes me feel more...safe on the code."}], "tags": [], "owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "is_accepted": true, "score": 8, "last_activity_date": 1432003782, "creation_date": 1432003782, "answer_id": 30315918, "question_id": 30315880, "link": "https://stackoverflow.com/questions/30315880/python-unpack-lists-and-join-into-a-string/30315918#30315918", "title": "Python - Unpack lists and join into a string", "body": "<p>You can use <code>+</code> to join two lists, and <code>join</code> to join them.</p>\n\n<pre><code>brands = [\"google\", \"apple\", \"intel\", \"qualcomm\"]\notherBrands = [\"nike\", \"reebok\", \"puma\"]\n\nprint \":\".join(brands + otherBrands)\n</code></pre>\n\n<p>If you are looking for syntax similar to <code>qw</code> in Perl (to create a list of string literals without quotes), that does not exist in Python as far as I know.</p>\n"}, {"tags": [], "owner": {"reputation": 816, "user_id": 565946, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/56c4fc7140c11b3a8adf9da0dac146ff?s=128&d=identicon&r=PG", "display_name": "Paul Rigor", "link": "https://stackoverflow.com/users/565946/paul-rigor"}, "is_accepted": false, "score": 2, "last_activity_date": 1432003782, "creation_date": 1432003782, "answer_id": 30315919, "question_id": 30315880, "link": "https://stackoverflow.com/questions/30315880/python-unpack-lists-and-join-into-a-string/30315919#30315919", "title": "Python - Unpack lists and join into a string", "body": "<p>You can try the following</p>\n\n<pre><code>list1 = ['google', 'apple', 'intel', 'qualcomm']\nlist2 = ['nike', 'reebok', 'puma']\nyour_string = \":\".join(list1+list2)\n</code></pre>\n\n<p>The output should be</p>\n\n<pre><code>'google:apple:intel:qualcomm:nike:reebok:puma'\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 4536000, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-kENmNx0fU9o/AAAAAAAAAAI/AAAAAAAAQEg/6LiEf-FrDSo/photo.jpg?sz=128", "display_name": "PeterHsu", "link": "https://stackoverflow.com/users/4536000/peterhsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6507, "favorite_count": 0, "accepted_answer_id": 30315918, "answer_count": 2, "score": 5, "last_activity_date": 1432003894, "creation_date": 1432003497, "last_edit_date": 1432003729, "question_id": 30315880, "link": "https://stackoverflow.com/questions/30315880/python-unpack-lists-and-join-into-a-string", "title": "Python - Unpack lists and join into a string", "body": "<p>I am new to Python, but I have experience in Perl coding.</p>\n\n<p>I wonder if there is an elegant way to 'join' lists into a string like following Perl example in Python.</p>\n\n<pre><code>my $brands = [ qw( google apple intel qualcomm ) ]; #1st List  \nmy $otherBrands = [ qw( nike reebok puma ) ]; #2nd List  \n\nsay join ':' , ( @{$brands} , @{$otherBrands} );  \n# print \"google:apple:intel:qualcomm:nike:reebok:puma\"\n</code></pre>\n\n<p>I've searched this for a while, but most of the answer are using * for unpacking which is not feasible in my case.</p>\n"}, {"tags": ["arrays", "string", "perl", "duplicates"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4284509"}, "edited": false, "score": 0, "creation_date": 1432013171, "post_id": 30315977, "comment_id": 48729804, "body": "Can you explain <code>(split &quot;_&quot;,$_)[0]}++</code> this code. I was use decrement operator instead of <code>++</code> it is also work. What is the meaning of the <code>++</code> operator in your code?"}, {"owner": {"reputation": 1314, "user_id": 2610955, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9bc5d17b17349ded8ebc925b2a87df43?s=128&d=identicon&r=PG", "display_name": "xtreak", "link": "https://stackoverflow.com/users/2610955/xtreak"}, "edited": false, "score": 2, "creation_date": 1432013740, "post_id": 30315977, "comment_id": 48730025, "body": "@aja <code>(split &quot;_&quot;, $_)</code> returns a list split with &#39;_&#39; with <code>[0]</code> you are taking the first element of the list and then increment the count for the hash. Any non-zero number is true in Perl in boolean context. So <code>&#39;!1&#39;</code> or <code>&#39;!-1&#39;</code> returns false. <code>grep</code> returns the elements that are true."}], "tags": [], "owner": {"reputation": 4883, "user_id": 62138, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/65881e840f44a05c4f3b0aea257da42e?s=128&d=identicon&r=PG", "display_name": "salparadise", "link": "https://stackoverflow.com/users/62138/salparadise"}, "is_accepted": true, "score": 1, "last_activity_date": 1432005994, "last_edit_date": 1432005994, "creation_date": 1432004222, "answer_id": 30315977, "question_id": 30315699, "link": "https://stackoverflow.com/questions/30315699/remove-almost-duplicated-strings/30315977#30315977", "title": "Remove almost duplicated strings", "body": "<p>keeping the spirit of what you tried:</p>\n\n<pre><code>my %seen;\nmy @result = grep {! $seen{(split \"_\",$_)[0]}++} &lt;DATA&gt;;\nprint @result;\n\n__DATA__\nrevised_1.4_1.4-1.05-jan\nrevised_1.5_1.8-before\nrevised_1.5_1.8-after\nrevised_1.5_0.7-mid\ndeleted&amp;reviewed_0.9-0.8-1.05-jan\ndeleted&amp;reviewed_1.6_1.6-before\ndeleted&amp;reviewed_0.5_1.8-after\ndeleted&amp;uploaded_0.8_1.9-midweek\ndeleted&amp;uploaded_1.0_1.3-offweek\naccessedbeforesecondquarter_0.8._1.6-jan\naccessedbeforesecondquarter_0.9_1.7-feb\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>revised_1.4_1.4-1.05-jan\ndeleted&amp;reviewed_0.9-0.8-1.05-jan\ndeleted&amp;uploaded_0.8_1.9-midweek\naccessedbeforesecondquarter_0.8._1.6-jan\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 4843222, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/a7aa934a933081a928ba1aa92f89f333?s=128&d=identicon&r=PG&f=1", "display_name": "Xpx", "link": "https://stackoverflow.com/users/4843222/xpx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 30315977, "answer_count": 1, "score": 0, "last_activity_date": 1432005994, "creation_date": 1432001975, "question_id": 30315699, "link": "https://stackoverflow.com/questions/30315699/remove-almost-duplicated-strings", "title": "Remove almost duplicated strings", "body": "<p>Hi I have these strings and several other strings in an array.</p>\n\n<pre><code>    revised_1.4_1.4-1.05-jan\n    revised_1.5_1.8-before\n    revised_1.5_1.8-after\n    revised_1.5_0.7-mid\n    deleted&amp;reviewed_0.9-0.8-1.05-jan\n    deleted&amp;reviewed_1.6_1.6-before\n    deleted&amp;reviewed_0.5_1.8-after\n    deleted&amp;uploaded_0.8_1.9-midweek\n    deleted&amp;uploaded_1.0_1.3-offweek\n    accessedbeforesecondquarter_0.8._1.6-jan\n    accessedbeforesecondquarter_0.9_1.7-feb\n</code></pre>\n\n<p>I need to keep one of the almost similar strings in the array. How can I code to get this array?</p>\n\n<pre><code>    revised_1.4_1.4-1.05-jan \n    deleted&amp;reviewed_0.9-0.8-1.05-jan\n    deleted&amp;uploaded_0.8_1.9-midweek\n    accessedbeforesecondquarter_0.8._1.6-jan\n</code></pre>\n\n<p>Here's my code and it doesn't seem to work fine for me to save the strings into an array.</p>\n\n<pre><code>my %seen;\nmy @strings = grep !$seen{ substr($_,0,2) }++, @strings;\n</code></pre>\n"}, {"tags": ["java", "regex", "perl"], "comments": [{"owner": {"reputation": 112847, "user_id": 1393766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h0FSp.png?s=128&g=1", "display_name": "Pshemo", "link": "https://stackoverflow.com/users/1393766/pshemo"}, "edited": false, "score": 0, "creation_date": 1431985127, "post_id": 30313212, "comment_id": 48721780, "body": "Start here: <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/regex</a>? Come back when you will have problems with Java code."}, {"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 0, "creation_date": 1431985216, "post_id": 30313212, "comment_id": 48721827, "body": "What have you tried? Did you do any research on a modern website called google? and Oracle documentation? <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.ht&zwnj;&#8203;ml</a>"}, {"owner": {"reputation": 9152, "user_id": 2338547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QT3fG.png?s=128&g=1", "display_name": "markspace", "link": "https://stackoverflow.com/users/2338547/markspace"}, "edited": false, "score": 0, "creation_date": 1431985599, "post_id": 30313212, "comment_id": 48721984, "body": "I don&#39;t know any PHP.  Does <code>=~</code> grab the part that was matched by the regex?  What happens if there&#39;s more than one match?"}, {"owner": {"reputation": 3645, "user_id": 1870109, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/53a172402accaf1006e6271b39c9d92b?s=128&d=identicon&r=PG", "display_name": "sublime", "link": "https://stackoverflow.com/users/1870109/sublime"}, "reply_to_user": {"reputation": 9152, "user_id": 2338547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QT3fG.png?s=128&g=1", "display_name": "markspace", "link": "https://stackoverflow.com/users/2338547/markspace"}, "edited": false, "score": 0, "creation_date": 1431985806, "post_id": 30313212, "comment_id": 48722068, "body": "@markspace It&#39;s perl. It just matches with the pattern and returns true or false. That is all I need to know. If the pattern matches or not."}, {"owner": {"reputation": 9152, "user_id": 2338547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QT3fG.png?s=128&g=1", "display_name": "markspace", "link": "https://stackoverflow.com/users/2338547/markspace"}, "edited": false, "score": 0, "creation_date": 1431986167, "post_id": 30313212, "comment_id": 48722214, "body": "@sublime Ah, OK.  You have two answers below.  Pick one."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 1, "creation_date": 1431990630, "post_id": 30313212, "comment_id": 48723787, "body": "There are construct differences between Perl and Java, but with your regex the constructs are identical. Are you trying to do Java regex without having to learn the standard Regex function calls? This is not a good start."}], "answers": [{"tags": [], "owner": {"reputation": 3489, "user_id": 1093147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127f986a36bfbbe7b4592260b8c2c83a?s=128&d=identicon&r=PG", "display_name": "Nat", "link": "https://stackoverflow.com/users/1093147/nat"}, "is_accepted": false, "score": 1, "last_activity_date": 1431985126, "creation_date": 1431985126, "answer_id": 30313238, "question_id": 30313212, "link": "https://stackoverflow.com/questions/30313212/perl-to-java-regex-conversion/30313238#30313238", "title": "Perl to Java Regex conversion", "body": "<p>It would be pretty similar.</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"(^FOO[0-9]{4})|(^BAR[0-9]{3})\");\nSystem.out.println(pattern.matcher(\"FOO4823\").find());\nSystem.out.println(pattern.matcher(\"BAR943\").find());\n</code></pre>\n\n<p>Take a look at the test <a href=\"http://fiddle.re/8a0j26\" rel=\"nofollow\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 9152, "user_id": 2338547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QT3fG.png?s=128&g=1", "display_name": "markspace", "link": "https://stackoverflow.com/users/2338547/markspace"}, "is_accepted": true, "score": 0, "last_activity_date": 1431985437, "last_edit_date": 1495542115, "creation_date": 1431985437, "answer_id": 30313294, "question_id": 30313212, "link": "https://stackoverflow.com/questions/30313212/perl-to-java-regex-conversion/30313294#30313294", "title": "Perl to Java Regex conversion", "body": "<p>To re-write this in Java, you want something like</p>\n\n<pre><code>String text = ...\nMatcher matcher = Pattern.compile(\"(^FOO[0-9]{4})|(^BAR[0-9]{3})\").matcher( text );\nif( matcher.find() ) {  \n  // ... it was found\n}\n</code></pre>\n\n<p>As for a guide converting Perl to Java, there's a <a href=\"https://stackoverflow.com/questions/14030146/what-are-the-differences-between-perl-and-java-regex-capabilities\">pretty good discussion in this StackOverflow question.</a></p>\n"}], "owner": {"reputation": 3645, "user_id": 1870109, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/53a172402accaf1006e6271b39c9d92b?s=128&d=identicon&r=PG", "display_name": "sublime", "link": "https://stackoverflow.com/users/1870109/sublime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1080, "favorite_count": 0, "accepted_answer_id": 30313294, "answer_count": 2, "score": -3, "last_activity_date": 1431985489, "creation_date": 1431984993, "last_edit_date": 1431985489, "question_id": 30313212, "link": "https://stackoverflow.com/questions/30313212/perl-to-java-regex-conversion", "title": "Perl to Java Regex conversion", "body": "<p>There are some perl regular expressions that I need to convert to Java regular expressions. I'm new to Java and don't know much about Java regexes.</p>\n\n<p>Regex that I want to convert are very similar to this</p>\n\n<pre><code>Text =~ /(^FOO[0-9]{4})|(^BAR[0-9]{3})/\n</code></pre>\n\n<p>See if string matches to either <code>FOO4823</code> <code>BAR943</code> (<code>FOO</code> and 4 numbers or <code>BAR</code> and 3 numbers). How would I rewrite this in Java? Are there any simple rules to convert them?</p>\n"}, {"tags": ["perl", "mongodb"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1431983342, "post_id": 30311496, "comment_id": 48720974, "body": "Didn&#39;t you see anything wrong with your post after you submitted it? I&#39;ve tried to fix it but I can&#39;t be sure what you mean. Indent code by four spaces for highlighting"}], "answers": [{"tags": [], "owner": {"reputation": 1484, "user_id": 1601772, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/C4CW3.jpg?s=128&g=1", "display_name": "ABrowne", "link": "https://stackoverflow.com/users/1601772/abrowne"}, "is_accepted": false, "score": 1, "last_activity_date": 1431978053, "creation_date": 1431978053, "answer_id": 30311557, "question_id": 30311496, "link": "https://stackoverflow.com/questions/30311496/using-multiple-field-query-mongo-perl/30311557#30311557", "title": "Using multiple field query mongo perl", "body": "<p>You are missing a bracket:</p>\n\n<pre><code>my $cursor = $collection -&gt;find( { create_date =&gt; {'$gte' =&gt; $past,'$lt' =&gt; $present}, status =&gt; {'$eq' =&gt; \"F\" }} )\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 4876115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b9049bdee5bcad4bb8bed670f4451d5?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Lichtman", "link": "https://stackoverflow.com/users/4876115/steve-lichtman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1431986010, "creation_date": 1431977825, "last_edit_date": 1431986010, "question_id": 30311496, "link": "https://stackoverflow.com/questions/30311496/using-multiple-field-query-mongo-perl", "title": "Using multiple field query mongo perl", "body": "<p>I have my between date queries working great, but am trying to add another and to this and failing.  Any ideas?</p>\n\n<pre><code>my $cursor = $collection\n-&gt;find( { create_date =&gt; {'$gte' =&gt; $past,'$lt' =&gt; $present, status =&gt; $eq' =&gt; \"F\" }\n#status =&gt; {\n#'$eq' =&gt; \"F'\n#} } );\n</code></pre>\n"}, {"tags": ["python", "perl", "unix", "awk", "terminal"], "comments": [{"owner": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 0, "creation_date": 1431976225, "post_id": 30310698, "comment_id": 48717399, "body": "Are you allowed to use perl, awk, or python?"}, {"owner": {"reputation": 2367, "user_id": 2777850, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/SsRSv.jpg?s=128&g=1", "display_name": "colin", "link": "https://stackoverflow.com/users/2777850/colin"}, "reply_to_user": {"reputation": 7668, "user_id": 2554472, "user_type": "registered", "profile_image": "https://graph.facebook.com/1119155584/picture?type=large", "display_name": "Mark Plotnick", "link": "https://stackoverflow.com/users/2554472/mark-plotnick"}, "edited": false, "score": 0, "creation_date": 1431976820, "post_id": 30310698, "comment_id": 48717689, "body": "@MarkPlotnick all of those are fine."}, {"owner": {"reputation": 106418, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "edited": false, "score": 0, "creation_date": 1431977613, "post_id": 30310698, "comment_id": 48718137, "body": "@colin I added those tags that you said you are fine with."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431977955, "post_id": 30310698, "comment_id": 48718318, "body": "Have you made any effort at all to do this yourself? I presume it&#39;s a homework assignment as it doesn&#39;t look like something that&#39;s at all useful commercially"}, {"owner": {"reputation": 2367, "user_id": 2777850, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/SsRSv.jpg?s=128&g=1", "display_name": "colin", "link": "https://stackoverflow.com/users/2777850/colin"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 6, "creation_date": 1431978336, "post_id": 30310698, "comment_id": 48718505, "body": "@Borodin not a homework problem. It would actually solve a real bioinformatics problem I am having. I am an ecologist, self taught coding for working with very large DNA files. I have made an effort to do this myself. Also- you&#39;re kind of rude!"}], "answers": [{"comments": [{"owner": {"reputation": 106418, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "edited": false, "score": 1, "creation_date": 1431978108, "post_id": 30311412, "comment_id": 48718395, "body": "Reason for downvote? Anything wrong with the answer?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1431986847, "post_id": 30311412, "comment_id": 48722469, "body": "beats me, nothing wrong with it, have an upvote to compensate."}, {"owner": {"reputation": 3055, "user_id": 1843248, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/63X0V.jpg?s=128&g=1", "display_name": "Doug R.", "link": "https://stackoverflow.com/users/1843248/doug-r"}, "edited": false, "score": 0, "creation_date": 1431997731, "post_id": 30311412, "comment_id": 48725756, "body": "Only issue I saw was that I thought the OP didn&#39;t ask for <code>awk</code>, but I was wrong.  Second upvote as a &quot;so-there&quot; bonus to the downvote. :-D"}, {"owner": {"reputation": 67328, "user_id": 970195, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34597f9d2e0d17b890f0ef968bd61e6b?s=128&d=identicon&r=PG", "display_name": "jaypal singh", "link": "https://stackoverflow.com/users/970195/jaypal-singh"}, "edited": false, "score": 0, "creation_date": 1432007461, "post_id": 30311412, "comment_id": 48727982, "body": "Agree with everyone. Nothing wrong with the solution though could be optimized. I have added an edit, if you feel it was too radical, please revert it. You&#39;ll have my upvote regardless :)"}, {"owner": {"reputation": 106418, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "reply_to_user": {"reputation": 67328, "user_id": 970195, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34597f9d2e0d17b890f0ef968bd61e6b?s=128&d=identicon&r=PG", "display_name": "jaypal singh", "link": "https://stackoverflow.com/users/970195/jaypal-singh"}, "edited": false, "score": 0, "creation_date": 1432034984, "post_id": 30311412, "comment_id": 48743095, "body": "@jaypalsingh Thanks for the edit :)"}], "tags": [], "owner": {"reputation": 106418, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "is_accepted": false, "score": 4, "last_activity_date": 1432007415, "last_edit_date": 1432007415, "creation_date": 1431977483, "answer_id": 30311412, "question_id": 30310698, "link": "https://stackoverflow.com/questions/30310698/reverse-every-other-line-in-a-file-write-to-a-new-file-in-unix/30311412#30311412", "title": "reverse every other line in a file, write to a new file in unix", "body": "<p>Here's an awk solution:</p>\n\n<pre><code>awk '\nfunction reverse(s,    r) {\n  for (i=length(s); i&gt;0; i--)\n    r=r substr (s, i, 1);\n  return r\n}\n{ \n  print ((NR%2) ? $0: reverse($0))\n}' file\n</code></pre>\n\n<p>The function <code>reverse()</code> reverses the given string and it's called with every other line.</p>\n"}, {"comments": [{"owner": {"reputation": 3055, "user_id": 1843248, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/63X0V.jpg?s=128&g=1", "display_name": "Doug R.", "link": "https://stackoverflow.com/users/1843248/doug-r"}, "edited": false, "score": 0, "creation_date": 1431997833, "post_id": 30311673, "comment_id": 48725781, "body": "One-liners are one of the things I miss about using Perl."}], "tags": [], "owner": {"reputation": 137100, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "is_accepted": true, "score": 5, "last_activity_date": 1431978591, "creation_date": 1431978591, "answer_id": 30311673, "question_id": 30310698, "link": "https://stackoverflow.com/questions/30310698/reverse-every-other-line-in-a-file-write-to-a-new-file-in-unix/30311673#30311673", "title": "reverse every other line in a file, write to a new file in unix", "body": "<p>Use Perl's options to assemble a oneliner.</p>\n\n<pre><code>perl -lpe '$_ = reverse $_ unless $.%2' file\n</code></pre>\n\n<p><code>-l</code> (lowercase L) chops off the terminating newline and adds it back on when printing; <code>-p</code> causes Perl to loop over input lines and  print each after running the script on it; <code>$_</code> is  the current input line and <code>$.</code> is the line number.</p>\n"}, {"tags": [], "owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "is_accepted": false, "score": 1, "last_activity_date": 1431979169, "creation_date": 1431979169, "answer_id": 30311818, "question_id": 30310698, "link": "https://stackoverflow.com/questions/30310698/reverse-every-other-line-in-a-file-write-to-a-new-file-in-unix/30311818#30311818", "title": "reverse every other line in a file, write to a new file in unix", "body": "<p>Simple Python script:</p>\n\n<pre><code>#!/usr/bin/python\n\nimport sys\n\nflip = False\n\nfor line in sys.stdin:\n    if flip:\n        print line.strip()\n    else:\n        print line.strip()[::-1]\n    flip = not flip\n</code></pre>\n\n<p>Save that as, e.g. <code>flip_evens.py</code>, then fix the permissions (<code>chmod +x flip_evens.py</code>) and run it as <code>./flip_evens.py &lt; input.txt</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 226874, "user_id": 1983854, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eKpAk.png?s=128&g=1", "display_name": "fedorqui &#39;SO stop harming&#39;", "link": "https://stackoverflow.com/users/1983854/fedorqui-so-stop-harming"}, "is_accepted": false, "score": 1, "last_activity_date": 1431980036, "creation_date": 1431980036, "answer_id": 30312044, "question_id": 30310698, "link": "https://stackoverflow.com/questions/30310698/reverse-every-other-line-in-a-file-write-to-a-new-file-in-unix/30312044#30312044", "title": "reverse every other line in a file, write to a new file in unix", "body": "<p>In almost pure bash, you can keep a variable to know if you are reading an even or odd line, applying then <code>rev</code> accordingly:</p>\n\n<pre><code>f=0\nwhile IFS= read -r line\ndo\n    (( f%2 )) &amp;&amp; rev &lt;&lt;&lt; \"$line\" || echo \"$line\"\n    (( f++ ))\ndone &lt; file &gt; new_file\n</code></pre>\n\n<h3>Test</h3>\n\n<p>Printing to stdout:</p>\n\n<pre><code>while IFS= read -r line; do (( f%2 )) &amp;&amp; rev &lt;&lt;&lt; \"$line\" || echo \"$line\"; (( f++ )); done &lt; a\nwassup\ntunod\nskateboard\n! .hteet ?\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3055, "user_id": 1843248, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/63X0V.jpg?s=128&g=1", "display_name": "Doug R.", "link": "https://stackoverflow.com/users/1843248/doug-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1431997593, "last_edit_date": 1431997593, "creation_date": 1431996954, "answer_id": 30315103, "question_id": 30310698, "link": "https://stackoverflow.com/questions/30310698/reverse-every-other-line-in-a-file-write-to-a-new-file-in-unix/30315103#30315103", "title": "reverse every other line in a file, write to a new file in unix", "body": "<p>Here's another solution in Python:</p>\n\n<pre><code>&gt;&gt;&gt; text = ['wassup', 'donut', 'skateboard', '? teeth. !']\n&gt;&gt;&gt; output = []\n&gt;&gt;&gt; for num, line in enumerate(text):\n...   if num % 2:  # Starting with the second line (which is an index of `1`...)\n...     output.append(''.join(reversed(line)))  # Reverse the string, then join it into a new string.\n...   else:\n...     output.append(line)\n... \n&gt;&gt;&gt; for line in output:\n...   print(line)\n... \nwassup\ntunod\nskateboard\n! .hteet ?\n&gt;&gt;&gt; \n</code></pre>\n"}], "owner": {"reputation": 2367, "user_id": 2777850, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/SsRSv.jpg?s=128&g=1", "display_name": "colin", "link": "https://stackoverflow.com/users/2777850/colin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "closed_date": 1432024418, "accepted_answer_id": 30311673, "answer_count": 5, "score": -1, "last_activity_date": 1432007415, "creation_date": 1431974674, "last_edit_date": 1431977595, "question_id": 30310698, "link": "https://stackoverflow.com/questions/30310698/reverse-every-other-line-in-a-file-write-to-a-new-file-in-unix", "closed_reason": "Needs more focus", "title": "reverse every other line in a file, write to a new file in unix", "body": "<p>Say I have a file, <code>wassup.txt</code> The lines of which read:</p>\n\n<pre><code>wassup\ndonut\nskateboard\n? teeth. !\n</code></pre>\n\n<p>I'd like to reverse the characters of every other line, starting with the second line, and then save as a new file <code>pussaw.txt</code>, the lines of which would read:</p>\n\n<pre><code>wassup\ntunod\nskateboard\n! .hteet ?\n</code></pre>\n\n<p>Ideally the solution would just use base terminal/Unix functions, or maybe awk, perl or python. </p>\n\n<p>I know I can flip every line with the code:</p>\n\n<pre><code>rev wassup.txt &gt; pussaw.txt\n</code></pre>\n\n<p>The question is how to only execute this on every other line, starting with the second line. </p>\n"}, {"tags": ["arrays", "perl", "reverse"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1431978752, "post_id": 30310221, "comment_id": 48718713, "body": "The <code>@_</code> array is &quot;magical&quot;."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 6, "creation_date": 1431981149, "post_id": 30310221, "comment_id": 48719904, "body": "The <code>@_</code> array is not magical."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 12, "last_activity_date": 1431984015, "last_edit_date": 1431984015, "creation_date": 1431974065, "answer_id": 30310506, "question_id": 30310221, "link": "https://stackoverflow.com/questions/30310221/what-is-a-magical-array-in-perl/30310506#30310506", "title": "What is a magical array in Perl?", "body": "<p>Magical variables are those that have special features that a normal variables of that type do not have.</p>\n\n<p>See <a href=\"https://metacpan.org/pod/perlguts#Magic-Variables\">Magic Variables in perlguts</a>. See also <a href=\"https://metacpan.org/pod/Variable::Magic\">Variable::Magic</a> which lets you \"Associate user-defined magic to variables from Perl.\"</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1432041644, "post_id": 30310521, "comment_id": 48748051, "body": "@ikegami: Thanks. I didn&#39;t see what mob was getting at"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 10, "last_activity_date": 1432051380, "last_edit_date": 1432051380, "creation_date": 1431974101, "answer_id": 30310521, "question_id": 30310221, "link": "https://stackoverflow.com/questions/30310221/what-is-a-magical-array-in-perl/30310521#30310521", "title": "What is a magical array in Perl?", "body": "<p>A <em>magical</em> array is one where an operation performed on it does more than simply alter the contents. The only built-in array that has magic is <code>@ISA</code>, and that is in a very non-obvious way. As the sentence implies, a magical array is mostly a <em>tied</em> array, See <a href=\"http://perldoc.perl.org/functions/tie.html\" rel=\"nofollow\"><code>tie</code></a> and <a href=\"http://perldoc.perl.org/perltie.html\" rel=\"nofollow\"><code>perltie</code></a></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1432050531, "last_edit_date": 1432050531, "creation_date": 1432041274, "answer_id": 30326725, "question_id": 30310221, "link": "https://stackoverflow.com/questions/30310221/what-is-a-magical-array-in-perl/30326725#30326725", "title": "What is a magical array in Perl?", "body": "<p>In Perl, it's possible to have operations on a variable trigger the calling of code.</p>\n\n<p>For example,</p>\n\n<pre><code>use Variable::Magic qw( wizard cast );\n\nmy $wiz = wizard(\n   get  =&gt; sub { print \"get\\n\" },\n   set  =&gt; sub { print \"set\\n\" },\n);\n\ncast my $x, $wiz;\n\n$x = 1; print(\"$x\\n\");\n$x = 2; print(\"$x\\n\");\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>set\nget\n1\nset\nget\n2\n</code></pre>\n\n<p>Such variables are said to have magic.</p>\n\n<p>Many of the variables in <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow\">perlvar</a> are magical. For example, <code>$!</code> uses magic to proxy <code>errno</code> and <code>strerror</code>.</p>\n\n<pre><code>$ perl -E'for (1..5) { $! = $_; say $!; }'\nOperation not permitted\nNo such file or directory\nNo such process\nInterrupted system call\nInput/output error\n\n$ perl -MDevel::Peek -e'Dump($!)'\nSV = PVMG(0x292fdf0) at 0x28f9648\n  REFCNT = 1\n  FLAGS = (GMG,SMG)        &lt;--- Has get and set magic\n  IV = 0\n  NV = 0\n  PV = 0\n  MAGIC = 0x28e0f50\n    MG_VIRTUAL = &amp;PL_vtbl_sv\n    MG_TYPE = PERL_MAGIC_sv(\\0)\n    MG_OBJ = 0x28f9660\n    MG_LEN = 1\n    MG_PTR = 0x2903230 \"!\"\n</code></pre>\n\n<p>This is just one of the many uses of magic in core. Search for \"The current kinds of Magic\" in <a href=\"http://perldoc.perl.org/perlguts.html\" rel=\"nofollow\">perlguts</a> for a number of others, including lvalue <code>substr</code>.</p>\n\n<pre><code># When substr is used as an lvalue, it returns a\n# magical variable that changes $s when it's changed.\nsubstr($s, 0, 1) = \"abc\";\n</code></pre>\n\n<p><a href=\"http://perldoc.perl.org/functions/tie.html\" rel=\"nofollow\"><code>tie</code></a> uses magic to expose something similar to magic to Perl code.</p>\n\n<p>Magical hashes and arrays are rarer than magical scalars. <code>%ENV</code> proxies <code>getenv</code> and <code>putenv</code>. <code>@ISA</code> has magic to invalidate method lookup caches.</p>\n\n<pre><code>$ perl -MDevel::Peek -e'Dump(@ISA, 0);'\nSV = PVAV(0x1087e88) at 0x10a3a78\n  REFCNT = 1\n  FLAGS = (SMG,RMG)        &lt;--- Has set and other magic\n  MAGIC = 0x108b380\n    MG_VIRTUAL = &amp;PL_vtbl_isa\n    MG_TYPE = PERL_MAGIC_isa(I)\n    MG_OBJ = 0x10a3a90\n  ARRAY = 0x0\n  FILL = -1\n  MAX = -1\n  ARYLEN = 0x0\n  FLAGS = (REAL)\n</code></pre>\n"}], "owner": {"reputation": 1343, "user_id": 1423189, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/46bad9390779f986b0a9a32b8fdfc02a?s=128&d=identicon&r=PG", "display_name": "schulwitz", "link": "https://stackoverflow.com/users/1423189/schulwitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 951, "favorite_count": 1, "accepted_answer_id": 30310521, "answer_count": 3, "score": 14, "last_activity_date": 1432051380, "creation_date": 1431973024, "question_id": 30310221, "link": "https://stackoverflow.com/questions/30310221/what-is-a-magical-array-in-perl", "title": "What is a magical array in Perl?", "body": "<p>In the Perl <a href=\"http://perldoc.perl.org/functions/reverse.html\">documentation for <code>reverse</code></a> I find this:</p>\n\n<p><em>\"Note that reversing an array to itself (as in @a = reverse @a ) will preserve non-existent elements whenever possible; i.e., for <strong>non-magical arrays</strong> or for tied arrays with EXISTS and DELETE methods.\"</em></p>\n\n<p>What properties differentiate a magical from a non-magical array?</p>\n"}, {"tags": ["arrays", "perl", "sorting"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1431960261, "post_id": 30305942, "comment_id": 48707807, "body": "Hint: turn on warnings with <code>use warnings;</code> and you&#39;ll get <code>Use of uninitialized value in numeric comparison (&lt;=&gt;)</code> Think about why <code>$a-&gt;[4]</code> and <code>$b-&gt;[4]</code> might be undefined."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 4, "creation_date": 1431960643, "post_id": 30305942, "comment_id": 48708077, "body": "and if necessary, add <code>use Data::Dumper; print Dumper \\@binToSort;</code>"}, {"owner": {"reputation": 43, "user_id": 4912424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8633cb095e7c0ee717f1b21ac0774432?s=128&d=identicon&r=PG&f=1", "display_name": "imomushi8", "link": "https://stackoverflow.com/users/4912424/imomushi8"}, "edited": false, "score": 3, "creation_date": 1431961168, "post_id": 30305942, "comment_id": 48708499, "body": "I see the warnings now, thanks. And <code>print Dumper \\@binToSort;</code> gives me <code>$VAR1 = [[[3,4,5,6,7,8]],[[4,6,5,1,1,2]],[[9,8,9,3,4,4]]];</code> (in column form). Those double brackets... that&#39;s a red flag right?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1431962195, "post_id": 30305942, "comment_id": 48709239, "body": "Yes, it is a red flag, <a href=\"https://eval.in/366831\" rel=\"nofollow noreferrer\">eval.in/366831</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431962210, "post_id": 30305942, "comment_id": 48709255, "body": "That&#39;s right. Now you can trace the execution of the <code>sort</code>. In the first iteration, <code>$a</code> will be <code>[[3,4,5,6,7,8]]</code> (a reference to an array containing one element) and <code>$b</code> will be <code>[[4,6,5,1,1,2]]</code> (another reference to an array containing one element)."}, {"owner": {"reputation": 43, "user_id": 4912424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8633cb095e7c0ee717f1b21ac0774432?s=128&d=identicon&r=PG&f=1", "display_name": "imomushi8", "link": "https://stackoverflow.com/users/4912424/imomushi8"}, "edited": false, "score": 0, "creation_date": 1431963383, "post_id": 30305942, "comment_id": 48710062, "body": "aha! I got it working. Thank you for pointing me to where the problem was, in how I was filling the array. I&#39;ll add an answer with the functioning code."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1431963589, "post_id": 30305942, "comment_id": 48710206, "body": "@imomushi8: Perl <i>does</i> treat that as a one-dimensional array. The problem isn&#39;t that you&#39;re taking references to the <code>@hat</code> arrays, it&#39;s that you&#39;re initialising them to have a <i>single</i> element each which is an array reference. <code>print Dumper \\@hat1</code> to see"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4912424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8633cb095e7c0ee717f1b21ac0774432?s=128&d=identicon&r=PG&f=1", "display_name": "imomushi8", "link": "https://stackoverflow.com/users/4912424/imomushi8"}, "edited": false, "score": 0, "creation_date": 1431963859, "post_id": 30307069, "comment_id": 48710393, "body": "Thanks so much! And I appreciate seeing two different ways to do it."}], "tags": [], "owner": {"reputation": 9446, "user_id": 347767, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/013da2590dd9f46e31cb022ec51eb192?s=128&d=identicon&r=PG", "display_name": "gangabass", "link": "https://stackoverflow.com/users/347767/gangabass"}, "is_accepted": true, "score": 3, "last_activity_date": 1431962553, "creation_date": 1431962553, "answer_id": 30307069, "question_id": 30305942, "link": "https://stackoverflow.com/questions/30305942/perl-sort-2d-array-with-references/30307069#30307069", "title": "perl sort 2d array with references", "body": "<p>You need:</p>\n\n<pre><code>my $hat1 = [ 3, 4, 5, 6, 7, 8 ];\nmy $hat2 = [ 4, 6, 5, 1, 1, 2 ];\nmy $hat3 = [ 9, 8, 9, 3, 4, 4 ];\n\n#eventually work with unknown number of hats\n\nmy @binToSort = ( $hat1, $hat2, $hat3 );\n\nmy @binSorted = sort { $a-&gt;[4] &lt;=&gt; $b-&gt;[4] } @binToSort;\n\nfor my $ref (@binSorted) {\n    for my $inner ( @{$ref} ) {\n        print \"$inner\";\n    }\n    print \"\\n\";\n}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>my @hat1 = ( 3, 4, 5, 6, 7, 8 );\nmy @hat2 = ( 4, 6, 5, 1, 1, 2 );\nmy @hat3 = ( 9, 8, 9, 3, 4, 4 );\n\n#eventually work with unknown number of hats\n\nmy @binToSort = ( \\@hat1, \\@hat2, \\@hat3 );\n\nmy @binSorted = sort { $a-&gt;[4] &lt;=&gt; $b-&gt;[4] } @binToSort;\n\nfor my $ref (@binSorted) {\n    for my $inner ( @{$ref} ) {\n        print \"$inner\";\n    }\n    print \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4912424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8633cb095e7c0ee717f1b21ac0774432?s=128&d=identicon&r=PG&f=1", "display_name": "imomushi8", "link": "https://stackoverflow.com/users/4912424/imomushi8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 30307069, "answer_count": 1, "score": 4, "last_activity_date": 1431962553, "creation_date": 1431959433, "question_id": 30305942, "link": "https://stackoverflow.com/questions/30305942/perl-sort-2d-array-with-references", "title": "perl sort 2d array with references", "body": "<p>I am somewhat new to perl so please bear with me. I've exhausted all possible solutions I could find so far.</p>\n\n<p>Let's say I have some hats with some measurements that are filled elsewhere. And I want to sort them based on a certain column. I try to do this using perl's \"sort\" but I don't get them to actually sort. I believe the problem is that I'm confused on references. The code below is what I'm working with at the moment.</p>\n\n<pre><code>my @hat1 = [3, 4, 5, 6, 7, 8];\nmy @hat2 = [4, 6, 5, 1, 1, 2];\nmy @hat3 = [9, 8, 9, 3, 4, 4];\n#eventually work with unknown number of hats\n\nmy @binToSort = (\\@hat1,\\@hat2,\\@hat3);\n\nmy @binSorted = sort { $a-&gt;[4] &lt;=&gt; $b-&gt;[4] } @binToSort;\n\nfor my $ref (@binSorted){\n    for my $inner (@$ref){\n        print \"@$inner\\n\";\n    }\n}\n</code></pre>\n\n<p>As of now it prints out the unsorted array values:</p>\n\n<pre><code>3 4 5 6 7 8\n4 6 5 1 1 2\n9 8 9 3 4 4\n</code></pre>\n\n<p>But I want to be able to arrive at:</p>\n\n<pre><code>4 6 5 1 1 2\n9 8 9 3 4 4\n3 4 5 6 7 8\n</code></pre>\n\n<p>I feel like this is a simple problem but I can't figure out the right way to do it. Any help is much appreciated!</p>\n"}, {"tags": ["perl", "x509", "sha256", "jwt", "google-identity-toolkit"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431972443, "post_id": 30305759, "comment_id": 48715320, "body": "<b><i>Always</i></b> <code>use strict</code> and <code>use warnings</code>, especially before asking for help with your code. What you do in private is up to you, but please at least <i>appear</i> to have made an effort before writing a question here."}, {"owner": {"reputation": 19, "user_id": 4912411, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aadKYK8m0B4/AAAAAAAAAAI/AAAAAAAAAPw/1mamj0_5yn4/photo.jpg?sz=128", "display_name": "zarfmouse", "link": "https://stackoverflow.com/users/4912411/zarfmouse"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431974339, "post_id": 30305759, "comment_id": 48716362, "body": "Meh, I cut and pasted from a longer script. I always use strict and use warnings. I&#39;ve tried implementing this thing a dozen times in a dozen different ways including different languages. The problem here is not about the language it is about the 256 byte signature vs. the 128 byte public keys. The code is just for reference.   I also didn&#39;t include the #! line or the content type header output or any number of other details that I thought distracted from the point I was making. But I did test the script as posted."}, {"owner": {"reputation": 19, "user_id": 4912411, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aadKYK8m0B4/AAAAAAAAAAI/AAAAAAAAAPw/1mamj0_5yn4/photo.jpg?sz=128", "display_name": "zarfmouse", "link": "https://stackoverflow.com/users/4912411/zarfmouse"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431974650, "post_id": 30305759, "comment_id": 48716529, "body": "I mean it&#39;s not as if you could run this script trivially anyway. You&#39;d need to set up Google Identity Toolkit and get yourself a gtoken cookie set. That takes a bit of doing, so I&#39;m not looking for code review, I&#39;m looking for someone who already knows the crypto steps needed to verify the signature on a Google-signed id token JWT.   I read through the source code on the google libraries for a few different languages. Everything seems to suggest that you should do exactly what I&#39;m doing above. So I wonder if I&#39;m using the wrong crypto algorithm or getting the wrong keys."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 2351164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7998419992291d222f2d576a739a1543?s=128&d=identicon&r=PG", "display_name": "Jason Baik", "link": "https://stackoverflow.com/users/2351164/jason-baik"}, "is_accepted": false, "score": 1, "last_activity_date": 1432099035, "last_edit_date": 1432099035, "creation_date": 1432098579, "answer_id": 30340709, "question_id": 30305759, "link": "https://stackoverflow.com/questions/30305759/what-is-the-right-public-key-to-verify-a-gtoken-jwt-from-google-identity-toolkit/30340709#30340709", "title": "What is the right public key to verify a gtoken JWT from Google Identity Toolkit?", "body": "<p>Google provides the gitkit library ported to various languages, and it has (at least for the node.js version which I use) a method for retrieving the public key handily from a common uri. Perl doesn't seem to be one of the languages, so I suggest that you get the Python version and try to mimic it the Perl way.</p>\n\n<p>Check here for API reference and the uri from which the gitgit library gets the public key: <a href=\"https://developers.google.com/identity/toolkit/web/reference/relyingparty/getPublicKeys\" rel=\"nofollow\">https://developers.google.com/identity/toolkit/web/reference/relyingparty/getPublicKeys</a>.</p>\n\n<p>Check here for the Python quick-start app. It's got the link to the library: <a href=\"https://developers.google.com/identity/toolkit/web/quickstart/python\" rel=\"nofollow\">https://developers.google.com/identity/toolkit/web/quickstart/python</a>.</p>\n\n<p>Good luck.</p>\n"}], "owner": {"reputation": 19, "user_id": 4912411, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aadKYK8m0B4/AAAAAAAAAAI/AAAAAAAAAPw/1mamj0_5yn4/photo.jpg?sz=128", "display_name": "zarfmouse", "link": "https://stackoverflow.com/users/4912411/zarfmouse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1128, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1432099035, "creation_date": 1431958947, "question_id": 30305759, "link": "https://stackoverflow.com/questions/30305759/what-is-the-right-public-key-to-verify-a-gtoken-jwt-from-google-identity-toolkit", "title": "What is the right public key to verify a gtoken JWT from Google Identity Toolkit?", "body": "<p>I am trying to verify the signature of the JSON Web Token \"gtoken\" that is returned by <a href=\"https://developers.google.com/identity/toolkit/web/\" rel=\"nofollow\">Google Identity Toolkit</a>. </p>\n\n<p>However, it appears that the \"signature\" is 256 bytes but the public keys in the certificates found at <a href=\"https://www.googleapis.com/oauth2/v1/certs\" rel=\"nofollow\">https://www.googleapis.com/oauth2/v1/certs</a> are only 128 bytes. Thus I get the error \"Signature longer than key\". </p>\n\n<p>I'm using this Perl code:</p>\n\n<pre><code>use JSON;\nuse CGI;\nuse LWP::Simple;\nuse Crypt::OpenSSL::X509;\nuse Crypt::OpenSSL::RSA;\nuse MIME::Base64;\n\nmy $cgi = CGI-&gt;new();\nmy $json = JSON-&gt;new();\n\nmy $gtoken = $cgi-&gt;cookie('gtoken');\n\nmy ($header64, $body64, $signature64) = split(/\\./, $gtoken, 3);\nmy $signed64 = \"$header64.$body64\";\n\n$signature64 =~ s/\\-/+/g;\n$signature64 =~ s/\\_/\\//g;\nmy $m = length($signature64) % 4;\n$signature64.=\"==\" if($m == 2);\n$signature64.=\"=\" if($m == 3);\nmy $signature = decode_base64($signature64);\n# Note that length($signature) == 256 here.\n\nmy $certs = $json-&gt;decode(get(\"https://www.googleapis.com/oauth2/v1/certs\"));\nforeach my $cert (values %$certs) {\n    eval {\n        my $x509 = Crypt::OpenSSL::X509-&gt;new_from_string( $cert );\n        my $rsa_pub = Crypt::OpenSSL::RSA-&gt;new_public_key($x509-&gt;pubkey());\n        # Note that $rsa_pub-&gt;size() == 128 here.\n        $rsa_pub-&gt;use_sha256_hash();\n        $rsa_pub-&gt;verify($signed64, $signature);\n    };\n    warn $@ if $@;\n}\n</code></pre>\n\n<p>Is there somewhere else I should look for a 2048 bit (256 byte) key used by google to sign JWTs for Google Identity Toolkit? Or is there a way to verify a 256 byte signature with a 128 byte public key? Or am I extracting the public key from the cert incorrectly? The fact that the signature is 256 bytes implies that the public key I use to verify the signature should also be 256 bytes as far as I can tell. </p>\n\n<p>I also tried using the JSON::WebToken CPAN module but had the same problem with the key being shorter than the signature. </p>\n"}, {"tags": ["regex", "perl", "shell", "sh"], "answers": [{"comments": [{"owner": {"reputation": 19479, "user_id": 131929, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06780f50c30ffab584630481476ba6f4?s=128&d=identicon&r=PG", "display_name": "Marcel St&#246;r", "link": "https://stackoverflow.com/users/131929/marcel-st%c3%b6r"}, "edited": false, "score": 0, "creation_date": 1431958753, "post_id": 30305255, "comment_id": 48706648, "body": "Thanks for the <code>sed</code> alternative. The <code>-r</code> flag doesn&#39;t work on OS X, the regexp would have to be re-phrased."}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 19479, "user_id": 131929, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06780f50c30ffab584630481476ba6f4?s=128&d=identicon&r=PG", "display_name": "Marcel St&#246;r", "link": "https://stackoverflow.com/users/131929/marcel-st%c3%b6r"}, "edited": false, "score": 1, "creation_date": 1431958899, "post_id": 30305255, "comment_id": 48706766, "body": "On OSX it will be: <code>sed -E $&#39;s&#47;([^,]+)$&#47;BAZ(\\\\1)&#47;; s&#47;([^,]+),&#47;BAZ(\\\\1) \\\\\\\\\\\\\\n&#47;g &lt;&lt;&lt; &quot;$s&quot;</code>"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 1, "last_activity_date": 1431957614, "creation_date": 1431957614, "answer_id": 30305255, "question_id": 30305189, "link": "https://stackoverflow.com/questions/30305189/how-to-ignore-last-newline-in-a-multiline-string-with-perl/30305255#30305255", "title": "How to ignore last newline in a multiline string with Perl", "body": "<p>Using <code>awk</code> you can do:</p>\n\n<pre><code>s='foo,bar'\nawk -F, '{for (i=1; i&lt;=NF; i++) printf \"BAZ(%s) %s\\n\", $i, (i&lt;NF)? \"\\\\\" : \"\"}' &lt;&lt;&lt; \"$s\"\nBAZ(foo) \\\nBAZ(bar)\n</code></pre>\n\n<p>Or using <code>sed</code>:</p>\n\n<pre><code>sed -r 's/([^,]+)$/BAZ(\\1)/; s/([^,]+),/BAZ(\\1) \\\\\\n/g' &lt;&lt;&lt; \"$s\"\nBAZ(foo) \\\nBAZ(bar)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19479, "user_id": 131929, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06780f50c30ffab584630481476ba6f4?s=128&d=identicon&r=PG", "display_name": "Marcel St&#246;r", "link": "https://stackoverflow.com/users/131929/marcel-st%c3%b6r"}, "edited": false, "score": 0, "creation_date": 1431958630, "post_id": 30305314, "comment_id": 48706555, "body": "Works well, nice explanations, thanks. I&#39;m not versed enough in Perl to decide if this or @robearl&#39;s answer are &quot;better&quot;. His answer is easier to grasp for Perl rookies like me."}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "reply_to_user": {"reputation": 19479, "user_id": 131929, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06780f50c30ffab584630481476ba6f4?s=128&d=identicon&r=PG", "display_name": "Marcel St&#246;r", "link": "https://stackoverflow.com/users/131929/marcel-st%c3%b6r"}, "edited": false, "score": 0, "creation_date": 1431959434, "post_id": 30305314, "comment_id": 48707179, "body": "No problem. I guess that one advantage to this approach is that <code>tr</code> isn&#39;t needed. Personally, I find the logic simpler too - less conditional behaviour is a good thing. It&#39;s up to you though! I guess that once you become more familiar with using <code>map</code> (recommended), it makes a lot more sense. The use of <code>-p</code> and assigning to <code>$_</code> saves a couple of characters but it&#39;s probably clearer to use <code>-n</code> and <code>print</code> instead."}], "tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": false, "score": 3, "last_activity_date": 1431963360, "last_edit_date": 1431963360, "creation_date": 1431957810, "answer_id": 30305314, "question_id": 30305189, "link": "https://stackoverflow.com/questions/30305189/how-to-ignore-last-newline-in-a-multiline-string-with-perl/30305314#30305314", "title": "How to ignore last newline in a multiline string with Perl", "body": "<p>You could use <code>join</code> with <code>map</code>, like this:</p>\n\n<pre><code>$ echo 'foo,bar' | perl -F, -lape '$_ = join(\" \\\\\\n\", map { \"BAZ(\" . $_ . \")\" } @F)'\nBAZ(foo) \\\nBAZ(bar)\n</code></pre>\n\n<ul>\n<li><code>-a</code> enables auto-split mode, splitting the input using the <code>,</code> delimiter and assigning it to <code>@F</code></li>\n<li><code>map</code> takes every element of the array and wraps it</li>\n<li><code>join</code> adds the backslash and newline between each element</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 19479, "user_id": 131929, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06780f50c30ffab584630481476ba6f4?s=128&d=identicon&r=PG", "display_name": "Marcel St&#246;r", "link": "https://stackoverflow.com/users/131929/marcel-st%c3%b6r"}, "edited": false, "score": 0, "creation_date": 1431959334, "post_id": 30305365, "comment_id": 48707108, "body": "Thanks for producing something that&#39;s so close to my original statement. It doesn&#39;t even need an explanation because it&#39;s easy to comprehend."}], "tags": [], "owner": {"reputation": 7536, "user_id": 1691146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RW9zE.jpg?s=128&g=1", "display_name": "RobEarl", "link": "https://stackoverflow.com/users/1691146/robearl"}, "is_accepted": true, "score": 0, "last_activity_date": 1431957944, "creation_date": 1431957944, "answer_id": 30305365, "question_id": 30305189, "link": "https://stackoverflow.com/questions/30305189/how-to-ignore-last-newline-in-a-multiline-string-with-perl/30305365#30305365", "title": "How to ignore last newline in a multiline string with Perl", "body": "<p>Using <a href=\"http://perldoc.perl.org/functions/eof.html\" rel=\"nofollow\"><code>eof</code></a> to detect if you're on the last line:</p>\n\n<pre><code>echo 'foo,bar' | tr , '\\n' | perl -pe 'my $break = (eof) ? \"\" : \"\\\\\"; s/(.*)\\n/BAZ($1) $break\\n/g'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1431957973, "creation_date": 1431957973, "answer_id": 30305375, "question_id": 30305189, "link": "https://stackoverflow.com/questions/30305189/how-to-ignore-last-newline-in-a-multiline-string-with-perl/30305375#30305375", "title": "How to ignore last newline in a multiline string with Perl", "body": "<pre><code>echo 'foo,bar' | perl -ne'print join \" \\\\\\n\", map \"BAZ($_)\", /\\w+/g'\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>BAZ(foo) \\\nBAZ(bar)\n</code></pre>\n"}], "owner": {"reputation": 19479, "user_id": 131929, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06780f50c30ffab584630481476ba6f4?s=128&d=identicon&r=PG", "display_name": "Marcel St&#246;r", "link": "https://stackoverflow.com/users/131929/marcel-st%c3%b6r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 30305365, "answer_count": 4, "score": 3, "last_activity_date": 1431963360, "creation_date": 1431957430, "question_id": 30305189, "link": "https://stackoverflow.com/questions/30305189/how-to-ignore-last-newline-in-a-multiline-string-with-perl", "title": "How to ignore last newline in a multiline string with Perl", "body": "<p>I need to turn <code>foo,bar</code> into</p>\n\n<pre><code>BAZ(foo) \\\nBAZ(bar)\n</code></pre>\n\n<p>The <code>\\</code> is there as-is.</p>\n\n<p>I tried with <code>echo 'foo,bar' | tr , '\\n' | perl -pe 's/(.*)\\n/BAZ($1) \\\\\\n/g'</code> but that produces </p>\n\n<pre><code>BAZ(foo) \\\nBAZ(bar) \\\n</code></pre>\n\n<p>So, this is either a totally wrong approach or I'd need a way to ignore the last newline in a multiline string with Perl.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1431957107, "post_id": 30304932, "comment_id": 48705432, "body": "Where is the <code>file1.pl</code> and <code>file2.pl</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4284509"}, "edited": false, "score": 0, "creation_date": 1431957198, "post_id": 30304932, "comment_id": 48705493, "body": "@serensat  sorry see my edit"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 3, "creation_date": 1431957212, "post_id": 30304932, "comment_id": 48705503, "body": "If you don&#39;t want the code in test1.pl to be run, move it to a subroutine."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 4, "creation_date": 1431957263, "post_id": 30304932, "comment_id": 48705556, "body": "This is a hack and you shouldn&#39;t be coding it like that. You should get <i>both</i> programs to <code>use</code> a config module that sets up values \u2014 preferably constants rather than global variables \u2014 and exports them using <code>Exporter</code>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1431957630, "creation_date": 1431957630, "answer_id": 30305264, "question_id": 30304932, "link": "https://stackoverflow.com/questions/30304932/how-to-use-only-the-variable-name-from-another-file/30305264#30305264", "title": "How to use only the variable name from another file?", "body": "<p>You should rewrite both <code>test1.pl</code> and <code>test2.pl</code> to <code>use MyConfig</code>, like this</p>\n\n<p><strong>test2.pl</strong></p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse MyConfig 'NAME';\n\nprint NAME, \"\\n\";\n</code></pre>\n\n<p><strong>MyConfig.pm</strong></p>\n\n<pre><code>use strict;\nuse warnings;\n\npackage MyConfig;\n\nuse Exporter 'import';\nour @EXPORT_OK = qw/ NAME /;\n\nuse constant NAME =&gt; \"hello world\";\n\n1;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>hello world\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1431966800, "creation_date": 1431966800, "answer_id": 30308509, "question_id": 30304932, "link": "https://stackoverflow.com/questions/30304932/how-to-use-only-the-variable-name-from-another-file/30308509#30308509", "title": "How to use only the variable name from another file?", "body": "<p>Use <a href=\"https://metacpan.org/pod/Const::Fast\" rel=\"nofollow\">Const::Fast</a> to export variables from a module:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse My::Config '$NAME';\n\nprint \"$NAME\\n\";\n</code></pre>\n\n<p>In <code>My/Config.pm</code>:</p>\n\n<pre><code>use strict;\nuse warnings;\n\npackage My::Config;\n\nuse Exporter 'import';\nour @EXPORT = ();\nour @EXPORT_OK = qw{ $NAME };\n\nuse Const::Fast;\n\nconst our $NAME =&gt; \"hello world\";\n__PACKAGE__;\n__END__\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4284509"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1431966800, "creation_date": 1431956801, "last_edit_date": 1431957157, "question_id": 30304932, "link": "https://stackoverflow.com/questions/30304932/how-to-use-only-the-variable-name-from-another-file", "title": "How to use only the variable name from another file?", "body": "<p>I want to use only the variable name from the another file. </p>\n\n<p><strong>test1.pl</strong></p>\n\n<pre><code>use warnings;\nuse strict;\nour $name = \"hello world\";\nprint \"Helllloo\\n\";\n</code></pre>\n\n<p><strong>test2.pl</strong></p>\n\n<pre><code>use warnings;\nuse strict;\nrequire \"test.pl\";\nour $name;\nprint \"$name\\n\";\n</code></pre>\n\n<p><code>test1.pl</code> contain some content with many functions. I used the variable <code>$name</code> from the test1.pl. But Don't run <code>test1.pl</code> while running the <code>test2.pl</code>. For example when run the <code>test2.pl</code> it result was </p>\n\n<pre><code>Helllloo   \nhello world\n</code></pre>\n\n<p>That the <code>Helllloo</code> print from the <code>test1.pl</code>. How can use the another file variable name only How can i do it?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 0, "creation_date": 1431956492, "post_id": 30304619, "comment_id": 48705022, "body": "Except the first <code>\\b</code> your regex seems correct."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4912254, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FOmyXOHqbhs/AAAAAAAAAAI/AAAAAAAAA6I/gYRwTdGUAm8/photo.jpg?sz=128", "display_name": "Pramod", "link": "https://stackoverflow.com/users/4912254/pramod"}, "edited": false, "score": 0, "creation_date": 1431957269, "post_id": 30304871, "comment_id": 48705562, "body": "Thanks for the answer. Both of your above expressions are yielding expected results. I am just curious to understand what was wrong with my expression?"}, {"owner": {"reputation": 1, "user_id": 4912254, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FOmyXOHqbhs/AAAAAAAAAAI/AAAAAAAAA6I/gYRwTdGUAm8/photo.jpg?sz=128", "display_name": "Pramod", "link": "https://stackoverflow.com/users/4912254/pramod"}, "edited": false, "score": 0, "creation_date": 1431959776, "post_id": 30304871, "comment_id": 48707434, "body": "Could you please suggest me what&#39;s wrong with this expression &quot;((\\d+|&#40;\\d+&#41;)\\-\\d+\\-\\d+)&quot; .  Result of this exp is &quot;(201)-340-2011 (201) 234-345-3456 234 (201)-450-4479 (201)&quot;.   Duplicates of first three digits are printing after every successful match."}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 1, "user_id": 4912254, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FOmyXOHqbhs/AAAAAAAAAAI/AAAAAAAAA6I/gYRwTdGUAm8/photo.jpg?sz=128", "display_name": "Pramod", "link": "https://stackoverflow.com/users/4912254/pramod"}, "edited": false, "score": 0, "creation_date": 1431960027, "post_id": 30304871, "comment_id": 48707617, "body": "@Pramod - first you need to escape the <code>(</code> characters like this: <code>`(</code>"}, {"owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "reply_to_user": {"reputation": 1, "user_id": 4912254, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FOmyXOHqbhs/AAAAAAAAAAI/AAAAAAAAA6I/gYRwTdGUAm8/photo.jpg?sz=128", "display_name": "Pramod", "link": "https://stackoverflow.com/users/4912254/pramod"}, "edited": false, "score": 0, "creation_date": 1431960117, "post_id": 30304871, "comment_id": 48707690, "body": "@Pramod but that regex, when escaped properly, will capture all digits if parentheses are not present, or the first 3 digits only if they are. I don&#39;t think that&#39;s what you want"}, {"owner": {"reputation": 1, "user_id": 4912254, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FOmyXOHqbhs/AAAAAAAAAAI/AAAAAAAAA6I/gYRwTdGUAm8/photo.jpg?sz=128", "display_name": "Pramod", "link": "https://stackoverflow.com/users/4912254/pramod"}, "edited": false, "score": 0, "creation_date": 1431962421, "post_id": 30304871, "comment_id": 48709393, "body": "Indeed i have escaped the parentheses using backslash but i don&#39;t know why those escape characters are not visible in the comment. I am just trying to avoid the redundant characters in the expression,"}], "tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": false, "score": 0, "last_activity_date": 1431956651, "creation_date": 1431956651, "answer_id": 30304871, "question_id": 30304619, "link": "https://stackoverflow.com/questions/30304619/perl-regex-to-match-phone-numbers/30304871#30304871", "title": "Perl regex to match phone numbers", "body": "<p>I'd use this:</p>\n\n<p><code>(\\(?\\d+\\)?\\-\\d+\\-\\d+)</code></p>\n\n<p>or using the alternate operator:</p>\n\n<p><code>(\\d+\\-\\d+\\-\\d+|\\(\\d+\\)\\-\\d+\\-\\d+)</code></p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4912254, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FOmyXOHqbhs/AAAAAAAAAAI/AAAAAAAAA6I/gYRwTdGUAm8/photo.jpg?sz=128", "display_name": "Pramod", "link": "https://stackoverflow.com/users/4912254/pramod"}, "edited": false, "score": 0, "creation_date": 1431957378, "post_id": 30304896, "comment_id": 48705632, "body": "Thanks for the swift reply. Your comment was helpful."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1431956712, "creation_date": 1431956712, "answer_id": 30304896, "question_id": 30304619, "link": "https://stackoverflow.com/questions/30304619/perl-regex-to-match-phone-numbers/30304896#30304896", "title": "Perl regex to match phone numbers", "body": "<p><code>\\b</code> matches at a word-nonword boundary. If such a boundary should appear before <code>(</code>, it must be preceded by a word character, not whitespace or nothing.</p>\n\n<p>Cf.</p>\n\n<pre><code>print /\\b\\(/ ? 1 : 0 for '(', ' (', 'a(';\n</code></pre>\n\n<p>Remove the starting <code>\\b</code> from the regex, or replace it with</p>\n\n<pre><code>(?x: \\b | \\s | ^ )\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4912254, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FOmyXOHqbhs/AAAAAAAAAAI/AAAAAAAAA6I/gYRwTdGUAm8/photo.jpg?sz=128", "display_name": "Pramod", "link": "https://stackoverflow.com/users/4912254/pramod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "closed_date": 1432218676, "answer_count": 2, "score": 0, "last_activity_date": 1431956712, "creation_date": 1431956029, "last_edit_date": 1431956346, "question_id": 30304619, "link": "https://stackoverflow.com/questions/30304619/perl-regex-to-match-phone-numbers", "closed_reason": "Duplicate", "title": "Perl regex to match phone numbers", "body": "<p>Regex:</p>\n\n<pre><code>\\b(\\(\\d{3}\\)|\\d{3})?[-.]?\\d{3}[-]?\\d{4}\\b\n</code></pre>\n\n<p>My input file has two types of phone numbers. One, whose first 3 digits are enclosed in parenthesis and the other with no parenthesis. \nEg:</p>\n\n<pre><code>\"(201)-450-4479\" ,\"234-345-3456\"\n</code></pre>\n\n<p>I want to match both type of phone numbers using alternate operator.</p>\n\n<p>Please suggest me. What modification is required for above mentioned expression to get the intended result?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1431954124, "post_id": 30303627, "comment_id": 48703348, "body": "What is your expected output?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431955640, "post_id": 30303627, "comment_id": 48704426, "body": "What, you mean like &#39;service &lt;servicename&gt; status&#39; does?"}], "answers": [{"tags": [], "owner": {"reputation": 12977, "user_id": 4453262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b98c905b863b482c3d1d6616d3482b54?s=128&d=identicon&r=PG&f=1", "display_name": "karthik manchala", "link": "https://stackoverflow.com/users/4453262/karthik-manchala"}, "is_accepted": false, "score": 0, "last_activity_date": 1431953427, "creation_date": 1431953427, "answer_id": 30303696, "question_id": 30303627, "link": "https://stackoverflow.com/questions/30303627/perl-regular-expression-to-filter-out-last-word/30303696#30303696", "title": "Perl - regular expression to filter out last word", "body": "<p>You can use the following regex to match the last words.. and replace them with <code>''</code> (empty string)</p>\n\n<pre><code>\\w+$     // but this wont match words ending with other than [a-zA-Z0-9_]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4914583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec346c1765506fbf37ec7a3e84930fa4?s=128&d=identicon&r=PG&f=1", "display_name": "seshagiri k", "link": "https://stackoverflow.com/users/4914583/seshagiri-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1432014902, "last_edit_date": 1432014902, "creation_date": 1432010357, "answer_id": 30316872, "question_id": 30303627, "link": "https://stackoverflow.com/questions/30303627/perl-regular-expression-to-filter-out-last-word/30316872#30316872", "title": "Perl - regular expression to filter out last word", "body": "<pre><code>print (\"\\n$1\") if(/(\\s+\\S+$)/);\n</code></pre>\n\n<p>This regex will print the last word of each line. <code>\\s+</code> matches space, <code>\\S+</code> matches anything except space. Together <code>\\s+\\S+$</code> matches space followed by any word including special chars at the end of the line.</p>\n"}], "owner": {"reputation": 125, "user_id": 3691006, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/476c0966ea9fad748b26078c4ece7884?s=128&d=identicon&r=PG&f=1", "display_name": "user3691006", "link": "https://stackoverflow.com/users/3691006/user3691006"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1432014902, "creation_date": 1431953290, "last_edit_date": 1431953333, "question_id": 30303627, "link": "https://stackoverflow.com/questions/30303627/perl-regular-expression-to-filter-out-last-word", "title": "Perl - regular expression to filter out last word", "body": "<p>I have been working with a perl script and I've been trying to work with regular expressions to filter out the last word of each line from a system output.\nI used the following command to list all services, the command is: \"service --status-all\" the command will output a list with all available services eg:</p>\n\n<pre><code>rdisc is stopped  \nrpcbind (pid 1339) running...  \n</code></pre>\n\n<p>I throw output into an array and chomping at every new line:</p>\n\n<pre><code>chomp(my @service_data_1 = qx/$command_3/);\n</code></pre>\n\n<p>I want to only print out the services that a user requests and inform the user if the service is currently running or is stopped.</p>\n\n<p>I would like to know how to filter out the last word of each line using regex, I can't find any solutions to my problem anywhere and not here on stackoverflow.\nAny help or input to this would be greatly appreciated.</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1431953298, "post_id": 30302259, "comment_id": 48702765, "body": "<code>sudo apt-get install libXML-Parser-perl</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 0, "creation_date": 1431954056, "post_id": 30302259, "comment_id": 48703292, "body": "@serenesat OP said he doesn&#39;t have root so that won&#39;t work. He cannot install system packages."}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1431954911, "post_id": 30302259, "comment_id": 48703887, "body": "@simbabque: <code>sudo</code> doesn&#39;t ask for root password and it can be check if someone have privilege to run individual commands as a root using the <code>sudo</code>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1431961032, "post_id": 30302259, "comment_id": 48708395, "body": "@ser true, but it&#39;s a long way assuming that that is the case. And he is asking specifically for how to do stuff with cpan :-)"}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1601412418, "post_id": 30302259, "comment_id": 113399135, "body": "This is why nobody likes Perl. I&#39;m also trying to build a module that compiles something in C, and I can find NOTHING to help me specify a custom include path."}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431952424, "post_id": 30303295, "comment_id": 48702221, "body": "You don&#39;t need cpanm just to download a distribution tarball."}, {"owner": {"reputation": 278, "user_id": 545025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40405a1ee3781bf1a9b7deb1234ca6e1?s=128&d=identicon&r=PG", "display_name": "dams", "link": "https://stackoverflow.com/users/545025/dams"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1432047981, "post_id": 30303295, "comment_id": 48753538, "body": "I know, however, it makes things easier and it looks like he wanted something easy. It&#39;ll get/install the dependancies easily."}], "tags": [], "owner": {"reputation": 278, "user_id": 545025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40405a1ee3781bf1a9b7deb1234ca6e1?s=128&d=identicon&r=PG", "display_name": "dams", "link": "https://stackoverflow.com/users/545025/dams"}, "is_accepted": false, "score": 0, "last_activity_date": 1431952298, "creation_date": 1431952298, "answer_id": 30303295, "question_id": 30302259, "link": "https://stackoverflow.com/questions/30302259/how-to-specify-variables-for-module-installations-with-cpan/30303295#30303295", "title": "How to specify variables for module installations with cpan?", "body": "<p>You can always do</p>\n\n<ul>\n<li>install cpanm if you don't have it, with <code>curl -L https://cpanmin.us | perl - App::cpanminus</code></li>\n<li>cpanm --look XML::Parser</li>\n</ul>\n\n<p>That'll download the needed tarballs, unpack, and open a shell inside the distribution. So you're free to do:</p>\n\n<ul>\n<li><code>perl Makefile.PL</code></li>\n<li><code>make</code> with any options you need (like setting EXPATLIBPATH)</li>\n<li><code>make test</code></li>\n<li><code>(sudo) make install</code></li>\n</ul>\n"}], "owner": {"reputation": 6201, "user_id": 1797006, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b1a413ea490f70dc5d27f3d7eba6b4f6?s=128&d=identicon&r=PG", "display_name": "Karl Richter", "link": "https://stackoverflow.com/users/1797006/karl-richter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1431952298, "creation_date": 1431949238, "last_edit_date": 1431950139, "question_id": 30302259, "link": "https://stackoverflow.com/questions/30302259/how-to-specify-variables-for-module-installations-with-cpan", "title": "How to specify variables for module installations with cpan?", "body": "<p>During installation with <code>cpan</code> (e.g. <code>cpan XML:Parser</code>) source code is compiled and sometimes requires additional variables to be set (in the example <code>EXPATLIBPATH</code> and <code>EXPATINCPATH</code>). <code>cpan</code> prints a helpful message what needs to be specified, but says that the specification needs to be ''Makefile'' argument/variables - when running <code>cpan</code> that doesn' add up.</p>\n\n<p>I tried to specify environement variables with <code>env</code> (only <code>INC</code> is recognized for C includes, but the value is trimmed after the first space, so adding a <code>-L</code> directive doesn't work) and appending the variables which makes <code>cpan</code> search for modules with the variable name and argument. The manpage of <code>cpan</code> leaves this (quite crucial) matter completely uncovered. Setting <code>LD_LIBRARY_PATH</code> to the prefix I installed <code>expat</code> to doesn't work (header files isn't found).</p>\n\n<p>If there's not a generic way, then I'd appreacite a solution for the <code>cpan XML::Parser</code> installation. I don't have root permissions on the system, so I need to specify the variables.</p>\n\n<p>I use <code>cpan</code> 1.61 with <code>perl</code> 5.20.2 on Ubuntu 15.04 with Linux 4.0.1.</p>\n"}, {"tags": ["regex", "perl", "perl-module", "perl-data-structures"], "answers": [{"tags": [], "owner": {"reputation": 3327, "user_id": 1604311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0frKT.jpg?s=128&g=1", "display_name": "Arunesh Singh", "link": "https://stackoverflow.com/users/1604311/arunesh-singh"}, "is_accepted": false, "score": -1, "last_activity_date": 1431952080, "last_edit_date": 1431952080, "creation_date": 1431948236, "answer_id": 30301909, "question_id": 30301698, "link": "https://stackoverflow.com/questions/30301698/perl-replace-delimiters/30301909#30301909", "title": "Perl replace delimiters", "body": "<p>You can try this:</p>\n\n<pre><code>$st = \"1,2,3,{4,5,6,7,8},9,10,100\";\nif ( $st=~/\\{(.*)\\}/ ) {\n  $tr = $1;\n  $tr =~ s/,/|/g;\n  $st =~ s/\\{*\\}/{$tr}/;\n  print \"$st \\n\"\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1,2,3,{4,5,6,7,8{4|5|6|7|8},9,10,100\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1431948744, "post_id": 30301920, "comment_id": 48699791, "body": "In case there is a stray closing curly bracket, this will also <a href=\"https://regex101.com/r/uP8eA2/1\" rel=\"nofollow noreferrer\">trigger a replacement</a> (e.g. <code>1,2,}3,{4,5,6,7,8},9,10,100</code>). Perhaps, that is not critical for OP, but my suggested solution only replaces the comma inside paired <code>{}</code>s."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1431951854, "post_id": 30301920, "comment_id": 48701841, "body": "If there is a <i>stray closing curly bracket</i> then the OP hasn&#39;t defined what behaviour they want, and it is pointless to speculate"}, {"owner": {"reputation": 31, "user_id": 4911736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b31ca05492faaf15e11f67b4cb09570?s=128&d=identicon&r=PG&f=1", "display_name": "user4911736", "link": "https://stackoverflow.com/users/4911736/user4911736"}, "edited": false, "score": 0, "creation_date": 1432010899, "post_id": 30301920, "comment_id": 48728974, "body": "Thanks Borodin, i should have mentioned this earlier, my text file has nested {}, like 1,2,3,a,b,c,d,{e,f,g,6,{8,9,4},{6,4,a,s,},2,3,4},4,d,f,g.  The above works for {8|9|4},{6|4|a|s|} but the e,f,g,6 part is unaffected. Appreciate your help."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 31, "user_id": 4911736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b31ca05492faaf15e11f67b4cb09570?s=128&d=identicon&r=PG&f=1", "display_name": "user4911736", "link": "https://stackoverflow.com/users/4911736/user4911736"}, "edited": false, "score": 0, "creation_date": 1432025103, "post_id": 30301920, "comment_id": 48736382, "body": "@user4911736: That is a completely different problem. Please ask a new question"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1431948283, "creation_date": 1431948283, "answer_id": 30301920, "question_id": 30301698, "link": "https://stackoverflow.com/questions/30301698/perl-replace-delimiters/30301920#30301920", "title": "Perl replace delimiters", "body": "<p>This will do as you ask. It replaces all commas that are followed by a sequence of characters that are <em>not</em> braces <code>{</code>  <code>}</code>, and then a closing brace</p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010;\n\nmy $s = '1,2,3,{4,5,6,7,8},9,10,100';\n\n$s =~ s/,(?=[^{}]*\\})/|/g;\n\nsay $s;\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>1,2,3,{4|5|6|7|8},9,10,100\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 0, "last_activity_date": 1431948892, "last_edit_date": 1431948892, "creation_date": 1431948442, "answer_id": 30301977, "question_id": 30301698, "link": "https://stackoverflow.com/questions/30301698/perl-replace-delimiters/30301977#30301977", "title": "Perl replace delimiters", "body": "<p>You can use the following regex with <code>$1$2|</code> replacement string:</p>\n\n<pre><code>(\\{\\s*|(?&lt;!^)\\G)(\\d+),(?=[,0-9]*\\})\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1,2,3,{4|5|6|7|8},9,10,100\n</code></pre>\n\n<p><a href=\"https://ideone.com/xauvlt\" rel=\"nofollow\">Sample code</a>:</p>\n\n<pre><code>#!/usr/bin/perl\n\n$txt = \"1,2,3,{4,5,6,7,8},9,10,100\";\n$txt =~ s/(\\{\\s*|(?&lt;!^)\\G)(\\d+),(?=[,0-9]*\\})/$1$2|/g;\nprint $txt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29164, "user_id": 11289, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a82922f943c2ed9dac3f2b00343a6a3b?s=128&d=identicon&r=PG", "display_name": "Axeman", "link": "https://stackoverflow.com/users/11289/axeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1431967845, "creation_date": 1431967845, "answer_id": 30308818, "question_id": 30301698, "link": "https://stackoverflow.com/questions/30301698/perl-replace-delimiters/30308818#30308818", "title": "Perl replace delimiters", "body": "<p>Here's a command line version for Perl 5.14 and greater. </p>\n\n<pre><code>perl -pe 's/([{][\\d,]+[}])/$1 =~ s~,~|~gr/ge'\n</code></pre>\n\n<p>The <code>/e</code> means it's evaluating the replacement as a Perl expression and not the standard regex expression. That means that it is taking the value of the first capture (<code>$1</code>) and performing a substitution <em>with return</em> (<code>/r</code>) so as to avoid the error trying to modify the read-only value (<code>$1</code>). </p>\n"}], "owner": {"reputation": 31, "user_id": 4911736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b31ca05492faaf15e11f67b4cb09570?s=128&d=identicon&r=PG&f=1", "display_name": "user4911736", "link": "https://stackoverflow.com/users/4911736/user4911736"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1431967845, "creation_date": 1431947599, "last_edit_date": 1431947721, "question_id": 30301698, "link": "https://stackoverflow.com/questions/30301698/perl-replace-delimiters", "title": "Perl replace delimiters", "body": "<p>I have CSV text like</p>\n\n<pre><code>1,2,3,{4,5,6,7,8},9,10,100\n</code></pre>\n\n<p>I want to replace the delimiter of fields between <code>{}</code>. The text should look like:</p>\n\n<pre><code>1,2,3,{4|5|6|7|8},9,10,100\n</code></pre>\n\n<p>I tried <code>perl -0777 -pe 's/\\{.*?,\\}/|/g'</code></p>\n\n<p>but nothing happens. What should I do instead?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1431943049, "post_id": 30300056, "comment_id": 48696067, "body": "Is the <code>use URI::Escape</code> line located after the <code>package MyFunctions</code> line?"}, {"owner": {"reputation": 518, "user_id": 3743899, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FNdnZ.jpg?s=128&g=1", "display_name": "Yaerox", "link": "https://stackoverflow.com/users/3743899/yaerox"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1431943343, "post_id": 30300056, "comment_id": 48696257, "body": "No before. I&#39;m always importing CPAN-Packages first, then use lib &quot;/my/path&quot; and importing my routines..."}], "answers": [{"comments": [{"owner": {"reputation": 518, "user_id": 3743899, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FNdnZ.jpg?s=128&g=1", "display_name": "Yaerox", "link": "https://stackoverflow.com/users/3743899/yaerox"}, "edited": false, "score": 0, "creation_date": 1431943763, "post_id": 30300174, "comment_id": 48696503, "body": "Souns good. I&#39;ll give it a try after lunch. Thanks in advice."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 2, "last_activity_date": 1431950948, "last_edit_date": 1431950948, "creation_date": 1431943122, "answer_id": 30300174, "question_id": 30300056, "link": "https://stackoverflow.com/questions/30300056/perl-use-package-ah01215-undefined-subroutine/30300174#30300174", "title": "Perl use Package - AH01215: Undefined subroutine", "body": "<p>The subroutines are imported into the current namespace. You have to put the <code>use</code> line after the <code>package</code> declaration:</p>\n\n<pre><code>package MyFunctions;\nuse URI::Escape;\n</code></pre>\n\n<p>Otherwise, the functions are imported into the previous namespace, which is probably <code>main</code> in your case (you can verify by running <code>main::uri_unescape()</code>.</p>\n"}], "owner": {"reputation": 518, "user_id": 3743899, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FNdnZ.jpg?s=128&g=1", "display_name": "Yaerox", "link": "https://stackoverflow.com/users/3743899/yaerox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 30300174, "answer_count": 1, "score": 0, "last_activity_date": 1431950948, "creation_date": 1431942741, "question_id": 30300056, "link": "https://stackoverflow.com/questions/30300056/perl-use-package-ah01215-undefined-subroutine", "title": "Perl use Package - AH01215: Undefined subroutine", "body": "<p>I'm using the package <strong>URI::Escape</strong>. Usually, I can call the functions directly by naming it, e.g. uri_unescape('some text') but actual I'm getting AH01215: Undefined subroutine &amp;MyFunctions::uri_unescape called at ...</p>\n\n<p>This happens in an own package ('MyFunctions') of me. I got the use URI::Escape line. When I use &amp;URI::Escape::uri_unescape it seems to work fine. But I just don't get why it is looking for this subroutine in my package...</p>\n\n<p>Can someone explain it to me? Is there any way to solve this? I really don't wanna write this whole package-name::funktion every time I call this function :/</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431942512, "post_id": 30299042, "comment_id": 48695690, "body": "Interesting. I&#39;d have thought that implicit in the <code>glob</code> was the need to expand the patterns, but I suppose it&#39;ll <code>just</code> iterate the current filesystem looking for matches as it goes."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431944444, "post_id": 30299042, "comment_id": 48696959, "body": "@Sobrique : Would inspecting with <code>-MO=Concise</code> yield any clues? I don&#39;t know how to interpret the opcodes"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431944639, "post_id": 30299042, "comment_id": 48697092, "body": "it might, but I&#39;m personally not familiar enough with it to understand."}], "answers": [{"comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1431954243, "post_id": 30301797, "comment_id": 48703431, "body": "It feels so odd that the iterator has to evaluate all combinations first. I guess I can understand why it might be done when globbing a filesystem (<code>while &lt;&gt;</code>), seems like this behavior extends to strings that only contain <code>{}</code> wildcards."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1432080342, "post_id": 30301797, "comment_id": 48770302, "body": "@Zaid in fact I think in the &quot;normal&quot; case, all <code>{}</code> patterns are expanded <i>before</i> looking at the filesystem :)"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1432106514, "post_id": 30301797, "comment_id": 48779075, "body": "@hobbs : And your statement looks to be confirmed by ThisSuitIsBlackNot&#39;s <a href=\"http://stackoverflow.com/a/30338126/133939\">answer</a>."}], "tags": [], "owner": {"reputation": 2399, "user_id": 420431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b661d2be6b4699e60f7b837a298451a0?s=128&d=identicon&r=PG", "display_name": "Grrrr", "link": "https://stackoverflow.com/users/420431/grrrr"}, "is_accepted": false, "score": 2, "last_activity_date": 1431947913, "creation_date": 1431947913, "answer_id": 30301797, "question_id": 30299042, "link": "https://stackoverflow.com/questions/30299042/is-glob-in-scalar-context-a-lazy-iterator/30301797#30301797", "title": "Is glob in scalar context a lazy iterator?", "body": "<p>It does not appear to be lazy when you observe a delay between first glob invocation and first print of the result.  This is further corroborated by the time it takes to execute a glob in the scalar context <em>not</em> in a loop (in my example I used smaller exponent so that delay is still noticeable but not too long):</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse Time::HiRes;\n\n$| = 1;\n\nmy $opt = \"{A,B,C,D}\" x 10;\nsay Time::HiRes::time;\nmy $x = glob $opt;\nsay $x;\nsay Time::HiRes::time;\nsay while glob $opt;\nsay Time::HiRes::time;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 1, "last_activity_date": 1432081399, "last_edit_date": 1432081399, "creation_date": 1432080131, "answer_id": 30338126, "question_id": 30299042, "link": "https://stackoverflow.com/questions/30299042/is-glob-in-scalar-context-a-lazy-iterator/30338126#30338126", "title": "Is glob in scalar context a lazy iterator?", "body": "<p>When a glob pattern contains curly braces, a recursive function is called to expand the braces. See <code>ext/File-Glob/bsd_glob.c</code> in the Perl source*:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>/*\n * Expand recursively a glob {} pattern. When there is no more expansion\n * invoke the standard globbing routine to glob the rest of the magic\n * characters\n */\nstatic int\nglobexp1(const Char *pattern, glob_t *pglob)\n{\n        const Char* ptr = pattern;\n        int rv;\n\n        /* Protect a single {}, for find(1), like csh */\n        if (pattern[0] == BG_LBRACE &amp;&amp; pattern[1] == BG_RBRACE &amp;&amp; pattern[2] == BG_EOS)\n                return glob0(pattern, pglob);\n\n        while ((ptr = (const Char *) g_strchr((Char *) ptr, BG_LBRACE)) != NULL)\n                if (!globexp2(ptr, pattern, pglob, &amp;rv))\n                        return rv;\n\n        return glob0(pattern, pglob);\n}\n</code></pre>\n\n<p>My C is rusty, but when I run your script in gdb and set a breakpoint on this function, it gets hit many, many, many times, suggesting a very deep recursion, and by extension, non-lazy behavior. Hopefully somebody who is more familiar with Perl's internals can elaborate.</p>\n\n<hr>\n\n<p>* The above is from version 5.20.2.</p>\n"}], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 2, "accepted_answer_id": 30338126, "answer_count": 2, "score": 3, "last_activity_date": 1432081399, "creation_date": 1431939905, "last_edit_date": 1431949227, "question_id": 30299042, "link": "https://stackoverflow.com/questions/30299042/is-glob-in-scalar-context-a-lazy-iterator", "title": "Is glob in scalar context a lazy iterator?", "body": "<p>I quite like <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow\"><code>glob</code></a>'s often overlooked iterator-esque functionality.</p>\n\n<p>What's not clear to me is whether it computes/loads the entire list into memory even when used in scalar context. In this example code, the <code>while</code> loop does not print anything to screen (4**24 is not a small number):</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nmy $opt = \"{A,B,C,D}\" x 24;\nsay while glob $opt;\n</code></pre>\n\n<hr>\n\n<p>Things I've tried/observed:</p>\n\n<ul>\n<li><p>I tried to eliminate the possibility of buffering being an issue by writing <code>1 while glob $opt;</code>, but it still takes forever and I end up <kbd>Ctrl+C</kbd>'ing out.</p></li>\n<li><p>Inspection of my memory usage via Windows Task Manager doesn't seem to show any difference when I run the script.</p></li>\n<li><p>Running <code>perl -MO=Deparse</code> only confirms that <code>glob</code> is being used in scalar context without indicating anything about memory usage.</p></li>\n<li><p>Running <code>perl -MO=Concise</code> results in the following output, which I don't know how to decipher:</p>\n\n<pre><code>m  &lt;@&gt; leave[1 ref] vKP/REFC -&gt;(end)\n1     &lt;0&gt; enter -&gt;2\n2     &lt;;&gt; nextstate(main 49 -:5) v:%,*,&amp;,{,x*,x&amp;,x$,$,469762048 -&gt;3   \n7     &lt;2&gt; sassign vKS/2 -&gt;8\n5        &lt;2&gt; repeat[t2] sK/2 -&gt;6\n3           &lt;$&gt; const[PV \"{A,B,C,D}\"] s -&gt;4\n4           &lt;$&gt; const[IV 24] s -&gt;5\n6        &lt;0&gt; padsv[$opt:49,74] sRM*/LVINTRO -&gt;7\n8     &lt;;&gt; nextstate(main 74 -:6) v:%,*,&amp;,{,x*,x&amp;,x$,$,469762048 -&gt;9\nl     &lt;@&gt; leave vK* -&gt;m\n9        &lt;0&gt; enter v -&gt;a\n-        &lt;1&gt; null vKP/1 -&gt;l\ng           &lt;|&gt; and(other-&gt;h) vK/1 -&gt;l\nf              &lt;1&gt; defined sK/1 -&gt;g\ne                 &lt;2&gt; sassign sK/2 -&gt;f\nc                    &lt;@&gt; glob[t5] sK/1 -&gt;d\n-                       &lt;0&gt; ex-pushmark s -&gt;a\na                       &lt;0&gt; padsv[$opt:49,74] s -&gt;b\nb                       &lt;#&gt; gv[*_GEN_0] s -&gt;c\n-                    &lt;1&gt; ex-rv2sv sKRM*/3 -&gt;e\nd                       &lt;#&gt; gvsv[*_] s -&gt;e\n-              &lt;@&gt; lineseq vK -&gt;-\nj                 &lt;@&gt; say vK -&gt;k\nh                    &lt;0&gt; pushmark s -&gt;i\n-                    &lt;1&gt; ex-rv2sv sK/3 -&gt;j\ni                       &lt;#&gt; gvsv[*_] s -&gt;j\nk                 &lt;0&gt; unstack v -&gt;a\n- syntax OK\n</code></pre></li>\n</ul>\n\n<p>I'm running ActivePerl 5.16.3.</p>\n"}, {"tags": ["perl", "random"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431939909, "post_id": 30296182, "comment_id": 48694057, "body": "What are you using your random numbers for? Because you should note - perl random is not &#39;strong&#39;, so is unsuitable for anything security related."}, {"owner": {"reputation": 51, "user_id": 3912701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a30f988f708e63e6df3dd739495314b?s=128&d=identicon&r=PG&f=1", "display_name": "irwan", "link": "https://stackoverflow.com/users/3912701/irwan"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432029685, "post_id": 30296182, "comment_id": 48739649, "body": "I am actually want to generate all possible 6-bit binary number. Since writing all the possible combination by hand is cumbersome and prone to human error, I think it will be good idea to just generate it by using rand() with no repetition and store it into array."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1432039064, "post_id": 30296182, "comment_id": 48745969, "body": "That&#39;s a very inefficient approach. Why not just count from 0 to 63 and print it in binary?"}, {"owner": {"reputation": 51, "user_id": 3912701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a30f988f708e63e6df3dd739495314b?s=128&d=identicon&r=PG&f=1", "display_name": "irwan", "link": "https://stackoverflow.com/users/3912701/irwan"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432094669, "post_id": 30296182, "comment_id": 48773776, "body": "I forgot that I actually can print in binary format using <code>printf</code>. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 3912701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a30f988f708e63e6df3dd739495314b?s=128&d=identicon&r=PG&f=1", "display_name": "irwan", "link": "https://stackoverflow.com/users/3912701/irwan"}, "edited": false, "score": 0, "creation_date": 1431931907, "post_id": 30296329, "comment_id": 48689746, "body": "Thanks!. Does your code will generate repetitive random number?"}, {"owner": {"reputation": 22202, "user_id": 696391, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VrUwT.jpg?s=128&g=1", "display_name": "samgak", "link": "https://stackoverflow.com/users/696391/samgak"}, "reply_to_user": {"reputation": 51, "user_id": 3912701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a30f988f708e63e6df3dd739495314b?s=128&d=identicon&r=PG&f=1", "display_name": "irwan", "link": "https://stackoverflow.com/users/3912701/irwan"}, "edited": false, "score": 1, "creation_date": 1431932337, "post_id": 30296329, "comment_id": 48689954, "body": "I&#39;ve edited the code to avoid duplicates, I didn&#39;t notice that requirement at first. I think the other answer is actually better if that is the goal, but I&#39;ll leave this answer here to show how your existing code could be changed to make it work."}, {"owner": {"reputation": 51, "user_id": 3912701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a30f988f708e63e6df3dd739495314b?s=128&d=identicon&r=PG&f=1", "display_name": "irwan", "link": "https://stackoverflow.com/users/3912701/irwan"}, "edited": false, "score": 0, "creation_date": 1431932552, "post_id": 30296329, "comment_id": 48690077, "body": "Thank you very much. One more thing. Can you explain <code>printf &quot;%06b\\n&quot;</code>. I am not sure <code>%b</code> is use for."}, {"owner": {"reputation": 22202, "user_id": 696391, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VrUwT.jpg?s=128&g=1", "display_name": "samgak", "link": "https://stackoverflow.com/users/696391/samgak"}, "reply_to_user": {"reputation": 51, "user_id": 3912701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a30f988f708e63e6df3dd739495314b?s=128&d=identicon&r=PG&f=1", "display_name": "irwan", "link": "https://stackoverflow.com/users/3912701/irwan"}, "edited": false, "score": 0, "creation_date": 1431932619, "post_id": 30296329, "comment_id": 48690126, "body": "It&#39;s used for formatting a number in binary. %d is for decimal, %b is for binary"}], "tags": [], "owner": {"reputation": 22202, "user_id": 696391, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VrUwT.jpg?s=128&g=1", "display_name": "samgak", "link": "https://stackoverflow.com/users/696391/samgak"}, "is_accepted": true, "score": 1, "last_activity_date": 1431933199, "last_edit_date": 1431933199, "creation_date": 1431930112, "answer_id": 30296329, "question_id": 30296182, "link": "https://stackoverflow.com/questions/30296182/generate-random-binary-number-in-perl/30296329#30296329", "title": "generate random binary number in perl", "body": "<p>If you want 64 x 6-bit integers you can call <code>int(rand(64));</code> 64 times, there's no need to generate each bit separately.</p>\n\n<p>Your code can be modified to work like this:</p>\n\n<pre><code>#!/usr/bin/perl\n# your code goes here\n\nuse strict;\nuse warnings;\n\nmy %a;\n\nforeach (1 .. 64) {\n    my $r;\n    do\n    {\n        $r = int(rand(64));\n    } until (!exists($a{$r}));\n    printf \"%06b\\n\", $r;\n    $a{$r}++;\n}\n</code></pre>\n\n<p>The results are stored in a array of integers. The <code>%06b</code> format specifier string prints out a 6 bit binary number.</p>\n"}, {"tags": [], "owner": {"reputation": 6639, "user_id": 1157100, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1f9W9.png?s=128&g=1", "display_name": "200_success", "link": "https://stackoverflow.com/users/1157100/200-success"}, "is_accepted": false, "score": 4, "last_activity_date": 1432049839, "last_edit_date": 1432049839, "creation_date": 1431932004, "answer_id": 30296780, "question_id": 30296182, "link": "https://stackoverflow.com/questions/30296182/generate-random-binary-number-in-perl/30296780#30296780", "title": "generate random binary number in perl", "body": "<p>Do you mean that you want 64 six-bit numbers, all distinct from each other?  If so, then you should just shuffle the list <code>(0, 1, 2, 3, \u2026, 63)</code>, because there are exactly 64 six-bit numbers \u2014 you just want them in a random order.</p>\n\n<p>And if you want to print them as base-two string, use the <code>%06b</code> format.</p>\n\n<pre><code>use List::Util;\n\nmy @list = List::Util::shuffle 0..63;\nprintf \"%06b\\n\", $_ for @list;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1432039533, "creation_date": 1432039533, "answer_id": 30326035, "question_id": 30296182, "link": "https://stackoverflow.com/questions/30296182/generate-random-binary-number-in-perl/30326035#30326035", "title": "generate random binary number in perl", "body": "<p>From the comments:</p>\n\n<blockquote>\n  <p>I am actually want to generate all possible 6-bit binary number. Since writing all the possible combination by hand is cumbersome and prone to human error, I think it will be good idea to just generate it by using rand() with no repetition and store it into array.</p>\n</blockquote>\n\n<p>This is a horribly inefficent approach to take, thanks to random number collisons. </p>\n\n<p>You get the same result with:</p>\n\n<pre><code>printf ( \"%06b\\n\", $_ ) for 1..63;\n</code></pre>\n\n<p>If you're after a random order (although, you don't seem to suggest that you do):</p>\n\n<pre><code>use List::Util qw ( shuffle ); \nprintf ( \"%06b\\n\", $_ ) for shuffle (0..63);\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 3912701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1a30f988f708e63e6df3dd739495314b?s=128&d=identicon&r=PG&f=1", "display_name": "irwan", "link": "https://stackoverflow.com/users/3912701/irwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1219, "favorite_count": 0, "accepted_answer_id": 30296329, "answer_count": 3, "score": 1, "last_activity_date": 1432049839, "creation_date": 1431929476, "question_id": 30296182, "link": "https://stackoverflow.com/questions/30296182/generate-random-binary-number-in-perl", "title": "generate random binary number in perl", "body": "<p>I want to generate 64 iteration of non-repetitive 6 digits that only consist of 0 and 1 (eg. 111111, 101111, 000000) by using perl.\nI found code that can generate random hex and try to modify it but I think my code is all wrong. This is my code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %a;\n\nforeach (1 .. 64) {\n    my $r;\n    do {\n        $r = int(rand(2));\n    }\nuntil (!exists($a{$r}));\nprintf \"%06d\\n\", $r;\n$a{$r}++;\n}\n</code></pre>\n"}, {"tags": ["mysql", "string", "perl", "utf8mb4"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431892300, "post_id": 30290384, "comment_id": 48679475, "body": "That&#39;s better written as <code>sub foo { $_[0] =~ tr&#47; &#47;&#47;c; }</code>"}, {"owner": {"reputation": 396, "user_id": 2140040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8117150a35ceb3e4a6b13e10cf10fc0?s=128&d=identicon&r=PG", "display_name": "chikko", "link": "https://stackoverflow.com/users/2140040/chikko"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431892366, "post_id": 30290384, "comment_id": 48679496, "body": "thanks, but that&#39;s not really helping me now, is it? :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431892776, "post_id": 30290384, "comment_id": 48679628, "body": "Which is why it&#39;s a comment and not a solution"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431893870, "post_id": 30290384, "comment_id": 48679956, "body": "Smart-ass comments like that will only reduce your chances of getting any useful help. No one here is getting paid to write a solution for you"}], "answers": [{"comments": [{"owner": {"reputation": 396, "user_id": 2140040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8117150a35ceb3e4a6b13e10cf10fc0?s=128&d=identicon&r=PG", "display_name": "chikko", "link": "https://stackoverflow.com/users/2140040/chikko"}, "edited": false, "score": 0, "creation_date": 1431894550, "post_id": 30291645, "comment_id": 48680165, "body": "Thanks for your reply, Borodin! though my connection code does not enable utf8 as you suggested, it is running the following after connection has been established:  $mySql-&gt;do( &quot;set names utf8mb4&quot; );  i&#39;m sure i added that part of code after running into some issues in the past.  would enabling utf8 collide with the &quot;set names&quot; i added?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 396, "user_id": 2140040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8117150a35ceb3e4a6b13e10cf10fc0?s=128&d=identicon&r=PG", "display_name": "chikko", "link": "https://stackoverflow.com/users/2140040/chikko"}, "edited": false, "score": 0, "creation_date": 1431894761, "post_id": 30291645, "comment_id": 48680226, "body": "@chikko: All <code>use utf8</code> does is tell the compiler that the source code of the program is in UTF-8. It should really be right at the top of the file and won&#39;t have any effect at all within that subroutine"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 396, "user_id": 2140040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8117150a35ceb3e4a6b13e10cf10fc0?s=128&d=identicon&r=PG", "display_name": "chikko", "link": "https://stackoverflow.com/users/2140040/chikko"}, "edited": false, "score": 0, "creation_date": 1431894968, "post_id": 30291645, "comment_id": 48680288, "body": "Ah you mean the <code>mysql_enable_utf8</code> option. I&#39;m not sure, and the documentation isn&#39;t clear about that. I would try enabling the option and removing the <code>set names</code> to see if that works"}, {"owner": {"reputation": 396, "user_id": 2140040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8117150a35ceb3e4a6b13e10cf10fc0?s=128&d=identicon&r=PG", "display_name": "chikko", "link": "https://stackoverflow.com/users/2140040/chikko"}, "edited": false, "score": 0, "creation_date": 1431895035, "post_id": 30291645, "comment_id": 48680306, "body": "yes, only later did i realize that. (my code obviously does something more than what i stated above - this was just an example).  i&#39;ll try adding the mysql_enable_utf8 attribute to the connection string and update. thanks again"}, {"owner": {"reputation": 396, "user_id": 2140040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8117150a35ceb3e4a6b13e10cf10fc0?s=128&d=identicon&r=PG", "display_name": "chikko", "link": "https://stackoverflow.com/users/2140040/chikko"}, "edited": false, "score": 0, "creation_date": 1431895840, "post_id": 30291645, "comment_id": 48680523, "body": "i tried adding the mysql_enable_utf8 attribute with and without removing the set names part - unfortunately both of them yeilded the same result as before. these special characters must have a different representation in utf8mb4... btw - in php, for example, they have special treatment for counting such encoding&#39;s characters: the mb_strlen function."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 396, "user_id": 2140040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8117150a35ceb3e4a6b13e10cf10fc0?s=128&d=identicon&r=PG", "display_name": "chikko", "link": "https://stackoverflow.com/users/2140040/chikko"}, "edited": false, "score": 1, "creation_date": 1431903532, "post_id": 30291645, "comment_id": 48682464, "body": "@chikko: <code>mb_strlen</code> is simply a length function that allows you to specify an encoding parameter as well. In theory, once you have it set up properly, the string you fetch from the database should already be decoded. I suggest you use <code>Data::Dump</code> (or <code>Data::Dumper</code> with <code>$Data::Dumper::Useqq</code> set to 1) to view what you&#39;re actually getting back. I might set up a test MySQL database if I have a moment. Can you give me some idea of your data?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1431910918, "post_id": 30291645, "comment_id": 48683888, "body": "There has not been any 5- or 6-byte sequences since 2003"}, {"owner": {"reputation": 396, "user_id": 2140040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8117150a35ceb3e4a6b13e10cf10fc0?s=128&d=identicon&r=PG", "display_name": "chikko", "link": "https://stackoverflow.com/users/2140040/chikko"}, "edited": false, "score": 0, "creation_date": 1432026027, "post_id": 30291645, "comment_id": 48737021, "body": "@Borodin: looks like changing the value from DB with decode(&#39;utf-8&#39;, $_[0]); right at the beginning fies everything for me, as the value from DB returned without the UTF8 encoding. Even though i did not use your latest reply, your help and support have led me to resolution - thank you very much for that! i&#39;m marking your reply as my answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 396, "user_id": 2140040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8117150a35ceb3e4a6b13e10cf10fc0?s=128&d=identicon&r=PG", "display_name": "chikko", "link": "https://stackoverflow.com/users/2140040/chikko"}, "edited": false, "score": 1, "creation_date": 1432026250, "post_id": 30291645, "comment_id": 48737178, "body": "@Chikko: No, you shouldn&#39;t do that. Your database request should return the <i>decoded string</i>, and decoding it manually is a hack to make up for previous bug in your code. I would have suggested that long ago if it was the right solution"}, {"owner": {"reputation": 396, "user_id": 2140040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8117150a35ceb3e4a6b13e10cf10fc0?s=128&d=identicon&r=PG", "display_name": "chikko", "link": "https://stackoverflow.com/users/2140040/chikko"}, "edited": false, "score": 0, "creation_date": 1432029473, "post_id": 30291645, "comment_id": 48739524, "body": "@Borodin: Production environment is currently working as intended - but of course you are right - this solution is just a workaround. i will create a test code which will contain the mysql_enable_utf8 flag, and update production as soon as i can.  thanks again :)"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1431955726, "last_edit_date": 1431955726, "creation_date": 1431893494, "answer_id": 30291645, "question_id": 30290384, "link": "https://stackoverflow.com/questions/30290384/getting-length-of-utf8mb4-string-with-perl-from-mysql/30291645#30291645", "title": "getting length of utf8mb4 string with perl from MySql", "body": "<p>What MySQL calls <code>utf8</code> is a limited subset of UTF-8 which allows only three bytes per character and covers code points up to 0xFFFF. Even <code>utf8mb4</code> doesn't cover the full UTF-8 range, which supports encoded characters up to 6 bytes long</p>\n\n<p>The consequence is that any data from either a <code>utf8</code> or a <code>utf8mb4</code> column is simply a UTF-8 string in Perl and there should be no difference between the two database encodings</p>\n\n<p>It is my guess that you haven't enabled UTF-8 for your <code>DBI</code> handle, so everything is being treated as just a sequence of bytes. You should enable the <code>mysql_enable_utf8</code> when you make the <code>connect</code> call, which should then look something like</p>\n\n<pre><code>my $dbh = DBI-&gt;connect($dsn, $user, $password, { mysql_enable_utf8 =&gt; 1 });\n</code></pre>\n\n<hr>\n\n<p>With the additional data, I can see that the string you are retrieving from the database is indeed \u05e9\u05dc\u05d5\u05dd \u05e2\u05d5\u05dc\u05dd UTF-8-encoded</p>\n\n<p>However, if I decode it, then first of all I get a non-space character count of 8 from both your <code>foo</code> subroutine and my own, not 9; and also you should be getting <em>characters</em> back from the database, not bytes</p>\n\n<p>I suspect that you may have written an encoded string to the database in the first place. Here's a short program that creates a MySQL table, writes two records to it (one character string and one encoded string) and retrieves what it has written. You will see that The only thing that makes a difference is the setting of <code>mysql_enable_utf8</code>. The behaviour is the same whether or not the original string is encoded, and with or without <code>SET NAMES utf8mb4</code></p>\n\n<p>Further experimentation showed that <em>either</em> <code>mysql_enable_utf8</code> <em>or</em> <code>SET NAMES utf8mb4</code> will get DBI to <em>write</em> the data correctly, but the latter has no effect on <em>reading</em></p>\n\n<p><strong><em>I suggest that your solution should be to use ONLY <code>mysql_enable_utf8</code> when either reading or writing</em></strong></p>\n\n<p>You should also <code>use utf8</code> only at the top of all your programs. Missing this out means you can't use any non-ASCII characters in your code</p>\n\n<pre><code>use utf8;\nuse strict;\nuse warnings;\n\nuse DBI;\nuse open qw/ :std :encoding(utf-8) /;\n\nSTDOUT-&gt;autoflush;\n\nmy $VAR1 = \"\\327\\251\\327\\234\\327\\225\\327\\235 \\327\\242\\327\\225\\327\\234\\327\\235\";\n\nmy $dbh = DBI-&gt;connect(\n    qw/ DBI:mysql:database=temp admin admin /, {\n        RaiseError =&gt; 1,\n        PrintError =&gt; 0,\n        mysql_enable_utf8 =&gt; 1,\n    }\n) or die DBI::errstr;\n\n$dbh-&gt;do('SET NAMES utf8mb4');\n\n$dbh-&gt;do('DROP TABLE IF EXISTS temp');\n$dbh-&gt;do('CREATE TABLE temp (value VARCHAR(64) CHARACTER SET utf8mb4)');\n\nmy $insert = $dbh-&gt;prepare('INSERT INTO temp (value) VALUES (?)');\n$insert-&gt;execute('\u05e9\u05dc\u05d5\u05dd \u05e2\u05d5\u05dc\u05dd');\n$insert-&gt;execute($VAR1);\n\nmy $values = $dbh-&gt;selectcol_arrayref('SELECT value FROM temp');\nprintf \"string: %s  foo: %d\\n\", $_, foo($_) for @$values;\n\nsub foo2 {\n  $_[0] =~ tr/ //c;\n}\n\nsub foo {\n  length join '', split / /, $_[0];\n}\n</code></pre>\n\n<p><strong>output with <code>mysql_enable_utf8 =&gt; 1</code></strong></p>\n\n<pre><code>string: \u05e9\u05dc\u05d5\u05dd \u05e2\u05d5\u05dc\u05dd  foo: 8\nstring: \u05e9\u05dc\u05d5\u05dd \u05e2\u05d5\u05dc\u05dd  foo: 8\n</code></pre>\n\n<p><strong>output with <code>mysql_enable_utf8 =&gt; 0</code></strong></p>\n\n<pre><code>string: \u00d7\u00a9\u00d7\u00d7\u00d7 \u00d7\u00a2\u00d7\u00d7\u00d7  foo: 16\nstring: \u00d7\u00a9\u00d7\u00d7\u00d7 \u00d7\u00a2\u00d7\u00d7\u00d7  foo: 16\n</code></pre>\n"}], "owner": {"reputation": 396, "user_id": 2140040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8117150a35ceb3e4a6b13e10cf10fc0?s=128&d=identicon&r=PG", "display_name": "chikko", "link": "https://stackoverflow.com/users/2140040/chikko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 714, "favorite_count": 0, "accepted_answer_id": 30291645, "answer_count": 1, "score": 0, "last_activity_date": 1432039478, "creation_date": 1431886509, "last_edit_date": 1432039478, "question_id": 30290384, "link": "https://stackoverflow.com/questions/30290384/getting-length-of-utf8mb4-string-with-perl-from-mysql", "title": "getting length of utf8mb4 string with perl from MySql", "body": "<p>i wrote a small perl function that takes a string and checks its length without the spaces. the basic code looks as follows:</p>\n\n<pre><code>sub foo\n{\n   use utf8;\n   my @wordsArray = split(/ /, $_[0]));\n   my $result = length(join('', @wordsArray));\n   return $result;\n}\n</code></pre>\n\n<p>When i provide this function with a string containing special characters (such as hebrew letters), it seems to work great.\nthe problem starts when i use a value coming from MySql column, with a character set of utf8mb4: in such case, the value being calculated is higher than the value in the previous example.</p>\n\n<p>I can guess why such behavior occurs: the special characters are written in a 4 byte manner in the table, and thus each letter calculates as two characters in the utf8 encoding.</p>\n\n<p>Does anyone know how the above can be resolved, so that i will get the right number of characters from a string coming from DB table defined as utf8mb4?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Some more information regarding the above code:</p>\n\n<p>The DB column used as an argument for the function is of type VARCHAR(1000), with collation of utf8mb4_unicode_ci.\nI am fetching the row via a MySql connection configured as follows:</p>\n\n<pre><code>$mySql = DBI-&gt;connect(\n  \"DBI:mysql:$db_info{'database'}:$db_info{'hostname'};mysql_multi_statements=1;\",\n  \"$db_info{'user'}\",\n  \"$db_info{'password'}\",\n  {'RaiseError' =&gt; 1,'AutoCommit' =&gt; 0});\n...\n$mySql-&gt;do(\"set names utf8mb4\");\n</code></pre>\n\n<p>an example data value would be \"\u05e9\u05dc\u05d5\u05dd \u05e2\u05d5\u05dc\u05dd\" (which in hebrew means \"Hello World\").</p>\n\n<p>1) When calling <code>foo($request-&gt;{VALUE});</code> (where VALUE is the column data from DB), the result is 16 (where each hebrew character is counted as two characters, and one space between them is disregarded). Dumper in this case is:</p>\n\n<pre><code>$VAR1 = \"\\327\\251\\327\\234\\327\\225\\327\\235 \\327\\242\\327\\225\\327\\234\\327\\235\";\n</code></pre>\n\n<p>2) When calling <code>foo(\"\u05e9\u05dc\u05d5\u05dd \u05e2\u05d5\u05dc\u05dd\");</code>:</p>\n\n<ul>\n<li><p>when declaring <code>use utf8;</code>, the result is 8 (as there are 8 visible characters in this string). Dumper (Useqq=1) in this case is:</p>\n\n<p>$VAR1 = \"\\x{5e9}\\x{5dc}\\x{5d5}\\x{5dd} \\x{5e2}\\x{5d5}\\x{5dc}\\x{5dd}\";</p></li>\n<li><p>when not declaring `use utf8;', the result is 16, and is similar to the case of sending the value from DB:</p>\n\n<p>$VAR1 = \"\\327\\251\\327\\234\\327\\225\\327\\235 \\327\\242\\327\\225\\327\\234\\327\\235\";</p></li>\n</ul>\n\n<p>Looks like i need to find a way of converting the received value to UTF8 before starting to work with it.</p>\n"}, {"tags": ["c", "perl", "arduino", "serial-communication"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1431877577, "post_id": 30287832, "comment_id": 48674517, "body": "Your <code>printf</code> statement is fine and that isn&#39;t what is happening. Change your code to <code>print &quot;$count - $line\\n&quot;;</code>  <code>printf &quot;&lt;%s&gt;\\n&quot;, $line;</code> and I&#39;m sure you will see that both statements are printing the same value"}, {"owner": {"reputation": 31, "user_id": 4908976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qmkVV.jpg?s=128&g=1", "display_name": "johnnynb", "link": "https://stackoverflow.com/users/4908976/johnnynb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431903668, "post_id": 30287832, "comment_id": 48682495, "body": "You were right.  Nothing is wrong with the printf.  The problem was output buffering.  If the read returns with zero chars then $line=&quot;&quot;.  With  &quot;print&quot; the empty string it is silently added to the output buffer.  If I use &quot;printf&quot; with the \\n  the empty line is printed hence the empty &lt;&gt; brackets.  My new code will test the char count returned from the read before trying to print."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 4908976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qmkVV.jpg?s=128&g=1", "display_name": "johnnynb", "link": "https://stackoverflow.com/users/4908976/johnnynb"}, "is_accepted": false, "score": 1, "last_activity_date": 1431904931, "creation_date": 1431904931, "answer_id": 30293141, "question_id": 30287832, "link": "https://stackoverflow.com/questions/30287832/perl-deviceserialport-will-not-display-incoming-data-with-printf-but-works-wi/30293141#30293141", "title": "Perl Device::SerialPort will not display incoming data with printf (but works with print)", "body": "<p>My problem was not the code but the terminals (stdout) buffered output. </p>\n\n<p>The read was returning with zero characters so the $line was an empty string that is silently added to the output line buffer.  Eventually the \nserial data would receive the end of line (\\n) and cause the buffer to print displaying the received serial data.</p>\n\n<p>With the formated printf the \\n caused the output buffer to print every time the read returned.  And, this displayed and endless stream of empty \nbrackets.  This confused the poor terminal operator.</p>\n\n<p>Problem solved.... test the character count returned from the read before trying to printf it.</p>\n\n<pre><code>use Device::SerialPort;\n$ob = Device::SerialPort-&gt;new(\"/dev/ttyACM0\") or die \"new failed\\n\" ;\n$ob-&gt;baudrate(115200) or die \"parm set failed\" ;\n$ob-&gt;parity('none') or die \"parm set failed\" ;\n$ob-&gt;databits(8) or die \"parm set failed\" ;\n$ob-&gt;stopbits(1) or die \"parm set failed\";\n$ob-&gt;handshake('none') or die \"parm set failed\" ;\n$ob-&gt;write_settings or die \"no settings\\n\";\nwhile(1){\n  ($count, $line) = $ob-&gt;read(255);\n  if($count &gt;0) {\n    printf \"&lt;%s&gt;\\n\", $line;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4908976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qmkVV.jpg?s=128&g=1", "display_name": "johnnynb", "link": "https://stackoverflow.com/users/4908976/johnnynb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1431904931, "creation_date": 1431872688, "last_edit_date": 1431874792, "question_id": 30287832, "link": "https://stackoverflow.com/questions/30287832/perl-deviceserialport-will-not-display-incoming-data-with-printf-but-works-wi", "title": "Perl Device::SerialPort will not display incoming data with printf (but works with print)", "body": "<p>I'm writing a short problem to talk to an Arduino over a USB serial port.\nI have a little test program on the Arduino sending data and everything \nworks if I display the data with <code>print</code>, but not if I use <code>printf</code> (this is in Perl).</p>\n\n<p>The code that doesn't work is below with the <code>print</code> statement commented out.  This code will print &lt;> over and over. While if I use the <code>print</code> \ninstead of the <code>printf</code> it will print the incoming data.</p>\n\n<pre><code>use Device::SerialPort;\n\n$ob = Device::SerialPort-&gt;new(\"/dev/ttyACM0\") or die \"new failed\\n\" ;\n$ob-&gt;baudrate(115200) or die \"parm set failed\" ;\n$ob-&gt;parity('none') or die \"parm set failed\" ;\n$ob-&gt;databits(8) or die \"parm set failed\" ;\n$ob-&gt;stopbits(1) or die \"parm set failed\";\n$ob-&gt;handshake('none') or die \"parm set failed\" ;\n$ob-&gt;write_settings or die \"no settings\\n\";\nwhile(1){\n    ($count, $line) = $ob-&gt;read(255);\n#   print  $line;\n    printf(\"&lt;%s&gt;\\n\", $line);\n}\n</code></pre>\n"}, {"tags": ["perl", "eval"], "comments": [{"owner": {"reputation": 405, "user_id": 4860403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34928c032bed1222afd069cd23d0767f?s=128&d=identicon&r=PG&f=1", "display_name": "ilbelkyr", "link": "https://stackoverflow.com/users/4860403/ilbelkyr"}, "edited": false, "score": 1, "creation_date": 1431872685, "post_id": 30287667, "comment_id": 48672877, "body": "FYI, you should be <i>extremely</i> skeptical when seeing this sort of thing; it&#39;s often used to disguise malware. In this specific case it doesn&#39;t <i>look</i> like it does anything harmful at a glance, but still, be very careful with that sort of code."}, {"owner": {"reputation": 693, "user_id": 4650778, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206385459384090/picture?type=large", "display_name": "Mohammed naji", "link": "https://stackoverflow.com/users/4650778/mohammed-naji"}, "reply_to_user": {"reputation": 405, "user_id": 4860403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34928c032bed1222afd069cd23d0767f?s=128&d=identicon&r=PG&f=1", "display_name": "ilbelkyr", "link": "https://stackoverflow.com/users/4860403/ilbelkyr"}, "edited": false, "score": 0, "creation_date": 1431872907, "post_id": 30287667, "comment_id": 48672934, "body": "yes i shoud , due that i want to decode the code to see what he do"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 3, "creation_date": 1431882143, "post_id": 30287667, "comment_id": 48676028, "body": "I&#39;ve got several examples in <a href=\"http://www.masteringperl.org\" rel=\"nofollow noreferrer\">Mastering Perl</a> about this so I can demonstrate how this sort of code hiding is really just a bump in the road for people who really want to find out what&#39;s going on."}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1431893735, "post_id": 30287667, "comment_id": 48679918, "body": "@briandfoy do the examples use <a href=\"http://chimera.labs.oreilly.com/books/1234000001527/ch07.html\" rel=\"nofollow noreferrer\">Cleaning up Perl with <code>B::Deparse</code> and friends</a>  ?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1431927872, "post_id": 30287667, "comment_id": 48687954, "body": "Some of my examples do, but my examples for this sort of thing use print instead of eval."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431940578, "post_id": 30287761, "comment_id": 48694400, "body": "I like how the <code>packed</code> code has formatting comments and indentation though!"}], "tags": [], "owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "is_accepted": false, "score": 5, "last_activity_date": 1431872751, "last_edit_date": 1431872751, "creation_date": 1431872290, "answer_id": 30287761, "question_id": 30287667, "link": "https://stackoverflow.com/questions/30287667/how-can-i-de-obfuscate-or-decode-this-perl-code/30287761#30287761", "title": "How can I de-obfuscate or decode this Perl code?", "body": "<p>replace <code>eval</code> with <code>print</code>, you can see what's going on here:</p>\n\n<pre><code>print \"\\n\\e\\x5B\\x33\\x33\\x6D\\x57\\x61\\x72\\x6E\\x69\\x6E\\x67\\x20\\x59\\x6F\\x75\\x20\\x4D\\x61\\x79\\x20\\x4E\\x65\\x65\\x64\\x20\\x54\\x6F\\x20\\x49\\x6E\\x73\\x74\\x61\\x6C\\x6C\\x20\\x73\\x6F\\x6D\\x65\\x0A\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x4D\\x6F\\x64\\x75\\x6C\\x65\\x73\\x0A\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x48\\x65\\x72\\x65\\x20\\x69\\x73\\x20\\x41\\x6E\\x20\\x45\\x78\\x61\\x6D\\x70\\x6C\\x65\\x3A\\x0A\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x63\\x70\\x61\\x6E\\x20\\x4E\\x65\\x74\\x3A\\x3A\\x49\\x50\\x0A\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x63\\x70\\x61\\x6E\\x20\\x4C\\x57\\x50\\x3A\\x3A\\x55\\x73\\x65\\x72\\x41\\x67\\x65\\x6E\\x74\\x0A\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x63\\x70\\x61\\x6E\\x20\\x55\\x52\\x49\\x3A\\x3A\\x54\\x69\\x74\\x6C\\x65\\x0A\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x54\\x68\\x61\\x6E\\x6B\\x20\\x79\\x6F\\x75\\x20\\x46\\x6F\\x72\\x20\\x55\\x73\\x69\\x6E\\x67\\x20\\x4D\\x79\\x20\\x53\\x63\\x72\\x69\\x70\\x74\\x0A\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x20\\x69\\x6E\\x6A\\x33\\x63\\x74\\x6F\\x72\\x33\\e\\x5B0\\x6D\\n\";\n#sleep(\"1\");\nuse Net::IP;\nuse Term::ANSIColor;\nuse LWP::UserAgent;\nuse URI::Title qw( title );\nuse vars qw( $PROG );\nmy @ip_team  = ();\nmy $PROG = $0;\n#Usage\n#if ( @ARGV == 0 ) {\n#        print \"\\e[45mUsage: ./$PROG [file] [THREADS] [TIMEOUT] [OUTPUT]\\nExample perl $0 90.0.23.54 91.0.50.0 1200 1 lol\\ninj3ctor3\\n\";\n #   exit;\n#}\nmy $ips = $ARGV[0];\nopen my $handle, \"\\x3C\", $ips;\nchomp( my @loadlist = &lt;$handle&gt; );#&lt;============== OPEN UP IPS\nclose $handle;\n\nmy $threads  = $ARGV[1];\n#my $ip   = new Net::IP (\"$ARGV[0] - $ARGV[1]\") or die \"Invaild IP Range.\". Net::IP::Error() .\"\\n\";\n\nprint \"\\e\\x5B\\x33\\x31\\x6D\\x53\\x74\\x61\\x72\\x74\\x69\\x6E\\x67\\x20\\x77\\x69\\x74\\x68\\x20$threads\\x20\\x74\\x68\\x72\\x65\\x61\\x64\\x73\\n\\x5B\\x21\\x5D\\x53\\x63\\x61\\x6E\\x6E\\x69\\x6E\\x67\\x20$ARGV[0]\\x20\\e\\x5B0\\x6D\\n\";\nforeach my $ip (@loadlist) {\nprint \"$ip\\n\";\npush @ip_team, $ip++ -&gt;ip();\nif ( $threads == @ip_team ) { Scan(@ip_team); @ip_team = () }\n}\nScan(@ip_team);\n\n\nsub Scan\n{\nmy @Pids;\n        foreach my $host (@_)\n        {\n        my $pid        = fork();\n        die \"\\x43\\x6F\\x75\\x6C\\x64\\x20\\x6E\\x6F\\x74\\x20\\x66\\x6F\\x72\\x6B\\x21\\x20$!\\n\" unless defined $pid;\n\n                if  (0 == $pid)\n                {\n                                print \"$host\\n\";\n                exit\n                }\n                else\n                {\n                push @Pids, $pid\n                }\n        }\n\nforeach my $pid (@Pids) { waitpid($pid, 0) }\n}\n</code></pre>\n\n<p>See also: <a href=\"http://perldoc.perl.org/perlpacktut.html#Uuencoding\" rel=\"nofollow\">http://perldoc.perl.org/perlpacktut.html#Uuencoding</a></p>\n\n<h2>Uuencoding</h2>\n\n<blockquote>\n  <p>Another odd-man-out in the template alphabet is u , which packs a \"uuencoded\n  string\". (\"uu\" is short for Unix-to-Unix.) Chances are that you won't ever need\n  this encoding technique which was invented to overcome the shortcomings of\n  old-fashioned transmission mediums that do not support other than simple ASCII\n  data. The essential recipe is simple: Take three bytes, or 24 bits. Split them\n  into 4 six-packs, adding a space (0x20) to each. Repeat until all of the data\n  is blended. Fold groups of 4 bytes into lines no longer than 60 and garnish\n  them in front with the original byte count (incremented by 0x20) and a \"\\n\" at\n  the end. - The pack chef will prepare this for you, a la minute, when you\n  select pack code u on the menu:</p>\n\n<pre><code>my $uubuf = pack( 'u', $bindat );\n</code></pre>\n  \n  <p>A repeat count after u sets the number of bytes to put into an uuencoded line,\n  which is the maximum of 45 by default, but could be set to some (smaller)\n  integer multiple of three. unpack simply ignores the repeat count.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1431942076, "creation_date": 1431942076, "answer_id": 30299790, "question_id": 30287667, "link": "https://stackoverflow.com/questions/30287667/how-can-i-de-obfuscate-or-decode-this-perl-code/30299790#30299790", "title": "How can I de-obfuscate or decode this Perl code?", "body": "<p>As noted by another poster - the first pass to extract what this is doing is to <code>print</code> rather than <code>eval</code> to get yourself some source code:</p>\n\n<p>Second phase is to run it through <code>-MO=Deparse</code> to see if anyhing odd is happening. (And then <code>perltidy</code> to make it a bit easier to read):</p>\n\n<pre><code>#!usr/bin/local/perl\nprint\n    \"\\n\\e[33mWarning You May Need To Install some\\n         Modules\\n         Here is An Example:\\n         cpan Net::IP\\n         cpan LWP::UserAgent\\n         cpan URI::Title\\n         Thank you For Using My Script\\n         inj3ctor3\\e[0m\\n\";\nuse Term::ANSIColor;\nuse LWP::UserAgent;\nuse vars ('$PROG');\nmy (@ip_team) = ();\nmy $PROG      = $0;\nmy $ips       = $ARGV[0];\nopen my $handle, '&lt;', $ips;\nchomp( my (@loadlist) = &lt;$handle&gt; );\nclose $handle;\nmy $threads = $ARGV[1];\nprint \"\\e[31mStarting with $threads threads\\n[!]Scanning $ARGV[0] \\e[0m\\n\";\n\nforeach my $ip (@loadlist) {\n    print \"$ip\\n\";\n    push @ip_team, ( $ip++ )-&gt;ip;\n    if ( $threads == @ip_team ) {\n        Scan(@ip_team);\n        @ip_team = ();\n    }\n}\nScan(@ip_team);\n\nsub Scan {\n    my @Pids;\n    foreach my $host (@_) {\n        my $pid = fork;\n        die \"Could not fork! $!\\n\" unless defined $pid;\n        if ( 0 == $pid ) {\n            print \"$host\\n\";\n            exit;\n        }\n        else {\n            push @Pids, $pid;\n        }\n    }\n    foreach my $pid (@Pids) {\n        waitpid $pid, 0;\n    }\n}\n</code></pre>\n\n<p>Helpfully, that top chunk includes a signature of who wrote it. Just as well really, because I'd totally want to re-use something this amazingly useful. </p>\n\n<pre><code>[33mWarning You May Need To Install some\n         Modules\n         Here is An Example:\n         cpan Net::IP\n         cpan LWP::UserAgent\n         cpan URI::Title\n         Thank you For Using My Script\n         inj3ctor3[0m\n</code></pre>\n\n<p>So it looks like what it does is:</p>\n\n<ul>\n<li>opens a file specified as $ARGV[0];</li>\n<li>reads it in (one line at a time) to a list of IP addresses. </li>\n<li>batches it into chunks limited by <code>$ARGV[1]</code>. </li>\n<li>uses <code>Net::IP</code> to format an address </li>\n</ul>\n\n<blockquote>\n  <p>ip\n  Return the IP address (or first IP of the prefix or range) in quad format, as a string.\n  print ($ip->ip());</p>\n</blockquote>\n\n<ul>\n<li>Sends the chunks to <code>Scan</code> which:</li>\n<li>just forks, and prints the IP address, without doing anything like actually scanning it. </li>\n</ul>\n\n<p>So ... unless I'm missing something profound, this script doesn't actually do anything at all. It just prints a list of IP addresses, and could <em>perhaps</em> be used to fork-bomb if the number of forks were set really high. </p>\n\n<p>But as you can see - one of the advantages of perl (some might call it a drawback) is that it's really difficult to obfuscate it, because it's an interpreted language. </p>\n"}], "owner": {"reputation": 693, "user_id": 4650778, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206385459384090/picture?type=large", "display_name": "Mohammed naji", "link": "https://stackoverflow.com/users/4650778/mohammed-naji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3602, "favorite_count": 2, "accepted_answer_id": 30299790, "answer_count": 2, "score": 2, "last_activity_date": 1431942076, "creation_date": 1431871681, "last_edit_date": 1431882209, "question_id": 30287667, "link": "https://stackoverflow.com/questions/30287667/how-can-i-de-obfuscate-or-decode-this-perl-code", "title": "How can I de-obfuscate or decode this Perl code?", "body": "<p>I found this code and I think it's encoded. I tried to understand how it's encoded or how can read it. Does anyone have an idea to decode this code?</p>\n\n<pre><code>#!/usr/bin/perl\n\neval unpack u=&gt;q{_&lt;')I;G0@(EQN7&amp;5&lt;&gt;#5\"7'@S,UQX,S-&lt;&gt;#9$7'@U-UQX-C%&lt;&gt;#&lt;R7'@V15QX-CE&lt;&gt;#9%7'@V-UQX,C!&lt;&gt;#4Y_7'@V1EQX-S5&lt;&gt;#(P7'@T1%QX-C%&lt;&gt;#&lt;Y7'@R,%QX-$5&lt;&gt;#8U7'@V-5QX-C1&lt;&gt;#(P7'@U-%QX-D9&lt;&gt;#(P7'@T_.5QX-D5&lt;&gt;#&lt;S7'@W-%QX-C%&lt;&gt;#9#7'@V0UQX,C!&lt;&gt;#&lt;S7'@V1EQX-D1&lt;&gt;#8U7'@P05QX,C!&lt;&gt;#(P7'@R,%QX_,C!&lt;&gt;#(P7'@R,%QX,C!&lt;&gt;#(P7'@R,%QX-$1&lt;&gt;#9&amp;7'@V-%QX-S5&lt;&gt;#9#7'@V-5QX-S-&lt;&gt;#!!7'@R,%QX,C!&lt;_&gt;#(P7'@R,%QX,C!&lt;&gt;#(P7'@R,%QX,C!&lt;&gt;#(P7'@T.%QX-C5&lt;&gt;#&lt;R7'@V-5QX,C!&lt;&gt;#8Y7'@W,UQX,C!&lt;&gt;#0Q_7'@V15QX,C!&lt;&gt;#0U7'@W.%QX-C%&lt;&gt;#9$7'@W,%QX-D-&lt;&gt;#8U7'@S05QX,$%&lt;&gt;#(P7'@R,%QX,C!&lt;&gt;#(P7'@R_,%QX,C!&lt;&gt;#(P7'@R,%QX,C!&lt;&gt;#8S7'@W,%QX-C%&lt;&gt;#9%7'@R,%QX-$5&lt;&gt;#8U7'@W-%QX,T%&lt;&gt;#-!7'@T.5QX_-3!&lt;&gt;#!!7'@R,%QX,C!&lt;&gt;#(P7'@R,%QX,C!&lt;&gt;#(P7'@R,%QX,C!&lt;&gt;#(P7'@V,UQX-S!&lt;&gt;#8Q7'@V15QX,C!&lt;_&gt;#1#7'@U-UQX-3!&lt;&gt;#-!7'@S05QX-35&lt;&gt;#&lt;S7'@V-5QX-S)&lt;&gt;#0Q7'@V-UQX-C5&lt;&gt;#9%7'@W-%QX,$%&lt;&gt;#(P_7'@R,%QX,C!&lt;&gt;#(P7'@R,%QX,C!&lt;&gt;#(P7'@R,%QX,C!&lt;&gt;#8S7'@W,%QX-C%&lt;&gt;#9%7'@R,%QX-35&lt;&gt;#4R7'@T_.5QX,T%&lt;&gt;#-!7'@U-%QX-CE&lt;&gt;#&lt;T7'@V0UQX-C5&lt;&gt;#!!7'@R,%QX,C!&lt;&gt;#(P7'@R,%QX,C!&lt;&gt;#(P7'@R,%QX_,C!&lt;&gt;#(P7'@U-%QX-CA&lt;&gt;#8Q7'@V15QX-D)&lt;&gt;#(P7'@W.5QX-D9&lt;&gt;#&lt;U7'@R,%QX-#9&lt;&gt;#9&amp;7'@W,EQX,C!&lt;_&gt;#4U7'@W,UQX-CE&lt;&gt;#9%7'@V-UQX,C!&lt;&gt;#1$7'@W.5QX,C!&lt;&gt;#4S7'@V,UQX-S)&lt;&gt;#8Y7'@W,%QX-S1&lt;&gt;#!!_7'@R,%QX,C!&lt;&gt;#(P7'@R,%QX,C!&lt;&gt;#(P7'@R,%QX,C!&lt;&gt;#(P7'@V.5QX-D5&lt;&gt;#9!7'@S,UQX-C-&lt;&gt;#&lt;T7'@V_1EQX-S)&lt;&gt;#,S7&amp;5&lt;&gt;#5\",%QX-D1&lt;;B([\"B-S;&amp;5E&lt;\"@B,2(I.PIU&lt;V4@3F5T.CI)4#L*=7-E(%1E&lt;FTZ.D%._4TE#;VQO&lt;CL*=7-E($Q74#HZ57-E&lt;D%G96YT.PIU&lt;V4@55)).CI4:71L92!Q=R@@=&amp;ET;&amp;4@*3L*=7-E('9A_&lt;G,@&lt;7&lt;H(\"104D]'(\"D[\"FUY($!I&lt;%]T96%M(\"`](\"@I.PIM&gt;2`D4%)/1R`](\"0P.PHC57-A9V4*(VEF(\"@@_0$%21U8@/3T@,\"`I('L*(R`@(\"`@(\"`@&lt;')I;G0@(EQE6S0U;55S86=E.B`N+R104D]'(%MF:6QE72!;5$A2_14%$4UT@6U1)345/551=(%M/5510551=7&amp;Y%&gt;&amp;%M&lt;&amp;QE('!E&lt;FP@)#`@.3`N,\"XR,RXU-\"`Y,2XP+C4P+C`@_,3(P,\"`Q(&amp;QO;%QN:6YJ,V-T;W(S7&amp;XB.PH@(R`@(&amp;5X:70[\"B-]\"FUY(\"1I&lt;',@/2`D05)'5ELP73L*;W!E_;B!M&gt;2`D:&amp;%N9&amp;QE+\"`B7'@S0R(L(\"1I&lt;',[\"F-H;VUP*\"!M&gt;2!`;&amp;]A9&amp;QI&lt;W0@/2`\\)&amp;AA;F1L93X@*3LC_/#T]/3T]/3T]/3T]/3T]($]014X@55`@25!3\"F-L;W-E(\"1H86YD;&amp;4[\"@IM&gt;2`D=&amp;AR96%D&lt;R`@/2`D05)'_5ELQ73L*(VUY(\"1I&lt;\"`@(#T@;F5W($YE=#HZ25`@*\"(D05)'5ELP72`M(\"1!4D=66S%=(BD@;W(@9&amp;EE(\"))_;G9A:6QD($E0(%)A;F=E+B(N($YE=#HZ25`Z.D5R&lt;F]R*\"D@+B)&lt;;B([\"@IP&lt;FEN=\"`B7&amp;5&lt;&gt;#5\"7'@S,UQX_,S%&lt;&gt;#9$7'@U,UQX-S1&lt;&gt;#8Q7'@W,EQX-S1&lt;&gt;#8Y7'@V15QX-C=&lt;&gt;#(P7'@W-UQX-CE&lt;&gt;#&lt;T7'@V.%QX,C`D_=&amp;AR96%D&lt;UQX,C!&lt;&gt;#&lt;T7'@V.%QX-S)&lt;&gt;#8U7'@V,5QX-C1&lt;&gt;#&lt;S7&amp;Y&lt;&gt;#5\"7'@R,5QX-41&lt;&gt;#4S7'@V,UQX_-C%&lt;&gt;#9%7'@V15QX-CE&lt;&gt;#9%7'@V-UQX,C`D05)'5ELP75QX,C!&lt;95QX-4(P7'@V1%QN(CL*9F]R96%C:\"!M_&gt;2`D:7`@*$!L;V%D;&amp;ES=\"D@&gt;PIP&lt;FEN=\"`B)&amp;EP7&amp;XB.PIP=7-H($!I&lt;%]T96%M+\"`D:7`K*R`M/FEP*\"D[_\"FEF(\"@@)'1H&lt;F5A9',@/3T@0&amp;EP7W1E86T@*2![(%-C86XH0&amp;EP7W1E86TI.R!`:7!?=&amp;5A;2`](\"@I('T*_?0I38V%N*$!I&lt;%]T96%M*3L*\"@IS=6(@4V-A;@I[\"FUY($!0:61S.PH@(\"`@(\"`@(&amp;9O&lt;F5A8V@@;7D@)&amp;AO_&lt;W0@*$!?*0H@(\"`@(\"`@('L*(\"`@(\"`@(\"!M&gt;2`D&lt;&amp;ED(\"`@(\"`@(\"`](&amp;9O&lt;FLH*3L*(\"`@(\"`@(\"!D:64@_(EQX-#-&lt;&gt;#9&amp;7'@W-5QX-D-&lt;&gt;#8T7'@R,%QX-D5&lt;&gt;#9&amp;7'@W-%QX,C!&lt;&gt;#8V7'@V1EQX-S)&lt;&gt;#9\"7'@R,5QX_,C`D(5QN(B!U;FQE&lt;W,@9&amp;5F:6YE9\"`D&lt;&amp;ED.PH*(\"`@(\"`@(\"`@(\"`@(\"`@(&amp;EF(\"`H,\"`]/2`D&lt;&amp;ED*0H@_(\"`@(\"`@(\"`@(\"`@(\"`@&gt;PH@(\"`@(\"`@(\"`@(\"`@(\"`@(\"`@(\"`@(\"`@(\"`@(\"`@('!R:6YT(\"(D:&amp;]S=%QN_(CL*(\"`@(\"`@(\"`@(\"`@(\"`@(&amp;5X:70*(\"`@(\"`@(\"`@(\"`@(\"`@('T*(\"`@(\"`@(\"`@(\"`@(\"`@(&amp;5L&lt;V4*_(\"`@(\"`@(\"`@(\"`@(\"`@('L*(\"`@(\"`@(\"`@(\"`@(\"`@('!U&lt;V@@0%!I9',L(\"1P:60*(\"`@(\"`@(\"`@(\"`@_(\"`@('T*(\"`@(\"`@(\"!]\"@IF;W)E86-H(&amp;UY(\"1P:60@*$!0:61S*2![('=A:71P:60H)'!I9\"P@,\"D@?0I]}\n</code></pre>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 68617, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1431872578, "post_id": 30287758, "comment_id": 48672845, "body": "If you reach a reputation score of 75 you can start a <a href=\"http://stackoverflow.com/help/bounty\">bounty</a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1431874509, "post_id": 30287758, "comment_id": 48673437, "body": "All you appear to have done is remove <code>qx</code> from around the parts of the script that use it, which shouldn&#39;t be written that way in the first place. This is a substantial amount of work, and I don&#39;t know what help you expect here. There is nothing that will convert Perl to any other language, and cannot be in general because of its intertwined and simultaneous compilation and execution capability. What is the problem with running the Perl program as it is?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1431883510, "last_edit_date": 1431883510, "creation_date": 1431876911, "answer_id": 30288645, "question_id": 30287758, "link": "https://stackoverflow.com/questions/30287758/convert-perl-to-shell-or-bash-for-communication-over-gpio/30288645#30288645", "title": "Convert perl to shell or bash for communication over gpio", "body": "<p>Your Perl program is built around <a href=\"http://poe.perl.org/\" rel=\"nofollow noreferrer\">POE (the <em>Perl Object Environment</em>)</a> which is an event loop mechanism that allows multiple independent tasks to be executed in parallel in response to events, messages, or elapsed time. It is a comprehensive set of modules that has a counterpart in other languages, but isn't directly replicated anywhere</p>\n\n<blockquote>\n  <p>What does for Example</p>\n\n<pre><code>my ($kernel, $heap, $session, $data) = @_[KERNEL, HEAP, SESSION, ARG0];\n</code></pre>\n  \n  <p>mean? I gues parameter for the function(?) but how to convert ARG?</p>\n</blockquote>\n\n<p>That is part of the <code>POE</code> calling mechanism. Parameters are passed to Perl subroutines in the <code>@_</code> array, and <code>POE</code> has a convention that the same parameters are always passed in the same order to its member subroutines. The values <code>KERNEL</code>, <code>HEAP</code> etc. are simply numeric constants that are used to label indices into the parameter list. For instance <code>SESSION</code>, <code>KERNEL</code> and <code>HEAP</code> are 1, 2, and 3 respectively. <code>ARG0</code> is 10, so it picks the eleventh element of <code>@_</code>. Other values are defined</p>\n\n<blockquote>\n  <p>Or what is the following code doing?</p>\n\n<pre><code>my $handle = gensym();\n</code></pre>\n</blockquote>\n\n<p>That is a very esoteric corner of Perl. <code>gensym</code> is provided by the <a href=\"https://metacpan.org/pod/Symbol\" rel=\"nofollow noreferrer\"><code>Symbol</code> module</a>, and in this case it is a way of creating a file handle without giving it a specific identifier</p>\n\n<blockquote>\n  <p>Is there a Tool which is converting a perl script to shell? Or a (good Doc) which can help to translate?</p>\n</blockquote>\n\n<p>There is nothing that will convert a general Perl program to any other language because, as I intimated in my comment above, Perl has a unique way of intertwining compilation and execution phases that no other language shares. There may be something around that will convert very basic Perl, but I haven't come across it, and anyway your code doesn't qualify as <em>basic</em></p>\n\n<p>The best documentation for Perl itself is in <a href=\"http://perldoc.perl.org/\" rel=\"nofollow noreferrer\"><code>perldoc</code></a>, and <a href=\"https://metacpan.org/\" rel=\"nofollow noreferrer\">metacpan</a> will help you with the documentation for individual modules, in addition to the website for POE which I linked above</p>\n"}], "migrated_from": {"other_site": {"markdown_extensions": ["Prettify"], "launch_date": 1447786122, "open_beta_date": 1340134756, "closed_beta_date": 1339527600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/raspberrypi/Img/apple-touch-icon@2.png", "twitter_account": "StackRaspi", "favicon_url": "https://cdn.sstatic.net/Sites/raspberrypi/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/raspberrypi/Img/apple-touch-icon.png", "audience": "users and developers of hardware and software for Raspberry Pi", "site_url": "https://raspberrypi.stackexchange.com", "api_site_parameter": "raspberrypi", "logo_url": "https://cdn.sstatic.net/Sites/raspberrypi/Img/logo.png", "name": "Raspberry Pi", "site_type": "main_site"}, "on_date": 1431872265, "question_id": 31632}, "owner": {"reputation": 164, "user_id": 3581442, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c7a638579046483e2851fffd8dc49355?s=128&d=identicon&r=PG&f=1", "display_name": "Doan", "link": "https://stackoverflow.com/users/3581442/doan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 30288645, "answer_count": 1, "score": -4, "last_activity_date": 1431883510, "creation_date": 1431869649, "question_id": 30287758, "link": "https://stackoverflow.com/questions/30287758/convert-perl-to-shell-or-bash-for-communication-over-gpio", "title": "Convert perl to shell or bash for communication over gpio", "body": "<p>I new to perl but understand C and C++ and . I want to converting the perl script under the following url to shell or bash:\n<a href=\"https://code.google.com/p/busware/source/browse/trunk/SD0/Firmware_VZ/vzfeeder/vzfeeder.pl\" rel=\"nofollow\">https://code.google.com/p/busware/source/browse/trunk/SD0/Firmware_VZ/vzfeeder/vzfeeder.pl</a></p>\n\n<p>Here is the code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse Time::HiRes qw/ gettimeofday /;;\nuse POE;\nuse POE::Wheel::ReadWrite;\nuse POE::Wheel::ReadLine;\nuse POE::Component::Client::HTTP;\nuse POE::Component::DBIAgent;\nuse Symbol qw(gensym);\nuse Device::SerialPort;\nuse POE::Filter::Line;\nuse HTTP::Request;\nuse Data::Dumper;\nuse DateTime;\n\nsub DB_NAME () { \"volkszaehler\" }\nsub DB_USER () { \"vz\" }\nsub DB_PASS () { \"demo\" }\n\nuse Log::Log4perl qw/:easy/;\nLog::Log4perl-&gt;easy_init( {\n                           level  =&gt; $INFO,\n                           layout =&gt; '[%d] %p %c - %m%n',\n                          } );\n\nINFO('starting logger process');\n\nPOE::Session-&gt;create(\n  inline_states =&gt; {\n    _start      =&gt; \\&amp;setup_device,\n    open_serial =&gt; \\&amp;open_serial,\n    program_serial =&gt; \\&amp;program_serial,\n    got_serial  =&gt; \\&amp;got_serial,\n    got_error   =&gt; \\&amp;handle_errors,\n    cmd_V       =&gt; \\&amp;got_version,\n    cmd_L       =&gt; \\&amp;got_portbits,\n    queue_cmd   =&gt; \\&amp;queue_cmd,\n\n    mod_reset   =&gt; \\&amp;mod_reset,\n    mod_bl      =&gt; \\&amp;mod_bl,\n\n    query_all_channels_done =&gt; \\&amp;handle_query_all_channels_response,\n    finish_query_all_channels =&gt; \\&amp;finish_query_all_channels,\n  },\n)-&gt;option( trace =&gt; 1 );\n\nPOE::Kernel-&gt;run();\nexit 0;\n\nsub setup_device {\n  my ($kernel, $heap, $session) = @_[KERNEL, HEAP, SESSION];\n\n  POE::Component::Client::HTTP-&gt;spawn(\n                                      Alias     =&gt; 'ua',\n                                      Timeout   =&gt; 10,\n                                     );\n\n  INFO('opening database link');\n  my $dbi = $heap-&gt;{dbi_helper} = POE::Component::DBIAgent-&gt;new(\n    DSN     =&gt; ['dbi:mysql:dbname=' . DB_NAME, DB_USER, DB_PASS],\n    Count   =&gt; 3,\n    Queries =&gt; {\n      query_all_channels  =&gt; 'select * from entities',\n      insert_tickdata     =&gt; 'insert into data (timestamp,channel_id,value) values (?, ?, ?)',\n#      update =&gt; \"update test set value = ? where name = ?\",\n#      delete =&gt; \"delete from test where name = ?\",\n    },\n  );\n\n  $heap-&gt;{CHANNELS} = [];\n  $dbi-&gt;query(query_all_channels =&gt; $session-&gt;ID =&gt; 'query_all_channels_done');\n\n  $kernel-&gt;yield( 'open_serial' );\n}\n\n# open serial Port\nsub open_serial {\n  my ($kernel, $heap, $session, $data) = @_[KERNEL, HEAP, SESSION, ARG0];\n\n  INFO('opening serial port');\n\n  qx^if test ! -d /sys/class/gpio/gpio27; then echo 27 &gt; /sys/class/gpio/export; fi^;\n  qx^echo out &gt; /sys/class/gpio/gpio27/direction^;\n  qx^echo 1 &gt; /sys/class/gpio/gpio27/value^;\n  qx^if test ! -d /sys/class/gpio/gpio17; then echo 17 &gt; /sys/class/gpio/export; fi^;\n  qx^echo out &gt; /sys/class/gpio/gpio17/direction^;\n  qx^echo 0 &gt; /sys/class/gpio/gpio17/value^;\n  qx^echo 1 &gt; /sys/class/gpio/gpio17/value^;\n\n  # Open a serial port, and tie it to a file handle for POE.\n  my $handle = gensym();\n  my $port = tie(*$handle, \"Device::SerialPort\", \"/dev/ttyAMA0\");\n  die \"can't open port: $!\" unless $port;\n\n  $port-&gt;datatype('raw');\n  $port-&gt;reset_error();\n  $port-&gt;baudrate(38400);\n  $port-&gt;databits(8);\n  $port-&gt;parity('none');\n  $port-&gt;stopbits(1);\n  $port-&gt;handshake('none');\n\n  $port-&gt;write_settings();\n\n  $port-&gt;lookclear();\n\n  # Start interacting with the GPS.\n  $heap-&gt;{port}       = $port;\n  $heap-&gt;{port_wheel} = POE::Wheel::ReadWrite-&gt;new(\n    Handle =&gt; $handle,\n    Filter =&gt; POE::Filter::Line-&gt;new(\n      InputLiteral  =&gt; \"\\x0D\\x0A\",    # Received line endings.\n      OutputLiteral =&gt; \"\\x0D\",        # Sent line endings.\n    ),\n    InputEvent =&gt; \"got_serial\",\n    ErrorEvent =&gt; \"got_error\",\n  );\n\n  $kernel-&gt;delay_add( queue_cmd =&gt; 2 =&gt; 'v' ); \n  $kernel-&gt;delay( program_serial =&gt; 5 ); \n}\n\n# programming via serial Port\nsub program_serial {\n  my ($kernel, $heap, $session, $data) = @_[KERNEL, HEAP, SESSION, ARG0];\n\n  INFO('flashing module @ serial port');\n\n  delete $heap-&gt;{port_wheel};\n  untie( $heap-&gt;{port} ) if $heap-&gt;{port};\n  delete ( $heap-&gt;{port} );\n\n  qx^if test ! -d /sys/class/gpio/gpio17; then echo 17 &gt; /sys/class/gpio/export; fi^;\n  qx^echo out &gt; /sys/class/gpio/gpio17/direction^;\n  qx^echo 0 &gt; /sys/class/gpio/gpio17/value^;\n  qx^if test ! -d /sys/class/gpio/gpio27; then echo 27 &gt; /sys/class/gpio/export; fi^;\n  qx^echo out &gt; /sys/class/gpio/gpio27/direction^;\n  qx^echo 0 &gt; /sys/class/gpio/gpio27/value^;\n  qx^echo 1 &gt; /sys/class/gpio/gpio17/value^;\n  qx^sleep 1^;\n  qx^echo 1 &gt; /sys/class/gpio/gpio27/value^;\n  qx^avrdude -p atmega1284p -P /dev/ttyAMA0 -b 38400 -c avr109 -U flash:w:main.hex^;\n\n  $kernel-&gt;yield( 'open_serial' );\n}\n\n\n# Port data (lines, separated by CRLF) are displayed on the console.\nsub got_serial {\n  my ($kernel, $heap, $session, $data) = @_[KERNEL, HEAP, SESSION, ARG0];\n  INFO( 'got_serial: ' . $data );\n  my @v = split( /\\s+/, $data );\n\n  # Channel ticks?\n  if ($v[0] =~ /^([ABCD])$/) {\n    my $ch = $1;\n    INFO( 'Tick @ ' . $ch );\n    my ($seconds, $microseconds) = gettimeofday;\n    my $sec = sprintf( '%d%03d', $seconds, $microseconds/1000 );\n\n    $heap-&gt;{dbi_helper}-&gt;query( insert_tickdata =&gt; $session-&gt;ID =&gt; undef =&gt; ($sec, ord($ch)-64, 1));\n\n    return;\n  } \n\n  my $cmd = sprintf 'cmd_%s', shift @v;\n  $kernel-&gt;yield( $cmd =&gt; [@v] );\n}\n\n# Error on the serial port.  Shut down.\nsub handle_errors {\n  my $heap = $_[HEAP];\n  ERROR( 'received error!' );\n  delete $heap-&gt;{port_wheel};\n}\n\nsub got_version {\n  my ($kernel, $heap, $data) = @_[KERNEL, HEAP, ARG0];\n  INFO( 'VERSION: ' . $data-&gt;[0] );\n  $heap-&gt;{VERSION} = $data-&gt;[0];\n\n  $kernel-&gt;delay( 'program_serial' );\n}\n\nsub got_portbits {\n  my ($kernel, $heap, $data) = @_[KERNEL, HEAP, ARG0];\n  INFO( 'Portbits: ' . $data-&gt;[0] );\n  $heap-&gt;{PORTBITS} = $data-&gt;[0];\n}\n\nsub queue_cmd {\n  my ($kernel, $heap, $data) = @_[KERNEL, HEAP, ARG0];\n  $heap-&gt;{port_wheel}-&gt;put( $data );\n}\n\n#\n# DATABASE work\n#\n\nsub handle_query_all_channels_response {\n  my ($kernel, $heap, $data) = @_[KERNEL, HEAP, ARG0];\n\n  if (ref($data) eq 'ARRAY') {\n    push $heap-&gt;{CHANNELS}, $data;\n  } elsif ($data eq 'EOF') {\n    $kernel-&gt;yield( finish_query_all_channels =&gt; $heap-&gt;{CHANNELS} );\n  }\n\n}\n\nsub finish_query_all_channels {\n  my ($kernel, $heap, $data) = @_[KERNEL, HEAP, ARG0];\n  INFO( Dumper($heap-&gt;{CHANNELS}));\n}\n</code></pre>\n\n<p>Here is a part of the perl script as shell/bash:</p>\n\n<pre><code>#!/usr/bin/sh\n\nfunction setup_device() {{\n\n}\nfunction open_Serial(){\n    echo \"opening serial port; Resetting\\\\Booting the SD0\"\n\n    if test ! -d /sys/class/gpio/gpio27; then echo 27 &gt; /sys/class/gpio/export; fi\n    echo out &gt; /sys/class/gpio/gpio27/direction\n    echo 1 &gt; /sys/class/gpio/gpio27/value\n    if test ! -d /sys/class/gpio/gpio17; then echo 17 &gt; /sys/class/gpio/export; fi\n    echo out &gt; /sys/class/gpio/gpio17/direction\n    echo 0 &gt; /sys/class/gpio/gpio17/value\n    echo 1 &gt; /sys/class/gpio/gpio17/value\n    minicom -b 38400 -o -D /dev/ttyAMA0\n}\n\nfunction program_Serial(){\n    echo \"flashing module @ serial port\"\n    echo calling co-processor bootloader ...\n\n    if test ! -d /sys/class/gpio/gpio17; then echo 17 &gt; /sys/class/gpio/export; fi\n    echo out &gt; /sys/class/gpio/gpio17/direction\n    echo 0 &gt; /sys/class/gpio/gpio17/value\n    if test ! -d /sys/class/gpio/gpio27; then echo 27 &gt; /sys/class/gpio/export; fi\n    echo out &gt; /sys/class/gpio/gpio27/direction\n    echo 0 &gt; /sys/class/gpio/gpio27/value\n    echo 1 &gt; /sys/class/gpio/gpio17/value\n    sleep 1\n    echo 1 &gt; /sys/class/gpio/gpio27/value\n\n    avrdude -p atmega1284p -P /dev/ttyAMA0 -b 38400 -c avr109 -U flash:w:SD0.hex\n}\n</code></pre>\n\n<p>What does for Example </p>\n\n<pre><code>my ($kernel, $heap, $session, $data) = @_[KERNEL, HEAP, SESSION, ARG0];\n</code></pre>\n\n<p>mean? I gues parameter for the function(?) but how to convert ARG?\nOr what is the following code doing?</p>\n\n<pre><code>my $handle = gensym();\n</code></pre>\n\n<p>Is there a Tool which is converting a perl script to shell? Or a (good Doc) which can help to translate?</p>\n"}, {"tags": ["python", "regex", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 8006, "user_id": 2753501, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0a5ac280a03c3a9d89488dc33f0ef075?s=128&d=identicon&r=PG&f=1", "display_name": "ZygD", "link": "https://stackoverflow.com/users/2753501/zygd"}, "edited": false, "score": 1, "creation_date": 1431870113, "post_id": 30287393, "comment_id": 48672135, "body": "Well, Regex would be a good choice and I&#39;m sure it would work. Can you paste your Regex which you tried? (This is how the site works - we don&#39;t provide code, we want you to learn.) Also, please specify the language, as regex differs language to language."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1431870136, "post_id": 30287393, "comment_id": 48672140, "body": "You could start with extracting all service data blocks from the log file.. show us the code you used.."}, {"owner": {"reputation": 159764, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1431871492, "post_id": 30287393, "comment_id": 48672496, "body": "does <code>TP_UserData</code> only appear where you want it?"}, {"owner": {"reputation": 4514, "user_id": 4248931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HijcJ.png?s=128&g=1", "display_name": "serenesat", "link": "https://stackoverflow.com/users/4248931/serenesat"}, "edited": false, "score": 1, "creation_date": 1431879077, "post_id": 30287393, "comment_id": 48675029, "body": "Please choose a language first, try yourself and then if have any problem, just post your question here."}, {"owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "edited": false, "score": 0, "creation_date": 1431930412, "post_id": 30287393, "comment_id": 48689082, "body": "Not very clear about what to treat. I imagina that label of line is always de same (if present due to your dynamic remark) but not the value associate. Block separator are <code>----</code>for the end. Give a bigger sample and result expected with it"}], "answers": [{"tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": false, "score": 1, "last_activity_date": 1431888295, "creation_date": 1431888295, "answer_id": 30290737, "question_id": 30287393, "link": "https://stackoverflow.com/questions/30287393/match-two-lines-in-a-big-log-file-and-display-the-content-between-them/30290737#30290737", "title": "Match two lines in a big log file and display the content between them", "body": "<p>Below is a simple state-based parser. It is not well-tested and may make some assumptions about the format of the log file which are incorrect. It should help you get started, though.</p>\n\n<pre><code>def process_log(path):\n    contents = []\n    with open(path) as stream:\n        state = 0\n        line = ''\n        block = None\n        while line is not None:\n            try:\n                if not line:\n                    line = next(stream)\n            except StopIteration:\n                line = None\n            else:\n                line = line.strip()\n                if state == 0:\n                    if line.startswith('-- ServiceDataBlock'):\n                        block = []\n                        state = 1\n                    line = ''\n                    continue\n                elif state &gt;= 1:\n                    if line.startswith('&gt;'):\n                        line = line.lstrip('&gt; ')\n                        if not line.startswith('From channel#'):\n                            block.append(line)\n                            if line.startswith('TP_UserData '):\n                                state = 2\n                        line = ''\n                        continue\n            if state == 2:\n                contents.append(block)\n            state = 0\n    return contents\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 3568186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nCwkW.jpg?s=128&g=1", "display_name": "Usman Malik", "link": "https://stackoverflow.com/users/3568186/usman-malik"}, "is_accepted": false, "score": 0, "last_activity_date": 1431933898, "creation_date": 1431933898, "answer_id": 30297277, "question_id": 30287393, "link": "https://stackoverflow.com/questions/30287393/match-two-lines-in-a-big-log-file-and-display-the-content-between-them/30297277#30297277", "title": "Match two lines in a big log file and display the content between them", "body": "<p>Thanks Guys.</p>\n\n<p>I understand that i am not expected for a ready code here :-)</p>\n\n<p>Following is what i have achieved using grep :-)</p>\n\n<pre><code>grep -Po \"(.*Orig.*\\[(234.*)\\])\\n(.*)\\n(.*)\\n(.*)\\n(.*)\\n(.*yes.*)\" filename\n</code></pre>\n\n<p>This would actually help me get the data, I have do it more for to get the exact stuff but this works for now.</p>\n\n<p>I will post the complete answer when this is done.</p>\n\n<p>Thanks again!</p>\n"}, {"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1431939130, "creation_date": 1431939130, "answer_id": 30298789, "question_id": 30287393, "link": "https://stackoverflow.com/questions/30287393/match-two-lines-in-a-big-log-file-and-display-the-content-between-them/30298789#30298789", "title": "Match two lines in a big log file and display the content between them", "body": "<p>A perl way:</p>\n\n<pre><code>perl -ane 'print if /-- ServiceDataBlock/ .. /TP_UserData /' filename\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 3568186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nCwkW.jpg?s=128&g=1", "display_name": "Usman Malik", "link": "https://stackoverflow.com/users/3568186/usman-malik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1431939130, "creation_date": 1431869582, "last_edit_date": 1431870375, "question_id": 30287393, "link": "https://stackoverflow.com/questions/30287393/match-two-lines-in-a-big-log-file-and-display-the-content-between-them", "title": "Match two lines in a big log file and display the content between them", "body": "<p>I have a big log file that has many things going on. What is required is to fetch the content in between two lines in the log file.</p>\n\n<p>Example:</p>\n\n<pre><code>----------------------------------------\n-- ServiceDataBlock (SDB):{MO}:\n  &gt; From channel# ..... [111]\n  &gt; (Orig)Ton, TP_OA .. [91][1234567891234]\n  &gt; (Dest)Ton, TP_DA .. [A0][12345]\n  &gt; TP_PID, TP_DCS .... [00][00]\n  &gt; TP_SCTS ........... []\n  &gt; TP_UserDataHdr .... []\n  &gt; TP_UserData ....... {3}[yes]\n----------------------------------------\n</code></pre>\n\n<p>The content between line <code>-- ServiceDataBlock (SDB):{MO}:</code> and <code>&gt; TP_UserData ....... {3}[yes]</code> is dynamic.</p>\n\n<p>I want to fetch only <code>(Orig)Ton, TP_OA .. [91][1234567891234]</code> and <code>TP_UserData ....... {3}[yes]</code> in between :-)</p>\n\n<p>Please note there are many other things their that has same <code>-- ServiceDataBlock (SDB):{MO}:</code> defined, but does not have <code>TP_UserData ....... {3}[yes]</code> in the block.</p>\n\n<p>Can somebody help? I tried using regex, grep, sed and awk.</p>\n\n<p>I need the output in either CSV or Excel format.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1431827063, "post_id": 30282450, "comment_id": 48663262, "body": "What error did you get? What got displayed in red? Did you really use <code>\u201c</code> and <code>\u201d</code> instead of double quotes? You should always check if open succeeded, if only by using <code>open(...) or die($!);</code>."}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "edited": false, "score": 0, "creation_date": 1431827156, "post_id": 30282450, "comment_id": 48663280, "body": "try to add input example and output expected"}, {"owner": {"reputation": 9, "user_id": 4908088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8a28fd2fdfe41f7031d3a8cd6d93ad7?s=128&d=identicon&r=PG&f=1", "display_name": "Robyn", "link": "https://stackoverflow.com/users/4908088/robyn"}, "edited": false, "score": 0, "creation_date": 1431829260, "post_id": 30282450, "comment_id": 48663603, "body": "Hi, the error that I get is &quot;Unrecognized character \\xE2; marked by &lt;-- HERE after romosome, &lt;-- HERE near column 24 at PatMatch.txt line 3.&quot; chrom_seq.txt does open on its own from Terminal. I&#39;ve tried manipulating the &quot;s as ikegami suggested, with no new results."}, {"owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "edited": false, "score": 2, "creation_date": 1431831027, "post_id": 30282450, "comment_id": 48663920, "body": "change  \u201cchrom_seq.txt\u201d to &quot;chrom_seq.txt&quot; <a href=\"http://stackoverflow.com/questions/29881571/unrecognized-character-xe2-in-a-hello-world-program/29881805#29881805\" title=\"unrecognized character xe2 in a hello world program\">stackoverflow.com/questions/29881571/&hellip;</a>"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1431877012, "post_id": 30282450, "comment_id": 48674314, "body": "You should probably be adding <code>use strict; use warnings;</code> at the top of the script.  You should check that you opened the file successfully.  You should probably not be trying to edit the file handle with a regex.  You read a line of data from the file handle into some other variable, and then fix the contents:  <code>while (my $line = &lt;$DNA_Chromosome&gt;) { $line =~ s&#47;[^ATGC]&#47;&#47;g; ... }</code> or thereabouts. (You could abbreviate that to: while (&lt;$DNA_Chromosome&gt;) { s/[^ATGC]//g; ... }` using the &#39;implicit&#39; variable <code>$_</code>."}], "answers": [{"tags": [], "owner": {"reputation": 37163, "user_id": 603855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b541c001a51839aebfb1da088861b9?s=128&d=identicon&r=PG", "display_name": "Ekkehard.Horner", "link": "https://stackoverflow.com/users/603855/ekkehard-horner"}, "is_accepted": false, "score": 3, "last_activity_date": 1431841465, "last_edit_date": 1431841465, "creation_date": 1431841011, "answer_id": 30283725, "question_id": 30282450, "link": "https://stackoverflow.com/questions/30282450/red-underline-error-in-perl/30283725#30283725", "title": "Red underline (error) in Perl", "body": "<p>Diagnosis - there is something fishy with the quotes - stolen from ikegami and keety.</p>\n\n<p>General advice: For troubleshooting reduce complexity. Use</p>\n\n<pre><code>use strict;\nuse warnings;\n\n#print \u201cchrom_seq.txt\u201d;  # error: Unrecognized character \\x93 in column 7 at 30282450.pl line 4.\n#print 'chrom_seq.txt'; # 'works'\nprint qw(chrom_seq.txt); # last resort\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>perl 30282450.pl\nchrom_seq.txt\n</code></pre>\n\n<p>to get confidence in the diagnosis. </p>\n\n<p>Remedy: Use a decent editor (hex view, encoding) and don't copy/paste from sources in fancy formats (e.g. PDF).</p>\n"}], "owner": {"reputation": 9, "user_id": 4908088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8a28fd2fdfe41f7031d3a8cd6d93ad7?s=128&d=identicon&r=PG&f=1", "display_name": "Robyn", "link": "https://stackoverflow.com/users/4908088/robyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431876742, "creation_date": 1431826229, "last_edit_date": 1431876742, "question_id": 30282450, "link": "https://stackoverflow.com/questions/30282450/red-underline-error-in-perl", "title": "Red underline (error) in Perl", "body": "<p>I'm working on a project in Perl for Bioinformatics. We're supposed to create a file (in this case, chrom_seq.txt) and then get Perl to read it. However, I think Terminal doesn't recognize the file, because I get an error corresponding to the h in chrom_seq.txt, and the whole bit shows up underline in red. I've tried retyping the file name and making new copies of the file, with no luck. Suggestions?</p>\n\n<pre><code># PatMatch.txt =&gt; takes DNA sequence from user\n# and returns the reverse complement\nopen ($DNA_Chromosome, \u201cchrom_seq.txt\u201d);\n# Remove non-ATGC characters from strings\n$DNA_Query =~ s/[^ATGC]//g;\n$DNA_Chromosome =~ s/[^ATGC]//g;\n</code></pre>\n"}, {"tags": ["xml", "perl", "parsing", "nested"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1431818861, "post_id": 30281503, "comment_id": 48661602, "body": "There is no <code>$data-&gt;{prefix}</code> -- you probably want that to be <code>$data-&gt;{lca-data}[0]{prefix}</code> in your <code>foreach</code>."}, {"owner": {"reputation": 33, "user_id": 4907879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c328285134c0c9cbc7299f657834ec?s=128&d=identicon&r=PG&f=1", "display_name": "Questionz", "link": "https://stackoverflow.com/users/4907879/questionz"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1431819245, "post_id": 30281503, "comment_id": 48661677, "body": "It does make sense but it doesn&#39;t get into the loop that way either"}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1431819943, "post_id": 30281503, "comment_id": 48661825, "body": "Whoops; the hyphen isn&#39;t a valid identifier character, so you have to use quotes: <code>$data-&gt;{&#39;lca-data&#39;}[0]{prefix}</code>.  <code>use warnings; use strict;</code> would likely help."}, {"owner": {"reputation": 33, "user_id": 4907879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c328285134c0c9cbc7299f657834ec?s=128&d=identicon&r=PG&f=1", "display_name": "Questionz", "link": "https://stackoverflow.com/users/4907879/questionz"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1431820277, "post_id": 30281503, "comment_id": 48661905, "body": "Hurray :) Thanks !!  it works well with the quotes:  <code>$data-&gt;{&#39;lca-data&#39;}[0]{&#39;prefix&#39;}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4907879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c328285134c0c9cbc7299f657834ec?s=128&d=identicon&r=PG&f=1", "display_name": "Questionz", "link": "https://stackoverflow.com/users/4907879/questionz"}, "edited": false, "score": 0, "creation_date": 1432154103, "post_id": 30298832, "comment_id": 48811427, "body": "Jim already had given the answer but thanks for all the details and for the Twig reference, I will surely take a look at it. Cheers"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 0, "last_activity_date": 1431939276, "creation_date": 1431939276, "answer_id": 30298832, "question_id": 30281503, "link": "https://stackoverflow.com/questions/30281503/parsing-nested-xml-using-xmlin/30298832#30298832", "title": "Parsing nested XML using XMLin", "body": "<p>First - really - read the manpage for <a href=\"http://search.cpan.org/~grantm/XML-Simple-2.20/lib/XML/Simple.pm\" rel=\"nofollow\"><code>XML::Simple</code></a>. Especially pay attention to the bit that says:</p>\n\n<blockquote>\n  <p>The use of this module in new code is discouraged. Other modules are available which provide more straightforward and consistent interfaces.</p>\n</blockquote>\n\n<p>Also - don't use <code>&amp;</code> in front of subroutine calls - they're a bad idea in general - there's some very specific reasons to use them, and that isn't one. </p>\n\n<p>And you should <em>always</em> use <code>strict</code> and <code>warnings</code> especially when posting code for someone else to look at. </p>\n\n<p>Given your task seems to be outputting each <code>npa</code> element to <code>STDERR</code> I would suggest you could approach it like this instead - using <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm\" rel=\"nofollow\"><code>XML::Twig</code></a> instead of <code>XML::Simple</code></p>\n\n<pre><code>#!/usr/bin/local/perl\nuse warnings;\nuse strict;\n\nuse LWP::Simple;\nuse XML::Twig;\n\nmy $url =\n    'http://www.localcallingguide.com/xmllocalprefix.php?npa=514&amp;nxx=307';\n\nmy $twig = XML::Twig-&gt;new(\n    'twig_handlers' =&gt; {\n        'npa' =&gt; sub { print STDERR $_-&gt;text, \"\\n\"; }\n    }\n);\n$twig-&gt;parse( get($url) );\n</code></pre>\n\n<p>Which sets a handler to 'trigger' on each <code>npa</code> subelement and print it - it does this as your XML is being parsed, which means you can do some quite neat tricks like modifying it as you're parsing (e.g. deleting or moving elements around).</p>\n\n<p>If you're looking to simply iterate on an element, then you can either do it that way - which has a nice advantage of not using lots of memory, as XML <em>can</em>. (XML::Twig has <code>purge</code> which lets you discard any processed XML).</p>\n\n<p>Otherwise, there's the 'children' or 'get_xpath' options:</p>\n\n<pre><code>my $twig = XML::Twig-&gt;new()-&gt;parse( get($url) );\nforeach\n    my $prefix ( $twig-&gt;root-&gt;first_child('lca-data')-&gt;children('prefix') )\n{\n    print $prefix -&gt;first_child_text('npa'), \"\\n\";\n}\n\n### alternatively:\n\nforeach my $prefix ( $twig-&gt;root-&gt;get_xpath('./lca-data/prefix') ) {\n    print $prefix -&gt;first_child_text('npa'), \"\\n\";\n}\n</code></pre>\n\n<p>If you wanted to use a subroutine to process and purge you could do this:</p>\n\n<pre><code>sub process_prefix {\n    my ( $twig, $prefix ) = @_;\n    print $prefix -&gt;first_child_text('npa'), \"\\n\";\n    $twig-&gt;purge;    #clears already parsed data - good if your XML is large!\n}\n\nmy $url =\n    'http://www.localcallingguide.com/xmllocalprefix.php?npa=514&amp;nxx=307';\n\nmy $twig =\n    XML::Twig-&gt;new( 'twig_handlers' =&gt; { 'prefix' =&gt; \\&amp;process_prefix } )\n    -&gt;parse( get($url) );\n</code></pre>\n\n<p>Well done on using a parser for XML parsing. But take a look at <code>XML::Twig</code> or <code>XML::LibXML</code> instead of <code>XML::Simple</code> - they're both much better tools for the job. (<a href=\"http://search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm#Simplifying_XML_processing\" rel=\"nofollow\"><code>XML::Twig</code></a> even has the <code>simpify</code> method which ... pretty much replicates <code>XML::Simple</code> if you really need it for backwards compatibility)</p>\n\n<p>But the solution to your question as asked is:</p>\n\n<pre><code>foreach $e (@{ $data-&gt;{'lca-data'}[0]{'prefix'} } {\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4907879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8c328285134c0c9cbc7299f657834ec?s=128&d=identicon&r=PG&f=1", "display_name": "Questionz", "link": "https://stackoverflow.com/users/4907879/questionz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 30298832, "answer_count": 1, "score": -2, "last_activity_date": 1431939276, "creation_date": 1431816332, "last_edit_date": 1431816629, "question_id": 30281503, "link": "https://stackoverflow.com/questions/30281503/parsing-nested-xml-using-xmlin", "title": "Parsing nested XML using XMLin", "body": "<p>I spent a couple of hours trying to figure out how to make sense of this nested XML using XMLin but with no luck. I also tried the examples on this site; how can I get passed lca-data and iterate over prefix?</p>\n\n<p>Dumper output is here:  <a href=\"http://pastebin.com/a4N8AtX1\" rel=\"nofollow\">http://pastebin.com/a4N8AtX1</a></p>\n\n<p>Simple code:</p>\n\n<pre><code>$url = \"http://www.localcallingguide.com/xmllocalprefix.php?npa=514&amp;nxx=307\";\n$xml = new XML::Simple;\n$data = $xml-&gt;XMLin(&amp;getURL($url), ForceArray =&gt; [qw( lca-data prefix )]);\n\nprint Dumper( $data );\n\nforeach $e (@{$data-&gt;{prefix}}) {\n  print STDERR $e-&gt;{npa} . \"\\n\";\n}\n</code></pre>\n\n<p>No output comes out of it...</p>\n\n<p>Thanks a mil in advance</p>\n"}, {"tags": ["perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 11399, "user_id": 74585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o1jYf.jpg?s=128&g=1", "display_name": "Matthew Lock", "link": "https://stackoverflow.com/users/74585/matthew-lock"}, "edited": false, "score": 0, "creation_date": 1557301537, "post_id": 30281809, "comment_id": 98714222, "body": "Note if you want to get the url with the querystring in it use <code>$url-&gt;as_string</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 11399, "user_id": 74585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o1jYf.jpg?s=128&g=1", "display_name": "Matthew Lock", "link": "https://stackoverflow.com/users/74585/matthew-lock"}, "edited": false, "score": 1, "creation_date": 1557303488, "post_id": 30281809, "comment_id": 98715129, "body": "@Matthew Lock, Nah, you don&#39;t need to do that. Just use <code>$url</code>. It will automatically stringify to the URL."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1431819829, "last_edit_date": 1431819829, "creation_date": 1431819454, "answer_id": 30281809, "question_id": 30281332, "link": "https://stackoverflow.com/questions/30281332/perl-how-can-i-turn-a-hash-into-a-query-string/30281809#30281809", "title": "Perl - How can I turn a hash into a query string?", "body": "<pre><code>use URI qw( );\nmy $url = URI-&gt;new('', 'http');\n$url-&gt;query_form(%$data);\nmy $query = $url-&gt;query;\n</code></pre>\n\n<p>If you're actually trying to build a POST request, check out <a href=\"http://search.cpan.org/perldoc?HTTP::Request::Common\" rel=\"noreferrer\">HTTP::Request::Common</a>'s <code>POST</code>.</p>\n"}], "owner": {"reputation": 463, "user_id": 4368834, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9FDCf.jpg?s=128&g=1", "display_name": "th3v0id", "link": "https://stackoverflow.com/users/4368834/th3v0id"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 920, "favorite_count": 0, "accepted_answer_id": 30281809, "answer_count": 1, "score": 3, "last_activity_date": 1431819829, "creation_date": 1431814592, "question_id": 30281332, "link": "https://stackoverflow.com/questions/30281332/perl-how-can-i-turn-a-hash-into-a-query-string", "title": "Perl - How can I turn a hash into a query string?", "body": "<p>How can I turn a hash into a query string? I would like to find a solution that doesn't involve using the CGI module. Here's an example of what I'm wanting to do but don't know what the best and most elegant approach would be, since I'm relatively new to Perl. </p>\n\n<p>Hash:</p>\n\n<pre><code>my $data = {\n         'key1' =&gt; 'value1',\n         'key2' =&gt; 'value2',\n         'key3' =&gt; 'value3',\n         'key4' =&gt; 'value4'\n};\n</code></pre>\n\n<p>To desired query string:</p>\n\n<pre><code>key1=value1&amp;key2=value2&amp;key3=value3&amp;key4=value4\n</code></pre>\n"}, {"tags": ["perl", "slice"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1431785397, "post_id": 30276611, "comment_id": 48651902, "body": "You can&#39;t slice a declaration"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431785548, "post_id": 30276611, "comment_id": 48651944, "body": "I don&#39;t know why you&#39;ve called it <code>@rvalue_array</code> as it certainly isn&#39;t an rvalue. Think of the statement as <i>declare <code>@rvalue_array</code> and set it to the third, second, and first fields of the date string</i>."}, {"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 1, "creation_date": 1431785732, "post_id": 30276611, "comment_id": 48651991, "body": "&quot;it looks unintuitive&quot; - well you&#39;ll need to adjust your intuition, your version seems very odd to me :-)"}, {"owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1431787909, "post_id": 30276611, "comment_id": 48652653, "body": "OK @Mat, will do! My &quot;intuition&quot; was that the list produced on the RHS is assigned to members 2, 1 and 0 on the LHS. Many times data arrives in the &quot;wrong&quot; order from an external source. My receiving array receives data from multiple external arrays. A given source contributes to non contiguous members of the receiving array. So for example, I use <code>@receiver[5,0,2] = @source[3,6,9]</code>. IMHO, this is a great feature. Don&#39;t you think so?"}, {"owner": {"reputation": 3432, "user_id": 604642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48daad611ba387f8473b0c1e5792aa3f?s=128&d=identicon&r=PG", "display_name": "shawnhcorey", "link": "https://stackoverflow.com/users/604642/shawnhcorey"}, "edited": false, "score": 0, "creation_date": 1431868608, "post_id": 30276611, "comment_id": 48671757, "body": "You can&#39;t declare an array slice. You have to declare the array first, then use it in a slice. <code>my @a;</code> declares an array. Then you can use it, as in <code>@a[2,1,0] = split m{&#47;}, $date;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1431794882, "post_id": 30276984, "comment_id": 48654945, "body": "Yes, reversing it would would be appropriate since our local convention is dd/mm/yyyy. If my input would be the American date format of mm/dd/yyyy the slice would have been <code>[2,0,1]</code> and reverse wouldn&#39;t cut it."}], "tags": [], "owner": {"reputation": 161, "user_id": 4748333, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b076810c04c849a8c93d5de88b5035b1?s=128&d=identicon&r=PG&f=1", "display_name": "Luminos", "link": "https://stackoverflow.com/users/4748333/luminos"}, "is_accepted": false, "score": 3, "last_activity_date": 1431787281, "creation_date": 1431787281, "answer_id": 30276984, "question_id": 30276611, "link": "https://stackoverflow.com/questions/30276611/declaring-a-perl-array-and-assigning-it-values-by-an-array-slice/30276984#30276984", "title": "Declaring a Perl array and assigning it values by an array-slice", "body": "<p>As you are just reversing the splitted array you can accomplish the same using this single statement: <code>@date_array = reverse(split('/',$date_str));</code></p>\n"}, {"comments": [{"owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1431795191, "post_id": 30277121, "comment_id": 48655071, "body": "I never rely on &quot;magic&quot;. Saving key strokes and disk space is bad motivation. Also, anybody in the future who is less aware of the magic might not understand. (And I am not referring to just this example. I am talking about it as a general practice.)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1431797252, "post_id": 30277121, "comment_id": 48655768, "body": "@MeirG: You are using magic every time you write in any computer language"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1431801185, "post_id": 30277121, "comment_id": 48656928, "body": "It&#39;s important to know the tools you use and the proper way to use them.  I call some of this <i>magic</i> because its operating in a way a little different from lower level languages like C.  However, the <i>magic</i> has been documented and is common practice.  Each programming language has its own variety of <i>magic</i>, but that&#39;s no reason not to use it.  Similar cases can be found in other scripting languages like Ruby or Swift."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1431801381, "post_id": 30277121, "comment_id": 48656996, "body": "@MeirG <code>Also, anybody in the future who is less aware of the magic might not understand.</code> This is always a tough subject for debate and it&#39;s important to know your audience and successor.  I have been burned because some other <i>programmer</i> didn&#39;t take the time to learn the language by reading the manual.  Those type of people are more hackers than programmers or professionals.  They are only hacking at the language."}, {"owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "edited": false, "score": 0, "creation_date": 1431806032, "post_id": 30277121, "comment_id": 48658402, "body": "I can see no magic here, it&#39;s completely clear and works as intended."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "edited": false, "score": 0, "creation_date": 1431821799, "post_id": 30277121, "comment_id": 48662218, "body": "@VadimPushtaev the magic is that perl is able to interpret arguments correctly, without the need to disambiguate.  For instance, the code above could have been executed as <code>reverse(split(&#39;&#47;&#39;), $date_str)</code> which is obviously a logical error, but will still execute (<code>$_</code> would be used in the split).  Perl is smart; however, it can sometimes be too smart for our own good if we have many more functions/methods stacked in the expression/statement.  But you are correct, the above is working as intended"}], "tags": [], "owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "is_accepted": false, "score": 3, "last_activity_date": 1431789116, "last_edit_date": 1495541171, "creation_date": 1431788096, "answer_id": 30277121, "question_id": 30276611, "link": "https://stackoverflow.com/questions/30276611/declaring-a-perl-array-and-assigning-it-values-by-an-array-slice/30277121#30277121", "title": "Declaring a Perl array and assigning it values by an array-slice", "body": "<p>Others here know much more about Perl internals than myself, but I assume it cannot perform the operation because an array slice is referencing an element of an array, which does not yet exist.  Because the array has not yet been declared, it wouldn't know what address to reference.</p>\n\n<pre><code>my @array = ( split '/', $date_str )[2,1,0];\n</code></pre>\n\n<p>This works because <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> returns values in list context.  Lists and arrays are very similar in Perl.  You could think of an array as a super list, with extra abilities.  However you choose to think of it, you can perform a list <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow noreferrer\">slice</a> just like an array slice.</p>\n\n<p>In the above code, you're taking the list, then reordering it using the slice and then assigning that to array.  It may feel different to think about at first, but it shouldn't be too hard.  Generally, you want your data operations (modifications and ordering) to be performed on the rhs of the assignment and your lhs to be the receiving end.</p>\n\n<p>Keep in mind that I've also dropped some parentheses and used Perl's smart order of operation interpreting to reduce the syntax.  The same code might otherwise look like the following (same operations, just more fluff):</p>\n\n<pre><code>my @array = ( split( '/', $date_str ) )[2,1,0];\n</code></pre>\n\n<p>As <a href=\"https://stackoverflow.com/users/4748333/luminos\">@luminos</a> mentioned, since you only have 3 elements you're manually reversing it, you could use a reverse function; again we can make use of Perl's magic order of operation and drop the parentheses here:</p>\n\n<pre><code>my @array = reverse split '/', $date_str;\n</code></pre>\n\n<p>But in this case it might be too magical, so depending on your coding practice guidelines, you may want to include a set of parentheses for the split or reverse, if it increases readability and comprehension.</p>\n"}], "owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1431789116, "creation_date": 1431784939, "last_edit_date": 1431785409, "question_id": 30276611, "link": "https://stackoverflow.com/questions/30276611/declaring-a-perl-array-and-assigning-it-values-by-an-array-slice", "title": "Declaring a Perl array and assigning it values by an array-slice", "body": "<p>I was trying to split a string and rearrange the results, all in a single statement:</p>\n\n<pre><code>my $date_str = '15/5/2015';\nmy @directly_assigned_date_array[2,1,0] = split ('/', $date_str);\n</code></pre>\n\n<p>This resulted in:</p>\n\n<pre><code>syntax error at Array_slice_test.pl line 16, near \"@directly_assigned_date_array[\"\n</code></pre>\n\n<p>Why is that an error?</p>\n\n<p>The following works well though:</p>\n\n<pre><code>my @date_array;\n@date_array[2,1,0] = split ('/', $date_str);\n</code></pre>\n\n<p>@vol7ron offered a different way to do it:</p>\n\n<pre><code>my @rvalue_array = (split '/', $date_str)[2,1,0];\n</code></pre>\n\n<p>And it indeed does the job, but it looks unintuitive, to me at least.</p>\n"}, {"tags": ["mysql", "perl", "csv"], "comments": [{"owner": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1431767886, "post_id": 30273820, "comment_id": 48646790, "body": "Please help yourself first. Put your question title in Google and read all the relevant stuff you&#39;ll find."}, {"owner": {"reputation": 29, "user_id": 4906401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac1f7246d4a79fdc846ccafee2f9b08?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4906401/pranay"}, "reply_to_user": {"reputation": 188064, "user_id": 635608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIJia.png?s=128&g=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/635608/mat"}, "edited": false, "score": 0, "creation_date": 1431768228, "post_id": 30273820, "comment_id": 48646880, "body": "yes but, I want the more information about the perl script when export into csv."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432046800, "post_id": 30273820, "comment_id": 48752555, "body": "Your question contains insufficient information to answer it. Please look at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for how to make a good question."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4906401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac1f7246d4a79fdc846ccafee2f9b08?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4906401/pranay"}, "edited": false, "score": 0, "creation_date": 1431796271, "post_id": 30277353, "comment_id": 48655457, "body": "Hie Thanx but In the above query it will export only rows not the column name how can I achived it?"}, {"owner": {"reputation": 29, "user_id": 4906401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac1f7246d4a79fdc846ccafee2f9b08?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4906401/pranay"}, "edited": false, "score": 0, "creation_date": 1431796318, "post_id": 30277353, "comment_id": 48655470, "body": "See I have comment pls help"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "reply_to_user": {"reputation": 29, "user_id": 4906401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac1f7246d4a79fdc846ccafee2f9b08?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4906401/pranay"}, "edited": false, "score": 0, "creation_date": 1431803457, "post_id": 30277353, "comment_id": 48657608, "body": "@Pranay See my edited answer which shows how to add the header"}], "tags": [], "owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "is_accepted": false, "score": 1, "last_activity_date": 1431803332, "last_edit_date": 1431803332, "creation_date": 1431789449, "answer_id": 30277353, "question_id": 30273820, "link": "https://stackoverflow.com/questions/30273820/how-to-export-the-mysql-result-into-csv-file-using-perl-script/30277353#30277353", "title": "How to export the mysql result into csv file using perl script", "body": "<p>Unless you need to process the result set prior to outputting it to a csv file, then it would be more efficient to export it directly by adjusting the sql statement.</p>\n\n<pre><code>SELECT a,b,a+b INTO OUTFILE '/tmp/result.txt'\n  FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"'\n  LINES TERMINATED BY '\\n'\n  FROM test_table;\n</code></pre>\n\n<p><a href=\"https://dev.mysql.com/doc/refman/5.6/en/select-into.html\" rel=\"nofollow\">13.2.9.1 SELECT ... INTO Syntax</a></p>\n\n<p><strong>EDIT</strong>\nTo be able to get the header line, you need to add a second select statement which specifies the fields and union that with the other select statement.</p>\n\n<p>Example:</p>\n\n<pre><code>mysql&gt; select 'OTOBJID','OTTRANSID'\nunion\nselect * into outfile 'd:/test.csv'\nfields terminated by ','\noptionally enclosed by '\"'\nfrom objecttransports;\n</code></pre>\n\n<blockquote>\n<pre><code>D:\\&gt;type test.csv\n\"OTOBJID\",\"OTTRANSID\"\n\"0\",\"0\"\n\"0\",\"1\"\n\"0\",\"2\"\n\"0\",\"3\"\n\"0\",\"4\"\n\"0\",\"5\"\n\"1\",\"0\"\n\"1\",\"1\"\n\"1\",\"2\"\n\"1\",\"4\"\n\"1\",\"5\"\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 29, "user_id": 4906401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac1f7246d4a79fdc846ccafee2f9b08?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4906401/pranay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1313, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1431803332, "creation_date": 1431767268, "question_id": 30273820, "link": "https://stackoverflow.com/questions/30273820/how-to-export-the-mysql-result-into-csv-file-using-perl-script", "title": "How to export the mysql result into csv file using perl script", "body": "<p>The beloved my perl script code,</p>\n\n<pre><code>#!/usr/bin/perl -w\n..\n.// db connection\n..\n$sth=$dbh-&gt;prepare(\" SELECT * FROM Table_nm \") or warn $dbh-&gt;errstr;\n$sth-&gt;execute or die \"can't execute the query: $sth1-&gt;errstr\";\n\n// I want to export the result of mysql query into csv file.\n</code></pre>\n\n<p>Please help. Thanx!</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1432046950, "post_id": 30273397, "comment_id": 48752686, "body": "Hello. Stack Overflow isn&#39;t a code writing service - such things exist, but they usually cost money. It&#39;s a site for programmers to help other programmers with their problems. You don&#39;t have to be a <i>good</i> programmer to participate - we all started somewhere - but you do have to make a good faith effort to solve your own problem, and expand a bit on where you&#39;re having difficulty. Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for more detail."}], "answers": [{"comments": [{"owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "edited": false, "score": 0, "creation_date": 1431782643, "post_id": 30273638, "comment_id": 48651117, "body": "did you try the code yourself? It&#39;s not working when there are two groups with &quot;-&quot; below each other."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 5, "last_activity_date": 1431789938, "last_edit_date": 1431789938, "creation_date": 1431766068, "answer_id": 30273638, "question_id": 30273397, "link": "https://stackoverflow.com/questions/30273397/perl-reverse-values-in-a-column/30273638#30273638", "title": "perl: reverse values in a column", "body": "<p>Keep the lines of a <code>-</code> group in a buffer, output it when the group changes.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nsub output {\n    my $buffer = shift;\n    my @rev = map $_-&gt;[2], @$buffer;\n    $_-&gt;[2] = pop @rev for @$buffer;  # Reverse the 3rd column.\n    print join(\"\\t\", @$_) for @$buffer;\n    @$buffer = ();\n}\n\nmy @buffer;\nmy $group;\nprint scalar &lt;&gt;; # header\nwhile (&lt;&gt;) {\n    my @cols = split /\\t/;\n\n    if (@buffer and $cols[0] ne $group) {\n        output(\\@buffer);\n    }\n\n    if ('+' eq $cols[1]) {\n        print;\n    } else {\n        $group = $cols[0];\n        push @buffer, \\@cols;\n    }\n}\noutput(\\@buffer) if @buffer;  # Don't forget to output the last buffer.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1431785092, "post_id": 30276470, "comment_id": 48651824, "body": "Please note my update, which makes the algorithm a little clearer"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1431785054, "last_edit_date": 1431785054, "creation_date": 1431784099, "answer_id": 30276470, "question_id": 30273397, "link": "https://stackoverflow.com/questions/30273397/perl-reverse-values-in-a-column/30276470#30276470", "title": "perl: reverse values in a column", "body": "<p>Here's an alternative solution that makes use of the advantage of random access if you read the data into memory</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @data = map { chomp; [ split /\\t/ ]; } &lt;DATA&gt;;\n\nmy %ranges;\nfor ( grep $_-&gt;[1] eq '-',  @data ) {\n  push @{ $ranges{$_-&gt;[0]} }, $_;\n}\n\nfor my $range ( values %ranges ) {\n  for ( my $i = 0; $i*2 &lt; $#$range; ++$i ) {\n    my ($from, $to) = @{$range}[$i, $#$range-$i];\n    ( $from-&gt;[2], $to-&gt;[2] ) = ( $to-&gt;[2], $from-&gt;[2] );\n  }\n}\n\nprint join(\"\\t\", @$_), \"\\n\" for @data;\n\n__DATA__\ncol1    col2    col3    col4\nA   +   1   10\nA   +   2   20\nA   +   3   35\nB   -   2   5\nB   -   3   21\nB   -   4   23\nB   -   5   36\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>col1    col2    col3    col4\nA   +   1   10\nA   +   2   20\nA   +   3   35\nB   -   5   5\nB   -   4   21\nB   -   3   23\nB   -   2   36\n</code></pre>\n"}], "owner": {"reputation": 1773, "user_id": 1987607, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e317b170bca0054580ef85f7a6469de6?s=128&d=identicon&r=PG&f=1", "display_name": "user1987607", "link": "https://stackoverflow.com/users/1987607/user1987607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 30276470, "answer_count": 2, "score": -1, "last_activity_date": 1431789938, "creation_date": 1431764363, "last_edit_date": 1431784099, "question_id": 30273397, "link": "https://stackoverflow.com/questions/30273397/perl-reverse-values-in-a-column", "title": "perl: reverse values in a column", "body": "<p>I have a tab-seperated table (table1) with 4 columns, looking like this</p>\n\n<pre><code>A       +       1      1\nA       +       2      2\nA       +       3      3\nB       -       2      4\nB       -       3      5\nB       -       4      6\nB       -       5      7\nC       +       1      8\nC       +       2      9\nC       +       3      10\nD       -       1      11\nD       -       2      12\nD       -       3      13\n</code></pre>\n\n<p>The letters in col1 define groups. Now, if there is a \"+\" in col2, I just want to keep the line as it is. If there i a \"-\" in col2, I want to reverse the values in col3, for all lines belonging to the group defined by col1. For this example the output should look like this</p>\n\n<pre><code>A       +       1       1\nA       +       2       2\nA       +       3       3\nB       -       5       4\nB       -       4       5\nB       -       3       6\nB       -       2       7\nC       +       1       8\nC       +       2       9\nC       +       3       10\nD       -       3       11\nD       -       2       12\nD       -       1       13\n</code></pre>\n\n<p>So for group A, everything stays the same. But for group B the original values in col3 are: 2, 3, 4, 5. They should become 5, 4, 3, 2. The rest of the columns stays the same.</p>\n\n<p>How should I work this out in Perl?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 64716, "user_id": 157957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBRE7.jpg?s=128&g=1", "display_name": "IMSoP", "link": "https://stackoverflow.com/users/157957/imsop"}, "edited": false, "score": 9, "creation_date": 1431763332, "post_id": 30272988, "comment_id": 48645536, "body": "Hi, welcome to Stack Overflow. Your question is a little hard to understand, because you are describing code we can&#39;t see. Please edit the question to add <a href=\"http://stackoverflow.com/help/mcve\">a simple but verifiable example of code</a>, along with the current and desired result."}, {"owner": {"reputation": 2954, "user_id": 2905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0eb53c993d09b1135375938f9727c28?s=128&d=identicon&r=PG", "display_name": "asjo", "link": "https://stackoverflow.com/users/2905/asjo"}, "edited": false, "score": 0, "creation_date": 1431795024, "post_id": 30272988, "comment_id": 48655008, "body": "Try removing all your &quot;my&quot;s before the variable name, except the first one (the one at the outermost top level), if you are looking to have a single global variable."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1431796939, "creation_date": 1431796939, "answer_id": 30278633, "question_id": 30272988, "link": "https://stackoverflow.com/questions/30272988/variable-declaration-in-perl/30278633#30278633", "title": "Variable declaration in perl", "body": "<p>If you want people to help you with your problems, it's polite to make it as simple as possible for them to help you. As a minimum, you should do the following:</p>\n\n<ol>\n<li>Provide a short, self-contained, runnable program that demonstrates your problem.</li>\n<li>Clean up the indentation in your code to make it easy to follow.</li>\n<li>Add <code>use strict</code> and <code>use warnings</code> to your code and clean up the problems they point out.</li>\n</ol>\n\n<p>In this case, I suspect you'll see warnings about variables that mask variables of the same name. You define three copies of your <code>$Next_5minus</code> variable. Each of them will be initialised as <code>undef</code> as it is created and will disappear as it goes out of scope.</p>\n\n<p>Try removing the extraneous <code>my</code> statements from your code and see if that fixes your problem.</p>\n"}], "owner": {"reputation": 3, "user_id": 4906241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8490f740dd475f42a5a845f0a56fbbdd?s=128&d=identicon&r=PG&f=1", "display_name": "killer54", "link": "https://stackoverflow.com/users/4906241/killer54"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "closed_date": 1432242546, "answer_count": 1, "score": -3, "last_activity_date": 1431796939, "creation_date": 1431761297, "last_edit_date": 1592644375, "question_id": 30272988, "link": "https://stackoverflow.com/questions/30272988/variable-declaration-in-perl", "closed_reason": "Needs details or clarity", "title": "Variable declaration in perl", "body": "<p>i have assigned a global variable at start of my script which is empty string and i assigned a value to that inside subroutine . When the script enters the  subroutine second time that variable is null and assigned new value .</p>\n<p>I need to have the variable name constant for some subroutine calls and then change the value in the subroutine when my condition match</p>\n<h1>first time it call the subroutine this variable will be empty enter the loop and in the loop i will assign the variable.. next time when it  enter the sub routine i want to use that variable value until the condition is met .</h1>\n<p>Here is the sample code</p>\n<pre><code> #!/usr/bin/perl \nmy $Next_5minus = '';\n\nsub write_alog {\nif (my $Next_5minus eq '') \n{\n ........\n .........\n }\n elsif ( $start_mtime &lt; $end_mtime )\n {\n say $fh join(&quot;\\n&quot;, @$alog);\n }\n elsif ( $start_mtime &gt; $end_mtime )\n {\n      \n my $Next_5minus = &lt;will assign value&gt;\n ..........\n }\n }\n</code></pre>\n"}, {"tags": ["php", "perl", "shell", "debian", "exec"], "answers": [{"tags": [], "owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "is_accepted": true, "score": 0, "last_activity_date": 1431764870, "creation_date": 1431764870, "answer_id": 30273468, "question_id": 30272621, "link": "https://stackoverflow.com/questions/30272621/how-to-debug-shell-process-execution-by-php-script/30273468#30273468", "title": "How to debug shell process execution by php script?", "body": "<p>To debug, I changed the exec command to <code>$command =  $cmd . ' &gt; debug.log 2&gt;&amp;1';</code></p>\n\n<p>Now, the log output showed that a perl module required for starting the script was not found. I missed this, because in my shell I was running as root user while testing. The www-data user did not have access to these modules.</p>\n\n<p>To fix this, I had to create shell and sudo rights for www-data. I then logged in as www-data, used cpan minus to install the required modules, and then logged out. Now the script started running properly.   </p>\n"}], "owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "accepted_answer_id": 30273468, "answer_count": 1, "score": 0, "last_activity_date": 1431764870, "creation_date": 1431758252, "last_edit_date": 1431760648, "question_id": 30272621, "link": "https://stackoverflow.com/questions/30272621/how-to-debug-shell-process-execution-by-php-script", "title": "How to debug shell process execution by php script?", "body": "<p>I have a php script which is supposed to execute a perl script on the machine and print the process ID. While executing it, I found that the process id was printed out, but on checking the process list, I couldnt find a running process for the perl script. </p>\n\n<p>I logged the command to a file, and found that the command is correct, and executing it from shell correctly executes the script. Both scripts are owned by www-data.</p>\n\n<pre><code>if (isset($_GET['path'])) {\n   $spath=$_GET['path'];\n   $cmd=\"/usr/bin/perl \".getcwd().'/rotten2torrent.pl \"'.$spath.'\"';\n   $outputfile=\"tmpfile\";\n   $pidfile=\"pid\";\n   if (isset($_GET['recursion'])) {\n      $recursion=1;\n      $cmd=getcwd().'/htmlrscrape.pl '.$spath;\n   } else {\n      $recursion=0;\n   }  \n   $command =  $cmd . ' &gt; /dev/null 2&gt;&amp;1 &amp; echo $!; ';\n    $pid = exec($command, $output, $return);\n   fwrite($logfile, \"\\n\". \"Command: \".$cmd);\n   print 'Download started with PID '.$pid;\n   fwrite($logfile, \"\\n\". \"Download started with PID \".$pid);\n   fwrite($logfile, \"\\n\". \"Output lines: \".$pid);\n    fwrite($logfile, \"\\n\". \"Return code: \".$return);\n   foreach ($output as &amp;$value) {\n    fwrite($logfile, \"\\n\". $value); \n   }\n} \n</code></pre>\n\n<p>Log file output:</p>\n\n<pre><code>#cat dldebug.log\nhttp://www.rottentomatoes.com/top/bestofrt/top_100_horror_movies/?category=10 test\nCommand: /usr/bin/perl /var/www/rotten2torrent.pl \"http://www.rottentomatoes.com/top/bestofrt/top_100_horror_movies/?category=10\"\nDownload started with PID 13147\nOutput lines: 13147\nReturn code: 0\n13147\nDone\n</code></pre>\n\n<p>I also reviewed apache2 access and error logs, but it doesnt show errors:</p>\n\n<pre><code>tac /var/log/apache2/access.log | less\n\nip1 - - [16/May/2015:12:18:13 +0530] \"HEAD / HTTP/1.1\" 200 285 \"-\" \"Cloud mapping experiment. Contact research@pdrlabs.net\"\nip2 - - [16/May/2015:11:54:41 +0530] \"GET /dlnow.php?path=http%3A%2F%2Fwww.rottentomatoes.com%2Ftop%2Fbestofrt%2Ftop_100_horror_movies%2F%3Fcategory%3D10&amp;action=test HTTP/1.1\" 200 321 \"http://199.204.187.162/dlbox.php\" \"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.152 Safari/537.36\"\n</code></pre>\n\n<p>How can I debug this?\nI'm assuming that the shell process execution starts but is then killed by the system. How can I monitor what error is being shown? </p>\n\n<p>exec is not a disabled function in php.ini on my server. I have tested a 'ls -l' on the server with php exec and it is executed.</p>\n\n<p>I tried monitoring process execution with htop, but couldnt find the process starting.</p>\n"}, {"tags": ["android", "perl", "shell", "cmd", "adb"], "answers": [{"tags": [], "owner": {"reputation": 2873, "user_id": 1267002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100000539447108/picture?type=large", "display_name": "Rachit Agrawal", "link": "https://stackoverflow.com/users/1267002/rachit-agrawal"}, "is_accepted": false, "score": 0, "last_activity_date": 1507108410, "creation_date": 1507108410, "answer_id": 46561150, "question_id": 30269950, "link": "https://stackoverflow.com/questions/30269950/adb-shell-running-multiple-commands-from-same-cmd-window/46561150#46561150", "title": "adb shell running multiple commands from same cmd window", "body": "<p>You can execute multiple commands separated by &amp;&amp; operator</p>\n\n<pre><code>adb shell \"netcfg &amp;&amp; ps &amp;&amp; getprop\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 178, "user_id": 5340217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/712ab366dbc8d718c6a9d8bb8a6bbd3f?s=128&d=identicon&r=PG", "display_name": "Brainor", "link": "https://stackoverflow.com/users/5340217/brainor"}, "is_accepted": false, "score": 0, "last_activity_date": 1547640298, "creation_date": 1547640298, "answer_id": 54216715, "question_id": 30269950, "link": "https://stackoverflow.com/questions/30269950/adb-shell-running-multiple-commands-from-same-cmd-window/54216715#54216715", "title": "adb shell running multiple commands from same cmd window", "body": "<p>I don't understand what do you mean by \"cmd3(1) needs to be executed from within the previous command cmd3\"; the work should be done in the <code>cmd3</code> function, not in the <code>adb shell</code>. Maybe you could provide a more detailed explanation.</p>\n\n<p>But, in order to execute several commands in one line, you may use <code>adb shell \"cmd1;cmd2;cmd3\"</code>. The <code>&amp;&amp;</code> command mentioned by @Rachit is not quite right, because in the case <code>adb shell \"netcfg &amp;&amp; ps &amp;&amp; getprop\"</code>, command <code>ps</code> will be executed only when <code>netcfg</code> is executed without error raised.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 7808326, "user_type": "registered", "profile_image": "https://graph.facebook.com/1282967448458754/picture?type=large", "display_name": "TheMaster Moh", "link": "https://stackoverflow.com/users/7808326/themaster-moh"}, "is_accepted": false, "score": 3, "last_activity_date": 1574277006, "creation_date": 1574277006, "answer_id": 58961694, "question_id": 30269950, "link": "https://stackoverflow.com/questions/30269950/adb-shell-running-multiple-commands-from-same-cmd-window/58961694#58961694", "title": "adb shell running multiple commands from same cmd window", "body": "<p>Use &amp; not &amp;&amp;</p>\n\n<p>&amp;&amp; run next command only if the previous were successful</p>\n\n<p>&amp; run next command after the previous finish no matter successful or not</p>\n"}], "owner": {"reputation": 21, "user_id": 4905577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd1306d17c581d20d4dae1456cb58fe?s=128&d=identicon&r=PG&f=1", "display_name": "bart mirage", "link": "https://stackoverflow.com/users/4905577/bart-mirage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10581, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1574277006, "creation_date": 1431730653, "last_edit_date": 1547663269, "question_id": 30269950, "link": "https://stackoverflow.com/questions/30269950/adb-shell-running-multiple-commands-from-same-cmd-window", "title": "adb shell running multiple commands from same cmd window", "body": "<p>I am trying to create a <code>Perl</code> script to run set of commands through <code>adb shell</code>.</p>\n\n<pre><code>cmd1 \ncmd2 \ncmd3 \ncmd3(1)\n</code></pre>\n\n<p>I put all the commands in a text file and ran it like this: <code>adb shell &lt; adb_commands.txt</code>.(<a href=\"https://stackoverflow.com/a/25045657/4905577\">reference</a>)</p>\n\n<p>However, I have this one issue where the last command cmd3(1) needs to be executed from within the previous command cmd3.<br>\nSo cmd3 will be executed and will wait for cmd3(1) to be entered. This is not happening coz as far as i can tell, <code>adb shell</code> is waiting for cmd3 to finish so it can run cmd3(1). </p>\n\n<p>Can someone please advise on how to solve this issue or if there are any alternate ways to do this?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["windows", "perl", "registry"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1431749136, "post_id": 30269931, "comment_id": 48642886, "body": "Should be <code>LMachine</code>, not <code>HKEY_LOCAL_MACHINE</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1431749165, "post_id": 30269931, "comment_id": 48642902, "body": "Should have a trailing <code>&#47;</code> when getting a subkey (as opposed to a value)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1431749290, "post_id": 30269931, "comment_id": 48642918, "body": "Error message in <code>$^E</code> after failed registry fetch."}], "answers": [{"comments": [{"owner": {"reputation": 7851, "user_id": 1390430, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5816e6bbc741b4ae175b3f932f08d641?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1390430/ben"}, "edited": false, "score": 0, "creation_date": 1431920659, "post_id": 30294658, "comment_id": 48685769, "body": "Ugh, not THAT problem again. I bet that is my problem. Is there a way to access the 64-bit view from Perl or should I just use an external <code>reg query</code> command with a <code>&#47;reg:64</code> switch?"}, {"owner": {"reputation": 1720, "user_id": 989659, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84d2d1476d96b093bd0f180412db2460?s=128&d=identicon&r=PG", "display_name": "Srgrn", "link": "https://stackoverflow.com/users/989659/srgrn"}, "reply_to_user": {"reputation": 7851, "user_id": 1390430, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5816e6bbc741b4ae175b3f932f08d641?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1390430/ben"}, "edited": false, "score": 0, "creation_date": 1431924949, "post_id": 30294658, "comment_id": 48686890, "body": "i actually don&#39;t know the module enough to tell, i&#39;m sure theres a way"}, {"owner": {"reputation": 1720, "user_id": 989659, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84d2d1476d96b093bd0f180412db2460?s=128&d=identicon&r=PG", "display_name": "Srgrn", "link": "https://stackoverflow.com/users/989659/srgrn"}, "reply_to_user": {"reputation": 7851, "user_id": 1390430, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5816e6bbc741b4ae175b3f932f08d641?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1390430/ben"}, "edited": false, "score": 0, "creation_date": 1431926102, "post_id": 30294658, "comment_id": 48687274, "body": "i found the following: <a href=\"http://www.perlmonks.org/?node_id=1007098\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1007098</a>"}], "tags": [], "owner": {"reputation": 1720, "user_id": 989659, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84d2d1476d96b093bd0f180412db2460?s=128&d=identicon&r=PG", "display_name": "Srgrn", "link": "https://stackoverflow.com/users/989659/srgrn"}, "is_accepted": false, "score": 3, "last_activity_date": 1431926087, "last_edit_date": 1431926087, "creation_date": 1431919704, "answer_id": 30294658, "question_id": 30269931, "link": "https://stackoverflow.com/questions/30269931/reading-from-windows-registry-in-perl/30294658#30294658", "title": "Reading from Windows registry in Perl", "body": "<p>you are using a 64bit os and a 32bit perl\nwhich means that when running from perl you actually get the values in the WOW6432Node and not the keys you want</p>\n\n<p>you need to use a 64bit perl.</p>\n\n<p>for example from my own machine</p>\n\n<pre><code>\u03bb c:\\Strawberry\\perl\\bin\\perl\nmy $sysCmd = `reg query  \"HKLM\\\\SOFTWARE\\\\VMware, Inc.\\\\VMware Drivers\" /v vmci.status`;\nprint $sysCmd;\n^D\nERROR: The system was unable to find the specified registry key or value.\n\n\u03bb c:\\Strawberry\\perl\\bin\\perl\nmy $sysCmd = `reg query \"HKLM\\\\SOFTWARE\\\\VMware, Inc.\\\\VMware USB\" /v InstallPath`;\nprint $sysCmd;\n^D\n\nHKEY_LOCAL_MACHINE\\SOFTWARE\\VMware, Inc.\\VMware USB\n    InstallPath    REG_SZ    C:\\Program Files (x86)\\Common Files\\VMware\\USB\\\n</code></pre>\n\n<p>where \" HKEY_LOCAL_MACHINE\\SOFTWARE\\VMware, Inc.\\VMware USB\" is in the WOW6432Node and the drivers are not.</p>\n\n<p>this affects both the command running from perl and the module.</p>\n\n<p>[Edit for the sake of completeness]\napperantly there is a way to get 64bit keys from 32 bit perl as shown at the bottom of the discussion at <a href=\"http://www.perlmonks.org/?node_id=1007098\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=1007098</a></p>\n"}, {"tags": [], "owner": {"reputation": 7851, "user_id": 1390430, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5816e6bbc741b4ae175b3f932f08d641?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1390430/ben"}, "is_accepted": true, "score": 2, "last_activity_date": 1432221139, "last_edit_date": 1495542629, "creation_date": 1431966410, "answer_id": 30308389, "question_id": 30269931, "link": "https://stackoverflow.com/questions/30269931/reading-from-windows-registry-in-perl/30308389#30308389", "title": "Reading from Windows registry in Perl", "body": "<p>As mentioned in Srgrn's answer, the problem stems from my Perl being 32-bit, running on a 64-bit system. Windows automatically redirects 32-bit processes to the Wow6432Node registry node when accessing <code>HKLM\\Software</code> unless specifically told to <a href=\"https://msdn.microsoft.com/en-us/library/aa384129(VS.85).aspx\" rel=\"nofollow noreferrer\">use 64-bit or 32-bit registry views with an access mode flag</a>.</p>\n\n<p>I could <a href=\"http://www.perlmonks.org/?node_id=1007098\" rel=\"nofollow noreferrer\">specify access with the old Win32API::Registry</a>, but instead I chose to specify the access mode with <a href=\"http://search.cpan.org/~adamk/Win32-TieRegistry-0.26/lib/Win32/TieRegistry.pm#Objects_Summary\" rel=\"nofollow noreferrer\">TieRegistry's object functions</a>:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Win32::TieRegistry (Delimiter =&gt; '/');\n\nprint \"explicitly access 64-bit location:\\n\";\nmy $mykey = new Win32::TieRegistry\n  'HKEY_LOCAL_MACHINE/Software/ikv++ technologies ag/medini unite (x64)',\n  { Access=&gt;Win32::TieRegistry::KEY_READ()|0x0100, Delimiter=&gt;'/' };\nmy $mykeyval = $mykey-&gt;GetValue('Path');\n\nprint \" value=$mykeyval\\n\";\n\nprint \" Values are: \";\nprint join(', ', $mykey-&gt;ValueNames);\nprint \"\\n\";\n\nprint \"explicitly access 32-bit location:\\n\";\n$mykey = new Win32::TieRegistry\n  'HKEY_LOCAL_MACHINE/Software/ikv++ technologies ag/medini unite',\n  { Access=&gt;Win32::TieRegistry::KEY_READ()|0x0200, Delimiter=&gt;'/' };\n$mykeyval = $mykey-&gt;GetValue('Path');\n\nprint \" value=$mykeyval\\n\";\n\nprint \" Values are: \";\nprint join(', ', $mykey-&gt;ValueNames);\nprint \"\\n\";\n</code></pre>\n\n<p>This gives results as expected for both the 32-bit and 64-bit keys, and additionally should work the same way in both 32-bit and 64-bit Perl (in theory anyway).</p>\n\n<p>Note: I needed to specify the full namespace for the KEY_READ() function in my version of Perl to prevent compile errors, and I'm not certain whether there are named values for the 0x0100 and 0x0200 constants, so this may be rougher than needed on some systems, but it seems to work great for me!</p>\n\n<hr>\n\n<p><em>Note: this also allows you to <a href=\"https://stackoverflow.com/a/30355498/1390430\">read the right version of a key with the same name in either 32-bit and 64-bit</a>, so this answer is duplicated there.</em></p>\n"}], "owner": {"reputation": 7851, "user_id": 1390430, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5816e6bbc741b4ae175b3f932f08d641?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/1390430/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4550, "favorite_count": 1, "closed_date": 1432395703, "accepted_answer_id": 30308389, "answer_count": 2, "score": 2, "last_activity_date": 1432221215, "creation_date": 1431730577, "last_edit_date": 1495542268, "question_id": 30269931, "link": "https://stackoverflow.com/questions/30269931/reading-from-windows-registry-in-perl", "closed_reason": "Duplicate", "title": "Reading from Windows registry in Perl", "body": "<p>I'm trying to get the installation location of a program without checking a series of hard-coded paths, hoping to get it from the path stored in the Windows registry, but I get empty return values or error messages when I try to read the required key values.</p>\n\n<p>I've read about <a href=\"https://stackoverflow.com/q/19023504/1390430\">Parsing windows registry using Perl</a>, and I think I've incorporated all of the answers in my script, but I always get an empty result when I try reading a registry value, even when running from an elevated command-prompt to make sure the script has admin rights.</p>\n\n<p>I first tried using Win32::TieRegistry, and as mentioned the returned value is empty, so then I tried just shelling out and using <code>reg query</code>, but that gives an error about the key not being found. Running the same <code>reg query</code> command outside of Perl successfully reads the key. What am I doing wrong?</p>\n\n<hr>\n\n<p><em>Update:</em> The root cause (pointed out in the couple answers I received) was trying to <a href=\"https://stackoverflow.com/questions/2110782/how-do-i-make-the-32-bit-perl-read-the-64-bit-windows-registry?rq=1\">access a 64-bit registry view from a 32-bit Perl</a>; by default, any 32-bit application in Windows is redirected to <code>HKLM\\Software\\WOW6432Node</code> when trying to access <code>HKLM\\Software</code> keys, so I needed to find a way to avoid that since my key of interest does not exist in that location.</p>\n\n<hr>\n\n<p><strong>Perl script:</strong></p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Data::Dumper;\nuse Win32::TieRegistry (Delimiter =&gt; '/');\n\nmy $mykey = $Registry-&gt;{'HKEY_LOCAL_MACHINE/Software/ikv++ technologies ag/medini unite (x64)'};\nmy $mykeyval = $mykey-&gt;{'/Path'};\n\nprint \" value=$mykeyval\\n\";\n\nprint Dumper $mykey;\n\nmy $sysCmd =`reg query \"HKLM\\\\Software\\\\ikv++ technologies ag\\\\medini unite (x64)\" /v Path`;\nprint \" sysCmd=$sysCmd\\n\";\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>C:\\Users\\username\\AppData\\Local\\Temp&gt;perl test_reg_read.pl\nUse of uninitialized value in concatenation (.) or string at test_reg_read.pl line 9.\n value=\n$VAR1 = {};\nERROR: The system was unable to find the specified registry key or value.\n sysCmd=\n</code></pre>\n\n<p><strong>Manual <code>reg query</code> command outside of Perl:</strong></p>\n\n<pre><code>C:\\Users\\username\\AppData\\Local\\Temp&gt;reg query \"HKLM\\Software\\ikv++ technologies ag\\medini unite (x64)\" /v Path\n\nHKEY_LOCAL_MACHINE\\Software\\ikv++ technologies ag\\medini unite (x64)\n    Path    REG_SZ    C:\\Program Files\\ikv++ technologies ag\\mediniUnite\n</code></pre>\n\n<p>Note, all this is running from an elevated command prompt for now; once it works there I was going to experiment with whether it is necessary.</p>\n"}, {"tags": ["mysql", "perl", "commit"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1431730784, "post_id": 30269802, "comment_id": 48639543, "body": "1) Always <code>use strict; use warnings;</code> 2) Not the cause of your issue, but it would be cleaner to set <code>AutoCommit</code> in the <code>connect</code> statement: <code>my $dbh = DBI-&gt;connect($dsn, $user, $pass, { AutoCommit =&gt; 0 });</code> You certainly don&#39;t need to disable <code>AutoCommit</code> <i>after</i> calling <code>begin_work()</code>, which <a href=\"https://metacpan.org/pod/DBI#begin_work\" rel=\"nofollow noreferrer\">turns it off anyway</a>. 3) The MyISAM storage engine doesn&#39;t support transactions, so if you&#39;re using it, changing <code>AutoCommit</code> will have no effect. MyISAM was the default before MySQL 5.5.5."}, {"owner": {"reputation": 1237, "user_id": 2499094, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8e28e2306c3fde875faf11435c75c6c?s=128&d=identicon&r=PG", "display_name": "Tan Rezaei", "link": "https://stackoverflow.com/users/2499094/tan-rezaei"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431732943, "post_id": 30269802, "comment_id": 48640043, "body": "You&#39;re definitely correct. I&#39;m using MyISAM. What should I set it to?"}, {"owner": {"reputation": 2493, "user_id": 4866989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ea9d94abae12663ba3ad2564619081?s=128&d=identicon&r=PG&f=1", "display_name": "Tim3880", "link": "https://stackoverflow.com/users/4866989/tim3880"}, "edited": false, "score": 0, "creation_date": 1431733612, "post_id": 30269802, "comment_id": 48640191, "body": "If you want to improve throughput, you may want to try load data."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 2493, "user_id": 4866989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ea9d94abae12663ba3ad2564619081?s=128&d=identicon&r=PG&f=1", "display_name": "Tim3880", "link": "https://stackoverflow.com/users/4866989/tim3880"}, "edited": false, "score": 0, "creation_date": 1431733782, "post_id": 30269802, "comment_id": 48640219, "body": "Use InnoDB. And as @Tim3880 said, if all you&#39;re doing is loading a CSV file, <a href=\"https://dev.mysql.com/doc/refman/5.5/en/load-data.html\" rel=\"nofollow noreferrer\"><code>LOAD DATA INFILE</code></a> would be much faster."}, {"owner": {"reputation": 1237, "user_id": 2499094, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8e28e2306c3fde875faf11435c75c6c?s=128&d=identicon&r=PG", "display_name": "Tan Rezaei", "link": "https://stackoverflow.com/users/2499094/tan-rezaei"}, "edited": false, "score": 0, "creation_date": 1431736312, "post_id": 30269802, "comment_id": 48640755, "body": "Thanks guys. I&#39;m not too familiar with Stored procs. How would I call a stored proc from my Perl script? (or that could just be my next search ;) )"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431738822, "post_id": 30269802, "comment_id": 48641169, "body": "<code>LOAD DATA INFILE</code> isn&#39;t a stored procedure, just a regular statement like <code>SELECT</code>. You can call it from your Perl script like this: <code>$dbh-&gt;do(&#39;LOAD DATA INFILE ...&#39;);</code>"}, {"owner": {"reputation": 1237, "user_id": 2499094, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8e28e2306c3fde875faf11435c75c6c?s=128&d=identicon&r=PG", "display_name": "Tan Rezaei", "link": "https://stackoverflow.com/users/2499094/tan-rezaei"}, "edited": false, "score": 1, "creation_date": 1431820083, "post_id": 30269802, "comment_id": 48661864, "body": "This was brilliant. The difference is load time was huge! Thank you! 20k rows took maybe less than 5 seconds to load as opposed to 11 minutes. FYI, after switching to InnoDB, I tired the intermittent commits (every 500 records), the load times were exactly the same as 1 rec at a time, I was expecting a big difference but I didn&#39;t see any. Thanks for all the help, I think he &quot;LOAD DATA LOCAL FILE&quot; statement is going to be part of my regular toolset going forward."}], "owner": {"reputation": 1237, "user_id": 2499094, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8e28e2306c3fde875faf11435c75c6c?s=128&d=identicon&r=PG", "display_name": "Tan Rezaei", "link": "https://stackoverflow.com/users/2499094/tan-rezaei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1431730809, "creation_date": 1431729703, "last_edit_date": 1431730809, "question_id": 30269802, "link": "https://stackoverflow.com/questions/30269802/perl-dbg-begin-work-is-not-preventing-commits", "title": "Perl DBG begin_work() is not preventing commits", "body": "<p>I'm getting really confused with how the autocommit functionality is supposed to work with dbh. The following code inserts data into the table just fine but it's still doing it 1 row at a time. What I was expecting was that when using the <code>begin_work()</code>, it would wait until the loop was complete and then commit when it gets to <code>$dbh-&gt;commit()</code>. </p>\n\n<p>Any clues?</p>\n\n<pre><code>#!/usr/bin/perl\nuse DBI;\n\nopen(FILE, \"&lt;attr.csv\");\n\n$dbh = DBI-&gt;connect('dbi:mysql:mydb;host=myserver:3306',\n       'myuser', 'mypass', { RaiseError =&gt; 1 })\nor die \"Connection Error: $DBI::errstr\\n\";\n\n$sqlinsert='INSERT INTO ATTR (ID, IDSECCLASS, AttrName, Attrref, Objname, AttrType,\n            FQname) VALUES (?,?,?,?,?,?,?)';\n\n$upd = $dbh-&gt;prepare($sqlinsert);\n$dbh-&gt;begin_work()  or die $dbh-&gt;errstr;\nwhile ($line = &lt;FILE&gt;) {\n    @row = split(/,/, $line);\n    $upd-&gt;execute(@row) or die \"SQL Error: $DBI::errstr\\n\";\n}\n\n$dbh-&gt;commit();\n\nclose(FILE);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431727999, "post_id": 30269505, "comment_id": 48638773, "body": "<a href=\"https://metacpan.org/pod/Text::Table::Tiny\" rel=\"nofollow noreferrer\">Text::Table::Tiny</a>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1431728468, "post_id": 30269505, "comment_id": 48638905, "body": "Post code others can copy &amp; paste and run with no extra effort."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1431730287, "post_id": 30269587, "comment_id": 48639420, "body": "Thank you very much for the code. I will definitely try this one out. Could I also use a splitting function on this. This looks very simple to understand as a beginner in Perl.Thank you for that."}, {"owner": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1431732952, "post_id": 30269587, "comment_id": 48640046, "body": "I have another question regarding this can we also do this without a library or a CPAN module."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1431734567, "post_id": 30269587, "comment_id": 48640405, "body": "You can read the source code of the module to learn how to do it."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1431728404, "creation_date": 1431728404, "answer_id": 30269587, "question_id": 30269505, "link": "https://stackoverflow.com/questions/30269505/how-to-align-table-headers-to-rows-in-perl/30269587#30269587", "title": "How to align table headers to rows in Perl", "body": "<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Text::Table::Tiny;\n\nmy @pName = (\n    {\n        \"Type\" =&gt; \"xxxxxComponent\",\n        \"Name\" =&gt; \"xyz_abc_1234LDO_c7rp1avrusevrmdtop\",\n        \"Rev_Id\" =&gt; \"PROD_2_5\",\n        \"ZZZ_ID\" =&gt; '99ccccc1',\n        \"IP_Group\" =&gt; \"ABC RIP xxxxx\",\n        \"Date_Released\" =&gt; \"2015-05-03 6:59:09\",\n        \"AA_Category\" =&gt; \"Hard\",\n        \"Project_IDs\" =&gt; \" \",\n    },\n    {\n        \"Type\" =&gt; \"xxxxxComponent\",\n        \"Name\" =&gt; \"xyz_abc_1234LDO_c7rp1avrusevrmdtop\",\n        \"Rev_Id\" =&gt; \"PROD_2_5\",\n        \"ZZZ_ID\" =&gt; '99ccccc1',\n        \"IP_Group\" =&gt; \"ABC RIP xxxxx\",\n        \"Date_Released\" =&gt; \"2015-05-03 6:59:09\",\n        \"AA_Category\" =&gt; \"Hard\",\n        \"Project_IDs\" =&gt; \" \",\n    },\n);\n\nmy @header = qw(\n    Type\n    Name\n    Rev_Id\n    IRR_ID\n    IP_Group\n    Date_Released\n    IP_Category\n    Project_IDs\n);\n\nprint Text::Table::Tiny::table(\n    rows =&gt; [\n        \\@header,\n        map [ @{$_}{@header} ], @pName\n    ],\n    header_row =&gt; 1,\n);\n</code></pre>\n\n<p>Output:</p>\n\n<pre>+----------------+------------------------------------+----------+--------+---------------+--------------------+-------------+-------------+\n| Type           | Name                               | Rev_Id   | IRR_ID | IP_Group      | Date_Released      | IP_Category | Project_IDs |\n+----------------+------------------------------------+----------+--------+---------------+--------------------+-------------+-------------+\n| xxxxxComponent | xyz_abc_1234LDO_c7rp1avrusevrmdtop | PROD_2_5 |        | ABC RIP xxxxx | 2015-05-03 6:59:09 |             |             |\n| xxxxxComponent | xyz_abc_1234LDO_c7rp1avrusevrmdtop | PROD_2_5 |        | ABC RIP xxxxx | 2015-05-03 6:59:09 |             |             |\n+----------------+------------------------------------+----------+--------+---------------+--------------------+-------------+-------------+%</pre>\n"}], "owner": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 30269587, "answer_count": 1, "score": -2, "last_activity_date": 1431728404, "creation_date": 1431727890, "question_id": 30269505, "link": "https://stackoverflow.com/questions/30269505/how-to-align-table-headers-to-rows-in-perl", "title": "How to align table headers to rows in Perl", "body": "<p>This is the code I used to creating a hash (keys and values) to print the given below output. However, the table headers do not align with each of the column. Can you help me fix  that. What I could use to help me run this code to produce the required output.\n        #!/usr/bin/perl\n         use strict;\n         use warnings;</p>\n\n<pre><code>     my @pName =\n     ( { \"Type\" =&gt; \"xxxxxComponent\",\n         \"Name\" =&gt; \"xyz_abc_1234LDO_c7rp1avrusevrmdtop\",\n         \"Rev_Id\" =&gt; \"PROD_2_5\",\n         \"ZZZ_ID\" =&gt; 99ccccc1,\n         \"IP_Group\" =&gt; \"ABC RIP xxxxx\",\n         \"Date_Released\" =&gt; \"2015-05-03 6:59:09\",\n         \"AA_Category\" =&gt; \"Hard\",\n         \"Project_IDs\" =&gt; \" \"},\n\n\n        { \"Type\" =&gt; \"xxxxxComponent\",\n          \"Name\" =&gt; \"xyz_abc_1234LDO_c7rp1avrusevrmdtop\",\n          \"Rev_Id\" =&gt; \"PROD_2_5\",\n          \"ZZZ_ID\" =&gt; 99ccccc1,\n          \"IP_Group\" =&gt; \"ABC RIP xxxxx\",\n          \"Date_Released\" =&gt; \"2015-05-03 6:59:09\",\n          \"AA_Category\" =&gt; \"Hard\",\n          \"Project_IDs\" =&gt; \" \"},\n      );\n\n\n         printf \"%-8s %-15s %-2s %-8s %-8s %-2s %-8s %-8s\\n\",\n         \"Type\",\n         \"Name\",\n         \"Rev_Id\",\n         \"IRR_ID\",\n         \"IP_Group\",\n         \"Date_Released\",\n         \"IP_Category\",\n         \"Project_IDs\";\n\n  for my $pName (@pName) {\n  printf \"%-8s %-15s %-2s %-8s %-8s %-2s %-8s %-8s\\n\",\n  $pName-&gt;{Type},\n  $pName-&gt;{Name},\n  $pName-&gt;{Rev_Id},\n  $pName-&gt;{ZZZ_ID},\n  $pName-&gt;{IP_Group},\n  $pName-&gt;{Date_Released},\n  $pName-&gt;{AA_Category},\n  $pName-&gt;{Project_IDs};\n\n}\n\nI used this code and printed to console the output but it does not look aligned. I am guessing it is because of this piece of code \"%-8s %-15s %-2s %-8s %-8s %-2s %-8s %-8s\\n\" to align the table. Can you please help to choose the number for the output table. I have more than 8 lines of row. I have only copied the code snippet here. \n\n Type     Name            Rev_Id IRR_ID   IP_Group Date_Released IP_Category   Project_IDs\n xxxxxComponent xyz_abc_1234LDO_c7rp1avrusevrmdtop PROD_2_5 99034201 SEG xx  Rxxse 2015-05-03 6:59:09 Hard\n xxxxxComponent xyz_abc_1234LDO_c7rp1avrusevrmdtop PROD_2_5 99034201 SEG xx       Rxxse 2015-05-03 6:59:09 Hard\n xxxxxComponent xyz_abc_1234LDO_c7rp1avrusevrmdtop PROD_2_5 99034201 SEG xx Rxxse 2015-05-03 6:59:09 Hard\n Use of uninitialized value in printf at C:\\Perl64\\bin\\IRR.pl line 90.\n Use of uninitialized value in printf at C:\\Perl64\\bin\\IRR.pl line 90.\n Use of uninitialized value in printf at C:\\Perl64\\bin\\IRR.pl line 90.\n Use of uninitialized value in printf at C:\\Perl64\\bin\\IRR.pl line 90.\n Use of uninitialized value in printf at C:\\Perl64\\bin\\IRR.pl line 90.\n Use of uninitialized value in printf at C:\\Perl64\\bin\\IRR.pl line 90.\n</code></pre>\n\n<p>This output is not aligned too. Can you give me some tips to improvise my alignment.</p>\n\n<p>Thank you very much.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431716026, "post_id": 30266625, "comment_id": 48633513, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/27576498/how-do-i-use-a-variable-as-a-regex-modifier-in-perl\">How do I use a variable as a regex modifier in perl?</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1431716184, "post_id": 30266625, "comment_id": 48633595, "body": "@ThisSuitIsBlackNot, You suggested an answer that&#39;s a duplicate itself"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1431716479, "post_id": 30266625, "comment_id": 48633747, "body": "@ikegami I picked that one because I think it (both the question and answers) matches this question better than the post it&#39;s [purportedly] a duplicate of. There&#39;s nothing wrong with chains of duplicates, as far as I know."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1431716565, "post_id": 30266625, "comment_id": 48633790, "body": "The answer ikegami  gave is much better anyway. I wanted to avoid the whole <code>eval</code> and if matching."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431716813, "post_id": 30266625, "comment_id": 48633897, "body": "@DavidW. Only the last answer in the post I linked uses <code>eval</code>, and that answer was downvoted to -2. The other three answers all show the same syntax ikegami used, although I agree that ikegami&#39;s answer is better."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1431716923, "post_id": 30266625, "comment_id": 48633958, "body": "You mean aside that it causes confusion and that it indicates that the previously flagged question isn&#39;t actually a duplicate? I suppose."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1431718528, "post_id": 30266625, "comment_id": 48634686, "body": "@ikegami I agree, the question I linked to is not actually a duplicate and should never have been closed as such. Perhaps it should be reopened and closed as a duplicate of <i>this</i> question, which has a much more thorough answer."}], "answers": [{"comments": [{"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 1, "creation_date": 1431716392, "post_id": 30266736, "comment_id": 48633709, "body": "Something new I learned. I never knew about this, but it&#39;s there in <code>perlre</code> and actually goes as far back as version 5.8.9: <i>Any of these modifiers may also be embedded within the regular expression itself using the (?...) construct</i> Thanks."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 9, "last_activity_date": 1431716388, "last_edit_date": 1431716388, "creation_date": 1431715772, "answer_id": 30266736, "question_id": 30266625, "link": "https://stackoverflow.com/questions/30266625/perl-re-matching-how-can-i-use-a-variable-for-re-flags/30266736#30266736", "title": "Perl RE Matching: How can I use a variable for RE flags?", "body": "<pre><code>$ perl -E'say for qr/foo/, qr/foo/i'\n(?^u:foo)\n(?^ui:foo)\n</code></pre>\n\n<p>This just goes to show that</p>\n\n<pre><code>/foo/i\ns/foo/bar/i\n</code></pre>\n\n<p>can also be written as</p>\n\n<pre><code>/(?i:foo)/\ns/(?i:foo)/bar/\n</code></pre>\n\n<p>so you could use</p>\n\n<pre><code>/(?$re_flags:foo)/\ns/(?$re_flags:foo)/bar/\n</code></pre>\n\n<p>This will only work for flags that pertain to the regular expression (a, d, i, l, m, p, s, u, x) rather than flags that pertain to the match operator (c, g, o) or the substitution operator (c, e, g, o, r).</p>\n"}], "owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 1, "accepted_answer_id": 30266736, "answer_count": 1, "score": 4, "last_activity_date": 1431716388, "creation_date": 1431715376, "question_id": 30266625, "link": "https://stackoverflow.com/questions/30266625/perl-re-matching-how-can-i-use-a-variable-for-re-flags", "title": "Perl RE Matching: How can I use a variable for RE flags?", "body": "<p>In Perl:</p>\n\n<pre><code>my $string = \"This is a test\";\nsay \"String matches\" if $string =~ /this is a test/;          # Doesn't print\nsay \"String sort of matches\" if string =~ /this is a test/i;  # Prints\n</code></pre>\n\n<p>Adding the <code>i</code> flag onto the end of the RE match causes the match to ignore case. </p>\n\n<p>I have a program where I specify the regular expression to match in a separate data file. This works fine. However, I'd like to be able to expand that and be able to specify the regular expression flags to use when checking for a match.</p>\n\n<p>However, in Perl, those RE flags cannot be in a scalar:</p>\n\n<pre><code>my $re_flags = \"i\";\nmy $string = \"This is a test\";\nsay \"This sort of matches\" if $string =~ /this is a test/$re_flags;\n</code></pre>\n\n<p>This results in:</p>\n\n<pre><code>Scalar found where operator expected at ,,, line ,,, near \"/this is a test/$re_flags\"  \n(Missing operator before $re_flags?)\nsyntax error at ... line ..., near \"/this is a test/$re_flags\"\nExecution of ... aborted due to compilation errors.\n</code></pre>\n\n<p>Is there a way to use RE flags stored in a scalar variable when evaluating a regular expression?</p>\n\n<p>I know I can use <code>eval</code>:</p>\n\n<pre><code>eval qq(say \"This worked!\" if \\$string =~ /this is a test/$re_flags;);\n</code></pre>\n\n<p>But I'd like a better way of doing this.</p>\n"}, {"tags": ["perl", "module", "updates", "cpan", "cpanm"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 3814338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZO6Nx.jpg?s=128&g=1", "display_name": "R&#233;mi Maglione", "link": "https://stackoverflow.com/users/3814338/r%c3%a9mi-maglione"}, "edited": false, "score": 0, "creation_date": 1431717018, "post_id": 30266617, "comment_id": 48634002, "body": "it works now, thanks a lot. Some modules Failed to update because of permission access. I have one more question: how do I know where cpanm install the module, in the case where I am logged in SuperU or not?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 65, "user_id": 3814338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZO6Nx.jpg?s=128&g=1", "display_name": "R&#233;mi Maglione", "link": "https://stackoverflow.com/users/3814338/r%c3%a9mi-maglione"}, "edited": false, "score": 2, "creation_date": 1431717155, "post_id": 30266617, "comment_id": 48634065, "body": "<code>cpanm</code> doens&#39;t install any modules. It runs the distro&#39;s <code>Makefile.PL</code> or <code>Build.PL</code>. <code>Makefile.PL</code> is expected to use ExtUtils::MakeMaker to install the distro, and <code>Build.PL</code> is expected to use Module::Build. Both take options from the command line which can also be specified in environment variables (<code>PERL_MM_OPT</code> and <code>PERL_MB_OPT</code> respectively)."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1431715658, "last_edit_date": 1431715658, "creation_date": 1431715351, "answer_id": 30266617, "question_id": 30266450, "link": "https://stackoverflow.com/questions/30266450/how-to-update-perl-module-with-cpanm/30266617#30266617", "title": "How to update perl module with cpanm", "body": "<p>Your are instructing the module installers to install modules in <code>/home/hacklionex/perl5</code> (via <code>PERL_MM_OPT</code> and <code>PERL_MB_OPT</code>), but you don't tell Perl to look for modules there (it's not in <code>@INC</code>). Add the following to your login script:</p>\n\n<pre><code>export PERL5LIB=/home/hacklionex/perl5/lib/perl5\n</code></pre>\n\n<p>Or add the following to your script:</p>\n\n<pre><code>use lib '/home/hacklionex/perl5/lib/perl5';\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 3814338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZO6Nx.jpg?s=128&g=1", "display_name": "R&#233;mi Maglione", "link": "https://stackoverflow.com/users/3814338/r%c3%a9mi-maglione"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 868, "favorite_count": 2, "accepted_answer_id": 30266617, "answer_count": 1, "score": 2, "last_activity_date": 1431715658, "creation_date": 1431714635, "last_edit_date": 1431715448, "question_id": 30266450, "link": "https://stackoverflow.com/questions/30266450/how-to-update-perl-module-with-cpanm", "title": "How to update perl module with cpanm", "body": "<p>I try to install/update Perl module with cpanm. But, it failed for every modules.</p>\n\n<p>for example:</p>\n\n<pre><code>cpanm Config::General\n--&gt; Working on Config::General\nFetching http://www.cpan.org/authors/id/T/TL/TLINDEN/Config-General-2.56.tar.gz ... OK\nConfiguring Config-General-2.56 ... OK\nBuilding and testing Config-General-2.56 ... OK\nSuccessfully installed Config-General-2.56 (upgraded from 2.52)\n1 distribution installed\n</code></pre>\n\n<p>So, i expect that version of Config::General is now 2.56, but... :</p>\n\n<pre><code>perl -e 'use Config::General 2.56'\nConfig::General version 2.56 required--this is only version 2.52 at -e line 1.\n</code></pre>\n\n<p>I try the same logged in superU but same problem... \nBut now, i have Perl lib in </p>\n\n<p><code>~/perl5/lib/perl5/</code> and <code>/usr/lib/perl/5.18/</code></p>\n\n<p>How can i properly update Perl modules with <code>cpanm</code>?</p>\n\n<hr>\n\n<p>Some information about my install:</p>\n\n<pre><code>$ perl -E'\n   say \"$_=$ENV{$_}\" for qw( PERL_MM_OPT PERL_MB_OPT PERL5LIB );\n   say \"--\";\n   say for @INC;\n'\nPERL_MM_OPT=INSTALL_BASE=/home/hacklionex/perl5\nPERL_MB_OPT=--install_base \"/home/hacklionex/perl5\"\nPERL5LIB=\n--\n/etc/perl\n/usr/local/lib/perl/5.18.2\n/usr/local/share/perl/5.18.2\n/usr/lib/perl5\n/usr/share/perl5\n/usr/lib/perl/5.18\n/usr/share/perl/5.18\n/usr/local/lib/site_perl\n.\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1431714656, "post_id": 30266408, "comment_id": 48632801, "body": "Re &quot;I created an array&gt; with keys and values for one of the hash columns.&quot; You created a hash with one element. That&#39;s it. How do you expect to print data you don&#39;t actually have? Fix that first."}, {"owner": {"reputation": 98433, "user_id": 368630, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/107085826cfbb2700f535417a12c89cb?s=128&d=identicon&r=PG", "display_name": "David W.", "link": "https://stackoverflow.com/users/368630/david-w"}, "edited": false, "score": 0, "creation_date": 1431715898, "post_id": 30266408, "comment_id": 48633442, "body": "Your program defines a <i>hash</i> with a single key called <code>Component</code>. However, you now print an entire row of this <code>%Name</code> hash and not one of the keys equals <code>2.2</code>. Where did all of the data come from? Is <code>%Name</code> containing this data? How are you putting this data in <code>%Name</code>? We can&#39;t help you out without a  better understanding what your data looks like, and your program."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1431725877, "post_id": 30267261, "comment_id": 48637977, "body": "#thank you Kevin, your format was very helpful for me to understand arrays, key, value, hashes and for loop. I would like to show what my output was in the console using this code:"}, {"owner": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1431923528, "post_id": 30267261, "comment_id": 48686504, "body": "I tried executing this code with 8 column names and 20 different rows. I have some issues with the alignment. I tried adjusting the &quot;%-8s %-8s %-2s %-8s %-8s %-8s %-8s %-8s\\n&quot; is there a better way I could do it? such as use  a hash reference to read the formattd txt file and display the txt file in console in an aligned way OR use a module?"}, {"owner": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1431923631, "post_id": 30267261, "comment_id": 48686529, "body": "I am not very familiar with installing any Perl module. Is there anyway I could execute it in an online IDE to check the result?"}, {"owner": {"reputation": 86, "user_id": 351430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dnGeo.jpg?s=128&g=1", "display_name": "Kevin Hinshaw", "link": "https://stackoverflow.com/users/351430/kevin-hinshaw"}, "reply_to_user": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1431974161, "post_id": 30267261, "comment_id": 48716271, "body": "I saw your <a href=\"http://stackoverflow.com/questions/30269505/how-to-align-table-headers-to-rows-in-perl\">other post</a> asking about tables.  The suggestion to use Text::Table::Tiny was a good one.  So I assume that&#39;s the module you&#39;re trying to avoid installing?  Can you explain what &quot;issues&quot; you are having with alignment?"}, {"owner": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1431992756, "post_id": 30267261, "comment_id": 48724464, "body": "Yes I was not successful installing the Perl module. I downloaded Text::Table::Tiny from cpan and tried installing in cmd. I unpacked the tar.gz file and ran the Makefile.PL but it gives me a message saying that the lib, bin, t folders are empty inform the author. So after many unsuccessful iterations I decided to use the method above. But my first, three columns look aligned but from fourth to eighth doesn&#39;t look aligned. I figured it out it is because of these numbers %-8s %-8s %-2s. How do I decide on these numbers when writing the program for fourth to eighth column?"}, {"owner": {"reputation": 86, "user_id": 351430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dnGeo.jpg?s=128&g=1", "display_name": "Kevin Hinshaw", "link": "https://stackoverflow.com/users/351430/kevin-hinshaw"}, "reply_to_user": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1432009860, "post_id": 30267261, "comment_id": 48728621, "body": "Do you know the maximum width for each field in advance? If so, then just use that in the format string. (for example, if 1st field max with is 8, then use %-8s for the first entry in the format string.) if you don&#39;t know it in advance, then you need to compute it yourself from the data. (Like Text::Table::Tiny does.)"}, {"owner": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1432052786, "post_id": 30267261, "comment_id": 48756982, "body": "I figured it out that computing the size of each field is a laborious task. I also searched up that using a split function would be a less time consuming task. Can I plug in a split function in the code above to do that job?"}, {"owner": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1432054640, "post_id": 30267261, "comment_id": 48758125, "body": "This is the data table(read file). I read this file and trying to create an array of hashes in the &#39;while&#39; loop to read each row and split each column using a delimiter tab.  #Type \t\t#Name\t\t\t#Rev Id\t\t#ZZZ ID\t\t#IP Group        #Date Released  \t\t#AA Category\t#Project IDs xxxxxComponent\txyz_abc_1234LDO_c7rp1avrusevrmdtop\txxxx_2_5\t9&zwnj;&#8203;9ccccc1\tABC RIP xxxxx\t2015-05-03 6:59:09\txxxx\t xxxxxComponent\txyz_abc_1234LDO_c7rp1avrusevrmdtop\txxxx_2_5\t9&zwnj;&#8203;9ccccc1\tABC RIP xxxxx\t2015-05-03 6:59:09\txxxx xxxxxComponent\txyz_abc_1234LDO_c7rp1avrusevrmdtop\txxxx_2_5\t9&zwnj;&#8203;9ccccc1\tABC RIP xxxxx\t2015-05-03 6:59:09\txxxx\t  ..."}, {"owner": {"reputation": 86, "user_id": 351430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dnGeo.jpg?s=128&g=1", "display_name": "Kevin Hinshaw", "link": "https://stackoverflow.com/users/351430/kevin-hinshaw"}, "reply_to_user": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1432073151, "post_id": 30267261, "comment_id": 48768225, "body": "You can use split() to divide each data row into its fields, sure. But that has nothing to do with the layout problem when you print."}, {"owner": {"reputation": 86, "user_id": 351430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dnGeo.jpg?s=128&g=1", "display_name": "Kevin Hinshaw", "link": "https://stackoverflow.com/users/351430/kevin-hinshaw"}, "reply_to_user": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1432073330, "post_id": 30267261, "comment_id": 48768285, "body": "Example:  Is the &quot;Name&quot; column always 34 characters or fewer?  (That&#39;s what I count in your original question, but don&#39;t know if that holds for all the data.)  If so, then use &quot;%-34s&quot; as the 2nd entry in your formatting string, to make the Name field 34 characters wide (and left-justified)."}], "tags": [], "owner": {"reputation": 86, "user_id": 351430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dnGeo.jpg?s=128&g=1", "display_name": "Kevin Hinshaw", "link": "https://stackoverflow.com/users/351430/kevin-hinshaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1431717768, "creation_date": 1431717768, "answer_id": 30267261, "question_id": 30266408, "link": "https://stackoverflow.com/questions/30266408/how-do-i-create-an-array-of-hashes-in-perl-with-8-headers-columns-and-20-rows-us/30267261#30267261", "title": "How do I create an array of hashes in Perl with 8 headers/columns and 20 rows using for loop", "body": "<p>First, you need to build an array of records, where each item in the array is a hash reference.  Then you can loop through those to print them out.</p>\n\n<p>Here's a quick example:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @records =\n( { \"Type\" =&gt; \"Type A\",\n    \"Name\" =&gt; \"Name A\",\n    \"Group\" =&gt; 1 },\n\n  { \"Type\" =&gt; \"Type B\",\n    \"Name\" =&gt; \"Name B\",\n    \"Group\" =&gt; 2 },\n\n { \"Type\" =&gt; \"Type C\",\n   \"Name\" =&gt; \"Name C\",\n   \"Group\" =&gt; 2 },\n  );\n\nprintf \"%-8s %-8s %-2s\\n\",\n    \"Type\",\n    \"Name\",\n    \"Group\";\n\nfor my $record (@records) {\n    printf \"%-8s %-8s %-2s\\n\",\n    $record-&gt;{Type},\n    $record-&gt;{Name},\n    $record-&gt;{Group}\n}\n</code></pre>\n\n<p>Which prints:</p>\n\n<pre><code>Type     Name     Group\nType A   Name A   1\nType B   Name B   2\nType C   Name C   2\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1431717768, "creation_date": 1431714486, "last_edit_date": 1431715508, "question_id": 30266408, "link": "https://stackoverflow.com/questions/30266408/how-do-i-create-an-array-of-hashes-in-perl-with-8-headers-columns-and-20-rows-us", "title": "How do I create an array of hashes in Perl with 8 headers/columns and 20 rows using for loop", "body": "<p>I'm a beginner in Perl and learning to use arrays and hashes. With the research I did, I created an array> with keys and values for one of the hash columns. I'm not sure how to horizontally put the headers and make rows under each of the 8 headers. Any help is very appreciated again.</p>\n\n<pre><code>#!/usr/bin/perl\n# use strict;\nuse warnings;\n# use 5.010;\nuse Data::Dumper;\n\nmy %Name = (\n    Component =&gt; 2.2\n);\n\nforeach my $name (keys %Name) {\n    printf \"%-8s %s\\n\", $name, $Name{$name};\n}\n</code></pre>\n\n<p>But this is what I'm trying to print in the console: headers(8) and last      header is empty.</p>\n\n<pre><code> Type            Name                               Rev Id      ZZZ ID  IP     Group        Date Released  AA Category  Project IDs\n xxxxxComponent xyz_abc_1234LDO_c7rp1avrusevrmdtop  xxxx_2_5    99ccccc1      ABC- RIP-xxxxx    2015-05-03 6:59:09  xxxx    \n xxxxxComponent xyz_abc_1234LDO_c7rp1avrusevrmdtop  xxxx_2_5    99ccccc1    ABC  RIP xxxxx  2015-05-03 6:59:09  xxxx\n xxxxxComponent xyz_abc_1234LDO_c7rp1avrusevrmdtop  xxxx_2_5    99ccccc1    ABC RIP xxxxx   2015-05-03 6:59:09  xxxx    \n</code></pre>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431712645, "post_id": 30265885, "comment_id": 48631821, "body": "<code>Data::Dumper</code> output is much easier to read if you pass it a reference, e.g. <code>print Dumper \\%hash;</code> instead of <code>print Dumper %hash;</code>"}, {"owner": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431712883, "post_id": 30265885, "comment_id": 48631958, "body": "fair enough. updated OP"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431713910, "post_id": 30265885, "comment_id": 48632438, "body": "If you want to map a nested data structure containing objects to a flat CSV file, you will have to decide how the mapping will work. For example, do you want your columns  named <code>SPRequest_xrelease</code>, <code>SPRequest_macaddr</code>, <code>SPRequest_name</code>, and so on? How should objects be stringified?"}, {"owner": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431714303, "post_id": 30265885, "comment_id": 48632628, "body": "Geez I thought Text::CSV::Slurp would do that. What use is Text::CSV::Slurp then? I&#39;ll just roll my own then."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1431715153, "post_id": 30265885, "comment_id": 48633042, "body": "How could Text::CSV::Slurp possibly know how you want to map a data structure of arbitrary depth to a flat file? There&#39;s no standard for that; how would you express <code>{ foo =&gt; bar =&gt; [ 42, baz =&gt; { qux =&gt; 17 } ] }</code> as a CSV? The JSON spec includes arrays and objects, so <a href=\"https://metacpan.org/pod/JSON#MAPPING\" rel=\"nofollow noreferrer\">mapping between JSON and Perl data structures</a> is easier, although not without difficulties."}, {"owner": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431716956, "post_id": 30265885, "comment_id": 48633971, "body": "Well whatever software they use at <a href=\"http://www.convertcsv.com/json-to-csv.htm\" rel=\"nofollow noreferrer\">convertcsv.com/json-to-csv.htm</a> seems to be able to figure it out. I guess they are not using Perl or Text::CSV::Slurp."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431718264, "post_id": 30265885, "comment_id": 48634563, "body": "That chokes on JSON like <code>{ &quot;foo&quot;: [ &quot;bar&quot;, &quot;baz&quot; ] }</code> and strips off two bits of information from <code>{ &quot;foo&quot;: { &quot;bar&quot;: { &quot;baz&quot;: &quot;qux&quot; } } }</code>."}, {"owner": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431718897, "post_id": 30265885, "comment_id": 48634874, "body": "Ok great. thanks for you all help"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1431727093, "post_id": 30265885, "comment_id": 48638489, "body": "@RedCricket: That site uses some custom JavaScript to create an arbitrary mapping of nested JSON data to CSV format. It is unreliable and far from being a standard, and you shouldn&#39;t expect any other software in any language to replicate it"}], "answers": [{"tags": [], "owner": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "is_accepted": true, "score": 0, "last_activity_date": 1431748695, "last_edit_date": 1431748695, "creation_date": 1431747937, "answer_id": 30271613, "question_id": 30265885, "link": "https://stackoverflow.com/questions/30265885/converting-hash-to-csv-with-textcsvslurp/30271613#30271613", "title": "Converting hash to CSV with Text::CSV::Slurp", "body": "<p>Looks like what I was doing wrong was, expecting <code>Text::CSV::Slurp</code> to work with a Hash-of-Hash. So I rolled my own:</p>\n\n<pre><code>my @cols;\nmy @row;\nsub hash2cvs {\n        my $h = shift;\n        my $p = shift || 'top';\n        foreach my $k ( keys %{$h} ) {\n                if (ref $h-&gt;{$k} eq ref {}) {\n                        hash2cvs( $h-&gt;{$k}, ($p eq 'top') ? $k : \"$p.$k\" );\n                } else {\n                        if ( $p eq 'top' ) {\n                                push @cols, $k;\n                        } else {\n                                push @cols, \"$p.$k\";\n                        }\n                        push @row, $h-&gt;{$k};\n                }\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 7936, "user_id": 759991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LFxFQ.jpg?s=128&g=1", "display_name": "Red Cricket", "link": "https://stackoverflow.com/users/759991/red-cricket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1142, "favorite_count": 0, "accepted_answer_id": 30271613, "answer_count": 1, "score": 0, "last_activity_date": 1431748695, "creation_date": 1431712564, "last_edit_date": 1431721890, "question_id": 30265885, "link": "https://stackoverflow.com/questions/30265885/converting-hash-to-csv-with-textcsvslurp", "title": "Converting hash to CSV with Text::CSV::Slurp", "body": "<p>I have a Perl hash that I need to write to JSON and to CSV formats.</p>\n\n<p>A <code>print Dumper( \\%formdata )</code> of my hash looks like this.</p>\n\n<pre><code>$VAR1 = {\n          'SPRequest' =&gt; {\n                              'xrelease' =&gt; '13038',\n                              'macaddr' =&gt; '47:00:11:22:00:30',\n                              'name' =&gt; 'localhost',\n                              'description' =&gt; 'demo'\n                            },\n          '.submit' =&gt; bless( do{\\(my $o = 1)}, 'JSON::PP::Boolean' ),\n          'class' =&gt; 'SPRequest',\n          '22406' =&gt; {\n                       'win.profile' =&gt; 'production',\n                       'win.os_version' =&gt; 'standard',\n                       'win.os_part_size' =&gt; '1'\n                     }\n        };\n</code></pre>\n\n<p>Here is the snipplet of code I use to produce my json file.</p>\n\n<pre><code>my $form_data_file = \"/tmp/${hostname}_${macaddr}.json\";\nopen FH, \"&gt;$form_data_file\" or die \"Could not open $form_data_file. :$!\\n\";\nprint FH to_json( \\%formdata, {pretty=&gt;1} );\nclose FH;\n</code></pre>\n\n<p>I am able to output my JSON to a file which looks like this:</p>\n\n<pre><code>[red@tools-dev1 psong]$ cat /tmp/localhost_47-00-11-22-00-30.json \n{\n   \"SPRequest\" : {\n      \"xrelease\" : \"13038\",\n      \"macaddr\" : \"47:00:11:22:00:30\",\n      \"name\" : \"localhost\",\n      \"description\" : \"demo\"\n   },\n   \".submit\" : true,\n   \"class\" : \"SPRequest\",\n   \"22406\" : {\n      \"win.profile\" : \"production\",\n      \"win.os_version\" : \"standard\",\n      \"win.os_part_size\" : \"1\"\n   }\n}\n</code></pre>\n\n<p>Here is the code I am using to create my CSV file:</p>\n\n<pre><code>my $form_data_file_csv = \"/tmp/${hostname}_${macaddr}.csv\";\n# Text::CSV::Slurp wants arrayref of hashref\nmy $ARoHR = [ \\%formdata ];\nmy $csv = Text::CSV::Slurp-&gt;create( input =&gt; $ARoHR);\nopen FH, \"&gt;$form_data_file_csv\" or die \"Could not open $form_data_file_csv. :$!\\n\";\nprint FH $csv;\nclose FH;\n</code></pre>\n\n<p>But the problem is my CSV file which ends up looking like this:</p>\n\n<pre><code>[red@tools-dev1 psong]$ cat /tmp/localhost_47-00-11-22-00-30.csv ; echo\n.submit,22406,SPRequest,class\ntrue,HASH(0x8d81918),HASH(0x8d67980),SPRequest\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n\n<p>UPDATE: Looks like what I was doing wrong was expecting <code>Text::CSV::Slurp</code> to work with a Hash-of-Hash. So I rolled my own:</p>\n\n<pre><code>my @cols;\nmy @row;\nsub hash2cvs {\n        my $h = shift;\n        my $p = shift || 'top';\n        foreach my $k ( keys %{$h} ) {\n                if (ref $h-&gt;{$k} eq ref {}) {\n                        hash2cvs( $h-&gt;{$k}, $k );\n                } else {\n                        if ( $p eq 'top' ) {\n                                push @cols, $k;\n                        } else {\n                                push @cols, \"$p.$k\";\n                        }\n                        push @row, $h-&gt;{$k};\n                }\n        }\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 0, "creation_date": 1431710858, "post_id": 30265132, "comment_id": 48630828, "body": "I assume you are also processing the text file inside the <code>while</code> loop, otherwise you might as well just use the <code>cat</code> function: <code>cat c73p1avrfusevrmtop.txt</code>"}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "edited": false, "score": 0, "creation_date": 1431715939, "post_id": 30265132, "comment_id": 48633460, "body": "Is that a tab-delimited file or does it have fixed-width columns?"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1431711355, "post_id": 30265164, "comment_id": 48631112, "body": "I got my table to be printed. But my headers are not aligned with the table rows. How can I change my code a bit to print rows under each headers in an aligned format."}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "reply_to_user": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 1, "creation_date": 1431711831, "post_id": 30265164, "comment_id": 48631390, "body": "@rajal2 Please edit your question to show us the first few lines of your file (or even better, a sample file). Also, please edit your question to show us what the output should be like for the data you&#39;ve shown."}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "reply_to_user": {"reputation": 81037, "user_id": 8454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2NlHs.png?s=128&g=1", "display_name": "Andy Lester", "link": "https://stackoverflow.com/users/8454/andy-lester"}, "edited": false, "score": 2, "creation_date": 1431712905, "post_id": 30265164, "comment_id": 48631970, "body": "@AndyLester I feel <code>readline</code> is much more self-explanatory than <code>&lt;&gt;</code>. I&#39;ve taught several introduction to Perl workshops and find it easier to teach them <code>readline</code> and then later explain that <code>&lt;&gt;</code> is the shortcut version (instead of the other way around)."}, {"owner": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1432250587, "post_id": 30265164, "comment_id": 48861084, "body": "Why am I not getting any response to my questions ? Was I buggin you guys so much"}, {"owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "reply_to_user": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1432312991, "post_id": 30265164, "comment_id": 48891465, "body": "@rjl I just now looked through all of your questions and it looked to me that they were answered either by an explicit answer or in a comment."}, {"owner": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "edited": false, "score": 0, "creation_date": 1432317619, "post_id": 30265164, "comment_id": 48893838, "body": "Yes it makes much more sense to me now than earlier. I could dissect code and find out where the bug and ask more specific questions. Do you know how I could reopen one of my questions not for public comments but for my reference purposes?"}], "tags": [], "owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "is_accepted": false, "score": 4, "last_activity_date": 1431710708, "last_edit_date": 1431710708, "creation_date": 1431709978, "answer_id": 30265164, "question_id": 30265132, "link": "https://stackoverflow.com/questions/30265132/why-is-my-header-not-printing/30265164#30265164", "title": "Why is my header not printing?", "body": "<p>You simply forgot to print it. In my fix below, I use a separate variable for the header (i.e. the first line), simply to document why I'm not printing it in the loop.</p>\n\n<pre><code> #!/usr/bin/perl\n use strict;\n use warnings;\n\n # Create a file handle for the input file\n my $filename = 'c73p1avrfusevrmtop.txt';\n open(my $fh, '&lt;:encoding(UTF-8)', $filename) \n    or die \"Could not open file '$filename' $!\";\n\n # print header\n my $header = &lt;$fh&gt;;\n print $header;\n\n # print rows\n while (my $row = &lt;$fh&gt;) {\n     chomp $row;\n     print \"$row\\n\";\n }\n</code></pre>\n\n<hr>\n\n<p>Here is the same code in the format that I would prefer:</p>\n\n<pre><code> #!/bin/env perl\n use strict;\n use warnings;\n use autodie; # so I don't have to use the 'open or die' idiom\n\n # Create a file handle for the input file\n my $filename = 'c73p1avrfusevrmtop.txt';\n open(my $fh, '&lt;:encoding(UTF-8)', $filename);\n\n # print header\n my $header = readline $fh;\n print $header;             # note it still has a newline\n\n # print rows\n while (my $row = readline $fh) {\n     chomp $row;\n     print \"$row\\n\";\n }\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4904722, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3dc4fe8d5e24ede953b2a3f7c46019d6?s=128&d=identicon&r=PG&f=1", "display_name": "rjl", "link": "https://stackoverflow.com/users/4904722/rjl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431715533, "creation_date": 1431709870, "last_edit_date": 1431715533, "question_id": 30265132, "link": "https://stackoverflow.com/questions/30265132/why-is-my-header-not-printing", "title": "Why is my header not printing?", "body": "<p>I have a task of printing a text file (containing the headers and several rows). I managed to write a program to print the several rows in the text file. But I couldn't make my code print the table headers.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $filename = 'c73p1avrfusevrmtop.txt';\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename)\n    or die \"Could not open file '$filename' $!\";\n\nmy $row = &lt;$fh&gt;;\n\nwhile (my $row = &lt;$fh&gt;) {\n    chomp $row;\n    print \"$row\\n\";\n}\n</code></pre>\n\n<hr>\n\n<p>I have 8 columns x 7 and the last column is empty. I want to print my rows under each of the column aligned. I'm sorry am not able to attach an image since it requires 10 reputation.</p>\n\n<p>I apologize for that mistake. This is the table i was referring about. </p>\n\n<pre><code>Type            Name                               Rev Id      ZZZ ID  IP     Group        Date Released  AA Category  Project IDs\n xxxxxComponent xyz_abc_1234LDO_c7rp1avrusevrmdtop  xxxx_2_5    99ccccc1      ABC- RIP-xxxxx    2015-05-03 6:59:09  xxxx    \n xxxxxComponent xyz_abc_1234LDO_c7rp1avrusevrmdtop  xxxx_2_5    99ccccc1    ABC  RIP xxxxx  2015-05-03 6:59:09  xxxx\n xxxxxComponent xyz_abc_1234LDO_c7rp1avrusevrmdtop  xxxx_2_5    99ccccc1    ABC RIP xxxxx   2015-05-03 6:59:09  xxxx\n</code></pre>\n"}, {"tags": ["perl", "timestamp", "raku"], "answers": [{"tags": [], "owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "is_accepted": false, "score": 4, "last_activity_date": 1432039490, "last_edit_date": 1432039490, "creation_date": 1431707693, "answer_id": 30264549, "question_id": 30264548, "link": "https://stackoverflow.com/questions/30264548/how-do-i-check-file-timestamp-attributes-in-perl-6/30264549#30264549", "title": "How do I check file timestamp attributes in Perl 6?", "body": "<p>The <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow\">file test operators from Perl 5</a>, in Perl 6 are methods (e.g.  <code>.modified</code>, <code>.accessed</code> and <code>.changed</code>) from the <a href=\"http://doc.perl6.org/type/IO::FileTestable\" rel=\"nofollow\"><code>IO::FileTestable</code> role</a>. </p>\n\n<p>For example:</p>\n\n<pre><code>my $filename = \"sample.txt\";\nmy $seconds_since_epoch = $filename.IO.accessed;\nmy $readable_timestamp  = DateTime.new($filename.IO.accessed);\n\nsay \"File '$filename' was last accessed at '$readable_timestamp', which is {$seconds_since_epoch.Num} seconds since the epoch\";\n</code></pre>\n\n<p>in my case, gave:</p>\n\n<pre><code>File 'sample.txt' was last accessed at '2015-05-15T16:22:49Z', which is 1431707004 seconds since the epoch\n</code></pre>\n"}], "owner": {"reputation": 10190, "user_id": 215487, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e3e947cd5a0515d1eece902a29891750?s=128&d=identicon&r=PG", "display_name": "Christopher Bottoms", "link": "https://stackoverflow.com/users/215487/christopher-bottoms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1575221669, "creation_date": 1431707693, "last_edit_date": 1575221669, "question_id": 30264548, "link": "https://stackoverflow.com/questions/30264548/how-do-i-check-file-timestamp-attributes-in-perl-6", "title": "How do I check file timestamp attributes in Perl 6?", "body": "<p>In Perl 5, you can use <a href=\"http://perldoc.perl.org/functions/stat.html\" rel=\"nofollow\"><code>stat</code></a> to get the accessed, modified, and changed timestamps of files.</p>\n\n<p>For example:</p>\n\n<pre><code>my $filename = \"sample.txt\";\nmy ($dev,$ino,$mode,$nlink,$uid,$gid,$rdev,$size,\n       $atime,$mtime,$ctime,$blksize,$blocks)\n           = stat($filename)\n\nprint \"File '$filename' was last accessed $atime seconds since the epoch.\\n\";\n</code></pre>\n\n<p>Which results in:</p>\n\n<pre><code>File 'sample.txt' was last accessed 1431707004 seconds since the epoch.\n</code></pre>\n\n<p>How do you check file time stamps in Perl 6?</p>\n"}, {"tags": ["ruby", "perl", "hash"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1431703441, "post_id": 30263179, "comment_id": 48626267, "body": "<code>string++</code> would be trying to increment the string, e.g. what do you think the value of <code>apple++</code> would be? <code>orange</code>? <code>applf</code>?"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 2, "creation_date": 1431704442, "post_id": 30263179, "comment_id": 48626921, "body": "@MarcB It would be <code>applf</code> in Perl (assuming the operation is performed on a scalar). I believe <code>&quot;apple&quot; += 1</code> is not defined in Ruby but <code>&quot;apple&quot;.succ</code> should also produce <code>applf</code>"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431704772, "post_id": 30263179, "comment_id": 48627141, "body": "@ThisSuitIsBlackNot true, I edited my comment to state that it has to be performed on a scalar."}, {"owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "edited": false, "score": 0, "creation_date": 1434224241, "post_id": 30263179, "comment_id": 49691400, "body": "I think you mean <code>$my_hash{string}++</code> not <code>my_hash{string}++</code>, there is a missing <code>$</code>"}], "answers": [{"comments": [{"owner": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 1, "creation_date": 1431705638, "post_id": 30263269, "comment_id": 48627718, "body": "<code>my_hash[&quot;key&quot;] = my_hash[&quot;key&quot;].to_i + 1</code> is an alternative (<code>nil=to_i</code> is 0)."}, {"owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "edited": false, "score": 1, "creation_date": 1431705745, "post_id": 30263269, "comment_id": 48627795, "body": "A cleaner approach to the <code>nil</code> behavior you replicate is <code>my_hash = Hash.new(0)</code>, which will default values to 0 the first time you reference their key."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 73209, "user_id": 290394, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d7908f05c89e965f6bc5308ad6f41256?s=128&d=identicon&r=PG", "display_name": "steenslag", "link": "https://stackoverflow.com/users/290394/steenslag"}, "edited": false, "score": 0, "creation_date": 1431707395, "post_id": 30263269, "comment_id": 48628888, "body": "@steenslag, Thanks! Incorporated."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1431707397, "post_id": 30263269, "comment_id": 48628891, "body": "@Kristj&#225;n, Thanks! Incorporated."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1431708787, "last_edit_date": 1431708787, "creation_date": 1431703569, "answer_id": 30263269, "question_id": 30263179, "link": "https://stackoverflow.com/questions/30263179/perl-and-ruby-hash-syntax/30263269#30263269", "title": "Perl and Ruby Hash syntax", "body": "<pre><code>$var++;\n</code></pre>\n\n<p>means</p>\n\n<pre><code>$var = $var + 1;\n</code></pre>\n\n<p>but it's actually closer to</p>\n\n<pre><code>$var = defined($var) ? $var+1 : 1;\n</code></pre>\n\n<p>since the LHS is treated as zero (without warning) if it's undefined. Similarly,</p>\n\n<pre><code>$my_hash{key}++;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>$my_hash{key} = defined($my_hash{key}) ? $my_hash{key}+1 : 1;\n</code></pre>\n\n<p>(There are some other minor differences in rare corner cases, but nothing you care about.)</p>\n\n<hr>\n\n<p>The Ruby equivalent is</p>\n\n<pre><code>my_hash[\"key\"] = my_hash[\"key\"].to_i + 1;\n</code></pre>\n\n<p>or</p>\n\n<pre><code># If my_hash[\"key\"] is a number,\n# Or if \"my_hash\" was created using \"my_hash = Hash.new(0)\".\nmy_hash[\"key\"] += 1;\n</code></pre>\n\n<hr>\n\n<pre><code>$ perl -E'\n   my %my_hash;\n   $my_hash{key}++;  say $my_hash{key};\n   $my_hash{key}++;  say $my_hash{key};\n'\n1\n2\n\n$ ruby -e'\n   my_hash = {};\n   my_hash[\"key\"] = my_hash[\"key\"].to_i + 1;  p my_hash[\"key\"];\n   my_hash[\"key\"] = my_hash[\"key\"].to_i + 1;  p my_hash[\"key\"];\n'\n1\n2\n\n$ ruby -e'\n   my_hash = {};\n   my_hash[\"key\"] = 0;\n   my_hash[\"key\"] += 1;  p my_hash[\"key\"];\n   my_hash[\"key\"] += 1;  p my_hash[\"key\"];\n'\n1\n2\n\n$ ruby -e'\n   my_hash = Hash.new(0);\n   my_hash[\"key\"] += 1;  p my_hash[\"key\"];\n   my_hash[\"key\"] += 1;  p my_hash[\"key\"];\n'\n1\n2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1431711561, "post_id": 30263464, "comment_id": 48631237, "body": "The hash value in Perl and Ruby need not be an integer. <code>++</code> and <code>+=1</code> work with floating point numbers, too."}], "tags": [], "owner": {"reputation": 16076, "user_id": 802618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6111449042dd940f360673d25d61ea6b?s=128&d=identicon&r=PG", "display_name": "Kristj&#225;n", "link": "https://stackoverflow.com/users/802618/kristj%c3%a1n"}, "is_accepted": false, "score": 1, "last_activity_date": 1431708813, "last_edit_date": 1431708813, "creation_date": 1431704145, "answer_id": 30263464, "question_id": 30263179, "link": "https://stackoverflow.com/questions/30263179/perl-and-ruby-hash-syntax/30263464#30263464", "title": "Perl and Ruby Hash syntax", "body": "<p><code>my_hash{string}++</code> is incrementing an integer stored in the hash, eg:</p>\n\n<pre><code>my %my_hash;\n$my_hash{hi} = 0;\n$my_hash{hi}++;\nprint \"$_ $my_hash{$_}\\n\" for (keys %my_hash);\n#&gt; hi 1\n</code></pre>\n\n<p>Ruby hashes are accessed with <code>[]</code>, and Ruby doesn't implement <code>++</code>, so you must use <code>+= 1</code>. The equivalent Ruby code is then:</p>\n\n<pre><code>my_hash = {}\nmy_hash['hi'] = 0\nmy_hash['hi'] += 1\nputs my_hash\n#&gt; {\"hi\"=&gt;1}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 2386695, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3186358c2b47bbe9d3e233411993eaaf?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/2386695/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 30263269, "answer_count": 2, "score": 0, "last_activity_date": 1431708813, "creation_date": 1431703262, "last_edit_date": 1431708726, "question_id": 30263179, "link": "https://stackoverflow.com/questions/30263179/perl-and-ruby-hash-syntax", "title": "Perl and Ruby Hash syntax", "body": "<p>I am really new to Perl and after reading some code, I stumbled upon this statement:</p>\n\n<pre><code>my_hash{string}++\n</code></pre>\n\n<p>where the <code>my_hash</code> variable is a Hash, and the string is an arbitrary String.</p>\n\n<p>My guess is:</p>\n\n<pre><code>my_hash{string} = string++\n</code></pre>\n\n<p>and can anyone translate this line of code into Ruby as well?</p>\n"}, {"tags": ["arrays", "perl", "data-structures"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1431700065, "post_id": 30261333, "comment_id": 48623916, "body": "Some resources that might be helpful: <a href=\"http://www.perlmonks.org/?node_id=861\" rel=\"nofollow noreferrer\">the basic datatypes, three</a> on PerlMonks; <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow noreferrer\"><code>perldoc perldata</code></a>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431701559, "post_id": 30261333, "comment_id": 48624974, "body": "<a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question</a>"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1431701768, "post_id": 30261333, "comment_id": 48625123, "body": "Also, with IEEE-754 doubles &quot;... give 15\u201317 significant decimal digits precision. If a decimal string with at most 15 significant digits is converted to IEEE 754 double precision representation and then converted back to a string with the same number of significant digits, then the final string should match the original. If an IEEE 754 double precision is converted to a decimal string with at least 17 significant digits and then converted back to double, then the final number must match the original.&quot; OTOH, if any operations involve differing magnitudes, the last digits start losing meaning."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1431700003, "last_edit_date": 1431700003, "creation_date": 1431698492, "answer_id": 30261452, "question_id": 30261333, "link": "https://stackoverflow.com/questions/30261333/how-to-convert-array-to-this-pointing-array-in-perl/30261452#30261452", "title": "How to convert array to this pointing array in Perl?", "body": "<p>The actual name for what you call a \"pointing array\" is a <em>hash</em>, which is a type of <em>associative array</em>.</p>\n\n<pre><code>my %xx; $xx{$_} = $x[$_] for 0..$#x;\n</code></pre>\n\n<p>-or-</p>\n\n<pre><code>my %xx = map { $_ =&gt; $x[$_] } 0..$#x;\n</code></pre>\n\n<hr>\n\n<p>That said, Borodin pointed out that that module's functions accept a reference to an array as well as a reference to a hash. That means you don't need to do</p>\n\n<pre><code>my %xx = map { $_ =&gt; $x[$_] } 0..$#x;\n$norm-&gt;normalize_to_max(\\%xx);\n</code></pre>\n\n<p>since you can simply do</p>\n\n<pre><code>$norm-&gt;normalize_to_max(\\@x);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 1, "creation_date": 1431700586, "post_id": 30261995, "comment_id": 48624295, "body": "@Masi: You need to create the <code>$norm</code> object as described in the documentation you link to <code>my $norm = Normalize-&gt;new</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 1, "creation_date": 1431701041, "post_id": 30261995, "comment_id": 48624626, "body": "@Masi: You are unlikely to get better than 12 significant figures, but you can set the rounding when you create the object with <code>Normalize-&gt;new(round_to =&gt; 1e-16)</code>"}, {"owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431701392, "post_id": 30261995, "comment_id": 48624857, "body": "I have some problem with this normalization - it is not optimal. It normalizes the first value to 1.0000... How can you do the normalization better? My own normalization sets 1st value <code>0.982698386894082</code> instead giving much more optimal result. I think I need to add some offset and multiplication. Any default way for this about how to proceed?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 1, "creation_date": 1431701516, "post_id": 30261995, "comment_id": 48624944, "body": "@Masi: Or you can disable rounding by using <code>$norm-&gt;set(round_obj =&gt; Math::Round::Var::Fake-&gt;new);</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431701757, "post_id": 30261995, "comment_id": 48625113, "body": "@Masi: The <code>Normalize</code> module is designed to normalize the maximum value to 1 and won&#39;t do anything else. What do you mean by <i>optimal</i>? You should start a new question and explain your requirement in detail"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431719254, "post_id": 30261995, "comment_id": 48635037, "body": "@Masi: <code>$x[0] &#47; 0.982698386894082 </code> is equal to <code>22.9932716908341</code>. Are you saying that you want the values normalised relative to the integer closest to the maximum value?"}, {"owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431721164, "post_id": 30261995, "comment_id": 48635909, "body": "Yes, you are right. This equivalence has been deduced through a long manipulation for my practical case. So the first value should be normalized to the <code>0.982...</code>, not to <code>1.000...</code>. Everything else should then go somewhere. They can be slightly over &gt;1.0."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431721519, "post_id": 30261995, "comment_id": 48636075, "body": "@Masi: So what should happen in the <i>general</i> case of, say <code>2.8</code>, <code>2.4</code>, <code>3.1</code>, <code>1.1</code>? Do you want everything normalised relative to the <i>first</i> value <code>2.8</code>, the <i>maximum</i> value <code>3.1</code>, the <i>nearest integer to the first value</i> <code>3</code>, or something else?"}, {"owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431722475, "post_id": 30261995, "comment_id": 48636487, "body": "Everything (only these values <code>22.595451 20.089094 17.380813</code>) should be normalized such that the first value gets value <code>0.982...</code> which has been deduced empirically. It does not matter if some values are more than <code>1.000...</code> because the physical event is nearly optimally described that way. It would be nice to know how customizable approach this <code>Normalize</code> or any other package is, since currently, I have to write each time my own <code>Normalize</code> function in special situations."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431724298, "post_id": 30261995, "comment_id": 48637341, "body": "@Masi: I&#39;m sorry but you&#39;re not defining the problem properly. <b><i>Everything (only these values ...</i></b> means nothing. I&#39;ve tried very hard to help you, but if you won&#39;t spend some time to explain your problem then I can&#39;t do any more"}, {"owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431724621, "post_id": 30261995, "comment_id": 48637466, "body": "Yes, I know. Your answer is completely enough and excellent for this thread! I cannot explain the situation here more without taking into account more details of the challenge. This is not suitable anymore for this thread. The real data set is much bigger and consists of two lines where I am doing also averaging, transformations and finally normalization. This thread is only a simplification about the normalization where I am studying how well this package is suitable for my challenge. - Any package which does not stick to 1.0000 as max can be useful in normalization."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431725127, "post_id": 30261995, "comment_id": 48637664, "body": "@Masi: Once the normalisation base has been calculated, the job that <code>Normalize</code> does can be written in a single Perl statement <code>$_ &#47;= $factor for @x</code> The module just uses <code>my $factor = max(@x)</code> buit you can equally use <code>my $factor = $x[0] &#47; 0.982698386894082</code> to get the specific result that you&#39;re asking for. I can understand that there are other calculations behind the scenes, but there is no reason why you can&#39;t explain your problem in terms of an arbitrary function so that <code>my $factor = f(@x)</code>. But for some reason you write in vague generalisations that don&#39;t explain anything"}, {"owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431725481, "post_id": 30261995, "comment_id": 48637787, "body": "The function is this one <code>$y[$i] = 2 * ($y[$i] - $slope * $x[$i] - $offset) &#47; $normal;</code> where <code>my $slope = ($slope_pos + $slope_neg) &#47; 2; my $offset = ($const_neg + $const_pos) &#47; 2; my $normal = abs($const_pos - $const_neg);</code> based on lineFit&#39;s least square fitting on those two lines."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 1, "creation_date": 1431725946, "post_id": 30261995, "comment_id": 48638009, "body": "@Masi: That&#39;s fine. It looks like a best-fit of some sort. But you&#39;re missing my point, that it doesn&#39;t matter what the function is if you define precisely how you want to normalise your data. <code>Normalize</code> is probably not the tool for the job, but if you can calculate <code>$factor</code> then <code>$_ &#47;= $factor for @x</code> is all that you need"}, {"owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431726120, "post_id": 30261995, "comment_id": 48638088, "body": "You are right! So no need to use the <code>Normalize</code> package at all - at least, I cannot include <code>Normalize</code> directly to any part of my challenge, but has to keep in my customized function. So just divide by the factor <code>$normal</code> finally as I have done in my initial attempt - is your point."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431726283, "post_id": 30261995, "comment_id": 48638149, "body": "@Masi: I can&#39;t tell for sure, but I think so. That&#39;s all that <code>Normalize</code> does after all, but with the addition of supporting hashes as well as arrays and rounding to a specific accuracy -- neither of which you want. As for <b><i>but has to keep in my customized function</i></b> I doubt if it&#39;s useful even there, but I haven&#39;t seen your code"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1431700908, "last_edit_date": 1431700908, "creation_date": 1431699943, "answer_id": 30261995, "question_id": 30261333, "link": "https://stackoverflow.com/questions/30261333/how-to-convert-array-to-this-pointing-array-in-perl/30261995#30261995", "title": "How to convert array to this pointing array in Perl?", "body": "<p>You can pass your array by reference instead of using a hash. Like this</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Normalize;\n\nmy @x = qw/ 22.595451 20.089094 17.380813 /;\n\nmy $norm = Normalize-&gt;new(round_to =&gt; 1e-16);\n\n$norm-&gt;normalize_to_max(\\@x);\n\nprint \"$_\\n\" for @x;\n</code></pre>\n\n<p>which will normalize the contents of <code>@x</code> in place</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1431796426, "creation_date": 1431796426, "answer_id": 30278547, "question_id": 30261333, "link": "https://stackoverflow.com/questions/30261333/how-to-convert-array-to-this-pointing-array-in-perl/30278547#30278547", "title": "How to convert array to this pointing array in Perl?", "body": "<p>The easiest way to convert an array into a hash.</p>\n\n<pre><code>my %hash;\n@hash{ keys @array } = values @array;\n</code></pre>\n"}], "owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 30261995, "answer_count": 3, "score": -1, "last_activity_date": 1431796426, "creation_date": 1431698156, "last_edit_date": 1431701828, "question_id": 30261333, "link": "https://stackoverflow.com/questions/30261333/how-to-convert-array-to-this-pointing-array-in-perl", "title": "How to convert array to this pointing array in Perl?", "body": "<p>I am trying to use the package <a href=\"https://metacpan.org/pod/Normalize\" rel=\"nofollow\">Normalize</a>, but I have the data in arrays (<code>@x</code>), not in some pointing arrays which the package requires for normalization. </p>\n\n<p>Wanted data format in a pointing array as hash</p>\n\n<pre><code>my %xx = ('1' =&gt; 22.595451, '2' =&gt; 20.089094, '3' =&gt; 17.380813); \n</code></pre>\n\n<p>Current data format </p>\n\n<pre><code>my @x = qw/22.595451 20.089094 17.380813/; \n</code></pre>\n\n<p>i.e. <code>('22.595451', '20.089094', '17.380813')</code>.</p>\n\n<p>How can you convert the data to the pointing data-structure?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 23, "user_id": 3909029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318909f9b06aeb86007c9fa4e4201a44?s=128&d=identicon&r=PG&f=1", "display_name": "user271914", "link": "https://stackoverflow.com/users/3909029/user271914"}, "edited": false, "score": 0, "creation_date": 1431698986, "post_id": 30261308, "comment_id": 48623089, "body": "Sample data { &lt;SAM_NO_1&gt;, &lt;MONTH_NO_1&gt;, &lt;UNIT_1&gt; }"}, {"owner": {"reputation": 23, "user_id": 3909029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318909f9b06aeb86007c9fa4e4201a44?s=128&d=identicon&r=PG&f=1", "display_name": "user271914", "link": "https://stackoverflow.com/users/3909029/user271914"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1431699243, "post_id": 30261308, "comment_id": 48623302, "body": "no it is not standard format  ; my sample data is like above"}, {"owner": {"reputation": 23, "user_id": 3909029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318909f9b06aeb86007c9fa4e4201a44?s=128&d=identicon&r=PG&f=1", "display_name": "user271914", "link": "https://stackoverflow.com/users/3909029/user271914"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1431699370, "post_id": 30261308, "comment_id": 48623409, "body": "can you tell me what is mean by standard format ."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1431699410, "post_id": 30261308, "comment_id": 48623434, "body": "What is the desired output?"}, {"owner": {"reputation": 23, "user_id": 3909029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318909f9b06aeb86007c9fa4e4201a44?s=128&d=identicon&r=PG&f=1", "display_name": "user271914", "link": "https://stackoverflow.com/users/3909029/user271914"}, "edited": false, "score": 0, "creation_date": 1431699517, "post_id": 30261308, "comment_id": 48623522, "body": "i will give an example that assume we have one paragraph in between that paragraph we have data like { &lt;SAM_NO_1&gt;, &lt;MONTH_NO_1&gt;, &lt;UNIT_1&gt; }. so my goal is to bring SAM_NO_1 out and print it in a file ."}, {"owner": {"reputation": 23, "user_id": 3909029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318909f9b06aeb86007c9fa4e4201a44?s=128&d=identicon&r=PG&f=1", "display_name": "user271914", "link": "https://stackoverflow.com/users/3909029/user271914"}, "edited": false, "score": 0, "creation_date": 1431699597, "post_id": 30261308, "comment_id": 48623579, "body": "the output as per the sample data is SAM_NO_1 ,MONTH_NO_1 ,   like"}, {"owner": {"reputation": 23, "user_id": 3909029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318909f9b06aeb86007c9fa4e4201a44?s=128&d=identicon&r=PG&f=1", "display_name": "user271914", "link": "https://stackoverflow.com/users/3909029/user271914"}, "edited": false, "score": 0, "creation_date": 1431699698, "post_id": 30261308, "comment_id": 48623648, "body": "as per requirement i cant do my data in standard format ..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1431702186, "post_id": 30261308, "comment_id": 48625412, "body": "Please add a real multi-line sample of <code>c_template.c</code> to your question and describe the corresponding output that you would like"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431704901, "post_id": 30261308, "comment_id": 48627223, "body": "Take a look at <a href=\"https://metacpan.org/pod/Text::Balanced\" rel=\"nofollow noreferrer\">Text::Balanced</a>."}], "answers": [{"tags": [], "owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "is_accepted": false, "score": 1, "last_activity_date": 1431699372, "creation_date": 1431699372, "answer_id": 30261781, "question_id": 30261308, "link": "https://stackoverflow.com/questions/30261308/perl-script-for-reading-data-with-in-angular-brackets-and-not-working/30261781#30261781", "title": "perl script for reading data with in angular brackets &lt; and &gt; not working", "body": "<p>For starters, you never populate <code>@content</code> but you attempt to iterate it.  </p>\n\n<p>In your regular expressions: <code>[]</code> are used to define <em><a href=\"http://www.regular-expressions.info/refcharclass.html\" rel=\"nofollow\">character classes</a></em>, <code>()</code> are used to define <em><a href=\"http://www.regular-expressions.info/refcapture.html\" rel=\"nofollow\">capture groups</a></em>.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1431721332, "last_edit_date": 1431721332, "creation_date": 1431720867, "answer_id": 30267994, "question_id": 30261308, "link": "https://stackoverflow.com/questions/30261308/perl-script-for-reading-data-with-in-angular-brackets-and-not-working/30267994#30267994", "title": "perl script for reading data with in angular brackets &lt; and &gt; not working", "body": "<p>Your question is very unclear and imprecise, but from your code I think this is what you want</p>\n\n<pre><code>#!/usr/bin/local/perl\n\nuse strict;\nuse warnings;\n\nmy ($file, $fileoutput) = qw/ c_template.c output_c.c /;\n\nopen my $c_fh,   '&lt;',  $file or die qq{Could not open \"$file\" for input: $!};\nopen my $out_fh, '&gt;',  $fileoutput or die qq{Could not open \"$fileoutput\" for output: $!};\nselect $out_fh;\n\nwhile ( &lt;$c_fh&gt; ) {\n  next unless my @fields = /&lt;([^&lt;&gt;]+)&gt;/g;\n  chomp;\n  print \"$_ =&gt; @fields\\n\";\n}\n\nclose $out_fh or die qq{Could not close \"$fileoutput\": $!};\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>Textbooks written by author1 `{ &lt;sam&gt;,&lt;january&gt;,&lt;2015&gt;},{&lt;rga&gt;,&lt;feb&gt;,&lt;2005&gt;},` =&gt; sam january 2015 rga feb 2005\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3909029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318909f9b06aeb86007c9fa4e4201a44?s=128&d=identicon&r=PG&f=1", "display_name": "user271914", "link": "https://stackoverflow.com/users/3909029/user271914"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1431721332, "creation_date": 1431698109, "last_edit_date": 1431721235, "question_id": 30261308, "link": "https://stackoverflow.com/questions/30261308/perl-script-for-reading-data-with-in-angular-brackets-and-not-working", "title": "perl script for reading data with in angular brackets &lt; and &gt; not working", "body": "<p>My task is to read data within angule brackets and write to another file. I have developed a script but it is not working. If there are any modifications required then please correct me.</p>\n\n<p>The sample data which I want to read is like this</p>\n\n<pre><code>Textbooks written by author1 `{ &lt;sam&gt;,&lt;january&gt;,&lt;2015&gt;},{&lt;rga&gt;,&lt;feb&gt;,&lt;2005&gt;},`\n</code></pre>\n\n<p>This is my Perl program</p>\n\n<pre><code>#!usr/bin/local/perl\nuse warnings;\nuse strict;\nmy @c_result; \nmy @c_result_array;\nmy %hash;\nmy $file = 'c_template.c';\nopen CFILE, $file or die \"Could not open $file: $!\";\nmy @content;\nmy $fileoutput=\"output_c.c\";\nopen OUTFILE,\"&gt; $fileoutput\" or die $!;\nmy $i;\nwhile(&lt;CFILE&gt;)\n{\nfor $i  (@content)\n    {\n        $_ = $i;\n        if(/&lt;[\\w*_*]+&gt;/)\n        {\n            @c_result = /&lt;[\\w*_*]+&gt;/g;\n            for my $i (@c_result)\n            { \n                my $key=substr($i,1,length($i)-2);\n                $i=$key;\n                push @c_result_array,$i;\n                print OUTFILE $i .\"=&gt;@c_result_array\";\n                print OUTFILE \"\\n\";\n            }\n        }   \n    }   \n}\nclose OUTFILE;\nclose CFILE;\n</code></pre>\n"}, {"tags": ["python", "regex", "perl", "sed"], "comments": [{"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 0, "creation_date": 1431695368, "post_id": 30260282, "comment_id": 48620385, "body": "So are the changes that you want: to remove <code>*</code> from around the &quot;session&quot; part, and convert hostnames to IPs?  Might there be many hostnames in that list?  In the B) example where there is not a <code>urls_to_restore_on_startup</code> entry what did you want to have happen?"}, {"owner": {"reputation": 39446, "user_id": 4301306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a1461d0104809c90e2a252a2d4b0ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Wintermute", "link": "https://stackoverflow.com/users/4301306/wintermute"}, "edited": false, "score": 4, "creation_date": 1431695667, "post_id": 30260282, "comment_id": 48620616, "body": "This looks like JSON. Is it JSON? If it is JSON, you don&#39;t want to do this with regexes."}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 4892245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa30022b0be06f261ab13360efec0656?s=128&d=identicon&r=PG&f=1", "display_name": "Oberyn Martell", "link": "https://stackoverflow.com/users/4892245/oberyn-martell"}, "is_accepted": false, "score": 1, "last_activity_date": 1432303409, "last_edit_date": 1432303409, "creation_date": 1431699017, "answer_id": 30261644, "question_id": 30260282, "link": "https://stackoverflow.com/questions/30260282/replace-multiline-text-in-file-using-regex-on-linux/30261644#30261644", "title": "Replace multiline text in file using regex on Linux", "body": "<p>May be you want to parse it as json first and encode back to json if needed</p>\n\n<pre><code>use JSON::XS;\n\nmy $rh_data = decode_json($json_string);\n\n#then updated values by accesing $rh_data-&gt;{xx}{yy} = 'new value';\n\n#and encode back to json\n$json_data  = encode_json($rh_data); \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 1136333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hQ85u.jpg?s=128&g=1", "display_name": "Alok Pepakayala", "link": "https://stackoverflow.com/users/1136333/alok-pepakayala"}, "edited": false, "score": 0, "creation_date": 1431715278, "post_id": 30266523, "comment_id": 48633115, "body": "This is only to remove <code>**</code>, i\u2019m not sure what exactly you want. but this will only help with the <code>**</code> as mentioned in other comments you have to use JSON parsers if its JSON and also some more logic to resolve hostname to IP"}], "tags": [], "owner": {"reputation": 119, "user_id": 1136333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hQ85u.jpg?s=128&g=1", "display_name": "Alok Pepakayala", "link": "https://stackoverflow.com/users/1136333/alok-pepakayala"}, "is_accepted": false, "score": 0, "last_activity_date": 1431714941, "creation_date": 1431714941, "answer_id": 30266523, "question_id": 30260282, "link": "https://stackoverflow.com/questions/30260282/replace-multiline-text-in-file-using-regex-on-linux/30266523#30266523", "title": "Replace multiline text in file using regex on Linux", "body": "<pre><code>while(my $ln = &lt;STDIN&gt;){\n    if ($ln =~ /^([ ]*)(\\*\\*)(.*)/) {\n        print \"$1\".\"$3\";\n    } elsif ($ln =~ /(.*)?(\\*\\*)([ ]*)$/) {\n        print \"$1\".\"$3\";\n    } else {\n        print $ln;\n    }\n}\n</code></pre>\n\n<p>try running it as \n    <code>perl program.pl &lt; input.txt</code></p>\n"}], "owner": {"reputation": 1, "user_id": 4340967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c10838abdfcc48cba15589f1e9456a1b?s=128&d=identicon&r=PG&f=1", "display_name": "john.ostrowski", "link": "https://stackoverflow.com/users/4340967/john-ostrowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1432303409, "creation_date": 1431695051, "last_edit_date": 1431695381, "question_id": 30260282, "link": "https://stackoverflow.com/questions/30260282/replace-multiline-text-in-file-using-regex-on-linux", "title": "Replace multiline text in file using regex on Linux", "body": "<p>I need to replace multiline text in config file.\nI can use sed (BusyBox v1.21.1), perl (revision 5 version 14 subversion 2) or python (2.7).</p>\n\n<p>The file can have two formats:\nA)</p>\n\n<pre><code>     \"is_managed\": false,\n      \"local_profile_id\": 15191724,\n      \"name\": \"First user\"\n    },\n    **\"session\": {\n      \"restore_on_startup\": 4,\n      \"restore_on_startup_migrated\": true,\n      \"urls_to_restore_on_startup\": [ \"http://alamakota/\" ]\n    }**\n}\n</code></pre>\n\n<p>or \nB)</p>\n\n<pre><code>      \"is_managed\": false,\n      \"local_profile_id\": 15191724,\n      \"name\": \"First user\"\n   },\n   **\"session\": {\n      \"restore_on_startup_migrated\": true,\n   }**\n}\n</code></pre>\n\n<p>I want to change it to look like this:</p>\n\n<pre><code>     \"is_managed\": false,\n      \"local_profile_id\": 15191724,\n      \"name\": \"First user\"\n   },\n   \"session\": {\n      \"restore_on_startup\": 4,\n      \"restore_on_startup_migrated\": true,\n      \"urls_to_restore_on_startup\": [ \"http://192.168.0.100\" ]\n   }\n}\n</code></pre>\n"}, {"tags": ["perl", "activemq", "stomp"], "comments": [{"owner": {"reputation": 1052, "user_id": 467969, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/653cd44d081b3e561847ab0bb1e08e71?s=128&d=identicon&r=PG&f=1", "display_name": "Buchi", "link": "https://stackoverflow.com/users/467969/buchi"}, "edited": false, "score": 0, "creation_date": 1432165483, "post_id": 30259990, "comment_id": 48815902, "body": "Aren&#39;t you supposed to connect first and then check the peer details?"}, {"owner": {"reputation": 197, "user_id": 10704132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b78ac0af40e7ae7ab624b4ada8f5f22c?s=128&d=identicon&r=PG&f=1", "display_name": "santa100", "link": "https://stackoverflow.com/users/10704132/santa100"}, "edited": false, "score": 0, "creation_date": 1543199533, "post_id": 30259990, "comment_id": 93818519, "body": "In your script, I notice your port number 61616 is a TCP port, not STOMP port. Try the port number 61613 instead. To be 100% sure, look in &lt;ActiveMq_HOME&gt;/conf/activemq.xml&#39;s &lt;transportConnector name=&quot;stomp&quot;....&gt; for the correct port number to connect to."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4903872, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t1WSKaVRilE/AAAAAAAAAAI/AAAAAAAAAKY/dtK8MocQnE4/photo.jpg?sz=128", "display_name": "Vinay B Y", "link": "https://stackoverflow.com/users/4903872/vinay-b-y"}, "edited": false, "score": 0, "creation_date": 1431940791, "post_id": 30260727, "comment_id": 48694549, "body": "It still gives me the same output as mentioned below::"}, {"owner": {"reputation": 1, "user_id": 4903872, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t1WSKaVRilE/AAAAAAAAAAI/AAAAAAAAAKY/dtK8MocQnE4/photo.jpg?sz=128", "display_name": "Vinay B Y", "link": "https://stackoverflow.com/users/4903872/vinay-b-y"}, "edited": false, "score": 0, "creation_date": 1431940828, "post_id": 30260727, "comment_id": 48694577, "body": "connected to broker hostname (IP hostip), port 61616 cannot sysread(): EOF"}, {"owner": {"reputation": 39, "user_id": 4773648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZzBmyH5vsCs/AAAAAAAAAAI/AAAAAAAABbY/jReCfKS7JXk/photo.jpg?sz=128", "display_name": "NeoNox NeoNox", "link": "https://stackoverflow.com/users/4773648/neonox-neonox"}, "reply_to_user": {"reputation": 1, "user_id": 4903872, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t1WSKaVRilE/AAAAAAAAAAI/AAAAAAAAAKY/dtK8MocQnE4/photo.jpg?sz=128", "display_name": "Vinay B Y", "link": "https://stackoverflow.com/users/4903872/vinay-b-y"}, "edited": false, "score": 0, "creation_date": 1431943165, "post_id": 30260727, "comment_id": 48696144, "body": "Are you sure: 1 STOMP server is listening?"}, {"owner": {"reputation": 39, "user_id": 4773648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZzBmyH5vsCs/AAAAAAAAAAI/AAAAAAAABbY/jReCfKS7JXk/photo.jpg?sz=128", "display_name": "NeoNox NeoNox", "link": "https://stackoverflow.com/users/4773648/neonox-neonox"}, "reply_to_user": {"reputation": 1, "user_id": 4903872, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t1WSKaVRilE/AAAAAAAAAAI/AAAAAAAAAKY/dtK8MocQnE4/photo.jpg?sz=128", "display_name": "Vinay B Y", "link": "https://stackoverflow.com/users/4903872/vinay-b-y"}, "edited": false, "score": 0, "creation_date": 1431949543, "post_id": 30260727, "comment_id": 48700267, "body": "Are you sure: 1. STOMP server is listening? try to telnet to this host telnet&gt; open hostname 61613 2. Are you sure it&#39;s STOMP, not MQM? In this case you need different module MQSeries"}], "tags": [], "owner": {"reputation": 39, "user_id": 4773648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZzBmyH5vsCs/AAAAAAAAAAI/AAAAAAAABbY/jReCfKS7JXk/photo.jpg?sz=128", "display_name": "NeoNox NeoNox", "link": "https://stackoverflow.com/users/4773648/neonox-neonox"}, "is_accepted": false, "score": 0, "last_activity_date": 1431696399, "creation_date": 1431696399, "answer_id": 30260727, "question_id": 30259990, "link": "https://stackoverflow.com/questions/30259990/stompactivemqperlcannot-sysread-eof/30260727#30260727", "title": "stomp+activemq+perl+cannot sysread(): EOF", "body": "<p>Debug will help you</p>\n\n<pre><code>use Net::STOMP::Client;\n$stomp = Net::STOMP::Client-&gt;new(\n                                uri =&gt; \"stomp://hostname:61616\",\n                                debug =&gt; \"connection api\"\n                                );\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4903872, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t1WSKaVRilE/AAAAAAAAAAI/AAAAAAAAAKY/dtK8MocQnE4/photo.jpg?sz=128", "display_name": "Vinay B Y", "link": "https://stackoverflow.com/users/4903872/vinay-b-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 413, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1431696399, "creation_date": 1431694227, "question_id": 30259990, "link": "https://stackoverflow.com/questions/30259990/stompactivemqperlcannot-sysread-eof", "title": "stomp+activemq+perl+cannot sysread(): EOF", "body": "<p>I have a simple stomp script to connect to a activemq and when i run the script i get the below error\n\"cannot sysread(): EOF\"</p>\n\n<p>Perl Script Code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse Net::STOMP::Client;\n$stomp = Net::STOMP::Client-&gt;new(uri =&gt; \"stomp://hostname:61616\");\n$peer = $stomp-&gt;peer();\nprintf(\"connected to broker %s (IP %s), port %d\\n\",\n$peer-&gt;host(), $peer-&gt;addr(), $peer-&gt;port());\n$stomp-&gt;connect();\nprintf(\"speaking STOMP %s with server %s\\n\",\n$stomp-&gt;version(), $stomp-&gt;server() || \"UNKNOWN\");\nprintf(\"session %s started\\n\", $stomp-&gt;session());\n$stomp-&gt;disconnect();\nprintf(\"session ended\\n\");\n</code></pre>\n\n<p>Could someone please let me know what am I doing wrong ? I saw a similar post but then I didnt see an response regarding the same.\nIssue is at $stomp->connect();</p>\n"}, {"tags": ["perl", "unit-testing"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1431693005, "post_id": 30258888, "comment_id": 48618728, "body": "Reading errors and warnings is part of being a programmer: &quot;<b><i>you passed an array or hash instead of a reference to it</i></b>&quot;. Your tools are trying to help you, appreciate them."}], "answers": [{"comments": [{"owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1431691569, "post_id": 30259046, "comment_id": 48617699, "body": "Simply <code>([-,-],[-,-])</code> to <code>[ ([-,-],[-,-]) ]</code> in the conversion."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1431796223, "post_id": 30259046, "comment_id": 48655436, "body": "And that&#39;s exactly what the error message told you."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1431691308, "creation_date": 1431691308, "answer_id": 30259046, "question_id": 30258888, "link": "https://stackoverflow.com/questions/30258888/converting-datatypes-for-failing-test-function-in-perl/30259046#30259046", "title": "Converting datatypes for failing test function in Perl?", "body": "<p>Use anonymous arrays, each one of them is interpreted as just 1 argument:</p>\n\n<pre><code>is_deeply(\n          [ [0, 0], [1, 0] ],\n          [ [0, 0], [1, 0] ],\n          'Intersects x-axis at (0, 0) and (1, 0)'\n);\n</code></pre>\n\n<p>The parentheses in the original code do nothing, the lists are flattened, i.e. the code is equivalent to</p>\n\n<pre><code>is_deeply( [0, 0], [1, 0], [0, 0], [1, 0],\n           'Intersects x-axis at (0, 0) and (1, 0)'\n);\n</code></pre>\n\n<p>5 arguments to <code>is_deeply</code>.</p>\n"}], "owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 30259046, "answer_count": 1, "score": 1, "last_activity_date": 1431691311, "creation_date": 1431690836, "last_edit_date": 1431691311, "question_id": 30258888, "link": "https://stackoverflow.com/questions/30258888/converting-datatypes-for-failing-test-function-in-perl", "title": "Converting datatypes for failing test function in Perl?", "body": "<p>Minimum code</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.16;   \nuse Test::More tests =&gt; 2;\n\nis_deeply(\n[ [0, 0], [1, 0] ],\n[ [0, 0], [1, 0] ],\n'Intersects x-axis at (0, 0) and (1, 0)'\n);   \n\nis_deeply(\n( [0, 0], [1, 0] ), \n( [0, 0], [1, 0] ),\n'Intersects x-axis at (0, 0) and (1, 0)'\n);\n</code></pre>\n\n<p>which returns</p>\n\n<pre><code>ok 1 - Intersects x-axis at (0, 0) and (1, 0)\nis_deeply() takes two or three args, you gave 5.\nThis usually means you passed an array or hash instead \nof a reference to it at test44.pl line 14\nnot ok 2\n#   Failed test at test44.pl line 14.\n# Looks like you failed 1 test of 2 run.\n</code></pre>\n\n<p>The first code succeeds with <code>[[-,-],[-,-]]</code> entries but the second fails with <code>([-,-],[-,-])</code> entries. \nMy function returns everything as <code>([-,-], [-,-])</code> which I want to test if it is on the x-axis. </p>\n\n<p>There are too many args for the test, which is the reason why the test fails. \nSo some conversion may be needed. \nHowever, my data chunks are very big so no duplication of data is not a good idea because of speed. </p>\n\n<p>How can you proceed testing such data <code>([-,-],[-,-])</code> to fit the expected result efficiently?</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1431690346, "post_id": 30258434, "comment_id": 48616862, "body": "Yes there is. Your CGI script can trigger a <code>system</code> call, and display the output."}, {"owner": {"reputation": 564, "user_id": 4198298, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5aceea0e829d10a95fedcb65911f114c?s=128&d=identicon&r=PG&f=1", "display_name": "CEamonn", "link": "https://stackoverflow.com/users/4198298/ceamonn"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1431694028, "post_id": 30258434, "comment_id": 48619406, "body": "Thanks! Worked perfectly"}], "owner": {"reputation": 564, "user_id": 4198298, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5aceea0e829d10a95fedcb65911f114c?s=128&d=identicon&r=PG&f=1", "display_name": "CEamonn", "link": "https://stackoverflow.com/users/4198298/ceamonn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1431689486, "creation_date": 1431689486, "question_id": 30258434, "link": "https://stackoverflow.com/questions/30258434/how-to-run-a-exe-file-from-a-cgi-perl-webpage", "title": "How to run a .exe file from a cgi/perl webpage", "body": "<p>I have a webpage that tabulates data from files held elsewhere on the system. To make things more convenient, I'm trying to set it up so that testers can install a build directly from this page. Is there a way this can be done with a perl/cgi script? Having trouble finding anything here/perl monks</p>\n"}, {"tags": ["perl", "shell", "return", "return-value"], "comments": [{"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1431685752, "post_id": 30256631, "comment_id": 48614086, "body": "Vague question is vague. This is just a function that returns some numbers when it&#39;s invoked. Without seeing more of the program we can&#39;t comment on what those numbers might mean."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 1587, "user_id": 2023052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7c271ceae95ae222c5d8701be55e4a3?s=128&d=identicon&r=PG&f=1", "display_name": "Kevvvvyp", "link": "https://stackoverflow.com/users/2023052/kevvvvyp"}, "edited": false, "score": 3, "creation_date": 1431686282, "post_id": 30256631, "comment_id": 48614431, "body": "@KevinPaton: That is a horrible edit. First, the argument to <code>return</code> is not a suffix. Second, you didn&#39;t even preserve the case and formatting of <code>exit_Code</code>. Third, gratuitous use of bold. The question was bad to begin with, and this just makes it that epsilon worse."}, {"owner": {"reputation": 1587, "user_id": 2023052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7c271ceae95ae222c5d8701be55e4a3?s=128&d=identicon&r=PG&f=1", "display_name": "Kevvvvyp", "link": "https://stackoverflow.com/users/2023052/kevvvvyp"}, "edited": false, "score": 0, "creation_date": 1431686483, "post_id": 30256631, "comment_id": 48614557, "body": "Can you roll back the edit or re-edit then?"}, {"owner": {"reputation": 151, "user_id": 4425229, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3Ltpc.jpg?s=128&g=1", "display_name": "TheMightyNight", "link": "https://stackoverflow.com/users/4425229/themightynight"}, "edited": false, "score": 0, "creation_date": 1431693442, "post_id": 30256631, "comment_id": 48619031, "body": "after finding the answer i really find the question stupid. But believe me, I did not know that before. Thanks all."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 1587, "user_id": 2023052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7c271ceae95ae222c5d8701be55e4a3?s=128&d=identicon&r=PG&f=1", "display_name": "Kevvvvyp", "link": "https://stackoverflow.com/users/2023052/kevvvvyp"}, "edited": false, "score": 0, "creation_date": 1431705569, "post_id": 30256631, "comment_id": 48627685, "body": "@KevinPaton: I&#39;ve rolled back the edit."}], "answers": [{"comments": [{"owner": {"reputation": 478, "user_id": 3261294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e04c85709847a658e1699565b21a363?s=128&d=identicon&r=PG&f=1", "display_name": "BarneySchmale", "link": "https://stackoverflow.com/users/3261294/barneyschmale"}, "edited": false, "score": 2, "creation_date": 1431690408, "post_id": 30256719, "comment_id": 48616894, "body": "The question was about a Perl subroutine, not about a excutable."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 151, "user_id": 4425229, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3Ltpc.jpg?s=128&g=1", "display_name": "TheMightyNight", "link": "https://stackoverflow.com/users/4425229/themightynight"}, "edited": false, "score": 0, "creation_date": 1431705699, "post_id": 30256719, "comment_id": 48627763, "body": "@shashidtj: You may have gotten the answer, but not from this. Unix programs follow a convention for their return status values: zero for success, non-zero for error. Perl subroutines have no such convention; a Perl subroutine returning <code>0</code> does <i>not</i> necessarily mean that it succeeded. I suggest <i>not</i> accepting this answer (you can re-click the check mark to unaccept it)."}, {"owner": {"reputation": 151, "user_id": 4425229, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3Ltpc.jpg?s=128&g=1", "display_name": "TheMightyNight", "link": "https://stackoverflow.com/users/4425229/themightynight"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1431874446, "post_id": 30256719, "comment_id": 48673416, "body": "@KeithThompson: Yes It;s true that the above answer is not completely right but it gave me a approach by which i was able to find the answer. And yeah thanks for your suggestions. I&#39;m really new here and glad that people are so helpful."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 151, "user_id": 4425229, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3Ltpc.jpg?s=128&g=1", "display_name": "TheMightyNight", "link": "https://stackoverflow.com/users/4425229/themightynight"}, "edited": false, "score": 0, "creation_date": 1431893940, "post_id": 30256719, "comment_id": 48679970, "body": "@shashidtj: Now that I&#39;ve taken a closer look at the code in your question and at this answer, I need to back off from at least part of what I wrote above. The function is named <code>exit_Code</code>, which strongly implies that its result is going to be used as an argument to <code>exit()</code>. Given that, the answer makes sense (though I would have made the connection between the function&#39;s result and it use as the program&#39;s exit code more explicit). Incidentally, the final <code>else</code> clause just prints an error message (to stdout; it should be to stderr) and fails to return a value; that&#39;s very poor practice."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1431894067, "post_id": 30256719, "comment_id": 48680007, "body": "I just tried to withdraw my downvote (see my previous comment), but the system won&#39;t let me do so until the question is edited. I suggest you add something to make it clear that the value returned by the function will (presumably) be used as the program&#39;s exit status."}, {"owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1431894265, "post_id": 30256719, "comment_id": 48680073, "body": "@KeithThompson Added a sentence at the end to clarify my answer. Thanks!"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1431894789, "post_id": 30256719, "comment_id": 48680237, "body": "I&#39;d probably add the word &quot;presumably&quot;. The name <code>exit_Code</code> is certainly suggestive, but we are making a presumption here."}, {"owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "edited": false, "score": 0, "creation_date": 1431895086, "post_id": 30256719, "comment_id": 48680321, "body": "Good suggestion, added."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 151, "user_id": 4425229, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3Ltpc.jpg?s=128&g=1", "display_name": "TheMightyNight", "link": "https://stackoverflow.com/users/4425229/themightynight"}, "edited": false, "score": 0, "creation_date": 1431895432, "post_id": 30256719, "comment_id": 48680418, "body": "@shashidtj: I suggest you accept this answer again (and I apologize for my previous poorly thought out advice)."}, {"owner": {"reputation": 151, "user_id": 4425229, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3Ltpc.jpg?s=128&g=1", "display_name": "TheMightyNight", "link": "https://stackoverflow.com/users/4425229/themightynight"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1432016014, "post_id": 30256719, "comment_id": 48731010, "body": "@KeithThompson that&#39;s what i&#39;ve mentioned in my previuos comment. Thanks anyway."}], "tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": true, "score": 2, "last_activity_date": 1431894997, "last_edit_date": 1431894997, "creation_date": 1431684353, "answer_id": 30256719, "question_id": 30256631, "link": "https://stackoverflow.com/questions/30256631/why-does-this-program-use-return-with-various-different-exit-codes/30256719#30256719", "title": "Why does this program use return with various different exit codes?", "body": "<p>In *nix, programs have return values, which can be evaluated (e.g., by using the <code>$?</code> environment variable). <code>0</code> means the program completed without an error. Values larger than <code>0</code> mean some error occurred, and the documentation should state what each unique value means. While Perl functions do not share the semantics of returning <code>0</code> upon successful execution, this function is presumably used to return the exit code <strong>for the program</strong>.</p>\n"}], "owner": {"reputation": 151, "user_id": 4425229, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3Ltpc.jpg?s=128&g=1", "display_name": "TheMightyNight", "link": "https://stackoverflow.com/users/4425229/themightynight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 30256719, "answer_count": 1, "score": -2, "last_activity_date": 1431894997, "creation_date": 1431684094, "last_edit_date": 1431705534, "question_id": 30256631, "link": "https://stackoverflow.com/questions/30256631/why-does-this-program-use-return-with-various-different-exit-codes", "title": "Why does this program use return with various different exit codes?", "body": "<p>What is the meaning of return with different values in exit_Code below:</p>\n\n<pre><code>sub exit_Code {\n    my $testResult = shift;\n    if ( $testResult eq \"PASS\" ) {\n        return 0;\n    } elsif ( $testResult eq \"FAIL\" ) {\n        return 1; }\n    elsif ( $testResult eq \"ABORT\" ) {\n        return 40;\n    } else {\n        print \"Invalid testResult argument passed..\\n\";\n        print \"Valid testResults are: PASS, FAIL or ABORT\\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "expr"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 4, "creation_date": 1431677946, "post_id": 30254571, "comment_id": 48609376, "body": "Can &quot;whatever example&quot; contain any HTML in it?  If so, this is not a job for a regex.  See here: <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>.  As long as the text of the link is guaranteed to be just text, it is a reasonable task for a regex.  There are already a bazillion answers to this kind of question, though.  You should look through them, make an attempt yourself, then ask a question if you run into a problem."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 1, "creation_date": 1431699243, "post_id": 30255076, "comment_id": 48623303, "body": "Regexes are a perfectly good tool for finding a single link in HTML, as long as the anchor text is known to not have any HTML in it.  Because then you are just doing <i>matching</i>, not <i>parsing</i>."}], "tags": [], "owner": {"reputation": 876, "user_id": 1577347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5wJu.png?s=128&g=1", "display_name": "Chris Smeele", "link": "https://stackoverflow.com/users/1577347/chris-smeele"}, "is_accepted": false, "score": 1, "last_activity_date": 1431679096, "last_edit_date": 1495539822, "creation_date": 1431679096, "answer_id": 30255076, "question_id": 30254571, "link": "https://stackoverflow.com/questions/30254571/using-perl-to-strip-everything-from-a-string-except-html-anchor-links/30255076#30255076", "title": "Using Perl to strip everything from a string except HTML Anchor Links", "body": "<p>If you need a simple regex solution, a naive approach might be:</p>\n\n<pre><code>my @anchors = $text =~ m@(&lt;a[^&gt;]*?&gt;.*?&lt;/a&gt;)@gsi;\n</code></pre>\n\n<p>However, as @dan1111 has mentioned, regular expressions are not the right tool for parsing HTML for <a href=\"https://stackoverflow.com/questions/1732348\">various reasons</a>.</p>\n\n<p>If you need a reliable solution, look for an <a href=\"https://metacpan.org/pod/HTML::Parser\" rel=\"nofollow noreferrer\">HTML parser module</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1431685558, "creation_date": 1431685558, "answer_id": 30257152, "question_id": 30254571, "link": "https://stackoverflow.com/questions/30254571/using-perl-to-strip-everything-from-a-string-except-html-anchor-links/30257152#30257152", "title": "Using Perl to strip everything from a string except HTML Anchor Links", "body": "<p>You can take advantage of a stream parser such as <a href=\"https://metacpan.org/pod/HTML::TokeParser::Simple\" rel=\"nofollow\">HTML::TokeParser::Simple</a>:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse HTML::TokeParser::Simple;\n\nmy $html = &lt;&lt;EO_HTML;\n\nUsing Perl, how can I use a regex to take a string that has random HTML in it\nwith one HTML link with anchor, like this:\n\n   &lt;a href=\"http://example.com\" target=\"_blank\"&gt;Whatever &lt;i&gt;Interesting&lt;/i&gt; Example&lt;/a&gt;\n\n       and it leave ONLY that and get rid of everything else? No matter what\n   was inside the href attribute with the &lt;a, like title=, or style=, or\n   whatever. and it leave the anchor: \"Whatever Example\" and the &lt;/a&gt;?\nEO_HTML\n\nmy $parser = HTML::TokeParser::Simple-&gt;new(string =&gt; $html);\n\nwhile (my $tag = $parser-&gt;get_tag('a')) {\n    print $tag-&gt;as_is, $parser-&gt;get_text('/a'), \"&lt;/a&gt;\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>$ ./whatever.pl\n&lt;a href=\"http://example.com\" target=\"_blank\">Whatever Interesting Example&lt;/a></pre>\n"}], "owner": {"reputation": 45, "user_id": 2628623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3aafc4517893ec49eaa12665acc9f7a7?s=128&d=identicon&r=PG", "display_name": "Richard Jones", "link": "https://stackoverflow.com/users/2628623/richard-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 30257152, "answer_count": 2, "score": 1, "last_activity_date": 1431685558, "creation_date": 1431677265, "last_edit_date": 1431684869, "question_id": 30254571, "link": "https://stackoverflow.com/questions/30254571/using-perl-to-strip-everything-from-a-string-except-html-anchor-links", "title": "Using Perl to strip everything from a string except HTML Anchor Links", "body": "<p>Using Perl, how can I use a regex to take a string that has random HTML in it with one HTML link with anchor, like this:</p>\n\n<pre><code>  &lt;a href=\"http://example.com\" target=\"_blank\"&gt;Whatever Example&lt;/a&gt;\n</code></pre>\n\n<p>and it leave ONLY that and get rid of everything else? No matter what was inside the href attribute with the &lt;a, like <code>title=</code>, or <code>style=</code>, or whatever.\nand it leave the anchor: \"Whatever Example\" and the &lt;/a>?</p>\n"}, {"tags": ["mysql", "perl"], "comments": [{"owner": {"reputation": 4761, "user_id": 2277395, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/09841ca82e49f998ea0b8f159dea87c1?s=128&d=identicon&r=PG", "display_name": "Martin Drautzburg", "link": "https://stackoverflow.com/users/2277395/martin-drautzburg"}, "edited": false, "score": 1, "creation_date": 1431683864, "post_id": 30254427, "comment_id": 48612929, "body": "Whats wrong with just concatenating the two parts, and then run the concatenation?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1431699766, "post_id": 30254427, "comment_id": 48623701, "body": "You need to show more of your code. It&#39;s very hard to understand what you are trying to do."}], "answers": [{"tags": [], "owner": {"reputation": 9030, "user_id": 202940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JNQ86.jpg?s=128&g=1", "display_name": "Ashraf Bashir", "link": "https://stackoverflow.com/users/202940/ashraf-bashir"}, "is_accepted": false, "score": -1, "last_activity_date": 1434223566, "last_edit_date": 1434223566, "creation_date": 1434222929, "answer_id": 30822574, "question_id": 30254427, "link": "https://stackoverflow.com/questions/30254427/separate-query-in-single-var-and-execute-it-using-perl-script/30822574#30822574", "title": "Separate query in single var and execute it using perl script", "body": "<pre><code>use DBI;\nuse strict;\nuse warnings;\n\n# Your input !\nmy $cmd  = \"Select Column1 \"; \nmy $cmd1 = \",Column2,Column3 from table\";\n\n# I am wondering why you have your query like this ...\n# but anyway, lets assume there's a reason behind this!\n\nmy $dbh = \n    DBI-&gt;connect(\n        'DBI:mysql:databasename;host=db.example.com', # TODO Change this\n        'username',                                   # TODO change this\n        'password',                                   # TODO change this\n        { RaiseError =&gt; 1 }\n    ) or die \"Could not connect to database: $DBI::errstr\";\n\nmy $sth = $dbh-&gt;prepare( $cmd . $cmd1 );\n\n$sth-&gt;execute();\n\nmy @row;\nwhile ( @row = $sth-&gt;fetchrow_array ) {\n    print \"@row\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 4814375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c018dbdfc5ef860b9f99c24f57ce63ce?s=128&d=identicon&r=PG&f=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/4814375/pranay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1434223566, "creation_date": 1431676715, "question_id": 30254427, "link": "https://stackoverflow.com/questions/30254427/separate-query-in-single-var-and-execute-it-using-perl-script", "title": "Separate query in single var and execute it using perl script", "body": "<p>I have currently working on <code>perl script</code>.</p>\n\n<pre><code>Select Column1,Column2,Column3.. from table.\n</code></pre>\n\n<p>This query contain some part in <code>$cmd=\"Select Column1 \";</code>\nand other <code>$cmd1=\",Column2,Column3 from table\";  // This is dynamic part, so split query in two different variable.</code>\nAfter this execute whole query.</p>\n\n<p>How to do this query splitting part.?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1431675069, "post_id": 30253736, "comment_id": 48607962, "body": "Please, add an example. It&#39;s unclear what you&#39;re trying to achieve."}, {"owner": {"reputation": 21, "user_id": 4861077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae6d9a57aab2c07989f6346145fcda94?s=128&d=identicon&r=PG&f=1", "display_name": "qa24684", "link": "https://stackoverflow.com/users/4861077/qa24684"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1431708345, "post_id": 30253736, "comment_id": 48629378, "body": "I have made edits to the question to include the examples. Please let me know if that helps clarify my question better. Thanks!"}, {"owner": {"reputation": 825, "user_id": 1521805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/YdwEh.jpg?s=128&g=1", "display_name": "pak", "link": "https://stackoverflow.com/users/1521805/pak"}, "edited": false, "score": 0, "creation_date": 1431825434, "post_id": 30253736, "comment_id": 48662918, "body": "Still unclear... it looks like there&#39;s 16 sets of data, not 2.  What have you tried that hasn&#39;t worked?"}, {"owner": {"reputation": 14766, "user_id": 483486, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/fcf225aa724d9bb05f6693dc8cf8c459?s=128&d=identicon&r=PG", "display_name": "OmnipotentEntity", "link": "https://stackoverflow.com/users/483486/omnipotententity"}, "edited": false, "score": 0, "creation_date": 1431828224, "post_id": 30253736, "comment_id": 48663452, "body": "It sounds like what you actually need is a bash (zsh/ksh/etc) for loop."}], "answers": [{"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 0, "last_activity_date": 1431875404, "creation_date": 1431875404, "answer_id": 30288337, "question_id": 30253736, "link": "https://stackoverflow.com/questions/30253736/how-do-i-run-the-same-command-multiple-times-using-perl/30288337#30288337", "title": "How do I run the same command multiple times using Perl?", "body": "<p>This is probably most easily done with a shell script. As with Perl, TMTOWTDI \u2014 there's more than one way to do it.</p>\n\n<pre><code>for num in $(seq 1 16)\ndo\n    perl myprogram1.pl file#a1.pos abc#a1.ref xyz#a1.ref file#a1_${num}00.gen file#a1_${num}00.out\n    perl myprogram2.pl file#a1_${num}00.out file#a1_${num}00.out.long\ndone\n</code></pre>\n\n<p>(You could use <code>{1..16}</code> in place of <code>$(seq 1 16)</code> to generate the numbers.  You might also note that the <code>#</code> characters in the file names discombobulate the SO Markdown system.)</p>\n\n<p>Or you could use:</p>\n\n<pre><code>for num in $(seq 100 100 1600)\ndo\n    perl myprogram1.pl file#a1.pos abc#a1.ref xyz#a1.ref file#a1_${num}.gen file#a1_${num}.out\n    perl myprogram2.pl file#a1_${num}.out file#a1_${num}.out.long\ndone\n</code></pre>\n\n<p>(I don't think there's a <code>{...}</code> expansion for that.)</p>\n\n<p>Or, better, you could use variables to hold values to avoid repetition:</p>\n\n<pre><code>POS=\"file#a1.pos\"\nABC=\"abc#a1.ref\"\nXYZ=\"xyz#a1.ref\"\n\nfor num in $(seq 100 100 1600)\ndo\n    PFX=\"file#a1_${num}\"\n    GEN=\"${PFX}.gen\"\n    OUT=\"${PFX}.out\"\n    LONG=\"${OUT}.long\"\n    perl myprogram1.pl \"${POS}\" \"${ABC}\" \"${XYZ}\" \"${GEN}\" \"${OUT}\"\n    perl myprogram2.pl \"${OUT}\" \"${LONG}\"\ndone\n</code></pre>\n\n<p>In this code, the braces around the parameter names are all optional; in the first block of code, the braces around <code>${num}</code> were mandatory, but optional in the second set.  Enclosing names in double quotes is also optional here, but recommended.</p>\n\n<p>Or, if you must do it in Perl, then:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $POS = \"file#a1.ref\";\nmy $ABC = \"abc#a1.ref\";\nmy $XYZ = \"xyz#a1.ref\";\n\nfor (my $num = 100; $num &lt;= 1600; $num += 100)\n{\n    my $PFX = \"file#a1_${num}\";\n    my $GEN = \"${PFX}.gen\";\n    my $OUT = \"${PFX}.out\";\n    my $LONG = \"${OUT}.long\";\n    system(\"perl\", \"myprogram1.pl\", \"${POS}\", \"${ABC}\", \"${XYZ}\", \"${GEN}\", \"${OUT}\");\n    system(\"perl\", \"myprogram2.pl\", \"${OUT}\", \"${LONG}\");\n}\n</code></pre>\n\n<p>This is all pretty basic coding.  And you can guess that it didn't take me long to generate this from the last shell script.  Note the use of multiple separate strings instead on one long string in the <code>system</code> calls.  That avoids running a shell interpreter \u2014 Perl runs <code>perl</code> directly.</p>\n\n<p>You could use <code>$^X</code> instead of <code>\"perl\"</code> to ensure that you run the same Perl executable as ran the script shown.  (If you have <code>/usr/bin/perl</code> on your <code>PATH</code> but you run <code>$HOME/perl/v5.20.1/bin/perl thescript.pl</code>, the difference might matter, but probably wouldn't.)</p>\n"}], "owner": {"reputation": 21, "user_id": 4861077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae6d9a57aab2c07989f6346145fcda94?s=128&d=identicon&r=PG&f=1", "display_name": "qa24684", "link": "https://stackoverflow.com/users/4861077/qa24684"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1269, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1431875404, "creation_date": 1431674317, "last_edit_date": 1431827616, "question_id": 30253736, "link": "https://stackoverflow.com/questions/30253736/how-do-i-run-the-same-command-multiple-times-using-perl", "title": "How do I run the same command multiple times using Perl?", "body": "<p>I have 2 commands that I need to run back to back 16 times for 2 sets of data. I have labeled the files used as file#a1_100.gen (set 1) and file#a2_100.gen (set 2). The 100 is then replaced by multiples of 100 upto 1600 (100,200,...,1000,...,1600). </p>\n\n<p>Example 1: For first set</p>\n\n<p>Command 1: <code>perl myprogram1.pl file#a1.pos abc#a1.ref xyz#a1.ref file#a1_100.gen file#a1_100.out</code></p>\n\n<p>Command 2: <code>perl my program2.pl file#a1_100.out file#a1_100.out.long</code></p>\n\n<p>Example 2: For first set</p>\n\n<p>Command 1: <code>perl myprogram1.pl file#a1.pos abc#a1.ref xyz#a1.ref file#a1_200.gen file#a1_200.out</code></p>\n\n<p>Command 2: <code>perl my program2.pl file#a1_200.out file#a1_200.out.long</code></p>\n\n<p>These 2 commands are repeated 16 times for both set 1 and set 2. For set 2 the filename changes to File#a2...</p>\n\n<p>I need a command that will run this on its own by changing the filename for the 2 sets, running it 16 times for each set.</p>\n\n<p>Any help will be greatly appreciated! Thanks!</p>\n"}, {"tags": ["perl", "file-handling", "filehandle", "filehandler", "fileopendialog"], "answers": [{"comments": [{"owner": {"reputation": 582, "user_id": 1862330, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/2c38f99284fc1d1f9b30bd359bec95e5?s=128&d=identicon&r=PG", "display_name": "BioDeveloper", "link": "https://stackoverflow.com/users/1862330/biodeveloper"}, "edited": false, "score": 1, "creation_date": 1434622074, "post_id": 30253181, "comment_id": 49862102, "body": "Win32::GUI::GetOpenFileName is awesome."}], "tags": [], "owner": {"reputation": 2797, "user_id": 4123698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883acd9ee061b3a325ba22b1fee3daca?s=128&d=identicon&r=PG&f=1", "display_name": "harvey", "link": "https://stackoverflow.com/users/4123698/harvey"}, "is_accepted": true, "score": 4, "last_activity_date": 1431672369, "creation_date": 1431672369, "answer_id": 30253181, "question_id": 30251227, "link": "https://stackoverflow.com/questions/30251227/how-to-call-a-system-file-selection-dialog-using-perl-on-windows/30253181#30253181", "title": "How to call a system file selection dialog using perl on windows?", "body": "<p>It's not easy, first you have to build the data structure needed by the OpenFileDialog api, interact with the system at a low level, track file handles, then get and parse the resulting structure.</p>\n\n<p>There are some horrible hacks where you save a windows script, and run it from perl using a system as you suggested. Keep in mind this requires the right permissions, and scripting languages installed.</p>\n\n<pre><code># From http://www.pcreview.co.uk/threads/launching-a-search-explorer-exe-form-the-command-line.1468270/\nsystem( q{\"echo CreateObject(\"Shell.Application\").FindFiles &gt;%temp%\\myff.vbs\"} ); #setup script\nmy @files = system( \"cscript.exe //Nologo %temp%\\myff.vbs\" ); # Get files\nsystem( \"del %temp%\\myff.vbs\" ); # Cleanup\n</code></pre>\n\n<p>The authors of Win32::GUI have done a great job of simplification, </p>\n\n<pre><code>my @file = Win32::GUI::GetOpenFileName ();\n</code></pre>\n\n<p>Or with some helpful options like filtering, starting directory and window title.</p>\n\n<pre><code># A simple open file with graphic filers\nmy ( @file, $file );\nmy ( @parms );\npush @parms,\n  -filter =&gt;\n    [ 'TIF - Tagged Image Format', '*.tif',\n      'BMP - Windows Bitmap', '*.bmp',\n      'GIF - Graphics Interchange Format', '*.gif',\n      'JPG - Joint Photographics Experts Group', '*.jpg',\n      'All Files - *', '*'\n    ],\n  -directory =&gt; \"c:\\\\program files\",\n  -title =&gt; 'Select a file';\npush @parms, -file =&gt; $lastfile  if $lastfile;\n@file = Win32::GUI::GetOpenFileName ( @parms );\n</code></pre>\n"}], "owner": {"reputation": 582, "user_id": 1862330, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/2c38f99284fc1d1f9b30bd359bec95e5?s=128&d=identicon&r=PG", "display_name": "BioDeveloper", "link": "https://stackoverflow.com/users/1862330/biodeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1044, "favorite_count": 1, "accepted_answer_id": 30253181, "answer_count": 1, "score": 3, "last_activity_date": 1431687879, "creation_date": 1431661888, "question_id": 30251227, "link": "https://stackoverflow.com/questions/30251227/how-to-call-a-system-file-selection-dialog-using-perl-on-windows", "title": "How to call a system file selection dialog using perl on windows?", "body": "<p>I know many perl based gui module would do that easily but I am curious about methods <em>other than</em> <strong>Prima</strong> or <strong>Tk</strong> etc.<br>\nI want to call this dialog (Exactly looking as Windows Explorer) for a command line package.</p>\n\n<p>Is anything similar to <code>system('');</code> command possible.</p>\n\n<p>Pls Mind that, I need to open and process the file/s selected by such dialog via perl.</p>\n"}, {"tags": ["regex", "perl", "pattern-matching"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1431654780, "post_id": 30250249, "comment_id": 48601105, "body": "Using capturing groups is the most simple."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1431660325, "post_id": 30250249, "comment_id": 48602443, "body": "Your original scenario might have been better shown by <code>&quot;xxAA pat1 yy pat1 zz BB abc AA pp pat1 qq pat1 rr pat1 ssBB def pat1 ghi pat1&quot;</code> or something like that.  Showing that multiple ocurrences of <code>pat1</code> can appear between the boundary markers AA and BB, along with other characters, would help clarify the problem."}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1431665253, "post_id": 30250249, "comment_id": 48603818, "body": "I think I cleaned up the post. But, the answer overall question is exactly what the substitution operator does. I think the better question is &quot;How do I retain parts of the matched pattern.&quot; Since it&#39;s retaining stuff on both sides, we don&#39;t get to use the <code>\\K</code>. :("}, {"owner": {"reputation": 45, "user_id": 1546654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ac912c6e6a1fa60e2ed0dab2b596109?s=128&d=identicon&r=PG", "display_name": "Constant_Learner", "link": "https://stackoverflow.com/users/1546654/constant-learner"}, "reply_to_user": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "edited": false, "score": 0, "creation_date": 1431665791, "post_id": 30250249, "comment_id": 48603977, "body": "@briandfoy Sorry for miscommunication.  Can you please advise some solution?"}], "answers": [{"tags": [], "owner": {"reputation": 876, "user_id": 1577347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5wJu.png?s=128&g=1", "display_name": "Chris Smeele", "link": "https://stackoverflow.com/users/1577347/chris-smeele"}, "is_accepted": false, "score": 4, "last_activity_date": 1431655223, "creation_date": 1431655223, "answer_id": 30250343, "question_id": 30250249, "link": "https://stackoverflow.com/questions/30250249/substitute-only-in-the-matched-part-of-a-perl-pattern/30250343#30250343", "title": "Substitute only in the matched part of a Perl pattern", "body": "<p>Look into <a href=\"http://www.perlmonks.org/?node_id=518444\" rel=\"nofollow\">look-around regexes</a>.</p>\n\n<pre><code>s/(?&lt;=AA )pat1(?= BB)/pat2/g\n</code></pre>\n\n<p>This matches and replaces a <code>pat1</code> surrounded by <code>AA</code> and <code>BB</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "is_accepted": false, "score": 1, "last_activity_date": 1431666539, "last_edit_date": 1431666539, "creation_date": 1431666236, "answer_id": 30251838, "question_id": 30250249, "link": "https://stackoverflow.com/questions/30250249/substitute-only-in-the-matched-part-of-a-perl-pattern/30251838#30251838", "title": "Substitute only in the matched part of a Perl pattern", "body": "<pre><code>\\\\\\\\[^. ]*\\K|(?!^)\\G\\.([^. ]*)\n</code></pre>\n\n<p>You can try this.Replace by <code>?$1</code>.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/mT0iE7/28\" rel=\"nofollow\">https://regex101.com/r/mT0iE7/28</a></p>\n\n<p>The resultant string will not be exactly same as you want but you can easily do a clean up.</p>\n\n<pre><code>\\?(?=\\?)\n</code></pre>\n\n<p>Replace by <code>empty string</code> and you have what you want.See demo.</p>\n\n<p><a href=\"https://regex101.com/r/mT0iE7/29\" rel=\"nofollow\">https://regex101.com/r/mT0iE7/29</a></p>\n"}, {"comments": [{"owner": {"reputation": 222, "user_id": 4893881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dt6GQ.jpg?s=128&g=1", "display_name": "Xtof", "link": "https://stackoverflow.com/users/4893881/xtof"}, "reply_to_user": {"reputation": 62965, "user_id": 3679490, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/70f98fb23b16862298ea208aedfd18ae?s=128&d=identicon&r=PG&f=1", "display_name": "vks", "link": "https://stackoverflow.com/users/3679490/vks"}, "edited": false, "score": 0, "creation_date": 1431671657, "post_id": 30252509, "comment_id": 48606148, "body": "old answer deleted ;)"}], "tags": [], "owner": {"reputation": 222, "user_id": 4893881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dt6GQ.jpg?s=128&g=1", "display_name": "Xtof", "link": "https://stackoverflow.com/users/4893881/xtof"}, "is_accepted": true, "score": 1, "last_activity_date": 1431671751, "last_edit_date": 1431671751, "creation_date": 1431669476, "answer_id": 30252509, "question_id": 30250249, "link": "https://stackoverflow.com/questions/30250249/substitute-only-in-the-matched-part-of-a-perl-pattern/30252509#30252509", "title": "Substitute only in the matched part of a Perl pattern", "body": "<p>Not very simple with one single regexp, so I used divide and conquer to compute the result. This is a small recursive function that is replacing a single '.' per group of ('\\' ' ')</p>\n\n<p>The iteration ends when there is nothing to replace</p>\n\n<pre><code>sub replace {\n    my ($input) = @_;\n\n    my $result = $input;\n    $result =~ s/(\\\\\\S*?)\\.(.*? )/$1?$2/g;\n    return $result if $result eq $input;\n    return replace($result);\n}\n</code></pre>\n\n<p>The function with some test cases</p>\n\n<pre><code>use strict;\n\nmy $ORG_str= 'A.B.C.\\\\\\\\valid.A .\\\\\\\\valid.A.B.C .\\\\\\\\valid.X.Y.Z .p.q.r.s';\nmy $EXP_op ='A.B.C.\\\\\\\\valid?A .\\\\\\\\valid?A?B?C .\\\\\\\\valid?X?Y?Z .p.q.r.s';\n\nsub replace {\n    my ($input) = @_;\n\n    my $result = $input;\n    $result =~ s/(\\\\\\S*?)\\.(.*? )/$1?$2/g;\n    return $result if $result eq $input;\n    return replace($result);\n}\n\nmy $check;\nmy $result;\nmy $expected;\n\n$check = 'abcd'; $expected = $check;\n$result = replace($check);\nassert($result eq $expected, \"'$check' gives '$expected'\");\n\n$check = 'ab\\xxx. cd'; $expected = 'ab\\xxx? cd';\n$result = replace($check);\nassert($result eq $expected, \"'$check' gives '$expected'\");\n\n$check = 'ab\\x.x.x. cd'; $expected = 'ab\\x?x?x? cd';\n$result = replace($check);\nassert($result eq $expected, \"'$check' gives '$expected'\");\n\n$check = 'ab\\x.x.x. cd\\y.y.y.'; $expected = 'ab\\x?x?x? cd\\y.y.y.';\n$result = replace($check);\nassert($result eq $expected, \"'$check' gives '$expected'\");\n\n$check = 'ab\\x.x.x. cd\\xxx.xxx..xxx...x \\y.y.y.'; $expected = 'ab\\x?x?x? cd\\xxx?xxx??xxx???x \\y.y.y.';\n$result = replace($check);\nassert($result eq $expected, \"'$check' gives '$expected'\");\n\n$check = '. ..\\.. ...\\.. ...\\.. ...\\..'; $expected = '. ..\\?? ...\\?? ...\\?? ...\\..';\n$result = replace($check);\nassert($result eq $expected, \"'$check' gives '$expected'\");\n\n\n$check = $ORG_str; $expected = $EXP_op; \n$result = replace($check);\nassert($result eq $expected, \"'$check' gives '$expected'\");\n\n\nsub assert {\n    my ($cond, $mesg) = @_;\n    print \"checking $mesg ... \";\n    die \"\\nFAIL: $mesg\" unless $cond;\n    print \"OK\\n\";\n}\n</code></pre>\n\n<p>The result</p>\n\n<pre><code>checking 'abcd' gives 'abcd' ... OK\nchecking 'ab\\xxx. cd' gives 'ab\\xxx? cd' ... OK\nchecking 'ab\\x.x.x. cd' gives 'ab\\x?x?x? cd' ... OK\nchecking 'ab\\x.x.x. cd\\y.y.y.' gives 'ab\\x?x?x? cd\\y.y.y.' ... OK\nchecking 'ab\\x.x.x. cd\\xxx.xxx..xxx...x \\y.y.y.' gives 'ab\\x?x?x? cd\\xxx?xxx??xxx???x \\y.y.y.' ... OK\nchecking '. ..\\.. ...\\.. ...\\.. ...\\..' gives '. ..\\?? ...\\?? ...\\?? ...\\..' ... OK\nchecking 'A.B.C.\\\\valid.A .\\\\valid.A.B.C .\\\\valid.X.Y.Z .p.q.r.s' gives 'A.B.C.\\\\valid?A .\\\\valid?A?B?C .\\\\valid?X?Y?Z .p.q.r.s' ... OK\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 1546654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ac912c6e6a1fa60e2ed0dab2b596109?s=128&d=identicon&r=PG", "display_name": "Constant_Learner", "link": "https://stackoverflow.com/users/1546654/constant-learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 0, "accepted_answer_id": 30252509, "answer_count": 3, "score": 2, "last_activity_date": 1431671751, "creation_date": 1431654557, "last_edit_date": 1431665121, "question_id": 30250249, "link": "https://stackoverflow.com/questions/30250249/substitute-only-in-the-matched-part-of-a-perl-pattern", "title": "Substitute only in the matched part of a Perl pattern", "body": "<p>How can I substitute only in matched pattern and put it back in same variable using Perl?</p>\n\n<p>For example:</p>\n\n<pre><code>my $str = \"a.b.AA pat1 BB hgf AA pat1 BB jkl CC pat1 don't change pat1\";\n</code></pre>\n\n<p>I want to match <code>pat1</code> between <code>AA</code> and <code>BB</code> and replace it with Original string PAT2. However, I don't want to replace <code>pat1</code> anywhere else in the same string</p>\n\n<p>Expected output string:</p>\n\n<pre><code>a.b.AA PAT2 BB hgf AA PAT2 BB jkl CC pat1 don't change pat1\n</code></pre>\n\n<p>I am sure there should be some good way to do it; please advise.</p>\n\n<p>Original string:</p>\n\n<pre><code>my $ORG_str = 'A.B.C.\\\\valid.A .\\\\valid.A.B.C .\\\\valid.X.Y.Z .p.q.r.s';\n</code></pre>\n\n<p>Expected String:</p>\n\n<pre><code>my $EXP_op = 'A.B.C.\\\\valid?A .\\\\valid?A?B?C .\\\\valid?X?Y?Z .p.q.r.s';\n</code></pre>\n\n<p>Substitute character <code>.</code> to <code>?</code> only if it is between backslash <code>\\</code> and whitespace <code></code>.</p>\n"}, {"tags": ["perl", "split"], "comments": [{"owner": {"reputation": 876, "user_id": 1577347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5wJu.png?s=128&g=1", "display_name": "Chris Smeele", "link": "https://stackoverflow.com/users/1577347/chris-smeele"}, "edited": false, "score": 2, "creation_date": 1431646735, "post_id": 30249164, "comment_id": 48598927, "body": "Does grepText return a string? What sort of error are you seeing?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 876, "user_id": 1577347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5wJu.png?s=128&g=1", "display_name": "Chris Smeele", "link": "https://stackoverflow.com/users/1577347/chris-smeele"}, "edited": false, "score": 2, "creation_date": 1431647521, "post_id": 30249164, "comment_id": 48599139, "body": "@ChrisS: Any Perl subroutine returns a string if you treat it that way"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1431687696, "post_id": 30249164, "comment_id": 48615358, "body": "&quot;It doesn&#39;t work&quot; doesn&#39;t give us anything useful to go on. Exactly what unexpected behaviour are you seeing?"}], "answers": [{"comments": [{"owner": {"reputation": 588, "user_id": 1940533, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9c3fa75cb5aad69bda8770fa335f99d6?s=128&d=identicon&r=PG", "display_name": "Muzammil", "link": "https://stackoverflow.com/users/1940533/muzammil"}, "edited": false, "score": 0, "creation_date": 1431660494, "post_id": 30249290, "comment_id": 48602488, "body": "grepText returns a string, sorry i mistyped the first line of code (edited the original question)... if i have to pass the stringed output of grepText to split .. what would be the change in code ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 588, "user_id": 1940533, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9c3fa75cb5aad69bda8770fa335f99d6?s=128&d=identicon&r=PG", "display_name": "Muzammil", "link": "https://stackoverflow.com/users/1940533/muzammil"}, "edited": false, "score": 0, "creation_date": 1431698716, "post_id": 30249290, "comment_id": 48622894, "body": "@Muzammil: The change you have made makes it work fine and do exactly what you have asked for. If you need any more help then you must show the code for <code>grepText</code>, and describe the string that it returns, as well as the result you want and what you are getting. We can&#39;t do much with <b><i>it doesn&#39;t work</i></b>"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1431647200, "creation_date": 1431647200, "answer_id": 30249290, "question_id": 30249164, "link": "https://stackoverflow.com/questions/30249164/perl-subroutine-argument-is-another-subroutine-call/30249290#30249290", "title": "Perl - Subroutine argument is another subroutine call", "body": "<p>Sure it is. But as you've written it <code>grepText</code> is getting some strange parameters. In</p>\n\n<pre><code>(split \":\", grepText(/$textToFind/, $Alltext))[1];\n</code></pre>\n\n<p>you're calling <code>grepText(/$textToFind/, $Alltext)</code> which is searching for the value of <code>$textToFind</code> in the global variable <code>$_</code> and, in list context, is inserting either an empty list <code>()</code> or a list containing 1 <code>(1)</code> into the parameters</p>\n\n<p>So you're calling <code>grepText($Alltext)</code> or <code>grepText(1, $Alltext)</code> depending on whether <code>$_</code> contains the regex pattern in <code>$textToFind</code></p>\n\n<p>I'm pretty certain that's not what you want to do, so some more information would be nice!</p>\n\n<p>However, whatever <code>grepText</code> returns will be split on colons <code>:</code> and <code>(split \":\", grepText(...))[1]</code> will give you the second colon-separated field, which seems to be what you're asking</p>\n"}, {"comments": [{"owner": {"reputation": 588, "user_id": 1940533, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9c3fa75cb5aad69bda8770fa335f99d6?s=128&d=identicon&r=PG", "display_name": "Muzammil", "link": "https://stackoverflow.com/users/1940533/muzammil"}, "edited": false, "score": 0, "creation_date": 1431712040, "post_id": 30254054, "comment_id": 48631498, "body": "Got the problem .. i was using prototyping, which i shouldn&#39;t . !! thanks"}], "tags": [], "owner": {"reputation": 320, "user_id": 4882154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/977930685580655/picture?type=large", "display_name": "Gowtham Ganesh", "link": "https://stackoverflow.com/users/4882154/gowtham-ganesh"}, "is_accepted": true, "score": 1, "last_activity_date": 1431675395, "creation_date": 1431675395, "answer_id": 30254054, "question_id": 30249164, "link": "https://stackoverflow.com/questions/30249164/perl-subroutine-argument-is-another-subroutine-call/30254054#30254054", "title": "Perl - Subroutine argument is another subroutine call", "body": "<p>It is <strong>very much possible to pass the input of a subroutine to any perl function</strong> directly without using a perl variable.</p>\n\n<p>I think the <strong>issue might be with your \"grepText\" subroutine</strong>. To debug the issue in detail, much more information is required.</p>\n\n<p>I did try your routine and I was able to get the required output:</p>\n\n<pre><code>#!/usr/bin/perl\nsub grepText\n{\n return \"hello:world\"; # returns a test string\n}\n\nmy $output = (split \":\", grepText($textToFind, $Alltext))[1];\nprint \"$output\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>world\n</code></pre>\n"}], "owner": {"reputation": 588, "user_id": 1940533, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9c3fa75cb5aad69bda8770fa335f99d6?s=128&d=identicon&r=PG", "display_name": "Muzammil", "link": "https://stackoverflow.com/users/1940533/muzammil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 0, "accepted_answer_id": 30254054, "answer_count": 2, "score": -2, "last_activity_date": 1431711138, "creation_date": 1431646281, "last_edit_date": 1431711138, "question_id": 30249164, "link": "https://stackoverflow.com/questions/30249164/perl-subroutine-argument-is-another-subroutine-call", "title": "Perl - Subroutine argument is another subroutine call", "body": "<p>I have a subroutine called grepText, which simply greps a text from another variable. I am trying to split the output. Is it possible to pass the output of grepText as an argument to split directly? without putting the value of grepText in a variable first ? grepText returns a string.</p>\n\n<p>What i am trying to do is:</p>\n\n<pre><code>$output = (split \":\", grepText(\"findThis\", $Alltext))[1];\n</code></pre>\n\n<p>grepText is as follows</p>\n\n<pre><code>sub grepText(){\nmy @text = split \"\\n\", $_[1];\nmy $output = grep /$_[0]/, @text;\nreturn $output;\n}\n</code></pre>\n\n<p>it doesn't work. Error is </p>\n\n<pre><code>Too many arguments for main::grepText at a line 115, near \"$Alltext)\"\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 1, "creation_date": 1431677777, "post_id": 30248546, "comment_id": 48609315, "body": "<code>stat</code> works for me with spaces on Windows (8.1), no quotes needed.  Also, this question is kind of a mess--the output you claim to get in your first example was clearly not produced by the version of the code shown above.  Can you please cut it down to a simpler example (remove commented lines, etc) and show the output from that exact code?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431694577, "post_id": 30248546, "comment_id": 48619824, "body": "Why are you writing <b><code>while (defined($_ = &lt;ALL_&gt;)) </code></b>? Instead, use <code>while (my $line = &lt;$all&gt;)</code> ... i.e. instead of the topical variable <code>$_</code>, use your own lexically scoped <code>$line</code>, and instead of a bareword filehandle, use a lexical filehandle."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431694715, "post_id": 30248546, "comment_id": 48619932, "body": "Don&#39;t invent your own filename handling routines. Use <a href=\"https://metacpan.org/pod/File::Spec\" rel=\"nofollow noreferrer\">File::Spec</a>, or, <a href=\"https://metacpan.org/pod/Path::Class\" rel=\"nofollow noreferrer\">Path::Class</a>, or <a href=\"https://metacpan.org/pod/Path::Tiny\" rel=\"nofollow noreferrer\">Path::Tiny</a>. <code>stat</code> on Windows will work just fine with any mixture of / and \\ as separators in a file name, but if you did want to canonicalize strings you show users or pass to other programs, you would use <code>canonpath</code>."}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1431694440, "creation_date": 1431694440, "answer_id": 30260072, "question_id": 30248546, "link": "https://stackoverflow.com/questions/30248546/why-does-my-attempt-to-use-perls-stat-function-on-windows-fail/30260072#30260072", "title": "Why does my attempt to use Perl&#39;s stat function on Windows fail?", "body": "<p>None of what you are saying seems to be consistent with anything I know about paths etc on Windows. Here is a sample program that stats a bunch of files with spaces in their names:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse File::Spec::Functions qw(catdir catpath rootdir);\n\nuse File::Find;\n\nmy %number_of = (\n    files_with_spaces_for_which_stat_was_successful =&gt; 0,\n    files_with_spaces_seen =&gt; 0,\n);\n\nmy $top = catpath('C:', catdir(rootdir(), 'Program Files', 'Internet Explorer'));\nprint \"calling stat for every file under '$top'\\n\";\n\nfind({\n    no_chdir =&gt; 1,\n    wanted =&gt; sub {\n        next unless /\\s/;\n        $number_of{files_with_spaces_seen} += 1;\n        print \"$_: \";\n        if (stat) {\n            $number_of{files_with_spaces_for_which_stat_was_successful} += 1;\n            print \"+\\n\";\n        }\n        else {\n            print \"-\\n\";\n        }\n    },\n}, $top);\n\nuse YAML::XS;\nprint Dump \\%number_of;\n</code></pre>\n\n<p>Output:</p>\n\n<pre>C:\\> perl t.pl\n...\n---\nfiles_with_spaces_for_which_stat_was_successful: 171\nfiles_with_spaces_seen: 171</pre>\n"}], "owner": {"reputation": 19, "user_id": 1148326, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/29f6b4b6bb1319c6d791b00bb659bc00?s=128&d=identicon&r=PG", "display_name": "Jerry Stark", "link": "https://stackoverflow.com/users/1148326/jerry-stark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1431694852, "creation_date": 1431642657, "last_edit_date": 1495541655, "question_id": 30248546, "link": "https://stackoverflow.com/questions/30248546/why-does-my-attempt-to-use-perls-stat-function-on-windows-fail", "title": "Why does my attempt to use Perl&#39;s stat function on Windows fail?", "body": "<p>I could not figure out how to reopen the previous question. here is reference.\n <a href=\"https://stackoverflow.com/questions/30201565/using-perl-stat-function-on-windows/30201966#30201966\">Using Perl stat function on Windows</a></p>\n\n<p>I used your second suggestion and it worked for files with no spaces in the path-file-name. however many of the ones I am working with have spaces included.\nMy searching indicates that the string should be within double quotes to resolve this problem. I have made a few attempts with various outcomes.</p>\n\n<p>This code reads a file that contains a list of path-file-name entries. I read each one in and try to run stat on the full entry. There are duplicate entries with different size and date attributes. This is due to entries being on separate drives. I want to output the path-file-name, size, date attributes to another file. I would then use a sort function to put out a list sorted by the full path with date and size to allow deletion of unneeded entries after evaluating the list.</p>\n\n<p>This is the code for reading the path-file-name entries and trying to perform the stat function.</p>\n\n<pre><code>my $record = 0;\nmy $time   = 0;\nmy $size   = 0; \nmy $quote   = '\"';              # single quote, double quote, single quote\n\nprint \"quote = $quote \\n\";\n                                # read lines from listing file\nopen (ALL_, \"&lt;\", $filename);    # open my file list for reading\nwhile (defined($_ = &lt;ALL_&gt;))    # while(my $line = &lt;$\n{   chomp;                      # remove newline \"/n\" \n    print \" Normal value = $_\\n\"; # status output\n    $record = $_;\n    $record =~ s/\\\\/\\//g;       # change \\ to /\n    $record = \"\\\"$record\\\"\";    # add single double quote to start and end of record\n#   $record = $quote . $record . $quote;\n    print \" now = $record \\n\";\n\n#   use lib '/home/foobar/code';  ?? add dbl quotes\n#   use My::Module;\n\n    # Using File::stat, which replaces stat with a function with a friendlier interface:\n    use File::stat qw( stat );\n    use POSIX      qw( strftime );\n#   my $qfn = $quote . $_ . $quote;  # also adds double quote\n    my $qfn = $record; \n    my $stat = stat($qfn)   or die(\"Can't stat \\\"$qfn\\\": $!\\n\");\n\n    printf(\"File %s: size=%s modified=%s\\n\",\n        $qfn,\n        $stat-&gt;size,\n        strftime(\"%Y-%m-%d %H:%M:%S\", localtime($stat-&gt;mtime)), \n    );\n}\n</code></pre>\n\n<hr>\n\n<p>This gets</p>\n\n<pre><code>Normal value = N:\\dir1\\dir2\\dir3\\file1\nnow          = \"N:/dir1/dir2/dir3/file1\"\nCan't stat \"\"N:\\dir1\\dir2\\dir3\\file1\"\": No such file or directory\n</code></pre>\n\n<p>Quits because of   or die(can't stat \\\"qfn\\\": $!\\n\");</p>\n\n<hr>\n\n<p>if I comment out line  </p>\n\n<pre><code>$record = \"\\\"$record\\\"\";  \n</code></pre>\n\n<p>to leave off the double quotes I get:</p>\n\n<pre><code>normal value = N:\\dir1\\dir2\\dir3file1\nnow = N:/dir1/dir2/dir3/file1\nfile N:/dir1/dir2/dir3/file1: size=280580 modified=20022-12-13 09:41:28\nnormal value = C:\\dir01\\dir 02\\dir03\\file 2\nnow = C:/dir01/dir 02/dir03/file 2\nCan't stat \"C:/dir1/dir 02/dir03/file2\": No such file or directory\n</code></pre>\n\n<p>Quits because of   or die(can't stat \\\"qfn\\\": $!\\n\");</p>\n\n<hr>\n\n<p>Is there something different about stat that it handles double quotes differently such that it still sees the spaces?</p>\n\n<p>If I can get this all executing correctly: \nIs there a way to allow or die() to provide a message that indicates a failure and goes on processing for that one file that somehow got deleted during processing?</p>\n"}, {"tags": ["windows", "perl", "cygwin", "symlink", "stat"], "comments": [{"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1431645246, "post_id": 30248330, "comment_id": 48598522, "body": "What version of Perl are you using?  Did it come with <a href=\"https://www.cygwin.com/\" rel=\"nofollow noreferrer\">Cygwin</a>, or are you using <a href=\"http://www.activestate.com/activeperl\" rel=\"nofollow noreferrer\">ActiveState</a> or <a href=\"http://strawberryperl.com/\" rel=\"nofollow noreferrer\">Strawberry</a> Perl?"}, {"owner": {"reputation": 3357, "user_id": 673487, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/18a4968cb98b43351933702dc129622f?s=128&d=identicon&r=PG", "display_name": "madCode", "link": "https://stackoverflow.com/users/673487/madcode"}, "reply_to_user": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 0, "creation_date": 1431662649, "post_id": 30248330, "comment_id": 48603061, "body": "Perl version is v5.8.8. I&#39;m using Cygwin with windows!"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1431681507, "post_id": 30248330, "comment_id": 48611389, "body": "@madCode: Jim Davis asks whether you are using the Perl that comes bundled with Cygwin. Clearly you aren&#39;t (<a href=\"http://dev.perl.org/perl5/news/2006/perl-5.8.8.html\" rel=\"nofollow noreferrer\">5.8.8 came out 9 years ago</a>) and that might explain it. Use the Perl that Cygwin offers."}, {"owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "edited": false, "score": 0, "creation_date": 1431960054, "post_id": 30248330, "comment_id": 48707644, "body": "Cygwin&#39;s current Perl version is 5.14.4 .  You may want to re-run the Cygwin setup program."}], "owner": {"reputation": 3357, "user_id": 673487, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/18a4968cb98b43351933702dc129622f?s=128&d=identicon&r=PG", "display_name": "madCode", "link": "https://stackoverflow.com/users/673487/madcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1431643268, "creation_date": 1431641549, "question_id": 30248330, "link": "https://stackoverflow.com/questions/30248330/how-can-i-use-cygwins-stat-via-perl", "title": "How can I use cygwin&#39;s stat() via perl?", "body": "<p>A little background here: </p>\n\n<p>Here's the version of stat that my cygwin has: </p>\n\n<pre><code>$ stat --version\nstat (GNU coreutils) 8.4\nPackaged by Cygwin (8.4-2)\nCopyright (C) 2010 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\nWritten by Michael Meskes.\n</code></pre>\n\n<p>This seems to be specifically packaged by cygwin. </p>\n\n<p>When I use this stat to give me metadata about a file, it does and it points out symbolic links like: </p>\n\n<p>$ stat mylink</p>\n\n<blockquote>\n  <p>File: <code>mylink' -&gt;</code>/Users/abcdefg/Documents'   Size: 26<br>\n    Blocks: 1          IO Block: 65536  <strong>symbolic link</strong> Device:\n  sdfdfsd/323sdfd5682d  Inode: 61080069946278219  Links: 1 Access:\n  (0777/lrwxrwxrwx)  Uid: ( 1000/    root)   Gid: (  544/Administrators)\n  Access: 2014-03-14 16:32:44.002593300 +0000 Modify: 2014-05-14\n  16:32:44.002593300 +0000 Change: 2014-02-14 16:32:44.002593300 +0000</p>\n</blockquote>\n\n<p>However, when I do a stat or lstat using File::stat in Perl, and bitmask the $mode value from stat to obtain File Type and Permissions, I get a value that tells me that the file mylink is a \"Regular File\". \nWhen I do a cat on my link, it identifies it to be a directory. </p>\n\n<p>I'm trying to figure out, how to use the cygwin packaged 'stat' module through my perl file. Ideas?</p>\n"}, {"tags": ["python", "perl"], "comments": [{"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1431685464, "post_id": 30248180, "comment_id": 48613909, "body": "As perl code, that&#39;s a terrible abuse of a global filehandle. You should instead use a lexical:"}, {"owner": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1431685506, "post_id": 30248180, "comment_id": 48613926, "body": "<code>my $outputfh;  open( $outputfh, $outputfile ) and $struct{existing} = $outputfh;</code>"}, {"owner": {"reputation": 2350, "user_id": 3430345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/765cf9285c540072bdbedc39dee0b5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Abboud", "link": "https://stackoverflow.com/users/3430345/tony-abboud"}, "reply_to_user": {"reputation": 7958, "user_id": 1069726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2cbbae354bb4f5f320b93ab3ad4b0fa1?s=128&d=identicon&r=PG", "display_name": "LeoNerd", "link": "https://stackoverflow.com/users/1069726/leonerd"}, "edited": false, "score": 0, "creation_date": 1431706425, "post_id": 30248180, "comment_id": 48628277, "body": "@LeoNerd It&#39;s not my script. I am just tasked with converting it to python, and got tripped up on the syntax"}], "answers": [{"comments": [{"owner": {"reputation": 48698, "user_id": 836407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U5R3Y.png?s=128&g=1", "display_name": "chown", "link": "https://stackoverflow.com/users/836407/chown"}, "edited": false, "score": 0, "creation_date": 1431641318, "post_id": 30248224, "comment_id": 48597352, "body": "And if you&#39;re looking for <code>stdout</code> you can use <code>sys.stdout</code>."}], "tags": [], "owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "is_accepted": true, "score": 0, "last_activity_date": 1431641013, "creation_date": 1431641013, "answer_id": 30248224, "question_id": 30248180, "link": "https://stackoverflow.com/questions/30248180/how-can-you-store-a-file-handle-in-python-similar-to-perl/30248224#30248224", "title": "How can you store a file handle in python similar to perl?", "body": "<p>A \"file handle\" in Python is a reference to a <a href=\"https://docs.python.org/2/library/stdtypes.html#file-objects\" rel=\"nofollow\"><code>file</code> object</a>, which is handled like any other name in Python. Opening a file returns a file object:</p>\n\n<pre><code>output = open(outputfile)\n</code></pre>\n\n<p>This reference can be stored in a data structure:</p>\n\n<pre><code>struct[\"existing\"] = output\n</code></pre>\n"}], "owner": {"reputation": 2350, "user_id": 3430345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/765cf9285c540072bdbedc39dee0b5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Abboud", "link": "https://stackoverflow.com/users/3430345/tony-abboud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 30248224, "answer_count": 1, "score": 0, "last_activity_date": 1431641013, "creation_date": 1431640848, "question_id": 30248180, "link": "https://stackoverflow.com/questions/30248180/how-can-you-store-a-file-handle-in-python-similar-to-perl", "title": "How can you store a file handle in python similar to perl?", "body": "<p>How can I perform this code in python\n</p>\n\n<pre><code>open( OUTPUT, $outputfile )\nand $struct{'existing'} = *OUTPUT{IO}\n$struct{'output'} = *STDOUT{IO};\n</code></pre>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1431640884, "post_id": 30247937, "comment_id": 48597156, "body": "FYI, the first two arguments to <code>SegmentLineIntersection</code> should be a pair of points (a point has both an x- and a y-coordinate), not a pair of x-coordinates. You can&#39;t find the intersection of two line segments using only their x-coordinates. You&#39;ve asked several follow-up questions related to this, but it seems like you&#39;re missing a fundamental understanding of how this code works. I would urge you to re-read the <a href=\"https://metacpan.org/pod/Math::Geometry::Planar#SegmentLineIntersection-p1-p2-p3-p4\" rel=\"nofollow noreferrer\">documentation</a> for <code>Math::Geometry::Planar</code> and a modern Perl tutorial."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431640914, "post_id": 30247937, "comment_id": 48597172, "body": "You are including entirely too much cruft in your questions that is completely unrelated to the issue. In fact, you would learn faster if you did try to reduce the issue to the shortest possible complete program."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1431640974, "post_id": 30247937, "comment_id": 48597191, "body": "Also, the segment from (0, 2000) to (1, 2000) does not lie on the x-axis, although perhaps this is just a naming issue."}, {"owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431642649, "post_id": 30247937, "comment_id": 48597794, "body": "@ThisSuitIsBlackNot In this case, there is no normalization so no intersection with x-axis. This shifts makes the intersection possible. Just a dummy constant, the 2000."}], "answers": [{"comments": [{"owner": {"reputation": 13757, "user_id": 1270003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d5ed9123b92a6e4dffa75f9f6dd9e382?s=128&d=identicon&r=PG&f=1", "display_name": "texasbruce", "link": "https://stackoverflow.com/users/1270003/texasbruce"}, "edited": false, "score": 1, "creation_date": 1431640358, "post_id": 30247985, "comment_id": 48596895, "body": "Also he returns array reference and try to use it in for loop, which is also incorrect"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 5, "last_activity_date": 1431640189, "creation_date": 1431640189, "answer_id": 30247985, "question_id": 30247937, "link": "https://stackoverflow.com/questions/30247937/why-strict-refs-error-in-this-perl-function/30247985#30247985", "title": "Why strict refs error in this Perl function?", "body": "<p>You're reading the first argument you pass to the function (22.595451), which is a string, and are trying to treat it as an array (which it isn't).</p>\n\n<p>Presumably you intended to pass an array reference as a single argument instead of passing each member of the array as a separate argument.</p>\n\n<pre><code>x_intercepts(\\@xs)\n</code></pre>\n\n<hr>\n\n<p>Having converted the arrayref to a regular array, you then seem to try to treat it as a scalar:</p>\n\n<pre><code>my $xa = @{ $_[0] };\n</code></pre>\n\n<p>That doesn't make sense.</p>\n\n<p>Based on what you do later, it looks like you want <code>$ax</code> to be an arrayref, so don't dereference it:</p>\n\n<pre><code>my $xa = $_[0];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1431641176, "creation_date": 1431641176, "answer_id": 30248264, "question_id": 30247937, "link": "https://stackoverflow.com/questions/30247937/why-strict-refs-error-in-this-perl-function/30248264#30248264", "title": "Why strict refs error in this Perl function?", "body": "<p>Your example boils down to:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nrun();\n\nsub run {\n    print_x('x');\n}\n\nsub print_x {\n    my @x = @{ $_[0] };\n    print \"@x\\n\";\n}\n</code></pre>\n\n<p>You pass to <code>print_x</code> a list of strings (in this case, a list with just one element), but in <code>print_x</code>, you are treating the first argument as a reference to an array.</p>\n\n<p>Note that if that were the case, you would be creating a second (shallow) copy of the array by copying all of its elements to the lexically scoped <code>@x</code>. In most cases, this is not necessary or desired.</p>\n\n<p>Reduce the problems you encounter to the shortest complete and runnable script that still exhibits the problem. That will help you learn.</p>\n"}], "owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 30247985, "answer_count": 2, "score": 0, "last_activity_date": 1431641176, "creation_date": 1431639977, "question_id": 30247937, "link": "https://stackoverflow.com/questions/30247937/why-strict-refs-error-in-this-perl-function", "title": "Why strict refs error in this Perl function?", "body": "<p>Minimum code</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\nuse Math::Geometry::Planar qw(SegmentLineIntersection);\n\nsub x_intercepts {\n    my $xa = @{ $_[0] };\n    my @xcross = ();\n    my @x_axis = ( [0, 2000], [1, 2000] );\n\n    foreach my $i (0 .. 1) {\n        my $xc = SegmentLineIntersection([ @$xa[$i, $i + 1], @x_axis ]);\n        push @xcross, $xc;\n    }        \n    return \\@xcross;\n}\n\nmy @xs = qw/22.595451 20.089094 17.380813 15.091260 12.477935 10.054821 7.270003 4.804673 4.728526 4.619254 4.526920 4.418416 4.321419 4.219890 4.123336 4.009777 3.912648 3.804183 3.705847 3.597756 3.512301 3.393413 3.301963 3.196725 3.098560 3.007482 2.899825 2.801002 2.688680 2.598862 2.496139 2.393526 2.282183 2.190449 2.084530 1.987778 1.877562 1.788788 1.678473 1.578123 1.467071 1.373372 1.283629 1.176670 1.071805 0.975422 0.877622 0.767820 0.667409 0.562480 0.469068 0.354589 0.264291 0.152522 0.063765 -0.045323 -0.136783 -0.248559 -0.343694 -0.459178 -0.551917 -0.640803 -0.755502 -0.845535 -0.955227 -1.045879 -1.155600 -1.254556 -1.365163 -1.461669 -1.571370 -1.658043 -1.772672 -1.865942 -1.981037 -2.073702 -2.176205 -2.276184 -2.367371 -2.476278 -2.567385 -2.686326 -2.777433 -2.884357 -2.980067 -3.087754 -3.183607 -3.291003 -3.386942 -3.495822 -3.586759 -3.702955 -3.793550 -3.900680 -3.999672 -4.093094 -4.200047 -4.301026 -4.399742 -4.493190 -4.602013 -4.705124 -4.812383 -4.907510 -5.022904 -5.109829 -5.214304 -5.317662 -7.703172 -10.350131 -12.921361 -15.431203 -18.188013 -20.544248 -22.822808 -25.679854 -22.999092 -20.540434 -17.964916 -15.398857 -12.990375 -10.402209 -7.888263 -5.504909 -5.217892 -5.109841 -5.014187 -4.908558 -4.811807 -4.704282 -4.605555 -4.504613 -4.406546 -4.292540 -4.204043 -4.088770 -3.995524 -3.905669 -3.796544 -3.707958 -3.596449 -3.490966 -3.382869 -3.293054 -3.185821 -3.088417 -2.971214 -2.880314 -2.772518 -2.677986 -2.569794 -2.473668 -2.365096 -2.276422 -2.179232 -2.068195 -1.973110 -1.859565 -1.771873 -1.669422 -1.569953 -1.462626 -1.364911 -1.258100 -1.159318 -1.050486 -0.959979 -0.849149 -0.749421 -0.640950 -0.547122 -0.451754 -0.344463 -0.252269 -0.134625 -0.051640 0.052970 0.154112 0.266505 0.353926 0.468739 0.561666 0.673810 0.759169 0.881697 0.973207 1.082409 1.170424 1.282163 1.378096 1.472728 1.586454 1.678473 1.785688 1.873862 1.984090 2.086021 2.196799 2.292400 2.386097 2.493190 2.601726 2.694346 2.803450 2.901878 3.011959 3.103050 3.196979 3.294507 3.397563 3.504076 3.600163 3.712539 3.809573 3.919799 4.012314 4.120694 4.216406 4.322895 4.416466 4.522871 4.623917 4.735925 4.826929 7.361253 9.647208 12.337984 14.870260 17.439730 19.921717 22.524080 25.125903/;\n\nforeach my $i ( x_intercepts(@xs) ) {\n    print \"$i \\n\";\n}\n</code></pre>\n\n<p>which gives</p>\n\n<blockquote>\n  <p>Can't use string (\"22.595451\") as an ARRAY ref while \"strict refs\" in\n  use at test5.pl line 8.</p>\n</blockquote>\n\n<p>Something basic here wrong in declaring the variables. \nDeclaring <code>my main::$xa = main::$xa;</code> in initialization is not the way to go. </p>\n\n<p><strong>Why is this error coming?</strong></p>\n"}, {"tags": ["string", "perl", "data-structures", "awk", "substitution"], "answers": [{"comments": [{"owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "edited": false, "score": 0, "creation_date": 1431639318, "post_id": 30247561, "comment_id": 48596400, "body": "Hi John,  Thanks for your help.  I was wondering if you could make sense of the one-line awk code you&#39;ve provided?  First with &quot;Phase&quot; and &quot;station&quot;, are you essentially setting boundaries for where awk should be reading in the 9th column?  I&#39;m slightly confused with your FNR==NR statements.  Thank you for your help."}, {"owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "reply_to_user": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "edited": false, "score": 0, "creation_date": 1431639897, "post_id": 30247561, "comment_id": 48596696, "body": "@user78872 I have added an explanation for that to the answer."}, {"owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "edited": false, "score": 0, "creation_date": 1431728071, "post_id": 30247561, "comment_id": 48638787, "body": "Hi John,   I am running your one-liner inside a bash script, because I want to perform this for multiple files.  The code I have is below:  <code>#!&#47;bin&#47;bash  for i in </code>ls *mcp<code>; do  awk &#39;&#47;Mean&#47;{f=0} FNR==NR &amp;&amp; f{s+=$9;n++;} &#47;station&#47;{f=1} FNR==NR{next;} FNR==1{ave=s&#47;n} f{$9=$9-ave} 1&#39; $i $i  &gt;&gt; $i.newmcp  done</code>  I want to output to a new *mcp file, with the same formatting.  When I run the one-liner you have provided above, the formatting changes, such as there aren&#39;t spaces where there need to be.  Without doing any sort of printf command, is there a way to maintain the original formatting?"}, {"owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "reply_to_user": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "edited": false, "score": 0, "creation_date": 1431738775, "post_id": 30247561, "comment_id": 48641158, "body": "<i>&quot;such as there aren&#39;t spaces where there need to be.&quot;</i>  Where do there need to be spaces?"}, {"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 0, "creation_date": 1431752667, "post_id": 30247561, "comment_id": 48643485, "body": "++ ... must ... learn .... tricky awk  powers - and morph these powers in order to improve my perl skills ;-)"}, {"owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "edited": false, "score": 0, "creation_date": 1431962440, "post_id": 30247561, "comment_id": 48709404, "body": "What I mean is, when I want to read this file into perl, for example, the rows beginning with ZJ all move to the left one space.  So, if I read this into perl, now the column that I perform the operation on ($9), becomes column 8.  Could I use a printf command to fix this?"}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": false, "score": 1, "last_activity_date": 1431639869, "last_edit_date": 1431639869, "creation_date": 1431638484, "answer_id": 30247561, "question_id": 30247329, "link": "https://stackoverflow.com/questions/30247329/how-to-calculate-and-substitute-values-in-a-specific-column-of-tabular-data/30247561#30247561", "title": "How to calculate and substitute values in a specific column of tabular data?", "body": "<p>Using awk:</p>\n\n<pre><code>$ awk '/Phase/{f=0} FNR==NR &amp;&amp; f{s+=$9;n++;} /station/{f=1} FNR==NR{next;} FNR==1{ave=s/n} f{$9=$9-ave} 1' file file\nMCCC processed: unknown event at: Tue, 14 Oct 2014 12:02:26 CST \nstation, mccc delay, std, cc coeff, cc std, 1.3013 , t0_times , delay_times\nZJ.uno1 -0.7964 0.0051 0.9690 0.0139 0 GRAW.BHZ 301.1263 -0.5028\nZJ.dose -0.7065 0.0072 0.9760 0.0133 0 KNYN.BHZ 301.3372 -0.6236\nZJ.tres 0.9675 0.0072 0.9548 0.0292 0 LEON.BHZ 301.2611 1.1264\nPhase: P        \nPDE    2013  7 15 14  6 58.00   -60.867   -25.143   31.0  0.0  7.3 \n</code></pre>\n\n<h3>How it works</h3>\n\n<p>Because the name of the file appears twice on the command line, this program reads through the file twice.  The first time, it stores the sum of the column 9 numbers in <code>s</code> and the number of column 9 numbers in <code>n</code>.  Thus the average is <code>s/n</code>.  On the second time through, it subtracts the average from the column 9 value and prints the lines.</p>\n\n<p>As I interpret the question, the column 9 values of interest appear to be the ones after the line that starts with <code>station</code> and before the line that starts with <code>Phase</code>.  We keep and update a flag <code>f</code> to signal when we are in the range of lines of interest.</p>\n\n<ul>\n<li><p><code>/Phase/{f=0}</code></p>\n\n<p>When we have reached the line with <code>Phase</code>, set flag <code>f</code> to false to signal that we have reached the end of the range of lines.</p></li>\n<li><p><code>FNR==NR &amp;&amp; f{s+=$9;n++;}</code></p>\n\n<p>On the first time reading through the file and if flag <code>f</code> is true, then update the sum <code>s</code> and count <code>n</code>.</p>\n\n<p>In awk, <code>FNR</code> is the number of lines read so far from the current file and <code>NR</code> is the total number of lines read.  Thus, if <code>FNR==NR</code>, we are still reading the first file.</p></li>\n<li><p><code>/station/{f=1}</code></p>\n\n<p>If we are on the line with <code>station</code>, then set flag <code>f</code> to true to signal the beginning of the lines of interest.</p></li>\n<li><p><code>FNR==NR{next;}</code></p>\n\n<p>If we are reading the file the first time, skip the rest of the commands and jump to the <code>next</code> line.</p></li>\n<li><p><code>FNR==1{ave=s/n}</code></p>\n\n<p>If we have gotten here, we are now reading the file the second time.  When we get to the first line (<code>FNR==1</code>) of this second read through, calculate the average <code>ave</code>.</p></li>\n<li><p><code>f{$9=$9-ave}</code></p>\n\n<p>If <code>f</code> is true, subtract the average, <code>ave</code>, from column 9, <code>$9</code>.</p></li>\n<li><p><code>1</code></p>\n\n<p>This is awk's cryptic short hand for print-the-line.</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "edited": false, "score": 0, "creation_date": 1431958358, "post_id": 30271990, "comment_id": 48706358, "body": "Hello G.Cito,  Thanks for your comments.  I&#39;m going to take a look at this script and I&#39;ll let you know if I have any trouble.  Thank you for taking the time to help!"}], "tags": [], "owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "is_accepted": true, "score": 0, "last_activity_date": 1432043933, "last_edit_date": 1432043933, "creation_date": 1431752259, "answer_id": 30271990, "question_id": 30247329, "link": "https://stackoverflow.com/questions/30247329/how-to-calculate-and-substitute-values-in-a-specific-column-of-tabular-data/30271990#30271990", "title": "How to calculate and substitute values in a specific column of tabular data?", "body": "<p>Your attempted perl solution is pretty much spot on - you just didn't finish it :-)</p>\n\n<p>An \"extended one liner\" could be as follows: </p>\n\n<pre><code>perl -anE 'push @f,[@F] }{ for (@f){ $s += $_-&gt;[8] and $n++ if $_-&gt;[0] =~ /ZJ/ } \n           say $_-&gt;[0] =~ /ZJ/ ? ( \"@{$_}[0..7] \", $_-&gt;[8]-($s/$n) ) : \"@$_\" \n           for @f'  data.txt\n</code></pre>\n\n<p>Slightly shortened by using <code>-an</code> (see <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\"><code>perlrun</code></a>) but not very golfish. Much as with the <code>awk</code> solution from @John1024 we read the file twice - in this case with two <code>for</code> loops.  We use a ternary operator (<code>&lt;cond&gt; ? :</code>) to print out - or <code>say</code> - each lines, either as is (<code>@$_</code>), or with the field substitution.</p>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>MCCC processed: unknown event at: Tue, 14 Oct 2014 12:02:26 CST\nstation, mccc delay, std, cc coeff, cc std, pol , t0_times , delay_times\nZJ.uno1 -0.7964 0.0051 0.9690 0.0139 0 GRAW.BHZ 301.1263 -0.5028\nZJ.dose -0.7065 0.0072 0.9760 0.0133 0 KNYN.BHZ 301.3372 -0.6236\nZJ.tres 0.9675 0.0072 0.9548 0.0292 0 LEON.BHZ 301.2611 1.1264\nPhase: P\nPDE 2013 7 15 14 6 58.00 -60.867 -25.143 31.0 0.0 7.3\n</code></pre>\n\n<p>As a script that might read as follows:</p>\n\n<pre><code>use v5.16;\n\nmy (@timedata, $rec, $sum, $n) ;\n\nwhile (&lt;DATA&gt;) {\n    push @timedata, [ split(\" \") ] ;\n}\n\nforeach my $rec (@timedata){ \n  $sum += $rec-&gt;[8] and $n++ if $rec-&gt;[0] =~ /ZJ/ ;\n}    \n\nforeach $rec (@timedata) {\n say $rec-&gt;[0] =~ /ZJ/  ?  ( \"@{$rec}[0..7] \", $rec-&gt;[8]-($sum/$n) ) \n                        :    \"@$rec\" ;\n}\n\n__DATA__\nMCCC processed: unknown event at: Tue, 14 Oct 2014 12:02:26 CST \nstation, mccc delay,  std,   cc coeff,  cc std,   pol   , t0_times  , delay_times\n ZJ.uno1  -0.7964    0.0051    0.9690    0.0139    0  GRAW.BHZ   301.1263 -1.8041\n ZJ.dose  -0.7065    0.0072    0.9760    0.0133    0  KNYN.BHZ   301.3372 -1.9249\n ZJ.tres   0.9675    0.0072    0.9548    0.0292    0  LEON.BHZ   301.2611 -0.1749\nPhase: P        \nPDE    2013  7 15 14  6 58.00   -60.867   -25.143   31.0  0.0  7.3 \n</code></pre>\n\n<p>There may well be a way to avoid the two loops (combining <code>while</code> or <code>map</code> with <code>for</code> wouldn't really count though), but creating the  sum and average in one pass and substituting in another makes the script clear and simple.</p>\n"}], "owner": {"reputation": 473, "user_id": 4367994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/add879bb03f3b2b6b0a856814cf73e98?s=128&d=identicon&r=PG&f=1", "display_name": "geeb.24", "link": "https://stackoverflow.com/users/4367994/geeb-24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 3, "accepted_answer_id": 30271990, "answer_count": 2, "score": 0, "last_activity_date": 1432043933, "creation_date": 1431637612, "last_edit_date": 1431752519, "question_id": 30247329, "link": "https://stackoverflow.com/questions/30247329/how-to-calculate-and-substitute-values-in-a-specific-column-of-tabular-data", "title": "How to calculate and substitute values in a specific column of tabular data?", "body": "<p>Given the following input:</p>\n\n<pre><code>MCCC processed: unknown event at: Tue, 14 Oct 2014 12:02:26 CST \nstation, mccc delay,    std,    cc coeff,  cc std,   pol   , t0_times  , delay_times\n ZJ.uno1     -0.7964    0.0051    0.9690    0.0139    0  GRAW.BHZ   301.1263    -1.8041\n ZJ.dose     -0.7065    0.0072    0.9760    0.0133    0  KNYN.BHZ   301.3372    -1.9249\n ZJ.tres      0.9675    0.0072    0.9548    0.0292    0  LEON.BHZ   301.2611    -0.1749\nPhase: P        \nPDE    2013  7 15 14  6 58.00   -60.867   -25.143   31.0  0.0  7.3 \n</code></pre>\n\n<p>I want to remove the mean of the 9th column (delay_times) from each of those delay_times, which requires summing the 9th column values, dividing by the number of those values, and then subtracting the mean from each of those values (-1.8041, -1.9249, -0.1749).  </p>\n\n<p>I am confused about where to begin this endeavor.  I've provided a starting script below:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen my $file '&lt;', \"file.txt\" or die $!;\n\nwhile (&lt;$file&gt;) {\n    my ($name, $time) = (split /\\s+/, $file)[1,9];\n # Calculate the mean of the 9th column for every row that begins with ZJ,\n # and subtract the mean from each value (time) in the 9th column.\n}\n\n# Output the new file with the mean removed from each \"time\" in the 9th column\n</code></pre>\n\n<p>Would this be easier to do in awk, or perl?  Thank you.</p>\n"}, {"tags": ["javascript", "html", "forms", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1431636291, "post_id": 30246891, "comment_id": 48594944, "body": "You can do this using <a href=\"https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started\" rel=\"nofollow noreferrer\">Ajax</a>. If you use jQuery, you can <a href=\"http://www.sitepoint.com/use-jquerys-ajax-function/\" rel=\"nofollow noreferrer\">use the <code>$.ajax()</code> function</a>, which I find a lot less clunky than the pure JS approach."}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 4901346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e86f9eabdaaa4bc76b288b79265dcf6?s=128&d=identicon&r=PG&f=1", "display_name": "WayneF", "link": "https://stackoverflow.com/users/4901346/waynef"}, "edited": false, "score": 0, "creation_date": 1431642706, "post_id": 30246988, "comment_id": 48597814, "body": "Thanks much to both of you.  That is sounding right, and I think I have the idea now.  I&#39;ll dive into it.. Looks like a new world though... learning curve.  :)"}], "tags": [], "owner": {"reputation": 2182, "user_id": 1102638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7c9fbc08343c7fbfc9c5888d8e803e05?s=128&d=identicon&r=PG", "display_name": "Vadim Pushtaev", "link": "https://stackoverflow.com/users/1102638/vadim-pushtaev"}, "is_accepted": true, "score": 1, "last_activity_date": 1431636211, "last_edit_date": 1495541665, "creation_date": 1431636211, "answer_id": 30246988, "question_id": 30246891, "link": "https://stackoverflow.com/questions/30246891/spawn-server-cgi-from-html-javascript-at-load-time/30246988#30246988", "title": "Spawn server cgi from html Javascript, at load time?", "body": "<p>If I understand the question correctly, you want to send a request to a server on page load.</p>\n\n<p>You can do it pretty simple and straightforwardly via Javascript since submitting a form is not the only way to send a request. What you want is called <code>AJAX</code>.</p>\n\n<p>If you use <a href=\"https://jquery.com/\" rel=\"nofollow noreferrer\"><code>jQuery</code></a>, read about <a href=\"https://api.jquery.com/ready/\" rel=\"nofollow noreferrer\">ready</a> and <a href=\"http://api.jquery.com/jquery.ajax/\" rel=\"nofollow noreferrer\">ajax</a>.</p>\n\n<p>If you don't use <code>jQuery</code>, there is still a way <a href=\"https://stackoverflow.com/questions/807878/javascript-that-executes-after-page-load\">to execute any Javascript on page load</a> and <a href=\"https://stackoverflow.com/questions/8567114/how-to-make-an-ajax-call-without-jquery\">to send a request</a> (but you still better consider using <code>jQuery</code>).</p>\n"}], "owner": {"reputation": 179, "user_id": 4901346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e86f9eabdaaa4bc76b288b79265dcf6?s=128&d=identicon&r=PG&f=1", "display_name": "WayneF", "link": "https://stackoverflow.com/users/4901346/waynef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 30246988, "answer_count": 1, "score": 2, "last_activity_date": 1431636211, "creation_date": 1431635852, "question_id": 30246891, "link": "https://stackoverflow.com/questions/30246891/spawn-server-cgi-from-html-javascript-at-load-time", "title": "Spawn server cgi from html Javascript, at load time?", "body": "<p>I have HTML and Javascript that passes Form Input variables to a server Perl cgi that works when Form Submit button is clicked (Post, Action, etc).  I write it, but not much experience in that environment.</p>\n\n<p>Question is, I want the cgi to be spawned automatically (hopefully silently) when the HTML page is loaded. The Javascsript runs when loaded, but is there a way for it to then call the server cgi automatically (and pass the Form variables), without the form Submit button?   I fear Form requires Submit, but any exceptions? Or alternately, I know how to pass a parm string to the cgi, but I don't know how to spawn it automatically from Javascript? Typing <a href=\"http://...cgi\" rel=\"nofollow\">http://...cgi</a> spawns it, but automatically?</p>\n\n<p>The cgi does have the option to \"show no print\" on screen, silently, in which case, can it run asynchronously, without needing a \"return\" back to restore the browser control? Cgi could return via a spawn of the referrer page (a second load)? But is that necessary?  As is, because of the printed screen from Submit, it does need a manual return. </p>\n\n<p>Everything else is working, but both the automatic spawn and the silent return are a puzzle?  Ideas appreciated.</p>\n"}, {"tags": ["python", "regex", "perl"], "comments": [{"owner": {"reputation": 1878, "user_id": 98599, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bdb57938c676236c97c70ecdb12089aa?s=128&d=identicon&r=PG", "display_name": "Tuan Anh Hoang-Vu", "link": "https://stackoverflow.com/users/98599/tuan-anh-hoang-vu"}, "edited": false, "score": 2, "creation_date": 1431632728, "post_id": 30245984, "comment_id": 48592890, "body": "<code>#something = r&#39;.+[.].+[.](.+)&#39;</code>"}, {"owner": {"reputation": 2350, "user_id": 3430345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/765cf9285c540072bdbedc39dee0b5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Abboud", "link": "https://stackoverflow.com/users/3430345/tony-abboud"}, "reply_to_user": {"reputation": 1878, "user_id": 98599, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bdb57938c676236c97c70ecdb12089aa?s=128&d=identicon&r=PG", "display_name": "Tuan Anh Hoang-Vu", "link": "https://stackoverflow.com/users/98599/tuan-anh-hoang-vu"}, "edited": false, "score": 0, "creation_date": 1431632837, "post_id": 30245984, "comment_id": 48592959, "body": "Can you explain what it actually means? Is it looking for any number of decimals in a string?"}, {"owner": {"reputation": 1878, "user_id": 98599, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/bdb57938c676236c97c70ecdb12089aa?s=128&d=identicon&r=PG", "display_name": "Tuan Anh Hoang-Vu", "link": "https://stackoverflow.com/users/98599/tuan-anh-hoang-vu"}, "edited": false, "score": 0, "creation_date": 1431632908, "post_id": 30245984, "comment_id": 48593005, "body": "I just translated the regex definition from Perl to Python."}, {"owner": {"reputation": 2543, "user_id": 3527520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/284940a2227bc0245276e6022be418e3?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Fraser", "link": "https://stackoverflow.com/users/3527520/simon-fraser"}, "edited": false, "score": 1, "creation_date": 1431633119, "post_id": 30245984, "comment_id": 48593126, "body": "/.+[.].+[.](.+)/ is looking for &#39;any character&#39; (the .) at least once (the +), followed by a literal . followed by the same again (at least one of any character followed by a dot), then it looks for at least one of any character but records the value in $1 for later. The second one is looking for any alphanumeric character, and &#39;-&#39;, at least once, and that no other characters are in the string. It also stores the result in $1"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1431633135, "post_id": 30245984, "comment_id": 48593136, "body": "A bunch of characters followed by a dot followed by a bunch more characters followed by another dot followed by another bunch of characters which are captured. I strongly suspect the pattern actually needs to be anchored, and, also you probably should study more before attempting to do. Also, the script is not checking if the matches succeed, neither is your translated code, and that way lies destruction and catastrophe."}, {"owner": {"reputation": 2350, "user_id": 3430345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/765cf9285c540072bdbedc39dee0b5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Abboud", "link": "https://stackoverflow.com/users/3430345/tony-abboud"}, "reply_to_user": {"reputation": 2543, "user_id": 3527520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/284940a2227bc0245276e6022be418e3?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Fraser", "link": "https://stackoverflow.com/users/3527520/simon-fraser"}, "edited": false, "score": 0, "creation_date": 1431633203, "post_id": 30245984, "comment_id": 48593180, "body": "@SimonFraser Okay thank you very much, that helps a lot."}], "answers": [{"tags": [], "owner": {"reputation": 2311, "user_id": 2773607, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35dcf11a1e76a9435aa880b1f07c581f?s=128&d=identicon&r=PG&f=1", "display_name": "mprat", "link": "https://stackoverflow.com/users/2773607/mprat"}, "is_accepted": true, "score": 0, "last_activity_date": 1431633360, "creation_date": 1431633360, "answer_id": 30246181, "question_id": 30245984, "link": "https://stackoverflow.com/questions/30245984/how-can-i-convert-these-perl-regex-to-python/30246181#30246181", "title": "How can I convert these perl regex to python", "body": "<p>Regular expression syntax is the same for Python and Perl. Your question is more \"what does this regular expression search for.\"</p>\n\n<p>Referencing the Python regular expression library, I can deduce the following (<a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow\">https://docs.python.org/2/library/re.html</a>):</p>\n\n<pre><code>r'.+[.].+[.](.+)'\n</code></pre>\n\n<p>Is searching for something of the form </p>\n\n<pre><code>(one or more character).(one or more character).(one or more character)\n</code></pre>\n\n<p>And this one:</p>\n\n<pre><code>r'^([-\\w\\d]+)$'\n</code></pre>\n\n<p>Is searching for something of the form</p>\n\n<pre><code>a string starting with any number of letters A-Z/a-z or number 0-9 and no special characters\n</code></pre>\n"}], "owner": {"reputation": 2350, "user_id": 3430345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/765cf9285c540072bdbedc39dee0b5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Abboud", "link": "https://stackoverflow.com/users/3430345/tony-abboud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 30246181, "answer_count": 1, "score": -3, "last_activity_date": 1431633360, "creation_date": 1431632633, "last_edit_date": 1431632738, "question_id": 30245984, "link": "https://stackoverflow.com/questions/30245984/how-can-i-convert-these-perl-regex-to-python", "title": "How can I convert these perl regex to python", "body": "<p>I am trying to convert a perl script to python and I am hung up on the regex statements. </p>\n\n<p>Perl Script:</p>\n\n<pre><code>open NICKNAME, $NICKNAMEFILE or die \"$NICKNAMEFILE: $!\";\n&lt;NICKNAME&gt; =~ /.+[.].+[.](.+)/;\nmy $project = $1;\n$struct{'project'} = $project;\nclose NICKNAME;\n\nopen KEYFILE, $KEYHASHFILE or die \"$KEYHASHFILE: $!\";\n&lt;KEY&gt; =~ /^([-\\w\\d]+)$/;\nmy $key = $1;\n$struct{'key'} = $key;\nclose KEYFILE;\n</code></pre>\n\n<p>Python:</p>\n\n<pre><code>nickname = open(NICKNAMEFILE, \"r\")\nproject = re.search(#something)\nstruct['project'] = project\nnickname.close()\n\nkeyfile = open(KEYHASHFILE, \"r\")\nkey = re.search(#something)\nstruct['key'] = key\nkeyfile.close()\n</code></pre>\n"}]