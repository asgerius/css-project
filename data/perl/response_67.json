[{"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1461192880, "post_id": 36756441, "comment_id": 61093254, "body": "There&#39;s nothing special about <code>=</code> in regular expressions, it shouldn&#39;t throw it off."}, {"owner": {"reputation": 589595, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1461193017, "post_id": 36756441, "comment_id": 61093307, "body": "Your code works for me, except there&#39;s a space between <code>.html</code> and <code>)</code> in the result. That&#39;s because <code>([\\w\\W]+?)</code> matches the space after the filename."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1461195097, "post_id": 36756441, "comment_id": 61093892, "body": "The regex can be reduced to <a href=\"https://regex101.com/r/jF3qC2/1\" rel=\"nofollow noreferrer\"><code>s!==\\s*doc_url\\s*(.+?)\\s*==!&#47;doc_assets&#47;legacy&#47;$1!gis</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "is_accepted": false, "score": -1, "last_activity_date": 1461193277, "last_edit_date": 1461193277, "creation_date": 1461192947, "answer_id": 36756646, "question_id": 36756441, "link": "https://stackoverflow.com/questions/36756441/regex-in-perl-to-replace-content-containing-double-equal-signs/36756646#36756646", "title": "regex in Perl to replace content containing double equal signs", "body": "<p>I guess you need something like:</p>\n\n<pre><code>s!.*?doc_url (.*?/.*?) .*!(/doc_assets/legacy/$1)!sg\n</code></pre>\n\n<hr>\n\n<p><strong>i.e.:</strong></p>\n\n<pre><code>#!/usr/bin/perl\n$subject = \"(== doc_url html/arbitrary_file_name.html ==)\";\n$subject =~ s!.*?doc_url (.*?/.*?) .*!(/doc_assets/legacy/$1)!sg;\nprint $subject;\n#(/doc_assets/legacy/html/arbitrary_file_name.html)\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://ideone.com/quzHVu\" rel=\"nofollow\">Ideone Demo</a></p>\n\n<hr>\n\n<p><strong>Regex Explanation:</strong></p>\n\n<pre><code>.*?doc_url (.*?/.*?) .*\n\nOptions: Case\u00a0sensitive; Exact\u00a0spacing; Dot\u00a0matches\u00a0line\u00a0breaks; ^$\u00a0don\u2019t\u00a0match\u00a0at\u00a0line\u00a0breaks; Numbered\u00a0capture\n\nMatch any single character \u00ab.*?\u00bb\n   Between zero and unlimited times, as few times as possible, expanding as needed (lazy) \u00ab*?\u00bb\nMatch the character string \u201cdoc_url \u201d literally (case sensitive) \u00abdoc_url \u00bb\nMatch the regex below and capture its match into backreference number 1 \u00ab(.*?/.*?)\u00bb\n   Match any single character \u00ab.*?\u00bb\n      Between zero and unlimited times, as few times as possible, expanding as needed (lazy) \u00ab*?\u00bb\n   Match the character \u201c/\u201d literally \u00ab/\u00bb\n   Match any single character \u00ab.*?\u00bb\n      Between zero and unlimited times, as few times as possible, expanding as needed (lazy) \u00ab*?\u00bb\nMatch the character \u201c \u201d literally \u00ab \u00bb\nMatch any single character \u00ab.*\u00bb\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) \u00ab*\u00bb\n\n(/doc_assets/legacy/$1)\n\nInsert the character string \u201c(/doc_assets/legacy/\u201d literally \u00ab(/doc_assets/legacy/\u00bb\nInsert the text that was last matched by capturing group number 1 \u00ab$1\u00bb\nInsert the character \u201c)\u201d literally \u00ab)\u00bb\n</code></pre>\n"}], "owner": {"reputation": 1033, "user_id": 1147171, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5bba64a7fa6ea29fcfbb1ce7a6a039?s=128&d=identicon&r=PG", "display_name": "user1147171", "link": "https://stackoverflow.com/users/1147171/user1147171"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1461193277, "creation_date": 1461191834, "last_edit_date": 1461192796, "question_id": 36756441, "link": "https://stackoverflow.com/questions/36756441/regex-in-perl-to-replace-content-containing-double-equal-signs", "title": "regex in Perl to replace content containing double equal signs", "body": "<p>I need a regex in Perl to turn this:</p>\n\n<pre><code>(== doc_url html/arbitrary_file_name.html ==)\n</code></pre>\n\n<p>into this:</p>\n\n<pre><code>(/doc_assets/legacy/html/arbitrary_file_name.html)\n</code></pre>\n\n<p>I've tried all kinds of things.  My current attempt looks like this:</p>\n\n<pre><code>$content =~ s!\\=\\= doc_url ([\\w\\W]+?)\\=\\=!/doc_assets/legacy/$1!gis;\n</code></pre>\n\n<p>(In this particular attempt, I'm just letting the enclosing parentheses remain, since that doesn't change from the input to the output.)</p>\n\n<p>Anyway, nothing is working for me.  I assume it's the <code>==</code> throwing things off.  Any help will be greatly appreciated.</p>\n"}, {"tags": ["bash", "perl", "shell", "awk", "sed"], "comments": [{"owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "edited": false, "score": 0, "creation_date": 1461187831, "post_id": 36755492, "comment_id": 61091309, "body": "Aside: <code>[Xx][Mm][Ll]</code> is silly. Why not just consistently use lowercase <code>.xml</code>?"}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1461188024, "post_id": 36755492, "comment_id": 61091405, "body": "In what way is <code>&lt;start&gt;...</code> a duplicate of <code>&lt;end&gt;...</code>?  Your final awk solution should work just fine."}, {"owner": {"reputation": 1786, "user_id": 510220, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/PoQyO.jpg?s=128&g=1", "display_name": "dlite922", "link": "https://stackoverflow.com/users/510220/dlite922"}, "reply_to_user": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "edited": false, "score": 0, "creation_date": 1461188200, "post_id": 36755492, "comment_id": 61091493, "body": "@John, there some XML files that are upper case."}, {"owner": {"reputation": 1786, "user_id": 510220, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/PoQyO.jpg?s=128&g=1", "display_name": "dlite922", "link": "https://stackoverflow.com/users/510220/dlite922"}, "reply_to_user": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1461188242, "post_id": 36755492, "comment_id": 61091511, "body": "@WilliamPursell notice there are TWO start and TWO end tags but for different model types: A and B."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1461188287, "post_id": 36755492, "comment_id": 61091528, "body": "@WilliamPursell <code>&lt;start&gt;2016-04-20&lt;&#47;start&gt;</code> and <code>&lt;end&gt;2017-04-20&lt;&#47;end&gt;</code> each appear twice in the file."}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1461189284, "post_id": 36755492, "comment_id": 61091918, "body": "You need to define the problem more clearly, and the solution will be clear.  What is it that distinguishes a duplicate that should be deleted from one that should not be?  Is it that the duplicates which should be deleted occur in the same object?  Is it that they contain valid path names?  Is it that they do not contain date-like strings?"}, {"owner": {"reputation": 1786, "user_id": 510220, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/PoQyO.jpg?s=128&g=1", "display_name": "dlite922", "link": "https://stackoverflow.com/users/510220/dlite922"}, "edited": false, "score": 0, "creation_date": 1461189713, "post_id": 36755492, "comment_id": 61092077, "body": "I want to delete duplicate &lt;upath&gt; tags, case insensitively."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461191239, "post_id": 36755492, "comment_id": 61092645, "body": "<i>&quot;I want to delete the duplicate tags from this XML case INSENSITIVELY&quot;</i> You mean you want some code that will just delete those damn lines no matter <i>how much</i> they meant to me or <i>whose funeral</i> I was on my way to?"}], "answers": [{"comments": [{"owner": {"reputation": 1786, "user_id": 510220, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/PoQyO.jpg?s=128&g=1", "display_name": "dlite922", "link": "https://stackoverflow.com/users/510220/dlite922"}, "edited": false, "score": 0, "creation_date": 1461188756, "post_id": 36755710, "comment_id": 61091713, "body": "Unfortunately sometimes these lines are not one after another, there could be a third in the middle of them that&#39;s different. I&#39;ll update the question with this in mind."}], "tags": [], "owner": {"reputation": 4343, "user_id": 1565862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJLo7.png?s=128&g=1", "display_name": "fejese", "link": "https://stackoverflow.com/users/1565862/fejese"}, "is_accepted": false, "score": 1, "last_activity_date": 1461188392, "creation_date": 1461188392, "answer_id": 36755710, "question_id": 36755492, "link": "https://stackoverflow.com/questions/36755492/delete-a-specific-duplicate-line-from-xml-file-in-place/36755710#36755710", "title": "Delete a SPECIFIC duplicate line from XML file in place", "body": "<p>If you want to ignore only duplicate lines right after each other, you can store the previous line and compare to that. For ignoring the case you can use <code>tolower()</code> in the comparison on both sides:</p>\n\n<pre><code>awk '{ if (tolower(prev) != $0) print; prev = $0 }'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": false, "score": 0, "last_activity_date": 1461542173, "last_edit_date": 1592644375, "creation_date": 1461189765, "answer_id": 36756040, "question_id": 36755492, "link": "https://stackoverflow.com/questions/36755492/delete-a-specific-duplicate-line-from-xml-file-in-place/36756040#36756040", "title": "Delete a SPECIFIC duplicate line from XML file in place", "body": "<h2>\ud83d\udcceIt looks like you're working with XML. Would you like to parse it?</h2>\n<p>Hey, I've never done it with Perl before, but there's an <a href=\"http://search.cpan.org/%7Egrantm/XML-SAX-0.99/SAX/Intro.pod\" rel=\"nofollow noreferrer\">Introductory Tutorial</a> and everything... which wasn't super straightforward. Reading the <a href=\"http://search.cpan.org/%7Egrantm/XML-SAX-0.99/SAX/ParserFactory.pm\" rel=\"nofollow noreferrer\">XML::SAX::ParserFactory</a> and <a href=\"http://search.cpan.org/%7Egrantm/XML-SAX-Base-1.08/BuildSAXBase.pl\" rel=\"nofollow noreferrer\">XML::SAX::Base</a> I came up with the code you see at the bottom of this answer.</p>\n<h2>The question was updated to not have adjacent lines; previously:</h2>\n<p>Okay, I'm seeing that you've got two <code>&lt;start&gt;</code> tags with dates that match and two <code>&lt;end&gt;</code> tags with dates that match <em>in the whole file</em>, but those are in different sections. If all your duplicate lines are <em>effectively also adjacent</em>, as they <strike>are</strike> <strong>were</strong> in your example, you need only use the <code>uniq</code> command from GNU Coreutils or an equivalent. This command could ignore case through the right use of the <code>LC_COLLATE</code> environment variable setting, but honestly, I found it very hard to spot an example or <a href=\"http://teaching.idallen.org/net2003/06w/notes/character_sets.txt\" rel=\"nofollow noreferrer\">read how to use <code>LC_COLLATE</code></a> to ignore case.</p>\n<p>Continuing with a parser:</p>\n<pre><code>#!/usr/bin/perl\nuse XML::SAX;\n\nmy $parser = XML::SAX::ParserFactory-&gt;parser(\n    Handler =&gt; TestXMLDeduplication-&gt;new()\n);\n\nmy $ret_ref = $parser-&gt;parse_file(\\*TestXMLDeduplication::DATA);\nclose(TestXMLDeduplication::DATA);\n\nprint &quot;\\n\\nDuplicates skipped: &quot;, $ret_ref-&gt;{skipped}, &quot;\\n&quot;;\nprint &quot;Duplicates cut: &quot;, $ret_ref-&gt;{cut}, &quot;\\n&quot;;\n\npackage TestXMLDeduplication;\nuse base qw(XML::SAX::Base);\n\nmy $inUserinterface;\nmy $inUpath;\nmy $upathSeen;\nmy $defaultOut;\nmy $currentOut;\nmy $buffer;\nmy %seen;\nmy %ret;\n\nsub new {\n    # Idealy STDOUT would be an argument\n    my $type = shift;\n    #open $defaultOut, '&gt;&amp;', STDOUT or die &quot;Opening STDOUT failed: $!&quot;;\n    $defaultOut = *STDOUT;\n    $currentOut = $defaultOut;\n    return bless {}, $type;\n}\n\nsub start_document {\n    %ret = ();\n    $inUserinterface = 0;\n    $inUpath = 0;\n    $upathSeen = 0;\n}\n\nsub end_document {\n    return \\%ret;\n}\n\nsub start_element {\n    my ($self, $element) = @_;\n\n    if ('userinterface' eq $element-&gt;{Name}) {\n      $inUserinterface++;\n      %seen = ();\n    }\n    if ('upath' eq $element-&gt;{Name}) {\n      $buffer = q{};\n      undef $currentOut;\n      open($currentOut, '&gt;&gt;', \\$buffer) or die &quot;Opening buffer failed: $!&quot;;\n      $inUpath++;\n    }\n\n    print $currentOut '&lt;', $element-&gt;{Name};\n    print $currentOut attributes($element-&gt;{Attributes});\n    print $currentOut '&gt;';\n}\n\nsub end_element {\n    my ($self, $element) = @_;\n\n    print $currentOut '&lt;/', $element-&gt;{Name};\n    print $currentOut '&gt;';\n\n    if ('userinterface' eq $element-&gt;{Name}) {\n      $inUserinterface--;\n    }\n\n    if ('upath' eq $element-&gt;{Name}) {\n      close($currentOut);\n      $currentOut = $defaultOut;\n      # Check if what's in upath was seen (lower-cased)\n      if ($inUserinterface &amp;&amp; $inUpath) {\n    if (!exists $seen{lc($buffer)}) {\n          print $currentOut $buffer;\n    } else {\n      $ret{skipped}++;\n      $ret{cut} .= $buffer;\n    }\n    $seen{lc($buffer)} = 1;\n      }\n      $inUpath--;\n    }\n}\n\nsub characters {\n    # Note that this also capture indentation and newlines between tags etc.\n    my ($self, $characters) = @_;\n\n    print $currentOut $characters-&gt;{Data};\n}\n\nsub attributes {\n    my ($attributesRef) = @_;\n    my %attributes = %$attributesRef;\n\n    foreach my $a (values %attributes) {\n        my $v = $a-&gt;{Value};\n      # See also XML::Quote\n      $v =~ s/&amp;/&amp;amp;/g;\n      $v =~ s/&lt;/&amp;lt;/g;\n      $v =~ s/&gt;/&amp;gt;/g;\n      $v =~ s/&quot;/&amp;quot;/g;\n    print $currentOut ' ', $a-&gt;{Name}, '=&quot;', $v, '&quot;';\n    }\n}\n\n__DATA__\n  &lt;package&gt;\n    &lt;id&gt;1523456789&lt;/id&gt;\n    &lt;models&gt;\n      &lt;model type=&quot;A&quot;&gt;\n        &lt;start&gt;2016-04-20&lt;/start&gt;   \n        &lt;end&gt;2017-04-20&lt;/end&gt;    \n      &lt;/model&gt;\n      &lt;model type=&quot;B&quot;&gt;                 \n        &lt;start&gt;2016-04-20&lt;/start&gt;     \n        &lt;end&gt;2017-04-20&lt;/end&gt;        \n      &lt;/model&gt;\n    &lt;/models&gt;\n    &lt;userinterface&gt;\n      &lt;upath&gt;/Example/Dir/Here&lt;/upath&gt;\n      &lt;upath&gt;/Example/Dir/Here2&lt;/upath&gt;\n      &lt;upath&gt;/example/dir/here&lt;/upath&gt;   \n    &lt;/userinterface&gt;\n    &lt;userinterface&gt;\n      &lt;upath&gt;/Example/Dir/&lt;b&gt;Here&lt;/b&gt;&lt;/upath&gt; &lt;upath&gt;/Example/Dir/Here2&lt;/upath&gt;\n      &lt;upath&gt;/example/dir/&lt;b&gt;here&lt;/b&gt;&lt;/upath&gt;   \n    &lt;/userinterface&gt;\n  &lt;/package&gt;\n</code></pre>\n<p>This doesn't work by lines any longer and instead finds <code>upath</code> tags inside <code>userinterface</code> tags which it removes if they're duplicates within that parent group. The surrounding indentation and newlines are retained. Also it would get kind of weird if there were <code>upath</code> tags within <code>upath</code> tags.</p>\n<p>It looks like this:</p>\n<pre><code>$ perl saxEG.pl\n&lt;package&gt;\n    &lt;id&gt;1523456789&lt;/id&gt;\n    &lt;models&gt;\n      &lt;model type=&quot;A&quot;&gt;\n        &lt;start&gt;2016-04-20&lt;/start&gt;\n        &lt;end&gt;2017-04-20&lt;/end&gt;\n      &lt;/model&gt;\n      &lt;model type=&quot;B&quot;&gt;\n        &lt;start&gt;2016-04-20&lt;/start&gt;\n        &lt;end&gt;2017-04-20&lt;/end&gt;\n      &lt;/model&gt;\n    &lt;/models&gt;\n    &lt;userinterface&gt;\n      &lt;upath&gt;/Example/Dir/Here&lt;/upath&gt;\n      &lt;upath&gt;/Example/Dir/Here2&lt;/upath&gt;\n\n    &lt;/userinterface&gt;\n    &lt;userinterface&gt;\n      &lt;upath&gt;/Example/Dir/&lt;b&gt;Here&lt;/b&gt;&lt;/upath&gt; &lt;upath&gt;/Example/Dir/Here2&lt;/upath&gt;\n\n    &lt;/userinterface&gt;\n  &lt;/package&gt;\nDuplicates skipped: 2\nDuplicates cut: &lt;upath&gt;/example/dir/here&lt;/upath&gt;&lt;upath&gt;/example/dir/&lt;b&gt;here&lt;/b&gt;&lt;/upath&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1461265718, "post_id": 36757883, "comment_id": 61133168, "body": "Worth a +1 just because it suggests using an XML parser, not a regex."}], "tags": [], "owner": {"reputation": 2335, "user_id": 5649859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p04sl.jpg?s=128&g=1", "display_name": "Rany Albeg Wein", "link": "https://stackoverflow.com/users/5649859/rany-albeg-wein"}, "is_accepted": false, "score": 2, "last_activity_date": 1461201566, "last_edit_date": 1461201566, "creation_date": 1461201189, "answer_id": 36757883, "question_id": 36755492, "link": "https://stackoverflow.com/questions/36755492/delete-a-specific-duplicate-line-from-xml-file-in-place/36757883#36757883", "title": "Delete a SPECIFIC duplicate line from XML file in place", "body": "<p>The following script accepts an XML file as a first argument, uses <code>xmlstarlet</code> ( <code>xml</code> in the script ) to parse the <em>XML</em> tree and an <a href=\"http://mywiki.wooledge.org/BashGuide/Arrays#Associative_Arrays\" rel=\"nofollow\">Associative Array</a> ( requires Bash 4 ) to store unique <code>&lt;upath&gt;</code> node values.</p>\n\n<pre><code>#!/bin/bash\n\ninput_file=$1\n# XPath to retrieve &lt;upath&gt; node value.\nxpath_upath_value='//package/userinterface/upath/text()'\n# XPath to print XML tree excluding  &lt;userinterface&gt; part.\nxpath_exclude_userinterface_tree='//package/*[not(self::userinterface)]'\n# Associative array to help us remove duplicated &lt;upath&gt; node values.\ndeclare -A arr\n\nprint_userinterface_no_dup() { \n    printf '%s\\n' \"&lt;userinterface&gt;\"\n    printf '&lt;upath&gt;%s&lt;/upath&gt;\\n' \"${arr[@]}\"\n    printf '%s\\n' \"&lt;/userinterface&gt;\"\n}\n\n# Iterate over each &lt;upath&gt; node value, lower-case it and use it as a key in the associative array.\nwhile read -r upath; do\n    key=\"${upath,,}\"\n    # We can remove this 'if' statement and simply arr[$key]=\"$upath\"\n    # if it doesn't matter whether we remove &lt;upath&gt;foo&lt;/upath&gt; or &lt;upath&gt;FOO&lt;/upath&gt;\n    if [[ ! \"${arr[$key]}\" ]]; then\n        arr[$key]=\"$upath\"\n    fi\ndone &lt; &lt;(xml sel -t -m \"$xpath_upath_value\" -c \\. -n \"$input_file\")\n\nprintf '%s\\n' \"&lt;package&gt;\"\n\n# Print XML tree excluding &lt;userinterface&gt; part.\nxml sel -t -m \"$xpath_exclude_userinterface_tree\" -c \\. \"$input_file\"\n\n# Print &lt;userinterface&gt; tree without duplicates.\nprint_userinterface_no_dup\n\nprintf '%s\\n' \"&lt;/package&gt;\"\n</code></pre>\n\n<p>Test ( script name is <strong><em>sof</em></strong> ):</p>\n\n<pre><code>$ ./sof xml_file\n&lt;package&gt;\n    &lt;id&gt;1523456789&lt;/id&gt;\n    &lt;models&gt;\n      &lt;model type=\"A\"&gt;\n        &lt;start&gt;2016-04-20&lt;/start&gt;\n        &lt;end&gt;2017-04-20&lt;/end&gt;\n      &lt;/model&gt;\n      &lt;model type=\"B\"&gt;                 \n        &lt;start&gt;2016-04-20&lt;/start&gt;\n        &lt;end&gt;2017-04-20&lt;/end&gt;\n      &lt;/model&gt;\n    &lt;/models&gt;\n    &lt;userinterface&gt;\n        &lt;upath&gt;/Example/Dir/Here2&lt;/upath&gt;\n        &lt;upath&gt;/Example/Dir/Here&lt;/upath&gt;\n    &lt;/userinterface&gt;\n&lt;/package&gt;\n</code></pre>\n\n<p>If my comments are not making the code clear enough for you, please ask and I'll answer and edit this solution accordingly.</p>\n\n<hr>\n\n<p>My <code>xmlstarlet</code> version is <strong>1.6.1</strong>, compiled against <em>libxml2 2.9.2</em> and <em>libxslt 1.1.28</em>.</p>\n"}, {"comments": [{"owner": {"reputation": 1786, "user_id": 510220, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/PoQyO.jpg?s=128&g=1", "display_name": "dlite922", "link": "https://stackoverflow.com/users/510220/dlite922"}, "edited": false, "score": 1, "creation_date": 1461256533, "post_id": 36758201, "comment_id": 61128036, "body": "hahaha, Drive-By Downvoter... chuckle. I don&#39;t know who it was but I got you buddy! It&#39;s the answer i&#39;m looking for. Yeah I could write a program for it but in my situation it&#39;s a patch until the next release of my software. I had to edit these XML&#39;s by hand each day as they came in just to get them through my application. I needed a one-liner to put in a cron until I found the bug and fixed it. Yeah, sure I could use XMLStarlet and Perl XML to /program/ it, but why write a program when a one liner would do? !  Thank you!"}, {"owner": {"reputation": 1786, "user_id": 510220, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/PoQyO.jpg?s=128&g=1", "display_name": "dlite922", "link": "https://stackoverflow.com/users/510220/dlite922"}, "edited": false, "score": 0, "creation_date": 1461256824, "post_id": 36758201, "comment_id": 61128229, "body": "Bonus points if you can do this inline? I need to apply this to a directory of XML&#39;s without using for loop and temp files like so: <code>for afile in *.xml; do awk &#39;...&#39; $afile &gt; to $afile.tmp &amp;&amp; mv $afile.tmp $afile</code>. it seems like a guru would come up with a better method that I&#39;m not seeing to awk the file in place."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 1786, "user_id": 510220, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/PoQyO.jpg?s=128&g=1", "display_name": "dlite922", "link": "https://stackoverflow.com/users/510220/dlite922"}, "edited": false, "score": 0, "creation_date": 1461257090, "post_id": 36758201, "comment_id": 61128395, "body": "With GNU awk just add the <code>-i inplace</code> flag. Otherwise the tmp file is the way to do it. Also consider using <code>find ... -print0 | xargs -0</code> instead of a for loop."}], "tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": true, "score": 0, "last_activity_date": 1461203473, "creation_date": 1461203473, "answer_id": 36758201, "question_id": 36755492, "link": "https://stackoverflow.com/questions/36755492/delete-a-specific-duplicate-line-from-xml-file-in-place/36758201#36758201", "title": "Delete a SPECIFIC duplicate line from XML file in place", "body": "<pre><code>$ awk '!(/&lt;upath&gt;/ &amp;&amp; seen[tolower($1)]++)' file\n  &lt;package&gt;\n    &lt;id&gt;1523456789&lt;/id&gt;\n    &lt;models&gt;\n      &lt;model type=\"A\"&gt;\n        &lt;start&gt;2016-04-20&lt;/start&gt;      &lt;------ Duplicate line to keep\n        &lt;end&gt;2017-04-20&lt;/end&gt;          &lt;------ Duplicate line to keep\n      &lt;/model&gt;\n      &lt;model type=\"B\"&gt;\n        &lt;start&gt;2016-04-20&lt;/start&gt;      &lt;------ Duplicate line to keep\n        &lt;end&gt;2017-04-20&lt;/end&gt;          &lt;------ Duplicate line to keep\n      &lt;/model&gt;\n    &lt;/models&gt;\n    &lt;userinterface&gt;\n      &lt;upath&gt;/Example/Dir/Here&lt;/upath&gt;\n      &lt;upath&gt;/Example/Dir/Here2&lt;/upath&gt;\n    &lt;/userinterface&gt;\n  &lt;/package&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1786, "user_id": 510220, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/PoQyO.jpg?s=128&g=1", "display_name": "dlite922", "link": "https://stackoverflow.com/users/510220/dlite922"}, "edited": false, "score": 0, "creation_date": 1461256593, "post_id": 36767120, "comment_id": 61128080, "body": "Thanks, but a bit overkill. Ed Morton fixed the problem in my awk."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 1786, "user_id": 510220, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/PoQyO.jpg?s=128&g=1", "display_name": "dlite922", "link": "https://stackoverflow.com/users/510220/dlite922"}, "edited": false, "score": 2, "creation_date": 1461265065, "post_id": 36767120, "comment_id": 61132808, "body": "Awk is a bad idea, because it doesn&#39;t do context. XML is a contextual language, so that sort of solution will always be brittle, and prone to breaking with perfectly valid changes to the input. See <a href=\"http://stackoverflow.com/a/1732454/2566198\">stackoverflow.com/a/1732454/2566198</a>"}, {"owner": {"reputation": 1786, "user_id": 510220, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/PoQyO.jpg?s=128&g=1", "display_name": "dlite922", "link": "https://stackoverflow.com/users/510220/dlite922"}, "edited": false, "score": 0, "creation_date": 1461340741, "post_id": 36767120, "comment_id": 61171011, "body": "That&#39;s ok, I&#39;m just doing this once or twice until I fix a bug in my app. Otherwise I&#39;d be editing the XML&#39;s by hand."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1461265658, "last_edit_date": 1495541770, "creation_date": 1461235239, "answer_id": 36767120, "question_id": 36755492, "link": "https://stackoverflow.com/questions/36755492/delete-a-specific-duplicate-line-from-xml-file-in-place/36767120#36767120", "title": "Delete a SPECIFIC duplicate line from XML file in place", "body": "<p>If you're parsing XML, you really should use a parser. There are multiple options for this - but DON'T use regular expressions, because they're a route to really brittle code - for all  the reasons you're finding.</p>\n\n<p>See: <a href=\"https://stackoverflow.com/a/1732454/2566198\">parsing XML with regex</a>. </p>\n\n<p>But the long and short of it is - XML is a contextual language. Regular expressions aren't. There are also some perfectly valid variances in XML, which are semantically identical, the regex won't handle.</p>\n\n<p>E.g. Unary tags, variable indentation, paths to tags in different location and line wrapping. </p>\n\n<p>I could format your source XML a bunch of different ways - all of which would be valid XML, saying the same thing. But which would break regex based parsing. That's something to be avoided - one day, mysteriously, your script will break for no particular reason, as the result of an upstream change that's valid within the XML spec. </p>\n\n<p>Which is why you should use a parser: </p>\n\n<p>I like <code>XML::Twig</code> which is a <code>perl</code> module. You can do what you want something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nuse XML::Twig; \n\nmy %seen; \n\n#a subroutine to process any \"upath\" tags. \nsub process_upath {\n   my ( $twig, $upath ) = @_; \n   my $text = lc $upath -&gt; trimmed_text;\n   $upath -&gt; delete if $seen{$text}++; \n}\n\n#instantiate the parser, and configure what to 'handle'. \nmy $twig = XML::Twig -&gt; new ( twig_handlers =&gt; { 'upath' =&gt; \\&amp;process_upath } );\n   #parse from our data block - but you'd probably use a file handle here. \n   $twig -&gt; parse ( \\*DATA );\n   #set output formatting\n   $twig -&gt; set_pretty_print ( 'indented_a' );\n   #print to STDOUT.\n   $twig -&gt; print;\n\n__DATA__\n  &lt;package&gt;\n    &lt;id&gt;1523456789&lt;/id&gt;\n    &lt;models&gt;\n      &lt;model type=\"A\"&gt;\n        &lt;start&gt;2016-04-20&lt;/start&gt;   \n        &lt;end&gt;2017-04-20&lt;/end&gt;    \n      &lt;/model&gt;\n      &lt;model type=\"B\"&gt;                 \n        &lt;start&gt;2016-04-20&lt;/start&gt;     \n        &lt;end&gt;2017-04-20&lt;/end&gt;        \n      &lt;/model&gt;\n    &lt;/models&gt;\n    &lt;userinterface&gt;\n      &lt;upath&gt;/Example/Dir/Here&lt;/upath&gt;\n      &lt;upath&gt;/Example/Dir/Here2&lt;/upath&gt;\n      &lt;upath&gt;/example/dir/here&lt;/upath&gt;   \n    &lt;/userinterface&gt;\n  &lt;/package&gt;\n</code></pre>\n\n<p>This is the long form, to illustrate the concept, and it outputs:</p>\n\n<pre><code>&lt;package&gt;\n  &lt;id&gt;1523456789&lt;/id&gt;\n  &lt;models&gt;\n    &lt;model type=\"A\"&gt;\n      &lt;start&gt;2016-04-20&lt;/start&gt;\n      &lt;end&gt;2017-04-20&lt;/end&gt;\n    &lt;/model&gt;\n    &lt;model type=\"B\"&gt;\n      &lt;start&gt;2016-04-20&lt;/start&gt;\n      &lt;end&gt;2017-04-20&lt;/end&gt;\n    &lt;/model&gt;\n  &lt;/models&gt;\n  &lt;userinterface&gt;\n    &lt;upath&gt;/Example/Dir/Here&lt;/upath&gt;\n    &lt;upath&gt;/Example/Dir/Here2&lt;/upath&gt;\n  &lt;/userinterface&gt;\n&lt;/package&gt;\n</code></pre>\n\n<p>It can be reduced down considerably though, via the <code>parsefile_inplace</code> method. </p>\n"}], "owner": {"reputation": 1786, "user_id": 510220, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/PoQyO.jpg?s=128&g=1", "display_name": "dlite922", "link": "https://stackoverflow.com/users/510220/dlite922"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 0, "accepted_answer_id": 36758201, "answer_count": 5, "score": 3, "last_activity_date": 1461542173, "creation_date": 1461187515, "last_edit_date": 1461193134, "question_id": 36755492, "link": "https://stackoverflow.com/questions/36755492/delete-a-specific-duplicate-line-from-xml-file-in-place", "title": "Delete a SPECIFIC duplicate line from XML file in place", "body": "<p>I've been reading about deleting duplicate lines all over stack. There's perl, awk, and sed solutions, however none as specific as I want and I'm  at a loss. </p>\n\n<p>I want to delete the duplicate <code>&lt;path&gt;</code> tags from this XML case INSENSITIVELY with a quick bash/shell perl command. Leave all other duplicate lines (like <code>&lt;start&gt;</code> and <code>&lt;end&gt;</code>) intact! </p>\n\n<p>Input XML: </p>\n\n<pre><code>  &lt;package&gt;\n    &lt;id&gt;1523456789&lt;/id&gt;\n    &lt;models&gt;\n      &lt;model type=\"A\"&gt;\n        &lt;start&gt;2016-04-20&lt;/start&gt;      &lt;------ Duplicate line to keep \n        &lt;end&gt;2017-04-20&lt;/end&gt;          &lt;------ Duplicate line to keep\n      &lt;/model&gt;\n      &lt;model type=\"B\"&gt;                 \n        &lt;start&gt;2016-04-20&lt;/start&gt;      &lt;------ Duplicate line to keep\n        &lt;end&gt;2017-04-20&lt;/end&gt;          &lt;------ Duplicate line to keep\n      &lt;/model&gt;\n    &lt;/models&gt;\n    &lt;userinterface&gt;\n      &lt;upath&gt;/Example/Dir/Here&lt;/upath&gt;\n      &lt;upath&gt;/Example/Dir/Here2&lt;/upath&gt;\n      &lt;upath&gt;/example/dir/here&lt;/upath&gt;   &lt;------ Duplicate line to REMOVE\n    &lt;/userinterface&gt;\n  &lt;/package&gt;\n</code></pre>\n\n<p>So far I've been able to grab the duplicate lines, but don't know how to remove them. The following </p>\n\n<pre><code>grep -H path *.[Xx][Mm][Ll] | sort | uniq -id\n</code></pre>\n\n<p>Gives the result:</p>\n\n<pre><code>test.xml:          &lt;upath&gt;/example/dir/here&lt;/upath&gt;\n</code></pre>\n\n<p>How do I remove that line now? </p>\n\n<p>Doing the perl version or awk version below erases the <code>&lt;start&gt;</code> and <code>&lt;end&gt;</code> dates as well. </p>\n\n<pre><code>perl -i.bak -ne 'print unless $seen{lc($_)}++' test.xml\nawk '!a[tolower($0)]++' test.xml &gt; test.xml.new\n</code></pre>\n"}, {"tags": ["perl", "unix"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1461184761, "post_id": 36754660, "comment_id": 61089724, "body": "Yes. This is very easy in <code>perl</code>. However - Stack Overflow isn&#39;t a place to get people to do your work for you - it&#39;s about helping programmers solve programming problems. To this end - showing an attempt at solving your problem yourself elicits better responses."}, {"owner": {"reputation": 27, "user_id": 2697374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5128d070d186d0414a6a07b2f46a5cf?s=128&d=identicon&r=PG&f=1", "display_name": "snowy_squirrel", "link": "https://stackoverflow.com/users/2697374/snowy-squirrel"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1461184870, "post_id": 36754660, "comment_id": 61089784, "body": "I&#39;m sorry, this wasn&#39;t my intention at all. I just wanted some leads because I honestly am a little bit lost. I know how to do it in pseudo code but the loops are hard for me. Sorry."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1461184895, "post_id": 36754660, "comment_id": 61089792, "body": "This is also very easy with <code>awk</code> -- associative arrays indexed on sample name to accumulate sum and count. Give it a shot."}, {"owner": {"reputation": 27, "user_id": 2697374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5128d070d186d0414a6a07b2f46a5cf?s=128&d=identicon&r=PG&f=1", "display_name": "snowy_squirrel", "link": "https://stackoverflow.com/users/2697374/snowy-squirrel"}, "reply_to_user": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1461185602, "post_id": 36754660, "comment_id": 61090177, "body": "@JeffY What do you think about that: I combine $1 and $2 and see if this combination is present somewhere else in the file. If yes, I somehow do the mean of the count of all these occurrences."}, {"owner": {"reputation": 2414, "user_id": 5379657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4a9ac2ee2c7a27f5d976d6a787970?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Y", "link": "https://stackoverflow.com/users/5379657/jeff-y"}, "edited": false, "score": 0, "creation_date": 1461185942, "post_id": 36754660, "comment_id": 61090342, "body": "@user2697374 Yes combining $1 and $2 into a key/index is also an awk idiom: <code>++count[$1&quot;.&quot;$2]</code> e.g."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1461186090, "post_id": 36754660, "comment_id": 61090407, "body": "pseudocoding your algorithm would be a good step in showing willing to solve it yourself. Specifically - given that input, what is the algorithm you&#39;d use, and what is the desired output?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461187940, "post_id": 36754660, "comment_id": 61091359, "body": "May your file contain data for multiple genes?"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 2697374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5128d070d186d0414a6a07b2f46a5cf?s=128&d=identicon&r=PG&f=1", "display_name": "snowy_squirrel", "link": "https://stackoverflow.com/users/2697374/snowy-squirrel"}, "edited": false, "score": 0, "creation_date": 1461200064, "post_id": 36754794, "comment_id": 61095191, "body": "Thank you for your input! I appreciate it"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1461185019, "creation_date": 1461185019, "answer_id": 36754794, "question_id": 36754660, "link": "https://stackoverflow.com/questions/36754660/calculate-mean-value-of-column-if-multiple-occurrences-in-another-column/36754794#36754794", "title": "Calculate mean value of column if multiple occurrences in another column", "body": "<p>Use <a href=\"http://p3rl.org/List::Util\" rel=\"nofollow\">List::Util</a> to get the <code>sum</code> function. Store the RPKMs in a hash of arrays, the key being the sample. At the end, sum the arrays and divide by numbers of their elements:</p>\n\n<pre><code>perl -MList::Util=sum -lane '\n    next if 1 == $.;\n    push @{ $h{ $F[0] } }, $F[2];\n    }{\n    print $_, \"\\t\", sum(@{ $h{$_} }) / @{ $h{$_} }\n        for sort keys %h;\n' &lt; input-file &gt; output-file\n</code></pre>\n\n<ul>\n<li><code>-n</code> reads the input line by line.</li>\n<li><code>-a</code> splits each line on whitespace into the @F array.</li>\n<li><code>-l</code> adds newlines to prints.</li>\n<li><code>$.</code> is the line number, it equals 1 for the header line.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 2697374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5128d070d186d0414a6a07b2f46a5cf?s=128&d=identicon&r=PG&f=1", "display_name": "snowy_squirrel", "link": "https://stackoverflow.com/users/2697374/snowy-squirrel"}, "edited": false, "score": 0, "creation_date": 1461200128, "post_id": 36755273, "comment_id": 61095207, "body": "Thanks a lot for your answer, and for the comments. I learned a lot, thank you"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1461186684, "creation_date": 1461186684, "answer_id": 36755273, "question_id": 36754660, "link": "https://stackoverflow.com/questions/36754660/calculate-mean-value-of-column-if-multiple-occurrences-in-another-column/36755273#36755273", "title": "Calculate mean value of column if multiple occurrences in another column", "body": "<p>The core problem here is - if you have a condition like 'if there's multiple, delete the repeats' - you don't know if that condition applies until you've parsed the whole file. </p>\n\n<p>You can read it all in, do some calculations (that are idempotent) and then dump some output.  A bit like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy %stuff;\n\n#iterate line by line of the special 'DATA' filehandle. \n#(You probably want &lt;&gt; instead)\nwhile (&lt;DATA&gt;) {\n   #split on any whitespace. \n   my ( $sample, $gene, $RPKM ) = split;\n   #stuff the values into a list. \n   push( @{ $stuff{$sample}{$gene} }, $RPKM );\n}\n\n#iterate processed results and print them\nforeach my $sample ( sort keys %stuff ) {\n   foreach my $gene ( sort keys %{ $stuff{$sample} } ) {\n      #sum and divide for average. \n      my $sum = 0;\n      $sum += $_ for @{ $stuff{$sample}{$gene} };\n      print join \"\\t\", $sample, $gene, $sum / @{ $stuff{$sample}{$gene} },\n        \"\\n\";\n   }\n}\n\n__DATA__\nMK_001_27   HPSE2   17.3767266340978\nMK_003_11   HPSE2   51.1152373602497\nMK_002_5    HPSE2   16.5372913024845\nMK_001_23   HPSE2   25.8985857481585\nMK_001_23   HPSE2   21.6045197173757\nMK_001_27   HPSE2   139.450963428357\nMK_001_23   HPSE2   36.7603351866179\nMK_003_9    HPSE2   25.2860867858956\nMK_001_22   HPSE2   100.915250867745\nMK_003_9    HPSE2   35.078964327254\nMK_003_12   HPSE2   34.078813048573\nMK_003_9    HPSE2   13.5865540939141\n</code></pre>\n\n<p>This gives:</p>\n\n<pre><code>MK_001_22   HPSE2   100.915250867745    \nMK_001_23   HPSE2   28.0878135507174    \nMK_001_27   HPSE2   78.4138450312274    \nMK_002_5    HPSE2   16.5372913024845    \nMK_003_11   HPSE2   51.1152373602497    \nMK_003_12   HPSE2   34.078813048573 \nMK_003_9    HPSE2   24.6505350690212    \n</code></pre>\n\n<p>Note - it's sorted alphanumerically, because hashes are intrinsically unordered. IF you need to maintain ordering, it's a bit more complicated, but not impossible. </p>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 2697374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5128d070d186d0414a6a07b2f46a5cf?s=128&d=identicon&r=PG&f=1", "display_name": "snowy_squirrel", "link": "https://stackoverflow.com/users/2697374/snowy-squirrel"}, "edited": false, "score": 0, "creation_date": 1461200017, "post_id": 36755840, "comment_id": 61095176, "body": "Thank you so much @Borodin! I learned a lot and it works perfectly. I adapted it a little to my files. Again, thank you!"}, {"owner": {"reputation": 27, "user_id": 2697374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5128d070d186d0414a6a07b2f46a5cf?s=128&d=identicon&r=PG&f=1", "display_name": "snowy_squirrel", "link": "https://stackoverflow.com/users/2697374/snowy-squirrel"}, "edited": false, "score": 0, "creation_date": 1461207566, "post_id": 36755840, "comment_id": 61097022, "body": "Just to be sure..  push @{ $mean_rpkm{$gene}{$sample} }, $rpkm; says that the key is gene&amp;sample and the value is rpkm right?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 3, "last_activity_date": 1467569342, "last_edit_date": 1467569342, "creation_date": 1461188937, "answer_id": 36755840, "question_id": 36754660, "link": "https://stackoverflow.com/questions/36754660/calculate-mean-value-of-column-if-multiple-occurrences-in-another-column/36755840#36755840", "title": "Calculate mean value of column if multiple occurrences in another column", "body": "<p>This is quite straightforward if you accumulate the contents of your data file into a Perl hash. You don't make it clear whether there may be multiple genes in a single file, so I've coded this for multiple samples and multiple genes</p>\n\n<p>The program expects the input file as a parameter on the command line, and prints its output to STDOUT which may be redirected as normal</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse List::Util 'sum';\n\nprint scalar &lt;&gt;;  # Copy the header line\n\nmy %mean_rpkm;\n\nwhile ( &lt;&gt; ) {\n    my ($sample, $gene, $rpkm) = split;\n    push @{ $mean_rpkm{$gene}{$sample} }, $rpkm;\n}\n\nfor my $gene ( sort keys %mean_rpkm ) {\n\n    for my $sample ( sort keys %{ $mean_rpkm{$gene} } ) {\n        my $rpkm = $mean_rpkm{$gene}{$sample};\n        my $mean = sum(@$rpkm) / @$rpkm;\n        printf \"%s\\t%s\\t%.3f\\n\", $sample, $gene, $mean;\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Sample      Gene    RPKM\nMK_001_22   HPSE2   100.915\nMK_001_23   HPSE2   28.088\nMK_001_27   HPSE2   78.414\nMK_002_5    HPSE2   16.537\nMK_003_11   HPSE2   51.115\nMK_003_12   HPSE2   34.079\nMK_003_9    HPSE2   24.651\n</code></pre>\n\n<p><br/></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>The output from my solution is essentially unordered. I have sorted the genes and samples lexically, but you may want them in the same order as they appear in the input file. If so then you should say so</p>\n\n<p>A useful intermediate solution is to install <a href=\"https://metacpan.org/pod/Sort::Naturally\" rel=\"nofollow\"><code>Sort::Naturally</code></a> (it's not a core module) and add</p>\n\n<pre><code>use Sort::Naturally 'nsort';\n</code></pre>\n\n<p>to the top of the above program. If you then replace both occurrences of <code>sort</code> with <code>nsort</code> then you will get this output. It may not be idea, but it's an improvement because it sorts <code>MK_003_9</code> <em>before</em> <code>MK_003_11</code> which a simple lexical sort doesn't do</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Sample      Gene    RPKM\nMK_001_22   HPSE2   100.915\nMK_001_23   HPSE2   28.088\nMK_001_27   HPSE2   78.414\nMK_002_5    HPSE2   16.537\nMK_003_9    HPSE2   24.651\nMK_003_11   HPSE2   51.115\nMK_003_12   HPSE2   34.079\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 2697374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5128d070d186d0414a6a07b2f46a5cf?s=128&d=identicon&r=PG&f=1", "display_name": "snowy_squirrel", "link": "https://stackoverflow.com/users/2697374/snowy-squirrel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 1, "accepted_answer_id": 36755840, "answer_count": 3, "score": 0, "last_activity_date": 1467569342, "creation_date": 1461184576, "last_edit_date": 1461187606, "question_id": 36754660, "link": "https://stackoverflow.com/questions/36754660/calculate-mean-value-of-column-if-multiple-occurrences-in-another-column", "title": "Calculate mean value of column if multiple occurrences in another column", "body": "<p>This is part of a tab separated file that I generated:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Sample      Gene    RPKM\nMK_001_27   HPSE2   17.3767266340978\nMK_003_11   HPSE2   51.1152373602497\nMK_002_5    HPSE2   16.5372913024845\nMK_001_23   HPSE2   25.8985857481585\nMK_001_23   HPSE2   21.6045197173757\nMK_001_27   HPSE2   139.450963428357\nMK_001_23   HPSE2   36.7603351866179\nMK_003_9    HPSE2   25.2860867858956\nMK_001_22   HPSE2   100.915250867745\nMK_003_9    HPSE2   35.078964327254\nMK_003_12   HPSE2   34.078813048573\nMK_003_9    HPSE2   13.5865540939141\n</code></pre>\n\n<p>Any gene is present in at least one sample. It may be present multiple times in the same sample.</p>\n\n<p>I want to generate the mean of the <em>Reads Per Kilobase per Million</em> (RPKM) value and use it to replace multiple value for any given gene from the same sample</p>\n\n<p>For example</p>\n\n<pre><code>MK_003_9    HPSE2   35.078964327254\nMK_003_9    HPSE2   13.5865540939141\nMK_003_9    HPSE2   25.2860867858956\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>MK_003_9    HPSE2   24.650535069\n</code></pre>\n\n<p>s there a way that you know of that could resolve this in Unix or in Perl?</p>\n\n<p>Pseudocode</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>-For each line, combine column 0 (sample) and column 1 (gene) to create a \"key\" \n though not always unique\n-Run through the file to see if this \"key\" is present somewhere else\n-Count the number of times this \"key\" is present\n-If present &gt; 1 time, calculate the mean of the RPKM values by sum()/count\n-Create occurrence with this \"key\" and the new RPKM value\n-Delete(?) the other corresponding \"keys\"\n</code></pre>\n"}, {"tags": ["perl", "binary", "decimal"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 7, "creation_date": 1461183893, "post_id": 36754392, "comment_id": 61089163, "body": "Can you envision what the solution would be without code? i.e., using pen and paper? That would be the first step, because if you don&#39;t know how to solve the problem, no amount of code is going to help."}, {"owner": {"reputation": 107, "user_id": 3313728, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c99e01b54b8d926730d2cc67647a1c2f?s=128&d=identicon&r=PG&f=1", "display_name": "user3313728", "link": "https://stackoverflow.com/users/3313728/user3313728"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1461184192, "post_id": 36754392, "comment_id": 61089366, "body": "No. I&#39;ve never done conversion before."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1461184484, "post_id": 36754392, "comment_id": 61089559, "body": "Then that&#39;s where you need to start. You go from right to left, mapping the <code>1</code> bits to powers of 2 that correspond to their positions (2^0, 2^1, 2^2, etc.) and dropping the <code>0</code> bits. Then you sum everything up."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1461184686, "post_id": 36754392, "comment_id": 61089681, "body": "@user3313728 this will be a useful post to read, it documents both a way to perform the conversion and why it mathematically makes sense: <a href=\"http://math.stackexchange.com/questions/86207/converting-decimalbase-10-numbers-to-binary-by-repeatedly-dividing-by-2\" title=\"converting decimalbase 10 numbers to binary by repeatedly dividing by 2\">math.stackexchange.com/questions/86207/&hellip;</a>"}, {"owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "edited": false, "score": 2, "creation_date": 1461185036, "post_id": 36754392, "comment_id": 61089873, "body": "As far as I can see, that script converts a number to binary. Your task is the opposite."}, {"owner": {"reputation": 107, "user_id": 3313728, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c99e01b54b8d926730d2cc67647a1c2f?s=128&d=identicon&r=PG&f=1", "display_name": "user3313728", "link": "https://stackoverflow.com/users/3313728/user3313728"}, "edited": false, "score": 0, "creation_date": 1461185270, "post_id": 36754392, "comment_id": 61090009, "body": "Aw geez, you&#39;re right."}, {"owner": {"reputation": 107, "user_id": 3313728, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c99e01b54b8d926730d2cc67647a1c2f?s=128&d=identicon&r=PG&f=1", "display_name": "user3313728", "link": "https://stackoverflow.com/users/3313728/user3313728"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1461186521, "post_id": 36754392, "comment_id": 61090633, "body": "@HunterMcMillen that is for decimal to binary. does it still apply when converting binary to decimal?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1461187368, "post_id": 36754392, "comment_id": 61091103, "body": "@user3313728 I&#39;ve given you the algorithm---does it not make sense? Here&#39;s an <a href=\"https://www.mathsisfun.com/binary-number-system.html\" rel=\"nofollow noreferrer\">illustrated explanation</a> as well. Using that, how do you think you would approach the problem?"}, {"owner": {"reputation": 107, "user_id": 3313728, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c99e01b54b8d926730d2cc67647a1c2f?s=128&d=identicon&r=PG&f=1", "display_name": "user3313728", "link": "https://stackoverflow.com/users/3313728/user3313728"}, "edited": false, "score": 0, "creation_date": 1461187865, "post_id": 36754392, "comment_id": 61091326, "body": "I watched this: <a href=\"https://www.youtube.com/watch?v=OJjEuE6gZ1w\" rel=\"nofollow noreferrer\">youtube.com/watch?v=OJjEuE6gZ1w</a> so I have a much better idea of how to convert it on paper. Now I just need to put it in Perl."}, {"owner": {"reputation": 107, "user_id": 3313728, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c99e01b54b8d926730d2cc67647a1c2f?s=128&d=identicon&r=PG&f=1", "display_name": "user3313728", "link": "https://stackoverflow.com/users/3313728/user3313728"}, "edited": false, "score": 0, "creation_date": 1461191001, "post_id": 36754392, "comment_id": 61092563, "body": "I&#39;ve made some progress and put it in the description."}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 1, "creation_date": 1461191370, "post_id": 36754392, "comment_id": 61092685, "body": "The script you just posted just converts a decimal number to binary and not the other way around.  Additionally the use of &quot;reverse&quot; is gratuitous.  The idea of the assignment is for you to walk through the arbitrary long string of &#39;0&#39; and &#39;1&#39; given on the command-line and build a number.  We could do that for you, but that&#39;s not what we&#39;re here to do."}, {"owner": {"reputation": 107, "user_id": 3313728, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c99e01b54b8d926730d2cc67647a1c2f?s=128&d=identicon&r=PG&f=1", "display_name": "user3313728", "link": "https://stackoverflow.com/users/3313728/user3313728"}, "edited": false, "score": 0, "creation_date": 1461191768, "post_id": 36754392, "comment_id": 61092846, "body": "We&#39;ve spent only 2 classes going over Perl, and before then, I had no idea it even existed. Can you give me a hint, a clue, anything to help me along because I have no idea what I&#39;m doing? I&#39;m extremely new to this (which for some reason, someone edited out of the post), and am not a programmer by habit."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1461192800, "post_id": 36754392, "comment_id": 61093224, "body": "As I&#39;ve said multiple times, this isn&#39;t even a Perl problem yet; this is a math problem. Here&#39;s how to get the binary number in the proper format to do something with it: <code>my @arr = reverse(split(&#47;&#47;, &#39;111110100&#39;));</code> Now show us the math that needs to be done."}, {"owner": {"reputation": 107, "user_id": 3313728, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c99e01b54b8d926730d2cc67647a1c2f?s=128&d=identicon&r=PG&f=1", "display_name": "user3313728", "link": "https://stackoverflow.com/users/3313728/user3313728"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1461193471, "post_id": 36754392, "comment_id": 61093440, "body": "(2^0 + 2^2 + 2^4 + 2^5 + 2^6 + 2^7 + 2^8) = (4 + 16 + 32 + 64 + 128 + 256) =  500 @MattJacob"}], "answers": [{"comments": [{"owner": {"reputation": 5701, "user_id": 35812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e663162cefd6ac833e0555933b8583f?s=128&d=identicon&r=PG", "display_name": "Chris Charley", "link": "https://stackoverflow.com/users/35812/chris-charley"}, "edited": false, "score": 0, "creation_date": 1461252813, "post_id": 36757615, "comment_id": 61125387, "body": "Thanks to your illustration, I saw that a recursive solution was a solution. Still (unsuccessfully) working on an iterative one."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1461199327, "last_edit_date": 1461199327, "creation_date": 1461199002, "answer_id": 36757615, "question_id": 36754392, "link": "https://stackoverflow.com/questions/36754392/perl-script-to-convert-a-binary-number-to-a-decimal-number/36757615#36757615", "title": "Perl script to convert a binary number to a decimal number", "body": "<p>First of all, you are suppose to convert from a binary to decimal, not the other way around, which you means you take an input like <code>$binary = '1011001';</code>.</p>\n\n<p>The first thing you need to do is obtain the individual bits (a<sub>0</sub>, a<sub>1</sub>, etc) from that. We're talking about splitting the string into its individual digits.</p>\n\n<pre><code>for my $bit (split(//, $binary)) {\n   ...\n}\n</code></pre>\n\n<p>That should be a great starting point. With that, you have all that you need to apply the following refactoring of the formula you posted:</p>\n\n<p>n = ( ( ( ... )*2 + a<sub>2</sub> )*2 + a<sub>1</sub> )*2 + a<sub>0</sub></p>\n\n<p>[I have no idea why <code>reverse</code> would be recommended. It's possible to use it, but it's suboptimal.]</p>\n\n\n"}, {"tags": [], "owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1461207094, "creation_date": 1461207094, "answer_id": 36758741, "question_id": 36754392, "link": "https://stackoverflow.com/questions/36754392/perl-script-to-convert-a-binary-number-to-a-decimal-number/36758741#36758741", "title": "Perl script to convert a binary number to a decimal number", "body": "<p>You could just use <strong>sprintf</strong> to do the converting for you...</p>\n\n<pre><code>sprintf(\"%d\", 0b010101);  # Binary string 010101 -&gt; Decimal 21\n\nsprintf(\"%b\", 21)         # Decimal 21 -&gt; Binary 010101 string\n</code></pre>\n\n<p>Of course, you can also just <strong>eval</strong> a binary string with <strong>0b</strong> in front to indicate binary:</p>\n\n<pre><code>my $binary_string = '010101';\nmy $decimal = eval(\"0b$binary\");  # 21\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1461254440, "creation_date": 1461254440, "answer_id": 36774907, "question_id": 36754392, "link": "https://stackoverflow.com/questions/36754392/perl-script-to-convert-a-binary-number-to-a-decimal-number/36774907#36774907", "title": "Perl script to convert a binary number to a decimal number", "body": "<p>You don't <em>have</em> to use <code>reverse</code>, but it makes it easy to think about the problem with respect to exponents and array indices.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $str = '111110100';\nmy @bits = reverse(split(//, $str));\nmy $sum = 0;\n\nfor my $i (0 .. $#bits) {\n    next unless $bits[$i];\n    $sum += 2 ** $i;\n}\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 3313728, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c99e01b54b8d926730d2cc67647a1c2f?s=128&d=identicon&r=PG&f=1", "display_name": "user3313728", "link": "https://stackoverflow.com/users/3313728/user3313728"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1543, "favorite_count": 0, "answer_count": 3, "score": -4, "last_activity_date": 1461254440, "creation_date": 1461183706, "last_edit_date": 1461217457, "question_id": 36754392, "link": "https://stackoverflow.com/questions/36754392/perl-script-to-convert-a-binary-number-to-a-decimal-number", "title": "Perl script to convert a binary number to a decimal number", "body": "<p>I have to write a Perl script that converts a binary number, specified as an\nargument, to a decimal number. In the question there's a hint to use the <em>reverse</em> function.</p>\n\n<p>We have to assume that the binary number is in this format</p>\n\n<p><img src=\"https://i.imgur.com/6ZS6UTB.jpg\" alt=\"Binary\"></p>\n\n<p>EDIT: This is what I've progressed to (note this is code from my textbook that I've messed with):</p>\n\n<pre><code>#!/usr/bin/perl\n# dec2.pl: Converts decimal number to binary\n#\ndie(\"No arguments\\n\") if ( $#ARGV == -1 ) ;\n\nforeach $number (@ARGV) {\n    $original_number = $number ;\n    until ($number == 0 ) {\n        $bit = $number % 2 ;\n        unshift (@bit_arr, $bit) ;\n        $number = int($number / 2 );\n    }\n    $binary_number = join (\"\", @bit_arr) ;\n    print reverse (\"The decimal number of $binary_number is $original_number\\n\");\n    $#bit_arr = -1;\n}\n</code></pre>\n\n<p>When executed:</p>\n\n<pre><code>&gt;./binary.pl 8\nThe decimal number of 1000 is 8\n</code></pre>\n\n<p>I don't know how to word it to make the program know to add up all of the 1's in the number that is inputted.</p>\n"}, {"tags": ["perl", "preprocessor"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1461178754, "post_id": 36752695, "comment_id": 61085827, "body": "&quot;Is there a good way to make the template lines above also a valid perl program statement such that if the preprocessor is not run...&quot; <code>$VAR{&#39;LABEL&#39;} = ;</code> is not a valid Perl statement, so you will always get a syntax error if you don&#39;t run your preprocessor. In general, it&#39;s not a great idea to generate Perl code in the first place. Why are you doing it this way?"}, {"owner": {"reputation": 9, "user_id": 2585500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yxyUR.png?s=128&g=1", "display_name": "user2585500", "link": "https://stackoverflow.com/users/2585500/user2585500"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1461181301, "post_id": 36752695, "comment_id": 61087436, "body": "Speed. The precompiled portion are large yaml files converted into perl data structures.The yaml files contain statements that are interpreted by perl program, so that there are two levels of code generation. Other developers just edit yaml files and the script brings everything automagically together."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461181330, "post_id": 36752695, "comment_id": 61087455, "body": "Are you referring to perl&#39;s <code>-P</code> command-line option that allowed you to put the Perl source through the C preprocessor as a first pass? <a href=\"http://perldoc.perl.org/5.12.0/perl5120delta.html\" rel=\"nofollow noreferrer\">perl5120delta</a> says <b><i>&quot;Perl&#39;s command-line switch &quot;-P&quot;, which was deprecated in version 5.10.0, has now been removed.&quot;</i></b>, so it&#39;s an unsupported feature that was deprecated nine years ago and removed six years ago. You should find a better way. I suggest that your data should just decode your YAML files on the fly, or perhaps create a proper Perl module"}, {"owner": {"reputation": 9, "user_id": 2585500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yxyUR.png?s=128&g=1", "display_name": "user2585500", "link": "https://stackoverflow.com/users/2585500/user2585500"}, "edited": false, "score": 1, "creation_date": 1461181787, "post_id": 36752695, "comment_id": 61087749, "body": "I wrote my own perl preprocessor. In perl, of course. If I use on the fly approach, the program takes 3-4 longer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1461182040, "post_id": 36752695, "comment_id": 61087909, "body": "@user2585500: I guess they&#39;re sizeable YAML files then. Have you tried <a href=\"https://metacpan.org/pod/YAML::XS\" rel=\"nofollow noreferrer\">YAML::XS</a>, which is likely to be much faster? I suggest you preprocess your YAML to Perl modules as I said, and simply <code>use</code> them instead of involving your preprocessor. It&#39;s beginning to sound like a permanent database is in order, which would have only a tiny impact on startup time and no import at all"}, {"owner": {"reputation": 9, "user_id": 2585500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yxyUR.png?s=128&g=1", "display_name": "user2585500", "link": "https://stackoverflow.com/users/2585500/user2585500"}, "edited": false, "score": 0, "creation_date": 1461182278, "post_id": 36752695, "comment_id": 61088079, "body": "Actually, I just found out that this works (still learning how to edit posts): \\n  $VAR{ &#39;LABEL&#39; } = ( \\n     #include dir/PRECOMPILED.pl \\n     )[0];"}, {"owner": {"reputation": 9, "user_id": 2585500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yxyUR.png?s=128&g=1", "display_name": "user2585500", "link": "https://stackoverflow.com/users/2585500/user2585500"}, "edited": false, "score": 0, "creation_date": 1461182552, "post_id": 36752695, "comment_id": 61088287, "body": "Thank you all. Will try modules route."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461182773, "post_id": 36752695, "comment_id": 61088417, "body": "I&#39;m sorry to offer an <a href=\"https://simonkidd.wordpress.com/2010/08/12/if-i-were-you-i-wouldnt-start-from-here/\" rel=\"nofollow noreferrer\"><i>If I were you, I wouldn\u2019t start from here</i></a> solution, but I&#39;m an analyst!"}], "answers": [{"tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": false, "score": 1, "last_activity_date": 1461239948, "last_edit_date": 1461239948, "creation_date": 1461234402, "answer_id": 36766778, "question_id": 36752695, "link": "https://stackoverflow.com/questions/36752695/make-template-a-valid-perl-file/36766778#36766778", "title": "Make template a valid Perl file", "body": "<p>You may use <a href=\"http://perldoc.perl.org/functions/do.html\" rel=\"nofollow\"><code>do</code></a> statement:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$VAR{LABEL} = do {\n#include dir/PRECOMPILED.pl\n};\n</code></pre>\n\n<p>But this solution has the side effect (if it matters): <code>do</code> creates a new scope.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 2585500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yxyUR.png?s=128&g=1", "display_name": "user2585500", "link": "https://stackoverflow.com/users/2585500/user2585500"}, "is_accepted": false, "score": 0, "last_activity_date": 1461245458, "creation_date": 1461245458, "answer_id": 36771174, "question_id": 36752695, "link": "https://stackoverflow.com/questions/36752695/make-template-a-valid-perl-file/36771174#36771174", "title": "Make template a valid Perl file", "body": "<p>I have found that:</p>\n\n<pre><code>$VAR{ 'LABEL' } = (\n#include dir/PRECOMPILED.pl\n)[0];\n</code></pre>\n\n<p>also works.</p>\n"}], "owner": {"reputation": 9, "user_id": 2585500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yxyUR.png?s=128&g=1", "display_name": "user2585500", "link": "https://stackoverflow.com/users/2585500/user2585500"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461245458, "creation_date": 1461178460, "last_edit_date": 1461192004, "question_id": 36752695, "link": "https://stackoverflow.com/questions/36752695/make-template-a-valid-perl-file", "title": "Make template a valid Perl file", "body": "<p>I wrote my own Perl preprocessor\u2014in Perl, of course.</p>\n\n<p>I have a template file which contains valid Perl syntax except for statements like this</p>\n\n<pre><code>$VAR{ 'LABEL' } =\n#include dir/PRECOMPILED.pl\n;\n</code></pre>\n\n<p>where <code>PRECOMPILED.pl</code> contains an anonymous hash that was generated using Data::Dumper, e.g.</p>\n\n<pre><code>{\n    'a' =&gt; 1,\n    'b' =&gt; 2,\n}\n</code></pre>\n\n<p>When I preprocess the template, it includes <code>PRECOMPILED.pl</code> into the template and generates a new file with valid Perl syntax.</p>\n\n<p>Is there a good way to make the template lines above also a valid Perl program statement such that if the preprocessor is not run, I can check later in the program if $VAR{ 'LABEL' } has content?</p>\n\n<p>For example</p>\n\n<pre><code>if( $VAR{ 'LABEL' } ){\n    # do something\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1461178500, "post_id": 36752674, "comment_id": 61085672, "body": "It works for me. Is that your <i>exact</i> (copy-and-pasted) code?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1461178508, "post_id": 36752674, "comment_id": 61085674, "body": "You probably have trailing whitespace. The code you&#39;ve shown works: <code>perl -le&#39;$test = &quot;1445:&quot;; $test =~ s&#47;:$&#47;&#47;; print $test&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "edited": false, "score": 0, "creation_date": 1461181244, "post_id": 36753428, "comment_id": 61087395, "body": "Thanks. After some head scratching it appears my scripts seem to (somewhat inconstantly) cache themselves on the server."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1461180662, "creation_date": 1461180662, "answer_id": 36753428, "question_id": 36752674, "link": "https://stackoverflow.com/questions/36752674/performing-a-right-trim-against-a-string/36753428#36753428", "title": "Performing a right trim against a string", "body": "<p>That can't be the code you ran because it works.</p>\n\n<pre><code>$ perl -e'\n    my $test = \"1445:\";\n    $test =~ s/:$//;\n    print \"$test\\n\";\n'\n1445\n</code></pre>\n\n<p>Perhaps <code>$test</code> contained in the code you ran was different. Check with</p>\n\n<pre><code>use Data::Dumper;\nlocal $Data::Dumper::Useqq = 1;\nwarn(Dumper($test));\n</code></pre>\n"}], "owner": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "closed_date": 1461181956, "accepted_answer_id": 36753428, "answer_count": 1, "score": -1, "last_activity_date": 1461180662, "creation_date": 1461178407, "last_edit_date": 1461180239, "question_id": 36752674, "link": "https://stackoverflow.com/questions/36752674/performing-a-right-trim-against-a-string", "closed_reason": "Not suitable for this site", "title": "Performing a right trim against a string", "body": "<p>I'm attempting to perform the equivalent of a simple right trim in Perl using a regex.</p>\n\n<p>I have the value <code>'1445:'</code> assigned to the string <code>$test</code>, I'm attempting to trim the colon from the end. </p>\n\n<p>I have the following code which attempts to trim the colon, with this code <code>$test</code> is still set to <code>'1445:'</code> however. Can anyone suggest what the issue is here?</p>\n\n<pre><code>my $test = '1445:';\n$test =~ s/:$//;\n</code></pre>\n"}, {"tags": ["perl", "hash", "hash-of-hashes"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1461177013, "post_id": 36752179, "comment_id": 61084783, "body": "That doesn&#39;t seem like a great data structure. For one thing, you can&#39;t have two items with the same dimensions, since hash keys are unique. Using a flat structure with keys <code>length</code>, <code>width</code>, and <code>height</code> would make a lot more sense."}, {"owner": {"reputation": 2310, "user_id": 380329, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f2971b8caa637f5949413f0da1ce26a8?s=128&d=identicon&r=PG", "display_name": "SSilk", "link": "https://stackoverflow.com/users/380329/ssilk"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1461177943, "post_id": 36752179, "comment_id": 61085338, "body": "Hi, I&#39;m not sure that&#39;s a limitation. This is just a simplified example of something much more complex I&#39;m doing for work, but even here, when I encounter a given set of measurements, I can index into the hash directly with them to find out the area, etc. If I see the same measurements twice, I don&#39;t need to recalculate Area, etc. Which is why I used nested hashes with each levels&#39; keys being a separate measurement."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461178031, "post_id": 36752179, "comment_id": 61085385, "body": "Is this real data? Or have you give placeholder data, or is it homework? As <a href=\"http://stackoverflow.com/questions/36752179/perl-access-hash-of-dynamic-depth#comment61084783_36752179\">@ThisSuitIsBlackNot says above</a> I don&#39;t see why you&#39;ve organized things like this in the first place. As you&#39;ve seen, it&#39;s problematic. It sounds like you just have a list of <i>things</i> with a length, width, height, area and volume, some of which may be missing, and I would structure it exactly like that: as an array of five-item arrays. If depends on what your app does how you could access for specific entries faster"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1461178301, "post_id": 36752179, "comment_id": 61085532, "body": "If you&#39;re certain that this is what you want to do\u2014and given what you&#39;ve told us then it shouldn&#39;t be\u2014you could take a look at <a href=\"https://metacpan.org/pod/Data::Diver\" rel=\"nofollow noreferrer\">Data::Diver</a>. But it&#39;s looks like you&#39;re starting with a bad data design and trying to squeeze it into usability. The shape of your data is at your behest\u2014there&#39;s no need to stick with something that doesn&#39;t do <i>exactly</i> what you need"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1461178436, "post_id": 36752179, "comment_id": 61085631, "body": "<i>&quot;If I see the same measurements twice, I don&#39;t need to recalculate Area, etc. &quot;</i> perhaps you should look at <a href=\"https://metacpan.org/pod/Memoize\" rel=\"nofollow noreferrer\">Memoize</a> ?"}, {"owner": {"reputation": 2310, "user_id": 380329, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f2971b8caa637f5949413f0da1ce26a8?s=128&d=identicon&r=PG", "display_name": "SSilk", "link": "https://stackoverflow.com/users/380329/ssilk"}, "edited": false, "score": 0, "creation_date": 1461180557, "post_id": 36752179, "comment_id": 61086997, "body": "Hi folks, thanks for the feedback. I&#39;m starting to rethink my data structure. If I use an array of arrays, is there a simple way to check if a given combination of parameters has been checked already? In the real code I&#39;m working on, the calculation performed on each set of parameters takes about 90 seconds and I&#39;m looking at potentially hundreds of these so I&#39;m eager to avoid repeating calculations for a given set of parameters, which is why I was thinking hash for storage (quickly index into it with the current set of params to see if it&#39;s been checked already). Thanks."}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1461183105, "post_id": 36752179, "comment_id": 61088631, "body": "Wouldn&#39;t be possible to remove the duplication first on the data structure? If you risk doing calculations twice, maybe you could go through your data to remove those duplicates first instead of trying to index the results."}, {"owner": {"reputation": 2310, "user_id": 380329, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f2971b8caa637f5949413f0da1ce26a8?s=128&d=identicon&r=PG", "display_name": "SSilk", "link": "https://stackoverflow.com/users/380329/ssilk"}, "reply_to_user": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1461183926, "post_id": 36752179, "comment_id": 61089178, "body": "@eballes: It&#39;s hard to explain in the context of my question but in my real application the &quot;calculation&quot; step is a black box to me, performed by another machine I&#39;m connected to and overall my goal is a minzation of its output. I can tweak several input parameters. So at each step I give it a few parameters, it spends up to several minutes calculating a result, and then based on the result I tweak one of those parameters up or down a notch. So there&#39;s inherently no duplication of full sets of parameters and I also do not have a &quot;full set of parameters&quot; as such at the outset."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1461187074, "post_id": 36752179, "comment_id": 61090946, "body": "@SSilk I agree with Borodin&#39;s Memoize suggestion. <code>my $volume = calculate_volume({ length =&gt; 1, width =&gt; 2, height =&gt; 3 });</code> is much more readable than <code>my $volume = $dimensions{1}{2}{3}{volume};</code>, and Memoize will take care of storing the results for you so your long calculation is  only done once for a given set of parameters."}], "answers": [{"comments": [{"owner": {"reputation": 2310, "user_id": 380329, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f2971b8caa637f5949413f0da1ce26a8?s=128&d=identicon&r=PG", "display_name": "SSilk", "link": "https://stackoverflow.com/users/380329/ssilk"}, "edited": false, "score": 0, "creation_date": 1472675252, "post_id": 36752706, "comment_id": 65852901, "body": "I&#39;m marking this as the asnwer since it did indeed answer my question, but for anyone else out there considering a similar approach, please see the comments below my question first. I ended up changing my approach since, as discussed above, it was poorly thought out from the beginning. Thanks."}], "tags": [], "owner": {"reputation": 558, "user_id": 1373872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5513bc0c0517ed17ac8a8b22b5cd55b4?s=128&d=identicon&r=PG", "display_name": "Artyom V. Kireev", "link": "https://stackoverflow.com/users/1373872/artyom-v-kireev"}, "is_accepted": true, "score": 5, "last_activity_date": 1461178887, "last_edit_date": 1461178887, "creation_date": 1461178479, "answer_id": 36752706, "question_id": 36752179, "link": "https://stackoverflow.com/questions/36752179/perl-access-hash-of-dynamic-depth/36752706#36752706", "title": "Perl: Access hash of dynamic depth", "body": "<p>So here's a recursive function which does more or less what you want:</p>\n\n<pre><code>sub fetch {\n    my $ref = shift;\n    my $key = shift;\n    my @remaining_path = @_;\n\n    return undef unless ref $ref;\n    return undef unless defined $ref-&gt;{$key};\n    return $ref-&gt;{$key} unless scalar @remaining_path;\n    return fetch($ref-&gt;{$key}, @remaining_path);\n}\n\nfetch(\\%results, 2, 3, 7, 'Volume');  # 42\nfetch(\\%results, 2, 3);               # hashref\nfetch(\\%results, 2, 3, 7, 'Area', 8); # undef\nfetch(\\%results, 2, 3, 8, 'Area');    # undef\n</code></pre>\n\n<p>But please check the comment about bad data structure which is already given by someone else, because it's very true. And if you still think that this is what you need, at least rewrite it using a for-loop, as perl does not optimize tail recursion.</p>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1461195662, "post_id": 36756853, "comment_id": 61094048, "body": "The point of <code>$;</code> is that it will magically turn <code>$foo{@keys}</code> into <code>$foo{join $;, @keys }</code>. If you&#39;re going to do that manually you might as well use a separator easier on the eye and more fitting the data like <code>,</code>."}], "tags": [], "owner": {"reputation": 9961, "user_id": 2139766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b3qcA.png?s=128&g=1", "display_name": "AnFi", "link": "https://stackoverflow.com/users/2139766/anfi"}, "is_accepted": false, "score": 1, "last_activity_date": 1461194009, "creation_date": 1461194009, "answer_id": 36756853, "question_id": 36752179, "link": "https://stackoverflow.com/questions/36752179/perl-access-hash-of-dynamic-depth/36756853#36756853", "title": "Perl: Access hash of dynamic depth", "body": "<p>Take a look at <code>$;</code> in \"man perlvar\".</p>\n\n<p><a href=\"http://perldoc.perl.org/perlvar.html#%24%3b\" rel=\"nofollow\">http://perldoc.perl.org/perlvar.html#%24%3b</a></p>\n\n<p>You may use the idea to convert variable length array into single key.</p>\n\n<pre><code>my %foo;\nmy (@KEYS)=(2,3,7);\n$foo{ join( $; , @KEYS ) }{Area}=6;\n$foo{ join( $; , @KEYS ) }{Volume}=42;\n</code></pre>\n"}], "owner": {"reputation": 2310, "user_id": 380329, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f2971b8caa637f5949413f0da1ce26a8?s=128&d=identicon&r=PG", "display_name": "SSilk", "link": "https://stackoverflow.com/users/380329/ssilk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "accepted_answer_id": 36752706, "answer_count": 2, "score": 0, "last_activity_date": 1461194009, "creation_date": 1461176841, "question_id": 36752179, "link": "https://stackoverflow.com/questions/36752179/perl-access-hash-of-dynamic-depth", "title": "Perl: Access hash of dynamic depth", "body": "<p>I am struggling with accessing/ modifying hashes of unknown (i.e. dynamic) depth. </p>\n\n<p>Suppose I am reading in a table of measurements (Length, Width, Height) from a file, then calculating Area and Volume to create a hash like the following:</p>\n\n<pre><code>#                       #Length  Width  Height  Results\nmy %results = (     \n                        '2' =&gt; {        \n                                '3' =&gt; {        \n                                        '7' =&gt; {\n                                                'Area' =&gt; 6,\n                                                'Volume' =&gt; 42,\n                                                },\n                                        },\n                                },\n                        '6' =&gt; {        \n                                '4' =&gt; {        \n                                        '2' =&gt; {\n                                                'Area' =&gt; 24,\n                                                'Volume' =&gt; 48,\n                                                },\n                                        },\n                                },\n                        );\n</code></pre>\n\n<p>I understand how to access a single item in the hash, e.g. <code>$results{2}{3}{7}{'Area'}</code> would give me <code>6</code>, or I could check if that combination of measurements has been found in the input file with <code>exists $results{2}{3}{7}{'Area'}</code>. However that notation with the series of <code>{}</code> braces assumes I know when writing the code that there will be 4 layers of keys. </p>\n\n<p>What if there are more or less and I only discover that at runtime? E.g. if there were only Length and Width in the file, how would you make code that would then access the hash like <code>$results{2}{3}{'Area'}</code>?</p>\n\n<p>I.e. given a hash and dynamic-length list of nested keys that may or may not have a resultant entry in that hash, how do you access the hash for basic things like checking if that key combo has a value or modifying the value? </p>\n\n<p>I almost want a notation like:</p>\n\n<pre><code>my @hashkeys = (2,3,7);\n\nif exists ( $hash{join(\"-&gt;\",@hashkeys)} ){\n    print \"Found it!\\n\";\n}\n</code></pre>\n\n<p>I know you can access sub-hashes of a hash and get their references so in this last example I could iterate through <code>@hashkeys</code>, checking for each one if the current hash has a sub-hash at that key and if so, saving a reference to that sub-hash for the next iteration. However, that feels complex and I suspect there is already a way to do this much easier. </p>\n\n<p>Hopefully this is enough to understand my question but I can try to work up a MWE if not. </p>\n\n<p>Thanks. </p>\n"}, {"tags": ["arrays", "perl", "hashmap"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1461175116, "post_id": 36751560, "comment_id": 61083616, "body": "Note on terminology: in Perl, associative arrays are usually called hashes."}, {"owner": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1461175346, "post_id": 36751560, "comment_id": 61083766, "body": "@ThisSuitIsBlackNot thanks, is it worth updating the title?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1461175688, "post_id": 36751560, "comment_id": 61083977, "body": "I think it&#39;s fine as is. It might help people who aren&#39;t familiar with Perl&#39;s terminology find the question."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461179340, "post_id": 36751560, "comment_id": 61086215, "body": "Regarding <i>associative arrays</i> \u2014it&#39;s a dreadful name for a data structure. Ordinary integer-indexed arrays are &quot;associative&quot;\u2014they associate an integer with a value. Python uses <i>dictionary</i>, while Ruby and Perl use <i>hash</i>; both are acceptable. In JavaScript, PHP and Lua, aggregate data behaves like both an array and a dictionary. They are called <i>arrays</i>, and they all have internal DWIM software that decides how to store each value. <i>Symbol table</i> and <i>hash map</i> are also acceptable, but as far as I know no language officially calls them <i>associative arrays</i>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1461229945, "post_id": 36751560, "comment_id": 61108061, "body": "They were called &quot;associative arrays&quot; until Perl 5 was released. When I see Perl programmers using the phrase I worry that they have learned Perl from horribly outdated sources."}], "answers": [{"tags": [], "owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "is_accepted": false, "score": 2, "last_activity_date": 1461177274, "last_edit_date": 1461177274, "creation_date": 1461175027, "answer_id": 36751608, "question_id": 36751560, "link": "https://stackoverflow.com/questions/36751560/access-the-key-value-from-an-associative-array/36751608#36751608", "title": "Access the key value from an associative array", "body": "<p>If you're just looking for the value that goes with the key, you can get both at the same time with <code>each</code>:</p>\n\n<pre><code>while (my ($key, $val) = each %cart_item) {\n  next if $key eq 'meta' || $key =~ /^\\s*$/;\n  ...\n} \n</code></pre>\n\n<p>That's the equivalent of PHP's <code>foreach ($cart_item as $key =&gt; $val)</code>.</p>\n\n<p>I also changed the \"meta\" check to use simple string equality; no need to use a regular expression for an exact match.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1461175030, "creation_date": 1461175030, "answer_id": 36751611, "question_id": 36751560, "link": "https://stackoverflow.com/questions/36751560/access-the-key-value-from-an-associative-array/36751611#36751611", "title": "Access the key value from an associative array", "body": "<p>I think you are asking for</p>\n\n<pre><code>for my $key (keys %cart_item) {\n   next if $key =~ /^meta$/ || $key =~ /^\\s*$/;\n\n   my $val = $cart_item{$key};\n   ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1461179911, "creation_date": 1461179911, "answer_id": 36753181, "question_id": 36751560, "link": "https://stackoverflow.com/questions/36751560/access-the-key-value-from-an-associative-array/36753181#36753181", "title": "Access the key value from an associative array", "body": "<p>Your original code has</p>\n\n<pre><code>for ( keys %cart_item ) {\n   next if (/^meta$/ || /^\\s*$/);\n}\n</code></pre>\n\n<p>which works fine because the <code>for</code> has no loop control variable so it defaults to Perl's \"pronoun\" <em>it</em> variable <code>$_</code>. In addition, your regex pattern matches have no object so they also default to <code>$_</code></p>\n\n<p>Written fully, this would be </p>\n\n<pre><code>for $_ ( keys %cart_item ) {\n   next if ( $_ =~ /^meta$/ || $+ =~ /^\\s*$/);\n}\n</code></pre>\n\n<p>but we don't have to write all of that. Some people hate it; others like me think it's absolute genius</p>\n\n<p>Your non-working code</p>\n\n<pre><code>my $key_value;\n\nfor $i (keys %cart_item) {\n   next if (/^meta$/ || /^\\s*$/);\n   $key_value = $i; \n   # do stuff             \n}\n</code></pre>\n\n<p><em>does</em> use a loop control control variable <code>$i</code> (bad name for a hash key, by the way). That's all fine except that your regex matches still </p>\n\n<pre><code>my $key_value;\n\nfor $i (keys %cart_item) {\n   next if $i =~ /^meta$/ or $i =~ /^\\s*$/;\n   $key_value = $i; \n   # do stuff             \n}\n</code></pre>\n\n<p>or, better still, stick with <code>$_</code> and write this</p>\n\n<pre><code>for ( keys %cart_item ) {\n   next if /^meta$/ or /^\\s*$/;\n   my $key_value = $_; \n\n   # do stuff             \n}\n</code></pre>\n"}], "owner": {"reputation": 1246, "user_id": 4577456, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10152662960092727/picture?type=large", "display_name": "Liam Fell", "link": "https://stackoverflow.com/users/4577456/liam-fell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 36751611, "answer_count": 3, "score": 1, "last_activity_date": 1461179911, "creation_date": 1461174893, "last_edit_date": 1461178582, "question_id": 36751560, "link": "https://stackoverflow.com/questions/36751560/access-the-key-value-from-an-associative-array", "title": "Access the key value from an associative array", "body": "<p>I have the associative array <code>%cart_item</code>, within this is a series of associative arrays. I need to access the value of the keys within <code>%cart_item</code>. I have the following code which iterates on each array key. (I do the equivalent of php's continue if the value is 'meta')</p>\n\n<pre><code>my $key_value;\nfor (keys %cart_item) {\n   next if (/^meta$/ || /^\\s*$/);\n\n}\n</code></pre>\n\n<p>I need to do something like this though (although this isn't valid), setting the value of the keys in the loop:</p>\n\n<pre><code>my $key_value;\nfor $i (keys %cart_item) {\n   next if (/^meta$/ || /^\\s*$/);\n   $key_value = $i; \n   # do stuff             \n}\n</code></pre>\n\n<p>Could anyone suggest a solution here? Apologies if this is obvious, I'm a Perl newbie. Thanks</p>\n"}, {"tags": ["php", "linux", "apache", "perl", "perl-module"], "answers": [{"tags": [], "owner": {"reputation": 679, "user_id": 3335350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNqC0.jpg?s=128&g=1", "display_name": "s_bighead", "link": "https://stackoverflow.com/users/3335350/s-bighead"}, "is_accepted": true, "score": 4, "last_activity_date": 1559929810, "last_edit_date": 1559929810, "creation_date": 1461174571, "answer_id": 36751459, "question_id": 36751458, "link": "https://stackoverflow.com/questions/36751458/enabling-ocs-inventory-webservice-interface-for-querying-assets-data/36751459#36751459", "title": "Enabling OCS Inventory WebService interface for querying assets data", "body": "<p>The OCS interface is disabled by default, it is necessary to turn it on before use it. OCS has a core code developed in Perl and it runs over Apache HTTP.</p>\n\n<p>First, edit the file <code>/etc/apache2/conf-enabled/z-ocsinventory-server.conf</code> changing the option value for <code>OCS_OPT_WEB_SERVICE_ENABLED</code> to <em>1</em>.\nIf the web service is not enabled you should get a <em>401 Forbidden</em> response. This is a SOAP WebService and there's no WSDL to describe the features, just the docs available in <a href=\"http://wiki.ocsinventory-ng.org/index.php/Developers:Web_services\" rel=\"nofollow noreferrer\">OCS WS Documentation</a>.</p>\n\n<p>Check if the location tag for <em>/ocsinterface</em> looks like the following snippet:</p>\n\n<pre><code> &lt;Location /ocsinterface&gt;\n      SetHandler perl-script\n      PerlHandler Apache::Ocsinventory::SOAP\n      # By default, you can query web service from everywhere with a valid user\n      Order deny,allow\n      Allow from all\n      AuthType Basic\n      AuthName \"OCS Inventory SOAP Area\"\n      # Use htpasswd to create/update soap-user (or another granted user)\n      AuthUserFile \"/etc/apache2/passwd/soapinterface\"\n      Require valid-user\n &lt;/Location&gt;\n</code></pre>\n\n<p>You should create a password for this location for security purposes, however, to turn the authentication off just comment out all <strong><em>Auth...</em></strong> and <strong><em>Require</em></strong> attributes.</p>\n\n<p>Restart apache server, and use the PHP code below to test the web service integration</p>\n\n<pre><code>&lt;?php\n$proto = 'http';\n$host = 'localhost';\n$port = '80';\n$user = ''; //basic authentication, if necessary\n$pass = ''; \n\n$options = array(\n    'location' =&gt; \"$proto://$host:$port/ocsinterface\",\n    'uri' =&gt; \"$proto://$host:$port/Apache/Ocsinventory/Interface\",\n    'login' =&gt; $user,\n    'password' =&gt; $pass,\n    'trace' =&gt; TRUE,\n    'soap_version' =&gt; SOAP_1_1,\n);\n\n$request = '\n        &lt;REQUEST&gt;\n            &lt;ENGINE&gt;FIRST&lt;/ENGINE&gt;\n            &lt;ASKING_FOR&gt;META&lt;/ASKING_FOR&gt;\n            &lt;CHECKSUM&gt;131071&lt;/CHECKSUM&gt;\n            &lt;OFFSET&gt;0&lt;/OFFSET&gt;\n            &lt;WANTED&gt;131071&lt;/WANTED&gt;\n        &lt;/REQUEST&gt;';\n\ntry {\n    $client = new SoapClient(NULL, $options);\n} catch (Exception $e) {\n    echo \"&lt;b&gt;Construct Error&lt;/b&gt;: \" . $e-&gt;getMessage() . \"&lt;br&gt;\";\n}\n\ntry {\n    $result = $client-&gt;get_computers_V1($request);\n    echo \"&lt;b&gt;Headers:&lt;/b&gt;&lt;pre&gt;\" . $client-&gt;__getLastRequestHeaders() . \" &lt;/pre&gt;&lt;br&gt;\";\n    echo \"&lt;b&gt;Request:&lt;/b&gt;&lt;pre&gt;\" . $client-&gt;__getLastRequest() . \"&lt;/pre&gt;&lt;br&gt;\";\n    echo \"&lt;b&gt;Result:&lt;/b&gt;&lt;pre&gt;\";\n    var_dump($result);\n    echo \"&lt;/pre&gt;&lt;br&gt;\";\n} catch (Exception $e) {\n    echo \"&lt;b&gt;Connection Error&lt;/b&gt;: \" . $e-&gt;getMessage() . \"&lt;br&gt;&lt;br&gt;\";\n    echo \"&lt;b&gt;Headers:&lt;/b&gt;&lt;pre&gt;\\r\\n\" . $client-&gt;__getLastRequestHeaders() . \" &lt;/pre&gt;&lt;br&gt;\";\necho \"&lt;b&gt;Request:&lt;/b&gt;&lt;pre&gt;\\r\\n\" . $client-&gt;__getLastRequest() . \"&lt;/pre&gt;\";\n}\n</code></pre>\n\n<hr>\n\n<p>If you get a <strong><em>HTTP 500 Internal Server Error</em></strong>, check apache error log (<code>tail -f  /var/log/apache2/error.log -n 100</code>) for the following error message:</p>\n\n<blockquote>\n  <p>Illegal field name 'APR::Table=HASH(0x7ff114bd75a8)' at /usr/local/share/perl/5.18.2/SOAP/Transport/HTTP2.pm line 103.\\n</p>\n</blockquote>\n\n<p>That error happens due to an incompatibility issue found in HTTP::Message perl module. The following links describes the problem and solution related to it:</p>\n\n<ol>\n<li><a href=\"http://ask.ocsinventory-ng.org/735/demande-dinformations-web-service-ocs-inventory\" rel=\"nofollow noreferrer\">http://ask.ocsinventory-ng.org/735/demande-dinformations-web-service-ocs-inventory</a></li>\n<li><a href=\"https://www.tnpi.net/support/forums/index.php?topic=1037.0\" rel=\"nofollow noreferrer\">https://www.tnpi.net/support/forums/index.php?topic=1037.0</a></li>\n</ol>\n\n<p>To fix it, you need to downgrade the HTTP::Message perl module to version <strong>6.04</strong>. Use the command <code>cpan -D HTTP::Message</code> in your console to check which version you're using. This module version is a little bit old, so you won't find it in <a href=\"http://search.cpan.org/\" rel=\"nofollow noreferrer\">Search CPAN</a>. In this regard, you should download the module <a href=\"http://pkgs.fedoraproject.org/repo/pkgs/perl-HTTP-Message/HTTP-Message-6.04.tar.gz/d3cedbb4b1ca476ab2b0a70b5c289fe1/HTTP-Message-6.04.tar.gz\" rel=\"nofollow noreferrer\">HTTP-Message-6.04.tar.gz</a> and install it manually by typing the following commands on your terminal:</p>\n\n<ol>\n<li>decompress it using <code>tar -zxf HTTP-Message-6.04.tar.gz</code></li>\n<li>call the new directory <code>cd HTTP-Message-6.04/</code></li>\n<li><code>perl Makefile.PL</code></li>\n<li><code>make</code></li>\n<li><code>make test</code></li>\n<li><code>make install</code></li>\n<li>and finally, check if the module got downgraded successfully by typing <code>cpan -D HTTP::Message</code>(it should output <em>... Installed: 6.04 ...</em>)</li>\n<li>restart the server - <code>service apache2 restart</code></li>\n</ol>\n\n<p>Run the PHP snippet shown above to test it again.</p>\n"}], "owner": {"reputation": 679, "user_id": 3335350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNqC0.jpg?s=128&g=1", "display_name": "s_bighead", "link": "https://stackoverflow.com/users/3335350/s-bighead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4750, "favorite_count": 0, "accepted_answer_id": 36751459, "answer_count": 1, "score": 3, "last_activity_date": 1559929810, "creation_date": 1461174571, "question_id": 36751458, "link": "https://stackoverflow.com/questions/36751458/enabling-ocs-inventory-webservice-interface-for-querying-assets-data", "title": "Enabling OCS Inventory WebService interface for querying assets data", "body": "<p>How to enable the OCS Inventory interface described in <a href=\"http://wiki.ocsinventory-ng.org/index.php/Developers:Web_services\" rel=\"nofollow\" title=\"OCS WebService\">OCS WebServices</a>? Is there a sample code for using this Web Service in PHP?</p>\n"}, {"tags": ["perl", "zip", "archive"], "answers": [{"comments": [{"owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "edited": false, "score": 0, "creation_date": 1461178473, "post_id": 36752093, "comment_id": 61085652, "body": "Thanks for reply. I tried the solution and it does not work. print statement prints 666. It does not change it to 644."}, {"owner": {"reputation": 621, "user_id": 1713351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f6f80d7ad92101ee021e9d013fafd?s=128&d=identicon&r=PG", "display_name": "kjpires", "link": "https://stackoverflow.com/users/1713351/kjpires"}, "edited": false, "score": 0, "creation_date": 1461192424, "post_id": 36752093, "comment_id": 61093080, "body": "The print is showing the old permissions value since <b>unixFileAttributes</b> returns the old value when use to set a value."}, {"owner": {"reputation": 134, "user_id": 4149412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25d62632bd5ba5d68fc2ec2458f382bb?s=128&d=identicon&r=PG", "display_name": "Dmitry Sukhodoyev", "link": "https://stackoverflow.com/users/4149412/dmitry-sukhodoyev"}, "edited": false, "score": 0, "creation_date": 1461211210, "post_id": 36752093, "comment_id": 61097970, "body": "is the warning &quot;error: Can&#39;t chmod() /test/test.txt: Operation not permitted&quot; printed for all files in archive or only for one? show here contents of <code>ls -la &#47;test</code> command. make small archive, which repeats this error and do it available to download from somewhere. which version of Archive::Zip are you using?"}], "tags": [], "owner": {"reputation": 134, "user_id": 4149412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25d62632bd5ba5d68fc2ec2458f382bb?s=128&d=identicon&r=PG", "display_name": "Dmitry Sukhodoyev", "link": "https://stackoverflow.com/users/4149412/dmitry-sukhodoyev"}, "is_accepted": false, "score": 0, "last_activity_date": 1461176602, "creation_date": 1461176602, "answer_id": 36752093, "question_id": 36751323, "link": "https://stackoverflow.com/questions/36751323/suppress-error-cant-chmod-in-archivezip/36752093#36752093", "title": "Suppress error: Can&#39;t chmod() in Archive::Zip", "body": "<p>the archive, which your script try to extract, is created with some issues on permissions at file <code>test.txt</code>. for some reasons this permissions cannot be chmod-ed in your system, so you got this error.</p>\n\n<p>you can fix this permissions by adding <code>$member-&gt;unixFileAttributes(0644);</code> before extracting line <code>$member-&gt;extractToFileNamed()</code>. also you can try to investigate the real reason by printing this permissions: <code>printf \"%o - %s\\n\", $member-&gt;unixFileAttributes(0644), $member-&gt;fileName();</code></p>\n"}, {"tags": [], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "is_accepted": true, "score": 0, "last_activity_date": 1564516925, "creation_date": 1564516925, "answer_id": 57279225, "question_id": 36751323, "link": "https://stackoverflow.com/questions/36751323/suppress-error-cant-chmod-in-archivezip/57279225#57279225", "title": "Suppress error: Can&#39;t chmod() in Archive::Zip", "body": "<p><em>$member->unixFileAttributes(0644);</em> does not seem to work because the files are being extracted on the network drive.\nI solved the problem by using:</p>\n\n<pre><code>Archive::Zip::setErrorHandler( \\&amp;zipErrorHandler );\n</code></pre>\n"}], "owner": {"reputation": 1702, "user_id": 880797, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bace3dcc4a83523d93399ab2bd1f3728?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/880797/andrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 57279225, "answer_count": 2, "score": 0, "last_activity_date": 1564516925, "creation_date": 1461174171, "question_id": 36751323, "link": "https://stackoverflow.com/questions/36751323/suppress-error-cant-chmod-in-archivezip", "title": "Suppress error: Can&#39;t chmod() in Archive::Zip", "body": "<p>I am trying to extract some files using Archive::Zip.\nEverything is working fine. The files are being extracted with no issues. Here is the parth of the code:</p>\n\n<pre><code>my $zip = Archive::Zip-&gt;new($file);\nforeach my $member ($zip-&gt;members) {\n    next if $member-&gt;isDirectory;\n    (my $extractName = $member-&gt;fileName) =~ s{.*/}{};\n    $member-&gt;extractToFileNamed($unixPath{'Rdrive'}.$extractName);\n}\n</code></pre>\n\n<p>I am getting the following warning when running the script:</p>\n\n<blockquote>\n  <p>error: Can't chmod() /test/test.txt: Operation not permitted</p>\n</blockquote>\n\n<p>I was trying to find a way to suppress this message in Archive::Zip, but was not able to find any way to do it. I am not able to change the permissions of the server. What would be the best way to suppress this message?</p>\n\n<p>Thank you,\n-Andrey</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1461170822, "post_id": 36750140, "comment_id": 61081074, "body": "<code>(.*?|.*?)</code> is rather pointless. inside <code>()</code>, <code>|</code> is &quot;or&quot;, not a pipe character."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1461171125, "post_id": 36750140, "comment_id": 61081265, "body": "@MarcB Not just inside parens: <code>perl -E&#39;say &quot;foo&quot; =~ &#47;f|x&#47;&#39;</code>"}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1461171143, "post_id": 36750140, "comment_id": 61081274, "body": "s/^.*[I]([^|]+).*?$/$1/ ...another proposal ^^ removes any chars before the first pipe too."}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 0, "creation_date": 1461172079, "post_id": 36750140, "comment_id": 61081819, "body": "Another possibility would be to split the line at the pipes and use the second entry of the split."}], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 6177912, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6d407bf5bf7671f8108f071de4f22520?s=128&d=identicon&r=PG&f=1", "display_name": "sara", "link": "https://stackoverflow.com/users/6177912/sara"}, "edited": false, "score": 0, "creation_date": 1461171027, "post_id": 36750194, "comment_id": 61081207, "body": "@ikegami $match_name =~  s/^(?:[^|]*\\|){2}\\K.*//s gives me: |1015809840| How to remove both &#39;|&#39;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 163, "user_id": 6177912, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6d407bf5bf7671f8108f071de4f22520?s=128&d=identicon&r=PG&f=1", "display_name": "sara", "link": "https://stackoverflow.com/users/6177912/sara"}, "edited": false, "score": 0, "creation_date": 1461171365, "post_id": 36750194, "comment_id": 61081387, "body": "Updated my answer."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1461171611, "last_edit_date": 1461171611, "creation_date": 1461170804, "answer_id": 36750194, "question_id": 36750140, "link": "https://stackoverflow.com/questions/36750140/extract-the-second-field-of-a-pipe-delimited-record/36750194#36750194", "title": "Extract the second field of a pipe-delimited record", "body": "<pre><code>my ($second_field) = $row =~ /^ [^|]* \\| ( [^|]* ) \\|/x;\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>my $second_field = ( split(/\\|/, $row) )[1];\n</code></pre>\n\n<p>Probably best to use <a href=\"http://search.cpan.org/perldoc?Text::CSV_XS\" rel=\"nofollow\">Text::CSV_XS</a>, though.</p>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 0, "last_activity_date": 1461172392, "last_edit_date": 1461172392, "creation_date": 1461171992, "answer_id": 36750606, "question_id": 36750140, "link": "https://stackoverflow.com/questions/36750140/extract-the-second-field-of-a-pipe-delimited-record/36750606#36750606", "title": "Extract the second field of a pipe-delimited record", "body": "<p>It looks like you have fixed-width data. You can certainly use a regex to work with fixed-width data, but I prefer <a href=\"http://perldoc.perl.org/functions/pack.html\" rel=\"nofollow\"><code>pack</code></a> and <a href=\"http://perldoc.perl.org/functions/unpack.html\" rel=\"nofollow\"><code>unpack</code></a>:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse 5.010;\n\nwhile (&lt;DATA&gt;) {\n    my @fields = unpack 'x A10 x A3 x A11';\n    say $fields[0];\n}\n\n__DATA__\n|1015809840|ref|NG_009004.2|\n|1015809841|ref|NG_009005.2|\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1015809840\n1015809841\n</code></pre>\n\n<p>The <code>unpack</code> template <code>x A10 x A3 x A11</code> means:</p>\n\n<ul>\n<li><code>x</code>: skip a character</li>\n<li><code>A10</code>: read 10 characters into the first field</li>\n<li><code>x</code>: skip a character</li>\n<li><code>A3</code>: read 3 characters into the second field</li>\n<li><code>x</code>: skip a character</li>\n<li><code>A11</code>: read 11 characters into the third field</li>\n</ul>\n\n<p><a href=\"http://perldoc.perl.org/perlpacktut.html\" rel=\"nofollow\">perlpacktut</a> gives a great introduction to using <code>pack</code> and <code>unpack</code> with fixed-width data.</p>\n"}], "owner": {"reputation": 163, "user_id": 6177912, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6d407bf5bf7671f8108f071de4f22520?s=128&d=identicon&r=PG&f=1", "display_name": "sara", "link": "https://stackoverflow.com/users/6177912/sara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 36750194, "answer_count": 2, "score": 0, "last_activity_date": 1461172392, "creation_date": 1461170633, "last_edit_date": 1461171503, "question_id": 36750140, "link": "https://stackoverflow.com/questions/36750140/extract-the-second-field-of-a-pipe-delimited-record", "title": "Extract the second field of a pipe-delimited record", "body": "<p>I am using perl.</p>\n\n<p>Here is the string which is $match_name:</p>\n\n<pre><code>|1015809840|ref|NG_009004.2|\n|1015809841|ref|NG_009005.2|\n</code></pre>\n\n<p>I want the output to be:</p>\n\n<pre><code>1015809840\n1015809841\n</code></pre>\n\n<p>I try:</p>\n\n<pre><code>$match_name =~ s/(.*?|.*?)|.*//g;\n</code></pre>\n\n<p>It removes all the characters.</p>\n"}, {"tags": ["perl", "hashmap", "template-toolkit"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1461175059, "post_id": 36749142, "comment_id": 61083587, "body": "Hello again. When do you want the TT to render your message? Probably Template is a bit overkill, but if I remember correctly you can&#39;t introduce new dependencies, right?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1461175160, "post_id": 36749142, "comment_id": 61083636, "body": "If you are around, maybe we should have a little chat (which I&#39;m trying to setup now). I&#39;ll talk you through some basics."}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1461246026, "post_id": 36749142, "comment_id": 61120071, "body": "I managed to come up with an approach of my own.. but I need a bit of help developing it further . Here is the <a href=\"http://stackoverflow.com/questions/36771368/a-method-which-inserts-template-placeholders-into-a-string-which-is-a-key-in-a-h\">question</a>"}], "owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1461168472, "creation_date": 1461167677, "last_edit_date": 1461168472, "question_id": 36749142, "link": "https://stackoverflow.com/questions/36749142/error-pm-a-perl-module-and-im-trying-to-add-template-functionality-to-it-so-i-c", "title": "Error.pm a Perl module and I&#39;m trying to add template functionality to it so I can use placeholders instead of variables throughout my ErrorLibrary.pm", "body": "<p>I want to make it function so that variable values which are retrieved during a build (at runtime) can be inserted in place of template placeholders from the message field of an Error hash in ErrorLibrary.pm. I know how to use template toolkit (sort of). Do I have to call the template process method in the code where the error occurs. (I included an example of an error occuring in the code below also) . I hope I have explained what I want to achieve here.</p>\n\n<p>Error.pm</p>\n\n<pre><code>use strict;\nuse warnings;\n\npackage ASC::Builder::Error;\n\nuse parent 'Exporter';\nour @EXPORT_OK = qw/new/;\n\nuse Template;\nuse ASC::Builder::ErrorLibrary;\n\n\n\n\nuse overload\n    '\"\"'  =&gt; \\&amp;stringify;\n\n\n# this method should handle both the old and new type error messages\nsub new {\n\n    my ($package, $first_param) = (shift,shift);\n\n\n    if (ref $first_param eq 'HASH') {\n        my %params = @_;\n        return bless { \n            message =&gt; $first_param-&gt;{message}, # contextual message in some cases which will contain runtime  parameters\n            code =&gt; $first_param-&gt;{code},\n            errorNum =&gt; $first_param-&gt;{errorNum} ,\n            category =&gt;$first_param-&gt;{category} ,\n            tt =&gt; $first_param-&gt;{tt}, \n            fatal =&gt; $first_param-&gt;{fatal}, \n            wiki_page =&gt; $first_param-&gt;{wiki_page}, \n            %params}, $package;\n    }\n    else {\n        my %params = @_; \n        return bless {\n            message =&gt; $first_param,\n            %params}, $package;\n\n}   \n}\n\nsub message { shift-&gt;{message} }\n\nsub details {\n    my $self = shift;\n    return $self-&gt;{details} || $self-&gt;{message};\n}\n\nsub tt { shift-&gt;{tt} }\n\nsub code { shift-&gt;{code} }\n\nsub errorNum { shift-&gt;{errorNum} }\n\nsub category { shift-&gt;{category} }\n\nsub fatal { shift-&gt;{fatal} }\n\nsub wiki_page { shift-&gt;{wiki_page} }\n\n\nsub stringify {\n    my $self = shift;\n    return sprintf('Error(\"%s\")', ( $self-&gt;message ) ); # removed or $self-&gt;fatal\n}\n\n# Used to deserialize from build json.\nsub recreate_from_hash {\n    my ($package, $hash) = @_;\n    return bless $hash, $package;\n}\n\n# Use to check if something is our error.\nsub is_error {\n    if (scalar(@_) &gt; 1) { # Called as package-&gt;is_error\n        shift; # Get rid of package\n    }\n    return UNIVERSAL::isa(shift, 'ASC::Builder::Error');\n}\n\n# create template for contextual messages for errors\n$template-&gt;process(\\$first_param-&gt;{message}, $vars);\n</code></pre>\n\n<p>ErrorLibrary.pm</p>\n\n<pre><code>package ASC::Builder::ErrorLibrary;\n\nuse strict;\nuse warnings;\nuse parent 'Exporter';\n\n# list of export error messages\nour @EXPORT_OK = qw/\n\nUNABLE_TO_PING_SWITCH_ERROR\n/;  \n\n# error message list\n\nuse constant {\n\n    UNABLE_TO_PING_SWITCH_ERROR =&gt; {\n        code =&gt; \"UNABLE_TO_PING_SWITCH_ERROR\",\n        errorNum =&gt; 727,\n        category =&gt; 'Switch Error',\n        message =&gt; \"Could not ping switch [% switch_ip %] in [% timeout %] seconds.\",\n        tt =&gt; {template =&gt; 'disabled'},\n        fatal =&gt; 1,\n        wiki_page =&gt; 'http://www.server-build.com/index.php/ErrorCodes/UNABLE_TO_PING_SWITCH_ERROR',\n    }\n\n};\n\n1;\n</code></pre>\n\n<p>Example of how and error is handled in the code:\n`   </p>\n\n<pre><code># this prints out the message field of the error hash\ndie ASC::Builder::Error-&gt;new(UNABLE_PING_SWITCH_ERROR);\n</code></pre>\n\n<p>I want it to be able to insert the variable values for <code>$switch_ip</code> and <code>$timeout</code> in place of <code>[% switch_ip %]</code> and <code>[% timeout %]</code>. I know I if they variables I am dealing with it wern't located in various parts throughout the code I could create a list of all the variables and use the template process function.</p>\n\n<p>Do I add the template process function to the Error.pm file and then call it throughout the code wherever an error occurs. I am so confused, been stuck on this for quite a while. Any help would be much appreciated.</p>\n\n<p>Again, apologies if there is anything wrong with how I asked the question or how it is phrased. Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 2, "creation_date": 1461156965, "post_id": 36744289, "comment_id": 61070081, "body": "Please, provide actual code in a form of a working example. What you provided isn&#39;t enough to get a meaningful answer."}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 0, "creation_date": 1461157639, "post_id": 36744289, "comment_id": 61070674, "body": "that would be too large. Please let me know where specifically it is not understood so I can make you clear."}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "edited": false, "score": 3, "creation_date": 1461157768, "post_id": 36744289, "comment_id": 61070793, "body": "You need to provide a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>"}, {"owner": {"reputation": 1058, "user_id": 3241027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8874c36ce5ee1710dcfc8bc9c9439a9?s=128&d=identicon&r=PG&f=1", "display_name": "Seekheart", "link": "https://stackoverflow.com/users/3241027/seekheart"}, "edited": false, "score": 0, "creation_date": 1461162346, "post_id": 36744289, "comment_id": 61074730, "body": "you provided pseudo code, so how do you expect us to help? Aside from doing it for you?"}], "answers": [{"comments": [{"owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "edited": false, "score": 0, "creation_date": 1461159170, "post_id": 36744936, "comment_id": 61071992, "body": "Wow, what&#39;s with the downvotes? Are we discouraging visual learners now? Is this site only about specific learning types excluding others? We were all beginners at one time having no clue how to do X."}, {"owner": {"reputation": 1444, "user_id": 6062567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e87060f0ce67ed68a097ac5186027c5?s=128&d=identicon&r=PG&f=1", "display_name": "oldtechaa", "link": "https://stackoverflow.com/users/6062567/oldtechaa"}, "edited": false, "score": 1, "creation_date": 1461165171, "post_id": 36744936, "comment_id": 61077045, "body": "You could also do the same thing by replacing the <code>$done=1</code> statement with a <a href=\"http://perldoc.perl.org/functions/last.html\" rel=\"nofollow noreferrer\"><code>last</code></a> statement in a <code>while(1)</code> loop."}, {"owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "reply_to_user": {"reputation": 1444, "user_id": 6062567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e87060f0ce67ed68a097ac5186027c5?s=128&d=identicon&r=PG&f=1", "display_name": "oldtechaa", "link": "https://stackoverflow.com/users/6062567/oldtechaa"}, "edited": false, "score": 0, "creation_date": 1461165356, "post_id": 36744936, "comment_id": 61077192, "body": "@oldtechaa: good idea for teaching OP about the &quot;last&quot; statement. &quot;last&quot; exits the loop also. &quot;last&quot; also exits for loops."}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "reply_to_user": {"reputation": 1444, "user_id": 6062567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e87060f0ce67ed68a097ac5186027c5?s=128&d=identicon&r=PG&f=1", "display_name": "oldtechaa", "link": "https://stackoverflow.com/users/6062567/oldtechaa"}, "edited": false, "score": 0, "creation_date": 1461216151, "post_id": 36744936, "comment_id": 61099527, "body": "@oldtechaa Thanks Bulrush and oldtechaa. Using &quot;last&quot; concept wokred. In the if condition when the file is found I did all the work and put the last in else look when while isnt found. Thanks."}], "tags": [], "owner": {"reputation": 518, "user_id": 3617046, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afad7c3481df3dcbbcd2b4366782e056?s=128&d=identicon&r=PG&f=1", "display_name": "Bulrush", "link": "https://stackoverflow.com/users/3617046/bulrush"}, "is_accepted": false, "score": 0, "last_activity_date": 1461238507, "last_edit_date": 1461238507, "creation_date": 1461157900, "answer_id": 36744936, "question_id": 36744289, "link": "https://stackoverflow.com/questions/36744289/to-run-perl-script-every-5-minutes-and-exit-properly/36744936#36744936", "title": "To run perl script every 5 minutes, and exit properly", "body": "<pre><code>use strict;\nuse warnings;\nmy $done=0; # Will be 1 if we are done.\nmy $infile='/path/to/myfile.txt';\nwhile ($done==0)\n  {\n  sleep 300; # Wait 5 minutes\n  if (-e $infile) # See if file exists\n    {\n    # Do something with file then delete it. \n    unlink $infile or die \"ERROR: Could not delete $infile\"; # Delete file.\n    $done=1; # Now exit loop and program.\n    }\n  } # while\nexit;\n</code></pre>\n\n<p>Is this what you are asking about? </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1461175241, "creation_date": 1461175241, "answer_id": 36751677, "question_id": 36744289, "link": "https://stackoverflow.com/questions/36744289/to-run-perl-script-every-5-minutes-and-exit-properly/36751677#36751677", "title": "To run perl script every 5 minutes, and exit properly", "body": "<p>The program doesn't exit because you never told Perl to exit the loop.</p>\n\n<pre><code>sub wait_for_file {\n   my ($qfn) = @_;\n   while (1) {\n      last if -e $qfn;\n      sleep 300;\n   }\n}\n\n{\n   my $qfn = ...;\n   wait_for_file($qfn);\n   ... do stuff ...\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1032, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1461238507, "creation_date": 1461156461, "last_edit_date": 1461157590, "question_id": 36744289, "link": "https://stackoverflow.com/questions/36744289/to-run-perl-script-every-5-minutes-and-exit-properly", "title": "To run perl script every 5 minutes, and exit properly", "body": "<p>I have a script which I need to run every 5 minutes till the time I have my file in a directory on which my script is based. That file will be moved automatically and that time I want my script to exit too. Also I do not want to schedule it with cron as this would be running along with some other process only, and I want this script to run only till the time the particular file is present in directory and exit once the file isnt there.</p>\n\n<p>I tried using sleep in while loop but then the script is writing nothing to OUTLOG, which is log file for the script and also if the file on which script is based isnt present, it is going for forever sleep but not exiting.</p>\n\n<pre><code>while (1) {\n    sleep 300;\n\n    &lt;Calling subroutine check&gt;\n    }\n\n    sub check {\n    #check for a file in a specified directory\n    # print OUTLOG statements in all script which are not working with WHILE LOOP.\n    #do further processing if file is present\n    #calls sub sendemail\n    }\n\n    sub sendemail {\n    #sends mail\n    }\n</code></pre>\n"}, {"tags": ["perl", "selenium", "xpath", "popup", "click"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1461176716, "post_id": 36740370, "comment_id": 61084620, "body": "And what is your question? Does the code not do what you want? Are we talking a browser-popup (like an alert box), or an overlay, or a completely different browser window?"}], "answers": [{"comments": [{"owner": {"reputation": 2514, "user_id": 6004650, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/668db278c31bc9040a9dea1b77b4ddd4?s=128&d=identicon&r=PG&f=1", "display_name": "MikeJRamsey56", "link": "https://stackoverflow.com/users/6004650/mikejramsey56"}, "edited": false, "score": 0, "creation_date": 1461271201, "post_id": 36756796, "comment_id": 61136307, "body": "I pulled this out of the cucumber-remote-driver perl github repo. The skinny answer is  <b>$driver-&gt;accept_alert;</b>"}], "tags": [], "owner": {"reputation": 2514, "user_id": 6004650, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/668db278c31bc9040a9dea1b77b4ddd4?s=128&d=identicon&r=PG&f=1", "display_name": "MikeJRamsey56", "link": "https://stackoverflow.com/users/6004650/mikejramsey56"}, "is_accepted": false, "score": 0, "last_activity_date": 1461193746, "creation_date": 1461193746, "answer_id": 36756796, "question_id": 36740370, "link": "https://stackoverflow.com/questions/36740370/how-to-click-a-button-on-popup-using-seleniumremotedriver-in-perl/36756796#36756796", "title": "how to click a button on popup using selenium::remote::driver in perl?", "body": "<pre><code>=head2 accept_alert\n Description:\n    Accepts the currently displayed alert dialog.  Usually, this is\n    equivalent to clicking the 'OK' button in the dialog.\nExample:\n    $driver-&gt;accept_alert;\n=cut\n\nsub accept_alert {\n    my ($self) = @_;\n    my $res = { 'command' =&gt; 'acceptAlert' };\n    return $self-&gt;_execute_command($res);\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 6181287, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/b0989b3cd147f5ca44dcd830162c4dd7?s=128&d=identicon&r=PG&f=1", "display_name": "perlfg", "link": "https://stackoverflow.com/users/6181287/perlfg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461193746, "creation_date": 1461146597, "question_id": 36740370, "link": "https://stackoverflow.com/questions/36740370/how-to-click-a-button-on-popup-using-seleniumremotedriver-in-perl", "title": "how to click a button on popup using selenium::remote::driver in perl?", "body": "<p>I want click on a button(xpath) in a popup in perl. i will switch in a popup with xpath.</p>\n\n<p>my codeline:</p>\n\n<pre><code>my $popup-&gt;$driver-&gt;get_window_handles;;\n$driver-&gt;switch_to_window($popup-&gt;[1]);\n$driver-&gt;click(); \n</code></pre>\n\n<p>i have write the script in perl and used Selenium::Remote::Driver and phantom.js</p>\n"}, {"tags": ["perl", "loops"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 7, "last_activity_date": 1461147395, "creation_date": 1461147395, "answer_id": 36740715, "question_id": 36739437, "link": "https://stackoverflow.com/questions/36739437/i-am-trying-pascals-triangle-using-perl-i-am-getting-bit-different-output-could/36740715#36740715", "title": "I am trying pascals triangle using perl.I am getting bit different output.Could somebody please point out what is the error?", "body": "<p>The problem is here:</p>\n\n<pre><code>$i=$1+1;\n</code></pre>\n\n<p>You wanted to use <code>$i</code> instead of <code>$1</code>.</p>\n\n<p>You should use <a href=\"http://p3rl.org/warnings\">warnings</a>, they would've told you.</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 6139701, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7e90a7e555161fc953b6d7e4a450bf86?s=128&d=identicon&r=PG&f=1", "display_name": "bibhu", "link": "https://stackoverflow.com/users/6139701/bibhu"}, "is_accepted": false, "score": 1, "last_activity_date": 1461147487, "creation_date": 1461147487, "answer_id": 36740748, "question_id": 36739437, "link": "https://stackoverflow.com/questions/36739437/i-am-trying-pascals-triangle-using-perl-i-am-getting-bit-different-output-could/36740748#36740748", "title": "I am trying pascals triangle using perl.I am getting bit different output.Could somebody please point out what is the error?", "body": "<p>I had done one typo error .Instead of $i=$i+1 ,I had $i=$1+1.</p>\n"}], "owner": {"reputation": 23, "user_id": 6139701, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7e90a7e555161fc953b6d7e4a450bf86?s=128&d=identicon&r=PG&f=1", "display_name": "bibhu", "link": "https://stackoverflow.com/users/6139701/bibhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461147487, "creation_date": 1461144456, "last_edit_date": 1461147087, "question_id": 36739437, "link": "https://stackoverflow.com/questions/36739437/i-am-trying-pascals-triangle-using-perl-i-am-getting-bit-different-output-could", "title": "I am trying pascals triangle using perl.I am getting bit different output.Could somebody please point out what is the error?", "body": "<p>My program is -</p>\n\n<pre><code>@arr=('1','1  1');\nprint \"enter the number of rows\\n\";\n$rows=&lt;STDIN&gt;;\n$v=0;\nwhile($v&lt;$rows)\n{\n     foreach $ele (@arr)\n        {\n          @arr1=split(/\\s+/,$ele);\n          $g=@arr1;\n          #print \"$g\\n\";\n          $i=0;\n          $j=1;\n          $str='';\n          while ($j&lt;$g)\n             {\n                $res=$arr1[$i]+$arr1[$j];\n                #print \"$res\\n\";\n                $i=$1+1;\n                $j=$j+1;\n                $str=$str.' '.$res;\n\n            }\n\n        $final='1'.' '.$str.' '.'1';\n        print \"$final\\n\";\n\n\n}\n$v=$v+1;\n#@arr=();\npush(@arr,$final);\n}\n\nprint \"@arr\";\n\nforeach (@arr)\n{\n\n    print \"$_\\n\";\n}\n</code></pre>\n\n<p>my output is:</p>\n\n<pre><code>C:\\Perl\\bin&gt;perl pascal.pl\nenter the number of rows\n4\n1\n1  1\n1  2 1\n1  3 3 1\n1  4 6 4 1\n1  5 10 8 5 1\n</code></pre>\n\n<p>The 8 on the last line should be 10. But why it is coming 8?</p>\n"}, {"tags": ["perl", "utf-8"], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 3, "last_activity_date": 1461160260, "last_edit_date": 1461160260, "creation_date": 1461148226, "answer_id": 36741053, "question_id": 36735603, "link": "https://stackoverflow.com/questions/36735603/is-it-safe-to-encode-regex-input-by-user-for-use-with-filefindrule/36741053#36741053", "title": "Is it safe to encode regex input by user for use with File::Find::Rule?", "body": "<p>It turns out it is not safe to encode the regex. Specifically if a bracket expression is followed by one or more characters, the regex may select unwanted files. The reason is that only a single of the bytes in the UTF-8 encoded version will be matched by the bracket expression.  Consider the following modification of my script:</p>\n\n<pre><code>system 'touch', 'a\u00e6', 'a\u00e61', 'aa'; # some test files, \n\nmy $pat = '\u00e6.$';\nmy $pat_encode = encode( $pat );\nrun_test( $pat_encode, 'With encode()' );\nrun_test( $pat, 'Without encode()' );\nmy $pat2 = '[\u00e6].$';\nmy $pat2_encode = encode( $pat2 );\nrun_test( $pat2_encode, 'With encode()' );\n</code></pre>\n\n<p>Now this should only return the file <code>a\u00e61</code>, however the <code>$pat2</code> regex will also return <code>a\u00e6</code> since only the first of the two bytes of the encoded <code>\u00e6</code> will be used up by the bracket expression, leaving the last byte to be matched by trailing <code>.</code> in <code>$pat2</code>.</p>\n\n<p>The output is:</p>\n\n<pre><code> With encode()\n-------------\n\na\u00e61\nWithout encode()\n----------------\n\nWith encode()\n-------------\n\na\u00e6\na\u00e61\n</code></pre>\n\n<p>The solution seems to be to use <a href=\"https://metacpan.org/pod/File::Find\" rel=\"nofollow\"><code>File::Find</code></a> instead :</p>\n\n<pre><code>use File::Find ();\n\nsystem 'touch', 'a\u00e6', 'a\u00e61', 'aa'; # some test files, \n\nmy $pat = '[\u00e6].$';\nmy $files = find_files( $pat );\n\nsay $_ for @$files;\n\nsub decode {\n    return Encode::decode('UTF-8', $_[0], Encode::FB_CROAK | Encode::LEAVE_SRC );\n}\n\nsub find_files {\n    my ( $pat ) = @_;\n\n    my @files;\n    File::Find::find( sub { wanted( $pat, \\@files ) }, '.' );\n    return \\@files;\n}\n\nsub wanted {\n    my ( $pat, $files ) = @_;\n    my $name = decode( $_ );\n    my $full_name = decode( $File::Find::name );\n    push @$files, $full_name if $name =~ /$pat/;\n}\n</code></pre>\n\n<p>The output is now correct:</p>\n\n<pre><code>./a\u00e61\n</code></pre>\n\n<p><strong>Update</strong>:</p>\n\n<p>In fact, <code>File::Find::Rule</code> can be used after all. Simply use the <code>exec</code> rule instead of the <code>name</code> rule:</p>\n\n<pre><code>my $pat = '[\u00e6].$';\nmy $files = find_files( $pat );\n\nsay for @$files;\n\nsub find_files {\n    my ( $pat ) = @_;\n\n    my @files = File::Find::Rule-&gt;new-&gt;exec( sub { wanted( $pat ) } )-&gt;in('.');\n    for (@files) {\n        $_ = decode( $_ );\n    }\n    return \\@files;\n}\n\nsub wanted {\n    my ( $pat ) = @_;\n    my $name = decode( $_ );\n    return ( $name =~ /$pat/ ) ? 1 : 0;\n}\n</code></pre>\n\n<p>The output is now:</p>\n\n<pre><code>a\u00e61\n</code></pre>\n"}], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 36741053, "answer_count": 1, "score": 2, "last_activity_date": 1461160260, "creation_date": 1461134064, "question_id": 36735603, "link": "https://stackoverflow.com/questions/36735603/is-it-safe-to-encode-regex-input-by-user-for-use-with-filefindrule", "title": "Is it safe to encode regex input by user for use with File::Find::Rule?", "body": "<p>I am working on an application that takes a regex as input from the user at the command line, and then applies that regex to find certain files under the current directory. The application support UTF-8 input, and should be able to find UTF-8 encoded file names. Here is an example:</p>\n\n<pre><code>use feature qw(say);\nuse open qw( :std :utf8 );\nuse strict;\nuse utf8;\nuse warnings;\n\nuse Encode ();\nuse File::Find::Rule;\n\nsystem 'touch', 'a\u00e6', 'b\u00e6', 'aa'; # some test files, \n\nmy $pat = '\u00e6$';\nmy $pat_encode = encode( $pat );\nrun_test( $pat_encode, 'With encode()' );\nrun_test( $pat, 'Without encode()' );\nmy $pat2 = '[\u00e6]$';\nmy $pat2_encode = encode( $pat2 );\nrun_test( $pat2_encode, 'With encode()' );\n\nsub encode {\n    return Encode::encode('UTF-8', $_[0], Encode::FB_CROAK | Encode::LEAVE_SRC);\n}\n\nsub run_test {\n    my ( $pat_encode, $test_str ) = @_;\n\n    say $test_str;\n    say '-' x length $test_str;\n    say \"\";\n    my @files = File::Find::Rule-&gt;new-&gt;name( qr/$pat_encode/ )-&gt;in('.');\n    for (@files) {\n        $_ = Encode::decode('UTF-8', $_, Encode::FB_CROAK | Encode::LEAVE_SRC );\n    }\n\n    say $_ for @files;\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>With encode()\n-------------\n\na\u00e6\nb\u00e6\nWithout encode()\n----------------\n\nWith encode()\n-------------\n\na\u00e6\nb\u00e6\n</code></pre>\n\n<p>I would expect that the last regex <code>[\u00e6]$</code> would not work after being encoded, since the <code>\u00e6</code> will expand to two bytes <code>0xC3A6</code>, but somehow, it seems Perl knows that the regex is encoded in UTF-8 and does some magic to have it work.</p>\n\n<p>I wonder if someone knows why the latter example is working, and if there are any other cases where encoding the regex would not work? ( So I am trying to decide if I can use <a href=\"https://metacpan.org/pod/File::Find::Rule\" rel=\"nofollow\"><code>File::Find::Rule</code></a> or if I should switch to <a href=\"https://metacpan.org/pod/File::Find\" rel=\"nofollow\"><code>File::Find</code></a> which would allow me to avoid having to encoding the regex.)</p>\n"}, {"tags": ["apache", "perl", "mod-perl"], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "edited": false, "score": 0, "creation_date": 1461129181, "post_id": 36734212, "comment_id": 61051795, "body": "I am not sure of the server , whether its redhat anything else but when I tried the code and got the error: $ sudo apt-get update -bash: sudo: command not found $ yum update -bash: yum: command not found"}, {"owner": {"reputation": 162, "user_id": 3539775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/892a66074a0512f0fcf3018bb03d9a3d?s=128&d=identicon&r=PG", "display_name": "J Singh", "link": "https://stackoverflow.com/users/3539775/j-singh"}, "reply_to_user": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "edited": false, "score": 0, "creation_date": 1461388534, "post_id": 36734212, "comment_id": 61187304, "body": "Ok, could you please post the results of the following command from your system: uname -a"}], "tags": [], "owner": {"reputation": 162, "user_id": 3539775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/892a66074a0512f0fcf3018bb03d9a3d?s=128&d=identicon&r=PG", "display_name": "J Singh", "link": "https://stackoverflow.com/users/3539775/j-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1461128479, "creation_date": 1461128479, "answer_id": 36734212, "question_id": 36733903, "link": "https://stackoverflow.com/questions/36733903/not-able-to-install-mod-perl-module-on-the-server/36734212#36734212", "title": "Not able to install mod_perl module on the server", "body": "<p>Mostly gcc is either corrupted or not present on your system. Please try to re/install gcc on your system</p>\n\n<pre><code>sudo apt-get update\nsudo apt-get install build-essential\n</code></pre>\n\n<p>On Redhat:</p>\n\n<pre><code>yum update\nyum install devtoolset-2-toolchain\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "edited": false, "score": 0, "creation_date": 1461129238, "post_id": 36734269, "comment_id": 61051817, "body": "I got the error when I tried the code: $ apt-get install mod_perl -bash: apt-get: command not found $ yum install mod_perl -bash: yum: command not found"}, {"owner": {"reputation": 5869, "user_id": 2153459, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1e87c3346abe9e6e67988143bfe90d6a?s=128&d=identicon&r=PG", "display_name": "Daniel Scott", "link": "https://stackoverflow.com/users/2153459/daniel-scott"}, "reply_to_user": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "edited": false, "score": 0, "creation_date": 1461129422, "post_id": 36734269, "comment_id": 61051895, "body": "Hmm, then the either the server uses some other packaging system, or those tools have been removed. Is there any way you can find out which distro is used? Can you ask your server admin/hosting company?"}, {"owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "edited": false, "score": 0, "creation_date": 1461131009, "post_id": 36734269, "comment_id": 61052529, "body": "CLOUDLINUX 6.7 x86_64 standard is used"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1461142920, "post_id": 36734269, "comment_id": 61059925, "body": "CloudLinux is based on RHEL and uses &quot;yum&quot;. It&#39;s possible that &quot;yum&quot; just isn&#39;t in your path when running as a normal user. You&#39;re supposed to run &quot;yum&quot; as the supersuser."}], "tags": [], "owner": {"reputation": 5869, "user_id": 2153459, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1e87c3346abe9e6e67988143bfe90d6a?s=128&d=identicon&r=PG", "display_name": "Daniel Scott", "link": "https://stackoverflow.com/users/2153459/daniel-scott"}, "is_accepted": false, "score": 2, "last_activity_date": 1461128724, "creation_date": 1461128724, "answer_id": 36734269, "question_id": 36733903, "link": "https://stackoverflow.com/questions/36733903/not-able-to-install-mod-perl-module-on-the-server/36734269#36734269", "title": "Not able to install mod_perl module on the server", "body": "<p>It's probably best to use your distro's packaging system to install mod_perl, especially, if apache is installed from a package too.</p>\n\n<p>Yum based systems:</p>\n\n<pre><code>yum install mod_perl\n</code></pre>\n\n<p>Deb based systems</p>\n\n<pre><code>apt-get install mod_perl\n</code></pre>\n\n<p>you may need to enable the module using a2enmod</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1461143130, "creation_date": 1461143130, "answer_id": 36738855, "question_id": 36733903, "link": "https://stackoverflow.com/questions/36733903/not-able-to-install-mod-perl-module-on-the-server/36738855#36738855", "title": "Not able to install mod_perl module on the server", "body": "<p>It seems like a problem with your installation of <code>gcc</code>. You're using CloudLinux, so you should use <code>yum</code> to reinstall <code>gcc</code>.</p>\n\n<pre><code>$ sudo -i yum install gcc\n</code></pre>\n\n<p>But you don't need <code>gcc</code> if you install the pre-build packages.</p>\n\n<pre><code>$ sudo -i yum install mod_perl\n</code></pre>\n\n<p>Either way, you're going to need to get to grips with package installation for your system - and for that you're going to need root access.</p>\n"}], "owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1461143130, "creation_date": 1461126970, "question_id": 36733903, "link": "https://stackoverflow.com/questions/36733903/not-able-to-install-mod-perl-module-on-the-server", "title": "Not able to install mod_perl module on the server", "body": "<p>In my site I am getting an error : <code>an error occurred while processing this directive</code>\nIt was working fine before moving to the new server. So when I checked I found that mod_perl module is missing. So I tried to install it by downloading the module to the server and then tried to run using <code>Perl Makefile.pl</code> but it was asking for apache src and I was not able to find it. I can see <code>/usr/bin/apache/</code> folder but no source file inside the folder.\nSo I tried to install the module from Cpanel but I got the following error:</p>\n\n<pre><code>The C compiler is not functional and auto repair failed. Perl module installs require a working C compiler. Please repair the C compiler and try again.\n</code></pre>\n\n<p>Please let me know how to install it as I have tried most of the cases searching the net.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["perl", "csv"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1461126538, "post_id": 36733300, "comment_id": 61050875, "body": "You aren&#39;t (yet) using the <code>$csv</code> that you created."}], "answers": [{"comments": [{"owner": {"reputation": 1444, "user_id": 6062567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e87060f0ce67ed68a097ac5186027c5?s=128&d=identicon&r=PG&f=1", "display_name": "oldtechaa", "link": "https://stackoverflow.com/users/6062567/oldtechaa"}, "edited": false, "score": 0, "creation_date": 1461154566, "post_id": 36733477, "comment_id": 61068225, "body": "The reason to avoid printing <code>&lt;HIGH&gt;</code> is because the <code>while</code> already reads a line from the file, so you will only print every other line, correct?"}, {"owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "reply_to_user": {"reputation": 1444, "user_id": 6062567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e87060f0ce67ed68a097ac5186027c5?s=128&d=identicon&r=PG&f=1", "display_name": "oldtechaa", "link": "https://stackoverflow.com/users/6062567/oldtechaa"}, "edited": false, "score": 1, "creation_date": 1461171204, "post_id": 36733477, "comment_id": 61081309, "body": "Yes, the while loop is definitely reading the file, a line at a time (putting each line in <code>$_</code>), so printing <code>&lt;HIGH&gt;</code> could possible print the next line, or it might even try to print the whole file, or it might just print nothing, all of which are &quot;bad&quot;."}], "tags": [], "owner": {"reputation": 2279, "user_id": 13563, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VoEyi.jpg?s=128&g=1", "display_name": "jimtut", "link": "https://stackoverflow.com/users/13563/jimtut"}, "is_accepted": false, "score": 2, "last_activity_date": 1461124119, "creation_date": 1461124119, "answer_id": 36733477, "question_id": 36733300, "link": "https://stackoverflow.com/questions/36733300/reading-a-csv-file-and-writing-to-a-csv-file/36733477#36733477", "title": "Reading a CSV file and writing to a CSV file", "body": "<p>OK, lots of things here.</p>\n\n<ol>\n<li>Always <code>use strict</code> and <code>use warnings</code>.</li>\n<li>You're opening the CSV file write mode (append mode?).  Don't do that, if you're just reading from it.</li>\n<li>Don't use <code>|| die</code>, use <code>or die</code>.</li>\n<li>Finally, don't <code>print &lt;HIGH&gt;</code>, instead <code>print $_</code>.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 3539775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/892a66074a0512f0fcf3018bb03d9a3d?s=128&d=identicon&r=PG", "display_name": "J Singh", "link": "https://stackoverflow.com/users/3539775/j-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1461127521, "creation_date": 1461127521, "answer_id": 36734019, "question_id": 36733300, "link": "https://stackoverflow.com/questions/36733300/reading-a-csv-file-and-writing-to-a-csv-file/36734019#36734019", "title": "Reading a CSV file and writing to a CSV file", "body": "<p>I've modified your code a bit:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Text::CSV;\n\nmy $csv = Text::CSV-&gt;new;\nopen(HIGH, \"+&lt;Hardtest.csv\") || die \"Cannot open ticket $!\\n\"; #reads the high file\nwhile(&lt;HIGH&gt;)\n{\n    print \"Printing High Priority Tickets ...\\n\";\n    print $_;\n    sleep(1);\n}\nprint HIGH \"9,10,11,12\\n\";\nclose(HIGH);\n</code></pre>\n\n<p>Let me explain:\n1. \"+>\" will open the file in read/write mode, BUT will also overwrite the existing file. Hence, In your code, while loop is never entered. I've changed that to \"+&lt;\" which means read/write in append mode.\n2. Second last statement, in above code, will append new content to the CSV file.</p>\n"}], "owner": {"reputation": 1, "user_id": 6210645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d425abd9d615e0363defb6f6c0f5c8d7?s=128&d=identicon&r=PG&f=1", "display_name": "swagdaddy", "link": "https://stackoverflow.com/users/6210645/swagdaddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461127521, "creation_date": 1461122871, "question_id": 36733300, "link": "https://stackoverflow.com/questions/36733300/reading-a-csv-file-and-writing-to-a-csv-file", "title": "Reading a CSV file and writing to a CSV file", "body": "<pre><code>use Text::CSV;\n$csv = Text::CSV-&gt;new;\nopen(HIGH, \"+&gt;Hardtest.csv\") || die \"Cannot open ticket $!\\n\"; #reads the high file\nwhile(&lt;HIGH&gt;)\n{\n    print \"Printing High Priority Tickets ...\\n\";\n    sleep(1);\n    print &lt;HIGH&gt;;\n}\nclose(HIGH);\n</code></pre>\n\n<p>here is my code, i am trying to read a csv and write to it, however i cant seem to read the CSV file, help would be appreciated, thanks!</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 1642794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c247a5778c0724b10eec7dd9b0a99727?s=128&d=identicon&r=PG", "display_name": "zebullon", "link": "https://stackoverflow.com/users/1642794/zebullon"}, "edited": false, "score": 0, "creation_date": 1461125160, "post_id": 36733517, "comment_id": 61050528, "body": "It works, thanks. Do you know what is the error in my version ? Basically what I tried to do is split the filename on &#39;.&#39;,  get the last field (extension) and  try to match any extensions against it. I understand your approach but I&#39;d like to correct mine too."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "reply_to_user": {"reputation": 149, "user_id": 1642794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c247a5778c0724b10eec7dd9b0a99727?s=128&d=identicon&r=PG", "display_name": "zebullon", "link": "https://stackoverflow.com/users/1642794/zebullon"}, "edited": false, "score": 0, "creation_date": 1461128601, "post_id": 36733517, "comment_id": 61051561, "body": "@zebullon the <code>grep</code> is also wrong \u2014 the <code>if</code> condition will be true as long as <code>$fields[-1]</code> is any true value and <code>@srcExt</code> is non-empty."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 4, "last_activity_date": 1461141414, "last_edit_date": 1461141414, "creation_date": 1461124348, "answer_id": 36733517, "question_id": 36733231, "link": "https://stackoverflow.com/questions/36733231/using-file-find-to-grab-source-files/36733517#36733517", "title": "Using file find to grab source files", "body": "<p>Your problem is in your split</p>\n\n<pre><code> my @ar =  split /'.'/, $File::Find::name;\n                   ^\n            here is your problem.\n</code></pre>\n\n<p>you want to split the file using dot so, you tried <code>'.'</code>. But it is not escaping. Escape the character use back slash. So syntax should be</p>\n\n<pre><code>my @ar =  split /\\./, $File::Find::name;\n</code></pre>\n\n<p>So your code is,</p>\n\n<pre><code>find( sub{\n     my @fields = split /\\./, $File::Find::name;\n     push @srcFiles, $File::Find::name if grep $fields[-1], @srcExt;\n }, \n @startDir);  \n</code></pre>\n\n<p>Or else try something as follow, this is more effective than your code and it will fix some bugs as @hobbs mentioned in a comment.</p>\n\n<p>Join the array by the pipe separated. Then use precompiled regex(qr) to add the non capturing group. Then parse variable into the subroutine and check it. </p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\n\nuse File::Find;\n\nmy @srcFiles;\nmy @srcExt = qw(cpp h py pl);\nmy $match = join(\"|\",@srcExt);\n$match = qr/\\.(?:$match)$/;\n\nmy @startDir = qw(.);\n\nfind(sub\n{\n    my $s = $File::Find::name;\n    push(@srcFiles,$s) if($s =~m/$match/);\n\n}\n, @startDir);\n\nprint @srcFiles;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": false, "score": 1, "last_activity_date": 1461125728, "creation_date": 1461125728, "answer_id": 36733696, "question_id": 36733231, "link": "https://stackoverflow.com/questions/36733231/using-file-find-to-grab-source-files/36733696#36733696", "title": "Using file find to grab source files", "body": "<pre><code>my @fields = split /'.'/, $File::Find::name;\n</code></pre>\n\n<p>This regular expression splits the filename where it finds an apostrophe, followed by any character, followed by an apostrophe. This is definitely not what you intended.</p>\n\n<p>Instead, try:</p>\n\n<pre><code>my @fields = split /\\./, $File::Find::name;\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 1642794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c247a5778c0724b10eec7dd9b0a99727?s=128&d=identicon&r=PG", "display_name": "zebullon", "link": "https://stackoverflow.com/users/1642794/zebullon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 36733517, "answer_count": 2, "score": 0, "last_activity_date": 1461141414, "creation_date": 1461122489, "question_id": 36733231, "link": "https://stackoverflow.com/questions/36733231/using-file-find-to-grab-source-files", "title": "Using file find to grab source files", "body": "<p>I am trying to use (as an exercise) the file find callback capability to filter source files out. It does not work so far and just grab everything under the sun.</p>\n\n<p>could you point me out in the good direction ?</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse warnings;\n\nuse File::Find;\n\nmy @srcFiles;\nmy @srcExt = qw(cpp h py pl);\n\n\nmy @startDir = qw(.);\nfind( sub{\n        my @fields = split /'.'/, $File::Find::name;\n        push @srcFiles, $File::Find::name if grep $fields[-1], @srcExt;\n    }, \n    @startDir);\nprint 'Source files found: ', @srcFiles;\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["regex", "perl", "parsing", "text"], "answers": [{"tags": [], "owner": {"reputation": 2486, "user_id": 5967915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc1ede82b4d6b5af1148a77d874c5396?s=128&d=identicon&r=PG&f=1", "display_name": "Tim007", "link": "https://stackoverflow.com/users/5967915/tim007"}, "is_accepted": true, "score": 2, "last_activity_date": 1461116339, "creation_date": 1461116339, "answer_id": 36732370, "question_id": 36732293, "link": "https://stackoverflow.com/questions/36732293/how-to-escape-parenthesis-in-perl-regular-expressions/36732370#36732370", "title": "How to escape parenthesis in Perl Regular Expressions?", "body": "<p>Try this</p>\n\n<pre><code>\\((\\d+)\\)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/oW5zL3/1\" rel=\"nofollow\">Regex demo</a></p>\n\n<p><strong>Explanation:</strong><br>\n<code>\\</code>: Escapes a special character <a href=\"https://regex101.com/r/aM5iM5/1\" rel=\"nofollow\">sample</a><br>\n<code>( \u2026 )</code>: Capturing group <a href=\"https://regex101.com/r/qL1pP8/1\" rel=\"nofollow\">sample</a><br>\n<code>+</code>: One or more <a href=\"https://regex101.com/r/wV7cV2/1\" rel=\"nofollow\">sample</a>  </p>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 6, "last_activity_date": 1461118471, "creation_date": 1461118471, "answer_id": 36732630, "question_id": 36732293, "link": "https://stackoverflow.com/questions/36732293/how-to-escape-parenthesis-in-perl-regular-expressions/36732630#36732630", "title": "How to escape parenthesis in Perl Regular Expressions?", "body": "<p>Your regex was fine, except that you had an extra <code>)</code> on the end.</p>\n\n<pre><code>$_ = \" JOURNAL   Yeast 10 (11), 1503-1509 (1994)\";\nif ( /\\s+JOURNAL\\s+.*\\((\\d+).*\\((\\d+)/ ) {\n     print \"one: $1, two: $2\\n\";\n}\n</code></pre>\n\n<p>If you want to explicitly make sure there is an ending parenthesis after the digits, then:</p>\n\n<pre><code>/\\s+JOURNAL\\s+.*\\((\\d+)\\).*\\((\\d+)\\)/ \n</code></pre>\n"}], "owner": {"reputation": 754, "user_id": 4110915, "user_type": "registered", "accept_rate": 34, "profile_image": "https://graph.facebook.com/100005137569756/picture?type=large", "display_name": "Jenna Maiz", "link": "https://stackoverflow.com/users/4110915/jenna-maiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4580, "favorite_count": 0, "accepted_answer_id": 36732370, "answer_count": 2, "score": 0, "last_activity_date": 1461118471, "creation_date": 1461115851, "question_id": 36732293, "link": "https://stackoverflow.com/questions/36732293/how-to-escape-parenthesis-in-perl-regular-expressions", "title": "How to escape parenthesis in Perl Regular Expressions?", "body": "<p>If I have a string such as:</p>\n\n<pre><code> JOURNAL   Yeast 10 (11), 1503-1509 (1994)\n</code></pre>\n\n<p>How do I get the two numbers in the parenthesis( 11 and 1994) ? One way I attempted was using:</p>\n\n<pre><code>/\\s+JOURNAL\\s+.*\\((\\d+).*\\((\\d+))/\n</code></pre>\n\n<p>but this doesn't work. So my two questions:</p>\n\n<ol>\n<li><p>How to escape the parenthesis so I can use match them in the RE ?</p></li>\n<li><p>How to get the above two numbers ?</p></li>\n</ol>\n\n<p>I am doing this in Perl. Thanks for any help !</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1461115272, "post_id": 36732145, "comment_id": 61047990, "body": "Shorter version of <code>$Config{perlpath}</code>: <a href=\"https://metacpan.org/pod/perlvar#EXECUTABLE_NAME\" rel=\"nofollow noreferrer\"><code>$^X</code></a>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1461115422, "post_id": 36732145, "comment_id": 61048018, "body": "Definitely a sin. But a minor one."}], "answers": [{"tags": [], "owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "is_accepted": true, "score": 1, "last_activity_date": 1461120051, "creation_date": 1461120051, "answer_id": 36732869, "question_id": 36732145, "link": "https://stackoverflow.com/questions/36732145/is-it-safe-using-configperlpath-in-system-exec-open/36732869#36732869", "title": "Is it safe using $Config{perlpath} in system/exec/open?", "body": "<blockquote>\n  <p>Is it OK to use $Config{perlpath} in system call directly?</p>\n</blockquote>\n\n<p>Relatively. It's about as portable as the rest of your code (which already depends on running on something unix-ish). There's some security worry, but I'd say not a very large one because someone who can affect the value of that variable already has scope to cause havoc. <code>$^X</code> is probably safer in that regard. You might want to try quoting it using <a href=\"https://metacpan.org/pod/String::ShellQuote\" rel=\"nofollow\">String::ShellQuote</a> just for safety, since you can't bypass the shell in the midst of a pipeline.</p>\n\n<blockquote>\n  <p>Calling own perl binary seems nuts. Are there any better solutions?</p>\n</blockquote>\n\n<p>Depends on your definition of \"better\". There's definitely another way around, which is to run both <code>command1</code> and <code>command2</code> separately, process <code>command1</code>'s output in your original perl process, hand it to <code>command2</code>, and read <code>command2</code>'s output. However, you have to be careful how you do it. There are two safe ways.</p>\n\n<p>The first way is easier, but takes more time and memory: run <code>command1</code> first, read and process all of its output into a string, then run <code>command2</code> providing the buffered output as input. The best way to do this is to use <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow\">IPC::Run</a> to handle <code>command2</code>'s input and output (and maybe both commands, just for consistency); if you try to just print all the data to <code>command2</code>'s input handle and then read all the output you can deadlock, but IPC::Run will interleave reads and writes if necessary behind the scenes, and give you a nice easy interface.</p>\n\n<p>The second way is more complicated but closer in behavior to the original: you need some kind of async framework like <a href=\"https://metacpan.org/pod/IO::Async\" rel=\"nofollow\">IO::Async</a> or <a href=\"https://metacpan.org/pod/POE\" rel=\"nofollow\">POE</a>, using its classes for process construction, and set up handlers to communicate between them, do your filtering, and gather the output.</p>\n\n<p><a href=\"https://gist.github.com/arodland/bf5de98dfb4503583fb1e51ae3aa0c67\" rel=\"nofollow\">Here's</a> a tested toy example of that (gist because it's a couple screenfuls of code) that does the equivalent of <code>ls | perl -pe '$_ = uc' | rev</code>, except with the middle part of the pipeline running in the parent perl process. You may never use it, but I thought it was worth illustrating.</p>\n"}], "owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 36732869, "answer_count": 1, "score": 0, "last_activity_date": 1461120051, "creation_date": 1461114779, "question_id": 36732145, "link": "https://stackoverflow.com/questions/36732145/is-it-safe-using-configperlpath-in-system-exec-open", "title": "Is it safe using $Config{perlpath} in system/exec/open?", "body": "<p>Assume that I have following code to open filehandle:</p>\n\n<pre><code>open my $fh, \"command1 | command2 |\";\n</code></pre>\n\n<p>I found <code>command1</code> may output that <code>command2</code> can not handle well, so I'm trying to insert a perl filter between <code>command1</code> and <code>command2</code> to deal with them:</p>\n\n<pre><code>use Config;\nopen my $fh, \"command1 | $Config{perlpath} -ple 'blah blah' | command2 |\";\n</code></pre>\n\n<p>My questions are:</p>\n\n<ol>\n<li>Is it OK to use <code>$Config{perlpath}</code> in system call directly?</li>\n<li>Calling own perl binary seems nuts.  Are there any better solutions?</li>\n</ol>\n\n<p>Thanks</p>\n"}, {"tags": ["arrays", "mongodb", "perl", "multidimensional-array"], "answers": [{"comments": [{"owner": {"reputation": 919, "user_id": 5513684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/961769367178033/picture?type=large", "display_name": "Steven Carlson", "link": "https://stackoverflow.com/users/5513684/steven-carlson"}, "edited": false, "score": 0, "creation_date": 1461113251, "post_id": 36731609, "comment_id": 61047470, "body": "Marty, thank you.  I didn&#39;t think to try accessing it via scalar.  In my mind it was an array so I was trying to treat it as one."}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": true, "score": 2, "last_activity_date": 1461111072, "creation_date": 1461111072, "answer_id": 36731609, "question_id": 36731476, "link": "https://stackoverflow.com/questions/36731476/read-mongodb-array-into-perl-and-walk-data/36731609#36731609", "title": "Read MongoDB array into perl and walk data", "body": "<p>I'm not familiar with Mongo, but looking at the output, your @members array has one element - an array ref (as you suspected).  Since Mongo is returning an arrayref, you're best to store that in a scalar and access it like so;</p>\n\n<pre><code>my $members = $document-&gt;{'members'};\nprint \"second item returned is: \", $members-&gt;[1];\nprint \"The complete contents:\\n\";\nfor my $item ( @$members )  {\n    print \"  \", $item;\n}\n</code></pre>\n"}], "owner": {"reputation": 919, "user_id": 5513684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/961769367178033/picture?type=large", "display_name": "Steven Carlson", "link": "https://stackoverflow.com/users/5513684/steven-carlson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "accepted_answer_id": 36731609, "answer_count": 1, "score": 1, "last_activity_date": 1461111072, "creation_date": 1461110277, "question_id": 36731476, "link": "https://stackoverflow.com/questions/36731476/read-mongodb-array-into-perl-and-walk-data", "title": "Read MongoDB array into perl and walk data", "body": "<p>I am trying to capture an array from my MongoDB database into my Perl script and read each element.  This is something that I thought would be simple, but for some dumb reason it is kicking my rearend.</p>\n\n<p>My MongoDB Document (in part)</p>\n\n<p><code>\"members\" : [\n        \"5713b2d46d210e51836de591\", \n        \"me\", \n        \"you\", \n        \"him\", \n        \"her\"\n    ],</code></p>\n\n<p>Perl code</p>\n\n<pre><code>$document = $database -&gt; get_collection('my_collection')-&gt;find_one({_id =&gt; $oid});\n@members = $document-&gt;{'members'};  \nprint Dumper @members;  \n\nforeach $member (@members)  \n    {\n    print \"member = $member\\n\";\n    }\nexit;\n</code></pre>\n\n<p>Output I am getting:</p>\n\n<blockquote>\n  <p>$VAR1 = [<br>\n            '5713b2d46d210e51836de591',<br>\n            'me',<br>\n            'you',<br>\n            'him',<br>\n            'her'<br>\n          ];<br>\n  member = ARRAY(0x47fa398)   </p>\n</blockquote>\n\n<p>Looking at the last line I see that I am being passed a reference to the array instead of the values.  So I tried accessing via $member[0] or $member[1] but that just returns the same ARRAY(0x*****).</p>\n\n<p>PLEASE HELP, I am sure it is something stupid.</p>\n\n<p>Thanks!</p>\n\n<p>Steven</p>\n"}, {"tags": ["perl", "for-loop", "printf", "pack", "unpack"], "comments": [{"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 1, "creation_date": 1461101398, "post_id": 36729422, "comment_id": 61043499, "body": "For question 3, the context of the for in  <code>printf &quot;%vX\\n&quot;, $Text for unpack(&#39;C0A*&#39;, $Text);</code> is a statement modifier syntax which has the syntax <code>for LIST</code>. Where as in the 3 line snippet is a control block. syntax is different. <code>LABEL for VAR (LIST) BLOCK</code> you can read up on these in the perlsyn section of the perl doc under compound statements and statement modifiers"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1461101772, "post_id": 36729422, "comment_id": 61043672, "body": "You are almost correct about the equivalent <code>for</code> loop, but <code>unpack</code> returns a <i>list</i> of values so inside the loop would be <code>printf &quot;%vX\\n&quot;, $_</code>. However the template for <code>unpack</code> is very odd. A <code>C</code> rule takes the code point of the next character and returns it as an integer, however with a repeat count of 0 it will have no effect at all. Then the <code>A</code> rule returns a character string, and with a repeat count of <code>*</code> it just returns all of the rest of the object string. In other words, <code>unpack &#39;C0A*&#39;, $Text</code> is simply <code>$Text</code>. This is either broken or deliberately obfuscated code"}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1461101815, "post_id": 36729422, "comment_id": 61043698, "body": "To your question #1, I found this reference to the &quot;v&quot; flag in the book &quot;Programming Perl&quot; 3rd ed...  The &quot;v&quot; flag is useful for displaying ordinal values of characters in arbitrary strings:       printf &quot;version is v%vd\\n&quot;, $^V;          # Perl&#39;s version       printf &quot;address is %*vX\\n&quot;, &quot;:&quot;, $addr;   # IPv6 address       printf &quot;bits are %*vb\\n&quot;, &quot; &quot;, $bits;     # random bitstring"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461102065, "post_id": 36729422, "comment_id": 61043792, "body": "Can you please say more explicitly what you mean about removing the parentheses from the <code>unpack</code> call? I wouldn&#39;t expect it to make any difference here and my tests confirm that"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461102402, "post_id": 36729422, "comment_id": 61043932, "body": "The <code>%v</code> format is meant for handling Perl version numbers. The output is a sequence of code points separated by dots. <code>%vX</code> gives the numbers as upper-case hex, <code>%vx</code> gives lower-case hex, and <code>%vd</code> gives decimals. You can probably also use <code>%vb</code> for binary and maybe others, but they make little sense"}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 1, "creation_date": 1461135308, "post_id": 36729422, "comment_id": 61054700, "body": "@Chris Doyle: Thanks for the answer. I didn&#39;t notice that when reading perldoc perlsyn. You are completely right, and it is mentioned explicitly in the docs."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461135774, "post_id": 36729422, "comment_id": 61054968, "body": "@Borodin (comment #4): if I modify the three line snippet so that the first line reads <code>for $_ unpack(&#39;C0A*&#39;, $Text) {</code> (notice that the surrounding parentheses around <code>unpack()</code> are now missing), Perl won&#39;t compile the script and throw a syntax error, at least in my configuration. Thanks to Chris Doyle&#39;s explanation, I now have understood why."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461135980, "post_id": 36729422, "comment_id": 61055094, "body": "@Borodin (comment #5): I don&#39;t think so. According to the docs, the v flag can generally be used to display the integers / ordinal values from arbitrary strings; see Perl&#39;s documentation for <code>sprintf()</code> and tale852150&#39;s comment.."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461136943, "post_id": 36729422, "comment_id": 61055731, "body": "@Borodin (comment #2): You are right in that <code>unpack()</code> returns a list - sorry for missing that. I have updated my question accordingly. Regarding the template, the C0 has another meaning than you might think: It turns on the &quot;character mode&quot; (as opposed to &quot;byte mode&quot;); see the section about C0 mode and U0 mode in Perl&#39;s <code>pack()</code> documentation."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1461261708, "post_id": 36729422, "comment_id": 61130886, "body": "In your &quot;Update 2&quot;, <code>Encode::_utf8_off($Text);</code> should be <code>my $orig_Text = $Text; Encode::_utf8_off($Text); die(&quot;Invalid test&quot;) if $orig_Text ne $Text;</code>"}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461413940, "post_id": 36729422, "comment_id": 61194295, "body": "Why? Encode&#39;s documentation states that two string&#39;s probably won&#39;t be considered equal by Perl if one of them has the UTF8 flag set and the other hasn&#39;t, so that code probably will die. In that sense, the strings are different. But that hasn&#39;t been my question. My question was if sprintf() will behave differently with two identical strings <i>solely</i> depending on the UTF8 flag. I should have said more clearly what I mean by identical; coming from C and assembly, of course I consider two strings identical if their byte sequence is identical, regardless of some flags."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1461429126, "post_id": 36729422, "comment_id": 61199657, "body": "Because it&#39;s obvious that passing different things will result in different output."}], "answers": [{"comments": [{"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461141672, "post_id": 36729834, "comment_id": 61058931, "body": "Please see my updated question. Regarding the parentheses, I hadn&#39;t noticed that the Perl&#39;s documentation explicitly explains when to use them and when not."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461170182, "post_id": 36729834, "comment_id": 61080698, "body": "I think my update <i>did</i> add something new. Imagine guys like me who are worried by the subject and come to this question via Google. I think they will be grateful for the clarifications and for making clear the difference between code points and encoding one more time. Furthermore, I have mentioned where I found the example which uses <code>unpack()</code> and the weird <code>for ...</code> construction, and, since that example is from a very serious source (namely the Perl documentation), that I would like to know why they are doing it that weird way. Nevertheless, accepting your answer ..."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461222985, "post_id": 36729834, "comment_id": 61103068, "body": "After further research, it seems that your answer is not completely correct. I explicitly had asked if it would work whether or not the UTF8 flag is set, and you have said yes. This is not correct. After removing the UTF8 flag from <code>$Text</code>, <code>printf &quot;%vX\\n&quot;, $Text;</code> prints out the <i>UTF-8 byte sequence</i> of <code>$Text</code> (and not the Unicode code points)."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461248508, "post_id": 36729834, "comment_id": 61122109, "body": "I&#39;ll look thoroughly into your updated example later. But (although not having the example studied yet) I still think I&#39;m not completely mistaken. I did the following: <code>perl -e &#39;use Encode; $Text = &quot;\\x{3B1}\\x{3C9}&quot;; printf(&quot;%vX\\n&quot;, $Text); Encode::_utf8_off($Text); printf(&quot;%vX\\n&quot;, $Text);&#39;</code>, and this prints the Unicode code points in the first line and the UTF8 bytes in the second one. I know that one shouldn&#39;t turn off the UTF8 flag the way I did (and in fact, I never have done this in production code), but it seemed the easiest way to turn it off just as an experiment."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461252945, "post_id": 36729834, "comment_id": 61125485, "body": "1) Yes, I never use _utf8_off in production; I was just curious what would happen. 2) Are you saying that <code>Encode::_utf8_off($s)</code> does an <i>implicit</i> <code>encode_utf8($s)</code> as well? I doubt ... Rather, Encode&#39;s docs seem to imply that the bytes in memory which represent a string are <i>not</i> touched by doing Encode::_utf8_off (in fact, this seems to be the main reason to avoid that). Well, it seems it&#39;s time to follow your advice and to use Devel::Peek."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461257848, "post_id": 36729834, "comment_id": 61128854, "body": "I have edited my question. Please see Update 2 for what I am meaning. My example seems to contradict this equivalence unless I have misunderstood something. By the way, in case it matters, this is on Perl 5.14.2."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461310961, "post_id": 36729834, "comment_id": 61150739, "body": "The update adds the proof an important thing which has been claimed to be untrue: <code>sprintf()</code> with v flag behaves differently on identical strings, solely depending on the UTF8 flag (I hope you agree with me that strings are identical if their integer sequence, as shown by Devel::Peek&#39;s Dump, is identical)."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461414369, "post_id": 36729834, "comment_id": 61194450, "body": "I think I am right, and all of it finally makes sense to me. Perl&#39;s internal encoding for strings mostly is UTF8, and the example string&#39;s byte sequence in UTF8 is <code>CE B1 CF 89</code> (hex), which is <code>316 261 317 211</code> (octal). The latter exactly is what <code>Dump()</code> prints out in <i>both</i> cases. This proves that the string&#39;s byte sequence is left untouched when removing its UTF8 flag. But depending on that flag, Perl&#39;s functions and operators like <code>sprintf()</code>, <code>length()</code>, <code>eq</code> etc. interpret the string differently. Switch Perl to byte mode, and you will get a length of 4 for both strings."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461420456, "post_id": 36729834, "comment_id": 61196483, "body": "I didn&#39;t pretend that. I just said that the byte sequence shown by the PV is the UTF8 byte sequence of my example string (i.e. Perl&#39;s internal representation of the string minus the flags and other &quot;metadata&quot;). When the UTF8 flag is on, Perl knows that this byte sequence is a UTF8 encoded Unicode string, and thus <code>sprintf()</code> outputs the Unicode code points. When the UTF8 flag is off, the byte sequence is just a byte sequence (sort of an ASCII / EBCDIC string) for Perl, and thus <code>sprintf()</code> outputs the single bytes."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461421046, "post_id": 36729834, "comment_id": 61196684, "body": "Regarding your Java string, it of course contains 3 characters, but six bytes. Regarding my Perl string, it contains 2 characters immediately after creating it (the UTF8 flag is on in that moment), but it contains 4 bytes. As long as the UTF8 flag is on, the four bytes are two Unicode code points encoded in UTF8 from Perl&#39;s point of view. If the UTF8 flag is turned off, the same four bytes are a) just a sequence of single bytes or b) an ASCII / EBCDIC string from Perl&#39;s point of view, where a) and b) are the same thing in Perl."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461421501, "post_id": 36729834, "comment_id": 61196810, "body": "Your are mistaken. My example clearly demonstrates the opposite. Your example strings &quot;abc&quot; and &quot;\\xA1\\xA2\\xA3&quot; are not appropriate for demonstration for the following reasons: The strings can be represented unambiguously, i.e. they are ASCII strings as well as byte sequences at the same time, and for the ASCII chars, the ASCII code is identical to the Unicode code points. Thus, you can&#39;t see the influence of the UTF8 flag with the strings you are using."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461421741, "post_id": 36729834, "comment_id": 61196898, "body": "My example shows the influence of the UTF8 flag in <i>this</i> case. Of course, sprintf() returns code points with UTF8=0 and bytes with UTF8=1, but <i>only</i> if the string can be encoded <i>unambigiously</i>, i.e. as long as the Unicode code points are <i>identical</i> to the ASCII code."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461427032, "post_id": 36729834, "comment_id": 61198844, "body": "I think the same about you. Your example doesn&#39;t prove anything: <code>Encode::is_utf8(&quot;\\x{20_000}&quot;)</code> yields TRUE, so obviously Perl treats that like a Unicode string; it has set the UTF8 flag and has encoded the (invalid) string into UTF8 (byte sequence <code>F0 A0 80 80</code>). Since the UTF8 flag is set, <code>sprintf()</code> turns the UTF8 byte sequence back to the code point (even if it is invalid) and print that. This is logic because Perl knows that the string can&#39;t be encoded <i>unambiguously</i>. If you remove the UTF8 flag from the string, <code>sprintf()</code> prints the single bytes."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461427091, "post_id": 36729834, "comment_id": 61198874, "body": "As for your second example, that doesn&#39;t prove anything either: From <code>sprintf()&#39;s</code> output, you can&#39;t decide if it returns a code point or a byte at all because the code point and the ASCII code (byte) are identical anyway."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461427805, "post_id": 36729834, "comment_id": 61199147, "body": "<b>The UTF8 flag doesn&#39;t affect <code>sprintf &#39;%vX&#39;</code>&#39;s behaviour. It always output the characters of the string.</b> All you&#39;ve shown is that passing different strings to <code>sprintf &#39;%vX&#39;</code> result in different output. DUH!"}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461428098, "post_id": 36729834, "comment_id": 61199255, "body": "In what way was my statement contradicted? All I have claimed was that <code>sprintf()&#39;s</code> changes if the UTF8 flag is set / removed on a string which <i>otherwise is left untouched</i>. All of my examples clearly demonstrate that. None of my comments were off-topic since that exactly was part of the question; none were wrong (as my examples (and yours) clearly show)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461428290, "post_id": 36729834, "comment_id": 61199332, "body": "You&#39;re lying by pretending the bytes to which the <code>PV</code> points is the string. <code>eq</code>, <code>length</code>, <code>Dump</code> and <code>sprintf &#39;%vX&#39;</code> all show that <code>_utf8_off</code> changed the string."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461428374, "post_id": 36729834, "comment_id": 61199364, "body": "<b>The UTF8 flag <i>does</i> affect <code>sprintf()&#39;s</code> behavior.</b> If you remove it from a string using Encode::_utf8_off(), and the string originally contained at least one Unicode code point above 255, <code>sprintf()</code> prints the string&#39;s UTF8 bytes (instead of the code points like before removing the flag)."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461428612, "post_id": 36729834, "comment_id": 61199447, "body": "I am not lying. I hopefully have made very clear what I consider an &quot;otherwise unaltered string&quot;. And of course are the bytes to which the PV points the string in the sense that they are the UTF-8 encoded Unicode code points of the string, i.e. they are Perl&#39;s internal representation of that string (in conjunction with the UTF8 flag and maybe other metadata which was not subject of my question)."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461428823, "post_id": 36729834, "comment_id": 61199530, "body": "And that&#39;s the key point: if I do encode_utf8 to a string which already is encoded in UTF8, the bytes representing the string will <i>not</i> be changed, with the exception of the flag(s), but <code>sprintf()</code> will yield other results. For somebody who is coming from C / Assembler, this is surprising."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461428921, "post_id": 36729834, "comment_id": 61199576, "body": "So you are calling me a liar? Then show me which code in my question shows that I was knowing that the string changed. If you can&#39;t, you are the liar."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461429360, "post_id": 36729834, "comment_id": 61199728, "body": "Hey, I just saw that you have edited my question and my code. I am very upset about that. This is absolutely insolent. First you edit what I wrote, and then you lie and tell the world that I have written that. Please undo your edits immediately. And secondly, thank to your edits not remembering what exactly I wrote, it should have been absolutely clear that I meant &quot;The output differs&quot;; maybe I have made a mistake there. But that doesn&#39;t change anything regarding the actual subject."}, {"owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "edited": false, "score": 0, "creation_date": 1461429808, "post_id": 36729834, "comment_id": 61199877, "body": "I just wanted to know if <code>sprintf()&#39;s</code> output would be identical for two strings which are <b>identical with the exception of the UTF8 flag</b>. Seems that this is impossible in your opinion, but it was my question. You said yes, but the answer is no."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 6, "last_activity_date": 1461436699, "last_edit_date": 1461436699, "creation_date": 1461101416, "answer_id": 36729834, "question_id": 36729422, "link": "https://stackoverflow.com/questions/36729422/perl-questions-regarding-unpack-and-the-v-flag-in-printf/36729834#36729834", "title": "Perl questions regarding unpack() and the v flag in printf()", "body": "<p><code>sprintf '%vX'</code> has no knowledge of code points or UTF-8. It just returns a string representation of the characters of the string. In other words,</p>\n\n<pre><code>sprintf('%vX', $s)\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>join('.', map { sprintf('%X', ord($_)) } split(//, $s))\n</code></pre>\n\n<p>That means it output <code>s[0]</code>, <code>s[1]</code>, <code>s[2]</code>, ..., <code>s[length(s)-1]</code>, in hex, separated by dots.</p>\n\n<p>It returns the characters (integers) of the string regardless of the state of the <code>UTF8</code> flag. That means that how the string is stored (e.g. whether the <code>UTF8</code> flag is set or not) has no effect on the output.</p>\n\n<pre><code>use Encopde;\n\n$Text1 = \"\\xC9ric\";\nutf8::downgrade($Text2);\n\nprintf(\"Text1 is a string of %1\\$d characters (a vector of %1\\$d integers)\\n\",\n   length($Text1));\nprint(\"UTF8 flag: \".((Encode::is_utf8($Text2)) ? \"TRUE\" : \"FALSE\").\"\\n\");\nprintf(\"SPRINTF: %vX\\n\\n\", $Text1);\n\n$Text2 = $Text1;\nutf8::upgrade($Text2);\nprint($Text1 eq $Text2\n    ? \"Text2 is identical to Text1\\n\\n\"\n    : \"Text2 differs from Text1\\n\\n\");\n\nprintf(\"Text2 is a string of %1\\$d characters (a vector of %1\\$d integers)\\n\",\n   length($Text2));\nprint(\"UTF8 flag: \".((Encode::is_utf8($Text2)) ? \"TRUE\" : \"FALSE\").\"\\n\");\nprintf \"SPRINTF: %vX\\n\\n\", $Text2;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Text1 is a string of 4 characters (a vector of 4 integers)\nUTF8 flag: FALSE\nSPRINTF: C9.72.69.63\n\nText2 is identical to Text1\n\nText2 is a string of 4 characters (a vector of 4 integers)\nUTF8 flag: TRUE\nSPRINTF: C9.72.69.63\n</code></pre>\n\n<hr>\n\n<p>Let's change the code in your question to show relevant information:</p>\n\n<pre><code>use Encode;\n\n$Text1 = \"\\x{3B1}\\x{3C9}\";\n\nprintf(\"Text1 is a string of %1\\$d characters (a vector of %1\\$d integers)\\n\",\n   length($Text1));\nprintf(\"SPRINTF: %vX\\n\\n\", $Text1);\n\n$Text2 = $Text1;\nEncode::_utf8_off($Text2);\nprint($Text1 eq $Text2\n    ? \"Text2 is identical to Text1\\n\\n\"\n    : \"Text2 differs from Text1\\n\\n\");\n\nprintf(\"Text2 is a string of %1\\$d characters (a vector of %1\\$d integers)\\n\",\n   length($Text2));\nprintf \"SPRINTF: %vX\\n\\n\", $Text2;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Text1 is a string of 2 characters (a vector of 2 integers)\nSPRINTF: 3B1.3C9\n\nText2 differs from Text1\n\nText2 is a string of 4 characters (a vector of 4 integers)\nSPRINTF: CE.B1.CF.89\n</code></pre>\n\n<p>It shows that <code>sprintf '%vX'</code> will have different output for different strings, which is no surprise, since <code>sprintf '%vX'</code> simply outputs the characters of the string. You could just as easly have used <code>uc</code> instead of <code>_utf8_off</code>.</p>\n\n<hr>\n\n<ol>\n<li>If for two identical strings, <code>sprintf '%vX'</code> altererd its output based on the <code>UTF8</code> flag, it would be considered to suffer from <em>The Unicode Bug</em>. Most instances of those has been fixed (though <code>sprintf</code> never suffered from this bug).</li>\n</ol>\n"}], "owner": {"reputation": 2997, "user_id": 3239842, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/43fb8ed63990c7b890667c0a6c5e4674?s=128&d=identicon&r=PG&f=1", "display_name": "Binarus", "link": "https://stackoverflow.com/users/3239842/binarus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 1, "accepted_answer_id": 36729834, "answer_count": 1, "score": 3, "last_activity_date": 1461481847, "creation_date": 1461099805, "last_edit_date": 1461481847, "question_id": 36729422, "link": "https://stackoverflow.com/questions/36729422/perl-questions-regarding-unpack-and-the-v-flag-in-printf", "title": "Perl questions regarding unpack() and the v flag in printf()", "body": "<p>I am trying to accomplish the following:</p>\n\n<p>For an arbitrary Perl string (whether or not it is internally encoded in UTF-8, and whether or not it has the UTF-8 flag set), scan the string from left to right, and for every character, print the Unicode code point for that character in hex format. To make myself absolutely clear: I do not want to print UTF-8 byte sequences or something; I just would like to print the <em>Unicode code point</em> for every character in the string.</p>\n\n<p>At first, I have come up with the following solution:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse warnings;\nuse utf8;\nuse feature 'unicode_strings';\n\nbinmode(STDOUT, ':encoding(UTF-8)');\nbinmode(STDIN, ':encoding(UTF-8)');\nbinmode(STDERR, ':encoding(UTF-8)');\n\n$Text = \"\\x{3B1}\\x{3C9}\";\nprint $Text.\"\\n\";\nprintf \"%vX\\n\", $Text;\n\n# Prints the following to the console (the console is UTF8):\n# \u03b1\u03c9\n# 3B1.3C9\n</code></pre>\n\n<p>Then I have seen some examples, but without reasonable explanations, which made me doubt that my solution is correct, and now I have got questions regarding my own solution as well as the examples.</p>\n\n<p>1) Perl's documentation about the v flag in (...)printf says:</p>\n\n<p>\"This flag tells Perl to interpret the supplied string as a vector of integers, one for each character in the string. [...]\"</p>\n\n<p>It does not say what it exactly means by \"a vector of integers\", though. When looking at the output of my example, it <em>seems</em> that those integers are the Unicode code points, but I would like to have this confirmed by somebody who knows for sure.</p>\n\n<p>Hence the question:</p>\n\n<p>1) Can we be sure that every integer which is pulled from the string that way is the respective character's Unicode code point (and not some other byte sequence)?</p>\n\n<p>Secondly, regarding an example which I have found (slightly modified; I can't remember where I got it from, maybe from the Perl docs):</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse warnings;\nuse utf8;\nuse feature 'unicode_strings';\n\nbinmode(STDOUT, ':encoding(UTF-8)');\nbinmode(STDIN, ':encoding(UTF-8)');\nbinmode(STDERR, ':encoding(UTF-8)');\n\n$Text = \"\\x{3B1}\\x{3C9}\";\nprint $Text.\"\\n\";\nprintf \"%vX\\n\", $Text for unpack('C0A*', $Text);\n\n# Prints the following to the console (the console is UTF8):\n# \u03b1\u03c9\n# 3B1.3C9\n</code></pre>\n\n<p>Being a C and assembly guy, I just don't get why somebody would write the <code>printf</code> statement like shown in the example. According to my understanding, the respective line is syntactically equivalent to:</p>\n\n<pre><code>for $_ (unpack('C0A*', $Text)) {\n  printf \"%vX\\n\", $Text;  \n}\n</code></pre>\n\n<p>As far as I have understood, <code>unpack()</code> takes <code>$Text</code>, unpacks it (whatever that means in detail) and returns a list which in this case has one element, namely the unpacked string. Then $_ runs through that list with one element (without being used anywhere), hence the block (i.e. the <code>printf()</code>) is executed once. In summary, the only action which is done by the above snippet is executing <code>printf \"%vX\\n\", $Text;</code> one time.</p>\n\n<p>Hence the question:</p>\n\n<p>2) What could be the reason for wrapping this into a for loop like shown in the example?</p>\n\n<p>Final questions:</p>\n\n<p>3) If the answer to question 1) is \"yes\", why do most examples I have seen use <code>unpack()</code> after all?</p>\n\n<p>4) In the three line snippet above, the parentheses which surround the <code>unpack()</code> are necessary (leaving them away leads to syntax errors). In contrast, in the example, the <code>unpack()</code> does not need to be enclosed in parentheses (but it does not harm if they are added nevertheless). Could anybody explain the reason?</p>\n\n<p><strong>Edit / Update in reply to ikegami's answer below:</strong></p>\n\n<p>Of course, I know that strings are sequences of integers. But</p>\n\n<p>a) There are many different <em>encodings</em> for those integers, and the bytes which are in a certain string's memory area depend on the encoding, i.e. if I have two strings which contain exactly the same <em>character sequence</em>, but I store them in memory using different encodings, the <em>byte sequences</em> at the strings' memory locations are different.</p>\n\n<p>b) I strongly suppose that (besides Unicode) there are many other systems / standards which map characters to integers / code points. For example, the Unicode code point 0x3B1 is the Greek letter \u03b1, but in some other system, it may be the German letter \u00d6.</p>\n\n<p>Under these circumstances, the question makes perfect sense IMHO, but I possibly should be more precise and reword it:</p>\n\n<p>If I have a string <code>$Text</code> which only contains characters which are Unicode code points, and if I then execute <code>printf \"%vX\\n\", $Text;</code>, will it print the <em>Unicode</em> code point in hex for every character <em>under all circumstances</em>, notably (but not limited to):</p>\n\n<ul>\n<li>regardless of Perl's actual internal <em>encoding</em> of the string</li>\n<li>regardless of the string's UTF-8 flag</li>\n<li>whether or not <code>use 'unicode_strings'</code> is active</li>\n</ul>\n\n<p>If the answer is yes, what sense do all the examples make which are using <code>unpack()</code>, notably the example above? By the way, I now have remembered where I got that one from: the original form is in Perl's <code>pack()</code> documentation, in the section about the C0 and U0 mode. Since they are using <code>unpack()</code>, there must be a good reason for doing so.</p>\n\n<p><strong>Edit / Update No. 2</strong></p>\n\n<p>I have done further research. The following proves that the UTF8 flag plays an important role:</p>\n\n<pre><code>use Encode;\nuse Devel::Peek;\n\n$Text = \"\\x{3B1}\\x{3C9}\";\nDump $Text;\nprintf(\"\\nSPRINTF: %vX\\n\", $Text);\nprint(\"UTF8 flag: \".((Encode::is_utf8($Text)) ? \"TRUE\" : \"FALSE\").\"\\n\\n\");\n\nEncode::_utf8_off($Text);\nDump $Text;\nprintf \"\\nSPRINTF: %vX\\n\", $Text;\nprint(\"UTF8 flag: \".((Encode::is_utf8($Text)) ? \"TRUE\" : \"FALSE\").\"\\n\\n\");\n\n# This prints the following lines:\n#\n# SV = PV(0x1750c20) at 0x1770530\n#   REFCNT = 1\n#   FLAGS = (POK,pPOK,UTF8)\n#   PV = 0x17696b0 \"\\316\\261\\317\\211\"\\0 [UTF8 \"\\x{3b1}\\x{3c9}\"]\n#   CUR = 4\n#   LEN = 16\n#\n# SPRINTF: 3B1.3C9\n# UTF8 flag: TRUE\n#\n# SV = PV(0x1750c20) at 0x1770530\n#   REFCNT = 1\n#   FLAGS = (POK,pPOK)\n#   PV = 0x17696b0 \"\\316\\261\\317\\211\"\\0\n#   CUR = 4\n#   LEN = 16\n#\n# SPRINTF: CE.B1.CF.89\n# UTF8 flag: FALSE\n</code></pre>\n\n<p>We can see that <code>_utf_off</code> indeed removes the UTF8 flag, but leaves the string's bytes untouched. <code>sprintf()</code> with v flag outputs different results, solely dependent on the string's UTF8 flag even if the string's bytes remain the same.</p>\n"}, {"tags": ["perl", "datetime", "dst"], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1461100095, "post_id": 36729129, "comment_id": 61042902, "body": "Thank you! I tried your solution back and forth and it works perfect. I suspected the <code>localtime-&gt;tzoffset()</code> line but had no idea that <code>localtime-&gt;strptime()</code> is the <i>real</i> solution."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1461100214, "post_id": 36729129, "comment_id": 61042954, "body": "To expand on &quot;<code>$local_tp</code> is not a local time&quot;: if you call <code>strptime</code> as a class method (i.e. <code>Time::Piece-&gt;strptime</code>) and don&#39;t specify a timezone in the format with <code>%z</code> or <code>%Z</code>, UTC is assumed. On the other hand, if you call <code>strptime</code> as an object method (e.g. <code>localtime-&gt;strptime</code>), the object&#39;s timezone is used."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1461605338, "post_id": 36729129, "comment_id": 61263530, "body": "Updated my answer."}, {"owner": {"reputation": 516, "user_id": 768133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ba8733ec259bd50ea11c6d73521fd9?s=128&d=identicon&r=PG", "display_name": "Bob H", "link": "https://stackoverflow.com/users/768133/bob-h"}, "edited": false, "score": 0, "creation_date": 1474312347, "post_id": 36729129, "comment_id": 66470772, "body": "I&#39;ve been banging my head against the wall on this. The <code>localtime-&gt;strptime</code> technique just didn&#39;t work for me; it always gave me a UTC time. It turns out (<a href=\"http://stackoverflow.com/questions/13821230/perl-epoch-returns-different-values-on-2-different-machines-utc-and-cet\">Perl epoch returns different values on 2 different machines (UTC and CET)</a>) that I&#39;m running an older version of perl (5.10) and there&#39;s a bug in Time::Piece. I&#39;ve had to resort to using the form of <code>localtime</code> where I pass in arguments for month, day, year, etc., rather than using <code>strptime</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 516, "user_id": 768133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ba8733ec259bd50ea11c6d73521fd9?s=128&d=identicon&r=PG", "display_name": "Bob H", "link": "https://stackoverflow.com/users/768133/bob-h"}, "edited": false, "score": 0, "creation_date": 1474313433, "post_id": 36729129, "comment_id": 66471400, "body": "@Bob H, You could also have upgraded your Time::Piece. Out of curiosity, what version of Time::Piece do you have?"}, {"owner": {"reputation": 516, "user_id": 768133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ba8733ec259bd50ea11c6d73521fd9?s=128&d=identicon&r=PG", "display_name": "Bob H", "link": "https://stackoverflow.com/users/768133/bob-h"}, "edited": false, "score": 0, "creation_date": 1474313906, "post_id": 36729129, "comment_id": 66471658, "body": "I think I&#39;m using v1.12 on the machine where it doesn&#39;t work and 1.20_01 on the machine where it does. My understanding is that Time::Piece is part of the core now. (Also, in my previous reply, I meant to say <code>timelocal</code> rather than <code>localtime</code>, but I can&#39;t figure out how to edit it.)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 9, "last_activity_date": 1461605334, "last_edit_date": 1461605334, "creation_date": 1461098797, "answer_id": 36729129, "question_id": 36728581, "link": "https://stackoverflow.com/questions/36728581/how-to-make-timepiece-respect-dst-when-converting-localtime-to-utc/36729129#36729129", "title": "How to make Time::Piece respect DST when converting localtime to UTC?", "body": "<h2>Problem 1</h2>\n\n<p><code>localtime</code> returns now, so <code>localtime-&gt;tzoffset()</code> returns the offset for now. Change</p>\n\n<pre><code>my $utc_tp = $local_tp - localtime-&gt;tzoffset();\n</code></pre>\n\n<p>to</p>\n\n<pre><code>my $utc_tp = $local_tp - $local_tp-&gt;tzoffset();\n</code></pre>\n\n<p>However, that leaves <code>$utc_tp</code> flagged as a localtime, so you really want:</p>\n\n<pre><code>my $utc_tp = gmtime( $local_tp-&gt;epoch );\n</code></pre>\n\n<h2>Problem 2</h2>\n\n<p>Despite its name, <code>$local_tp</code> is not a local time, so <code>$local_tp-&gt;tzoffset()</code> is zero. Change</p>\n\n<pre><code>Time::Piece-&gt;strptime( $local_ts, '%y-%m-%d %H:%M:%S' )\n</code></pre>\n\n<p>to</p>\n\n<pre><code>localtime-&gt;strptime( $local_ts, '%y-%m-%d %H:%M:%S' );\n</code></pre>\n"}], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1395, "favorite_count": 1, "accepted_answer_id": 36729129, "answer_count": 1, "score": 8, "last_activity_date": 1461605334, "creation_date": 1461096997, "last_edit_date": 1495541781, "question_id": 36728581, "link": "https://stackoverflow.com/questions/36728581/how-to-make-timepiece-respect-dst-when-converting-localtime-to-utc", "title": "How to make Time::Piece respect DST when converting localtime to UTC?", "body": "<p>I want to convert a timestamp from localtime to GMT. I have legacy code that does this \"manually\" with <code>Time::Local::timelocal()</code> and <code>gmtime</code>. It works, but I don't like it and wanted to use <code>Time::Piece</code> instead. I used <a href=\"https://stackoverflow.com/a/411795/5830574\">this answer</a> to do so (albeit they are converting the other way round, but I was able to replace <code>+</code> with <code>-</code> :-)).</p>\n\n<p>This is my code:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Time::Local;\nuse Time::Piece;\nuse POSIX qw(strftime);\n\nsub local_to_utc_timelocal\n{\n    my $local_ts = shift;\n    my ( $year, $mon, $mday, $hour, $min, $sec ) \n        = ( $local_ts =~ /(\\d\\d)-(\\d\\d)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d)/ );\n    my $local_secs = Time::Local::timelocal( $sec, $min, $hour, $mday, $mon - 1, $year );\n    return POSIX::strftime( '%y-%m-%d %H:%M:%S', gmtime($local_secs) );\n}\n\nsub local_to_utc_timepiece\n{\n    my $local_ts = shift;\n    my $local_tp = Time::Piece-&gt;strptime( $local_ts, '%y-%m-%d %H:%M:%S' );\n    my $utc_tp   = $local_tp - localtime-&gt;tzoffset(); # ***\n    return $utc_tp-&gt;strftime('%y-%m-%d %H:%M:%S');\n}\n\nmy $local;\n\n# DST in effect (April 19 2016):\n$local = '16-04-19 14:30:00';\nprint \"DST in effect:\\n\";\nprintf(\"utc(%s) = %s (using timelocal)\\n\", $local, local_to_utc_timelocal($local));\nprintf(\"utc(%s) = %s (using timepiece)\\n\\n\", $local, local_to_utc_timepiece($local));\n\n# DST NOT in effect (Feb 19 2016):\n$local = '16-02-19 14:30:00';\nprint \"DST NOT in effect:\\n\";\nprintf(\"utc(%s) = %s (using timelocal)\\n\", $local, local_to_utc_timelocal($local));\nprintf(\"utc(%s) = %s (using timepiece)\\n\", $local, local_to_utc_timepiece($local));\n</code></pre>\n\n<p>Unfortunately the Time::Piece code doesn't seem to work properly wrt DST. I'm living in Germany, so currently (spring/summer, DST in effect) we are UTC+2. For \"April 19 2016\" the above code gives:</p>\n\n<pre><code>DST in effect:\nutc(16-04-19 14:30:00) = 16-04-19 12:30:00 (using timelocal)\nutc(16-04-19 14:30:00) = 16-04-19 12:30:00 (using timepiece)\n</code></pre>\n\n<p>which is correct. But for \"Feb 19 2016\" (when we are UTC+1) the same code gives:</p>\n\n<pre><code>DST NOT in effect:\nutc(16-02-19 14:30:00) = 16-02-19 13:30:00 (using timelocal)\nutc(16-02-19 14:30:00) = 16-02-19 12:30:00 (using timepiece)\n</code></pre>\n\n<p>That is: The <code>gmtime(Time::Local::timelocal($timestamp))</code> gives correct 1 hour offset while <code>Time::Piece</code> still gives 2 hours offset.</p>\n\n<p>Is this a bug in <code>Time::Piece</code> or do I use it wrongly? </p>\n\n<p>I know there are plenty of ways to convert localtime to UTC but I'd like to use <code>Time::Piece</code> because of its simplicity. Plus I cannot use <code>DateTime</code> because that would involve deploying it on a dozen of production machines.</p>\n"}, {"tags": ["perl", "grep"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 3425900, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2056a8b933b549043e61f630d5e6da98?s=128&d=identicon&r=PG&f=1", "display_name": "user3425900", "link": "https://stackoverflow.com/users/3425900/user3425900"}, "edited": false, "score": 0, "creation_date": 1461096892, "post_id": 36728223, "comment_id": 61041024, "body": "Ty Borodin. That was the syntax I was trying to find. I was unaware of the &#39;and not&#39; expression."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 65, "user_id": 3425900, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2056a8b933b549043e61f630d5e6da98?s=128&d=identicon&r=PG&f=1", "display_name": "user3425900", "link": "https://stackoverflow.com/users/3425900/user3425900"}, "edited": false, "score": 0, "creation_date": 1461097257, "post_id": 36728223, "comment_id": 61041244, "body": "@user3425900: It&#39;s a very ordinary scalar expression, not confined to use within <code>grep</code>. You may be more familiar with <code>&amp;&amp;</code> and <code>!</code> but they make me spit"}, {"owner": {"reputation": 65, "user_id": 3425900, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2056a8b933b549043e61f630d5e6da98?s=128&d=identicon&r=PG&f=1", "display_name": "user3425900", "link": "https://stackoverflow.com/users/3425900/user3425900"}, "edited": false, "score": 0, "creation_date": 1461099354, "post_id": 36728223, "comment_id": 61042509, "body": "I&#39;m accustomed to it in BASH but first time I&#39;ve seen it in perl. Good to know!"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 5, "last_activity_date": 1467569425, "last_edit_date": 1467569425, "creation_date": 1461095789, "answer_id": 36728223, "question_id": 36727136, "link": "https://stackoverflow.com/questions/36727136/perl-grep-exclusion/36728223#36728223", "title": "Perl Grep Exclusion", "body": "<p>It's the \"magic regex\" again, that's expected to move the earth in a single pattern</p>\n\n<p>It's hard to tell from your question what result you want, but it looks like you want any file that has a dot in its name that doesn't start with <code>readme</code> or <code>makefile</code></p>\n\n<p>So just write that. After all, that's how <code>.gitignore</code> works: it's just a list of files or file patterns to ignore, it's not one long super-complicated glob expression</p>\n\n<p>This way others, and you yourself in six months' time, will be able to make out what your code does </p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy @list = qw/\n    fileA  \n    Makefile.am.cppcheck  \n    Makefile.am.cpplint  \n    README-autotools.md  \n    README-metrics.md  \n    README.md  \n    autogen.sh  \n    configure.ac  \n    test.pl  \n/;\n\nmy @filtered = grep {\n    /\\./ and not /^readme/i and not /^makefile/i;\n} @list;\n\nsay for @filtered;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>autogen.sh\nconfigure.ac\ntest.pl\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 3425900, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2056a8b933b549043e61f630d5e6da98?s=128&d=identicon&r=PG&f=1", "display_name": "user3425900", "link": "https://stackoverflow.com/users/3425900/user3425900"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 36728223, "answer_count": 1, "score": 0, "last_activity_date": 1467569425, "creation_date": 1461092182, "last_edit_date": 1461093472, "question_id": 36727136, "link": "https://stackoverflow.com/questions/36727136/perl-grep-exclusion", "title": "Perl Grep Exclusion", "body": "<p>I'm grepping values for a list of legitimate file names but there are certain file name matches I'm trying to exclude. I can't quite figure out the exclusions.</p>\n\n<pre><code>List = (  \n\"fileA\",  \n\"Makefile.am.cppcheck\",  \n\"Makefile.am.cpplint\",  \n\"README-autotools.md\",  \n\"README-metrics.md\",  \n\"README.md\",  \n\"autogen.sh\",  \n\"configure.ac\",  \n\"test.pl\",  \n)  \n\n@files = grep(/(?!readme|makefile)([a-z]\\.[a-z])/i,@list);  \n</code></pre>\n\n<p>The grep works fine without the exclusion but what am I missing to exclude items matching (readme|makefile) or other patterns?</p>\n\n<p>EDIT: My filenames must include a period (such as test.pl), hence the reason for exclusions as opposed to weeding out the unwanted names alone.</p>\n"}, {"tags": ["regex", "perl", "recursion", "nested"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1461089880, "post_id": 36726234, "comment_id": 61036694, "body": "Instead of commenting out the <code>use strict</code> you should rather make your code pass with strict turned on. You also have a bunch don&#39;t need Time::HiRes. Please only show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1461090108, "post_id": 36726234, "comment_id": 61036843, "body": "Perhaps, <code>$RecursParenthesesRegex = m&#47;(?&lt;rec&gt;\\((?&gt;[^()]++|(?&amp;rec))*\\))&#47;;</code>"}, {"owner": {"reputation": 13132, "user_id": 144020, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cae9f3dfd5cdaab0b22a1d4d4c7be29c?s=128&d=identicon&r=PG", "display_name": "GlassGhost", "link": "https://stackoverflow.com/users/144020/glassghost"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1461091073, "post_id": 36726234, "comment_id": 61037434, "body": "@simbabque it was made from my template perl file, my bad I&#39;ll edit the post."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "edited": false, "score": 2, "creation_date": 1461092065, "post_id": 36726234, "comment_id": 61038080, "body": "@MJSuriya: If the OP were to add line numbers to the source for you, it would mean that everyone else who wanted to run the code would have to remove them. Line 22 is the one that starts with <code>$field =~ 1 while</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1461093569, "post_id": 36726234, "comment_id": 61038978, "body": "Why are you using <code>IO::File</code> instead of just <code>open</code>? And please don&#39;t use the regex <code>&#47;m</code> and <code>&#47;s</code> modifiers when they have no effect on the pattern. You code is complicated enough as it is"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1461093480, "last_edit_date": 1461093480, "creation_date": 1461093055, "answer_id": 36727373, "question_id": 36726234, "link": "https://stackoverflow.com/questions/36726234/how-to-have-variable-as-recursive-regex-in-perl/36727373#36727373", "title": "How to have Variable as Recursive Regex in Perl?", "body": "<p>Although I don't understand your algorithm, this line is suspicious</p>\n\n<pre><code>$RecursParenthesesRegex = m/\\(([^()]+|(??{$RecursParenthesesRegex}))*\\)/\n</code></pre>\n\n<p>You're defining an undeclared variable in terms of whether a pattern that includes it matches <code>$_</code></p>\n\n<p>It's mistakes like this that <code>use strict</code> is meant to catch, but instead of fixing the errors you turned them off. That's not wise</p>\n\n<p>At a guess you're trying to define a recursive pattern, so you need to use <code>qr//</code> instead of <code>m//</code>, and use <code>(?0)</code> or <code>(?R)</code> in the pattern</p>\n\n<p>And lets call it <code>$re</code> instead shall we? Like this</p>\n\n<pre><code>my $re = qr/\\(([^()]+|(?R))*\\)/\n</code></pre>\n\n<p>Also, this line is odd</p>\n\n<pre><code>$field =~ 1 while s/(\\(a){1}(([\\s\\\\]+?(\\d+|$RecursParenthesesRegex)){2})/\\($2\\)/sm\n</code></pre>\n\n<p>which compares the value of <code>$field</code> with the regex pattern <code>1</code> and discards the result as long as the substitution changes something in <code>$_</code></p>\n\n<p>Beyond that I cannot help you without a description of the algorithm and how your code relates to it</p>\n"}, {"comments": [{"owner": {"reputation": 13132, "user_id": 144020, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cae9f3dfd5cdaab0b22a1d4d4c7be29c?s=128&d=identicon&r=PG", "display_name": "GlassGhost", "link": "https://stackoverflow.com/users/144020/glassghost"}, "edited": false, "score": 0, "creation_date": 1461381490, "post_id": 36805586, "comment_id": 61186124, "body": "Thanks @sln ! I think you remember me from earlier. You&#39;re a regex monster(in a good way)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 13132, "user_id": 144020, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cae9f3dfd5cdaab0b22a1d4d4c7be29c?s=128&d=identicon&r=PG", "display_name": "GlassGhost", "link": "https://stackoverflow.com/users/144020/glassghost"}, "edited": false, "score": 0, "creation_date": 1461622003, "post_id": 36805586, "comment_id": 61272812, "body": "@GlassGhost - Glad it worked for you. That blc looks like cryptography with key and all."}, {"owner": {"reputation": 13132, "user_id": 144020, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cae9f3dfd5cdaab0b22a1d4d4c7be29c?s=128&d=identicon&r=PG", "display_name": "GlassGhost", "link": "https://stackoverflow.com/users/144020/glassghost"}, "edited": false, "score": 0, "creation_date": 1461638671, "post_id": 36805586, "comment_id": 61277449, "body": "Yeah, you should take a look at; <a href=\"http://viruliant.github.io\" rel=\"nofollow noreferrer\">viruliant.github.io</a> AND <a href=\"http://stackoverflow.com/a/21769444/144020\">stackoverflow.com/a/21769444/144020</a> same principle. I truly believe this is the language of the gods."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": true, "score": 2, "last_activity_date": 1461377229, "last_edit_date": 1461377229, "creation_date": 1461374907, "answer_id": 36805586, "question_id": 36726234, "link": "https://stackoverflow.com/questions/36726234/how-to-have-variable-as-recursive-regex-in-perl/36805586#36805586", "title": "How to have Variable as Recursive Regex in Perl?", "body": "<p>You probably need a regex like this  </p>\n\n<pre><code> # (\\(a)(([\\s\\\\]*?(?:\\d+|(?&amp;RecursParens))){2})(?(DEFINE)(?&lt;RecursParens&gt;(?&gt;\\((?&gt;(?&gt;[^()]+)|(?:(?=.)(?&amp;RecursParens)|))+\\))))\n\n ( \\(a )                       # (1)\n (                             # (2 start)\n      (                             # (3 start)\n           [\\s\\\\]*? \n           (?:\n                \\d+ \n             |  \n                (?&amp;RecursParens) \n           )\n      ){2}                          # (3 end)\n )                             # (2 end)\n\n (?(DEFINE)\n\n      (?&lt;RecursParens&gt;              # (4 start)\n           (?&gt;\n                \\(\n                (?&gt;\n                     (?&gt; [^()]+ )\n                  |  (?:\n                          (?= . )\n                          (?&amp;RecursParens) \n                       |  \n                     )\n                )+\n                \\)\n           )\n      )                             # (4 end)\n )\n</code></pre>\n\n<p>With a Perl code like this  </p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw{say};\n\nmy $field = \"00010001100110010100011010000000010110000010010001010111110111101001000110100001110011010000000000101101110011100111111101111000000001111100110111000000101100000110110\";\n\n$field =~ s/(00|01|(1+0))/$1 /g;\n$field =~ s/00 /\\\\ /g;\n$field =~ s/01 /(a /g;\n$field =~ s/(1+)0 /length($1).\" \"/ge;\n\n1 while $field =~ s/(\\(a)(([\\s\\\\]*?(?:\\d+|(?&amp;RecursParens))){2})(?(DEFINE)(?&lt;RecursParens&gt;(?&gt;\\((?&gt;(?&gt;[^()]+)|(?:(?=.)(?&amp;RecursParens)|))+\\))))/\\($2\\)/g;\n\n$field =~ s/\\( /\\(/g;\n\nsay $field;\n</code></pre>\n\n<p>That will give you an output like this  </p>\n\n<pre><code>\\ (\\ (1 (1 ((\\ (1 1) \\ \\ \\ ((1 \\ \\ 1) (\\ (((4 4) 1) (\\ (1 1) \\ (2 (1 1)))) \\ \\ \\ \\ ((1 3) (2 (6 4)))))) \\ \\ \\ (4 (1 3))))) \\ \\ ((1 \\ \\ 2) 2))\n</code></pre>\n\n<p>That can be formatted to look like this  </p>\n\n<pre><code> \\ \n (                             # (1 start)\n      \\ \n      (                             # (2 start)\n           1 \n           (                             # (3 start)\n                1 \n                (                             # (4 start)\n                     (                             # (5 start)\n                          \\ \n                          ( 1 1 )                       # (6)\n                          \\ \\ \\ \n                          (                             # (7 start)\n                               ( 1 \\ \\ 1 )                   # (8)\n                               (                             # (9 start)\n                                    \\ \n                                    (                             # (10 start)\n                                         (                             # (11 start)\n                                              ( 4 4 )                       # (12)\n                                              1\n                                         )                             # (11 end)\n                                         (                             # (13 start)\n                                              \\ \n                                              ( 1 1 )                       # (14)\n                                              \\ \n                                              (                             # (15 start)\n                                                   2 \n                                                   ( 1 1 )                       # (16)\n                                              )                             # (15 end)\n                                         )                             # (13 end)\n                                    )                             # (10 end)\n                                    \\ \\ \\ \\ \n                                    (                             # (17 start)\n                                         ( 1 3 )                       # (18)\n                                         (                             # (19 start)\n                                              2 \n                                              ( 6 4 )                       # (20)\n                                         )                             # (19 end)\n                                    )                             # (17 end)\n                               )                             # (9 end)\n                          )                             # (7 end)\n                     )                             # (5 end)\n                     \\ \\ \\ \n                     (                             # (21 start)\n                          4 \n                          ( 1 3 )                       # (22)\n                     )                             # (21 end)\n                )                             # (4 end)\n           )                             # (3 end)\n      )                             # (2 end)\n      \\ \\ \n      (                             # (23 start)\n           ( 1 \\ \\ 2 )                   # (24)\n           2\n      )                             # (23 end)\n )                             # (1 end)\n</code></pre>\n"}], "owner": {"reputation": 13132, "user_id": 144020, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cae9f3dfd5cdaab0b22a1d4d4c7be29c?s=128&d=identicon&r=PG", "display_name": "GlassGhost", "link": "https://stackoverflow.com/users/144020/glassghost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 1, "accepted_answer_id": 36805586, "answer_count": 2, "score": 1, "last_activity_date": 1461377229, "creation_date": 1461089373, "last_edit_date": 1461097367, "question_id": 36726234, "link": "https://stackoverflow.com/questions/36726234/how-to-have-variable-as-recursive-regex-in-perl", "title": "How to have Variable as Recursive Regex in Perl?", "body": "<p>I'm writing a simple translator for <a href=\"http://tromp.github.io/cl/cl\" rel=\"nofollow\">John Tromp's Binary Lambda Calculus</a> over to De Bruijn Notation Lambda Calculus so that I can understand how his Lambda files are working in his <a href=\"http://www.ioccc.org/2012/tromp/hint.html\" rel=\"nofollow\">2012 \"Most Functional\" International Obfuscated C Code winner</a></p>\n\n<p>here is an example of the language before translation <code>primes.blc</code>:</p>\n\n<pre><code>00010001100110010100011010000000010110000010010001010111110111101001000110100001110011010000000000101101110011100111111101111000000001111100110111000000101100000110110\n</code></pre>\n\n<p>I'm having trouble with a nested regex in commented line before the primes.txt file save section of Bruijn.pl:</p>\n\n<pre><code>#!/usr/bin/env perl\n#use strict;\nuse warnings;\nuse IO::File;\nuse Cwd; my $originalCwd = getcwd().\"/\";\n#primes.blc as argument for test conversion\n#______________________________________________________________________open file\nmy ($name) = @ARGV;\n$FILE = new IO::File;\n$FILE-&gt;open(\"&lt; \".$originalCwd.\"primes.blc\") || die(\"Could not open file!\");\n#$FILE-&gt;open(\"&lt; \".$name) || die(\"Could not open file!\");\nwhile (&lt;$FILE&gt;){ $field .= $_; }\n$FILE-&gt;close;\n#______________________________________________________________________Translate\n$field =~ s/(00|01|(1+0))/$1 /gsm;\n$field =~ s/00 /\\\\ /gsm;\n$field =~ s/01 /(a /gsm;\n$field =~ s/(1+)0 /length($1).\" \"/gsme;\n\n$RecursParenthesesRegex = m/\\(([^()]+|(??{$RecursParenthesesRegex}))*\\)/;\n#$field =~ 1 while s/(\\(a){1}(([\\s\\\\]+?(\\d+|$RecursParenthesesRegex)){2})/\\($2\\)/sm;\n#______________________________________________________________________save file\n#$fh = new IO::File \"&gt; \".$name;\n$fh = new IO::File \"&gt; \".$originalCwd.\"primes.txt\";\nif (defined $fh) { print $fh $field; $fh-&gt;close; }\n</code></pre>\n\n<p>An what the translated file <code>primes.txt</code> should be:</p>\n\n<pre><code>\\ (\\ (1 (1 ((\\ (1 1) \\ \\ \\ ((1 \\ \\ 1) (\\ (((4 4) 1) (\\ (1 1) \\ (2 (1 1)))) \\ \\ \\ \\ ((1 3) (2 (6 4)))))) \\ \\ \\ (4 (1 3))))) \\ \\ ((1 \\ \\ 2) 2))\n</code></pre>\n\n<p>Currently with the line commented out it translates to an almost readable format that looks like:</p>\n\n<pre><code>\\ (a \\ (a 1 (a 1 (a (a \\ (a 1 1 \\ \\ \\ (a (a 1 \\ \\ 1 (a \\ (a (a (a 4 4 1 (a \\ (a 1 1 \\ (a 2 (a 1 1 \\ \\ \\ \\ (a (a 1 3 (a 2 (a 6 4 \\ \\ \\ (a 4 (a 1 3 \\ \\ (a (a 1 \\ \\ 2 2 \n</code></pre>\n\n<p>Which needs to find innermost abstractions of <code>(a</code> and 2 of either a number or matching parentheses and all their contents and insert a trailing <code>)</code> and remove the <code>a</code> all the way up to the outermost application.</p>\n"}, {"tags": ["regex", "perl", "ldap"], "answers": [{"comments": [{"owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1461087792, "post_id": 36725643, "comment_id": 61035380, "body": "Thank you so much."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "edited": false, "score": 0, "creation_date": 1461088653, "post_id": 36725643, "comment_id": 61035866, "body": "@bsd: Please note some minor changes that may improve the accuracy of the result"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1467569441, "last_edit_date": 1467569441, "creation_date": 1461087578, "answer_id": 36725643, "question_id": 36725437, "link": "https://stackoverflow.com/questions/36725437/how-to-perl-regex-ldap-values/36725643#36725643", "title": "How to perl regex ldap values?", "body": "<p>You give only the barest of information, so I can only tell you what will work for that one line of input data</p>\n\n<p>Here's my best guess about what will work for you, but I am pretty certain you're going to come back with another line that doesn't do quite what you want</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $s = 'kat\\, mith(mkat),OU=Site-SJN,OU=Accounts,OU';\n\nmy ($user) = $s =~ /^([^,]*,[^,]*)/;\nmy ($site) = $s =~ /\\bOU=(Site[^,]*)/;\n\nsay $user;\nsay $site;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>kat\\, mith(mkat)\nSite-SJN\n</code></pre>\n"}], "owner": {"reputation": 5073, "user_id": 387631, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8c18f83e9332320fffa83e37e5a9bf31?s=128&d=identicon&r=PG", "display_name": "bsd", "link": "https://stackoverflow.com/users/387631/bsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 36725643, "answer_count": 1, "score": 0, "last_activity_date": 1467569441, "creation_date": 1461086968, "last_edit_date": 1461088057, "question_id": 36725437, "link": "https://stackoverflow.com/questions/36725437/how-to-perl-regex-ldap-values", "title": "How to perl regex ldap values?", "body": "<p>I need to extract two values from given output. </p>\n\n<pre><code>kat\\, mith(mkat),OU=Site-SJN,OU=Accounts,OU\n</code></pre>\n\n<p>I am looking for these two output values</p>\n\n<pre><code>$user = kat\\, mith(mkat)\n$site = Site-SJN\n</code></pre>\n\n<p>I've tried these options. Please suggest to get above two values.</p>\n\n<pre><code>$user =~ s/^.*?://;\n$user =~ s/^*.?OU=//;\n$site =~ s/^Site?/;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 9, "creation_date": 1461081997, "post_id": 36723739, "comment_id": 61031948, "body": "See <a href=\"http://stackoverflow.com/a/452835/1331451\">stackoverflow.com/a/452835/1331451</a>"}, {"owner": {"reputation": 635, "user_id": 5225141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46ca2a143210415021833f869de4551d?s=128&d=identicon&r=PG&f=1", "display_name": "Chad", "link": "https://stackoverflow.com/users/5225141/chad"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1461082584, "post_id": 36723739, "comment_id": 61032341, "body": "Oh, of course!  I don&#39;t know why I didn&#39;t think of that... Thanks!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 9, "creation_date": 1461082659, "post_id": 36723739, "comment_id": 61032387, "body": "In case anyone wants to know, I found that using <a href=\"http://symbolhound.com\" rel=\"nofollow noreferrer\">symbolhound.com</a>."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1461084733, "post_id": 36723739, "comment_id": 61033672, "body": "yes, I didn&#39;t  scroll back up that far.  but that question doesn&#39;t address what seems to me the main point of <i>this</i> one, which is &quot;I was surprised that it didn&#39;t generate an error&quot;"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1461102672, "post_id": 36723739, "comment_id": 61044037, "body": "Wow, this might be the first time I&#39;ve seen a Perl question in the <a href=\"http://stackexchange.com/questions?tab=hot\">Hot Network Questions</a>. Impressive!"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1461182894, "post_id": 36723739, "comment_id": 61088484, "body": "Related: <a href=\"http://stackoverflow.com/questions/32846792/what-is-in-perl\">stackoverflow.com/questions/32846792/what-is-in-perl</a>"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 15, "last_activity_date": 1461083209, "last_edit_date": 1461083209, "creation_date": 1461082169, "answer_id": 36723854, "question_id": 36723739, "link": "https://stackoverflow.com/questions/36723739/undocumented-perl-variable/36723854#36723854", "title": "Undocumented Perl variable %_?", "body": "<p>It's not undocumented, it's just unused. You'll find it's always empty</p>\n\n<p><a href=\"http://perldoc.perl.org/perlvar.html\">perldoc perlvar</a> says this</p>\n\n<blockquote>\n  <p>Perl variable names may also be a sequence of digits or a single punctuation or control character ... These names are all reserved for special uses by Perl; for example, the all-digits names are used to hold data captured by backreferences after a regular expression match.</p>\n</blockquote>\n\n<p>So <code>%_</code> is <em>reserved</em> but unused.</p>\n\n<p>Hash variables are the least common, so you will find that you can use <code>%1</code>, <code>%(</code> etc. as well (code like <code>$({xx} = 99</code> is fine) but you will get no warning because of backward-compatability issues</p>\n\n<p>Valid general-purpose variable names must start with a letter (with the <code>utf8</code> pragma in place that may be any character with the Unicode <em>letter</em> property) or an ASCII underscore, when it must be followed by at least one other character</p>\n"}, {"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1461084611, "post_id": 36724370, "comment_id": 61033586, "body": "<a href=\"http://perldoc.perl.org/perlvar.html#The-Syntax-of-Variable-Names\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlvar.html#The-Syntax-of-Variable-Names</a> addresses this more clearly, at least with regard to exemption from strict and the list of alphabetic identifiers that are classed with the punctuation one."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1461084914, "post_id": 36724370, "comment_id": 61033775, "body": "@ysth, I disagree. I believe &quot;<i>[variables such as <code>%_</code>] are exempt from the effects of the package declaration and are always forced to be in package main</i>&quot; is not nearly as clear as &quot;<i>unqualified <code>%_</code> refers to <code>%_</code> in the root package, not <code>%_</code> in the current package</i>&quot;.  I didn&#39;t mention strict exemption, though."}, {"owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 2, "creation_date": 1461122361, "post_id": 36724370, "comment_id": 61049796, "body": "It&#39;s lame that Perl doesn&#39;t give any sort of warning when you use <code>%_</code>: it&#39;s reserved to Perl, but Perl doesn&#39;t assign it any meaning, so any use of it is almost certainly a mistake of some sort."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 1, "creation_date": 1461124846, "post_id": 36724370, "comment_id": 61050457, "body": "@ruakh, Easy to fix yourself: Write a module that adds magic which croaks when activated to variables you deem dangerous. Alternatively, write a <code>perlcritic</code> rule and lint your code using it."}, {"owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 1, "creation_date": 1461125371, "post_id": 36724370, "comment_id": 61050570, "body": "@ikegami: I hope you&#39;re joking? I mean, if we removed each Perl feature that could easily be supplied by users, Perl would be a very poor language indeed."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 1, "creation_date": 1461126144, "post_id": 36724370, "comment_id": 61050773, "body": "@ruakh, wut. Noone said anything about removing any features. We were talking about a behaviour you want added. Well, there&#39;s nothing stopping you; I provided two easy solution that might even already exist."}, {"owner": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 1, "creation_date": 1461129879, "post_id": 36724370, "comment_id": 61052076, "body": "@ikegami: No one said anything about removing any features, but your argument is that they should never have been added, i.e., that Perl should suck. As someone who happens to feel that Perl should <i>not</i> suck, I think it would be better if Perl provided appropriate warnings. (Besides, your solutions are clever, but neither would really help. I&#39;m not worried that I might use <code>%_</code>, since I&#39;ve read your answer now. I&#39;m worried about someone like me but who hasn&#39;t read it, and I&#39;m worried about something like <code>%_</code> but that I don&#39;t know about yet.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 155387, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 0, "creation_date": 1461163288, "post_id": 36724370, "comment_id": 61075498, "body": "@ruakh, I never said anything of the kind!!! I didn&#39;t even make any arguments on the subject."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 22, "last_activity_date": 1461098116, "last_edit_date": 1461098116, "creation_date": 1461083747, "answer_id": 36724370, "question_id": 36723739, "link": "https://stackoverflow.com/questions/36723739/undocumented-perl-variable/36724370#36724370", "title": "Undocumented Perl variable %_?", "body": "<p>Punctuation variables are exempt from strict. That's why you don't have to use something like <code>our $_;</code> before using <code>$_</code>. From perlvar,</p>\n\n<blockquote>\n  <p>Perl identifiers that begin with digits, control characters, or punctuation characters [...] are also exempt from <code>strict 'vars'</code> errors.</p>\n</blockquote>\n\n<hr>\n\n<p><code>%_</code> isn't undocumented. From perlvar,</p>\n\n<blockquote>\n  <p>Perl variable names may also be a sequence of digits or a single punctuation or control character (with the literal control character form deprecated). These names are all reserved for special uses by Perl</p>\n</blockquote>\n\n<p>You can have a hash named <code>_</code> because <code>_</code> is a valid name for a variable. (I'm sure you are familiar with <code>$_</code> and <code>@_</code>.)</p>\n\n<p>No Perl builtin currently sets it or reads <code>%_</code> implicitly, but punctuation variables such as <code>%_</code> are reserved.</p>\n\n<hr>\n\n<p>Note that punctuation variables are also special in that they are \"super globals\". This means that unqualified <code>%_</code> refers to <code>%_</code> in the root package, not <code>%_</code> in the current package. </p>\n\n<pre><code>$ perl -E'\n   %::x    = ( \"%::x\"    =&gt; 1 );\n   %::_    = ( \"%::_\"    =&gt; 1 );\n   %Foo::x = ( \"%Foo::x\" =&gt; 1 );\n   %Foo::_ = ( \"%Foo::_\" =&gt; 1 );\n\n   package Foo;\n   say \"%x      = \", keys(%x);\n   say \"%_      = \", keys(%_);\n   say \"%::x    = \", keys(%::x);\n   say \"%::_    = \", keys(%::_);\n   say \"%Foo::x = \", keys(%Foo::x);\n   say \"%Foo::_ = \", keys(%Foo::_);\n'\n%x      = %Foo::x\n%_      = %::_      &lt;-- surprise!\n%::x    = %::x\n%::_    = %::_\n%Foo::x = %Foo::x\n%Foo::_ = %Foo::_\n</code></pre>\n\n<p>This means that forgetting to use <code>local %_</code> (as you did) can have very far-reaching effects.</p>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 6, "last_activity_date": 1461089792, "creation_date": 1461089792, "answer_id": 36726366, "question_id": 36723739, "link": "https://stackoverflow.com/questions/36723739/undocumented-perl-variable/36726366#36726366", "title": "Undocumented Perl variable %_?", "body": "<p><code>$_</code> is a global variable. Global variables live in <a href=\"http://perldoc.perl.org/perlmod.html#Symbol-Tables\">symbol tables</a>, and the built-in punctuation variables all live in the symbol table for package <code>main</code>.</p>\n\n<p>You can see the contents of the symbol table for <code>main</code> like this:</p>\n\n<pre><code>$ perl -MData::Dumper -e'print Dumper \\%main::' # or \\%:: for short\n$VAR1 = { \n          '/' =&gt; *{'::/'},\n          ',' =&gt; *{'::,'},\n          '\"' =&gt; *{'::\"'},\n          '_' =&gt; *::_,\n          # and so on\n        };\n</code></pre>\n\n<p>All of the above entries are typeglobs, indicated by the <code>*</code> sigil. A typeglob is like a container with slots for all of the different Perl types (e.g. <code>SCALAR</code>, <code>ARRAY</code>, <code>HASH</code>, <code>CODE</code>).</p>\n\n<p>A typeglob allows you to use different variables with the same identifier (the name after the sigil):</p>\n\n<pre><code>${ *main::foo{SCALAR} } # long way of writing $main::foo\n@{ *main::foo{ARRAY} }  # long way of writing @main::foo\n%{ *main::foo{HASH} }   # long way of writing %main::foo\n</code></pre>\n\n<p>The values of <code>$_</code>, <code>@_</code>, and <code>%_</code> are all stored in the <code>main</code> symbol table entry with key <code>_</code>. When you access <code>%_</code>, you're actually accessing the <code>HASH</code> slot in the <code>*main::_</code> typeglob (<code>*::_</code> for short).</p>\n\n<p><code>strict 'vars'</code> will normally complain if you try to access a global variable without the fully-qualified name, but punctuation variables are exempt:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>use strict;\n\n*main::foo = \\'bar'; # assign 'bar' to SCALAR slot\nprint $main::foo;    # prints 'bar'\nprint $foo;          # error: Variable \"$foo\" is not imported\n                     #        Global symbol \"$foo\" requires explicit package name\nprint %_;            # no error\n</code></pre>\n"}], "owner": {"reputation": 635, "user_id": 5225141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46ca2a143210415021833f869de4551d?s=128&d=identicon&r=PG&f=1", "display_name": "Chad", "link": "https://stackoverflow.com/users/5225141/chad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1161, "favorite_count": 2, "accepted_answer_id": 36724370, "answer_count": 3, "score": 21, "last_activity_date": 1461098116, "creation_date": 1461081850, "last_edit_date": 1461094744, "question_id": 36723739, "link": "https://stackoverflow.com/questions/36723739/undocumented-perl-variable", "title": "Undocumented Perl variable %_?", "body": "<p>I recently discovered what seems to be an undocumented variable in Perl, <code>%_</code>.  I don't remember exactly how I stumbled across it (it was last week), but I had a typo in my code where I was using <code>map</code> and instead of <code>$_-&gt;{key}</code> I used <code>$_{key}</code>. When I found the mistake, I was surprised that it didn't generate an error, and I verified that <code>use strict</code> and <code>use warnings</code> were in place.</p>\n\n<p>So, I did up a small test, and sure enough it runs without any warnings or errors:</p>\n\n<pre><code>$ perl\nuse strict;\nuse warnings;\nprint keys %_;\n$\n</code></pre>\n\n<p>So, all I can figure is that <code>%_</code> is defined somewhere. I can't find it in <code>perlvar</code>, so what's the deal? It doesn't have any contents in the script above.</p>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1461077962, "post_id": 36722115, "comment_id": 61028873, "body": "For one thing, you&#39;re missing the closing single quote at the end of your perl one-liner. But it&#39;s not really clear what you&#39;re trying to do with that command. Can you please explain in more detail?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1461088491, "post_id": 36722487, "comment_id": 61035763, "body": "If you edit your question, let me know and I&#39;ll delete this answer."}, {"owner": {"reputation": 11, "user_id": 6225528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c589cd2a5215493f9b4543f2337ba20?s=128&d=identicon&r=PG&f=1", "display_name": "chbarros", "link": "https://stackoverflow.com/users/6225528/chbarros"}, "edited": false, "score": 0, "creation_date": 1461713230, "post_id": 36722487, "comment_id": 61321510, "body": "I think the problem was related to the lack of single quote. Thanks."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1461078746, "creation_date": 1461078746, "answer_id": 36722487, "question_id": 36722115, "link": "https://stackoverflow.com/questions/36722115/perl-le-inside-parens-doesnt-working-in-bash-script/36722487#36722487", "title": "perl -le inside parens doesn&#39;t working in bash script", "body": "<p>The code you posted does not exhibit the behaviour you claim.</p>\n\n<pre><code>$ cat a.bash\n#!/bin/bash\n( perl -le 'print \"test\" &amp;&amp; cat example.txt) &gt; example2.txt || ( rm -rf example2.txt &amp;&amp; false )\n\n$ ./a.bash\n./a.bash: line 2: unexpected EOF while looking for matching `''\n./a.bash: line 3: syntax error: unexpected end of file\n\n$\n</code></pre>\n\n<p>After adding the missing <code>'</code>:</p>\n\n<pre><code>$ cat a.bash\n#!/bin/bash\n( perl -le 'print \"test\"' &amp;&amp; cat example.txt) &gt; example2.txt || ( rm -rf example2.txt &amp;&amp; false )\n\n$ ./a.bash\n\n$ \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6225528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c589cd2a5215493f9b4543f2337ba20?s=128&d=identicon&r=PG&f=1", "display_name": "chbarros", "link": "https://stackoverflow.com/users/6225528/chbarros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1461090266, "accepted_answer_id": 36722487, "answer_count": 1, "score": -3, "last_activity_date": 1461713184, "creation_date": 1461077876, "last_edit_date": 1461713184, "question_id": 36722115, "link": "https://stackoverflow.com/questions/36722115/perl-le-inside-parens-doesnt-working-in-bash-script", "closed_reason": "Not suitable for this site", "title": "perl -le inside parens doesn&#39;t working in bash script", "body": "<p>I'm using a script to run a content from a text file with a perl command. It is inside parentheses and is showing command not found. I tried to include this line to a variable and execute by $() or ${variable} but the return is always \"(: command not found\"</p>\n\n<pre><code>#!/bin/bash\n...\n( perl -le 'print \"test\"' &amp;&amp; cat example.txt) &gt; example2.txt || ( rm -rf example2.txt &amp;&amp; false )\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1461087166, "post_id": 36722000, "comment_id": 61035030, "body": "Why do you want to use look_down?In that case, xpath or css selectors would be convenient. If you use HTML::TreeBuilder::XPath, then you can do <code>my $p = $tree-&gt;findnodes(&#39;&#47;&#47;div&#47;p&#39;)-&gt;[0];</code>. And if you prefer HTML::TreeBuilder::Select : <code>my $p = ($tree-&gt;select(&#39;div p&#39;))[0];</code>."}, {"owner": {"reputation": 2635, "user_id": 2246559, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/pdGH2.jpg?s=128&g=1", "display_name": "Danny Sullivan", "link": "https://stackoverflow.com/users/2246559/danny-sullivan"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1461138133, "post_id": 36722000, "comment_id": 61056541, "body": "What originally drew me to <code>look_down</code> is the speed performance vs. XPath. I found it&#39;s 7 times slower on my machine using this script: <a href=\"https://gist.github.com/dsullivan7/6d039fda561d6bf4d55e4b8fd8f7a6c3\" rel=\"nofollow noreferrer\">gist.github.com/dsullivan7/6d039fda561d6bf4d55e4b8fd8f7a6c3</a>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1461080117, "post_id": 36722495, "comment_id": 61030595, "body": "That&#39;s really just doing what the OP suggested but backwards and hiding the second search inside a subroutine. You&#39;re also checking whether any <i>ancestor</i> is a <code>div</code> instead of just the <i>parent</i>. The answer is that, no, there&#39;s no one-step solution"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461081714, "post_id": 36722495, "comment_id": 61031732, "body": "To check just the parent, you can use <code>&#39;div&#39; eq ($node-&gt;lineage_tag_names)[0]</code> instead. I agree that it&#39;s not ideal (I like XPath more)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461085614, "post_id": 36722495, "comment_id": 61034170, "body": "Yes, and thankfully the DOM seems to be dying except for LibXML. CSS has an advantage over XPath for HTML5 in that it will parse space-separated <code>class</code> attribute values, but maybe XPath 2 does that?"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474239564, "post_id": 36722495, "comment_id": 66437313, "body": "@Borodin What do you mean by &quot;the DOM seems to be dying&quot; ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "edited": false, "score": 0, "creation_date": 1474270651, "post_id": 36722495, "comment_id": 66445515, "body": "@CJ7: What I meant was that using the Document Object Model as a technique for accessing specific parts of HTML (and XML) is getting less popular. XPath and CSS selectors are much more expressive. And I apologise\u2014you&#39;re right, I chose a very obscure way of phrasing  that."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474271780, "post_id": 36722495, "comment_id": 66446108, "body": "@Borodin: Isn&#39;t XPath a way to query the DOM? :-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1474272510, "post_id": 36722495, "comment_id": 66446476, "body": "@choroba: <a href=\"https://en.m.wikipedia.org/wiki/XPath\" rel=\"nofollow noreferrer\">XPath</a> is a way to access the <i>document</i>. The <a href=\"https://en.m.wikipedia.org/wiki/Document_Object_Model\" rel=\"nofollow noreferrer\">DOM</a> is an API for navigating and modifying the document tree."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1461078769, "creation_date": 1461078769, "answer_id": 36722495, "question_id": 36722000, "link": "https://stackoverflow.com/questions/36722000/parsing-nested-elements-htmltreebuilder/36722495#36722495", "title": "Parsing Nested Elements HTML::TreeBuilder", "body": "<p>You can <code>look_up</code> form all <code>p</code>'s to see whether they're contained in a <code>div</code>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse HTML::TreeBuilder;\n\nsub paragraph_whose_ancestor_is_div {\n    my $node = shift;\n    return 'p' eq $node-&gt;{_tag} &amp;&amp; $node-&gt;look_up(_tag =&gt; 'div')\n}\n\nmy $tree = 'HTML::TreeBuilder'-&gt;new;\n$tree-&gt;parse(\"&lt;html&gt;&lt;div&gt;&lt;p&gt;get this&lt;/p&gt;&lt;/div&gt;&lt;p&gt;not this&lt;/p&gt;&lt;/html&gt;\");\n\nmy @p = $tree-&gt;look_down(\\&amp;paragraph_whose_ancestor_is_div);\n\nsay $_-&gt;as_text() for @p;\n</code></pre>\n"}], "owner": {"reputation": 2635, "user_id": 2246559, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/pdGH2.jpg?s=128&g=1", "display_name": "Danny Sullivan", "link": "https://stackoverflow.com/users/2246559/danny-sullivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461078769, "creation_date": 1461077596, "last_edit_date": 1461078301, "question_id": 36722000, "link": "https://stackoverflow.com/questions/36722000/parsing-nested-elements-htmltreebuilder", "title": "Parsing Nested Elements HTML::TreeBuilder", "body": "<p>I have an example html:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;p&gt;get this&lt;/p&gt;\n&lt;/div&gt;\n&lt;p&gt;not this&lt;/p&gt;\n</code></pre>\n\n<p>Is there a way to get the nested element using <code>HTML::TreeBuilder</code> and <code>look_down</code>? I can use <code>look_down</code> on the resulting element of the first search.</p>\n\n<pre><code>my $tree = HTML::TreeBuilder-&gt;new;\n$tree-&gt;parse(\"&lt;div&gt;&lt;p&gt;get this&lt;/p&gt;&lt;/div&gt;&lt;p&gt;not this&lt;/p&gt;\");\nmy $div = $tree-&gt;look_down(_tag =&gt; \"div\");\nmy $p = $div-&gt;look_down(_tag =&gt; \"p\");\nprint $p-&gt;as_text() . \"\\n\";\n</code></pre>\n\n<p>Is it possible to get this in a single search, similar to the css selector <code>div p</code>? Am I limited to XPath?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 237, "user_id": 6141995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/286dc92d926f7634f609ce9956543ecf?s=128&d=identicon&r=PG&f=1", "display_name": "karu", "link": "https://stackoverflow.com/users/6141995/karu"}, "edited": false, "score": 0, "creation_date": 1461073863, "post_id": 36719735, "comment_id": 61025801, "body": "@karu: Okay, but does my solution work for you? It looks like a good match to your requirement"}, {"owner": {"reputation": 237, "user_id": 6141995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/286dc92d926f7634f609ce9956543ecf?s=128&d=identicon&r=PG&f=1", "display_name": "karu", "link": "https://stackoverflow.com/users/6141995/karu"}, "edited": false, "score": 0, "creation_date": 1461074104, "post_id": 36719735, "comment_id": 61025990, "body": "@ Borodin I have some issues  here when there are mismatches \u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0 (\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0), this one for example . I just need to remove the above"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 237, "user_id": 6141995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/286dc92d926f7634f609ce9956543ecf?s=128&d=identicon&r=PG&f=1", "display_name": "karu", "link": "https://stackoverflow.com/users/6141995/karu"}, "edited": false, "score": 3, "creation_date": 1461074607, "post_id": 36719735, "comment_id": 61026332, "body": "@karu: That isn&#39;t a mismatch, it&#39;s an identity production. Your question only gave the translation of the last line as a requirement. Do you really need me to walk you home as well? If you have another question then submit it as a new post. Programming isn&#39;t about copying software from one site and posting it on another to get it changed. Please do some work of your own"}, {"owner": {"reputation": 237, "user_id": 6141995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/286dc92d926f7634f609ce9956543ecf?s=128&d=identicon&r=PG&f=1", "display_name": "karu", "link": "https://stackoverflow.com/users/6141995/karu"}, "edited": false, "score": 0, "creation_date": 1461075380, "post_id": 36719735, "comment_id": 61026939, "body": "I just mentioned the code fails to capture it. It doesn&#180;t mean"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 237, "user_id": 6141995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/286dc92d926f7634f609ce9956543ecf?s=128&d=identicon&r=PG&f=1", "display_name": "karu", "link": "https://stackoverflow.com/users/6141995/karu"}, "edited": false, "score": 0, "creation_date": 1461079095, "post_id": 36719735, "comment_id": 61029777, "body": "@karu: Ah okay. So are you saying that my answer solves your question? If so then it helps to say so in the comments. You can wait a while -- days if you like -- to see if a better answer comes up"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467554974, "last_edit_date": 1467554974, "creation_date": 1461072025, "answer_id": 36719735, "question_id": 36718949, "link": "https://stackoverflow.com/questions/36718949/perl-printing-in-wrong-format/36719735#36719735", "title": "perl printing in wrong format", "body": "<p>I think you have split the original lines wrongly. I know a little Bengali but I don't know the syntax of the files you're processing</p>\n\n<p>I think it's as simple as extracting all parenthesis-delimited substrings from the source data, like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse List::Util 'reduce';\n\nwhile ( &lt;&gt; ) {\n\n    my ($word, $ss) = / \\( ( [^()]* ) \\) /gx;\n\n    my @ss = split ' ', $ss;\n\n    my $str = reduce { sprintf 'S (%s) (%s)', $a, $b } @ss;\n\n    printf \"%s (%s)\\n\", $word, $str;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>\u0985\u0982\u09b6\u0997\u09cd\u09b0\u09b9\u09a3\u0993 (S (S (\u0985\u0982\u09b6:stem) (\u0997\u09cd\u09b0\u09b9\u09a3:suffix)) (\u0993:suffix))\n\u0985\u0982\u09b6\u099c\u09c1\u09dc\u09c7\u0987 (S (S (\u0985\u0982\u09b6:stem) (\u099c\u09c1\u09dc\u09c7:suffix)) (\u0987:suffix))\n\u0985\u0982\u09b6\u09a4\u09cd\u09ac (S (\u0985\u0982\u09b6:stem) (\u09a4\u09cd\u09ac:suffix))\n\u0985\u0982\u09b6\u09b8\u09b9 (S (\u0985\u0982\u09b6:stem) (\u09b8\u09b9:suffix))\n\u0985\u0982\u09b6\u09c0\u09a6\u09be\u09b0\u09a4\u09cd\u09ac\u09c7 (S (S (S (S (\u0985\u0982\u09b6:stem) (\u09c0:suffix)) (\u09a6\u09be\u09b0:suffix)) (\u09a4\u09cd\u09ac:suffix)) (\u09c7:suffix))\n\u0985\u0995\u09b2\u09cd\u09aa\u09a8\u09c0\u09df (S (S (\u0985:prefix) (\u0995\u09b2\u09cd\u09aa:suffix)) (\u09a8\u09c0\u09df:suffix))\n\u0985\u0995\u09be\u09a3\u09cd\u09a1 (S (\u0985:prefix) (\u0995\u09be\u09a3\u09cd\u09a1:suffix))\n\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0 (\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0)\n\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0\u09c7 (S (\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0:stem) (\u09c7:suffix))\n\u0985\u0996\u09be\u09a6\u09cd\u09af\u09c7 (S (S (\u0985:prefix) (\u0996\u09be\u09a6\u09cd\u09af:suffix)) (\u09c7:suffix))\n\u0985\u0997\u09a3\u09bf\u09a4 (S (\u0985:prefix) (\u0997\u09a3\u09bf\u09a4:suffix))\n\u0985\u0997\u09cd\u09a8\u09bf\u0997\u09cb\u09b2\u09be (S (\u0985\u0997\u09cd\u09a8\u09bf:stem) (\u0997\u09cb\u09b2\u09be:suffix))\n\u0985\u0997\u09cd\u09a8\u09bf\u09a8\u09bf\u09b0\u09cd\u09ac\u09be\u09aa\u09a3\u09c7\u09b0 (S (S (\u0985\u0997\u09cd\u09a8\u09bf:stem) (\u09a8\u09bf\u09b0\u09cd\u09ac\u09be\u09aa\u09a3:suffix)) (\u09c7\u09b0:suffix))\n\u0985\u0997\u09cd\u09a8\u09bf\u09aa\u09b0\u09c0\u0995\u09cd\u09b7\u09be (S (\u0985\u0997\u09cd\u09a8\u09bf:stem) (\u09aa\u09b0\u09c0\u0995\u09cd\u09b7\u09be:suffix))\n\u0985\u0997\u09cd\u09a8\u09bf\u09b8\u0982\u09af\u09cb\u0997\u09b8\u09b9 (S (S (\u0985\u0997\u09cd\u09a8\u09bf:stem) (\u09b8\u0982\u09af\u09cb\u0997:suffix)) (\u09b8\u09b9:suffix))\n</code></pre>\n"}], "owner": {"reputation": 237, "user_id": 6141995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/286dc92d926f7634f609ce9956543ecf?s=128&d=identicon&r=PG&f=1", "display_name": "karu", "link": "https://stackoverflow.com/users/6141995/karu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 36719735, "answer_count": 1, "score": -2, "last_activity_date": 1467554974, "creation_date": 1461070216, "last_edit_date": 1461076494, "question_id": 36718949, "link": "https://stackoverflow.com/questions/36718949/perl-printing-in-wrong-format", "title": "perl printing in wrong format", "body": "<p>I have a <code>perl</code> code segment to produce parse trees from input text but it produces wrongly formated parse trees. I need to produce the <code>(</code> <code>)</code> and <code>S</code> brackets according to number of \nsuffix and prefix and stem.</p>\n\n<p>Code></p>\n\n<pre><code>use strict;\nuse warnings qw/ all FATAL /;\nuse List::Util 'reduce';\n\n# our ($a, $b);\n\nwhile ( &lt;&gt; ) {\n    chomp;\n    my ($word, $ss) = split ' ', $_, 2;   \n    my @ss = split /\\s/, $ss;\n\n    my $str = reduce { sprintf 'S (%s) (%s)', $a, $b } @ss;\n\n    printf \"%s (%s)\\n\", $word, $str;\n}\n</code></pre>\n\n<p>Input </p>\n\n<pre><code> (\u0985\u0982\u09b6\u0997\u09cd\u09b0\u09b9\u09a3\u0993)      (\u0985\u0982\u09b6:stem \u0997\u09cd\u09b0\u09b9\u09a3:suffix \u0993:suffix ) \n (\u0985\u0982\u09b6\u099c\u09c1\u09dc\u09c7\u0987)   (\u0985\u0982\u09b6:stem \u099c\u09c1\u09dc\u09c7:suffix \u0987:suffix ) \n (\u0985\u0982\u09b6\u09a4\u09cd\u09ac)     (\u0985\u0982\u09b6:stem \u09a4\u09cd\u09ac:suffix ) \n (\u0985\u0982\u09b6\u09b8\u09b9)      (\u0985\u0982\u09b6:stem \u09b8\u09b9:suffix ) \n (\u0985\u0982\u09b6\u09c0\u09a6\u09be\u09b0\u09a4\u09cd\u09ac\u09c7)    (\u0985\u0982\u09b6:stem \u09c0:suffix \u09a6\u09be\u09b0:suffix \u09a4\u09cd\u09ac:suffix \u09c7:suffix ) \n (\u0985\u0995\u09b2\u09cd\u09aa\u09a8\u09c0\u09df)   (\u0985:prefix \u0995\u09b2\u09cd\u09aa:suffix \u09a8\u09c0\u09df:suffix ) \n (\u0985\u0995\u09be\u09a3\u09cd\u09a1)     (\u0985:prefix \u0995\u09be\u09a3\u09cd\u09a1:suffix ) \n (\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0)    (\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0) \n (\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0\u09c7)   (\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0:stem \u09c7:suffix ) \n (\u0985\u0996\u09be\u09a6\u09cd\u09af\u09c7)    (\u0985:prefix \u0996\u09be\u09a6\u09cd\u09af:suffix \u09c7:suffix ) \n (\u0985\u0997\u09a3\u09bf\u09a4)      (\u0985:prefix \u0997\u09a3\u09bf\u09a4:suffix ) \n (\u0985\u0997\u09cd\u09a8\u09bf\u0997\u09cb\u09b2\u09be)      (\u0985\u0997\u09cd\u09a8\u09bf:stem \u0997\u09cb\u09b2\u09be:suffix ) \n (\u0985\u0997\u09cd\u09a8\u09bf\u09a8\u09bf\u09b0\u09cd\u09ac\u09be\u09aa\u09a3\u09c7\u09b0)    (\u0985\u0997\u09cd\u09a8\u09bf:stem \u09a8\u09bf\u09b0\u09cd\u09ac\u09be\u09aa\u09a3:suffix \u09c7\u09b0:suffix ) \n (\u0985\u0997\u09cd\u09a8\u09bf\u09aa\u09b0\u09c0\u0995\u09cd\u09b7\u09be)   (\u0985\u0997\u09cd\u09a8\u09bf:stem \u09aa\u09b0\u09c0\u0995\u09cd\u09b7\u09be:suffix ) \n (\u0985\u0997\u09cd\u09a8\u09bf\u09b8\u0982\u09af\u09cb\u0997\u09b8\u09b9)   (\u0985\u0997\u09cd\u09a8\u09bf:stem \u09b8\u0982\u09af\u09cb\u0997:suffix \u09b8\u09b9:suffix ) \n</code></pre>\n\n<p>Expected output></p>\n\n<pre><code>\u0985\u0997\u09cd\u09a8\u09bf\u09b8\u0982\u09af\u09cb\u0997\u09b8\u09b9      (S(S(\u0985\u0997\u09cd\u09a8\u09bf:stem) (\u09b8\u0982\u09af\u09cb\u0997:suffix)) (\u09b8\u09b9:suffix )) \n</code></pre>\n\n<p>It produces wrong output. In the produced output, you could see  many errors, for example : <code>()</code></p>\n\n<pre><code> (\u0985\u0982\u09b6) ((\u0985\u0982\u09b6))\n    (\u0985\u0982\u09b6\u0997\u09cd\u09b0\u09b9\u09a3\u0993) (S (S (S ((\u0985\u0982\u09b6:stem) (\u0997\u09cd\u09b0\u09b9\u09a3:suffix)) (\u0993:suffix)) ()))\n    (\u0985\u0982\u09b6\u099c\u09c1\u09dc\u09c7\u0987) (S (S (S ((\u0985\u0982\u09b6:stem) (\u099c\u09c1\u09dc\u09c7:suffix)) (\u0987:suffix)) ()))\n    (\u0985\u0982\u09b6\u09a4\u09cd\u09ac) (S (S ((\u0985\u0982\u09b6:stem) (\u09a4\u09cd\u09ac:suffix)) ()))\n    (\u0985\u0982\u09b6\u09b8\u09b9) (S (S ((\u0985\u0982\u09b6:stem) (\u09b8\u09b9:suffix)) ()))\n    (\u0985\u0982\u09b6\u09c0\u09a6\u09be\u09b0\u09a4\u09cd\u09ac\u09c7) (S (S (S (S (S ((\u0985\u0982\u09b6:stem) (\u09c0:suffix)) (\u09a6\u09be\u09b0:suffix)) (\u09a4\u09cd\u09ac:suffix)) (\u09c7:suffix)) ()))\n    (\u0985\u0995\u09b2\u09cd\u09aa\u09a8\u09c0\u09df) (S (S (S ((\u0985:prefix) (\u0995\u09b2\u09cd\u09aa:suffix)) (\u09a8\u09c0\u09df:suffix)) ()))\n    (\u0985\u0995\u09be\u09a3\u09cd\u09a1) (S (S ((\u0985:prefix) (\u0995\u09be\u09a3\u09cd\u09a1:suffix)) ()))\n    (\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0) ((\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0))\n    (\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0\u09c7) (S (S ((\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0:stem) (\u09c7:suffix)) ()))\n    (\u0985\u0996\u09be\u09a6\u09cd\u09af\u09c7) (S (S (S ((\u0985:prefix) (\u0996\u09be\u09a6\u09cd\u09af:suffix)) (\u09c7:suffix)) ()))\n    (\u0985\u0997\u09a3\u09bf\u09a4) (S (S ((\u0985:prefix) (\u0997\u09a3\u09bf\u09a4:suffix)) ()))\n</code></pre>\n\n<p>How can I produce results in expected format?</p>\n"}, {"tags": ["arrays", "perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461069351, "post_id": 36718306, "comment_id": 61022219, "body": "The code you show doesn&#39;t produce that output. Please show the code you&#39;re really having a problem with"}, {"owner": {"reputation": 120, "user_id": 3101182, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a723eb4d02a334b5ef244a2b097bf96f?s=128&d=identicon&r=PG&f=1", "display_name": "user3101182", "link": "https://stackoverflow.com/users/3101182/user3101182"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461069556, "post_id": 36718306, "comment_id": 61022380, "body": "This is what i am using the only thing that is not included are the directories."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461069710, "post_id": 36718306, "comment_id": 61022506, "body": "<code>$InputDir</code> isn&#39;t defined. The code you show won&#39;t compile under <code>use strict</code> and <code>use warnings &#39;all&#39;</code>. Please provide a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">short, self-contained, compilable example</a>"}, {"owner": {"reputation": 120, "user_id": 3101182, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a723eb4d02a334b5ef244a2b097bf96f?s=128&d=identicon&r=PG&f=1", "display_name": "user3101182", "link": "https://stackoverflow.com/users/3101182/user3101182"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461071648, "post_id": 36718306, "comment_id": 61024109, "body": "edited  to include everything"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461072186, "post_id": 36718306, "comment_id": 61024562, "body": "Thank you. Did my answer below not help?"}], "answers": [{"tags": [], "owner": {"reputation": 2878, "user_id": 600360, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/t4VHw.jpg?s=128&g=1", "display_name": "Mort", "link": "https://stackoverflow.com/users/600360/mort"}, "is_accepted": false, "score": 0, "last_activity_date": 1461070054, "creation_date": 1461070054, "answer_id": 36718871, "question_id": 36718306, "link": "https://stackoverflow.com/questions/36718306/comparing-two-filename-arrays-for-differences/36718871#36718871", "title": "comparing two filename arrays for differences", "body": "<p>First, use a hash to store your already-processed files. Then it's just a matter of checking if a file exists in the hash.</p>\n\n<p>(I've changed some variable names to make the answer a bit clearer.)</p>\n\n<pre><code>foreach my $file (@dir_list) {\n   push @to_process, $file unless ($already_processed{$file});\n}\n</code></pre>\n\n<p>(Which could be a one-liner, but get it working in its most expanded form first.)</p>\n\n<p>If you insist on your array, this looks much less efficient</p>\n\n<pre><code>foreach my $file (@dir_list) {\n   push @to_process, $file unless (grep (/^$file$/, @already_processed));\n}\n</code></pre>\n\n<p>(Again could be a one-liner, but...)</p>\n"}, {"comments": [{"owner": {"reputation": 120, "user_id": 3101182, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a723eb4d02a334b5ef244a2b097bf96f?s=128&d=identicon&r=PG&f=1", "display_name": "user3101182", "link": "https://stackoverflow.com/users/3101182/user3101182"}, "edited": false, "score": 0, "creation_date": 1461072482, "post_id": 36719167, "comment_id": 61024788, "body": "this works great...now i am guessing will need to pass the %files to an array so i can then loop thru and move those files?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 120, "user_id": 3101182, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a723eb4d02a334b5ef244a2b097bf96f?s=128&d=identicon&r=PG&f=1", "display_name": "user3101182", "link": "https://stackoverflow.com/users/3101182/user3101182"}, "edited": false, "score": 0, "creation_date": 1461075151, "post_id": 36719167, "comment_id": 61026773, "body": "@user4990635: There&#39;s no need to copy anything. My code already &quot;loops through&quot; the file names to print them. If you wrote the original code yourself then you should be able to work it out. But <i>please</i> don&#39;t declare all your variables in one big block at the top: they should be declared as <i>late as possible</i>. Look at how I&#39;ve used <code>do</code> blocks so that <code>$dh</code>, <code>@files</code> etc. only exist for as brief a time as possible. And use <code>constant</code> to define constants. You have a bunch of file paths that don&#39;t change, and having those names in ALL_CAPITALS would really help to make your code clearer"}, {"owner": {"reputation": 120, "user_id": 3101182, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a723eb4d02a334b5ef244a2b097bf96f?s=128&d=identicon&r=PG&f=1", "display_name": "user3101182", "link": "https://stackoverflow.com/users/3101182/user3101182"}, "edited": false, "score": 0, "creation_date": 1461198056, "post_id": 36719167, "comment_id": 61094656, "body": "yes thank you very much. i am learning a great deal from this feedback."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467624775, "last_edit_date": 1592644375, "creation_date": 1461070731, "answer_id": 36719167, "question_id": 36718306, "link": "https://stackoverflow.com/questions/36718306/comparing-two-filename-arrays-for-differences/36719167#36719167", "title": "comparing two filename arrays for differences", "body": "<p>This should help you to do what you need. It stores the names of all of the files in <code>INPUT_DIR</code> as keys in hash <code>%files</code>, and then deletes all the names found in <code>LOG_FILE</code>. The remainder are printed</p>\n<p>This program uses <code>autodie</code> so that the success of IO operations needn't be checked explicitly. It was first available in Perl 5 core in v5.10.1</p>\n<pre><code>use strict;\nuse warnings 'all';\nuse v5.10.1;\nuse autodie;\nuse feature 'say';\n\nuse constant LOG_FILE  =&gt; '//CFVFTP/Users/ssi/Transfer_Logs/Artiva/ARTIVA_Mstr_Transfer_Log.txt';\nuse constant INPUT_DIR =&gt; undef;\n\nchdir INPUT_DIR;\n\nmy %files = do {\n    opendir my $dh, '.';\n    my @files = grep -f, readdir $dh;\n    map { $_ =&gt; 1 } @files;\n};\n\nmy @logged_files = do {\n    open my $fh, '&lt;', LOG_FILE;\n    &lt;$fh&gt;;\n};\nchomp @logged_files;\n\ndelete @files{@logged_files};\n\nsay for sort keys %files;\n</code></pre>\n<br/>\n<hr />\n<h3>Update</h3>\n<p>After a lot of attrition I found this underneath your original code</p>\n<pre><code>use strict;\nuse warnings 'all';\nuse v5.10.1;\nuse autodie;\nuse feature 'say';\n\nuse Time::Piece 'localtime';\n\nuse constant DATETIME  =&gt; localtime()-&gt;ymd('');\nuse constant XFR_LOG   =&gt; '//CFVFTP/Users/ssi/Transfer_Logs/Artiva/ARTIVA_Mstr_Transfer_Log.txt';\nuse constant DAILY_LOG =&gt; '//CFVFTP/Users/ssi/Transfer_Logs/Artiva/ARTIVA_Daily_Transfer_Log_' . DATETIME . '.txt';\nuse constant INPUT_DIR =&gt; '//CFVFTP/Users/ssi/Transfer_Logs/folder1/';\nuse constant MOVE_DIR  =&gt; '//CFVFTP/Users/ssi/Transfer_Logs/folder2/';\n\nchdir INPUT_DIR;\n\nmy @master = do {\n    open my $fh, '&lt;', XFR_LOG;\n    &lt;$fh&gt;;\n};\nchomp @master;\n\nmy @list = do {\n    opendir my $dh, '.';\n    grep -f, readdir $dh;\n};\n\nmy %diff;\n@diff{ @master } = ();\n\nmy @filetouse = grep { not exists $diff{$_} } @list;\n</code></pre>\n<p>As you can see, it's very similar to my solution. Here are some notes about your original</p>\n<ul>\n<li><p>Always use lexical file handles. With <code>open FH, ...</code> the file handle is <em>global</em> and will never be closed unless you do it explicitly or until the program terminates. Instead, <code>open my $fh, ...</code> leaves perl to close the file handle at the end of the current block</p>\n</li>\n<li><p>Always use the three-parameter form of <code>open</code>, so that the open mode is separate from the file name, and never put an open mode as part of a file name. You opened the same file twice: once as <code>$MstrTransferLogFile</code> which begins with <code>&gt;&gt;</code> and once explicitly because you needed read access</p>\n</li>\n<li><p>It is very rare for a program to be able to recover from an IO operation error. Unless you are writing fail-safe software, a failure to open or read from a file or directory means the program won't be able to fulfill its purpose. That means there's little reason to accumulate a list of error messages -- the code should just <code>die</code> when it can't succeed</p>\n</li>\n<li><p>The output from <code>readdir</code> is very messy if you need to process directories because it includes the pseudo-directories <code>.</code> and <code>..</code>. But if you only want files then a simple <code>grep -f, readdir $dh</code> will throw those out for you</p>\n</li>\n<li><p>The <em>block</em> form of grep is often more readable, and <code>not</code> is much more visible than <code>!</code>. So <code>grep !exists($diff{$_}), @list</code> is clearer as <code>grep { not exists $diff{$_} } @list</code></p>\n</li>\n<li><p>Unless your code is <em>really</em> weird, comments usually just add more noise and confusion and obscure the structure. Make your code look like what it does, so you don't have to explain it</p>\n</li>\n</ul>\n<p>Oh, and don't throw in all the things you might need at the start &quot;just in case&quot;. Write your code as if it was all there and the compiler will tell you what's missing</p>\n<p>I hope that helps</p>\n"}], "owner": {"reputation": 120, "user_id": 3101182, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a723eb4d02a334b5ef244a2b097bf96f?s=128&d=identicon&r=PG&f=1", "display_name": "user3101182", "link": "https://stackoverflow.com/users/3101182/user3101182"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 36719167, "answer_count": 2, "score": 0, "last_activity_date": 1467624775, "creation_date": 1461068652, "last_edit_date": 1461071623, "question_id": 36718306, "link": "https://stackoverflow.com/questions/36718306/comparing-two-filename-arrays-for-differences", "title": "comparing two filename arrays for differences", "body": "<p>below is my attempt and loading all filenames in a text file into an array and comparing that array to filenames which are in a seperate directory. I would like to identify the filenames that are in the directory and not in the file so I can then process those files. I am able to load the contents of the both directories succesfully but the compare operation is outputting all the files not just the difference.</p>\n\n<p>Thank you in advance for the assistance.</p>\n\n<pre><code>use File::Copy;\nuse Net::SMTP;\nuse POSIX;\nuse constant DATETIME =&gt; strftime(\"%Y%m%d\", localtime);\nuse Array::Utils qw(:all);\nuse strict;\nuse warnings;\n\n\nmy $currentdate = DATETIME;\nmy $count;\nmy $ErrorMsg = \"\";\nmy $MailMsg = \"\";\nmy $MstrTransferLogFile = \"&gt;&gt;//CFVFTP/Users/ssi/Transfer_Logs/Artiva/ARTIVA_Mstr_Transfer_Log.txt\";\nmy $DailyLogFile = \"&gt;//CFVFTP/Users/ssi/Transfer_Logs/Artiva/ARTIVA_Daily_Transfer_Log_\" . DATETIME . \".txt\";\nmy $InputDir = \"//CFVFTP/Users/ssi/Transfer_Logs/folder1/\";\nmy $MoveDir = \"//CFVFTP/Users/ssi/Transfer_Logs/folder2/\";\nmy $filetouse;\nmy @filetouse;\nmy $diff;\nmy $file1;\nmy $file2;\nmy %diff;\n\nopen (MSTRTRANSFERLOGFILE, $MstrTransferLogFile) or $ErrorMsg = $ErrorMsg . \"ERROR: Could not open master transfer log file!\\n\";\nopen (DAILYLOGFILE, $DailyLogFile) or $ErrorMsg = $ErrorMsg . \"ERROR: Could not open daily log file!\\n\";\n\n\n#insert all files in master transfer log into array for cross reference\nopen (FH, \"&lt;//CFVFTP/Users/ssi/Transfer_Logs/Artiva/ARTIVA_Mstr_Transfer_Log.txt\") or $ErrorMsg = $ErrorMsg . \"ERROR: Could not open master log file!\\n\";\nmy @master = &lt;FH&gt;;\nclose FH;\nprint \"filenames in text file:\\n\";\nforeach $file1 (@master) { print \"$file1\\n\"; }\nprint \"\\n\";\n\n#insert all 835 files in Input directory into array for cross reference\nopendir (DIR, $InputDir) or $ErrorMsg = $ErrorMsg . \"ERROR: Could not open input directory $InputDir!\\n\";\nmy @list = grep { $_ ne '.' &amp;&amp; $_ ne '..' &amp;&amp; /\\.835$/  } readdir DIR;\nclose(DIR);\nprint \"filenames in folder\\n\";\nforeach $file2 (@list) { print \"$file2\\n\"; }\nprint \"\\n\";\n\n#get the all files in the Input directory that are NOT in the master transfer log and place into @filetouse array\n@diff{ @master }= ();;\n@filetouse = grep !exists($diff{$_}), @list;;\n\nprint \"difference:\\n\";\nforeach my $file3 (@filetouse) { print \"$file3\\n\"; }\n\nprint DAILYLOGFILE \"$ErrorMsg\\n\";\nprint DAILYLOGFILE \"$MailMsg\\n\";\n\nclose(MSTRTRANSFERLOGFILE);\nclose(DAILYLOGFILE); \n</code></pre>\n\n<p>this is what the output looks like:</p>\n\n<pre><code>    filenames in text file:\n    160411h00448car0007.835\n\n\n    filenames in folder\n    160411h00448car0007.835\n    160411h00448car0008.835\n    160418h00001com0001.835\n\n    difference:\n    160411h00448car0007.835\n    160411h00448car0008.835\n    160418h00001com0001.835\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1461068704, "post_id": 36718037, "comment_id": 61021753, "body": "Please expand on what you&#39;re after. This is a very complicated approach to what looks like a really simple problem."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461068994, "post_id": 36718037, "comment_id": 61021958, "body": "Where does the data in <code>$txt</code> come from, please?"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1461082258, "post_id": 36718037, "comment_id": 61032113, "body": "State your question (it is not clear to me) as the title. <i>Perl oneliner regex</i> is not a question."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1461068628, "creation_date": 1461068628, "answer_id": 36718298, "question_id": 36718037, "link": "https://stackoverflow.com/questions/36718037/perl-oneliner-regex/36718298#36718298", "title": "Perl oneliner regex", "body": "<p>I'm not certain what you want, but this will strip <em>all</em> square brackets from a string supplied on the command line</p>\n\n<pre><code>$ perl -E \"say shift =~ tr/[]//dr\" [/apache/20160419/20160419-0643/20160419-064309-VxYLvX8AAAEAABumDlIAAAAG]\n/apache/20160419/20160419-0643/20160419-064309-VxYLvX8AAAEAABumDlIAAAAG\n</code></pre>\n\n<p>or this will print the first sequence of characters that aren't square brackets, with the same result given this data</p>\n\n<pre><code>$ perl -E \"say shift =~ / ( [^\\[\\]]+ ) /x\" [/apache/20160419/20160419-0643/20160419-064309-VxYLvX8AAAEAABumDlIAAAAG]\n/apache/20160419/20160419-0643/20160419-064309-VxYLvX8AAAEAABumDlIAAAAG\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1461068682, "creation_date": 1461068682, "answer_id": 36718319, "question_id": 36718037, "link": "https://stackoverflow.com/questions/36718037/perl-oneliner-regex/36718319#36718319", "title": "Perl oneliner regex", "body": "<p>Seems overly complicated for what amounts to:</p>\n\n<pre><code> $txt =~ s/(^\\[|\\]$)//g;\n</code></pre>\n\n<p>Or if fed the whole URL, and as a one liner:</p>\n\n<pre><code>perl -ne 'print m/\\[([^]]+)\\]/;'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5994, "user_id": 5710637, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAM5l.jpg?s=128&g=1", "display_name": "fafl", "link": "https://stackoverflow.com/users/5710637/fafl"}, "is_accepted": true, "score": 2, "last_activity_date": 1461068838, "creation_date": 1461068838, "answer_id": 36718372, "question_id": 36718037, "link": "https://stackoverflow.com/questions/36718037/perl-oneliner-regex/36718372#36718372", "title": "Perl oneliner regex", "body": "<p>You can use <code>sed</code>, but perl works too:</p>\n\n<pre><code>echo \"[foo]\" | perl -pe 's/[\\[\\]]//g'\n</code></pre>\n\n<p>Though i'm not sure why you want to use such a complicated regex just to remove braces.</p>\n"}], "owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 36718372, "answer_count": 3, "score": -2, "last_activity_date": 1461068838, "creation_date": 1461067978, "question_id": 36718037, "link": "https://stackoverflow.com/questions/36718037/perl-oneliner-regex", "title": "Perl oneliner regex", "body": "<p>I have created this regex script online, to strip bracket out of string <code>[/apache/20160419/20160419-0643/20160419-064309-VxYLvX8AAAEAABumDlIAAAAG]</code></p>\n\n<p>I'm wondering if it is possible to run it on the shell as \"perl oneliner\"</p>\n\n<pre><code>#!/usr/bin/perl\n\n# URL that generated this code:\n# http://txt2re.com/index.php3?s=[/apache/20160419/20160419-0643/20160419-064309-VxYLvX8AAAEAABumDlIAAAAG]&amp;2\n\n$txt='[/apache/20160419/20160419-0643/20160419-064309-VxYLvX8AAAEAABumDlIAAAAG]';\n\n$re1='.*?'; # Non-greedy match on filler\n$re2='((?:\\\\/[\\\\w\\\\.\\\\-]+)+)';  # Unix Path 1\n\n$re=$re1.$re2;\nif ($txt =~ m/$re/is)\n{\n    $unixpath1=$1;\n    print $unixpath1;\n}\n</code></pre>\n\n<p>I have tried </p>\n\n<pre><code>cat file | perl -wnE'say /((?:\\\\/[\\\\w\\\\.\\\\-]+)+)/g'\nUnmatched ( in regex; marked by &lt;-- HERE in m/(( &lt;-- HERE ?:\\\\/ at -e line \n</code></pre>\n"}, {"tags": ["sql", "postgresql", "perl"], "comments": [{"owner": {"reputation": 15560, "user_id": 709439, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/19b5c7e6c2772d88adcbd928daddc170?s=128&d=identicon&r=PG", "display_name": "MarcoS", "link": "https://stackoverflow.com/users/709439/marcos"}, "edited": false, "score": 0, "creation_date": 1461067936, "post_id": 36717353, "comment_id": 61021177, "body": "May I suggest some useful reading? <a href=\"http://search.cpan.org/~rudy/DBD-Pg/Pg.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~rudy/DBD-Pg/Pg.pm</a> ..."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1461072397, "post_id": 36717353, "comment_id": 61024726, "body": "I assume you&#39;re using DBI to do this (and, if not, why not?) You&#39;ll probably want to use the <code>do()</code> method to run the query. This returns the number of rows affected. See <a href=\"https://metacpan.org/pod/DBI#do\" rel=\"nofollow noreferrer\">the documentation</a> for more details."}, {"owner": {"reputation": 31, "user_id": 5564004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57e921d4fcddca8a92349c87a991f105?s=128&d=identicon&r=PG&f=1", "display_name": "Username", "link": "https://stackoverflow.com/users/5564004/username"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1461073338, "post_id": 36717353, "comment_id": 61025419, "body": "@DaveCross Yes, I&#39;m using DBI. the variable &quot;updateQuery&quot; contains an update query where I update some stuff. I read that &quot;UPDATE&quot; returns 0 or 1 (I think)  upon completion. The only problem I  have is how to extract that number so I can use it inside the if statement. So when updated changed some rows it will send mail if not then it will not. Also is there a way to extracted from the query directly without doing any additional stuff? Sorry if I&#39;m being too vague /:."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1461073462, "post_id": 36717353, "comment_id": 61025493, "body": "Like I said, you&#39;ll want to look at <code>do()</code>. See the documentation I referred to."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1461075347, "post_id": 36717353, "comment_id": 61026911, "body": "If you&#39;re only running the query once, you can use <a href=\"https://metacpan.org/pod/DBI#do\" rel=\"nofollow noreferrer\"><code>do()</code></a> as Dave Cross suggested. If you&#39;re running the same query multiple times, you should use <a href=\"https://metacpan.org/pod/DBI#prepare\" rel=\"nofollow noreferrer\"><code>prepare()</code></a> and <a href=\"https://metacpan.org/pod/DBI#execute\" rel=\"nofollow noreferrer\"><code>execute()</code></a>. For non-SELECT queries, <code>execute()</code> will return the number of rows affected, just like <code>do()</code>."}, {"owner": {"reputation": 31, "user_id": 5564004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57e921d4fcddca8a92349c87a991f105?s=128&d=identicon&r=PG&f=1", "display_name": "Username", "link": "https://stackoverflow.com/users/5564004/username"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1461076474, "post_id": 36717353, "comment_id": 61027765, "body": "@ThisSuitIsBlackNot Maybe to clarify, I&#39;m only looking for a simple true or false to use in the if statement. When I compere the variable !&quot;updateQuery&quot; == 0 in the if statement like so <code>if(!updateQuery == 0)</code> it doesn&#39;t go into the if. (Does UPDATE only return 0?). I want to use it like this because the mail is sent regardless of if the columns are updated or not. Sorry if I for sounding rude."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1461076982, "post_id": 36717353, "comment_id": 61028119, "body": "@Username Don&#39;t worry, you don&#39;t sound rude at all. There is no <code>UPDATE</code> method in DBI, and in the code you&#39;ve shown, <code>$updateQuery</code> is just a scalar variable; you can&#39;t tell just from looking at a string how many rows will be updated, so you actually have to execute the query. When you execute the query with <code>do()</code> or <code>execute()</code>, the return value will be the number of rows affected. See Dave Cross&#39;s answer for an example."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 1, "last_activity_date": 1461076368, "creation_date": 1461076368, "answer_id": 36721472, "question_id": 36717353, "link": "https://stackoverflow.com/questions/36717353/checking-if-update-query-affected-rows-perl/36721472#36721472", "title": "Checking if update query affected rows perl", "body": "<p>Shortcut version using <code>do()</code></p>\n\n<pre><code>my $update_query = '...';\n\nmy $ret = $dbh-&gt;do($update_query);\n\nif ($ret) {\n  if ($ret eq '0E0') {\n    # no rows updated\n  } else {\n    # rows updated\n  }\n} else {\n  # error\n}\n</code></pre>\n\n<p>Full <code>prepare()</code>/<code>execute()</code> version.</p>\n\n<pre><code>my $update_query = '...';\nmy $sth = $dbh-&gt;prepare($update_query);\n\nmy $ret = $sth-&gt;execute;\n\nif ($ret) {\n  if ($ret eq '0E0') {\n    # no rows updated\n  } else {\n    # rows updated\n  }\n} else {\n  # error\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5564004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57e921d4fcddca8a92349c87a991f105?s=128&d=identicon&r=PG&f=1", "display_name": "Username", "link": "https://stackoverflow.com/users/5564004/username"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 946, "favorite_count": 0, "accepted_answer_id": 36721472, "answer_count": 1, "score": 0, "last_activity_date": 1461076368, "creation_date": 1461066142, "question_id": 36717353, "link": "https://stackoverflow.com/questions/36717353/checking-if-update-query-affected-rows-perl", "title": "Checking if update query affected rows perl", "body": "<p>I have an \"UPDATE\" query and I want to check if this query has affected any rows and if it has I would like to send an email to myself. I'm not really experienced with perl or sql. (I'm using postgresql).</p>\n\n<p><strong>EDIT:</strong> I know that UPDATE returns \"count\" which tells how many rows if any have been updated, but I still don't know how to get to it. </p>\n\n<p>The code looks like this: </p>\n\n<pre><code>my $updateQuery - //UPDATE query \nif(//updateQuery has effected rows){\n     //send mail\n}else\n     //do nothing\n</code></pre>\n\n<p>The problem is I don't know what to put into the if, what flag should I set? Is there any easy check that answers \"has effected rows\"? </p>\n"}, {"tags": ["linux", "perl", "ssh", "subroutine"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1461064191, "post_id": 36716456, "comment_id": 61018560, "body": "What is the random number for?"}, {"owner": {"reputation": 415, "user_id": 4253297, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6J-AItPnOBc/AAAAAAAAAAI/AAAAAAAAADI/HK2hnN_tfxA/photo.jpg?sz=128", "display_name": "realmaniek", "link": "https://stackoverflow.com/users/4253297/realmaniek"}, "edited": false, "score": 0, "creation_date": 1461064365, "post_id": 36716456, "comment_id": 61018672, "body": "1) &#39;if&#39; is not a loop 2) Start with some basic perl/general programming toutorials"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1461072021, "post_id": 36716456, "comment_id": 61024431, "body": "You seem to have forgotten to ask a question :-)"}, {"owner": {"reputation": 9262, "user_id": 124951, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c46d5911a8fb4ffd5fb8523d56a60de0?s=128&d=identicon&r=PG", "display_name": "salva", "link": "https://stackoverflow.com/users/124951/salva"}, "edited": false, "score": 0, "creation_date": 1464627971, "post_id": 36716456, "comment_id": 62551899, "body": "use <a href=\"https://metacpan.org/pod/Net::OpenSSH::Parallel\" rel=\"nofollow noreferrer\">Net::OpenSSH::Parallel</a>;"}], "answers": [{"tags": [], "owner": {"reputation": 415, "user_id": 4253297, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6J-AItPnOBc/AAAAAAAAAAI/AAAAAAAAADI/HK2hnN_tfxA/photo.jpg?sz=128", "display_name": "realmaniek", "link": "https://stackoverflow.com/users/4253297/realmaniek"}, "is_accepted": true, "score": 1, "last_activity_date": 1461065194, "last_edit_date": 1461065194, "creation_date": 1461064872, "answer_id": 36716895, "question_id": 36716456, "link": "https://stackoverflow.com/questions/36716456/how-to-call-a-function-in-perl-script-after-performing-ssh/36716895#36716895", "title": "How to call a function in Perl script after performing SSH?", "body": "<p>Start with general programming toutorials, then do it like:</p>\n\n<pre><code>use Net::SSH::perl;\nuse strict;\nuse warnings;    \n\nmy @servers = (\n    {\n        hostname =&gt; 'somehost1',\n        username =&gt; 'someuser1',\n        password =&gt; 'somepass1',\n        commands =&gt; ['somecmd11','somecmd12'],\n    },\n    {\n        hostname =&gt; 'somehost2',\n        username =&gt; 'someuser2',\n        password =&gt; 'somepass2',\n        commands =&gt; ['somecmd21','somecmd22'],\n    },\n# ...\n);\n\ndo_something_on_remote_servers_one_by_one( @servers );\nexit(0);\n\n\n\n\nsub do_something_on_remote_servers_one_by_one { \n    my (@servers) = @_;\n\n    foreach my $server (@servers) {\n        my $ssh = Net::SSH::perl-&gt;new($server-&gt;{hostname});\n        $ssh-&gt;login($server-&gt;{username}, $server-&gt;{password});\n        my $cmd_string = join(' &amp; ', @{ $server-&gt;{commands} } );\n        my ($stdout,$stderr,$exit) = $ssh-&gt;cmd($cmd_string);\n        print $stdout;\n    }\n}   \n</code></pre>\n\n<p>After that, you can think about executing commands in paralell.</p>\n"}], "owner": {"reputation": 65, "user_id": 5330375, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Mu-fiNIqwxE/AAAAAAAAAAI/AAAAAAAAAlA/IHGwO6EORqw/photo.jpg?sz=128", "display_name": "shashank shukla", "link": "https://stackoverflow.com/users/5330375/shashank-shukla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 36716895, "answer_count": 1, "score": 1, "last_activity_date": 1461065194, "creation_date": 1461063718, "question_id": 36716456, "link": "https://stackoverflow.com/questions/36716456/how-to-call-a-function-in-perl-script-after-performing-ssh", "title": "How to call a function in Perl script after performing SSH?", "body": "<p>I am creating a perl script in which I have to ssh multiple servers from same script and perform same commands on all these remote servers.\nRight now I am using \"If loop\" and call all other servers from this script and perform command on them.\nI want to create a function with these set of commands, that I need to perform on these different servers.</p>\n\n<pre><code>if($random_number==1){\nuse Net::SSH::perl\nuse lib qw(\"user/share/perl5/\");\nmy $hostname = \"10.*.*.*\";\nmy $username = \"root\";\nmy $password = \"root\\@123\";\nmy $cmd1  = \"ls /home/ashish/\"\nmy $cmd2 = \"netstat -na | grep *.*.*.*;\n$ssh-&gt;login(\"$username\" , \"$password\");\nmy ($stdout,$stderr,$exit) = $ssh-&gt;cmd(\"$smd1\" &amp;&amp; \"$cmd2\");\nprint $stdout;\n}\n</code></pre>\n\n<p>the above commands after if syntax needs to be repeated for different servers.\nwant to use a function call.</p>\n"}, {"tags": ["perl", "www-mechanize"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1461057424, "post_id": 36713825, "comment_id": 61013835, "body": "It depends on the server how many requests it allows. Sleeping for a second between each request would most likely work. You would have to put it at the end of your <code>foreach</code> loop where you iterate <code>@new_stuff</code>. <a href=\"https://metacpan.org/pod/Time::HiRes\" rel=\"nofollow noreferrer\">metacpan.org/pod/Time::HiRes</a> allows you to <code>sleep</code> for less than a second. Keep in mind that you might be violating the terms of services of the website you are trying to parse, and that the rate limit might be there for a reason. Best ask them if you are allowed to do what you are doing."}, {"owner": {"reputation": 13, "user_id": 6223793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a30a264c4803098f887713e7e45e5be?s=128&d=identicon&r=PG&f=1", "display_name": "guyfromnowhere", "link": "https://stackoverflow.com/users/6223793/guyfromnowhere"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1461058124, "post_id": 36713825, "comment_id": 61014303, "body": "thanks for your comment!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1461059892, "post_id": 36713825, "comment_id": 61015563, "body": "@simbabque: <i>&quot;the rate limit might be there for a reason&quot;</i> I assume that&#39;s sarcastic?!"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6223793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a30a264c4803098f887713e7e45e5be?s=128&d=identicon&r=PG&f=1", "display_name": "guyfromnowhere", "link": "https://stackoverflow.com/users/6223793/guyfromnowhere"}, "edited": false, "score": 0, "creation_date": 1461069427, "post_id": 36714952, "comment_id": 61022269, "body": "Sleep 30 would be too much in this case. I will contact the admins of this webiste if I can use such things on their site.  Btw. the idea of LWP::RobotUA is awesome. Thank you!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 13, "user_id": 6223793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a30a264c4803098f887713e7e45e5be?s=128&d=identicon&r=PG&f=1", "display_name": "guyfromnowhere", "link": "https://stackoverflow.com/users/6223793/guyfromnowhere"}, "edited": false, "score": 0, "creation_date": 1461070044, "post_id": 36714952, "comment_id": 61022782, "body": "@guyfromnowhere: 30 seconds between requests is pretty standard. You couldn&#39;t submit requests manually and write down the results much faster than that. If you want the site&#39;s data then ask for it -- it would be much cheaper for them to give you a copy of the database if they&#39;re willing for you to have it, and if they don&#39;t want you to have it then you shouldn&#39;t be breaking the law to get it"}, {"owner": {"reputation": 13, "user_id": 6223793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a30a264c4803098f887713e7e45e5be?s=128&d=identicon&r=PG&f=1", "display_name": "guyfromnowhere", "link": "https://stackoverflow.com/users/6223793/guyfromnowhere"}, "edited": false, "score": 0, "creation_date": 1461071052, "post_id": 36714952, "comment_id": 61023643, "body": "Yes, exactly. I will contact them."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1461059819, "creation_date": 1461059819, "answer_id": 36714952, "question_id": 36713825, "link": "https://stackoverflow.com/questions/36713825/perl-wwwmechanize-slow-down-requests-to-avoid-http-code-429/36714952#36714952", "title": "Perl WWW::Mechanize Slow down requests to avoid HTTP Code 429", "body": "<p>You need to check whether the site you are scraping has a <em>service agreement</em> that allows you to use it in this way. Because bandwidth costs money, most sites prefer to restrict access to real human operators or legitimate index engines like Google</p>\n\n<p>You should also take a look at the <code>robots.txt</code> file for the site you're leeching which will have details on exactly what automated access is permitted. Take a look at <a href=\"http://www.robotstxt.org/\" rel=\"nofollow\">www.robotstxt.org</a> for more information</p>\n\n<p>A simple <code>sleep 30</code> between requests will probably be okay to get you past most rules, but <em>don't</em> reduce the period below 30</p>\n\n<p>There is also a subclass of <code>LWP::UserAgent</code> called <a href=\"https://metacpan.org/pod/LWP::RobotUA\" rel=\"nofollow\"><code>LWP::RobotUA</code></a> that is intended for situations like this. It may well be straightforward to get <code>WWW::Mechanize</code> to use this instead of the base class </p>\n"}], "owner": {"reputation": 13, "user_id": 6223793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a30a264c4803098f887713e7e45e5be?s=128&d=identicon&r=PG&f=1", "display_name": "guyfromnowhere", "link": "https://stackoverflow.com/users/6223793/guyfromnowhere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "accepted_answer_id": 36714952, "answer_count": 1, "score": 1, "last_activity_date": 1461059819, "creation_date": 1461057060, "last_edit_date": 1461059293, "question_id": 36713825, "link": "https://stackoverflow.com/questions/36713825/perl-wwwmechanize-slow-down-requests-to-avoid-http-code-429", "title": "Perl WWW::Mechanize Slow down requests to avoid HTTP Code 429", "body": "<p>I've written a Perl script that will fetch and parse a webpage, fill some forms and collect some information, but after a while I was denied by the server with HTTP error <code>429 Too Many Requests</code>. I sent too many requests in a short amount of time to the server so my IP has been blacklisted.</p>\n\n<p>How could I \"slow down\" my requests/script to avoid this again and not hurt anyone? Is there any way to do this with Perl module <a href=\"https://metacpan.org/pod/WWW::Mechanize\" rel=\"nofollow\"><code>WWW::Mechanize</code></a>?</p>\n\n<pre><code>sub getlinksofall {\n\n    for my $i ( 1 .. $maxpages ) {\n\n        $mech-&gt;follow_link( url_regex =&gt; qr/page$i/i );\n        push @LINKS, $mech-&gt;find_all_links(\n            url_regex =&gt; qr/http:\\/\\/www\\.example\\.com\\/somestuffs\\//i\n        );\n    }\n\n    foreach my $links (@LINKS) {\n        push @LINKS2, $links-&gt;url();\n    }\n\n    @new_stuffs = uniq @LINKS2;\n}\n\nsub getnumberofpages {\n    push @numberofpages, $mech-&gt;content =~ m/\\/page(\\d+)\"/gi;\n    $maxpages = ( sort { $b &lt;=&gt; $a } @numberofpages )[0];\n}\n\nsub getdataabout {\n\n    foreach my $stuff ( @new_stuffs ) {\n\n        $mech-&gt;get($stuff);\n\n        $g = $mech-&gt;content;\n        $t = $mech-&gt;content;\n        $s = $mech-&gt;content;\n\n        # ... and than some regex match with some DBI stuff...\n    }\n}\n</code></pre>\n\n<p>By these loops there could be thousands of links and I just want to slow it down. Is some \"sleep\" command in these loops enough for this? </p>\n"}, {"tags": ["javascript", "jquery", "perl", "checkbox", "datatables"], "comments": [{"owner": {"reputation": 1305, "user_id": 2050907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VsmO3.jpg?s=128&g=1", "display_name": "TCHdvlp", "link": "https://stackoverflow.com/users/2050907/tchdvlp"}, "edited": false, "score": 0, "creation_date": 1461057386, "post_id": 36713776, "comment_id": 61013802, "body": "Maybe you need to redraw the table. I&#39;m not used to latests versions of datatable, but you should look a this <a href=\"https://datatables.net/reference/api/draw()\" rel=\"nofollow noreferrer\">datatables.net/reference/api/draw()</a>"}, {"owner": {"reputation": 55, "user_id": 6223882, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4yCGg.png?s=128&g=1", "display_name": "cterra", "link": "https://stackoverflow.com/users/6223882/cterra"}, "reply_to_user": {"reputation": 1305, "user_id": 2050907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VsmO3.jpg?s=128&g=1", "display_name": "TCHdvlp", "link": "https://stackoverflow.com/users/2050907/tchdvlp"}, "edited": false, "score": 0, "creation_date": 1461057439, "post_id": 36713776, "comment_id": 61013843, "body": "my $j=0; is perl, why ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461058866, "post_id": 36713776, "comment_id": 61014863, "body": "@cterra: I imagine the server side is Perl"}], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 6223882, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4yCGg.png?s=128&g=1", "display_name": "cterra", "link": "https://stackoverflow.com/users/6223882/cterra"}, "is_accepted": false, "score": 0, "last_activity_date": 1461144850, "creation_date": 1461144850, "answer_id": 36739599, "question_id": 36713776, "link": "https://stackoverflow.com/questions/36713776/datatable-checkbox-toggle-column/36739599#36739599", "title": "datatable checkbox toggle column", "body": "<p>I ve finally understood </p>\n\n<pre><code>       e.preventDefault();\n</code></pre>\n\n<p>stuck my checkboxes, i copied pasted some code that used that, but in my case it was unwanted.\n and i forgot checked=\"checked\" in my html</p>\n\n<p>so finally i use the html : </p>\n\n<pre><code>    $log .= '&lt;div&gt;  Toggle column: &lt;table id=\"check1\"&gt;&lt;tr&gt;';\n                    my $j=0;\n                    foreach $toogle (@logvmware) \n                    {\n                        $log .= '&lt;td&gt;&lt;input type=\"checkbox\" name=\"checkbox'.$j.'\" id=\"checkbox'.$j.'\" class=\"toggle-vis\" data-column=\"'.$j.'\" checked=\"checked\" /&gt;&lt;FONT COLOR=\"#FF3333\"&gt;'.$toogle.'&lt;/FONT&gt;&lt;/td&gt;';\n                        if ($j eq 6) {$log .= \"&lt;tr&gt;\";}\n                        $j++;\n                    }\n                    $log .= '&lt;/table&gt;   &lt;/div&gt;';\n</code></pre>\n\n<p>and the javascript :</p>\n\n<pre><code>      $(document).ready(function() {\nvar table = $('#example').DataTable( {\n    //stateSave: true\n    \"bJQueryUI\": false,\n    \"bAutoWidth\": false,\n    \"bDestroy\": true,\n     //  \"bPaginate\": false,\n     //  \"bInfo\": false,\n    \"lengthMenu\": [ [30, 40, 50, -1], [30, 40, 50, \"All\"] ],\n    \"columnDefs\": [\n                   { \"visible\": false, \"targets\": [4] }, //OSversion\n                   { \"visible\": false, \"targets\": [8] }, //VmVersions\n                   { \"visible\": false, \"targets\": [7] }, //VMStates\n                   { \"visible\": false, \"targets\": [6] }  //VMtoolsVersion\n                 ], \n  /********************calcul des totaux*************/\n         \"footerCallback\": function ( row, data, start, end, display ) {\n        var api = this.api(), data;\n\n        // Remove the formatting to get integer data for summation\n        var intVal = function ( i ) {\n            return typeof i === 'string' ?\n                i.replace(/[\\$,]/g, '')*1 :\n                typeof i === 'number' ?\n                    i : 0;\n        };\n        //update checkbox state for inform hidden column\n        document.getElementById(\"checkbox4\").checked = false;//hidden default column\n        document.getElementById(\"checkbox8\").checked = false;\n        document.getElementById(\"checkbox7\").checked = false;\n        document.getElementById(\"checkbox6\").checked = false;\n\n        // Total over all pages\n        totalcpu = api\n            .column( 11 )\n            .data()\n            .reduce( function (a, b) {\n                return intVal(a) + intVal(b);\n            }, 0 );\n\n        // Total over this page\n        Totalcpu = api\n            .column( 11, { page: 'current'} )\n            .data()\n            .reduce( function (a, b) {\n                return intVal(a) + intVal(b);\n            }, 0 );\n\n         totalmemorysize = api\n            .column( 12 )\n            .data()\n            .reduce( function (a, b) {\n                return intVal(a) + intVal(b);\n            }, 0 );\n\n          Totalmemorysize = api\n            .column( 12, { page: 'current'} )\n            .data()\n            .reduce( function (a, b) {\n                return intVal(a) + intVal(b);\n            }, 0 );\n\n        totalmemoryused = api\n            .column( 13 )\n            .data()\n            .reduce( function (a, b) {\n                return intVal(a) + intVal(b);\n            }, 0 );\n\n          Totalmemoryused = api\n            .column( 13, { page: 'current'} )\n            .data()\n            .reduce( function (a, b) {\n                return intVal(a) + intVal(b);\n            }, 0 );\n\n        // Update footer\n        $( api.column( 11 ).footer() ).html(\n            'Number CPU &lt;br&gt;'+Totalcpu +' &lt;br&gt;('+ totalcpu +' total)'\n        );\n         $( api.column( 12 ).footer() ).html(\n            'Memory Size &lt;br&gt;'+Totalmemorysize +' &lt;br&gt;('+ totalmemorysize +' total)'\n        );\n         $( api.column( 13 ).footer() ).html(\n            'Memory Used &lt;br&gt;'+Totalmemoryused +' &lt;br&gt;('+ totalmemoryused +' total)'\n        );  \n    }\n    /******************fin des totaux *******************/  \n} \n\n);\n\n$('input.toggle-vis').on( 'click', function (e) {\n   // e.preventDefault(); //emp\u00eache la mise \u00e0 jour des checkbox\n\n    // Get the column API object\n    var column = table.column( $(this).attr('data-column') );\n\n    // Toggle the visibility\n    column.visible( ! column.visible() );\n\n} );\n   } );\n</code></pre>\n\n<p>And it work fine, i can see which column are hidden by default, and i can add or delete column through my checkbox ... </p>\n\n<p>Sorry for the identation, but i think this code can be usefull.</p>\n"}], "owner": {"reputation": 55, "user_id": 6223882, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4yCGg.png?s=128&g=1", "display_name": "cterra", "link": "https://stackoverflow.com/users/6223882/cterra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 527, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461144850, "creation_date": 1461056969, "last_edit_date": 1461078856, "question_id": 36713776, "link": "https://stackoverflow.com/questions/36713776/datatable-checkbox-toggle-column", "title": "datatable checkbox toggle column", "body": "<p>I have a huge datatable with too many columns. I have filtered some of them like this</p>\n\n<pre><code>    $(document).ready(function() {\nvar table = $('#example').DataTable( {\n    \"bJQueryUI\": false,\n    \"bAutoWidth\": false,\n    \"bDestroy\": true,\n  //  \"bPaginate\": false,\n  //  \"bInfo\": false,\n    \"lengthMenu\": [ [30, 40, 50, -1], [30, 40, 50, \"All\"] ],\n\"columnDefs\": [\n                   { \"visible\": false, \"targets\": [4] }, //OSversion\n                   { \"visible\": false, \"targets\": [8] }, //VmVersions\n                   { \"visible\": false, \"targets\": [7] }, //VMStates\n                   { \"visible\": false, \"targets\": [6] }  //VMtoolsVersion\n                 ], \n} );\n\n$('input.toggle-vis').on( 'click', function (e) {\n    e.preventDefault();\n\n    // Get the column API object\n    var column = table.column( $(this).attr('data-column') );\n\n    // Toggle the visibility\n    column.visible( ! column.visible() );\n} );\n\n} );\n</code></pre>\n\n<p>I want to add checkboxes to say which columns can be added or removed. I tried this Perl code</p>\n\n<pre><code>$log .= '&lt;div&gt;  Toggle column: &lt;table id=\"check1\"&gt;&lt;tr&gt;';\n\nmy $j = 0;\n\nforeach $toogle (@logvmware) {\n    $log\n            .= '&lt;td&gt;&lt;input type=\"checkbox\" class=\"toggle-vis\" data-column=\"'\n            . $j\n            . '\"&gt;&lt;FONT COLOR=\"#FF3333\"&gt;'\n            . $toogle\n            . '&lt;/FONT&gt;&lt;/td&gt;';\n\n    if ( $j eq 6 ) {\n        $log .= \"&lt;tr&gt;\";\n    }\n\n    $j++;\n}\n\n$log .= '&lt;/table&gt;   &lt;/div&gt;';\n</code></pre>\n\n<p>My checkboxes correctly add or remove the columns but they're always empty! I want them to be checked if the column is visible and unchecked if the column is hidden.</p>\n\n<p>I hope I was clear; I am not fluent in English.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461057116, "post_id": 36713745, "comment_id": 61013617, "body": "It&#39;s generally bad practice to use a shell command when you can write the equivalent natively in Perl. But I&#39;m okay with it in this instance as there is only one such command, and <code>File::Tail</code> isn&#39;t a core module so it may well need to be installed"}, {"owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461057405, "post_id": 36713745, "comment_id": 61013818, "body": "I agree, but I (wrongly) assumed that he actually wanted to <code>tail -f</code> the file in a continuous way. My mistake, I always tend to assume a continuous tail..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461058314, "post_id": 36713745, "comment_id": 61014447, "body": "Ah, then I would agree with you. To do that with the shell command would involve opening a pipe from <code>tail</code>"}], "tags": [], "owner": {"reputation": 1133, "user_id": 2185890, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/330b262ed789de0997e720dce8ee1af0?s=128&d=identicon&r=PG", "display_name": "LaintalAy", "link": "https://stackoverflow.com/users/2185890/laintalay"}, "is_accepted": false, "score": 0, "last_activity_date": 1461056882, "creation_date": 1461056882, "answer_id": 36713745, "question_id": 36713510, "link": "https://stackoverflow.com/questions/36713510/filetemp-pass-system-command-output-to-temp-file/36713745#36713745", "title": "File::Temp pass system command output to temp file", "body": "<p>I would use a different approach for tailing the file. Have a look to <a href=\"http://search.cpan.org/~mgrabnar/File-Tail-1.3/Tail.pm\" rel=\"nofollow\">File::Tail</a>, I think it will simplify things.  </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1461056908, "creation_date": 1461056908, "answer_id": 36713752, "question_id": 36713510, "link": "https://stackoverflow.com/questions/36713510/filetemp-pass-system-command-output-to-temp-file/36713752#36713752", "title": "File::Temp pass system command output to temp file", "body": "<p>It sounds like all you need is</p>\n\n<pre><code>print $tmp $tail;\n</code></pre>\n\n<p>But you also need to <em>declare</em> <code>$tail</code> and you probably shouldn't <code>chomp</code> it, so </p>\n\n<pre><code>my $tail = `tail access.log`;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1461057333, "post_id": 36713849, "comment_id": 61013763, "body": "It would help us to pass on the message that <code>use strict</code> and <code>use warnings &#39;all&#39;</code> were <i>mandatory</i> if you were to use them in your solution code. There&#39;s little point in using <code>my</code> without <code>use strict</code>"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461057594, "post_id": 36713849, "comment_id": 61013947, "body": "Oh yes - I normally at least have &quot;use v5.12&quot; which is strict by default.  I&#39;ll update my answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461057660, "post_id": 36713849, "comment_id": 61013992, "body": "As it stands you are using <code>File::Tail</code> in its <i>monitoring</i> mode. It will block waiting for new data to be written to the file and the <code>while</code> loop will never exit. a call to <code>tail</code> will just print the last ten lines and exit"}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 0, "last_activity_date": 1461059261, "last_edit_date": 1461059261, "creation_date": 1461057132, "answer_id": 36713849, "question_id": 36713510, "link": "https://stackoverflow.com/questions/36713510/filetemp-pass-system-command-output-to-temp-file/36713849#36713849", "title": "File::Temp pass system command output to temp file", "body": "<p>There is many ways to do this but since you are happy to use modules, you might as well use <a href=\"http://search.cpan.org/~mgrabnar/File-Tail-1.3/Tail.pm\" rel=\"nofollow\">File::Tail</a>;</p>\n\n<pre><code>use v5.12;\nuse warnings 'all';\nuse File::Tail;\n\nmy $lines_required = 10;\nmy $out_file = \"output.txt\";\n\nopen(my $out, '&gt;', $out_file) or die \"$out_file: $!\\n\";\nmy $tail = File::Tail-&gt;new(\"/some/log/file\");\nfor (1 .. $lines_required)  {\n    print $out $tail-&gt;read;\n}\nclose $out;\n</code></pre>\n\n<p>This sits and monitors the log file until it gets the 10 new lines.  If you just want a copy of the last 10 lines as is, the easiest way is to use I/O redirection from the shell: <code>tail /some/log/file &gt; my_copy.txt</code></p>\n"}, {"tags": [], "owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "is_accepted": false, "score": 0, "last_activity_date": 1461058129, "creation_date": 1461058129, "answer_id": 36714239, "question_id": 36713510, "link": "https://stackoverflow.com/questions/36713510/filetemp-pass-system-command-output-to-temp-file/36714239#36714239", "title": "File::Temp pass system command output to temp file", "body": "<p>Is classic Perl approach to use the proper filename for the handle?</p>\n\n<pre><code>if(open LOGFILE, 'tail /some/log/file |' and open TAIL, '&gt;/tmp/logtail')\n{\n    print LOGFILE \"$_\\n\" while &lt;TAIL&gt;;\n    close TAIL and close LOGFILE\n}\n</code></pre>\n"}], "owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1461059261, "creation_date": 1461056331, "question_id": 36713510, "link": "https://stackoverflow.com/questions/36713510/filetemp-pass-system-command-output-to-temp-file", "title": "File::Temp pass system command output to temp file", "body": "<p>I'm trying to capture the output of a <em>tail command</em> to a temp file. </p>\n\n<p>here is a sample of my <a href=\"http://pastebin.com/raw/TXDgaT2E\" rel=\"nofollow\">apache access log</a></p>\n\n<p>Here is what I have tried so far. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse File::Temp ();\nuse File::Temp qw/ :seekable /;\n\nchomp($tail = `tail access.log`);\n\nmy $tmp = File::Temp-&gt;new( UNLINK =&gt; 0, SUFFIX =&gt; '.dat' );\nprint $tmp \"Some data\\n\";\nprint \"Filename is $tmp\\n\";\n</code></pre>\n\n<p>I'm not sure how I can go about passing the output of <code>$tail</code> to this temporoy file. </p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "batch-file", "command-line", "tcl", "stdin"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1461053394, "post_id": 36712045, "comment_id": 61011036, "body": "Is there any reason why you can&#39;d just put the three commands into a shell command file and run that?"}, {"owner": {"reputation": 119001, "user_id": 301832, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/965220a70d38e6a29466f44cdb4f804e?s=128&d=identicon&r=PG", "display_name": "Donal Fellows", "link": "https://stackoverflow.com/users/301832/donal-fellows"}, "edited": false, "score": 0, "creation_date": 1461060589, "post_id": 36712045, "comment_id": 61016083, "body": "<code>cmd.exe</code> can run pipelines. Even <code>command.com</code> did that back in the bad old DOS days, and always could since as far back as I can remember or search. You just gotta make each script read from stdin and write to stdout\u2026"}, {"owner": {"reputation": 81, "user_id": 6081887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-wZD3YTSqC5Q/AAAAAAAAAAI/AAAAAAAAAIw/OYcItnJXZek/photo.jpg?sz=128", "display_name": "Sumathi Gokul", "link": "https://stackoverflow.com/users/6081887/sumathi-gokul"}, "edited": false, "score": 0, "creation_date": 1461063865, "post_id": 36712045, "comment_id": 61018314, "body": "To Borodin....i am not much aware of shell command file, so i dint try it out... any relevant document or sample code will be highly help full."}], "answers": [{"tags": [], "owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "is_accepted": false, "score": 0, "last_activity_date": 1461138573, "last_edit_date": 1461138573, "creation_date": 1461103750, "answer_id": 36730374, "question_id": 36712045, "link": "https://stackoverflow.com/questions/36712045/how-to-run-multiple-scripts-in-sequence-using-command-prompt/36730374#36730374", "title": "How to run multiple scripts in sequence using command prompt", "body": "<p>I'm not familar with <code>Tcl</code> but an example using <code>Perl</code> would be (from the <code>DOS</code> command-line):</p>\n\n<pre><code>perl hi.pl &gt; log.txt &amp; perl mid.pl &gt;&gt; log.txt &amp; perl low.pl &gt;&gt; log.txt\n</code></pre>\n\n<p>The 3 <code>perl</code> script run in succession with the output of all 3 scripts put in a file called log.txt.</p>\n\n<p>You can incorporate <code>STDIN</code> as needed.</p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 6081887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-wZD3YTSqC5Q/AAAAAAAAAAI/AAAAAAAAAIw/OYcItnJXZek/photo.jpg?sz=128", "display_name": "Sumathi Gokul", "link": "https://stackoverflow.com/users/6081887/sumathi-gokul"}, "edited": false, "score": 0, "creation_date": 1461143734, "post_id": 36733486, "comment_id": 61060522, "body": "Thank you Sharad... It runs all the scripts simultaneously,  but i want in sequence, i.e. script2 should start after completion of script1..."}, {"owner": {"reputation": 5143, "user_id": 5699852, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f945663f0c248f41c09a1db32f7816c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sharad", "link": "https://stackoverflow.com/users/5699852/sharad"}, "reply_to_user": {"reputation": 81, "user_id": 6081887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-wZD3YTSqC5Q/AAAAAAAAAAI/AAAAAAAAAIw/OYcItnJXZek/photo.jpg?sz=128", "display_name": "Sumathi Gokul", "link": "https://stackoverflow.com/users/6081887/sumathi-gokul"}, "edited": false, "score": 0, "creation_date": 1461146065, "post_id": 36733486, "comment_id": 61062314, "body": "Sequential should be simpler. Remove &#39;start /b&#39; and the commands will run sequentially."}, {"owner": {"reputation": 81, "user_id": 6081887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-wZD3YTSqC5Q/AAAAAAAAAAI/AAAAAAAAAIw/OYcItnJXZek/photo.jpg?sz=128", "display_name": "Sumathi Gokul", "link": "https://stackoverflow.com/users/6081887/sumathi-gokul"}, "edited": false, "score": 0, "creation_date": 1461148498, "post_id": 36733486, "comment_id": 61064090, "body": "yeah its working...as i mentioned in note, while executing perl script, i need to get user data through STDIN, is it possible to get user data when a perl script is run through batch file??"}, {"owner": {"reputation": 5143, "user_id": 5699852, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f945663f0c248f41c09a1db32f7816c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sharad", "link": "https://stackoverflow.com/users/5699852/sharad"}, "reply_to_user": {"reputation": 81, "user_id": 6081887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-wZD3YTSqC5Q/AAAAAAAAAAI/AAAAAAAAAIw/OYcItnJXZek/photo.jpg?sz=128", "display_name": "Sumathi Gokul", "link": "https://stackoverflow.com/users/6081887/sumathi-gokul"}, "edited": false, "score": 0, "creation_date": 1461169664, "post_id": 36733486, "comment_id": 61080362, "body": "Yes. Remove the /b flag and try"}], "tags": [], "owner": {"reputation": 5143, "user_id": 5699852, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f945663f0c248f41c09a1db32f7816c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sharad", "link": "https://stackoverflow.com/users/5699852/sharad"}, "is_accepted": true, "score": 0, "last_activity_date": 1461124167, "creation_date": 1461124167, "answer_id": 36733486, "question_id": 36712045, "link": "https://stackoverflow.com/questions/36712045/how-to-run-multiple-scripts-in-sequence-using-command-prompt/36733486#36733486", "title": "How to run multiple scripts in sequence using command prompt", "body": "<p>Create a batch file (extension .bat) something like:</p>\n\n<pre><code>start /b tcl script1\nstart /b perl script1\nstart /b tcl script2\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 6081887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-wZD3YTSqC5Q/AAAAAAAAAAI/AAAAAAAAAIw/OYcItnJXZek/photo.jpg?sz=128", "display_name": "Sumathi Gokul", "link": "https://stackoverflow.com/users/6081887/sumathi-gokul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1255, "favorite_count": 0, "accepted_answer_id": 36733486, "answer_count": 2, "score": 0, "last_activity_date": 1461226276, "creation_date": 1461052608, "last_edit_date": 1461226276, "question_id": 36712045, "link": "https://stackoverflow.com/questions/36712045/how-to-run-multiple-scripts-in-sequence-using-command-prompt", "title": "How to run multiple scripts in sequence using command prompt", "body": "<p>I need to do some kind of modification in post-synthesis hardware description language (HDL) files of field-progammable gate array (FPGA) design. I am using Microsemi's <em>Libero</em> system on chip (SoC) tool for that design process. </p>\n\n<p>Totally, it has three different design processes such as</p>\n\n<ol>\n<li>Pre-modification process</li>\n<li>Modification process</li>\n<li>Post-modification process on HDL codes</li>\n</ol>\n\n<p>All three steps need to be performed in sequence using the Windows command line. I wrote a Tcl script for the first and third processes and a Perl script for the second process. In the first and third processes, some FPGA design tools for synthesis, simulation, place and route will be called through the command line. </p>\n\n<p>This is the overall idea of the work. My question is how can I run all three different scripts (Tcl, Perl and Tcl) in sequence using a single script (or any other file format) in command line?</p>\n\n<p><strong>Note</strong>: In few steps, it is required to get user data through STDIN. I am working in windows platform..</p>\n"}, {"tags": ["excel", "perl", "spreadsheet", "xlsx", "activeperl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461050309, "post_id": 36711099, "comment_id": 61009042, "body": "Have you tried <code>cpan Spreadsheet::XLSX</code>? By the way, the language is &quot;Perl&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 6702564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/073b9b88d89fbbb34d224eee156d4ff6?s=128&d=identicon&r=PG&f=1", "display_name": "grahams", "link": "https://stackoverflow.com/users/6702564/grahams"}, "is_accepted": false, "score": 0, "last_activity_date": 1471297965, "creation_date": 1471297965, "answer_id": 38963624, "question_id": 36711099, "link": "https://stackoverflow.com/questions/36711099/inability-to-install-spreadsheetparsexlsx-or-spreadsheetxlsx-using-ppm-with/38963624#38963624", "title": "Inability to install Spreadsheet::ParseXLSX or Spreadsheet::XLSX using ppm with ActivePerl v5.22.1", "body": "<p>The message:\nDownloading www.sisyphusion.tk.ppm packlist.\nshows that you are targeting the Sisyphusion PPM repository. That's a specialist repository with a limited selection of resources. </p>\n\n<p>The error:\nnot found ppm install failed: Can't find any package \nindicates that the repo you targeted does not contain a pre-compiled copy of the module for the version of Perl you are currently running.</p>\n\n<p>There are several general purpose repos that have more content available. In particular, the default repository prepared by ActiveState:\n<a href=\"http://code.activestate.com/ppm/Spreadsheet-ParseExcel/\" rel=\"nofollow\">http://code.activestate.com/ppm/Spreadsheet-ParseExcel/</a></p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 1965452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b812d89fb65fd87ccb6f56fb7d9746f5?s=128&d=identicon&r=PG", "display_name": "Daniel Cayouette", "link": "https://stackoverflow.com/users/1965452/daniel-cayouette"}, "is_accepted": false, "score": 0, "last_activity_date": 1472230917, "creation_date": 1472230917, "answer_id": 39171342, "question_id": 36711099, "link": "https://stackoverflow.com/questions/36711099/inability-to-install-spreadsheetparsexlsx-or-spreadsheetxlsx-using-ppm-with/39171342#39171342", "title": "Inability to install Spreadsheet::ParseXLSX or Spreadsheet::XLSX using ppm with ActivePerl v5.22.1", "body": "<p>The activestate ppm install documentation says that this module isn't supported in perl 5.22 on windows 32/64 (but it is supported in previous windows perl versions such as 5.20)</p>\n\n<p>see <a href=\"https://code.activestate.com/ppm/spreadsheet-XLSX/\" rel=\"nofollow\">https://code.activestate.com/ppm/spreadsheet-XLSX/</a> </p>\n"}], "owner": {"reputation": 1, "user_id": 6223304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4655a0a666af5feb5cd8fe2d219e12e?s=128&d=identicon&r=PG&f=1", "display_name": "Loren", "link": "https://stackoverflow.com/users/6223304/loren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2029, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1472230917, "creation_date": 1461050077, "question_id": 36711099, "link": "https://stackoverflow.com/questions/36711099/inability-to-install-spreadsheetparsexlsx-or-spreadsheetxlsx-using-ppm-with", "title": "Inability to install Spreadsheet::ParseXLSX or Spreadsheet::XLSX using ppm with ActivePerl v5.22.1", "body": "<p>I need to read .xlsx and .xlsm files from PERL scripts, but am having trouble installing an XLSX parser using ppm.  Am using ActivePerl version 5.22.1.  </p>\n\n<p>I have no problem installing and using Spreadsheet::ParseExcel (which only works on .xls files up to Excel 2003):</p>\n\n<p>ppm install spreadsheet-parseexcel\nDownloading www.sisyphusion.tk.ppm packlist...not found\nDownloading Spreadsheet-ParseExcel-0.65...done\nUnpacking Spreadsheet-ParseExcel-0.65...done\nGenerating HTML for Spreadsheet-ParseExcel-0.65...done\nUpdating files in site area...done\n  30 files installed</p>\n\n<p>But ppm install spreadsheet-parsexlsx gives:</p>\n\n<p>Downloading www.sisyphusion.tk.ppm packlist...not found\nppm install failed: Can't find any package that provides spreadsheet-parsexlsx</p>\n\n<p>and similar for spreadsheet-xlsx.</p>\n\n<p>I tried getting around the problem by using a lower-level package like Spreadsheet::Read; this worked fine on an Excel 2003 .xls file but gave an error message that no XLSX parser was installed when I tried it on a .xlsx file -- a spreadsheet parser with dependencies on ParseXLSX won't help.</p>\n\n<p>I've also spent about an hour searching the web for other instances of the same issue but have found no definite solution (maybe I just have not searched in the right way; I am relatively new to this).  I do not currently have a C compiler on my windows desktop or much experience with Makefiles and have never installed a PERL module except using ppm.  So if you have alternate installation instructions (not through ppm) please present them at a <em>very</em> basic level, not assuming that I know anything about CPAN or manual file installation.</p>\n\n<p>With this background, can anyone help me to install the Spreadsheet::ParseXLSX module or otherwise efficiently find a way to parse .xlsx files with PERL?</p>\n\n<p>Thanks very much for your help,\nLoren </p>\n"}, {"tags": ["perl", "sorting"], "answers": [{"comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1461075589, "post_id": 36709493, "comment_id": 61027110, "body": "Thanks, I was indeed looking at the wrong place. Your code gets me a compiler error because the sort prototype specifies only 2 arguments (and the code passes 3), but <code>is_deeply([sort Something::_sort $feb, $mar, $jan], [$jan, $feb, $mar]);</code> works."}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": true, "score": 6, "last_activity_date": 1461044441, "creation_date": 1461044441, "answer_id": 36709493, "question_id": 36707878, "link": "https://stackoverflow.com/questions/36707878/unit-test-for-perls-sort/36709493#36709493", "title": "unit test for Perl&#39;s sort", "body": "<p>Your problem isn't with the subroutine you pass to <code>sort()</code>, but in the arguments you pass to <code>is_deeply()</code>. The way you have written it parses like this, if we add some parentheses:</p>\n\n<pre><code>is_deeply(\n        sort(Something::_sort [$feb, $mar, $jan], [$jan, $feb, $mar] )\n    );\n</code></pre>\n\n<p>That is, you're telling <code>sort()</code> to act on a list consisting of two anonymous array references, and then <code>is_deeply()</code> to run with the single argument returned from <code>sort</code> (except it crashes before <code>is_deeply()</code> can try to run and complain that you gave it too few arguments to work with).</p>\n\n<p>This is probably closer to what you intended:</p>\n\n<pre><code>is_deeply(\n          [sort(Something::_sort ($feb, $mar, $jan))],\n          [$jan, $feb, $mar]);\n</code></pre>\n\n<p>That is, tell <code>is_deeply()</code> to compare two anonymous arrays, the first of which is made from telling <code>sort()</code> to apply your sorting routine to the list <code>($feb, $mar, $jan)</code>.</p>\n"}], "owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 36709493, "answer_count": 1, "score": 2, "last_activity_date": 1461044441, "creation_date": 1461035646, "question_id": 36707878, "link": "https://stackoverflow.com/questions/36707878/unit-test-for-perls-sort", "title": "unit test for Perl&#39;s sort", "body": "<p>I try to use a (class) method in an Object for sorting object instances.</p>\n\n<pre><code>package Something; \n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nsub new {  \n    my ($class, $date) = @_;\n    my $self = bless{}, $class;\n    $self-&gt;{date} = $date; \n    return $self;\n}\n\nsub _sort($$) {\n    print STDERR Dumper($_[0], $_[1]);\n    $_[0]-&gt;{date} cmp $_[1]-&gt;{date};\n}\n\npackage SomethingTest;\n\nuse base 'Test::Class';\nuse Test::More;\n\n__PACKAGE__-&gt;runtests() unless caller;\n\nsub sorting : Test {\n    my $jan = Something-&gt;new(\"2016-01-01\");\n    my $feb = Something-&gt;new(\"2016-02-01\");\n    my $mar = Something-&gt;new(\"2016-03-01\");\n\n    is_deeply(\n        sort Something::_sort [$feb, $mar, $jan], \n        [$jan, $feb, $mar]);\n}\n</code></pre>\n\n<p>I've seen this snippet in <code>perldoc -f sort</code>, hence the prototype for <code>_sort</code>.</p>\n\n<pre><code># using a prototype allows you to use any comparison subroutine\n# as a sort subroutine (including other package's subroutines)\npackage other;\nsub backwards ($$) { $_[1] cmp $_[0]; }  # $a and $b are\n                                         # not set here\npackage main;\n@new = sort other::backwards @old;\n</code></pre>\n\n<p>However, the dumped arguments look odd:</p>\n\n<pre><code>$VAR1 = [\n      bless( {\n               'date' =&gt; '2016-02-01'\n             }, 'Something' ),\n      bless( {\n               'date' =&gt; '2016-03-01'\n             }, 'Something' ),\n      bless( {\n               'date' =&gt; '2016-01-01'\n             }, 'Something' )\n    ];\n$VAR2 = [\n      $VAR1-&gt;[2],\n      $VAR1-&gt;[0],\n      $VAR1-&gt;[1]\n    ];\n</code></pre>\n\n<p>and the test fails with</p>\n\n<pre><code>#   Failed test 'sorting died (Not a HASH reference at sort.t line 16.)'\n#   at sort.t line 25.\n</code></pre>\n\n<p>Is this just my test setup or can't I have the same objects in these arrays?\nWhat else am I missing?</p>\n"}, {"tags": ["perl", "breadth-first-search"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1461035022, "post_id": 36707646, "comment_id": 61003178, "body": "What does your source data look like?  What would be a typical invocation of your script?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1461035354, "post_id": 36707646, "comment_id": 61003260, "body": "I try it with source &quot;word&quot; and target &quot;wore&quot; and it doesn&#39;t seem to find the shortest path...or the actual target; I get &quot;Path the BFS took: word cord ford lord ward wood&quot;"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1461035555, "post_id": 36707646, "comment_id": 61003310, "body": "Doublets puzzle: <a href=\"https://en.wikipedia.org/wiki/Word_ladder\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Word_ladder</a>"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1461036010, "post_id": 36707646, "comment_id": 61003417, "body": "Could you update your question with an example failure?  Is it not printing the path taken at all?  Or, not a correct path?  Or, not the shortest path?"}], "answers": [{"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 0, "last_activity_date": 1461042034, "last_edit_date": 1461042034, "creation_date": 1461036967, "answer_id": 36708085, "question_id": 36707646, "link": "https://stackoverflow.com/questions/36707646/printing-the-search-path-taken-to-find-item-during-bfs/36708085#36708085", "title": "Printing the search path taken to find item during BFS", "body": "<p>Before you accept a word from the <code>@queue</code> to be <code>$next</code>, you test to ensure that it's not been <code>%visited</code>.  By then, though, damage has been done.  The test has ensured a visited word wont become the focus again and hence, will prevent loops but the earlier code updated <code>%parents</code> whether the word had been <code>%visited</code> or not.</p>\n\n<p>If a word has been <code>%visited</code>, you not only want to avoid it becomming the <code>$next</code> candidate, you want to avoid it being a considered <code>$variation</code> as that will screw up <code>%parents</code>.  I don't have a word dictionary to test with and you haven't given an example of the failure but I think you can fix this up by shifting the <code>%visited</code> guard into the inner loop where variations are considered;</p>\n\n<pre><code>foreach my $variation (@{$wordHash{$next}}) {\n    next if %visited{ $variation } ;\n    push(@queue, \"$variation\"); \n    ... etc ...\n</code></pre>\n\n<p>This will protect the integrity of your <code>@parents</code> array as well as stop loops.  On a small note, you don't need use double quotes when indexing into a hash; as I've done above, just state the scalar variable - using quotes just interpolates the value of the variable which produces the same result.</p>\n\n<p>Your code, IMHO, is excellent for a beginner, BTW.</p>\n\n<h2>Update</h2>\n\n<p>I've since got a word dictionary and the problem above does exists as well as one other.  The code does move one letter at a time from the source but in a near random direction - not necessarily closer to the target.  To correct that, I changed the regex you use to build your graph such that the corresponding letter from the target replaces the generic <code>[a-z]</code>.  There are also a couple of minor changes - mostly style related.  The updated code looks like this;</p>\n\n<pre><code>use v5.12;\n\nmy $file = 'wordlist.txt';\n#my $file = 'wordlist';\nopen(my $fh, $file);\nmy $len = length($ARGV[0]);\nmy $source = $ARGV[0];\nmy $target = $ARGV[1];\nchomp $target;\nmy @target = split('', $target);\nmy @words;\n\n# Creates new array of correct length words\nwhile (my $row = &lt;$fh&gt;) {\n    $row =~ s/[\\r\\n]+$//;\n    my $rowlen = length($row);\n    if ($rowlen == $len) {\n        push @words, $row;\n    }\n}\n\nmy %wordHash;\n\n# Creates graph for word variations using dictionary\nforeach my $word (@words) {\n    my $wordArr = [];\n    for (my $i = 0; $i &lt; $len; $i++) {\n\n        my $begin = substr($word, 0, $i);\n        my $end = substr($word, $i+1, $len);\n        my $key = \"$begin\" . \"_\" . \"$end\";\n        my $Arr = [];\n\n        # my $re_str = \"$begin[a-z]$end\";\n        my $regex = $begin . $target[$i] . $end ;\n        foreach my $wordTest (@words) {\n            if ($wordTest =~ / ^ $regex $ /x ) {\n                next if $wordTest eq $word ;\n                push $wordArr, \"$wordTest\";\n            }\n        }\n    }\n\n    $wordHash{\"$word\"} = $wordArr;\n}\n\nmy @queue;\npush(@queue, \"$source\");\nmy $next = $source;\nmy %visited;\nmy %parents;\nmy @path;\n\n# Finds path using BFS and Queue\nwhile ($next ne $target) {\n\n    print \"$next: \";\n    $visited{$next} = 1;\n    foreach my $variation (@{$wordHash{$next}}) {\n        next if $visited{ $variation } ;\n        push(@queue, $variation);\n        $parents{$variation} = $next;\n        print \"$variation | \";\n    }\n\n    print \"\\n-----------------\\n\";\n\n    push(@path, $next);\n\n    while ( $visited{$next} )  {\n      $next = shift @queue ;\n    }\n}\npush @path, $target ;\n\nprint \"FOUND: $next\\n\\n\";\n\nprint \"Path the BFS took: @path\\n\\n\";\n\nprint \"Value -&gt; Parent: \\n\";\n\nfor my $key (keys %parents) {\n   print \"$key -&gt; $parents{$key}\\n\";\n}\n</code></pre>\n\n<p>and when ran produces;</p>\n\n<pre><code>./words.pl head tail | more\nhead: heal |\n-----------------\nheal: teal | heil |\n-----------------\nteal:\n-----------------\nheil: hail |\n-----------------\nhail: tail |\n-----------------\nFOUND: tail\n\nPath the BFS took: head heal teal heil hail tail\n\nValue -&gt; Parent:\nhail -&gt; heil\nheil -&gt; heal\nteal -&gt; heal\ntail -&gt; hail\nheal -&gt; head\n</code></pre>\n\n<p>You could probably remove the printing of the %parents hash - as hash values come out randomly, it doesnt tell you much</p>\n"}], "owner": {"reputation": 142, "user_id": 3422038, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/3hvva.jpg?s=128&g=1", "display_name": "Michael Arciola", "link": "https://stackoverflow.com/users/3422038/michael-arciola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1461042034, "creation_date": 1461034078, "question_id": 36707646, "link": "https://stackoverflow.com/questions/36707646/printing-the-search-path-taken-to-find-item-during-bfs", "title": "Printing the search path taken to find item during BFS", "body": "<p>I am trying to solve the doublets puzzle problem using Perl. This is one of my first times using Perl so please excuse the messy code.</p>\n\n<p>I have everything working, I believe, but am having an issue printing the shortest path. Using a queue and BFS I am able to find the target word but not the actual path taken.</p>\n\n<p>Does anyone have any suggestions? I have been told to keep track of the parents of each element but it is not working.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nmy $file = 'test';\n#my $file = 'wordlist';\nopen(my $fh, $file);\nmy $len = length($ARGV[0]);\nmy $source = $ARGV[0];\nmy $target = $ARGV[1];\nmy @words;\n\n# Creates new array of correct length words\nwhile (my $row = &lt;$fh&gt;) {\n    chomp $row;\n    my $rowlen = length($row);\n    if ($rowlen == $len) {    \n        push @words, $row;\n    }\n}\n\nmy %wordHash;\n\n# Creates graph for word variations using dictionary\nforeach my $word (@words) {\n    my $wordArr = [];\n    for (my $i = 0; $i &lt; $len; $i++) {\n\n        my $begin = substr($word, 0, $i);\n        my $end = substr($word, $i+1, $len);\n        my $key = \"$begin\" . \"_\" . \"$end\";\n        my $Arr = [];\n\n        my $regex = \"$begin\" . \"[a-z]\" . \"$end\";\n        foreach my $wordTest (@words) {\n            if (\"$wordTest\" =~ $regex &amp;&amp; \"$wordTest\" ne \"$word\") {\n                push $wordArr, \"$wordTest\";\n            }\n        }\n    }\n\n    $wordHash{\"$word\"} = $wordArr;\n}\n\nmy @queue;\npush(@queue, \"$source\");\nmy $next = $source;\nmy %visited;\nmy %parents;\nmy @path;\n\n# Finds path using BFS and Queue\nwhile (\"$next\" ne \"$target\") {\n\n    print \"$next: \";\n    foreach my $variation (@{$wordHash{$next}}) {\n        push(@queue, \"$variation\"); \n        $parents{\"$variation\"} = $next;\n        print \"$variation | \";\n    }\n\n    print \"\\n-----------------\\n\";\n\n    $visited{\"$next\"} = 1;\n    push(@path, \"$next\");\n\n    $next = shift(@queue);\n\n    while ($visited{\"$next\"} == 1) {\n        $next = shift(@queue);   \n    }\n\n}\n\nprint \"FOUND: $next\\n\\n\";\n\nprint \"Path the BFS took: \";\nprint \"@path\\n\\n\";\n\nprint \"Value -&gt; Parent: \\n\";\n\nfor my $key (keys %parents) {\n   print \"$key -&gt; $parents{$key}\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "sockets", "proxy"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1461042437, "post_id": 36707072, "comment_id": 61005245, "body": "This is a mostly undocumented and badly formatted code dump. And it is incomplete so that it is impossible to use  it to reproduce your problem. If you expect help I would recommend to fix this. See [How to create a Minimal, Complete, and Verifiable example](<a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> )on how to do it better."}], "owner": {"reputation": 11, "user_id": 6222427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e408d08191d20cceda5251dc3bf07b3a?s=128&d=identicon&r=PG&f=1", "display_name": "sacreligious222", "link": "https://stackoverflow.com/users/6222427/sacreligious222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1461188615, "creation_date": 1461030251, "last_edit_date": 1461188615, "question_id": 36707072, "link": "https://stackoverflow.com/questions/36707072/why-is-iosocketsocks-unreliable-when-creating-a-proxy-chain", "title": "Why is IO::Socket::Socks unreliable when creating a proxy chain?", "body": "<p>I want to use this module to create a connection using multiple SOCKS proxies, but the module I am using is very unreliable and slow compared to using an external solution such as proxychains. After successfully connecting through the chain of proxies, the while loop begins sending the data through the proxy chain. However, the program crashes with the error: \"Out of memory\". Does anyone have advice on how to fix the code? Any help would be appreciated. </p>\n\n<pre><code>while ($sock) {\n\n$sock-&gt;syswrite (\n\"GET / HTTP/1.1\\r\\n\"\n);\n\n}\n</code></pre>\n\n<p>When I look at the Wireshark capture, the initial request is sent without any problems but following requests have duplicate http requests in each packet. See: <a href=\"http://prntscr.com/aue3vu\" rel=\"nofollow\">Wireshark capture</a></p>\n\n<p>Edit: I tried using IO::Async, but the requests aren't sent.</p>\n\n<pre><code>my $loop = IO::Async::Loop-&gt;new;\nmy $handle = IO::Async::Handle-&gt;new(\nwrite_handle =&gt; $sock, \non_write_ready  =&gt; sub {\n\nmy $request = \"GET / HTTP/1.1\\r\\n\"\nprint $sock $request;\n\n    }\n);\n\n$loop-&gt;add( $handle );\n$loop-&gt;loop_forever;\n</code></pre>\n\n<p>Edit: I was able to fix the script by establishing a new chain for each request I send. Is it possible to send a CONNECT request through the socks chain to establish a new connection each time I send a http request?</p>\n"}, {"tags": ["perl", "kramdown"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1461035392, "post_id": 36701912, "comment_id": 61003269, "body": "Have a look at <a href=\"http://search.cpan.org/~petek/HTML-Tree-3.23/lib/HTML/TreeBuilder.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~petek/HTML-Tree-3.23/lib/HTML/TreeBuilder.p&zwnj;&#8203;m</a>"}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 0, "last_activity_date": 1461263171, "last_edit_date": 1461263171, "creation_date": 1461194787, "answer_id": 36756979, "question_id": 36701912, "link": "https://stackoverflow.com/questions/36701912/convert-html-ordered-and-unordered-lists-to-kramdown/36756979#36756979", "title": "Convert HTML ordered and unordered lists to kramdown", "body": "<p>Generally, you shouldn't use regular expressions to parse HTML. Instead, you should use an HTML parser like <a href=\"https://metacpan.org/pod/Mojo::DOM\" rel=\"nofollow\">Mojo::DOM</a>:</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Mojo::DOM;\n\n# Add the appropriate kramdown list marker to a Mojo::DOM node representing a\n# single &lt;li&gt;, depending on whether it's in an &lt;ol&gt; or &lt;ul&gt;\nsub add_list_marker {\n    my ($node, $i) = @_;\n\n    my $marker = $node-&gt;parent-&gt;tag eq 'ol' ? \"$i. \" : '- ';\n    $node-&gt;prepend_content($marker);\n}\n\n# Convert a Mojo::DOM node representing an &lt;ol&gt; or &lt;ul&gt; to the corresponding\n# kramdown\nsub list_to_kramdown {\n    my ($node) = @_;\n\n    my $items = $node-&gt;children('li')-&gt;each(\\&amp;add_list_marker);\n    my $text = $items-&gt;map('text')-&gt;join(\"\\n\");\n\n    $node-&gt;replace(\"\\n$text\\n\");\n}\n\nmy $html = do {\n    local $/;\n    &lt;DATA&gt;\n};\n\nmy $dom = Mojo::DOM-&gt;new($html);\n$dom-&gt;find('ol, ul')-&gt;each(\\&amp;list_to_kramdown);\nprint $dom-&gt;to_string;\n\n__DATA__\n&lt;h1&gt;Leave surrounding HTML&lt;/h1&gt;\n&lt;div id=\"including_enclosing_tags\"&gt;\n  &lt;ol&gt;\n    &lt;li&gt;foo&lt;/li&gt;\n    &lt;li&gt;bar&lt;/li&gt;&lt;li&gt;baz&lt;/li&gt;\n    &lt;li&gt;qux&lt;/li&gt;\n  &lt;/ol&gt;\n  &lt;ul&gt;\n    &lt;li class=\"fruit\"&gt;apple&lt;/li&gt;\n    &lt;li&gt;pear&lt;/li&gt;\n    &lt;li&gt;banana&lt;/li&gt;\n    &lt;li&gt;pine\n        apple&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;h1&gt;Leave surrounding HTML&lt;/h1&gt;\n&lt;div id=\"including_enclosing_tags\"&gt;\n\n1. foo\n2. bar\n3. baz\n4. qux\n\n\n- apple\n- pear\n- banana\n- pine apple\n\n&lt;/div&gt;\n</code></pre>\n\n<p>This is better than a regex because it can easily handle:</p>\n\n<ul>\n<li>multiple <code>&lt;li&gt;</code> elements on the same line</li>\n<li><code>&lt;li&gt;</code> elements that span more than one line</li>\n<li>elements with attributes</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 6257889, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/cff39e53f53bee0f034db5179582013c?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6257889/thomas"}, "is_accepted": false, "score": 2, "last_activity_date": 1461694118, "creation_date": 1461694118, "answer_id": 36872607, "question_id": 36701912, "link": "https://stackoverflow.com/questions/36701912/convert-html-ordered-and-unordered-lists-to-kramdown/36872607#36872607", "title": "Convert HTML ordered and unordered lists to kramdown", "body": "<p>The easiest way would be to use kramdown itself since it can parse HTML and emit a kramdown document.</p>\n\n<p>With the kramdown binary just use <code>kramdown -i html -o kramdown INPUT.HTML</code>.</p>\n"}], "owner": {"reputation": 1033, "user_id": 1147171, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5bba64a7fa6ea29fcfbb1ce7a6a039?s=128&d=identicon&r=PG", "display_name": "user1147171", "link": "https://stackoverflow.com/users/1147171/user1147171"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1461694118, "creation_date": 1461005053, "last_edit_date": 1461030615, "question_id": 36701912, "link": "https://stackoverflow.com/questions/36701912/convert-html-ordered-and-unordered-lists-to-kramdown", "title": "Convert HTML ordered and unordered lists to kramdown", "body": "<p>Is it possible to use a Perl script to convert HTML ordered and unordered lists to <a href=\"http://kramdown.gettalong.org/\" rel=\"nofollow\"><em>kramdown</em></a>, if the file may contain multiple lists of both kinds, as well as other HTML code?</p>\n\n<p>To illustrate the intention, something like the following could work if there is only one ordered list and no other lists:</p>\n\n<pre><code>$content =~ s!&lt;\\/ol&gt;!!gis;\n$content =~ s!&lt;ol&gt;!!gis;\n$content =~ s!&lt;\\/li&gt;!!gis;\n$content =~ s!&lt;li&gt;!1. !gis;\n</code></pre>\n\n<p>Or this could work if there is only one unordered list and no other lists:</p>\n\n<pre><code>$content =~ s!&lt;\\/ol&gt;!!gis;\n$content =~ s!&lt;ol&gt;!!gis;\n$content =~ s!&lt;\\/li&gt;!!gis;\n$content =~ s!&lt;li&gt;!- !gis;\n</code></pre>\n\n<p>Is it possible to find each list in the HTML document, for example, and pass it to a subroutine which would determine the type of list, convert it appropriately and return it?</p>\n"}, {"tags": ["perl", "template-toolkit"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1461004720, "post_id": 36701562, "comment_id": 60991231, "body": "You can supply a subroutine reference as the 3rd argument to <code>process()</code> and the generated output will be passed as a parameter; you could then write the output and parse it at the same time, without having to read the file again. That still seems pretty roundabout, though."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1461005751, "post_id": 36701562, "comment_id": 60991881, "body": "Why are you using TT to generate a list of names? That seems like something better done in Perl; TT is very flexible, but beware of trying to do too much with a templating engine."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461006330, "post_id": 36701562, "comment_id": 60992279, "body": "It sounds very much like whatever you have written for Template Toolkit in <code>names.tt</code> should be written in Perl. Perl can do everything that TT can do and a lot more besides. It&#39;s looks like the template takes no parameters, and so just creates names by combining literal strings; is that right?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461007324, "post_id": 36701562, "comment_id": 60992927, "body": "Your additional notes only convince me further that this should be written in Perl instead of TT markup. How did the data get to be in a TT template file in the first place? Is there anything else in the template file apart from the hash that you show? Does it have to be in a template file for the purposes of any other process?"}, {"owner": {"reputation": 11, "user_id": 6221145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f976f427f6b2f63897466aeb07f814cf?s=128&d=identicon&r=PG&f=1", "display_name": "verteron", "link": "https://stackoverflow.com/users/6221145/verteron"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1461007489, "post_id": 36701562, "comment_id": 60993016, "body": "@ThisSuitIsBlackNot - thanks for your response(s).   I&#39;ll answer yours in the order presented.   1.) Thank you ... however I must ask, which is more roundabout ... my original (current fix) or your idea?  Somehow I think mine is worse :D  2.) Because said names themselves are stored in a TT-hosted object (see my later response to ikegami) ...  I do however take your comment seriously (&quot;beware of trying to do too much with a templating engine&quot;) ... its possible, one day, we could store the said objects in something else (DB?) ... there are pros/cons to that, but it has come up before.  Thanks!"}, {"owner": {"reputation": 11, "user_id": 6221145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f976f427f6b2f63897466aeb07f814cf?s=128&d=identicon&r=PG&f=1", "display_name": "verteron", "link": "https://stackoverflow.com/users/6221145/verteron"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461008004, "post_id": 36701562, "comment_id": 60993339, "body": "@Borodin, thanks for responding -- this was just how it initially started.  On one hand, yes we might have stored this data in a DB (or similar), but we wanted to keep as few distinct components involved, at least for this Proof-of-Concept.  That doesn&#39;t mean I am not <b>open</b> to such an idea in the near future. ;-).  To answer your second question, nothing else exists in these &quot;data templates&quot; containing the hash.  No subs, etc, just a plaintext hash/array obj :).  Lastly, your third question, &quot;does it have to be in a template file?&quot; No, and am open to other input &quot;mediums&quot;. Thanks o/"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1461008582, "post_id": 36701562, "comment_id": 60993640, "body": "@verteron: So perhaps there are other TT template files that use <code>INCLUDE</code> to get the information from <code>names.tt</code> and other files? It sounds to me as though you should be using a <a href=\"https://en.wikipedia.org/wiki/JSON\" rel=\"nofollow noreferrer\"><i>JSON</i></a> file to store information like this. It stands for <i>JavaScript Object Notation</i>, and while it originated as the format for data literals in the JavaScript language, it has become a useful format for transferring data between languages. There are Perl, Python and Ruby libraries for reading it and you should look a the <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\"><code>JSON</code></a> Perl module"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461008685, "post_id": 36701562, "comment_id": 60993691, "body": "@verteron: That means that any TT templates that need the data must have it passed to them in the call to <code>process</code> instead of being able to <code>INCLUDE</code> it directly, but I&#39;m still unclear whether you ever do that anyway"}, {"owner": {"reputation": 11, "user_id": 6221145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f976f427f6b2f63897466aeb07f814cf?s=128&d=identicon&r=PG&f=1", "display_name": "verteron", "link": "https://stackoverflow.com/users/6221145/verteron"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461009201, "post_id": 36701562, "comment_id": 60993969, "body": "Thank you @Borodin.  Ironically, JSON is one of the formats we optionally <b>output</b> downstream :).   I had not, however, considered using JSON as an <b>input</b> medium.  Thanks for this nifty idea."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1461009661, "post_id": 36701562, "comment_id": 60994215, "body": "It&#39;s not a good idea to store your raw data in a template. One of the biggest benefits of templates is that they allow you to separate display logic from business logic. By embedding all of your data in a template, you&#39;re forcing yourself to write complicated business logic to parse the results of your display logic, just to get at your raw data! You&#39;re also tying yourself to a single tool (TT) and a single language (Perl); you should use a common data serialization format like XML, YAML, or JSON (personally, I prefer JSON)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1461009757, "post_id": 36701562, "comment_id": 60994271, "body": "@verteron: Regarding your comment beneath your &quot;answer&quot; below, I wasn&#39;t suggesting that you should post it as a comment. There is an <b><i>edit</i></b> link beneath your question that also linked to in my comment. Any significant additional information that isn&#39;t just an answer to a comment should be added by editing your question. Anything posted as an <i>Answer</i> on Stack Exchange must be a solution to the original problem."}, {"owner": {"reputation": 11, "user_id": 6221145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f976f427f6b2f63897466aeb07f814cf?s=128&d=identicon&r=PG&f=1", "display_name": "verteron", "link": "https://stackoverflow.com/users/6221145/verteron"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1461011934, "post_id": 36701562, "comment_id": 60995583, "body": "@Borodin, thanks and sorry for the inconvenience."}, {"owner": {"reputation": 11, "user_id": 6221145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f976f427f6b2f63897466aeb07f814cf?s=128&d=identicon&r=PG&f=1", "display_name": "verteron", "link": "https://stackoverflow.com/users/6221145/verteron"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1461012078, "post_id": 36701562, "comment_id": 60995668, "body": "&quot;It&#39;s not a good idea to store your raw data in a template&quot;  @ThisSuitIsBlackNot - thanks.  I am starting to see that is a common opinion held by many involved.  Though to be fair this is still what I would call Proof-of-Concept, and I must say its value was far greater than was initially thought (won&#39;t bore you with the details).  That said, its totally worth re-working and I am starting to see the value in doing so.  I consider this thread to have been most helpful and I believe I have what I need.  Thanks all !"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467569460, "last_edit_date": 1467569460, "creation_date": 1461014062, "answer_id": 36704394, "question_id": 36701562, "link": "https://stackoverflow.com/questions/36701562/perl-template-toolkit-preprocess-templates-back-into-perl-script/36704394#36704394", "title": "Perl Template Toolkit - Preprocess templates back into Perl script", "body": "<p>For the sake of having a solution to accept, I thought I'd show some code that uses the <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow\"><code>JSON</code></a> module to load some data from a disk file</p>\n\n<p>Suppose my file <code>data.json</code> contains this (taken from your own sample data)</p>\n\n<h3>servers.json</h3>\n\n\n\n<pre><code>[\n  {\n    \"NAME\"   : \"Server1\",\n    \"SERIAL\" : \"1234567890\",\n    \"DESC\"   : \"A file server\"\n  },\n  {\n    \"NAME\"   : \"Server2\",\n    \"SERIAL\" : \"0987654321\",\n    \"DESC\"   : \"An account server\"\n  }\n]\n</code></pre>\n\n<p>Then I can write this Perl code to open and read the data into a Perl array of hashes, like this</p>\n\n<h3>servers.pl</h3>\n\n\n\n<pre><code>use strict;\nuse warnings 'all';\nuse v5.10.1;\nuse autodie;\n\nuse JSON;\n\nuse constant JSON_FILE =&gt; 'servers.json';\n\nmy $servers = do {\n    open my $fh, '&lt;:raw', JSON_FILE;\n    local $/;\n    decode_json &lt;$fh&gt;;\n};\n\nuse Data::Dump;\n\ndd $servers;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-perl prettyprint-override\"><code>[\n  { DESC =&gt; \"A file server\", NAME =&gt; \"Server1\", SERIAL =&gt; 1234567890 },\n  { DESC =&gt; \"An account server\", NAME =&gt; \"Server2\", SERIAL =&gt; \"0987654321\" },\n]\n</code></pre>\n\n<p>Note that I've used the <a href=\"https://metacpan.org/pod/autodie\" rel=\"nofollow\"><code>autodie</code></a> pragma to avoid having to manually check the status of the <code>open</code> call. <code>autodie</code> was first made a core module in Perl version 5.10.1 so I've required that as well</p>\n\n<p>The <code>decode_json</code> call accepts only a <em>string</em> in JSON format, so I've used a <code>do</code> block to open and read the file and decode the contents, discarding all the temporary values like the file handle and the JSON string</p>\n\n<p><a href=\"https://metacpan.org/pod/Data::Dump\" rel=\"nofollow\"><code>Data::Dump</code></a> is there only to show the form of the data structure read in</p>\n\n<p>JavaScript data (JSON) is very like the equivalent Perl, except for the following</p>\n\n<ul>\n<li>Perl's <code>=&gt;</code> is replaced with <code>:</code></li>\n<li>Only double-quotes are allowed, no single quotes</li>\n<li>Hash keys, as well as string values, must be enclosed in quotes</li>\n<li>The last item of a list may not have a trailing comma</li>\n</ul>\n\n<p>But there is no need to put quotes around a numeric literal value. It works the same as Perl, so that if you wish to retain a numeric string that has a leading zero then you will need to use quotes, otherwise the bare number is fine</p>\n\n<p>I trust the reverse process\u2014writing a JSON file\u2014is obvious. A reference to a Perl data structure should be passed to <code>encode_json</code> to create a JSON string, which is then written to a file in the normal way</p>\n\n<p>If you are desperate for some more speed in the encoding and decoding then there is a <a href=\"https://metacpan.org/pod/JSON::XS\" rel=\"nofollow\"><code>JSON::XS</code></a> module which is partially written in C and so is much faster, however either JSON module will be very much faster than anything you chould set up with Template Toolkit. The XS variant is a drop-in replacement for the pure Perl version with regard to <code>encode_json</code> and <code>decode_json</code></p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 6221145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f976f427f6b2f63897466aeb07f814cf?s=128&d=identicon&r=PG&f=1", "display_name": "verteron", "link": "https://stackoverflow.com/users/6221145/verteron"}, "edited": false, "score": 0, "creation_date": 1461038181, "post_id": 36704947, "comment_id": 61003965, "body": "Hi again. I can clear up a couple things. 1st remember this is merely stage1: gather a list of names by which to create files.  when stage2 begins, we absolutely leverage the power of TT I promise you :).  The templates are very sophisticated, serve many purposes, and work wonderfully.  2nd, I know it seems strange but there is a good (long) answer as to why my obj is structured that way.  BUT, I will point out that due to this, and other unrelated issues, it seems we may be going with another backend altogether, e.g:     SQLITE &lt;--in-- script.pl --out--&gt; OUTPUT ... thanks!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1461017019, "last_edit_date": 1461017019, "creation_date": 1461016333, "answer_id": 36704947, "question_id": 36701562, "link": "https://stackoverflow.com/questions/36701562/perl-template-toolkit-preprocess-templates-back-into-perl-script/36704947#36704947", "title": "Perl Template Toolkit - Preprocess templates back into Perl script", "body": "<p>TT produces text. But if TT were to produce a text representation of a hash, it could be easy to produce a hash from it.</p>\n\n<p>Template:</p>\n\n<pre><code>[%- USE Template.Plugin.JSON -%]\n[%- SERVERS = [ ... ] -%]\n[%- SERVERS.json -%]\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>use JSON qw( from_json );\n\n$template-&gt;process('template.tt', {}, \\my $json)\n   or die(...);\n\nmy $servers = from_json($json);\n</code></pre>\n\n<p>I used JSON, but any other means of serializing and deserializing the data structure would do as well.</p>\n\n<hr>\n\n<p>That said, I'm completely clueless as to why you'd want to do this. You can't even take advantage of TT features that way! </p>\n\n<p>If the point was to take advantage of TT features to vary the data structure, then making the template itself JSON would make far more sense. For example,</p>\n\n<pre><code>[\n   [% IF devel %]\n      {\n         \"entry\": {\n            \"NAME\":   \"Server1-devel\",\n            \"SERIAL\": \"1234567890\",\n            \"DESC\":   \"Development server\"\n         }\n      },\n   [% ELSE %]\n      {\n         \"entry\": {\n            \"NAME\":   \"Server1-prod\",\n            \"SERIAL\": \"1234567891\",\n            \"DESC\":   \"Production server\"\n         }\n      },\n   [% END %]\n   ...\n]\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>use JSON qw( from_json );\n\nmy %vars = (\n   devel =&gt; ...,\n);\n\n$template-&gt;process('template.tt', \\%vars, \\my $json)\n   or die(...);\n\nmy $servers = from_json($json);\n</code></pre>\n\n<hr>\n\n<p>By the way, if you have a hash with a single constant key, you're doing something wrong.</p>\n\n<pre><code>[\n   { entry =&gt; { NAME =&gt; \"Server1\", SERIAL =&gt; 1234567890, DESC =&gt; \"A file server\" } },\n   { entry =&gt; { NAME =&gt; \"Server2\", SERIAL =&gt; \"0987654321\", DESC =&gt; \"An account server\" } },\n]\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>[\n   { NAME =&gt; \"Server1\", SERIAL =&gt; 1234567890, DESC =&gt; \"A file server\" },\n   { NAME =&gt; \"Server2\", SERIAL =&gt; \"0987654321\", DESC =&gt; \"An account server\" },\n]\n</code></pre>\n\n<p>or</p>\n\n<pre><code>{\n   \"Server1\" =&gt; { SERIAL =&gt; 1234567890, DESC =&gt; \"A file server\" },\n   \"Server2\" =&gt; { SERIAL =&gt; \"0987654321\", DESC =&gt; \"An account server\" },\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6221145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f976f427f6b2f63897466aeb07f814cf?s=128&d=identicon&r=PG&f=1", "display_name": "verteron", "link": "https://stackoverflow.com/users/6221145/verteron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 646, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1467569460, "creation_date": 1461003761, "last_edit_date": 1461009354, "question_id": 36701562, "link": "https://stackoverflow.com/questions/36701562/perl-template-toolkit-preprocess-templates-back-into-perl-script", "title": "Perl Template Toolkit - Preprocess templates back into Perl script", "body": "<p>Forgive me if this question has already been asked and/or answered elsewhere.</p>\n\n<p>Before I begin, I should point out that the nature of this inquiry may not require code to be added to this thread, rather the answer could simply be a link to the Template Toolkit module documentation with the comment \"READ IT AGAIN\" :).   To be even more clear, I would settle for a terse YES or NO answer.</p>\n\n<p>Let's say I have a working perl script which processes Template::Toolkit templates without issue.  </p>\n\n<p>But, one of my templates contains \"names\" (person names, server names, in the end it really doesn't matter: just \"names\").  These names are used to create FILENAMES containing processed data later on.</p>\n\n<p>Today, I have this working via the following pseudo-code:</p>\n\n<pre><code>$template-&gt;process('names.tt','output.txt');\n</code></pre>\n\n<p>I then take the generated list of \"names\" within \"output.txt\" and I push them into an array within the same executing Perl script.  This list is then used in an iterative fashion to output data specified in another template, and name each resultant file based on the original \"name\":</p>\n\n<pre><code>foreach(@names){\n   my $filename = $_ . '.txt';\n   $template-&gt;process('profile_doc.tt',$filename)\n}\n</code></pre>\n\n<p>As I said, this all works fine (perfect, in fact).  My issue is that it bloats my code needlessly (got to manage open FHs, etc).  There has GOT to be a better way, given TT's extraordinary powers.</p>\n\n<p>So I began reading about the included-modules of Template::Toolkit (e.g: STASH, PROVIDER, etc).  I understand STASH, for example, allows you to inject data into an existing template module object in a supplemental fashion, however this is the <em>polar opposite</em> of what I want to do.</p>\n\n<p>My actual question (again, <strong>YES</strong> or <strong>NO</strong> would be just fine as answers in terms of whether or not this is possible):</p>\n\n<p>Is it possible for a Perl script to read a template, say one that contains a <em>Template-Toolkit-stored HASH object</em>, and create a new HASH  that is <em>usable</em> by the actual Perl script (e.g: outside the template)?</p>\n\n<p>If this were possible, it would negate the need to extract data in a convoluted fashion from one template and use that data to process the other template. Rather I could theoretically do the following without needing to manually populate a list which needs to be written to disk and then read again via FH.</p>\n\n<pre><code>foreach(sort keys $derivedhash{obj}){\n   $filename = $_-&gt;{name} . '.txt';\n   $template-&gt;process('profile_doc.tt',$_-&gt;{name});\n}\n</code></pre>\n\n<p>Thank you, please understand I have done my best to create a usable pseudo-model as the real code involves confidential elements and, sadly, precludes disclosure.  I hope you'll understand.  I can provide other \"scrubbed abstractions/examples\" as needed.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>In response to User ikegami:</p>\n\n<p>First, thanks for responding.</p>\n\n<p>OK, lets start with one of your comments:   \" ... which makes no sense since TT doesn't store hashes\" ...  Hmm.... Unless we're talking two separate things, this is incorrect as I am doing it today..  for example, here is a Template-hosted object that contains elements of the initial hash of which I spoke:</p>\n\n<pre><code>[%- SERVERS = [\n      {entry={\n              NAME =&gt; 'Server1'\n              SERIAL =&gt; '1234567890'\n              DESC =&gt; 'A file server'\n      }}\n      {entry={\n              NAME =&gt; 'Server2'\n              SERIAL =&gt; '0987654321'\n              DESC =&gt; 'An account server'\n      }}\n]-%]\n</code></pre>\n\n<p>Once again, the above IS working, and it DOES exist in TT ...........  and unless I am mistaken, the above certainly looks, feels and tastes like a hash .... I grant you, however, that it is enclosed in an array ... so perhaps it is not a 100% Grade-A \"Pure HASH object\", but I certainly DO leverage it like a hash (and quite nicely, too). </p>\n\n<p>Before you say anything, I already recognize I'll most likely need to update the <strong>key</strong> names to be UNIQUE for ease-of-parsing (hash keys by themselves should be unique), but that's a separate endeavor.</p>\n\n<p>You were correct when you said \"This is obviously not what you meant to ask\".  Let me make the ultimate question clearer, as you requested:</p>\n\n<p><em>Can <strong>Template Toolkit</strong>, from within the executing Perl script read \"Template 1\" which contains a single HASH object (as described above), and read said HASH structure into a <strong>new</strong> hash object that exists only within the said executing-script (as opposed to the template itself)?  This \"new hash\" would be eventually used to name files generated by \"Template 2\".</em></p>\n\n<p>Lastly, to meet your last request:</p>\n\n<p>The input excerpt above provides the \"input\" you requested.  The output I want would be a true Perl hash derived from the data inside the called Template.</p>\n\n<p>So as a Perl equivalent (desired OUTPUT):</p>\n\n<pre><code>%newhash = (\n    entry =&gt; {\n        NAME =&gt; \"Server1\",\n        SERIAL =&gt; \"1234567890\",\n        DESC =&gt; \"A file server\"\n    },\n    .... other entries ....\n);\n</code></pre>\n\n<p>.... would be used to \"feed\" specific values, say the \"NAME\" values, to other templates processed \"later\".</p>\n\n<p>I hope this clears up the confusion ... thanks again ikegami ...</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 2, "creation_date": 1460993612, "post_id": 36698382, "comment_id": 60984669, "body": "I am afraid you are wrong here :- It should be <code>(\\d|\\s|m|#|$)</code>.."}, {"owner": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "reply_to_user": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1460993783, "post_id": 36698382, "comment_id": 60984787, "body": "@anubhava yeah, that can also be possible..OMG that was too dumb"}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "reply_to_user": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1460993885, "post_id": 36698382, "comment_id": 60984851, "body": "@rock321987 Thanks for reminding. I understand where I was wrong!"}], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 0, "creation_date": 1460994166, "post_id": 36698489, "comment_id": 60985030, "body": "I used <code>$</code> to denote the end of line character. If I escape <code>$</code> will it still represent the end of line?"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1460994210, "post_id": 36698489, "comment_id": 60985064, "body": "Yes, but if you fix just that one thing the regular expression still doesn&#39;t make much sense."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "edited": false, "score": 1, "creation_date": 1460994236, "post_id": 36698489, "comment_id": 60985085, "body": "@OneFace In a bracketed character class, <code>$</code> means a literal dollar sign."}, {"owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1460994302, "post_id": 36698489, "comment_id": 60985129, "body": "@ThisSuitIsBlackNot Thanks for the tip! I understand now"}], "tags": [], "owner": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "is_accepted": false, "score": 7, "last_activity_date": 1460993794, "creation_date": 1460993794, "answer_id": 36698489, "question_id": 36698382, "link": "https://stackoverflow.com/questions/36698382/why-do-i-have-to-escape-in-my-regex/36698489#36698489", "title": "Why do I have to escape `]` in my regex?", "body": "<p>I think it's the <code>$</code> that needs to be escaped there, because <code>$]</code> is the special variable used for <a href=\"http://perldoc.perl.org/perlvar.html\"><em>The revision, version, and subversion of the Perl interpreter</em></a></p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1460999767, "post_id": 36698551, "comment_id": 60988442, "body": "<code>$)</code> is also a variable, but the regex parser is coded to not consider it one."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1460999897, "post_id": 36698551, "comment_id": 60988517, "body": "<code>(\\d|\\s|m|#|$)</code> assumes <code>$</code> should match &quot;end of string&quot;. If you want <code>$</code> to match <code>$</code>, use <code>[\\d\\sm#\\$]</code>."}], "tags": [], "owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "is_accepted": true, "score": 4, "last_activity_date": 1460993999, "creation_date": 1460993999, "answer_id": 36698551, "question_id": 36698382, "link": "https://stackoverflow.com/questions/36698382/why-do-i-have-to-escape-in-my-regex/36698551#36698551", "title": "Why do I have to escape `]` in my regex?", "body": "<pre><code>perl -ne 'print unless (/[A-G][\\d|\\s|m|#|$]/)' file\n</code></pre>\n\n<p>Apparently the <code>$]</code> is being interpreted by Perl as the <code>$]</code> variable, which contains the current version of Perl.</p>\n\n<p>But that regular expression doesn't make much sense anyway. In this part of it:</p>\n\n<pre><code>[\\d|\\s|m|#|$]\n</code></pre>\n\n<p>the text between the <code>[</code> and <code>]</code> is a sequence of characters or ranges of characters, and the expression matches any one of those characters. Adding a backslash:</p>\n\n<pre><code>[\\d|\\s|m|#|\\$]\n</code></pre>\n\n<p>means it's going to match a single backslash, 'd', 's', m', '$', '|', or '$' character. (I'm not 100% certain about the details.) You probably want:</p>\n\n<pre><code>(\\d|\\s|m|#|$)\n</code></pre>\n\n<p>You can tweak that if you don't want the matching text stored in <code>$1</code>:</p>\n\n<pre><code>(?:\\d|\\s|m|#|$)\n</code></pre>\n\n<p>but that's probably not worthwhile for this one-liner.</p>\n\n<p>Also, the outer parentheses aren't necessary.  Putting this all together, what you <em>probably</em> want is:</p>\n\n<pre><code>perl -ne 'print unless /[A-G](\\d|\\s|m|#|$)/' file\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 4502993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/DNPz8.jpg?s=128&g=1", "display_name": "One Face", "link": "https://stackoverflow.com/users/4502993/one-face"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "closed_date": 1460996986, "accepted_answer_id": 36698551, "answer_count": 2, "score": 1, "last_activity_date": 1460995878, "creation_date": 1460993476, "last_edit_date": 1460995878, "question_id": 36698382, "link": "https://stackoverflow.com/questions/36698382/why-do-i-have-to-escape-in-my-regex", "closed_reason": "Duplicate", "title": "Why do I have to escape `]` in my regex?", "body": "<p>I got an error when I ran the following:</p>\n\n<pre><code>perl -ne 'print unless (/[A-G][\\d|\\s|m|#|$]/)' file\n</code></pre>\n\n<p>The error:</p>\n\n<pre><code>Unmatched [ in regex; marked by &lt;-- HERE in m/[A-G][ &lt;-- HERE \\d|\\s|m|#|5.022001/ at -e line 1, &lt;&gt; line 1\n</code></pre>\n\n<p>I resolved the error by escaping the <code>]</code> at the end of the line:</p>\n\n<pre><code>perl -ne 'print unless (/[A-G][\\d|\\s|m|#|$\\]/)' file\n</code></pre>\n\n<p>Why did I have to escape the last <code>]</code>? What prevents the bracket from being matched? </p>\n\n<p>I have noticed this is not the case for all <code>[]</code> matches. Is this a special case?</p>\n"}, {"tags": ["perl", "post", "login", "lwp"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1460992439, "post_id": 36697886, "comment_id": 60983764, "body": "Always include <code>use strict; use warnings &#39;all&#39;;</code> at the top of your Perl scripts. LWP::UserAgent doesn&#39;t have a <code>code</code> method, so <code>$ou-&gt;code</code> doesn&#39;t make sense. You meant <code>$req-&gt;code</code>, which calls the <code>code</code> method on your <a href=\"https://metacpan.org/pod/HTTP::Response\" rel=\"nofollow noreferrer\">HTTP::Response</a> object."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1460993053, "post_id": 36697886, "comment_id": 60984243, "body": "...but I&#39;m guessing this isn&#39;t the the code you&#39;re actually using, since what you&#39;ve shown would die with the error <code>Can&#39;t locate object method &quot;code&quot; via package &quot;LWP::UserAgent&quot;</code> before ever reaching the <code>else</code> block."}, {"owner": {"reputation": 23, "user_id": 5492248, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qaJNe.jpg?s=128&g=1", "display_name": "Ghadeer R. Majeed", "link": "https://stackoverflow.com/users/5492248/ghadeer-r-majeed"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1460993317, "post_id": 36697886, "comment_id": 60984457, "body": "@toolic Thanks my bro now it is working , but i want to login with <a href=\"https://www.instagram.com/accounts/login/\" rel=\"nofollow noreferrer\">instagram.com/accounts/login</a>"}, {"owner": {"reputation": 23, "user_id": 5492248, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qaJNe.jpg?s=128&g=1", "display_name": "Ghadeer R. Majeed", "link": "https://stackoverflow.com/users/5492248/ghadeer-r-majeed"}, "edited": false, "score": 0, "creation_date": 1460993394, "post_id": 36697886, "comment_id": 60984504, "body": "can you write a simple script to login with <a href=\"https://www.instagram.com/accounts/login/\" rel=\"nofollow noreferrer\">instagram.com/accounts/login</a>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1460998089, "post_id": 36697886, "comment_id": 60987447, "body": "@Programmer That&#39;s not how <a href=\"https://stackoverflow.com\">Stack Overflow</a> works. I would recommend taking a <a href=\"https://stackoverflow.com/tour\">tour</a> and reading <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> so that you know what the expectations are."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 0, "last_activity_date": 1461026966, "creation_date": 1461026966, "answer_id": 36706632, "question_id": 36697886, "link": "https://stackoverflow.com/questions/36697886/send-post-data-in-perl/36706632#36706632", "title": "Send POST data in perl", "body": "<p>You are posting to <code>login.html</code> but you should be posting to <code>login.php</code>.</p>\n"}], "owner": {"reputation": 23, "user_id": 5492248, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qaJNe.jpg?s=128&g=1", "display_name": "Ghadeer R. Majeed", "link": "https://stackoverflow.com/users/5492248/ghadeer-r-majeed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 740, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1461027246, "creation_date": 1460992162, "last_edit_date": 1461027246, "question_id": 36697886, "link": "https://stackoverflow.com/questions/36697886/send-post-data-in-perl", "title": "Send POST data in perl", "body": "<p>login.html</p>\n\n<pre><code> &lt;form method=\"POST\" action=\"login.php\"&gt;\n &lt;input type=\"text\" name=\"username\"&gt;\n &lt;input type=\"password\" name=\"password\"&gt;\n &lt;button class=\"_sdf3\"&gt;Login&lt;/button&gt;\n &lt;/form&gt;\n</code></pre>\n\n<p>login.pl</p>\n\n<pre><code> #!/usr/bin/perl\n use LWP::UserAgent;\n my $username = \"admin\";\n my $password = \"pass2321\";\n my $url = \"http://127.0.0.1/login.html\";\n my $ou = new LWP::UserAgent;\n my $req = $ou-&gt;post($url,{ username =&gt; $username , password =&gt; $password , });\n my $code = $req-&gt;code;\n if (\"$code\" eq \"302\"){\n print \"Username And Password OK\";\n }else{\n print \"Username And Password BAD\";\n }\n</code></pre>\n\n<p>When I run <code>login.pl</code> i will see <code>Username And Password BAD</code> but the data is right!!</p>\n\n<p>I want to fix this problem while using <code>&lt;button class=\"_sdf3\"&gt;Login&lt;/button&gt;</code> in login.html</p>\n"}, {"tags": ["perl", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 0, "creation_date": 1460991363, "post_id": 36697459, "comment_id": 60982962, "body": "OK thanks how about getting it to just call a separate script"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "edited": false, "score": 1, "creation_date": 1460991395, "post_id": 36697459, "comment_id": 60982984, "body": "Pretty much the same thing. You just need to use a different URL."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 4, "last_activity_date": 1460991143, "creation_date": 1460991143, "answer_id": 36697459, "question_id": 36697313, "link": "https://stackoverflow.com/questions/36697313/perl-cgi-onclick-call-perl-subroutine/36697459#36697459", "title": "Perl CGI onclick call perl subroutine", "body": "<p>You can't, at least not directly.</p>\n\n<p><code>onclick</code> is a client-side JavaScript function. CGI code runs on the server. </p>\n\n<p>To call a Perl sub you need to:</p>\n\n<ol>\n<li>make an HTTP request to a URL</li>\n<li>have your server trigger a CGI program for that URL</li>\n<li>have that program call the sub (e.g. by examining values in the query string to decide to call it).</li>\n</ol>\n\n<p>The simple way to make that HTTP request would be to use a link or to submit a form. If you want to use JavaScript then you can assign a value to <code>location</code> or use the <code>XMLHttpRequest</code> object.</p>\n"}], "owner": {"reputation": 554, "user_id": 241593, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d7e4eed5740c864a766640424643d5b?s=128&d=identicon&r=PG", "display_name": "Jaron787", "link": "https://stackoverflow.com/users/241593/jaron787"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 940, "favorite_count": 0, "accepted_answer_id": 36697459, "answer_count": 1, "score": 1, "last_activity_date": 1460991143, "creation_date": 1460990831, "question_id": 36697313, "link": "https://stackoverflow.com/questions/36697313/perl-cgi-onclick-call-perl-subroutine", "title": "Perl CGI onclick call perl subroutine", "body": "<p>I want to call a perl subroutine in Perl CGI. I know I need the onClick event but not sure how to use it correctly to call \"TestSbub\". Can anyone help?</p>\n\n<pre><code>&lt;input type=\"button\" value=\"submit\" onClick=\"process('')\"&gt;\n\n\nsub TestSub {\n    ###Do some code###\n}\n</code></pre>\n"}, {"tags": ["mysql", "perl", "dbi", "munin"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 3, "creation_date": 1460990201, "post_id": 36696846, "comment_id": 60982033, "body": "Check permission on DBI.pm file."}, {"owner": {"reputation": 2109, "user_id": 4715957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zkurB.jpg?s=128&g=1", "display_name": "dr_", "link": "https://stackoverflow.com/users/4715957/dr"}, "reply_to_user": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1460990378, "post_id": 36696846, "comment_id": 60982200, "body": "Already done, permissions on file and parent dirs are 755."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1460990505, "post_id": 36696846, "comment_id": 60982282, "body": "What&#39;s the result of the command <code>perl -MDBI -e1</code>?"}, {"owner": {"reputation": 2109, "user_id": 4715957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zkurB.jpg?s=128&g=1", "display_name": "dr_", "link": "https://stackoverflow.com/users/4715957/dr"}, "edited": false, "score": 0, "creation_date": 1460990748, "post_id": 36696846, "comment_id": 60982469, "body": "The command outputs nothing and exits with zero status."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1460990909, "post_id": 36696846, "comment_id": 60982596, "body": "The correct instance to use is <code>&#47;usr&#47;local&#47;lib64&#47;perl5&#47;DBI.pm</code>. The others are mostly work files from cpan, cpanm and munin. The other one in <code>&#47;usr&#47;local&#47;lib64&#47;perl5</code> is actually module <code>Bundle::DBI</code>"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 3, "last_activity_date": 1460999289, "creation_date": 1460999289, "answer_id": 36700186, "question_id": 36696846, "link": "https://stackoverflow.com/questions/36696846/cannot-find-dbi-pm-even-if-its-in-the-path/36700186#36700186", "title": "Cannot find DBI.pm even if it&#39;s in the path", "body": "<p><a href=\"http://munin-monitoring.org/wiki/munin-run\" rel=\"nofollow\"><code>munin-run</code> switches users</a>. The default user is <code>nobody</code>. That user probably does not have permission to read the file.</p>\n\n<blockquote>\n  <p>The script must be run with sufficient privileges, usually as root, as it switches to either munin-node's default user (often \"nobody\") or any user specifically configured to run the given plugin. </p>\n</blockquote>\n\n<p>Check with <code>munin-run --debug</code> what user it's running as and check that user can read <code>/usr/local/lib64/perl5/DBI.pm</code>.</p>\n"}], "owner": {"reputation": 2109, "user_id": 4715957, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zkurB.jpg?s=128&g=1", "display_name": "dr_", "link": "https://stackoverflow.com/users/4715957/dr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1930, "favorite_count": 0, "accepted_answer_id": 36700186, "answer_count": 1, "score": 1, "last_activity_date": 1460999289, "creation_date": 1460989708, "last_edit_date": 1495541707, "question_id": 36696846, "link": "https://stackoverflow.com/questions/36696846/cannot-find-dbi-pm-even-if-its-in-the-path", "title": "Cannot find DBI.pm even if it&#39;s in the path", "body": "<p>I'm trying to install the <a href=\"https://github.com/kjellm/munin-mysql/archive/master.zip\" rel=\"nofollow noreferrer\">munin-mysql plugin</a> but I'm facing a strange error. Munin complains that it cannot find <code>DBI.pm</code> in the @INC:</p>\n\n<pre><code>[root@mybox perl5]# munin-run mysql\nCan't locate DBI.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /etc/munin/plugins/mysql line 127.\nBEGIN failed--compilation aborted at /etc/munin/plugins/mysql line 127.\n</code></pre>\n\n<p>However, it <em>is</em> indeed in the path, and precisely at <code>/usr/local/lib64/perl5</code>. It was installed via the command <code>cpanm DBI</code>.\nIn fact, there are several <code>DBI.pm</code> files; how do I know which one is to be used? </p>\n\n<pre><code>[root@mybox perl5]# find / -name DBI.pm\n/root/.cpan/build/DBI-1.634-Aazmvi/blib/lib/Bundle/DBI.pm\n/root/.cpan/build/DBI-1.634-Aazmvi/blib/lib/DBI.pm\n/root/.cpan/build/DBI-1.634-Aazmvi/lib/Bundle/DBI.pm\n/root/.cpan/build/DBI-1.634-Aazmvi/DBI.pm\n/root/.cpanm/work/1460983027.32244/DBI-1.634/blib/lib/Bundle/DBI.pm\n/root/.cpanm/work/1460983027.32244/DBI-1.634/blib/lib/DBI.pm\n/root/.cpanm/work/1460983027.32244/DBI-1.634/lib/Bundle/DBI.pm\n/root/.cpanm/work/1460983027.32244/DBI-1.634/DBI.pm\n/root/munin-mysql-master/t/mock/DBI.pm\n/usr/local/lib64/perl5/Bundle/DBI.pm\n/usr/local/lib64/perl5/DBI.pm\n</code></pre>\n\n<p>Related questions:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/20568836/cant-locate-dbi-pm\">Can&#39;t locate DBI.pm</a></li>\n<li><a href=\"https://stackoverflow.com/questions/27405894/unable-to-locate-dbi-pm-module-in-perl\">Unable to locate DBI.pm module in Perl</a></li>\n</ul>\n"}, {"tags": ["mysql", "perl"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 5634392, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K9mh4.jpg?s=128&g=1", "display_name": "BashingPerl", "link": "https://stackoverflow.com/users/5634392/bashingperl"}, "edited": false, "score": 0, "creation_date": 1460988280, "post_id": 36696068, "comment_id": 60980508, "body": "I have created a function that could do a sql command.  $dev-&gt;_executeQuery(&quot;SET autocommit=0;&quot;); $dev-&gt;_executeQuery(&quot;lock tables cluster write, <code>sample@server</code>.<code>id</code>.<code>cluster</code> read;&quot;); $dev-&gt;_executeQuery(&quot;insert into <code>id</code>.<code>cluster</code> select * where <code>sample@server</code>.<code>id</code>.<code>cluster</code>.<code>db_id</code> = ?&quot;,[$db_id]); $dev-&gt;_executeQuery(&quot;commit;&quot;); $dev-&gt;_executeQuery(&quot;unlock tables;&quot;);  Although, it still does not work well."}, {"owner": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "reply_to_user": {"reputation": 83, "user_id": 5634392, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K9mh4.jpg?s=128&g=1", "display_name": "BashingPerl", "link": "https://stackoverflow.com/users/5634392/bashingperl"}, "edited": false, "score": 0, "creation_date": 1460988760, "post_id": 36696068, "comment_id": 60980896, "body": "The sql command you posted in your question, is not a valid sql command, so no function would be able to execute it, being it written in a bashed language or not."}, {"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 1, "creation_date": 1460990449, "post_id": 36696068, "comment_id": 60982245, "body": "Instead of doing it like this, Why don&#39;t you first fetch data from One Server.DB and after that insert it into another Server.DB."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 83, "user_id": 5634392, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K9mh4.jpg?s=128&g=1", "display_name": "BashingPerl", "link": "https://stackoverflow.com/users/5634392/bashingperl"}, "edited": false, "score": 0, "creation_date": 1460991232, "post_id": 36696068, "comment_id": 60982877, "body": "@BashingPerl: Please show code and data by editing your question to include it. It&#39;s very difficult to read in a comment"}], "tags": [], "owner": {"reputation": 23906, "user_id": 459233, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/23bfb69cb2c8a6a028d2376b12db4a73?s=128&d=identicon&r=PG", "display_name": "Tudor Constantin", "link": "https://stackoverflow.com/users/459233/tudor-constantin"}, "is_accepted": false, "score": 1, "last_activity_date": 1460987722, "creation_date": 1460987722, "answer_id": 36696068, "question_id": 36695948, "link": "https://stackoverflow.com/questions/36695948/perl-syncing-two-tables-from-different-servers/36696068#36696068", "title": "Perl: Syncing two tables from different servers", "body": "<p>You can't do that. \nYou'll need 2 DB connections, one to each server. \nUse one connection to read the data from the source DB and the other to insert it into the target DB.</p>\n\n<p>The <code>inser</code>/<code>select</code> are DB commands, executed by MySQL. If you'd be able to issue such a command, you could execute it from the MySQL console and wouldn't need Perl (or other language) for this</p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 5634392, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K9mh4.jpg?s=128&g=1", "display_name": "BashingPerl", "link": "https://stackoverflow.com/users/5634392/bashingperl"}, "edited": false, "score": 0, "creation_date": 1461135073, "post_id": 36710015, "comment_id": 61054566, "body": "Thanks for the idea. I have already made it work thanks for your answer."}], "tags": [], "owner": {"reputation": 162, "user_id": 3539775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/892a66074a0512f0fcf3018bb03d9a3d?s=128&d=identicon&r=PG", "display_name": "J Singh", "link": "https://stackoverflow.com/users/3539775/j-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1461046601, "creation_date": 1461046601, "answer_id": 36710015, "question_id": 36695948, "link": "https://stackoverflow.com/questions/36695948/perl-syncing-two-tables-from-different-servers/36710015#36710015", "title": "Perl: Syncing two tables from different servers", "body": "<p>You will need to break down this problem into two parts:</p>\n\n<ol>\n<li>Create two DBI objects for Server1 &amp; Server2, and connect.</li>\n<li>Read data from server1.tableA into a resultset.</li>\n<li>Iterate over the ResultSet and insert data into server2.tableA.</li>\n</ol>\n\n<p>If your problem statement is just to sync two or more DBs, consider using following tool: pt-table-sync: <a href=\"https://www.percona.com/doc/percona-toolkit/2.1/pt-table-sync.html\" rel=\"nofollow\">https://www.percona.com/doc/percona-toolkit/2.1/pt-table-sync.html</a></p>\n"}], "owner": {"reputation": 83, "user_id": 5634392, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K9mh4.jpg?s=128&g=1", "display_name": "BashingPerl", "link": "https://stackoverflow.com/users/5634392/bashingperl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 36710015, "answer_count": 2, "score": 2, "last_activity_date": 1461055530, "creation_date": 1460987409, "last_edit_date": 1461055530, "question_id": 36695948, "link": "https://stackoverflow.com/questions/36695948/perl-syncing-two-tables-from-different-servers", "title": "Perl: Syncing two tables from different servers", "body": "<p>I already created a script that can perform sql commands. The problem is that I can't seem to make it work when it deals with two different servers. For example.</p>\n\n<p>Inserting data from server 1's table A to server 2's table A.</p>\n\n<p>I specified the server right before the database</p>\n\n<pre><code>insert into `server2`.`database`.`table` select * from `server1`.`database`.`table` where [conditions];\n</code></pre>\n\n<p>Applied the samples here:\n<a href=\"http://www.tutorialspoint.com/perl/perl_database_access.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/perl/perl_database_access.htm</a></p>\n\n<p>The problem is that I can't seem to make it work when trying commands for serverA to serverB.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 7927, "user_id": 5214807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq31b.jpg?s=128&g=1", "display_name": "Saleem", "link": "https://stackoverflow.com/users/5214807/saleem"}, "edited": false, "score": 2, "creation_date": 1460987174, "post_id": 36695708, "comment_id": 60979675, "body": "T12345#1 is not exactly a number. Do you want partial match?"}], "answers": [{"comments": [{"owner": {"reputation": 5886, "user_id": 2019415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645958eb08719fa5119052d7d1d079ff?s=128&d=identicon&r=PG", "display_name": "G. Cito", "link": "https://stackoverflow.com/users/2019415/g-cito"}, "edited": false, "score": 1, "creation_date": 1460988561, "post_id": 36695917, "comment_id": 60980720, "body": "Nice. You should explain the regex and lookarounds (negative look behind etc. ) a bit more ... for great justice and many ++ :-)"}, {"owner": {"reputation": 8018, "user_id": 2064981, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74e3e392c752c4c9acb4ca4fb8f7af65?s=128&d=identicon&r=PG&f=1", "display_name": "SamWhan", "link": "https://stackoverflow.com/users/2064981/samwhan"}, "edited": false, "score": 1, "creation_date": 1460988783, "post_id": 36695917, "comment_id": 60980926, "body": "Made this to do it in javascript (no look-behind) - <code>(^|\\D)\\d{1,6}(\\D|$)</code>. Not as elegant, but it takes care of OP&#39;s examples :) One thing I wondered the first example has 5+1 digits. What if it had been 5+2? I.e. <code>T12345#12</code> - is that a match in OP&#39;s eyes?"}, {"owner": {"reputation": 3886, "user_id": 5741681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2d7159467a096cf7569ff7d9197b78?s=128&d=identicon&r=PG&f=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/5741681/quinn"}, "edited": false, "score": 0, "creation_date": 1460989443, "post_id": 36695917, "comment_id": 60981436, "body": "I&#39;m wondering the same thing. If the string is <code>T12345#12</code>, Daniels answer would find <code>12345</code> and <code>12</code>."}], "tags": [], "owner": {"reputation": 14414, "user_id": 2497335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/208cc48458f7afeb5f9f6d3801686b07?s=128&d=identicon&r=PG", "display_name": "Daniel Gimenez", "link": "https://stackoverflow.com/users/2497335/daniel-gimenez"}, "is_accepted": true, "score": 7, "last_activity_date": 1460987324, "creation_date": 1460987324, "answer_id": 36695917, "question_id": 36695708, "link": "https://stackoverflow.com/questions/36695708/matching-a-number-a-max-number-of-times/36695917#36695917", "title": "Matching a number a max number of times", "body": "<p>Use a negated look ahead to see if a digit follows, and negated look behind so you don't just match the last six digits:</p>\n\n<pre><code>$string =~ /(?&lt;!\\d)\\d{1,6}(?!\\d)/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3886, "user_id": 5741681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2d7159467a096cf7569ff7d9197b78?s=128&d=identicon&r=PG&f=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/5741681/quinn"}, "is_accepted": false, "score": 0, "last_activity_date": 1460988720, "creation_date": 1460988720, "answer_id": 36696467, "question_id": 36695708, "link": "https://stackoverflow.com/questions/36695708/matching-a-number-a-max-number-of-times/36696467#36696467", "title": "Matching a number a max number of times", "body": "<p>Or you could do it this way:</p>\n\n<pre><code>$string =~ /^(?!.*\\d{7}.*).*$/\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1461003269, "creation_date": 1461003269, "answer_id": 36701406, "question_id": 36695708, "link": "https://stackoverflow.com/questions/36695708/matching-a-number-a-max-number-of-times/36701406#36701406", "title": "Matching a number a max number of times", "body": "<p>If you  just want to reject strings that contain more than six decimal digits then you can use <code>tr///</code> to count them</p>\n\n<pre><code>if ( $string =~ tr/0-9// &lt;= 6 ) { ... }\n</code></pre>\n\n<p>But you don't make it clear whether separate numeric substrings should be counted together. You say <code>T12345#1</code> is valid, but what about <code>T12345#12345</code>?</p>\n"}], "owner": {"reputation": 791, "user_id": 1766625, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/75a86f865d7a31e835edabd03fc54c7d?s=128&d=identicon&r=PG", "display_name": "kernelpanic", "link": "https://stackoverflow.com/users/1766625/kernelpanic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1674, "favorite_count": 1, "accepted_answer_id": 36695917, "answer_count": 3, "score": 2, "last_activity_date": 1461003269, "creation_date": 1460986851, "question_id": 36695708, "link": "https://stackoverflow.com/questions/36695708/matching-a-number-a-max-number-of-times", "title": "Matching a number a max number of times", "body": "<p>I have the following regex in Perl that works for matching strings with 6 or fewer digits in them.  However, this also matches strings with more than 6 digits.</p>\n\n<p><code>$string =~ /[0-9]{1,6}/</code></p>\n\n<p>Matches: </p>\n\n<ol>\n<li>T12345#1</li>\n<li>0897</li>\n<li>112355501234</li>\n</ol>\n\n<p>I'd like the regex to match the first 2 but not the last case.</p>\n"}, {"tags": ["bash", "perl", "shell", "csv", "file-handling"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460986146, "post_id": 36695078, "comment_id": 60978874, "body": "How big are <code>result1.tsv</code> etc? How many lines to they contain?"}, {"owner": {"reputation": 23, "user_id": 6218011, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d52e272c1b045288167266a115358a24?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/6218011/anonymous"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460986505, "post_id": 36695078, "comment_id": 60979145, "body": "<code>resut1.tsv</code> contains approximately 1000 or more lines but at last but the third line contains the value I need. I extracted those with command  <code>cat result1.tsv | tail -3 | head -1 &gt; final1.tsv</code>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6218011, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d52e272c1b045288167266a115358a24?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/6218011/anonymous"}, "edited": false, "score": 0, "creation_date": 1460986640, "post_id": 36695286, "comment_id": 60979233, "body": "I have more than 4 files."}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 0, "last_activity_date": 1460985825, "creation_date": 1460985825, "answer_id": 36695286, "question_id": 36695078, "link": "https://stackoverflow.com/questions/36695078/how-to-add-text-to-next-line-in-tab-separated-file-from-other-file/36695286#36695286", "title": "how to add text to next line in tab separated file from other file?", "body": "<p>here you go...</p>\n\n<pre><code>for f in final{1..4}.tsv; \ndo \n    echo -en $f'\\t' &gt;&gt; final.tsv; \n    cat $f &gt;&gt; final.tsv; \ndone\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 6218011, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d52e272c1b045288167266a115358a24?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/6218011/anonymous"}, "edited": false, "score": 0, "creation_date": 1460986687, "post_id": 36695466, "comment_id": 60979272, "body": "Thanks for the suggestion I will try this."}], "tags": [], "owner": {"reputation": 748, "user_id": 6209872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d51589c2d23ee66dc43c65c410bbf70c?s=128&d=identicon&r=PG&f=1", "display_name": "yk11", "link": "https://stackoverflow.com/users/6209872/yk11"}, "is_accepted": false, "score": 0, "last_activity_date": 1460986221, "creation_date": 1460986221, "answer_id": 36695466, "question_id": 36695078, "link": "https://stackoverflow.com/questions/36695078/how-to-add-text-to-next-line-in-tab-separated-file-from-other-file/36695466#36695466", "title": "how to add text to next line in tab separated file from other file?", "body": "<p>Try this:</p>\n\n<pre><code>rm final.tsv\nfor FILE in result*.tsv\ndo\n    tail -3 $FILE | head -1 &gt;&gt; final.tsv\ndone\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1467625292, "last_edit_date": 1467625292, "creation_date": 1460987123, "answer_id": 36695823, "question_id": 36695078, "link": "https://stackoverflow.com/questions/36695078/how-to-add-text-to-next-line-in-tab-separated-file-from-other-file/36695823#36695823", "title": "how to add text to next line in tab separated file from other file?", "body": "<p>As long as the files aren't enormous, it's simplest to read each file into an array and select the third record from the end</p>\n\n<p>This solves your problem for you. It looks for all files in the current directory that match <code>result*.tsv</code> and writes the required line from each of them to <code>final.tsv</code></p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy @results = sort {\n    my ($aa, $bb) = map /(\\d+)/, ($a, $b);\n    $aa &lt;=&gt; $bb;\n} glob 'result*.tsv';\n\nopen my $out_fh, '&gt;', 'final.tsv';\n\nfor my $result_file ( @results ) {\n\n    open my $fh, '&lt;', $result_file or die qq({Unable to open \"$result_file\" for input: $!};\n    my @data = &lt;$fh&gt;;\n\n    next unless @data &gt;= 3;\n\n    my ($name) = $result_file =~ /([^.]+)/;\n    print { $out_fh } \"$name\\t$data[-3]\";\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6218011, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d52e272c1b045288167266a115358a24?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/6218011/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1467625292, "creation_date": 1460985314, "question_id": 36695078, "link": "https://stackoverflow.com/questions/36695078/how-to-add-text-to-next-line-in-tab-separated-file-from-other-file", "title": "how to add text to next line in tab separated file from other file?", "body": "<p>I have a set of files contain tab separated values, at the last but third line, I have my desired values. I have extracted that value with </p>\n\n<pre><code>cat result1.tsv | tail -3 | head -1 &gt; final1.tsv \ncat resilt2.tsv | tail -3 | head -1 &gt;final2.tsv\n</code></pre>\n\n<p>..... so on (I have almost 30-40 files)\nI want the content of final tsv files in next line in a new single file.</p>\n\n<p>I tried</p>\n\n<pre><code>cat final1.tsv final2.tsv &gt; final.tsv\n</code></pre>\n\n<p>but this works for the limited amount of files difficult to write the  name of all files.\nI tried to put the file names in a loop as variables  but not worked.</p>\n\n<p><code>final1.tsv</code> contains:</p>\n\n<pre><code>270   96  284  139  271  331  915  719  591 1679 1751 1490  968 1363 1513 1184 1525  490  839  425  967  855  356\n</code></pre>\n\n<p><code>final2.tsv</code> contains:</p>\n\n<pre><code>1    1    0    2    6    5    1    1   11    7    1    3    4    1    0    3    2    1    0    3    2    1   28\n</code></pre>\n\n<p>all the files (final1.tsv,final2.tsv,final3.tsv,final5..... contains same number of columns but different values)\nI want the rows of each file merged in new file like</p>\n\n<p>final.tsv</p>\n\n<pre><code>final1  270   96  284  139  271  331  915  719  591 1679 1751 1490  968 1363 1513 1184 1525  490  839  425  967  855  356\nfinal2    1    1    0    2    6    5    1    1   11    7    1    3    4    1    0    3    2    1    0    3    2    1   28\nfinal3  270   96  284  139  271  331  915  719  591 1679 1751 1490  968 1363 1513 1184 1525  490  839  425  967  855  356\nfinal4    1    1    0    2    6    5    1    1   11    7    1    3    4    1    0    3    2    1    0    3    2    1   28\n</code></pre>\n"}, {"tags": ["javascript", "html", "perl", "character-encoding"], "comments": [{"owner": {"reputation": 141, "user_id": 5686228, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SytPf.png?s=128&g=1", "display_name": "DrSheldonTrooper", "link": "https://stackoverflow.com/users/5686228/drsheldontrooper"}, "edited": false, "score": 0, "creation_date": 1461001888, "post_id": 36694947, "comment_id": 60989586, "body": "I&#39;ve solved the problem by using another <code>iframe</code> section with <code>src</code> on another side with the <code>charset=windows-1252</code> tag. But the question if its possible to use charset in the body part is still here"}], "owner": {"reputation": 141, "user_id": 5686228, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SytPf.png?s=128&g=1", "display_name": "DrSheldonTrooper", "link": "https://stackoverflow.com/users/5686228/drsheldontrooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1460984967, "creation_date": 1460984967, "question_id": 36694947, "link": "https://stackoverflow.com/questions/36694947/is-it-possible-to-add-charset-in-the-body-section", "title": "Is it possible to add charset in the body section?", "body": "<p>my website has the <code>&lt;meta charset=\"utf-8\"&gt;</code>tag. Now I want to integrate an old script which is written in perl and javascript, the problem is that this script is tagged with <code>&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=windows-1252\"&gt;</code> and therefore it doesn't work in the <code>&lt;meta charset=\"utf-8\"&gt;</code> area.</p>\n\n<p>I use <code>iframe</code> to integrate the script into my website. The script changes and analyses text and print this text in the <code>iframe</code> section, furthermore the script uses a parser which is based on <code>charset=windows-1252</code>.</p>\n\n<p>Now my question: is it possible to add the <code>charset</code> attribute to the iframe tag or to add it to a div to generate an area in which only the <code>charset=windows-1252</code>is used?</p>\n"}, {"tags": ["oracle", "perl"], "comments": [{"owner": {"reputation": 650, "user_id": 3228018, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/uDftc.jpg?s=128&g=1", "display_name": "Dave Tapson", "link": "https://stackoverflow.com/users/3228018/dave-tapson"}, "edited": false, "score": 1, "creation_date": 1460980535, "post_id": 36693183, "comment_id": 60974712, "body": "1. Do you know that the stored proc executes correctly?  Have you tested it in Oracle?  2. If so, do you know if the param is being passed in the format expected?  Can you get the proc to output the sql statement created either to console or to a temp table to verify that the sql statement is being built correctly in the stored proc?  3. It would be useful to post the stored proc code too."}, {"owner": {"reputation": 2423, "user_id": 1850978, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c7e6fab879022fe474c48b829a42cc53?s=128&d=identicon&r=PG", "display_name": "David Faizulaev", "link": "https://stackoverflow.com/users/1850978/david-faizulaev"}, "reply_to_user": {"reputation": 650, "user_id": 3228018, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/uDftc.jpg?s=128&g=1", "display_name": "Dave Tapson", "link": "https://stackoverflow.com/users/3228018/dave-tapson"}, "edited": false, "score": 0, "creation_date": 1460980981, "post_id": 36693183, "comment_id": 60975023, "body": "1. Yes. 2. The expected parameter type is a NUMBER. 3. I cannot post the procedure code."}, {"owner": {"reputation": 650, "user_id": 3228018, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/uDftc.jpg?s=128&g=1", "display_name": "Dave Tapson", "link": "https://stackoverflow.com/users/3228018/dave-tapson"}, "edited": false, "score": 0, "creation_date": 1460988741, "post_id": 36693183, "comment_id": 60980873, "body": "Ok. I would find a way to output the sql created on the sp to see if that statement fails. If not, then its the call that&#39;s failing - but at least you know where to look."}], "answers": [{"comments": [{"owner": {"reputation": 2423, "user_id": 1850978, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c7e6fab879022fe474c48b829a42cc53?s=128&d=identicon&r=PG", "display_name": "David Faizulaev", "link": "https://stackoverflow.com/users/1850978/david-faizulaev"}, "edited": false, "score": 0, "creation_date": 1460981385, "post_id": 36693574, "comment_id": 60975304, "body": "Should I do the same if for &#39;CALL DBUSER.API.USERSINFO(?);&#39; ?"}, {"owner": {"reputation": 2423, "user_id": 1850978, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c7e6fab879022fe474c48b829a42cc53?s=128&d=identicon&r=PG", "display_name": "David Faizulaev", "link": "https://stackoverflow.com/users/1850978/david-faizulaev"}, "edited": false, "score": 0, "creation_date": 1460982581, "post_id": 36693574, "comment_id": 60976180, "body": "But what about the error I&#39;m getting? I&#39;ve added the BEGIN &amp; END but I get the same error."}, {"owner": {"reputation": 128254, "user_id": 13508, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c9e1d852b4d287027fe76f794e506878?s=128&d=identicon&r=PG", "display_name": "&#193;lvaro Gonz&#225;lez", "link": "https://stackoverflow.com/users/13508/%c3%81lvaro-gonz%c3%a1lez"}, "reply_to_user": {"reputation": 2423, "user_id": 1850978, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c7e6fab879022fe474c48b829a42cc53?s=128&d=identicon&r=PG", "display_name": "David Faizulaev", "link": "https://stackoverflow.com/users/1850978/david-faizulaev"}, "edited": false, "score": 0, "creation_date": 1460992173, "post_id": 36693574, "comment_id": 60983566, "body": "To be honest I&#39;ve answered this question from my PHP experience. I don&#39;t know if there&#39;re Perl specifics involved. I don&#39;t have an Oracle box to test it right now but both an anonymous block and the <code>CALL</code> operator should work in theory."}], "tags": [], "owner": {"reputation": 128254, "user_id": 13508, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c9e1d852b4d287027fe76f794e506878?s=128&d=identicon&r=PG", "display_name": "&#193;lvaro Gonz&#225;lez", "link": "https://stackoverflow.com/users/13508/%c3%81lvaro-gonz%c3%a1lez"}, "is_accepted": false, "score": 1, "last_activity_date": 1460981387, "last_edit_date": 1460981387, "creation_date": 1460981326, "answer_id": 36693574, "question_id": 36693183, "link": "https://stackoverflow.com/questions/36693183/perl-how-to-call-oracle-db-stored-procedure/36693574#36693574", "title": "Perl - how to call Oracle DB stored procedure", "body": "<p><code>EXEC[CUTE]</code> is a <a href=\"http://ss64.com/ora/exec.html\" rel=\"nofollow\">SQL*Plus command</a>. It's normally not implemented in other SQL clients. You probably need to use an anonymous PL/SQL block;</p>\n\n<pre><code>BEGIN\n    DBUSER.API.UsersInfo(?);\nEND;\n</code></pre>\n"}], "owner": {"reputation": 2423, "user_id": 1850978, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c7e6fab879022fe474c48b829a42cc53?s=128&d=identicon&r=PG", "display_name": "David Faizulaev", "link": "https://stackoverflow.com/users/1850978/david-faizulaev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2783, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460981387, "creation_date": 1460980283, "question_id": 36693183, "link": "https://stackoverflow.com/questions/36693183/perl-how-to-call-oracle-db-stored-procedure", "title": "Perl - how to call Oracle DB stored procedure", "body": "<p>I'm attempting to execute a stored procedure and (for now) get the number of rows returned.\nBut I keep getting the following error:</p>\n\n<pre><code>DBD::Oracle::st execute failed: ORA-00900: invalid SQL statement (DBD ERROR: OCI\nStmtExecute) [for Statement \"exec VSU22.DB_API.GetUsersInfo(?);\" with ParamValue\ns: :p1=1] at C:\\NNInstall\\auit.pl line 19.\n</code></pre>\n\n<p>Here is the script:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse dbi;\n\nmy ($connection_string, $nn_dbh, $extract_sth);\nmy $dbIPAddress = \"192.168.147.55\";\nmy @row;\nmy $query_result=0;\nmy $var;\n$connection_string = \"dbi:Oracle:host=$dbIPAddress;sid=NNVSDB\";\n$nn_dbh-&gt;{RaiseError} = 1;\n$nn_dbh-&gt;{RowCacheSize} = 256;\n$nn_dbh = DBI-&gt;connect($connection_string, 'DBSUER', 'DBUSER')\n    or die \"Connection failed: $DBI::errstr\";\n\n$extract_sth = $nn_dbh-&gt;prepare('exec DBUSER.API.UsersInfo(?);');\n$extract_sth -&gt;bind_param(1, 1);\nmy $num_ofOrows= $extract_sth-&gt;execute();\n</code></pre>\n\n<p>What Am I doing wrong?</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 2, "creation_date": 1460978557, "post_id": 36692495, "comment_id": 60973281, "body": "You need to decide upon a valid structure - do you want an array containing two objects, or to add a <code>create</code> key to the existing object, or what?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 5, "creation_date": 1460978589, "post_id": 36692495, "comment_id": 60973307, "body": "A JSON file can only contain one data structure. You currently have two. That is not valid JSON."}], "answers": [{"tags": [], "owner": {"reputation": 21654, "user_id": 107331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf6d0868b2b4c69bac3e6f265a32b6a7?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/107331/daniel-martin"}, "is_accepted": false, "score": 3, "last_activity_date": 1460979873, "creation_date": 1460979873, "answer_id": 36693034, "question_id": 36692495, "link": "https://stackoverflow.com/questions/36692495/append-an-object-to-a-json-file/36693034#36693034", "title": "Append an object to a json file", "body": "<p>You're getting the comments you are because I think you didn't state your question correctly.</p>\n\n<p>It appears that you're attempting to use the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html\" rel=\"nofollow\">elasticsearch bulk API</a>; is this correct?</p>\n\n<p>If so, then what that API accepts is <em>multiple JSON documents</em>, separated by newlines. You <strong>don't</strong> combine the two JSON objects into another JSON file. Instead, you simply have the two objects as two separate JSON documents on different lines:</p>\n\n<pre><code>{\"create\": {\"_index\":\"socteam\", \"_type\":\"products\"}}\n{\"general\":{\"date_time\":\"2016-04-1806:50:40\",\"total_requests\":12,\"valid_requests\":12,\"failed_requests\":0,\"generation_time\":0,\"unique_visitors\":12,\"unique_files\":11,\"excluded_hits\":0,\"unique_referrers\":0,\"unique_not_found\":0,\"unique_static_files\":0,\"log_size\":0,\"bandwidth\":1233,\"log_path\":\"STDIN\"},\"visitors\":[{\"hits\":12,\"visitors\":12,\"percent\":100.00,\"bytes\":1233,\"data\":\"20160418\"}],\"requests\":[{\"hits\":12,\"visitors\":12,\"percent\":100.00,\"bytes\":1233,\"data\":\"2xxSuccess\",\"items\":[{\"hits\":12,\"visitors\":12,\"percent\":100.00,\"bytes\":1233,\"data\":\"200-OK:Therequestsentbytheclientwassuccessful\"}]}]}\n</code></pre>\n\n<p>No comma or anything.</p>\n\n<p>Also, when you contact your elastic search machine, you are using the endpoint <code>/_bulk</code>, yes?</p>\n"}, {"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": false, "score": 0, "last_activity_date": 1460980737, "creation_date": 1460980737, "answer_id": 36693354, "question_id": 36692495, "link": "https://stackoverflow.com/questions/36692495/append-an-object-to-a-json-file/36693354#36693354", "title": "Append an object to a json file", "body": "<p>As the commenters said, you either make a 2-element array, or merge two hashes togeather (resulting in the second clobbering any entries with identical keys);</p>\n\n<pre><code>use v5.12;\nuse JSON::Tiny qw(decode_json encode_json);\n\nmy $j1 = decode_json '{\"general\":{\"date_time\":\"2016-04-1806:50:40\",\"total_requests\":12,\"valid_requests\":12,\"failed_requests\":0,\"generation_time\":0,\"unique_visitors\":12,\"unique_files\":11,\"excluded_hits\":0,\"unique_referrers\":0,\"unique_not_found\":0,\"unique_static_files\":0,\"log_size\":0,\"bandwidth\":1233,\"log_path\":\"STDIN\"},\"visitors\":[{\"hits\":12,\"visitors\":12,\"percent\":100.00,\"bytes\":1233,\"data\":\"20160418\"}],\"requests\":[{\"hits\":12,\"visitors\":12,\"percent\":100.00,\"bytes\":1233,\"data\":\"2xxSuccess\",\"items\":[{\"hits\":12,\"visitors\":12,\"percent\":100.00,\"bytes\":1233,\"data\":\"200-OK:Therequestsentbytheclientwassuccessful\"}]}]}' ;\n\nmy $j2 = decode_json '{\"create\": {\"_index\":\"socteam\", \"_type\":\"products\"}}' ;\n\nmy @merged_array = ( %$j1 , %$j2 );\nmy %merged_hash  = ( %$j1 , %$j2 );\n\nsay encode_json \\@merged_array ;\nsay \"========================\" ;\nsay encode_json \\%merged_hash  ;\n</code></pre>\n\n<p>which produces;</p>\n\n<pre><code>[\"general\",{\"log_path\":\"STDIN\",\"unique_static_files\":0,\"generation_time\":0,\"unique_referrers\":0,\"unique_not_found\":0,\"date_time\":\"2016-04-1806:50:40\",\"failed_requests\":0,\"bandwidth\":1233,\"unique_files\":11,\"excluded_hits\":0,\"log_size\":0,\"total_requests\":12,\"valid_requests\":12,\"unique_visitors\":12},\"requests\",[{\"bytes\":1233,\"hits\":12,\"percent\":100,\"data\":\"2xxSuccess\",\"items\":[{\"bytes\":1233,\"hits\":12,\"percent\":100,\"data\":\"200-OK:Therequestsentbytheclientwassuccessful\",\"visitors\":12}],\"visitors\":12}],\"visitors\",[{\"bytes\":1233,\"hits\":12,\"percent\":100,\"data\":\"20160418\",\"visitors\":12}],\"create\",{\"_index\":\"socteam\",\"_type\":\"products\"}]\n========================\n{\"create\":{\"_index\":\"socteam\",\"_type\":\"products\"},\"general\":{\"log_path\":\"STDIN\",\"unique_static_files\":0,\"generation_time\":0,\"unique_referrers\":0,\"unique_not_found\":0,\"date_time\":\"2016-04-1806:50:40\",\"failed_requests\":0,\"bandwidth\":1233,\"unique_files\":11,\"excluded_hits\":0,\"log_size\":0,\"total_requests\":12,\"valid_requests\":12,\"unique_visitors\":12},\"requests\":[{\"bytes\":1233,\"hits\":12,\"percent\":100,\"data\":\"2xxSuccess\",\"items\":[{\"bytes\":1233,\"hits\":12,\"percent\":100,\"data\":\"200-OK:Therequestsentbytheclientwassuccessful\",\"visitors\":12}],\"visitors\":12}],\"visitors\":[{\"bytes\":1233,\"hits\":12,\"percent\":100,\"data\":\"20160418\",\"visitors\":12}]}\n</code></pre>\n"}], "owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1460981903, "creation_date": 1460978439, "last_edit_date": 1460981903, "question_id": 36692495, "link": "https://stackoverflow.com/questions/36692495/append-an-object-to-a-json-file", "title": "Append an object to a json file", "body": "<p>I'm trying to append </p>\n\n<pre><code> {\"create\": {\"_index\":\"socteam\", \"_type\":\"products\"}}\n</code></pre>\n\n<p>To this json </p>\n\n<pre><code>{\"general\":{\"date_time\":\"2016-04-1806:50:40\",\"total_requests\":12,\"valid_requests\":12,\"failed_requests\":0,\"generation_time\":0,\"unique_visitors\":12,\"unique_files\":11,\"excluded_hits\":0,\"unique_referrers\":0,\"unique_not_found\":0,\"unique_static_files\":0,\"log_size\":0,\"bandwidth\":1233,\"log_path\":\"STDIN\"},\"visitors\":[{\"hits\":12,\"visitors\":12,\"percent\":100.00,\"bytes\":1233,\"data\":\"20160418\"}],\"requests\":[{\"hits\":12,\"visitors\":12,\"percent\":100.00,\"bytes\":1233,\"data\":\"2xxSuccess\",\"items\":[{\"hits\":12,\"visitors\":12,\"percent\":100.00,\"bytes\":1233,\"data\":\"200-OK:Therequestsentbytheclientwassuccessful\"}]}]}\n</code></pre>\n\n<p>I have tried </p>\n\n<pre><code>{\"create\": {\"_index\":\"socteam\", \"_type\":\"products\"}},\n{\"general\":{\"date_time\":\"2016-04-1806:50:40\",\"total_requests\":12,\"valid_requests\":12,\"failed_requests\":0,\"generation_time\":0,\"unique_visitors\":12,\"unique_files\":11,\"excluded_hits\":0,\"unique_referrers\":0,\"unique_not_found\":0,\"unique_static_files\":0,\"log_size\":0,\"bandwidth\":1233,\"log_path\":\"STDIN\"},\"visitors\":[{\"hits\":12,\"visitors\":12,\"percent\":100.00,\"bytes\":1233,\"data\":\"20160418\"}],\"requests\":[{\"hits\":12,\"visitors\":12,\"percent\":100.00,\"bytes\":1233,\"data\":\"2xxSuccess\",\"items\":[{\"hits\":12,\"visitors\":12,\"percent\":100.00,\"bytes\":1233,\"data\":\"200-OK:Therequestsentbytheclientwassuccessful\"}]}]}\n</code></pre>\n\n<p>But I keep getting unexpected end of input, I'm trying to define an index for this data before its gets inserted to elastic search. </p>\n"}, {"tags": ["sql", "perl"], "comments": [{"owner": {"reputation": 35510, "user_id": 3706016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wqmW0.jpg?s=128&g=1", "display_name": "jarlh", "link": "https://stackoverflow.com/users/3706016/jarlh"}, "edited": false, "score": 0, "creation_date": 1460976187, "post_id": 36691630, "comment_id": 60971632, "body": "Tag the dbms you&#39;re using. (Many dbms products are far from ANSI SQL compliant when it comes to date/time.)"}, {"owner": {"reputation": 2847, "user_id": 5049185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46f0d2dc8ee06f428e43d0d115a57c4f?s=128&d=identicon&r=PG&f=1", "display_name": "syck", "link": "https://stackoverflow.com/users/5049185/syck"}, "edited": false, "score": 3, "creation_date": 1460976466, "post_id": 36691630, "comment_id": 60971812, "body": "04/22/1996 is basically the same date as 22 APR 1996, only in different format. Use the appropriate date formatting functions provided by your database system."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1460976778, "post_id": 36691630, "comment_id": 60972031, "body": "if both are date field columns then it sounds like a formatting issue on presenting the date, maybe your two systems dont have the same format for dates by default."}, {"owner": {"reputation": 65, "user_id": 5542580, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dacd1ccbe36d795fc75ed15c79ce16e5?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5542580/nithin"}, "edited": false, "score": 0, "creation_date": 1460985942, "post_id": 36691630, "comment_id": 60978704, "body": "Yes . Both are date fields. I am selecting data using select query and then store the entire data in an array . And the for each roe in the array I am  calling a insert statement which will take data from the array and inserts to the table. Can anyone tell me How can I mention the format and where can I do that."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1460997009, "post_id": 36691630, "comment_id": 60986823, "body": "Tell us which databases you are using. Are they both the same? Show us the code you are using to transfer the data and the code you&#39;re using to display this difference. Are the dates stored in datetime columns?"}], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 1226579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc2b48995cb9af6ff5215d099adc0ad?s=128&d=identicon&r=PG", "display_name": "kchinger", "link": "https://stackoverflow.com/users/1226579/kchinger"}, "edited": false, "score": 0, "creation_date": 1461005034, "post_id": 36695748, "comment_id": 60991430, "body": "One comment on date time, it&#39;s relatively slow if you&#39;re calling it a bunch. If speed is an issue writing your own parser is possibly worth it, especially if you don&#39;t need timezone or day of week information."}, {"owner": {"reputation": 43, "user_id": 1874161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81f563fa7bb248fdf5e6f267cb1c6792?s=128&d=identicon&r=PG", "display_name": "Konstantin Tokar", "link": "https://stackoverflow.com/users/1874161/konstantin-tokar"}, "reply_to_user": {"reputation": 305, "user_id": 1226579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc2b48995cb9af6ff5215d099adc0ad?s=128&d=identicon&r=PG", "display_name": "kchinger", "link": "https://stackoverflow.com/users/1226579/kchinger"}, "edited": false, "score": 0, "creation_date": 1461029639, "post_id": 36695748, "comment_id": 61001764, "body": "DateTime really slow, but if we are working with the database, it is not so expensive. You can write fast parser for a specific format, but to maintain this code will be difficult."}], "tags": [], "owner": {"reputation": 43, "user_id": 1874161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81f563fa7bb248fdf5e6f267cb1c6792?s=128&d=identicon&r=PG", "display_name": "Konstantin Tokar", "link": "https://stackoverflow.com/users/1874161/konstantin-tokar"}, "is_accepted": false, "score": 0, "last_activity_date": 1460986933, "creation_date": 1460986933, "answer_id": 36695748, "question_id": 36691630, "link": "https://stackoverflow.com/questions/36691630/fetching-and-inserting-date-with-time-stamp/36695748#36695748", "title": "Fetching and inserting date with time stamp", "body": "<pre><code>#!/usr/bin/env perl\nuse DateTime::Format::Strptime;\nmy $datetimestr = '04/22/1996 13:51:15 PM';\n# 1) parse datetime\nmy $parser = DateTime::Format::Strptime-&gt;new(\n    pattern=&gt;'%m/%d/%Y %H:%M:%S %p', \n    on_error  =&gt; 'croak',\n);\nmy $dt = $parser-&gt;parse_datetime($datetimestr,);\n# 2) format datetime for your database format\nwarn $dt-&gt;strftime('%Y-%m-%d %H:%M:%S');\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 5542580, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dacd1ccbe36d795fc75ed15c79ce16e5?s=128&d=identicon&r=PG&f=1", "display_name": "nithin", "link": "https://stackoverflow.com/users/5542580/nithin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460986933, "creation_date": 1460975982, "question_id": 36691630, "link": "https://stackoverflow.com/questions/36691630/fetching-and-inserting-date-with-time-stamp", "title": "Fetching and inserting date with time stamp", "body": "<p>I am writing a perl script which copies data from a table in one db to the same table in other DB. I am using DBI to obtain connection to DBS.\nI noticed that when I am copying data,it's not copied properly.<br>\nIn source table if date is like this-'04/22/1996 13:51:15 PM'<br>\nIn destination table it's appearing like this-'22 APR 1996'.\nCan anyone help me in copying exact date?  </p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["perl", "cpanm"], "answers": [{"tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 1, "last_activity_date": 1460971105, "last_edit_date": 1460971105, "creation_date": 1460970264, "answer_id": 36689638, "question_id": 36689507, "link": "https://stackoverflow.com/questions/36689507/perl-cant-install-dependency-using-cpan/36689638#36689638", "title": "Perl : can&#39;t install dependency using cpan", "body": "<p>Sounds like  a bug in the Net::CURL package and it fails to list its dependencies correctly.</p>\n\n<p>Install ExtUtils::PkgConfig first (just like the error message says).</p>\n\n<p>Then install libcurl (the -dev version if your platform distinguishes between that and the base package) using your platform's package management system (again, like the error message says).</p>\n"}], "owner": {"reputation": 381, "user_id": 4989935, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/793f5a8f78746a83ad4ba317b781cc3f?s=128&d=identicon&r=PG", "display_name": "harsh", "link": "https://stackoverflow.com/users/4989935/harsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1326, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1460971105, "creation_date": 1460969883, "question_id": 36689507, "link": "https://stackoverflow.com/questions/36689507/perl-cant-install-dependency-using-cpan", "title": "Perl : can&#39;t install dependency using cpan", "body": "<p>I have a scsript that uses package LWP::Curl\nBut when I try to install it using this command [sudo cpanm install LWP::Curl] get the following error :-</p>\n\n<pre><code>Fetching http://www.cpan.org/authors/id/S/SY/SYP/Net-Curl-0.37.tar.gz\n-&gt; OK\nUnpacking Net-Curl-0.37.tar.gz\nEntering Net-Curl-0.37\nChecking configure dependencies from META.json\nChecking if you have ExtUtils::MakeMaker::Config 0 ... Yes (6.66)\nConfiguring Net-Curl-0.37\nRunning Makefile.PL\npkgconfig failed:\nCan't locate ExtUtils/PkgConfig.pm in @INC (you may need to install the ExtUtils::PkgConfig module) (@INC contains: /etc/perl /usr/local/lib/perl/5.18.2 /usr/local/share/perl/5.18.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.18 /usr/share/perl/5.18 /usr/local/lib/site_perl .) at Makefile.PL line 39.\n\nUsing curl-config script.\nCan't exec \"curl-config\": No such file or directory at Makefile.PL line 212.\ncurl-config failed:\nExecution curl-config --vernum failed.\nis your libcurl installed correctly ?\n\n\nlibcurl development files do not seem to be available\nYou must install libcurl 7.15.5 or newer to\nbuild this module\n\nNA: Unable to build distribution on this platform.\n-&gt; N/A\n-&gt; FAIL Configure failed for Net-Curl-0.37. See /home/harsh/.cpanm/work/1460968559.18563/build.log for details.\n</code></pre>\n\n<p>I am new to Perl , How can this be resolved?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 1, "creation_date": 1460969456, "post_id": 36688692, "comment_id": 60967167, "body": "If you have two questions, ask them separately. It&#39;s not possible to tick two correct answers to one question at the same time."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1460971283, "post_id": 36688692, "comment_id": 60968388, "body": "I don&#39;t see any reason this would not work an a 64bit platform. Are you getting any error messages? Please <a href=\"https://stackoverflow.com/posts/36688692/edit\">edit</a> your question and indent your code properly, it&#39;s very hard to read."}, {"owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1460987779, "post_id": 36688692, "comment_id": 60980141, "body": "@choroba i have make it into one question."}, {"owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1460987804, "post_id": 36688692, "comment_id": 60980151, "body": "@simbabque the whole code was like that. How to do my code properly?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1460987953, "post_id": 36688692, "comment_id": 60980270, "body": "It&#39;s just not easy to read it the way you have the code. I&#39;m sure it would be easier to read if it was indented a bit better."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "edited": false, "score": 0, "creation_date": 1461305942, "post_id": 36700448, "comment_id": 61147779, "body": "With the code . i have the error as &quot; Can&#39;t open ..... No such file or directorv &quot;"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 0, "last_activity_date": 1461000147, "creation_date": 1461000147, "answer_id": 36700448, "question_id": 36688692, "link": "https://stackoverflow.com/questions/36688692/perl-x64bits-system-and-x32bits-system/36700448#36700448", "title": "Perl - X64bits system and X32bits system", "body": "<p>This isn't a related to the architecture of the Perl build, the OS build, or the system.</p>\n\n<p>Start by checking what error you got!</p>\n\n<pre><code>open (OUT, \"&gt;\", $outfile)\n   or die(\"Can't create \\\"$outfile\\\": $!\\n\");\nopen (INF, \"&lt;\", $directory)\n   or die(\"Can't open \\\"$directory\\\": $!\\n\");\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 4948398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/36663db9d500fce951fab1169d4929f9?s=128&d=identicon&r=PG&f=1", "display_name": "cs87", "link": "https://stackoverflow.com/users/4948398/cs87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 36700448, "answer_count": 1, "score": -1, "last_activity_date": 1461000147, "creation_date": 1460967516, "last_edit_date": 1460987761, "question_id": 36688692, "link": "https://stackoverflow.com/questions/36688692/perl-x64bits-system-and-x32bits-system", "title": "Perl - X64bits system and X32bits system", "body": "<p>I would like to ask why is my script cant work in window X64bits system. This script are working in X32bits before. But i dont why it was having error as \"can not open input file\"</p>\n\n<p>And there is no Output generate in X64bits system. </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings 'all';\n\nmy $directory = 'D:/Script_Code/Perl/Test/Datalog/Unit_80';\n\nmy $testna = 'FW OTP Check UVLO VIN Voltage';\nmy $testpin = 'vrect';\nmy $testnb = 'FW OTP Checksum Readback';\nmy $testnc = 'FW OTP Checksum Difference';\nmy $testnd = 'FW Checksum Pat Pin Fail Count';\n\nmy @header = ( 'Unit#', 'Test_Name', 'Pin_Name', 'Measure_Data', 'Upper_limit' );\nmy $format = \"%-8s %-40s %-15s %-15s %-1s\\n\";\nmy $outfile = \"$directory.sdc\";\n\nopen (OUT, \"&gt;$outfile\" );\nopen (INF, \"$directory\") || die (\" can not open input file \\n\" );\n\nprintf $format, @header;\nprintf OUT $format, @header;\n\nwhile ( &lt;INF&gt; ) {\n\nif ( /Device#:\\s*(\\d+)/ )\n{   $unit = $1;\n    next;    }\n\nchomp;\n\nmy @fields = split /\\s{2,}/;\n\nif ( $fields[2] eq $testna and $fields[3] eq $testpin ) {             # TEMP_SENSE_VBE\n    printf $format, $unit, $fields[2], $fields[3], $fields[5];\n    printf OUT $format, $unit, $fields[2], $fields[3], $fields[5];\n}\nif ( $fields[2] eq $testnb ) {             # TEMP_SENSE_VBE\n    printf $format, $unit, $fields[2], $fields[3], $fields[5];\n    printf OUT $format, $unit, $fields[2], $fields[3], $fields[5];\n}\nif ( $fields[2] eq $testnc ) {             # TEMP_SENSE_VBE\n    printf $format, $unit, $fields[2], $fields[3], $fields[5], $fields[6];\n    printf OUT $format, $unit, $fields[2], $fields[3], $fields[5], $fields[6];\n}\nif ( $fields[2] eq $testnd ) {             # TEMP_SENSE_VBE\n    printf $format, $unit, $fields[2], $fields[3], $fields[5], $fields[6];\n    printf OUT $format, $unit, $fields[2], $fields[3], $fields[5], $fields[6];\n}\n\n}\n      close (INF) || die \"cannot close input file !!\";\n      close (OUT);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1460967401, "post_id": 36687870, "comment_id": 60965881, "body": "Move the <code>EV::run</code> out of the <code>foreach</code> loop. If that starts an event loop, it will never break the <code>foreach</code> and gets stuck in the first iteration."}, {"owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1460967623, "post_id": 36687870, "comment_id": 60966026, "body": "If I do, it won&#39;t run at all :("}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1460967757, "post_id": 36687870, "comment_id": 60966106, "body": "Oh. I just see someting. You do have <code>strict</code>, right? You are assigning the return value of <code>EV::timer</code> to <code>$key</code>, which only exists in the loop. You also redefine <code>$key</code> by using <code>my</code>, although it&#39;s already there. From skimming the docs I am not sure if the timer object needs to be kept in scope, or if it internally has its own copy. But I believe that if it goes out of scope, it will <i>forget</i> about it. That&#39;s why it doesn&#39;t run in that environment. Let me write an answer, though that is only guess-work."}], "answers": [{"comments": [{"owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "edited": false, "score": 0, "creation_date": 1460969426, "post_id": 36688956, "comment_id": 60967143, "body": "Your answer makes sense, but still struggling, here is my code  <a href=\"http://pastebin.com/raw/bYb52Cfs\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "edited": false, "score": 1, "creation_date": 1460969590, "post_id": 36688956, "comment_id": 60967243, "body": "@deano You are missing <code>{}</code> around <code>$key</code>. There should be error messages if you have <code>strict</code> and <code>warnings</code>. Read them! ;) What you are doing now is trying to assign to a method call. If you do <code>$timers-&gt;$key</code> it will try to run a function with the name of the value of <code>$key</code> on the object <code>$timers</code>. Since that is an unblessed hash, it will die with <i>Can&#39;t call a method on an unblessed reference...</i>."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1460968251, "creation_date": 1460968251, "answer_id": 36688956, "question_id": 36687870, "link": "https://stackoverflow.com/questions/36687870/perl-ev-module-create-periodic-events/36688956#36688956", "title": "Perl EV module create periodic events", "body": "<p>The following code is not tested.</p>\n\n<hr>\n\n<p>There are two things wrong with your code:</p>\n\n<p>First, you are starting the event loop in the body of your <code>foreach</code> loop, which will make it run within the first iteration of the <code>foreach</code>. It will then get stuck there, and only one of the timers will be created. To fix that, the <code>EV::run</code> needs to be moved to outside of the <code>foreach</code>.</p>\n\n<p>However, it will then not do anything at all. That's because the event-loop has nothing to do. That is because you are defining your <code>EV::timer</code> objects lexically within the body of the <code>foreach</code>. Once one iteration is done, that variable (<code>$key</code>) will go out of scope, destroying the timer object. When it's done creating both, it will just run an empty event-loop. In addition to that, you redefined <code>$key</code>, which was already the <code>\"one_sec\"</code> or <code>\"five_sec\"</code> string that comes out of the hash.</p>\n\n<p>Instead, you need to put the event objects somewhere that's outside of the loop, too (because each block creates a lexical scope in Perl when you use <code>my</code>, which is a feature). </p>\n\n<p>You should also use more speaking variable names so you don't get confused.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings qw/ all FATAL /;\nuse feature 'say';\nuse EV;\nuse Time::Piece 'localtime';\n\nmy $config = {         # was $hash\n    'one_sec'  =&gt; '1',\n    'five_sec' =&gt; '5',\n}\n\nmy $timers;\nforeach my $key ( keys %$config ) {\n    $timers-&gt;{$key} = EV::timer $config-&gt;{$key},$config-&gt;{$key}, sub {\n        say \"($config-&gt;{$key})  Periodic event at \", localtime(EV::now)-&gt;hms;\n    };\n}\n\nEV::run;      \n</code></pre>\n"}], "owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 36688956, "answer_count": 1, "score": 1, "last_activity_date": 1460968251, "creation_date": 1460964750, "last_edit_date": 1460966231, "question_id": 36687870, "link": "https://stackoverflow.com/questions/36687870/perl-ev-module-create-periodic-events", "title": "Perl EV module create periodic events", "body": "<p>I'm using EV module to create a timed events that will run indefinitely in a defined time interval, here is my code with defined intervals. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings qw/ all FATAL /;\nuse feature 'say';\nuse EV;\nuse Time::Piece 'localtime';\n\nmy $one_sec = EV::timer 1,1, sub {\n   say \"(1s)  Periodic event at \", localtime(EV::now)-&gt;hms;\n};\n\nmy $five_sec = EV::timer 5, 5, sub {\n  say \"(5s)  Periodic event at \", localtime(EV::now)-&gt;hms;\n};\n\nEV::run;\n</code></pre>\n\n<p>I'm trying to define these functions dynamically from hash reference, by looping through it to create these functions.</p>\n\n<pre><code>my $hash = {\n    'one_sec'  =&gt; '1',\n    'five_sec' =&gt; '5',\n};\n</code></pre>\n\n<p>I have used foreach to loop through the hash.</p>\n\n<pre><code>foreach my $key ( keys %$hash )\n{\n\n        my $key = EV::timer $hash-&gt;{$key},$hash-&gt;{$key}, sub {\n        say \"($hash-&gt;{$key})  Periodic event at \", localtime(EV::now)-&gt;hms;\n        };\n\n        EV::run;      \n}\n</code></pre>\n\n<p>It works, but only for the first iteration, I'm not sure why is that? </p>\n\n<p>Your thoughts are highly appreciated.  </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3104, "user_id": 5050203, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dd947bcd8f509cf2fe50b37fed2c2c68?s=128&d=identicon&r=PG&f=1", "display_name": "ehh", "link": "https://stackoverflow.com/users/5050203/ehh"}, "edited": false, "score": 0, "creation_date": 1460956076, "post_id": 36685789, "comment_id": 60960477, "body": "Please format your code using the editor toolbar. It is not readable."}], "answers": [{"tags": [], "owner": {"reputation": 68, "user_id": 5850890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pmQPR.jpg?s=128&g=1", "display_name": "JMa", "link": "https://stackoverflow.com/users/5850890/jma"}, "is_accepted": false, "score": 0, "last_activity_date": 1460963739, "creation_date": 1460963739, "answer_id": 36687569, "question_id": 36685789, "link": "https://stackoverflow.com/questions/36685789/how-to-read-column-in-excel-sheet-using-perl/36687569#36687569", "title": "how to read column in excel sheet using perl", "body": "<p>You can try increment.</p>\n\n<pre><code>my $i;\nfor my $col ( $col_min .. $col_max ) {\n    my $cell = $worksheet-&gt;get_cell( $row, $col );\n    if (!$cell) {\n        $i++;\n        next;\n    }\n    $cell = $cell-&gt;value();\n    $sheet_got .= \"$cell \" if ($i == 2);\n    $i++;         \n}    \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1584, "user_id": 5319663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/HRBQ5.jpg?s=128&g=1", "display_name": "Jeya Suriya Muthumari", "link": "https://stackoverflow.com/users/5319663/jeya-suriya-muthumari"}, "is_accepted": true, "score": 0, "last_activity_date": 1460965825, "creation_date": 1460965825, "answer_id": 36688186, "question_id": 36685789, "link": "https://stackoverflow.com/questions/36685789/how-to-read-column-in-excel-sheet-using-perl/36688186#36688186", "title": "how to read column in excel sheet using perl", "body": "<pre><code>for my $row ( $row_min .. $row_max ) \n    {\n        for my $col ( $col_min .. $col_max ) \n        {\n           my $cell = $worksheet-&gt;get_cell( $row, $col );\n           next unless $cell;\n           $cell = $cell-&gt;value();\n           $sheet_got .= \"$cell \";               \n           }           \n    }\n</code></pre>\n\n<p>Which clearly states that you are reading all values of excel file.\nMention the column you need to extract,</p>\n\n<p>Try like this,</p>\n\n<p>say excel data like,</p>\n\n<p>Name - Age - Gender - Result</p>\n\n<p>jack    - 21 -  M -     ok  - PASS</p>\n\n<p>dane    - 32    - M -   ok  - PASS</p>\n\n<p>stuart  - 45    - M - ok    - PASS</p>\n\n<p>jane    65  F   ok  PASS</p>\n\n<p>po  - 24    - M - ok    - PASS</p>\n\n<p>So here column C is, Gender, so the result should be M M F M</p>\n\n<pre><code>use Win32::OLE::Const 'Microsoft Excel';\nuse Spreadsheet::Read;\nuse Spreadsheet::ParseExcel;\nmy $parser   = Spreadsheet::ParseExcel-&gt;new();\nmy $workbook = $parser-&gt;parse('test.xls');\nmy $sheet_got;\nfor my $worksheet ( $workbook-&gt;worksheets() ) \n{\nmy ( $row_min, $row_max ) = $worksheet-&gt;row_range();\nmy $col = 2;\nfor (;$row_min&lt;$row_max;)\n    {\n        my $cell = $worksheet-&gt;get_cell( $row_min, $col );\n        next unless $cell;\n        $cell = $cell-&gt;value();\n        $sheet_got .= \"$cell \";\n        $row_min = $row_min + 1;\n    }\n}\nprint $sheet_got;\n</code></pre>\n\n<p>The output will be,</p>\n\n<pre><code>&gt;perl parseexcelsample.pl\nM M M F\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5585519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d1616ab4f4ecaf79f8e0a90689c2b21?s=128&d=identicon&r=PG&f=1", "display_name": "DevzS", "link": "https://stackoverflow.com/users/5585519/devzs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1365, "favorite_count": 0, "accepted_answer_id": 36688186, "answer_count": 2, "score": 0, "last_activity_date": 1460965825, "creation_date": 1460955819, "last_edit_date": 1460956135, "question_id": 36685789, "link": "https://stackoverflow.com/questions/36685789/how-to-read-column-in-excel-sheet-using-perl", "title": "how to read column in excel sheet using perl", "body": "<p>I have an excel sheet with 5 columns, in which I want details of column C.\nbelow is my code, which I tried</p>\n\n<pre><code>use Win32::OLE::Const 'Microsoft Excel';\nuse Spreadsheet::Read;\nuse Spreadsheet::ParseExcel;\nmy $parser   = Spreadsheet::ParseExcel-&gt;new();\nmy $workbook = $parser-&gt;parse('abc.xls');\nmy $sheet_got;\nfor my $worksheet ( $workbook-&gt;worksheets() ) \n{\n    my ( $row_min, $row_max ) = $worksheet-&gt;row_range();\n    my ( $col_min, $col_max ) = $worksheet-&gt;col_range();\n    for my $row ( $row_min .. $row_max ) \n    {\n        for my $col ( $col_min .. $col_max ) \n        {\n           my $cell = $worksheet-&gt;get_cell( $row, $col );\n           next unless $cell;\n           $cell = $cell-&gt;value();\n           $sheet_got .= \"$cell \";               \n           }           \n         }\n     }\n</code></pre>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1460964778, "post_id": 36685528, "comment_id": 60964401, "body": "Hi, welcome to Stack Overflow! Could you show us what you&#39;ve tried so far?"}, {"owner": {"reputation": 33, "user_id": 3917055, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2uvWO.jpg?s=128&g=1", "display_name": "Raviraj", "link": "https://stackoverflow.com/users/3917055/raviraj"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1460965273, "post_id": 36685528, "comment_id": 60964679, "body": "I edited it in que. I am not able to get it for all the matches and in table form"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1460965479, "post_id": 36685528, "comment_id": 60964802, "body": "That code won&#39;t work. I would recommend separating this into two problems. First get the parsing working, just print what you&#39;re capturing. Then worry about putting it into a hash. Have a look at something like <a href=\"https://metacpan.org/pod/Regexp::Grammars\" rel=\"nofollow noreferrer\">Regexp::Grammars</a>"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 3917055, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2uvWO.jpg?s=128&g=1", "display_name": "Raviraj", "link": "https://stackoverflow.com/users/3917055/raviraj"}, "edited": false, "score": 0, "creation_date": 1461050636, "post_id": 36688228, "comment_id": 61009240, "body": "It helps. Still I am doing some changes"}, {"owner": {"reputation": 33, "user_id": 3917055, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2uvWO.jpg?s=128&g=1", "display_name": "Raviraj", "link": "https://stackoverflow.com/users/3917055/raviraj"}, "edited": false, "score": 0, "creation_date": 1461146714, "post_id": 36688228, "comment_id": 61062815, "body": "Can you tell me why we require two while loop? please. When we have cell name it is going to be assigned to $cell_name. Then how it will again check for while (&lt;&gt;) 2nd one."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "reply_to_user": {"reputation": 33, "user_id": 3917055, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2uvWO.jpg?s=128&g=1", "display_name": "Raviraj", "link": "https://stackoverflow.com/users/3917055/raviraj"}, "edited": false, "score": 0, "creation_date": 1461147338, "post_id": 36688228, "comment_id": 61063256, "body": "We need two while loops because we are looking for two different things.  When outside a cell, we are looking for <code>cell(name)</code>, but once we find it and go inside a cell we are looking for <code>something : something</code> and <code>}</code>.  The program has two modes - but both modes require reading in lines to process.  So, we need two loops.  The outer loop scans looking for cells, the inner loop scans looking for data that makes up a cell.  HTH."}, {"owner": {"reputation": 33, "user_id": 3917055, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2uvWO.jpg?s=128&g=1", "display_name": "Raviraj", "link": "https://stackoverflow.com/users/3917055/raviraj"}, "edited": false, "score": 0, "creation_date": 1461148717, "post_id": 36688228, "comment_id": 61064249, "body": "Coreect me if I am wrong:  let first we get the cell name. Then line after the cell name will come, it will jump to next due to !=/$cell_name_re/ condition from first while."}], "tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": true, "score": 0, "last_activity_date": 1460965970, "creation_date": 1460965970, "answer_id": 36688228, "question_id": 36685528, "link": "https://stackoverflow.com/questions/36685528/use-of-hash-of-hashes-for-extracting-data/36688228#36688228", "title": "Use of hash of hashes for extracting data", "body": "<p>Firstly, you need some way to avoid the text commentary at the start of the file.  You could just skip the first line, but then random text that appears elsewhere will mess things up.  What would be better is to look for the relevant data but happily ignore any other text no matter where it appears.  </p>\n\n<p>Notice that the text commentary contains relevant-looking data: <code>cell (\"name\")</code> but there is no <code>{</code> on the end of the line.  You could use that to distinguish between the commentary and the data but that's perhaps a little too flexible.  Probably better to insist on the <code>{</code> as well as whitespace only before the <code>cell</code> declaration.</p>\n\n<p>Once inside a cell, it's reasonable to insist on having no comments.  We can then just iteratively read lines and split on the <code>\":\"</code> until we reach the <code>}</code>.  Combined with some general advice;</p>\n\n<ol>\n<li>Separate regex definition from regex use. </li>\n<li>Test your matches before using the capture variables; and </li>\n<li>Use 'extended mode' regexes which allow whitespace in the regex</li>\n</ol>\n\n<p>This all gives us; </p>\n\n<pre><code>#!/usr/bin/env perl\nuse v5.12;\nuse Data::Dumper qw(Dumper);\n\nmy $cell_name_re =      qr/ ^ \\s* cell \\s* \\( \\s* \"(\\w+)\" \\) \\s* { /x;\nmy $cell_data_re =      qr/ ^ \\s* ([^:]+) : (\\N+)  \\n /x;\nmy $closing_curly_re =  qr/ ^ \\s* }  /x;\n\nmy %data ;\nwhile (&lt;&gt;) {\n    next unless /$cell_name_re/ ;\n    my $cell_name = $1 ;\n\n    my %cell_hash ;\n    while (&lt;&gt;) {\n        if ( /$cell_data_re/ )  {\n            $cell_hash{ $1 } = $2 ;\n        }\n        elsif ( /$closing_curly_re/ )  {\n            $data{ $cell_name } = \\%cell_hash ;\n            last ;        # exit the inner loop\n        }\n        else {\n            warn \"Don't understand line $. - ignoring\" ;\n        }\n    }\n}\nprint Dumper( \\%data );\nexit 0;\n</code></pre>\n\n<p>There are two key things here - firstly, <code>%cell_hash</code> is declared inside the first loop which ensures we get a new <code>%cell_hash</code> each time through; and when we insert <code>%cell_hash</code> into the global <code>%data</code> we take a reference to it with <code>\\</code>.  Running it the input data above yields;</p>\n\n<pre><code>    {\n      'name' =&gt; {\n                  'function' =&gt; ' A+B;',\n                  'value' =&gt; ' 0.435;',\n                  'pin ' =&gt; ' A, B;'\n                }\n    };\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 3917055, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2uvWO.jpg?s=128&g=1", "display_name": "Raviraj", "link": "https://stackoverflow.com/users/3917055/raviraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 36688228, "answer_count": 1, "score": 1, "last_activity_date": 1460965970, "creation_date": 1460953916, "last_edit_date": 1460965199, "question_id": 36685528, "link": "https://stackoverflow.com/questions/36685528/use-of-hash-of-hashes-for-extracting-data", "title": "Use of hash of hashes for extracting data", "body": "<p>I am new to perl and am trying to understand hashes. I've tried using a basic hash and its working. I am now trying to extract data using a hash of hashes. E.g I have a text file (input.txt) that contains some random information. How can I extract the required information using a hash of hashes structure.</p>\n\n<h2>input.txt</h2>\n\n<pre><code>hi how r you this is sample .txt. you can use it for learning hash and hash of hashes. Let say I have cell (\"name\") and it has value as below\ncell (\"name\"){\n  pin : A, B;\n  function: A+B;\n  value: 0.435;\n}\n</code></pre>\n\n<p>I want to extract cell data in following format.</p>\n\n<h2>Output</h2>\n\n<pre><code>  Cell    Pin   Value\n  name     A    0.435\n</code></pre>\n\n<p>I tried this:</p>\n\n<pre><code>  while(&lt;$fh&gt;)\n     {\n    if(/ cell \\(/){$hash{cell} //=$_;}\n    elsif(/ pin \\(/){$hash{pin} //=$_;}\n\n    elsif(/ value :/){$hash{value} //=$_;}\n    }\n    use Data::Dump;\n    dd \\%hash;\n</code></pre>\n\n<p>This will give only one entry in hash form. How can I get all these matches available in the input file.</p>\n"}, {"tags": ["perl", "data-structures"], "answers": [{"comments": [{"owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "edited": false, "score": 0, "creation_date": 1460923616, "post_id": 36681521, "comment_id": 60953008, "body": "I want to also store the &quot;order&quot; number, which will be 0 the first time <code>sub mark</code> runs, then 1... Can I store that too?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "edited": false, "score": 0, "creation_date": 1460923774, "post_id": 36681521, "comment_id": 60953052, "body": "What&#39;s the relation of those?"}, {"owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "edited": false, "score": 0, "creation_date": 1460923916, "post_id": 36681521, "comment_id": 60953102, "body": "In my current output, it&#39;s equivalent to the line number."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "edited": false, "score": 0, "creation_date": 1460924231, "post_id": 36681521, "comment_id": 60953220, "body": "You could push <code>[$line, $position]</code> as the array elements. But I don&#39;t see where the line number is coming from."}, {"owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "edited": false, "score": 0, "creation_date": 1460924639, "post_id": 36681521, "comment_id": 60953338, "body": "Look at my sample output. <code>if: 12</code> is the first line... I can probably manage calculating that, in any case."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 0, "last_activity_date": 1460923124, "creation_date": 1460923124, "answer_id": 36681521, "question_id": 36681095, "link": "https://stackoverflow.com/questions/36681095/how-can-i-store-this-data-in-perl/36681521#36681521", "title": "How can I store this data in Perl?", "body": "<p>What you need is a hash to store your <em>titles</em>, and array references to store the <em>positions</em>. That would look something like the following:</p>\n\n<pre><code>$VAR1 = {\n          'rof: ' =&gt; [\n                       '26',\n                       '25',\n                       '24',\n                       '23',\n                       '26'\n                     ],\n          'for: ' =&gt; [\n                       '26',\n                       '25',\n                       '24',\n                       '23',\n                       '26'\n                     ],\n          'fi: ' =&gt; [\n                      '27',\n                      '27',\n                      '27',\n                      '27',\n                      '12',\n                      '11',\n                      '10',\n                      '9'\n                    ],\n          'if: ' =&gt; [\n                      '12',\n                      '11',\n                      '10',\n                      '9'\n                    ]\n        };\n</code></pre>\n\n<p>I produced that by making these changes.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy %foo;\nsub mark{\n    my ($title, $position)= @_;\n\n    push @{ $foo{$title} }, $position;\n}\n\n# your regex and match here\n\nprint Dumper \\%foo;\n</code></pre>\n\n<p>To access those, you can iterate using the <a href=\"http://perldoc.perl.org/functions/keys.html\" rel=\"nofollow\"><code>keys</code> keyword</a> and dereference using <code>@{ $foo{$key} }</code> to get to the arrays.</p>\n\n<p>You should read <a href=\"http://perldoc.perl.org/perldata.html\" rel=\"nofollow\">perldata</a>, <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perlref</a> and <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a>, and you might also be interested in the <a href=\"https://metacpan.org/pod/re#debug-mode\" rel=\"nofollow\"><code>re</code> pragma's debug mode</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 2, "last_activity_date": 1460925570, "creation_date": 1460925570, "answer_id": 36681967, "question_id": 36681095, "link": "https://stackoverflow.com/questions/36681095/how-can-i-store-this-data-in-perl/36681967#36681967", "title": "How can I store this data in Perl?", "body": "<p>I'd create an array to keep the order (@ordered), the following code stores title and position in it. The other two hashes, %by_title and %by_position, just make lookup faster. They only store the index to the @ordered array.</p>\n\n<pre><code>use feature qw{ say };\nuse constant {\n    TITLE    =&gt; 0,\n    POSITION =&gt; 1,\n};\n\nmy (%by_title, %by_position, @ordered);\nmy $order = 0;\nsub mark{\n    my ($title, $position)= @_;\n    push @{ $by_title{$title} }, $order;\n    push @{ $by_position{$position} }, $order;\n    push @ordered, [ $title, $position ];\n    ++$order;\n}\n\n# ...\n\nsay \"Last: @{ $ordered[-1] }\";\nsay 'Other at the same position:',\n    join ', ', map \"@{ $ordered[$_] }\",\n               @{ $by_position{ $ordered[-1][POSITION] } };\nsay 'Other with the same title: ',\n    join ', ', map \"@{ $ordered[$_] }\",\n               @{ $by_title{ $ordered[-1][TITLE] } };\n</code></pre>\n"}], "owner": {"reputation": 5492, "user_id": 6083675, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/D2CgS.png?s=128&g=1", "display_name": "Laurel", "link": "https://stackoverflow.com/users/6083675/laurel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1465293160, "creation_date": 1460920837, "last_edit_date": 1465293160, "question_id": 36681095, "link": "https://stackoverflow.com/questions/36681095/how-can-i-store-this-data-in-perl", "title": "How can I store this data in Perl?", "body": "<p>Essentially, I made a bunch of Perl code that currently produces output like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>if: 12\nfor: 26\nrof: 26\nfi: 27\nfor: 25\nrof: 25\nfi: 27\n...some more backtracking...\nif: 9\nfi: 9\nfor: 26\nrof: 26\n</code></pre>\n\n<p>Each line is an event generated by code in a regex in the form: <code>title: position</code>.</p>\n\n<p>(I'm not asking about the regex; it perfectly describes a simple CFG I made up. Don't mention anything about it, I just need help storing and then retrieving the data that it's already printing.)</p>\n\n<p>I want <code>sub mark</code> to put this data into a data structure. But I'm not sure the best way to do this. I need to be able to retrieve the data in three ways, (with an example of each):</p>\n\n<ul>\n<li>Title: What events are titled <code>for</code>?</li>\n<li>Position: What events fired off at position 12?</li>\n<li>Order: What event was last?</li>\n</ul>\n\n<p>I also want to avoid duplicate entires. If <code>fi: 27</code> happens as the fourth and eighth event, I want one entry, with order being an array like <code>4,8,</code>. </p>\n\n<p>Please keep in mind that I am very inexperienced with Perl and I would appreciate code examples (explaining how to both store and retrieve using iteration). I know that there seems to be three types of data structures: <code>$</code>, <code>@</code>, and <code>%</code>. I haven't gotten much further than that, because Perl is structured completely different than Java (which I have the most experience in).</p>\n\n<p>Feel free to ask me to clarify anything.</p>\n\n<p>My code is very simple, except for the regex:</p>\n\n<pre><code>sub mark{\n    my ($title, $position)= @_;\n    print \"\\n\";\n    print $title;\n    print $position;\n}\n\n$re = qr{\n((?&amp;line))\n\n|(*F)(?:\n   (?'line'  (?&amp;if)|(?&amp;for))\n   (?'if'    if \\((?&amp;exp)*\\)\\{\\s*(?{mark(\"if: \", pos)})(?&amp;line)*(?{mark(\"fi: \", pos)})\\s*\\})\n   (?'for'   for\\((?&amp;exp)*\\)\\{\\s*(?{mark(\"for: \",pos)})(?&amp;line)*(?{mark(\"rof: \",pos)})\\s*\\})\n   (?'eq'    [=])\n   (?'exp'   (?&amp;abc)(\\s?(?&amp;eq)\\s?(?&amp;num)+)?)\n   (?'num'   [0-9])\n   (?'abc'[a-z])\n   (?'space' \\s)\n)}xm;\n\n# I've been changing the following 'string' to test different stuff\n# This is the run that produced the sample data\n# 'oops;' doesn't follow the grammar rules, so it shows how the regex may backtrack\n\n'if(true){\n  for(i = 5){\n  }\n  oops;\n}' =~ /$re/\n     and print \"\\n\\n$1\\n\\n\";\n</code></pre>\n"}, {"tags": ["perl", "hash"], "answers": [{"comments": [{"owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "edited": false, "score": 0, "creation_date": 1460915284, "post_id": 36679580, "comment_id": 60949824, "body": "I appreciate your explanation"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1460912772, "creation_date": 1460912772, "answer_id": 36679580, "question_id": 36679382, "link": "https://stackoverflow.com/questions/36679382/configsimple-perl-module-loop-through-hash/36679580#36679580", "title": "Config::Simple Perl module loop through hash", "body": "<p>You are dealing with a hash <em>reference</em> so you need to use <code>$hash-&gt;{$key}</code></p>\n\n<p>An expression like <code>$hash{$key}</code> is attempting to access an element of hash <code>%hash</code>, and the error message you are getting is because that hash doesn't exist. <code>$hash</code> and <code>%hash</code> are completely unrelated</p>\n"}, {"tags": [], "owner": {"reputation": 843, "user_id": 6020333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bea9014ebf1e1188cac53beb61560df8?s=128&d=identicon&r=PG&f=1", "display_name": "bart", "link": "https://stackoverflow.com/users/6020333/bart"}, "is_accepted": true, "score": 1, "last_activity_date": 1460912871, "creation_date": 1460912871, "answer_id": 36679597, "question_id": 36679382, "link": "https://stackoverflow.com/questions/36679382/configsimple-perl-module-loop-through-hash/36679597#36679597", "title": "Config::Simple Perl module loop through hash", "body": "<p><code>$hash{key}</code> syntax that you use for printing the key's value works when you have a named hash: <code>%hash</code>. In your case, you have an anonymous hash, under a hash reference. </p>\n\n<p>To access the key's value in such a case, you should use this syntax: <code>$hash_ref-&gt;{key}</code>. Change:</p>\n\n<pre><code>print \"key $key value $hash{$key}\\n\";\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>print \"key $key value $hash-&gt;{$key}\\n\";\n</code></pre>\n"}], "owner": {"reputation": 9140, "user_id": 1007727, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cb37f072befac0347afe7b51050e23e?s=128&d=identicon&r=PG", "display_name": "Deano", "link": "https://stackoverflow.com/users/1007727/deano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 36679597, "answer_count": 2, "score": 0, "last_activity_date": 1460912871, "creation_date": 1460911877, "question_id": 36679382, "link": "https://stackoverflow.com/questions/36679382/configsimple-perl-module-loop-through-hash", "title": "Config::Simple Perl module loop through hash", "body": "<p>I'm using Config::Simple for my App config, I have created <code>Stats_feeder.cfg</code> that has a block <code>[stats_interval]</code></p>\n\n<pre><code>[stats_interval]\n1m = 60\n15m = 900\n</code></pre>\n\n<p>And my perl script  <code>script.pl</code></p>\n\n<pre><code>my $cfg = new Config::Simple('stats_feeder.cfg') or die Config::Simple-&gt;error();\n\nmy $hash = $cfg-&gt;get_block('stats_interval');\n</code></pre>\n\n<p>When I run <code>print Dumper($hash);</code> I get </p>\n\n<pre><code># perl stats_feederv2.pl\n$VAR1 = {\n          '1m' =&gt; '300',\n          '15m' =&gt; '900',\n          '60m' =&gt; '3600',\n          '30m' =&gt; '1800'\n        };\n</code></pre>\n\n<p>I can access values using  <code>$val = $cfg-&gt;param('1m');</code></p>\n\n<p>I'm trying to loop through this hash and print keys and values, I have tried the following: </p>\n\n<pre><code>foreach my $key ( keys %$hash )\n{\n\n  print \"key $key value $hash{$key}\\n\";\n\n}\n</code></pre>\n\n<p>I keep getting </p>\n\n<pre><code>Global symbol \"%hash\" requires explicit package name at stats_feederv2.pl line 42.\nExecution of stats_feederv2.pl aborted due to compilation errors.\n</code></pre>\n"}, {"tags": ["linux", "perl", "xero-api"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1460967658, "post_id": 36679376, "comment_id": 60966039, "body": "Have you talked to their customer service?"}, {"owner": {"reputation": 23, "user_id": 6216586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3fdbe810fee951ea7a8238537dc8018?s=128&d=identicon&r=PG&f=1", "display_name": "GuyS", "link": "https://stackoverflow.com/users/6216586/guys"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1461061952, "post_id": 36679376, "comment_id": 61016982, "body": "Posted on the developers forum but no replies yet .."}], "answers": [{"tags": [], "owner": {"reputation": 1158, "user_id": 2779629, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9OCH1xMxP2c/AAAAAAAAAAI/AAAAAAAAABc/ysbFYiQdY5k/photo.jpg?sz=128", "display_name": "Peter Scott", "link": "https://stackoverflow.com/users/2779629/peter-scott"}, "is_accepted": false, "score": 1, "last_activity_date": 1479959303, "creation_date": 1479959303, "answer_id": 40777736, "question_id": 36679376, "link": "https://stackoverflow.com/questions/36679376/xero-partner-api-oauth-certificates-issue-when-trying-to-obtain-tokens-linux/40777736#40777736", "title": "Xero Partner API Oauth certificates issue when trying to obtain tokens ( Linux / Perl )", "body": "<p>Xero provides 3 types of application integration approaches that all use the <a href=\"https://oauth.net/core/1.0a/\" rel=\"nofollow noreferrer\">OAuth (v1.0a)</a>  protocol to authenticate 3rd party applications.</p>\n\n<p>Using the 'private' and 'partner' applications will make use of a cert while using the public application will not. Private applications are appropriate when you just wish to establish an integration point between your application and your Xero data. Public applications are appropriate when you wish to obtain access to your user's Xero data and require them to authorise this ( for 30 minutes ). Partner applications are an evolution of the Public applications and require Xero approval but operate similarly except that the user doesn't need to re-authenticate every 30 minutes to provide you with access to their data.</p>\n\n<p>You should first ensure you are familiar with the Xero docs and particularly the <a href=\"https://developer.xero.com/documentation/getting-started/getting-started-guide/\" rel=\"nofollow noreferrer\">Getting Started Guide</a> .</p>\n\n<p>With regards to perl there is a Net::Xero module on CPAN. I used this to inform my own CCP:Xero module which is available on Github at <a href=\"https://github.com/pscott-au/CCP-Xero\" rel=\"nofollow noreferrer\">https://github.com/pscott-au/CCP-Xero</a> </p>\n"}], "owner": {"reputation": 23, "user_id": 6216586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3fdbe810fee951ea7a8238537dc8018?s=128&d=identicon&r=PG&f=1", "display_name": "GuyS", "link": "https://stackoverflow.com/users/6216586/guys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1479959303, "creation_date": 1460911846, "question_id": 36679376, "link": "https://stackoverflow.com/questions/36679376/xero-partner-api-oauth-certificates-issue-when-trying-to-obtain-tokens-linux", "title": "Xero Partner API Oauth certificates issue when trying to obtain tokens ( Linux / Perl )", "body": "<p>I am attempting to complete our integration with the Xero Partner API and am having some trouble with the Oauth process for obtaining tokens. We didn't have a problem with this using the public API but with the partner API that requires a client certificate, we keep getting an error \"Can't connect to api-partner.network.xero.com:443\".</p>\n\n<p>We handle this oauth part from an authorization server, an Apache/Linux Server running perl code.\nThe rest of the calls are made from our main IIS server and we have no problems there.</p>\n\n<p>What's puzzling is that according to the docs we don't even need the client certificate for the oauth calls. \n<a href=\"http://developer.xero.com/documentation/getting-started/partner-applications/\" rel=\"nofollow\">http://developer.xero.com/documentation/getting-started/partner-applications/</a></p>\n\n<p>However, at first we received error messages saying otherwise (\"certificate verify failed\") and we guessed that we do need the client certificate even at this stage. So we tried to install and use all certificate variations but still we cant connect.</p>\n\n<p>Can anyone confirm that oauth calls require the client certificate and if so elaborate on what is needed in order to complete the Oauth step on an apache/linux server? What certificates are needed and how do we install them?</p>\n\n<p>Thank you very much,\nGuy.</p>\n"}, {"tags": ["string", "perl", "logging", "output", "editor"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460904273, "post_id": 36677785, "comment_id": 60945814, "body": "The required output appears to be unrelated to the input that you show"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 2, "creation_date": 1460906388, "post_id": 36677785, "comment_id": 60946595, "body": "<a href=\"http://perlmonks.org/?node_id=1160718\" rel=\"nofollow noreferrer\">x-posted at PerlMonks</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1460907103, "last_edit_date": 1460907103, "creation_date": 1460906742, "answer_id": 36678445, "question_id": 36677785, "link": "https://stackoverflow.com/questions/36677785/split-string-variable-of-log-input-and-output-pieces-in-text-file-perl/36678445#36678445", "title": "Split string variable of log input and output pieces in text file (PERL)", "body": "<p>If all lines will always have the same number of fields, this will work.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nopen my $wfh, '&gt;', 'out.csv' or die $!;\n\nmy $cols = \"Protocol, Source IP Address, Source Port, File Size\\n\";\nprint $wfh $cols;\n\nwhile (&lt;DATA&gt;){\n    if (/\n          (?:.*?\\s){3}  # get rid of the time\n          (.*?)         # capture the proto ($1)\n          \\s+           # skip the next whitespace    \n          (.*?):(\\d+)   # separate IP and port, capture both ($2, $3)\n          .*?\\(         # skip everything until an opening parens\n          (\\d+)         # capture bytes ($4)\n        /x\n       ){\n        print $wfh \"$1, $2, $3, $4\\n\";\n    }\n}\n\n\n__DATA__\n2016-04-17 10:12:27:682011 GMT tcp 115.239.248.245:1751 -&gt; 192.168.0.17:8080 52976f9f34d5c286ecf70cac6fba4506 04159c6111bca4f83d7d606a617acc5d6a58328d3a631adf3795f66a5d6265f4d1ec99977a5ae8cb2f3133c9503e5086a5f2ac92be196bb0c9a9f653f9669495 (312 bytes)\n</code></pre>\n\n<p>Output file:</p>\n\n<pre><code>Protocol, Source IP Address, Source Port, File Size\ntcp, 115.239.248.245, 1751, 312\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 3689165, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1633692693/picture?type=large", "display_name": "firepro20", "link": "https://stackoverflow.com/users/3689165/firepro20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1460907103, "creation_date": 1460903215, "question_id": 36677785, "link": "https://stackoverflow.com/questions/36677785/split-string-variable-of-log-input-and-output-pieces-in-text-file-perl", "title": "Split string variable of log input and output pieces in text file (PERL)", "body": "<p>I have the following entry in my logfile.</p>\n\n<pre><code>[2016-04-17 10:12:27:682011 GMT] tcp 115.239.248.245:1751 -&gt; 192.168.0.17:8080 52976f9f34d5c286ecf70cac6fba4506 04159c6111bca4f83d7d606a617acc5d6a58328d3a631adf3795f66a5d6265f4d1ec99977a5ae8cb2f3133c9503e5086a5f2ac92be196bb0c9a9f653f9669495 (312 bytes)\n</code></pre>\n\n<p>I want to write a script to split this one line string into pieces in order to write some of these pieces in a .csv file for machine learning. Till now I got this script to find a certain pattern and if found write what it was given to find, hardcoded search. This is not what I want. This is the script I have right now.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\n$path1 = \"/home/tsec/testwatch/attackerresult.log\";\n$attacker = \"&gt;&gt;/home/tsec/testwatch/attacker.csv\";\n#$path2 =\n#$path3 =\n#$path4 =\n\n#function definition #Pattern for attackerlog only\nsub extractor(){\nopen(LOG, $path1) or die \"Cant't open '$path1': $!\";\nopen(FILE, $attacker) or die \"Can't open '$attacker': $!\";\n\n$target = \"tcp\";\n\nwhile(&lt;LOG&gt;){\n\n        if(/$target/){\n        print FILE $target . \"\\n\";\n\n        }\n}\n}\nclose(LOG);\nclose(FILE);\n</code></pre>\n\n<p>I want the output in the CSV file to be something like this:</p>\n\n<p>I can do the csv titles manually</p>\n\n<p>(Titles)Protocol, Source IP Address, Source Port, File Size</p>\n\n<p>(String result from script)tcp, 127.0.0.1, 8080, 312</p>\n\n<p>The above is just an example.</p>\n\n<p>Any idea? </p>\n"}, {"tags": ["bash", "perl", "sed", "tr"], "answers": [{"comments": [{"owner": {"reputation": 7292, "user_id": 1268941, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d27dc0d604e075ad3281aeb013a419c7?s=128&d=identicon&r=PG&f=1", "display_name": "brucezepplin", "link": "https://stackoverflow.com/users/1268941/brucezepplin"}, "edited": false, "score": 0, "creation_date": 1460884541, "post_id": 36674478, "comment_id": 60939702, "body": "thanks Kenavoz. This has worked. I suspected this was the case. if you don&#39;t mind, could you explain how each part works? I only really understand  <code>s&#47;,\\.,&#47;,?,&#47;g</code>. and why escape before the <code>.</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1460901069, "post_id": 36674478, "comment_id": 60944677, "body": "IMO it&#39;s kinda clunky to take two passes when all that is needed is a proper regex pattern for it to work in one go"}, {"owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460901710, "post_id": 36674478, "comment_id": 60944896, "body": "@Borodin Which sed regex would you suggest ?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1460904085, "post_id": 36674478, "comment_id": 60945739, "body": "@Kenavoz: I wouldn&#39;t suggest a sed regex"}, {"owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460959852, "post_id": 36674478, "comment_id": 60961849, "body": "@Borodin It seems you don&#39;t have a proper regex to suggest but another approach using perl. Just make your comment an answer."}], "tags": [], "owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "is_accepted": true, "score": 3, "last_activity_date": 1460885081, "last_edit_date": 1460885081, "creation_date": 1460882938, "answer_id": 36674478, "question_id": 36674428, "link": "https://stackoverflow.com/questions/36674428/remove-only-some-fullstops-from-a-csv-file/36674478#36674478", "title": "remove only *some* fullstops from a csv file", "body": "<p>This should work :</p>\n\n<pre><code>sed ':a;s/,\\.,/,?,/g;ta' file\n</code></pre>\n\n<p>With successive <code>,.,</code> strings, after a substitution succeeded, next character to be processed will be the following <code>.</code> that doesn't match the pattern, so with you need a second pass.</p>\n\n<p><code>:a</code> is a label for upcoming loop</p>\n\n<p><code>,\\.,</code> will match dot between commas. Note that the dot must be escaped because <code>.</code> is for matching any character (<code>,a,</code> would match with <code>,.,</code>).</p>\n\n<p><code>g</code> is for general substitution</p>\n\n<p><code>ta</code> tests previous substitution and if it succeeded, loops to <code>:a</code> label for remaining substitutions.</p>\n"}, {"tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 2, "last_activity_date": 1460883280, "creation_date": 1460883280, "answer_id": 36674534, "question_id": 36674428, "link": "https://stackoverflow.com/questions/36674428/remove-only-some-fullstops-from-a-csv-file/36674534#36674534", "title": "remove only *some* fullstops from a csv file", "body": "<p>Using sed it is possible by running a loop as shown in above answer however problem is easily solved using <code>perl</code> command line with lookarounds:</p>\n\n<pre><code>perl -pe 's/(?&lt;=,)\\.(?=,)/?/g' file\n\n1,987372,987372,C,T,?,?,?,?,?,?,?,?,1,D,?,?,?,?,?,?,?,1.293,12.23,0.989,0.973,D,?,?,?,?,0.253,0,4.08,0.917,1.048,1.000,1.000,12.998\n1,987393,987393,C,T,?,?,?,?,?,?,?,?,1,D,?,?,?,?,?,?,0.152,1.980,16.09,0.999,0.982,D,-0.493,T,0.335,T,0.696,0,5.06,0.871,0.935,0.998,0.997,16.252\n</code></pre>\n\n<p>This command doesn't need a loop because instead of matching surrounding commas we're just asserting their position using a lookbehind and lookahead.</p>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1460889402, "creation_date": 1460889402, "answer_id": 36675427, "question_id": 36674428, "link": "https://stackoverflow.com/questions/36674428/remove-only-some-fullstops-from-a-csv-file/36675427#36675427", "title": "remove only *some* fullstops from a csv file", "body": "<p>You have an example using <code>sed</code> style regular expressions. I'll offer an alternative - parse the CSV, and then treat each thing as a 'field':</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n#iterate input row by row\nwhile ( &lt;DATA&gt; ) { \n   #remove linefeeds\n   chomp;\n   #split this row on ,\n   my @row = split /,/;\n   #iterate each field  \n   foreach my $field ( @row ) {\n       #replace this field with \"?\" if it's \".\"\n       $field = \"?\" if $field eq \".\";\n   }\n   #stick this row together again. \n   print join \",\", @row,\"\\n\";\n}\n\n__DATA__\n1,987372,987372,C,T,.,.,.,.,.,.,.,.,1,D,.,.,.,.,.,.,.,1.293,12.23,0.989,0.973,D,.,.,.,.,0.253,0,4.08,0.917,1.048,1.000,1.000,12.998\n1,987393,987393,C,T,.,.,.,.,.,.,.,.,1,D,.,.,.,.,.,.,0.152,1.980,16.09,0.999,0.982,D,-0.493,T,0.335,T,0.696,0,5.06,0.871,0.935,0.998,0.997,16.252\n</code></pre>\n\n<p>This is more verbose than it needs to be, to illustrate the concept. This could be reduced down to:</p>\n\n<pre><code>perl -F, -lane 'print join \",\", map { $_ eq \".\" ? \"?\" : $_ } @F'\n</code></pre>\n\n<p>If your CSV also has quoting, then you can break out the <code>Text::CSV</code> module, which handles that neatly. </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1460900943, "creation_date": 1460900943, "answer_id": 36677397, "question_id": 36674428, "link": "https://stackoverflow.com/questions/36674428/remove-only-some-fullstops-from-a-csv-file/36677397#36677397", "title": "remove only *some* fullstops from a csv file", "body": "<p>All that's necessary is a single substitution</p>\n\n<pre><code>$ perl -pe 's/,\\.(?=,)/,?/g' dots.csv\n1,987372,987372,C,T,?,?,?,?,?,?,?,?,1,D,?,?,?,?,?,?,?,1.293,12.23,0.989,0.973,D,?,?,?,?,0.253,0,4.08,0.917,1.048,1.000,1.000,12.998\n1,987393,987393,C,T,?,?,?,?,?,?,?,?,1,D,?,?,?,?,?,?,0.152,1.980,16.09,0.999,0.982,D,-0.493,T,0.335,T,0.696,0,5.06,0.871,0.935,0.998,0.997,16.252\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1460917438, "creation_date": 1460917438, "answer_id": 36680427, "question_id": 36674428, "link": "https://stackoverflow.com/questions/36674428/remove-only-some-fullstops-from-a-csv-file/36680427#36680427", "title": "remove only *some* fullstops from a csv file", "body": "<p>You just need 2 passes since the trailing <code>,</code> found on a <code>,.,</code> match isn't available to match the leading <code>,</code> on the next <code>,.,</code>:</p>\n\n<pre><code>$ sed 's/,\\.,/,?,/g; s/,\\.,/,?,/g' file\n1,987372,987372,C,T,?,?,?,?,?,?,?,?,1,D,?,?,?,?,?,?,?,1.293,12.23,0.989,0.973,D,?,?,?,?,0.253,0,4.08,0.917,1.048,1.000,1.000,12.998\n1,987393,987393,C,T,?,?,?,?,?,?,?,?,1,D,?,?,?,?,?,?,0.152,1.980,16.09,0.999,0.982,D,-0.493,T,0.335,T,0.696,0,5.06,0.871,0.935,0.998,0.997,16.252\n</code></pre>\n\n<p>The above will work in any sed on any OS.</p>\n"}], "owner": {"reputation": 7292, "user_id": 1268941, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d27dc0d604e075ad3281aeb013a419c7?s=128&d=identicon&r=PG&f=1", "display_name": "brucezepplin", "link": "https://stackoverflow.com/users/1268941/brucezepplin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 36674478, "answer_count": 5, "score": 1, "last_activity_date": 1460917438, "creation_date": 1460882670, "question_id": 36674428, "link": "https://stackoverflow.com/questions/36674428/remove-only-some-fullstops-from-a-csv-file", "title": "remove only *some* fullstops from a csv file", "body": "<p>If I have lines like the following:</p>\n\n<pre><code>1,987372,987372,C,T,.,.,.,.,.,.,.,.,1,D,.,.,.,.,.,.,.,1.293,12.23,0.989,0.973,D,.,.,.,.,0.253,0,4.08,0.917,1.048,1.000,1.000,12.998\n1,987393,987393,C,T,.,.,.,.,.,.,.,.,1,D,.,.,.,.,.,.,0.152,1.980,16.09,0.999,0.982,D,-0.493,T,0.335,T,0.696,0,5.06,0.871,0.935,0.998,0.997,16.252\n</code></pre>\n\n<p>how can I replace all instances of <code>,.,</code> with <code>,?,</code></p>\n\n<p>I want to preserve actual decimal places in the numbers so I can't just do</p>\n\n<pre><code>sed 's/./?/g' file\n</code></pre>\n\n<p>however when doing:</p>\n\n<pre><code>sed 's/,.,/,?,/g' file\n</code></pre>\n\n<p>this only appears to work in some cases. i.e. there are still instances of <code>,.,</code> hanging around.</p>\n\n<p>anyone have any pointers?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "websocket", "mojolicious", "mojo", "ioloop"], "comments": [{"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 0, "creation_date": 1460882552, "post_id": 36673303, "comment_id": 60939177, "body": "Does Mojolicious enable Perl6-style sub argument declaration?"}, {"owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "reply_to_user": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 1, "creation_date": 1460899123, "post_id": 36673303, "comment_id": 60943997, "body": "Perl v5.20 has subroutine signatures as an experimental feature:<a href=\"http://www.effectiveperlprogramming.com/2015/04/use-v5-20-subroutine-signatures/\" rel=\"nofollow noreferrer\">effectiveperlprogramming.com/2015/04/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 891, "user_id": 1936342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a294c91706727c611866ae6df25ba61?s=128&d=identicon&r=PG", "display_name": "Logioniz", "link": "https://stackoverflow.com/users/1936342/logioniz"}, "is_accepted": false, "score": 1, "last_activity_date": 1461053841, "last_edit_date": 1461053841, "creation_date": 1460977948, "answer_id": 36692340, "question_id": 36673303, "link": "https://stackoverflow.com/questions/36673303/shutting-down-a-mojoioloop-recurring-event-connected-to-a-mojo-websocket/36692340#36692340", "title": "Shutting down a Mojo::IOLoop recurring event connected to a Mojo websocket", "body": "<p>I think that you block event loop because your recurrent invoke every second and <code>my $m = &lt;$fh&gt;;</code> wait result about 2-3 second. So you block event loop.\nI think so because when i run your app the event <code>finish</code> not call on inactivity timeout, but call event <code>recurrent</code>. <code>finish</code> event MUST call on inactivity timeout always.</p>\n\n<p>I think that your code must be in separate process to avoid blocking event loop.</p>\n\n<p>Try to use <a href=\"https://metacpan.org/pod/Mojo::IOLoop::ReadWriteFork\" rel=\"nofollow\">this</a> module to execute in separate process.\nI <a href=\"https://gist.github.com/Logioniz/0c08e4974ab20b190382a429b913d8e6\" rel=\"nofollow\">write</a> small example.</p>\n"}, {"tags": [], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "is_accepted": true, "score": 2, "last_activity_date": 1461289807, "last_edit_date": 1495541772, "creation_date": 1461289807, "answer_id": 36783401, "question_id": 36673303, "link": "https://stackoverflow.com/questions/36673303/shutting-down-a-mojoioloop-recurring-event-connected-to-a-mojo-websocket/36783401#36783401", "title": "Shutting down a Mojo::IOLoop recurring event connected to a Mojo websocket", "body": "<p>I played around with this a bit. <a href=\"https://stackoverflow.com/a/36692340/2766176\">Logioniz's answer</a> made me think that I shouldn't be polling or handling the filehandle details myself. I still don't know where it was hanging.</p>\n\n<p>Instead, I used <a href=\"http://www.metacpan.org/module/\" rel=\"nofollow noreferrer\">Mojo::Reactor</a>'s <code>io</code> to set a filehandle to monitor:</p>\n\n<pre><code>sub run_command ( $ws ) {\n    my $pid = open my $fh, \"$^X -le '\\$|++; print \\$\\$; while(1) { print int rand(100); sleep 3 }' |\";\n    $fh-&gt;autoflush;\n\n    my $reactor = Mojo::IOLoop-&gt;singleton-&gt;reactor-&gt;io(\n        $fh =&gt; sub ($reactor, $writeable) {\n            my $m = &lt;$fh&gt;;\n            chomp $m;\n            $ws-&gt;send( encode_json( { 'm' =&gt; $m } ) );\n            }\n        );\n\n    return ( $fh, $pid );\n    }\n</code></pre>\n\n<p>When I'm done with that command, I can unwatch that filehandle and kill the process. I finish the websocket: </p>\n\n<pre><code>    elsif( $command eq \"stop\" ) {\n        $loop-&gt;reactor-&gt;watch( $fh, 0, 0 );\n        kill 'KILL', $pid or app-&gt;log-&gt;debug( \"Could not kill $pid: $!\" );\n        $ws-&gt;finish;\n        }\n</code></pre>\n\n<p>I still don't know why <code>remove($fh)</code> doesn't work. I figure I'm leaking some IOLoop things doing it this way.</p>\n"}], "owner": {"reputation": 121105, "user_id": 2766176, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edd8638efe875601bfe394a8aea5b16d?s=128&d=identicon&r=PG", "display_name": "brian d foy", "link": "https://stackoverflow.com/users/2766176/brian-d-foy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 3, "accepted_answer_id": 36783401, "answer_count": 2, "score": 8, "last_activity_date": 1461289807, "creation_date": 1460873801, "last_edit_date": 1495541260, "question_id": 36673303, "link": "https://stackoverflow.com/questions/36673303/shutting-down-a-mojoioloop-recurring-event-connected-to-a-mojo-websocket", "title": "Shutting down a Mojo::IOLoop recurring event connected to a Mojo websocket", "body": "<p>I'm playing around with Mojolicious and websockets. I want to send the output of multiple external commands on the server to the webpage. I have no problems with connecting and receiving messages, but I also want to send a message back to the server to stop an external command while letting the others keep sending messages back to the client. I also want to stop checking the external command once it exits.</p>\n\n<p>The external command is simply a one-liner that spits out an integer every few seconds. I have two websockets that display the numbers in separate <code>div</code>s. Clicking either of the stop buttons sends the message, but that's where I need to figure out how to shut down that websocket (and only that websocket) and shut down the external command.</p>\n\n<p><a href=\"https://i.stack.imgur.com/81BiE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/81BiE.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I connect the websocket, I run the external command and set up a <code>Mojo::IOLoop-&gt;recurring</code> to check if there's output.</p>\n\n<p>When I want to stop, I figure that I should call <code>Mojo::IOLoop-&gt;remove($id)</code>, but that doesn't seem to completely remove it and I get error messages like <code>Mojo::Reactor::Poll: Timer failed: Can't call method \"is_websocket\" on an undefined value</code>.</p>\n\n<p>If I call <code>finish</code> on the controller object to shut down the websocket, it seems to stop everything.</p>\n\n<p>I have the entire <a href=\"https://gist.github.com/briandfoy/75e8c06669beca69b3078269438cbed9\" rel=\"nofollow noreferrer\">Mojolicious::Lite app as a gist</a>, but here's the parts where I </p>\n\n<pre><code>use feature qw(signatures);\nno warnings qw(experimental::signatures);\n## other boilerplate redacted\n\nwebsocket '/find' =&gt; sub ( $c ) {\n    state $loop = Mojo::IOLoop-&gt;singleton;\n\n    app-&gt;log-&gt;debug( \"websocket for find\" );\n    $c-&gt;inactivity_timeout( 50 );\n\n    my $id;\n    $c-&gt;on( message =&gt; sub ( $ws, $message ) {\n        my $json = decode_json( $message );\n        my $command = $json-&gt;{c};\n        my $name    = $json-&gt;{n};\n\n        app-&gt;log-&gt;debug( \"Got $command command for $name\" );\n        if( $command eq \"start\" ) {\n            $id = run_command( $ws );\n            app-&gt;log-&gt;debug( \"run_command for $name returned [$id]\" );\n            }\n        elsif( $command eq \"stop\" ) {\n            app-&gt;log-&gt;debug( \"stopping loop for $name [$id]\" );\n            # XXX What should I do here?\n            # $ws-&gt;finish;\n            # $loop-&gt;remove( $id );\n            }\n        elsif( $command eq \"open\" ) {\n            app-&gt;log-&gt;debug( \"opening websocket for $name\" );\n            }\n        }\n        );\n     $c-&gt;on(\n        finish =&gt; sub ( $c, $code ) {\n            app-&gt;log-&gt;debug(\"WebSocket closed with status $code\");\n            }\n        );\n    };\n\napp-&gt;start;\n\nsub run_command ( $ws ) {\n    app-&gt;log-&gt;debug( \"In run_command: $ws\" );\n    open my $fh, \"$^X -le '\\$|++; while(1) { print int rand(100); sleep 3 }' |\";\n    $fh-&gt;autoflush;\n\n    my $id;\n    $id = Mojo::IOLoop-&gt;recurring( 1 =&gt; sub ($loop) {\n        my $m = &lt;$fh&gt;;\n        unless( defined $m ) {\n            app-&gt;log-&gt;debug( \"Closing down recurring loop from the inside [$id]\" );\n            # XXX: what should I do here?\n            close $fh;\n            return;\n            };\n        chomp $m;\n        app-&gt;log-&gt;debug( \"Input [$m] for [$id] from $fh\" );\n        $ws-&gt;send( encode_json( { 'm' =&gt; $m } ) );\n        });\n\n    return $id;\n    }\n</code></pre>\n\n<hr>\n\n<p>Other questions that may benefit from this answer:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3171833/output-command-to-socket-without-buffering-using-mojoioloop?rq=1\">Output command to socket without buffering using Mojo::IOLoop</a></li>\n</ul>\n"}, {"tags": ["perl", "shell"], "comments": [{"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 4, "creation_date": 1460872037, "post_id": 36673088, "comment_id": 60936948, "body": "Have you installed the Text::Unidecode module?"}, {"owner": {"reputation": 10509, "user_id": 634958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LEZsG.jpg?s=128&g=1", "display_name": "S1LENT WARRIOR", "link": "https://stackoverflow.com/users/634958/s1lent-warrior"}, "edited": false, "score": 0, "creation_date": 1460877048, "post_id": 36673088, "comment_id": 60937944, "body": "Welcome to Stack Overflow! I edited the title of your question to make it brief and concise.  I also edited your question to make it more understandable and readable.   Please visit <a href=\"http://stackoverflow.com/editing-help\">stackoverflow.com/editing-help</a> for more information on formatting. Please edit in the specific error -message you&#39;re encountering in case that&#39;s necessary to identify the specific problem. Good luck!"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 10509, "user_id": 634958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LEZsG.jpg?s=128&g=1", "display_name": "S1LENT WARRIOR", "link": "https://stackoverflow.com/users/634958/s1lent-warrior"}, "edited": false, "score": 1, "creation_date": 1460894896, "post_id": 36673088, "comment_id": 60942628, "body": "@S1LENTWARRIOR Actually a concise title would be <i>\u201cWhat to do when Perl cannot find the Text::Unidecode module?\u201d</i> (And the answer would be <i>\u201cInstall it, with e.g. <code>sudo cpan Text::Unidecode</code>\u201d.</i>)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1460897758, "post_id": 36673088, "comment_id": 60943533, "body": "@PerlDog no, just <code>cpan Text::Unidecode</code> with CPAN configured to use sudo for installing (but importantly <i>not</i> for building/testing)"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1460898391, "post_id": 36673088, "comment_id": 60943739, "body": "@ysth Ahh, thank you. I&#39;ll read on that further, because I did it wrong all the time before. I always used <code>cpan</code> like I used <code>apt-get install</code>: with <code>sudo</code>."}], "owner": {"reputation": 9, "user_id": 6202516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6420f29caa910c2bdbb275dc4c293b?s=128&d=identicon&r=PG&f=1", "display_name": "Jak", "link": "https://stackoverflow.com/users/6202516/jak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "closed_date": 1460915791, "answer_count": 0, "score": 0, "last_activity_date": 1460877048, "creation_date": 1460871772, "last_edit_date": 1460877048, "question_id": 36673088, "link": "https://stackoverflow.com/questions/36673088/perl-script-debugging-through-the-command-line-gives-error", "closed_reason": "Duplicate", "title": "Perl script debugging through the command line gives error", "body": "<p>While I am executing my perl script, I am getting following error: <code>Can't locate Text/Unidecode.pm in @INC (you may need to install the Text::Unidecode module)</code></p>\n"}, {"tags": ["perl", "proxy", "scrape", "tor", "torsocks"], "answers": [{"tags": [], "owner": {"reputation": 64787, "user_id": 892493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UxAIF.png?s=128&g=1", "display_name": "drew010", "link": "https://stackoverflow.com/users/892493/drew010"}, "is_accepted": true, "score": 1, "last_activity_date": 1460922391, "creation_date": 1460922391, "answer_id": 36681376, "question_id": 36673055, "link": "https://stackoverflow.com/questions/36673055/scrape-from-onion-site-using-webscraper/36681376#36681376", "title": "Scrape from .onion site using Web::Scraper", "body": "<p><code>Web::Scraper</code> uses LWP if you pass a <code>URI</code> to scrape.</p>\n\n<p>You can either fetch the HTML using some other HTTP library that uses SOCKS, or using the shared <code>UserAgent</code> variable from <code>Web::Scraper</code>, you can set up LWP to use SOCKS and pass that as the agent.</p>\n\n<pre><code>use strict;\nuse LWP::UserAgent;\nuse Web::Scraper;\n\n# set up a LWP object with Tor socks address\nmy $ua = LWP::UserAgent-&gt;new(\n    agent =&gt; q{Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; YPC 3.2.0; .NET CLR 1.1.4322)},\n);\n$ua-&gt;proxy([qw/ http https /] =&gt; 'socks://localhost:9050'); # Tor proxy\n$ua-&gt;cookie_jar({});\n\nmy $PIRATEBAYSERVER = 'http://uj3wazyk5u4hnvtk.onion';\nmy $srstring = 'photoshop';\n\n\nmy $piratelink=$PIRATEBAYSERVER.'/search/' . $srstring; # . '%20'. 's'.$sval[1].'e'.$epinum.'/0/7/0';\n\nmy $purlToScrape = $piratelink;\nmy $ns = scraper {      \n    process \"td&gt;a\", 'mag[]' =&gt; '@href';\n    process \"td&gt;div&gt;a\", 'tor[]' =&gt; '@href';\n    process \"td font.detDesc\", 'sizerow[]' =&gt; 'TEXT';\n};\n\n# override Scraper's UserAgent with our SOCKS LWP object\n$Web::Scraper::UserAgent = $ua;\n\nmy $mres = $ns-&gt;scrape(URI-&gt;new($purlToScrape));\n\nprint $mres;\n</code></pre>\n\n<p>Note, you will also need to install the CPAN module <code>LWP::Protocol::socks</code></p>\n"}], "owner": {"reputation": 5328, "user_id": 1305947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/660bcd99a216234e04adb27125cbf0a3?s=128&d=identicon&r=PG", "display_name": "Joel G Mathew", "link": "https://stackoverflow.com/users/1305947/joel-g-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 0, "accepted_answer_id": 36681376, "answer_count": 1, "score": 1, "last_activity_date": 1460922391, "creation_date": 1460871441, "question_id": 36673055, "link": "https://stackoverflow.com/questions/36673055/scrape-from-onion-site-using-webscraper", "title": "Scrape from .onion site using Web::Scraper", "body": "<p>Problem: Scrape from tor .onion site using Web::Scraper</p>\n\n<p>I would like to modify my code to connect to .onion site. I believe I need to connect to the SOCKS5 proxy, but unsure of how to do it with Web::Scraper</p>\n\n<p>Existing code:</p>\n\n<pre><code>use Web::Scraper;\nmy $piratelink=$PIRATEBAYSERVER.'/search/' . $srstring . '%20'. 's'.$sval[1].'e'.$epinum.'/0/7/0';\nmy $purlToScrape = $piratelink;\n    my $ns = scraper {      \n    process \"td&gt;a\", 'mag[]' =&gt; '@href';\n    process \"td&gt;div&gt;a\", 'tor[]' =&gt; '@href';\n    process \"td font.detDesc\", 'sizerow[]' =&gt; 'TEXT';\n};\nmy $mres = $ns-&gt;scrape(URI-&gt;new($purlToScrape));\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1460937129, "post_id": 36669720, "comment_id": 60956546, "body": "@nmf - When you get your variables named appropriately, if you are going to use substr() you should check for overflow <i>before</i> you call it, otherwise if $i + $number exceed the last character in the string, it will just get up to the last character. Put your overflow as the first expression in the loop. I.e. <code>last if ( ($i+$number) &gt;= $len );</code> Then do the step increment within the for construct <code>for ($i = 0; $i &lt; $size; $i+=$step)</code>. I removed the <i>regex</i> tag because it was never necessary. Also removed my post as it was regex solution."}], "answers": [{"tags": [], "owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "is_accepted": true, "score": 0, "last_activity_date": 1460843489, "creation_date": 1460843489, "answer_id": 36670211, "question_id": 36669720, "link": "https://stackoverflow.com/questions/36669720/modify-this-code-to-print-elements-that-differ-a-x-number-from-previous-position/36670211#36670211", "title": "modify this code to print elements that differ a x number from previous position", "body": "<p>Add:</p>\n\n<pre><code>...\n$step = &lt;&gt;;\n...\n</code></pre>\n\n<p>And change:</p>\n\n<pre><code>for ($i = 0; $i &lt; $size; $i++) {\n</code></pre>\n\n<p>to</p>\n\n<pre><code>for ($i = 0; $i &lt; $size; $i+=$step) {\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "is_accepted": false, "score": 0, "last_activity_date": 1460843505, "creation_date": 1460843505, "answer_id": 36670214, "question_id": 36669720, "link": "https://stackoverflow.com/questions/36669720/modify-this-code-to-print-elements-that-differ-a-x-number-from-previous-position/36670214#36670214", "title": "modify this code to print elements that differ a x number from previous position", "body": "<p><code>for ($i = 0; $i &lt; $size; $i += 2) {</code></p>\n"}], "owner": {"reputation": 127, "user_id": 6002690, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/427760998f97e05543f6e49017577d02?s=128&d=identicon&r=PG&f=1", "display_name": "jnmf", "link": "https://stackoverflow.com/users/6002690/jnmf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 36670211, "answer_count": 2, "score": 0, "last_activity_date": 1460936688, "creation_date": 1460840614, "last_edit_date": 1460936688, "question_id": 36669720, "link": "https://stackoverflow.com/questions/36669720/modify-this-code-to-print-elements-that-differ-a-x-number-from-previous-position", "title": "modify this code to print elements that differ a x number from previous position", "body": "<p>I wrote this code to find substrings every x elements:</p>\n\n<pre><code>print \"enter file path\\n\";\n$letters = &lt;&gt;;\nchomp ($letters);\n\n$sequence = \"\";\n\nopen (LETTERS, $letters) or die \"error opening\\n\";\n\nprint \"how many letters at a shot\\n\";\n$number = &lt;&gt;;\nchomp ($number);\n\n$size = length $sequence;\nchomp ($size);\n\n\nfor ($i = 0; $i &lt; $size; $i++) {\n    $test = substr ($sequence, $i, $number);\n    print \"&gt; Test $i\\n\";\n    print \"$test\\n\";\n\n    if ($i &gt;= $size - $number) {\n    last;\n    }\n\n    }\n</code></pre>\n\n<p>so if I open a file with this string and choose x = 3:</p>\n\n<pre><code>abcdefg\n</code></pre>\n\n<p>I get this result:</p>\n\n<pre><code>&gt; Test 0 abc\n&gt; Test 1 bcd\n&gt; Test 2 cde\n&gt; Test 3 def\n&gt; Test 4 efg\n</code></pre>\n\n<p>Each substring differs from one position from the previous substring, I'd like to be able to control this number and dislocate the substring by 2 for example. So the result would be:</p>\n\n<pre><code>&gt; Test 0 abc\n&gt; Test 2 cde\n&gt; Test 4 efg\n</code></pre>\n\n<p>Any suggestions? Thanks</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1460870264, "post_id": 36667977, "comment_id": 60936672, "body": "No methods are redefined. You are defining three different methods <code>Some::func</code>, <code>Over::func</code>, and <code>Plain::func</code>."}, {"owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1460972015, "post_id": 36667977, "comment_id": 60968910, "body": "@mob hm.. and what the te correct terminology? assuming, that for the <code>Over</code> is  <code>override</code> instead of the redefine, but how to call the <code>Plain</code> scenario if the <i>redefine</i> isn&#39;t correct?"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "edited": false, "score": 0, "creation_date": 1460831879, "post_id": 36668080, "comment_id": 60928172, "body": "There&#39;s a difference mentioned. One provides <code>super</code>; the other doesn&#39;t."}, {"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1461704529, "post_id": 36668080, "comment_id": 61318098, "body": "Also override will throw an exception if the base class doesn&#39;t define the method you&#39;re overriding."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1460831528, "last_edit_date": 1592644375, "creation_date": 1460831528, "answer_id": 36668080, "question_id": 36667977, "link": "https://stackoverflow.com/questions/36667977/using-override-or-just-plain-redefine-the-subroutine-in-perl/36668080#36668080", "title": "Using &quot;override&quot; or just plain redefine the subroutine in perl", "body": "<p>The <a href=\"http://search.cpan.org/perldoc?Moose\" rel=\"noreferrer\">documentation</a> answers this perfectly.</p>\n<blockquote>\n<p><code>override ($name, &amp;sub)</code></p>\n<p>An override method is a way of explicitly saying &quot;I am overriding this method from my superclass&quot;. You can call <code>super</code> within this method, and it will work as expected. The same thing can be accomplished with a normal method call and the <code>SUPER::</code> pseudo-package; it is really your choice.</p>\n</blockquote>\n"}], "owner": {"reputation": 2992, "user_id": 869025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/870db1cfd53a1dfbe9467082bb9777b1?s=128&d=identicon&r=PG", "display_name": "cajwine", "link": "https://stackoverflow.com/users/869025/cajwine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 36668080, "answer_count": 1, "score": 5, "last_activity_date": 1460831528, "creation_date": 1460830905, "question_id": 36667977, "link": "https://stackoverflow.com/questions/36667977/using-override-or-just-plain-redefine-the-subroutine-in-perl", "title": "Using &quot;override&quot; or just plain redefine the subroutine in perl", "body": "<p>Have this example code - 2 packages which extends the <code>Some</code> package and redefines the <code>func</code> method.</p>\n\n<pre><code>use 5.014;\nuse warnings;\n\npackage Some {\n    use Moose;\n    use warnings;\n    sub func { say 'func from Some'; }\n}\n\npackage Over {\n    use Moose;\n    use warnings;\n    extends 'Some';\n    override 'func' =&gt; sub { say 'func from Over'; };\n}\n\npackage Plain {\n    use Moose;\n    use warnings;\n    extends 'Some';\n    sub func { say 'func from Plain'; };\n}\n\n#main\nfor my $package ( qw(Some Over Plain) ) {\n    my $instance = $package-&gt;new();\n    $instance-&gt;func;\n}\n</code></pre>\n\n<p>runnig the code gives:</p>\n\n<pre><code>func from Some\nfunc from Over\nfunc from Plain\n</code></pre>\n\n<p>e.g. the <code>func</code> method is redefined in both cases, without any warning or such.</p>\n\n<p>The questions:</p>\n\n<ul>\n<li>are here some meaningful differences between the two ways?</li>\n<li>when I should use the <code>override</code> and when the <em>plain</em> redefine?</li>\n<li>is this discussed in some doc?</li>\n</ul>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "edited": false, "score": 1, "creation_date": 1460831888, "post_id": 36667502, "comment_id": 60928176, "body": "If <code>perl -v</code> doesn&#39;t produce any output either, the problem is not likely to be in perl."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "edited": false, "score": 0, "creation_date": 1460833211, "post_id": 36667502, "comment_id": 60928647, "body": "@Henrik: did you mean &quot;if <code>perl -v</code> doesn&#39;t produce any output either, the problem <i>is</i> likely to be with the installation of Perl&quot;?  That would be my interpretation of &#39;no output from <code>perl -v</code>&#39;; if that doesn&#39;t produce a version number and copyright notice (I get the first two lines as <code>This is perl 5, version 22, subversion 0 (v5.22.0) built for darwin-2level</code> and <code>Copyright 1987-2015, Larry Wall</code>, plus some more licence information), then there is a major problem with Perl."}, {"owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1460833461, "post_id": 36667502, "comment_id": 60928737, "body": "@JonathanLeffler: Or with the terminal, But you&#39;re right the problem might be with the installation of perl, but it&#39;s unlikely to be withthe perl code - which was actually what I meant."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1460834775, "post_id": 36667502, "comment_id": 60929184, "body": "I hadn&#39;t considered terminal mode, etc, but I suppose it could be that.  I&#39;d certainly want to know what you&#39;ve done.  I suppose <code>exec &gt;&#47;dev&#47;null</code> in the shell could do it; standard error and prompts would appear, but not standard output.  It&#39;s a little eccentric to try stuff like that, though."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1641, "user_id": 4559724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RxNcM.jpg?s=128&g=1", "display_name": "SaintHax", "link": "https://stackoverflow.com/users/4559724/sainthax"}, "edited": false, "score": 1, "creation_date": 1460855804, "post_id": 36667502, "comment_id": 60934462, "body": "@SaintHax I think your edit to remove the bash tag was premature. In a <a href=\"http://stackoverflow.com/a/9841592/176646\">similar issue</a> that the OP linked to, the cause was actually a shell setting. There&#39;s not enough information at this point to rule out bash as the cause, so the tag should stay."}, {"owner": {"reputation": 41846, "user_id": 926143, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3396173c3d22988be1a0732d184902aa?s=128&d=identicon&r=PG", "display_name": "7stud", "link": "https://stackoverflow.com/users/926143/7stud"}, "edited": false, "score": 1, "creation_date": 1460884538, "post_id": 36667502, "comment_id": 60939700, "body": "By the way, in modern perl you open a file like this: <code>open my $FH, &quot;&gt;&quot;, &quot;file.txt&quot; or die $!;</code>, i.e. you don&#39;t use <i>bareword</i> file handles."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1461000716, "post_id": 36667502, "comment_id": 60988970, "body": "Curious: the <code>strace</code> output doesn&#39;t contain any attempt to write to other than the <code>FH</code> handle (file descriptor 4).  That&#39;s extremely puzzling."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 2, "creation_date": 1461023393, "post_id": 36667502, "comment_id": 61000154, "body": "I have no idea about the cause, but there are several things I&#39;d be looking at: is that ld preload library really necessary? If you run <code>perl -v &gt; file</code> does it work? What if you do a redirection in the perl code (<code>open STDOUT, &quot;&gt;file&quot;; print &quot;hello\\n&quot;</code>)? What do you get if you <code>stat</code> STDIN, STDOUT, and STDERR in the perl and print the results to a file?"}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 1, "creation_date": 1462305042, "post_id": 36667502, "comment_id": 61578429, "body": "The perl script you show does not match the strace, as the <code>read()</code> of the script file shows the beginning of what&#39;s presumably a third <code>use</code> statement.  Can we see a full strace of a simpler failure like <code>perl -v</code>?  Also, what happens if you skip the library preloading (<i>ld.so.preload</i>)?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "edited": false, "score": 0, "creation_date": 1462312303, "post_id": 36667502, "comment_id": 61582147, "body": "@pilcrow Where do you see evidence of a third <code>use</code> statement? <code>read(3, &quot;#!&#47;usr&#47;bin&#47;perl\\nuse warnings;\\nus&quot;..., 8192) = 210</code> indicates that the script is 210 bytes long, which is exactly how long the script in the question is. Also, the <code>strace</code> output I get on a Debian system matches the OP&#39;s very closely, except for the missing <code>write</code> calls."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462312616, "post_id": 36667502, "comment_id": 61582259, "body": "Ah, yes, @ThisSuitIsBlackNot, my mistake re: additional use."}, {"owner": {"reputation": 51391, "user_id": 132382, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/20fc7ee8f405aa42e36eb73e841e5a36?s=128&d=identicon&r=PG", "display_name": "pilcrow", "link": "https://stackoverflow.com/users/132382/pilcrow"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 2, "creation_date": 1462313726, "post_id": 36667502, "comment_id": 61582700, "body": "What is $PERLIO, your <code>Config</code> for your perl&#39;s io, and any relevant encodings?  With PERLIO=pop (a known bad/experimental layer) under 5.16 I can get the EBADF exit seen by @ThisSuitIsBlackNot in <code>print &quot;foo&quot; or die $!</code> and write() syscalls simply do not happen.  I cannot reproduce your &quot;file write()s ok but STDOUT/STDERR write()s missing&quot; ... but perlio might be a start."}, {"owner": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "edited": false, "score": 0, "creation_date": 1462314508, "post_id": 36667502, "comment_id": 61583002, "body": "Please post the output of <code>ls -l &#47;proc&#47;$$&#47;fd</code> and <code>perl -e &#39;system q(ls -l &#47;proc&#47;$PPID&#47;fd)&#39;</code> (if this outputs nothing, run <code>perl -e &#39;system q(ls -l &#47;proc&#47;$PPID&#47;fd &gt;parent-fd)&#39;</code> and post the content of <code>parent-fd</code>) and, if different, repeat the <code>system \u2026</code> thing from your script. Do you get the same behavior if you move your <code>.bash_profile</code>, <code>.bashrc</code> and <code>.profile</code> out of the way before logging in?"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1462433422, "post_id": 36667502, "comment_id": 61638182, "body": "What are your STDOUT and STDERR?  <code>print fileno( STDOUT ), &#39; - &#39;, fileno( STDERR );</code>  What output is for <code>echo &quot;HELLO&quot;</code> when you run that in shell?"}], "answers": [{"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1461356096, "post_id": 36802110, "comment_id": 61179181, "body": "This has nothing to do with buffering, from what I can tell. <code>print</code> reports EBADF and bails out before even attempting any I/O. If it were just a buffering issue, there would still be <code>write</code> calls. Looks like <code>pp_print</code> bails out in the <code>if</code> or <code>else</code> <a href=\"https://github.com/Perl/perl5/blob/v5.14.4/pp_hot.c#L738\" rel=\"nofollow noreferrer\">here</a> (link is to 5.14.4 since the 5.14.2 tag isn&#39;t on the github mirror)."}], "tags": [], "owner": {"reputation": 2298, "user_id": 1147230, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe33f45c5990a98cfcb1388581de07af?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1147230/sebastian"}, "is_accepted": false, "score": -1, "last_activity_date": 1462601270, "last_edit_date": 1462601270, "creation_date": 1461354215, "answer_id": 36802110, "question_id": 36667502, "link": "https://stackoverflow.com/questions/36667502/why-does-perls-print-fail-to-output-anything-to-stdout-and-stderr-but-writes-t/36802110#36802110", "title": "Why does Perl&#39;s print fail to output anything to STDOUT and STDERR, but writes to a file successfully?", "body": "<p>Try adding <code>$|=1</code> after your <code>use</code> lines:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\n$|=1;\n\nprint \"Here's some text\\n\";\nprint STDERR \"Here's some text\\n\";\nprint STDOUT \"Here's some text\\n\";\n\nopen FH, \"&gt;\", \"file.txt\" or die $!;\n\nprint FH \"Here's some text\\n\";\n</code></pre>\n\n<p>Your strace output also shows that the print-to-file is done at script exit, not while the script is running, because of Perl's output buffering.</p>\n\n<p>If the <code>$|=1</code> doesn't help: Try getting the FDs used by your script:</p>\n\n<pre><code>#!/usr/bin/perl\nsystem \"ls -l /proc/$$/fd\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>#!/usr/bin/perl\nsystem \"lsof -p $$\";\n</code></pre>\n\n<p>They should give you a hint where the output should go.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 0, "creation_date": 1462309165, "post_id": 37013870, "comment_id": 61580669, "body": "I think you&#39;ve got major and minor reversed. Block device 179,2 would probably be mmcblk0p2 which makes more sense than 2,179 (some kind of floppy). It would be very interesting to see the result of <code>find &#47; -inum 261126 -ls</code> since (going by mode=33188=0100644) seems to be a regular file, not a tty (which also explains rdev=0)"}, {"owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "edited": false, "score": 0, "creation_date": 1462309678, "post_id": 37013870, "comment_id": 61580914, "body": "@WumpusQ.Wumbley On my machine 2,179 is /dev/ptsya3 and 136,0 is /dev/pts/0. Different machines might be showing different numbers. I&#39;m on Debian with a 4.5 kernel."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 0, "creation_date": 1462309838, "post_id": 37013870, "comment_id": 61580999, "body": "OK, you are right about 136,0 being 136*256+0=34186 but then 179,2 is 179*256+2=45826. And there are 2 devices for each major,minor number pair: a character device and a block device. The pty you found is the character device 2,179. The block device 2,179 would be fd7h410 (the 3rd floppy drive on the 2nd floppy controller, with a 410K-formatted 5.25-inch disk!)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 0, "creation_date": 1462310126, "post_id": 37013870, "comment_id": 61581151, "body": "And yes, some device numbers are dynamic, so it&#39;s not 100% certain that the device in question is mmcblk0p2. But major 2 is definitely not dynamic. It&#39;s way too old. Major 179 was statically assigned to mmc at one point; I&#39;m not sure if it&#39;s dynamic now."}, {"owner": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "edited": false, "score": 0, "creation_date": 1462314270, "post_id": 37013870, "comment_id": 61582907, "body": "You&#39;re right that the <code>stat</code> data is suspicious, but your analysis isn&#39;t quite right. STDOUT is a regular file \u2014 check the mode (0100644 \u2014 0100xxx is a regular file, and 0644 is the permissions). The dev field indicates on which partition the file is. The rdev field is 0 because stdout is a regular file, not a device."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 0, "creation_date": 1462315394, "post_id": 37013870, "comment_id": 61583267, "body": "I don&#39;t like to repeat myself, but I am 1000% certain that <code>ptya3</code> is irrelevant for 2 reasons (make that 2000% certain). It&#39;s a char device, and the <code>st_dev</code> field of a stat structure can only be a block device. And you&#39;ve got the major/minor backwards."}, {"owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "edited": false, "score": 0, "creation_date": 1462316086, "post_id": 37013870, "comment_id": 61583443, "body": "@WumpusQ.Wumbley I&#39;m still looking into it."}, {"owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "edited": false, "score": 0, "creation_date": 1462320892, "post_id": 37013870, "comment_id": 61584752, "body": "@WumpusQ.Wumbley I&#39;ve updated the answer and corrected my major/minor mix up. I should have realized when you said /dev/mmc... that it&#39;s an SD card and that fits in nicely with the raspberry."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462982129, "post_id": 37013870, "comment_id": 61870516, "body": "In your <code>ls</code> output, 2 is the major device number and 179 is the minor, isn&#39;t it? That&#39;s the opposite of what the OP showed. According to <a href=\"https://www.kernel.org/pub/linux/docs/lanana/device-list/devices.txt-3June2001\" rel=\"nofollow noreferrer\">this</a>, major number 179 corresponds to &quot;CCube DVXChip-based PCI products&quot;."}, {"owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462988230, "post_id": 37013870, "comment_id": 61874206, "body": "@ThisSuitIsBlackNot There are always two major minors ie for char and block device ie 2/179 and 179/2. In the OP&#39;s case on a raspberry he&#39;s almost certainly using an SD card."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462988538, "post_id": 37013870, "comment_id": 61874409, "body": "I don&#39;t follow...in <code>crw-------  1 root  root   2, 179</code>, 2 is the major and 179 is the minor, isn&#39;t it? Or am I misunderstanding <a href=\"http://www.tldp.org/HOWTO/Partition/devices.html\" rel=\"nofollow noreferrer\">this</a>?"}, {"owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462988776, "post_id": 37013870, "comment_id": 61874552, "body": "@ThisSuitIsBlackNot Yes, and on the raspberry there will be an associated block device which is an SD card with 179, 2. See comments from Wumpus previously. Looking up the same doc you referenced I was able to see that this is an SD card. The raspberry I&#39;ve got it uses an SD card as the block device."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462989241, "post_id": 37013870, "comment_id": 61874876, "body": "My point is that the OP&#39;s <code>stat</code> output shows major 179, minor 2, while your <code>ls</code> output shows the opposite, i.e. I think you ran <code>ls</code> on the wrong device. Am I missing something?"}, {"owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "edited": false, "score": 0, "creation_date": 1462989605, "post_id": 37013870, "comment_id": 61875066, "body": "That&#39;s what Wumpus also pointed out ie the OP&#39;s stat is referencing the block device."}], "tags": [], "owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "is_accepted": false, "score": 6, "last_activity_date": 1462345854, "last_edit_date": 1495542401, "creation_date": 1462307670, "answer_id": 37013870, "question_id": 36667502, "link": "https://stackoverflow.com/questions/36667502/why-does-perls-print-fail-to-output-anything-to-stdout-and-stderr-but-writes-t/37013870#37013870", "title": "Why does Perl&#39;s print fail to output anything to STDOUT and STDERR, but writes to a file successfully?", "body": "<p>Before starting reading have a look at the output of this command. Everything is pointing to STDOUT pointing to the incorrect place.</p>\n\n<pre><code>ls -l /proc/$$/fd/{1,2}\n</code></pre>\n\n<p>On my system I get this, note it does change as I write this because this was not written in one go. </p>\n\n<pre><code>lrwx------ 1 root root 64 May  3 17:01 /proc/27806/fd/1 -&gt; /dev/pts/1\nlrwx------ 1 root root 64 May  3 17:01 /proc/27806/fd/2 -&gt; /dev/pts/1\n</code></pre>\n\n<p>I suspect the above to be similar for you. The stat looks suspicious to me, if I had access to the filesytem I'd search for the inode that it's telling me its writing to ie. </p>\n\n<pre><code>sudo find / -printf \"%i:\\t%p\\n\"|grep 261126\n</code></pre>\n\n<p>If when Perl starts it's changing it's stdout etc to the wrong place I'd add a very long sleep to the script then do the search to see where it is. If the file is a regular file and it's on the filesystem this should find it.</p>\n\n<p>My stat on STDOUT</p>\n\n<pre><code>|dev   |inode  |mode  |link |uid |gid |rdev |size |atime     |mtime     |ctime     |blk |blka\n|13    |3      |8592  |1    |1000|5   |34816|0    |1462301986|1462301986|1462301958|1024|0\n</code></pre>\n\n<p>Your stat on STDOUT</p>\n\n<pre><code>|dev   |inode  |mode  |link |uid |gid |rdev |size |atime     |mtime     |ctime     |blk |blka\n|45826 |261126 |33188 |1    |1001|1004|0    |0    |1461024408|1461035504|1461035504|4096|0\n</code></pre>\n\n<p>On mine my <code>dev</code> has minor number 13 and looks ok when I search for it under devices. If we mask yours off to show major/minor you have...</p>\n\n<pre><code>major == 179\nminor == 2\n</code></pre>\n\n<p>Note, I originally had these in reverse until corrected by <a href=\"https://stackoverflow.com/users/2404501/wumpus-q-wumbley\">Wumpus Q. Wumbley</a>.</p>\n\n<p>On my machine this is </p>\n\n<pre><code>crw-------  1 root  root   2, 179 Apr 29 12:50 ptya3\n</code></pre>\n\n<p>On mine my <code>rdev</code> equates to</p>\n\n<pre><code>major == 136 \nminor == 0\n</code></pre>\n\n<p>On my Debian system this is <code>/dev/pts/0</code>. Your <code>rdev</code> is 0. I had a quick look round and some people using screen can have problems with <code>/dev/pts/N</code> ie it's not there but that's me guessing. </p>\n\n<p>The strace is also really odd, I got the following lines when it wrote on my system:</p>\n\n<pre><code>read(3, \"#!/usr/bin/perl -w\\n#use strict;\\n\"..., 8192) = 228\nread(3, \"\", 8192)                       = 0\nclose(3)                                = 0\nwrite(1, \"Here's some text STDOUT\\n\", 24Here's some text STDOUT\n) = 24\nwrite(2, \"Here's some text STDERR\\n\", 24Here's some text STDERR\n) = 24\nwrite(1, \"Here's some text STDOUT\\n\", 24Here's some text STDOUT\n) = 24\n</code></pre>\n\n<p>The fact that these appear no where in your strace is very strange indeed. You can change where the appear by messing around with <code>$|</code> but they should appear somewhere. <a href=\"https://stackoverflow.com/users/387076/gilles\">Gilles</a> noticed that the mode is also odd. If you run this script...</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Fcntl ':mode';\nmy $mode = 33188;\nmy $user_rwx      = ($mode &amp; S_IRWXU) &gt;&gt; 6;\nprint(\"user_rwx      = $user_rwx\\n\");\nmy $group_read    = ($mode &amp; S_IRGRP) &gt;&gt; 3;\nprint(\"group_read    = $group_read\\n\");\nmy $other_execute    =  $mode &amp; S_IXOTH;\nprint(\"other_execute = $other_execute\\n\");\nprintf \"Permissions are %04o\\n\", S_IMODE($mode), \"\\n\";\nmy $is_setuid     =  $mode &amp; S_ISUID;\nprint(\"is_setuid     = $is_setuid\\n\");\nmy $is_directory  =  S_ISDIR($mode);\nprint(\"dir           = $is_directory\\n\");\nmy $is_reg  = S_ISREG($mode);\nprint(\"regular       = $is_reg\\n\");\n</code></pre>\n\n<p>You can see that STDOUT appears to be pointing at a regular file. This would confirm why <code>rdev</code> is zero ie if stdout was redirecting to something that was meant to be a device but actually was just a normal file. I've seen odd things like that happen in chrooted environments where devices were not setup properly.</p>\n\n<p>Regardless of buffering being on or off on exit the buffers should have have been flushed ie you would see calls to the write sys call. It's really weird that there are no writes at all in the strace.</p>\n"}, {"tags": [], "owner": {"reputation": 308, "user_id": 1986828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96txi.jpg?s=128&g=1", "display_name": "Amias", "link": "https://stackoverflow.com/users/1986828/amias"}, "is_accepted": false, "score": 1, "last_activity_date": 1462645013, "creation_date": 1462645013, "answer_id": 37092078, "question_id": 36667502, "link": "https://stackoverflow.com/questions/36667502/why-does-perls-print-fail-to-output-anything-to-stdout-and-stderr-but-writes-t/37092078#37092078", "title": "Why does Perl&#39;s print fail to output anything to STDOUT and STDERR, but writes to a file successfully?", "body": "<p>Try making a fresh user account and using that to see if the same issue occurs, i would also try it on a newer Perl because i can't reproduce this on a pi that has 5.22 on it.  This seems very much like you have something unexpected in your shell, a broken module installation or you have a mysterious prompt command that is gobbling output.</p>\n\n<p>The lack of writes to STDOUT and STDERR in your strace suggests they were somehow opened the wrong way before that part of the code ran.</p>\n"}, {"comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462984894, "post_id": 37095268, "comment_id": 61872270, "body": "Well, this is unfortunate. Two great answers, but the OP is AWOL and I can&#39;t reproduce their issue. This is a really tough decision, but I&#39;m awarding the bounty to this one because of the suggested workaround and the suggestion to check <code>Config</code> (since the OP claims that Bash scripts work normally, it seems likely that Perl is misconfigured)."}, {"owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462989758, "post_id": 37095268, "comment_id": 61875165, "body": "@ThisSuitIsBlackNot Nevermind I can see you added the bounty."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "edited": false, "score": 0, "creation_date": 1462990079, "post_id": 37095268, "comment_id": 61875383, "body": "@Harry Me. I was hoping the OP would actually respond to all the comments and answers, but they never did, even though the &quot;Last Seen&quot; in their profile indicates that they checked in several times since I posted the bounty."}, {"owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462990518, "post_id": 37095268, "comment_id": 61875641, "body": "@ThisSuitIsBlackNot I spent a fair bit of time on this one so I&#39;m a bit surprised, I did most of the analysis on this 5 days prior to this one and I&#39;m not seeing a lot of additional data in this answer that&#39;s not already in mine. This is almost certainly a binary distributed install on a raspberry ie Ubuntu or Debian so the likelihood of a binary being misconfigured ie Perl is slim. The workaround proposed is also a guess."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "edited": false, "score": 0, "creation_date": 1462991540, "post_id": 37095268, "comment_id": 61876146, "body": "@Harry I think both answers are excellent, but they both provide slightly different pieces of a puzzle that I can&#39;t solve without access to the OP&#39;s machine. I have been agonizing over which one to award the bounty for a while, and I even considered just letting it expire. I also considered offering a second bounty to award the other answer...I&#39;m still considering that."}, {"owner": {"reputation": 10563, "user_id": 1104328, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df0790774838286ad0d93567ae1fcf56?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/1104328/harry"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1462991888, "post_id": 37095268, "comment_id": 61876323, "body": "@ThisSuitIsBlackNot I think the OP likely solved their issue and had no way to recreate it to verify it. If the OP had surfaced and still had the issue my next step would have been a chat room."}], "tags": [], "owner": {"reputation": 596, "user_id": 559523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab40d2dbf7e2bb0f3c2f53d302a8bd2?s=128&d=identicon&r=PG", "display_name": "Jeff Clites", "link": "https://stackoverflow.com/users/559523/jeff-clites"}, "is_accepted": false, "score": 4, "last_activity_date": 1462670160, "last_edit_date": 1495540980, "creation_date": 1462670160, "answer_id": 37095268, "question_id": 36667502, "link": "https://stackoverflow.com/questions/36667502/why-does-perls-print-fail-to-output-anything-to-stdout-and-stderr-but-writes-t/37095268#37095268", "title": "Why does Perl&#39;s print fail to output anything to STDOUT and STDERR, but writes to a file successfully?", "body": "<p>There are several interesting clues in the information you've provided:</p>\n\n<p><code>perl -e'print \"foo\" or die $!'</code> gave an exit code of 9, which is EBADF, implying that STDOUT is pointing to a bad file descriptor. That could either be some arbitrary number (since the underlying file descriptors are just numbers), or it could be a file descriptor which used to be open but is now closed. (That also implies that it's not, say, redirected to /dev/null -- that would result in no output but wouldn't give an error.)</p>\n\n<p>Your <code>strace</code> output shows several <code>open</code> and <code>close</code> calls, and they all appear to be paired--no evidence of closing STDOUT. Importantly, the <code>open</code> calls all return FD 3 (and later, FD 4 in a case in which FD 3 is still in use)--on Unix-like systems, <code>open</code> typically returns the lowest unused FD, so this is further evidence that FD 1 (the usual STDOUT) hasn't been closed after your process started.</p>\n\n<p>So the implications is that STDOUT is not connected to FD 1, but is associated with some other FD. Running the following should tell you what FD it is:</p>\n\n<pre><code>perl -e 'open my $FH, \"&gt;\", file.txt\"; print $FH fileno(STDOUT)'\n</code></pre>\n\n<p>I'm guessing that this will be some arbitrary number, and the result of some problem specific to your installation on your Raspberry Pi--perhaps some corrupt library. But as <a href=\"https://stackoverflow.com/a/36802110/559523\">suggested</a> by <a href=\"https://stackoverflow.com/users/1147230/sebastian\">Sebastian</a>, you can run <code>lsof</code> to find out what FDs your process has opened (add a <code>sleep</code> to your script to keep it running), or look in /proc. But probably STDOUT is referring to something that isn't actually an open FD. It's a little curious that your <code>strace</code> output doesn't show even error-ing calls to <code>write</code>; that implies that Perl does know that the FD is invalid.</p>\n\n<p>Another interesting experiment to try is running this:</p>\n\n<pre><code>perl -e 'system qw(echo hello)'\n</code></pre>\n\n<p>If that produces output, then that means that the subprocess is inheriting a still-open FD 1, which is further evidence that Perl is in a bad state and has STDOUT associated with an unexpected FD.</p>\n\n<p>Yet another thing to try is this:</p>\n\n<pre><code>perl -le 'open(STDOUT, \"&gt;&amp;1\"); print \"hello\"'\n</code></pre>\n\n<p>That's an attempt to \"fix\" STDOUT by re-opening it with an FD <code>dup2()</code>'d from FD 1 (which I'm inferring is still open, and just not associated with STDOUT). If that produces output, then at least it's a possible workaround, though still not an explanation of the original cause (which I fear will remain inscrutable).</p>\n\n<p>One side note: Although <code>perl -V</code> isn't giving you any output, you can get the information by running:</p>\n\n<pre><code>perl -MConfig -le 'open my $FH, \"&gt;\", version.txt\"; print Config::myconfig(); print foreach Config::local_patches()'\n</code></pre>\n\n<p>The second part, about locally-applied patches, may give a clue as to whether something non-standard was done to the <code>perl</code> you have installed.</p>\n"}], "owner": {"reputation": 161, "user_id": 3698060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/956bf91ab8ad20c5bbf3f2ab98a37b3e?s=128&d=identicon&r=PG&f=1", "display_name": "user3698060", "link": "https://stackoverflow.com/users/3698060/user3698060"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1454, "favorite_count": 3, "answer_count": 4, "score": 16, "last_activity_date": 1462670160, "creation_date": 1460828477, "last_edit_date": 1495535435, "question_id": 36667502, "link": "https://stackoverflow.com/questions/36667502/why-does-perls-print-fail-to-output-anything-to-stdout-and-stderr-but-writes-t", "title": "Why does Perl&#39;s print fail to output anything to STDOUT and STDERR, but writes to a file successfully?", "body": "<p>I'm attempting to print to standard out from the following Perl script, but it doesn't produce any output on the screen.  It does print to a file, however.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nprint \"Here's some text\\n\";\nprint STDERR \"Here's some text\\n\";\nprint STDOUT \"Here's some text\\n\";\n\nopen FH, \"&gt;\", \"file.txt\" or die $!;\n\nprint FH \"Here's some text\\n\";\n</code></pre>\n\n<p>I tried checking the version of perl I'm using (<code>perl -v</code>), but that doesn't output anything either.  The perl man page tells me I'm using 5.14.2.  I'm running the Perl script from a bash prompt from a Raspberry Pi.  </p>\n\n<p>I saw this similar post <a href=\"https://stackoverflow.com/questions/9830610/print-producing-no-output\">Print: producing no output</a>, so I used strace and saw that the output did not include any write commands.</p>\n\n<pre><code>strace perl -we'print(\"a\") or die(\"Can'\\''t print: $!\\n\");'\n</code></pre>\n\n<p>Here's the strace output for the full script:</p>\n\n<pre><code>execve(\"./response\", [\"./response\"], [/* 18 vars */]) = 0\nbrk(0)                                  = 0xd98000\nuname({sys=\"Linux\", node=\"raspberrypi\", ...}) = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nmmap2(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb6f99000\naccess(\"/etc/ld.so.preload\", R_OK)      = 0\nopen(\"/etc/ld.so.preload\", O_RDONLY)    = 3\nfstat64(3, {st_mode=S_IFREG|0644, st_size=44, ...}) = 0\nmmap2(NULL, 44, PROT_READ|PROT_WRITE, MAP_PRIVATE, 3, 0) = 0xb6f98000\nclose(3)                                = 0\nopen(\"/usr/lib/arm-linux-gnueabihf/libcofi_rpi.so\", O_RDONLY) = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0(\\0\\1\\0\\0\\0\\270\\4\\0\\0004\\0\\0\\0\"..., 512) = 512\nlseek(3, 7276, SEEK_SET)                = 7276\nread(3, \"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 1080) = 1080\nlseek(3, 7001, SEEK_SET)                = 7001\nread(3, \"A.\\0\\0\\0aeabi\\0\\1$\\0\\0\\0\\0056\\0\\6\\6\\10\\1\\t\\1\\n\\2\\22\\4\\24\\1\\25\"..., 47) = 47\nfstat64(3, {st_mode=S_IFREG|0755, st_size=10170, ...}) = 0\nmmap2(NULL, 39740, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xb6f6c000\nmprotect(0xb6f6e000, 28672, PROT_NONE)  = 0\nmmap2(0xb6f75000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1) = 0xb6f75000\nclose(3)                                = 0\nmunmap(0xb6f98000, 44)                  = 0\nopen(\"/etc/ld.so.cache\", O_RDONLY)      = 3\nfstat64(3, {st_mode=S_IFREG|0644, st_size=64456, ...}) = 0\nmmap2(NULL, 64456, PROT_READ, MAP_PRIVATE, 3, 0) = 0xb6f5c000\nclose(3)                                = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/usr/lib/libperl.so.5.14\", O_RDONLY) = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0(\\0\\1\\0\\0\\0\\220\\v\\2\\0004\\0\\0\\0\"..., 512) = 512\nlseek(3, 1346508, SEEK_SET)             = 1346508\nread(3, \"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 1120) = 1120\nlseek(3, 1346184, SEEK_SET)             = 1346184\nread(3, \"A2\\0\\0\\0aeabi\\0\\1(\\0\\0\\0\\0056\\0\\6\\6\\10\\1\\t\\1\\n\\2\\22\\4\\24\\1\\25\"..., 51) = 51\nfstat64(3, {st_mode=S_IFREG|0644, st_size=1347628, ...}) = 0\nmmap2(NULL, 1379192, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xb6e0b000\nmprotect(0xb6f4f000, 32768, PROT_NONE)  = 0\nmmap2(0xb6f57000, 20480, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x144) = 0xb6f57000\nclose(3)                                = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/lib/arm-linux-gnueabihf/libdl.so.2\", O_RDONLY) = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0(\\0\\1\\0\\0\\0(\\t\\0\\0004\\0\\0\\0\"..., 512) = 512\nlseek(3, 8652, SEEK_SET)                = 8652\nread(3, \"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 1160) = 1160\nlseek(3, 8320, SEEK_SET)                = 8320\nread(3, \"A0\\0\\0\\0aeabi\\0\\1&amp;\\0\\0\\0\\0056\\0\\6\\6\\10\\1\\t\\1\\n\\2\\22\\4\\24\\1\\25\"..., 49) = 49\nfstat64(3, {st_mode=S_IFREG|0644, st_size=9812, ...}) = 0\nmmap2(NULL, 41136, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xb6e00000\nmprotect(0xb6e02000, 28672, PROT_NONE)  = 0\nmmap2(0xb6e09000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1) = 0xb6e09000\nclose(3)                                = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/lib/arm-linux-gnueabihf/libm.so.6\", O_RDONLY) = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0(\\0\\1\\0\\0\\0\\3201\\0\\0004\\0\\0\\0\"..., 512) = 512\nlseek(3, 426468, SEEK_SET)              = 426468\nread(3, \"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 1160) = 1160\nlseek(3, 426136, SEEK_SET)              = 426136\nread(3, \"A0\\0\\0\\0aeabi\\0\\1&amp;\\0\\0\\0\\0056\\0\\6\\6\\10\\1\\t\\1\\n\\2\\22\\4\\24\\1\\25\"..., 49) = 49\nfstat64(3, {st_mode=S_IFREG|0644, st_size=427628, ...}) = 0\nmmap2(NULL, 458912, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xb6d8f000\nmprotect(0xb6df7000, 28672, PROT_NONE)  = 0\nmmap2(0xb6dfe000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x67) = 0xb6dfe000\nclose(3)                                = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/lib/arm-linux-gnueabihf/libpthread.so.0\", O_RDONLY) = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0(\\0\\1\\0\\0\\0\\274V\\0\\0004\\0\\0\\0\"..., 512) = 512\nlseek(3, 82712, SEEK_SET)               = 82712\nread(3, \"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 1400) = 1400\nlseek(3, 82308, SEEK_SET)               = 82308\nread(3, \"A0\\0\\0\\0aeabi\\0\\1&amp;\\0\\0\\0\\0056\\0\\6\\6\\10\\1\\t\\1\\n\\2\\22\\4\\24\\1\\25\"..., 49) = 49\nfstat64(3, {st_mode=S_IFREG|0755, st_size=116462, ...}) = 0\nmmap2(NULL, 123412, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xb6d70000\nmprotect(0xb6d84000, 28672, PROT_NONE)  = 0\nmmap2(0xb6d8b000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x13) = 0xb6d8b000\nmmap2(0xb6d8d000, 4628, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0xb6d8d000\nclose(3)                                = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/lib/arm-linux-gnueabihf/libc.so.6\", O_RDONLY) = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0(\\0\\1\\0\\0\\0\\214y\\1\\0004\\0\\0\\0\"..., 512) = 512\nlseek(3, 1215264, SEEK_SET)             = 1215264\nread(3, \"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 1360) = 1360\nlseek(3, 1214828, SEEK_SET)             = 1214828\nread(3, \"A.\\0\\0\\0aeabi\\0\\1$\\0\\0\\0\\0056\\0\\6\\6\\10\\1\\t\\1\\n\\2\\22\\4\\24\\1\\25\"..., 47) = 47\nfstat64(3, {st_mode=S_IFREG|0755, st_size=1216624, ...}) = 0\nmmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb6f98000\nmmap2(NULL, 1258784, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xb6c3c000\nmprotect(0xb6d62000, 32768, PROT_NONE)  = 0\nmmap2(0xb6d6a000, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x126) = 0xb6d6a000\nmmap2(0xb6d6d000, 9504, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0xb6d6d000\nclose(3)                                = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/lib/arm-linux-gnueabihf/libcrypt.so.1\", O_RDONLY) = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0(\\0\\1\\0\\0\\0\\30\\7\\0\\0004\\0\\0\\0\"..., 512) = 512\nlseek(3, 29116, SEEK_SET)               = 29116\nread(3, \"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 1160) = 1160\nlseek(3, 28780, SEEK_SET)               = 28780\nread(3, \"A0\\0\\0\\0aeabi\\0\\1&amp;\\0\\0\\0\\0056\\0\\6\\6\\10\\1\\t\\1\\n\\2\\22\\4\\24\\1\\25\"..., 49) = 49\nfstat64(3, {st_mode=S_IFREG|0644, st_size=30276, ...}) = 0\nmmap2(NULL, 221504, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xb6c05000\nmprotect(0xb6c0c000, 28672, PROT_NONE)  = 0\nmmap2(0xb6c13000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x6) = 0xb6c13000\nmmap2(0xb6c15000, 155968, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0xb6c15000\nclose(3)                                = 0\naccess(\"/etc/ld.so.nohwcap\", F_OK)      = -1 ENOENT (No such file or directory)\nopen(\"/lib/arm-linux-gnueabihf/libgcc_s.so.1\", O_RDONLY) = 3\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0(\\0\\1\\0\\0\\0`\\364\\0\\0004\\0\\0\\0\"..., 512) = 512\nlseek(3, 130212, SEEK_SET)              = 130212\nread(3, \"\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\"..., 1160) = 1160\nlseek(3, 129880, SEEK_SET)              = 129880\nread(3, \"A2\\0\\0\\0aeabi\\0\\1(\\0\\0\\0\\0056\\0\\6\\6\\10\\1\\t\\1\\n\\2\\22\\4\\24\\1\\25\"..., 51) = 51\nfstat64(3, {st_mode=S_IFREG|0644, st_size=131372, ...}) = 0\nmmap2(NULL, 162704, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xb6bdd000\nmprotect(0xb6bfd000, 28672, PROT_NONE)  = 0\nmmap2(0xb6c04000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1f) = 0xb6c04000\nclose(3)                                = 0\nmmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xb6f97000\nset_tls(0xb6f976d0, 0xb6f97da8, 0xb6f9c048, 0xb6f976d0, 0xb6f9c048) = 0\nmprotect(0xb6c13000, 4096, PROT_READ)   = 0\nmprotect(0xb6d6a000, 8192, PROT_READ)   = 0\nmprotect(0xb6d8b000, 4096, PROT_READ)   = 0\nmprotect(0xb6dfe000, 4096, PROT_READ)   = 0\nmprotect(0xb6e09000, 4096, PROT_READ)   = 0\nmprotect(0xb6f57000, 8192, PROT_READ)   = 0\nmprotect(0x11000, 4096, PROT_READ)      = 0\nmprotect(0xb6f9b000, 4096, PROT_READ)   = 0\nmunmap(0xb6f5c000, 64456)               = 0\nset_tid_address(0xb6f97278)             = 12607\nset_robust_list(0xb6f97280, 0xc)        = 0\nfutex(0xbece6778, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 1, NULL, b6d8c000) = -1 EAGAIN (Resource temporarily unavailable)\nrt_sigaction(SIGRTMIN, {0xb6d7520c, [], SA_SIGINFO|0x4000000}, NULL, 8) = 0\nrt_sigaction(SIGRT_1, {0xb6d750b4, [], SA_RESTART|SA_SIGINFO|0x4000000}, NULL, 8) = 0\nrt_sigprocmask(SIG_UNBLOCK, [RTMIN RT_1], NULL, 8) = 0\ngetrlimit(RLIMIT_STACK, {rlim_cur=8192*1024, rlim_max=RLIM_INFINITY}) = 0\nrt_sigaction(SIGFPE, {SIG_IGN, [FPE], SA_RESTART|0x4000000}, {SIG_DFL, [], 0}, 8) = 0\nbrk(0)                                  = 0xd98000\nbrk(0xdb9000)                           = 0xdb9000\ngetuid32()                              = 1001\ngeteuid32()                             = 1001\ngetgid32()                              = 1004\ngetegid32()                             = 1004\nopen(\"/usr/lib/locale/locale-archive\", O_RDONLY|O_LARGEFILE) = 3\nfstat64(3, {st_mode=S_IFREG|0644, st_size=1534656, ...}) = 0\nmmap2(NULL, 1534656, PROT_READ, MAP_PRIVATE, 3, 0) = 0xb6a66000\nclose(3)                                = 0\nopen(\"/dev/urandom\", O_RDONLY|O_LARGEFILE) = 3\nread(3, \"~\\210\\223\\234\", 4)             = 4\nclose(3)                                = 0\ngettimeofday({1460938704, 307768}, NULL) = 0\nreadlink(\"/proc/self/exe\", \"/usr/bin/perl\", 4095) = 13\nstat64(\"/usr/local/lib/site_perl/5.14.2/arm-linux-gnueabihf-thread-multi-64int\", 0xbece6368) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/local/lib/site_perl/5.14.2\", 0xbece6368) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/local/lib/site_perl/arm-linux-gnueabihf-thread-multi-64int\", 0xbece6368) = -1 ENOENT (No such file or directory)\nopen(\"./response\", O_RDONLY|O_LARGEFILE) = 3\nioctl(3, SNDCTL_TMR_TIMEBASE or TCGETS, 0xbece627c) = -1 ENOTTY (Inappropriate ioctl for device)\n_llseek(3, 0, [0], SEEK_CUR)            = 0\nfcntl64(3, F_SETFD, FD_CLOEXEC)         = 0\nrt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0\nbrk(0xddb000)                           = 0xddb000\nread(3, \"#!/usr/bin/perl\\nuse warnings;\\nus\"..., 8192) = 210\nstat64(\"/etc/perl/warnings.pmc\", 0xbece5e10) = -1 ENOENT (No such file or directory)\nstat64(\"/etc/perl/warnings.pm\", 0xbece5d90) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/local/lib/perl/5.14.2/warnings.pmc\", 0xbece5e10) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/local/lib/perl/5.14.2/warnings.pm\", 0xbece5d90) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/local/share/perl/5.14.2/warnings.pmc\", 0xbece5e10) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/local/share/perl/5.14.2/warnings.pm\", 0xbece5d90) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/lib/perl5/warnings.pmc\", 0xbece5e10) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/lib/perl5/warnings.pm\", 0xbece5d90) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/share/perl5/warnings.pmc\", 0xbece5e10) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/share/perl5/warnings.pm\", 0xbece5d90) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/lib/perl/5.14/warnings.pmc\", 0xbece5e10) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/lib/perl/5.14/warnings.pm\", 0xbece5d90) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/share/perl/5.14/warnings.pmc\", 0xbece5e10) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/share/perl/5.14/warnings.pm\", {st_mode=S_IFREG|0644, st_size=15015, ...}) = 0\nopen(\"/usr/share/perl/5.14/warnings.pm\", O_RDONLY|O_LARGEFILE) = 4\nioctl(4, SNDCTL_TMR_TIMEBASE or TCGETS, 0xbece5be4) = -1 ENOTTY (Inappropriate ioctl for device)\n_llseek(4, 0, [0], SEEK_CUR)            = 0\nread(4, \"# -*- buffer-read-only: t -*-\\n# \"..., 8192) = 8192\nread(4, \"08\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x00\\\\x\"..., 8192) = 6823\nread(4, \"\", 8192)                       = 0\nclose(4)                                = 0\nbrk(0xdfc000)                           = 0xdfc000\nstat64(\"/etc/perl/strict.pmc\", 0xbece5e10) = -1 ENOENT (No such file or directory)\nstat64(\"/etc/perl/strict.pm\", 0xbece5d90) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/local/lib/perl/5.14.2/strict.pmc\", 0xbece5e10) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/local/lib/perl/5.14.2/strict.pm\", 0xbece5d90) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/local/share/perl/5.14.2/strict.pmc\", 0xbece5e10) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/local/share/perl/5.14.2/strict.pm\", 0xbece5d90) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/lib/perl5/strict.pmc\", 0xbece5e10) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/lib/perl5/strict.pm\", 0xbece5d90) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/share/perl5/strict.pmc\", 0xbece5e10) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/share/perl5/strict.pm\", 0xbece5d90) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/lib/perl/5.14/strict.pmc\", 0xbece5e10) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/lib/perl/5.14/strict.pm\", 0xbece5d90) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/share/perl/5.14/strict.pmc\", 0xbece5e10) = -1 ENOENT (No such file or directory)\nstat64(\"/usr/share/perl/5.14/strict.pm\", {st_mode=S_IFREG|0644, st_size=879, ...}) = 0\nopen(\"/usr/share/perl/5.14/strict.pm\", O_RDONLY|O_LARGEFILE) = 4\nioctl(4, SNDCTL_TMR_TIMEBASE or TCGETS, 0xbece5be4) = -1 ENOTTY (Inappropriate ioctl for device)\n_llseek(4, 0, [0], SEEK_CUR)            = 0\nread(4, \"package strict;\\n\\n$strict::VERSIO\"..., 8192) = 879\n_llseek(4, 878, [878], SEEK_SET)        = 0\n_llseek(4, 0, [878], SEEK_CUR)          = 0\nclose(4)                                = 0\nread(3, \"\", 8192)                       = 0\nopen(\"file.txt\", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 4\nioctl(4, SNDCTL_TMR_TIMEBASE or TCGETS, 0xbece614c) = -1 ENOTTY (Inappropriate ioctl for device)\n_llseek(4, 0, [0], SEEK_CUR)            = 0\nfstat64(4, {st_mode=S_IFREG|0644, st_size=0, ...}) = 0\nfcntl64(4, F_SETFD, FD_CLOEXEC)         = 0\nrt_sigaction(SIG_0, NULL, {0xb6e18dc4, [TRAP RTMIN RT_1 RT_2 RT_3 RT_12 RT_13 RT_15 RT_16 RT_18 RT_19 RT_20 RT_25 RT_26 RT_27 RT_28 RT_29], SA_SIGINFO|0x85b8}, 8) = -1 EINVAL (Invalid argument)\nrt_sigaction(SIGHUP, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGINT, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGQUIT, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGILL, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGTRAP, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGABRT, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGBUS, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGFPE, NULL, {SIG_IGN, [FPE], SA_RESTART|0x4000000}, 8) = 0\nrt_sigaction(SIGKILL, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGUSR1, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGSEGV, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGUSR2, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGPIPE, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGALRM, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGTERM, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGSTKFLT, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGCONT, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGSTOP, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGTSTP, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGTTIN, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGTTOU, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGURG, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGXCPU, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGXFSZ, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGVTALRM, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGPROF, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGWINCH, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGIO, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGPWR, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGSYS, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_2, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_3, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_4, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_5, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_6, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_7, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_8, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_9, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_10, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_11, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_12, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_13, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_14, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_15, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_16, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_17, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_18, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_19, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_20, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_21, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_22, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_23, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_24, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_25, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_26, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_27, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_28, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_29, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_30, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_31, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGRT_32, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGABRT, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGIO, NULL, {SIG_DFL, [], 0}, 8) = 0\nrt_sigaction(SIGSYS, NULL, {SIG_DFL, [], 0}, 8) = 0\nwrite(4, \"Here's some text\\n\", 17)      = 17\nclose(4)                                = 0\nclose(3)                                = 0\nexit_group(0)                           = ?\n</code></pre>\n\n<p>Any ideas about why it's not producing output?  A bash script can echo text to standard out just fine.</p>\n\n<p>When I run the script in debug mode it does print output.</p>\n\n<p>After executing perl -v at the command line the exit code from $? was 0.  </p>\n\n<p>Executing </p>\n\n<pre><code>perl -e'print \"foo\" or die $!' \n</code></pre>\n\n<p>gave and exit code of 9, but that appears to be due to the die.  perl -v > file did not write anything to file.</p>\n\n<p>Here is the output of stat STDOUT and the command used to write it to a file:  </p>\n\n<p>45826|261126|33188|1|1001|1004|0|0|1461024408|1461035504|1461035504|4096|0</p>\n\n<pre><code>perl -e 'open my $FH, \"&gt;file\"; print $FH join \"|\", stat STDOUT '\n</code></pre>\n"}, {"tags": ["arrays", "perl", "hash", "intersection"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460815906, "post_id": 36663889, "comment_id": 60922319, "body": "Your code doesn&#39;t appear to even attempt to solve the problem. It is just some data structure definitions. Please show the code that you&#39;re having trouble with, and explain what problems you&#39;re having and what your question is. The requirement to achieve this  <i>\u201cwithout using pre-defined function in Perl\u201d</i> is very strange. Is this homework?"}, {"owner": {"reputation": 69, "user_id": 3626985, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DbvBt.jpg?s=128&g=1", "display_name": "Analyzer", "link": "https://stackoverflow.com/users/3626985/analyzer"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460817645, "post_id": 36663889, "comment_id": 60922890, "body": "@Borodin Are you sure, my code is not visible to you? I have arrays(CS1, CS2 ) containing strings and they are then listed into hash. All I need is to process that hash arrays to find out iterative intersection of arrays with each other."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1460818786, "post_id": 36663889, "comment_id": 60923279, "body": "That&#39;s not code, because it doesn&#39;t actually do anything. You&#39;ve made no attempt to actually solve the problem, which is making this look like a &#39;do my homework for me&#39; request."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460823843, "post_id": 36663889, "comment_id": 60925133, "body": "And <i>&quot;without using pre-defined function in Perl&quot;</i> is also a very homework-like restriction. It&#39;s impossible to write a useful Perl program without using a pre-defined function"}, {"owner": {"reputation": 69, "user_id": 3626985, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DbvBt.jpg?s=128&g=1", "display_name": "Analyzer", "link": "https://stackoverflow.com/users/3626985/analyzer"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460883266, "post_id": 36663889, "comment_id": 60939348, "body": "@Borodin I agree that my questions should be more pragmatic and ask for any scientific or technical help. However, I am pretty new to &quot;Perl&quot;, and, processing the data structures incur lot of complex loop formation. I definitely had to consult &quot;Stack Overflow&quot;. For convenience of readers, I have changed my question now."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1460887817, "post_id": 36663889, "comment_id": 60940575, "body": "Thanks for the update. Sorry, I am a little bit confused. What is actually the meaning (described in plain english) of <code>(cs1 intr cs1)&#47;cs1</code> ? According to <a href=\"https://en.wikipedia.org/wiki/Set_theory\" rel=\"nofollow noreferrer\">wikipedia</a>, the backslash is &quot;set difference&quot; operator."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1460888172, "post_id": 36663889, "comment_id": 60940672, "body": "... but the forwards slash is not defined?"}, {"owner": {"reputation": 69, "user_id": 3626985, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DbvBt.jpg?s=128&g=1", "display_name": "Analyzer", "link": "https://stackoverflow.com/users/3626985/analyzer"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1460890951, "post_id": 36663889, "comment_id": 60941495, "body": "@H&#229;konH&#230;gland  It is intersection of cs1 set and cs2 set and then dividivsion by cs1. Sorry for inconvenient text, couldn&#39;t find better way to put."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1460897402, "post_id": 36663889, "comment_id": 60943410, "body": "Why intersection with <code>c2</code> ? When it says <code>cs1 intr cs1</code>? And what do you mean by &quot;division by <code>cs1</code>&quot;? Did you mean <code>|cs1|</code>?"}, {"owner": {"reputation": 69, "user_id": 3626985, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DbvBt.jpg?s=128&g=1", "display_name": "Analyzer", "link": "https://stackoverflow.com/users/3626985/analyzer"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1460902735, "post_id": 36663889, "comment_id": 60945249, "body": "@H&#229;konH&#230;gland Point is, I need to implement this data structure to collect some dependency information in analysis work. Although, this is test code, while I have different data to work with.Of course, the division is with scalar of CS1. i.e, |CS1|."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1460904549, "post_id": 36663889, "comment_id": 60945907, "body": "ok sorry I am not so familiar with set theory.. then to check my understanding, you want to compute: <code>|{(cs1 \u2229 cs1)&#47;|cs1| \u222a (cs1 \u2229 cs2)&#47;|cs1| \u222a (cs1 \u2229 cs3)&#47;|cs1|}| + |{(cs2 \u2229 cs1)&#47;|cs2| \u222a (cs2 \u2229 cs2)&#47;|cs2| \u222a (cs2 \u2229 cs3)&#47;|cs2|}| + ... </code> . Is this correct?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1460905228, "post_id": 36663889, "comment_id": 60946151, "body": "Problem with the last interpretation is the meaning of <code>(cs1 \u2229 cs1)&#47;|cs1|</code>. Since the set <code>cs1</code> is not numeric ( it seems to consist of strings like <code>&quot;c1&quot;</code> ) it does not make sense to divide each element by <code>|cs1|</code>.. Maybe you meant: <code>|(cs1 \u2229 cs1)|&#47;|cs1|</code> ?"}, {"owner": {"reputation": 69, "user_id": 3626985, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DbvBt.jpg?s=128&g=1", "display_name": "Analyzer", "link": "https://stackoverflow.com/users/3626985/analyzer"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1460906297, "post_id": 36663889, "comment_id": 60946555, "body": "@H&#229;konH&#230;gland Can we have email correspondence, as this one is related to research task. I got to know from your profile that you are researcher as well."}, {"owner": {"reputation": 69, "user_id": 3626985, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DbvBt.jpg?s=128&g=1", "display_name": "Analyzer", "link": "https://stackoverflow.com/users/3626985/analyzer"}, "edited": false, "score": 0, "creation_date": 1460906318, "post_id": 36663889, "comment_id": 60946562, "body": "Also, you understood it correct now."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1460906642, "post_id": 36663889, "comment_id": 60946671, "body": "Of course, we should limit this discussion here. Just send me an email and we can clarify things more easily."}, {"owner": {"reputation": 69, "user_id": 3626985, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DbvBt.jpg?s=128&g=1", "display_name": "Analyzer", "link": "https://stackoverflow.com/users/3626985/analyzer"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1460906981, "post_id": 36663889, "comment_id": 60946799, "body": "@H&#229;konH&#230;gland Can I have your email ID ?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1460907077, "post_id": 36663889, "comment_id": 60946839, "body": "Sorry, I thought it was in the profile. Here it is: <code>hakon.hagland@gmail.com</code>"}, {"owner": {"reputation": 69, "user_id": 3626985, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DbvBt.jpg?s=128&g=1", "display_name": "Analyzer", "link": "https://stackoverflow.com/users/3626985/analyzer"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1460908422, "post_id": 36663889, "comment_id": 60947357, "body": "Check inbox @H&#229;konH&#230;gland"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 3626985, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DbvBt.jpg?s=128&g=1", "display_name": "Analyzer", "link": "https://stackoverflow.com/users/3626985/analyzer"}, "edited": false, "score": 0, "creation_date": 1460883106, "post_id": 36665921, "comment_id": 60939307, "body": "Thanks for the effort Hakon! But, I need slightly different computation. Can you look at the solution, I have proposed and then give me any hint to solve this complex computation."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 0, "last_activity_date": 1460908504, "last_edit_date": 1460908504, "creation_date": 1460819880, "answer_id": 36665921, "question_id": 36663889, "link": "https://stackoverflow.com/questions/36663889/finding-iterative-intersection-of-array-elements-perl/36665921#36665921", "title": "Finding iterative intersection of array elements Perl", "body": "<p>Here is a suggestion. I have renamed some of your variables, and used an array of array instead of a hash of arrays. After our discussion in the comments, I assumed you wanted to compute the following:</p>\n\n<pre><code>   {|cs1 \u2229 cs1|/|cs1| + |cs1 \u2229 cs2|/|cs1| + |cs1 \u2229 cs3|/|cs1| + ... } \n + {|cs2 \u2229 cs1|/|cs2| + |cs2 \u2229 cs2|/|cs2| + |cs2 \u2229 cs3|/|cs2| + ... } \n + ...\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse List::Util qw(any);\n\nmy @sets = (\n    [ \"c1\", \"c2\", \"c3\", \"c4\", \"-c5\"],\n    [ \"c1\", \"c2\", \"c8\", \"c9\"],\n    [ \"c1\", \"c2\", \"c3\"],\n    [ \"c1\", \"c2\", \"c3\"],\n    [ ],\n    [ ],\n);\n\nmy $intr_sect = 0;\nfor my $set1 ( @sets ) {\n    my $N = scalar @$set1;\n    for my $set2 ( @sets ) {\n        my @intersect;\n        for my $item ( @$set2 ) {\n            if ( any { $_ eq $item } @$set1 ) {\n                push @intersect, $item;\n            }\n        }\n        $intr_sect += (scalar @intersect) / $N if $N;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 3626985, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DbvBt.jpg?s=128&g=1", "display_name": "Analyzer", "link": "https://stackoverflow.com/users/3626985/analyzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 36665921, "answer_count": 1, "score": -2, "last_activity_date": 1460908504, "creation_date": 1460807879, "last_edit_date": 1460891242, "question_id": 36663889, "link": "https://stackoverflow.com/questions/36663889/finding-iterative-intersection-of-array-elements-perl", "title": "Finding iterative intersection of array elements Perl", "body": "<p>I want to find common elements in  Arrays listed in a  hash (Hash of arrays) in iterative manner and then divide each \"intersection\" by scalar value of first array. Iteration of intersection with other arrays for each array.  </p>\n\n<pre><code>my @CS1= (\"c1\", \"c2\", \"c3\", \"c4\", \"-c5\");\nmy @CS2= (\"c1\", \"c2\", \"c8\", \"c9\");\nmy @CS3= (\"c1\", \"c2\", \"c3\");\n\n\nmy %CSHash= ( \"set1\" =&gt; [@CS1],\n         \"set2\"=&gt; [@CS2], \n         \"set3\" =&gt; [@CS3],\n\n        );\n</code></pre>\n\n<p>My proposed Solution: But, it does not generate desired out put. </p>\n\n<pre><code>  my %union=();\n  my %isect=();\n\nmy $cumLativeIsect=0;\n\n foreach my $lst(keys %CSHash)\n {\n   my $elCount=0;\n\n    foreach my $ele(@{$CSHash{$lst}})\n   {\n    $elCount++;\n    $union{$ele}++ &amp;&amp; $isect{$ele}++;\n    }\n\n   my @intrsection= keys %isect;\n\nif($elCount!=0 &amp;&amp; scalar @intrsection!=0 )\n{\n $cumLativeIsect+=  scalar @intrsection/$elCount;\n}\n\n}\n</code></pre>\n\n<p>Mathemetically, I am loking for following computation ( intr=intersection):\nIntrsection=|{(cs1 intr cs1)/cs1+ (cs1 intr cs2)/cs1+ (cs1 intr cs3)/cs1}|+|{(cs2 intr cs2)/cs2+ (cs2 intr cs1)/cs2+ (cs2 intr cs3)/cs2}|+|{(cs3 intr cs1)/cs1+ (cs3 intr cs2)/cs1+ (cs3 intr cs3)/cs3}|</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 0, "creation_date": 1460796780, "post_id": 36661965, "comment_id": 60916558, "body": "The <code>line 1071883</code> indicates the last line read, which probably changes as your log file evolves in time.  The format you&#39;re using needs 7 parameters, but you only provide 6, i.e. <code>%Y</code> is nowhere to be found in <code>$start_time</code>."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1460796909, "post_id": 36662123, "comment_id": 60916590, "body": "<code>$diff</code> is a <code>Time::Seconds</code> object so you can <code>say $diff-&gt;minutes, &#39; minutes&#39;</code>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460797046, "post_id": 36662123, "comment_id": 60916617, "body": "Of course you can. No idea what I was thinking. Thanks. Fixed."}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1460800391, "post_id": 36662123, "comment_id": 60917502, "body": "I am getting below output, while using modified format. Seems the problem is coming as $now  contains the DAY  like saturday but our $start_time doesnt. However i cant make any change in start time like adding the day value to it as we are collecting it from a log file. If the problem is due to the reason I stated, Kindly suggest how to ignore that from $now. Output I got:::::: last line of log: 16 Apr 2016 03:41:49 -- DEBUG --    16 Apr 2016 03:41:49 Time is Sat Apr 16 03:43:02 2016  difference is  21673"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1460801016, "post_id": 36662123, "comment_id": 60917659, "body": "It is impossible to make sense of data like that dumped in a comment. Please edit your question to add this information."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1460801239, "post_id": 36662123, "comment_id": 60917712, "body": "That output seems to be correct. Why do you think there is a problem?"}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1460805488, "post_id": 36662123, "comment_id": 60919012, "body": "The output should be around 2minutes, i.e. difference of 03:43 - 03:41, even if it comes in seconds it should be near to 120 seconds but the output is something in 20 thousands."}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1460813979, "post_id": 36662123, "comment_id": 60921714, "body": "@DaveCross Hi Dave, where do you think the issue could be"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1460814844, "post_id": 36662123, "comment_id": 60921979, "body": "See my update. And can I remind you that unless you&#39;re paying me, I get to reply whenever <b>I</b> want :-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1460815247, "post_id": 36662123, "comment_id": 60922108, "body": "Or you can use <code>gmtime</code> instead of <code>localtime</code> for <code>$now</code>. Both are exported by <code>Time::Piece</code>"}, {"owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "edited": false, "score": 0, "creation_date": 1460828448, "post_id": 36662123, "comment_id": 60926877, "body": "@DaveCross Sure, you can. I just wanted to make sure this doesn&#39;t go off your radar. Sorry if I made you uncomfortable with that. Also thanks for your turnaround. I need to implement this in different time zone including eastern time mountain time etc. However, I liked thought of switching to UTC for both times as my main motive is to get the difference in two. Thanks again."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1460816009, "last_edit_date": 1460816009, "creation_date": 1460796709, "answer_id": 36662123, "question_id": 36661965, "link": "https://stackoverflow.com/questions/36661965/to-subtract-two-timepiece-objects/36662123#36662123", "title": "To subtract two Time:Piece objects", "body": "<p>Your format doesn't match the format of your date. The format you're using is \"'%a %b %d %H:%M:%S %Y\", which would match \"Thu Apr 14 05:02:26 2016\". You can get an explanation of the various pieces of your format from \"man strftime\" or \"man strptime\".</p>\n\n<p>I've corrected the format definition in this example.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Time::Piece;\n\nmy $format = '%d %b %Y %H:%M:%S';\n\nmy $start_time = '14 Apr 2016 05:02:26';\nmy $now = localtime;\n\nmy $diff = $now - Time::Piece-&gt;strptime($start_time, $format);\n\nsay \"$diff seconds\"; # $diff stringifies to seconds\nsay $diff-&gt;minutes, ' minutes';\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>186402 seconds\n3106.7 minutes\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<blockquote>\n  <p>Seems the problem is coming as $now contains the DAY value like\n  saturday but our $start_time doesnt. However i cant make any change in\n  start time like adding the day value to it as we are collecting it\n  from a log file. If the problem is due to the reason I stated, Kindly\n  suggest how to ignore that day value from $now.</p>\n</blockquote>\n\n<p>No. That's not the problem at all. If you print out the the Time::Piece object that you parse from <code>$start_time</code> then you'll see that also has the day name included. That's just how Time::Piece objects stringify.</p>\n\n<p>The actual problem is more subtle. It seems that when Time::Piece parses a date string, it assumes that it is in UTC unless the string contains an explicit time zone. From what you're saying I'm assuming that your on the east coast of the US, which would explain the ~6 hour differences that you're getting.</p>\n\n<p>I'm investigating this further and will almost certainly submit a patch to Time::Piece to fix this (it might just be a documentation patch to make the behaviour clearer). But in the meantime, you need a fix. And that's pretty simple. You just need to add the time zone to your code. The relevant sections of your code will now look like this:</p>\n\n<pre><code>my $format = '%d %b %Y %H:%M:%S%z'; # %z added here\n\n# Append timezone here (-0600 as you're six hours behind UTC -\n# adjust that if my assumption is wrong)\nmy $diff = $t - Time::Piece-&gt;strptime($var . '-0600', $format);\n</code></pre>\n\n<p>Or (as, quite rightly, pointed out in the comments by Borodin) you could just switch to using UTC throughout).</p>\n\n<pre><code>my $t = gmtime;\n\nmy $format = '%d %b %Y %H:%M:%S';\n\nmy $diff = $t - Time::Piece-&gt;strptime($var, $format);\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 5171874, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e8f6c50bc14463fdca1eb9c37808e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Sur", "link": "https://stackoverflow.com/users/5171874/sur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1460816009, "creation_date": 1460795506, "last_edit_date": 1460810978, "question_id": 36661965, "link": "https://stackoverflow.com/questions/36661965/to-subtract-two-timepiece-objects", "title": "To subtract two Time:Piece objects", "body": "<p>I want to get the difference between time in minutes. Both the timings to be compared are in same timezone so no worries about the time zone difference and all.</p>\n\n<p>Say if <code>Start_time = 14 Apr 2016 05:02:26</code> (which is collected form log line) and for end time would be the current time of machine,</p>\n\n<p>I want to calculate <code>end time - start time</code>. For that I need the Start time to be in format of current time.\nI tried subtracting current time which is already a Time::Piece Object and converting <code>$start_time</code> into Time:Piece object.</p>\n\n<p>But I am getting \"Error parsing time at C:/Perl/lib/Time/Piece.pm line 469, line 1071883.\" error. Please suggest.\nAlso this \"1071883\" num in error is changing everytime I run the script. Not sure if its a kind of garbage value or what.</p>\n\n<p>Editing the code with below suggested answer\nI am getting below output. Seems the problem is coming as $now contains the DAY value like saturday but our $start_time doesnt. However i cant make any change in start time like adding the day value to it as we are collecting it from a log file. If the problem is due to the reason I stated, Kindly suggest how to ignore that day value from $now. </p>\n\n<p>Output : </p>\n\n<pre><code>last line of log: 16 Apr 2016 03:41:49 -- DEBUG -- 16 Apr 2016 03:41:49 \nTime is Sat Apr 16 03:43:02 2016 \ndifference is 21673\n</code></pre>\n\n<p>Below is what I tried:</p>\n\n<pre><code>#get last line of log\nopen my $fh ,\"&lt;\",\"$slogfile\";\nmy $last_line;\n$last_line = $_,while (&lt;$fh&gt;);      \nprint OUTLOG \"last line of log: $last_line \\n\";\n\nif ($last_line=~ m/^(\\d\\d) (\\w{3}) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) --/) {\n    $start_time = \"$1 $2 $3 $4:$5:$6\";\n    print OUTLOG \"$start_time\\n\";\n} else {\n    print OUTLOG \"pattern matching didnt work\\n\";\n}\n\n#get current time\nmy $t = localtime;\n#my $current_time = $t ;\nprint OUTLOG \"Time is $current_time \\n\";\n\nmy $format = '%d %b %Y %H:%M:%S';\n\nmy $diff = $t - Time::Piece-&gt;strptime($var, $format);\n\nprint OUTLOG \"difference is  $diff \\n\";\n</code></pre>\n"}, {"tags": ["linux", "perl"], "comments": [{"owner": {"reputation": 695058, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1460784221, "post_id": 36660393, "comment_id": 60913524, "body": "What are you using to unpack?"}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 1, "creation_date": 1460785527, "post_id": 36660393, "comment_id": 60913808, "body": "Look at <a href=\"http://linux.die.net/man/1/7z\" rel=\"nofollow noreferrer\">man 7z</a>.  It sounds like you want something like<code>7z x  myfile -so | myscript.pl &gt; out_file</code>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 0, "creation_date": 1460788540, "post_id": 36660560, "comment_id": 60914510, "body": "@polettix: Thank for the edit. It was a shambles wasn&#39;t it!"}, {"owner": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 0, "creation_date": 1460796153, "post_id": 36660560, "comment_id": 60916417, "body": "ahahah now I know one more English word - shambles! Actually it wasn&#39;t, it&#39;s easy to miss a &quot;context switch&quot; between Markdown and code."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1460788455, "last_edit_date": 1460788455, "creation_date": 1460785215, "answer_id": 36660560, "question_id": 36660393, "link": "https://stackoverflow.com/questions/36660393/my-process-needs-to-read-a-file-passed-from-the-stream-in-order-to-save-space-l/36660560#36660560", "title": "My process needs to read a file passed from the stream in order to save space (LINUX)", "body": "<p>So each archive contains exactly one file?</p>\n\n<p>The <code>7z</code> command-line program has an <code>-so</code> option that makes it send the unpacked output to STDOUT. That means you can send it through a pipe to your perl process:</p>\n\n<pre><code>$ 7z e archive.zip -so | perl program.pl\n</code></pre>\n\n<p>Or you could use <code>open</code> to get the unpacked information within the perl program:</p>\n\n<pre><code>my $archive_file = 'archive.zip';\n\nopen my $archive_fh, '-|', \"7z e $archive_file -so\";\n\nwhile ( &lt;$archive_fh&gt; ) {\n    # Process text line\n}\n</code></pre>\n\n<p>If you don't already have a command-line version of 7zip then you should download <code>p7zip</code> which is <a href=\"https://wiki.archlinux.org/index.php/P7zip?cm_mc_uid=61758477837914607855154&amp;cm_mc_sid_50200000=1460785515\" rel=\"nofollow\">described here</a></p>\n"}], "owner": {"reputation": 27, "user_id": 5310915, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/09b84ae26c2c17fd4abba41577470235?s=128&d=identicon&r=PG&f=1", "display_name": "George Lopez", "link": "https://stackoverflow.com/users/5310915/george-lopez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 36660560, "answer_count": 1, "score": -1, "last_activity_date": 1460788455, "creation_date": 1460783768, "last_edit_date": 1460784087, "question_id": 36660393, "link": "https://stackoverflow.com/questions/36660393/my-process-needs-to-read-a-file-passed-from-the-stream-in-order-to-save-space-l", "title": "My process needs to read a file passed from the stream in order to save space (LINUX)", "body": "<p>I need to do this:</p>\n\n<ol>\n<li>unpack a file.7z</li>\n<li>read the unpacked file and pass it to a perl process without writing it to disk</li>\n</ol>\n\n<p>like this:</p>\n\n<p>$unpack file.7z | perl_process > out_file</p>\n\n<p>the process needs to read the unpacked file from the stream because it is very large and I need to save space.</p>\n\n<p>currently I have (but can't do) this:</p>\n\n<ol>\n<li>unpack file.7z (generates in_file that is extremely large)</li>\n<li>process in_file out_file (the process reads in_file and generates out_file)</li>\n</ol>\n\n<p>Can you give me ideas of how could I achieve what I need?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 1019, "user_id": 1524623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf3087c305d6dc80f3ac41882ff6416?s=128&d=identicon&r=PG", "display_name": "owler", "link": "https://stackoverflow.com/users/1524623/owler"}, "edited": false, "score": 0, "creation_date": 1460775757, "post_id": 36659503, "comment_id": 60912081, "body": "I doubt you can make a (reasonable) regex for this, but it should be pretty easy to use regexp&#39;s inside a perl program to do this."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1460778747, "post_id": 36659503, "comment_id": 60912548, "body": "Is this a proper XML document?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1460780817, "post_id": 36659503, "comment_id": 60912883, "body": "Do you want to capture everything after the first John-Lisa sequence regardless of what there is?  (For example, other John-Lisa exchanges, with or without interruptions.)"}, {"owner": {"reputation": 498, "user_id": 1769925, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/fb6cf77bdcefd03d0e7e7228314c179e?s=128&d=identicon&r=PG&f=1", "display_name": "user1769925", "link": "https://stackoverflow.com/users/1769925/user1769925"}, "edited": false, "score": 0, "creation_date": 1460805163, "post_id": 36659503, "comment_id": 60918904, "body": "yes, everything after the first John-Lisa sequence no, it is pseudo-XML"}], "answers": [{"comments": [{"owner": {"reputation": 498, "user_id": 1769925, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/fb6cf77bdcefd03d0e7e7228314c179e?s=128&d=identicon&r=PG&f=1", "display_name": "user1769925", "link": "https://stackoverflow.com/users/1769925/user1769925"}, "edited": false, "score": 0, "creation_date": 1460805848, "post_id": 36659703, "comment_id": 60919133, "body": "I ended up using this, but replaced &quot;last&quot; by &quot;$output = &quot;&quot;&quot; so I would caputre all that comes after the first interaction"}, {"owner": {"reputation": 498, "user_id": 1769925, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/fb6cf77bdcefd03d0e7e7228314c179e?s=128&d=identicon&r=PG&f=1", "display_name": "user1769925", "link": "https://stackoverflow.com/users/1769925/user1769925"}, "edited": false, "score": 0, "creation_date": 1460805891, "post_id": 36659703, "comment_id": 60919145, "body": "Thanks for your answer, even if it was not what I had asked for"}], "tags": [], "owner": {"reputation": 305, "user_id": 1226579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc2b48995cb9af6ff5215d099adc0ad?s=128&d=identicon&r=PG", "display_name": "kchinger", "link": "https://stackoverflow.com/users/1226579/kchinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1460776232, "creation_date": 1460776232, "answer_id": 36659703, "question_id": 36659503, "link": "https://stackoverflow.com/questions/36659503/perl-regex-match-something-but-make-sure-that-the-match-string-does-not-contain/36659703#36659703", "title": "Perl Regex match something, but make sure that the match string does not contain a string", "body": "<p>This isn't a purely regex solution, maybe someone else can do that, but instead I wrote a small loop to check each line. If it finds what you want, it will keep the rest of the document. You would need to feed it the correct sequence if it wasn't a full document. A regex to do what you want might be kind of slow since it will be relatively complicated, but you'd have to benchmark against a pure regex solution (if someone comes up with one) if speed is important.</p>\n\n<p>edit to note: ?!Lisa is a negative lookahead if you haven't seen it. Some combined negative lookaheads might be what you need to use to do it in one regex, but good luck reading it later.</p>\n\n<pre><code>open(my $input,\"input2.txt\")||die \"can't open the file\";\n\nmy $output = \"\";\nmy $wanted = 0;\nwhile(&lt;$input&gt;)\n{\n    $wanted = 1 if(/&lt;SPEAKER&gt;John&lt;\\/SPEAKER&gt;/);\n    $wanted = 2 if(/&lt;SPEAKER&gt;Lisa&lt;\\/SPEAKER&gt;/ &amp;&amp; $wanted == 1);\n    if(/&lt;SPEAKER&gt;(?!Lisa)/ &amp;&amp; /&lt;SPEAKER&gt;(?!John)/ &amp;&amp; $wanted == 1)\n    {\n        $wanted = 0;\n        last;\n    }\n    $output = $output . $_ if($wanted);\n}\n\nprint \"$output\" if $wanted;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 68253, "user_id": 20938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuXSm.jpg?s=128&g=1", "display_name": "Alan Moore", "link": "https://stackoverflow.com/users/20938/alan-moore"}, "reply_to_user": {"reputation": 10272, "user_id": 1996394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb7cf5d8bf03c5335a0ece8f6673541d?s=128&d=identicon&r=PG", "display_name": "rock321987", "link": "https://stackoverflow.com/users/1996394/rock321987"}, "edited": false, "score": 0, "creation_date": 1460783563, "post_id": 36660103, "comment_id": 60913415, "body": "@rock321987: It looks right to me.  The OP said he wants a &quot;John&quot; speech, followed immediately by a &quot;Lisa&quot; speech, and everything after that."}], "tags": [], "owner": {"reputation": 138, "user_id": 2516183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d778858b9d57af4eb4aa20a5cf60bdf0?s=128&d=identicon&r=PG", "display_name": "Zhewriix", "link": "https://stackoverflow.com/users/2516183/zhewriix"}, "is_accepted": true, "score": 1, "last_activity_date": 1460783204, "last_edit_date": 1460783204, "creation_date": 1460780813, "answer_id": 36660103, "question_id": 36659503, "link": "https://stackoverflow.com/questions/36659503/perl-regex-match-something-but-make-sure-that-the-match-string-does-not-contain/36660103#36660103", "title": "Perl Regex match something, but make sure that the match string does not contain a string", "body": "<p>Here is a regex you can use to match what you describe: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>(&lt;SPEAKER&gt;John&lt;\\/SPEAKER&gt;(?:(?!&lt;SPEAKER&gt;).)*&lt;SPEAKER&gt;Lisa&lt;\\/SPEAKER&gt;.*)\n</code></pre>\n\n<p>And a small demo showing that it works: <a href=\"https://regex101.com/r/iW8vS5/1\" rel=\"nofollow\">https://regex101.com/r/iW8vS5/1</a></p>\n\n<p>However, as both kchinger and owler mentioned, regex probably isn't the best way to do this. A regex solution would likely be significantly slower than a small snippet of code for any long document.</p>\n"}], "owner": {"reputation": 498, "user_id": 1769925, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/fb6cf77bdcefd03d0e7e7228314c179e?s=128&d=identicon&r=PG&f=1", "display_name": "user1769925", "link": "https://stackoverflow.com/users/1769925/user1769925"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 36660103, "answer_count": 2, "score": 1, "last_activity_date": 1460783204, "creation_date": 1460773617, "question_id": 36659503, "link": "https://stackoverflow.com/questions/36659503/perl-regex-match-something-but-make-sure-that-the-match-string-does-not-contain", "title": "Perl Regex match something, but make sure that the match string does not contain a string", "body": "<p>I have files with sequences of conversations where speakers are tagged. The format of my files is:</p>\n\n<pre><code>&lt;SPEAKER&gt;John&lt;/SPEAKER&gt;\nI am John\n&lt;SPEAKER&gt;Lisa&lt;/SPEAKER&gt;\nAnd I am Lisa\n</code></pre>\n\n<p>I am now looking to identify the first sequence in each document in which John speaks and Lisa speaks right afterwards (and I then want to then retain the entire part of the document that follows this sequence, including the sequence).</p>\n\n<p>I built this regex:</p>\n\n<p><code>^.*?(&lt;SPEAKER&gt;John&lt;\\/SPEAKER&gt;.*?&lt;SPEAKER&gt;Lisa&lt;\\/SPEAKER&gt;.*)</code></p>\n\n<p>but it of course also captures the case where there is a sequence of speakers is John-Michael-Lisa, i.e. where there is someone speaking between John and Lisa.</p>\n\n<p>How can I get the right match?</p>\n"}, {"tags": ["oracle", "perl"], "comments": [{"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1460776359, "post_id": 36658897, "comment_id": 60912163, "body": "Did you install the OCI component of the Oracle client? Are you installing the Oracle Instant Client for 12c?"}, {"owner": {"reputation": 569, "user_id": 2574678, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/159eb66091ffc851bbf1601a3ea7bb5a?s=128&d=identicon&r=PG&f=1", "display_name": "user2574678", "link": "https://stackoverflow.com/users/2574678/user2574678"}, "reply_to_user": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1460998363, "post_id": 36658897, "comment_id": 60987607, "body": "Oracle Client 12c is installed and I do see the ocu.dll in the &lt;ORACLE_HOME&gt;12.1.0\\client_1\\BIN folder"}], "answers": [{"comments": [{"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "edited": false, "score": 0, "creation_date": 1460994420, "post_id": 36659723, "comment_id": 60985229, "body": "Ok, enough of the downvotes, please.  I was merely trying to suggest that, as pointed out in the link, the issue may be a permissions issue."}, {"owner": {"reputation": 569, "user_id": 2574678, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/159eb66091ffc851bbf1601a3ea7bb5a?s=128&d=identicon&r=PG&f=1", "display_name": "user2574678", "link": "https://stackoverflow.com/users/2574678/user2574678"}, "edited": false, "score": 0, "creation_date": 1461005667, "post_id": 36659723, "comment_id": 60991814, "body": "Thank you for assisting, it was not a files permission issue but an issue with having a Perl 32-bit version trying to communicate to an Ora 64-bit client, unfair you were given a down vote by someone for legitimately helping."}, {"owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "reply_to_user": {"reputation": 569, "user_id": 2574678, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/159eb66091ffc851bbf1601a3ea7bb5a?s=128&d=identicon&r=PG&f=1", "display_name": "user2574678", "link": "https://stackoverflow.com/users/2574678/user2574678"}, "edited": false, "score": 1, "creation_date": 1461008241, "post_id": 36659723, "comment_id": 60993453, "body": "Thanks user2574678.  I am happy you figured it out and provided a resolution.  After all, that&#39;s what we are all here for!"}], "tags": [], "owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "is_accepted": false, "score": 0, "last_activity_date": 1460776499, "last_edit_date": 1495542252, "creation_date": 1460776499, "answer_id": 36659723, "question_id": 36658897, "link": "https://stackoverflow.com/questions/36658897/perl-install-driveroracle-failed-cant-load-dbd-oracle-oracle-dll-for/36659723#36659723", "title": "Perl install_driver(Oracle) failed: - Can&#39;t load &#39;../DBD/Oracle/Oracle.dll&#39; for module DBD::Oracle Win64", "body": "<p>Along with the comment I made above, please look at the following here on stackoverflow:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/294465/why-cant-my-perl-cgi-script-find-the-oracle-dbd?rq=1\">Perl_and_Oracle_DBD</a>    </p>\n"}, {"comments": [{"owner": {"reputation": 571, "user_id": 411056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab0a5d3f0e4dda987d1e1c804765d3e7?s=128&d=identicon&r=PG", "display_name": "Ruchi", "link": "https://stackoverflow.com/users/411056/ruchi"}, "edited": false, "score": 0, "creation_date": 1595344384, "post_id": 36701976, "comment_id": 111438787, "body": "Thanks to the details you provided, it helped. It is the oracle client in the path that needs to match the bit of PERL. ORACLE_HOME had no impact on my installation."}], "tags": [], "owner": {"reputation": 569, "user_id": 2574678, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/159eb66091ffc851bbf1601a3ea7bb5a?s=128&d=identicon&r=PG&f=1", "display_name": "user2574678", "link": "https://stackoverflow.com/users/2574678/user2574678"}, "is_accepted": true, "score": 4, "last_activity_date": 1545850871, "last_edit_date": 1545850871, "creation_date": 1461005285, "answer_id": 36701976, "question_id": 36658897, "link": "https://stackoverflow.com/questions/36658897/perl-install-driveroracle-failed-cant-load-dbd-oracle-oracle-dll-for/36701976#36701976", "title": "Perl install_driver(Oracle) failed: - Can&#39;t load &#39;../DBD/Oracle/Oracle.dll&#39; for module DBD::Oracle Win64", "body": "<p>Figured it out...issue was not a files permission issue, the clue was in the  \"<strong>...not a valid Win32 application</strong>\" verbiage. </p>\n\n<p>I was using Ora 64 bit client instead of 32-bit, removed the Oracle 12c 64-bit client and installed Oracle 12c 32-bit client (you can also install the 11g driver (apparently an Oracle client supports one version back and one version forward)).</p>\n\n<p>I required the full 12c Ora client installer as I need access to the database tools like sqlloader, <strong>note</strong> that there is a bug in the 12c Oracle 32-bit installer, had to modify the install/oraparam.ini and replace MSVCREDIST_LOC=vcredist_x64.exe with MSVCREDIST_LOC=vcredist_x86.exe, took me a while to find the installer, link here, <a href=\"http://www.oracle.com/technetwork/database/enterpriseedition/downloads/database12c-win64-download-2297732.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/database/enterpriseedition/downloads/database12c-win64-download-2297732.html</a> , 32-bit driver at bottom of url, hopefully they will fix the installer)</p>\n\n<p>Also, very important to also add an ORACLE_HOME Win env path, I also added the Oracle client to the Path and ensured that it was before the Perl entries in my Windows Path.</p>\n"}], "owner": {"reputation": 569, "user_id": 2574678, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/159eb66091ffc851bbf1601a3ea7bb5a?s=128&d=identicon&r=PG&f=1", "display_name": "user2574678", "link": "https://stackoverflow.com/users/2574678/user2574678"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6989, "favorite_count": 0, "accepted_answer_id": 36701976, "answer_count": 2, "score": 2, "last_activity_date": 1545850871, "creation_date": 1460767154, "question_id": 36658897, "link": "https://stackoverflow.com/questions/36658897/perl-install-driveroracle-failed-cant-load-dbd-oracle-oracle-dll-for", "title": "Perl install_driver(Oracle) failed: - Can&#39;t load &#39;../DBD/Oracle/Oracle.dll&#39; for module DBD::Oracle Win64", "body": "<p>Having issues with Perl 5.20.2 and Oracle::DBD, getting following error when trying to connect to Ora 12C DB, run out of ideas on how to identify what is wrong here.</p>\n\n<pre><code>install_driver(Oracle) failed: Can't load 'C:/Perl/site/lib/auto/DBD/Oracle/Oracle.dll' for module DBD::Oracle: load_file:%1 is not a valid Win32 application at C:/Perl/lib/DynaLoader.pm line 194.\n  at (eval 72) line 3.\n Compilation failed in require at (eval 72) line 3\n</code></pre>\n\n<p>My environment is as follows </p>\n\n<ul>\n<li>Perl -v - This is perl 5, version 20, subversion 2 (v5.20.2) built for MSWin32-x86-multi-thread-64int</li>\n<li>OS is Win 2008 R2 SP1</li>\n<li>Ora client is 12.1.0 (64 bit)</li>\n</ul>\n\n<p><em>Windows Environmental variables</em></p>\n\n<p>ORACLE_HOME=C:\\Oracle12c\\product\\12.1.0\\client_1</p>\n\n<p>Path=C:\\Oracle12c\\product\\12.1.0\\client_1\\bin;C:\\Perl\\site\\bin;C:\\Perl\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPo\nwerShell\\v1.0\\;c:\\dmake;D:\\NTRESKIT</p>\n\n<p>TNS_ADMIN=C:\\Oracle12c\\product\\12.1.0\\client_1\\bin</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1460763891, "post_id": 36658471, "comment_id": 60909925, "body": "It works fine if you add <code>use feature qw(switch)</code>. See <a href=\"http://perldoc.perl.org/perlsyn.html#Switch-Statements\" rel=\"nofollow noreferrer\">perlsyn</a> for more information"}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 4910366, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d5161efe9005f4d8df5777635d3c6041?s=128&d=identicon&r=PG&f=1", "display_name": "Enkri_", "link": "https://stackoverflow.com/users/4910366/enkri"}, "edited": false, "score": 0, "creation_date": 1460764523, "post_id": 36658549, "comment_id": 60910074, "body": "Thx! I just checked I&#39;m using &quot;This is perl 5, version 18, subversion 2(v5.18.2), even if I add use feature &quot;switch&quot;;  at the beginning I still get given is experimental at ./Learning_perl_chapt15.pl line 13. when is experimental at ./Learning_perl_chapt15.pl line 14. but at least the program can run without syntax error now"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1460773456, "post_id": 36658549, "comment_id": 60911689, "body": "(Better yet, don&#39;t use a feature that&#39;s very likely to stop working)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1460776861, "post_id": 36658549, "comment_id": 60912259, "body": "@ikegami Re: <code>&quot;You actually need no if $] &gt;= 5.018...&quot;</code>: Strange, I get <code>Unknown warnings category &#39;experimental::switch&#39;</code> when using this construct (I am using perl version 5.20.2). Also, the <a href=\"http://perldoc.perl.org/warnings.html\" rel=\"nofollow noreferrer\">documentation</a> claims there is no such category."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1460806208, "post_id": 36658549, "comment_id": 60919246, "body": "@ikegami Actually it turned out to be  <code>&quot;experimental::smartmatch&quot;</code> and not <code>&quot;experimental::switch&quot;</code>, see my updated answer."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 1, "last_activity_date": 1460806053, "last_edit_date": 1460806053, "creation_date": 1460764295, "answer_id": 36658549, "question_id": 36658471, "link": "https://stackoverflow.com/questions/36658471/perl-given-when-structure-syntax-error/36658549#36658549", "title": "perl given-when structure syntax error", "body": "<p>It should work fine if you add <code>use feature 'switch'</code> at the top of your program.</p>\n\n<p>From <a href=\"http://perldoc.perl.org/perlsyn.html#Switch-Statements\" rel=\"nofollow\">perlsyn</a>:</p>\n\n<blockquote>\n  <p><strong>Switch Statements</strong><br>\n  Starting from Perl 5.10.1, you can say  </p>\n\n<pre><code>use feature 'switch'; \n</code></pre>\n  \n  <p>to enable an experimental switch feature.\n  Under the \"switch\" feature, Perl gains the experimental keywords <code>given</code>,\n  <code>when</code> , <code>default</code>, <code>continue</code>, and <code>break</code>. Starting from Perl 5.16, one can\n  prefix the switch keywords with <code>CORE::</code> to access the feature without a \n  <code>use feature</code> statement.</p>\n</blockquote>\n\n<p><strong>Note</strong>:</p>\n\n<p>Adding <code>use feature 'switch'</code> will let run your program without syntax errors, but you still can get warnings like these:</p>\n\n<pre><code>given is experimental at ./test.pl line 16.\nwhen is experimental at ./test.pl line 17.\n</code></pre>\n\n<p>The reason is that <code>given</code> and <code>when</code> use the experimental smartmatch operator. See blog post <a href=\"http://www.effectiveperlprogramming.com/2013/06/experimental-features-now-warn-reaching-back-to-v5-10/\" rel=\"nofollow\">Experimental features now warn (reaching back to v5.10)</a> of <code>The Effective Perler</code> for good examples and more information.</p>\n\n<p>To turn off these warnings you can add </p>\n\n<pre><code>no warnings 'experimental::smartmatch';\n</code></pre>\n\n<p>after the <code>use feature 'switch'</code> statement. However, note that these kind of warnings was added in Perl 5.18, so if you plan to run the code on an earlier Perl version, you should use</p>\n\n<pre><code>no if $] &gt;= 5.018, warnings =&gt; 'experimental::smartmatch';\n</code></pre>\n\n<p>instead to avoid a <code>\"Unknown warnings category\"</code> failure.</p>\n\n<p>Finally, all these consideration can be handled more easily by using the  <a href=\"https://metacpan.org/pod/experimental\" rel=\"nofollow\">experimental</a> pragma instead, and \n replace <code>use feature 'switch'</code> with:</p>\n\n<pre><code>use experimental 'switch';\n</code></pre>\n\n<p>The latter should enable the feature and switch off warnings in one statement.</p>\n"}], "owner": {"reputation": 141, "user_id": 4910366, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d5161efe9005f4d8df5777635d3c6041?s=128&d=identicon&r=PG&f=1", "display_name": "Enkri_", "link": "https://stackoverflow.com/users/4910366/enkri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1460806053, "creation_date": 1460763658, "last_edit_date": 1460763967, "question_id": 36658471, "link": "https://stackoverflow.com/questions/36658471/perl-given-when-structure-syntax-error", "title": "perl given-when structure syntax error", "body": "<p>I'm trying using the given-when structure to write a little number-guessing program but my terminal keeps giving me syntax errors, anybody have any idea what could go wrong?</p>\n\n<pre><code>use strict;\nmy $secret = int(1 + rand 100);\nmy $flag = 0;\nmy $guess;\nprint \"Here\\n\";\nwhile($flag == 0){\n    print \"Please guess a number:\\n\";\n    chomp($guess = &lt;STDIN&gt;);\n    given($guess){ #-------------- line 13\n        when($_ &lt; $secret){print \"Too Low\\n\"}\n        when($_ &gt; $secret){print \"Too High\\n\"}\n        when($_ == $secret){print \"You've guessd it!\";$flag = 1}\n        default {print \"User chose to exit\";$flag = 1}\n    }\n}\n</code></pre>\n\n<p>Error message:</p>\n\n<blockquote>\n  <p>syntax error at ./Learning_perl_chapt15.pl line 13, near \"){\" syntax\n  error at ./Learning_perl_chapt15.pl line 15, near \"){\" syntax error at\n  ./Learning_perl_chapt15.pl line 16, near \";}\" syntax error at\n  ./Learning_perl_chapt15.pl line 17, near \";}\" Execution of\n  ./Learning_perl_chapt15.pl aborted due to compilation errors.</p>\n</blockquote>\n"}, {"tags": ["perl", "oop", "constructor", "moo"], "answers": [{"comments": [{"owner": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 0, "creation_date": 1460765090, "post_id": 36656431, "comment_id": 60910192, "body": "<code>lazy</code> MUST be set to <code>1</code> in this case, because <code>getEmails</code> relies upon <code>type</code> (from the docs: <i>Note that if your default is fired during new() there is no guarantee that other attributes have been populated yet so you should not rely on their existence.</i>). Additionally, the <code>builder</code> parameter can be set directly to <code>getEmails</code> instead of using an intermediate."}, {"owner": {"reputation": 1498, "user_id": 5217466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bebcb5dcae50dfd07d042a9815617907?s=128&d=identicon&r=PG&f=1", "display_name": "the_ccalderon", "link": "https://stackoverflow.com/users/5217466/the-ccalderon"}, "edited": false, "score": 0, "creation_date": 1461207848, "post_id": 36656431, "comment_id": 61097108, "body": "You are the best guys! I have resolved my issue thanks to your answer. I appreciate it a lot."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "reply_to_user": {"reputation": 1498, "user_id": 5217466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bebcb5dcae50dfd07d042a9815617907?s=128&d=identicon&r=PG&f=1", "display_name": "the_ccalderon", "link": "https://stackoverflow.com/users/5217466/the-ccalderon"}, "edited": false, "score": 0, "creation_date": 1461244034, "post_id": 36656431, "comment_id": 61118464, "body": "@ccalderon911217 you can accept the answer by clicking the checkmark above, this will let future users who have this problem know this solved your issue"}], "tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 4, "last_activity_date": 1460752747, "creation_date": 1460752747, "answer_id": 36656431, "question_id": 36656324, "link": "https://stackoverflow.com/questions/36656324/using-a-subroutine-in-the-new-method-using-perl-moo/36656431#36656431", "title": "using a subroutine in the new() method using perl Moo", "body": "<p>You want to use either a builder method or a default, isa is for enforcing type constraints:</p>\n\n<p>default:</p>\n\n<pre><code>has emails =&gt; (\n  is      =&gt; 'rw',\n  default =&gt; sub { \n     my ($self) = @_;\n     return $self-&gt;getEmails();\n  },\n);\n</code></pre>\n\n<p>builder:</p>\n\n<pre><code>has emails =&gt; (\n  is      =&gt; 'rw',\n  builder =&gt; '_build_emails',\n);\n\nsub build_emails {\n    my ($self) = @_;\n\n    return $self-&gt;getEmails();\n}\n</code></pre>\n\n<p>If the <code>getEmails()</code> subroutine requires any addition startup time (e.g Getting a handle to the database) I would also suggest adding the <code>lazy =&gt; 1</code> argument to your emails attribute. This will only initialize it if it called.</p>\n"}], "owner": {"reputation": 1498, "user_id": 5217466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bebcb5dcae50dfd07d042a9815617907?s=128&d=identicon&r=PG&f=1", "display_name": "the_ccalderon", "link": "https://stackoverflow.com/users/5217466/the-ccalderon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 36656431, "answer_count": 1, "score": 1, "last_activity_date": 1460752747, "creation_date": 1460752330, "question_id": 36656324, "link": "https://stackoverflow.com/questions/36656324/using-a-subroutine-in-the-new-method-using-perl-moo", "title": "using a subroutine in the new() method using perl Moo", "body": "<p>My question is the following: I want to use a subroutine to construct an array when I call the new() method to create an object using perl Moo. Please see the following example.</p>\n\n<pre><code>package Customer;\nuse DBI;\nuse 5.010;\nuse Data::Dumper;\nuse Moo;\nuse FindBin qw/$Bin/;\nuse lib \"$Bin/../../../lib\";\nuse lib '/home/fm/lib';\nuse TT::SQL;\n\nhas id =&gt; (\n  is=&gt;'ro',\n  required=&gt;1,\n);\n\nhas type =&gt; (\n  is=&gt;'ro',\n);\n\nhas emails =&gt; (\n  is=&gt;'rw',\n  isa =&gt; sub {getEmails() },\n);\n\nsub getEmails\n{\n                #connecting into de DB\n                my $self=shift;\n                my $db2 = TT::SQL::get_handler(\"xxxxxx\",\"xxxxx\");\n                my $fmuser=$self-&gt;id;\n                my $type=$self-&gt;type;\n                my $query;\n                #checking the customer type to perform the query\n                if ($type eq \"xxxxxxxxxx\")\n                {\n                $query=xxxxxxxxxxxxxx;\n                }\n                else\n                {\n                $query=xxxxxxxxxxxxxx;\n                }\n                my $ref = $db2-&gt;execute($query,$fmuser);\n                my @emails;\n                #retrieving emails\n                while ( my $row = $ref-&gt;fetchrow_hashref  ) {\n                       @emails=(@emails,\"$row-&gt;{email}\\n\");\n                  }\n                return @emails;\n}\n\n1;\n</code></pre>\n\n<p>Basically, I'm trying to retrieve some emails from a database, and do not worry about the queries and the DB access because when I execute the following:</p>\n\n<pre><code>my $cc= Customer-&gt;new(id=&gt;92,type=&gt;'xxxxxxx');\n@emails=$cc-&gt;getEmails();\n</code></pre>\n\n<p>The result in @emails is the expected. However, when I execute:</p>\n\n<pre><code>my $cc= Customer-&gt;new(id=&gt;92,type=&gt;'xxxxxxx');\n@emails=$cc-&gt;emails;\n</code></pre>\n\n<p>I do not even have a result. </p>\n\n<p>I'll be very grateful if I get an answer to this question. Thanks in advance guys.</p>\n"}, {"tags": ["html", "forms", "perl", "replace"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1460749994, "post_id": 36655733, "comment_id": 60904672, "body": "<a href=\"http://shadow.cat/blog/matt-s-trout/mstpan-4/\" rel=\"nofollow noreferrer\">shadow.cat/blog/matt-s-trout/mstpan-4</a>"}], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 1754738, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/34f666976eac1229c9563d47e646c929?s=128&d=identicon&r=PG", "display_name": "user1754738", "link": "https://stackoverflow.com/users/1754738/user1754738"}, "edited": false, "score": 0, "creation_date": 1460751122, "post_id": 36655905, "comment_id": 60905200, "body": "I wish I could; unfortunately this is a SaaS tool from Adobe called Search &amp; Promote of which we cannot add/modify their environment to use any other tools.  I&#39;ll need a solution in pure Perl"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 337, "user_id": 1754738, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/34f666976eac1229c9563d47e646c929?s=128&d=identicon&r=PG", "display_name": "user1754738", "link": "https://stackoverflow.com/users/1754738/user1754738"}, "edited": false, "score": 1, "creation_date": 1460752590, "post_id": 36655905, "comment_id": 60905865, "body": "@user1754738 Mojo::DOM <i>is</i> pure Perl, but I&#39;m guessing you mean you can only use core modules. You should edit that information into your question."}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 2, "last_activity_date": 1460750558, "creation_date": 1460750558, "answer_id": 36655905, "question_id": 36655733, "link": "https://stackoverflow.com/questions/36655733/wrap-an-html-form-with-a-specific-id-in-a-new-tag/36655905#36655905", "title": "Wrap an HTML form with a specific ID in a new tag", "body": "<p>Put down the regex and get something designed for the purpose. Mojo::DOM for example.</p>\n\n<pre><code>use Mojo::DOM;\nmy $dom = Mojo::DOM-&gt;new($doc);\n$dom-&gt;at(\"#search\")-&gt;wrap(\"&lt;noindex&gt;&lt;/noindex&gt;\");\nsay $dom;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1461001731, "last_edit_date": 1461001731, "creation_date": 1460758522, "answer_id": 36657696, "question_id": 36655733, "link": "https://stackoverflow.com/questions/36655733/wrap-an-html-form-with-a-specific-id-in-a-new-tag/36657696#36657696", "title": "Wrap an HTML form with a specific ID in a new tag", "body": "<p>Given that this is one specific task a simple-minded text processing may do.\nIf you have more to do I recommend using a suitable package. </p>\n\n<p>It is critical that html <code>form</code>s cannot be nested, so you can search for your pair of form tags.</p>\n\n<p>If you can read the whole page into a string</p>\n\n<pre><code>my $file = 'page_with_form.html';\nmy $page = do {\n    local $/ = undef; \n    open my $fh, '&lt;', $file or die $!; \n    &lt;$fh&gt;;\n};\n$page =~ s{(&lt;form\\s+id=\"search\".+?&lt;/form&gt;)}{&lt;noindex&gt;\\n$1&lt;/noindex&gt;}s;\n</code></pre>\n\n<p>If the page is too large to read into a varialbe, read it line by line and use markers for (the lines with) the opening and closing tags for your form. Let me know if I need to add this.</p>\n"}], "owner": {"reputation": 337, "user_id": 1754738, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/34f666976eac1229c9563d47e646c929?s=128&d=identicon&r=PG", "display_name": "user1754738", "link": "https://stackoverflow.com/users/1754738/user1754738"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 36657696, "answer_count": 2, "score": 2, "last_activity_date": 1562130217, "creation_date": 1460749869, "last_edit_date": 1562130217, "question_id": 36655733, "link": "https://stackoverflow.com/questions/36655733/wrap-an-html-form-with-a-specific-id-in-a-new-tag", "title": "Wrap an HTML form with a specific ID in a new tag", "body": "<p>I have a Perl script that parses through HTML and modifies the content.  I\u2019d like to update my script below to wrap a noindex tag around a specific ID on the page.</p>\n\n<p><strong>Relevant Perl Info</strong></p>\n\n<pre><code>undef $/;\nmy $doc = &lt;&gt;;\n\nif ($main::atomz_search_url=~ m{mydomain.com/(.+?)/support}si) \n{\n$doc =~ s{&lt;div id=\"header\"&gt;}{&lt;div id=\"header\" class=\"noindex\"&gt;}sig;\n}\n</code></pre>\n\n<p><strong>Current HTML</strong></p>\n\n<pre><code>&lt;form id=\"search\" action=\"../results.html\" method=\"post\"&gt;\n  &lt;fieldset&gt;\n        ...\n  &lt;/fieldset&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I simply want to find the FORM with an ID of \u201csearch\u201d and wrap the entire FORM block (including original content) with a noindex tag.</p>\n\n<pre><code>&lt;noindex&gt;\n &lt;form id=\"search\" action=\"../results.html\" method=\"post\"&gt;\n  &lt;fieldset&gt;\n        ...\n  &lt;/fieldset&gt;\n &lt;/form&gt;\n&lt;/noindex&gt;\n</code></pre>\n\n<p>Note:  I can only use core modules so <code>Mojo</code> isn't an option.</p>\n"}, {"tags": ["arrays", "perl", "sorting", "multidimensional-array"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1460747990, "post_id": 36655098, "comment_id": 60903692, "body": "<code>$array[$i] = [ sort { $a &lt;=&gt; $b } @{ $array[$i] } ];</code>"}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 5828093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd601d81e7f40e450ce160a3aa42e98e?s=128&d=identicon&r=PG&f=1", "display_name": "cjhutton", "link": "https://stackoverflow.com/users/5828093/cjhutton"}, "edited": false, "score": 0, "creation_date": 1460748406, "post_id": 36655291, "comment_id": 60903911, "body": "THANK YOU! perl is a very easy language but gets a little iffy around the edges"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1460749784, "post_id": 36655291, "comment_id": 60904572, "body": "<code>@array = sort { ... } @array;</code> allows <code>sort</code> to sort the array in-place for a performance boost. Adjusted the answer to use this form."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 6, "last_activity_date": 1460749646, "last_edit_date": 1460749646, "creation_date": 1460748015, "answer_id": 36655291, "question_id": 36655098, "link": "https://stackoverflow.com/questions/36655098/sort-a-row-of-a-2d-array-in-perl/36655291#36655291", "title": "Sort a row of a 2D array in perl", "body": "<p>OK, the thing you need to know is - that an array of arrays in perl, is implemented as an array of array references. </p>\n\n<p>So - <code>$array[$i]</code> - is a reference to an array. </p>\n\n<p>So you can simply:</p>\n\n<pre><code> @{$array[$i]} = sort @{$array[$i]}; \n</code></pre>\n\n<p>Although note by default, sort does alphanumeric, rather than just numeric.</p>\n\n<p>So you might want:</p>\n\n<pre><code> @{$array[$i]} = sort { $a &lt;=&gt; $b } @{$array[$i]};\n</code></pre>\n\n<p>Or if you want to do the whole lot:</p>\n\n<pre><code>@$_ = sort {$a&lt;=&gt;$b} @$_ for @array;\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 5828093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd601d81e7f40e450ce160a3aa42e98e?s=128&d=identicon&r=PG&f=1", "display_name": "cjhutton", "link": "https://stackoverflow.com/users/5828093/cjhutton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 1, "accepted_answer_id": 36655291, "answer_count": 1, "score": 0, "last_activity_date": 1460749646, "creation_date": 1460747324, "question_id": 36655098, "link": "https://stackoverflow.com/questions/36655098/sort-a-row-of-a-2d-array-in-perl", "title": "Sort a row of a 2D array in perl", "body": "<p>Say I have a 2D array in perl</p>\n\n<pre><code>[2, 4, 6, 1, 3, 2]            # $i = 0\n[5, 2, 4, 2, 1]               # $i = 1\n[8, 2, 3, 5, 7, 1, 3, 5]      # $i = 2\n[2, 1]                        # $i = 3\n</code></pre>\n\n<p>How can I sort one row so they remain in the same order?</p>\n\n<p>such as:</p>\n\n<pre><code>[2, 4, 6, 1, 3, 2]\n[1, 2, 2, 4, 5]                  # sorted row\n[8, 2, 3, 5, 7, 1, 3, 5]\n[2, 1]\n</code></pre>\n\n<p>I tried an easy route to sort the $i row,</p>\n\n<pre><code>@array[$i] = sort(@array[$i]);\n</code></pre>\n\n<p>It does nothing to change the order of the array, my other attempts have deleted the array row all together.</p>\n\n<p>Other 2D sorting questions I can find are for reordering rows/sorting columns. </p>\n\n<p>I'm sure the answer is very easy.</p>\n"}, {"tags": ["perl", "sorting", "hash"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1460745372, "post_id": 36654237, "comment_id": 60902184, "body": "That doesn&#39;t produce the output you claim it does. Specifically, it produces no output. Start by adding <code>use strict; use warnings qw( all );</code> -- always use these!!! -- and fixing the problems they find."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 2, "creation_date": 1460747267, "post_id": 36654237, "comment_id": 60903301, "body": "Was the structure <code>$userAndPass</code> given to you or did you make it up yourself? I&#39;d suggest a far better structure for storing usernames and passwords..."}], "answers": [{"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1460750964, "post_id": 36655438, "comment_id": 60905123, "body": "Exactly this structure I had in my mind. The sorting can then be done like this: <code>foreach my $entry ( sort { $a-&gt;{USER} cmp $b-&gt;{USER} } @users ) { print &quot;user: $entry-&gt;{USER}; pwd: $entry-&gt;{PASS}\\n&quot;; }</code>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1460748654, "creation_date": 1460748654, "answer_id": 36655438, "question_id": 36654237, "link": "https://stackoverflow.com/questions/36654237/cant-sort-my-hash-in-my-perl-script/36655438#36655438", "title": "Can&#39;t sort my hash in my perl script", "body": "<p>It's a bad idea to use numbered keys in a hash. If ordering is important - then it's a job for an array. If ordering isn't important, and you have named key-value pairs, then it's a job for a hash.</p>\n\n<p>Oh, and in your case - <code>%userAndPass</code> is not related to <code>$userAndPass</code>. <code>use strict;</code> <code>use warnings;</code> would have told you this. </p>\n\n<p>I would suggest your data structure would be much better as:</p>\n\n<pre><code>my @users = (\n   {  USER =&gt; 'David',\n      PASS =&gt; 'P@ssw0rd',\n   },\n   {  USER =&gt; 'Paul',\n      PASS =&gt; 'P@ssw0rd',\n   },\n   {  USER =&gt; 'Diana',\n      PASS =&gt; 'P@ssw0rd'\n   }\n);\n</code></pre>\n\n<p>Because then you can:</p>\n\n<pre><code>use Data::Dumper;\nprint Dumper \\@users;\nprint $users[1]-&gt;{USER},\"\\n\";\n\nprint $_-&gt;{USER},\"\\n\" for @users;  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3984, "user_id": 1801086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4c0400ffff14d5e1c16ca3856c09ba?s=128&d=identicon&r=PG", "display_name": "tjd", "link": "https://stackoverflow.com/users/1801086/tjd"}, "is_accepted": false, "score": 1, "last_activity_date": 1460751392, "last_edit_date": 1460751392, "creation_date": 1460748926, "answer_id": 36655502, "question_id": 36654237, "link": "https://stackoverflow.com/questions/36654237/cant-sort-my-hash-in-my-perl-script/36655502#36655502", "title": "Can&#39;t sort my hash in my perl script", "body": "<h1>The Problems:</h1>\n\n<p>First, you initialize your structure as a scalar reference to a hash, but your <code>sort</code> statement wants to use a (currently uninitialized) hash.</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<p>Just do it!</p>\n\n<p>If you were to:</p>\n\n<pre><code>%userAndPass = (\n    USER1 =&gt; 'David',\n    PASS1 =&gt; 'P@ssw0rd',\n    USER2 =&gt; 'Paul',\n    PASS2 =&gt; 'P@ssw0rd',\n    USER3 =&gt; 'Diana',\n    PASS3 =&gt; 'P@ssw0rd'\n  );\n</code></pre>\n\n<p>The <code>sort</code> function in your <code>foreach</code> statement would produce some variant of the following list:</p>\n\n<ul>\n<li><code>USER1</code></li>\n<li><code>USER3</code></li>\n<li>the <code>PASS*</code> keys in random order (their associate values are all identical)</li>\n<li><code>USER2</code>.</li>\n</ul>\n\n<p>The heart of your problem with this structure is that your Usernames &amp; passwords are only associated with each other by accident of your key choices.  (If you are numbering your variable names or keys, you should stop &amp; reconsider.  It's a code-smell.)</p>\n\n<h1>Redesign:</h1>\n\n<p>Structures that may be less insane include:</p>\n\n<h2>An array of \"records\":</h2>\n\n<pre><code>@UserAndPass = (\n  {USER =&gt; 'David', PASS =&gt; 'P@ssw0rd'},\n  {USER =&gt; 'Paul',  PASS =&gt; 'P@ssw0rd'},\n  {USER =&gt; 'Diana', PASS =&gt; 'P@ssw0rd'},\n);\n</code></pre>\n\n<p>This can be sorted directly. (As in Sobrique's simultaneous solution.)</p>\n\n<p>or</p>\n\n<h2>A hash of passwords keyed on username:</h2>\n\n<pre><code>%UserAndPass = (\n  'David' =&gt; 'P@ssw0rd',\n  'Paul'  =&gt; 'P@ssw0rd',\n  'Diana' =&gt; 'P@ssw0rd',\n)\n</code></pre>\n\n<p>This can be used creating a sorted list of keys, more like your original code seems to want to do.  This structure has the advantage of being 1 level shallower, but the \"disadvantage\" that you can't have multiple passwords for the same user (if you're into that sort of thing =/  ).</p>\n\n<hr>\n\n<p>If the current code-smell version of the structure is important to you, consider replacing <code>keys %UserAndPass</code> with <code>grep {/^USER/} keys %UserAndPass</code></p>\n"}], "owner": {"reputation": 1, "user_id": 6210645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d425abd9d615e0363defb6f6c0f5c8d7?s=128&d=identicon&r=PG&f=1", "display_name": "swagdaddy", "link": "https://stackoverflow.com/users/6210645/swagdaddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1460751392, "creation_date": 1460744224, "question_id": 36654237, "link": "https://stackoverflow.com/questions/36654237/cant-sort-my-hash-in-my-perl-script", "title": "Can&#39;t sort my hash in my perl script", "body": "<pre><code>sub hashOfUsers\n{\n    %userAndPass = (); #hash to store the user and passwd, SORT hashes to view     the users of this program\n    $userAndPass = {\n        USER1 =&gt; 'David',\n        PASS1 =&gt; 'P@ssw0rd',\n        USER2 =&gt; 'Paul',\n        PASS2 =&gt; 'P@ssw0rd',\n        USER3 =&gt; 'Diana',\n        PASS3 =&gt; 'P@ssw0rd'\n      }; #users and pass hashes\n}\n\nsub option4\n{\n    &amp;hashOfUsers();\n    foreach $hi(sort {$userAndPass{$a} cmp $userAndPass{$b}} keys %userAndPass)\n    {\n        print \"The users of this programs are: $userAndPass{$hi} $hi  \\n\";\n    }\n}\n</code></pre>\n\n<p>i can't seem to be able to sort my hash, im using this foreach in sub option4 loop in my subroutine trying to sort my hash. I am trying to sort it so that it prints out ONLY the users, from USER1 to USER3 and not the PASS1 to PASS3. Please help.</p>\n"}, {"tags": ["php", "apache", "perl", "terminal"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6210601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aeb5c1baa5575645c678c63cecbfa338?s=128&d=identicon&r=PG&f=1", "display_name": "ARUN BABY", "link": "https://stackoverflow.com/users/6210601/arun-baby"}, "edited": false, "score": 0, "creation_date": 1460786532, "post_id": 36655456, "comment_id": 60914026, "body": "Apache log doesn&#39;t give any info. so for using mbstowcs from apache environment, should i compile the c code i a different way?"}], "tags": [], "owner": {"reputation": 1523, "user_id": 2079373, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/etR7x.png?s=128&g=1", "display_name": "tale852150", "link": "https://stackoverflow.com/users/2079373/tale852150"}, "is_accepted": false, "score": 0, "last_activity_date": 1460748700, "creation_date": 1460748700, "answer_id": 36655456, "question_id": 36654217, "link": "https://stackoverflow.com/questions/36654217/mbstowcs-from-apache-not-getting-executed/36655456#36655456", "title": "mbstowcs from apache not getting executed", "body": "<p>Without given any further information, I suspect you may have run across the following situation:</p>\n\n<p><a href=\"https://mail-archives.apache.org/mod_mbox/xerces-c-dev/200210.mbox/%3C20021023212240.14756.qmail@nagoya.betaversion.org%3E\" rel=\"nofollow\">Use of non standard mbstowcs feature</a></p>\n\n<p>This information is dated I realize but it's all I can offer at this time unless you can provide some more information like an error message from your Apache log file.\nSorry I could not be of more help.</p>\n"}], "owner": {"reputation": 1, "user_id": 6210601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aeb5c1baa5575645c678c63cecbfa338?s=128&d=identicon&r=PG&f=1", "display_name": "ARUN BABY", "link": "https://stackoverflow.com/users/6210601/arun-baby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460748700, "creation_date": 1460744155, "question_id": 36654217, "link": "https://stackoverflow.com/questions/36654217/mbstowcs-from-apache-not-getting-executed", "title": "mbstowcs from apache not getting executed", "body": "<p>I am calling a perl script from one php page. This perl script calls some other scripts inturn and a C binary file. The C binary uses <strong>mbstowcs</strong> function inside. This is not getting executed correctly.</p>\n\n<p>But the same thing If I call from terminal(the perl script) everything works fine.\nI have given proper permissions to all the files before executing(Even gave 777 permission).\nIs apache uses some other terminal session/ something else to run the scripts.\nI am using ubuntu 14.04 and apache webserver.</p>\n"}, {"tags": ["perl", "unit-testing", "output"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1460747069, "last_edit_date": 1460747069, "creation_date": 1460743338, "answer_id": 36653980, "question_id": 36653864, "link": "https://stackoverflow.com/questions/36653864/why-is-this-output-duplicated-in-perl-unit-test/36653980#36653980", "title": "Why is this output duplicated in perl unit test?", "body": "<p>There are two calls to <code>$template-&gt;process(\\$text, $vars, \\$output)</code>.</p>\n\n<p>I think you want</p>\n\n<pre><code>my $rv = $template-&gt;process(\\$text, $vars, \\my $output);\nok($rv, \"\\$template-&gt;process ran successfully\")\n   and note($rv)\n   or diag($template-&gt;error());\n\nis($output, $expected_output, \"\\$template-&gt;process produced correct output\");\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460747069, "creation_date": 1460742917, "question_id": 36653864, "link": "https://stackoverflow.com/questions/36653864/why-is-this-output-duplicated-in-perl-unit-test", "title": "Why is this output duplicated in perl unit test?", "body": "<p>The output string I am comparing is being duplicated causing the test to fail but I have no idea why.</p>\n\n<p>Here is my test file:</p>\n\n<pre><code>use lib ('./t/lib/');\n\nuse strict;\nuse warnings;\n\nuse Template;\n\nuse Test::More tests =&gt; 1;\n\n# options/configuration for template\n#my $config = {\n     #PRE_PROCESS =&gt; 1, # means the templates processed can use the same global vars defined earlier\n     #INTERPOLATE =&gt; 1,\n     #EVAL_PERL =&gt; 1,\n#    RELATIVE =&gt; 1,\n#    OUTPUT_PATH =&gt; './out',\n\n# };\n\nmy $template = Template-&gt;new();\n\n# input string\nmy $text = \"This is string number [% num %] .\"; \n\n# template placeholder variables\nmy $vars = {\n     num =&gt; \"one\",\n };\n\nmy $output = shift;\n\nmy $expected_output = \"This is string number one .\";\n\n# processes input string and inserts placeholder values \n$template-&gt;process(\\$text, $vars, \\$output)\n    || die \"Template process failed: \", $template-&gt;error(), \"\\n\";\n\n\n# If process method is executed successfully it should have a return value of 1\ndiag($template-&gt;process(\\$text, $vars, \\$output));\n\n# compares actual output with the expected output\nis($output, $expected_output);\n</code></pre>\n\n<p>And below is the output from my failed test:</p>\n\n<pre><code>t/68_template_test.t\nt/68_template_test.t .. # 1\nt/68_template_test.t .. 1/1 \n#   Failed test at t/68_template_test.t line 45.\n#          got: 'This is string number one .This is string number one .'\n#     expected: 'This is string number one .'\n# Looks like you failed 1 test of 1.\nt/68_template_test.t .. Dubious, test returned 1 (wstat 256, 0x100)\nFailed 1/1 subtests \n</code></pre>\n\n<p>I can't seem to spot the bug or figure out why this is happening.</p>\n"}, {"tags": ["perl", "time", "dayofweek", "localtime"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1460740779, "post_id": 36653128, "comment_id": 60899594, "body": "Are you trying to find the next weekday (M-F, opposite of weekend) or the next day of the week? If the former, the next weekday after Thursday is Friday, not Monday."}, {"owner": {"reputation": 93, "user_id": 4431317, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b4ffcf3069407d7d5cf26defce0e0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Doey", "link": "https://stackoverflow.com/users/4431317/johnny-doey"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1460740886, "post_id": 36653128, "comment_id": 60899653, "body": "I wish to find the next Monday, if it is currently Monday, I wish for it to find next week. If that helps."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1460740964, "post_id": 36653128, "comment_id": 60899695, "body": "Okay, that clarifies it. Please <a href=\"https://stackoverflow.com/posts/36653128/edit\">edit</a> your question to say that, it&#39;s currently very unclear (Schwern thought you were asking how to add one day)."}, {"owner": {"reputation": 93, "user_id": 4431317, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b4ffcf3069407d7d5cf26defce0e0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Doey", "link": "https://stackoverflow.com/users/4431317/johnny-doey"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1460741077, "post_id": 36653128, "comment_id": 60899760, "body": "Sorry about that, I have fixed up the post."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 4431317, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b4ffcf3069407d7d5cf26defce0e0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Doey", "link": "https://stackoverflow.com/users/4431317/johnny-doey"}, "edited": false, "score": 0, "creation_date": 1460740933, "post_id": 36653262, "comment_id": 60899677, "body": "I am unable to use Time::Piece as another restriction"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 93, "user_id": 4431317, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b4ffcf3069407d7d5cf26defce0e0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Doey", "link": "https://stackoverflow.com/users/4431317/johnny-doey"}, "edited": false, "score": 2, "creation_date": 1460741109, "post_id": 36653262, "comment_id": 60899779, "body": "@JohnnyDoey Why can&#39;t you use Time::Piece? The usual reason people say they can&#39;t use modules is because they can&#39;t install them, but Time::Piece been a core module since Perl 5.10; odds are good that you already have it."}, {"owner": {"reputation": 93, "user_id": 4431317, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b4ffcf3069407d7d5cf26defce0e0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Doey", "link": "https://stackoverflow.com/users/4431317/johnny-doey"}, "edited": false, "score": 0, "creation_date": 1460741890, "post_id": 36653262, "comment_id": 60900208, "body": "Yeah I&#39;ve tried. The servers we&#39;re given can&#39;t be updated by me and their Perl 5.16 doesn&#39;t seem to have Time::Piece."}, {"owner": {"reputation": 93, "user_id": 4431317, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b4ffcf3069407d7d5cf26defce0e0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Doey", "link": "https://stackoverflow.com/users/4431317/johnny-doey"}, "edited": false, "score": 0, "creation_date": 1460741906, "post_id": 36653262, "comment_id": 60900220, "body": "$ perl file1.pl Can&#39;t locate Time/Piece.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at file1.pl line 8. BEGIN failed--compilation aborted at file1.pl line 8."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 93, "user_id": 4431317, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b4ffcf3069407d7d5cf26defce0e0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Doey", "link": "https://stackoverflow.com/users/4431317/johnny-doey"}, "edited": false, "score": 3, "creation_date": 1460742312, "post_id": 36653262, "comment_id": 60900440, "body": "@JohnnyDoey Are you on a Red Hat variant like Fedora/CentOS/Scientific Linux/Oracle Linux, by any chance? If so, ask your sysadmin to install the <code>perl-core</code> package so you can actually have a fully functional perl installation. If you&#39;re on some other platform, ask your sys admin to fix it in the manner suitable for that platform."}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 93, "user_id": 4431317, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b4ffcf3069407d7d5cf26defce0e0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Doey", "link": "https://stackoverflow.com/users/4431317/johnny-doey"}, "edited": false, "score": 1, "creation_date": 1460742534, "post_id": 36653262, "comment_id": 60900574, "body": "@JohnnyDoey Some distributions separate perl from its modules, so it may be a matter of simply installing another package like <a href=\"https://packages.debian.org/jessie/perl-modules\" rel=\"nofollow noreferrer\"><code>perl-modules</code></a>. It being a package install should make installing it more palatable, and explain it will save you a lot of coding time (and bugs). Either way, you can limp along with <code>localtime</code>, the algorithm is the same, but date math will be harder."}, {"owner": {"reputation": 93, "user_id": 4431317, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b4ffcf3069407d7d5cf26defce0e0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Doey", "link": "https://stackoverflow.com/users/4431317/johnny-doey"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1460743074, "post_id": 36653262, "comment_id": 60900857, "body": "@ThisSuitIsBlackNot yes it seems to be running on Red Hat Enterprise 7.2. Seeing as these servers are my universities it might be a little bit more difficult getting someone to install perp-core, haha. Thanks for that I&#39;ll see what I can do."}, {"owner": {"reputation": 93, "user_id": 4431317, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b4ffcf3069407d7d5cf26defce0e0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Doey", "link": "https://stackoverflow.com/users/4431317/johnny-doey"}, "edited": false, "score": 0, "creation_date": 1460743106, "post_id": 36653262, "comment_id": 60900879, "body": "@Schwern That was the algorithm I needed, thank you very much!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1460743971, "post_id": 36653262, "comment_id": 60901359, "body": "No, you can&#39;t correctly do it using <code>localtime</code>; you have to use <code>gmtime</code>. (<code>gmtime(timegm(localtime()) + $seconds)</code>). Even then, it can give results that don&#39;t exist in your time zone."}, {"owner": {"reputation": 93, "user_id": 4431317, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b4ffcf3069407d7d5cf26defce0e0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Doey", "link": "https://stackoverflow.com/users/4431317/johnny-doey"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1460744128, "post_id": 36653262, "comment_id": 60901453, "body": "@ikegami Correct, I will be using gmtime to output the time. I was using localtime to get the current time."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 3, "last_activity_date": 1460741927, "last_edit_date": 1460741927, "creation_date": 1460740868, "answer_id": 36653262, "question_id": 36653128, "link": "https://stackoverflow.com/questions/36653128/perl-using-localtime-how-am-i-able-to-calculate-next-week-day/36653262#36653262", "title": "PERL Using localtime how am I able to calculate next week day", "body": "<p>For basic date handling in Perl, throw away <code>localtime</code> and use the built in <a href=\"https://metacpan.org/pod/Time::Piece\" rel=\"nofollow\">Time::Piece</a> class. <a href=\"https://metacpan.org/pod/Time::Piece#Date-Calculations\" rel=\"nofollow\">It will do basic date math</a>.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse v5.10;\n\nuse Time::Piece;\nuse Time::Seconds;  # Some useful constants like ONE_DAY\n\nmy $now = Time::Piece-&gt;new;\nsay $now;\n\nmy $tomorrow = $now + ONE_DAY;\nsay $tomorrow;\n</code></pre>\n\n<hr>\n\n<p>As far as calculating the offset between two week days, map them to numbers and use those numbers.  Sunday is 0, Monday is 1, and so on.  The algorithm for figuring out how many days you have to advance between two weekdays is...</p>\n\n<pre><code>(7 - $current_dow + $new_dow) % 7\n</code></pre>\n\n<p>To expand that out: <code>7 - $current_dow</code> is how many days from the current day to the end of the week. Then you add your desired day onto that. The whole thing is mod 7 (so 8 becomes 1) to handle the case of moving just a few days forward (ie. Wednesday to Friday).</p>\n\n<p>Doing it for Friday to Thursday is...</p>\n\n<pre><code>(7 - 5 + 4) % 7\n(2 + 4) % 7\n6 % 7\n6\n</code></pre>\n\n<p>Doing it for Friday to Saturday is...</p>\n\n<pre><code>(7 - 5 + 6) % 7\n(2 + 6) % 7\n8 % 7\n1\n</code></pre>\n\n<p>And here's the code.</p>\n\n<pre><code>my $day = 4; # Thursday\nmy $days_offset = (7 - $now-&gt;day_of_week + $day) % 7;\nmy $thursday = $now + ($days_offset * ONE_DAY);\nsay $thursday;\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 4431317, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b4ffcf3069407d7d5cf26defce0e0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Doey", "link": "https://stackoverflow.com/users/4431317/johnny-doey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "accepted_answer_id": 36653262, "answer_count": 1, "score": -2, "last_activity_date": 1460741927, "creation_date": 1460740363, "last_edit_date": 1460741053, "question_id": 36653128, "link": "https://stackoverflow.com/questions/36653128/perl-using-localtime-how-am-i-able-to-calculate-next-week-day", "title": "PERL Using localtime how am I able to calculate next week day", "body": "<p>I am trying to calculate the next day (e.g. Monday/Tuesday/Wednesday etc) using the variables below.</p>\n\n<p>Example: localtime day is Wednesday and I require Thursday, the offset being +1, day is Thursday and I require Monday, offset being +4</p>\n\n<pre><code>my @days = qw(Sunday Monday Tuesday Wednesday Thursday Friday Saturday);\nmy ($sec, $min, $hour, $mday, $mon, $year, $wday, $yday, $isdst) = localtime\n</code></pre>\n\n<p>Is there some sort of algorithm I can work out to do this? I am unable to use DateTime &amp; Time::Piece library in Perl as a restriction.</p>\n\n<p>I was using:</p>\n\n<pre><code>my $daysToAdd = 8 - $wday; # picks up how many days there is until next Monday\n</code></pre>\n\n<p>Any help is appreciated, thank you!</p>\n"}, {"tags": ["perl", "packaging"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1460734391, "post_id": 36650354, "comment_id": 60895729, "body": "I&#39;ve recently used it, and it was already there. But I don&#39;t know what put it there. I know it&#39;s not in core."}], "answers": [{"tags": [], "owner": {"reputation": 59411, "user_id": 8355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8d0099a2574719d7a67eab012851bf9b?s=128&d=identicon&r=PG", "display_name": "cjm", "link": "https://stackoverflow.com/users/8355/cjm"}, "is_accepted": false, "score": 5, "last_activity_date": 1460734502, "last_edit_date": 1592644375, "creation_date": 1460734502, "answer_id": 36651341, "question_id": 36650354, "link": "https://stackoverflow.com/questions/36650354/perl-makefile-pl-filesharedirinstall-chicken-and-eggs/36651341#36651341", "title": "Perl: Makefile.PL, File::ShareDir::Install, chicken and eggs", "body": "<p>This is what <a href=\"https://metacpan.org/pod/ExtUtils::MakeMaker#CONFIGURE_REQUIRES\" rel=\"nofollow noreferrer\">CONFIGURE_REQUIRES</a> is for:</p>\n<blockquote>\n<p>Available in version 6.52 and above.</p>\n<p>A hash of modules that are required to run Makefile.PL itself, but not to run your distribution.</p>\n<p>This will go into the configure_requires field of your META.yml and the configure of the prereqs field of your META.json.</p>\n<p>Defaults to <code>{ &quot;ExtUtils::MakeMaker&quot; =&gt; 0 }</code> if this attribute is not specified.</p>\n<p>The format is the same as PREREQ_PM.</p>\n</blockquote>\n<p>So you would add to your <code>WriteMakefile</code> parameters:</p>\n<pre><code>CONFIGURE_REQUIRES =&gt; {\n  &quot;ExtUtils::MakeMaker&quot; =&gt; '6.52',\n  &quot;File::ShareDir::Install&quot; =&gt; 0,\n},\n</code></pre>\n<p>Then people using <code>cpan</code> or <code>cpanm</code> to install modules will get File::ShareDir::Install installed automatically.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -1, "last_activity_date": 1460818769, "last_edit_date": 1460818769, "creation_date": 1460740081, "answer_id": 36653059, "question_id": 36650354, "link": "https://stackoverflow.com/questions/36650354/perl-makefile-pl-filesharedirinstall-chicken-and-eggs/36653059#36653059", "title": "Perl: Makefile.PL, File::ShareDir::Install, chicken and eggs", "body": "<h2>To build the distribution</h2>\n\n<ol>\n<li><p>Make a <code>File::ShareDir::Install</code> a build-time dependency.</p>\n\n<pre><code>CONFIGURE_REQUIRES =&gt; {\n   'ExtUtils::MakeMaker'     =&gt; '6.52',\n   'File::ShareDir::Install' =&gt; 0,\n},    \n</code></pre></li>\n<li><p>Install File::ShareDir::Install on the machine on which you will build the distribution.</p></li>\n<li><p>Build the distribution.</p>\n\n<p>This will create a <code>META.yml</code> that includes File::ShareDir::Install as a build-time dependency.</p></li>\n</ol>\n\n<h2>To install the distribution</h2>\n\n<p>Just use <code>cpan</code> or <code>cpanm</code> as normal. <code>cpan</code> and <code>cpanm</code> will extract build-time dependencies from <code>META.yml</code> and install them before running <code>Makefile.PL</code>.</p>\n"}], "owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1460818769, "creation_date": 1460731722, "last_edit_date": 1460732476, "question_id": 36650354, "link": "https://stackoverflow.com/questions/36650354/perl-makefile-pl-filesharedirinstall-chicken-and-eggs", "title": "Perl: Makefile.PL, File::ShareDir::Install, chicken and eggs", "body": "<p>The <code>File::ShareDir::Install</code> module represents a practical way of carrying around auxiliary files with a Perl distribution/module. I feel however a bit puzzled on how to include it in the dependencies of my project.</p>\n\n<p>I tried to install my package on a fresh machine (actually\u00a0a docker container with base OS + Perl + CPAN) and I got the error:</p>\n\n<pre><code>Can't locate File/ShareDir/Install.pm in @INC ... at Makefile.PL line 7.\n</code></pre>\n\n<p>According to the documentation (<code>perldoc File::ShareDir::Install</code>), the pattern should be, in my <code>Makefile.PL</code>:</p>\n\n<pre><code>use ExtUtils::MakeMaker;\nuse File::ShareDir::Install;\n\ninstall_share 'share';\ninstall_share dist =&gt; 'dist-share';\ninstall_share module =&gt; 'My::Module' =&gt; 'other-share';\n\nWriteMakefile( ... );       # As you normaly would\n\npackage MY;\nuse File::ShareDir::Install qw(postamble);\n</code></pre>\n\n<p>However, by doing so I need <code>File::ShareDir::Install</code> to be pre-installed on my system as requirement to run the <code>Makefile.PL</code> script. Declaring it as dependency will not work, for obvious reasons!</p>\n\n<p>Should I instruct my users to explicitly instasll <code>File::ShareDir::Install</code> before my module? Would it be possible to install it <em>programmatically</em>, within <code>Makefile.PL</code>, by directly calling the <code>CPAN</code> module?</p>\n"}, {"tags": ["perl", "unit-testing", "template-toolkit"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1460730883, "post_id": 36649639, "comment_id": 60893329, "body": "You&#39;re describing the problem a bit over-complicated I think. While it&#39;s good to give background, the real problem gets lost. I think you&#39;re asking how to check if Template creates the right output, so that&#39;s what I answered. Basically you want to test if your templates work?"}, {"owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1460731955, "post_id": 36649639, "comment_id": 60894120, "body": "Yes. haha. Sorry. I was trying to be detailed"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1460732493, "last_edit_date": 1495542679, "creation_date": 1460730790, "answer_id": 36650006, "question_id": 36649639, "link": "https://stackoverflow.com/questions/36649639/trying-to-create-a-string-with-template-values-and-unit-test-that-the-template-i/36650006#36650006", "title": "Trying to create a string with template values and unit test that the template is processing correctly", "body": "<p>This answer assumes that the <code>$template-&gt;process</code> statement is really in your production code, and not in the unit test, and shows how to do it if you cannot just tell it to redirect the output into a variable, <a href=\"https://stackoverflow.com/a/36650560/1331451\">like Dave shows in his answer</a>.</p>\n\n<p>You can use <a href=\"https://metacpan.org/pod/Test::Output\" rel=\"nofollow noreferrer\">Test::Output</a> to check <code>STDOUT</code>.</p>\n\n<pre><code>use Test::Output;\n\nstdout_is { $template-&gt;process( \\$text, $vars ) } q{This is string number one .},\n    q{Template generates the correct output};\n</code></pre>\n\n<hr>\n\n<p>An alternative could be <a href=\"https://metacpan.org/pod/Capture::Tiny\" rel=\"nofollow noreferrer\">Capture::Tiny</a> and a two-step test.</p>\n\n<pre><code>use Capture::Tiny 'capture_stdout';\n\nmy $output = capture_stdout {\n    ok $template-&gt;process( \\$text, $vars ), q{Template processes successfully};\n};\nis $output, q{This is string number one .}, q{... and the output is correct};\n</code></pre>\n\n<hr>\n\n<p>Note that both solutions will eat the output, so it also doesn't mess with your terminal (it cannot mess with the TAP, as the Test::Harness only looks at <code>STDOUT</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1460732421, "post_id": 36650560, "comment_id": 60894456, "body": "I was not aware of Template::Test. Very useful. :)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1460732491, "post_id": 36650560, "comment_id": 60894496, "body": "And I had forgotten about it. But I was sure that something like that <b>must</b> exist :-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1460732566, "post_id": 36650560, "comment_id": 60894537, "body": "Now I&#39;m thinking how we can use it at $work to get more kind-of frontend coverage. Yay. :) Also added a disclaimer to my answer to make it a bit more different from yours."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1460734212, "post_id": 36650560, "comment_id": 60895594, "body": "The <a href=\"https://metacpan.org/pod/Template::Test#HISTORY\" rel=\"nofollow noreferrer\">docs</a> for Template::Test say that it became mostly redundant with the advent of Test::More. Personally, I don&#39;t like how you have to embed the tests for <code>test_expect()</code> in a specially-formatted file or <code>__DATA__</code> block."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1460732306, "creation_date": 1460732306, "answer_id": 36650560, "question_id": 36649639, "link": "https://stackoverflow.com/questions/36649639/trying-to-create-a-string-with-template-values-and-unit-test-that-the-template-i/36650560#36650560", "title": "Trying to create a string with template values and unit test that the template is processing correctly", "body": "<p>Your main problem here is that <code>process()</code> sends its output to STDOUT and you're not capturing it. So you're not seeing the expanded output anythere.</p>\n\n<p>The <code>process()</code> method takes an optional third argument which can take all sorts of useful values. You probably want to pass it a reference to an empty scalar variable, which then gets filled with the expanded template.</p>\n\n<pre><code>$template-&gt;process(\\$text, $vars, \\$output);\nis($output, $expected_output);\n</code></pre>\n\n<p>But it's worth noting that the TT distribution includes <a href=\"https://metacpan.org/pod/Template::Test\" rel=\"nofollow\">Template::Test</a>, which you'll probably find very useful.</p>\n"}], "owner": {"reputation": 169, "user_id": 6000354, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1122424037792331/picture?type=large", "display_name": "Paul Russell", "link": "https://stackoverflow.com/users/6000354/paul-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 36650006, "answer_count": 2, "score": 4, "last_activity_date": 1460732493, "creation_date": 1460729834, "question_id": 36649639, "link": "https://stackoverflow.com/questions/36649639/trying-to-create-a-string-with-template-values-and-unit-test-that-the-template-i", "title": "Trying to create a string with template values and unit test that the template is processing correctly", "body": "<p>I am trying to create a test file that inputs template values into a string using the template toolkit but I don't know what check/tests to include to make sure the template toolkit is processing the string correctly. Here is my code:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse lib ('./t/lib/');\n\nuse strict;\nuse warnings;\n\nuse Template;\n\nuse Test::More tests =&gt; 1;\n\n\n\n# options/configuration for template\n my $config = {\n     #PRE_PROCESS =&gt; 1, # means the templates processed can use the same global vars defined earlier\n     #INTERPOLATE =&gt; 1,\n     #EVAL_PERL =&gt; 1,\n     RELATIVE =&gt; 1,\n     OUTPUT_PATH =&gt; './out',\n\n };\n\nmy $template = Template-&gt;new($config);\n\n# input string\nmy $text = \"This is string number [%num%] .\"; \n\n# template placeholder variables\nmy $vars = {\n     num =&gt; \"one\",\n };\n\n\n# processes imput string and inserts placeholder values \nmy $create_temp = $template-&gt;process(\\$text, $vars)\n    || die \"Template process failed: \", $template-&gt;error(), \"\\n\";\n\n\n#is(($template-&gt;process(\\$text, $vars)), '1' , 'The template is processing correctly');\n\n# If process method is executed successfully it should have a return value of 1\ndiag($template-&gt;process(\\$text, $vars));\n</code></pre>\n\n<p>The diag function returns a value of 1, which from the documentation means that the string has been processed  sucessfully, but I have been trying check what the stdout is so I can see the output string but I can get it to print. I have tried writing the stdout to a file from the terminal command but nothing appears in the file. I can write the stderr to a file though.\nI have also been trying different configuration for the template as seen in the code below. Is it not working because I am not running any tests, or am I using the Template Toolkit in the wrong way?</p>\n\n<p>If there is any other required information to needed to answer this question just comment below.</p>\n"}, {"tags": ["perl", "mojolicious"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1460730160, "post_id": 36649630, "comment_id": 60892795, "body": "If the second one depends on the first, and would not be done if the first one fails, nesting is exactly what you need to do."}, {"owner": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 0, "creation_date": 1460765466, "post_id": 36649630, "comment_id": 60910282, "body": "Nesting is how you specify the sequence of two operations when dealing with non-blocking calls, why would you want to avoid it?"}], "answers": [{"tags": [], "owner": {"reputation": 891, "user_id": 1936342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a294c91706727c611866ae6df25ba61?s=128&d=identicon&r=PG", "display_name": "Logioniz", "link": "https://stackoverflow.com/users/1936342/logioniz"}, "is_accepted": false, "score": 1, "last_activity_date": 1466672892, "last_edit_date": 1466672892, "creation_date": 1460822663, "answer_id": 36666459, "question_id": 36649630, "link": "https://stackoverflow.com/questions/36649630/mojolicious-two-non-blocking-get-requests-in-the-same-controller/36666459#36666459", "title": "Mojolicious - two non-blocking GET requests in the same controller", "body": "<p>First need to call <code>render_later</code> method in controller because you write non-blocking code.</p>\n\n<p>Exist 2 ways how to pass data:</p>\n\n<p>1)\n</p>\n\n<pre><code>sub  action_in_controller {\n  my $c = shift-&gt;render_later;\n\n  $c-&gt;delay(\n    sub {\n      my $delay = shift;\n\n      $c-&gt;ua-&gt;get('http://one.com' =&gt; $delay-&gt;begin);\n    },\n    sub {\n      my ($delay, $tx) = @_;\n\n      $c-&gt;ua-&gt;post('http://second.com' =&gt; $delay-&gt;begin);\n    },\n    sub {\n      my ($delay, $tx) = @_;\n\n      $c-&gt;render(text =&gt; 'la-la-la');\n    }\n  );\n}\n</code></pre>\n\n<p>2)</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub action_in_controller {\n  my $c = shift-&gt;render_later;\n\n  $c-&gt;ua-&gt;get('http://one.com' =&gt; sub {\n    my ($ua, $tx) = @_;\n\n    $c-&gt;ua-&gt;post('http://second.com' =&gt; sub {\n      my ($ua, $tx) = @_;\n\n      $c-&gt;render(text =&gt; 'la-la-la');\n    });\n  });\n}\n</code></pre>\n\n<p><strong>UPD</strong></p>\n\n<p>Found another variant of calling using Coro. \nBut in perl 5.22 it not work and need to apply <a href=\"http://code.activestate.com/lists/perl5-porters/228699/\" rel=\"nofollow\">patch</a> to repair it.\nYou need additionally to write plugin Coro.\n<a href=\"https://gist.github.com/Logioniz/e0eb7e92974d450cfa0aeb7d3fa18fc9\" rel=\"nofollow\">Here</a> example. You need only <code>ua.pl</code> and plugin <code>Mojolicious::Plugin::Core</code>.</p>\n"}], "owner": {"reputation": 325, "user_id": 2145475, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ceee3db9ecffc3067ab1f12e663a2b05?s=128&d=identicon&r=PG", "display_name": "user2145475", "link": "https://stackoverflow.com/users/2145475/user2145475"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1466672892, "creation_date": 1460729822, "question_id": 36649630, "link": "https://stackoverflow.com/questions/36649630/mojolicious-two-non-blocking-get-requests-in-the-same-controller", "title": "Mojolicious - two non-blocking GET requests in the same controller", "body": "<p>I'm writing a Mojolicious module/controller that needs to make two GET requests; one after the other. The second GET request depends on response data from the first. </p>\n\n<p>I would like both requests to be non-blocking. However I can't easily \"return\" from the context of the first non-blocking callback to supply values to the second request.</p>\n\n<pre><code>sub my_controller {\n\n    my ($self) = @_;\n\n    $self-&gt;ua-&gt;get($first_endpoint, sub {\n        # handle response - extract value for second request?\n    }); \n\n    my $second_endpoint = 'parameter not available here';\n\n    $self-&gt;ua-&gt;get($second_endpoint, sub {}); \n\n}\n</code></pre>\n\n<p>I would prefer not to nest the second request into the first callback if possible?</p>\n"}, {"tags": ["perl", "unicode"], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 5, "creation_date": 1460725058, "post_id": 36647448, "comment_id": 60888965, "body": "Interesting choice of example."}, {"owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "edited": false, "score": 1, "creation_date": 1460729774, "post_id": 36647448, "comment_id": 60892515, "body": "This guy made my day"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1460730813, "post_id": 36647448, "comment_id": 60893281, "body": "That&#39;s worth it, just for the example."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 10, "last_activity_date": 1460734340, "last_edit_date": 1460734340, "creation_date": 1460724081, "answer_id": 36647448, "question_id": 36647196, "link": "https://stackoverflow.com/questions/36647196/getting-a-unicode-code-point-character-by-name/36647448#36647448", "title": "Getting a Unicode code point (&quot;character&quot;) by name", "body": "<p>Use the <code>vianame</code> function from <a href=\"http://p3rl.org/charnames\" rel=\"noreferrer\">charnames</a>:</p>\n\n<pre><code>perl -CO -Mcharnames=:full -wE 'say chr charnames::vianame(\"PILE OF POO\")'\n\ud83d\udca9\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 4, "last_activity_date": 1460724152, "creation_date": 1460724152, "answer_id": 36647467, "question_id": 36647196, "link": "https://stackoverflow.com/questions/36647196/getting-a-unicode-code-point-character-by-name/36647467#36647467", "title": "Getting a Unicode code point (&quot;character&quot;) by name", "body": "<pre><code>use charnames ();\nmy $what = \"FAMILY\";\nsay charnames::string_vianame($what);\n</code></pre>\n"}], "owner": {"reputation": 11406, "user_id": 282614, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9cd35c711e222946f9503628827a32ce?s=128&d=identicon&r=PG", "display_name": "Dacav", "link": "https://stackoverflow.com/users/282614/dacav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 36647448, "answer_count": 2, "score": 4, "last_activity_date": 1460734340, "creation_date": 1460723357, "last_edit_date": 1460731530, "question_id": 36647196, "link": "https://stackoverflow.com/questions/36647196/getting-a-unicode-code-point-character-by-name", "title": "Getting a Unicode code point (&quot;character&quot;) by name", "body": "<p>Perl makes it very convenient to get some symbol.</p>\n\n<pre><code>$ perl -CO -E 'say \"\\N{FAMILY}\"'\n\ud83d\udc6a\n</code></pre>\n\n<p>Is there a way to evaluate the symbol with <code>\"\\N{}\"</code> via interpolation? Something similar to:</p>\n\n<pre><code>perl -CO -E 'my $what = \"FAMILY\"; say \"\\N{$what}\"'\n</code></pre>\n\n<p>(which does not work, but gives you the flavour).</p>\n\n<p>Besides feasibility, is there any drawback or possible threat in such evaluation? E.g. say the <code>$what</code> string is user-defined, I would never <code>eval $what</code>. Would I <code>\\N{$what}</code> safely?</p>\n\n<h2>Ops...</h2>\n\n<p>After getting the answers, I noticed how this information clearly stated in <code>perlunicook</code>. Sorry for the lack of RTFM. I guess this is a good thing to have on stackoverflow anyway.</p>\n"}, {"tags": ["perl", "file", "replace", "sed", "hex"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 3, "creation_date": 1460720415, "post_id": 36645992, "comment_id": 60885521, "body": "I think when replacing exactly one character with exactly one other character, <code>tr</code> would be better (faster), i.e. <code>$line =~ tr&#47;\\x00&#47;\\x20&#47;;</code> (no <code>&#47;g</code>)."}, {"owner": {"reputation": 697, "user_id": 5449244, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/131ad184c67440a0a499852f247b4ea6?s=128&d=identicon&r=PG&f=1", "display_name": "onlyf", "link": "https://stackoverflow.com/users/5449244/onlyf"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1460721026, "post_id": 36645992, "comment_id": 60885958, "body": "I m going to try it, the files are huge so i ll compare times and let you know! Thanks for the suggestion. I dont remember off the top of my head but i think tr can also replace a range of characters with one specific one, in the spirit of tr /\\x00-x20/\\x20/;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 1, "creation_date": 1460721273, "post_id": 36645992, "comment_id": 60886134, "body": "tr is a good suggestion.  A single tr can translate as many characters as you want.  e.g. <code>tr&#47;abc&#47;xyz&#47;</code> will change a to x, b to y, etc."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1460731724, "post_id": 36646999, "comment_id": 60893941, "body": "The problem with this approach is that it can&#39;t handle <code>[&#39;a&#39;, &#39;x&#39;], [&#39;x&#39;, &#39;y&#39;]</code>"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1460732955, "last_edit_date": 1460732955, "creation_date": 1460722776, "answer_id": 36646999, "question_id": 36645992, "link": "https://stackoverflow.com/questions/36645992/replace-multiple-hex-values/36646999#36646999", "title": "Replace multiple hex values", "body": "<p>Update: read comments for caveats of this answer.</p>\n\n<p>Here's one way that'll allow you to keep your list of regex search/replaces at the top of your script nice and clean for ease of viewing and modification:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy @re_list = (\n    ['a', 'x'],\n    ['b', 'y'],\n);\n\nwhile (my $line = &lt;DATA&gt;){\n    for my $re (@re_list){\n        $line =~ s/$re-&gt;[0]/$re-&gt;[1]/g;\n    }\n    print $line;\n}\n\n__DATA__\naaabbbccc\nbbbcccddd\nababababa\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>xxxyyyccc\nyyycccddd\nxyxyxyxyx\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": false, "score": 0, "last_activity_date": 1460723520, "creation_date": 1460723520, "answer_id": 36647254, "question_id": 36645992, "link": "https://stackoverflow.com/questions/36645992/replace-multiple-hex-values/36647254#36647254", "title": "Replace multiple hex values", "body": "<p><code>/g</code> will do what you want.  If it doesn't seem to be working, add some debugging:</p>\n\n<pre><code>use Data::Dumper;\n$Data::Dumper::Useqq = $Data::Dumper::Terse = 1;\n</code></pre>\n\n<p>And in your loop:</p>\n\n<pre><code>print Dumper($line);\nfor ($line) {\n        s/\\x00/\\x20/g;\n        s/\\x31/\\x32/g;\n}\nprint Dumper($line);\n</code></pre>\n\n<p>Using tr with paired delimiters instead can be very readable/maintainable:</p>\n\n<pre><code>$line =~ tr[\\x00\\x31]\n                  [\\x20\\x32];\n</code></pre>\n\n<p>Also, consider adding <code>use autodie;</code></p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1460732952, "last_edit_date": 1460732952, "creation_date": 1460731878, "answer_id": 36650408, "question_id": 36645992, "link": "https://stackoverflow.com/questions/36645992/replace-multiple-hex-values/36650408#36650408", "title": "Replace multiple hex values", "body": "<p><code>tr///</code> is probably your best bet here (since you are dealing with constant single character replacements). The following is a more generic solution.</p>\n\n<pre><code>my %replacements = (\n   'foo' =&gt; 'bar',\n   'bar' =&gt; 'baz',\n);\n\nmy $pat = join '|', map quotemeta, keys(%replacement);\n\ns/($pat)/$replacements{$1}/g;\n</code></pre>\n"}], "owner": {"reputation": 697, "user_id": 5449244, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/131ad184c67440a0a499852f247b4ea6?s=128&d=identicon&r=PG&f=1", "display_name": "onlyf", "link": "https://stackoverflow.com/users/5449244/onlyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1849, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1460732955, "creation_date": 1460719860, "last_edit_date": 1460725043, "question_id": 36645992, "link": "https://stackoverflow.com/questions/36645992/replace-multiple-hex-values", "title": "Replace multiple hex values", "body": "<p>I've written the following script because I need to do some cleanup in some files. I have a specific number of hex characters that needs to be changed into another set of hex characters (ie null to space, see below). I've written the following script, my problem is that it only replaces the first occurence and nothing else. </p>\n\n<p>I've tried the /g just like a regular sed pattern but it doesnt work. Is there a way to do this and replace all matches?</p>\n\n<p>(The reason i havent used a <code>$line =~ s/...</code> is because I think its neater and more maintainable that way, and this script will need to be accessed and run on occasion by others who may need to edit the hex values to be replaced). Another reason is because i need to change from 10+ hex values to an equivalent amount, so a huge one liner would be hard to read. Thank you in advance.</p>\n\n<pre><code> #!/usr/bin/perl\n\n\n use strict;\n use warnings;\n\n my $filebase = shift || \"testreplace.txt\";\n my $filefilter = shift || \"testf\";\n\n open my $fh1, '&gt;', 'testreplaceout';\n\n # Iterate over file and read lines\n open my $file1, '&lt;', $filebase;\n\n while (my $line = &lt;$file1&gt;)\n {\n    chomp($line);\n\n    for ($line) {\n            s/\\x00/\\x20/g;\n            s/\\x31/\\x32/g;\n    }\n\n    print {$fh1} \"$line \\n\";\n\n\n }\n</code></pre>\n"}, {"tags": ["perl", "module", "fedora"], "comments": [{"owner": {"reputation": 11, "user_id": 6112709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d64ba6d6cf6fb5d26190bcb7dc53244?s=128&d=identicon&r=PG&f=1", "display_name": "user6112709", "link": "https://stackoverflow.com/users/6112709/user6112709"}, "edited": false, "score": 0, "creation_date": 1460709360, "post_id": 36642134, "comment_id": 60878228, "body": "[pes@NP-CTC-DB ~]$ perl testDwdUnzip.pl  Can&#39;t locate Net/SFTP/Foreign.pm in @INC (you may need to install the Net::SFTP::Foreign module) (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at testDwdUnzip.pl line 2. BEGIN failed--compilation aborted at testDwdUnzip.pl line 2. [pes@NP-CTC-DB ~]$"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1460711689, "post_id": 36642134, "comment_id": 60879695, "body": "How did you install the module as root, and what does <code>@INC</code> contain when you run <i>testDwdUnzip.pl</i> as the user?"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1460739548, "post_id": 36642134, "comment_id": 60898934, "body": "Are you running on the same machine in both cases? Your prompt as root shows <code>root@PES-CMCC-DB</code>, compared to <code>pes@NP-CTC-DB</code> as the regular user. Running <code>ls -l &#47;usr&#47;local&#47;share&#47;perl5</code> should show either the same files for both users, or give a permission denied error for the regular user."}, {"owner": {"reputation": 11, "user_id": 6112709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d64ba6d6cf6fb5d26190bcb7dc53244?s=128&d=identicon&r=PG&f=1", "display_name": "user6112709", "link": "https://stackoverflow.com/users/6112709/user6112709"}, "edited": false, "score": 0, "creation_date": 1461026241, "post_id": 36642134, "comment_id": 61000900, "body": "thanks ThisSuitlsBlackNot for your words. yes, I have mess these two hosts. Now, I have installed this module on host NP-CTC-DB, it can work"}], "owner": {"reputation": 11, "user_id": 6112709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d64ba6d6cf6fb5d26190bcb7dc53244?s=128&d=identicon&r=PG&f=1", "display_name": "user6112709", "link": "https://stackoverflow.com/users/6112709/user6112709"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1460709276, "creation_date": 1460709276, "question_id": 36642134, "link": "https://stackoverflow.com/questions/36642134/installed-perl-module-cannot-be-accessed-by-normal-user-on-fedora-23", "title": "installed perl module cannot be accessed by normal user on fedora 23", "body": "<p>After root installed module Net::SFTP::Foreign on fedora 23, the normal user cannot access it though he can cd to there, but list is empty of /usr/local/share/perl5.</p>\n\n<pre><code>[root@PES-CMCC-DB ~]# !find\nfind `perl -e \"print \\\"@INC\\\";\"` -name \"Foreign.pm\"\n/usr/local/share/perl5/Net/SFTP/Foreign.pm\n./.cpan/build/Net-SFTP-Foreign-1.81-TYvkdG/blib/lib/Net/SFTP/Foreign.pm\n./.cpan/build/Net-SFTP-Foreign-1.81-TYvkdG/lib/Net/SFTP/Foreign.pm\n\n[root@PES-CMCC-DB perl5]# pwd\n/usr/local/share/perl5\n[root@PES-CMCC-DB perl5]# ls\nAlgorithm  CPAN   Expect.pm  JSON       Module  ok.pm  Perl    Spiffy.pm   TAP   Time     YAML.pod\nApp        Crypt  File       LEOCHARRE  Net     Parse  Smart   Spiffy.pod  Test  YAML\nCAM        Devel  Getopt     Linux      Number  PDF    Spiffy  String      Text  YAML.pm\n\n[pes@NP-CTC-DB ~]$ perl testDwdUnzip.pl \nCan't locate Net/SFTP/Foreign.pm in @INC (you may need to install the Net::SFTP::Foreign module) (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at testDwdUnzip.pl line 2.\nBEGIN failed--compilation aborted at testDwdUnzip.pl line 2.\n[pes@NP-CTC-DB ~]$ find `perl -e \"print \\\"@INC\\\";\"` -name \"Foreign.pm\"\n[pes@NP-CTC-DB ~]$ \n\n[pes@NP-CTC-DB perl5]$ pwd\n/usr/local/share/perl5\n[pes@NP-CTC-DB perl5]$ ls -l\ntotal 0\n[pes@NP-CTC-DB perl5]$ \n</code></pre>\n\n<p>I want to know, if fedora introduced some special access-control method.</p>\n"}, {"tags": ["perl", "pattern-matching"], "comments": [{"owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 1, "creation_date": 1460702616, "post_id": 36639813, "comment_id": 60874264, "body": "The <code>m</code> flag can help you. Like this:<code>&#47;&#47;m</code>. Read <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">more</a>"}, {"owner": {"reputation": 47, "user_id": 4065418, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1616275414/picture?type=large", "display_name": "Divesh Rastogi", "link": "https://stackoverflow.com/users/4065418/divesh-rastogi"}, "reply_to_user": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 0, "creation_date": 1460703546, "post_id": 36639813, "comment_id": 60874739, "body": "i tried but it&#39;s not helpful and it captures only the first line                                                                   if ( $_ =~ m/^\\s*-temp\\s*\\{(.+)\\} /gi)"}, {"owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 0, "creation_date": 1460703829, "post_id": 36639813, "comment_id": 60874900, "body": "Where the loop, from which is <code>$_</code>? Post full snippet of code you tried. What do you want to get? An array of A, B, C, ...?"}, {"owner": {"reputation": 47, "user_id": 4065418, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1616275414/picture?type=large", "display_name": "Divesh Rastogi", "link": "https://stackoverflow.com/users/4065418/divesh-rastogi"}, "reply_to_user": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 0, "creation_date": 1460704116, "post_id": 36639813, "comment_id": 60875078, "body": "while(&lt;$fNew&gt;) { chomp $_; if ( $_ =~ m/^\\s*-temp\\s*\\{(.+)\\} /gi) { .....}                     and it returns only upto -temp {{&quot;A&quot;}"}, {"owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 0, "creation_date": 1460704544, "post_id": 36639813, "comment_id": 60875361, "body": "Note:<code>chomp</code> removes the <code>\\n</code>"}, {"owner": {"reputation": 47, "user_id": 4065418, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1616275414/picture?type=large", "display_name": "Divesh Rastogi", "link": "https://stackoverflow.com/users/4065418/divesh-rastogi"}, "reply_to_user": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "edited": false, "score": 0, "creation_date": 1460704682, "post_id": 36639813, "comment_id": 60875444, "body": "I removed that but it didn&#39;t help much and it&#39;s still printing the single line -temp {{&quot;A&quot;}"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1460711339, "post_id": 36639813, "comment_id": 60879468, "body": "Please <a href=\"https://stackoverflow.com/posts/36639813/edit\">edit</a> your question and add your code there. It&#39;s very hard to read in the comments. Also add a more complete example of input data. Are the <code>\\n</code> in the data <i>literal</i>, or did you put them there to show that it&#39;s several lines?"}, {"owner": {"reputation": 382, "user_id": 334931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f34fd19efd04f944b9db5d053afab57?s=128&d=identicon&r=PG", "display_name": "polettix", "link": "https://stackoverflow.com/users/334931/polettix"}, "edited": false, "score": 0, "creation_date": 1460764361, "post_id": 36639813, "comment_id": 60910040, "body": "By default, input is read line by line. Hence, at each iteration you end up applying the pattern match only onto a single line, not the whole text. See perldoc perlvar and look for <code>$&#47;</code> (e.g. <a href=\"http://perldoc.perl.org/perlvar.html#$/\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlvar.html#$</a> )"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 4065418, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1616275414/picture?type=large", "display_name": "Divesh Rastogi", "link": "https://stackoverflow.com/users/4065418/divesh-rastogi"}, "edited": false, "score": 0, "creation_date": 1460704753, "post_id": 36640627, "comment_id": 60875496, "body": "Thanks redOct. I can make it a variable instead of an array."}, {"owner": {"reputation": 47, "user_id": 4065418, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1616275414/picture?type=large", "display_name": "Divesh Rastogi", "link": "https://stackoverflow.com/users/4065418/divesh-rastogi"}, "edited": false, "score": 0, "creation_date": 1460704865, "post_id": 36640627, "comment_id": 60875560, "body": "Actually line starts with some other pattern and -temp is in the middle of the line so putting into an array won&#39;t be useful here.                                                  ABC::CDE -show 1 -type choices -default &quot;A&quot; -value {{&quot;A&quot;} \\n {&quot;B}&quot;\\n {&quot;C&quot;}} -hidden 0"}, {"owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "reply_to_user": {"reputation": 47, "user_id": 4065418, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1616275414/picture?type=large", "display_name": "Divesh Rastogi", "link": "https://stackoverflow.com/users/4065418/divesh-rastogi"}, "edited": false, "score": 0, "creation_date": 1460704966, "post_id": 36640627, "comment_id": 60875612, "body": "@Divesh Rastogi You should specify what type of input could appear and what do you expect to retrieve. Edit your question please"}, {"owner": {"reputation": 47, "user_id": 4065418, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1616275414/picture?type=large", "display_name": "Divesh Rastogi", "link": "https://stackoverflow.com/users/4065418/divesh-rastogi"}, "edited": false, "score": 0, "creation_date": 1460705070, "post_id": 36640627, "comment_id": 60875679, "body": "Here you go ....   ABC::CDE -show 1 -type choices -default &quot;A&quot; -value {{&quot;A&quot;}\\n  \t\t\t\t\t\t    {&quot;B}&quot;\\n  \t\t\t\t\t\t     {&quot;C&quot;}} -text &quot;Nail It&quot; -hidden 0"}], "tags": [], "owner": {"reputation": 4173, "user_id": 4450651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6IMB.jpg?s=128&g=1", "display_name": "red0ct", "link": "https://stackoverflow.com/users/4450651/red0ct"}, "is_accepted": false, "score": 2, "last_activity_date": 1460806376, "last_edit_date": 1460806376, "creation_date": 1460704670, "answer_id": 36640627, "question_id": 36639813, "link": "https://stackoverflow.com/questions/36639813/how-to-do-pattern-matching-for-mutiline-in-perl/36640627#36640627", "title": "How to do pattern matching for mutiline in perl", "body": "<p>I dont realize all possible combinations of data blocks in your input file and its format. If I misunderstood, tell me.</p>\n\n<p>Consider you file has such <strong>format</strong>:</p>\n\n<pre><code>someblock1 -option1 value -option2 value\nsomeblock2 -option1 value -option2 value\n...\nconfig -option1 value -option2 value\n...\nsomeblockN -option1 value -option2 value\n</code></pre>\n\n<p>You want to get all <code>config</code>-block to scalar variable using multiline pattern. Since this block could contain newline characters.</p>\n\n<hr>\n\n<p>Here's some code, that does such task without loops:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen  my $fh, '&lt;file' or die \"$!\\n\"; my $file = join '', &lt;$fh&gt;; close $fh;\n$file =~ /config.*?-value\\s?\\{.*?\"(\\w)\"\\s*\\}.*?\\1\\s?:.*?(?:\\n|$)/s;\nprint $&amp;;\n</code></pre>\n\n<p>This pattern will match as many descriptions like <code>D : XX size = 1/100\" -active dev</code> as pointed in <code>-value{...}</code> option. (Of course, if you follow some order when generating the file)</p>\n"}, {"tags": [], "owner": {"reputation": 325, "user_id": 2409452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7e2cb2334cdbe58224f8fd9d765de81?s=128&d=identicon&r=PG", "display_name": "Ganesan Srinivasan", "link": "https://stackoverflow.com/users/2409452/ganesan-srinivasan"}, "is_accepted": false, "score": 0, "last_activity_date": 1460719723, "creation_date": 1460719723, "answer_id": 36645949, "question_id": 36639813, "link": "https://stackoverflow.com/questions/36639813/how-to-do-pattern-matching-for-mutiline-in-perl/36645949#36645949", "title": "How to do pattern matching for mutiline in perl", "body": "<p>Below RegExp command should match </p>\n\n<blockquote>\n  <p>/^\\s*-temp[\\s* {}\\\"[a-z]+]*/gim</p>\n</blockquote>\n\n<p>use online regexp coach to test it</p>\n\n<p><a href=\"http://regexr.com/v1/\" rel=\"nofollow\">http://regexr.com/v1/</a></p>\n"}], "owner": {"reputation": 47, "user_id": 4065418, "user_type": "registered", "accept_rate": 12, "profile_image": "https://graph.facebook.com/1616275414/picture?type=large", "display_name": "Divesh Rastogi", "link": "https://stackoverflow.com/users/4065418/divesh-rastogi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1460806376, "creation_date": 1460702076, "last_edit_date": 1592644375, "question_id": 36639813, "link": "https://stackoverflow.com/questions/36639813/how-to-do-pattern-matching-for-mutiline-in-perl", "title": "How to do pattern matching for mutiline in perl", "body": "<p>I am trying pattern matching on a line whose value argument is spread to multiple lines. My input file looks like</p>\n<h2>input file content</h2>\n<pre><code>config -type &quot;cc&quot; -opt &quot;XX&quot; -value { &quot;A&quot; \\   \n                                     &quot;B&quot; \\\n                                     &quot;C&quot; }\\                                                                                                                                              -default &quot;A&quot; \\\n                    -text &quot;\\tA: XX size = 1/1\\\n\\tB  : XX size = 1/10\\\n\\tC : XX size = 1/100&quot; -active dev\n\nand the script to read the file is \n\n#!/usr/bin/env perl\nuse strict();\nuse warnings();\nuse Cwd;\n\nmy $custom=$ARGV[0];\n ##pattern matching\nopen(my $fNew, &quot;&lt; $custom&quot;) or die &quot;cannot open $!&quot;;\nwhile(&lt;$fNew&gt;) {\n  ##Pattern matching\n  if( $_ =~ m/^\\s*config\\s+-type\\s+([^\\s+]+)\\s+-opt\\s+\\&quot;([^\\&quot;]+)\\&quot;.*/gi ) {\n   ##print the pattern\n    print &quot;$_\\n&quot;;\n  }\n}\n</code></pre>\n<p>Output of the script:: config -type cc -opt &quot;XX&quot; -value { &quot;A&quot; \\</p>\n<p>I want my print command to return the entire config line instead of returning it till &quot;A&quot;. Looks like the current pattern matching command ins not enough.</p>\n<pre><code>Please let me know if you have any questions.\n\nRegards,\nDivesh\n</code></pre>\n"}, {"tags": ["perl", "unit-testing"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1595765044, "post_id": 36639621, "comment_id": 111581236, "body": "I suspect it means the process was killed by signal 9, the KILL signal."}], "owner": {"reputation": 103, "user_id": 3399858, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1325239322/picture?type=large", "display_name": "user3399858", "link": "https://stackoverflow.com/users/3399858/user3399858"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1460729921, "creation_date": 1460701310, "last_edit_date": 1460708307, "question_id": 36639621, "link": "https://stackoverflow.com/questions/36639621/what-does-non-zero-wait-status-9-mean-when-running-test-using-develcover", "title": "What does &quot;Non-zero wait status: 9&quot; mean when running test using Devel::Cover?", "body": "<p>When I am running only the tests, all of them passes, but when I am running using <code>HARNESS_PERL_SWITCHES=-MDevel::Cover</code> in order to generate the coverage, after a few tests I get this exit status <code>9</code>. What does it mean? </p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1460699689, "post_id": 36638805, "comment_id": 60872949, "body": "You&#39;re trying to generate what&#39;s called the Cartesian product (or cross product); there are several modules on CPAN that can help with this."}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 7, "last_activity_date": 1460700331, "creation_date": 1460700331, "answer_id": 36639377, "question_id": 36638805, "link": "https://stackoverflow.com/questions/36638805/generate-combinations-from-hash-values/36639377#36639377", "title": "generate combinations from hash values", "body": "<p>As already mentioned, you're looking for <a href=\"https://en.wikipedia.org/wiki/Cartesian_product\">Cartesian product</a>,</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub getCartesian {\n#\n  my @input = @_;\n  my @ret = map [$_], @{ shift @input };\n\n  for my $a2 (@input) {\n    @ret = map {\n      my $v = $_;\n      map [@$v, $_], @$a2;\n    }\n    @ret;\n  }\n  return @ret;\n}\n\nmy %ranges = (\n    '--tic' =&gt; [ 0, 1, 2 ],\n    '--threads' =&gt; [ 8, 16 ],\n    '--level' =&gt; [ 10, 20 ]\n);\n\nmy @arr =  map {\n  my $k = $_;\n  [ map \"$k $_\", @{$ranges{$k}} ];\n}\nkeys %ranges;\n\nprint \"@$_\\n\" for getCartesian(@arr);\n</code></pre>\n\n<p>output</p>\n\n<pre><code>--level 10 --tic 0 --threads 8\n--level 10 --tic 0 --threads 16\n--level 10 --tic 1 --threads 8\n--level 10 --tic 1 --threads 16\n--level 10 --tic 2 --threads 8\n--level 10 --tic 2 --threads 16\n--level 20 --tic 0 --threads 8\n--level 20 --tic 0 --threads 16\n--level 20 --tic 1 --threads 8\n--level 20 --tic 1 --threads 16\n--level 20 --tic 2 --threads 8\n--level 20 --tic 2 --threads 16\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1467625143, "last_edit_date": 1467625143, "creation_date": 1460703088, "answer_id": 36640111, "question_id": 36638805, "link": "https://stackoverflow.com/questions/36638805/generate-combinations-from-hash-values/36640111#36640111", "title": "generate combinations from hash values", "body": "<p>The <a href=\"https://metacpan.org/pod/Set::Product\" rel=\"nofollow\"><code>Set::Product</code></a> module will do this for you</p>\n\n<p>Here's an example program</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Set::Product 'product';\n\nmy %ranges = (\n    '--tic'     =&gt; [ 0, 1, 2 ],\n    '--threads' =&gt; [ 8, 16 ],\n    '--level'   =&gt; [ 10, 20 ],\n);\n\nmy @keys = sort keys %ranges;\n\nproduct {\n    print join(' ', map { \"$keys[$_] $_[$_]\" } 0 .. $#keys), \"\\n\";\n} @ranges{@keys};\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>--level 10 --threads 8 --tic 0\n--level 10 --threads 8 --tic 1\n--level 10 --threads 8 --tic 2\n--level 10 --threads 16 --tic 0\n--level 10 --threads 16 --tic 1\n--level 10 --threads 16 --tic 2\n--level 20 --threads 8 --tic 0\n--level 20 --threads 8 --tic 1\n--level 20 --threads 8 --tic 2\n--level 20 --threads 16 --tic 0\n--level 20 --threads 16 --tic 1\n--level 20 --threads 16 --tic 2\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 6207409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6642c5e2fc0e2aebe11f044311060618?s=128&d=identicon&r=PG&f=1", "display_name": "int", "link": "https://stackoverflow.com/users/6207409/int"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 1, "accepted_answer_id": 36639377, "answer_count": 2, "score": 5, "last_activity_date": 1467625143, "creation_date": 1460697772, "question_id": 36638805, "link": "https://stackoverflow.com/questions/36638805/generate-combinations-from-hash-values", "title": "generate combinations from hash values", "body": "<p>In perl if I have a hash</p>\n\n<pre><code>my %ranges = (                                                                                      \n'--tic' =&gt; [ 0, 1, 2 ],                                                                             \n'--threads' =&gt; [ 8, 16 ],                                                                           \n'--level' =&gt; [ 10, 20 ]                                                                               \n);                                                                     \n</code></pre>\n\n<p>how can I generate an array of all the combinations, like</p>\n\n<pre><code>--level 10 --threads 8 --tic 0                                                                        \n--level 10 --threads 8 --tic 1                                                                        \n--level 10 --threads 8 --tic 2                                                                        \n--level 10 --threads 16 --tic 0                                                                       \n--level 10 --threads 16 --tic 1                                                                       \n--level 10 --threads 16 --tic 2                                                                       \n--level 20 --threads 8 --tic 0                                                                        \n--level 20 --threads 8 --tic 1                                                                        \n--level 20 --threads 8 --tic 2                                                                        \n--level 20 --threads 16 --tic 0                                                                       \n--level 20 --threads 16 --tic 1                                                                       \n--level 20 --threads 16 --tic 2       \n</code></pre>\n\n<p>There can be any number of hash entries, and each entry can have any number of elements in it's value array. The order of the output array doesn't matter, just needs to have 1 element for each combination, 3*2*2 = 12 in this case, but could be any number. </p>\n\n<p>I think some combination of splice, map, and foreach should work but I am flailing about in a bad way to find it.</p>\n"}, {"tags": ["linux", "perl", "sorting", "unix"], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 3, "last_activity_date": 1460696377, "last_edit_date": 1460696377, "creation_date": 1460695935, "answer_id": 36638508, "question_id": 36638173, "link": "https://stackoverflow.com/questions/36638173/how-do-i-sort-library-of-congress-lcc-numbers-using-perl/36638508#36638508", "title": "How do I sort Library of Congress (LCC) numbers using Perl?", "body": "<p>Simply try this</p>\n\n<p><code>$a</code> and <code>$b</code> reversed keywords for sort. You want to pick the particular word and sort with those word. So use map and store the word in <code>$adup</code> and <code>$bdup</code> and perform sort by <code>$adup</code> and <code>$bdup</code> variable.</p>\n\n<pre><code>open my $fh ,\"&lt;\", \"file.txt\" or die\"$! error opening\";\nmy @ar = &lt;$fh&gt;;\nmy @sort = sort{ my ($adup, $bdup) = map /^\\D+(\\d+)/, $a, $b; $adup &lt;=&gt; $bdup } @ar;\nprint @sort;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1467625310, "last_edit_date": 1467625310, "creation_date": 1460696366, "answer_id": 36638574, "question_id": 36638173, "link": "https://stackoverflow.com/questions/36638173/how-do-i-sort-library-of-congress-lcc-numbers-using-perl/36638574#36638574", "title": "How do I sort Library of Congress (LCC) numbers using Perl?", "body": "<p>There's a module <a href=\"https://metacpan.org/pod/Library::CallNumber::LC\" rel=\"nofollow\"><code>Library::CallNumber::LC</code></a> especially for this purpose. It has a <code>normalize</code> method that converts an LCN to something that is directly sortable. It changes your list of numbers to this</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>BX22303\nBX2237\nBX2380 R67  02002\nBX0932 C53  01993\n</code></pre>\n\n<p>so you can sort your numbers like this</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse Library::CallNumber::LC;\n\nmy @numbers = (\n    'BX2230.3',\n    'BX2237',\n    'BX2380 .R67 2002',\n    'BX932 .C53 1993',\n);\n\nprint \"$_\\n\" for sort {\n    my ($aa, $bb) = map { Library::CallNumber::LC-&gt;normalize($_) } ($a, $b);\n    $aa cmp $bb;\n} @numbers;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>BX932 .C53 1993\nBX2230.3\nBX2237\nBX2380 .R67 2002\n</code></pre>\n"}], "owner": {"reputation": 2676, "user_id": 1429450, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/16df5085d4b8372b5dcadabb87545ad3?s=128&d=identicon&r=PG", "display_name": "Geremia", "link": "https://stackoverflow.com/users/1429450/geremia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 36638574, "answer_count": 2, "score": 1, "last_activity_date": 1467625310, "creation_date": 1460693822, "last_edit_date": 1460749653, "question_id": 36638173, "link": "https://stackoverflow.com/questions/36638173/how-do-i-sort-library-of-congress-lcc-numbers-using-perl", "title": "How do I sort Library of Congress (LCC) numbers using Perl?", "body": "<p>Suppose I have these Library of Congress (LCC) numbers:</p>\n\n<pre><code>BX2230.3\nBX2237\nBX2380 .R67 2002 \nBX932 .C53 1993\n</code></pre>\n\n<p>Using <code>sort</code> or <code>sort -b</code> to ignore whitespace on Linux orders them like this:</p>\n\n<pre><code>BX2230.3\nBX2237\nBX2380 .R67 2002 \nBX932 .C53 1993\n</code></pre>\n\n<p>However, they should be ordered like this:</p>\n\n<pre><code>BX932 .C53 1993\nBX2230.3\nBX2237\nBX2380 .R67 2002 \n</code></pre>\n\n<p>Is there a way to do this with <code>sort</code> or with <code>perl</code>? In order words: to sort the first two characters of each line alphabetically, the numbers following the first two characters numerically, the letter after the \".\" (if it exists) alphabetically, and the numbers following that numerically?</p>\n"}, {"tags": ["arrays", "perl", "hash", "hashmap", "compare"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1460664819, "creation_date": 1460664819, "answer_id": 36633075, "question_id": 36632578, "link": "https://stackoverflow.com/questions/36632578/perl-compare-hash-of-arrays-with-another-array/36633075#36633075", "title": "Perl Compare hash of arrays with another array", "body": "<p>Find the intersection of the two sets, if the number of its elements is the number of the elements in the array, you want to store the key:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\n\nsub intersect {\n    my ($arr1, $arr2) = @_;\n    my %intersection;\n    $intersection{$_}{0}++ for @$arr1;\n    $intersection{$_}{1}++ for @$arr2;\n    return grep 2 == keys %{ $intersection{$_} }, keys %intersection\n}\n\n\nmy %hash = (\n            storeA =&gt; [qw[ milk eggs ]],\n            storeB =&gt; [qw[ milk fruits eggs vegetables ]],\n            storeC =&gt; [qw[ milk fruits eggs ]],\n           );\n\nmy @array = qw( fruits milk eggs );\n\nmy @new_array;\n\nwhile (my ($store, $arr) = each %hash) {  # while, not for!\n    push @new_array, $store if @array == intersect(\\@array, $arr);\n}\n\nuse Data::Dumper;\nprint Dumper(\\@new_array);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 2, "last_activity_date": 1460665004, "creation_date": 1460665004, "answer_id": 36633128, "question_id": 36632578, "link": "https://stackoverflow.com/questions/36632578/perl-compare-hash-of-arrays-with-another-array/36633128#36633128", "title": "Perl Compare hash of arrays with another array", "body": "<p>You could also use a combination of <code>all</code> and <code>any</code> form <a href=\"https://metacpan.org/pod/List::Util\" rel=\"nofollow\"><code>List::Util</code></a> :</p>\n\n<pre><code>while ((my $key, my $value) = each %hash) {\n    if ( all { my $temp = $_; any { $_ eq $temp } @$value } @array ) {  \n        push @new_array, $key;\n    }\n}\n</code></pre>\n\n<p>So here you are looking for the case where all the elements of <code>@array</code> exists in the given array from the hash.</p>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1460666259, "post_id": 36633207, "comment_id": 60862245, "body": "Or,  <code>sub in_store { $_[0] eq $_ and return 1  for @{$_[1]} }</code>"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1583298592, "last_edit_date": 1583298592, "creation_date": 1460665230, "answer_id": 36633207, "question_id": 36632578, "link": "https://stackoverflow.com/questions/36632578/perl-compare-hash-of-arrays-with-another-array/36633207#36633207", "title": "Perl Compare hash of arrays with another array", "body": "<p>Go through all stores (keys) and for each check whether all array elems are in the key's array-ref.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy %inventory = (\n    storeA =&gt; ['milk','eggs'],\n    storeB =&gt; ['milk','fruits','eggs','vegetables'],\n    storeC =&gt; ['milk','fruits','eggs'],\n);    \nmy @items = ('fruits', 'milk', 'eggs');\n\nmy @found;\nforeach my $store (keys %inventory) {\n    push @found, $store \n        if @items == grep { in_store($_, $inventory{$store}) } @items\n}   \n\nsub in_store { for (@{$_[1]}) { return 1 if $_[0] eq $_ }; return 0; }\n\nprint \"@found\\n\";  # prints:  storeB storeC\n</code></pre>\n\n<p>The <code>grep</code> block checks for each item whether it is (available) in the store, and if the number of those that pass is equal to the number of items (array size) that store has all items and is added.  Note that a subroutine returns the last value evaluated without an explicit return, so the final <code>return</code> is not needed.  It was added for clarity.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460693566, "post_id": 36637953, "comment_id": 60870971, "body": "A nice idea, but if <code>storeC</code> stocked <code>eggshells</code> then it would fulfill <code>eggs</code> on the list. It would also be better to use <code>@array</code> instead of <code>3</code>, as it expresses the meaning as well as the value, and also continues to work if the contents of <code>@array</code> are changed. And I wonder why you&#39;ve chosen to put the constant first in the comparison? It&#39;s not wrong at all, but it&#39;s very uncommon to use <code>3 &lt;= $expression</code> rather than <code>$expression &gt;= 3</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460694000, "post_id": 36637953, "comment_id": 60871083, "body": "Oh, and I wouldn&#39;t go changing the values of built-in variables like <code>$,</code>, especially without wrapping the associated code in a block and using <code>local</code>. No one remembers what they do, and <code>print &quot;$_\\n&quot; for @new_array</code> is fine here"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460694747, "post_id": 36637953, "comment_id": 60871290, "body": "@Borodin Thank you for your helpful comment post edited. I used word bountry  <code>\\b</code>  for matching. And then reason for <code>&gt;= 3</code> is some time hash of array value contain repeated data something like ` storeB=&gt;[&#39;milk&#39;,&#39;fruits&#39;,&#39;eggs&#39;,&#39;vegetables&#39;,&#39;milk]` my condition will satisfy, <code>==3</code> won&#39;t satisfy for the above data. :)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460696726, "post_id": 36637953, "comment_id": 60871842, "body": "I&#39;m not clear about your reasoning for using <code>&gt;=</code>. <code>grep</code> will always return the number of elements in the array if they all match, regardless of duplicates. <code>perl -E &#39;say scalar grep &#47;a&#47;, qw&#47; a a a a&#47;&#39;</code> prints 4"}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460697306, "post_id": 36637953, "comment_id": 60872016, "body": "@Borodin Consider for example <code>storeB=&gt;[&#39;milk&#39;,&#39;fruits&#39;,&#39;eggs&#39;,&#39;vegetables&#39;,&#39;milk]</code>  now grep results the value <code>4</code>.  If <code>3==4</code> means not satisfied.  So i put the <code>&gt;=</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1460697446, "post_id": 36637953, "comment_id": 60872058, "body": "Ah! I understand. Sorry for being dim."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 1, "last_activity_date": 1460710599, "last_edit_date": 1460710599, "creation_date": 1460692357, "answer_id": 36637953, "question_id": 36632578, "link": "https://stackoverflow.com/questions/36632578/perl-compare-hash-of-arrays-with-another-array/36637953#36637953", "title": "Perl Compare hash of arrays with another array", "body": "<p>Simply try this. One small trick i done here.  <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\">grep</a> was use to filter the element from an array. </p>\n\n<p>I created the variable <code>$joined_array</code> which contain the <code>|</code> separated <code>@array</code> data. Then i pass the variable into the grep.</p>\n\n<p>And the trick is, when the array is compare with a scalar data, the comparison is behave, the total number of an array element with scalar data. </p>\n\n<pre><code>my @array = qw(one two three);\n\nif(@array == 3)\n{\n    print \"Hi\\n\";\n\n}\n</code></pre>\n\n<p>Here condition is internally run as <code>3 == 3</code>. </p>\n\n<p>That the same logic i done here. </p>\n\n<pre><code>use warnings;\nuse strict;\nmy %hash=(\n    \"storeA\"=&gt;['milk','eggs'],\n    \"storeB\"=&gt;['milk','fruits','eggs','vegetables'],\n    \"storeC\"=&gt;['milk','fruits','eggs'],\n);\n\nmy @array = (\n    'fruits',\n    'milk',\n    'eggs'\n);\n\nmy @new_array;\n\nmy $joined_array = join(\"|\",@array);\n\nforeach (keys  %hash)\n{\n\n push(@new_array,$_) if  ((grep{ /\\b$joined_array\\b/ } @{$hash{$_}}) &gt;= scalar @array);\n\n}\n\nprint \"$_\\n\" for @new_array\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467625324, "last_edit_date": 1467625324, "creation_date": 1460692580, "answer_id": 36637982, "question_id": 36632578, "link": "https://stackoverflow.com/questions/36632578/perl-compare-hash-of-arrays-with-another-array/36637982#36637982", "title": "Perl Compare hash of arrays with another array", "body": "<p>I would build a hash out of each store's stock array. It's a wasteful method, but not egregiously so as long as the real data isn't enormous</p>\n\n<p>Like this. The inner <code>grep</code> statement counts the number of items in <code>@list</code> that are available at this store and compares it to the number of items in the list, returning <em>true</em> if everything is in stock</p>\n\n<p>If this is a real situation (I suspect it's homework) then for all practical purposes that I can think of, the <code>%stocks</code> hash should contain <em>hashes</em> of the items available at each store</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy %stocks = (\n    storeA =&gt; [ qw/ milk eggs / ],\n    storeB =&gt; [ qw/ milk fruits eggs vegetables / ],\n    storeC =&gt; [ qw/ milk fruits eggs / ],\n);\n\nmy @list = qw/ fruits milk eggs /;\n\nmy @stores = grep {\n    my %stock = map { $_ =&gt; 1 } @{ $stocks{$_} };\n    grep($stock{$_}, @list) == @list;\n} keys %stocks;\n\nuse Data::Dump;\ndd \\@stores;\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>[\"storeB\", \"storeC\"]\n</code></pre>\n"}], "owner": {"reputation": 1535, "user_id": 2175642, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/438be96ab62abdf3194b7b1b0f85507b?s=128&d=identicon&r=PG", "display_name": "Jill448", "link": "https://stackoverflow.com/users/2175642/jill448"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 0, "accepted_answer_id": 36637982, "answer_count": 5, "score": 0, "last_activity_date": 1583298592, "creation_date": 1460663179, "last_edit_date": 1460664045, "question_id": 36632578, "link": "https://stackoverflow.com/questions/36632578/perl-compare-hash-of-arrays-with-another-array", "title": "Perl Compare hash of arrays with another array", "body": "<p>I am trying to compare all the array values (complete array) with a hash's value(which is array) and if the match founds,then push the key of hash to new array.\nThe below code compare if the hash value is not array but how can I compare if its array?</p>\n\n<pre><code>%hash=(\n       storeA=&gt;['milk','eggs'],\n       storeB=&gt;['milk','fruits','eggs','vegetables'],\n       storeC=&gt;['milk','fruits','eggs'],\n      );\n\n@array = (\n        'fruits',\n        'milk',\n        'eggs'\n    );\n</code></pre>\n\n<p>Code to compare</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nforeach my $thing (@array)   {\n     foreach ((my $key, my $value) = each %hash)   { \n                 if ($value eq $thing)   {\n                       push @new_array, $key;\n                }\n          }\n   }\n  print Dumper(\\@new_array);\n</code></pre>\n\n<p><strong>Expected Output</strong></p>\n\n<pre><code>@new_array = (\n               storeB,\n               storeC\n       );\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1460663115, "post_id": 36631855, "comment_id": 60860410, "body": "Did you mean to write: <code>my $var = &quot;bash -l&quot;;</code> so that the <code>system</code> would execute <code>bash -l</code>, rather than the output of <code>bash -l</code>?  As it stands, you are running the <code>bash -l</code> as a command with Perl capturing the output (so you won&#39;t ever see it on the screen)."}, {"owner": {"reputation": 23, "user_id": 6205842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc3d323c8e5db5a7554f6d6f365824a?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6205842/yog"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1460666408, "post_id": 36631855, "comment_id": 60862332, "body": "No.This is what I wants to write my $var=<code>bash -l</code>;But here question is why I cant see any output?And what if I wants to see?Any suggestion."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1460666522, "post_id": 36631855, "comment_id": 60862401, "body": "You mean you really want <code>my $var = `bash -l`;</code> which means that you will not see the output from the login shell until the <code>system</code> statement tries to execute the prompts etc as commands?  I think you are confused."}, {"owner": {"reputation": 23, "user_id": 6205842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc3d323c8e5db5a7554f6d6f365824a?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6205842/yog"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1460667084, "post_id": 36631855, "comment_id": 60862710, "body": "Well my main purpose is to see output and execute all statements after bash -l command.I have tried both the ways &quot; &quot; and `` both are not displaying anything on console."}, {"owner": {"reputation": 23, "user_id": 6205842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc3d323c8e5db5a7554f6d6f365824a?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6205842/yog"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1460667164, "post_id": 36631855, "comment_id": 60862748, "body": "as @dlamblin  mention below bash -c means logout? I tried this one and its working..."}, {"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "edited": false, "score": 0, "creation_date": 1460667658, "post_id": 36631855, "comment_id": 60863004, "body": "You can refer to the bash man page about what -l and -c means. I think it means &quot;here&#39;s a command string.&quot; You should also read the first part of the man perlop I/O operators page about why the backticks weren&#39;t working for you: <a href=\"http://perldoc.perl.org/perlop.html#I%2fO-Operators\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlop.html#I%2fO-Operators</a>"}, {"owner": {"reputation": 23, "user_id": 6205842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc3d323c8e5db5a7554f6d6f365824a?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6205842/yog"}, "edited": false, "score": 0, "creation_date": 1460668247, "post_id": 36631855, "comment_id": 60863281, "body": "Thanks all..I guess i have got whatever I want"}], "answers": [{"comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1460663306, "post_id": 36632398, "comment_id": 60860516, "body": "Changing the assignment to <code>my $var = &quot;bash -l&quot;;</code> (single or double quotes work the same in this context) let&#39;s it work correctly.  The <code>system</code> function runs the process with standard input, output, error all connected to Perl&#39;s standard channels, and the shell works sensibly as an interactive shell."}, {"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1460665818, "post_id": 36632398, "comment_id": 60861992, "body": "@JonathanLeffler right; I&#39;ll update that in my answer; I got tripped up by the visual similarity to this exiting but leaving the processes forked hanging in the background, which isn&#39;t the case."}, {"owner": {"reputation": 23, "user_id": 6205842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc3d323c8e5db5a7554f6d6f365824a?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6205842/yog"}, "edited": false, "score": 0, "creation_date": 1460667251, "post_id": 36632398, "comment_id": 60862800, "body": "thanks for reply ...Can i write this way system(&quot;bash - l&quot;, &quot;-c&quot;, &quot;echo Hello World!&quot;);"}, {"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "reply_to_user": {"reputation": 23, "user_id": 6205842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc3d323c8e5db5a7554f6d6f365824a?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6205842/yog"}, "edited": false, "score": 0, "creation_date": 1460668641, "post_id": 36632398, "comment_id": 60863451, "body": "@Yog Easily tried by executing <code>perl -e &#39;system(&quot;bash -l&quot;, &quot;-c&quot;, &quot;echo HW!&quot;);print &quot;\\n\\tDone!!\\n&quot;;&#39;</code> You&#39;ll find it doesn&#39;t run correctly in the fork. Also <code>-l</code> and <code>-c</code> seem to be exclusive so you can&#39;t just list it on it&#39;s own in there. It seems like maybe you want to have bash running but be using perl to filter the user&#39;s input or output to bash? There&#39;s a module that might help make that a little easier: <a href=\"https://metacpan.org/pod/IPC::Run\" rel=\"nofollow noreferrer\">metacpan.org/pod/IPC::Run</a>"}, {"owner": {"reputation": 23, "user_id": 6205842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc3d323c8e5db5a7554f6d6f365824a?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6205842/yog"}, "edited": false, "score": 0, "creation_date": 1460668643, "post_id": 36632398, "comment_id": 60863452, "body": "@dlamblin Yes you are right .I wanted to see output on console after executing bash command in perl. I did not know about logout using -c as I am new to perl scripting."}, {"owner": {"reputation": 23, "user_id": 6205842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc3d323c8e5db5a7554f6d6f365824a?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6205842/yog"}, "edited": false, "score": 0, "creation_date": 1460668808, "post_id": 36632398, "comment_id": 60863534, "body": "But here problem is I did logout immediately but commands after bash should be execute in newly created bash instance and i am doing like that system(&quot;bash -l&quot; &quot;c&#39;); other commands ....."}, {"owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "reply_to_user": {"reputation": 23, "user_id": 6205842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc3d323c8e5db5a7554f6d6f365824a?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6205842/yog"}, "edited": false, "score": 0, "creation_date": 1460671182, "post_id": 36632398, "comment_id": 60864646, "body": "@Yog I&#39;m sorry but I&#39;ve lost track of what you want to do overall. I think you want bash to start, but after you exit it, for it to stay as process and for the subsequent perl commands to affect it? This gets tricky and has limited benefits over just either writing a 100% bash script that does everything, or a perl script that does it all. Specifically though, what &quot;it&quot; is is not obvious to me."}, {"owner": {"reputation": 23, "user_id": 6205842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc3d323c8e5db5a7554f6d6f365824a?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6205842/yog"}, "edited": false, "score": 0, "creation_date": 1460671763, "post_id": 36632398, "comment_id": 60864898, "body": "@dlamblin ok sorry about that I failed to explain you properly, Ok let me try on more time.So I have a perl script and I wants to create bash instance and then I wants to execute other commands/statements after creating bash instance for eg: system(&quot;----&quot;);print &quot;Done!&quot;; etc and then I only wants to see output on my console what ever commands executed after creating bash instance.I hope you understood my question now?here the problem is I can not see any output on my console."}, {"owner": {"reputation": 23, "user_id": 6205842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc3d323c8e5db5a7554f6d6f365824a?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6205842/yog"}, "edited": false, "score": 0, "creation_date": 1460672045, "post_id": 36632398, "comment_id": 60864991, "body": "@you can refer this code :                                                               #i!/usr/bin/perl system(&quot;bash -l&quot;); print &quot;Done 1!..&quot;; print &quot;Done...&quot;;"}], "tags": [], "owner": {"reputation": 40406, "user_id": 459, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db193fbf6f0929c49dd9704698204ff?s=128&d=identicon&r=PG", "display_name": "dlamblin", "link": "https://stackoverflow.com/users/459/dlamblin"}, "is_accepted": true, "score": 3, "last_activity_date": 1460667295, "last_edit_date": 1460667295, "creation_date": 1460662605, "answer_id": 36632398, "question_id": 36631855, "link": "https://stackoverflow.com/questions/36631855/can-we-create-bash-instance-in-perl-script/36632398#36632398", "title": "Can we create bash instance in perl script?", "body": "<p>Bash's <code>-l</code> argument is convincing it to stay interactive. Running:</p>\n\n<pre><code>perl -e 'print `bash -l`'\n</code></pre>\n\n<p>On its own has the bash process bound to stdin interactively, but the subprocess's output is captured by perl and printed later when bash exits, which it will only do when you press <kbd>Control</kbd><kbd>D</kbd>, issue <code>exit</code> or <code>logout</code> etc.</p>\n\n<p>You probably wanted to start with <code>$var = 'bash -l';</code>. That will start bash interactively at first, and when you exit, will continue the remainder of the program. To me it's unusual to <em>want</em> to do this and I expect you should write something for bash that exits normally, probably with the <code>-c</code> argument.</p>\n\n<p>Replacing your first two lines of code with:</p>\n\n<pre><code> system(\"bash\", \"-c\", \"echo Hello World!\");\n</code></pre>\n\n<p>accomplishes this and the remainder of the program executes normally. I'm unsure what you wanted bash to do for you however. These example cases would be better accomplished with just<br>\n<code>system(\"echo\", \"Hello World!\")</code> or <code>print \"Hello World!\"</code>.</p>\n"}], "owner": {"reputation": 23, "user_id": 6205842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bc3d323c8e5db5a7554f6d6f365824a?s=128&d=identicon&r=PG&f=1", "display_name": "Yog", "link": "https://stackoverflow.com/users/6205842/yog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 36632398, "answer_count": 1, "score": 2, "last_activity_date": 1460694454, "creation_date": 1460660787, "last_edit_date": 1460694454, "question_id": 36631855, "link": "https://stackoverflow.com/questions/36631855/can-we-create-bash-instance-in-perl-script", "title": "Can we create bash instance in perl script?", "body": "<p>I am trying to use Perl to create a process running bash and then create a file <code>sample.txt</code>, but after the bash command I can't see any output on the console or any <code>sample.txt</code> file in the same directory structure. Can somebody help me to fix following code?</p>\n\n<pre><code>my $var = `bash -l`;\nsystem($var);\nprint \"Done!\";\n\nmy $filename = 'sample.txt';\nopen(my $fh, '&gt;', $filename) or die \"Could not open file '$filename' $!\";\nchmod(0777, \"sample.txt\");\nprint $fh \"hello\";\nclose $fh;\nprint \"Done 1!..\";\n</code></pre>\n"}, {"tags": ["python", "perl", "file-processing", "bigdata"], "comments": [{"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 1, "creation_date": 1460657492, "post_id": 36630739, "comment_id": 60857056, "body": "How do you &#39;split into 5000 sub-files <i>based on a column</i>&#39;?"}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1460657567, "post_id": 36630739, "comment_id": 60857099, "body": "Here is a small example: <code>for i in {1..1000}; do echo &quot;$i       ROW${i}&quot;; done | sort -t $&#39;\\t&#39; -n -k1 -r | split -l 500</code> you should be able to extrapolate a solution from this."}, {"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1460657593, "post_id": 36630739, "comment_id": 60857124, "body": "<code>man sort</code> and <code>man split</code> will be your friends"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 8, "creation_date": 1460657813, "post_id": 36630739, "comment_id": 60857248, "body": "<code>sort</code> is not a good idea here"}, {"owner": {"reputation": 4651, "user_id": 860522, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vkbK1.jpg?s=128&g=1", "display_name": "OneSolitaryNoob", "link": "https://stackoverflow.com/users/860522/onesolitarynoob"}, "edited": false, "score": 0, "creation_date": 1460658505, "post_id": 36630739, "comment_id": 60857669, "body": "thanks hunter, the file is near 200GB,  too big to sort"}], "answers": [{"comments": [{"owner": {"reputation": 4651, "user_id": 860522, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vkbK1.jpg?s=128&g=1", "display_name": "OneSolitaryNoob", "link": "https://stackoverflow.com/users/860522/onesolitarynoob"}, "edited": false, "score": 0, "creation_date": 1460658182, "post_id": 36630983, "comment_id": 60857466, "body": "thanks my files aren&#39;t sorted though,  so would be better if more are open than one?"}, {"owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "reply_to_user": {"reputation": 4651, "user_id": 860522, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vkbK1.jpg?s=128&g=1", "display_name": "OneSolitaryNoob", "link": "https://stackoverflow.com/users/860522/onesolitarynoob"}, "edited": false, "score": 0, "creation_date": 1460658499, "post_id": 36630983, "comment_id": 60857664, "body": "You can remove the close block altogether if you split your original file into chunks.  <code>awk</code> can handle thousands of open files."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 3, "creation_date": 1460658610, "post_id": 36630983, "comment_id": 60857725, "body": "But you may hit the OS limit on number of open files."}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 2, "last_activity_date": 1460658018, "creation_date": 1460658018, "answer_id": 36630983, "question_id": 36630739, "link": "https://stackoverflow.com/questions/36630739/split-10-billion-line-file-into-5-000-files-by-column-value-in-perl-or-python/36630983#36630983", "title": "split 10 billion line file into 5,000 files by column value in Perl or Python", "body": "<p><code>awk</code> to the rescue!</p>\n\n<pre><code>awk 'f!=$1{close(f)} {f=$1; print &gt;&gt; f}' file\n</code></pre>\n\n<p>it will process row by row, will keep one file open at a time.</p>\n\n<p>If you split the original file into chunks this can be done more efficiently in parallel and merge back the generated files (need to mark them if order need to be preserved)</p>\n"}, {"comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1460667757, "post_id": 36631145, "comment_id": 60863054, "body": "I think your first suggestion is the good one for the general case (more files than the maximum limit you can open at the same time), the second with multiple passes will probably take more time (I think). About the first approach, I suggest that instead of closing a random one of the one that hasn&#39;t been used the longest, to fix a limit of opened files and to store all other records in a buffer with a fixed size. Once this fixed size is reached, you close all files stored in your hash and you open all the files you can from the record buffer."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1460673491, "post_id": 36631145, "comment_id": 60865485, "body": "Interesting, but why will that be better?"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1460674356, "post_id": 36631145, "comment_id": 60865787, "body": "Because you can use this buffer to find the best candidates for the next set of filehandlers."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "reply_to_user": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1461147524, "post_id": 36631145, "comment_id": 61063386, "body": "This may still be suboptimal, It really depends on the input data."}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1463561392, "post_id": 36631145, "comment_id": 62112598, "body": "Thanks Rob. (Doesn&#39;t SO have personal messages?)"}], "tags": [], "owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "is_accepted": false, "score": 2, "last_activity_date": 1460658463, "creation_date": 1460658463, "answer_id": 36631145, "question_id": 36630739, "link": "https://stackoverflow.com/questions/36630739/split-10-billion-line-file-into-5-000-files-by-column-value-in-perl-or-python/36631145#36631145", "title": "split 10 billion line file into 5,000 files by column value in Perl or Python", "body": "<p>You can keep a hash (an associative array) mapping column values to open output file handles, and open an output file only if none is open for that column value yet.</p>\n\n<p>This will be good enough unless you'll hit your limit on maximum number of open files. (Use <code>ulimit -Hn</code> to see it in <code>bash</code>.) If you do, either you need to close file handles (e.g. a random one, or the one that hasn't been used the longest, which is easy to keep track of in another hash), or you need to do multiple passes across the input, processing only as many column values as you can open output files in one pass and skipping them in future passes.</p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1467555410, "last_edit_date": 1467555410, "creation_date": 1460697957, "answer_id": 36638846, "question_id": 36630739, "link": "https://stackoverflow.com/questions/36630739/split-10-billion-line-file-into-5-000-files-by-column-value-in-perl-or-python/36638846#36638846", "title": "split 10 billion line file into 5,000 files by column value in Perl or Python", "body": "<p>This program will do as you ask. It expects the input file as a parameter on the command line, and writes output files whose names are taken from the first column of the input file records</p>\n\n<p>It keeps a hash <code>%fh</code> of file handles and a parallel hash <code>%opened</code> of flags that indicate whether a given file has ever been opened before. A file is opened for append if it appear in the <code>%opened</code> hash, or for write if it has never been opened before. If the limit on open files is hit then a (random) selection of 1,000 file handles is closed. There is no point in keeping track of when each handle was last used and closing the most out of date handles: if the data in the input file is randomly ordered then every handle in the hash has the same chance of being the next to be used, alternatively if the data is already sorted then none of the file handles will ever be used again</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy %fh;\nmy %opened;\n\nwhile ( &lt;&gt; ) {\n\n    my ($tag) = split;\n\n    if ( not exists $fh{$tag} ) {\n\n        my $mode = $opened{$tag} ? '&gt;&gt;' : '&gt;';\n\n        while () {\n\n            eval {\n                open $fh{$tag}, $mode, $tag or die qq{Unable to open \"$tag\" for output: $!};\n            };\n\n            if ( not $@ ) {\n                $opened{$tag} = 1;\n                last;\n            }\n\n            die $@ unless $@ =~ /Too many open files/;\n\n            my $n;\n            for my $tag ( keys %fh ) {\n                my $fh = delete $fh{$tag};\n                close $fh or die $!;\n                last if ++$n &gt;= 1_000 or keys %fh == 0;\n            }\n        }\n    }\n\n    print { $fh{$tag} } $_;\n}\n\n\nclose $_ or die $! for values %fh;\n</code></pre>\n"}], "owner": {"reputation": 4651, "user_id": 860522, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vkbK1.jpg?s=128&g=1", "display_name": "OneSolitaryNoob", "link": "https://stackoverflow.com/users/860522/onesolitarynoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 36638846, "answer_count": 3, "score": 1, "last_activity_date": 1505963968, "creation_date": 1460657182, "last_edit_date": 1506102531, "question_id": 36630739, "link": "https://stackoverflow.com/questions/36630739/split-10-billion-line-file-into-5-000-files-by-column-value-in-perl-or-python", "title": "split 10 billion line file into 5,000 files by column value in Perl or Python", "body": "<p>I have a 10 billion line tab-delimited file that I want to split into 5,000 sub-files, based on a column (first column).    How can I do this efficiently in Perl or Python?</p>\n\n<p>This has been asked here before but all the approaches open a file for each row read, or they put all the data in memory.</p>\n"}, {"tags": ["perl", "time", "windows-7", "windows-7-x64", "dst"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1460657183, "post_id": 36630667, "comment_id": 60856869, "body": "What version of Perl are you running?"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1460657227, "post_id": 36630667, "comment_id": 60856894, "body": "I am running Perl v5.20.1"}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 2, "creation_date": 1460657576, "post_id": 36630667, "comment_id": 60857105, "body": "I don&#39;t get the same result on my machine; I get <code>01:59:59 - EST</code> and <code>02:00:00 - EST</code>. Also, perl is using system (libc) functions to determine timezones and when DST begins and ends. So I suspect the problem is in your system timezone database, not in perl."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 1, "creation_date": 1460657787, "post_id": 36630667, "comment_id": 60857236, "body": "In 2007 the US began observing DST starting on the second Sunday of March (before that it was the first Sunday of April). It looks like your system is mistakenly applying the new rules to years before they were put into effect."}, {"owner": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1460657956, "post_id": 36630667, "comment_id": 60857341, "body": "I&#39;m not sure if this deserves to be an answer; I&#39;ll make it one if asked."}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "reply_to_user": {"reputation": 185733, "user_id": 152948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194ef8f807c34a9d7aab0e11a8674768?s=128&d=identicon&r=PG", "display_name": "hobbs", "link": "https://stackoverflow.com/users/152948/hobbs"}, "edited": false, "score": 0, "creation_date": 1460658129, "post_id": 36630667, "comment_id": 60857429, "body": "@hobbs, Would that mean this is a bug that is part of the OS?  What are these libc functions and where do they come from?"}, {"owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "edited": false, "score": 0, "creation_date": 1460658311, "post_id": 36630667, "comment_id": 60857542, "body": "Just tested this on one of our Linux servers and it seems to work correctly there.  Looks like this may be a bug in Windows 7."}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1460658479, "post_id": 36630667, "comment_id": 60857649, "body": "I also get the correct <code>03&#47;12&#47;2000 01:59:59 - CET</code> and <code>03&#47;12&#47;2000 02:00:00 - CET</code>. I&#39;m running Ubuntu 14.04 and <code>ldd --version</code> shows me <code>ldd (Ubuntu EGLIBC 2.19-0ubuntu6.7) 2.19</code>. Try <code>ldd --version</code> to show the libc&#39;s version. Interesting observation of yours, though."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1460659385, "post_id": 36630667, "comment_id": 60858245, "body": "Using the DateTime library will work on any system. It has it&#39;s own time zone DB and conversion functions."}], "answers": [{"tags": [], "owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "is_accepted": true, "score": 3, "last_activity_date": 1461103870, "last_edit_date": 1592644375, "creation_date": 1461103505, "answer_id": 36730318, "question_id": 36630667, "link": "https://stackoverflow.com/questions/36630667/windows-7-daylight-savings-bug/36730318#36730318", "title": "Windows 7 daylight savings bug?", "body": "<p>I don't know the specifics of the Perl internals (nor do I feel like scouring through the source code), but bugs like this usually happen on Windows when using the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms724277.aspx\" rel=\"nofollow noreferrer\"><code>FileTimeToLocalFileTime</code></a> and <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms724490.aspx\" rel=\"nofollow noreferrer\"><code>LocalFileTimeToFileTime</code></a> Win32 functions.  These functions don't take the history of time zones into account, only the <em>current</em> rules.  The documentation explains what to do instead:</p>\n<blockquote>\n<p>To account for daylight saving time when converting a file time to a local time, use the following sequence of functions in place of using <code>FileTimeToLocalFileTime</code>:</p>\n<ol>\n<li>FileTimeToSystemTime</li>\n<li>SystemTimeToTzSpecificLocalTime</li>\n<li>SystemTimeToFileTime</li>\n</ol>\n</blockquote>\n<p>A similar sequence should be done for the inverse function, using <code>TzSpecificLocalTimeToSystemTime</code> for the middle step.</p>\n<p>It's likely that the version of Perl you're running is calling these functions as part of the Win32 implementation of the <code>localtime</code> and <code>timelocal</code> functions.  Based on the comments in the question that some couldn't reproduce your results, I'd guess that newer versions of Perl probably have been patched as described above.  If not, they should be.  (I'm sure someone more familiar with Perl internals could point out the specific code and bug report.)</p>\n"}], "owner": {"reputation": 7704, "user_id": 3964397, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/640272a326ae5f3cd89364b78f2108c9?s=128&d=identicon&r=PG", "display_name": "tjwrona1992", "link": "https://stackoverflow.com/users/3964397/tjwrona1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 36730318, "answer_count": 1, "score": 8, "last_activity_date": 1461103870, "creation_date": 1460656961, "last_edit_date": 1460658979, "question_id": 36630667, "link": "https://stackoverflow.com/questions/36630667/windows-7-daylight-savings-bug", "title": "Windows 7 daylight savings bug?", "body": "<p>I am trying to determine exactly when a daylight savings transition occurs in a Perl script using Perl's <code>localtime</code> function and printing the time zone using <code>strftime</code>.</p>\n\n<p>The strange thing is this seems to work fine for this year and other more recent years, but if I try and go back to the year 2000 for example, Perl seems to think the transition occurs on the wrong day!</p>\n\n<p><strong>According to Google, daylight savings started on April 2nd in the year 2000:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Gvtpn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Gvtpn.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>...but for some reason, the Perl code below seems to disagree:</strong></p>\n\n<pre><code>use POSIX qw(strftime);\nuse Time::Local;\n\n# 03/12/2000 01:59:59\n($year, $month, $day, $hour, $minute, $second) = (2000, 3, 12, 1, 59, 59);\n$epoch = timelocal($second, $minute, $hour, $day, $month - 1, $year);\n\n# Print the time\nprint strftime \"%m/%d/%Y %H:%M:%S - %Z\\n\", localtime($epoch);\n\n# 03/12/2000 02:00:00\n($year, $month, $day, $hour, $minute, $second) = (2000, 3, 12, 2, 0, 0);\n$epoch = timelocal($second, $minute, $hour, $day, $month - 1, $year);\n\n# Print the time\nprint strftime \"%m/%d/%Y %H:%M:%S - %Z\\n\", localtime($epoch);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>03/12/2000 01:59:59 - Eastern Standard Time\n03/12/2000 03:00:00 - Eastern Daylight Time\n</code></pre>\n\n<p>Why does Perl think that daylight savings time in the year 2000 started on March 12th when clearly this is incorrect?</p>\n\n<hr>\n\n<h2>EDIT:</h2>\n\n<p>After reading the comments below it looks like this may be an issue with the operating system and not Perl.  It looks like this may be a bug in Windows 7.</p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 301, "user_id": 5908886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-uYdJhbYiFlE/AAAAAAAAAAI/AAAAAAAANT8/Pd71JaSj2zk/photo.jpg?sz=128", "display_name": "SaltedPork", "link": "https://stackoverflow.com/users/5908886/saltedpork"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 0, "creation_date": 1460656924, "post_id": 36630591, "comment_id": 60856700, "body": "Counting the number of schools, shown in terminal."}, {"owner": {"reputation": 19681, "user_id": 936986, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/075f0ea7418371ace9bba5b901409ab1?s=128&d=identicon&r=PG", "display_name": "Oleg V. Volkov", "link": "https://stackoverflow.com/users/936986/oleg-v-volkov"}, "edited": false, "score": 0, "creation_date": 1460657514, "post_id": 36630591, "comment_id": 60857068, "body": "Remove <code>split</code>. You&#39;re using match here, not splitting. After that get groups you&#39;re interested in in <code>()</code>."}, {"owner": {"reputation": 1285, "user_id": 4227700, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/BKZJV.jpg?s=128&g=1", "display_name": "northsideknight", "link": "https://stackoverflow.com/users/4227700/northsideknight"}, "edited": false, "score": 0, "creation_date": 1460657583, "post_id": 36630591, "comment_id": 60857110, "body": "Are you literally just trying to get the count of schools?"}, {"owner": {"reputation": 301, "user_id": 5908886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-uYdJhbYiFlE/AAAAAAAAAAI/AAAAAAAANT8/Pd71JaSj2zk/photo.jpg?sz=128", "display_name": "SaltedPork", "link": "https://stackoverflow.com/users/5908886/saltedpork"}, "edited": false, "score": 0, "creation_date": 1460657723, "post_id": 36630591, "comment_id": 60857205, "body": "Counting the number of schools is just one of the tasks id like to do. I am using split."}, {"owner": {"reputation": 658, "user_id": 5543203, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/bdYF4.png?s=128&g=1", "display_name": "Henrik supports the community", "link": "https://stackoverflow.com/users/5543203/henrik-supports-the-community"}, "edited": false, "score": 0, "creation_date": 1460666456, "post_id": 36630591, "comment_id": 60862356, "body": "Many things are really unclear. What does one line in your input describe? What do you actually want in your hash? Do you have any idea of what split does (your usage suggests you don&#39;)?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1460666915, "post_id": 36630591, "comment_id": 60862611, "body": "We could really use a bit more sample data, some samples of headings, and more exact examples of what you&#39;re trying to figure out."}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1460666863, "creation_date": 1460666863, "answer_id": 36633687, "question_id": 36630591, "link": "https://stackoverflow.com/questions/36630591/perl-reading-file-into-a-hash-and-splitting-retrieving-information/36633687#36633687", "title": "Perl: reading file into a hash and splitting, retrieving information", "body": "<p>It's a bit unclear what you're after, but I will offer - you are doing things the hard way using a long regex to match the line. Also, for 'other things' it's quite hard to tell exactly what you have in mind. But <code>grep</code> is your friend, as it lets you specify search terms. </p>\n\n<p>Something like this will do the trick. I've used a simplistic example for counting entries matching a particular criterion. Of course, given you've only given us one row, this is a bit of a guess:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings; \nuse Data::Dumper;\n\nmy @entries; \nmy @keys = qw ( id thing state firstnum secondnum ); \n\nwhile ( &lt;DATA&gt; ) { \n   my %attributes = m/(\\w+) \"(\\w+)\"/g;\n   @attributes{@keys} = split;     \n   push @entries, \\%attributes; \n}\n\nprint Dumper \\@entries; \n\nprint \"count of things: \", scalar @entries, \"\\n\";\nprint \"There are \", (scalar grep { $_ -&gt; {state} eq \"state\" } @entries), \" things with a state of 'state'\\n\";\n\n__DATA__\n1        unknown    state   3204563 3207049 .   -   .   name \"gosford\"; school_name \"gosford\"; pupil_id \"P15240\"; transcript_id \"NM_001011874.1\"; tss_id \"TSS13146\";\n</code></pre>\n\n<p>I'll also point out - it's much better form to use lexical filehandles with 3 arg open. E.g.</p>\n\n<pre><code>open ( my $schools, '&lt;', 'schools.txt' ) or die $!; \nwhile ( &lt;$schools&gt; ) { \n     #etc.\n}\n</code></pre>\n\n<p>I'm using the special filehandle <code>__DATA__</code> for illustrative purposes. </p>\n"}], "owner": {"reputation": 301, "user_id": 5908886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-uYdJhbYiFlE/AAAAAAAAAAI/AAAAAAAANT8/Pd71JaSj2zk/photo.jpg?sz=128", "display_name": "SaltedPork", "link": "https://stackoverflow.com/users/5908886/saltedpork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 36633687, "answer_count": 1, "score": -3, "last_activity_date": 1460666863, "creation_date": 1460656717, "last_edit_date": 1460656799, "question_id": 36630591, "link": "https://stackoverflow.com/questions/36630591/perl-reading-file-into-a-hash-and-splitting-retrieving-information", "title": "Perl: reading file into a hash and splitting, retrieving information", "body": "<p>I have a file which has data like this:</p>\n\n<pre><code>1        unknown    state   3204563 3207049 .   -   .   name \"gosford\"; school_name \"gosford\"; pupil_id \"P15240\"; transcript_id \"NM_001011874.1\"; tss_id \"TSS13146\";\n</code></pre>\n\n<p>I want to read it line by line into a hash, and then split it with regular expressions. so that i can count the number of schools.]</p>\n\n<p>so far i have:</p>\n\n<pre><code>my$schools;\nopen (SCHOOLS, &lt;\"$schools) or die (Cannot open $schools\");\nwhile &lt;SCHOOLS&gt; {\nchomp;\nmy ($val, $key) = split /(^\\d)\\s+\\w+\\s+\\W+\\s+\\d+\\s+\\d+\\s+\\d+\\.\\s+\\+\\s+\\.\\s+.. and so on);\n}\n</code></pre>\n\n<p>How do I get the values I've split into the hash, and then manipulate them so produce some basic statistics?</p>\n"}]