[{"tags": ["perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1487191171, "post_id": 42259187, "comment_id": 71676879, "body": "Somewhat related: <a href=\"http://stackoverflow.com/q/232475\">Is it possible use or require a Perl script without executing its statements?</a>"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 3, "creation_date": 1487195252, "post_id": 42259187, "comment_id": 71679020, "body": "divide et impera...."}], "answers": [{"comments": [{"owner": {"reputation": 1182, "user_id": 2977601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a11daa74a8ea45d4fbdf062d1b4e945?s=128&d=identicon&r=PG&f=1", "display_name": "shikhanshu", "link": "https://stackoverflow.com/users/2977601/shikhanshu"}, "edited": false, "score": 0, "creation_date": 1487209923, "post_id": 42259585, "comment_id": 71684153, "body": "I agree wholeheartedly. But I am inheriting this code from somewhere. I usually code in Python (which has a nifty <b>main</b> attribute to recognize if a module is being imported or being run standalone). Thought there would be something like this in perl too."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 1182, "user_id": 2977601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a11daa74a8ea45d4fbdf062d1b4e945?s=128&d=identicon&r=PG&f=1", "display_name": "shikhanshu", "link": "https://stackoverflow.com/users/2977601/shikhanshu"}, "edited": false, "score": 2, "creation_date": 1487213335, "post_id": 42259585, "comment_id": 71685058, "body": "@shikhanshu There is: <code>caller</code>. See the question I linked under your question. But Tanktalus is right: you should work to modularize your code instead."}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "reply_to_user": {"reputation": 1182, "user_id": 2977601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a11daa74a8ea45d4fbdf062d1b4e945?s=128&d=identicon&r=PG&f=1", "display_name": "shikhanshu", "link": "https://stackoverflow.com/users/2977601/shikhanshu"}, "edited": false, "score": 1, "creation_date": 1487257227, "post_id": 42259585, "comment_id": 71711151, "body": "@shikhanshu It&#39;s called &quot;refactoring&quot; and will greatly simplify your life over the medium and long terms. And often has simplified my life over the short term as well."}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": true, "score": 11, "last_activity_date": 1487191173, "creation_date": 1487191173, "answer_id": 42259585, "question_id": 42259187, "link": "https://stackoverflow.com/questions/42259187/re-use-a-sub-from-a-perl-script-in-another-script/42259585#42259585", "title": "Re-use a sub from a perl script in another script", "body": "<p><code>require</code> will run the code.  So then you need A.pl to recognise the difference between being loaded and being called on the command line.  I think it can be done, but you're kind of missing the point.</p>\n\n<p>Instead, I highly recommend reversing everything.  Instead of having mammoth pl scripts, and no pm modules, reverse it and have tiny pl files whose sole function is to load module(s) and call into the function that encapsulates the functionality there.  And then it's trivial to add new modules to hold shared form or functionality.</p>\n"}], "owner": {"reputation": 1182, "user_id": 2977601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a11daa74a8ea45d4fbdf062d1b4e945?s=128&d=identicon&r=PG&f=1", "display_name": "shikhanshu", "link": "https://stackoverflow.com/users/2977601/shikhanshu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 42259585, "answer_count": 1, "score": 3, "last_activity_date": 1487191173, "creation_date": 1487189797, "question_id": 42259187, "link": "https://stackoverflow.com/questions/42259187/re-use-a-sub-from-a-perl-script-in-another-script", "title": "Re-use a sub from a perl script in another script", "body": "<p>I have two perl scripts. Both have no \"package\" keyword or anything. One has a sub (and plus some free floating code too) that I want to use in another script, without running the free floating code in the process.</p>\n\n<pre><code>A.pl\nsub my_sub {\n    # do something\n}\n\n# do something else\nmy_sub();\n# do something else\n</code></pre>\n\n<hr>\n\n<pre><code>B.pl\nrequire A.pl; # but load only the subs, don't run anything\nmy_sub();\n</code></pre>\n\n<p>Is this possible without having to separate out the sub in a separate .pm file and then loading it?</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1487185927, "post_id": 42257997, "comment_id": 71673980, "body": "Can you explain in more detail where your string comes from and why you&#39;re only trying to match the words with an even number of backslashes?"}], "answers": [{"comments": [{"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 1, "creation_date": 1487186556, "post_id": 42258173, "comment_id": 71674303, "body": "Quick explanation will be appreciated, thanks a lot. :)"}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 1, "creation_date": 1487186663, "post_id": 42258173, "comment_id": 71674366, "body": "Thanks a lot .. regex101 explains :)"}, {"owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "reply_to_user": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1487186870, "post_id": 42258173, "comment_id": 71674485, "body": "I&#39;ve also added detailed explanation in my answer."}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 3, "last_activity_date": 1487186851, "last_edit_date": 1487186851, "creation_date": 1487186069, "answer_id": 42258173, "question_id": 42257997, "link": "https://stackoverflow.com/questions/42257997/negate-multiple-words/42258173#42258173", "title": "Negate multiple words", "body": "<p>You can use this regex with a negative lookbehind:</p>\n\n<pre><code>(?&lt;!\\\\|{)(?:\\\\\\\\)*\\$(?:{\\$)?\\w*}?\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/oC0MFh/7\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n\n<p><strong>RegEx Description:</strong></p>\n\n<ul>\n<li><code>(?&lt;!\\\\|{)</code> - Negative lookahead to assert we don't have backslash or <code>{</code> as previous character</li>\n<li><code>(?:\\\\\\\\)*</code> - match 0 or more <strong>pairs</strong> of backslashes</li>\n<li><code>\\$</code> - Match a literal <code>$</code></li>\n<li><code>(?:{\\$)?</code> - Match <em>optional</em> <code>{</code> followed by <code>$</code></li>\n<li><code>\\w+</code> - Match 1 or more words</li>\n<li><code>}?</code>- Match <em>optional</em> closing <code>}</code></li>\n</ul>\n\n<hr>\n\n<p><strong>Update:</strong> If you want more precise matching (one that disallows <code>${$var3</code>) then use this advanced PCRE regex that uses <code>if-else-then</code> construct:</p>\n\n<pre><code>(?&lt;!\\\\|{)(?:\\\\\\\\)*\\$({\\$)?\\w+(?(1)})\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/oC0MFh/8\" rel=\"nofollow noreferrer\">RegEx Demo2</a></p>\n"}], "owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 0, "accepted_answer_id": 42258173, "answer_count": 1, "score": 5, "last_activity_date": 1487186851, "creation_date": 1487185447, "question_id": 42257997, "link": "https://stackoverflow.com/questions/42257997/negate-multiple-words", "title": "Negate multiple words", "body": "<p><strong>Test String:</strong></p>\n\n<pre><code>${$var1} bla ${$var2} bla ${$var2}\n\\${$var2} bla \\\\\\${$var2} bla $var1\n\\\\${$var1} bla \\\\${$var2} bla \\${$var2}\n\\\\\\{$var2} bla \\\\${$var2} bla \\${$var2}\n$var1 bla \\$var1 bla \\\\$var1 bla \\\\\\$var1\n\\$var1 bla \\\\$var1 bla \\\\\\$var1\n\\\\$var1 bla \\\\\\$var1 bla \\$var1 bla\n\\\\\\$var1 bla \\\\$var1 bla \\\\\\$var1\n</code></pre>\n\n<p><strong>Selection I'm looking for:</strong></p>\n\n<p>I'm looking for a regex to select only <code>${$varN}, \\\\${$varN}, $varN, \\\\$varN</code>\nwithout selecting <code>\\${$varN}, \\\\\\${$varN}, \\$varN, \\\\\\$varN</code></p>\n\n<p><strong>Regex I've tried:</strong>\n<code>(\\$\\{\\$\\w*\\})|(\\$\\w*)</code> but it selects all <code>${$varN}</code> and <code>$varN</code></p>\n"}, {"tags": ["perl", "templates", "mojolicious", "mojolicious-lite"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487176047, "post_id": 42254411, "comment_id": 71667495, "body": "What happens if you run this?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487177761, "post_id": 42254411, "comment_id": 71668747, "body": "Also there&#39;s a typo, you are missing a <code>&#39;</code>."}, {"owner": {"reputation": 57, "user_id": 6816866, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0c3ae36284be856f2bac5fb220cf5974?s=128&d=identicon&r=PG&f=1", "display_name": "Maresia", "link": "https://stackoverflow.com/users/6816866/maresia"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487182822, "post_id": 42254411, "comment_id": 71672116, "body": "bad arguments: expected filename or scalarref at /usr/local/lib64/perl5/HTML/Template/Pro.pm line 198. But how? Thats what I cant figured it out."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487192794, "post_id": 42254411, "comment_id": 71677738, "body": "Did you try adding the file extension?"}, {"owner": {"reputation": 57, "user_id": 6816866, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0c3ae36284be856f2bac5fb220cf5974?s=128&d=identicon&r=PG&f=1", "display_name": "Maresia", "link": "https://stackoverflow.com/users/6816866/maresia"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487193987, "post_id": 42254411, "comment_id": 71678364, "body": "as this? $c-&gt;render(template =&gt; &#39;display/index&#39;, format =&gt; &#39;tmpl&#39;, handler  =&gt; &#39;tmpl&#39;); - Yes, didn&#39;t work!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487194678, "post_id": 42254411, "comment_id": 71678711, "body": "No, I meant in the <code>template</code>. Try <code>display&#47;index.tmpl</code>."}, {"owner": {"reputation": 57, "user_id": 6816866, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0c3ae36284be856f2bac5fb220cf5974?s=128&d=identicon&r=PG&f=1", "display_name": "Maresia", "link": "https://stackoverflow.com/users/6816866/maresia"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1487264226, "post_id": 42254411, "comment_id": 71716868, "body": "That wouldn&#39;t make any difference, I tried before, Mojolicious::Lite, takes care of it without the extension, the module I am trying to use is where the issue is &quot;HTMLTemplateProRenderer&quot; I will contact the author since the documentation doesn&#39;t show any sample on how to do it like that."}], "answers": [{"tags": [], "owner": {"reputation": 2450, "user_id": 1186729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec301bbe6bfd4c849a29d715f6094745?s=128&d=identicon&r=PG", "display_name": "Denis Ibaev", "link": "https://stackoverflow.com/users/1186729/denis-ibaev"}, "is_accepted": false, "score": 1, "last_activity_date": 1487285357, "last_edit_date": 1487285357, "creation_date": 1487284700, "answer_id": 42286020, "question_id": 42254411, "link": "https://stackoverflow.com/questions/42254411/using-external-template-with-mojoliciouslite/42286020#42286020", "title": "Using external template with Mojolicious::Lite", "body": "<p>First, the template path must be in the format <code>&lt;name&gt;.&lt;format&gt;.&lt;handler&gt;</code>. So for <code>display/index</code> is <code>display/index.html.tmpl</code>.</p>\n\n<p>Second, a template search paths for <code>HTMLTemplateProRenderer</code> are <code>templates</code> and <code>templates/&lt;controller&gt;</code> relative to app home. And app home if used plugin config option <code>tmpl_opts =&gt; {use_home_template =&gt; 1}</code>. Or any path added to <code>app-&gt;renderer-&gt;paths</code>.</p>\n"}], "owner": {"reputation": 57, "user_id": 6816866, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0c3ae36284be856f2bac5fb220cf5974?s=128&d=identicon&r=PG&f=1", "display_name": "Maresia", "link": "https://stackoverflow.com/users/6816866/maresia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1487285357, "creation_date": 1487174791, "last_edit_date": 1487180170, "question_id": 42254411, "link": "https://stackoverflow.com/questions/42254411/using-external-template-with-mojoliciouslite", "title": "Using external template with Mojolicious::Lite", "body": "<p>trying to use the <code>HTMLTemplateProRenderer</code> plugin for\n<a href=\"https://metacpan.org/pod/Mojolicious::Lite\" rel=\"nofollow noreferrer\"><code>Mojolicious::Lite</code></a>\nso that I can use template files in the style of <code>HTML::Template</code>.</p>\n\n<p>The issue is that every example, even documentation, only shows the template file attached to the script. I need the template file to be in a different directory from the Perl code.</p>\n\n<p>Here is a sample of what I am trying to do.</p>\n\n<p>This works using <code>__DATA__</code>, but how could it work by using an external template file as this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse Mojolicious::Lite;\n\nplugin 'HTMLTemplateProRenderer';\n\n# Route leading to an action that renders a template\nget '/test' =&gt; sub {\n    my $c = shift;\n\n    $c-&gt;stash( one =&gt; 'This is result one' );\n\n    $c-&gt;render(\n        template =&gt; 'display/index',\n        two      =&gt; 'this is the second',\n        handler  =&gt; 'tmpl'\n    );\n};\n\napp-&gt;start;\n</code></pre>\n\n<p>The template file is <code>display/index.tmpl</code></p>\n\n<pre><code> &lt;html&gt;\n  &lt;head&gt;&lt;title&gt;Test Template&lt;/title&gt;\n   &lt;body&gt;\n     &lt;p&gt;Value ONE =  &lt;TMPL_VAR NAME=\"one\"&gt; &lt;/p&gt;\n     &lt;p&gt;Value TWO =  &lt;TMPL_VAR NAME=\"two\"&gt; &lt;/p&gt;\n   &lt;/body&gt;\n &lt;/html&gt;\n</code></pre>\n"}, {"tags": ["linux", "perl", "flock", "fcntl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1487172039, "post_id": 42253045, "comment_id": 71664275, "body": "I don&#39;t know, but <code>flock($fd,6)</code> shows that the file is locked."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1487174190, "post_id": 42253045, "comment_id": 71665972, "body": "Isn&#39;t this exactly what the <a href=\"https://metacpan.org/pod/File::FcntlLock#F_GETLK\" rel=\"nofollow noreferrer\">docs</a> say you get with <code>F_GETLK</code>? &quot;With <code>F_GETLK</code> the <code>lock()</code> method determines if and which process currently is holding the lock. If there&#39;s no other lock the <code>l_type</code> property will be set to <code>F_UNLCK</code>.&quot;"}, {"owner": {"reputation": 1079, "user_id": 112335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a53edef395e43b93f8b0f7d662b72ca3?s=128&d=identicon&r=PG", "display_name": "Saulo Silva", "link": "https://stackoverflow.com/users/112335/saulo-silva"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1487177785, "post_id": 42253045, "comment_id": 71668766, "body": "@ThisSuitIsBlackNot Correct. I believe you misread my question. The Perl code is not supposed to lock."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 5, "creation_date": 1487178375, "post_id": 42253045, "comment_id": 71669244, "body": "But why wouldn&#39;t it lock? <code>flock</code> is not the same as <code>fcntl</code>. See <a href=\"http://man.he.net/man2/flock\" rel=\"nofollow noreferrer\">man(2) flock</a>: &quot;Since  kernel  2.0,  flock() is implemented as a system call in its own right rather than being emulated in the GNU C  library  as  a  call  to fcntl(2).   This  yields  true  BSD  semantics: there is no interaction between the types of lock placed by flock() and fcntl(2)...&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 2, "creation_date": 1487179137, "post_id": 42253045, "comment_id": 71669772, "body": "See also: <a href=\"http://stackoverflow.com/q/29611352/2404501\">What is the difference between locking with <code>fcntl</code> and <code>flock</code></a>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1487179422, "post_id": 42253045, "comment_id": 71669980, "body": "@ThisSuitIsBlackNot: I think you should publish that as an answer."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487181743, "post_id": 42253045, "comment_id": 71671470, "body": "@Borodin I felt like I might be misunderstanding what the OP wanted, so I was waiting for them to clarify. But now Wumpus Q. Wumbley has written a nice, thorough answer."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1487181885, "post_id": 42253045, "comment_id": 71671548, "body": "Related: <a href=\"http://0pointer.de/blog/projects/locking.html\" rel=\"nofollow noreferrer\">On the Brokenness of File Locking</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "edited": false, "score": 4, "creation_date": 1487182100, "post_id": 42253045, "comment_id": 71671669, "body": "I was torn between writing the answer and asking for the underlying reason for the question. If the purpose was to synchronize some perl scripts and the shell script was just a test, then the easier answer is: quit using a shell script to test this."}], "answers": [{"comments": [{"owner": {"reputation": 1079, "user_id": 112335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a53edef395e43b93f8b0f7d662b72ca3?s=128&d=identicon&r=PG", "display_name": "Saulo Silva", "link": "https://stackoverflow.com/users/112335/saulo-silva"}, "edited": false, "score": 1, "creation_date": 1487184081, "post_id": 42256561, "comment_id": 71672891, "body": "Thanks for the thorough answer. I decided to rewrite the shell script in Perl/<code>File::FcntlLock</code>, as it was only used for testing."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "is_accepted": true, "score": 6, "last_activity_date": 1487181254, "last_edit_date": 1495541355, "creation_date": 1487180666, "answer_id": 42256561, "question_id": 42253045, "link": "https://stackoverflow.com/questions/42253045/why-is-filefcntllocks-l-type-always-f-unlck-even-if-the-file-is-locked/42256561#42256561", "title": "Why is File::FcntlLock&#39;s l_type always &quot;F_UNLCK&quot; even if the file is locked?", "body": "<p><code>fcntl</code> and <code>flock</code> locks are invisible to each other.</p>\n\n<p>This is a big problem for your use case because the <code>flock</code> utility that you're using in your shell script depends on <code>flock</code> semantics: the shell script runs a <code>flock</code> child process, which locks an inherited file descriptor and then exits. The shell keeps that file descriptor open (because the redirection is on a whole sequence of commands) until it wants to release the lock.</p>\n\n<p>That plan can't work with <code>fcntl</code> because <code>fcntl</code> locks are not shared among processes. If there was a utility identical to <code>flock</code> but using <code>fcntl</code>, the lock would be released too early (as soon as the child process exits).</p>\n\n<p>For coordination of a file lock between a perl process and a shell script, some options you can consider are:</p>\n\n<ul>\n<li>port the shell script to <code>zsh</code> and use the <code>zsystem flock</code> builtin from the <code>zsh/system</code> module (note: in the documentation it claims to use <code>fcntl</code> in spite of its name being <code>flock</code>)</li>\n<li>rewrite the shell script in perl</li>\n<li>just use flock in the perl script (give up byte range locking and the \"get locker PID\" feature - but you can emulate that on Linux by reading <code>/proc/locks</code>)</li>\n<li>write your own <code>fcntl</code> utility in C for use in the shell script (the usage pattern will be different - the shell script will have to background it and then kill it later to unlock - and it will need some way to tell the parent process when it has obtained or failed to obtain the lock, which will be hard because it's happening asynchronously now... maybe use the <em>coprocess</em> feature that some shells have).</li>\n<li>run a small perl script from the shell script to do the locking (will need the same background treatment that a dedicated <code>fcntl</code> utility would need)</li>\n</ul>\n\n<p>For more information on features of the different kinds of locks, see <a href=\"https://stackoverflow.com/q/29611352/2404501\">What is the difference between locking with <code>fcntl</code> and <code>flock</code></a>.</p>\n"}], "owner": {"reputation": 1079, "user_id": 112335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a53edef395e43b93f8b0f7d662b72ca3?s=128&d=identicon&r=PG", "display_name": "Saulo Silva", "link": "https://stackoverflow.com/users/112335/saulo-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 1, "accepted_answer_id": 42256561, "answer_count": 1, "score": 4, "last_activity_date": 1487181254, "creation_date": 1487171224, "last_edit_date": 1487171873, "question_id": 42253045, "link": "https://stackoverflow.com/questions/42253045/why-is-filefcntllocks-l-type-always-f-unlck-even-if-the-file-is-locked", "title": "Why is File::FcntlLock&#39;s l_type always &quot;F_UNLCK&quot; even if the file is locked?", "body": "<p>The Perl subroutine below uses <code>File::FcntlLock</code> to check if a file is locked.</p>\n\n<p>Why does it return <code>0</code> and print <code>/tmp/test.pid is unlocked.</code> even if the file is locked?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub getPidOwningLock {\n    my $filename = shift;\n\n    my $fs = new File::FcntlLock;\n    $fs-&gt;l_type( F_WRLCK );\n    $fs-&gt;l_whence( SEEK_SET );\n    $fs-&gt;l_start( 0 );\n    $fs-&gt;l_len( 0 );\n\n    my $fd;\n    if (!open($fd, '+&lt;', $filename)) {\n        print \"Could not open $filename\\n\";\n        return -1;\n    }\n\n    if (!$fs-&gt;lock($fd, F_GETLK)) {\n        print \"Could not get lock information on $filename, error: $fs-&gt;error\\n\";\n        close($fd);\n        return -1;\n    }\n\n    close($fd);\n\n    if ($fs-&gt;l_type() == F_UNLCK) {\n        print \"$filename is unlocked.\\n\";\n        return 0;\n    }\n\n    return $fs-&gt;l_pid();\n}\n</code></pre>\n\n<p>The file is locked as follows (lock.sh):</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>#!/bin/sh\n(\n    flock -n 200\n    while true; do sleep 1; done\n) 200&gt;/tmp/test.pid\n</code></pre>\n\n<p>The file is indeed locked:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>~$ ./lock.sh &amp;\n[2] 16803\n~$ lsof /tmp/test.pid\nCOMMAND   PID  USER   FD   TYPE DEVICE SIZE/OFF   NODE NAME\nbash    26002 admin  200w   REG    8,5        0 584649 test.pid\nsleep   26432 admin  200w   REG    8,5        0 584649 test.pid\n</code></pre>\n"}, {"tags": ["bash", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1487194253, "post_id": 42252801, "comment_id": 71678500, "body": "See also <a href=\"http://unix.stackexchange.com/q/213799/45537\">Can bash write to its own input stream?</a>"}, {"owner": {"reputation": 2544, "user_id": 5783481, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/y9vRE.png?s=128&g=1", "display_name": "Moshe", "link": "https://stackoverflow.com/users/5783481/moshe"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1487236310, "post_id": 42252801, "comment_id": 71695095, "body": "@H&#229;konH&#230;gland That&#39;s awesome thanks. But I didn&#39;t understand from it how to eliminate the first output of the string."}, {"owner": {"reputation": 2544, "user_id": 5783481, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/y9vRE.png?s=128&g=1", "display_name": "Moshe", "link": "https://stackoverflow.com/users/5783481/moshe"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1487236348, "post_id": 42252801, "comment_id": 71695135, "body": "@H&#229;konH&#230;gland the bash option is also not good because it displays a warning:  <code>bind: warning: line editing not enabled</code>"}, {"owner": {"reputation": 2439, "user_id": 3398351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73ce0c654576c489f851734a9a77462e?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/3398351/dave"}, "edited": false, "score": 0, "creation_date": 1602724211, "post_id": 42252801, "comment_id": 113813665, "body": "I know this is really old, but the output IS NOT being sent to stdout, it is being &quot;typed&quot; to the terminal before the prompt is displayed, then re-displayed by bash (specifically readline). Wrap the perl command with <code>stty -echo; &lt;magic&gt;; stty echo</code> and it behaves."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 2, "last_activity_date": 1487249599, "creation_date": 1487249599, "answer_id": 42274545, "question_id": 42252801, "link": "https://stackoverflow.com/questions/42252801/pasting-text-to-terminal/42274545#42274545", "title": "Pasting text to terminal", "body": "<p>Seems like the output to the terminal is somehow related to whether the prompt has returned or not when <code>\u00ecoctl</code> is executed. For example, the following works as expected:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $pid = fork();\nif ( $pid == 0 ) {\n    sleep 1;\n    my $cmd = \"ls\";\n    # 0x5412 = TIOCSTI, see c include file: &lt;asm-generic/ioctls.h&gt;\n    ioctl STDOUT, 0x5412, $_ for split //, $cmd;\n}\n</code></pre>\n\n<p>If I remove the <code>sleep 1</code>, it does not work ( since then there is not enough time for the prompt to return ).</p>\n"}], "owner": {"reputation": 2544, "user_id": 5783481, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/y9vRE.png?s=128&g=1", "display_name": "Moshe", "link": "https://stackoverflow.com/users/5783481/moshe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 1, "accepted_answer_id": 42274545, "answer_count": 1, "score": 3, "last_activity_date": 1487249599, "creation_date": 1487170605, "last_edit_date": 1487172296, "question_id": 42252801, "link": "https://stackoverflow.com/questions/42252801/pasting-text-to-terminal", "title": "Pasting text to terminal", "body": "<p>I have this small function:</p>\n\n<pre><code>writecmd () {\n  perl -e 'ioctl STDOUT, 0x5412, $_ for split //, do{ chomp($_ = &lt;&gt;); $_ }' ;\n}\n</code></pre>\n\n<p>It prints the text I give it to the STDOUT, and prints it also to the command line buffer.</p>\n\n<p>For example:</p>\n\n<pre><code>[root]$ echo \"text\" | perl -e 'ioctl STDOUT, 0x5412, $_ for split //, do{ chomp($_ = &lt;&gt;); $_ }' ;\ntext[root]$ text\n</code></pre>\n\n<p>How can I make it not output the text to STDOUT but only to the cli buffer?</p>\n\n<p>Or more specifically, I use it to print a variable, and after that I use <code>read</code> to allow users to change that variable while editing it in place instead of writing it all over again.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1487162935, "last_edit_date": 1487162935, "creation_date": 1487161672, "answer_id": 42249437, "question_id": 42249185, "link": "https://stackoverflow.com/questions/42249185/how-to-generalize-the-pattern-matching-search-from-a-file-using-range-operator-i/42249437#42249437", "title": "How to generalize the pattern matching search from a file using range operator in Perl", "body": "<p>It's easy. Open the file on entering the instance, use the counter as part of the name.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;    \n\nmy $kw1 = 'Session Initiation Protocol (REGISTER)';\nmy $kw2 = 'CSeq: 3 REGISTER';\n\nmy $instance_counter;\nmy $out;\nwhile (&lt;DATA&gt;) {\n    if (my $match = (/\\Q$kw1/ .. /\\Q$kw2/)) {\n        if (1 == $match) {\n            ++$instance_counter;\n            undef $out;\n            open $out, '&gt;', \"output_$instance_counter\" or die $!;\n        }\n\n        print {$out} $_;\n    }\n}\nundef $out;\n\n__DATA__\n...\nSession Initiation Protocol (REGISTER)\n1\n2\nCSeq: 3 REGISTER\n...\nSession Initiation Protocol (REGISTER)\na\nb\nc\nd\nCSeq: 3 REGISTER\n...\nSession Initiation Protocol (REGISTER)\nX\nY\nZ\nCSeq: 3 REGISTER\n...\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 42249437, "answer_count": 1, "score": 0, "last_activity_date": 1487162935, "creation_date": 1487161026, "question_id": 42249185, "link": "https://stackoverflow.com/questions/42249185/how-to-generalize-the-pattern-matching-search-from-a-file-using-range-operator-i", "title": "How to generalize the pattern matching search from a file using range operator in Perl", "body": "<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy $kw1 = 'Session Initiation Protocol (REGISTER)';\nmy $kw2 = 'CSeq: 3 REGISTER';\n\nmy $instance_counter;\nmy @first;\nmy @next;\nmy $myfile = \"Input.txt\";\nopen my $out_file1, '&gt;', 'hello1.txt' or die \"$!\";\nopen my $out_file2, '&gt;', 'hello2.txt' or die \"$!\";\nopen my $out_file3, '&gt;', 'hello3.txt' or die \"$!\";\n\nopen DATA, $myfile or die \"Can't open file: $!\";\n\nwhile (&lt;DATA&gt;) {\n    if (my $match = (/\\Q$kw1/ .. /\\Q$kw2/)) {\n        ++$instance_counter if 1 == $match;\n\n        if (1 == $instance_counter) {\n          print $out_file1 $_;\n        } \n        elsif (2 == $instance_counter){\n        print $out_file2 $_;\n        }\n        else {\n           print $out_file3 $_;\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p>My above program Is outputting the each pattern matching between $kw1 and $kw2 to a separate text file. Is there any Idea where I can generalize my search for such Instances (i.e. no of matching patterns) automatically and generating the output text files accordingly ?</p>\n"}, {"tags": ["windows", "perl", "system"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1487162627, "post_id": 42248771, "comment_id": 71657414, "body": "<i>&quot;when I try to rename the output of the main process&quot;</i> Do you mean the Perl process? What file is it that you&#39;re renaming? Is it the HTML or the XLSM file? Have you closed the output file before you try to rename it? Please show your code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487164055, "post_id": 42248771, "comment_id": 71658349, "body": "@Borodin No, the output of the process is a <code>.log</code> file which is created and filled with informations of errors that occured during execution. The code worked succesfully before, but after adding the code which opens the 2 files, it fails. Yes, I have closed the file and I will add the code if you think this will help."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1487164620, "post_id": 42248771, "comment_id": 71658712, "body": "What platform are you working on? The <code>system(1,...)</code> is for Windows only. Also, system file descriptors (usually stdin/out/err) are shared with your child processes, which is probably why you can&#39;t rename your output. You could try adjusting <a href=\"http://perldoc.perl.org/perlvar.html#%24%5eF\" rel=\"nofollow noreferrer\"><code>$^F</code></a>, though I&#39;m not sure that works on Windows platforms."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1487164729, "post_id": 42248771, "comment_id": 71658786, "body": "@jcaron I&#39;m on Windows. The <code>1</code> from <code>system(1,...)</code> I used it to launch the files in a non-blocking way."}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1487165003, "post_id": 42248771, "comment_id": 71658975, "body": "Actually, it seems that on Windows, all file descriptors are inherited, not just the &quot;system&quot; file descriptors. See the answer to this question: <a href=\"http://www.perlmonks.org/?node_id=574349\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=574349</a> (and the last line of the question) for a possible workaround."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487165036, "post_id": 42248771, "comment_id": 71658999, "body": "@asdf: Yes, please show your code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487165985, "post_id": 42248771, "comment_id": 71659694, "body": "@Borodin updated the question, but I can assure you that the problem isn&#39;t there."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1487169885, "post_id": 42248771, "comment_id": 71662535, "body": "@jcaron I documented on the file descriptors but didn&#39;t quite understood what&#39;s the actual problem that occurs. Basically the 3 file descriptors (<code>stdin</code>, <code>stdout</code> and <code>stderr</code>) are natively passed to the child process (default value of <code>$^F</code> is 2), but the other file descriptors are not. So does that mean that the child process creates a file descriptor (let&#39;s say with number 3) and since it&#39;s a non blocking <code>system</code>, the script execution continues andwhen I am trying to rename the file, I use the same file descriptor (number 3) which is in use by the child process?"}, {"owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1487173057, "post_id": 42248771, "comment_id": 71665072, "body": "That&#39;s the behaviour on Unix systems, but from what I understand, it&#39;s not the case on Windows systems where all file descriptors are passed to child processes, so on each invocation of <code>system</code> you create a new process that keeps the file open, which probably causes a problem to rename the file on Windows (it wouldn&#39;t be the case on Unix). You should probably check the actual error returned by rename. Options include closing the file(s) before the <code>system</code> call (and re-opening it afterwards) or setting the Windows equivalent of close-on-exec (see the page I linked to earlier)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1487182189, "post_id": 42248771, "comment_id": 71671717, "body": "I did it finally, apparently, the fact that I was using <code>system(1, file)</code> was not such a good idea, my assumption is that it was writing and in stream 1 which is <code>stdout</code> (in this case, my main process output and it kept it open). So I used <code>system(file &amp;)</code> and it worked like a charm. Sorry and thanks for all the effort. @jcaron"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1487183266, "post_id": 42248771, "comment_id": 71672359, "body": "<code>$?</code> is useless after <code>system 1</code> since the process hasn&#39;t ended yet."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1487183416, "post_id": 42248771, "comment_id": 71672451, "body": "Getting <code>Permission denied</code> from <code>rename</code> can mean that the file is currently opened."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1487229512, "post_id": 42248771, "comment_id": 71691072, "body": "@ikegami I understand that but the file handle on the file is closed and the file is not opened somewhere else. It must be something with the system call, because if I comment that line, everything works fine."}], "owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487165937, "creation_date": 1487159909, "last_edit_date": 1592644375, "question_id": 42248771, "link": "https://stackoverflow.com/questions/42248771/output-of-parent-process-blocked-by-child-process", "title": "Output of parent process blocked by child process", "body": "<p>I am opening two files in a non-blocking way by running <code>system(1, $file)</code> (one is a <code>.html</code>, the second is an <code>.xlsm</code>). The two files open properly, but after this step in my code, when I try to rename the output of the main process, it fails. I read <a href=\"https://stackoverflow.com/questions/33897314/why-is-output-of-parent-process-blocked-by-child-process\">this</a> question and I assume that the same thing is happening in Perl.\n<br>In my attempt to debug the cause, I used this code for the child processes:</p>\n<pre><code>if ($? == -1) {\n    print &quot;failed to execute: $!\\n&quot;;\n}\nelsif ($? &amp; 127) {\n    printf &quot;child died with signal %d, %s coredump\\n&quot;,\n    ($? &amp; 127),  ($? &amp; 128) ? 'with' : 'without';\n}\nelse {\n    printf &quot;child exited with value %d\\n&quot;, $? &gt;&gt; 8;\n}\n</code></pre>\n<p>Which is returning the following output:<br></p>\n<pre><code>child died with signal 12, without coredump\nchild died with signal 56, with coredump\n</code></pre>\n<p>To rename the log file, I use:</p>\n<pre><code>my $file = 'path_to_file';\nmy $oldLogFile = $file;\n\nopen LOG, &quot;&lt;&quot;.$file or Error('005',$file,__PACKAGE__,$ERRNO);\nmy @log = &lt;LOG&gt;;\nclose LOG;\n\n# here i am parsing @log for errors and will set a variable $status acordingly\n\n$file =~ s/\\.log$/\\.$status/; #modify the extension from log to warn, err, ok\n# Error is a predefined function in one of my modules to format the error message\nrename ($oldLogFile,$file) or Error('001', &quot;rename&quot;, $file, __PACKAGE__, $ERRNO ); #rename the files with new extension\n</code></pre>\n<p>Update: The same behaviour is reproduce when using <code>Win32::Ole</code>.\nHow can I fix this?</p>\n"}, {"tags": ["perl", "memory", "binary", "filehandle"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1487163431, "post_id": 42246848, "comment_id": 71657951, "body": "Rather than using decimal numbers and commenting them <code>CA = 202, FE = 254</code> you should use <code>0xCA</code> and <code>0xFE</code>."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487163127, "post_id": 42247233, "comment_id": 71657756, "body": "Can you please explain why you chose <code>\\16536</code> as <code>$&#47;</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1487163263, "post_id": 42247233, "comment_id": 71657847, "body": "I would set <code>local $&#47; = \\5000</code> so that the &quot;specific bytes&quot; appear once in each chunk."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487166731, "post_id": 42247233, "comment_id": 71660205, "body": "@simbabque - because that&#39;s what the OP set as his read size. As Borodin notes 5000 is probably more sensible given the OPs use case."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1487166817, "post_id": 42247233, "comment_id": 71660272, "body": "Oh, so that&#39;s the number of bytes that should be read. I wasn&#39;t aware of that. I guess it&#39;s documented somewhere. Maybe you can add that too."}, {"owner": {"reputation": 67, "user_id": 7089962, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10154627420477790/picture?type=large", "display_name": "Deyan Levski", "link": "https://stackoverflow.com/users/7089962/deyan-levski"}, "edited": false, "score": 1, "creation_date": 1487239082, "post_id": 42247233, "comment_id": 71697177, "body": "As @Sobrique suggested the issue appeared to be in the way I was reading the file. I used your approach by setting local $/ = \\16536. 16536 is the amount of bytes that I read and check for the 0xCA 0xFE starting pattern. Thanks for all your help."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1487166969, "last_edit_date": 1487166969, "creation_date": 1487155822, "answer_id": 42247233, "question_id": 42246848, "link": "https://stackoverflow.com/questions/42246848/reading-a-binary-file-in-perl-running-out-of-memory/42247233#42247233", "title": "Reading a binary file in perl - running out of memory", "body": "<p>Well, first off - the thing that eats memory is things that are held in memory. Closing and opening a file handle doesn't make any difference, because writes will be flushed as needed. </p>\n\n<p>And I can't reproduce your problem, as I don't have a suitable sample file. </p>\n\n<p>However I think your problem is that you've got your <a href=\"http://perldoc.perl.org/functions/read.html\" rel=\"nofollow noreferrer\"><code>read</code></a> wrong:</p>\n\n<blockquote>\n  <p>An OFFSET may be specified to place the read data at some place in the string other than the beginning. A negative OFFSET specifies placement at that many characters counting backwards from the end of the string. A positive OFFSET greater than the length of SCALAR results in the string being padded to the required size with \"\\0\" bytes before the result of the read is appended.</p>\n</blockquote>\n\n<p>So... your 'last' read from the file, will create a string 500MB in length that's mostly null bytes. (it'll probably be bigger than 500MB of actual memory for various reasons)</p>\n\n<p>This would most simply be fixed simply by omitting the offset in your <code>read</code>. </p>\n\n<p>But failing that:</p>\n\n<p>So I would look closer at your variables - in particular, you're scoping them all outside your loop, and the means they <em>might</em> be being concatenated, rather than rewritten. </p>\n\n<p>I would also suggest that if you're iterating a file by the bytes, you can simplify greatly by setting <code>$/</code>. E.g.</p>\n\n<pre><code>local $/ = \\16536\n\nwhile ( my $buf = &lt;$input&gt; ) { \n\n}\n</code></pre>\n\n<p>From <a href=\"http://perldoc.perl.org/perlvar.html\" rel=\"nofollow noreferrer\"><code>perlvar</code></a></p>\n\n<blockquote>\n  <p>Setting $/ to a reference to an integer, scalar containing an integer, or scalar that's convertible to an integer will attempt to read records instead of lines, with the maximum record size being the referenced integer number of characters. </p>\n</blockquote>\n\n<p>(Or as noted in the comments - given your 'chunks' are 5000 bytes, then setting <code>local $/ = \\5000</code> would probably be sensible). </p>\n\n<p>And I'd also suggest - use 3 arg open, not 2 arg:</p>\n\n<pre><code>open ( my $input, '&lt;:raw', $fname ) or die $!; \n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 7089962, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10154627420477790/picture?type=large", "display_name": "Deyan Levski", "link": "https://stackoverflow.com/users/7089962/deyan-levski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 1, "accepted_answer_id": 42247233, "answer_count": 1, "score": 0, "last_activity_date": 1487166969, "creation_date": 1487154785, "question_id": 42246848, "link": "https://stackoverflow.com/questions/42246848/reading-a-binary-file-in-perl-running-out-of-memory", "title": "Reading a binary file in perl - running out of memory", "body": "<p>I want to read a large binary file (500MB) and fetch specific bytes located after a header which repeats every 5000 bytes. For that I have a short snippet reading the file in binary mode and block size of 16536.</p>\n\n<p>The code works as intended, but eats out all of the available memory which makes it unusable. I tried closing and opening the parsed output file I write to every time a write operation should be done, but that doesn't help. Could the issue be linked to the way I am reading the binary file?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>use strict;\n\nmy $BLOCK_SIZE=16536;\n\nmy $fname = $ARGV[0];\nmy $fparsename = $ARGV[1];\nopen(F,\"&lt;$fname\") or die(\"Unable to open file $fname, $!\");\nbinmode(F);\nmy $buf;\nmy $ct=0;\nmy $byte=0;\nmy $byte_old=0;\nmy $byte_cnt=0;\nmy $byte_lock=0;\nmy $sample_msb=0;\nmy $sample_lsb=0;\nmy $sample_16b=0;\nmy $out_form='';\n\nopen(my $fh, '&gt;', $fparsename) or die \"Could not open file '$fparsename' $!\";\nprint $fh (\"Sample, Value \\n\");\nclose($fh);\n\nwhile(read(F,$buf,$BLOCK_SIZE,$ct*$BLOCK_SIZE)){\n    foreach(split(//, $buf)){\n\n        $byte_old = $byte;\n        $byte = ord($_);    # fetch byte (in decimal)\n\n\n        if (($byte_old == 202) &amp;&amp; ($byte == 254)) { # CA = 202, FE = 254\n            $byte_cnt = 0;\n            $byte_lock = 1;\n        }\n\n        if ($byte_lock == 1) {\n            $byte_cnt++;\n        }\n\n        if ($byte_cnt == 20) {  # 20th byte after CAFE in header\n            $sample_msb = $byte;\n        }\n        if ($byte_cnt == 21) {  # 21th byte after CAFE in header\n            $sample_lsb = $byte;\n        }\n\n        if (($byte_cnt == 21) &amp;&amp; ($byte_lock == 1)) {   # lock down and concatenate\n            $byte_lock = 0;\n            $byte_cnt = 0;\n            $sample_16b = sprintf(\"%X\", $sample_msb) . sprintf(\"%X\", $sample_lsb);\n            $out_form = sprintf(\"%d, %s \\n\", $ct++, $sample_16b);\n\n            open(my $fh, '&gt;&gt;', $fparsename) or die \"Could not open file '$fparsename' $!\";\n            printf $fh $out_form;\n            close($fh);\n        }\n\n    }\n    $ct++;\n\n}\nclose(F);\nclose($fh);\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487150108, "post_id": 42245003, "comment_id": 71648378, "body": "What if there is more than one value behind the <code>key</code> key? Should the last one win?"}, {"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487150261, "post_id": 42245003, "comment_id": 71648478, "body": "Actually the problem is if my mistake there are 2 similar kind of entries added in the file i want to handle that condition .In a hash if the keys are same it overites with the new key . But here in Config::Genral module i am looking for that option how we can do that."}], "answers": [{"comments": [{"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1487151169, "post_id": 42245149, "comment_id": 71649120, "body": "this solution in fine but my doubt is there any way we can handle it from Config::Genral module"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1487152228, "post_id": 42245149, "comment_id": 71649903, "body": "@Developer that was rather easy to find in the documentation."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1487152215, "last_edit_date": 1487152215, "creation_date": 1487150285, "answer_id": 42245149, "question_id": 42245003, "link": "https://stackoverflow.com/questions/42245003/remove-duplicate-values-from-a-key-using-configgenral/42245149#42245149", "title": "Remove duplicate values from a Key using Config::Genral", "body": "<h2>Doing it with Config::General</h2>\n\n<p>To do this with Config::General directly, you want <a href=\"https://metacpan.org/pod/Config::General#-MergeDuplicateOptions\" rel=\"nofollow noreferrer\">the <code>-MergeDuplicateOptions</code> option</a>.</p>\n\n<blockquote>\n  <p>If set to a true value, then duplicate options will be merged. That means, if the same option occurs more than once, the last one will be used in the resulting config hash.</p>\n</blockquote>\n\n<h2>Doing it manually</h2>\n\n<p>If all you want is to replace the array with the last value of the array, you just need to iterate and replace.</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy %conf_data = (\n    'key'  =&gt; [ 'AMC', 'AMC' ],\n    'key1' =&gt; 'TEST1',\n    'key2' =&gt; 'TEST2',\n);\n\nforeach my $key (keys %conf_data) {\n    if ( ref $conf_data{$key} &amp;&amp; ref $conf_data{$key} eq 'ARRAY' ) {\n        $conf_data{$key} = $conf_data{$key}-&gt;[-1];\n    }\n}\n\nuse Data::Printer;\np %conf_data;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\n    key    \"AMC\",\n    key1   \"TEST1\",\n    key2   \"TEST2\"\n}\n</code></pre>\n\n<hr>\n\n<p>If you don't mind installing another module, you can also use <a href=\"https://metacpan.org/pod/Ref::Util\" rel=\"nofollow noreferrer\">Ref::Util</a> to do this. It's written in XS and is very fast. If you're interested in how that works under the hood, here's a talk SawyerX gave about it <a href=\"https://www.youtube.com/watch?v=s063VkNrNLU\" rel=\"nofollow noreferrer\">at the German Perl Workshop 2016</a>, and again a few month later <a href=\"https://www.youtube.com/watch?v=gv-DCM9I8v0\" rel=\"nofollow noreferrer\">at YAPC::NA</a><sup>1</sup>.</p>\n\n<pre><code>use Ref::Util 'is_arrayref';\n\nforeach my $key (keys %conf_data) {\n    $conf_data{$key} = $conf_data{$key}-&gt;[-1]\n        if is_arrayref($conf_data{$key});\n}\n</code></pre>\n\n<hr>\n\n<p><sup>1) funny enough, he is wearing the same t-shirt in both</sup></p>\n"}], "owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 42245149, "answer_count": 1, "score": 0, "last_activity_date": 1487152215, "creation_date": 1487149843, "question_id": 42245003, "link": "https://stackoverflow.com/questions/42245003/remove-duplicate-values-from-a-key-using-configgenral", "title": "Remove duplicate values from a Key using Config::Genral", "body": "<p>Using Config::General Perl module script is loading data from a config file. But if there is duplicate entry in file , i am getting a hash key with array in value , but i want only key and value pair. Want to remove the duplicate values.</p>\n\n<pre><code>my $conf_data = new Config::General(-ConfigFile       =&gt; $hash{config_file},\n                                    -InterPolateEnv   =&gt; 1,\n                                    -UseApacheInclude =&gt; 1,\n                                    -IncludeRelative  =&gt; 1,\n                                  );\n\n  my %conf_data   = $conf_data-&gt;getall;\n</code></pre>\n\n<p>Below is the structure of hash i am getting : \n<strong>File Entry</strong></p>\n\n<pre><code>key = AMC\nkey = AMC\nkey1 = TEST1\nkey2 = TEST2\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre><code>'key' =&gt; [\n            'AMC',\n            'AMC'\n          ],\n'key1' =&gt; 'TEST1',\n'key2' =&gt; 'TEST2',\n</code></pre>\n\n<p>But i want to get this sctruture: </p>\n\n<pre><code>'key' =&gt; 'AMC',\n'key1' =&gt; 'TEST1',\n'key2' =&gt; 'TEST2',\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487149127, "post_id": 42244591, "comment_id": 71647694, "body": "I don&#39;t understand what you want to do. The <code>$3</code> in the last <code>if</code> is always <code>undef</code> because you don&#39;t have three capture groups and also because each <code>$word</code> has no slash <code>&#47;</code> in it. It can&#39;t because it got <code>split</code> on slash before. You should also get a warning that you are redefining a variable in a smaller scope. Why you want to use an array index? You are doing overly complicated stuff to get to your output."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7567583"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487149426, "post_id": 42244591, "comment_id": 71647888, "body": "i prefer array index so that i can easily remove the mid word from the array and process for the expected output@simbabque"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1487149510, "post_id": 42244591, "comment_id": 71647952, "body": "simbabque is correct. This is overly complicated and can be simplified to drop out the middle word."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7567583"}, "edited": false, "score": 0, "creation_date": 1487149764, "post_id": 42244591, "comment_id": 71648123, "body": "How can i simplify it.I had took it in array and also i need to convert colon to slashes.Can you please help me to simplify it@Gerry"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 1, "creation_date": 1487149852, "post_id": 42244591, "comment_id": 71648189, "body": "I was busy then simbabque posted answer :)"}, {"owner": {"reputation": 10389, "user_id": 317266, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b4f5deafa991b6d0f2b87ef20e9159fd?s=128&d=identicon&r=PG", "display_name": "Seki", "link": "https://stackoverflow.com/users/317266/seki"}, "edited": false, "score": 0, "creation_date": 1487149876, "post_id": 42244591, "comment_id": 71648210, "body": "you are building a long list of words in you <code>while</code> loop, not a list of concatenations of 3 words"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1487151044, "post_id": 42244591, "comment_id": 71649013, "body": "Quick, Dirty, Onetime,Oneliner: <code>perl -pE &#39;s{\\A([^:]+).*:([^:]*)\\z}{&#47;$1&#47;$2}&#39;  &lt; input &gt; output</code>"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1487149807, "post_id": 42244956, "comment_id": 71648152, "body": "Or <code>print join &#39;&#47;&#39;, @words[0,-1]</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1487149908, "post_id": 42244956, "comment_id": 71648232, "body": "@zdim yes, obviously. But that&#39;s not removing. ;)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1487149995, "post_id": 42244956, "comment_id": 71648288, "body": "Ah, yes, they explicitly ask to &quot;<i>remove</i>&quot;. Was just a comment, not critique of any kind :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1487150029, "post_id": 42244956, "comment_id": 71648316, "body": "I know @zdim. It&#39;s way more concise though and I&#39;d prefer yours too."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 1, "creation_date": 1487150096, "post_id": 42244956, "comment_id": 71648372, "body": "add the wanted leading <code>&#47;</code> to print"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7567583"}, "edited": false, "score": 0, "creation_date": 1487150797, "post_id": 42244956, "comment_id": 71648842, "body": "Great i had cleared with the mistake what i had done@simbabque"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1487152409, "last_edit_date": 1487152409, "creation_date": 1487149726, "answer_id": 42244956, "question_id": 42244591, "link": "https://stackoverflow.com/questions/42244591/how-to-remove-the-word-using-array-index-in-perl/42244956#42244956", "title": "How to remove the word using array index in perl?", "body": "<p>The easiest way to get rid of the middle element is to use <a href=\"http://perldoc.perl.org/functions/splice.html\" rel=\"nofollow noreferrer\"><code>splice</code></a>.</p>\n\n<pre><code>while ( my $line = &lt;DATA&gt; ) {\n    my @words;\n    push( @words, split( /:/, $line ) );    # colon has no special meaning\n    splice( @words, 1, 1 );\n    print '/', join( '/', @words );\n}\n\n__DATA__\nBOCK:top:blk1\nBOCK:block2:blk2\nBOCK:test:blk3\n</code></pre>\n\n<p>I assumed that you want to do that for every line. The code that you had did something else. Because your <code>@words</code> is declared outside of the <code>while</code> loop it gets bigger withe every iteration, and every third element contains a newline <code>\\n</code> character because you never <code>chomp</code>. Then you build create one long <code>$word</code> that has all the words from all lines joined with a slash <code>/</code>. Afterwards you try to match that for three words joined with slashes, which works. But you only have one capture group, so your <code>$3</code> is never defined.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1488003564, "last_edit_date": 1495535445, "creation_date": 1487150191, "answer_id": 42245110, "question_id": 42244591, "link": "https://stackoverflow.com/questions/42244591/how-to-remove-the-word-using-array-index-in-perl/42245110#42245110", "title": "How to remove the word using array index in perl?", "body": "<p>The code can be simplified and cleaned up, even to the point of</p>\n\n<pre><code>my @paths = map { '/' . join '/', (split ':')[0,-1] } &lt;$infile&gt;;\n\nprint \"$_\\n\" for @paths;\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\">map</a> imposes the <em>list context</em> on the filehandle read, which thus returns a list of all lines from the file. The code in <code>map</code>'s block is applied to each element: it <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a>s the line and takes the first and last element of that list, <a href=\"http://perldoc.perl.org/functions/join.html\" rel=\"nofollow noreferrer\">join</a>s them, and then prepends the leading <code>/</code>. Inside the block the line is in the <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\"><code>variable $_</code></a>, what <code>split</code> uses as default. The resulting list is returned and assigned to <code>@path</code>. </p>\n\n<p>A number of errors in the posted code have been explained clearly in <a href=\"https://stackoverflow.com/a/42244956/4653379\">simbabque's answer</a>.</p>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/632407/jm666\">jm666</a> in a comment for catching the requirement for the  leading <code>/</code>.</p>\n\n<hr>\n\n<p>The above can also be used for a one-liner</p>\n\n<pre><code>perl -F: -lane'print \"/\" . join \"/\", @F[0,-1]' &lt; file.txt  &gt; out.txt\n</code></pre>\n\n<p>The <code>-a</code> turns on autosplit mode (with <code>-n</code> or <code>-p</code>), whereby each line is split and available in <code>@F</code>. The <code>-F</code> switch allows to specify the pattern to split on, here <code>:</code>, instead of the default space.  </p>\n\n<p>See <a href=\"http://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\">switches in perlrun</a>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7567583"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 42244956, "answer_count": 2, "score": 3, "last_activity_date": 1488003564, "creation_date": 1487148677, "last_edit_date": 1487149622, "question_id": 42244591, "link": "https://stackoverflow.com/questions/42244591/how-to-remove-the-word-using-array-index-in-perl", "title": "How to remove the word using array index in perl?", "body": "<p>How to remove the certain words using array index for the following input using Perl?</p>\n\n<pre><code>file.txt\nBOCK:top:blk1\nBOCK:block2:blk2\nBOCK:test:blk3\n</code></pre>\n\n<p>After join:</p>\n\n<pre><code>/BOCK/top/blk1\n/BOCK/block2/blk2\n/BOCK/test/blk3\n</code></pre>\n\n<p>Expected output: </p>\n\n<pre><code>/BOCK/blk1\n/BOCK/blk2\n/BOCK/blk3\n</code></pre>\n\n<p>Code which I had tried:</p>\n\n<pre><code>use warnings;\nuse strict;\nmy @words;\nopen(my $infile,'&lt;','file.txt') or die $!;\nwhile(&lt;$infile&gt;)\n{\n    push(@words,split /\\:/);\n}\nmy $word=join(\"/\",@words);\nprint $word;\nclose ($infile);\nforeach my $word(@words)\n{\n    if($word=~ /(\\w+\\/\\w+\\/\\w+)/)\n    {\n        print $word;\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "variables", "foreach", "local-variables"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 2, "creation_date": 1487147243, "post_id": 42243470, "comment_id": 71646511, "body": "The foreach does not require the my declaration if you have it declared globally. It is strange however that it will not complain that you are declaring it again. For instance if you remove the range, it will complain that you have already declared <code>$g</code> I will go and research this a bit."}, {"owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "edited": false, "score": 0, "creation_date": 1487147873, "post_id": 42243470, "comment_id": 71646899, "body": "If the variable was previously declared with my, it uses that variable instead of the global one, but it&#39;s still localized to the loop. This <i>implicit localization occurs only in a foreach loop</i>. <a href=\"http://perldoc.perl.org/perlsyn.html#Foreach-Loops\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlsyn.html#Foreach-Loops</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "reply_to_user": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "edited": false, "score": 0, "creation_date": 1487148225, "post_id": 42243470, "comment_id": 71647143, "body": "@user3606329 That is correct, but if you take that code and remove the range it will create an error. The variable is not yet inside the loop, it is part of the foreach statement."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1487148424, "post_id": 42244426, "comment_id": 71647271, "body": "That is understood. The problem I see here though is that <code>$g</code> is not yet within the loop. so if <code>$g</code> is not declared and assigned a value before, then <code>$g</code> is in fact an empty value."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1487148893, "post_id": 42244426, "comment_id": 71647546, "body": "@Gerry  In <code>foreach my $i (1..4) { }</code> the scope of <code>$i</code> is restricted to the loop. It does not exist &quot;<i>before</i>&quot;.  The same is without <code>my</code>, if <code>$i</code> was declared before -- it is localized to the loop&#39;s scope as soon as it is seen.  This is what the quote(s) above inform us."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 9, "last_activity_date": 1559809947, "last_edit_date": 1559809947, "creation_date": 1487148221, "answer_id": 42244426, "question_id": 42243470, "link": "https://stackoverflow.com/questions/42243470/why-doesnt-perls-foreach-require-its-variable-to-be-declared-with-my/42244426#42244426", "title": "Why doesn&#39;t Perl&#39;s foreach require its variable to be declared with my?", "body": "<p>The investigated behavior is documented in <a href=\"http://perldoc.perl.org/perlsyn.html#Foreach-Loops\" rel=\"nofollow noreferrer\">Foreach Loops in perlsyn</a></p>\n\n<blockquote>\n  <p>The <code>foreach</code> loop iterates over a normal list value and sets the scalar variable VAR to be each element of the list in turn. If the variable is preceded with the keyword <code>my</code>, then it is lexically scoped, and is therefore visible only within the loop. </p>\n</blockquote>\n\n<p>which continues to the explanation</p>\n\n<blockquote>\n  <p>Otherwise, the variable is implicitly local to the loop and regains its former value upon exiting the loop. If the variable was previously declared with <code>my</code>, it uses that variable instead of the global one, but it's still localized to the loop. </p>\n</blockquote>\n\n<p>Thus there should be no difference between localizing it with <code>my</code> or leaving that to <code>foreach</code>.</p>\n\n<p>A little curiosity is that</p>\n\n<blockquote>\n  <p>This implicit localization occurs <em>only</em> in a <code>foreach</code> loop.</p>\n</blockquote>\n\n<p>All this is further clarified in this snippet from <a href=\"http://perldoc.perl.org/perlsub.html#Private-Variables-via-my%28%29\" rel=\"nofollow noreferrer\">Private Variables via <code>my()</code> from perlsub</a></p>\n\n<blockquote>\n  <p>The <code>foreach</code> loop defaults to scoping its index variable dynamically in the manner of <code>local</code>. However, if the index variable is prefixed with the keyword <code>my</code>, or if there is already a lexical by that name in scope, then a new lexical is created instead.</p>\n</blockquote>\n\n<p>Since a new lexical <em>is</em> created inside in both cases there cannot be any practical difference.</p>\n\n<p>I absolutely support and recommend (always) having a <code>my</code> there.</p>\n"}], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 2, "accepted_answer_id": 42244426, "answer_count": 1, "score": 12, "last_activity_date": 1559809947, "creation_date": 1487145089, "question_id": 42243470, "link": "https://stackoverflow.com/questions/42243470/why-doesnt-perls-foreach-require-its-variable-to-be-declared-with-my", "title": "Why doesn&#39;t Perl&#39;s foreach require its variable to be declared with my?", "body": "<p>Today, I stumbled over something in Perl I was not aware of: it \"localizes\" the variable that the elements of the list iterated over is assigned to.</p>\n\n<p>This, of course, is documented in the Perl documentation - however I failed to remember or read it.</p>\n\n<p>The following script demonstrates what I mean:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $g = 99;\n\nforeach $g (1..5) {\n  p($g);\n}\n\nsub p {\n  my $l = shift;\n  printf (\"%2d %2d\\n\", $g, $l);\n}\n</code></pre>\n\n<p>The script prints</p>\n\n<pre><code>99  1\n99  2\n99  3\n99  4\n99  5\n</code></pre>\n\n<p>because <code>$g</code> is \"localized\" to the <code>foreach</code> loop.</p>\n\n<p>As far as I can tell there is no difference if I had added <code>my</code> to <code>$g</code> in the foreach loop:</p>\n\n<pre><code>foreach my $g (1..5) {\n</code></pre>\n\n<p>Actually, I ended up doing it because I feel it makes it clearer that the variable is local to the loop.</p>\n\n<p>My question is now: is there a scenario where my using <code>my</code> does make a difference (given that <code>$g</code> is already declared globally).</p>\n"}, {"tags": ["python", "linux", "bash", "perl", "shell"], "comments": [{"owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "edited": false, "score": 3, "creation_date": 1487138740, "post_id": 42241799, "comment_id": 71642280, "body": "It&#39;s customary to demonstrate the code you&#39;ve written thus far, so that we can help with the specific part you are struggling with.  As for an approach, a good start is to use a parsing library in the programming language of your choosing."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 1, "creation_date": 1487138799, "post_id": 42241799, "comment_id": 71642300, "body": "No code posted, that&#39;s not nice."}, {"owner": {"reputation": 149, "user_id": 4657111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ef380328af72e580fbef3817e2784bb?s=128&d=identicon&r=PG&f=1", "display_name": "Vibhanshu Shukla", "link": "https://stackoverflow.com/users/4657111/vibhanshu-shukla"}, "edited": false, "score": 0, "creation_date": 1487139911, "post_id": 42241799, "comment_id": 71642759, "body": "Gerry, there is no need to more code, it&#39;s nice."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1487139989, "post_id": 42241799, "comment_id": 71642795, "body": "You absolutely should include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Otherwise, it sounds like you&#39;re just asking people to do your work for you, which is rude."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1487140138, "post_id": 42241799, "comment_id": 71642853, "body": "BTW, you currently have 3/5 close votes, so I would seriously consider editing your question to include the code you&#39;ve written so far and the reason why it&#39;s not working."}, {"owner": {"reputation": 149, "user_id": 4657111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ef380328af72e580fbef3817e2784bb?s=128&d=identicon&r=PG&f=1", "display_name": "Vibhanshu Shukla", "link": "https://stackoverflow.com/users/4657111/vibhanshu-shukla"}, "edited": false, "score": 0, "creation_date": 1487140517, "post_id": 42241799, "comment_id": 71643009, "body": "Matt, okay i think it was misunderstanding i don&#39;t mean to say like that."}, {"owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "edited": false, "score": 0, "creation_date": 1488013507, "post_id": 42241799, "comment_id": 72051120, "body": "@Vibhanshu Shukla -- if following solution helped which seems from your comments. then please accept the answer by clicking tick mark left to the answer."}], "answers": [{"tags": [], "owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "is_accepted": true, "score": 1, "last_activity_date": 1487139155, "creation_date": 1487139155, "answer_id": 42241912, "question_id": 42241799, "link": "https://stackoverflow.com/questions/42241799/how-to-edit-xml-file-to-change-all-number-by-shell-script-in-which-original-poi/42241912#42241912", "title": "How to edit XML file to change all number by shell script, in which original point divided by 1.3?", "body": "<p>If you are open to <code>awk</code> solution :</p>\n\n<pre><code>awk -v FS='[^&gt;]&gt;|&lt;'  '/&lt;/{x=$3/1.3\"dp\";gsub($3,x)}1' inputfile\n\n&lt;dimen name=\"placeHolderXNot10\"&gt;15.3846dp&lt;/dimen&gt;\n&lt;dimen name=\"placeHolderYNot10\"&gt;26.9231dp&lt;/dimen&gt;\n\n&lt;dimen name=\"placeHolderXFor10\"&gt;11.5385dp&lt;/dimen&gt;\n&lt;dimen name=\"placeHolderYFor10\"&gt;26.9231dp&lt;/dimen&gt;\n\n&lt;dimen name=\"rightNot10\"&gt;30.7692dp&lt;/dimen&gt;\n&lt;dimen name=\"topNot10\"&gt;57.6923dp&lt;/dimen&gt;\n&lt;dimen name=\"bottomNot10\"&gt;11.5385dp&lt;/dimen&gt;  \n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 4657111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ef380328af72e580fbef3817e2784bb?s=128&d=identicon&r=PG&f=1", "display_name": "Vibhanshu Shukla", "link": "https://stackoverflow.com/users/4657111/vibhanshu-shukla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "closed_date": 1487157049, "accepted_answer_id": 42241912, "answer_count": 1, "score": -5, "last_activity_date": 1487148968, "creation_date": 1487138573, "last_edit_date": 1487148968, "question_id": 42241799, "link": "https://stackoverflow.com/questions/42241799/how-to-edit-xml-file-to-change-all-number-by-shell-script-in-which-original-poi", "closed_reason": "Not suitable for this site", "title": "How to edit XML file to change all number by shell script, in which original point divided by 1.3?", "body": "<p>Original xml:</p>\n\n<pre><code>&lt;dimen name=\"placeHolderXNot10\"&gt;20dp&lt;/dimen&gt;\n&lt;dimen name=\"placeHolderYNot10\"&gt;35dp&lt;/dimen&gt;\n\n&lt;dimen name=\"placeHolderXFor10\"&gt;15dp&lt;/dimen&gt;\n&lt;dimen name=\"placeHolderYFor10\"&gt;35dp&lt;/dimen&gt;\n\n&lt;dimen name=\"rightNot10\"&gt;40dp&lt;/dimen&gt;\n&lt;dimen name=\"topNot10\"&gt;75dp&lt;/dimen&gt;\n&lt;dimen name=\"bottomNot10\"&gt;15dp&lt;/dimen&gt;\n</code></pre>\n\n<p>**After dividing the number by 1.3, **</p>\n\n<pre><code>&lt;dimen name=\"placeHolderXNot10\"&gt;15.38dp&lt;/dimen&gt;\n&lt;dimen name=\"placeHolderYNot10\"&gt;26.92dp&lt;/dimen&gt;\n\n&lt;dimen name=\"placeHolderXFor10\"&gt;15.38dp&lt;/dimen&gt;\n&lt;dimen name=\"placeHolderYFor10\"&gt;26.92dp&lt;/dimen&gt;\n\n&lt;dimen name=\"rightNot10\"&gt;30.76dp&lt;/dimen&gt;\n&lt;dimen name=\"topNot10\"&gt;57.69dp&lt;/dimen&gt;\n&lt;dimen name=\"bottomNot10\"&gt;11.53dp&lt;/dimen&gt;\n</code></pre>\n\n<p>I have more xml file in which i want to change the density pixel. </p>\n"}, {"tags": ["perl", "scope"], "answers": [{"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1520380687, "post_id": 42240764, "comment_id": 85289439, "body": "&quot;<i>created when it is first used</i>&quot; - technically the parser creates it when it is first seen, not necessarily used (e.g. <code>if (0) { print @arr; }</code> would create <code>@main::arr</code> at compile time (assuming <code>no strict</code>))."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1520381315, "post_id": 42240764, "comment_id": 85289632, "body": "@melpomene  Good point, and I&#39;ve just considered changing that (while making another small edit)!  The thing is, I&#39;ve been asked questions about use of &quot;<i>seen</i>&quot; (referring to compilers &quot;seeing&quot; symbols, which I thought was absolutely clear) ... changed it now,  thank you :)"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 9, "last_activity_date": 1558075410, "last_edit_date": 1558075410, "creation_date": 1487132837, "answer_id": 42240764, "question_id": 42240668, "link": "https://stackoverflow.com/questions/42240668/what-scope-is-an-undeclared-variable-used-deep-in-code/42240764#42240764", "title": "What scope is an undeclared variable used deep in code?", "body": "<p>The <code>@arr</code> is a global variable, created when it is first encountered by the parser, and then seen in the whole package. </p>\n\n<pre><code>use warnings;\n#use strict;\n\nfor (1..3) {\n    #my @arr;\n    for ( qw(a b c) ) {\n        push @arr, $_;\n    }   \n}\n\nprint \"@arr\\n\";\n</code></pre>\n\n<p>It prints </p>\n\n<pre>\na b c a b c a b c\n</pre>\n\n<p>This is one of the bad things about globals, that they \"radiate\" throughout the code.</p>\n\n<p>With <code>use strict;</code> enabled we get</p>\n\n<pre>\nPossible unintended interpolation of @arr in string at scope.pl line 11.\nGlobal symbol \"@arr\" requires explicit package name at scope.pl line 7.\nGlobal symbol \"@arr\" requires explicit package name at scope.pl line 11.\nExecution of scope.pl aborted due to compilation errors.\n</pre>\n\n<p>Since <code>strict</code> merely enforces declarations, this meaningfully informs us that <code>@arr</code> is global (thus seen everywhere in the code).</p>\n\n<p>Declaring it with <code>my</code> at the top would have the same effect in this example, but it is not the same thing as an undeclared, global variable.  A <code>my</code> variable is lexical and has scope, the nearest enclosing block (or file, here). From <a href=\"http://perldoc.perl.org/functions/my.html\" rel=\"nofollow noreferrer\">my</a></p>\n\n<blockquote>\n  <p>A <code>my</code> declares the listed variables to be local (lexically) to the enclosing block, file, or <code>eval</code>. If more than one variable is listed, the list must be placed in parentheses.</p>\n</blockquote>\n\n<p>Also, lexicals are not in the symbol table. </p>\n\n<p>So when it is declared inside the first loop (commented out line) it is not seen at the end (it does not exist outside of that loop's block). The last line then refers to a global <code>@arr</code>, created right there, which was never assigned to. We do get the warning</p>\n\n<pre>\nPossible unintended interpolation of @arr in string at scope.pl line 11.\nName \"main::arr\" used only once: possible typo at scope.pl line 11.\n\n</pre>\n\n<p>about empty <code>main::arr</code> used once, and an empty line since it is printed.</p>\n\n<p>See also <a href=\"http://perldoc.perl.org/perlsub.html#Private-Variables-via-my%28%29\" rel=\"nofollow noreferrer\">Private variables via <code>my()</code> in perlsub</a></p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1558075410, "creation_date": 1487132280, "question_id": 42240668, "link": "https://stackoverflow.com/questions/42240668/what-scope-is-an-undeclared-variable-used-deep-in-code", "title": "What scope is an undeclared variable used deep in code?", "body": "<pre><code># my @arr;   \nfor (1..100)\n{\n    for (1..100)\n    {\n        for (1..100)\n        {\n            push @arr, 1;\n        }\n    }\n}\n</code></pre>\n\n<p>What is the scope of <code>@arr</code>?  Is it the same as if it was declared in the commented line at the top?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 7356003, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wc_XRVNW1xM/AAAAAAAAAAI/AAAAAAAAAG8/rpSVr-vrFbw/photo.jpg?sz=128", "display_name": "turtle", "link": "https://stackoverflow.com/users/7356003/turtle"}, "edited": false, "score": 0, "creation_date": 1487182331, "post_id": 42240481, "comment_id": 71671814, "body": "Thank you this was very helpful."}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 3, "last_activity_date": 1487131203, "creation_date": 1487131203, "answer_id": 42240481, "question_id": 42240190, "link": "https://stackoverflow.com/questions/42240190/in-perl-what-is-the-difference-between-use-lib-and-lib-import/42240481#42240481", "title": "In Perl, what is the difference between `use lib` and `lib-&gt;import`?", "body": "<pre><code>use lib $FindBin::Bin;\n</code></pre>\n\n<p>will do this (approximately):</p>\n\n<pre><code>BEGIN { require \"lib.pm\"; lib-&gt;import($FindBin::Bin); }\n</code></pre>\n\n<p>which both loads/compiles lib.pm and calls import <em>at compile time</em> (thus the BEGIN block).</p>\n\n<p>When you call <code>lib-&gt;import(...)</code> by itself, this works, but only if lib is already loaded <em>and</em> whatever you're \"importing\" makes sense at runtime vs compile time.  With lib's import, this works fine, but only affects future <code>require</code> (or <code>eval \"use ...\"</code>) calls.  For other packages, if you're trying to import things like functions, this can be nonsensical, especially if those functions have a prototype that affects compile-time resolution.</p>\n"}, {"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 3, "last_activity_date": 1487131300, "creation_date": 1487131300, "answer_id": 42240499, "question_id": 42240190, "link": "https://stackoverflow.com/questions/42240190/in-perl-what-is-the-difference-between-use-lib-and-lib-import/42240499#42240499", "title": "In Perl, what is the difference between `use lib` and `lib-&gt;import`?", "body": "<p><code>use lib EXPR</code> loads lib.pm, and at compile time, calls <code>lib-&gt;import(EXPR)</code>.</p>\n\n<p>Just doing <code>lib-&gt;import(EXPR)</code> will do the same thing, except that if lib.pm has not been loaded, it will do nothing.  (Method calls to import() or unimport() are just ignored if there is no such sub.)  But it will be executed at run time, unless you have it in a BEGIN block, which means the change to @INC will not be performed in time to affect a later <code>use</code>.</p>\n"}], "owner": {"reputation": 75, "user_id": 7356003, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wc_XRVNW1xM/AAAAAAAAAAI/AAAAAAAAAG8/rpSVr-vrFbw/photo.jpg?sz=128", "display_name": "turtle", "link": "https://stackoverflow.com/users/7356003/turtle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "accepted_answer_id": 42240499, "answer_count": 2, "score": 4, "last_activity_date": 1598195526, "creation_date": 1487129430, "last_edit_date": 1598195526, "question_id": 42240190, "link": "https://stackoverflow.com/questions/42240190/in-perl-what-is-the-difference-between-use-lib-and-lib-import", "title": "In Perl, what is the difference between `use lib` and `lib-&gt;import`?", "body": "<p>In Perl 5.24.1 what is the difference between using <code>use lib</code> and <code>lib-&gt;import</code>?\nI see both used to add a directory to <code>@INC</code>.\nI am using stock Perl with no add-ons.\nI have read\n<a href=\"http://perldoc.perl.org/lib.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/lib.html</a>\nand I do not understand much about all the ways how it's used.</p>\n<p>Here is an example:</p>\n<p>In the following sample code the first one <code>use lib</code> always works while the second one <code>lib-&gt;import</code> fails in my code I see it work in other code on the same machine.</p>\n<pre><code>#!/usr/bin/perl -T\n\nuse warnings;\nuse diagnostics;\nuse strict;\n# new perl 2.24.1 requires FindBin\nuse FindBin;\nprint &quot;found: $FindBin::Bin\\n&quot;;\n#This always works:\n#use lib $FindBin::Bin;\n#why does this not always work?\n#lib-&gt;import($FindBin::Bin);\n\nforeach my $var(@INC){\n    print &quot;$var \\n&quot;;\n}\n</code></pre>\n"}, {"tags": ["linux", "bash", "perl", "awk", "grep"], "comments": [{"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 2, "creation_date": 1487131177, "post_id": 42239179, "comment_id": 71639864, "body": "You could let us know the timing of the below solutions on your actual input."}, {"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "reply_to_user": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1487137785, "post_id": 42239179, "comment_id": 71641849, "body": "@Inian - I will definitely do that.  Waiting for more answers."}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 1, "creation_date": 1487138062, "post_id": 42239179, "comment_id": 71641983, "body": "Updated my answer for matching anywhere in the line, but I am guessing it is going to be tad slower when matching in <code>$2</code> alone."}, {"owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "edited": false, "score": 1, "creation_date": 1487295579, "post_id": 42239179, "comment_id": 71732184, "body": "I would be not shocked, but somewhat surprised, if you found something significantly faster than <code>fgrep</code> for this task. A two-billion-line text file is not going to be fast to process no matter what.."}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "edited": false, "score": 2, "creation_date": 1487337467, "post_id": 42239179, "comment_id": 71752343, "body": "Are the data somehow ordered? are <code>C</code>-based solutions available?"}, {"owner": {"reputation": 1068, "user_id": 2800918, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/77b59723cbffd9e9b6e1e1c8802f579b?s=128&d=identicon&r=PG&f=1", "display_name": "CAB", "link": "https://stackoverflow.com/users/2800918/cab"}, "edited": false, "score": 2, "creation_date": 1487364813, "post_id": 42239179, "comment_id": 71769259, "body": "See accepted solution for <a href=\"http://stackoverflow.com/q/9066609/2800918\">Fastest possible grep</a>"}, {"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "reply_to_user": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "edited": false, "score": 0, "creation_date": 1487375607, "post_id": 42239179, "comment_id": 71773516, "body": "@JoseRicardoBustosM. - the data is not ordered.  Just updated the question."}, {"owner": {"reputation": 6468, "user_id": 2057509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0bKBt.jpg?s=128&g=1", "display_name": "gregory", "link": "https://stackoverflow.com/users/2057509/gregory"}, "edited": false, "score": 0, "creation_date": 1487377496, "post_id": 42239179, "comment_id": 71774001, "body": "how many cores/cpus does the machine you&#39;re running this on have? And, are you open to running this search on multiple servers?"}, {"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "reply_to_user": {"reputation": 6468, "user_id": 2057509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0bKBt.jpg?s=128&g=1", "display_name": "gregory", "link": "https://stackoverflow.com/users/2057509/gregory"}, "edited": false, "score": 0, "creation_date": 1487440800, "post_id": 42239179, "comment_id": 71790745, "body": "@gregory - this is for my work laptop - MBP with a single CPU and 4 cores.  Multiple servers not preferred."}, {"owner": {"reputation": 2043, "user_id": 7218127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FFGPE.gif?s=128&g=1", "display_name": "Jim D.", "link": "https://stackoverflow.com/users/7218127/jim-d"}, "edited": false, "score": 0, "creation_date": 1487500935, "post_id": 42239179, "comment_id": 71805295, "body": "If you want to benchmark the solutions, it will be necessary to drop the file system cache to fairly compare.  See, e.g. <a href=\"https://linux-mm.org/Drop_Caches\" rel=\"nofollow noreferrer\">this</a>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1487631196, "post_id": 42239179, "comment_id": 71861985, "body": "I am a little bit confused. You say that you can match either field no 2 exactly or anywhere on the line, but then the first solution (matching exactly field no 2) is clearly more restrictive in general. For example, given the word <code>foo1</code>, the first solution will <b>not</b> match <code>foo1|date|number1</code>, whereas the second solution (match anywhere on the line) will accept this as a match. So which method are you actually going to use for your problem?"}, {"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1487634636, "post_id": 42239179, "comment_id": 71863252, "body": "@H&#229;konH&#230;gland - I should have stated it more clearly - yes, I do need to match the second field, not the entire line.  It especially make sense for the hash based solution."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1487681689, "post_id": 42239179, "comment_id": 71885526, "body": "@codeforester It would be nice if you could upload <code>file1.txt</code> to for example <a href=\"http://pastebin.com/\" rel=\"nofollow noreferrer\">pastebin.com</a> and provide a link to the file. Then we could try to test codes on at least some real data :)"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1487776038, "post_id": 42239179, "comment_id": 71937558, "body": "@codeforester please make up your mind and edit your question to state clearly if you want to match the f1 value in just the 2nd field of f2 or anywhere in the line in f2. Don&#39;t say &quot;I&#39;d like X but Y would be OK too&quot; - just state your requirement, X or Y. Also state if a partial match is considered a match ( e.g. does <code>foo</code> in f1 match <code>foobar</code> in f2?) and if you&#39;re looking for a regexp or string match (e.g. does <code>f.*r</code> in f1 match <code>foobar</code> in f2?)."}], "answers": [{"comments": [{"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 0, "creation_date": 1487146407, "post_id": 42239352, "comment_id": 71646098, "body": "@codeforester Obviously this solution is only vaild with your previous version of the question : pattern in file 1 to match field 2 of file 2. It would be interesting to see the timing results also, even if we compare only the seconf field."}], "tags": [], "owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "is_accepted": false, "score": 2, "last_activity_date": 1488962587, "last_edit_date": 1495541871, "creation_date": 1487123066, "answer_id": 42239352, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42239352#42239352", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>Can you give a try to <code>join</code>? Files must be sorted though...</p>\n\n<pre><code>$ cat d.txt\nbar1\nbar2\nfoo1\nfoo2\n\n$ cat e.txt\ndate1|bar1|number1\ndate2|bar2|number2\ndate3|bar3|number3\ndate1|foo1|number1\ndate2|foo2|number2\ndate3|foo3|number3\n\n$ join --nocheck-order -11 -22 -t'|' -o 2.1 2.2 2.3 d.txt e.txt\ndate1|bar1|number1\ndate2|bar2|number2\ndate1|foo1|number1\ndate2|foo2|number2\n</code></pre>\n\n<p>Small Update:<br>\nBy using LC_ALL=C in front of join, things are really speed up as can be seen in the benchmark of <a href=\"https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-text-file-from-another-larger-text-file-in-bash/42370477#42370477\">H\u00e5kon H\u00e6gland</a></p>\n\n<p>PS1: I have my doubts if join can be faster than grep -f ...</p>\n"}, {"comments": [{"owner": {"reputation": 3350, "user_id": 7332147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e4GFL.png?s=128&g=1", "display_name": "linuxfan says Reinstate Monica", "link": "https://stackoverflow.com/users/7332147/linuxfan-says-reinstate-monica"}, "edited": false, "score": 2, "creation_date": 1487320114, "post_id": 42240445, "comment_id": 71741153, "body": "The note about locale is really good. I don&#39;t know if it works (I suppose yes), but simply having thought about it is worth."}, {"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1487369696, "post_id": 42240445, "comment_id": 71771623, "body": "<code>index</code> might be faster than <code>match</code>."}, {"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1487492865, "post_id": 42240445, "comment_id": 71803330, "body": "@Inian - thank you for your effort.  I ran your <code>awk</code> code and it terminated with an error after 55 minutes.  I realized that the big file has nulls in column2 and awk didn&#39;t like it.  It produced 40K matches - I expected 126K matches for the 1.3M lines in big file.  Obviously, 55 minutes is too much, that too for the partial job.  I feel <code>awk</code> is simply not suited for file sizes like this."}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "reply_to_user": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1487493058, "post_id": 42240445, "comment_id": 71803363, "body": "@codeforester: Thanks for trying the same, <code>big file has nulls in column2</code> is a new requirement, I can modify the answer for it. But on a billion line file, no shell tool can scale smoothly. Did you try the <code>fgrep</code> with <code>LC_ALL=C</code> locale? And can you let me know whhich one you tried? I had multiple solutions with <code>match()</code>, <code>index()</code>"}, {"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1487493184, "post_id": 42240445, "comment_id": 71803398, "body": "Thanks @Inian.  I shall try that one as well.  I am going to publish the detailed results before the bounty closes."}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "reply_to_user": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1487493224, "post_id": 42240445, "comment_id": 71803409, "body": "@codeforester: Do try anything except this <code>awk &#39;FNR==NR{hash[$1]; next}$2 in hash&#39; file1.txt FS=&#39;|&#39; file2.txt</code>"}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "reply_to_user": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1487571506, "post_id": 42240445, "comment_id": 71827594, "body": "@codeforester: Is there a reason for why this was down-vote?"}, {"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1487571667, "post_id": 42240445, "comment_id": 71827669, "body": "@Inian - I down voted because the <code>awk</code> solution is definitely unsuitable for this requirement.  I knew <code>awk</code> is generally not good when big files are involved, and this example kind of settled it.  I also down voted the python solution and left a comment for the Perl solution."}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "reply_to_user": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 2, "creation_date": 1487572038, "post_id": 42240445, "comment_id": 71827842, "body": "@codeforester: To be honest, there is no definitive answer for the question. People can only do code-golf ( the best among the other answers using least resources), I did my best to solve it, as the OP your feedback of downvoting is not a healthy approach here as there is no 100% solution for this. Do appreciate people for the time they are spending to answer your problem."}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "edited": false, "score": 0, "creation_date": 1487572065, "post_id": 42240445, "comment_id": 71827851, "body": "And claiming <code>Awk is not good for big files</code> is not correct. see <a href=\"https://lyness.io/the-functional-and-performance-differences-of-sed-awk-and-other-unix-parsing-utilities\" rel=\"nofollow noreferrer\">lyness.io/&hellip;</a>"}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "reply_to_user": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1487747965, "post_id": 42240445, "comment_id": 71918419, "body": "@codeforester: Appreciate your feedback, any requirement if you have."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 1, "creation_date": 1487776816, "post_id": 42240445, "comment_id": 71938086, "body": "@codeforester wrt <code>awk solution is definitely unsuitable for this requirement. I knew awk is generally not good when big files are involved,</code> - what are you talking about? Awk is well suited for your question and is excellent when big files are involved since it&#39;s designed and highly optimized to ONLY to text manipulation."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 3, "creation_date": 1487777209, "post_id": 42240445, "comment_id": 71938373, "body": "@Inian <code>awk &#39;FNR==NR{hash[$1]; next}$2 in hash&#39; file1.txt FS=&#39;|&#39; file2.txt</code> is <b>THE</b> awk solution for a full string match on field2. Where you wrote <code>match(i,$0)</code> ITYM <code>match($0,i)</code> but that&#39;s needlessly calling a function (and populating RSTART and RLENGTH) vs just <code>$0~i</code>. The match() and index() versions wouldn&#39;t be useful anyway though as awk is splitting each line of file2 into fields and so cannot be faster than <code>grep</code> or <code>grep -F</code> for a regexp or string partial match on the whole line."}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 2, "creation_date": 1487782424, "post_id": 42240445, "comment_id": 71942256, "body": "@EdMorton: As ever incorporated your valuable comments."}, {"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1487827871, "post_id": 42240445, "comment_id": 71962094, "body": "@EdMorton: Thanks for chiming in.  I wonder why <code>awk</code> is so slow in this case.  The Perl script took just a few seconds and <code>awk</code> didn&#39;t complete in several hours."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "reply_to_user": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1487860095, "post_id": 42240445, "comment_id": 71982270, "body": "@codeforester please don&#39;t say <code>awk is so slow</code>, etc. - its a specific script you ran that was slow. What was that script? There is no way that the right awk script (<code>&#39;FNR==NR{hash[$1]; next}$2 in hash&#39;</code>) would take more than a few seconds for the task you described. Also did your input contain the rainy day cases I suggested so you can tell if the 2 scripts handle those correctly? I mean I have no idea since idk which scripts you ran but the perl script might be fast because it doesn&#39;t actually handle rainy day cases."}, {"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1487880297, "post_id": 42240445, "comment_id": 71995634, "body": "@EdMorton: I stand corrected.  @Inian&#39;s solution <code>awk &#39;FNR==NR{hash[$1]; next}$2 in hash&#39; file1.txt FS=&#39;|&#39; file2.txt</code> did finish in 40 seconds and that is quite impressive."}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "reply_to_user": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 2, "creation_date": 1487913429, "post_id": 42240445, "comment_id": 72007511, "body": "@codeforester: Appreciate you awarding me the bounty, hope the answer was quite helpful to you."}], "tags": [], "owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "is_accepted": false, "score": 9, "last_activity_date": 1487783470, "last_edit_date": 1495540467, "creation_date": 1487130972, "answer_id": 42240445, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42240445#42240445", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>Did you try <code>Awk</code> that could speed up things a bit:</p>\n\n<pre><code>awk 'FNR==NR{hash[$1]; next}{for (i in hash) if (match($0,i)) {print; break}}' file1.txt FS='|' file2.txt\n</code></pre>\n\n<p>(or) using <code>index()</code> function in <code>Awk</code> as suggested by comments from <a href=\"https://stackoverflow.com/users/3266847/benjamin-w\">Benjamin W.</a>, below</p>\n\n<pre><code>awk 'FNR==NR{hash[$1]; next}{for (i in hash) if (index($0,i)) {print; break}}' file1.txt FS='|' file2.txt\n</code></pre>\n\n<p>(or) a more direct regex match as suggested by <a href=\"https://stackoverflow.com/users/1745001/ed-morton\">Ed Morton</a> in comments,</p>\n\n<pre><code>awk 'FNR==NR{hash[$1]; next}{for (i in hash) if ($0~i) {print; break}}' file1.txt FS='|' file2.txt\n</code></pre>\n\n<p>is all you need. I'm guessing this will be faster but not exactly sure on files with million+ entries. Here the problem is with the possibility match in anywhere along the line. Had the same been in any particular column (e.g. say <code>$2</code> alone), a faster approach could be</p>\n\n<pre><code>awk 'FNR==NR{hash[$1]; next}$2 in hash' file1.txt FS='|' file2.txt\n</code></pre>\n\n<hr>\n\n<p>Also you could speed-things up by playing with the <code>locale</code> set in your system. Paraphrasing from this wonderful <a href=\"https://unix.stackexchange.com/a/87763/112235\">St\u00e9phane Chazelas's answer</a> on the subject, you could speed up things pretty quickly by setting passing the locale <code>LC_ALL=C</code> to the command <em>locally</em> being run.</p>\n\n<p>On any <code>GNU</code> based system, the defaults for the <code>locale</code> </p>\n\n<pre><code>$ locale\nLANG=en_US.UTF-8\nLC_CTYPE=\"en_US.UTF-8\"\nLC_NUMERIC=\"en_US.UTF-8\"\nLC_TIME=\"en_US.UTF-8\"\nLC_COLLATE=\"en_US.UTF-8\"\nLC_MONETARY=\"en_US.UTF-8\"\nLC_MESSAGES=\"en_US.UTF-8\"\nLC_PAPER=\"en_US.UTF-8\"\nLC_NAME=\"en_US.UTF-8\"\nLC_ADDRESS=\"en_US.UTF-8\"\nLC_TELEPHONE=\"en_US.UTF-8\"\nLC_MEASUREMENT=\"en_US.UTF-8\"\nLC_IDENTIFICATION=\"en_US.UTF-8\"\nLC_ALL=\n</code></pre>\n\n<p>With one variable <code>LC_ALL</code>, you can set all <code>LC_</code> type variables at once to a specified locale</p>\n\n<pre><code>$ LC_ALL=C locale\nLANG=en_US.UTF-8\nLC_CTYPE=\"C\"\nLC_NUMERIC=\"C\"\nLC_TIME=\"C\"\nLC_COLLATE=\"C\"\nLC_MONETARY=\"C\"\nLC_MESSAGES=\"C\"\nLC_PAPER=\"C\"\nLC_NAME=\"C\"\nLC_ADDRESS=\"C\"\nLC_TELEPHONE=\"C\"\nLC_MEASUREMENT=\"C\"\nLC_IDENTIFICATION=\"C\"       \nLC_ALL=C\n</code></pre>\n\n<blockquote>\n  <p>So what does this impact?</p>\n</blockquote>\n\n<p>Simply put, when using the <code>locale C</code> it will default to the server's base Unix/Linux language of <code>ASCII</code>. Basically when you <code>grep</code> something, by default your locale is going to be internationalized and set to <code>UTF-8</code>, which can represent every character in the Unicode character set to help display any of the world's writing systems, currently over more than <code>110,000</code> unique characters, whereas with <code>ASCII</code> each character is encoded in a single byte sequence and its character set comprises of no longer than <code>128</code> unique characters.</p>\n\n<p>So it translates to this, when using <code>grep</code> on a file encoded in <code>UTF-8</code> character-set, it needs to match each character with any of the hundred thousand unique characters, but just <code>128</code> in <code>ASCII</code>, so use your <code>fgrep</code> as</p>\n\n<pre><code>LC_ALL=C fgrep -F -f file1.txt file2.txt\n</code></pre>\n\n<p>Also, the same can be adapted to the <code>Awk</code>, since it uses a <code>regex</code> match with the <code>match($0,i)</code> call, setting the <code>C</code> locale could speed up the string match.</p>\n\n<pre><code>LC_ALL=C awk 'FNR==NR{hash[$1]; next}{for (i in hash) if (match($0,i)) {print; break}}' file1.txt FS='|' file2.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1487487695, "post_id": 42295002, "comment_id": 71802179, "body": "Why do we need to create the huge regex from patterns array?"}, {"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 2, "creation_date": 1487493111, "post_id": 42295002, "comment_id": 71803382, "body": "I ran this over a 1.3M lines file2.txt.  It has been running for more than 3.5 hours and so far has produced 86K results (of the 126K expected matches).  Definitely not optimal."}], "tags": [], "owner": {"reputation": 11156, "user_id": 2214695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dee2ef257601e05c5659f04de9cb7c67?s=128&d=identicon&r=PG", "display_name": "oliv", "link": "https://stackoverflow.com/users/2214695/oliv"}, "is_accepted": false, "score": 1, "last_activity_date": 1487325934, "creation_date": 1487325934, "answer_id": 42295002, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42295002#42295002", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>A possible way is to use <code>python</code>:</p>\n\n<pre><code>$ cat test.py\nimport sys,re\n\nwith open(sys.argv[1], \"r\") as f1:\n    patterns = f1.read().splitlines() # read pattern from file1 without the trailing newline\n\nm = re.compile(\"|\".join(patterns))    # create the regex\n\nwith open(sys.argv[2], \"r\") as f2:\n    for line in f2: \n        if m.search(line) : \n            print line,               # print line from file2 if this one matches the regex\n</code></pre>\n\n<p>and use it like this:</p>\n\n<pre><code>python test.py file1.txt file2.txt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1487571240, "post_id": 42302653, "comment_id": 71827487, "body": "You are almost on the right track!  There is no need to load the second (bigger) file into the hash.  Please see my solution below."}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "reply_to_user": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1487571776, "post_id": 42302653, "comment_id": 71827722, "body": "Yes, You are right. Could have done that, actually should have done that but anyways, how much time did this one take?"}, {"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 1, "creation_date": 1487571945, "post_id": 42302653, "comment_id": 71827797, "body": "I didn&#39;t run it since I knew it is not at all optimal because of the memory consumption.  The <code>fgrep</code> command earlier had made my MPB&#39;s fan go crazy and hence didn&#39;t have the courage to try this one!"}], "tags": [], "owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "is_accepted": false, "score": 1, "last_activity_date": 1487348724, "last_edit_date": 1487348724, "creation_date": 1487348412, "answer_id": 42302653, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42302653#42302653", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>You can also use Perl for this:</p>\n\n<p><em>Please note that this will hog memory and your machine/server better has some.</em></p>\n\n<p><strong>Sample Data:</strong></p>\n\n<pre><code>%_STATION@gaurav * /root/ga/pl&gt; head file1.txt file2.txt\n==&gt; file1.txt &lt;==\nfoo1\nfoo2\n...\nbar1\nbar2\n...\n\n==&gt; file2.txt &lt;==\ndate1|foo1|number1\ndate2|foo2|number2\ndate3|foo3|number3\n...\ndate1|bar1|number1\ndate2|bar2|number2\ndate3|bar3|number3\n%_STATION@gaurav * /root/ga/study/pl&gt;\n</code></pre>\n\n<p><strong>Script Output:</strong> Script will produce <strong>final</strong> output  in a file named <code>output_comp</code>.</p>\n\n<pre><code>%_STATION@gaurav * /root/ga/pl&gt; ./comp.pl  file1.txt file2.txt ; cat output_comp\ndate1|bar1|number1\ndate2|bar2|number2\ndate2|foo2|number2\ndate1|foo1|number1\n%_STATION@gaurav * /root/ga/pl&gt;\n</code></pre>\n\n<p><strong>Script:</strong></p>\n\n<pre><code>%_STATION@gaurav * /root/ga/pl&gt; cat comp.pl\n#!/usr/bin/perl\n\nuse strict ;\nuse warnings ;\nuse Data::Dumper ;\n\nmy ($file1,$file2) = @ARGV ;\nmy $output = \"output_comp\" ;\nmy %hash ;    # This will store main comparison data.\nmy %tmp ;     # This will store already selected results, to be skipped.\n(scalar @ARGV != 2 ? (print \"Need 2 files!\\n\") : ()) ? exit 1 : () ;\n\n# Read all files at once and use their name as the key.\nfor (@ARGV) {\n  open FH, \"&lt;$_\" or die \"Cannot open $_\\n\" ;\n  while  (my $line = &lt;FH&gt;) {chomp $line ;$hash{$_}{$line} = \"$line\"}\n  close FH ;\n}\n\n# Now we churn through the data and compare to generate\n# the sorted output in the output file.\nopen FH, \"&gt;&gt;$output\" or die \"Cannot open outfile!\\n\" ;\nforeach my $k1 (keys %{$hash{$file1}}){\n  foreach my $k2 (keys %{$hash{$file2}}){\n    if ($k1 =~ m/^.+?$k2.+?$/) {\n      if (!defined $tmp{\"$hash{$file2}{$k2}\"}) {\n        print FH \"$hash{$file2}{$k2}\\n\" ;\n        $tmp{\"$hash{$file2}{$k2}\"} = 1 ;\n      }\n    }\n  }\n}\nclose FH  ;\n%_STATION@gaurav * /root/ga/pl&gt;\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"comments": [{"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 0, "creation_date": 1487889860, "post_id": 42309876, "comment_id": 72000723, "body": "If the files are bigger: <a href=\"https://www.gnu.org/software/parallel/man.html#EXAMPLE:-Grepping-n-lines-for-m-regular-expressions\" rel=\"nofollow noreferrer\">gnu.org/software/parallel/&hellip;</a>"}], "tags": [], "owner": {"reputation": 6468, "user_id": 2057509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0bKBt.jpg?s=128&g=1", "display_name": "gregory", "link": "https://stackoverflow.com/users/2057509/gregory"}, "is_accepted": false, "score": 6, "last_activity_date": 1487890778, "last_edit_date": 1487890778, "creation_date": 1487379527, "answer_id": 42309876, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42309876#42309876", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>Assumptions: 1. You want to run this search on just your local workstation. 2. Your have multiple cores/cpus to take advantage of a parallel search.</p>\n\n<pre><code>parallel --pipepart -a file2.txt --block 10M fgrep -F -f file1.txt\n</code></pre>\n\n<p>Some further tweaks depending on the context: \nA. Disable NLS with LANG=C (this is mentioned already in another answer)\nB. Set a max number of matches with the -m flag.</p>\n\n<p>Note: I'm guessing that file2 is ~4GB and the 10M block size is ok, but you may need to optimize the block size to get the fastest run.    </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7581219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e08962d95196491c91191dcb0fff1a16?s=128&d=identicon&r=PG", "display_name": "rens", "link": "https://stackoverflow.com/users/7581219/rens"}, "is_accepted": false, "score": 0, "last_activity_date": 1487433233, "creation_date": 1487433233, "answer_id": 42317313, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42317313#42317313", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>setting language etc helps a little, perhaps.</p>\n\n<p>otherwise I can not think of a magic solution to escape from your basic issue:\nthe data is not structured, so you will have a search \nthat comes down to the number of lines in file1 multiplied with the number of lines in file2.</p>\n\n<p>put the billion lines in a database, and index it in a smart way, is the only speed up I can think of. that index would have to be very smart, though......</p>\n\n<p>SImple solution is: have enough memory to fit everything in to.\notherwise nothing much more you can do about this....</p>\n"}, {"comments": [{"owner": {"reputation": 6468, "user_id": 2057509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0bKBt.jpg?s=128&g=1", "display_name": "gregory", "link": "https://stackoverflow.com/users/2057509/gregory"}, "edited": false, "score": 0, "creation_date": 1487704485, "post_id": 42337557, "comment_id": 71901079, "body": "Your &quot;fgrep: memory exhausted&quot; is surprising; I know you&#39;re using a MBP, so I assume you&#39;re using the BSD grep version.  Can you try gnu grep with the -F flag? (can be installed with homebrew and run with gfgrep)."}, {"owner": {"reputation": 6468, "user_id": 2057509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0bKBt.jpg?s=128&g=1", "display_name": "gregory", "link": "https://stackoverflow.com/users/2057509/gregory"}, "edited": false, "score": 1, "creation_date": 1487706454, "post_id": 42337557, "comment_id": 71902242, "body": "I believe agrep uses a hash of the patterns when using -f.  You might want to give that a try; it too is installable using homebrew."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1487876121, "post_id": 42337557, "comment_id": 71993313, "body": "1) <code>defined($field)</code> should be unnecessary. If it is necessary, consider just turning off &quot;uninitialized&quot; warnings instead. 2) <code>exists($small_hash{$field})</code> can be replaced with the (ever so slightly) faster <code>$small_hash{$field}</code> if you assigned <code>1</code> instead of <code>undef</code> as the hash values. 3) <code>printf(&quot;%s&quot;, $_);</code> is a slow version of <code>print;</code>."}, {"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1487880635, "post_id": 42337557, "comment_id": 71995819, "body": "I realized the mistake that I had not tested @Inian&#39;s optimized <code>awk</code> solution.  Just updated my answer to include that."}], "tags": [], "owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "is_accepted": true, "score": 5, "last_activity_date": 1487881360, "last_edit_date": 1495542849, "creation_date": 1487570931, "answer_id": 42337557, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42337557#42337557", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>A small piece of Perl code solved the problem.  This is the approach taken:</p>\n\n<ul>\n<li>store the lines of <code>file1.txt</code> in a hash</li>\n<li>read <code>file2.txt</code> line by line, parse and extract the second field</li>\n<li>check if the extracted field is in the hash; if so, print the line</li>\n</ul>\n\n<p>Here is the code:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nif (scalar(@ARGV) != 2) {\n  printf STDERR \"Usage: fgrep.pl smallfile bigfile\\n\";\n  exit(2);\n}\n\nmy ($small_file, $big_file) = ($ARGV[0], $ARGV[1]);\nmy ($small_fp, $big_fp, %small_hash, $field);\n\nopen($small_fp, \"&lt;\", $small_file) || die \"Can't open $small_file: \" . $!;\nopen($big_fp, \"&lt;\", $big_file)     || die \"Can't open $big_file: \"   . $!;\n\n# store contents of small file in a hash\nwhile (&lt;$small_fp&gt;) {\n  chomp;\n  $small_hash{$_} = undef;\n}\nclose($small_fp);\n\n# loop through big file and find matches\nwhile (&lt;$big_fp&gt;) {\n  # no need for chomp\n  $field = (split(/\\|/, $_))[1];\n  if (defined($field) &amp;&amp; exists($small_hash{$field})) {\n    printf(\"%s\", $_);\n  }\n}\n\nclose($big_fp);\nexit(0);\n</code></pre>\n\n<hr>\n\n<p>I ran the above script with 14K lines in file1.txt and 1.3M lines in file2.txt.  It finished in about 13 seconds, producing 126K matches.  Here is the <code>time</code> output for the same:</p>\n\n<pre><code>real    0m11.694s\nuser    0m11.507s\nsys 0m0.174s\n</code></pre>\n\n<p>I ran @Inian's <code>awk</code> code:</p>\n\n<pre><code>awk 'FNR==NR{hash[$1]; next}{for (i in hash) if (match($0,i)) {print; break}}' file1.txt FS='|' file2.txt\n</code></pre>\n\n<p>It was way slower than the Perl solution, since it is looping 14K times for each line in file2.txt - which is really expensive. It aborted after processing 592K records of <code>file2.txt</code> and producing 40K matched lines. Here is how long it took:</p>\n\n<pre><code>awk: illegal primary in regular expression 24/Nov/2016||592989 at 592989\n input record number 675280, file file2.txt\n source line number 1\n\nreal    55m5.539s\nuser    54m53.080s\nsys 0m5.095s\n</code></pre>\n\n<p>Using @Inian's other <code>awk</code> solution, which eliminates the looping issue:</p>\n\n<pre><code>time awk -F '|' 'FNR==NR{hash[$1]; next}$2 in hash' file1.txt FS='|' file2.txt &gt; awk1.out\n\nreal    0m39.966s\nuser    0m37.916s\nsys 0m0.743s\n\ntime LC_ALL=C awk -F '|' 'FNR==NR{hash[$1]; next}$2 in hash' file1.txt FS='|' file2.txt &gt; awk.out\n\nreal    0m41.057s\nuser    0m38.475s\nsys 0m0.904s\n</code></pre>\n\n<p><code>awk</code> is very impressive here, given that we didn't have to write an entire program to do it.</p>\n\n<p>I ran @oliv's Python code as well.  It took about 15 hours to complete the job, and looked like it produced the right results.  Building a huge regex isn't as efficient as using a hash lookup.  Here the <code>time</code> output:</p>\n\n<pre><code>real    895m14.862s\nuser    806m59.219s\nsys 1m12.147s\n</code></pre>\n\n<p>I tried to follow the suggestion to use <a href=\"https://stackoverflow.com/a/42309876/6862601\">parallel</a>.  However, it failed with <code>fgrep: memory exhausted</code> error, even with very small block sizes.</p>\n\n<hr>\n\n<p>What surprised me was that <code>fgrep</code> was totally unsuitable for this.  I aborted it after 22 hours and it produced about 100K matches.  <strong>I wish <code>fgrep</code> had an option to force the content of <code>-f file</code> to be kept in a hash, just like what the Perl code did.</strong></p>\n\n<p>I didn't check <code>join</code> approach - I didn't want the additional overhead of sorting the files.  Also, given <code>fgrep</code>'s poor performance, I don't believe <code>join</code> would have done better than the Perl code.</p>\n\n<p>Thanks everyone for your attention and responses.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1487874786, "post_id": 42340329, "comment_id": 71992626, "body": "One less op if you change <code>exists $word{ (&#47;\\|([^|]+)&#47;)[0] }</code> to <code>$word{ (&#47;\\|([^|]+)&#47;)[0] }</code>. There&#39;s no reason not to print to STDOUT, which removes another two ops."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1487876554, "post_id": 42340329, "comment_id": 71993552, "body": "@ikegami  Thank you for comments -- they touch on things I wasn&#39;t sure about. (1) Without <code>exists</code> it fetches (and returns) the value. I thought that <code>exists</code> (somehow) avoids that (while it is one function call more)?  (2) Is there no overhead to printing &#39;out&#39; and having shell redirect? I have compared (timed) these in the past and never found direct writes to file to be faster, but I don&#39;t understand it."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1487877711, "post_id": 42340329, "comment_id": 71994190, "body": "@ikegami  For whatever it&#39;s worth, complete comparison: 1.61/s (with <code>exists</code>, write to file), 1.62/s (with <code>exists</code>, write to stdout, best), 1.56/s (without <code>exists</code>, write to file), 1.57/s (without <code>exists</code>, write to stdout).  It appears (in this one benchmark on this system) that <code>exists</code> helps (a tiny bit) while the direct write is <i>slower</i> than writing to stdout (I do <i>not</i> understand this)."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1487976943, "post_id": 42340329, "comment_id": 72043158, "body": "@zdim I updated my test-suite to include your last update using the short-curcuit <code>if</code> and printing to <code>STDOUT</code> instead of printing to the file, i.e. I used this: <code>exists $word{ (&#47;\\|([^|]+)&#47;)[0] } &amp;&amp; print</code>. However, there was practically no difference in the timings. For the small case in my answer I still got 0.61s run time, and for the large case the run time was still around 6.55s. Note, that the output from the script was still saved to file using shell redirection (<code>zdim.pl &gt; out.txt</code>)."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1487976960, "post_id": 42340329, "comment_id": 72043167, "body": ".. so I cannot see that using <code>zdim.pl</code> (without shell redirection) and saving the output to <code>out.txt</code> <i>within</i> the script would be any different (be more efficient)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1487977364, "post_id": 42340329, "comment_id": 72043314, "body": "@H&#229;konH&#230;gland  Thank you. No, that may not show much of a difference. What <i>does</i> is uncommenting the line with <code>split</code> and commenting out the line with regex.  So to use <code>split</code>-based solution instead of the regex one (both are just one line :). That should give 50% speedup. (Btw, the short-circuit has been there all along, I never had an <code>if</code>.  That also helps only very little, possibly unnoticed. Also btw, previous to this change this script wasn&#39;t printing anything to <code>STDOUT</code>, but was writing out a separate file.)"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1487977583, "post_id": 42340329, "comment_id": 72043376, "body": "@H&#229;konH&#230;gland  I am keeping the regex-based one as the &quot;main&quot; solution (while the other one is commented out) merely because it is not clear in the question whether OP wants <i>any</i> match or the second field -- and finding <i>any</i> match strikes me as more generic (so, regex).  I might as well just switch to have the faster code be the &quot;main&quot; solution.  All it takes is moving one <code>#</code> from one line to another."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1487977657, "post_id": 42340329, "comment_id": 72043393, "body": "@zdim Yes, you are right! Commenting out the <code>split</code> improved performance. I tested it now: Small case: 0.4s, large case: 4.21s, that is also clearly better than the Perl script of <code>codeforester</code>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1487977920, "post_id": 42340329, "comment_id": 72043473, "body": "@H&#229;konH&#230;gland Alright, that makes sense -- thank you! It has to be clearly better (but not by all that much), as explained in text. While the regex-based one does lag behind the <code>split</code>, I guess because starting the regex engine is a big overhead for the super-simple straight match that is needed, compared to straightforward and simple work that <code>split</code> does (break by space and pick one element to return)."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 19, "last_activity_date": 1536994840, "last_edit_date": 1536994840, "creation_date": 1487581643, "answer_id": 42340329, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42340329#42340329", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>A Perl solution. &nbsp; [See <strong>Note</strong> below.]</p>\n\n<p>Use a hash for the first file. As you read the big file line-by-line, extract the field by regex (captures the first pattern between <code>||</code>) or <code>split</code> (gets the second word) and print if it <code>exists</code>. They likely differ in speed a bit (time them). The <code>defined</code> check isn't needed in the regex while for <code>split</code> use <code>//</code> (defined-or) that short-circuits.</p>\n\n<pre><code>use warnings;\nuse strict;\n\n# If 'prog smallfile bigfile' is the preferred use\ndie \"Usage: $0 smallfile bigfile\\n\"  if @ARGV != 2;\nmy ($smallfile, $bigfile) = @ARGV;\n\nopen my $fh, '&lt;', $smallfile or die \"Can't open $smallfile: $!\";    \nmy %word = map { chomp; $_ =&gt; 1 } &lt;$fh&gt;;\n\nopen    $fh, '&lt;', $bigfile or die \"Can't open $bigfile: $!\";       \nwhile (&lt;$fh&gt;) \n{\n    exists $word{ (/\\|([^|]+)/)[0] } &amp;&amp; print;  \n\n    # Or\n    #exists $word{ (split /\\|/)[1] // '' } &amp;&amp; print;\n}\nclose $fh;\n</code></pre>\n\n<p>Avoiding the <code>if</code> branch and using short-circuit is faster, but only very little. On billions of lines these tweaks add up but again not to too much. It may (or may not) be a tad bit faster to read the small file line by line, instead of in list context as above, but this should <em>not</em> be noticeable.</p>\n\n<p><strong>Update</strong> &nbsp; Writing to <code>STDOUT</code> saves two operations and I repeatedly time it to be a little faster than writing to a file. Such usage is also consistent with most UNIX tools so I changed to write to <code>STDOUT</code>. Next, the <code>exists</code> test is not needed and dropping it spares an operation. However, I consistently get a touch better runtimes <em>with it</em>, while it also conveys the purpose better. Altogether I am leaving it in. Thanks to <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> for comments.</p>\n\n<p><strong>Note</strong> &nbsp; The commented out version is <strong>about 50% faster</strong> than the other, by my benchmark below. These are both given because they are <em>different</em>, one finding the first match and the other the second field. I am keeping it this way as a more generic choice, since the question is ambiguous on that.</p>\n\n<hr>\n\n<p><em>Some comparisons (benchmark)  &nbsp; [Updated for writing to <code>STDOUT</code>, see \"Update\" above]</em></p>\n\n<p>There is an extensive analysis in the <a href=\"https://stackoverflow.com/a/42370477/4653379\">answer by H\u00e5konH\u00e6gland</a>, timing one run of most solutions. Here is another take, benchmarking the two solutions above, the OP's own answer, and the posted <code>fgrep</code> one, expected to be fast and used in the question and in many answers.</p>\n\n<p>I build test data in the following way.  A handful of lines of the length roughly as shown are made with random words, for both files, so to match in the second field. Then I pad this \"seed\" for data samples with lines that won't match, so to mimic ratios between sizes and matches quoted by OP: for <em>14K</em> lines in small file there are <em>1.3M</em> lines in the big file, yielding <em>126K</em> matches. Then these samples are written repeatedly to build full data files as OP's, <code>shuffle</code>-ed each time using <a href=\"http://perldoc.perl.org/List/Util.html\" rel=\"noreferrer\">List::Util</a>.</p>\n\n<p>All runs compared below produce <code>106_120</code> matches for the above file sizes (<code>diff</code>-ed for a check), so the matching frequency is close enough.\nThey are benchmarked by calling complete programs using <code>my $res = timethese(60 ...)</code>. The result of <code>cmpthese($res)</code> on v5.16 are</p>\n\n<pre>\n        Rate regex  cfor split fgrep\nregex 1.05/s    --  -23%  -35%  -44%\ncfor  1.36/s   30%    --  -16%  -28%\nsplit 1.62/s   54%   19%    --  -14%\nfgrep 1.89/s   80%   39%   17%    --\n</pre>\n\n<p>The fact that the optimized C-program <code>fgrep</code> comes on top isn't surprising. The lag of \"<em>regex</em>\" behind \"<em>split</em>\" may be due to the overhead of starting the engine for little matches, <em>many</em> times. This may vary over Perl versions, given the evolving regex engine optimizations. I include the answer of @codeforester (\"<em>cfor</em>\") since it was claimed to be fastest, and its <code>20%</code> lag behind the very similar \"<em>split</em>\" is likely due to scattered small inefficiencies (see a comment below this answer).<sup>&dagger;</sup></p>\n\n<p>This isn't shatteringly different, while there are sure variations across hardware and software and over data details. I ran this on different Perls and machines, and the notable difference is that <em>in some cases <code>fgrep</code> was indeed an order of magnitude faster</em>.</p>\n\n<p>The OP's experience of very slow <code>fgrep</code> is surprising. Given their quoted run times, order of magnitude slower than the above, I'd guess that there's an old system to \"blame.\"</p>\n\n<p>Even though this is completely I/O based there are concurrency benefits from putting it on multiple cores and I'd expect a good speedup, up to a factor of a few.</p>\n\n<hr>\n\n<p><sup>&dagger;</sup> Alas, the comment got deleted (?). In short: unneeded use of a scalar (costs), of an <code>if</code> branch, of <code>defined</code>, of <code>printf</code> instead of <code>print</code> (slow!). These matter for efficiency on 2 billion lines. </p>\n"}, {"tags": [], "owner": {"reputation": 1009, "user_id": 2051109, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/216009d45e1b8e34f936173142f0648f?s=128&d=identicon&r=PG", "display_name": "BOC", "link": "https://stackoverflow.com/users/2051109/boc"}, "is_accepted": false, "score": 1, "last_activity_date": 1487600255, "creation_date": 1487600255, "answer_id": 42346955, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42346955#42346955", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>IMHO, grep is a good tool highly optimised for huge file2.txt but maybe not for so many patterns to search. I suggest to combine all the strings of file1.txt into a single huge regexp like \\|bar1|bar2|foo1|foo2\\|</p>\n\n<pre><code>echo  '\\|'$(paste -s -d '|' file1.txt)'\\|' &gt; regexp1.txt\n\ngrep -E -f regexp1.txt file2.txt &gt; file.matched\n</code></pre>\n\n<p>And of course LANG=C may help.\nPlease give feedback or send your files so I can test myself.</p>\n"}, {"comments": [{"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 2, "creation_date": 1487694654, "post_id": 42370477, "comment_id": 71895205, "body": "Nice testing. I&#39;m surprised that Join solution could achieve good results.  Also notice that join solution should require sort before to work - Please re-check. Moreover i think that you missed codeforester accepted solution (perl code) , and is quite strange that zdim perl solution is much slower than grep while OP claims the opposite (and we tend to believe him :) )"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 0, "creation_date": 1487704460, "post_id": 42370477, "comment_id": 71901063, "body": "@GeorgeVasiliou Thanks for the comments! I was also a bit surprised over the results. Note that <code>file1.txt</code> and <code>file2.txt</code> are in fact sorted. I uploaded everything to GitHub <a href=\"https://github.com/hakonhagland/fast-grep-bench\" rel=\"nofollow noreferrer\">here</a>. Please try run the code on your machine and report back. Just do <code>git clone https:&#47;&#47;github.com&#47;hakonhagland&#47;fast-grep-bench.git</code> and then run <code>run_case.sh 75w-5w-1Mw</code> to run exactly the same case as I did :)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 0, "creation_date": 1487707086, "post_id": 42370477, "comment_id": 71902578, "body": "@GeorgeVasiliou Updated answer to include the accepted Perl solution by codeforester. Sorry I forgot it."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 4, "creation_date": 1487776659, "post_id": 42370477, "comment_id": 71937980, "body": "Make sure your input contains things you do not want to match. For example if you ONLY want to do exact string matches on the 2nd field of file2, then include <code>foo</code> and <code>f.*o</code> in file1 plus <code>a|foobar|b</code> and <code>foo|a|b</code> in file2 and so on. It&#39;s always trivial to write tools that match on the things you do want but then harder to exclude the things you don&#39;t want so the only way to really test a solution is to put effort into creating test cases that include the things you could imagine might match but should not (typically partial, regexp, or wrong-part-of-line matches)."}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 0, "creation_date": 1487816349, "post_id": 42370477, "comment_id": 71958539, "body": "I downloaded your small files (file1 5 words - file2 1M lines)and i run some of the solutions directly. Some results: 1.<code>Inian3 C localle awk hash - time 0.7 secs - 1.1 secs without C locale</code> -2. <code>Inian4 - C localle fgrep , time 0.22 secs</code> -3. <code>gregory1 parallel, time 0.5 secs</code> -4. <code>BOC2 grep -E wih C localle , time 15 sec</code> - 5. <code>inian2 - awk index , time 1.7 sec</code> -6.<code>join solution without sorting 0.23 secs</code>. All results redirected to file3.txt - matches were 66711 for all cases. 2 X CPU Intel 2 Duo T6570 @ 2.10GHz - 2Gb RAM-Debian Testing 64bit- kernel 4.9.0.1 - no cpu freq scaling."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 0, "creation_date": 1487842518, "post_id": 42370477, "comment_id": 71969664, "body": "@GeorgeVasiliou Thanks for the results! One question: <code>BOC2 15s</code> should it be 1.5s or 0.15s instead of 15s?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 0, "creation_date": 1487843116, "post_id": 42370477, "comment_id": 71970105, "body": "@GeorgeVasiliou Updated answer with your results, and added <code>inian6</code> method (same as <code>inian3</code> but with <code>LC_ALL=C</code>). Thanks for the suggestion,  it seems <code>inian6</code> is siginificantly faster than <code>inian3</code>."}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 0, "creation_date": 1487849223, "post_id": 42370477, "comment_id": 71974253, "body": "@H&#229;konH&#230;gland For BOC2 , i did the test several times and it was 15 seconds indeed. It is not a typo error. I don&#39;t know why <code>fgrep -F</code> is fast as hell and <code>grep -E</code> is that slow. Same conditions, same machine. I can not explain it."}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 1, "creation_date": 1487849671, "post_id": 42370477, "comment_id": 71974585, "body": "@H&#229;konH&#230;gland Since this post tends to become a future benchmark reference, i would suggest to include in your main answer the direct location of the RAW file1 and file2.txt (both small files and large files). I had to search a lot in your github to locate the correct files to wget them. By providing raw links , anybody can wget the files and make a simple test with <code>time</code> (no need to get your whole comparison script). I did all tests using <code># time &lt;solution&gt;</code> - for example <code># time LC_ALL=C fgrep -F -f file1.txt file2.txt &gt;file3.txt</code>"}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 1, "creation_date": 1487850316, "post_id": 42370477, "comment_id": 71974958, "body": "One last comment to it whom it may concern: has been proved in one of my small amateur projects[1] that grep can be 100% faster  by disabling the cpu frequency scaling. In some machines (like one of mine) cpu freq scaling is enabled by default with <code>powersave</code> options.  By changing cpu scaling to &quot;performace&quot; or by manually applying max cpu freq regular grep finished the job in 50% less time than previous &quot;powersave&quot; governor. @codeforester you might also want to check this in your machine. [1]: <a href=\"http://codereview.stackexchange.com/questions/146383/optimize-text-search-in-files-with-bash\" title=\"optimize text search in files with bash\">codereview.stackexchange.com/questions/146383/&hellip;</a>"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 2, "creation_date": 1487860829, "post_id": 42370477, "comment_id": 71982855, "body": "I wish you&#39;d included regexp metacharacters in file1 so we could filter out solutions that use regexp instead of string comparisons. Also do you know if any of the words from file1 were partial matches for words in field2 of file2 (e.g. <code>foo</code> vs <code>foobar</code>)? You should have some of those to again filter out non-solutions. Finally - did you do 3rd-iteration timing to remove the effects of cacheing?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1487874688, "post_id": 42370477, "comment_id": 71992580, "body": "Half of the solutions you benchmarked don&#39;t even work! The following fail to handle <code>file1.txt</code> <code>foo1</code> <code>file2.txt</code> <code>date1|foo12|number5</code>: BOC1, BOC2, codeforester_orig, gregory1, inian2, inian4, oliv"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1487918570, "post_id": 42370477, "comment_id": 72009509, "body": "Nice how fixing <code>gregory1</code> changed it from the slowest solution to the fastest solution that works!"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1487989221, "post_id": 42370477, "comment_id": 72046130, "body": "Did you adjust for those solutions that <code>print</code> vs those that write to a file? Printing can be a substantial IO penalty. For an apples to apples comparison, they should all print or all write to a file..."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1488012675, "post_id": 42370477, "comment_id": 72050935, "body": "@dawg Yes I pretty confident that I did that :) You can check how the methods are implemented <a href=\"https://github.com/hakonhagland/fast-grep-bench/tree/master/solutions\" rel=\"nofollow noreferrer\">here</a>. All methods are being run either directly or indirectly through the shell script <code>run.sh</code> in the pertinent subfolder of <a href=\"https://github.com/hakonhagland/fast-grep-bench/tree/master/solutions\" rel=\"nofollow noreferrer\">solutions</a>. So for example, your python script is being run using <code>run.py &gt;out.txt</code>, where <code>run.py</code> is the Python script."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488012692, "post_id": 42370477, "comment_id": 72050940, "body": "... In fact the tests should not work if they printed to <code>STDOUT</code> instead of to file, since I later (after the method has been run) read their output file to check if they extracted the right number of lines from <code>file2.txt</code>."}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "edited": false, "score": 1, "creation_date": 1488791800, "post_id": 42370477, "comment_id": 72371670, "body": "@H&#229;konH&#230;gland, very cool (+1). I know that this question is &quot;old&quot; but I could not resist :-) .  Could you time my answer just for curiosity? (I know I am not a wining candidate)"}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "reply_to_user": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "edited": false, "score": 3, "creation_date": 1488835418, "post_id": 42370477, "comment_id": 72399197, "body": "@jjoao This topic has so many info gathered together that everytime i see a grep question in SE i point people here... These solutions with benchmarks should be a &quot;grep like&quot; wiki!"}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 1, "creation_date": 1488847691, "post_id": 42370477, "comment_id": 72404107, "body": "@GeorgeVasiliou, I &quot;came&quot; to this question because I saw a link posted by you :) ..."}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "reply_to_user": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "edited": false, "score": 1, "creation_date": 1488849394, "post_id": 42370477, "comment_id": 72404587, "body": "@JJoao That is Cool! :-)))"}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 0, "creation_date": 1488851593, "post_id": 42370477, "comment_id": 72405155, "body": "At small files test, my solution achieved 0.23 seconds in my machine. I was able to reduce in my machine time down to 0.16 seconds just by applying <code>LC_ALL=C</code> in front of join... Do you want to give a try with your files to verify if there is a performance increase with C locale?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 0, "creation_date": 1488893621, "post_id": 42370477, "comment_id": 72425372, "body": "@GeorgeVasiliou Thanks! I have updated my answer. This was really impressive :)"}, {"owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "edited": false, "score": 2, "creation_date": 1513331271, "post_id": 42370477, "comment_id": 82621787, "body": "Newer versions of <code>parallel</code> will compute the block size if you give it a negative number: <code>--block-size -1</code> = one chuck per jobslot, <code>-2</code> = two chunks per jobslot."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 14, "last_activity_date": 1488893561, "last_edit_date": 1495540011, "creation_date": 1487688344, "answer_id": 42370477, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42370477#42370477", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>I have tried to do a comparison between some of the methods presented here. </p>\n\n<p>First I created a Perl script to generate the input files <code>file1.txt</code> and <code>file2.txt</code>. In order to compare some of the solutions, I made sure that the the words from <code>file1.txt</code> only could appear in the second field in <code>file2.txt</code>. Also to be able to use the <code>join</code> solution presented by @GeorgeVasiliou, I sorted <code>file1.txt</code> and <code>file2.txt</code>. Currently I generated the input files based on only 75 random words ( taken from <a href=\"https://www.randomlists.com/random-words\" rel=\"noreferrer\">https://www.randomlists.com/random-words</a> ). Only 5 of these 75 words was used in <code>file1.txt</code> the remaining 70 words was used to fill up the fields in <code>file2.txt</code>. It might be necessary to increase the number of words substantially to get realistic results ( according to the OP, the original <code>file1.txt</code> contained 14000 words). In the tests below I used a <code>file2.txt</code> with 1000000 ( 1 million ) lines. The script also generates the file <code>regexp1.txt</code> required by the grep solution of @BOC.</p>\n\n<p><strong>gen_input_files.pl</strong>:</p>\n\n<pre><code>#! /usr/bin/env perl\nuse feature qw(say);\nuse strict;\nuse warnings;\n\nuse Data::Printer;\nuse Getopt::Long;\n\nGetOptions (\"num_lines=i\" =&gt; \\my $nlines )\n  or die(\"Error in command line arguments\\n\");\n\n# Generated random words from site: https://www.randomlists.com/random-words\nmy $word_filename        = 'words.txt'; # 75 random words\nmy $num_match_words      = 5;\nmy $num_file2_lines      = $nlines || 1_000_000;\nmy $file2_words_per_line = 3;\nmy $file2_match_field_no = 2;\nmy $file1_filename       = 'file1.txt';\nmy $file2_filename       = 'file2.txt';\nmy $file1_regex_fn       = 'regexp1.txt';\n\nsay \"generating $num_file2_lines lines..\";\nmy ( $words1, $words2 ) = get_words( $word_filename, $num_match_words );\n\nwrite_file1( $file1_filename, $words2 );\nwrite_file2(\n    $file2_filename, $words1, $words2, $num_file2_lines,\n    $file2_words_per_line, $file2_match_field_no\n);\nwrite_BOC_regexp_file( $file1_regex_fn, $words2 );\n\n\nsub write_BOC_regexp_file {\n    my ( $fn, $words ) = @_;\n\n    open( my $fh, '&gt;', $fn ) or die \"Could not open file '$fn': $!\";\n    print $fh '\\\\|' . (join \"|\", @$words) . '\\\\|';\n    close $fh;\n}\n\nsub write_file2 {\n    my ( $fn, $words1, $words2, $nlines, $words_per_line, $field_no ) = @_;\n\n    my $nwords1 = scalar @$words1;\n    my $nwords2 = scalar @$words2;\n    my @lines;\n    for (1..$nlines) {\n        my @words_line;\n        my $key;\n        for (1..$words_per_line) {\n            my $word;\n            if ( $_ != $field_no ) {\n                my $index = int (rand $nwords1);\n                $word = @{ $words1 }[$index];\n            }\n            else {\n                my $index = int (rand($nwords1 + $nwords2) );\n                if ( $index &lt; $nwords2 ) {\n                    $word = @{ $words2 }[$index];\n                }\n                else {\n                    $word =  @{ $words1 }[$index - $nwords2];\n                }\n                $key = $word;\n            }\n            push @words_line, $word;\n        }\n        push @lines, [$key, (join \"|\", @words_line)];\n    }\n    @lines = map { $_-&gt;[1] } sort { $a-&gt;[0] cmp $b-&gt;[0] } @lines; \n    open( my $fh, '&gt;', $fn ) or die \"Could not open file '$fn': $!\";\n    print $fh (join \"\\n\", @lines);\n    close $fh;\n}\n\nsub write_file1 {\n    my ( $fn, $words ) = @_;\n\n    open( my $fh, '&gt;', $fn ) or die \"Could not open file '$fn': $!\";\n    print $fh (join \"\\n\", sort @$words);\n    close $fh;\n}\n\nsub get_words {\n    my ( $fn, $N ) = @_;\n\n    open( my $fh, '&lt;', $fn ) or die \"Could not open file '$fn': $!\";\n    my @words = map {chomp $_; $_} &lt;$fh&gt;;\n    close $fh;\n\n    my @words1 = @words[$N..$#words];\n    my @words2 = @words[0..($N - 1)];\n    return ( \\@words1, \\@words2 );\n}\n</code></pre>\n\n<p>Next, I created a sub folder <code>solutions</code> with all the test cases:</p>\n\n<pre><code>$ tree solutions/\nsolutions/\n\u251c\u2500\u2500 BOC1\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 out.txt\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 run.sh\n\u251c\u2500\u2500 BOC2\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 out.txt\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 run.sh\n\u251c\u2500\u2500 codeforester\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 out.txt\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 run.pl\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 run.sh\n[...]\n</code></pre>\n\n<p>Here the files <code>out.txt</code> is the output from the greps for each solution. The scripts <code>run.sh</code> runs the solution for the given test case. </p>\n\n<h2>Notes on the different solutions</h2>\n\n<ul>\n<li><p><strong><code>BOC1</code></strong> : First solution presented by @BOC</p>\n\n<pre><code>grep -E -f regexp1.txt file2.txt\n</code></pre></li>\n<li><p><strong><code>BOC2</code></strong> : Second solution suggested by @BOC:</p>\n\n<pre><code>LC_ALL=C grep -E -f regexp1.txt file2.txt\n</code></pre></li>\n<li><p><strong><code>codeforester</code></strong> : Accepted Perl solution by @codeforester ( see <a href=\"https://stackoverflow.com/a/42337557/2173773\">source</a> )</p></li>\n<li><p><strong><code>codeforester_orig</code></strong> : Original solution presented by @codeforested:</p>\n\n<pre><code>fgrep -f file1.txt file2.txt\n</code></pre></li>\n<li><p><strong><code>dawg</code></strong> : Python solution using dictionary and split line proposed by @dawg ( see <a href=\"https://stackoverflow.com/a/42426100/2173773\">source</a> )</p></li>\n<li><p><strong><code>gregory1</code></strong> : solution using Gnu Parallel suggested by @gregory</p>\n\n<pre><code>parallel -k --pipepart -a file2.txt --block \"$block_size\" fgrep -F -f file1.txt\n</code></pre>\n\n<p>See note below regarding how to choose <code>$block_size</code>.  </p></li>\n<li><p><strong><code>hakon1</code></strong> : Perl solution provided by @H\u00e5konH\u00e6gland (see <a href=\"https://stackoverflow.com/a/42495367/2173773\">source</a>). This solution requires compilation of the c-extension the first time the code is run. It does not require recompilation when <code>file1.txt</code> or <code>file2.txt</code> changes. Note: The time used to compile the c-extension at the initial run is not included in the run times presented below.</p></li>\n<li><p><strong><code>ikegami</code></strong> : Solution using assembled regexp and using <code>grep -P</code> as given by @ikegami. Note: The assembled regexp was written to a separate file <code>regexp_ikegami.txt</code>, so the runtime of generating the regexp is not included in the comparison below. This is the code used:</p>\n\n<pre><code>regexp=$(&lt; \"regexp_ikegami.txt\")\ngrep -P \"$regexp\" file2.txt\n</code></pre></li>\n<li><p><strong><code>inian1</code></strong> : First solution by @Inian using <code>match()</code></p>\n\n<pre><code>awk 'FNR==NR{\n    hash[$1]; next\n}\n{\n   for (i in hash) if (match($0,i)) {print; break}\n}' file1.txt FS='|' file2.txt\n</code></pre></li>\n<li><p><strong><code>inian2</code></strong> : Second solution by @Inian using <code>index()</code></p>\n\n<pre><code>awk 'FNR==NR{\n    hash[$1]; next\n}\n{\n   for (i in hash) if (index($0,i)) {print; break}\n}' file1.txt FS='|' file2.txt\n</code></pre></li>\n<li><p><strong><code>inian3</code></strong> : Third solution by @Inian checking only <code>$2</code> field:</p>\n\n<pre><code>awk 'FNR==NR{\n    hash[$1]; next\n}\n$2 in hash' file1.txt FS='|' file2.txt\n</code></pre></li>\n<li><p><strong><code>inian4</code></strong> : 4th soultion by @Inian ( basically the same as <code>codeforester_orig</code> with <code>LC_ALL</code> ) :</p>\n\n<pre><code>LC_ALL=C fgrep -f file1.txt file2.txt\n</code></pre></li>\n<li><p><strong><code>inian5</code></strong> : 5th solution by @Inian (same as <code>inian1</code> but with <code>LC_ALL</code> ): </p>\n\n<pre><code>LC_ALL=C awk 'FNR==NR{\n    hash[$1]; next\n}\n{\n   for (i in hash) if (match($0,i)) {print; break}\n}' file1.txt FS='|' file2.txt\n</code></pre></li>\n<li><p><strong><code>inian6</code></strong> : Same as <code>inian3</code> but with <code>LC_ALL=C</code>. Thanks to @GeorgeVasiliou for suggestion.</p></li>\n<li><p><strong><code>jjoao</code></strong> : Compiled flex-generated C code as proposed by @JJoao (see <a href=\"https://stackoverflow.com/a/42621587/2173773\">source</a> ). Note: Recompilation of the exectuable must be done each time <code>file1.txt</code> changes. The time used to compile the executable is not included in the run times presented below.</p></li>\n<li><p><strong><code>oliv</code></strong> : Python script provided by @oliv ( see <a href=\"https://stackoverflow.com/a/42295002/2173773\">source</a> )</p></li>\n<li><p><strong><code>Vasiliou</code></strong> : Using <code>join</code> as suggested by @GeorgeVasiliou:</p>\n\n<pre><code>join --nocheck-order -11 -22 -t'|' -o 2.1 2.2 2.3 file1.txt file2.txt\n</code></pre></li>\n<li><p><strong><code>Vasiliou2</code></strong> : Same as <code>Vasiliou</code> but with <code>LC_ALL=C</code>.</p></li>\n<li><p><strong><code>zdim</code></strong> : Using Perl script provided by @zdim ( see <a href=\"https://stackoverflow.com/a/42340329/2173773\">source</a> ). Note: This uses the regexp search version ( instead of split line solution ).</p></li>\n<li><p><strong><code>zdim2</code></strong> : Same as <code>zdim</code> except that it uses the <code>split</code> function instead of regexp search for the field in <code>file2.txt</code>.</p></li>\n</ul>\n\n<h3>Notes</h3>\n\n<ol>\n<li><p>I experimented a little bit with Gnu parallel (see <code>gregory1</code> solution above) to determine the optimal block size for my CPU. I have 4 cores, and and currently it seems that the optimal choice is to devide the file (<code>file2.txt</code>) into 4 equal sized chunks, and run a single job on each of the 4 processors. More testing might be needed here. So for the first test case where <code>file2.txt</code> is 20M, I set <code>$block_size</code> to 5M ( see <code>gregory1</code> solution above), whereas for the more realistic case presented below where <code>file2.txt</code> is 268M, a <code>$block_size</code> of 67M was used.</p></li>\n<li><p>The solutions <code>BOC1</code>, <code>BOC2</code>, <code>codeforester_orig</code>, <code>inian1</code>, <code>inian4</code>, <code>inian5</code>, and <code>gregory1</code> all used loose matching. Meaning that the words from <code>file1.txt</code> did not have to match exactly in field #2 of <code>file2.txt</code>. A match anywhere on the line was accepted. Since this behavior made it more difficult to compare them with the other methods, some modified methods were also introduced. The first two methods called <code>BOC1B</code> and <code>BOC2B</code> used a modified <code>regexp1.txt</code> file. The lines in the original <code>regexp1.txt</code> where on the form <code>\\|foo1|foo2|...|fooN\\|</code> which would match the words at any field boundary. The modified file, <code>regexp1b.txt</code>, anchored the match to field #2 exclusively using the form <code>^[^|]*\\|foo1|foo2|...|fooN\\|</code> instead. </p>\n\n<p>Then the rest of the modified methods <code>codeforester_origB</code>, <code>inian1B</code>, <code>inian4B</code>, <code>inian5B</code>, and <code>gregory1B</code> used a modified <code>file1.txt</code>. Instead of a <em>literal</em> word per line, the modified file <code>file1b.txt</code> used one <em>regex</em> per line on the form:</p>\n\n<pre><code> ^[^|]*\\|word1\\|\n ^[^|]*\\|word2\\|\n ^[^|]*\\|word3\\|\n [...]\n</code></pre>\n\n<p>and in addition, <code>fgrep -f</code> was replaced by <code>grep -E -f</code> for these methods.</p></li>\n</ol>\n\n<h2>Running the tests</h2>\n\n<p>Here is the script used for running all the tests. It uses the Bash <code>time</code> command to record the time spent for each script. Note that the <code>time</code> command returns three different times call <code>real</code>, <code>user</code>, and <code>sys</code>. First I used <code>user</code> + <code>sys</code>, but realized that this was incorrect when using Gnu parallel command, so the time reported below is now the <code>real</code> part returned by <code>time</code>. See <a href=\"https://stackoverflow.com/q/556405/2173773\">this question</a> for more information about the different times returned by <code>time</code>.</p>\n\n<p>The first test is run with <code>file1.txt</code> containing 5 lines, and <code>file2.txt</code> containing <code>1000000</code> lines. Here is the first 52 lines of the <code>run_all.pl</code> script, the rest of the script is available <a href=\"https://github.com/hakonhagland/fast-grep-bench/blob/master/run_all.pl\" rel=\"noreferrer\">here</a>.</p>\n\n<p><strong>run_all.pl</strong></p>\n\n<pre><code>#! /usr/bin/env perl\n\nuse feature qw(say);\nuse strict;\nuse warnings;\n\nuse Cwd;\nuse Getopt::Long;\nuse Data::Printer;\nuse FGB::Common;\nuse List::Util qw(max shuffle);\nuse Number::Bytes::Human qw(format_bytes);\nuse Sys::Info;\n\nGetOptions (\n    \"verbose\"       =&gt; \\my $verbose,\n    \"check\"         =&gt; \\my $check,\n    \"single-case=s\" =&gt; \\my $case,\n    \"expected=i\"    =&gt; \\my $expected_no_lines,\n) or die(\"Error in command line arguments\\n\");\n\nmy $test_dir    = 'solutions';\nmy $output_file = 'out.txt';\nmy $wc_expected = $expected_no_lines; # expected number of output lines\n\nmy $tests       = get_test_names( $test_dir, $case );\n\nmy $file2_size  = get_file2_size();\nmy $num_cpus    = Sys::Info-&gt;new()-&gt;device( CPU =&gt; () )-&gt;count;\n\nchdir $test_dir;\nmy $cmd = 'run.sh';\nmy @times;\nfor my $case (@$tests) {\n    my $savedir = getcwd();\n    chdir $case;\n    say \"Running '$case'..\";\n    my $arg = get_cmd_args( $case, $file2_size, $num_cpus );\n    my $output = `bash -c \"{ time -p $cmd $arg; } 2&gt;&amp;1\"`;\n    my ($user, $sys, $real ) = get_run_times( $output );\n    print_timings( $user, $sys, $real ) if $verbose;\n    check_output_is_ok( $output_file, $wc_expected, $verbose, $check );\n    print \"\\n\" if $verbose;\n    push @times, $real;\n    #push @times, $user + $sys; # this is wrong when using Gnu parallel\n    chdir $savedir;\n}\n\nsay \"Done.\\n\";\n\nprint_summary( $tests, \\@times );\n</code></pre>\n\n<h2>Results</h2>\n\n<p>Here is the output from running the tests:</p>\n\n<pre><code>$  run_all.pl --verbose\nRunning 'inian3'..\n..finished in 0.45 seconds ( user: 0.44, sys: 0.00 )\n..no of output lines: 66711\n\nRunning 'inian2'..\n..finished in 0.73 seconds ( user: 0.73, sys: 0.00 )\n..no of output lines: 66711\n\nRunning 'Vasiliou'..\n..finished in 0.09 seconds ( user: 0.08, sys: 0.00 )\n..no of output lines: 66711\n\nRunning 'codeforester_orig'..\n..finished in 0.05 seconds ( user: 0.05, sys: 0.00 )\n..no of output lines: 66711\n\nRunning 'codeforester'..\n..finished in 0.45 seconds ( user: 0.44, sys: 0.01 )\n..no of output lines: 66711\n\n[...]\n</code></pre>\n\n<h2>Summary</h2>\n\n<p>[Results obtained by @Vasiliou are shown in the middle column.]</p>\n\n<pre><code>                               |Vasiliou\nMy Benchmark                   |Results  |   Details\n-------------------------------|---------|----------------------\ninian4             : 0.04s     |0.22s    | LC_ALL fgrep -f [loose] \ncodeforester_orig  : 0.05s     |         | fgrep -f [loose]\nVasiliou2          : 0.06s     |0.16s    | [LC_ALL join [requires sorted files]]\nBOC1               : 0.06s     |         | grep -E [loose] \nBOC2               : 0.07s     |15s      | LC_ALL grep -E [loose] \nBOC2B              : 0.07s     |         | LC_ALL grep -E [strict] \ninian4B            : 0.08s     |         | LC_ALL grep -E -f [strict] \nVasiliou           : 0.08s     |0.23s    | [join [requires sorted files]] \ngregory1B          : 0.08s     |         | [parallel + grep -E -f [strict]] \nikegami            : 0.1s      |         | grep -P \ngregory1           : 0.11s     |0.5s     | [parallel + fgrep -f [loose]] \nhakon1             : 0.14s     |         | [perl + c]\nBOC1B              : 0.14s     |         | grep -E [strict] \njjoao              : 0.21s     |         | [compiled flex generated c code] \ninian6             : 0.26s     |0.7s     | [LC_ALL awk + split+dict] \ncodeforester_origB : 0.28s     |         | grep -E -f [strict] \ndawg               : 0.35s     |         | [python + split+dict] \ninian3             : 0.44s     |1.1s     | [awk + split+dict] \nzdim2              : 0.4s      |         | [perl + split+dict] \ncodeforester       : 0.45s     |         | [perl + split+dict] \noliv               : 0.5s      |         | [python + compiled regex + re.search()] \nzdim               : 0.61s     |         | [perl + regexp+dict] \ninian2             : 0.73s     |1.7s     | [awk + index($0,i)] \ninian5             : 18.12s    |         | [LC_ALL awk + match($0,i) [loose]] \ninian1             : 19.46s    |         | [awk + match($0,i) [loose]] \ninian5B            : 42.27s    |         | [LC_ALL awk + match($0,i) [strict]] \ninian1B            : 85.67s    |         | [awk + match($0,i) [strict]] \n\nVasiliou Results : 2 X CPU Intel 2 Duo T6570 @ 2.10GHz - 2Gb RAM-Debian Testing 64bit- kernel 4.9.0.1 - no cpu freq scaling.\n</code></pre>\n\n<h2>A more realistic test case</h2>\n\n<p>I then created a more realistic case with <code>file1.txt</code> having 100 words and <code>file2.txt</code> having 10 million lines (268Mb file size). I extracted 1000 random words from the dictionary at <code>/usr/share/dict/american-english</code> using <code>shuf -n1000 /usr/share/dict/american-english &gt; words.txt</code> then extracted 100 of these words into <code>file1.txt</code> and then constructed <code>file2.txt</code> the same way as described above for the first test case. Note that the dictionary file was UTF-8 encoded, and I stripped away all non-ASCII characters from the <code>words.txt</code>.</p>\n\n<p>Then I run the test without the three slowest methods from the previous case. I.e. <code>inian1</code>, <code>inian2</code>, and <code>inian5</code> were left out. Here are the new results:  </p>\n\n<pre><code>gregory1           : 0.86s     | [parallel + fgrep -f [loose]]\nVasiliou2          : 0.94s     | [LC_ALL join [requires sorted files]]\ninian4B            : 1.12s     | LC_ALL grep -E -f [strict] \nBOC2B              : 1.13s     | LC_ALL grep -E [strict] \nBOC2               : 1.15s     | LC_ALL grep -E [loose] \nBOC1               : 1.18s     | grep -E [loose] \nikegami            : 1.33s     | grep -P \nVasiliou           : 1.37s     | [join [requires sorted files]]\nhakon1             : 1.44s     | [perl + c]\ninian4             : 2.18s     | LC_ALL fgrep -f [loose] \ncodeforester_orig  : 2.2s      | fgrep -f [loose] \ninian6             : 2.82s     | [LC_ALL awk + split+dict] \njjoao              : 3.09s     | [compiled flex generated c code] \ndawg               : 3.54s     | [python + split+dict] \nzdim2              : 4.21s     | [perl + split+dict]\ncodeforester       : 4.67s     | [perl + split+dict] \ninian3             : 5.52s     | [awk + split+dict] \nzdim               : 6.55s     | [perl + regexp+dict] \ngregory1B          : 45.36s    | [parallel + grep -E -f [strict]] \noliv               : 60.35s    | [python + compiled regex + re.search()] \nBOC1B              : 74.71s    | grep -E [strict] \ncodeforester_origB : 75.52s    | grep -E -f [strict] \n</code></pre>\n\n<h3>Note</h3>\n\n<p>The <code>grep</code> based solutions were looking for a match on the whole line, so in this case they contained some false matches: the methods <code>codeforester_orig</code>, <code>BOC1</code>, <code>BOC2</code>, <code>gregory1</code>, <code>inian4</code>, and <code>oliv</code> extracted 1,087,609 lines out of 10,000,000 lines, whereas the other methods extracted the correct 997,993 lines from <code>file2.txt</code>.</p>\n\n<h2>Notes</h2>\n\n<ul>\n<li><p>I tested this on my Ubuntu 16.10 laptop (Intel Core i7-7500U CPU @ 2.70GHz)</p></li>\n<li><p>The whole benchmark study is available <a href=\"https://github.com/hakonhagland/fast-grep-bench\" rel=\"noreferrer\">here</a>.</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1487879746, "post_id": 42423221, "comment_id": 71995344, "body": "I interpreted the OP&#39;s question as: <i>&quot;second field (of file2.txt) should be equal to one of the words in file1.txt&quot;</i>. If so, we have a match. So then you are right, many of the solutions can give wrong results. I also mentioned that in my answer: For the large test case in my answer, many of the methods indeed gave false matches."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1487881736, "post_id": 42423221, "comment_id": 71996458, "body": "Maybe we should change <code>file1.txt</code> for the methods that give false matches to for example <code>^[^|]*\\|foo1\\|</code>? Then they should give correct results (provided their command is changed to <code>grep -E -f</code> instead of using <code>fgrep</code>) according to the assumed specifications of the OP. And the comparison between the methods would become less confusing :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1487916823, "post_id": 42423221, "comment_id": 72008829, "body": "@H&#229;kon H&#230;gland, Curious as to why you didn&#39;t add this to your benchmark when you made the other recent addition. Is it because you don&#39;t have R::A? I&#39;m curious how it compares to BOC&#39;s i.e. how much the groupings from R::A helps."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1487876309, "last_edit_date": 1495542849, "creation_date": 1487873615, "answer_id": 42423221, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42423221#42423221", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>This Perl script (<code>a</code>) generates a regex pattern:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Regexp::Assemble qw( );\n\nchomp( my @ids = &lt;&gt; );\nmy $ra = Regexp::Assemble-&gt;new();\n$ra-&gt;add(quotemeta($_)) for @ids;\nprint(\"^[^|]*\\\\|(?:\" . (re::regexp_pattern($ra-&gt;re()))[0] . \")\\\\|\");\n</code></pre>\n\n<p>Here's how it can be used:</p>\n\n<pre><code>$ LC_ALL=C grep -P \"$( a file1.txt )\" file2.txt\ndate1|foo1|number1\ndate2|foo2|number2\ndate1|bar1|number1\ndate2|bar2|number2\n</code></pre>\n\n<p>Note the the script uses Regexp::Assemble, so you may need to install it.</p>\n\n<pre><code>sudo su\ncpan Regexp::Assemble\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li><p>Unlike the solutions dubbed BOC1, BOC2, codeforester_orig, gregory1, inian2, inian4 and oliv, my solution correctly handles</p>\n\n<pre><code>file1.txt\nfoo1\n\nfile2.txt\ndate1|foo12|number5\n</code></pre></li>\n<li><p>Mine should be better than the similar <a href=\"https://stackoverflow.com/a/42346955/589924\">solution</a> by @BOC because the pattern is optimized to reduce backtracking. (Mine also works if there are more than three fields in <code>file2.txt</code>, whereas the linked solution can fail.)</p></li>\n<li><p>I don't know how it compares to the split+dictionary solutions.</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "edited": false, "score": 0, "creation_date": 1517163318, "post_id": 42424099, "comment_id": 83972369, "body": "That may be a good idea.  I wanted a simple command line solution."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user933161"}, "is_accepted": false, "score": 1, "last_activity_date": 1487876671, "creation_date": 1487876671, "answer_id": 42424099, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42424099#42424099", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>I would use SQLite3 :) Maybe in-memory database or whatever. Import the files and use SQL query.</p>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 3, "last_activity_date": 1487904285, "last_edit_date": 1487904285, "creation_date": 1487883688, "answer_id": 42426100, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42426100#42426100", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>Here is a Python solution using sets -- roughly equivalent to a Perl key only hash or awk array in concept. </p>\n\n<pre><code>#!/usr/bin/python\n\nimport sys \n\nwith open(sys.argv[1]) as f:\n    tgt={e.rstrip() for e in f}\n\nwith open(sys.argv[2]) as f:\n    for line in f:\n        cells=line.split(\"|\")\n        if cells[1] in tgt:\n            print line.rstrip()\n</code></pre>\n\n<p>When I run this on files of similar size, it runs in about 8 seconds.</p>\n\n<p>Same speed as:</p>\n\n<pre><code>$ awk 'FNR==NR{arr[$1]; next} $2 in arr{print $0}' FS=\"|\" /tmp/f1 /tmp/f2 \n</code></pre>\n\n<p>Both the Python and awk solution here are full string match only; not a partial regex style match. </p>\n\n<p>Since the awk solution is fast and POSIX compliant, that is the better answer.  </p>\n"}, {"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 4, "last_activity_date": 1488229124, "last_edit_date": 1495540954, "creation_date": 1488228071, "answer_id": 42495367, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42495367#42495367", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>Here is Perl solution that uses <a href=\"https://metacpan.org/pod/distribution/Inline-C/lib/Inline/C.pod\" rel=\"nofollow noreferrer\"><code>Inline::C</code></a> to speed up the search for matching fields in the large file: </p>\n\n<pre><code>use strict;\nuse warnings;\nuse Inline C =&gt; './search.c';\n\nmy $smallfile = 'file1.txt';\nmy $bigfile   = 'file2.txt';\n\nopen my $fh, '&lt;', $smallfile or die \"Can't open $smallfile: $!\";\nmy %word = map { chomp; $_ =&gt; 1 } &lt;$fh&gt;;\nsearch( $bigfile, \\%word );\n</code></pre>\n\n<p>The <code>search()</code> sub routine is implemented in pure C using <a href=\"http://perldoc.perl.org/perlapi.html\" rel=\"nofollow noreferrer\"><code>perlapi</code></a> to look up keys in the small file dictionary <code>%words</code>:</p>\n\n<p><strong>search.c</strong>:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>#include &lt;stdio.h&gt;\n#include &lt;sys/stat.h&gt; \n#include &lt;fcntl.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;errno.h&gt;\n\n\n#define BLOCK_SIZE 8192       /* how much to read from file each time */\nstatic char read_buf[BLOCK_SIZE + 1];\n\n/*  reads a block from file, returns -1 on error, 0 on EOF, \n     else returns chars read, pointer to buf, and pointer to end of buf  */\nsize_t read_block( int fd, char **ret_buf, char **end_buf ) {\n    int ret;\n    char *buf = read_buf;\n    size_t len = BLOCK_SIZE;\n    while (len != 0 &amp;&amp; (ret = read(fd, buf, len)) != 0) {\n        if (ret == -1) {\n            if (errno == EINTR)\n                continue;\n            perror( \"read\" );\n            return ret;\n        }\n        len -= ret;\n        buf += ret;\n    }\n    *end_buf = buf;\n    *ret_buf = read_buf;\n    return (size_t) (*end_buf - *ret_buf);\n}\n\n/* updates the line buffer with the char pointed to by cur,\n   also updates cur\n    */\nint update_line_buffer( char **cur, char **line, size_t *llen, size_t max_line_len ) {\n    if ( *llen &gt; max_line_len ) {\n        fprintf( stderr, \"Too long line. Maximimum allowed line length is %ld\\n\",\n                 max_line_len );\n        return 0;\n    }\n    **line = **cur;\n    (*line)++;\n    (*llen)++;\n    (*cur)++; \n    return 1;\n}\n\n\n/*    search for first pipe on a line (or next line if this is empty),\n    assume line ptr points to beginning of line buffer.\n  return 1 on success\n  Return 0 if pipe could not be found for some reason, or if \n    line buffer length was exceeded  */\nint search_field_start(\n    int fd, char **cur, char **end_buf, char **line, size_t *llen, size_t max_line_len\n) {\n    char *line_start = *line;\n\n    while (1) {\n        if ( *cur &gt;= *end_buf ) {\n            size_t res = read_block( fd, cur, end_buf );        \n            if (res &lt;= 0) return 0;\n        }\n        if ( **cur == '|' ) break;\n        /* Currently we just ignore malformed lines ( lines that do not have a pipe,\n           and empty lines in the input */\n        if ( **cur == '\\n' ) {\n            *line = line_start;\n            *llen = 0;\n            (*cur)++;\n        }\n        else {\n            if (! update_line_buffer( cur, line, llen, max_line_len ) ) return 0;\n        }\n    }\n    return 1;\n}\n\n/* assume cur points at starting pipe of field\n  return -1 on read error, \n  return 0 if field len was too large for buffer or line buffer length exceed,\n  else return 1\n  and field, and  length of field\n */\nint copy_field(\n    int fd, char **cur, char **end_buf, char *field,\n    size_t *flen, char **line, size_t *llen, size_t max_field_len, size_t max_line_len\n) {\n    *flen = 0;\n    while( 1 ) {\n        if (! update_line_buffer( cur, line, llen, max_line_len ) ) return 0;\n        if ( *cur &gt;= *end_buf ) {\n            size_t res = read_block( fd, cur, end_buf );        \n            if (res &lt;= 0) return -1;\n        }\n        if ( **cur == '|' ) break;\n        if ( *flen &gt; max_field_len ) {\n            printf( \"Field width too large. Maximum allowed field width: %ld\\n\",\n                    max_field_len );\n            return 0;\n        }\n        *field++ = **cur;\n        (*flen)++;\n    }\n    /* It is really not necessary to null-terminate the field \n       since we return length of field and also field could \n       contain internal null characters as well\n    */\n    //*field = '\\0';\n    return 1;\n}\n\n/* search to beginning of next line,\n  return 0 on error,\n  else return 1 */\nint search_eol(\n    int fd, char **cur, char **end_buf, char **line, size_t *llen, size_t max_line_len)\n{\n    while (1) {\n        if ( *cur &gt;= *end_buf ) {\n            size_t res = read_block( fd, cur, end_buf );        \n            if (res &lt;= 0) return 0;\n        }\n        if ( !update_line_buffer( cur, line, llen, max_line_len ) ) return 0;\n        if ( *(*cur-1) == '\\n' ) {\n            break;\n        }\n    }\n    //**line = '\\0'; // not necessary\n    return 1;\n}\n\n#define MAX_FIELD_LEN 80  /* max number of characters allowed in a field  */\n#define MAX_LINE_LEN 80   /* max number of characters allowed on a line */\n\n/* \n   Get next field ( i.e. field #2 on a line). Fields are\n   separated by pipes '|' in the input file.\n   Also get the line of the field.\n   Return 0 on error,\n   on success: Move internal pointer to beginning of next line\n     return 1 and the field.\n */\nsize_t get_field_and_line_fast(\n    int fd, char *field, size_t *flen, char *line, size_t *llen\n) {\n    static char *cur = NULL;\n    static char *end_buf = NULL;\n\n    size_t res;\n    if (cur == NULL) {\n        res = read_block( fd, &amp;cur, &amp;end_buf );        \n        if ( res &lt;= 0 ) return 0;\n    }\n    *llen = 0;\n    if ( !search_field_start( fd, &amp;cur, &amp;end_buf, &amp;line, llen, MAX_LINE_LEN )) return 0;\n    if ( (res = copy_field(\n        fd, &amp;cur, &amp;end_buf, field, flen, &amp;line, llen, MAX_FIELD_LEN, MAX_LINE_LEN\n    ) ) &lt;= 0)\n        return 0;\n    if ( !search_eol( fd, &amp;cur, &amp;end_buf, &amp;line, llen, MAX_LINE_LEN ) ) return 0;\n    return 1;\n}\n\nvoid search( char *filename, SV *href) \n{\n    if( !SvROK( href ) || ( SvTYPE( SvRV( href ) ) != SVt_PVHV ) ) {\n        croak( \"Not a hash reference\" );\n    }\n\n    int fd = open (filename, O_RDONLY);\n    if (fd == -1) {\n        croak( \"Could not open file '%s'\", filename );\n    }\n    char field[MAX_FIELD_LEN+1];\n    char line[MAX_LINE_LEN+1];\n    size_t flen, llen;\n    HV *hash = (HV *)SvRV( href );\n    while ( get_field_and_line_fast( fd, field, &amp;flen, line, &amp;llen ) ) {\n        if( hv_exists( hash, field, flen ) )\n            fwrite( line, sizeof(char), llen, stdout);\n    }\n    if (close(fd) == -1)\n        croak( \"Close failed\" );\n\n}\n</code></pre>\n\n<p>Tests indicate that it is approximately 3 times faster than the fastest pure Perl solution (see method <code>zdim2</code> in my <a href=\"https://stackoverflow.com/a/42370477/2173773\">other answer</a>) presented here.</p>\n"}, {"comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1488801060, "post_id": 42621587, "comment_id": 72377642, "body": "Hi JJoao. Thanks for the input! I updated my answer to include this method also."}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488812376, "post_id": 42621587, "comment_id": 72385480, "body": "@H&#229;konH&#230;gland, thank you; The comparison between this approach and the others is still difficult for me (flex for very big expressions and the compilation often take a lot of time) . Could you give-me the time of the final &quot;run&quot; ? ( <code>a.out &lt; file2.txt  &gt; out</code>)"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488812968, "post_id": 42621587, "comment_id": 72385863, "body": "If you are wondering if the compilation time is included in the results I presented: It is not. I mentioned that in the beginning of the question, where I describe the different methods. I am not familiar with <code>flex</code> so I cannot tell if 38s is to be expected or not for the large case, or if something else is wrong (that causes the method to take so long time)."}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 2, "creation_date": 1488820200, "post_id": 42621587, "comment_id": 72390963, "body": "@H&#229;konH&#230;gland, sorry to all the trouble I am giving you. I am surprised about the 38 s -- that is why I like benchmarks!  I am going to study it."}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1488822203, "post_id": 42621587, "comment_id": 72392144, "body": "@H&#229;konH&#230;gland, Sorry again: I was generating the wrong flex code. Updated -- this time I believe it will be 10 times faster."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1488824153, "post_id": 42621587, "comment_id": 72393215, "body": "Thanks, I have updated my answer to use the new <code>a.fl</code> files. It looks much better now :)"}, {"owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488847911, "post_id": 42621587, "comment_id": 72404174, "body": "@H&#229;konH&#230;gland, and thank you again for your patience... ( the influence of  optimizers <code>flex -F</code> and <code>cc -O</code> was bigger than I expected)"}], "tags": [], "owner": {"reputation": 3751, "user_id": 2991627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bf3f42fc00dd825eda62f1df4fa304?s=128&d=identicon&r=PG", "display_name": "JJoao", "link": "https://stackoverflow.com/users/2991627/jjoao"}, "is_accepted": false, "score": 1, "last_activity_date": 1488876565, "last_edit_date": 1488876565, "creation_date": 1488791518, "answer_id": 42621587, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42621587#42621587", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>Using <strong>flex</strong>:</p>\n\n<h3>1: build the flex processor:</h3>\n\n<pre><code>$ awk 'NR==1{ printf \"%%%%\\n\\n.*\\\\|(%s\",$0 } \n            { printf \"|%s\",$0 } \n       END  { print \")\\\\|.*\\\\n ECHO;\\n.*\\\\n ;\\n%%\\n\" }' file1.txt &gt; a.fl\n</code></pre>\n\n<h3>2: compile it</h3>\n\n<pre><code>$ flex -Ca -F a.fl ; cc -O lex.yy.c -lfl\n</code></pre>\n\n<h3>3: and run</h3>\n\n<pre><code>$ a.out &lt; file2.txt  &gt; out\n</code></pre>\n\n<p>Compiling (cc ...) is a slow process; this approach will pay just for cases\nof stable file1.txt</p>\n\n<p>(In my machine) The times taken to run a search \"100 in 10_000_000\" test in this approach is 3 times faster than <code>LC_ALL=C fgrep...</code></p>\n"}, {"comments": [{"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "edited": false, "score": 0, "creation_date": 1488961967, "post_id": 42666456, "comment_id": 72457906, "body": "@H&#229;konH&#230;gland  - Would you mind to benchmark this solution as well , using your small and big files?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488966150, "post_id": 42666456, "comment_id": 72460385, "body": "Hi George! Thanks for the input. My first impression is that <code>$2 in a</code> should be equivalent to <code>a[$2]</code>. But maybe I am wrong, I do not know all details of awk inner workings. But I believe both requires a hash lookup.. and therefore same speed"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488966785, "post_id": 42666456, "comment_id": 72460831, "body": "I tested it now and the speed seems to be the same as for <code>inian3</code> in my comparison answer. So this could indicate that the methods are indeed equivalent. What do you think?"}, {"owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1488967518, "post_id": 42666456, "comment_id": 72461319, "body": "@H&#229;konH&#230;gland Hi! Ok, good to know.So we can&#39;t claim that this method is faster. In my old machine , it seems that gave better results than inian3. I will re-check. Did you try also with C localle?"}], "tags": [], "owner": {"reputation": 5309, "user_id": 3988526, "user_type": "registered", "profile_image": "https://graph.facebook.com/568589813/picture?type=large", "display_name": "George Vasiliou", "link": "https://stackoverflow.com/users/3988526/george-vasiliou"}, "is_accepted": false, "score": 2, "last_activity_date": 1488961884, "last_edit_date": 1495541395, "creation_date": 1488961884, "answer_id": 42666456, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash/42666456#42666456", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>Though this thread is over, but all grep-alike methods between two files are gathered in this post, why not to add this awk alternative, similar (or even improved) to the bounty winning Inian's awk solution:</p>\n\n<pre><code>awk 'NR==FNR{a[$0]=1;next}a[$2]' patterns.txt FS=\"|\" datafile.txt &gt;matches.txt # For matches restricted on Field2 of datafile\n</code></pre>\n\n<p>This is equivalent to Inian awk <code>$2 in hash</code> solution but it could be even faster due to the fact that we don't ask awk to check if the whole hash array contains $2 of file2 - we just check if a[$2] has a value or not.</p>\n\n<p>While reading the first patterns file appart from creating the hash array we assign also a value.</p>\n\n<p>If <code>$2</code> of datafile had been found before in patterns file, then <code>a[$2]</code> would have a value and thus will be printed because is not null.</p>\n\n<p>if <code>a[$2]</code> of datafile returns no value(null) this is translated to false => no printing. </p>\n\n<p>Extension to match any of the three fields of datafile:</p>\n\n<pre><code>awk 'NR==FNR{a[$0]=1;next}(a[$1] || a[$2] || a[$3])' patterns.txt FS=\"|\" datafile.txt &gt;matches.txt. #Printed if any of the three fields of datafile match pattern.\n</code></pre>\n\n<p>In both cases, applying <strong>LC_ALL=C</strong> in front of awk, seems to speed things up.</p>\n\n<p>PS1: Offcourse this solution has also the pitfalls of all awk solutions. Is not a pattern matching. Is a direct / fixed matching between of the two files, like most of the solutions inhere.</p>\n\n<p>PS2: In my poor machine benchmark using the small benchmark files of <a href=\"https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-text-file-from-another-larger-text-file-in-bash/42370477#42370477\">H\u00e5kon H\u00e6gland</a>, i get about 20% better performance comparing to the <code>awk 'FNR==NR{hash[$1]; next}$2 in hash' file1.txt FS='|' file2.txt</code>   </p>\n"}], "owner": {"reputation": 28476, "user_id": 6862601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ppP5k.jpg?s=128&g=1", "display_name": "codeforester", "link": "https://stackoverflow.com/users/6862601/codeforester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9773, "favorite_count": 18, "protected_date": 1533945054, "accepted_answer_id": 42337557, "answer_count": 16, "score": 25, "last_activity_date": 1536994840, "creation_date": 1487121625, "last_edit_date": 1519611573, "question_id": 42239179, "link": "https://stackoverflow.com/questions/42239179/fastest-way-to-find-lines-of-a-file-from-another-larger-file-in-bash", "title": "Fastest way to find lines of a file from another larger file in Bash", "body": "<p>I have two files, <code>file1.txt</code> and <code>file2.txt</code>.  <code>file1.txt</code> has about 14K lines and <code>file2.txt</code> has about 2 billions.  <code>file1.txt</code> has a single field <code>f1</code> per line while <code>file2.txt</code> has 3 fields, <code>f1</code> through <code>f3</code>, delimited by <code>|</code>.</p>\n\n<p>I want to find all lines from <code>file2.txt</code> where <code>f1</code> of <code>file1.txt</code> matches <code>f2</code> of <code>file2.txt</code> (or anywhere on the line if we don't want to spend extra time splitting the values of <code>file2.txt</code>).</p>\n\n<p>file1.txt (about 14K lines, <strong>not sorted</strong>):</p>\n\n<pre><code>foo1\nfoo2\n...\nbar1\nbar2\n...\n</code></pre>\n\n<p>file2.txt (about 2 billion lines, <strong>not sorted</strong>):</p>\n\n<pre><code>date1|foo1|number1\ndate2|foo2|number2\n...\ndate1|bar1|number1\ndate2|bar2|number2\n...\n</code></pre>\n\n<p>Output expected:</p>\n\n<pre><code>date1|foo1|number1\ndate2|foo2|number2\n...\ndate1|bar1|number1\ndate2|bar2|number2\n...\n</code></pre>\n\n<p>Here is what I have tried and it seems to be taking several hours to run:</p>\n\n<pre><code>fgrep -F -f file1.txt file2.txt &gt; file.matched\n</code></pre>\n\n<p>I wonder if there is a better and faster way of doing this operation with the common Unix commands or with a small script.</p>\n"}, {"tags": ["perl", "dice"], "comments": [{"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1487115394, "post_id": 42238151, "comment_id": 71635675, "body": "Are you sure this conversion is even correct? Rolling 2d4 for a range of 2-8 gives a nonuniform distribution -- rolls of 2 or 8 will be less common than 5 or 6."}, {"owner": {"reputation": 21, "user_id": 4463049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QOB6X.png?s=128&g=1", "display_name": "ucemike", "link": "https://stackoverflow.com/users/4463049/ucemike"}, "reply_to_user": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1487115674, "post_id": 42238151, "comment_id": 71635740, "body": "All I can say is that in the original text when they use &quot;2-8&quot; they mean roll 2 dice that have 4 sides. i.e. 2d4. When I push 2-8 through the script it comes back with 2d4 as a result."}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 0, "creation_date": 1487118779, "post_id": 42238151, "comment_id": 71636566, "body": "If &quot;2-8&quot; in the original means 2d4, what does &quot;5-8&quot; mean?  Five dice with ?? sides?"}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1487119204, "post_id": 42238151, "comment_id": 71636713, "body": "5-8 = 1d4+4. The challenge is always to find a range that involves real dice.  And sometimes those real dice get, er, dicey ... 1-3 would be 1d3, which isn&#39;t a real die, but can be faked with a d6, and, similarly, 1-2 would be 1d2, or basically a coin toss.  And then 2-4 is either 2d2 or 1d3+1, and you can&#39;t tell the difference.  10-40 is either 10d4 or 4d10, again, both valid."}, {"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "reply_to_user": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1487121890, "post_id": 42238151, "comment_id": 71637543, "body": "@Tanktalus 10-40 is not 4d10. 4d10 would  be 4-40"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1487121981, "post_id": 42238151, "comment_id": 71637564, "body": "Also note that 1-10 could be 3d4-2."}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "reply_to_user": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1487125421, "post_id": 42238151, "comment_id": 71638419, "body": "@Nullman sorry, my bad, yes. I had another example that now escapes me where there were some weird possibilities. Regardless, there are many ranges that could result in multiple variations, and some sort of resolution of these possibilities is required. Generally, that means: fewest dice, and no subtractions. Not that subtraction isn&#39;t allowed, just isn&#39;t usually what is meant."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1487127693, "post_id": 42238151, "comment_id": 71638959, "body": "@Tanktalus, Re &quot;<i>1d3, which isn&#39;t a real die</i>&quot;, There are three-sided dice."}, {"owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1487131307, "post_id": 42238151, "comment_id": 71639900, "body": "@ikegami - well, not one most people have anyway :P"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4463049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QOB6X.png?s=128&g=1", "display_name": "ucemike", "link": "https://stackoverflow.com/users/4463049/ucemike"}, "edited": false, "score": 0, "creation_date": 1487129440, "post_id": 42239342, "comment_id": 71639414, "body": "I added some 2 and 3 to the allowed dice, threw in a few checks to get it to pick certain dice over others (&gt;=4 size and no modifiers/etc). Thanks for the help!"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 21, "user_id": 4463049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QOB6X.png?s=128&g=1", "display_name": "ucemike", "link": "https://stackoverflow.com/users/4463049/ucemike"}, "edited": false, "score": 0, "creation_date": 1487134793, "post_id": 42239342, "comment_id": 71640819, "body": "You can remove the sort if you have other criteria in place. I just sorted by &quot;times&quot;, so the solution with the least number of dice was always first."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 1, "last_activity_date": 1487122963, "creation_date": 1487122963, "answer_id": 42239342, "question_id": 42238151, "link": "https://stackoverflow.com/questions/42238151/perl-dice-roll-fix-to-translate-2-8-5-8-to-2d4-1d43/42239342#42239342", "title": "Perl: Dice roll &quot;fix&quot; to translate 2-8, 5-8, to 2d4, 1d4+3", "body": "<p>The following might help you. It doesn't know how to do <code>1d6/2</code>, but it correctly translates <code>4-19</code> to <code>3d6+1 | 5d4-1</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy @valid_dice = (4, 6, 8, 10, 12, 20);\n\nsub fix_dice_roll {\n    my ($dice_roll) = @_;\n\n    my ($from, $to) = split /-/, $dice_roll;\n    my $range = $to - $from + 1;\n\n    my @translations;\n    for my $dice (@valid_dice) {\n        if (0 == ($range - 1) % ($dice - 1)) {\n            my $times = ($range - 1) / ($dice - 1);\n            my $plus = sprintf '%+d', $to - $times * $dice;\n            $plus = q() if '+0' eq $plus;\n            push @translations, [ $dice, $times, $plus ];\n        }\n    }\n\n    @translations = sort { $a-&gt;[1] &lt;=&gt; $b-&gt;[1] } @translations;\n    return map \"$_-&gt;[1]d$_-&gt;[0]$_-&gt;[2]\", @translations;\n}\n\nsay join ' | ', fix_dice_roll($_) while &lt;&gt;;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4463049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QOB6X.png?s=128&g=1", "display_name": "ucemike", "link": "https://stackoverflow.com/users/4463049/ucemike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487122963, "creation_date": 1487115047, "question_id": 42238151, "link": "https://stackoverflow.com/questions/42238151/perl-dice-roll-fix-to-translate-2-8-5-8-to-2d4-1d43", "title": "Perl: Dice roll &quot;fix&quot; to translate 2-8, 5-8, to 2d4, 1d4+3", "body": "<p>I am trying to do some importing of data that uses different dice roll text. For example you'll have 2-4, 2-12, 5-8, 2-5. I am trying to write a translator that will convert them to proper dice rolls. What I have so far will translate it but I end up with some odd rolls. For example on the 5-8 it comes up with 5d1+3. With other things like 2-8 it will give me a reasonable 2d4. I'm trying to figure out how to make it ALWAYS use \"real\" dice.</p>\n\n<p>Currently I am using this perl script. You simply pass it the dice string you want to fix and it returns what it thinks is the right roll. My problem is I can't think of how to limit the dice \"sides\" to only these 2,3,4,6,8,12,20 sides.</p>\n\n<pre><code># turn 2-7 into 1d6+1 or 2-8 into 2d4\nsub fix_DiceRolls {\n my($diceRoll) = @_;\n use POSIX;\n\n if ($diceRoll =~ /^(\\d+)(\\-)(\\d+)\\b/i) {\n  # 2-5\n  #Group 1.     0-1     `2`\n  #Group 2.     1-2     `-`\n  #Group 3.     2-3     `5`\n\n  my($count) = $1;\n  my($size) = $3;\n\n  if ($count == 1) {\n   $diceRoll = \"$1d$3\";\n  } else {\n    my ($newSize) = $size/$count;\n    my ($remainder) = $size % $count;\n    my ($round_remainder)   = ceil($remainder);\n    my ($round_newSize) = floor($newSize);\n    if ($remainder == 0) {\n     $diceRoll = $count.\"d\".$newSize;\n    } else {\n     $diceRoll = $count.\"d\".$round_newSize.\"+\".$round_remainder;\n    }\n\n  }\n\n }\n\n return $diceRoll;\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "edited": false, "score": 0, "creation_date": 1487113453, "post_id": 42237676, "comment_id": 71635033, "body": "$vm_ds-&gt;{value} doesn&#39;t work either?"}, {"owner": {"reputation": 149, "user_id": 1222307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4593780df11bb64273008c2f8925227?s=128&d=identicon&r=PG", "display_name": "abatie", "link": "https://stackoverflow.com/users/1222307/abatie"}, "reply_to_user": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "edited": false, "score": 0, "creation_date": 1487113663, "post_id": 42237676, "comment_id": 71635095, "body": "I did try that and it gives &quot;not a hash reference&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 1222307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4593780df11bb64273008c2f8925227?s=128&d=identicon&r=PG", "display_name": "abatie", "link": "https://stackoverflow.com/users/1222307/abatie"}, "edited": false, "score": 0, "creation_date": 1487113785, "post_id": 42237894, "comment_id": 71635152, "body": "I just noticed that and if fact $vm_ds-&gt;[0]-&gt;{&#39;value&#39;} does work.  Thanks!"}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 149, "user_id": 1222307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4593780df11bb64273008c2f8925227?s=128&d=identicon&r=PG", "display_name": "abatie", "link": "https://stackoverflow.com/users/1222307/abatie"}, "edited": false, "score": 1, "creation_date": 1487113926, "post_id": 42237894, "comment_id": 71635211, "body": "Yes, but with objects you should stick to the class API as long as possible hence using methods defined in class to access elements (such as <code>-&gt;value()</code>) instead of poking directly inside the underlying variable (<code>-&gt;{&#39;value&#39;}</code>)."}], "tags": [], "owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "is_accepted": true, "score": 2, "last_activity_date": 1487113656, "creation_date": 1487113656, "answer_id": 42237894, "question_id": 42237676, "link": "https://stackoverflow.com/questions/42237676/how-do-i-get-to-these-blessed-variables/42237894#42237894", "title": "How do I get to these blessed variables?", "body": "<p><code>$vm_ds</code> is a reference to an array (hence the <code>[ ... ]</code> in Dumper output) with one item being an instance of class <code>ManagedObjectReference</code> (this is the meaning of bless: saying that something is an instance of some class)\nSo you need to do <code>$vm_ds-&gt;[0]-&gt;value()</code> instead of <code>$vm_ds-&gt;value()</code>. 0 will be the first item in the array (your example shows only one item, but in a generic case your array reference may contain multiple items).</p>\n"}, {"comments": [{"owner": {"reputation": 149, "user_id": 1222307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4593780df11bb64273008c2f8925227?s=128&d=identicon&r=PG", "display_name": "abatie", "link": "https://stackoverflow.com/users/1222307/abatie"}, "edited": false, "score": 0, "creation_date": 1487128291, "post_id": 42237963, "comment_id": 71639117, "body": "Yes, you&#39;re right, and if the documentation were comprehensible I would.  When I get a chance, I&#39;ll try reading the code as the accessors probably won&#39;t be too hard to fine."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1487114014, "creation_date": 1487114014, "answer_id": 42237963, "question_id": 42237676, "link": "https://stackoverflow.com/questions/42237676/how-do-i-get-to-these-blessed-variables/42237963#42237963", "title": "How do I get to these blessed variables?", "body": "<p><code>$vm_ds</code> is a reference to an array of one blessed hash, so it is <code>$vm_ds-&gt;[0]</code> that is blessed into <code>ManagedObjectReference</code>. You can extract the <code>value</code> field using <code>$vm_ds-&gt;[0]{value}</code>, but it is very wrong to access object atributes directly like this, and is equivalent to accessing a private attribute</p>\n\n<p><code>bless</code> is Perl's object-oriented mechanism, and the class that a data item is blessed into specifies which Perl package contains the methods and data for the class</p>\n\n<p>Somewhere you have a <code>.pm</code> file with <code>package ManagedObjectReference</code> and a number of subroutines which are the methods for the class. These supply the official interface to the class, and if you're lucky then there is a <code>value</code> method which is the accessor method for the <code>value</code> attribute. Try calling <code>$vm_ds-&gt;[0]-&gt;value()</code> and see if that works, otherwise you need to read the documentation for your <code>ManagedObjectReference</code> class</p>\n"}], "owner": {"reputation": 149, "user_id": 1222307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4593780df11bb64273008c2f8925227?s=128&d=identicon&r=PG", "display_name": "abatie", "link": "https://stackoverflow.com/users/1222307/abatie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1767, "favorite_count": 0, "accepted_answer_id": 42237894, "answer_count": 2, "score": 2, "last_activity_date": 1487114014, "creation_date": 1487112561, "last_edit_date": 1487113501, "question_id": 42237676, "link": "https://stackoverflow.com/questions/42237676/how-do-i-get-to-these-blessed-variables", "title": "How do I get to these blessed variables?", "body": "<p>I'm trying to use an obscurely documented library that seems to be returning something blessed</p>\n\n<p><code>bless</code> has never made sense even after reading a number of attempts at explaining it, so I'll just ask the simple question of how do I get to these member variables?</p>\n\n<p>The error message seems to conflict with the <code>Data::Dumper</code> output, though on the off chance that <code>$vm_ds</code> needed to be blessed, I tried adding \"bless($vm_ds, 'ManagedObjectReference');\" in and just got</p>\n\n<blockquote>\n  <p>Not a HASH reference at blib/lib/Class/MethodMaker/scalar.pm (autosplit into blib/lib/auto/Class/MethodMaker/scalar/scal0000.al) line 252.</p>\n</blockquote>\n\n<p>for my trouble.</p>\n\n<pre><code>    my $vm_ds = $vm_view-&gt;datastore;\n\n    print \"--datastore--\\n\";\n\n    print Dumper($vm_ds);\n\n    print \"vm_ds1: \", $vm_ds-&gt;value, \"\\n\";\n\n    exit 0;\n</code></pre>\n\n\n\n<pre><code>$VAR1 = [\n      bless( {\n           'value' =&gt; 'filer01-cvo-2.fs.peak.org:/vol/vmfs01',\n           'type' =&gt; 'Datastore'\n         }, 'ManagedObjectReference' )\n    ];\nCan't call method \"value\" on unblessed reference at ./getvms line 93.\n</code></pre>\n"}, {"tags": ["perl", "snmp", "nagios"], "comments": [{"owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "edited": false, "score": 0, "creation_date": 1487106503, "post_id": 42236097, "comment_id": 71631902, "body": "get_request() fails in your code. The $response object is therefore undefined. You try to access an undefined value. Print $err to get more information."}, {"owner": {"reputation": 258, "user_id": 3196463, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cfd9dfa6dbce1d76a7a622463c87f912?s=128&d=identicon&r=PG&f=1", "display_name": "cflinspach", "link": "https://stackoverflow.com/users/3196463/cflinspach"}, "reply_to_user": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "edited": false, "score": 0, "creation_date": 1487106926, "post_id": 42236097, "comment_id": 71632145, "body": "I added print $err on line 29 and get the same output."}, {"owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "edited": false, "score": 0, "creation_date": 1487107440, "post_id": 42236097, "comment_id": 71632399, "body": "Are you sure? $session-&gt;error() should print you the error from get_request(). See: <a href=\"http://search.cpan.org/~dtown/Net-SNMP-v6.0.1/lib/Net/SNMP.pm#error()_-_get_the_current_error_message_from_the_object\" rel=\"nofollow noreferrer\">search.cpan.org/~dtown/Net-SNMP-v6.0.1/lib/Net/&hellip;</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1487107534, "post_id": 42236097, "comment_id": 71632466, "body": "Your code has <code>strict</code> and <code>warnings</code>! And your tutorial does not. That is so great! Even if you claim to be very new at Perl, you are doing the most crucial things right. Good job :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487107825, "post_id": 42236097, "comment_id": 71632618, "body": "You can peek into <code>$session</code> directly with Data::Dumper. <code>use Data::Dumper; print Dumper $session;</code>. That&#39;s an object, but it will only show you the data associated with it. Most of the time that&#39;s the best place to start debugging. Note that <code>use</code> statements go at the top, but if it&#39;s just for debugging and you&#39;ll take it out later just put it where you need it. That way you&#39;ll remember to remove it later."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1487110820, "post_id": 42236097, "comment_id": 71634016, "body": "This is unrelated to your issue, but your program would be much easier to understand if you used <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow noreferrer\">Getopt::Long</a>. Instead of the confusing <code>$opts{c}</code> and <code>$opts{C}</code>, you could have <code>$opts{critical}</code> and <code>$opts{community}</code>. Also, it looks like you might be writing a Nagios plugin...if so, have you seen <a href=\"https://metacpan.org/pod/Monitoring::Plugin\" rel=\"nofollow noreferrer\">Monitoring::Plugin</a>?"}, {"owner": {"reputation": 258, "user_id": 3196463, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cfd9dfa6dbce1d76a7a622463c87f912?s=128&d=identicon&r=PG&f=1", "display_name": "cflinspach", "link": "https://stackoverflow.com/users/3196463/cflinspach"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1487170753, "post_id": 42236097, "comment_id": 71663192, "body": "@ThisSuitIsBlackNot I haven&#39;t seen that, thanks for the info!"}], "answers": [{"comments": [{"owner": {"reputation": 258, "user_id": 3196463, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cfd9dfa6dbce1d76a7a622463c87f912?s=128&d=identicon&r=PG&f=1", "display_name": "cflinspach", "link": "https://stackoverflow.com/users/3196463/cflinspach"}, "edited": false, "score": 0, "creation_date": 1487170391, "post_id": 42237155, "comment_id": 71662940, "body": "That seemed to fix one problem, but now I get &quot;Received noSuchName(2) error-status at error-index 1&quot;, but I can walk the OID just fine with snmpwalk."}, {"owner": {"reputation": 258, "user_id": 3196463, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cfd9dfa6dbce1d76a7a622463c87f912?s=128&d=identicon&r=PG&f=1", "display_name": "cflinspach", "link": "https://stackoverflow.com/users/3196463/cflinspach"}, "edited": false, "score": 0, "creation_date": 1487173991, "post_id": 42237155, "comment_id": 71665797, "body": "snmpwalk -c public  10.192.54.30 -v 1 .1.3.6.1.4.1.14179.2.2.1.1.6 iso.3.6.1.4.1.14179.2.2.1.1.6.176.170.119.98.152.208 = INTEGER: 1 iso.3.6.1.4.1.14179.2.2.1.1.6.176.170.119.204.244.0 = INTEGER: 1 iso.3.6.1.4.1.14179.2.2.1.1.6.244.207.226.84.120.224 = INTEGER: 1 iso.3.6.1.4.1.14179.2.2.1.1.6.244.207.226.133.180.16 = INTEGER: 1 iso.3.6.1.4.1.14179.2.2.1.1.6.244.207.226.137.75.224 = INTEGER: 1 iso.3.6.1.4.1.14179.2.2.1.1.6.244.207.226.137.116.80 = INTEGER: 1 iso.3.6.1.4.1.14179.2.2.1.1.6.244.207.226.137.117.144 = INTEGER: 1"}, {"owner": {"reputation": 258, "user_id": 3196463, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cfd9dfa6dbce1d76a7a622463c87f912?s=128&d=identicon&r=PG&f=1", "display_name": "cflinspach", "link": "https://stackoverflow.com/users/3196463/cflinspach"}, "edited": false, "score": 0, "creation_date": 1487174116, "post_id": 42237155, "comment_id": 71665902, "body": "perl test.pl -H 10.192.54.30 -C public -O .1.3.6.1.4.1.14179.2.2.1.1.6 -w 20 -c 30  10.76.64.12 r350urc31 30 20  .1.3.6.1.4.1.14179.2.2.1.1.6 Failed to get OID &#39;.1.3.6.1.4.1.14179.2.2.1.1.6&#39;: Received noSuchName(2) error-status at error-index 1 at test.pl line 28."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 258, "user_id": 3196463, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cfd9dfa6dbce1d76a7a622463c87f912?s=128&d=identicon&r=PG&f=1", "display_name": "cflinspach", "link": "https://stackoverflow.com/users/3196463/cflinspach"}, "edited": false, "score": 0, "creation_date": 1487180613, "post_id": 42237155, "comment_id": 71670744, "body": "@red_eagle To do an apples-to-apples comparison, you should use <code>snmpget</code> instead of <code>snmpwalk</code>. I don&#39;t see OID <code>.1.3.6.1.4.1.14179.2.2.1.1.6</code> in your <code>snmpwalk</code> output, so I don&#39;t think your SNMP agent provides it."}, {"owner": {"reputation": 258, "user_id": 3196463, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cfd9dfa6dbce1d76a7a622463c87f912?s=128&d=identicon&r=PG&f=1", "display_name": "cflinspach", "link": "https://stackoverflow.com/users/3196463/cflinspach"}, "edited": false, "score": 0, "creation_date": 1487181940, "post_id": 42237155, "comment_id": 71671577, "body": "That oid is the first part. I understand what your saying though so I&#39;m trying to setup a while loop with get_next_request so as long as $response is defined it works. Really if you want to see what the real goal is I wrote it in <a href=\"http://stackoverflow.com/questions/42208795/new-nagios-bash-plugin-output-error-such-instance-currently-exists-at-this-oid\">bash</a> but Nagios/icinga seems to like perl better."}, {"owner": {"reputation": 258, "user_id": 3196463, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cfd9dfa6dbce1d76a7a622463c87f912?s=128&d=identicon&r=PG&f=1", "display_name": "cflinspach", "link": "https://stackoverflow.com/users/3196463/cflinspach"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1487182212, "post_id": 42237155, "comment_id": 71671732, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/135798/discussion-between-red-eagle-and-thissuitisblacknot\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 2, "last_activity_date": 1487111134, "last_edit_date": 1487111134, "creation_date": 1487110060, "answer_id": 42237155, "question_id": 42236097, "link": "https://stackoverflow.com/questions/42236097/cant-use-an-undefined-value-as-a-hash-reference/42237155#42237155", "title": "Can&#39;t use an undefined value as a HASH reference", "body": "<p>Several problems:</p>\n\n<ul>\n<li><p>You're calling <code>$session-&gt;get_request</code> wrong. At a minimum, you have to pass the <code>-varbindlist</code> option and an arrayref of OIDs. See the <a href=\"https://metacpan.org/pod/Net::SNMP#get_request%28%29-send-a-SNMP-get-request-to-the-remote-agent\" rel=\"nofollow noreferrer\">documentation</a>.</p></li>\n<li><p><code>get_request</code> returns <code>undef</code> on error, and since <code>undef</code> is not a hash reference, you can't dereference it. You have to check for errors before you try to do something with <code>$response</code>.</p></li>\n<li><p>You shouldn't copy the contents of <code>$response</code> into a separate hash just to print them.</p></li>\n</ul>\n\n<p>Fixed version:</p>\n\n<pre><code>my $response = $session-&gt;get_request( -varbindlist =&gt; [$desc] );\n\nif (! defined $response) {\n    die \"Failed to get OID '$desc': \" . $session-&gt;error;\n}\n\nforeach my $key (keys %$response) {\n    print \"$key: $response-&gt;{$key}\\n\";\n}\n\n# Alternatively,\n# use Data::Dumper; print Dumper $response;\n</code></pre>\n"}], "owner": {"reputation": 258, "user_id": 3196463, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cfd9dfa6dbce1d76a7a622463c87f912?s=128&d=identicon&r=PG&f=1", "display_name": "cflinspach", "link": "https://stackoverflow.com/users/3196463/cflinspach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1829, "favorite_count": 0, "accepted_answer_id": 42237155, "answer_count": 1, "score": 2, "last_activity_date": 1527615001, "creation_date": 1487105944, "last_edit_date": 1527615001, "question_id": 42236097, "link": "https://stackoverflow.com/questions/42236097/cant-use-an-undefined-value-as-a-hash-reference", "title": "Can&#39;t use an undefined value as a HASH reference", "body": "<p>I'm trying to do a snmpwalk to the AP status on a wlc. I'm really new to perl so bear with me but I was working with <a href=\"http://www.enterprisenetworkingplanet.com/netos/article.php/10951_3697071_2/Homebrew-NMS-Put-It-Together-with-Perl-and-NetSNMP.htm\" rel=\"nofollow noreferrer\">this guide</a>. I was able to get the CPU Utilization just fine, but that was just a get request where as this is a walk.</p>\n\n<p>My input: <code>perl test.pl -H 10.192.54.30 -C public -O .1.3.6.1.4.1.14179.2.2.1.1.6.0 -w 20 -c 30</code></p>\n\n<p>The code:</p>\n\n<pre><code>#!/bin/perl\nuse strict;\nuse warnings;\nuse Net::SNMP;\nuse Getopt::Long qw(:config no_ignore_case);\n\n\nmy $hostaddr = '';\nmy $community = '';\nmy $crit = '';\nmy $warn = '';\nmy $oid = '';\n\nGetOptions(\n        \"host|H=s\" =&gt; \\$hostaddr,\n        \"community|C=s\" =&gt; \\$community,\n        \"crit|c:s\" =&gt; \\$crit,\n        \"warn|w:s\" =&gt; \\$warn,\n        \"oid|O=s\" =&gt; \\$oid);\n\nprint \"$hostaddr $community $crit $warn $oid\\n\";\n\nmy ($session, $error) = Net::SNMP-&gt;session(\n                        -hostname =&gt; \"$hostaddr\",\n                        -community =&gt; \"$community\",\n                        -timeout =&gt; \"30\",\n                        -port =&gt; \"161\");\n\nif (!defined($session)) {\n        printf(\"ERROR: %s.\\n\", $error);\n        exit 1;\n}\n\nmy $response = $session-&gt;get_table( -baseoid =&gt; $oid );\n\nif (! defined $response) {\n    die \"Failed to get OID '$oid': \" . $session-&gt;error;\n}\n\nforeach my $key (keys %$response) {\n    print \"$key: $response-&gt;{$key}\\n\";\n}\n\nmy $err = $session-&gt;error;\nif ($err){\n        return 1;\n}\nprint \"\\n\";\nexit 0;\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>10.192.54.30 public 30 20  .1.3.6.1.4.1.14179.2.2.1.1.6.0\nCan't use an undefined value as a HASH reference at test.pl line 26.\n</code></pre>\n"}, {"tags": ["perl", "parsing"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 5, "creation_date": 1487106637, "post_id": 42236084, "comment_id": 71631974, "body": "<a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange</a> might be a better place to ask for code review"}, {"owner": {"reputation": 2064, "user_id": 3606329, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/027b912750dbb94c9c1ff89c9eb20f46?s=128&d=identicon&r=PG&f=1", "display_name": "user3606329", "link": "https://stackoverflow.com/users/3606329/user3606329"}, "edited": false, "score": 1, "creation_date": 1487107269, "post_id": 42236084, "comment_id": 71632319, "body": "Read about strict, warnings, closure of filehandles and $i++ could be replaced with $. in your case."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1487107569, "post_id": 42236084, "comment_id": 71632488, "body": "What database are you using? The <i>best</i> way to do this is to let the database server parse the credentials file directly. For example, MySQL has <a href=\"https://dev.mysql.com/doc/refman/5.7/en/option-files.html\" rel=\"nofollow noreferrer\">option files</a> and Postgres has <a href=\"https://www.postgresql.org/docs/9.2/static/libpq-pgpass.html\" rel=\"nofollow noreferrer\">.pgpass</a>."}], "answers": [{"comments": [{"owner": {"reputation": 106, "user_id": 2774695, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ccb47d8a4d46ba18331d2ab8ff383feb?s=128&d=identicon&r=PG&f=1", "display_name": "user2774695", "link": "https://stackoverflow.com/users/2774695/user2774695"}, "edited": false, "score": 0, "creation_date": 1487108134, "post_id": 42236395, "comment_id": 71632770, "body": "Wow thank you, can you explain what exactly is going on here? Documentation page isn&#39;t too helpful."}, {"owner": {"reputation": 106, "user_id": 2774695, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ccb47d8a4d46ba18331d2ab8ff383feb?s=128&d=identicon&r=PG&f=1", "display_name": "user2774695", "link": "https://stackoverflow.com/users/2774695/user2774695"}, "edited": false, "score": 0, "creation_date": 1487108736, "post_id": 42236395, "comment_id": 71633042, "body": "I can see that &#39;.*?&#39; matches any character, 0 or more times (except line terminators?), then match &#39;=&#39;, then once again any character 0 or more times. Then map basically does this foreach of those variables? How does it get the value after the &#39;=&#39; and assign it to the variable?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 106, "user_id": 2774695, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ccb47d8a4d46ba18331d2ab8ff383feb?s=128&d=identicon&r=PG&f=1", "display_name": "user2774695", "link": "https://stackoverflow.com/users/2774695/user2774695"}, "edited": false, "score": 0, "creation_date": 1487108859, "post_id": 42236395, "comment_id": 71633106, "body": "@user2774695 that&#39;s what the regex capture does. It captures everything after the equal sign, and that&#39;s the value that&#39;s returned, and by default, Perl regex doesn&#39;t match newlines by default... the <code>&#47;m</code> modifier can be used for that. See <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487118394, "post_id": 42236395, "comment_id": 71636452, "body": "That may as well be <code>map { &#47;=(.*)&#47; } &lt;$fh&gt;</code>. The <code>.*?</code> doesn&#39;t help at all."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487123800, "post_id": 42236395, "comment_id": 71638030, "body": "@Borodin: what if the password contains a <code>=</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487126281, "post_id": 42236395, "comment_id": 71638618, "body": "@stevieb: That will work. Try it. <code>=</code> on its own matches the first equals sign. Then <code>(.*)</code>captures the rest of the line."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487134178, "post_id": 42236395, "comment_id": 71640665, "body": "@Borodin I have to admit I need to re-visit the re docs, as what you&#39;ve stated indeed works. Thanks for pointing that out. I should have known that the last greedy grabber would ensure the longest-length match..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487161849, "post_id": 42236395, "comment_id": 71656856, "body": "@stevieb: It&#39;s not to do with the last item being greedy; it&#39;s just that regex patterns are matched left to right, and reassessed (backtracked) only if later parts of the pattern cannot match that way. The <code>=</code> matches the first equals sign, and then &quot;zero or more of anything&quot; cannot fail, so it just matches and captures the rest of the string. There&#39;s a common misconception about greedy/non-greedy patterns that they somehow magically force the entire pattern to match in a way that maximises their length."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487162165, "post_id": 42236395, "comment_id": 71657082, "body": "All they do in fact is choose between whether the element matches as much as possible and then shrinks if necessary until the rest of the pattern succeeds, or as little as possible and then grows until the rest of the pattern succeeds. So <code>.*?=</code> will try with <code>.*?</code> matching zero characters and check whether <code>=</code> can match. If not it will <i>backtrack</i> and try with it matching one character, then two, and so on until the <code>=</code> character can match. The result is that the <code>=</code> is matched by the first equals sign, which is the same as just an <code>=</code> on its own."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 0, "last_activity_date": 1487108798, "last_edit_date": 1487108798, "creation_date": 1487107078, "answer_id": 42236395, "question_id": 42236084, "link": "https://stackoverflow.com/questions/42236084/perl-split-file-into-lines-and-variables/42236395#42236395", "title": "Perl Split File Into Lines and Variables", "body": "<p><a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\">map()</a> is pretty handy for things like this:</p>\n\n<pre><code>my ($DB, $DBHOST, $DBUSER, $DBPASS) = map {$_ =~ /.*?=(.*)/} &lt;$fh&gt;;\n</code></pre>\n\n<p>What's happening:</p>\n\n<ul>\n<li><code>map()</code> operates on lists, so it treats <code>&lt;$fh&gt;</code> as one</li>\n<li>for each element in the list (a file line in this case), assign it into the default variable (<code>$_</code>)</li>\n<li>then, capture the part of the line we want using regex, return it, and assign it to the relevant variable on the left-hand-side (on each iteration of the file, each one of the receiving variables are shifted as well)</li>\n<li><p>the regex operates as follows:</p>\n\n<p><code>/\n    .*? # ignore everything, non greedy until we match a\n    =   # our delimiter\n    (   # begin capture\n    .*  # capture everything until end of line (less the newline char)\n    )   # end capture\n/</code></p></li>\n</ul>\n\n<p>Note that this solution will iterate all the way through the whole file, even after all four of the variables are populated (as does the way you've done it in your OP).</p>\n\n<p>Also note that there's no error checking here, so if a value isn't captured, you'll get warnings related to undefined variables.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1487147919, "creation_date": 1487147919, "answer_id": 42244344, "question_id": 42236084, "link": "https://stackoverflow.com/questions/42236084/perl-split-file-into-lines-and-variables/42244344#42244344", "title": "Perl Split File Into Lines and Variables", "body": "<p>I think I would do away with your individual variables and store the connection information in a hash.</p>\n\n<pre><code>my %db_conn;\n\nwhile (&lt;$fh&gt;) {\n  my ($key, $val) = split /=/, $_, 2;\n  $db_conn{$key} = $val;\n}\n</code></pre>\n\n<p>Of course, this assumes that whatever is to the left of the <code>=</code> on each line is a unique identifier for the value.</p>\n"}], "owner": {"reputation": 106, "user_id": 2774695, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ccb47d8a4d46ba18331d2ab8ff383feb?s=128&d=identicon&r=PG&f=1", "display_name": "user2774695", "link": "https://stackoverflow.com/users/2774695/user2774695"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 42236395, "answer_count": 2, "score": 0, "last_activity_date": 1487147919, "creation_date": 1487105910, "question_id": 42236084, "link": "https://stackoverflow.com/questions/42236084/perl-split-file-into-lines-and-variables", "title": "Perl Split File Into Lines and Variables", "body": "<p>I am currently splitting a Perl file which holds some user/password information and am doing it successfully, but am not satisfied with my code. I am sure there is a better way to do it in Perl (I am a beginner). If someone could come up with a slicker way that would be great!</p>\n\n<pre><code>my $i = 1;\nmy $DB;\nmy $DBHOST;\nmy $DBUSER;\nmy $DBPASS;    \nmy $filename = \"some_file\";\nopen(my $fh, '&lt;:encoding(UTF-8)', $filename)\n    or die \"Could not open file '$filename' $!\";\n\nwhile (my $row = &lt;$fh&gt;) {\n    chomp $row;\n    if ($i == 1) {\n        $DB = (split /=/, $row)[1];\n    }\n    if ($i == 2) {\n        $DBHOST = (split /=/, $row)[1];\n    }\n    if ($i == 3) {\n        $DBUSER = (split /=/, $row)[1];\n    }\n    if ($i == 4) {  \n        $DBPASS = (split /=/, $row)[1];\n    }\n    $i++;\n}\n</code></pre>\n"}, {"tags": ["regex", "perl", "input", "sum", "output"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1487098835, "post_id": 42234070, "comment_id": 71627711, "body": "<i>&quot;Every time I run this, I do not get errors, but the same response in return.&quot;</i> And which response is that? Presumably &quot;File does not exist&quot; for files that really do exist and &quot;No such file or directory&quot; for files that don&#39;t exist. Your logic is all wonky: <code>-e</code> and <code>-f</code> mean the file <i>does</i> exist, you print &quot;Permission denied&quot; after successfully opening files, etc."}, {"owner": {"reputation": 19, "user_id": 3991890, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ef14fcd42c32d3710c01274bd5c1290e?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Parise", "link": "https://stackoverflow.com/users/3991890/matthew-parise"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1487099144, "post_id": 42234070, "comment_id": 71627881, "body": "Yes; I do get the &quot;File doe not exist&quot; as my return.  How would I use the -e and -f operators the other way around (if the file doesn&#39;t actually exist, it returns the correct message)?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1487099402, "post_id": 42234070, "comment_id": 71628006, "body": "<i>&quot;The file must contain a single number ... and calculate the sum, number of numbers in the file, and the mean/average&quot;</i> You want to calculate the sum and mean of <i>one number</i>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1487099491, "post_id": 42234070, "comment_id": 71628053, "body": "Is this homework? The best test for all those criteria is just to <code>open</code> the file and report any errors."}, {"owner": {"reputation": 19, "user_id": 3991890, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ef14fcd42c32d3710c01274bd5c1290e?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Parise", "link": "https://stackoverflow.com/users/3991890/matthew-parise"}, "edited": false, "score": 0, "creation_date": 1487101688, "post_id": 42234070, "comment_id": 71629289, "body": "Borodin - I want to calculate the mean of all of the numbers listed in the .txt file.  so if the file had the numbers: 55, 66, and 43, I would add those together and divide by the number of numbers in the file (in our case 3).  And yes it is for homework.  I can&#39;t make my professor&#39;s office hours due to schedule conflicts and this is my only real source of help."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1487103018, "post_id": 42234070, "comment_id": 71629998, "body": "There&#39;s a cognitive dissonance between your code and your words. i.e., the things you are saying do not match what your code is trying to do."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487104984, "post_id": 42234070, "comment_id": 71631088, "body": "You shouldn&#39;t hard-code <code>Permission denied</code> as the reason for the <code>open</code> to fail. There are many reasons why it might have failed, and the error message is saved in built-in variable <code>$_</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487105265, "post_id": 42234070, "comment_id": 71631241, "body": "What is the test <code>-e $infile =~ &#47;^[a-zA-Z]+$&#47;</code> supposed to do? The expression doesn&#39;t make sense, and doesn&#39;t seem to correspond to any of the steps in your narrative."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 7385080, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RSBdFYzBgi4/AAAAAAAAAAI/AAAAAAAAAAs/HSVCicH0aa0/photo.jpg?sz=128", "display_name": "Christopher Collins", "link": "https://stackoverflow.com/users/7385080/christopher-collins"}, "reply_to_user": {"reputation": 19, "user_id": 3991890, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ef14fcd42c32d3710c01274bd5c1290e?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Parise", "link": "https://stackoverflow.com/users/3991890/matthew-parise"}, "edited": false, "score": 0, "creation_date": 1487101896, "post_id": 42234798, "comment_id": 71629410, "body": "deal with each error,  I just gave you a starting off point for your home work"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1487102557, "post_id": 42234798, "comment_id": 71629773, "body": "That part of the OP&#39;s code is actually fine. They want to open the file specified by the user, not a hard-coded filename."}], "tags": [], "owner": {"reputation": 43, "user_id": 7385080, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RSBdFYzBgi4/AAAAAAAAAAI/AAAAAAAAAAs/HSVCicH0aa0/photo.jpg?sz=128", "display_name": "Christopher Collins", "link": "https://stackoverflow.com/users/7385080/christopher-collins"}, "is_accepted": false, "score": -1, "last_activity_date": 1487101249, "creation_date": 1487101249, "answer_id": 42234798, "question_id": 42234070, "link": "https://stackoverflow.com/questions/42234070/trouble-prompting-the-user-for-an-input-file-and-returning-with-a-series-of-inf/42234798#42234798", "title": "Trouble prompting the user for an input file, and returning with a series of information [Perl]", "body": "<p>You are using the $infile as your input</p>\n\n<pre><code>#****CASE THREE****\nopen ( my $input, '&lt;', $infile ) or die $!;\n</code></pre>\n\n<p>I would do something like this ...\n<br></p>\n\n<pre><code>open ( my $input, '&lt;', \"somefile.txt\" ) or die $!;\n</code></pre>\n\n<p><br></p>\n"}, {"tags": [], "owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "is_accepted": false, "score": 0, "last_activity_date": 1487103678, "last_edit_date": 1487103678, "creation_date": 1487103370, "answer_id": 42235396, "question_id": 42234070, "link": "https://stackoverflow.com/questions/42234070/trouble-prompting-the-user-for-an-input-file-and-returning-with-a-series-of-inf/42235396#42235396", "title": "Trouble prompting the user for an input file, and returning with a series of information [Perl]", "body": "<p>okay, so there are multiple things wrong:</p>\n\n<p><code>if (-e $infile)</code>   should be </p>\n\n<pre><code>`if (not -e $infile)  `\n</code></pre>\n\n<p><code>elsif (-f $infile)</code>  has the same issue of testing the opposite of what you want <code>elsif (not -f $infile)</code></p>\n\n<p>also, this print will happen when the file DOES open:`</p>\n\n<pre><code>open ( my $input, '&lt;', $infile ) or die $!;\nprint (\"Can not open input file '$infile': Permission denied. \");`\n</code></pre>\n\n<p>instead change it to:</p>\n\n<pre><code>`open ( my $input, '&lt;', $infile ) or die(\"Can not open input file '$infile': $!\");`\n</code></pre>\n\n<p>this line is nonsensical <code>if (-e $infile =~ /^[a-zA-Z]+$/)</code>\n    im guessing in case 4 you will want something along the lines of\n    <code>\n    foreach $line (&lt;$infile &gt;){\n        $matches = () = $line =~ /^(\\d+)$/;\n        if($matches != 1){\n            die \"line does not contain a single number\";\n        }\n        $sum += $1;\n    }</code></p>\n\n<p>this is a hasty, approximate code that doesn't use strict (you should use strict!) which should help you figure out the rest</p>\n"}], "owner": {"reputation": 19, "user_id": 3991890, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ef14fcd42c32d3710c01274bd5c1290e?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Parise", "link": "https://stackoverflow.com/users/3991890/matthew-parise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1487103678, "creation_date": 1487098499, "question_id": 42234070, "link": "https://stackoverflow.com/questions/42234070/trouble-prompting-the-user-for-an-input-file-and-returning-with-a-series-of-inf", "title": "Trouble prompting the user for an input file, and returning with a series of information [Perl]", "body": "<p>I am trying to create a simple program that does these five things</p>\n\n<ol>\n<li>Prompts the user for an input file.</li>\n<li>Prompts the user file does not exist if a user specifies an unknown document (Case 1)</li>\n<li>The file is not a regular file (Case 2)</li>\n<li>There is an issue with opening the file that the user has submitted (Case 3)</li>\n<li>The file specified has (1) data that is not a valid number, or (2) more than one number on the line. (Case 4)</li>\n<li>The file exists and can be opened with no errors.  The file must contain a single number (any decimal or neg/pos integer), and calculate the sum, number of numbers in the file, and the mean/average (Case 5).  </li>\n</ol>\n\n<p>I have labeled the cases on the code I am providing.  Every time I run this, I do not get errors, but the same response in return.  I am trying this to improve my file scanning skills.  If anyone has any knowledge on this topic I would be more than grateful.  Thanks in advance.  </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nprint (\"Enter a file name: \"); \n\nmy $infile = &lt;STDIN&gt;; #Prompts the user for input\nchomp ($infile); #Chomps the $infile Variable.\n\n#****CASE ONE****\nif (-e $infile) { \n\n        print (\"File '$infile' does not exist.\\n\");\n            exit;\n}\n\n#****CASE TWO****\nelsif (-f $infile) { \n\n        print (\"Not a regular file or directory.\\n\");\n            exit;\n}\n\n#****CASE THREE****\nopen ( my $input, '&lt;', $infile ) or die $!;\nprint (\"Can not open input file '$infile': Permission denied. \");\n\n#****CASE FOUR****\n\n#for (my $inf = 1; ; ++$_)\nmy $inf = 9**9**9;\n\nif (-e $infile =~ /^[a-zA-Z]+$/) { \n\n    } else {\n        print (\"File '$infile' containts invalid data.\\n\");\n            exit;\n}\n\n#****Case Five****\nmy $Int_Pos = 0;\nmy $Int_Neg = 0;\nmy $Int_Dec = 0;\n\nopen(FHIN, '&lt;', $infile); #Opens the file prompted by user. \nmy @lines = &lt;FHIN&gt;; #Variable storing the number of lines in the file.\nchomp( @lines ); \nclose(FHIN); #File handle is closed. \n\nwhile (my $line = &lt;$input&gt; ) { #iterates the file line by line, making $_ as teh defaule variable. \n    $Int_Pos++ if $line &gt;= 0;\n    $Int_Neg++ if $line &gt;= 0;\n    $Int_Dec++ if $line &gt;= 0;\n    my $sum = $Int_Pos + $Int_Neg + $Int_Dec;\n    my $Observations = @lines;\n    my $Mean = $sum/3;\n\n    print (\"Sum: '$sum'\\n\");\n    print (\"Observations: '$Observations'\\n\");\n    print (\"Mean: '$Mean'\\n\");  \n}\n</code></pre>\n"}, {"tags": ["arrays", "perl", "split", "grep"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1487093381, "post_id": 42232457, "comment_id": 71624638, "body": "Of course there is. What problem are you having?"}, {"owner": {"reputation": 29, "user_id": 7435384, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05ae63a098fbc4efcf0616b913047f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Shankar", "link": "https://stackoverflow.com/users/7435384/vinu-shankar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1487093603, "post_id": 42232457, "comment_id": 71624764, "body": "I used grep and was able to retain the data structure as array. that is, I grep with characters starting with # and stored the result in an array. I am new to perl and I did not know how to do it keeping it as an array. I only knew to break them and process"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1487093626, "post_id": 42232457, "comment_id": 71624782, "body": "If your <a href=\"http://stackoverflow.com/q/42051608/176646\">question gets closed</a>, don&#39;t re-post the exact same question again. Read the guidance in the close reason, clarify your question based on other people&#39;s comments, and try to improve your question so that it can be reopened."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487099694, "post_id": 42232457, "comment_id": 71628171, "body": "This question is an identical copy of your preceding question <a href=\"http://stackoverflow.com/questions/42051608/perl-way-of-using-cut-grep-uniq\"><i>Perl way of using cut,grep,uniq</i></a> which was closed because it was &quot;too broad&quot;. Why do you think this should be treated differently?"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7435384, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05ae63a098fbc4efcf0616b913047f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Shankar", "link": "https://stackoverflow.com/users/7435384/vinu-shankar"}, "edited": false, "score": 0, "creation_date": 1487135262, "post_id": 42233201, "comment_id": 71640961, "body": "But I am having the values in array and not in file"}, {"owner": {"reputation": 162, "user_id": 6512437, "user_type": "registered", "profile_image": "https://graph.facebook.com/132433723848304/picture?type=large", "display_name": "Anton Petrusevich", "link": "https://stackoverflow.com/users/6512437/anton-petrusevich"}, "reply_to_user": {"reputation": 29, "user_id": 7435384, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05ae63a098fbc4efcf0616b913047f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Shankar", "link": "https://stackoverflow.com/users/7435384/vinu-shankar"}, "edited": false, "score": 0, "creation_date": 1487140877, "post_id": 42233201, "comment_id": 71643178, "body": "You could get a better answer when you were more precise in describing your task. My perl one-liner does exactly what your piped commands combination does."}, {"owner": {"reputation": 29, "user_id": 7435384, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05ae63a098fbc4efcf0616b913047f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Shankar", "link": "https://stackoverflow.com/users/7435384/vinu-shankar"}, "edited": false, "score": 0, "creation_date": 1487159901, "post_id": 42233201, "comment_id": 71655558, "body": "&quot;I am currently writing the output of the script to a file and doing as follows,&quot; this is what I have said. But what I need is  &quot;I am running a Perl script inside a Perl script, and the output of the script is something like this. These values are stored in an array&quot;........ So can you please have a look and tell me. I am new to perl"}, {"owner": {"reputation": 162, "user_id": 6512437, "user_type": "registered", "profile_image": "https://graph.facebook.com/132433723848304/picture?type=large", "display_name": "Anton Petrusevich", "link": "https://stackoverflow.com/users/6512437/anton-petrusevich"}, "reply_to_user": {"reputation": 29, "user_id": 7435384, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05ae63a098fbc4efcf0616b913047f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Shankar", "link": "https://stackoverflow.com/users/7435384/vinu-shankar"}, "edited": false, "score": 0, "creation_date": 1487239969, "post_id": 42233201, "comment_id": 71697838, "body": "Show your perl script."}, {"owner": {"reputation": 29, "user_id": 7435384, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05ae63a098fbc4efcf0616b913047f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Shankar", "link": "https://stackoverflow.com/users/7435384/vinu-shankar"}, "edited": false, "score": 0, "creation_date": 1487316628, "post_id": 42233201, "comment_id": 71739408, "body": "No I can&#39;t.. Its confidential"}], "tags": [], "owner": {"reputation": 162, "user_id": 6512437, "user_type": "registered", "profile_image": "https://graph.facebook.com/132433723848304/picture?type=large", "display_name": "Anton Petrusevich", "link": "https://stackoverflow.com/users/6512437/anton-petrusevich"}, "is_accepted": false, "score": 0, "last_activity_date": 1487095479, "creation_date": 1487095479, "answer_id": 42233201, "question_id": 42232457, "link": "https://stackoverflow.com/questions/42232457/using-cut-grep-uniq-in-perl-way/42233201#42233201", "title": "Using cut,grep,uniq in perl way", "body": "<pre><code>perl -F/ -nle '/cmt \\/tm9/ &amp;&amp; do { $_ = join \"/\", @F[1,2,8,9]; s/\\..*//; print if ++$h{$_} == 1}' output_file\n</code></pre>\n\n<p>Are you looking for this answer?</p>\n"}], "owner": {"reputation": 29, "user_id": 7435384, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05ae63a098fbc4efcf0616b913047f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Shankar", "link": "https://stackoverflow.com/users/7435384/vinu-shankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 1, "closed_date": 1487099604, "answer_count": 1, "score": -4, "last_activity_date": 1487095479, "creation_date": 1487093128, "question_id": 42232457, "link": "https://stackoverflow.com/questions/42232457/using-cut-grep-uniq-in-perl-way", "closed_reason": "Duplicate", "title": "Using cut,grep,uniq in perl way", "body": "<p>I am running a Perl script inside a Perl script, and the output of the script is something like this. These values are stored in an array</p>\n\n<pre><code># aAM axac: cmt /tm9/raaqHRW /myqq1fqq1er/angyvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a1.1.e.1234567891008547.ahqva\n# aAM axac: cmt /tm9/raaqHRW /myqq1fqq1er/aqmmgvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a1.1.e.1234567891008547.ahqva\n# aAM axac: cmt /tm9/raaqHRW /myqq1fqq1er/69aqvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a1.1.e.1234567891008547.ahqva\n# aAM axac: cmt /tm9/raaqHRW /myqq1fqq1er/69aavqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a1.1.e.1234567891008547.ahqva\n# aAM axac: cmt /tm9/raaqHRW /myqq1fqq1er/qqmavqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a1.1.e.1234567891008547.ahqva\n# aAM axac: cmt /tm9/raaqHRW /myqq1fqq1er/wttvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a1.1.e.1234567891008547.ahqva\n# aAM axac: cmt /tm9/raaqHRW /myqq1fqq1er/9aaqvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a1.1.e.1234567891008547.ahqva\n# aAM axac: cmt /tm9/raaqHRW /myqq1fqq1er/9aaavqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a1.1.e.1234567891008547.ahqva\n# aAM axac: cmt /tm9/raaqHRW /myqq1fqq1er/a1vqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a1.1.e.1234567891008547.ahqva\n# aAM axac: cmt /tm9/raaqHRW /myqq1fqq1er/maaavqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a1.1.e.1234567891008547.ahqva\n[qNFq] cqqq aarvqca qntereatqng 1qatvqnqth. heqqq 1qatvqnqth.\n[qNFq] cqqq aarvqca qntereatqng fmtvqnqth. heqqq fmtvqnqth.\n[qNFq] cqqq aarvqca qntereatqng gcaavqnqth. heqqq gcaavqnqth.\n[qNFq] cqqq aarvqca qntereatqng gq9vqnqth. heqqq gq9vqnqth.\n[qNFq] cqqq aarvqca qntereatqng hvavqnqth. heqqq hvavqnqth.\n[qNFq] cqqq aarvqca qntereatqng q9vqnqth. heqqq q9vqnqth.\n[qNFq] cqqq aarvqca qntereatqng 9vaqvqnqth. heqqq 9vaqvqnqth.\n[qNFq] cqqq aarvqca qntereatqng mcaavqnqth. heqqq mcaavqnqth.\n[qNFq] cqqq aarvqca qntereatqng mcqrvqnqth. heqqq mcqrvqnqth.\n# aAM axac: cmt /tm9/raawV9h /myqq1fqq1er/angyvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a4.1.e.1234567891014523.ahqva\n# aAM axac: cmt /tm9/raawV9h /myqq1fqq1er/aqmmgvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a4.1.e.1234567891014523.ahqva\n# aAM axac: cmt /tm9/raawV9h /myqq1fqq1er/69aqvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a4.1.e.1234567891014523.ahqva\n# aAM axac: cmt /tm9/raawV9h /myqq1fqq1er/69aavqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a4.1.e.1234567891014523.ahqva\n# aAM axac: cmt /tm9/raawV9h /myqq1fqq1er/qqmavqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a4.1.e.1234567891014523.ahqva\n# aAM axac: cmt /tm9/raawV9h /myqq1fqq1er/wttvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a4.1.e.1234567891014523.ahqva\n# aAM axac: cmt /tm9/raawV9h /myqq1fqq1er/9aaqvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a4.1.e.1234567891014523.ahqva\n# aAM axac: cmt /tm9/raawV9h /myqq1fqq1er/9aaavqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a4.1.e.1234567891014523.ahqva\n# aAM axac: cmt /tm9/raawV9h /myqq1fqq1er/a1vqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a4.1.e.1234567891014523.ahqva\n# aAM axac: cmt /tm9/raawV9h /myqq1fqq1er/maaavqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a4.1.e.1234567891014523.ahqva\n[qNFq] cqqq aarvqca qntereatqng 1qatvqnqth. heqqq 1qatvqnqth.\n[qNFq] cqqq aarvqca qntereatqng fmtvqnqth. heqqq fmtvqnqth.\n[qNFq] cqqq aarvqca qntereatqng 6caavqnqth. heqqq 6caavqnqth.\n[qNFq] cqqq aarvqca qntereatqng 6q9tvqnqth. heqqq 6q9tvqnqth.\n[qNFq] cqqq aarvqca qntereatqng q9vqnqth. heqqq q9vqnqth.\n[qNFq] cqqq aarvqca qntereatqng 9vaqvqnqth. heqqq 9vaqvqnqth.\n[qNFq] cqqq aarvqca qntereatqng mcaavqnqth. heqqq mcaavqnqth.\n[qNFq] cqqq aarvqca qntereatqng mcqrvqnqth. heqqq mcqrvqnqth.\n# aAM axac: cmt /tm9/raaaRX6 /myqq1fqq1er/angyvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a7.1.e.1234567891020719.ahqva\n# aAM axac: cmt /tm9/raaaRX6 /myqq1fqq1er/aqmmgvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a7.1.e.1234567891020719.ahqva\n# aAM axac: cmt /tm9/raaaRX6 /myqq1fqq1er/69aqvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a7.1.e.1234567891020719.ahqva\n# aAM axac: cmt /tm9/raaaRX6 /myqq1fqq1er/69aavqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a7.1.e.1234567891020719.ahqva\n# aAM axac: cmt /tm9/raaaRX6 /myqq1fqq1er/qqmavqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a7.1.e.1234567891020719.ahqva\n# aAM axac: cmt /tm9/raaaRX6 /myqq1fqq1er/wttvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a7.1.e.1234567891020719.ahqva\n# aAM axac: cmt /tm9/raaaRX6 /myqq1fqq1er/9aaqvqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a7.1.e.1234567891020719.ahqva\n# aAM axac: cmt /tm9/raaaRX6 /myqq1fqq1er/9aaavqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a7.1.e.1234567891020719.ahqva\n# aAM axac: cmt /tm9/raaaRX6 /myqq1fqq1er/a1vqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a7.1.e.1234567891020719.ahqva\n# aAM axac: cmt /tm9/raaaRX6 /myqq1fqq1er/maaavqnqth/rmn/cqqqa/newfqq1er/111111111/ty9a7.1.e.1234567891020719.ahqva\n</code></pre>\n\n<p>I need to get an output like this</p>\n\n<pre><code>tm9/raaqHRW /111111111/ty9a1\ntm9/raawV9h /111111111/ty9a4\ntm9/raaaRX6 /111111111/ty9a7\n</code></pre>\n\n<p>I am currently writing the output of the script to a file and doing as follows,</p>\n\n<pre><code>grep \"cmt /tm9\" output_file | cut -d'/' -f2,3,9,10 | cut -d '.' -f1 | uniq\n</code></pre>\n\n<p>Is there a Perl way to do this?</p>\n"}, {"tags": ["arrays", "perl", "iteration", "hashref"], "answers": [{"tags": [], "owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "is_accepted": true, "score": 4, "last_activity_date": 1487090527, "last_edit_date": 1487090527, "creation_date": 1487089972, "answer_id": 42231396, "question_id": 42231346, "link": "https://stackoverflow.com/questions/42231346/perl-array-index-to-hash-value/42231396#42231396", "title": "Perl Array index to Hash value", "body": "<p>This is how I usually do that:</p>\n\n<pre><code>my $b = {};\n@$b{@$a} = 0..$#$a;\n</code></pre>\n\n<p>Although it's not very idiomatic to use scalar references for everything; normally you would use an array variable to hold an array and a hash variable to hold a hash. That would make the array assignment look like this:</p>\n\n<pre><code>my @a = (\"apple\", \"orange\", \"banana\");\n</code></pre>\n\n<p>Or, more succinctly, like this:</p>\n\n<pre><code>my @a = qw(apple orange banana);\n</code></pre>\n\n<p>The hash setup then looks like this:</p>\n\n<pre><code>my %b;\n@b{@a} = 0..$#a;\n</code></pre>\n\n<p>This takes advantage of the ability to assign to multiple keys in a hash at once:</p>\n\n<pre><code>my %h;\n@h{'foo','bar'} = ('zoo','wicky');\n</code></pre>\n\n<p>That makes <code>$h{foo}</code> equal to <code>'zoo'</code> and <code>$h{bar}</code> equal to <code>'wicky'</code>. </p>\n\n<p>By placing the array inside the curlies on the left, you get all the elements of that array in order as the hash keys to assign.  The range expression <code>0..$#a</code>, where <code>$#a</code> is the index of the last element of the array, expands to the list of integers 0,1,2,3,4,...,$#a on the right hand side of the assignment. So each array value is mapped to its index.</p>\n"}], "owner": {"reputation": 303, "user_id": 2061480, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f5fa057be1a3a8ed8cf26abf72e03ea2?s=128&d=identicon&r=PG", "display_name": "Can", "link": "https://stackoverflow.com/users/2061480/can"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 920, "favorite_count": 0, "closed_date": 1487091298, "accepted_answer_id": 42231396, "answer_count": 1, "score": 1, "last_activity_date": 1487090527, "creation_date": 1487089833, "question_id": 42231346, "link": "https://stackoverflow.com/questions/42231346/perl-array-index-to-hash-value", "closed_reason": "Duplicate", "title": "Perl Array index to Hash value", "body": "<p>I'm new to Perl and I want to turn this:</p>\n\n<pre><code>$a = [\"apple\", \"orange\", \"banana\"];\n</code></pre>\n\n<p>Into this:</p>\n\n<pre><code>$b = { \"apple\" =&gt; 0, \"orange\" =&gt; 1, \"banana\" =&gt; 2 };\n</code></pre>\n\n<p>Is there an elegant way of doing this instead of iterating and assigning a counter manually?</p>\n"}, {"tags": ["perl", "pdf"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487085670, "post_id": 42229721, "comment_id": 71619116, "body": "The PDF module has not been updated for 16 years. CAM::PDF might have it. I suggest you use <a href=\"https://metacpan.org/release/CAM-PDF\" rel=\"nofollow noreferrer\">metacpan</a> to browse it as that makes your life considerably easier. Check all the things it brings. I&#39;m also pretty sure that PDF::API2 cannot do what you want."}, {"owner": {"reputation": 4411, "user_id": 2105284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759991764080ee52a3dc02b3d88ec4fc?s=128&d=identicon&r=PG", "display_name": "dwarring", "link": "https://stackoverflow.com/users/2105284/dwarring"}, "edited": false, "score": 0, "creation_date": 1487216714, "post_id": 42229721, "comment_id": 71686021, "body": "This answer uses PDF::API2 to address a similar issue <a href=\"http://stackoverflow.com/questions/2947925/how-to-add-header-footer-with-images-using-pdfapi2lite/3049803#3049803\" title=\"how to add header footer with images using pdfapi2lite\">stackoverflow.com/questions/2947925/&hellip;</a> Note that you can pass a scale to the <code>formImage</code> method"}], "owner": {"reputation": 1386, "user_id": 1897839, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4c0e6f8798265cc958340ee121a018b7?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1897839/carsten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1488443363, "creation_date": 1487085312, "last_edit_date": 1488443363, "question_id": 42229721, "link": "https://stackoverflow.com/questions/42229721/scale-down-pdf-page-size-with-perl", "title": "Scale down PDF page size with Perl", "body": "<p>I process PDF files in an existing Perl framework. Some of the incoming files have very large page sizes. What I would like to do:</p>\n\n<ol>\n<li>Check if the input file's page size is larger than a specific format <code>f</code> (A4/Letter)</li>\n<li>If it is larger than <code>f</code>: scale it down to <code>f</code>.</li>\n</ol>\n\n<p>This is the corresponding command in Unix using GhostScript:</p>\n\n<pre><code>gs -sPAPERSIZE=a4 -dFIXEDMEDIA -dPSFitPage -o &lt;outputFile&gt; -sDEVICE=pdfwrite &lt;inputFile&gt;\n</code></pre>\n\n<p>Is there a way to do this within Perl, i.e. without requiring to call external tools?\nI checked the modules <a href=\"http://search.cpan.org/~antro/PDF-111/PDF.pm\" rel=\"nofollow noreferrer\">PDF</a> and <a href=\"http://search.cpan.org/~cdolan/CAM-PDF-1.60/lib/CAM/PDF.pm\" rel=\"nofollow noreferrer\">CAM::PDF</a>, but the documentation does not really cover my issue and I couldn't find a straight-forward solution.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1487080557, "post_id": 42227864, "comment_id": 71615427, "body": "Your code does not compile. There is stuff missing. It&#39;s also completely unreadable and looks like it&#39;s an entry for an obfuscation contest, which you would have a high chance to win. Please <a href=\"https://stackoverflow.com/posts/42227864/edit\">edit</a> the question and include a working example that we can copy and run. It&#39;s not clear for me where your input goes with the code you provided."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487081128, "post_id": 42227864, "comment_id": 71615813, "body": "@simbabque: I have edited my question."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1487081299, "post_id": 42227864, "comment_id": 71615943, "body": "What are you doing with that <code>read</code>?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1487081818, "post_id": 42227864, "comment_id": 71616287, "body": "This looks like sort of fake XML. That&#39;s kinda filthy."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487084631, "post_id": 42227864, "comment_id": 71618312, "body": "@Sobrique: I didn&#39;t mentioned this is xml file. This is case i received one of the csv file with the list of titles and I need to split with the range of alphabetic orders. Thats all."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487085032, "post_id": 42227864, "comment_id": 71618634, "body": "@Sobrique: May be the splitting will be <code>[A - starts] ..text.. [A - ends]</code> ... <code>[Z - Starts] ..text... [Z - ends]</code>; There is no mandatory for tagging itself. I need to split the document by alphabetic order."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1487085352, "post_id": 42227864, "comment_id": 71618882, "body": "No, you didn&#39;t, that&#39;s true. But the <code>&lt;A&gt;&lt;&#47;A&gt;</code> tag style is specific to XML (or HTML) and that&#39;s a documented format. Someone who comes along later might expect that, and be rather annoyed when they find it isn&#39;t. JSON or YAML output might also be an option."}], "answers": [{"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1487084696, "post_id": 42229346, "comment_id": 71618368, "body": "Awesome champs. Master of <code>XML::Twig</code>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1487084292, "creation_date": 1487084292, "answer_id": 42229346, "question_id": 42227864, "link": "https://stackoverflow.com/questions/42227864/how-to-increment-decrement-the-alpabetic-letters-in-indexing-titles/42229346#42229346", "title": "How to increment/Decrement the Alpabetic letters in indexing titles", "body": "<p>I can't figure out what your code is doing. I can see some real pieces of nastiness in there though, so I'm not going to directly replicate your code, but rather make a best guess at a sane output. Like for example - you appear to be creating something that looks a bit like XML, but that actually isn't. That's pretty nasty. </p>\n\n<p>So instead, here's how you make some XML that looks rather like your target:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::Twig;\nmy %entry_for; \n\n#open your input file\nopen ( my $input, '&lt;', 'Inputfile.csv' ) or die $!;\n#iterate line by line\nwhile ( &lt;$input&gt; ) {\n   #match the letter for the 'Series'. \n   my ( $letter ) = m/([A-Z])Series/;  \n   #insert it into a hash.   \n   push ( @{$entry_for{$letter}}, $_ ); \n}\n\n#create a new XML document\nmy $XML = XML::Twig -&gt; new; \n#set the root element up. \n$XML -&gt; set_root ( XML::Twig::Elt -&gt; new ('root'));\n\n#iterate the letters we found in the file (e.g. skipping over the missing 'X')\n\nforeach my $letter ( sort keys %entry_for ) { \n   #insert a new XML element for this letter. \n   my $element_for_letter = $XML -&gt; root -&gt; insert_new_elt ('last_child', $letter);\n   my $text = join \"\", \"\\n\", @{$entry_for{$letter}};\n   $element_for_letter -&gt; set_text($text);\n}\n\n$XML -&gt; set_pretty_print('indented');\n$XML -&gt; print;\n</code></pre>\n\n<p>Output for your input data:</p>\n\n<pre><code>&lt;root&gt;\n  &lt;A&gt;\n16  ASeries titles\n49  ASeries titles\n102 ASeries titles\n&lt;/A&gt;\n  &lt;B&gt;\n167 BSeries titles\n198 BSeries titles\n&lt;/B&gt;\n  &lt;W&gt;\n178 WSeries titles\n187 WSeries titles\n&lt;/W&gt;\n  &lt;Z&gt;\n187 ZSeries titles\n&lt;/Z&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>But with the added advantage of being actual XML. I'd probably suggest though, you don't want multiple 'fields' inlined into your XML, and rather you'd be better off creating named sub elements or attributes as appropriate. Just because the whole point of a tagged structure like this is to make it more easily parsable.</p>\n\n<p>Specifically problems with your code are:</p>\n\n<ul>\n<li><p>You turn on <code>use strict;</code> and <code>use warnings</code> but then your code doesn't actually compile. \"Useless use of array element in void context at line 12.\" That's because <code>pop</code> doesn't do what you seem to think it does. </p></li>\n<li><p><code>open</code> should be 3 argument with lexical file handles - so `open ( my $file, '&lt;', 'Inputfile.csv') or die; </p></li>\n<li><p><code>read</code> is a piece of nastiness the way you're using it, by passing a scalar-ref and then trying to insert the data into it, based on reading the file size in bytes. Far too complicated, when you can <code>my $csvcnt = do { local $/; &lt;$input&gt; };</code> which does exactly the same thing. </p></li>\n<li><p>I'm not entirely sure what you're trying to do with that regex transformation, but it's pretty overkill for what you're actually trying to do. And it's extremely difficult to read. </p></li>\n<li><p>Trying to create something that looks like XML, but that isn't actually XML is a pretty nasty thing to do. If you're going to use a defined data transfer format, then you really should stick to the spec. (You need a root node for starters)</p></li>\n</ul>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "closed_date": 1487122982, "accepted_answer_id": 42229346, "answer_count": 1, "score": -4, "last_activity_date": 1487084292, "creation_date": 1487080144, "last_edit_date": 1487083080, "question_id": 42227864, "link": "https://stackoverflow.com/questions/42227864/how-to-increment-decrement-the-alpabetic-letters-in-indexing-titles", "closed_reason": "Needs details or clarity", "title": "How to increment/Decrement the Alpabetic letters in indexing titles", "body": "<p>I have a Input text with delimit by tab A - Z series (number and text)</p>\n\n<p>Inputfile.csv:</p>\n\n<pre><code>16  ASeries titles\n49  ASeries titles\n102 ASeries titles\n167 BSeries titles\n198 BSeries titles\n    ...........\n178 WSeries titles\n187 WSeries titles\n187 ZSeries titles\n</code></pre>\n\n<p>Output text should be:</p>\n\n<pre><code>&lt;A&gt;\n16  ASeries titles\n49  ASeries titles\n102 ASeries titles\n&lt;/A&gt;\n\n&lt;B&gt;\n167 BSeries titles\n198 BSeries titles\n&lt;/B&gt;\n...........\n&lt;W&gt;\n178 WSeries titles\n187 WSeries titles\n&lt;/W&gt;\n&lt;Z&gt;\n187 ZSeries titles\n&lt;/Z&gt;\n</code></pre>\n\n<p>The problem is whenever the alphabetic sequence is missing (X and Y) the output is collapsed.</p>\n\n<p>My Code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $csvcnt = \"\";\nreadString( \"Inputfile.csv\", \\$csvcnt );\n\nmy @_alp = qw(A B C D E F G H I J K L M N O P Q R S T U V W X Y Z);\n\n#$csvcnt = $alp.\"_starts\\n\".$csvcnt;\nfor ( 0 .. 25 ) {\n   if ( $csvcnt !~ m/\\n\\d+\\t$_alp[$_]/i ) {\n      pop @_alp, $_alp[$_];\n      next;\n   }\n   if ( $_ &gt; 0 ) {\n      $csvcnt =~ s/\\n\\d+\\t$_alp[$_]/\\n&lt;\\/$_alp[$_-1]&gt;\\n&lt;$_alp[$_]&gt;$&amp;/i;\n   }\n   elsif ( $_alp[$_] == 'Z' ) {\n      $csvcnt =~ s/\\n\\d+\\t$_alp[$_]/\\n&lt;$_alp[$_]&gt;\\n$&amp;\\n&lt;\\/$_alp[$_-1]&gt;/i;\n   }\n}\n\n\n#----------------&gt;\nsub readString    #Readfile in Strings\n\n  #----------------&gt;\n{\n   my $File   = shift;\n   my $string = shift;\n   open( FILE1, \"&lt;$File\" )\n     or die \"\\nFailed Reading File [$File]\\n\\tReason: $!\";\n   read( FILE1, $$string, -s $File, 0 );\n   close(FILE1);\n}\n</code></pre>\n\n<p>It would be appreciate if anybody could help me on this.</p>\n"}, {"tags": ["regex", "perl", "shell", "sed", "colors"], "comments": [{"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1487080094, "post_id": 42227694, "comment_id": 71615093, "body": "Are you on Linux?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1487080629, "post_id": 42227694, "comment_id": 71615480, "body": "I&#39;d start by making sure nothing is buffered."}, {"owner": {"reputation": 326, "user_id": 4286336, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000677150689/picture?type=large", "display_name": "Micha\u0142 Kawiecki", "link": "https://stackoverflow.com/users/4286336/micha%c5%82-kawiecki"}, "reply_to_user": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "edited": false, "score": 0, "creation_date": 1487080895, "post_id": 42227694, "comment_id": 71615665, "body": "@hek2mgl yes, red hat to be precise"}, {"owner": {"reputation": 326, "user_id": 4286336, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000677150689/picture?type=large", "display_name": "Micha\u0142 Kawiecki", "link": "https://stackoverflow.com/users/4286336/micha%c5%82-kawiecki"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487080914, "post_id": 42227694, "comment_id": 71615674, "body": "@simbabque how would i do that?"}, {"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1487082136, "post_id": 42227694, "comment_id": 71616511, "body": "you should be able (with a minimal amt of extra research) to chain all the substitutions into one call to <code>perl</code>. Otherwise that will seem really slow. Something like <code>perl &#39;s&#47;(^ *A.*$)&#47;&#39;$GREEN&#39;\\1&#39;$NORMAL&#39;&#47;igs;&#47;(^ *D.*$)&#47;&#39;$RED&#39;\\1&#39;$NORMAL&#39;&#47;igs;....&#39;</code> . Good luck."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1487088182, "post_id": 42227694, "comment_id": 71621016, "body": "Note: Don&#39;t generate code! Don&#39;t use <code>\\1</code> in replacement expressions. (Use <code>$1</code> or <code>${1}</code>.) <code>perl -pe&#39;s&#47;(^ *A.*$)&#47;&#39;$GREEN&#39;\\1&#39;$NORMAL&#39;&#47;igs&#39;</code> should be <code>perl -pe&#39;s&#47;(^ *A.*$)&#47;$ENV{GREEN}$1$ENV{NORMAL}&#47;igs&#39;</code> (if the vars are exported) or <code>perl -pe&#39;BEGIN { $c=shift; $n=shift; } s&#47;(^ *A.*$)&#47;$c$1$n&#47;igs&#39; &quot;$GREEN&quot; &quot;$NORMAL&quot;</code> or <code>C=&quot;$GREEN&quot; N=&quot;$NORMAL&quot; perl -pe&#39;s&#47;(^ *A.*$)&#47;$ENV{C}$1$ENV{N}&#47;igs&#39;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1487088353, "post_id": 42227694, "comment_id": 71621146, "body": "Adding <code>$| = 1;</code> to your Perl programs will disable their buffering. You might need to use <code>unbuffer</code> for the other programs."}], "answers": [{"comments": [{"owner": {"reputation": 326, "user_id": 4286336, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000677150689/picture?type=large", "display_name": "Micha\u0142 Kawiecki", "link": "https://stackoverflow.com/users/4286336/micha%c5%82-kawiecki"}, "edited": false, "score": 1, "creation_date": 1487153317, "post_id": 42228375, "comment_id": 71650758, "body": "Great, <code>stdbuf</code> is exactly what I needed, thank you. this is actual working solution: <code>svn up $@ | stdbuf -oL grep -vE &quot;^\\s*$|revision&quot; (...)</code>"}, {"owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "reply_to_user": {"reputation": 326, "user_id": 4286336, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000677150689/picture?type=large", "display_name": "Micha\u0142 Kawiecki", "link": "https://stackoverflow.com/users/4286336/micha%c5%82-kawiecki"}, "edited": false, "score": 0, "creation_date": 1487153401, "post_id": 42228375, "comment_id": 71650823, "body": "Glad to see that it helped you!"}], "tags": [], "owner": {"reputation": 132964, "user_id": 171318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ePRKy.jpg?s=128&g=1", "display_name": "hek2mgl", "link": "https://stackoverflow.com/users/171318/hek2mgl"}, "is_accepted": true, "score": 1, "last_activity_date": 1487081502, "creation_date": 1487081502, "answer_id": 42228375, "question_id": 42227694, "link": "https://stackoverflow.com/questions/42227694/how-to-color-shell-output-in-runtime/42228375#42228375", "title": "How to color shell output in runtime", "body": "<p>On Linux you can use <code>stdbuf</code> to adjust io buffering. Like this:</p>\n\n<pre><code>stdbuf -oL svn up \"$@\" | perl ... \n</code></pre>\n"}], "owner": {"reputation": 326, "user_id": 4286336, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000677150689/picture?type=large", "display_name": "Micha\u0142 Kawiecki", "link": "https://stackoverflow.com/users/4286336/micha%c5%82-kawiecki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 42228375, "answer_count": 1, "score": 1, "last_activity_date": 1487081502, "creation_date": 1487079632, "question_id": 42227694, "link": "https://stackoverflow.com/questions/42227694/how-to-color-shell-output-in-runtime", "title": "How to color shell output in runtime", "body": "<p>When I do <code>svn up</code> i get ~100 lines output in average. Plus there are X-teen externals that update for ~30s total (they pop-up one after another every 2-3s).</p>\n\n<p>I thought of coloring (maybe transforming) this output so that I can see it more clearly.</p>\n\n<p>I know I can use <code>sed</code> to do that but it takes in a nasty-formatted regex - lots of escaping chars.\n<br><code>perl</code> on the other hand takes much cleaner regex but it waits for entire input before printing output - I get the 30s of nothing and BAM entire output appears at once.</p>\n\n<p>up.sh</p>\n\n<pre><code>#!/bin/bash\n\nsvn up $@ \\\n    | grep -vE \"^\\s*$|revision\" \\\n    | ${arhbin}/coloring/svn.sh \\\n</code></pre>\n\n<p>${arhbin}/coloring/color_definitions.sh</p>\n\n<pre><code>#!/bin/bash\nsource ${arhbin}/coloring/color_definitions.sh\n\ncat \\\n    | perl -pe 's/(^ *A.*$)/'$GREEN'\\1'$NORMAL'/igs' \\\n    | perl -pe 's/(^ *D.*$)/'$RED'\\1'$NORMAL'/igs' \\\n    | perl -pe 's/(^ *C.*$)/'$RED_BG'\\1'$NORMAL'/igs' \\\n    | perl -pe 's/(^ *[?].*$)/'$BLUE'\\1'$NORMAL'/igs' \\\n    | perl -pe 's/(^ *G.*$)/'$BLUE'\\1'$NORMAL'/igs' \\\n</code></pre>\n\n<p>How can I color the output of a command in runtime using Perl/Python like regex?</p>\n"}, {"tags": ["perl", "file", "hash", "ini"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487071267, "post_id": 42224780, "comment_id": 71609302, "body": "Which module from CPAN are you using to do that?"}, {"owner": {"reputation": 27, "user_id": 7061050, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jY4m8.jpg?s=128&g=1", "display_name": "Laurent Zotto", "link": "https://stackoverflow.com/users/7061050/laurent-zotto"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487071378, "post_id": 42224780, "comment_id": 71609369, "body": "Config::IniFiles <a href=\"http://search.cpan.org/~shlomif/Config-IniFiles-2.94/lib/Config/IniFiles.pm\" rel=\"nofollow noreferrer\">search.cpan.org/~shlomif/Config-IniFiles-2.94/lib/Config/&hellip;</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1487071476, "post_id": 42224780, "comment_id": 71609431, "body": "Please <a href=\"https://stackoverflow.com/posts/42224780/edit\">edit</a> and show the code you have written and what you want to do with your config. Is it important if those server things end up in an array? Do you need them to be in order?"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1487073463, "post_id": 42225568, "comment_id": 71610720, "body": "Why reinvent the wheel if there are already several modules to do this?"}, {"owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487073538, "post_id": 42225568, "comment_id": 71610755, "body": "@simbabque: for originality. :)"}, {"owner": {"reputation": 12075, "user_id": 1137055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d7b43b9eb7d01bd8f7e51febe6053c?s=128&d=identicon&r=PG", "display_name": "dgw", "link": "https://stackoverflow.com/users/1137055/dgw"}, "edited": false, "score": 0, "creation_date": 1487076273, "post_id": 42225568, "comment_id": 71612592, "body": "Don&#39;t reinvent the wheel. CPAN modules usually have test suites for automated tests and mostly can handle special cases. You could reinvent the wheel for yourself, but please do not use it as answers here when there are CPAN modules."}], "tags": [], "owner": {"reputation": 1114, "user_id": 6920976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90a05ddb368128f5819253e5c7119f09?s=128&d=identicon&r=PG&f=1", "display_name": "User9102d82", "link": "https://stackoverflow.com/users/6920976/user9102d82"}, "is_accepted": false, "score": 0, "last_activity_date": 1487073420, "creation_date": 1487073420, "answer_id": 42225568, "question_id": 42224780, "link": "https://stackoverflow.com/questions/42224780/inifiles-use-array-or-hash/42225568#42225568", "title": "IniFiles use array or hash", "body": "<p>One could also read file line by line and store desired values, if you are familiar with a little bit of regex. I use this in my example below.</p>\n\n<p>If you don't need a particular order of \"server 1\", \"server 2\".. values, then you may use Hash, otherwise, go for an array.</p>\n\n<p>Here, from your example, a sample test file:</p>\n\n<pre><code>%_Host@User&gt; cat srv.txt\nSRV[] = \"server 1\"\nSRV[] = \"server 2\"\nSRV[] = \"server 3\"\nSRV[] = \"server 109\"\nSRV[] = \"server 51\"\n%_Host@User&gt;\n</code></pre>\n\n<p>I read it by catting the file to the script and then I generate a Hash and an Array, as seen the Data::Dumper output below.</p>\n\n<pre><code>%_Host@User&gt; cat srv.txt |perl test.pl\n\n# Hash output [unordered]\n$VAR1 = '\"server 109\"';\n$VAR2 = 1;\n$VAR3 = '\"server 51\"';\n$VAR4 = 1;\n$VAR5 = '\"server 1\"';\n$VAR6 = 1;\n$VAR7 = '\"server 3\"';\n$VAR8 = 1;\n$VAR9 = '\"server 2\"';\n$VAR10 = 1;\n\n# Array output [in order]\n$VAR1 = '\"server 1\"';\n$VAR2 = '\"server 2\"';\n$VAR3 = '\"server 3\"';\n$VAR4 = '\"server 109\"';\n$VAR5 = '\"server 51\"';\n%_Host@User&gt;\n</code></pre>\n\n<p>Now you got both options, and you may proceed as you wish. </p>\n\n<p><strong>Here is the script:</strong> Its logic is: if line matches 'server' then process and extract values and store in hash and array, else skip.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper ;\nmy %hash ;\nmy @array ;\n\nwhile (&lt;&gt;)\n{\n  if (m/server/) {\n    if (m/^.+? = (.+)$/) {\n      $hash{$1} = 1 ;\n      push (@array, $1) ;\n    }\n  }\n}\n\nprint Dumper %hash ;\nprint Dumper @array ;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1487077032, "post_id": 42225686, "comment_id": 71613026, "body": "Could the downvoter comment how I could improve the answer?"}], "tags": [], "owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "is_accepted": false, "score": 2, "last_activity_date": 1487073748, "creation_date": 1487073748, "answer_id": 42225686, "question_id": 42224780, "link": "https://stackoverflow.com/questions/42224780/inifiles-use-array-or-hash/42225686#42225686", "title": "IniFiles use array or hash", "body": "<p>You can use the your ini-file directly, but with some twists.</p>\n\n<p>According to the <a href=\"https://metacpan.org/pod/Config::IniFiles\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p><strong>val ($section, $parameter [, $default] )</strong></p>\n  \n  <p>Returns the value of the specified parameter ($parameter) in section\n  $section, returns undef (or $default if specified) if no section or no\n  parameter for the given section exists.</p>\n  \n  <p>If you want a multi-line/value field returned as an array, just\n  specify an array as the receiver:</p>\n\n<pre><code>@values = $cfg-&gt;val('Section', 'Parameter');\n</code></pre>\n  \n  <p>A multi-line/value\n  field that is returned in a scalar context will be joined using $/\n  (input record separator, default is \\n) if defined, otherwise the\n  values will be joined using \\n.</p>\n</blockquote>\n\n<p>The following:</p>\n\n<pre><code>use 5.014;\nuse warnings;\nuse Config::IniFiles;\n\nuse Data::Dumper;\n\nmy $cfg = Config::IniFiles-&gt;new( -file =&gt; \"./conf.ini\" );\nmy @v = $cfg-&gt;val( 'RADIUS', 'SRV[]' );\nsay Dumper \\@v;\n</code></pre>\n\n<p>produces a 4 element array,</p>\n\n<pre><code>$VAR1 = [\n          '\"server 1\"',\n          '\"server 2\"',\n          '\"server 3\"',\n          '\"server n\"'\n        ];\n</code></pre>\n\n<p>Also note:</p>\n\n<ul>\n<li>the usage of the <code>SRV[]</code> for the parameter name.</li>\n<li>and the returned array elements contains the <code>\"</code> quote characters.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 27, "user_id": 7061050, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jY4m8.jpg?s=128&g=1", "display_name": "Laurent Zotto", "link": "https://stackoverflow.com/users/7061050/laurent-zotto"}, "is_accepted": true, "score": 0, "last_activity_date": 1487176435, "last_edit_date": 1487176435, "creation_date": 1487162972, "answer_id": 42249904, "question_id": 42224780, "link": "https://stackoverflow.com/questions/42224780/inifiles-use-array-or-hash/42249904#42249904", "title": "IniFiles use array or hash", "body": "<p>Here is what I made work for me using the Config:IniFiles:</p>\n\n<pre><code>use Config::IniFiles;\n# Read Ini File\nmy %MyCfg;\ntie %MyCfg, 'Config::IniFiles', ( -file =&gt; \"..\".$MyPathSep.\"ini\".$MyPathSep.\"file.ini\" );\nforeach my $List1 (sort keys %{$MyCfg{'DataCenters'}}) {\n    if (ref $MyCfg{'DataCenters'}{$List1} eq 'ARRAY') {\n        foreach my $List2 (sort keys @{$MyCfg{'DataCenters'}{$List1}}) {\n            print $MyCfg{'DataCenters'}{$List1}[$List2].\"\\n\";\n        }\n    } else {\n        print $MyCfg{'DataCenters'}{$List1}.\"\\n\";\n    }\n}\n</code></pre>\n\n<p>For the Input section:</p>\n\n<pre><code>[DataCenters]\n; DC in location a\nLOCa[] = \"DC1\"\nLOCa[] = \"DC2\"\nLOCa[] = \"DC3\"\nLOCa[] = \"DC4\"\n; DC in location b\nLOCb[] = \"DC5\"\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code> scripts\\bin&gt;perl switchcfg.pl\n    \"DC1\"\n    \"DC2\"\n    \"DC3\"\n    \"DC4\"\n    \"DC5\"\n</code></pre>\n\n<p>Thank you for your contribution!\nRegards\nLaurent</p>\n"}], "owner": {"reputation": 27, "user_id": 7061050, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jY4m8.jpg?s=128&g=1", "display_name": "Laurent Zotto", "link": "https://stackoverflow.com/users/7061050/laurent-zotto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 0, "accepted_answer_id": 42249904, "answer_count": 3, "score": -1, "last_activity_date": 1487176435, "creation_date": 1487071138, "last_edit_date": 1487071256, "question_id": 42224780, "link": "https://stackoverflow.com/questions/42224780/inifiles-use-array-or-hash", "title": "IniFiles use array or hash", "body": "<p>I have to transpose a PHP script to Perl.</p>\n\n<p>In my PHP script I parse an ini file with array elements in it as for example...</p>\n\n<pre><code>[RADIUS]\nSRV[] = \"server 1\"\nSRV[] = \"server 2\"\nSRV[] = \"server 3\"\n...\nSRV[] = \"server n\"\n</code></pre>\n\n<p>This works fine in PHP, and my question is, can I use the same ini file in Perl or must I rewrite this as following</p>\n\n<pre><code>[RADIUS]\nSRV1 = \"server 1\"\nSRV2 = \"server 2\"\nSRV3 = \"server 3\"\n...\nSRV4 = \"server n\"\n</code></pre>\n\n<p>This is not clear in CPAN. </p>\n\n<p>For the first variant I can walk through the hash and read my values with a while loop, or so and I do not have to take care if I remove an item that the numbering is consistent.</p>\n\n<p>Any hint is welcome! Thank you in advance.</p>\n"}, {"tags": ["perl", "perl-module", "perl-data-structures", "mod-perl"], "comments": [{"owner": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1487065868, "post_id": 42221857, "comment_id": 71605591, "body": "What&#39;s the version of Perl on both machines?"}, {"owner": {"reputation": 1, "user_id": 7561931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70232e6762ff5b824513cb60a6dfe7b5?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/7561931/dev"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1487066971, "post_id": 42221857, "comment_id": 71606322, "body": "Perl 5 Version 20. I am running it as:"}, {"owner": {"reputation": 1, "user_id": 7561931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70232e6762ff5b824513cb60a6dfe7b5?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/7561931/dev"}, "reply_to_user": {"reputation": 19192, "user_id": 257635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/El2tc.jpg?s=128&g=1", "display_name": "Chankey Pathak", "link": "https://stackoverflow.com/users/257635/chankey-pathak"}, "edited": false, "score": 0, "creation_date": 1487067017, "post_id": 42221857, "comment_id": 71606352, "body": "/user/csm/64-bit/perl/5.20.2/bin/perl my_perl.pl"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1487068046, "post_id": 42221857, "comment_id": 71607065, "body": "are y ou able to locate the <code>libssl.so</code> shared lib on both servers in the same location with same permissions on each server?"}, {"owner": {"reputation": 1, "user_id": 7561931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70232e6762ff5b824513cb60a6dfe7b5?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/7561931/dev"}, "edited": false, "score": 0, "creation_date": 1487068388, "post_id": 42221857, "comment_id": 71607315, "body": "libssl.so is located on both servers. Both are having same path."}, {"owner": {"reputation": 1, "user_id": 7561931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70232e6762ff5b824513cb60a6dfe7b5?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/7561931/dev"}, "edited": false, "score": 0, "creation_date": 1487068422, "post_id": 42221857, "comment_id": 71607339, "body": "Permissions to lib on each server is same."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1487069156, "post_id": 42221857, "comment_id": 71607877, "body": "&#39;/user/csm/64-bit/cpan/5.20.2-2014.10/lib/auto/Net/SSLeay/SS&zwnj;&#8203;Leay.so&#39; seems to be the culprit. The error-message was <code>cannot open shared object file: No such file or directory </code>, so it might be missing on the server"}, {"owner": {"reputation": 1, "user_id": 7561931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70232e6762ff5b824513cb60a6dfe7b5?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/7561931/dev"}, "edited": false, "score": 0, "creation_date": 1487071244, "post_id": 42221857, "comment_id": 71609284, "body": "It SSLeay.so is also available. Please refer below lines:      bash-4.1$ ls -ltr /user/csm/64-bit/cpan/5.20.2-2014.10/lib/auto/Net/SSLeay/SSL&zwnj;&#8203;eay.so     -r-xr-xr-x 1 occcc wwwww 537634 Apr  9  2015 /user/csm/64-bit/cpan/5.20.2-2014.10/lib/auto/Net/SSLeay/SSL&zwnj;&#8203;eay.so      bash-4.1$ ls -ltr /user/csm/64-bit/perl/5.20.2/lib/5.20.2/x86_64-linux-thread-&zwnj;&#8203;multi/DynaLoader.pm     -r--r--r-- 1 occcc wwwww 25590 Mar 16  2015 /user/csm/64-bit/perl/5.20.2/lib/5.20.2/x86_64-linux-thread-&zwnj;&#8203;multi/DynaLoader.pm"}], "owner": {"reputation": 1, "user_id": 7561931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70232e6762ff5b824513cb60a6dfe7b5?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/7561931/dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 297, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487063173, "creation_date": 1487063173, "question_id": 42221857, "link": "https://stackoverflow.com/questions/42221857/perl-library-issue-while-running-script-on-different-server", "title": "Perl library issue while running script on different server", "body": "<p>My perl script is working fine on Server 1 and same script is giving error on Server 2.\nOn both server I have same library but still it is giving error.\nI have tried by setting LD_LIBRARY_PATH but still m getting same error.</p>\n\n<p>The same script is running on Server 1 and not running on Server 2. Even after having the same OS and Kernel version.</p>\n\n<p>Error(while running perl script related to perl lib load) is as below:</p>\n\n<pre><code>Can't load '/user/csm/64-bit/cpan/5.20.2-2014.10/lib/auto/Net/SSLeay/SSLeay.so' for module Net::SSLeay: libssl.so.1.0.0: cannot open shared object file: No such file or directory at /user/csm/64-bit/perl/5.20.2/lib/5.20.2/x86_64-linux-thread-multi/DynaLoader.pm line 193.\n at /user/csm/64-bit/cpan/5.20.2-2014.10/lib/IO/Socket/SSL.pm line 19.\nCompilation failed in require at /user/csm/64-bit/cpan/5.20.2-2014.10/lib/IO/Socket/SSL.pm line 19.\nBEGIN failed--compilation aborted at /user/csm/64-bit/cpan/5.20.2-2014.10/lib/IO/Socket/SSL.pm line 19.\nCompilation failed in require at /user/csm/64-bit/cpan/5.20.2-2014.10/lib/Net/HTTPS.pm line 26.\nCan't load '/user/csm/64-bit/cpan/5.20.2-2014.10/lib/auto/Crypt/SSLeay/SSLeay.so' for module Crypt::SSLeay: libssl.so.1.0.0: cannot open shared object file: No such file or directory at /user/csm/64-bit/perl/5.20.2/lib/5.20.2/x86_64-linux-thread-multi/DynaLoader.pm line 193.\n at /user/csm/64-bit/cpan/5.20.2-2014.10/lib/Net/SSL.pm line 20.\nCompilation failed in require at /user/csm/64-bit/cpan/5.20.2-2014.10/lib/Net/SSL.pm line 20.\nCompilation failed in require at /user/csm/64-bit/cpan/5.20.2-2014.10/lib/Net/HTTPS.pm line 30.\nCompilation failed in require at /user/csm/64-bit/cpan/5.20.2-2014.10/lib/LWP/Protocol/https.pm line 8.\nCompilation failed in require at (eval 43) line 2.\n</code></pre>\n"}, {"tags": ["linux", "perl", "shell"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 0, "creation_date": 1487053055, "post_id": 42219067, "comment_id": 71598832, "body": "Example : <code>perl -ne &#39;$_ =~ s&#47;bladeServerSlot\\=0&#47;bladeServerSlot\\=12&#47;; print $_;&#39; aa.txt</code>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1487064427, "post_id": 42219067, "comment_id": 71604582, "body": "That could be written much nicer with <code>perl -pe &#39;s&#47;bladeServerSlot=0&#47;bladeServerSlot=12&#47;&#39; aa.txt</code>."}], "answers": [{"comments": [{"owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "reply_to_user": {"reputation": 229, "user_id": 7316385, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73d90b34e1cfe7226b22cf83438dcc50?s=128&d=identicon&r=PG&f=1", "display_name": "Can Cinar", "link": "https://stackoverflow.com/users/7316385/can-cinar"}, "edited": false, "score": 0, "creation_date": 1487072128, "post_id": 42219123, "comment_id": 71609859, "body": "whoever downvoted, please have some courtesy to explain the reason for downvote."}, {"owner": {"reputation": 172529, "user_id": 140750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4c7af12cad08c95bc206a9636d164224?s=128&d=identicon&r=PG", "display_name": "William Pursell", "link": "https://stackoverflow.com/users/140750/william-pursell"}, "edited": false, "score": 0, "creation_date": 1487097832, "post_id": 42219123, "comment_id": 71627181, "body": "Seems like the sed would be cleaner as <code>&#47;^bladeServerSlot&#47;s&#47;=.*$&#47;=12&#47;</code>"}], "tags": [], "owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "is_accepted": true, "score": 0, "last_activity_date": 1487053924, "last_edit_date": 1487053924, "creation_date": 1487052865, "answer_id": 42219123, "question_id": 42219067, "link": "https://stackoverflow.com/questions/42219067/how-can-replace-a-specific-line-in-a-text-file-with-a-shell-script/42219123#42219123", "title": "How can replace a specific line in a text file with a shell script?", "body": "<p>Using <code>sed</code> and backreferencing:</p>\n\n<pre><code>sed -r '/bladeServerSlot/ s/(^.*)(=.*)/\\1=12/g' inputfile\n</code></pre>\n\n<p>Using <code>awk</code> , this will search for the line which contains <code>bladeServerSlot</code> and replace the second column of that line. </p>\n\n<pre><code>awk  'BEGIN{FS=OFS=\"=\"}/bladeServerSlot/{$2=12}1' inputfile\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 7554785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0609a770bb52bf77838379f0f48e3d42?s=128&d=identicon&r=PG", "display_name": "Ronny Polley", "link": "https://stackoverflow.com/users/7554785/ronny-polley"}, "is_accepted": false, "score": -1, "last_activity_date": 1487097552, "last_edit_date": 1487097552, "creation_date": 1487052911, "answer_id": 42219130, "question_id": 42219067, "link": "https://stackoverflow.com/questions/42219067/how-can-replace-a-specific-line-in-a-text-file-with-a-shell-script/42219130#42219130", "title": "How can replace a specific line in a text file with a shell script?", "body": "<p>Is it really necessary to replace the line in your example? As <code>bladeServerSlot</code> is a variable you could reset the value.</p>\n\n<pre><code>bladeServerSlot=`any command`\n</code></pre>\n\n<p>Or you could just let this variable be filled by a Parameter provided to this script.</p>\n\n<pre><code>bladeServerSlot=$1\n</code></pre>\n\n<p>With <code>$1</code>being the first parameter of your script. I think this would be the cleaner way do solve your issue than to do fancy regex here. The sed/perl solutions will work, but they are not very clear to other people reading your script.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1487099611, "last_edit_date": 1487099611, "creation_date": 1487053663, "answer_id": 42219316, "question_id": 42219067, "link": "https://stackoverflow.com/questions/42219067/how-can-replace-a-specific-line-in-a-text-file-with-a-shell-script/42219316#42219316", "title": "How can replace a specific line in a text file with a shell script?", "body": "<pre><code>perl -pe 's/bladeServerSlot=\\K\\d+/12/' aa.txt  &gt; output.txt\n</code></pre>\n\n<p>The <code>\\K</code> is a <a href=\"http://perldoc.perl.org/perlre.html#Extended-Patterns\" rel=\"nofollow noreferrer\">particular form</a> of the <a href=\"http://perldoc.perl.org/perlretut.html#Looking-ahead-and-looking-behind\" rel=\"nofollow noreferrer\">positive lookbehind</a>, which discards all previous matches. So we need to replace only what follows.  The <code>s/</code> is applied by default to <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\">$_</a>, which contains the current line. The <a href=\"http://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\"><code>-p</code></a> prints <code>$_</code> for every line, so all other lines are copied.  We redirect output to a file.</p>\n"}], "owner": {"reputation": 229, "user_id": 7316385, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73d90b34e1cfe7226b22cf83438dcc50?s=128&d=identicon&r=PG&f=1", "display_name": "Can Cinar", "link": "https://stackoverflow.com/users/7316385/can-cinar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2780, "favorite_count": 0, "accepted_answer_id": 42219123, "answer_count": 3, "score": 1, "last_activity_date": 1487099611, "creation_date": 1487052659, "last_edit_date": 1487061335, "question_id": 42219067, "link": "https://stackoverflow.com/questions/42219067/how-can-replace-a-specific-line-in-a-text-file-with-a-shell-script", "title": "How can replace a specific line in a text file with a shell script?", "body": "<p>I am trying to replace a specific line in a txt file with my shell script, for example;</p>\n\n<pre><code>cat aa.txt:\nauditd=0\nbladeServerSlot=0\n</code></pre>\n\n<p>When I run my script I would like to change \"bladeServerSlot\" to 12 as following;</p>\n\n<pre><code>cat aa.txt:\nauditd=0\nbladeServerSlot=12\n</code></pre>\n\n<p>Could you please help me?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 3, "creation_date": 1487048799, "post_id": 42217954, "comment_id": 71597314, "body": "Read it using <a href=\"http://search.cpan.org/~ishigaki/Text-CSV-1.91/lib/Text/CSV.pm\" rel=\"nofollow noreferrer\">Text::CSV</a>, then write an xml file using a module for that. For instance, <a href=\"http://search.cpan.org/dist/XML-LibXML/LibXML.pod\" rel=\"nofollow noreferrer\">XML::LibXML</a>, where you&#39;ll use <a href=\"http://search.cpan.org/dist/XML-LibXML/lib/XML/LibXML/Document.pod\" rel=\"nofollow noreferrer\">XML::LibXML::Document</a>. There are other modules, <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm\" rel=\"nofollow noreferrer\">XML::Twig</a> in the first place. The <a href=\"http://search.cpan.org/dist/XML-Writer/Writer.pm\" rel=\"nofollow noreferrer\">XML::Writer</a> used to be popular but I don&#39;t know much about it nor its standing now."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1487048975, "post_id": 42217954, "comment_id": 71597379, "body": "You&#39;ll need to come up with <i>how</i> you want your data organized, ie. how your xml is going to look.  As for writing with <code>XML::LibXML</code>, here is  a possibly useful <a href=\"http://stackoverflow.com/a/2934794/4653379\">SO post</a>, and another <a href=\"http://www.perlmonks.org/?node_id=1026789\" rel=\"nofollow noreferrer\">PerlMonks post</a> (these links didn&#39;t fit in the above comment)."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1487064543, "post_id": 42217954, "comment_id": 71604675, "body": "It&#39;s not hard to do, but XML is a lot more complicated than CSV. So at the very least we&#39;ll need an idea of what your XML should look like."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 5, "last_activity_date": 1487064721, "creation_date": 1487064721, "answer_id": 42222365, "question_id": 42217954, "link": "https://stackoverflow.com/questions/42217954/perl-converting-csv-file-to-xml/42222365#42222365", "title": "Perl : converting csv file to xml", "body": "<pre><code>print \"&lt;myXML&gt;\\n\";\nwhile (&lt;&gt;) {\n  print \"&lt;aRow&gt;$_&lt;/aRow&gt;\\n\";\n}\nprint \"&lt;/myXML&gt;\\n\";\n</code></pre>\n\n<p>Or, using XML::LibXML, something like this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse XML::LibXML;\n\nmy $doc = XML::LibXML::Document-&gt;createDocument;\n\nmy $root = $doc-&gt;createElement('myXML');\n$doc-&gt;setDocumentElement($root);\n$root-&gt;appendChild($doc-&gt;createTextNode(\"\\n\"));\n\nwhile (&lt;&gt;) {\n  chomp;\n  my $row = $doc-&gt;createElement('aRow');\n  $root-&gt;appendChild($row);\n  $row-&gt;appendChild($doc-&gt;createTextNode($_));\n  $root-&gt;appendChild($doc-&gt;createTextNode(\"\\n\"));\n}\n\nprint $doc-&gt;toString;\n</code></pre>\n\n<p>Of course, if you told us what the output should look like, we could probably come up with something a little more sophisticated!</p>\n"}], "owner": {"reputation": 47, "user_id": 6386886, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/60ae3e6b6725df8d7948e3f063648863?s=128&d=identicon&r=PG&f=1", "display_name": "LittleMagnolia", "link": "https://stackoverflow.com/users/6386886/littlemagnolia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 794, "favorite_count": 1, "answer_count": 1, "score": -3, "last_activity_date": 1487064721, "creation_date": 1487047024, "question_id": 42217954, "link": "https://stackoverflow.com/questions/42217954/perl-converting-csv-file-to-xml", "title": "Perl : converting csv file to xml", "body": "<p>I'm trying to parse a csv file and convert it to XML. The .csv file consists of a list of entries, separated by commas. So, two sample entries look like this:</p>\n\n<pre><code>AP,AB,A123,B123,,,\nMA,NA,M123,TEXT,TEXT,TEXT_VALUE\n</code></pre>\n\n<p>Some field are blank in file and file has no header rows. \nAny suggestions how to go with this. Haven't figured out how to go with this. \nThanks.</p>\n"}, {"tags": ["perl", "rabbitmq", "fork"], "answers": [{"comments": [{"owner": {"reputation": 86, "user_id": 2966698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/685ce6c0714acab97fd1e5a5cc39b40d?s=128&d=identicon&r=PG&f=1", "display_name": "Voluntari", "link": "https://stackoverflow.com/users/2966698/voluntari"}, "edited": false, "score": 0, "creation_date": 1487080233, "post_id": 42217930, "comment_id": 71615190, "body": "Thank you for the quick and detailed answer... I figured it was something like this but did not know how to verify it (thanks for the snippet).  +1."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1527834571, "last_edit_date": 1527834571, "creation_date": 1487046851, "answer_id": 42217930, "question_id": 42217814, "link": "https://stackoverflow.com/questions/42217814/publishing-to-rabbitmq-silently-fails-in-the-parent-process-after-forking-a-chil/42217930#42217930", "title": "Publishing to RabbitMQ silently fails in the parent process after forking a child", "body": "<p>The child is a clone of the parent, and the file handles the parent has are shared with the child. As a copy of the parent, the child has a copy of <code>$connection</code>. When the child exits, this object is destroyed, calling it's destructor, sending a command to RabbitMQ to close the connection.</p>\n\n<p>You can see this by adding</p>\n\n<pre><code>{\n   my $old_destructor = Net::AMQP::RabbitMQ-&gt;can('DESTROY');\n   my $new_destructor = sub { print(\"Destroying $_[0]!\\n\"); $old_destructor-&gt;(); };\n   no warnings qw( redefine );\n   *Net::AMQP::RabbitMQ::DESTROY = $new_destructor;\n}\n</code></pre>\n\n<p>Possible solutions:</p>\n\n<ul>\n<li>Move the child code to a separate file, and <code>exec</code> that file.</li>\n<li>Move the child code into a sub that's called when the script is called with a \"secret\" parameter, and have the child restart itself via <code>exec</code> with that parameter.</li>\n<li>Create the child sooner. Specifically, create it before creating the RabbitMQ connection.</li>\n<li>Create a child to do the RabbitMQ stuff.</li>\n<li>Use a thread instead of a child process.</li>\n</ul>\n\n<hr>\n\n<p>PS &mdash; Don't write <code>fork</code>+<code>exec</code> code yourself. At least use <code>open3</code>.</p>\n\n<pre><code>sub spawn {\n  open(local *CHILD_STDIN, '&lt;', '/dev/null') or die $!;\n  return open3('&lt;&amp;CHILD_STDIN', '&gt;&amp;STDOUT', '&gt;&amp;STDERR', @_);\n}\n\nsendToRabbit({ message =&gt; 'body 1' });\n\nmy $pid = spawn('child.pl');    \nwaitpid($pid, 0);\n\nsendToRabbit({ message =&gt; 'body 2' });\n</code></pre>\n"}], "owner": {"reputation": 86, "user_id": 2966698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/685ce6c0714acab97fd1e5a5cc39b40d?s=128&d=identicon&r=PG&f=1", "display_name": "Voluntari", "link": "https://stackoverflow.com/users/2966698/voluntari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 42217930, "answer_count": 1, "score": 1, "last_activity_date": 1527834571, "creation_date": 1487046034, "last_edit_date": 1487083433, "question_id": 42217814, "link": "https://stackoverflow.com/questions/42217814/publishing-to-rabbitmq-silently-fails-in-the-parent-process-after-forking-a-chil", "title": "Publishing to RabbitMQ silently fails in the parent process after forking a child", "body": "<p>I'm running into perplexing behavior with Net::AMQP::RabbitMQ and fork().  If I...</p>\n\n<ol>\n<li>Establish a connection to RabbitMQ in the parent process</li>\n<li>Publish a message</li>\n<li>Fork a child and wait for it to exit (the child sleeps)</li>\n<li>Publish a message</li>\n</ol>\n\n<p>... the second message is not actually sent to RabbitMQ (and no errors are thrown).  I've done a lot of tests, including checking <code>$connection-&gt;is_connected()</code> before sending.  A few interesting tidbits from my experimentation:</p>\n\n<ul>\n<li>If I try to open a new channel before publishing the second message, the <code>$connection-&gt;open_channel( $newChannelId )</code> call hangs.</li>\n<li>If I allow the child to continue running while the parent publishes the second message (and wait until afterwards to <code>waitpid</code>) it's successfully sent.</li>\n</ul>\n\n<p>I'm looking for a way to detect that this connection is no longer valid when a forked child exits, and force a disconnect/reconnect.  I'm caching the connection in a perl module that is used by various other modules in the system and I don't know if/when those other modules <code>fork()</code> to do work in parallel.  I can't reliably set a <code>$SIG{CHLD}</code> handler and drop the connection when the signal is received because other code might overwrite my handler.  The only bulletproof option I have is to discard the cache and connect for each message, but this slows down publish rates considerably (by a factor of 30ish).</p>\n\n<p>This script demonstrates the issue (publishing to a topic exchange called 'broadcast'):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse Net::AMQP::RabbitMQ;\nuse JSON -support_by_pp;\n\nmy $connection;\nmy $channelId = 0;\n\nsub sendToRabbit {\n  my ($message) = @_;\n  print \"Sending message $message-&gt;{message}\\n\";\n  my $contentType = 'application/json';\n  my $payload = encode_json $message;\n  $connection-&gt;publish($channelId, 'test.route', $payload, { exchange =&gt; 'broadcast', force_utf8_in_header_strings =&gt; 1 }, { 'content_type' =&gt; $contentType });\n  print \"Sent!\\n\";\n}\n\nsub main {\n  print \"Starting...\\n\";\n\n  $connection = Net::AMQP::RabbitMQ-&gt;new();\n  $connection-&gt;connect('localhost', { user =&gt; 'guest', password =&gt; 'guest', port =&gt; 5672 });\n  $connection-&gt;channel_open(++$channelId);\n  print \"Connected!\\n\";\n\n  # send first message\n  sendToRabbit({ message =&gt; 'body 1' });\n\n  # fork child\n  my $child = fork();\n  if(!$child) {\n    # child\n    sleep(1);\n    print \"child exiting...\\n\";\n    exit(0);\n  }\n  else {\n    # parent\n    waitpid($child, 0);\n  }\n  print \"parent continuing...\\n\";\n\n  # send second message - this will not be actually sent.  \n  sendToRabbit({ message =&gt; 'body 2' });\n\n  # allow I/O to settle...\n  sleep(1);\n}\n\nmain();\n</code></pre>\n\n<h1>EDIT: A solution</h1>\n\n<p>Thanks to <em>ikegami</em> for shedding light on the solution!</p>\n\n<p>In my RabbitMQ management object, I've injected some code into the <code>connect()</code> routine that allows me to selectively skip the destructor for forked children that do not call <code>connect()</code> themselves.  This seems to have the desired effect.</p>\n\n<pre><code># Connect to RabbitMQ and create a channel\nsub connect {\n  my ($self) = @_;\n\n  $self-&gt;{pid} = $$;\n\n  # if we redefined the destructor and connect is called, we need to revert\n  # it so it can be redefined again properly\n  no warnings qw( redefine );\n  if($self-&gt;{original_destructor}) {\n    # reset original destructor\n    *Net::AMQP::RabbitMQ::DESTROY = $self-&gt;{original_destructor};\n    delete $self-&gt;{original_destructor};\n  }\n\n  # define alternate destructor so forked children that do not call \"connect\" do\n  # not destroy our connection\n  {\n     $self-&gt;debug(\"Overridding constructor...\");\n     $self-&gt;{original_destructor} = Net::AMQP::RabbitMQ-&gt;can('DESTROY');\n     # only destroy the connection if the current pid is the owner's pid\n     my $new_destructor = sub { if($self-&gt;{pid} eq $$) { $self-&gt;debug(\"Destroying $_[0]!\\n\"); $self-&gt;{original_destructor}-&gt;(); } };\n     *Net::AMQP::RabbitMQ::DESTROY = $new_destructor;\n  }\n\n  my $connection = Net::AMQP::RabbitMQ-&gt;new();\n  $connection-&gt;connect('localhost', { user =&gt; $self-&gt;{username}, password =&gt; $self-&gt;{password}, port =&gt; $PORT, vhost =&gt; $VHOST });\n  $self-&gt;{connection} = $connection;\n  $self-&gt;{channel} = $self-&gt;createChannel();\n\n  1;\n}\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1487143148, "post_id": 42216536, "comment_id": 71644358, "body": "Please note that you wrote both <code>table</code> and <code>tabla</code>. Presumably you tried to translate your variables name to English. For next times, you don&#39;t need to translate them, or make sure your script still behave the same after the translation."}], "answers": [{"tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 8, "last_activity_date": 1487041156, "last_edit_date": 1487041156, "creation_date": 1487038877, "answer_id": 42216802, "question_id": 42216536, "link": "https://stackoverflow.com/questions/42216536/how-can-i-test-if-a-value-is-repeated-in-array/42216802#42216802", "title": "How can I test if a value is repeated in array?", "body": "<p>I would just do:</p>\n\n<pre><code>my %uniq;\nif ( grep ++$uniq{$_} &gt; 1, @numbers ) {\n     # some numbers are repeated\n}\n</code></pre>\n\n<p>In your existing code (with a couple corrections):</p>\n\n<pre><code>my %table=();\n\nforeach my $i(@numbers){\n    if (exists $table{$i}){\n        $table{$i}+=1;}\n    else{\n        $table{$i} = 1;\n    }\n}\nmy @values = values %table;\n</code></pre>\n\n<p>you don't need to check for exists; doing <code>+= 1</code> or <code>++</code> will set it to 1 if it didn't exist.  And you don't want the values (those are just the counts of how many times each array value was found), you want the keys, specifically those for which the value is > 1:</p>\n\n<pre><code>my @repeated = grep $table{$_} &gt; 1, keys %table;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1487143322, "post_id": 42222750, "comment_id": 71644460, "body": "You should mention the time complexity of your answer (<i>O(n*n)</i>), which is way more than ysth&#39;s one. (But your space complexity is lower than his)"}, {"owner": {"reputation": 532, "user_id": 6623469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3ebc0962a7ca106f4294fe9cd3ba0c3?s=128&d=identicon&r=PG&f=1", "display_name": "krish___na", "link": "https://stackoverflow.com/users/6623469/krish-na"}, "reply_to_user": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 0, "creation_date": 1487155106, "post_id": 42222750, "comment_id": 71652207, "body": "Thank you sir for your review. I am actually newbie in coding. Will take care of it from now."}], "tags": [], "owner": {"reputation": 532, "user_id": 6623469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3ebc0962a7ca106f4294fe9cd3ba0c3?s=128&d=identicon&r=PG&f=1", "display_name": "krish___na", "link": "https://stackoverflow.com/users/6623469/krish-na"}, "is_accepted": false, "score": 0, "last_activity_date": 1487065705, "creation_date": 1487065705, "answer_id": 42222750, "question_id": 42216536, "link": "https://stackoverflow.com/questions/42216536/how-can-i-test-if-a-value-is-repeated-in-array/42222750#42222750", "title": "How can I test if a value is repeated in array?", "body": "<pre><code>my @arr = @_; \nmy $count = @arr;\nfor(my $i=0;$i&lt;$count;$i++)\n{\n    my $num = $arr[$i];\n    for(my $j=0; $j&lt;$count,$j!=$i; $j++)\n    {\n        if($num == $arr[$j])\n        {\n           print \"\\n$num is repeated\";\n           last;\n        }  \n    }\n}  \n</code></pre>\n\n<p>Tried and tested. Cheers.</p>\n"}], "owner": {"reputation": 752, "user_id": 5794310, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DiqV9.jpg?s=128&g=1", "display_name": "Enrique", "link": "https://stackoverflow.com/users/5794310/enrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 1, "accepted_answer_id": 42216802, "answer_count": 2, "score": 0, "last_activity_date": 1487065705, "creation_date": 1487037124, "question_id": 42216536, "link": "https://stackoverflow.com/questions/42216536/how-can-i-test-if-a-value-is-repeated-in-array", "title": "How can I test if a value is repeated in array?", "body": "<p>I'm doing a subroutine that takes a list of numbers as an argument. What I would like to do is check if there is a repeated value in that list.  In case there are repeated numbers, print a message and stop the program. In case there are no repeated numbers, continue with the execution.</p>\n\n<p>For example: </p>\n\n<pre><code>if (there_is_number_repeated){\n    print \"There is a number repeated\";}\nelse{\n    run this code...}\n</code></pre>\n\n<p>I was trying to do this creating a hash with the values of that list, and then check if there are values <code>&gt; 1</code>. </p>\n\n<pre><code>    use strict;\n    use warnings;\n\nsub name_subroutine{\n    my (@numbers)=@_;\n    my $n=scalar(@numbers);\n\n    my %table=();\n\n    foreach my $i(@numbers){\n    if (exists $tabla{$i}){\n        $tabla{$i}+=1;}\n    else{\n        $tabla{$i} = 1;\n    }\nmy @values = values %tabla;\n}\n}\n</code></pre>\n\n<p>It's here where I do not know to continue. Is there any way to do this in an amateurish way? I'm newbie in Perl. </p>\n\n<p>Thanks! </p>\n"}, {"tags": ["perl", "hash"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 5, "creation_date": 1487025476, "post_id": 42214715, "comment_id": 71591053, "body": "You should start every Perl file with <code>use strict; use warnings;</code>. That would have found at least one error in your code."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1487025717, "post_id": 42214715, "comment_id": 71591139, "body": "Hint: It&#39;s not the hash itself (you could have checked that by printing <code>\\%uses</code>); it&#39;s coming right from the beginning: <code>my %uses = { };</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1487025808, "post_id": 42214715, "comment_id": 71591175, "body": "There&#39;s no point in using <code>$&#47;</code> there. If you haven&#39;t changed it yourself, it contains <code>&quot;\\n&quot;</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1487025832, "post_id": 42214715, "comment_id": 71591182, "body": "<code>.</code> is a metacharacter in regexes and needs to be escaped if you want to match it literally."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1487025862, "post_id": 42214715, "comment_id": 71591199, "body": "Strongly consider not using global variables everywhere."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1487025889, "post_id": 42214715, "comment_id": 71591213, "body": "<code>[\\n]</code> is better written as <code>\\n</code> in a regex."}, {"owner": {"reputation": 5545, "user_id": 186338, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/57d3d73f39c67905de18935eea4a3d7b?s=128&d=identicon&r=PG", "display_name": "James Cronen", "link": "https://stackoverflow.com/users/186338/james-cronen"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1487085845, "post_id": 42214715, "comment_id": 71619246, "body": "@melpomene: Thanks, clearly it&#39;s been a LONG time since I&#39;ve written any Perl."}], "answers": [{"comments": [{"owner": {"reputation": 5545, "user_id": 186338, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/57d3d73f39c67905de18935eea4a3d7b?s=128&d=identicon&r=PG", "display_name": "James Cronen", "link": "https://stackoverflow.com/users/186338/james-cronen"}, "edited": false, "score": 0, "creation_date": 1487085772, "post_id": 42215329, "comment_id": 71619194, "body": "Thanks! So obviously I haven&#39;t done Perl in 10+ years; has the declaration of an empty hash changed? I could have sworn it once required curly-braces; regular round parens were only to be used for list initialization."}, {"owner": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "reply_to_user": {"reputation": 5545, "user_id": 186338, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/57d3d73f39c67905de18935eea4a3d7b?s=128&d=identicon&r=PG", "display_name": "James Cronen", "link": "https://stackoverflow.com/users/186338/james-cronen"}, "edited": false, "score": 1, "creation_date": 1487086798, "post_id": 42215329, "comment_id": 71620002, "body": "By the way it hasn&#39;t changed, using round parens creates a regular hash key/value like %hash = ( a =&gt; 1, b=&gt;2)."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 5545, "user_id": 186338, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/57d3d73f39c67905de18935eea4a3d7b?s=128&d=identicon&r=PG", "display_name": "James Cronen", "link": "https://stackoverflow.com/users/186338/james-cronen"}, "edited": false, "score": 0, "creation_date": 1487104531, "post_id": 42215329, "comment_id": 71630851, "body": "@Tenner Initializing a hash is done with a list (of alternating key/value elements). But declaring an empty hash doesn&#39;t require initialization at all: <code>my %hash;</code> is fine."}], "tags": [], "owner": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "is_accepted": true, "score": 5, "last_activity_date": 1487028367, "creation_date": 1487028367, "answer_id": 42215329, "question_id": 42214715, "link": "https://stackoverflow.com/questions/42214715/extra-hash-reference-added-to-perl-hash-output/42215329#42215329", "title": "Extra HASH() reference added to Perl hash output", "body": "<p>You are not really having a big problem, the big deal here is that you are not able to see the errors you are doing.</p>\n\n<p>That's why you should always <a href=\"http://perldoc.perl.org/strict.html\">strict</a> and <a href=\"http://perldoc.perl.org/warnings.html\">warnings</a></p>\n\n<p>In your code you start with:</p>\n\n<pre><code>my %uses = { };\n</code></pre>\n\n<p>When it should be:</p>\n\n<pre><code>my %uses = ();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my %uses; #it's fine also\n</code></pre>\n\n<p>And then it will works.</p>\n\n<p>By using <code>{}</code> in a \"hash\" context you could create a <a href=\"http://perldoc.perl.org/perlref.html#Making-References\">hashref</a> which is not the case.</p>\n\n<blockquote>\n  <p>A reference to an anonymous hash can be created using curly brackets:</p>\n\n<pre><code>    $hashref = {\n        'Adam'  =&gt; 'Eve',\n        'Clyde' =&gt; 'Bonnie',\n    };\n</code></pre>\n</blockquote>\n\n<p>Also is a good practice declare your variables in <code>foreach</code> loop like:</p>\n\n<pre><code>foreach my $line (@lines) {\n</code></pre>\n\n<p>And in the rest of your code.</p>\n"}], "owner": {"reputation": 5545, "user_id": 186338, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/57d3d73f39c67905de18935eea4a3d7b?s=128&d=identicon&r=PG", "display_name": "James Cronen", "link": "https://stackoverflow.com/users/186338/james-cronen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 42215329, "answer_count": 1, "score": 0, "last_activity_date": 1487028367, "creation_date": 1487024925, "question_id": 42214715, "link": "https://stackoverflow.com/questions/42214715/extra-hash-reference-added-to-perl-hash-output", "title": "Extra HASH() reference added to Perl hash output", "body": "<p>I'm trying to read a FORTRAN program using Perl, and remove an <code>INCLUDE</code> command and replace it with a <code>USE</code>.</p>\n\n<p>This is working great, except when printing out the contents of the hash storing the existing <code>USE</code> statements, I get an extra entry.</p>\n\n<pre><code>my @lines = ( );\nmy %uses = { };\n\nforeach $f1line (&lt;&gt;) {\n    $f1line =~ s/\\r[\\n]*//g;\n\n    if ($f1line =~ /^\\s*INCLUDE 'FILE1.CMN'/ ||\n        $f1line =~ /^\\s*INCLUDE 'FILE2.CMN'/ ||\n        $f1line =~ /^\\s*INCLUDE 'FILE3.CMN'/) {\n            $f1line = \"      USE My_Mod\";\n    }\n\n    if ($f1line =~ /^\\s*USE /) {\n        $uses{$f1line} = 1;\n    }\n\n    push @lines, $f1line . $/;\n}\n\n$found = 0;\n\nforeach $line (@lines) {\n    if ($found == 0 &amp;&amp; $line =~ /^\\s*USE /) {\n        foreach my $x (sort(keys(%uses))) {\n            print $x . $/;                      # (1)\n        }\n\n        $found = 1;\n    } elsif ($found == 1 &amp;&amp; $line =~ /^\\s*USE /) {\n        next;\n    } else {\n        print $line;\n    }\n}\n</code></pre>\n\n<p>The output is this:</p>\n\n<pre><code>C     Include parameters here\n      USE My_Mod\n      USE MyOther_Mod\n      USE EvenAnother_Mod\nHASH(0x7f9dc3805ce8)\n</code></pre>\n\n<p>Where is the <code>HASH(0x...)</code> reference coming from? The only place I'm printing the contents of the hash is on line <code>(1)</code>. It almost looks like iterating over the keys of the hash is somehow including the hash itself. </p>\n\n<p>How can I get rid of this?</p>\n"}, {"tags": ["perl", "perl-module"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1487021890, "post_id": 42213616, "comment_id": 71589367, "body": "No dumb&quot;, it happens. That&#39;s what questions are about and you sure tried to solve your problem first.  Now have a look at <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1487023147, "post_id": 42213616, "comment_id": 71589965, "body": "You tried putting a named sub definition inside another sub. Maybe you intended that sub to be lexical (that means it&#39;s only valid inside that other sub, like a variable declared with <code>my</code>), or maybe you just didn&#39;t pay attention. But it&#39;s not correct anyway. The problem is with how Perl parses those sub definitions at compile time, and the variables are available at run time. Your solution with the code reference in a lexical variable is way better."}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1487028426, "last_edit_date": 1487028426, "creation_date": 1487021185, "answer_id": 42213861, "question_id": 42213616, "link": "https://stackoverflow.com/questions/42213616/how-to-pass-an-anonymous-sub-to-findfile/42213861#42213861", "title": "How to pass an anonymous sub to Find::File", "body": "<p>I would separate the subs apart (and rename the <code>print()</code> one as it conflicts with the built-in with the same name!), then you can do something along these lines (if I'm understanding what you want correctly):</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse File::Find;\n\nfile_find('.', '.txt');\n\nsub file_find{\n    my ($path,$filter) = @_;\n    my @files = find(sub {my_print($filter)}, $path);\n}\nsub my_print {\n    my $filter = shift;\n\n    my $fname = $File::Find::name;\n\n    if($fname =~ /$filter/){\n        print \"$fname\\n\";\n    }\n}\n</code></pre>\n\n<p>However, with that said, <a href=\"https://metacpan.org/pod/File::Find::Rule\" rel=\"nofollow noreferrer\">File::Find::Rule</a> can make these things very, very easy (particularly handling the file filters as it handles regex natively):</p>\n\n<pre><code>use warnings;\nuse strict;\n\nuse File::Find::Rule;\n\nmy $filter = '*.txt';\nmy $dir = '.';\n\nmy @files = File::Find::Rule-&gt;file()\n                            -&gt;name($filter)\n                            -&gt;in($dir);\n\nprint \"$_\\n\" for @files;\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 6755030, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9a406281fead93fde816e1a0bf65b1a0?s=128&d=identicon&r=PG&f=1", "display_name": "Mack", "link": "https://stackoverflow.com/users/6755030/mack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1487028426, "creation_date": 1487020223, "last_edit_date": 1487021456, "question_id": 42213616, "link": "https://stackoverflow.com/questions/42213616/how-to-pass-an-anonymous-sub-to-findfile", "title": "How to pass an anonymous sub to Find::File", "body": "<p>I know I can do this as an expression modifier:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse File::Find;\n\nsub file_find{\n    my ($path,$filter) = @_;\n    find(sub {print $File::Find::name.\"\\n\" if /$filter/}, $path);   \n}\nfile_find($newdir,'\\.txt');\n</code></pre>\n\n<p>or this which is less readable:</p>\n\n<pre><code>find(sub {if(/$filter/){print $File::Find::name.\"\\n\"}}, $path);\n</code></pre>\n\n<p>But if I wanted to do something like this, how can I do it?</p>\n\n<pre><code>sub file_find{\n    my ($path,$filter) = @_;\n\n    find(\\&amp;print, $path);\n\n    sub print {\n        if(/$filter/){ #Variable $filter will not stay shared\n            print $File::Find::name.\"\\n\";\n        }\n    }   \n}\nfile_find($newdir,'\\.txt')\n</code></pre>\n\n<p>I get 'variable will not stay shared'. I believe I'm supposed to make it an anonymous sub:</p>\n\n<pre><code>my $print = sub {\n    if(/$filter/){\n        print $File::Find::name.\"\\n\";\n    }\n}\n</code></pre>\n\n<p>But then I don't know how to pass the reference to the find sub. Perhaps it's somthing silly I'm missing.</p>\n\n<p>Edit: Never mind, this seems to work:</p>\n\n<pre><code>sub file_find{\n    my ($path,$filter) = @_;    \n\n    my $subref = sub{\n        if(/$filter/){\n            print $File::Find::name.\"\\n\";\n        }\n    };\n\n    find($subref,$path);    \n\n}\nfile_find($newdir,'\\.txt');\n</code></pre>\n\n<p>I had to push the find sub to the bottom! Man I feel so dumb :)</p>\n"}, {"tags": ["windows", "perl", "shell", "git-bash", "activeperl"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1487015264, "post_id": 42212132, "comment_id": 71585870, "body": "Note that it&#39;s <code>$ENV{...}</code>, not <code>%ENV{...}</code> when trying to access individual items in a hash."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1487015322, "post_id": 42212132, "comment_id": 71585910, "body": "Also, for one-liners on Windows, you typically need to use double-quotes: <code>perl -E &quot;...&quot;</code>. I&#39;ve never used git bash before, so this may not apply there."}, {"owner": {"reputation": 3093, "user_id": 1316396, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/d8Md1.jpg?s=128&g=1", "display_name": "Eric Hepperle - CodeSlayer2010", "link": "https://stackoverflow.com/users/1316396/eric-hepperle-codeslayer2010"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1487015485, "post_id": 42212132, "comment_id": 71586003, "body": "Doh! Thanks @stevieb ... That was the issue. Everything else was fine. <code>$ perl -e &#39;print $ENV{APPDATA}&#39;;</code> works perfectly."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1487016236, "post_id": 42212132, "comment_id": 71586449, "body": "I&#39;ve made it an answer since it did resolve the issue."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1487017614, "post_id": 42212132, "comment_id": 71587152, "body": "@stevieb, It depends on the shell, not the Perl. If he&#39;s using <code>bash</code>, then single quotes were appropriate."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1487017692, "post_id": 42212132, "comment_id": 71587195, "body": "@ikegami Thanks. I&#39;m aware it&#39;s the shell, but never have used git bash before, I wasn&#39;t sure if it was a true bash shell, or some trickery still wrapped in the Windows <code>cmd.exe</code> shell or not."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1487017869, "post_id": 42212132, "comment_id": 71587280, "body": "It wouldn&#39;t be bash if it didn&#39;t accept bash commands."}], "answers": [{"comments": [{"owner": {"reputation": 3093, "user_id": 1316396, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/d8Md1.jpg?s=128&g=1", "display_name": "Eric Hepperle - CodeSlayer2010", "link": "https://stackoverflow.com/users/1316396/eric-hepperle-codeslayer2010"}, "edited": false, "score": 0, "creation_date": 1487017864, "post_id": 42212569, "comment_id": 71587278, "body": "Also, for those seeing this answer marked correctly, another thing to be mindful of is that Windows uses ALL-CAPS and is case-sensitive (for the hash key)."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "reply_to_user": {"reputation": 3093, "user_id": 1316396, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/d8Md1.jpg?s=128&g=1", "display_name": "Eric Hepperle - CodeSlayer2010", "link": "https://stackoverflow.com/users/1316396/eric-hepperle-codeslayer2010"}, "edited": false, "score": 1, "creation_date": 1487018134, "post_id": 42212569, "comment_id": 71587419, "body": "@EricHepperle-CodeSlayer2010 just did some testing. In <code>cmd.exe</code>, env vars are not case-sensitive. <code>appdata</code> works just fine, as does <code>programfiles</code> (for <code>ProgramFiles</code>). It&#39;s likely the bash shell forcing things to remain sane by using proper case (I can&#39;t confirm that though)."}, {"owner": {"reputation": 3093, "user_id": 1316396, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/d8Md1.jpg?s=128&g=1", "display_name": "Eric Hepperle - CodeSlayer2010", "link": "https://stackoverflow.com/users/1316396/eric-hepperle-codeslayer2010"}, "edited": false, "score": 0, "creation_date": 1489772911, "post_id": 42212569, "comment_id": 72834257, "body": "Thanks @stevieb, I&#39;ll look into that."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 2, "last_activity_date": 1487017144, "last_edit_date": 1487017144, "creation_date": 1487016223, "answer_id": 42212569, "question_id": 42212132, "link": "https://stackoverflow.com/questions/42212132/access-perl-environment-shell-variables-in-windows-env-not-working/42212569#42212569", "title": "Access Perl environment (shell) variables in Windows - $ENV not working", "body": "<p>When you access individual items of a hash, you need to use the scalar sigil, <code>$</code> as opposed to the hash sigil, <code>%</code>:</p>\n\n<pre><code>perl -e 'print $ENV{APPDATA}'\n</code></pre>\n"}], "owner": {"reputation": 3093, "user_id": 1316396, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/d8Md1.jpg?s=128&g=1", "display_name": "Eric Hepperle - CodeSlayer2010", "link": "https://stackoverflow.com/users/1316396/eric-hepperle-codeslayer2010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1664, "favorite_count": 1, "accepted_answer_id": 42212569, "answer_count": 1, "score": -2, "last_activity_date": 1534118824, "creation_date": 1487014527, "last_edit_date": 1534118824, "question_id": 42212132, "link": "https://stackoverflow.com/questions/42212132/access-perl-environment-shell-variables-in-windows-env-not-working", "title": "Access Perl environment (shell) variables in Windows - $ENV not working", "body": "<h2>The issue</h2>\n\n<p>I found out how to use windows environment variables (e.g., <code>%AppData%</code>, <code>%HomePath%</code>, <code>%SystemRoot%</code>, etc.) in this SO post:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36312891/getting-the-path-of-appdata-in-perl-script\">Getting the path of %AppData% in perl script</a></p>\n\n<p>Here is the code snippet that was chosen as a working, correct answer:</p>\n\n<pre><code> #!/usr/bin/perl\n\n use warnings;\n use strict;\n\n my $localConfPath = $ENV{localappdata};\n my $appdata = $ENV{appdata}; \n\n print $localConfPath;  #will print the app path - C:\\users\\xxx\\AppData\\local\n print $appdata; #prints - C:\\users\\xxx\\AppData\\Roaming\n</code></pre>\n\n<p>However, this is not working on my machine in my code for some reason. My scripts work without the shebang (#!) line so I tried the script both with and without it, to no avail.</p>\n\n<h2>My set-up</h2>\n\n<p>I'm using the Perl that comes with GitBash, if that makes a difference.</p>\n\n<h2>What I've tried</h2>\n\n<p>I tried a simple Perl command line execution:</p>\n\n<pre><code>perl -e 'print %ENV{AppData}';\n</code></pre>\n\n<p>This didn't work. I also tried the following alternatives:</p>\n\n<pre><code>perl -e 'print %ENV{APPDATA}';\nperl -e 'print %ENV{appdata}';\n</code></pre>\n\n<p>That also didn't work. Here's the error I get (the same for all 3 versions):</p>\n\n<pre><code>syntax error at -e line 1, near \"%ENV{AppData\"\nExecution of -e aborted due to compilation errors.\n</code></pre>\n\n<p>I even tried to use the code from the SO post I mentioned in it's own file. That code doesn't work either. With the code from the post I get this error:</p>\n\n<pre><code>$ perl /c/Users/User1/Desktop/ehCode_testingWindowsEnvironmentVariables_01.pl\nUse of uninitialized value in print at /c/Users/User1/Desktop/ehCode_testingWindowsEnvironmentVariables_01.pl line 7.\nUse of uninitialized value in print at /c/Users/User1/Desktop/ehCode_testingWindowsEnvironmentVariables_01.pl line 8.\n</code></pre>\n\n<p>The lines in question then are these:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>print $localConfPath;  #will print the app path - C:\\users\\xxx\\AppData\\local\nprint $appdata; #prints - C:\\users\\xxx\\AppData\\Roaming\n</code></pre>\n\n<p>I don't see why they shouldn't work.</p>\n\n<p>I've checked Perl Monks, Perl Maven, Stack Overflow, and other popular Perl resources, to no avail. Even Active State did not have the answer.</p>\n"}, {"tags": ["html", "forms", "perl", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 4913477, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6affde31bc13835f51c928c763a4ec69?s=128&d=identicon&r=PG&f=1", "display_name": "squadguy", "link": "https://stackoverflow.com/users/4913477/squadguy"}, "edited": false, "score": 0, "creation_date": 1487026245, "post_id": 42211660, "comment_id": 71591345, "body": "Even with the      my $totalCost = 110* @classes ---- It still doesn&#39;t display the right amount.  I&#39;m thinking it isn&#39;t populating the array.  The full name of the &quot;classes&quot;  name is &quot;class_1[]&quot;  I&#39;m wondering if the brackets are breaking it."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 0, "last_activity_date": 1487012831, "creation_date": 1487012831, "answer_id": 42211660, "question_id": 42211267, "link": "https://stackoverflow.com/questions/42211267/unable-to-assign-mutliple-values-to-array-from-html-form-that-has-mulitple-check/42211660#42211660", "title": "Unable to assign mutliple values to array from html form that has mulitple checkboxes sharing same name attribute", "body": "<p>Running your code in the debugging mode, i.e. with</p>\n\n<pre><code>use CGI '-debug';\n</code></pre>\n\n<p>with the following input piped to it:</p>\n\n<pre><code>first_name=John\nlast_name=Smith\nclasses=M\nclasses=M\n</code></pre>\n\n<p>produces the following output (after fixing the LAST name):</p>\n\n<pre><code>&lt;tr&gt;&lt;td colspan=2&gt;&lt;b&gt;SEND TO:&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;FIRST Name:&lt;/td&gt;&lt;td&gt;John&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;LAST Name:&lt;/td&gt;&lt;td&gt;Smith&lt;/td&gt;&lt;/tr&gt;\n\n&lt;tr&gt;&lt;td&gt;Var1:&lt;/td&gt;&lt;td&gt;The course&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;Total Cost:&lt;/td&gt;&lt;td&gt;200&lt;/td&gt;&lt;/tr&gt;\n</code></pre>\n\n<p>So, it seems the HTML that sends the values is wrong.</p>\n\n<p>Also, you just want the number of classes times 100. No need to loop, just write</p>\n\n<pre><code>my $totalCost = 100 * @classes;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4913477, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6affde31bc13835f51c928c763a4ec69?s=128&d=identicon&r=PG&f=1", "display_name": "squadguy", "link": "https://stackoverflow.com/users/4913477/squadguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487012831, "creation_date": 1487011500, "question_id": 42211267, "link": "https://stackoverflow.com/questions/42211267/unable-to-assign-mutliple-values-to-array-from-html-form-that-has-mulitple-check", "title": "Unable to assign mutliple values to array from html form that has mulitple checkboxes sharing same name attribute", "body": "<p>I am attempting to read in values from an HTML form.  Two are simple scalars with separate \"name\" attributes.  However, another offers the user two checkboxes which share the same \"name\" attribute, but separate \"values\".  The user can choose one, the other, or both.  Therefore, I'd need to read this item in as an array.</p>\n\n<p>The HTML file is separate from the perl script which it calls.  Below is a sample of the HTML to provide more details.</p>\n\n<p>From form.html</p>\n\n<pre><code>&lt;input name=\"first_name\" type =\"text\"&gt;\n&lt;input name=\"last_name\" type =\"text\"&gt;\n&lt;input name=\"classes\" type=\"checkbox\" value=\"ENG-101\"&gt;\n&lt;input name=\"classes\" type=\"checkbox\" value=\"SOC-101\"&gt;\n</code></pre>\n\n<p>This form calls a perl script.  The Perl script needs to be able to assign \"first_name\" and \"last_name\" into separate variables.  In addition, I need to be able to access each of the \"classes\".  One reason is, both of the classes cost $100.  If they click one box, I need to total the cost at $100, however, if they click both, I need to total the cost at $200.</p>\n\n<p>So far, I have tried to do this:</p>\n\n<pre><code>#!/bin/perl\nuse CGI;\n\nmy $q = CGI-&gt;new;\n\nmy $Fname = $q-&gt;param('first_name');\nmy $Lname = $q-&gt;param('last_name');\nmy @classes = $q-&gt;param('classes');\n\nmy $totalCost = 0;\n\n#This loop should iterate through the @classes array\n#Each time it loops it'll add 100 to $totalCost\n\nforeach my $i(@classes)\n{\n    $totalCost+=100;\n}\n\n#####down the script some ######\n\n# Send an HTML reply page for review.\nprint &lt;&lt;EOT;\nContent-type:text/html\n\n&lt;head&gt;\n&lt;title&gt;Confirm Your Order Information&lt;/title&gt;\n&lt;style type=\"text/css\"&gt;\n    th, td, p {font-family : Arial, Helvetica;\n    font-size : 10pt}\n&lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body bgcolor=\"#ffffff\"&gt;\n\n\n&lt;p&gt;\n&lt;h3 align=\"center\"&gt;&lt;font face=\"Arial, Helvetica\"&gt;Order Summary&lt;/font&gt;&lt;/h3&gt;\n\n&lt;table width=\"90%\" align=\"center\"&gt;&lt;tr&gt;&lt;td&gt;\n\n&lt;p&gt;\nPlease print a copy of this page for your records.\nHere is a summary of your order. Please review your selections before   submitting your order.\nIf you need to make any revisions before submitting your order, use the BACK button on your browser to return to the form, make your changes, and resubmit the corrected form.\n\n&lt;/p&gt;\n\n&lt;P&gt;&lt;font color=red&gt;&lt;font size=+1&gt;Your order will not be completed until you click on the \"Submit Order\" button at the bottom of this page. \n\n&lt;P&gt;\n\n\n&lt;table border=1 cellpadding=3 align=\"center\"&gt;\n\n&lt;table&gt;\n&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td colspan=2&gt;&lt;b&gt;SEND TO:&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;FIRST Name:&lt;/td&gt;&lt;td&gt;$Fname&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;FIRST Name:&lt;/td&gt;&lt;td&gt;$Fname&lt;/td&gt;&lt;/tr&gt;\n\n&lt;tr&gt;&lt;td&gt;Var1:&lt;/td&gt;&lt;td&gt;@theCourse&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;Total Cost:&lt;/td&gt;&lt;td&gt;$totalCost&lt;/td&gt;&lt;/tr&gt;\n...\n</code></pre>\n\n<p>Am I on the right track with this?</p>\n\n<p>I can read the $fName and $lName.  However, for some reason I can't get the array value to print or the $totalCost to display in the HTML form (it returns $0).  So, I think I'm not able to read the array in when both checkboxes are checked.</p>\n\n<p>Please reply with any further questions or information I can provide.</p>\n"}, {"tags": ["perl", "outlook", "win32ole"], "comments": [{"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1487069602, "post_id": 42211235, "comment_id": 71608171, "body": "Does Win32::OLE-&gt;LastError() show anything interesting?"}, {"owner": {"reputation": 32063, "user_id": 4752675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6PS6.png?s=128&g=1", "display_name": "G5W", "link": "https://stackoverflow.com/users/4752675/g5w"}, "reply_to_user": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1487254685, "post_id": 42211235, "comment_id": 71709104, "body": "@GeorgMavridis - Yes!   I get <code>Win32::OLE(0.1709) error 0x8002000e: &quot;Invalid number of parameters&quot;     in METHOD&#47;PROPERTYGET </code>. I will try to track down documentation on <code>Open</code>"}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1492409181, "post_id": 42211235, "comment_id": 73948153, "body": "Did someone got a solution to this??"}, {"owner": {"reputation": 32063, "user_id": 4752675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6PS6.png?s=128&g=1", "display_name": "G5W", "link": "https://stackoverflow.com/users/4752675/g5w"}, "reply_to_user": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1492430578, "post_id": 42211235, "comment_id": 73957661, "body": "@Mohit.  No.  I tried to follow the error message, but never got a working example."}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1492432460, "post_id": 42211235, "comment_id": 73958504, "body": "But I was able to do it"}], "answers": [{"comments": [{"owner": {"reputation": 32063, "user_id": 4752675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6PS6.png?s=128&g=1", "display_name": "G5W", "link": "https://stackoverflow.com/users/4752675/g5w"}, "edited": false, "score": 0, "creation_date": 1492434172, "post_id": 43451646, "comment_id": 73959371, "body": "Thank you for your answer.  This looks like this could be useful for most people, but unfortunately, this solution will not work for me. As I said in the <b>Restriction</b> part of my question, I cannot install additional perl modules in my working environment. I do have the Email module, but not Email::Outlook ."}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "reply_to_user": {"reputation": 32063, "user_id": 4752675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6PS6.png?s=128&g=1", "display_name": "G5W", "link": "https://stackoverflow.com/users/4752675/g5w"}, "edited": false, "score": 0, "creation_date": 1492436879, "post_id": 43451646, "comment_id": 73960809, "body": "Sorry, this is a very bad situation getting tied to the old modules when we have new one&#39;s available."}], "tags": [], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "is_accepted": false, "score": 1, "last_activity_date": 1492432635, "creation_date": 1492432635, "answer_id": 43451646, "question_id": 42211235, "link": "https://stackoverflow.com/questions/42211235/how-to-open-outlook-msg-files-from-disk-using-perl-and-win32ole/43451646#43451646", "title": "How to open Outlook msg files from disk using perl and Win32::OLE", "body": "<p>I somehow after some research on the Internet got to the below code which does my work to extract attachments from a .msg file present on my local directory.Pass the .msg path to <code>$filename</code></p>\n\n<pre><code>my $msg = new Email::Outlook::Message $filename;\nmy $data = $msg-&gt;to_email_mime;\nmy $stripper = Email::MIME::Attachment::Stripper-&gt;new($data);\nfor my $a ($stripper-&gt;attachments()) {\n    my $file = $a-&gt;{filename};\n    open my $fh, '&gt;', $file or die $!;\n    print $fh $a-&gt;{payload};\n    close $fh;\n    chmod 0644, $file;\n}\n</code></pre>\n"}], "owner": {"reputation": 32063, "user_id": 4752675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s6PS6.png?s=128&g=1", "display_name": "G5W", "link": "https://stackoverflow.com/users/4752675/g5w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1616615096, "creation_date": 1487011369, "question_id": 42211235, "link": "https://stackoverflow.com/questions/42211235/how-to-open-outlook-msg-files-from-disk-using-perl-and-win32ole", "title": "How to open Outlook msg files from disk using perl and Win32::OLE", "body": "<p>I have a directory full of Outlook .msg files that I would like to process.\nThe processing will be to open the file and save the attachments. \nI have used Win32::OLE successfully to process messages in an Outlook folder, \nbut these are files on disk. How can I open a msg file on disk and process it \nwith perl and Win32::OLE?</p>\n\n<p><b>Restriction</b>: I work in an environment where I am not permitted to install anything on the machine.  In particular,  I cannot add other programs or perl modules. I am stuck with the modules that come with a fresh installation of perl.  </p>\n\n<p>Here is what I tried:</p>\n\n<pre><code>use Win32::OLE;\nuse Win32::OLE::Const 'Microsoft Outlook';\nuse Win32::OLE::Variant;\n\nmy $OL = Win32::OLE-&gt;GetActiveObject('Outlook.Application') ||\n         Win32::OLE-&gt;new('Outlook.Application', 'Quit');\nmy $NameSpace = $OL-&gt;GetNameSpace(\"MAPI\");\n\n$File = Win32::GetFullPathName(\".\") . \"\\\\\" . \"TestMessage.msg\";\n$msg  = $OL-&gt;Open($File);       ## Result is undefined\n</code></pre>\n\n<p>Solutions and or references would be appreciated.</p>\n"}, {"tags": ["sql", "regex", "perl", "informix", "isql"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487005367, "post_id": 42209406, "comment_id": 71580175, "body": "Your regex only matches something, but you never act on it. You don&#39;t substitute, you don&#39;t capture. That line is essentially useless. You also don&#39;t have quotes in your SQL where you use <code>$id</code>. You should use a placeholder instead. And from the error message I&#39;d say it&#39;s a numeric field, so you need to get rid of the dashes."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487007175, "post_id": 42209406, "comment_id": 71581211, "body": "Do you realise that <code>$x .= $fname.&quot; | &quot;.$lname.&quot; | &quot;.$addr1.&quot; | &quot;.$addr2.&quot; | &quot;.$city.&quot; | &quot;.$st.&quot; | &quot;.$zip.&quot; | &quot;.$ctry.&quot; | &quot;.$cnty.&quot; | &quot;</code> may be written as <code>$x .= &quot;$fname|$lname|$addr1|$addr2|$city|$st|$zip|$ctry|$cnty|&quot;</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487007298, "post_id": 42209406, "comment_id": 71581295, "body": "It is wasteful to <code>prepare</code> the same statement every time around the <code>while</code> loop. <code>$sth = $db1-&gt;prepare($STMT)</code> should be moved outside the block."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487007825, "post_id": 42209406, "comment_id": 71581577, "body": "@Borodin I didn&#39;t even see that the <code>prepare</code> was in the loop. I considered suggesting <code>join &#39;|&#39;, ...</code> but well. Text::CSV it is."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487013207, "post_id": 42209406, "comment_id": 71584692, "body": "@simbabque: I&#39;m not surprised. That last closing brace is actually one level down. The braces aren&#39;t matched."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487013468, "post_id": 42209406, "comment_id": 71584843, "body": "@simbabque: Ah. I also didn&#39;t notice the <code>$id</code> buried in all that SQL!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1487013816, "post_id": 42209406, "comment_id": 71585046, "body": "What business do you have reading Social Security numbers ? You work for the government, and is it part of your job ?"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1487005901, "creation_date": 1487005901, "answer_id": 42209688, "question_id": 42209406, "link": "https://stackoverflow.com/questions/42209406/perl-regular-expression-for-reading-social-security-with-dashes/42209688#42209688", "title": "PERL: Regular Expression for reading Social Security # with Dashes", "body": "<p>Your regex is fine, but it's not doing anything.</p>\n\n<blockquote>\n<pre><code>$id =~ m/^\\d{3}-\\d{2}-\\d{4}$/;\n</code></pre>\n</blockquote>\n\n<p>That line will be true if <code>$id</code> matches the pattern. It does nothing else.</p>\n\n<blockquote>\n  <p>A character to numeric conversion process failed</p>\n</blockquote>\n\n<p>The error message says that your database wants a number, but gets something it cannot convert what it got. Since you use <code>$id</code> in the query, that must be the dashes. So it's save to assume that your SSN is an integer of some sort.</p>\n\n<p>The easiest way to get rid of the error message is to just remove anything that's not a number. That will get rid of dashes <code>-</code> and whatever else people thought to input.</p>\n\n<pre><code>while ( my $id = &lt;IN&gt;) {\n    chomp $id;\n    $id =~ s/\\D//g; # remove any non-digits\n\n    # ...\n}\n</code></pre>\n\n<p>Now you can do the insert. But you should really not insert data by writing the variable directly into your SQL without proper quoting. That's <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">an invitation for SQL injection</a>. Instead, use <a href=\"https://metacpan.org/pod/DBI#Placeholders-and-Bind-Values\" rel=\"nofollow noreferrer\">placeholders</a>.</p>\n\n<pre><code>my $sql = \"SELECT * FROM foo WHERE bar=?\";\n</code></pre>\n\n<p>Now when you <code>execute</code> the <code>prepare</code>d statement, you pass along <code>$id</code>.</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare($sql);\n$sth-&gt;execute($id);\n</code></pre>\n\n<hr>\n\n<p>If you are dealing with a <em>large</em> file it might be a good idea to use <code>fetchrow_arrayref</code> or <code>fetchrow_hashref</code> instead of <code>fetchrow_array</code> because all the copying of variables is pretty expensive. Also look at <a href=\"http://www.slideshare.net/Tim.Bunce/dbi-advanced-tutorial-2007\" rel=\"nofollow noreferrer\">this presentation</a> to learn more about using DBI in a fast way.</p>\n\n<p>You might want to look into <a href=\"https://metacpan.org/pod/SSN::Validate\" rel=\"nofollow noreferrer\">SSN::Validate</a> for actually validating the social security numbers. If you use that, it seems like you don't need to do the clean-up suggested above.</p>\n\n<p>You could also look at <a href=\"https://metacpan.org/pod/Text::CSV\" rel=\"nofollow noreferrer\">Text::CSV</a> for a cleaner way of creating your CSV output.</p>\n"}], "owner": {"reputation": 29, "user_id": 2085328, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kaYvd.jpg?s=128&g=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/2085328/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 42209688, "answer_count": 1, "score": 0, "last_activity_date": 1487005901, "creation_date": 1487004965, "question_id": 42209406, "link": "https://stackoverflow.com/questions/42209406/perl-regular-expression-for-reading-social-security-with-dashes", "title": "PERL: Regular Expression for reading Social Security # with Dashes", "body": "<p>I am writing a perl script that reads Social Security numbers from a file, looks up info across multiple tables and outputs to a delimited file. I'm writing with PERL 5 and dealing with IBM informix. I have the feeling that it is my REGEX that is the issue.  I am getting multiple lines of the following error:</p>\n\n<p>DBD::Informix::st execute failed: SQL: -1213: A character to numeric conversion process failed at ./corylist.pl line 61,  line 461.\nDBD::Informix::st fetchrow_array failed: SQL: -400: Fetch attempted on unopen cursor. at ./corylist.pl line 63,  line 461.</p>\n\n<p>Can someone please nudge me in the right direction?  Thank you!</p>\n\n<pre><code>while(&lt;IN&gt;) {\n    $id = $_;\n    chomp $id;\n    $id =~ m/^\\d{3}-\\d{2}-\\d{4}$/;\n    #print \"$id\\n\";\n\n$STMT = &lt;&lt;EOF;\nselect  i.ss_no,\n    i.fullname,             i.firstname,i.lastname,i.addr_line1,i.addr_line2,i.city,i.st,i.zip,r.res_ctry,r.res_cty,\n    i.phone,NVL(aa.phone,\" \") cell,NVL(a.line1,\" \") stuemail,NVL(pa.line1,\" \") peremail\n\n  from  id i,\n    prof r,\n    outer aa_rec a,\n    outer aa_rec aa,\n    outer aa_rec pa\nwhere   i.ss_no = $id\nand     i.id = r.id\nand     i.decsd &lt;&gt; \"Y\"\nand a.id = i.id and a.aa = \"EML\" and a.end_date is null\nand pa.id = i.id and pa.aa = \"OEML\" and pa.end_date is null\nand pa.beg_date = (select max(beg_date) from aa_rec where aa = \"OEML\" and id=$id and end_date is null)\nand aa.id = i.id and aa.aa = \"CELL\" and aa.end_date is null\ngroup by     ss_no,fullname,firstname,lastname,addr_line1,addr_line2,city,st,zip,res_ctry,res_cty,phone,cell,stuemail,peremail\norder   by fullname, ss_no\nEOF\n\n$sth = $db1-&gt;prepare($STMT);\n$sth-&gt;execute();\n\nwhile (($id,$fullname,$fname,$lname,$addr1,$addr2,$city,$st,$zip,$ctry,$cnty,$phone,$cell,$stuemail,$peremail) = $sth-&gt;fetchrow_array()) {\n\n    $x = $id.\" | \". $fullname.\" | \";\n    $x .= $fname.\" | \".$lname.\" | \".$addr1.\" | \".$addr2.\" | \".$city.\" | \".$st.\" | \".$zip.\" | \".$ctry.\" | \".$cnty.\" | \";\n    $x .= $phone.\" | \".$cell.\" | \".$stuemail.\" | \".$peremail.\" | \\n\";\n    print $out_fh $x;\n}\n</code></pre>\n"}, {"tags": ["multithreading", "perl", "sleep"], "answers": [{"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1487003436, "post_id": 42208813, "comment_id": 71578972, "body": "Wait, so even if a subroutine is still running the main programme would just end?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487003508, "post_id": 42208813, "comment_id": 71579019, "body": "Yes. Which is why you pretty much never want to <code>detach</code> a thread in the first place."}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1487003619, "post_id": 42208813, "comment_id": 71579093, "body": "And instead you&#39;d want to use <code>join()</code> to wait for it to finish, correct?"}, {"owner": {"reputation": 32602, "user_id": 7050130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd06b6898f66b91234471a40cffae45?s=128&d=identicon&r=PG", "display_name": "Mark Adelsberger", "link": "https://stackoverflow.com/users/7050130/mark-adelsberger"}, "edited": false, "score": 1, "creation_date": 1487004375, "post_id": 42208813, "comment_id": 71579591, "body": "If you want to ensure that a thread finishes what it&#39;s doing, then you would have to <code>join</code> to it (which means you can&#39;t have detached it).  The sample code shows what detached threads are good for - background processing that should go on as long as the process persists but that can safely be interrupted at any time."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487004519, "post_id": 42208813, "comment_id": 71579675, "body": "I&#39;d assert such circumstances are rare though - at the very least the effort involved in signaling for a clean exit and then joining is negligible. <code>perl</code> threading isn&#39;t well suited to short lived rapid spawning threads"}, {"owner": {"reputation": 32602, "user_id": 7050130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd06b6898f66b91234471a40cffae45?s=128&d=identicon&r=PG", "display_name": "Mark Adelsberger", "link": "https://stackoverflow.com/users/7050130/mark-adelsberger"}, "edited": false, "score": 0, "creation_date": 1487004784, "post_id": 42208813, "comment_id": 71579829, "body": "I don&#39;t assume that a signal-and-join approach is always an acceptable substitute for detaching the thread.  (And neither does perl, which is why <code>detach</code> is an option.)  If to you it always is, that&#39;s fine; nobody forces you to use <code>detach</code>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487005624, "post_id": 42208813, "comment_id": 71580326, "body": "And yet perl <i>does</i> pretty much always error and kill the thread if it&#39;s running when the main process exits. Unless it has already finished, but at which point the cost of <code>join</code>ing it was negligible."}, {"owner": {"reputation": 32602, "user_id": 7050130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd06b6898f66b91234471a40cffae45?s=128&d=identicon&r=PG", "display_name": "Mark Adelsberger", "link": "https://stackoverflow.com/users/7050130/mark-adelsberger"}, "edited": false, "score": 0, "creation_date": 1487009175, "post_id": 42208813, "comment_id": 71582383, "body": "And yet, so what?  You still don&#39;t know that every application is best served by doing things your preferred way, Perl still is expressly agreeing with my statement by providing the alternative way to do it.  So what&#39;s your point?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487060835, "post_id": 42208813, "comment_id": 71602482, "body": "My point is, there are many possible ways to do things in perl, and not all of them are equally good ideas. &quot;Perl lets me do it&quot; is hardly a ringing endorsement of any coding style. If you detach a thread in this way, it is <i>likely</i> because you haven&#39;t understood an important concept in perl threading, which is that they aren&#39;t lightweight. And that the number of scenarios where you genuinely don&#39;t care that a task even completes at all are extremely rare. If that is the case, then why are you bothering to do it in the first place?"}, {"owner": {"reputation": 32602, "user_id": 7050130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd06b6898f66b91234471a40cffae45?s=128&d=identicon&r=PG", "display_name": "Mark Adelsberger", "link": "https://stackoverflow.com/users/7050130/mark-adelsberger"}, "edited": false, "score": 0, "creation_date": 1487078676, "post_id": 42208813, "comment_id": 71614055, "body": "So long as your argument remains that you can judge the value of a technique for everyone else&#39;s programs, I don&#39;t much care. My mistake for asking."}], "tags": [], "owner": {"reputation": 32602, "user_id": 7050130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd06b6898f66b91234471a40cffae45?s=128&d=identicon&r=PG", "display_name": "Mark Adelsberger", "link": "https://stackoverflow.com/users/7050130/mark-adelsberger"}, "is_accepted": false, "score": 3, "last_activity_date": 1487003044, "creation_date": 1487003044, "answer_id": 42208813, "question_id": 42208690, "link": "https://stackoverflow.com/questions/42208690/threads-in-perl-order-of-detach/42208813#42208813", "title": "Threads in Perl: order of detach()", "body": "<p>All threads end when the program ends.  The program ends when the main thread ends.  The <code>sleep</code> in the main thread is merely keeping the program running a short time, after which the main thread (therefore the program, therefore all created threads) also end.</p>\n\n<p>So what's up with <code>detach</code>?  It just says \"I'm never going to bother joining to this thread, and I don't care what it returns\".  If you don't either <code>detach</code> a thread or <code>join</code> to it, you'd get a warning when the program ends.</p>\n"}, {"comments": [{"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1487005442, "post_id": 42209215, "comment_id": 71580227, "body": "Just to make sure I understand join. It is represented as a method that can &#39;watch&#39; the thread separate from the main thread. Would this mean that you could write the joi line before the sleep line, resulting in the same behaviour? Or is join blocking the main programme? Also, what if a thread completes before <code>join</code> is called? Does it result in an error? Is the return value lost? (Please tell me if the questions are too broad, then I &#39;ll create a new question.)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1487005482, "post_id": 42209215, "comment_id": 71580250, "body": "<code>join</code> is a blocking call. It&#39;ll wait until thread completion. If the thread completes first, then that&#39;s fine - <code>join</code> just reaps it and gets the return code (much like <code>waitpid</code> does)"}, {"owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1487005886, "post_id": 42209215, "comment_id": 71580478, "body": "Okay, thanks, and what about the second question? <i>what if a thread completes before join is called? Does it result in an error? Is the return value lost?</i>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "edited": false, "score": 0, "creation_date": 1487006146, "post_id": 42209215, "comment_id": 71580637, "body": "There&#39;s no error, and no return value is lost. It works just fine - so you could put the <code>$run = 0</code> line before the <code>sleep</code> line, and it&#39;d all work just fine. (Just with fewer &#39;print&#39; statements executed because the thread terminated earlier)."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 2, "last_activity_date": 1487004826, "last_edit_date": 1487004826, "creation_date": 1487004375, "answer_id": 42209215, "question_id": 42208690, "link": "https://stackoverflow.com/questions/42208690/threads-in-perl-order-of-detach/42209215#42209215", "title": "Threads in Perl: order of detach()", "body": "<p><code>detach</code> a thread means \"I don't care any more\", and that does actually mean when your process exits, the thread will error and terminate. </p>\n\n<p>Practically speaking - I don't think you ever want to detach a thread in perl - just add a <code>join</code> at the end of your code, so it can exit cleanly, and signal it via a semaphore or <code>Thread::Queue</code> in order to terminate. </p>\n\n<pre><code>$_ -&gt; join for threads -&gt; list; \n</code></pre>\n\n<p>Will do the trick. </p>\n\n<p>That code example - in my opinion - is a bad example. It's just plain messy to <code>sleep</code> so a detached thread has a chance to complete, when you could just <code>join</code> and <em>know</em> that it's finished. This is especially true of <code>perl</code> threads, which it's deceptive to assume they're lightweight, and so can be trivially started (and <code>detached</code>). If you're ever spawning enough that the overhead of <code>join</code>ing them is too high, then you're using perl threads wrong, and probably should <code>fork</code> instead. </p>\n\n<p>You're quite right - the thread will never terminate, and so you code will always have a 'dirty' exit.</p>\n\n<p>So instead I'd rewrite:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse threads;\nuse threads::shared;\n\nmy $run : shared;\n$run = 1;\n\nsub sub1 {\n   my $count = 0;\n   while ($run) {\n      $count++;\n      print(\"\\$count is $count\\n\");\n      sleep(1);\n   }\n   print \"Terminating\\n\";\n}\n\n\nmy $thr = threads-&gt;create( \\&amp;sub1 );    # Spawn the thread\n\nsleep(15);                               # Let thread run for awhile\n$run = 0;\n$thr-&gt;join;\n</code></pre>\n\n<p>That way your main signals the thread to say \"I'm done\" and waits for it to finish it's current loop.</p>\n"}], "owner": {"reputation": 22591, "user_id": 1150683, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4171d32ed59549af71dff8c1682f17cc?s=128&d=identicon&r=PG&f=1", "display_name": "Bram Vanroy", "link": "https://stackoverflow.com/users/1150683/bram-vanroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 1, "accepted_answer_id": 42209215, "answer_count": 2, "score": 2, "last_activity_date": 1487004826, "creation_date": 1487002633, "last_edit_date": 1487003473, "question_id": 42208690, "link": "https://stackoverflow.com/questions/42208690/threads-in-perl-order-of-detach", "title": "Threads in Perl: order of detach()", "body": "<p>I am trying to get into Perl's use of threads. Reading the <a href=\"http://perldoc.perl.org/perlthrtut.html#Ignoring-A-Thread\" rel=\"nofollow noreferrer\">documentation</a> I came across the following code:</p>\n\n<pre><code>use threads;\n\nmy $thr = threads-&gt;create(\\&amp;sub1);   # Spawn the thread\n$thr-&gt;detach();   # Now we officially don't care any more\n\nsleep(15);        # Let thread run for awhile\n\nsub sub1 {\n    my $count = 0;\n    while (1) {\n        $count++;\n        print(\"\\$count is $count\\n\");\n        sleep(1);\n    }\n}\n</code></pre>\n\n<p>The goal, it seems, would be to create one thread running sub1 for 15 seconds, and in the mean time print some strings. However, I don't think I understand what's going on at the end of the programme.</p>\n\n<p>First of all, <code>detach()</code> is defined as follows:</p>\n\n<blockquote>\n  <p>Once a thread is detached, <strong>it'll run until it's finished</strong>; then Perl\n  will clean up after it automatically.</p>\n</blockquote>\n\n<p>However, when does the subroutine finish? <code>while(1)</code> never finishes. Nor do I find any information in <a href=\"http://perldoc.perl.org/functions/sleep.html\" rel=\"nofollow noreferrer\"><code>sleep()</code></a> that it'd cause to break a loop. On top of that, from the point we detach we are 'waiting for the script to finish and then clean it up' for 15 seconds, so if we are <em>waiting</em> for the subroutine to finish, why do we need <code>sleep()</code> in the main script? The position is awkward to me; it suggests that the main programme sleeps for 15 seconds. But what is the point of that? The main programme (thread?) sleeps while the sub-thread keeps running, but how is the subroutine then terminated?</p>\n\n<p>I guess the idea is that after <code>sleep</code>-ing is done, the subroutine ends, after which we can detach/clean up. But how is this syntactically clear? Where in the definition of sleep is it said that <code>sleep</code> terminates a subroutine (and why), and how does it know which one to terminate in case there are more than one threads?</p>\n"}, {"tags": ["json", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1487002323, "post_id": 42208476, "comment_id": 71578235, "body": "You should really indent your code. It&#39;s very hard to read."}, {"owner": {"reputation": 145, "user_id": 7541194, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3EjPX.jpg?s=128&g=1", "display_name": "StayCalm", "link": "https://stackoverflow.com/users/7541194/staycalm"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487003613, "post_id": 42208476, "comment_id": 71579092, "body": "Thank you for advice! :) I&#39;ll try!"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1487005005, "post_id": 42208476, "comment_id": 71579960, "body": "I formatted it for you using <a href=\"http://perltidy.sourceforge.net/\" rel=\"nofollow noreferrer\">perltidy</a>. Have a look at that tool, it&#39;s great!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1487005207, "post_id": 42208476, "comment_id": 71580078, "body": "@PerlDuck lots of Germans around today. StayCalm, you might want to drop by #perlde on irc.perl.org some time, the German Perl community is quite nice."}, {"owner": {"reputation": 145, "user_id": 7541194, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3EjPX.jpg?s=128&g=1", "display_name": "StayCalm", "link": "https://stackoverflow.com/users/7541194/staycalm"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1487005287, "post_id": 42208476, "comment_id": 71580127, "body": "Thank you, @PerlDuck. I&#39;ll look throught"}, {"owner": {"reputation": 145, "user_id": 7541194, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3EjPX.jpg?s=128&g=1", "display_name": "StayCalm", "link": "https://stackoverflow.com/users/7541194/staycalm"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1487005618, "post_id": 42208476, "comment_id": 71580322, "body": "@simbabque, I&#39;m just beginner und I write my Project work in Perl. It is &quot;Das neu Land&quot; for me :) But it is really cool, that so many nice people are here...:)"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487002489, "post_id": 42208616, "comment_id": 71578339, "body": "Bah, beat me to it. Might be worth adding mention how the error messages actually says this though :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1487002704, "post_id": 42208616, "comment_id": 71578478, "body": "@Sobrique sorry about that. I&#39;m lurking and waiting. :) Better?"}, {"owner": {"reputation": 145, "user_id": 7541194, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3EjPX.jpg?s=128&g=1", "display_name": "StayCalm", "link": "https://stackoverflow.com/users/7541194/staycalm"}, "edited": false, "score": 0, "creation_date": 1487003521, "post_id": 42208616, "comment_id": 71579024, "body": "Like that?  #Pass request to the user agent and get a response back        <code>my $res = $ua-&gt;request($req);       $res-&gt;content; </code>"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1487003882, "last_edit_date": 1487003882, "creation_date": 1487002436, "answer_id": 42208616, "question_id": 42208476, "link": "https://stackoverflow.com/questions/42208476/parsing-json-in-perl/42208616#42208616", "title": "Parsing JSON In Perl", "body": "<blockquote>\n  <p>malformed JSON string, neither array, object, number, string or atom, at character offset 0 (before \"<strong>HTTP::Response</strong>=HASH(...\")</p>\n</blockquote>\n\n<p>This error message means that the data you are giving to <code>decode</code> is not JSON.</p>\n\n<p>You are passing <code>$res</code> to <code>decode</code>, which is an <a href=\"https://metacpan.org/pod/HTTP::Response\" rel=\"nofollow noreferrer\">HTTP::Response</a> object (see above, emphasis mine). You need to use <code>$res-&gt;content</code>, which you use for debugging output a few lines above.</p>\n\n<blockquote>\n<pre><code> if ($res-&gt;is_success) {\n  print $res-&gt;content;\n  } else {print $res-&gt;status_line, \"n\";\n  }\n</code></pre>\n</blockquote>\n\n<p>I would rewrite that whole block of code to this.</p>\n\n<pre><code>die $res-&gt;status_line unless $res-&gt;is_success;\n\nmy $json = JSON-&gt;new-&gt;allow_nonref\n    -&gt;utf8-&gt;relaxed\n    -&gt;escape_slash-&gt;loose\n    -&gt;allow_singlequote-&gt;allow_barekey;\nmy $json_text = $json-&gt;decode( $res-&gt;content );\n</code></pre>\n\n<p>Instead of printing some debug output and then going on anyway if things went wrong you can just <code>die</code> if the request was not successful.</p>\n\n<p>After that, create your JSON object and configure it. This is way more readable than this long line of code, and we're using a method call to <code>new</code> instead of <em>indirect object notation</em>.</p>\n\n<p>Finally, we are <code>decode</code>ing <code>$res-&gt;content</code>.</p>\n"}], "owner": {"reputation": 145, "user_id": 7541194, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3EjPX.jpg?s=128&g=1", "display_name": "StayCalm", "link": "https://stackoverflow.com/users/7541194/staycalm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1829, "favorite_count": 0, "accepted_answer_id": 42208616, "answer_count": 1, "score": 1, "last_activity_date": 1487004899, "creation_date": 1487002045, "last_edit_date": 1487004899, "question_id": 42208476, "link": "https://stackoverflow.com/questions/42208476/parsing-json-in-perl", "title": "Parsing JSON In Perl", "body": "<p>I'm trying to parse JSON data in Perl. it is request to Cisco Prime Service. My script works, but parsing doesn't work. And I have a warning,</p>\n\n<pre><code>         malformed JSON string, neither array, object, number, string or atom, at character offset 0 (before \"HTTP::Response=HASH(...\") at InternetBSP.pl line 39.\n</code></pre>\n\n<p>It is here:</p>\n\n<pre><code>      my $json_text = $json-&gt;allow_nonref-&gt;utf8-&gt;relaxed-&gt;escape_slash-&gt;loose-&gt;allow_singlequote-&gt;allow_barekey-&gt;decode($res);\n</code></pre>\n\n<p>have no Idee how should I fix it...</p>\n\n<pre><code>use strict;\nuse warnings;\nuse JSON -support_by_pp;\nuse LWP 5.64;\nuse LWP::UserAgent;\nuse MIME::Base64;\nuse REST::Client;\nuse IO::Socket::SSL;\n\n#So dass es auch ohne SSL Sertifizierung funktioniert\n\nBEGIN { $ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0 }\n\n#Create a user agent object\n\nmy $ua = LWP::UserAgent-&gt;new(\n    ssl_opts =&gt; {\n        SSL_verify_mode =&gt; SSL_VERIFY_NONE(),\n        verify_hostname =&gt; 0,\n    }\n);\n\n#Create a request\n\nmy $req = HTTP::Request-&gt;new( GET =&gt; 'https://10.10.10.10/webacs/api/v1/data/AccessPoints.json?.full=true' );\n$req-&gt;content_type('application/json');\n$req-&gt;authorization_basic( \"Username\", \"Password\" );\n\n#Pass request to the user agent and get a response back\n\nmy $res = $ua-&gt;request($req);\n\n#Check the outcome of the Response\n\nif ( $res-&gt;is_success ) {\n    print $res-&gt;content;\n} else {\n    print $res-&gt;status_line, \"n\";\n}\n\nmy $json      = new JSON;\nmy $json_text = $json-&gt;allow_nonref-&gt;utf8-&gt;relaxed-&gt;escape_slash-&gt;loose-&gt;allow_singlequote-&gt;allow_barekey-&gt;decode($res);\n\n#my try to pasre the data\n\nforeach my $ap ( @{ $json_text-&gt;{queryResponse}-&gt;{'entity'} } ) {\n    print \"------------------------\\nAccess Point \" . $ap-&gt;{'accessPointsDTO'}-&gt;{'@id'} . \"\\n\";\n    print \"Model:\" . $ap-&gt;{'accessPointsDTO'}-&gt;{'model'} . \"\\n\";\n    print \"MAC Address:\" . $ap-&gt;{'accessPointsDTO'}-&gt;{'macAddress'} . \"\\n\";\n    print \"Serial Number:\" . $ap-&gt;{'accessPointsDTO'}-&gt;{'serialNumber'} . \"\\n\";\n    print \"Software Version:\" . $ap-&gt;{'accessPointsDTO'}-&gt;{'softwareVersion'} . \"\\n\";\n    print \"Status:\" . $ap-&gt;{'accessPointsDTO'}-&gt;{'status'} . \"\\n\";\n    print \"Location:\" . $ap-&gt;{'accessPointsDTO'}-&gt;{'location'} . \"\\n\";\n}\n</code></pre>\n\n<p>I have this like outcome:</p>\n\n<pre><code>   {\"queryResponse\":{\"@last\":\"7\",\"@first\":\"0\",\"@count\":\"8\",\"@type\":\"AccessPoints\",\"@responseType\":\"listEntityInstances\",\"@requestUrl\":\"https:\\/\\/10.66.1.23\\/webacs\\/api\\/v1\\/                                    data\\/AccessPoints?.full=true\",\"@rootUrl\":\"https:\\/\\/10.66.1.23\\/webacs\\/api\\/v1\\/data\",\"entity\":[{\"@dtoType\":\"accessPointsDTO\",\"@type\":\"AccessPoints\",\"@url\":\"https:\\/\\/10                                    .66.1.23\\/webacs\\/api\\/v1\\/data\\/AccessPoints\\/205320\" \n</code></pre>\n\n<p>But it shoud be smth like:</p>\n\n<pre><code>     {\"queryResponse\":\n{\"@type\":\"AccessPoints\",\n \"@rootUrl\":\"https://172.18.138.90/webacs/api/v1/data\",\n \"@requestUrl\":\"https://172.18.138.90/webacs/api/v1/data/AccessPoints?.full=true\",\n \"@responseType\":\"listEntityInstances\",\n \"entity\":[\n    {\"@url\":\"https://172.18.138.90/webacs/api/v1/data/AccessPoints/13544533\",\n     \"@type\":\"AccessPoints\",\n     \"@dtoType\":\"accessPointsDTO\",\n     \"accessPointsDTO\":\n        {\"@id\":\"13544533\",\n         \"@displayName\":\"13544533\",\n         \"adminStatus\":\"ENABLE\",\n         \"bootVersion\":\"12.4.23.0\",\n         \"clientCount\":0,\n</code></pre>\n\n<p>After update :)</p>\n\n<pre><code>   ------------------------\n   Access Point 205320\n   Model:AIR-LAP1142N-E-K9\n   MAC Address:6c:9c:ed:b5:45:60\n   Serial Number:FCZ1544W51B\n   Software Version:7.6.130.0\n   Status:CLEARED\n   Location:de.bw.stu.\n  ------------------------\n   Access Point 205322\n   Model:AIR-CAP3502I-E-K9\n   MAC Address:0c:f5:a4:ee:70:10\n   Serial Number:FCZ184680VB\n   Software Version:7.6.130.0\n   Status:CLEARED\n   Location:de.bw.stu.\n   ------------------------\n   Access Point 205324\n   Model:AIR-LAP1142N-E-K9\n   MAC Address:6c:9c:ed:86:9d:20\n   Serial Number:FCZ1544W50Y\n   Software Version:7.6.130.0\n   Status:CLEARED\n   Location:de.bw.stu.\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1486998855, "post_id": 42207193, "comment_id": 71575940, "body": "How large is your source file?"}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1486999005, "post_id": 42207193, "comment_id": 71576031, "body": "My source file Is quite large so unable to share here.approx 10MB in size with complex data to be manipulated."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1486999149, "post_id": 42207412, "comment_id": 71576131, "body": "actually I want to compare the data extracted from the very first occurrence with similar data from another file. then move to the last .so Interested only In the control where I can stop at first occurrence Itself"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1486999846, "post_id": 42207412, "comment_id": 71576602, "body": "Feel free to modify the code to your liking, now you know how to recognise the end of a block."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1486999895, "post_id": 42207412, "comment_id": 71576632, "body": "Oh wait, you want to <code>last if &#47;\\Q$kw1&#47;</code> only?"}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487045644, "post_id": 42207412, "comment_id": 71596435, "body": "&gt; last if $match =~ /E0/; Is matching to one occurrence correctly but how can I get the other occurrences one by one ?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487048746, "post_id": 42207412, "comment_id": 71597293, "body": "@rocky But you are getting them one by one in the loop. If you need them later, <code>push</code> them into an array."}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487048897, "post_id": 42207412, "comment_id": 71597349, "body": "the loop always picks up the same instance (i.e. first match) only and I want all instances."}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487052587, "post_id": 42207412, "comment_id": 71598629, "body": "Is there any way I can play with each occurrence using $match =~ /E0/;"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487053074, "post_id": 42207412, "comment_id": 71598841, "body": "@rocky: If you want all instances, don&#39;t call <code>last</code>, but do whatever else you like to do at the end of a block. <code>$match</code> will be 1 at the start of a new instance."}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487054594, "post_id": 42207412, "comment_id": 71599427, "body": "by using $match ==100 i can get intial few lines of ist contexts but I have 2 Issues here. 1) -&gt; my Instances lengths are not fixed so I can not rely on the no of lines using $match. 2) how to get the second Instance as $match starts from 1 but I don;t know where In my file second Instance starts from ?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487069756, "post_id": 42207412, "comment_id": 71608277, "body": "@rocky: OK, once again. <code>$match</code> will be 1 for line 1 of <b>every</b> instance. You don&#39;t need to know how each instance is long, <code>$match</code> will end in <code>E0</code> for the last line of <b>every</b> instance. You can recognize the number of an instance by keeping a counter and incrementing it every time a new instance starts, maybe."}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487075204, "post_id": 42207412, "comment_id": 71611838, "body": "Ok My First Issue Is resolved now. For the second Issue I am still confused as I don;t know when my second Instance Is starting as per you each instance Is ending with E0 so how to differentiate b/w 2 Instances."}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487136912, "post_id": 42207412, "comment_id": 71641506, "body": "You can recognize the number of an instance by keeping a counter and incrementing it every time a new instance starts, maybe =&gt; can you pls help on this how can I move to the next Instance after finishing with first one ?"}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487139302, "post_id": 42207412, "comment_id": 71642504, "body": "For each Instance $match Is from 1 to E0 but what Is the count for each Instance here . how can we do It ?"}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487142717, "post_id": 42207412, "comment_id": 71644140, "body": "Can you please explaing why do we need to match for In $_ if /ocky\\d/; and the purpose of substr($_, 1) eq substr $next[0], 1;"}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487144026, "post_id": 42207412, "comment_id": 71644825, "body": "Can you please help how can I extract each Instant Into a different output file say Instance_1.txt , Instance_2.txt so on as It would be easy to operate directly on the each instances in text file further. thanks"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487152795, "post_id": 42207412, "comment_id": 71650343, "body": "My code is an example, it checks that each instance has the same sequence of ?ocky as the first one. You can do whatever test you like in your code, just use the scaffolding - you can easily see what happens for each line, and what happens at the end of an instance. I also showed how to store an instance into an array. What else do you need?"}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487155284, "post_id": 42207412, "comment_id": 71652357, "body": "what In case my Instance does not end with the same line so how  will get the Instance array for each Instance."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487155377, "post_id": 42207412, "comment_id": 71652417, "body": "@rocky: OK, so how do you recongnise the end of an instance?"}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487155935, "post_id": 42207412, "comment_id": 71652810, "body": "I know only $kw1 and $kw2 but not the text ?ocky In between as for a large Input file It would be difficult to open and check ?ocky like strings so  I have 2 problem - 1. how to take the Instance between $kw1 and $kw2 2. how to extract each instance separately Into a text file"}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487156374, "post_id": 42207412, "comment_id": 71653120, "body": "I have update the problem more clearly above In the header"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487157167, "post_id": 42207412, "comment_id": 71653725, "body": "Don&#39;t break my code, please. You can update your question if you like. But basically, if you want to print to a file, just do it. Do you know how to print to a file?"}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487157576, "post_id": 42207412, "comment_id": 71654003, "body": "Oops! my mistake I did it."}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487157827, "post_id": 42207412, "comment_id": 71654174, "body": "Added the latest Issue + code Above In my question. Actually I tried to print to files but did not get the desired output In output files."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487158622, "post_id": 42207412, "comment_id": 71654712, "body": "You don&#39;t need <code>@next</code>. Just print direcly instead of pushing."}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487159165, "post_id": 42207412, "comment_id": 71655074, "body": "Can I generalize It for any no of Instances being found from a file ? In the above code I knew there were 3 Instance what about If i don;t know the no of Instances In a file and want the output In n number of file .."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487160356, "post_id": 42207412, "comment_id": 71655842, "body": "You should create a new question to ask a new question. If you feel the old question is related, you can link to it from the new one."}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487161220, "post_id": 42207412, "comment_id": 71656398, "body": "I have opened another question named - How to generalize the pattern matching search from a file using range operator in Perl"}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 0, "last_activity_date": 1487139877, "last_edit_date": 1487139877, "creation_date": 1486998990, "answer_id": 42207412, "question_id": 42207193, "link": "https://stackoverflow.com/questions/42207193/how-to-extract-a-particular-data-between-2-strings-from-a-text-file-in-sequence/42207412#42207412", "title": "How to extract a particular data between 2 strings from a text file In sequence or a control manner If more than one such Instances are met", "body": "<p>Problem 1: you have the range backwards, it should start at $kw1 and end at $kw2. Also, it's unlcear why you used <code>...</code> instead of <code>..</code>, as both the expressions never match on the same line.</p>\n\n<p>Note that the range operator return the iteration number, with <code>E0</code> at the end for the last line, so you can easily catch when the last expression matches:</p>\n\n<pre><code>while (&lt;DATA&gt;) {\n    if (my $match = (/\\Q$kw1/ .. /\\Q$kw2/)) {\n        print;\n        last if $match =~ /E0/;\n    }\n}\n</code></pre>\n\n<p>So, to compare the first instance with each other, you can do:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy $kw1 = 'Session Initiation Protocol (REGISTER)';\nmy $kw2 = 'CSeq: 3 REGISTER';\n\nmy $instance_counter;\nmy @first;\nmy @next;\n\nwhile (&lt;DATA&gt;) {\n    if (my $match = (/\\Q$kw1/ .. /\\Q$kw2/)) {\n        ++$instance_counter if 1 == $match;\n\n        if (1 == $instance_counter) {\n            push @first, $_ if /ocky\\d/;\n\n        } else {\n            @next = @first if 1 == $match;\n            shift @next if /ocky\\d/\n                        &amp;&amp; substr($_, 1) eq substr $next[0], 1;\n        }\n\n        if ($match =~ /E0$/ &amp;&amp; $instance_counter &gt; 1) {\n            if (@next) {\n                say scalar @next, \" ockies missing in instance $instance_counter\";\n            } else {\n                say \"instance $instance_counter ok\";\n            }\n        }\n    }\n}\n\n__DATA__\nSession Initiation Protocol (REGISTER)\ntemp data here\nRocky1\nRocky2\nRocky3\nRocky4\nCSeq: 3 REGISTER\n\nSession Initiation Protocol (REGISTER)\ntemp data here\nJocky1\nJocky2\nJocky3\nJocky4\nCSeq: 3 REGISTER\n\nSession Initiation Protocol (REGISTER)\nQocky1\nQocky2\nHello\nworld\nBye\ntemp data here\nCSeq: 3 REGISTER\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487047378, "post_id": 42207530, "comment_id": 71596877, "body": "I did not get any output on the screen. I think It&#39;s better to extract the each occurrence Into some file and then manipulate."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1487060734, "post_id": 42207530, "comment_id": 71602420, "body": "This works for the data provided. I can&#39;t begin to guess why it doesn&#39;t work for you."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1486999298, "creation_date": 1486999298, "answer_id": 42207530, "question_id": 42207193, "link": "https://stackoverflow.com/questions/42207193/how-to-extract-a-particular-data-between-2-strings-from-a-text-file-in-sequence/42207530#42207530", "title": "How to extract a particular data between 2 strings from a text file In sequence or a control manner If more than one such Instances are met", "body": "<p>You have blank lines after each record. Therefore I'd suggest what you need is to look at <code>$/</code>:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nmy $file = \"output.txt\";\n\n\nmy $kw1 = \"Session Initiation Protocol (REGISTER)\";\nmy $kw2 = \"CSeq: 3 REGISTER\";\n\nlocal $/ = '';\nwhile (&lt;DATA&gt;) {\n   next unless m/^Session/;\n   s/Session Initiation Protocol.*//gm;\n   s/^CSeq.*//gm;\n\n   print \"\\nStart of record\\n\";\n   print;\n   print \"\\nEnd of Record\\n\";\n}\n\n\n__DATA__\nSample Input Data file :\n================\n\nSession Initiation Protocol (REGISTER)\ntemp data here\nRocky1\nRocky2\nRocky3\nRocky4\nCSeq: 3 REGISTER\n\nSession Initiation Protocol (REGISTER)\ntemp data here\nJocky1\nJocky2\nJocky3\nJocky4\nCSeq: 3 REGISTER\n\nSession Initiation Protocol (REGISTER)\nHello\nworld\nBye\ntemp data here\nCSeq: 3 REGISTER\n</code></pre>\n\n<p>This way, each iteration of the look will have a single 'record' that you can process. </p>\n\n<p>Alternatively, you could create an array of records using (something like) <code>split</code> or a repeat regex. </p>\n"}], "owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 42207412, "answer_count": 2, "score": 0, "last_activity_date": 1487159070, "creation_date": 1486998324, "last_edit_date": 1487159070, "question_id": 42207193, "link": "https://stackoverflow.com/questions/42207193/how-to-extract-a-particular-data-between-2-strings-from-a-text-file-in-sequence", "title": "How to extract a particular data between 2 strings from a text file In sequence or a control manner If more than one such Instances are met", "body": "<pre><code>Sample Input Data file :\n================\n\nSession Initiation Protocol (REGISTER)\ntemp data here\nRocky1\nRocky2\nRocky3\nRocky4\nCSeq: 3 REGISTER\n\nSession Initiation Protocol (REGISTER)\ntemp data here\nJocky1\nJocky2\nJocky3\nJocky4\nCSeq: 3 REGISTER\n\nSession Initiation Protocol (REGISTER)\nHello\nworld\nBye\ntemp data here\nCSeq: 3 REGISTER\n</code></pre>\n\n<p>e.g. In the above data I want to extract data between variable 1 -> Session Initiation Protocol (REGISTER) and variable 2->CSeq: 3 REGISTER</p>\n\n<p>temp data here</p>\n\n<pre><code>Rocky1\nRocky2\nRocky3\nRocky4\n</code></pre>\n\n<p>Now as there are multiple occurrences of variable 1 and variable 2 In the below Input file but the data Is different so want to control each occurrence of these variables to manipulate further.</p>\n\n<p>Below Is the program used to extract data which Is actually extracting data from all the occurrences but does not have control If I wish to extract till only first occurrence of variable 1 and variable 2</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nmy $file = \"output.txt\";\n\n\nmy $kw1 = \"Session Initiation Protocol (REGISTER)\";\nmy $kw2 = \"CSeq: 3 REGISTER\";   \n\nwhile (&lt;DATA&gt;) {\n\n   if ( /\\Q$kw2\\E/ ... /\\Q$kw1\\E/ ) {\n      print;\n   }\n}\n</code></pre>\n\n<p>Added the recent Issue here</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy $kw1 = 'Session Initiation Protocol (REGISTER)';\nmy $kw2 = 'CSeq: 3 REGISTER';\n\nmy $instance_counter;\nmy @first;\nmy @next;\nmy $myfile = \"Input.txt\";\nopen my $out_file1, '&gt;', 'hello1.txt' or die \"$!\";\nopen my $out_file2, '&gt;', 'hello2.txt' or die \"$!\";\n\n\nopen DATA, $myfile or die \"Can't open file: $!\";\n\nwhile (&lt;DATA&gt;) {\n    if (my $match = (/\\Q$kw1/ .. /\\Q$kw2/)) {\n        ++$instance_counter if 1 == $match;\n\n        if (1 == $instance_counter) {\n            push @first, $_ if /$kw1/;\n\n        } else {\n            @next = @first if 1 == $match;\n            shift @next;\n            push @next , $_;\n        }\n\n\n    }\n    print $out_file1 @first;\n    print $out_file2 @next;\n}\n</code></pre>\n\n<p>Lets say below Is my Input data :</p>\n\n<pre><code>Session Initiation Protocol (REGISTER)\ntemp data here\nRocky1\nRocky2\nRocky3\nRocky4\nI don't know the text here\nCSeq: 3 REGISTER\n\nSession Initiation Protocol (REGISTER)\ntemp data here\nJocky1\nJocky2\nJocky3\nJocky4\nI don't know the text here\nCSeq: 3 REGISTER\n\n\nI want my output to look like as \n\noutput_1.txt\ntemp data here\nRocky1\nRocky2\nRocky3\nRocky4\nI don't know the text here\n\noutput_2.txt\ntemp data here\nJocky1\nJocky2\nJocky3\nJocky4\nI don't know the text here\n\n\n#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nmy $kw1 = 'Session Initiation Protocol (REGISTER)';\nmy $kw2 = 'CSeq: 3 REGISTER';\n\nmy $instance_counter;\nmy @first;\nmy @next;\nmy $myfile = \"Input.txt\";\nopen my $out_file1, '&gt;', 'hello1.txt' or die \"$!\";\nopen my $out_file2, '&gt;', 'hello2.txt' or die \"$!\";\nopen my $out_file3, '&gt;', 'hello3.txt' or die \"$!\";\n\nopen DATA, $myfile or die \"Can't open file: $!\";\n\nwhile (&lt;DATA&gt;) {\n    if (my $match = (/\\Q$kw1/ .. /\\Q$kw2/)) {\n        ++$instance_counter if 1 == $match;\n\n        if (1 == $instance_counter) {\n          print $out_file1 $_;\n        } \n        elsif (2 == $instance_counter){\n        print $out_file2 $_;\n        }\n        else {\n           print $out_file3 $_;\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p>I am now getting In separate output files. Can I generalize It for any no of Instances being found from a file ?</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 0, "creation_date": 1486995641, "post_id": 42206111, "comment_id": 71573718, "body": "@ips contains all IP&#39;s from the log i have to match it with range which is defined in the file if the log IP matches the File ip or ip range then i have to print the name"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "edited": false, "score": 1, "creation_date": 1486996131, "post_id": 42206111, "comment_id": 71574059, "body": "@Developer that&#39;s simple enough. Build up the full lookup hash first. It&#39;s way cheaper to do that once than to do range matching for every line."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1486995410, "last_edit_date": 1486995410, "creation_date": 1486995068, "answer_id": 42206111, "question_id": 42205750, "link": "https://stackoverflow.com/questions/42205750/get-data-match-from-a-range-of-number-perl/42206111#42206111", "title": "Get data match from a range of number perl", "body": "<p>After reading the config hash with Config::General you need to iterate over it, look for keys that are ranges, and remove them. Use the two values from the range to insert new keys into the hash.</p>\n\n<p>Perl's <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">range operator <code>..</code></a> is a convenient way to do that. It's also nice that <a href=\"http://perldoc.perl.org/functions/delete.html\" rel=\"nofollow noreferrer\"><code>delete</code></a> returns the value for the key that was deleted.</p>\n\n<pre><code>my $client_map = {\n    '127.0.0.1'      =&gt; 'FOO',\n    'XX.XX.XX.0-244' =&gt; 'BDE',\n    'XX.XX.XY.14-44' =&gt; 'TEST',\n};\n\nforeach my $ip_or_range ( keys %{$client_map} ) {\n    if ( my ( $lower, $upper ) = $ip_or_range =~ m/(\\d+)-(\\d+)$/ ) {\n        my $name = delete $client_map-&gt;{$ip_or_range};\n        $ip_or_range =~ s/[^\\.]+$//;\n        $client_map-&gt;{ $ip_or_range . $_ } = $name for $lower .. $upper;\n    }\n}\n</code></pre>\n\n<p>Now the hash will look something like this.</p>\n\n<pre><code>\\ {\n    127.0.0.1      \"FOO\",\n    XX.XX.XX.0     \"BDE\",\n    XX.XX.XX.1     \"BDE\",\n    XX.XX.XX.2     \"BDE\",\n    XX.XX.XX.3     \"BDE\",\n    XX.XX.XX.4     \"BDE\",\n    XX.XX.XX.5     \"BDE\",\n    XX.XX.XX.6     \"BDE\",\n    XX.XX.XX.7     \"BDE\",\n    XX.XX.XX.8     \"BDE\",\n    XX.XX.XX.9     \"BDE\",\n    XX.XX.XX.10    \"BDE\",\n    XX.XX.XX.11    \"BDE\",\n    XX.XX.XX.12    \"BDE\",\n    XX.XX.XX.13    \"BDE\",\n    XX.XX.XX.14    \"BDE\",\n    XX.XX.XX.15    \"BDE\",\n    XX.XX.XX.16    \"BDE\",\n    XX.XX.XX.17    \"BDE\",\n    XX.XX.XX.18    \"BDE\",\n    XX.XX.XX.19    \"BDE\",\n    XX.XX.XX.20    \"BDE\",\n    XX.XX.XX.21    \"BDE\",\n    XX.XX.XX.22    \"BDE\",\n    XX.XX.XX.23    \"BDE\",\n    XX.XX.XX.24    \"BDE\",\n    XX.XX.XX.25    \"BDE\",\n    XX.XX.XX.26    \"BDE\",\n    XX.XX.XX.27    \"BDE\",\n    XX.XX.XX.28    \"BDE\",\n    XX.XX.XX.29    \"BDE\",\n    XX.XX.XX.30    \"BDE\",\n    XX.XX.XX.31    \"BDE\",\n    XX.XX.XX.32    \"BDE\",\n    XX.XX.XX.33    \"BDE\",\n    XX.XX.XX.34    \"BDE\",\n    XX.XX.XX.35    \"BDE\",\n    XX.XX.XX.36    \"BDE\",\n    XX.XX.XX.37    \"BDE\",\n    XX.XX.XX.38    \"BDE\",\n    XX.XX.XX.39    \"BDE\",\n    XX.XX.XX.40    \"BDE\",\n    XX.XX.XX.41    \"BDE\",\n    XX.XX.XX.42    \"BDE\",\n    XX.XX.XX.43    \"BDE\",\n    XX.XX.XX.44    \"BDE\",\n    XX.XX.XX.45    \"BDE\",\n    XX.XX.XX.46    \"BDE\",\n    XX.XX.XX.47    \"BDE\",\n    XX.XX.XX.48    \"BDE\",\n    XX.XX.XX.49    \"BDE\",\n    XX.XX.XX.50    \"BDE\",\n    XX.XX.XX.51    \"BDE\",\n    XX.XX.XX.52    \"BDE\",\n    XX.XX.XX.53    \"BDE\",\n    XX.XX.XX.54    \"BDE\",\n    XX.XX.XX.55    \"BDE\",\n    XX.XX.XX.56    \"BDE\",\n    XX.XX.XX.57    \"BDE\",\n    XX.XX.XX.58    \"BDE\",\n    XX.XX.XX.59    \"BDE\",\n    XX.XX.XX.60    \"BDE\",\n    XX.XX.XX.61    \"BDE\",\n    XX.XX.XX.62    \"BDE\",\n    XX.XX.XX.63    \"BDE\",\n    XX.XX.XX.64    \"BDE\",\n    XX.XX.XX.65    \"BDE\",\n    XX.XX.XX.66    \"BDE\",\n    XX.XX.XX.67    \"BDE\",\n    XX.XX.XX.68    \"BDE\",\n    XX.XX.XX.69    \"BDE\",\n    XX.XX.XX.70    \"BDE\",\n    XX.XX.XX.71    \"BDE\",\n    XX.XX.XX.72    \"BDE\",\n    XX.XX.XX.73    \"BDE\",\n    XX.XX.XX.74    \"BDE\",\n    XX.XX.XX.75    \"BDE\",\n    XX.XX.XX.76    \"BDE\",\n    XX.XX.XX.77    \"BDE\",\n    XX.XX.XX.78    \"BDE\",\n    XX.XX.XX.79    \"BDE\",\n    XX.XX.XX.80    \"BDE\",\n    XX.XX.XX.81    \"BDE\",\n    XX.XX.XX.82    \"BDE\",\n    XX.XX.XX.83    \"BDE\",\n    XX.XX.XX.84    \"BDE\",\n    XX.XX.XX.85    \"BDE\",\n    XX.XX.XX.86    \"BDE\",\n    XX.XX.XX.87    \"BDE\",\n    XX.XX.XX.88    \"BDE\",\n    XX.XX.XX.89    \"BDE\",\n    XX.XX.XX.90    \"BDE\",\n    XX.XX.XX.91    \"BDE\",\n    XX.XX.XX.92    \"BDE\",\n    XX.XX.XX.93    \"BDE\",\n    XX.XX.XX.94    \"BDE\",\n    XX.XX.XX.95    \"BDE\",\n    XX.XX.XX.96    \"BDE\",\n    XX.XX.XX.97    \"BDE\",\n    XX.XX.XX.98    \"BDE\",\n    XX.XX.XX.99    \"BDE\",\n    XX.XX.XX.100   \"BDE\",\n    XX.XX.XX.101   \"BDE\",\n    XX.XX.XX.102   \"BDE\",\n    XX.XX.XX.103   \"BDE\",\n    XX.XX.XX.104   \"BDE\",\n    XX.XX.XX.105   \"BDE\",\n    XX.XX.XX.106   \"BDE\",\n    XX.XX.XX.107   \"BDE\",\n    XX.XX.XX.108   \"BDE\",\n    XX.XX.XX.109   \"BDE\",\n    XX.XX.XX.110   \"BDE\",\n    XX.XX.XX.111   \"BDE\",\n    XX.XX.XX.112   \"BDE\",\n    XX.XX.XX.113   \"BDE\",\n    XX.XX.XX.114   \"BDE\",\n    XX.XX.XX.115   \"BDE\",\n    XX.XX.XX.116   \"BDE\",\n    XX.XX.XX.117   \"BDE\",\n    XX.XX.XX.118   \"BDE\",\n    XX.XX.XX.119   \"BDE\",\n    XX.XX.XX.120   \"BDE\",\n    XX.XX.XX.121   \"BDE\",\n    XX.XX.XX.122   \"BDE\",\n    XX.XX.XX.123   \"BDE\",\n    XX.XX.XX.124   \"BDE\",\n    XX.XX.XX.125   \"BDE\",\n    XX.XX.XX.126   \"BDE\",\n    XX.XX.XX.127   \"BDE\",\n    XX.XX.XX.128   \"BDE\",\n    XX.XX.XX.129   \"BDE\",\n    XX.XX.XX.130   \"BDE\",\n    XX.XX.XX.131   \"BDE\",\n    XX.XX.XX.132   \"BDE\",\n    XX.XX.XX.133   \"BDE\",\n    XX.XX.XX.134   \"BDE\",\n    XX.XX.XX.135   \"BDE\",\n    XX.XX.XX.136   \"BDE\",\n    XX.XX.XX.137   \"BDE\",\n    XX.XX.XX.138   \"BDE\",\n    XX.XX.XX.139   \"BDE\",\n    XX.XX.XX.140   \"BDE\",\n    XX.XX.XX.141   \"BDE\",\n    XX.XX.XX.142   \"BDE\",\n    XX.XX.XX.143   \"BDE\",\n    XX.XX.XX.144   \"BDE\",\n    XX.XX.XX.145   \"BDE\",\n    XX.XX.XX.146   \"BDE\",\n    XX.XX.XX.147   \"BDE\",\n    XX.XX.XX.148   \"BDE\",\n    XX.XX.XX.149   \"BDE\",\n    XX.XX.XX.150   \"BDE\",\n    XX.XX.XX.151   \"BDE\",\n    XX.XX.XX.152   \"BDE\",\n    XX.XX.XX.153   \"BDE\",\n    XX.XX.XX.154   \"BDE\",\n    XX.XX.XX.155   \"BDE\",\n    XX.XX.XX.156   \"BDE\",\n    XX.XX.XX.157   \"BDE\",\n    XX.XX.XX.158   \"BDE\",\n    XX.XX.XX.159   \"BDE\",\n    XX.XX.XX.160   \"BDE\",\n    XX.XX.XX.161   \"BDE\",\n    XX.XX.XX.162   \"BDE\",\n    XX.XX.XX.163   \"BDE\",\n    XX.XX.XX.164   \"BDE\",\n    XX.XX.XX.165   \"BDE\",\n    XX.XX.XX.166   \"BDE\",\n    XX.XX.XX.167   \"BDE\",\n    XX.XX.XX.168   \"BDE\",\n    XX.XX.XX.169   \"BDE\",\n    XX.XX.XX.170   \"BDE\",\n    XX.XX.XX.171   \"BDE\",\n    XX.XX.XX.172   \"BDE\",\n    XX.XX.XX.173   \"BDE\",\n    XX.XX.XX.174   \"BDE\",\n    XX.XX.XX.175   \"BDE\",\n    XX.XX.XX.176   \"BDE\",\n    XX.XX.XX.177   \"BDE\",\n    XX.XX.XX.178   \"BDE\",\n    XX.XX.XX.179   \"BDE\",\n    XX.XX.XX.180   \"BDE\",\n    XX.XX.XX.181   \"BDE\",\n    XX.XX.XX.182   \"BDE\",\n    XX.XX.XX.183   \"BDE\",\n    XX.XX.XX.184   \"BDE\",\n    XX.XX.XX.185   \"BDE\",\n    XX.XX.XX.186   \"BDE\",\n    XX.XX.XX.187   \"BDE\",\n    XX.XX.XX.188   \"BDE\",\n    XX.XX.XX.189   \"BDE\",\n    XX.XX.XX.190   \"BDE\",\n    XX.XX.XX.191   \"BDE\",\n    XX.XX.XX.192   \"BDE\",\n    XX.XX.XX.193   \"BDE\",\n    XX.XX.XX.194   \"BDE\",\n    XX.XX.XX.195   \"BDE\",\n    XX.XX.XX.196   \"BDE\",\n    XX.XX.XX.197   \"BDE\",\n    XX.XX.XX.198   \"BDE\",\n    XX.XX.XX.199   \"BDE\",\n    XX.XX.XX.200   \"BDE\",\n    XX.XX.XX.201   \"BDE\",\n    XX.XX.XX.202   \"BDE\",\n    XX.XX.XX.203   \"BDE\",\n    XX.XX.XX.204   \"BDE\",\n    XX.XX.XX.205   \"BDE\",\n    XX.XX.XX.206   \"BDE\",\n    XX.XX.XX.207   \"BDE\",\n    XX.XX.XX.208   \"BDE\",\n    XX.XX.XX.209   \"BDE\",\n    XX.XX.XX.210   \"BDE\",\n    XX.XX.XX.211   \"BDE\",\n    XX.XX.XX.212   \"BDE\",\n    XX.XX.XX.213   \"BDE\",\n    XX.XX.XX.214   \"BDE\",\n    XX.XX.XX.215   \"BDE\",\n    XX.XX.XX.216   \"BDE\",\n    XX.XX.XX.217   \"BDE\",\n    XX.XX.XX.218   \"BDE\",\n    XX.XX.XX.219   \"BDE\",\n    XX.XX.XX.220   \"BDE\",\n    XX.XX.XX.221   \"BDE\",\n    XX.XX.XX.222   \"BDE\",\n    XX.XX.XX.223   \"BDE\",\n    XX.XX.XX.224   \"BDE\",\n    XX.XX.XX.225   \"BDE\",\n    XX.XX.XX.226   \"BDE\",\n    XX.XX.XX.227   \"BDE\",\n    XX.XX.XX.228   \"BDE\",\n    XX.XX.XX.229   \"BDE\",\n    XX.XX.XX.230   \"BDE\",\n    XX.XX.XX.231   \"BDE\",\n    XX.XX.XX.232   \"BDE\",\n    XX.XX.XX.233   \"BDE\",\n    XX.XX.XX.234   \"BDE\",\n    XX.XX.XX.235   \"BDE\",\n    XX.XX.XX.236   \"BDE\",\n    XX.XX.XX.237   \"BDE\",\n    XX.XX.XX.238   \"BDE\",\n    XX.XX.XX.239   \"BDE\",\n    XX.XX.XX.240   \"BDE\",\n    XX.XX.XX.241   \"BDE\",\n    XX.XX.XX.242   \"BDE\",\n    XX.XX.XX.243   \"BDE\",\n    XX.XX.XX.244   \"BDE\",\n    XX.XX.XY.14    \"TEST\",\n    XX.XX.XY.15    \"TEST\",\n    XX.XX.XY.16    \"TEST\",\n    XX.XX.XY.17    \"TEST\",\n    XX.XX.XY.18    \"TEST\",\n    XX.XX.XY.19    \"TEST\",\n    XX.XX.XY.20    \"TEST\",\n    XX.XX.XY.21    \"TEST\",\n    XX.XX.XY.22    \"TEST\",\n    XX.XX.XY.23    \"TEST\",\n    XX.XX.XY.24    \"TEST\",\n    XX.XX.XY.25    \"TEST\",\n    XX.XX.XY.26    \"TEST\",\n    XX.XX.XY.27    \"TEST\",\n    XX.XX.XY.28    \"TEST\",\n    XX.XX.XY.29    \"TEST\",\n    XX.XX.XY.30    \"TEST\",\n    XX.XX.XY.31    \"TEST\",\n    XX.XX.XY.32    \"TEST\",\n    XX.XX.XY.33    \"TEST\",\n    XX.XX.XY.34    \"TEST\",\n    XX.XX.XY.35    \"TEST\",\n    XX.XX.XY.36    \"TEST\",\n    XX.XX.XY.37    \"TEST\",\n    XX.XX.XY.38    \"TEST\",\n    XX.XX.XY.39    \"TEST\",\n    XX.XX.XY.40    \"TEST\",\n    XX.XX.XY.41    \"TEST\",\n    XX.XX.XY.42    \"TEST\",\n    XX.XX.XY.43    \"TEST\",\n    XX.XX.XY.44    \"TEST\"\n}\n</code></pre>\n"}], "owner": {"reputation": 5970, "user_id": 2618323, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/3Czph.jpg?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/2618323/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 42206111, "answer_count": 1, "score": 0, "last_activity_date": 1486995410, "creation_date": 1486994100, "last_edit_date": 1486994581, "question_id": 42205750, "link": "https://stackoverflow.com/questions/42205750/get-data-match-from-a-range-of-number-perl", "title": "Get data match from a range of number perl", "body": "<p>I have a script which loads data from file which have IP's and corresponding to that Client Name. Like below </p>\n\n<pre><code>XX.XX.XX.XX = ABC\nxx.yy.yyy.xk = BCD\n</code></pre>\n\n<p>In a array i have a list of IP's so from above data we get the Client name for the IP's in the array .</p>\n\n<pre><code>my @ips = split( /\\,/, $key );\n  for my $ip ( @ips ) {\n    $name = $hash{Client_Map}{$ip};\n  }\n</code></pre>\n\n<p>Now i have range of IP's as well as normal IP's in the file in the file like </p>\n\n<pre><code>XX.XX.XX.0-244 = BDE\nXX.XX.XY.14-44 = TEST\nXX.XX.XX.XX = ABC\nxx.yy.yyy.xk = BCD\n</code></pre>\n\n<p>How we can handle match these IP's in code to get the client name. For loading the file we are using <code>use Config::General</code> Perl Module.</p>\n"}, {"tags": ["perl", "mojolicious"], "answers": [{"comments": [{"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1488971022, "post_id": 42660600, "comment_id": 72463710, "body": "You are not right. Parentheses has no any matter here. The problem is <a href=\"https://metacpan.org/source/SRI/Mojolicious-7.28/lib/Mojolicious/Routes/Pattern.pm#L72\" rel=\"nofollow noreferrer\">here</a>. You should check if palaceholder value is forced to be rendered by doing next check also: <code>|| defined $values-&gt;{$value}</code>"}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1488974527, "post_id": 42660600, "comment_id": 72466269, "body": "Despite on this fix cause tests to fail we do it. Because that bug cause more serious problems with caching. Imagine we have <code>&#47;api&#47;v1&#47;index.html</code> because of version is not rendered the image on this page will be rendered as <code>&#47;api&#47;v&#47;image.jpg</code>. When next time we upgrade backend and implement version 2. The application will make query to <code>&#47;api&#47;v2&#47;index.html</code> but image link will be <code>&#47;api&#47;v&#47;image.jpg</code> still. Thus causing to display image version 1 instead of expected version 2."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1488974881, "post_id": 42660600, "comment_id": 72466505, "body": "Even in case of request <code>&#47;api&#47;v</code> had come we are expecting <code>&#47;api&#47;v1&#47;image.jpg</code> is rendered"}, {"owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1489086108, "post_id": 42660600, "comment_id": 72528878, "body": "I can&#39;t replicate your render problem: <code>perl -Mojo -E &#39;my $r = app-&gt;routes; my $api = $r-&gt;any(&quot;&#47;api&#47;v(:api)&quot;); say $api-&gt;render({api =&gt; 1})&#39;</code> (and all variants for the pattern) work for me."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1489093167, "post_id": 42660600, "comment_id": 72532554, "body": "You should provide default value: <code>$r-&gt;any( &quot;&#47;api&#47;v(:api)&quot;, { api =&gt; 1 } )</code>"}, {"owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1489698717, "post_id": 42660600, "comment_id": 72798423, "body": "Ok that finally does replicate the issue <code>perl -Mojo -E &#39;my $r = app-&gt;routes; my $api = $r-&gt;any(&quot;&#47;api&#47;v(:api)&quot;, {api =&gt; 1}); say $api-&gt;render({api =&gt; 1})&#39;</code> this may be a bug (I haven&#39;t discussed on IRC yet)."}, {"owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "reply_to_user": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1489758903, "post_id": 42660600, "comment_id": 72824858, "body": "Well, there are two ways to look at this, strictly it isn&#39;t what you asked for, but from the router&#39;s point of view it is an equivalent url."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1489761029, "post_id": 42660600, "comment_id": 72826368, "body": "I think of them as next. For both requests <code>&#47;api&#47;v</code> and <code>&#47;api&#47;v1</code> are equal if default is <code>{api=&gt;1}</code>. And both should dispatch one action. But when this route is rendered it should be full <code>&#47;api&#47;v1</code> and not the <code>&#47;api&#47;v</code> because they are different and lead to caching problems described above."}, {"owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "edited": false, "score": 0, "creation_date": 1535296574, "post_id": 42660600, "comment_id": 91005359, "body": "<code>&gt;this may be a bug (I haven&#39;t discussed on IRC yet)</code> Did you discuss this on IRC?"}], "tags": [], "owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "is_accepted": false, "score": 1, "last_activity_date": 1488931214, "creation_date": 1488931214, "answer_id": 42660600, "question_id": 42204755, "link": "https://stackoverflow.com/questions/42204755/why-mojolicious-route-parameter-is-not-rendered/42660600#42660600", "title": "Why Mojolicious route parameter is not rendered?", "body": "<p>As seen in the <a href=\"http://mojolicious.org/perldoc/Mojolicious/Guides/Routing#Standard-placeholders\" rel=\"nofollow noreferrer\">Routing Guide</a> when you want to intermix text and placeholders in the same path segment (between slashes) you need to surround the placeholder with parentheses.</p>\n\n<pre><code>$r-&gt;under('/api/v(:api)', ...)\n</code></pre>\n\n<p>should work, although, it goes further to say that once you have the parentheses form you can omit the <code>:</code> so</p>\n\n<pre><code>$r-&gt;under('/api/v(api)', ...)\n</code></pre>\n\n<p>should work too.</p>\n"}], "owner": {"reputation": 15304, "user_id": 4632019, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8937eb40752cf51c7da61bd4a322a4ef?s=128&d=identicon&r=PG&f=1", "display_name": "Eugen Konkov", "link": "https://stackoverflow.com/users/4632019/eugen-konkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1488931214, "creation_date": 1486991078, "last_edit_date": 1486995287, "question_id": 42204755, "link": "https://stackoverflow.com/questions/42204755/why-mojolicious-route-parameter-is-not-rendered", "title": "Why Mojolicious route parameter is not rendered?", "body": "<p>I have route with default capture value:</p>\n\n<pre><code>my $api =  $r-&gt;under( '/api/v:api', [ api =&gt; qr/\\d+/ ], { api =&gt; 1 } )-&gt;name( 'api' );\n</code></pre>\n\n<p>When I <code>render</code> this route I get <code>/api/v</code>:</p>\n\n<pre><code>$api-&gt;render; # /api/v\n</code></pre>\n\n<p>It is OK, but when I want to force version rendering it is not rendered:</p>\n\n<pre><code>$api-&gt;render({ api =&gt; 1 }); # RESULT: /api/v EXPECT: /api/v1\n</code></pre>\n\n<p>I am not expect this even that 1 is equal to default value</p>\n\n<p>Why Mojolicious route parameter is not rendered when I force it to be?</p>\n"}, {"tags": ["apache", "perl", "xampp", "cgi", "bugzilla"], "answers": [{"comments": [{"owner": {"reputation": 550, "user_id": 6774364, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fKMb9MfZbbE/AAAAAAAAAAI/AAAAAAAAAMI/oMCJ_0I2X2s/photo.jpg?sz=128", "display_name": "Mehul Jariwala", "link": "https://stackoverflow.com/users/6774364/mehul-jariwala"}, "edited": false, "score": 0, "creation_date": 1506527833, "post_id": 42204578, "comment_id": 79860301, "body": "what actually can i do.?"}], "tags": [], "owner": {"reputation": 1817, "user_id": 1252174, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/937d7ad23afcd7bf1bb4165eebfafbd5?s=128&d=identicon&r=PG", "display_name": "ken4ward", "link": "https://stackoverflow.com/users/1252174/ken4ward"}, "is_accepted": false, "score": 2, "last_activity_date": 1486990488, "creation_date": 1486990488, "answer_id": 42204578, "question_id": 42203954, "link": "https://stackoverflow.com/questions/42203954/couldnt-spawn-child-process-c-bugzilla-admin-cgi/42204578#42204578", "title": "Couldn&#39;t spawn child process: C:/bugzilla/admin.cgi", "body": "<p>It's a simple issue, just have to change the installation Perl directory to point to where the bin folder at the top of each .cgi files since Bugzilla is developed in Linux environment. <code>#!/Perl64/bin/perl.exe -T</code></p>\n"}, {"tags": [], "owner": {"reputation": 2213, "user_id": 5157221, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-YW9dXs0bMLY/AAAAAAAAAAI/AAAAAAAAD3E/cEQZYkX5qWw/photo.jpg?sz=128", "display_name": "Suriyaa", "link": "https://stackoverflow.com/users/5157221/suriyaa"}, "is_accepted": false, "score": 5, "last_activity_date": 1515235752, "last_edit_date": 1515235752, "creation_date": 1515235291, "answer_id": 48126516, "question_id": 42203954, "link": "https://stackoverflow.com/questions/42203954/couldnt-spawn-child-process-c-bugzilla-admin-cgi/48126516#48126516", "title": "Couldn&#39;t spawn child process: C:/bugzilla/admin.cgi", "body": "<blockquote>\n  <p><a href=\"https://stackoverflow.com/a/42204578/5157221\">kehinde</a> already mention that Bugzilla is developed in Linux environment.</p>\n</blockquote>\n\n<p>You should change the path in all <code>.cgi</code> files on line 1 from</p>\n\n<pre><code>#!/usr/bin/perl -T\n</code></pre>\n\n<p>to</p>\n\n<pre><code>#!C:\\Perl64\\bin\\perl.exe -T\n</code></pre>\n\n<p>Then restart your Apache/WAMP Server. It works!</p>\n"}], "owner": {"reputation": 1817, "user_id": 1252174, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/937d7ad23afcd7bf1bb4165eebfafbd5?s=128&d=identicon&r=PG", "display_name": "ken4ward", "link": "https://stackoverflow.com/users/1252174/ken4ward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9176, "favorite_count": 2, "answer_count": 2, "score": 2, "last_activity_date": 1515235752, "creation_date": 1486988560, "question_id": 42203954, "link": "https://stackoverflow.com/questions/42203954/couldnt-spawn-child-process-c-bugzilla-admin-cgi", "title": "Couldn&#39;t spawn child process: C:/bugzilla/admin.cgi", "body": "<p>I don't know what the problem is, after successfully setting up Bugzilla and log-in, when I clicked any of the link like Administration it returns this error message: </p>\n\n<pre><code>Server error!\n\nThe server encountered an internal error and was unable to complete your request.\n\nError message: \ncouldn't create child process: 720002: admin.cgi\n\nIf you think this is a server error, please contact the webmaster.\n\nError 500\n\nlocalhost\nApache/2.4.23 (Win32) OpenSSL/1.0.2h PHP/7.0.13\n</code></pre>\n\n<p>I checked the Apache error log and got this:</p>\n\n<pre><code>[Mon Feb 13 13:10:21.339205 2017] [ssl:warn] [pid 9152:tid 500] AH01909: www.example.com:443:0 server certificate does NOT include an ID which matches the server name\n[Mon Feb 13 13:10:21.448624 2017] [core:warn] [pid 9152:tid 500] AH00098: pid file C:/xampp/apache/logs/httpd.pid overwritten -- Unclean shutdown of previous Apache run?\n[Mon Feb 13 13:10:21.641664 2017] [ssl:warn] [pid 9152:tid 500] AH01909: www.example.com:443:0 server certificate does NOT include an ID which matches the server name\n[Mon Feb 13 13:10:21.704265 2017] [mpm_winnt:notice] [pid 9152:tid 500] AH00455: Apache/2.4.23 (Win32) OpenSSL/1.0.2h PHP/7.0.13 configured -- resuming normal operations\n[Mon Feb 13 13:10:21.704265 2017] [mpm_winnt:notice] [pid 9152:tid 500] AH00456: Apache Lounge VC14 Server built: Jul  1 2016 11:09:37\n[Mon Feb 13 13:10:21.704265 2017] [core:notice] [pid 9152:tid 500] AH00094: Command line: 'c:\\\\xampp\\\\apache\\\\bin\\\\httpd.exe -d C:/xampp/apache'\n[Mon Feb 13 13:10:21.719891 2017] [mpm_winnt:notice] [pid 9152:tid 500] AH00418: Parent: Created child process 7304\n[Mon Feb 13 13:10:22.692898 2017] [ssl:warn] [pid 7304:tid 512] AH01909: www.example.com:443:0 server certificate does NOT include an ID which matches the server name\n[Mon Feb 13 13:10:23.017759 2017] [ssl:warn] [pid 7304:tid 512] AH01909: www.example.com:443:0 server certificate does NOT include an ID which matches the server name\n[Mon Feb 13 13:10:23.080268 2017] [mpm_winnt:notice] [pid 7304:tid 512] AH00354: Child: Starting 150 worker threads.\n[Mon Feb 13 13:10:28.707037 2017] [cgi:error] [pid 7304:tid 1848] (OS 2)The system cannot find the file specified.  : [client 127.0.0.1:60709] couldn't create child process: 720002: admin.cgi\n[Mon Feb 13 13:10:28.707037 2017] [cgi:error] [pid 7304:tid 1848] (OS 2)The system cannot find the file specified.  : [client 127.0.0.1:60709] AH01223: couldn't spawn child process: C:/bugzilla/admin.cgi\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/jCf7z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jCf7z.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1486984799, "post_id": 42202652, "comment_id": 71566826, "body": "Escape the <code>\\(REGISTER\\)</code>."}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "reply_to_user": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "edited": false, "score": 0, "creation_date": 1486985503, "post_id": 42202652, "comment_id": 71567249, "body": "I am still getting #   Failed test &#39;data structures should be the same&#39; #   at E:\\Automation Related\\Perl Scripts - ALL\\IMS_debugging\\test.pl line 17. #     Structures begin differing at: #          $got-&gt;{j} = &#39;867-5309x&#39; #     $expected-&gt;{j} = &#39;867-5309&#39; # Looks like you failed 1 test of 1."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1486985529, "post_id": 42202652, "comment_id": 71567264, "body": "Could do with some sample data that you&#39;re matching against."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1486985574, "post_id": 42202652, "comment_id": 71567300, "body": "Also: I&#39;m not sure range operators work quite as well inside a foreach loop. Normally I&#39;d do it within <code>while ( &lt;$fh&gt; ) { </code> ..."}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1486985900, "post_id": 42202652, "comment_id": 71567477, "body": "added sample Data. with while loop It;s no different."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1486986725, "post_id": 42203277, "comment_id": 71567947, "body": "I am getting error....1..1 not ok 1 - data structures should be the same #   Failed test &#39;data structures should be the same&#39; #   at E:\\Automation Related\\Perl Scripts - ALL\\IMS_debugging\\test.pl line 17. #     Structures begin differing at: #          $got-&gt;{j} = &#39;867-5309x&#39; #     $expected-&gt;{j} = &#39;867-5309&#39; # Looks like you failed 1 test of 1."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1486987446, "post_id": 42203277, "comment_id": 71568399, "body": "There&#39;s no where in this code that <code>x</code> could have come from. Your test is doing something weird. Or your input isn&#39;t <i>exactly</i> what you said it was."}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1486988157, "post_id": 42203277, "comment_id": 71568864, "body": "I am using the same Input I have pasted above. I think x is nothing but some garbage value."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1486988536, "post_id": 42203277, "comment_id": 71569080, "body": "<code>867-5309</code> also doesn&#39;t appear in the output"}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1486989158, "post_id": 42203277, "comment_id": 71569499, "body": "I think again It&#39;s some garbage value as It Is not Inside the Input."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "is_accepted": false, "score": 0, "last_activity_date": 1486986331, "creation_date": 1486986331, "answer_id": 42203277, "question_id": 42202652, "link": "https://stackoverflow.com/questions/42202652/unable-to-use-range-operator-to-find-the-text-matching-from-a-file/42203277#42203277", "title": "Unable to use range operator to find the text matching from a file", "body": "<p>I believe this might do, have not tested, so please match.</p>\n\n<pre><code>  use strict;\n  use warnings;\n  my $file = \"output.txt\";\n\n  open(my $fh, '&lt;', $file) or die $!;\n  while ( &lt;$fh&gt; ) {\n\n  if (/Session Initiation Protocol \\(REGISTER\\)/ .. /CSeq: 3 REGISTER/) {\n      print \"$_\\n\";\n      }\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1486992555, "post_id": 42204006, "comment_id": 71571586, "body": "Thank you @Sobrique. Is there any other way to grab a particular text from a file apart from the range operator ?"}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1486992935, "post_id": 42204006, "comment_id": 71571877, "body": "I am asking this because the above program Is just capturing the data based on the kw1 and kw2 and If there are more than one kw1 and kw2 present In the Input file Is there any control to grab them one by one considering all occurrence have the same text for kw1 and kw2.."}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1486993016, "post_id": 42204006, "comment_id": 71571932, "body": "Session Initiation Protocol (REGISTER) temp data here CSeq: 3 REGISTER occurrence-1 Session Initiation Protocol (REGISTER) temp data here CSeq: 3 REGISTER occurrence-2 Session Initiation Protocol (REGISTER) temp data here CSeq: 3 REGISTER occurrence-3"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1486995277, "post_id": 42204006, "comment_id": 71573470, "body": "Yes, but I&#39;d probably tackle that entirely differently, and so I&#39;d suggest posting that as a different question. Include sample data and desired results."}, {"owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "edited": false, "score": 0, "creation_date": 1486998374, "post_id": 42204006, "comment_id": 71575607, "body": "Ok Thanks.I have posted another topic for this named - How to extract a particular data between 2 strings from a text file In sequence or a control manner If more than one such Instances are met"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1486988699, "creation_date": 1486988699, "answer_id": 42204006, "question_id": 42202652, "link": "https://stackoverflow.com/questions/42202652/unable-to-use-range-operator-to-find-the-text-matching-from-a-file/42204006#42204006", "title": "Unable to use range operator to find the text matching from a file", "body": "<p>OK, I think first and foremost - your problem is that range operator is the wrong way around, because <code>CSeq: 3 REGISTER</code> comes <em>before</em> <code>Session Initiation Protocol \\(REGISTER\\)</code> in the file. </p>\n\n<p>But you've commented with some test results: </p>\n\n<blockquote>\n  <p>1 not ok 1 - data structures should be the same # Failed test 'data structures should be the same' # at E:\\Automation Related\\Perl Scripts - ALL\\IMS_debugging\\test.pl line 17. # Structures begin differing at: # $got->{j} = '867-5309x' # $expected->{j} = '867-5309' # Looks like you failed 1 test of 1</p>\n</blockquote>\n\n<p>That doesn't in any way match the sample you've given us - the number there isn't present in the data, nor is the <code>x</code>.</p>\n\n<p>But anyway, this does work:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nmy $file = \"output.txt\";\n\n\nmy $kw1 = \"Session Initiation Protocol (REGISTER)\";\nmy $kw2 = \"CSeq: 3 REGISTER\";   \n\nwhile (&lt;DATA&gt;) {\n\n   if ( /\\Q$kw2\\E/ ... /\\Q$kw1\\E/ ) {\n      print;\n   }\n}\n\n\n__DATA__\nCSeq: 3 REGISTER\nSession Initiation Protocol (REGISTER)\n                Temp\n                Temp\n                Session Initiation Protocol (REGISTER)\n        Session Initiation Protocol (REGISTER)\nCSeq: 2 REGISTER\nCSeq: 1 REGISTER\nCSeq: 0 REGISTER\n</code></pre>\n\n<p>You need the <code>\\Q</code> <code>\\E</code> because <code>()</code> is a regex meta character. You could use <code>quotemeta</code> instead.</p>\n\n<p>If you needed to match the <em>second</em> instance of 'Session Initiation Protocol' then matching whitespace will do it.</p>\n\n<pre><code>if ( /\\Q$kw2\\E/ ... /\\s\\Q$kw1\\E/ ) \n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7489409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e2cca9d0b23003b6b88e75700a0183c?s=128&d=identicon&r=PG&f=1", "display_name": "rocky", "link": "https://stackoverflow.com/users/7489409/rocky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 42204006, "answer_count": 2, "score": 1, "last_activity_date": 1486988699, "creation_date": 1486984320, "last_edit_date": 1486987403, "question_id": 42202652, "link": "https://stackoverflow.com/questions/42202652/unable-to-use-range-operator-to-find-the-text-matching-from-a-file", "title": "Unable to use range operator to find the text matching from a file", "body": "<p>I am not able to use range operator In my below program to find the text between start and end of 2 texts provided i.e. $kw1 and $kw2.I am reading both $kw1 and @kw2 from a file called oiutput.txt In this program.\nCan someone please help to tell why my range operator does not give the o/p I want ?</p>\n\n<pre><code>my $file = \"output.txt\";\n\nmy $kw1 = \"Session Initiation Protocol (REGISTER)\";\nmy $kw2 = \"CSeq: 3 REGISTER\";   \n\nopen(my $fh, '&lt;', $file) or die $!;\nmy @content = &lt;$fh&gt;;\n\n#print @content;\n\nforeach (@content) {\n\n#print $kw1;\n#print $kw2;\n\nif (/$kw1/ .. /$kw2/) {\n    print \"$_\\n\";\n    }\n}\n</code></pre>\n\n<p>Sample data I am search from Is :</p>\n\n<pre><code>CSeq: 3 REGISTER\nSession Initiation Protocol (REGISTER)\n                Temp\n                Temp\n                Session Initiation Protocol (REGISTER)\n        Session Initiation Protocol (REGISTER)\nCSeq: 2 REGISTER\nCSeq: 1 REGISTER\nCSeq: 0 REGISTER\n</code></pre>\n"}, {"tags": ["perl", "mojolicious", "hashref"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486983336, "post_id": 42202276, "comment_id": 71565976, "body": "Does the <code>query</code> method return something that has a <code>hash</code> method? You need to consult your documentation. Could also be that your SQL is incorrect. Do you see any error messages from the database?"}, {"owner": {"reputation": 827, "user_id": 3353752, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2LunI.jpg?s=128&g=1", "display_name": "dipl0", "link": "https://stackoverflow.com/users/3353752/dipl0"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486983701, "post_id": 42202276, "comment_id": 71566193, "body": "The query method works fine in other instances, I believe it is the declaring the host_id assignment as part of a hash that is causing the errors here."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486984407, "post_id": 42202276, "comment_id": 71566607, "body": "Use Data::Printer to dump out the return value of the query method first. If that doesn&#39;t help, look at the return value of the hash method. The error you get refers to the final part of your chain of arrows. The method hash returns undef and you try to access that like a hash ref."}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1486987958, "post_id": 42202276, "comment_id": 71568742, "body": "Are you sure the syntax is correct? ( a hash key should be wrapped with curly brackets; e.g. <code>$hash-&gt;{key}-&gt;{another_key}-&gt;{and_another_key}</code>)"}, {"owner": {"reputation": 930, "user_id": 6594367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/03c046cae270605c2376680482e52f6d?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/6594367/john-doe"}, "edited": false, "score": 0, "creation_date": 1486988075, "post_id": 42202276, "comment_id": 71568820, "body": "The second thing you can do is to check the value of <code>$host_service_id</code>. You can print it to see it&#39;s value with this code : <code>use Data::Dumper;</code> <code>print Dumper $host_service_id;</code>. My assumption is that you are calling the function <code>deletehostservices</code> with an undefined value."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1486990668, "post_id": 42202276, "comment_id": 71570417, "body": "The reason is clearly that <code>hash</code> is returning <code>undef</code>, however it is hard to say <i>why</i> that is happening without a lot more information. What class is <code>$self</code>? Is it from a CPAN module or have you written it yourself? You need to check whether a database operation succeeded before you go ahead and use its results."}, {"owner": {"reputation": 14762, "user_id": 282475, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OZWIJ.jpg?s=128&g=1", "display_name": "shaneburgess", "link": "https://stackoverflow.com/users/282475/shaneburgess"}, "edited": false, "score": 0, "creation_date": 1488151317, "post_id": 42202276, "comment_id": 72091512, "body": "I can tell that you are using Mojo::Pg and it is being used correctly. The only thing that would help answer the question is to tell us where this function is coming from. Is it from a controller or a helper?"}], "answers": [{"tags": [], "owner": {"reputation": 19796, "user_id": 468327, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cc767569f5863a7c261991ee5b23f147?s=128&d=identicon&r=PG", "display_name": "Joel Berger", "link": "https://stackoverflow.com/users/468327/joel-berger"}, "is_accepted": false, "score": 0, "last_activity_date": 1488931576, "creation_date": 1488931576, "answer_id": 42660661, "question_id": 42202276, "link": "https://stackoverflow.com/questions/42202276/cant-use-an-undefined-value-as-a-hash-reference-perl-mojolicious/42660661#42660661", "title": "Can&#39;t use an undefined value as a HASH reference - Perl Mojolicious", "body": "<p>When Mojo::Pg's <code>-&gt;hash</code> method returns undef it is because no rows were returned.</p>\n\n<p>You could store your result in a temporary variable with a default</p>\n\n<pre><code>my $res = $self-&gt;pg-&gt;db-&gt;query(\n  'DELETE from hosts_services where hosts_services_id = ? returning host_id', $host_service_id\n)-&gt;hash || {};\nreturn $res-&gt;{host_id};\n</code></pre>\n\n<p>or any of several other patterns to handle getting undef. The above is the one I like in this kind of case though.</p>\n"}], "owner": {"reputation": 827, "user_id": 3353752, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2LunI.jpg?s=128&g=1", "display_name": "dipl0", "link": "https://stackoverflow.com/users/3353752/dipl0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1488931576, "creation_date": 1486983094, "question_id": 42202276, "link": "https://stackoverflow.com/questions/42202276/cant-use-an-undefined-value-as-a-hash-reference-perl-mojolicious", "title": "Can&#39;t use an undefined value as a HASH reference - Perl Mojolicious", "body": "<p>So i'm a bit of a noob at perl but in essence this code is part of my model (inserting into an sql database).</p>\n\n<p>The error i'm getting when running this code is 'Can't use an undefined value as a HASH reference'.</p>\n\n<p>I think the clear solution to this is to define a hash containing a key called host_id.</p>\n\n<p>How would i go about that or fixing my code.</p>\n\n<pre><code>    ####delete subfunctions\n    ######\n    sub deletehostservices\n    {\n      my ($self, $host_service_id) = @_;\n\n      my $host_id = $self-&gt;pg-&gt;db-&gt;query('DELETE from hosts_services where hosts_services_id = ? returning host_id', $host_service_id)-&gt;hash-&gt;{host_id};\n      return $host_id;\n    }\n</code></pre>\n"}, {"tags": ["perl", "centos"], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 2, "last_activity_date": 1487092441, "last_edit_date": 1487092441, "creation_date": 1487086778, "answer_id": 42230274, "question_id": 42200800, "link": "https://stackoverflow.com/questions/42200800/how-can-i-install-the-perl-rrd-simple-package-on-centos-7/42230274#42230274", "title": "How can I install the perl-RRD-Simple package on CentOS 7?", "body": "<p>RRD::Simple depends on <a href=\"https://oss.oetiker.ch/rrdtool/prog/RRDs.en.html\" rel=\"nofollow noreferrer\">RRDs.pm</a>, the Perl bindings for RRDtool. RRDs.pm is in the rrdtool-perl package; on CentOS 7, rrdtool-perl is in the base repo, so you can just do:</p>\n\n<pre><code>yum install rrdtool-perl\n</code></pre>\n\n<p>You'll also need to find a different perl-RRD-Simple RPM, since perl-RRD-Simple-1.43-1.el5.rf.noarch.rpm is for EL5. The only one I can find for EL7 is <a href=\"http://dries.eu/rpms/perl-RRD-Simple/perl-RRD-Simple\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Alternatively, you can <a href=\"http://mag-sol.com/talks/yapc/2008/rpm/rpm.pdf\" rel=\"nofollow noreferrer\">build your own RPM</a>.</p>\n"}], "owner": {"reputation": 167, "user_id": 4336416, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/AS1At.jpg?s=128&g=1", "display_name": "Spencer", "link": "https://stackoverflow.com/users/4336416/spencer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2278, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1487093466, "creation_date": 1486978459, "last_edit_date": 1487093466, "question_id": 42200800, "link": "https://stackoverflow.com/questions/42200800/how-can-i-install-the-perl-rrd-simple-package-on-centos-7", "title": "How can I install the perl-RRD-Simple package on CentOS 7?", "body": "<p>I'm trying to install <a href=\"http://tsung.erlang-projects.org/\" rel=\"nofollow noreferrer\">TSung</a> on CentOS 7, but I'm having trouble installing the dependencies.</p>\n\n<p>When I tried to install perl-RRD-Simple.noarch, yum shows no package available. So I downloaded an RPM file and did:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>rpm -ivh perl-RRD-Simple-1.43-1.el5.rf.noarch.rpm\n</code></pre>\n\n<p>But I got an error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>error: Failed dependencies:\n        perl(RRDs) is needed by perl-RRD-Simple-1.43-1.el5.rf.noarch\n</code></pre>\n\n<p>How can I install the perl-RRD-Simple package? RRDtool is already installed.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486977022, "post_id": 42200162, "comment_id": 71562075, "body": "What do you want to do with that report? Read it? Or just display it to the user?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486978487, "post_id": 42200162, "comment_id": 71562958, "body": "@simbabque Just display it to the user. I forgot to specify that there multiple reports (maximum 5)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486979084, "post_id": 42200162, "comment_id": 71563354, "body": "Well <code>system</code> will block your Perl program. You should use <code>exec</code> instead or your Perl program will wait after each new Excel file until the user closes that window."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486979553, "post_id": 42200162, "comment_id": 71563634, "body": "@simbabque You are right, I will defenly use the <code>exec</code>. So there is no plus added for using <code>Win32::Ole</code> ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486979672, "post_id": 42200162, "comment_id": 71563716, "body": "I don&#39;t know. I&#39;m not working with Windows."}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1486981629, "post_id": 42200162, "comment_id": 71564907, "body": "What do you want to know code in Win32::OLE to open xlsm or only the comparison between opening .xlsm using system and Win32::OLE?? I use Win32::OLE and that works fine."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1486986538, "post_id": 42200162, "comment_id": 71567851, "body": "@Mohit I want to know the comparison between the two. Why should I use a &quot;complicated way&quot; when I could just use <code>system()</code>. Which are the disadvantages?"}], "owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1486978427, "creation_date": 1486976467, "last_edit_date": 1486978427, "question_id": 42200162, "link": "https://stackoverflow.com/questions/42200162/how-to-open-an-xlsm-file", "title": "How to open an xlsm file", "body": "<p>I am updating an old script and in the new implementation, the xls reports became xlsm reports. On the old implementation, the xls reports are opened using the <code>Win32::Ole</code> module. </p>\n\n<p>I did not found this solution on google (only to read from xlsm file).</p>\n\n<p>I wanted to open the reports by simply running <code>system(path\\filename.xlsm)</code> and the reports open succesfully.</p>\n\n<p>Is it safe to do this with <code>system</code> or should I use the <code>Win32::Ole</code>(the code isn't commented to justify the reason why they used it)?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1486975902, "post_id": 42198611, "comment_id": 71561368, "body": "Well, aside from the slightly weird syntax - we need to know what you mean by &#39;add one value on each line&#39; - because your code doesn&#39;t. So some sample input and expected output would probably help."}, {"owner": {"reputation": 1665, "user_id": 1848140, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c0bc64ef33e6ab5560ce5c534190a6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Nagaraju", "link": "https://stackoverflow.com/users/1848140/nagaraju"}, "edited": false, "score": 0, "creation_date": 1486977180, "post_id": 42198611, "comment_id": 71562174, "body": "<a href=\"http://stackoverflow.com/questions/11782435/how-to-concatenate-variables-in-perl\" title=\"how to concatenate variables in perl\">stackoverflow.com/questions/11782435/&hellip;</a>"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1486988806, "post_id": 42198611, "comment_id": 71569255, "body": "OK. So - where does that &#39;4&#39; come from? Is it a static value? Or a dynamic one?"}, {"owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "edited": false, "score": 0, "creation_date": 1486992500, "post_id": 42198611, "comment_id": 71571549, "body": "<code>sed -e &#39;s&#47;$&#47;,4&#47;&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1486988851, "post_id": 42201716, "comment_id": 71569274, "body": "But really, why would you <code>foreach</code> that, when a <code>while</code> loop does perfectly well. And also please use 3-arg open with lexical filehandles. It&#39;s much better style."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486990920, "post_id": 42201716, "comment_id": 71570549, "body": "<i>&quot;You can firstly read the whole file in an array&quot;</i> Why would you do that?"}, {"owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "edited": false, "score": 0, "creation_date": 1486991502, "post_id": 42201716, "comment_id": 71570897, "body": "This reading files into array is very useful in case we work with multiple files as the I/O operation take much time and reading the data into memory and then working on it saves lot of time and memory."}], "tags": [], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "is_accepted": false, "score": -1, "last_activity_date": 1486981416, "creation_date": 1486981416, "answer_id": 42201716, "question_id": 42198611, "link": "https://stackoverflow.com/questions/42198611/how-to-add-one-value-in-file-output/42201716#42201716", "title": "how to add one value in file output", "body": "<p>You can work as in the below code. You can firstly read the whole file in an array and then log it to another file with the appended lines.</p>\n\n<pre><code>my $source_path = \"source.txt\";\nmy $target_directory_pacss = \"destination.txt\";\n\nopen(OFILE,\"&lt;$source_path\") or die \"could not open file\";\nchomp(my @lines = &lt;OFILE&gt;);\nclose(OFILE);\n\nopen(IFILE,\"&gt;$target_directory_pacss\");\n\nforeach my $line(@lines){\n    print IFILE \"$line\".\"EOL\".\"\\n\";\n}\nclose(OFILE);\nclose (IFILE);\n</code></pre>\n\n<p>I have appended the string \"EOL\" at the end of every line in the above code.</p>\n"}, {"tags": [], "owner": {"reputation": 118, "user_id": 7556363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da1c21e7783acd087dacaeac837ebdfb?s=128&d=identicon&r=PG&f=1", "display_name": "Sumaiya A", "link": "https://stackoverflow.com/users/7556363/sumaiya-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1486993246, "last_edit_date": 1486993246, "creation_date": 1486990553, "answer_id": 42204595, "question_id": 42198611, "link": "https://stackoverflow.com/questions/42198611/how-to-add-one-value-in-file-output/42204595#42204595", "title": "how to add one value in file output", "body": "<p>Below mentioned code is the simplest way to achieve your desired output.\nI assume you just need to append something in the end of every line as save it a new file. So as per your required output I have appended \",4\" after each line.</p>\n\n<p>This code reads the source file line by line, and writes the new file with the desired modified value.</p>\n\n<pre><code>my $source_path = \"file.txt\";\nmy $target_directory_pacss = \"file2.txt\";\n\nopen(OFILE, \"&lt;$source_path\") or die \"could not open file\";\nopen(IFILE, \"&gt;$target_directory_pacss\");\n\nwhile(&lt;OFILE&gt;) {\n    chomp;\n    print IFILE $_.\",4\\n\";\n}\nclose( OFILE);\nclose( IFILE );\n</code></pre>\n\n<p>Using <strong>chomp</strong> : because you need to get rid of the new line character at the end of each line, before appending it with any value.</p>\n\n<p>Output:</p>\n\n<pre><code>patie,1234,4\npatie,1235,4\npatie,1236,4\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 4290319, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/4074fc448755c9ed5d1b7195da5b8aa1?s=128&d=identicon&r=PG&f=1", "display_name": "PANDIA LAKSHMANAN", "link": "https://stackoverflow.com/users/4290319/pandia-lakshmanan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1486993246, "creation_date": 1486970730, "last_edit_date": 1486990855, "question_id": 42198611, "link": "https://stackoverflow.com/questions/42198611/how-to-add-one-value-in-file-output", "title": "how to add one value in file output", "body": "<p>My requirement is to read one file and add one value on end of each line. Could any one tell me how I can do that?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>open( OFILE, \"&lt;$source_path\" ) or die \"could not open file\";\n\nwhile ( &lt;OFILE&gt; ) {\n\n    my @iline = ( $_ );\n\n    #print \"@iline\\n\";\n    #print \"$iline[0]\\n\";\n    #print \"$iline[1]\\n\";\n    #push @iline, '4';\n    #print \"@iline \\n\";\n\n    open( IFILE, \"&gt;$target_directory_pacss\" );\n\n    {\n        foreach ( @iline ) {\n\n            #print IFILE \"$_[0]\".\",\".\"$_[1]\".\",\".\"$_[2]\" ;\n            #print  \"$_[0]\".\",\".\"$_[1]\".\",\".\"$ival\" ;\n            #print \"\\n\";\n\n            print IFILE \"$_\";\n            print \"\\n\";\n        }\n    }\n\n    close( IFILE );\n}\n</code></pre>\n\n<p>How exactly I want is</p>\n\n<h3>input</h3>\n\n<pre><code>patie,1234\npatie,1235\npatie,1236\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>patie,1234,4\npatie,1235,4\npatie,1236,4\n</code></pre>\n"}, {"tags": ["perl", "loops"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1486962929, "post_id": 42197025, "comment_id": 71556093, "body": "Write some more code after $c=0; to print a &quot;,&quot;?"}, {"owner": {"reputation": 11, "user_id": 7555812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a65b4fc6a581ae1445dcb13e3d5b0d?s=128&d=identicon&r=PG&f=1", "display_name": "anyname", "link": "https://stackoverflow.com/users/7555812/anyname"}, "reply_to_user": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1486963367, "post_id": 42197025, "comment_id": 71556220, "body": "Jeroen Heier: Thanks, I did and it took care of the &quot;,&quot;. However is there a way I can further improvise this code? especially with the while loop?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1486991193, "post_id": 42197025, "comment_id": 71570708, "body": "Where did you get the idea to use unintelligible single-character identifiers for your variables? Sensible identifiers together with the English keywords of the language should produce a program that is readable. If you stop someone on the street they will have no idea what you might mean by <code>$pc</code> or <code>$fc</code>, but everyone would know <code>$pass_count</code> and <code>$fail_count</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1486963936, "post_id": 42197192, "comment_id": 71556400, "body": "Use a <a href=\"https://www.tutorialspoint.com/perl/perl_subroutines.htm\" rel=\"nofollow noreferrer\">subroutine</a> If you want to use this code on more places"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1486964653, "post_id": 42197192, "comment_id": 71556617, "body": "@JeroenHeier  That is probably a good advice, for the OP when implementing this in their code. Presumably it <i>is</i> in some subroutine."}, {"owner": {"reputation": 11, "user_id": 7555812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a65b4fc6a581ae1445dcb13e3d5b0d?s=128&d=identicon&r=PG&f=1", "display_name": "anyname", "link": "https://stackoverflow.com/users/7555812/anyname"}, "edited": false, "score": 0, "creation_date": 1486965860, "post_id": 42197192, "comment_id": 71557012, "body": "@zdim: Thank you for this, it makes my code looks much more simpler."}, {"owner": {"reputation": 11, "user_id": 7555812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a65b4fc6a581ae1445dcb13e3d5b0d?s=128&d=identicon&r=PG&f=1", "display_name": "anyname", "link": "https://stackoverflow.com/users/7555812/anyname"}, "reply_to_user": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1486965864, "post_id": 42197192, "comment_id": 71557015, "body": "@JeroenHeier: Yes, I have this script as subroutine."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 11, "user_id": 7555812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a65b4fc6a581ae1445dcb13e3d5b0d?s=128&d=identicon&r=PG&f=1", "display_name": "anyname", "link": "https://stackoverflow.com/users/7555812/anyname"}, "edited": false, "score": 0, "creation_date": 1486966077, "post_id": 42197192, "comment_id": 71557095, "body": "@anyname  You are welcome.  The moral to take -- there is indeed a large range of tools and techniques in Perl and it is a very good idea to get familiar with them.  Also, please see the update.  And please check back later or in a day or two, I may update more.  If I should explain any of it more please let me know."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1488003990, "post_id": 42197192, "comment_id": 72048946, "body": "Downvoted? If anyone can see why that may be, please drop a line here."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1564726792, "last_edit_date": 1564726792, "creation_date": 1486963660, "answer_id": 42197192, "question_id": 42197025, "link": "https://stackoverflow.com/questions/42197025/how-to-print-the-count-of-passes-and-failures-as-sequence-of-1s-and-1s/42197192#42197192", "title": "How to print the count of passes and failures as sequence of 1s and -1s", "body": "<p>Perl offers a wide-range of higher-level tools, and often we don't need  explicit loops.</p>\n\n<p>A direct answer to the question</p>\n\n<pre><code>my $v = join ',', (1) x $pc, (-1) x $fc;\n</code></pre>\n\n<p>We build the list of <code>1</code>s using the <a href=\"http://perldoc.perl.org/perlop.html#Multiplicative-Operators\" rel=\"nofollow noreferrer\">repetition operator (<code>x</code>)</a> on the list <code>(1)</code>. Since all that follows the pattern in <a href=\"http://perldoc.perl.org/functions/join.html\" rel=\"nofollow noreferrer\">join</a> is its input list, we can also supply the list of <code>-1</code>s, using the <a href=\"http://perldoc.perl.org/perlop.html#Comma-Operator\" rel=\"nofollow noreferrer\">comma operator</a> between them. Elements of this combined (<em>flattened</em>) list are then joined by <code>,</code></p>\n\n<p>If you need to resolve dynamically anything about those <code>1</code>s there'll be more work to do.</p>\n\n<hr>\n\n<p>Here is another approach, which is suitable for more general conditions. </p>\n\n<p>The  part with <code>+1</code></p>\n\n<pre><code>my $v = join ',', map { 1 } 1..$pc;\n</code></pre>\n\n<p>and the part with <code>-1</code></p>\n\n<pre><code>$v .= join ',', map { -1 } 1..$fc;\n</code></pre>\n\n<p>This can also be made into one line like the first example, if desired and suitable.</p>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\">map</a> runs the code in the block for each element of the input list, and returns the resulting list. Inside the block each element is available in the <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\">$_ variable</a> and the code normally uses it. This is how we can generate a list from another, in a functional manner.</p>\n\n<p>But in this example you only want the list of <code>1</code>s, so <code>1</code> is returned from the block each time, <code>$pc</code> times.  Then that output list becomes input to <a href=\"http://perldoc.perl.org/functions/join.html\" rel=\"nofollow noreferrer\">join</a> and elements are joined by <code>,</code>. The second line does this <code>$fc</code> times for <code>-1</code>, then appending the joined string to <code>$v</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1487005313, "post_id": 42197270, "comment_id": 71580140, "body": "No reason to use <code>local $, = &#39;,&#39;; print @v; print &quot;\\n&quot;;</code> instead of <code>print(join(&#39;,&#39;, @v), &quot;\\n&quot;);</code>."}], "tags": [], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "is_accepted": false, "score": 0, "last_activity_date": 1486964140, "creation_date": 1486964140, "answer_id": 42197270, "question_id": 42197025, "link": "https://stackoverflow.com/questions/42197025/how-to-print-the-count-of-passes-and-failures-as-sequence-of-1s-and-1s/42197270#42197270", "title": "How to print the count of passes and failures as sequence of 1s and -1s", "body": "<p>I have used an array for storing the output which is a more structured way to handle multiple values.Please Find Below the code I have modified. </p>\n\n<pre><code>my $pc = 10;\nmy $fc = 5;\nmy @v;\nmy $c = 0;\n$c=$pc;\nwhile ($c){\n    push @v, \"1\";\n    $c--;\n}\n$c=$fc;\nwhile ($c){\n    push @v, \"-1\";\n    $c--;\n}\nlocal $, = ',';\nprint @v;\nprint \"\\n\";\n</code></pre>\n\n<p>Note - Please note that the output is in an array and the separator (,) is just used for formatting the output and is not present in the array. Using <code>$, = ','</code> we can set any thing as an output separator. </p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1487005227, "creation_date": 1487005227, "answer_id": 42209483, "question_id": 42197025, "link": "https://stackoverflow.com/questions/42197025/how-to-print-the-count-of-passes-and-failures-as-sequence-of-1s-and-1s/42209483#42209483", "title": "How to print the count of passes and failures as sequence of 1s and -1s", "body": "<p>First, let's fix the bug where <code>$pc == 0</code> and <code>$fc &gt; 0</code> returns <code>,-1,-1,...</code> instead of <code>-1,-1,...</code>.</p>\n\n<pre><code>my $v = \"\";\nmy $c = 0;\nfor (1..$pc) {\n    $v .= \",\" if $c++ &gt; 0;\n    $v .= \"1\";\n}\nfor (1..$fc) {\n    $v .= \",\" if $c++ &gt; 0;\n    $v .= \"-1\";\n}\n</code></pre>\n\n<p>Second, let's use an array to collect the values, and join the contents in order to avoid all that comma code.</p>\n\n<pre><code>my @v;\nfor (1..$pc) {\n    push @v, \"1\";\n}\nfor (1..$fc) {\n    push @v, \"-1\";\n}\n\nmy $v = join(',', @v);\n</code></pre>\n\n<p>That looks an awful lot like the definition of <code>map</code><sup>[1]</sup>! So,</p>\n\n<pre><code>my @v;\npush @v, map {  \"1\" } 1..$pc;\npush @v, map { \"-1\" } 1..$fc;\nmy $v = join(',', @v);\n</code></pre>\n\n<p>Or just</p>\n\n<pre><code>my $v = join ',',\n   map({  \"1\" } 1..$pc),\n   map({ \"-1\" } 1..$fc);\n</code></pre>\n\n<p>Finally, since the body of the <code>map</code> is constant, we can use the repetition operator.</p>\n\n<pre><code>my $v = join ',',\n   (  \"1\" ) x $pc,\n   ( \"-1\" ) x $fc;\n</code></pre>\n\n<hr>\n\n<ol>\n<li><p>Which is to say</p>\n\n<pre><code>my @v; for (LIST) { push @v, f($_) }\n</code></pre>\n\n<p>can be written as</p>\n\n<pre><code>my @v = map { f($_) } LIST;\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 7555812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a65b4fc6a581ae1445dcb13e3d5b0d?s=128&d=identicon&r=PG&f=1", "display_name": "anyname", "link": "https://stackoverflow.com/users/7555812/anyname"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 42197192, "answer_count": 3, "score": 0, "last_activity_date": 1564726792, "creation_date": 1486962608, "last_edit_date": 1564726636, "question_id": 42197025, "link": "https://stackoverflow.com/questions/42197025/how-to-print-the-count-of-passes-and-failures-as-sequence-of-1s-and-1s", "title": "How to print the count of passes and failures as sequence of 1s and -1s", "body": "<p>I wrote this script in perl, where I extract the pass count and failure count and print it as 1 and -1. \nBelow is what I have tried and it works fairly well but I want to know if there is a way that I can improvise the code?</p>\n\n<pre><code>my $pc = 10;\nmy $fc = 5;\nmy $v = \"\";\nmy $c = 0;\n\nwhile ($c &lt; $pc){\n    if ($c &gt; 0) {\n        $v .= \",\";\n    }\n    $c++;\n    $v .= \"1\";\n}\n$v .= \",\";\n$c=0;\nwhile ($c &lt; $fc){\n    if ($c &gt; 0) {\n        $v .= \",\";\n    }\n    $c++;\n    $v .= \"-1\";\n}\nprint $v;\nprint \"\\n\";\n\noutput:1,1,1,1,1,1,1,1,1,1,-1,-1,-1,-1,-1\n</code></pre>\n\n<p>Appreciate any ideas or suggestions.</p>\n"}, {"tags": ["php", "html", "perl", "python-3.x"], "comments": [{"owner": {"reputation": 1572, "user_id": 5306470, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/9M5cV.jpg?s=128&g=1", "display_name": "Daniel Springer", "link": "https://stackoverflow.com/users/5306470/daniel-springer"}, "edited": false, "score": 0, "creation_date": 1486960676, "post_id": 42196750, "comment_id": 71555471, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 5518, "user_id": 1858357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i1R4m.png?s=128&g=1", "display_name": "BizzyBob", "link": "https://stackoverflow.com/users/1858357/bizzybob"}, "edited": false, "score": 0, "creation_date": 1486960922, "post_id": 42196750, "comment_id": 71555540, "body": "It sounds like you should dynamically generate the divs based on the contents of your images folder when the page loads, not have a separate scripts that modifies the HTML when the image is added."}], "answers": [{"tags": [], "owner": {"reputation": 5518, "user_id": 1858357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i1R4m.png?s=128&g=1", "display_name": "BizzyBob", "link": "https://stackoverflow.com/users/1858357/bizzybob"}, "is_accepted": true, "score": 1, "last_activity_date": 1486964725, "creation_date": 1486964725, "answer_id": 42197376, "question_id": 42196750, "link": "https://stackoverflow.com/questions/42196750/how-can-i-use-php-or-any-other-server-side-script-to-create-automatic-html-tags/42197376#42197376", "title": "How can I use PHP or any other server side script to create automatic html tags whenever a new image is added to the server stored image folder", "body": "<p>You can read the folder contents when the page loads, then generate your code for each file in the folder.</p>\n\n<p>Something like this should get you started:</p>\n\n<pre><code>&lt;?php\n\n$folder = 'images';\n\n$images = scandir($folder);\n$images = array_diff($images, array('..', '.'));  // remove '..' and '.' from array\n\nforeach ($images as $i =&gt; $image) {\n    $id = 'pic' . $i;\n    $divHTML .= \"&lt;div class=\\\"main-inner\\\"&gt;&lt;img src=\\\"$folder/$image\\\"&gt;&lt;/div&gt;\";\n    $labelHTML .= \"&lt;div class=\\\"info-inner\\\"&gt;&lt;label for=\\\"$id\\\"&gt;&lt;img src=\\\"$folder/$image\\\"&gt;&lt;/label&gt;&lt;/div&gt;\";\n}\n?&gt;\n&lt;html&gt;\n&lt;?php echo $divHTML ?&gt;\n&lt;?php echo $labelHTML ?&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 3760581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ytwps.jpg?s=128&g=1", "display_name": "ikppramesh", "link": "https://stackoverflow.com/users/3760581/ikppramesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1486966026, "creation_date": 1486966026, "answer_id": 42197608, "question_id": 42196750, "link": "https://stackoverflow.com/questions/42196750/how-can-i-use-php-or-any-other-server-side-script-to-create-automatic-html-tags/42197608#42197608", "title": "How can I use PHP or any other server side script to create automatic html tags whenever a new image is added to the server stored image folder", "body": "<p>First create a directory in some folder on server\nNOTE: you can add many images and this code will show all images that pasted on that folder.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;?php \r\n$directory = \"C:/wamp/www/Test/images/\";\r\n$images = glob($directory . \"*.jpg\");\r\n$count = count($images)+1;\r\n?&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body class=\"layouts\" id=\"www-cssplay-co-uk\"&gt;\r\n    &lt;div id=\"header\"&gt;\r\n        &lt;h1&gt;Demo&lt;/h1&gt;\r\n        &lt;div id=\"menu\"&gt;\r\n            &lt;ul class=\"main\"&gt;&lt;/ul&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div id=\"wrapper\"&gt;\r\n\t&lt;?php foreach($images as $key=&gt;$value)\r\n\t{ \r\n\t\t$whatIWant = substr($value, strpos($value, \"C:/wamp/www/\") + 12);   \r\n\t\t$count = $key+1;\r\n\t\t$cnt = '&lt;input id=\"pic'.$count.'\" name=\"large\" type=\"radio\"&gt;';\r\n\t\techo $cnt;\r\n\t ?&gt;\r\n        &lt;div id=\"main\"&gt;\r\n            &lt;div id=\"main-scroll\"&gt;\r\n&lt;?php \r\necho \"&lt;div class='main-inner'&gt;&lt;img src='http://localhost/\".$whatIWant.\"' alt='' heught=50px width=50px&gt;&lt;/div&gt;\";\r\n} ?&gt;\r\n\r\n    &lt;/div&gt;\r\n    &lt;div id=\"footer\"&gt;\r\n        &lt;ul class=\"sub\"&gt;&lt;/ul&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 45, "user_id": 6189384, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2cff559871f29acf7bc34f1e73c7a81a?s=128&d=identicon&r=PG&f=1", "display_name": "Aakash Tiwari", "link": "https://stackoverflow.com/users/6189384/aakash-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 42197376, "answer_count": 2, "score": -4, "last_activity_date": 1486966026, "creation_date": 1486960589, "question_id": 42196750, "link": "https://stackoverflow.com/questions/42196750/how-can-i-use-php-or-any-other-server-side-script-to-create-automatic-html-tags", "title": "How can I use PHP or any other server side script to create automatic html tags whenever a new image is added to the server stored image folder", "body": "<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body class=\"layouts\" id=\"www-cssplay-co-uk\"&gt;\n    &lt;div id=\"header\"&gt;\n        &lt;h1&gt;Demo&lt;/h1&gt;\n        &lt;div id=\"menu\"&gt;\n            &lt;ul class=\"main\"&gt;&lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div id=\"wrapper\"&gt;\n        &lt;input checked=\"checked\" id=\"pic1\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic2\" name=\"large\" type=\"radio\"&gt;\n        &lt;input id=\"pic3\" name=\"large\" type=\"radio\"&gt;\n        &lt;input id=\"pic4\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic5\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic6\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic7\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic8\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic9\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic10\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic11\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic12\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic13\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic14\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic15\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic16\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic17\" name=\"large\" type=\"radio\"&gt;\n        &lt;input id=\"pic18\" name=\"large\" type=\"radio\"&gt; \n        &lt;input id=\"pic19\" name=\"large\" type=\"radio\"&gt;\n        &lt;input id=\"pic20\" name=\"large\" type=\"radio\"&gt;\n        &lt;input id=\"pic21\" name=\"large\" type=\"radio\"&gt;\n        &lt;input id=\"pic22\" name=\"large\" type=\"radio\"&gt;\n        &lt;div id=\"main\"&gt;\n            &lt;div id=\"main-scroll\"&gt;\n                &lt;div class=\"main-inner\"&gt;&lt;img alt=\"\" src=\"images/1.jpg\"&gt;&lt;/div&gt;\n                &lt;div class=\"main-inner\"&gt;&lt;img alt=\"\" src=\"images/2.jpg\"&gt;&lt;/div&gt;\n                &lt;div class=\"main-inner\"&gt;&lt;img alt=\"\" src=\"images/3.jpg\"&gt;&lt;/div&gt;\n                &lt;div class=\"pad-bottom\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;&lt;!--\n        --&gt;\n        &lt;div id=\"info\"&gt;\n            &lt;div id=\"info-scroll\"&gt;\n                &lt;div class=\"pad-top\"&gt;&lt;/div&gt;\n                &lt;div class=\"info-inner\"&gt;\n                    &lt;label for=\"pic1\"&gt;\n                     &lt;img alt=\"\" src=\"images/1.jpg\"&gt;&lt;/label&gt;\n                &lt;/div&gt;\n                &lt;div class=\"info-inner\"&gt;\n                    &lt;label for=\"pic2\"&gt;&lt;img alt=\"\" src=\"images/2.jpg\"&gt;&lt;/label&gt;\n                &lt;/div&gt;\n                &lt;div class=\"info-inner\"&gt;\n                    &lt;label for=\"pic3\"&gt;&lt;img alt=\"\" src=\"images/3.jpg\"&gt;&lt;/label&gt;\n                &lt;/div&gt;  \n                &lt;div class=\"pad-bottom\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div id=\"footer\"&gt;\n        &lt;ul class=\"sub\"&gt;&lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The image folder is hosted on the server side. It currently has 3 images. I want to write a php script that does 2 things when a new image is added to the folder. 1st, it automatically creates a \"<code>&lt;div class=\"main-inner\"&gt;&lt;img alt=\"\" src=\"images/x.jpg\"&gt;&lt;/div&gt;</code>\" tag (where 'x.jpg' would be the new image) in the 'main-inner' div area. 2nd, adds a  <code>&lt;div class=\"info-inner\"&gt;&lt;label for=\"pic3\"&gt;&lt;img alt=\"\" src=\"images/x.jpg\"&gt;&lt;/label&gt;&lt;/div&gt;</code>tag in the 'info-inner' div area.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7341243"}, "edited": false, "score": 0, "creation_date": 1486965892, "post_id": 42197279, "comment_id": 71557030, "body": "Great keyword for reading multiple files .How can we write mutliple files with the reading file names.Here we have done every readable file contents into the single file.I had mentioned the expected output.Could you please make a note of it.@mkHun"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7341243"}, "edited": false, "score": 0, "creation_date": 1486967502, "post_id": 42197279, "comment_id": 71557623, "body": "Global symbol &quot;$HTML&quot; requires explicit package name at text1.pl line 8. BEGIN not safe after errors--compilation aborted at text1.pl line 16.@mkHun"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7341243"}, "edited": false, "score": 0, "creation_date": 1486967862, "post_id": 42197279, "comment_id": 71557739, "body": "Can&#39;t use an undefined value as a symbol reference@mkHun"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7341243"}, "edited": false, "score": 0, "creation_date": 1486968117, "post_id": 42197279, "comment_id": 71557842, "body": "Great it helps me@mkHun"}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 1, "last_activity_date": 1486967855, "last_edit_date": 1486967855, "creation_date": 1486964180, "answer_id": 42197279, "question_id": 42196626, "link": "https://stackoverflow.com/questions/42196626/how-can-i-convert-multiple-text-files-into-same-filename-with-html-files-format/42197279#42197279", "title": "How can i convert multiple text files into same filename with .html files format using perl?", "body": "<p>Try <a href=\"http://perldoc.perl.org/functions/glob.html\" rel=\"nofollow noreferrer\">glob</a>. It return the list of filename for mentioned directory. </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nopen my $HTML, '&gt;', 'h.html' or die $!;\n\nprint $HTML &lt;&lt;'_END_HEADER_';\n&lt;html&gt;\n&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n_END_HEADER_\n\nwhile (my $file= glob(\"~/Desktop/*.txt\"))\n{\n    open my $IN, '&lt;', $file or die $!;\n\n    while (my $line = &lt;$IN&gt;) \n    {\n        print $HTML $line;\n    }\n}\n\n\nprint $HTML '&lt;/body&gt;&lt;/html&gt;';\nclose $HTML or die $!;\n</code></pre>\n\n<p>Writing into new file</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nmy $HTML;\n#open my $HTML, '&gt;', 'h.html' or die $!;\n\n\nwhile (my $file= glob(\"~/Desktop/*.txt\"))\n{\n    open my $IN, '&lt;', $file or die $!;\n    my $new_file_name = $file;\n    $new_file_name=~s/.+\\///;\n    open $HTML, '&gt;', \"$new_file_name.html\" or die $!;\n    print $HTML \"\n    &lt;html&gt;\n    &lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;\n    &lt;body&gt;\";\n    while (my $line = &lt;$IN&gt;) \n    {\n        print $HTML $line;\n    }\n    print $HTML '&lt;/body&gt;&lt;/html&gt;';\n    close $HTML;\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7341243"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 42197279, "answer_count": 1, "score": 0, "last_activity_date": 1486967855, "creation_date": 1486959585, "last_edit_date": 1486965559, "question_id": 42196626, "link": "https://stackoverflow.com/questions/42196626/how-can-i-convert-multiple-text-files-into-same-filename-with-html-files-format", "title": "How can i convert multiple text files into same filename with .html files format using perl?", "body": "<pre><code>Code which i have tried for single file:\n\n#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nopen my $HTML, '&gt;', 'h.html' or die $!;\n\nprint $HTML &lt;&lt;'_END_HEADER_';\n&lt;html&gt;\n&lt;head&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n_END_HEADER_\n\nopen my $IN, '&lt;', 'h.txt' or die $!;\nwhile (my $line = &lt;$IN&gt;) {\n    # You probably want to do more work here.\n    print $HTML $line;\n}\n\nprint $HTML '&lt;/body&gt;&lt;/html&gt;';\nclose $HTML or die $!;\n</code></pre>\n\n<p>Query:</p>\n\n<p>The above code converts .txt to .html file format.In this code i have tried for single file.I got struck with how can i do for multiple files from the folder using perl?</p>\n\n<p>Input files:</p>\n\n<pre><code>h.txt\ne.txt\nl.txt\n</code></pre>\n\n<p>Expected output;(With html formt)</p>\n\n<pre><code>h.html\ne.html\nl.html\n</code></pre>\n"}, {"tags": ["perl", "datetime"], "answers": [{"tags": [], "owner": {"reputation": 588, "user_id": 6897492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d50889f9fb83f9a62eaec9df63aeb726?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit", "link": "https://stackoverflow.com/users/6897492/mohit"}, "is_accepted": false, "score": 1, "last_activity_date": 1486963104, "last_edit_date": 1495542843, "creation_date": 1486963104, "answer_id": 42197104, "question_id": 42196391, "link": "https://stackoverflow.com/questions/42196391/how-to-get-difference-in-date-and-time-in-perl-where-i-have-two-datetime-strings/42197104#42197104", "title": "How to get difference in date and time in perl where I have two datetime strings?", "body": "<p>You are currently using in_units but it is not doing what you expect. As it has different functionality as it calculates the difference between the given objects in the specified unit. Provided that they are conversion compatible. For more information on this refer - <a href=\"http://search.cpan.org/~drolsky/DateTime-1.42/lib/DateTime/Duration.pm\" rel=\"nofollow noreferrer\">DateTime::Duration</a> or <a href=\"https://stackoverflow.com/questions/6549522/how-to-make-datetimeduration-output-only-in-days\">StackOverflow</a>.</p>\n\n<p>Now the correct code which will give your desired output is below:</p>\n\n<pre><code>my $bstr = '02/07/17 09:25:22';\nmy $betr = '02/07/17 10:55:48';\nmy $bstrDateTime = DateTime-&gt;from_epoch(epoch =&gt; str2time($bstr));\nmy $betrDateTime = DateTime-&gt;from_epoch(epoch =&gt; str2time($betr));\n\nmy $diff = $betrDateTime-&gt;subtract_datetime( $bstrDateTime ); \n\nmy $diff_h = $diff-&gt;hours;\nmy $diff_m = $diff-&gt;minutes;\nmy $diff_s = $diff-&gt;seconds;\n\nmy $difference = $diff_h.\":\".$diff_m.\":\".$diff_s;\nprint $difference;\n</code></pre>\n\n<p>Also you should have placed the timestamps inside quotes in your code posted and semicolon is also missing in the first couple of lines too. Do remember to run the code which you are pasting to avoid these kinds of errors.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1486978277, "creation_date": 1486978277, "answer_id": 42200739, "question_id": 42196391, "link": "https://stackoverflow.com/questions/42196391/how-to-get-difference-in-date-and-time-in-perl-where-i-have-two-datetime-strings/42200739#42200739", "title": "How to get difference in date and time in perl where I have two datetime strings?", "body": "<p>It helps if you give us code that actually compiles, so we don't have to spend time fixing your missing semicolons and quotes.</p>\n\n<p>Using <code>str2time()</code> and creating a DateTime object from the epoch is a little wasteful. Better to use <a href=\"https://metacpan.org/pod/DateTime::Format::Strptime\" rel=\"nofollow noreferrer\">DateTime::Format::Strptime</a> to directly parse your string to a DateTime object.</p>\n\n<p>Using the <code>hours()</code>, <code>minutes()</code> and <code>seconds()</code> methods on DateTime::Duration (instead of <code>in_units()</code>) will give you the results to want.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse DateTime::Format::Strptime;\n\nmy $date_parser = DateTime::Format::Strptime-&gt;new(\n  pattern =&gt; '%d/%m/%y %H:%M:%S',\n);\n\nmy $bstr = '02/07/17 09:25:22';\nmy $betr = '02/07/17 10:55:48';\nmy $bstrDateTime = $date_parser-&gt;parse_datetime( $bstr );\nmy $betrDateTime = $date_parser-&gt;parse_datetime( $betr );\nmy $diff = $betrDateTime-&gt;subtract_datetime( $bstrDateTime );\n\nprint $diff-&gt;hours, ', ', $diff-&gt;minutes, ', ', $diff-&gt;seconds, \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7513860, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/769e5c0ad9f483bbeef248b60fe47c79?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh", "link": "https://stackoverflow.com/users/7513860/harsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1486978277, "creation_date": 1486957641, "question_id": 42196391, "link": "https://stackoverflow.com/questions/42196391/how-to-get-difference-in-date-and-time-in-perl-where-i-have-two-datetime-strings", "title": "How to get difference in date and time in perl where I have two datetime strings?", "body": "<p>I have two datetime strings as:</p>\n\n<pre><code>$bstr = 02/07/17 09:25:22\n$betr = 02/07/17 10:55:48\nmy $bstrDateTime = DateTime-&gt;from_epoch( epoch =&gt; str2time( $bstr ) );\nmy $betrDateTime = DateTime-&gt;from_epoch( epoch =&gt; str2time( $betr ) );\nmy $diff = $betrDateTime-&gt;subtract_datetime( $bstrDateTime );\n\n$diff_h = sprintf $diff-&gt;in_units('hours');\n$diff_m = sprintf $diff-&gt;in_units('minutes');\n$diff_s = sprintf $diff-&gt;in_units('seconds');\n\n$difference = $diff_h.\":\".$diff_m.\":\".$diff_s;\nprint $difference;\n</code></pre>\n\n<p>But I am getting wrong minute difference. </p>\n\n<p>Output was: 1:90:48</p>\n\n<p>Where I have done wrong? Instead of 90, it should be 30.</p>\n"}, {"tags": ["perl", "csv", "pattern-matching"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1486976259, "post_id": 42196232, "comment_id": 71561581, "body": "Is your input actually binary, or is it ascii strings of 1s and 0s? (if you <code>cat</code> it do you get the above output?)"}, {"owner": {"reputation": 339, "user_id": 5683724, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-ys-8Xx_dcVY/AAAAAAAAAAI/AAAAAAAAACg/QkZg_guBu6g/photo.jpg?sz=128", "display_name": "Jaeyoung Park", "link": "https://stackoverflow.com/users/5683724/jaeyoung-park"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487008909, "post_id": 42196232, "comment_id": 71582208, "body": "It is a string."}], "answers": [{"comments": [{"owner": {"reputation": 339, "user_id": 5683724, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-ys-8Xx_dcVY/AAAAAAAAAAI/AAAAAAAAACg/QkZg_guBu6g/photo.jpg?sz=128", "display_name": "Jaeyoung Park", "link": "https://stackoverflow.com/users/5683724/jaeyoung-park"}, "edited": false, "score": 0, "creation_date": 1487013017, "post_id": 42200199, "comment_id": 71584588, "body": "Thank you. Either way is fine to me. I think &quot;.&quot; is the symbol what I wanted to originally. I have modified my code, but it seems I did not understand the part in while loop correctly. Could you explain the details? I will attach my code in the following. Thank  you."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 339, "user_id": 5683724, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-ys-8Xx_dcVY/AAAAAAAAAAI/AAAAAAAAACg/QkZg_guBu6g/photo.jpg?sz=128", "display_name": "Jaeyoung Park", "link": "https://stackoverflow.com/users/5683724/jaeyoung-park"}, "edited": false, "score": 0, "creation_date": 1487023019, "post_id": 42200199, "comment_id": 71589910, "body": "The problem you are having with reading is that you aren&#39;t <code>chomp</code> ing the input, so it has embedded linefeeds."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 339, "user_id": 5683724, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-ys-8Xx_dcVY/AAAAAAAAAAI/AAAAAAAAACg/QkZg_guBu6g/photo.jpg?sz=128", "display_name": "Jaeyoung Park", "link": "https://stackoverflow.com/users/5683724/jaeyoung-park"}, "edited": false, "score": 0, "creation_date": 1487023268, "post_id": 42200199, "comment_id": 71590019, "body": "Also, you don&#39;t really want the open inside your <code>do</code> block. I suspect that means you will end up with the return code of <code>open</code> contaminating your list. Try <code>open my $input_fh, &#39;&lt;&#39;, &#39;file.txt&#39; or die $! ; chomp ( my @input = &lt;$input_fh&gt; );</code>"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 3, "last_activity_date": 1487075368, "last_edit_date": 1487075368, "creation_date": 1486976554, "answer_id": 42200199, "question_id": 42196232, "link": "https://stackoverflow.com/questions/42196232/perl-matching-with-dont-care-conditions-and-reading-csv-files/42200199#42200199", "title": "Perl - Matching with dont care conditions and reading csv files", "body": "<p>Well, type casting - that doesn't exist in the way you think, because perl doesn't really care whether something is a string or a number - it does the right thing depending on context.</p>\n\n<p>However, there are things like <code>pack</code> and <code>unpack</code> which convert raw binary data to a more usable representation. E.g. from (raw) binary to hex, and back again. These don't seem to apply, because your input isn't binary - it's just text. </p>\n\n<p>But I have to say - I think you're tackling this a harder way than you need to (unless I'm misunderstanding your problem) and you don't actually need to do binary transforming at all:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\n#or read this from a file\nmy @input = qw ( 11XX11001000101101111101101010010000101101011111X1\n                 1000011000111101001011110111001100100101111000010X );\n#replace 'X' with '.' which is the regex \"don't care\" character.                 \ns/X/./g for @input;\n#compile a regex made of these two patterns. \nmy $search = join ( \"|\", @input );\n   $search = qr/$search/; \n\nprint \"Compiled input patterns into a regex of: \\n\";\nprint $search,\"\\n\";\n\n#iterate database (pasted in 'data' block for illustrative purposes)\nwhile ( &lt;DATA&gt; ) {\n    my ( $id, $target, @rest ) = split; #split on whitespace. \n              # you are using tab sep, so you might prefer split /\\t/;\n    #field 1 = ID\n    #field 2 = $target\n    #everything else = @rest\n    #compare $target with the regex we compiled above, and print the \n    #current line if it matches. \n    print if $target =~ /$search/;\n}\n\n\n__DATA__\n0.1 11001100100010110111110110101001000010110101111101  rml_irf_old_e_cwp_e[1]  rml_irf_new_e_cwp_e[1]  rml_irf_swap_even_e rml_irf_old_e_cwp_e[0]  rml_irf_new_e_cwp_e[0]  rml_irf_swap_odd_e\n0.1 11101100110010011011001101100111001001100000010011  3.923510310023e-06  3.19470818154393e-08    7.05437377900141e-10    7.05437377900141e-10    4.89200539851702e-17    5.01433479478681e-19\n0.1 10000110001111010010111101110011001001011110000100  rml_irf_new_e_cwp_e[1]  rml_irf_new_e_cwp_e[0]\n0.1 01110111010010000000101001000001100011011100011111  0.052908822741908   2.7185508579738e-05\n</code></pre>\n\n<p>This then, for your database, prints:</p>\n\n<pre><code>0.1 11001100100010110111110110101001000010110101111101  rml_irf_old_e_cwp_e[1]  rml_irf_new_e_cwp_e[1]  rml_irf_swap_even_e rml_irf_old_e_cwp_e[0]  rml_irf_new_e_cwp_e[0]  rml_irf_swap_odd_e\n0.1 10000110001111010010111101110011001001011110000100  rml_irf_new_e_cwp_e[1]  rml_irf_new_e_cwp_e[0]\n</code></pre>\n\n<p>In terms of reading patterns from a particular file - the most likely reason that would break is if you forget to <code>chomp</code> the patterns as you read them. </p>\n\n<p>So you'd load them like this (tested with the above data):</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\n#Read patterns from file\nopen ( my $input_fh, '&lt;', 'patterns.txt' ) or die $!; \nchomp ( my @input = &lt;$input_fh&gt; );\nclose ( $input_fh );\n#replace 'X' with '.' which is the regex \"don't care\" character.                 \ns/X/./g for @input;\n#compile a regex made of these two patterns. \nmy $search = join ( \"|\", @input );\n   $search = qr/$search/; \n\n#iterate database (pasted in 'data' block for illustrative purposes)\nopen ( my $data, '&lt;', 'database.txt' ) or die $!;\nwhile ( &lt;$data&gt; ) {\n    my ( $id, $target, @rest ) = split;\n    #print if the target line matches\n    print if $target =~ /$search/;\n}\n</code></pre>\n\n<p>Specifically with your code (and that of your answer):</p>\n\n<ul>\n<li>Turn on <code>use strict; use warnings;</code> - it's important for troubleshooting.</li>\n<li>You don't need to double-loop, because turning your input patterns into an alternation regex does that for you (more efficiently). </li>\n<li>Always use 3 arg open with lexical file handles. <code>open ( my $input_fh, '&lt;', 'patterns.txt' ) or die $!</code> because a file handle of <code>CSV</code> is a global (and doesn't auto close like a lexical does when it goes out of scope). </li>\n<li><code>$i &lt; (scalar @Ddb)</code> is redundant. <code>&lt;</code> makes it a scalar context, so you can can just <code>$i &lt; @db</code> and get the same result. </li>\n<li><code>perltidy</code> is a good thing for code formatting. <code>perltidy -pbp</code> will format based on \"perl best practices\". </li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487022926, "post_id": 42213445, "comment_id": 71589866, "body": "Needs a <code>chomp</code> to remove the line feed."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487022966, "post_id": 42213445, "comment_id": 71589888, "body": "But this should really be an edit to your questions, because this is not really an answer."}, {"owner": {"reputation": 339, "user_id": 5683724, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-ys-8Xx_dcVY/AAAAAAAAAAI/AAAAAAAAACg/QkZg_guBu6g/photo.jpg?sz=128", "display_name": "Jaeyoung Park", "link": "https://stackoverflow.com/users/5683724/jaeyoung-park"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487032570, "post_id": 42213445, "comment_id": 71593209, "body": "Yes, I will update my answer. I have fixed the problem with the input based on you comment. thank you."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487057945, "post_id": 42213445, "comment_id": 71601051, "body": "The scalar in the array size comparison is redundant. Comparison operators are scalar context already."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487058020, "post_id": 42213445, "comment_id": 71601085, "body": "Also you are iterating @input when you don&#39;t need to because $search does the same thing."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487075247, "post_id": 42213445, "comment_id": 71611862, "body": "I have edited my answer to clarify. Your code it still too convoluted. Compiling a regex based on <code>$input[0]</code> is not going to do what you want, because you&#39;re effectively discarding all but one of the patterns."}, {"owner": {"reputation": 339, "user_id": 5683724, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-ys-8Xx_dcVY/AAAAAAAAAAI/AAAAAAAAACg/QkZg_guBu6g/photo.jpg?sz=128", "display_name": "Jaeyoung Park", "link": "https://stackoverflow.com/users/5683724/jaeyoung-park"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1487274644, "post_id": 42213445, "comment_id": 71723257, "body": "@Sorbique, Thank you for your comment. The reason I iterated input is that I wanted to search the case both lines are matched. For example, in my database, two lines are repeated. The first line contains names of registers and the second lines are numbers. So I exactly wanted to search is the case the two lines are matched with the input containing two lines. Is there any fancy way except for iterating input that I used? I wanted to ask the way to search one line for simplicity."}], "tags": [], "owner": {"reputation": 339, "user_id": 5683724, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-ys-8Xx_dcVY/AAAAAAAAAAI/AAAAAAAAACg/QkZg_guBu6g/photo.jpg?sz=128", "display_name": "Jaeyoung Park", "link": "https://stackoverflow.com/users/5683724/jaeyoung-park"}, "is_accepted": false, "score": 0, "last_activity_date": 1487032771, "last_edit_date": 1487032771, "creation_date": 1487019590, "answer_id": 42213445, "question_id": 42196232, "link": "https://stackoverflow.com/questions/42196232/perl-matching-with-dont-care-conditions-and-reading-csv-files/42213445#42213445", "title": "Perl - Matching with dont care conditions and reading csv files", "body": "<p>Thank you for the help -  @Sobrique</p>\n\n<p>My original code made my code more complicated. What I wanted to do is actually \".\", which is a dont care symbol and the way to handle this symbol. Also, reading csv files as an input and database is needed. @sobrique helped me a lot to resolved all the issues and the following is my final code. </p>\n\n<p>my code:   </p>\n\n<pre><code>#!/usr/bin/perl \n\n##### Read input\n\nopen my $input_fh, '&lt;', 'input_test.txt' or die $! ; chomp ( my @input = &lt;$input_fh&gt; );\n\n#replace 'X' with '.' which is the regex \"don't care\" character.                 \ns/X/./g for @input;\n#compile a regex made of these two patterns. \n#my $search = join ( \"|\", @input ); \n#   $search = qr/$search/;      \nmy $search = join ( \"|\", $input[0] ); \n   $search = qr/$search/;   \n\n##### Read database\nopen(CSV,'database.txt')||die(\"Cannot open db file $!\");\nmy @Ddb;\nwhile(&lt;CSV&gt;){\n    my @row=split(/\\t/,$_);\n    push(@Ddb,\\@row);\n}\nclose CSV || die $!;\n\n\n#iterate database (pasted in 'data' block for illustrative purposes)\nfor (my $n=0; $n &lt; (scalar @input); $n +=2) {\n\nfor (my $i=0; $i &lt; (scalar @Ddb); $i +=2) {\n    if ($Ddb[$i][1] =~ /$search/) {\n        print \"$Ddb[$i][1] matched\\n\";\n        print \"$Ddb[$i][2] \\n\";\n    } \n#else {\n#       print \"$Ddb[$i][1] didn't match\\n\";      \n#       }\n}\n\n}\n</code></pre>\n\n<p>input_test.txt :</p>\n\n<pre><code>10001000110010001001110111000011001010110010000011\n10111101010011000101001011110000001110101110010011\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 5683724, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh3.googleusercontent.com/-ys-8Xx_dcVY/AAAAAAAAAAI/AAAAAAAAACg/QkZg_guBu6g/photo.jpg?sz=128", "display_name": "Jaeyoung Park", "link": "https://stackoverflow.com/users/5683724/jaeyoung-park"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 42200199, "answer_count": 2, "score": 0, "last_activity_date": 1487075368, "creation_date": 1486956469, "question_id": 42196232, "link": "https://stackoverflow.com/questions/42196232/perl-matching-with-dont-care-conditions-and-reading-csv-files", "title": "Perl - Matching with dont care conditions and reading csv files", "body": "<p>I posted a question regarding don't care symbol (X) in Perl before. I now have a working code, but this does not work where reading files. </p>\n\n<p>Let's say I have a 50-bit binary input and database. If the input is matched with data in database, I would return a pre-defined value.</p>\n\n<p>Let's say the data in the database is 11001100100010110111110110101001000010110101111101 .</p>\n\n<p>If the input is 11XX11001000101101111101101010010000101101011111X1, I would like to say it is a matched case because X can be 1 or 0. I know a way to split 50 bits in 50 1-bit and make an exception, but I would prefer to handle 50-bit together.</p>\n\n<p>In my code (dontcare.pl), the first part is working with internally defined input and database. However, I would like to read an input file (input_text.txt) and an database file (database.txt) that includes other information and do the same thing. </p>\n\n<p>dontcare.pl:</p>\n\n<pre><code>#!/usr/bin/perl \n\n####### 1st part, Internal string input and database\nmy $input = '11XX11001000101101111101101010010000101101011111X1';\n( my $mask = $input ) =~ tr/X01/\\x00\\xFF\\xFF/;\n( my $targ = $input ) =~ tr/X/\\x00/;\n\nfor my $num_bin (qw(\n   11001100100010110111110110101001000010110101111101\n   10101100100010110111110110101001000010110101111101\n)) {\n   if (($num_bin &amp; $mask) eq $targ) {\n      print \"$num_bin matches\\n\";\n   } else {\n      print \"$num_bin doesn't match\\n\";      \n   }\n}\n\n\n####### 2nd part, Reading input and database files \n        print \" Reading files\\n\";      \n##### Read input\nmy @Dinput=do{\n    open my $Dfh,\"&lt;\",\"input_test.txt\" or die(\"Cannot open an input file $!\");\n    &lt;$Dfh&gt;;\n};\n\n##### Read database\nopen(CSV,'database.txt')||die(\"Cannot open db file $!\");\nmy @Ddb;\n\nwhile(&lt;CSV&gt;){\n    my @row=split(/\\t/,$_);\n    push(@Ddb,\\@row);\n}\nclose CSV || die $!;\n\n\nfor (my $n=0; $n &lt; (scalar @Dinput); $n +=1) {\n\nfor (my $i=0; $i &lt; (scalar @Ddb); $i +=2) {\n    (my $Dmask = $Dinput[$n]) =~ tr/X01/\\x00\\xFF\\xFF/;\n    (my $Dtarg = $Dinput[$n]) =~ tr/X/\\x00/;\n\n    if (( $Ddb[$i][1] &amp; $Dmask) eq $Dtarg) {\n        print \"$Ddb[$i][1] matched\\n\";\n    } else {\n        print \"$Ddb[$i][1] didn't match\\n\";      \n    }\n}\n\n}\n</code></pre>\n\n<p>input_test.txt : (an input file containing two inputs) </p>\n\n<pre><code>11XX11001000101101111101101010010000101101011111X1\n1000011000111101001011110111001100100101111000010X\n</code></pre>\n\n<p>database.txt : (a database file. It has 50-bit binary in the second column.Other information are also in the file) </p>\n\n<pre><code>0.1 11001100100010110111110110101001000010110101111101  rml_irf_old_e_cwp_e[1]  rml_irf_new_e_cwp_e[1]  rml_irf_swap_even_e rml_irf_old_e_cwp_e[0]  rml_irf_new_e_cwp_e[0]  rml_irf_swap_odd_e\n0.1 11101100110010011011001101100111001001100000010011  3.923510310023e-06  3.19470818154393e-08    7.05437377900141e-10    7.05437377900141e-10    4.89200539851702e-17    5.01433479478681e-19\n0.1 10000110001111010010111101110011001001011110000100  rml_irf_new_e_cwp_e[1]  rml_irf_new_e_cwp_e[0]\n0.1 01110111010010000000101001000001100011011100011111  0.052908822741908   2.7185508579738e-05\n</code></pre>\n\n<p>I guess it is a type casting problem. The first part has an string input and string database, so it works. However, the second part automatically reads input and data from files as integers. I searched the type casting and realized there is no casting function in Perl (Or I am wrong). Please let me know any idea and/or recommendation to resolve this issue.</p>\n\n<p>In short, I wanted to make matching with dont care condition works with input and database files. Please let me know if you have other ways to work this. (I used a temporary value change in the input file)  </p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1486940261, "post_id": 42194237, "comment_id": 71550640, "body": "<code>perl -E &#39;$var = &quot;1234 23.3&quot;; $var  =~ &#47;\\s+(\\d+)\\.&#47;; say $1&#39;</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1486940311, "post_id": 42194237, "comment_id": 71550657, "body": "<a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\"><code>perldoc perlretut</code></a>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1486948772, "post_id": 42194237, "comment_id": 71552647, "body": "Have you tried anything?"}, {"owner": {"reputation": 331, "user_id": 711310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/299f2d381f1cd26178a8ce419b479966?s=128&d=identicon&r=PG", "display_name": "Spirit", "link": "https://stackoverflow.com/users/711310/spirit"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1487000358, "post_id": 42194237, "comment_id": 71576967, "body": "@H&#229;konH&#230;gland - Thanks buddy, that helped me. Go ahead and put this as an answer, I will approve it. And to the rest, thanks for all the negativity on such a simple question. When I ask something more complicated, usually it is not answered."}], "answers": [{"tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 0, "last_activity_date": 1487002385, "creation_date": 1487002385, "answer_id": 42208599, "question_id": 42194237, "link": "https://stackoverflow.com/questions/42194237/how-to-extract-a-number-between-two-different-strings/42208599#42208599", "title": "How to extract a number between two different strings", "body": "<p>White space can be matched using <code>\\s</code> backslash sequence, see <a href=\"http://perldoc.perl.org/perlrecharclass.html#Backslash-sequences\" rel=\"nofollow noreferrer\"><code>perlrecharclass</code></a>:</p>\n\n<blockquote>\n  <p><code>\\s</code> matches any single character considered whitespace</p>\n</blockquote>\n\n<p>Likewise, a digit can be matched using <code>\\d</code>: </p>\n\n<blockquote>\n  <p><code>\\d</code> matches a single character considered to be a decimal digit.</p>\n</blockquote>\n\n<p>To match a period or dot, beware that the dot is a regex meta character, that will match any character (except newline), see <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\"><code>perlre</code></a> and <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow noreferrer\"><code>perlretut</code></a>, so to match a dot explicitly you should escape it.</p>\n\n<p>Hence, given <code>$var = \"1234 23.3\"</code>,  the following statement:</p>\n\n<pre><code>$var =~ /\\s+(\\d+)\\./;\n</code></pre>\n\n<p>should extract the number after the space and before the dot into capture group variable <code>$1</code>. See <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\"><code>perlre</code></a> for more information on the <code>+</code> metacharacter and also for information about capture groups.</p>\n"}], "owner": {"reputation": 331, "user_id": 711310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/299f2d381f1cd26178a8ce419b479966?s=128&d=identicon&r=PG", "display_name": "Spirit", "link": "https://stackoverflow.com/users/711310/spirit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 42208599, "answer_count": 1, "score": -4, "last_activity_date": 1487002385, "creation_date": 1486940057, "question_id": 42194237, "link": "https://stackoverflow.com/questions/42194237/how-to-extract-a-number-between-two-different-strings", "title": "How to extract a number between two different strings", "body": "<p>I am new in Perl and I have a situation where I need to extract a number between two different strings.</p>\n\n<p>I have this string variable:</p>\n\n<pre><code>my $var = \"1234 23.3\\\"\n</code></pre>\n\n<p>How can I extract the number between the <code>white-space</code> and the <code>dot</code>? In the example the output should be 23.</p>\n\n<p>The above var string may vary, so sometimes it may be <code>123 4.32</code> or <code>123 334.4\\</code> in which the output should be 4 or 334 respectively.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486939644, "post_id": 42194169, "comment_id": 71550471, "body": "Impossible by definition. If it&#39;s visible by two subs, then it must exist outside of the subs. As such, it must be global, or a declaration outside of the subs must limits its visibility."}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486940009, "post_id": 42194169, "comment_id": 71550558, "body": "I believe it may be possible somehow. Because while <code>subroutine2</code> is being called, <code>$word1</code> is still hold on memory. I think there may be somehow something like $currentMotherSubroutineCalledSession::word1 to access the value of <code>$1word1</code> at the current call of <code>subroutine1</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486940049, "post_id": 42194169, "comment_id": 71550569, "body": "<code>$package::var</code> is a global var."}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486940192, "post_id": 42194169, "comment_id": 71550618, "body": "May be targeted global variable? I want to target the scope of the current running session of <code>subroutine1</code> in order to access <code>$word1</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1486940223, "post_id": 42194169, "comment_id": 71550626, "body": "This is an XY problem. Explain your real issue, not your attempted solution."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486940569, "post_id": 42194169, "comment_id": 71550724, "body": "Yeah, you gave us a solution (which you&#39;ve already ruled out), not a problem."}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1486940628, "post_id": 42194169, "comment_id": 71550736, "body": "I&#39;ve already solved my real issue using another way. This isn&#39;t a question about a specific issue to solve. It&#39;s a questions about &quot;How could I use perl this way \u2026&quot; ."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1486940667, "post_id": 42194169, "comment_id": 71550748, "body": "No, it&#39;s not. What you&#39;ve asked is impossible by definition, regardless of language."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486940775, "post_id": 42194169, "comment_id": 71550766, "body": "@ikegami I know how to do it, but I&#39;m not going to say how because someone&#39;s going to put it in production."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1486941376, "post_id": 42194169, "comment_id": 71550899, "body": "@melpomene, You mean PW? Using PW basically makes lexical variables global (by navigating Perl&#39;s internal structure of a sub). So technically, what I said is still correct. And like you said, it&#39;s not something any program should do."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1486941606, "post_id": 42194169, "comment_id": 71550953, "body": "@melpomene, Speaking of bad advice: <a href=\"http://pastebin.com/ejV6Dvw2\" rel=\"nofollow noreferrer\">This</a>. In fact, that the same approach as in my answer (store the value in localized global var, namely <code>&amp;subroutine2</code>), but way worse! (Imagine if someone did <code>\\&amp;subroutine2</code> when it was localized?)"}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486941948, "post_id": 42194169, "comment_id": 71551041, "body": "@ikegami I&#39;m asking about a feature that would be powerful if it exists in Perl. What I understand is that when you call <code>subroutine1</code> and declare <code>$word1</code> within its scope, <code>$word1</code> will still be declared till the interpreter reaches the closing brace of <code>subroutine1</code>. When we call <code>subroutine2</code> from within <code>subroutine1</code>, and haven&#39;t reached the closing brace of <code>subroutine1</code> yet, we will still have <code>$word1</code> declared. We can target main scope by using $main::varName. My question is &quot;Is there a something similar for targeting currently running subroutines scopes?&quot;"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486942106, "post_id": 42194169, "comment_id": 71551077, "body": "You&#39;ve asked for a 4-wheeled car without wheels. It&#39;s impossible by definition."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486942351, "post_id": 42194169, "comment_id": 71551133, "body": "Re &quot;<i>We can target main scope by using $main::varName.</i>&quot;, Yes, and that&#39;s why it&#39;s a global variable. Re &quot;<i>Is there a something similar for targeting currently running subroutines scopes?</i>&quot;, That would similarly make the variable a global variable. <b>You don&#39;t seem to know what &quot;global variable&quot; means!</b> It means the variable is visible (accessible) from any code. You&#39;re asking how to make a global variable without using global variables, and that&#39;s impossible!"}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486942618, "post_id": 42194169, "comment_id": 71551205, "body": "@ikegami Great! Then I will change my description to be: Could we make the variable &#39;global&#39; (visible from any code) but not to collision with any similarly named global variable in the main scope?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486942640, "post_id": 42194169, "comment_id": 71551211, "body": "Re &quot;<i>&quot;Is there a something similar for targeting currently running subroutines scopes?</i>&quot;, Yes, It&#39;s called dynamically-scoped variables. While the var is global, the value is only visible to calls subs. I&#39;ve already shown you how to do that. (That said, it&#39;s a very bad idea.)"}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486942667, "post_id": 42194169, "comment_id": 71551216, "body": "@ikegami sorry for misusing the word <code>global</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486942695, "post_id": 42194169, "comment_id": 71551225, "body": "Feel free to give them unique names."}, {"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486942715, "post_id": 42194169, "comment_id": 71551230, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/135535/discussion-between-omar-and-ikegami\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1486940710, "last_edit_date": 1486940710, "creation_date": 1486940028, "answer_id": 42194235, "question_id": 42194169, "link": "https://stackoverflow.com/questions/42194169/share-variable-between-subroutines-without-global-variable-names-collisions-dec/42194235#42194235", "title": "Share variable between subroutines without global variable names collisions, declaration out-of-subroutine, or passing parameters", "body": "<p>If the two subroutines aren't nested, then your request is impossible by definition. If it's visible by two non-nested subs, then it must exist outside of the subs. As such, it must be global, or a declaration outside of the subs must limit its visibility to some lexical scope that includes both subs.</p>\n\n<p>So that leaves nested subs.</p>\n\n<pre><code>sub tree_visitor {\n   my @rv;\n\n   local *_helper = sub {\n       my ($node) = @_;\n       push @rv, $node-&gt;text;\n       for my $child ($node-&gt;children) {\n          _helper($child);\n       }\n   };\n\n   _helper($node);\n   return @rv;\n}\n</code></pre>\n\n<p>Something closer to what you want is called a \"dynamic-scoped variable\". It uses a global variable, but the value of the variable is restored after the calling sub exits.</p>\n\n<pre><code>sub subroutine2 {\n   our $x;\n   print $x;\n}\n\nsub subroutine1 {\n   local our $x = 'hello';\n   subroutine2();\n}\n\nsubroutine1();\n</code></pre>\n\n<p>It would be must easier to help you if we knew what problem you are actually facing. But it's either going to involve a global var or a closure.</p>\n"}], "owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 42194235, "answer_count": 1, "score": -1, "last_activity_date": 1486963996, "creation_date": 1486939529, "last_edit_date": 1486963996, "question_id": 42194169, "link": "https://stackoverflow.com/questions/42194169/share-variable-between-subroutines-without-global-variable-names-collisions-dec", "title": "Share variable between subroutines without global variable names collisions, declaration out-of-subroutine, or passing parameters", "body": "<p>How could I share a variable declared in one subroutine to another subroutine, that's called inside it, without <em>having global variable names collisions</em>, or declaring the variable outside the mother caller subroutine, or using any subroutine parameters?</p>\n\n<p><em>in other words:</em> <em>How could I call a variable defined in a subroutine from a sub-called subroutine?</em></p>\n\n<hr>\n\n<p><strong>More explanation:</strong> <em>(in case the previous single-line question wasn't descriptive enough)</em></p>\n\n<p>Please note that you don't need to read to the end to understand my question. Stop reading if you've got what I'm asking about to save your time.</p>\n\n<p>Let's say I have <code>subroutine1</code> and <code>subroutine2</code> as so:</p>\n\n<pre><code>subroutine1 ();\n\nsub subroutine1 {\n  my $word1='hello';\n  subroutine2();\n}\n\nsub subroutine2 {\n  print $word1; #Prints nothing as subroutine2 is unable to access $word1 declared in subroutine1\n}\n</code></pre>\n\n<p>My question, specifically, asks about how could I share a variable (<code>$word1</code>) declared in one subroutine (<code>subroutine1</code>) to another subroutine (<code>subroutine2</code>), that's called inside it (<code>subroutine2</code> is called inside <code>subroutine1</code>), ...</p>\n\n<ul>\n<li>without having global variable names collision \u2014 <em>Which will let me freely name my variables simple names.</em></li>\n<li>without declaring the variable outside the mother caller subroutine (<code>subroutine1</code>)</li>\n<li>without using any subroutine parameters</li>\n</ul>\n\n<p><strong>For example</strong> we could simply achieved it using one of these three simple well-known ways:</p>\n\n<p><em>Way 1:</em> declare <code>$word1</code> as global.</p>\n\n<pre><code>subroutine1 ();\nsub subroutine1 {\n  $word1='hello'; #$word1 is declared as global\n  subroutine2();\n}\nsub subroutine2 {\n  print $word1;\n}\n</code></pre>\n\n<p><em>Way 2:</em> declare <code>$word1</code> outside the mother caller subroutine <code>subroutine1</code> and limit the scope of it.</p>\n\n<pre><code>{\n  my $word1='hello';\n  subroutine1 ();\n  sub subroutine1 {\n    subroutine2();\n  }\n  sub subroutine2 {\n    print $word1;\n  }\n}\n</code></pre>\n\n<p><em>Way 3:</em> pass <code>$word1</code> as a parameter to <code>subroutine2</code>.</p>\n\n<pre><code>subroutine1 ();\n\nsub subroutine1 {\n  my $word1='hello';\n  subroutine2($word1);\n}\nsub subroutine2 {\n  my $x = shift;\n  print $x;\n}\n</code></pre>\n\n<p>This example is really trivial and can be solved by any simple way including the three above. But building it simple this way and putting those limits in mind (<em>no global variable names collisions</em>, <em>no out-of-subroutine declaration</em>, <em>no parameters usage</em>) will definitely solve my real complicated problem that I couldn't simplify here for now.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486938751, "post_id": 42193957, "comment_id": 71550234, "body": "Tip: Use <code>my ($min, $max, @files) = @ARGV;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1486938798, "post_id": 42193957, "comment_id": 71550246, "body": "Tip: Don&#39;t return <code>True</code> and <code>False</code> (which are both true), return something true (usually <code>1</code>) and something false (usually <code>0</code>), then do <code>if (checkIfNumberic($min)){ ... }</code>, or just <code>if (looks_like_number($min)){ ... }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1754, "user_id": 5618172, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh6.googleusercontent.com/-5DWu2LJ3Neg/AAAAAAAAAAI/AAAAAAAAADs/4juP7qODSek/photo.jpg?sz=128", "display_name": "kero", "link": "https://stackoverflow.com/users/5618172/kero"}, "edited": false, "score": 0, "creation_date": 1486939390, "post_id": 42194059, "comment_id": 71550411, "body": "thanks for your answer i just have another question . do you know any good modules to parse huge text files and tokenize strings to kind 2D array or virtual table"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 1754, "user_id": 5618172, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh6.googleusercontent.com/-5DWu2LJ3Neg/AAAAAAAAAAI/AAAAAAAAADs/4juP7qODSek/photo.jpg?sz=128", "display_name": "kero", "link": "https://stackoverflow.com/users/5618172/kero"}, "edited": false, "score": 0, "creation_date": 1486939434, "post_id": 42194059, "comment_id": 71550421, "body": "Highly unclear question. Post a Question, but with far more details. (Specifically, what do you mean by &quot;kind 2d array&quot; and &quot;virtual table&quot;?)"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1486939326, "last_edit_date": 1486939326, "creation_date": 1486938627, "answer_id": 42194059, "question_id": 42193957, "link": "https://stackoverflow.com/questions/42193957/errorwide-character-in-print-at-x-at-line-35-fh-read-text-files-from-comm/42194059#42194059", "title": "Error:Wide character in print at X at line 35, &lt;$fh&gt; ?(read text files from command line)", "body": "<p>You decoded your inputs (the script, with <code>use utf8;</code>; and the file, with <code>:encoding(UTF-8)</code>), but you didn't encode your outputs. Add</p>\n\n<pre><code>use open ':std', ':encoding(UTF-8)';\n</code></pre>\n\n<p>This is equivalent to</p>\n\n<pre><code>BEGIN {\n   binmode STDIN,  ':encoding(UTF-8)';\n   binmode STDOUT, ':encoding(UTF-8)';\n   binmode STDERR, ':encoding(UTF-8)';\n}\n</code></pre>\n\n<p>It also sets the default encoding for file handles opened in its lexical scope, you can remove the existing <code>:encoding(UTF-8)</code> if you want.</p>\n"}], "owner": {"reputation": 1754, "user_id": 5618172, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh6.googleusercontent.com/-5DWu2LJ3Neg/AAAAAAAAAAI/AAAAAAAAADs/4juP7qODSek/photo.jpg?sz=128", "display_name": "kero", "link": "https://stackoverflow.com/users/5618172/kero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 622, "favorite_count": 0, "accepted_answer_id": 42194059, "answer_count": 1, "score": 0, "last_activity_date": 1486939326, "creation_date": 1486937828, "question_id": 42193957, "link": "https://stackoverflow.com/questions/42193957/errorwide-character-in-print-at-x-at-line-35-fh-read-text-files-from-comm", "title": "Error:Wide character in print at X at line 35, &lt;$fh&gt; ?(read text files from command line)", "body": "<p>i am newbie to perl. and this is my second assignment i should create program to parse n files and print m sentences using n-grams model. long story short, i wrote this script that will take n arguments, where the first and second arguments are numeric but the rest are files names, however i am getting this error <strong>Wide character in print at ngram.pl line 35,  line 1.</strong>    </p>\n\n<p>steps to reproduce it :</p>\n\n<p>input from command line : perl ngram.pl 5 10 tale-cities.txt bleak-house.txt papers.txt <br>\noutput : <strong>Wide character in print at ngram.pl line 35,  line 1.</strong>    <br></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings FATAL =&gt; 'all';\nuse Scalar::Util qw(looks_like_number);\nuse utf8;\nuse Encode;\n#Charles Dickens\n\n\nsub checkIfNumberic\n{\n my ($inp)=@_;\n    if  (looks_like_number($inp)){\n       return \"True\";\n    }\n    else{\n        return \"False\" ;\n    }\n}\nsub main\n{\n    my $correctInput=\", your input must be something like this 5 10 somefile.txt somefile2.txt \";\n    my @inputs= @ARGV;\n    if (checkIfNumberic($inputs[0]) eq \"False\"){\n        die \"first argument must be numberic $correctInput\\n\";\n    }\n    if (checkIfNumberic($inputs[1]) eq \"False\"){\n        die \"second argument must be numberic $correctInput\\n\";\n    }\n    for (my $i=2;  $i&lt; scalar @inputs ;$i++)\n    {\n        if (open(my $fh, '&lt;:encoding(UTF-8)', $inputs[$i])) {\n            while (my $line = &lt;$fh&gt;) {\n                chomp $line;\n                print \"$line \\n\";\n            }\n        }\n    }\n}\n\nmain();\n</code></pre>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "comments": [{"owner": {"reputation": 2268, "user_id": 5203563, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/41147e6bce5c1d9c053e05f8ab87207c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex028502", "link": "https://stackoverflow.com/users/5203563/alex028502"}, "edited": false, "score": 0, "creation_date": 1486930349, "post_id": 42192643, "comment_id": 71547260, "body": "you awk solution works here"}, {"owner": {"reputation": 2268, "user_id": 5203563, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/41147e6bce5c1d9c053e05f8ab87207c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex028502", "link": "https://stackoverflow.com/users/5203563/alex028502"}, "edited": false, "score": 0, "creation_date": 1486930475, "post_id": 42192643, "comment_id": 71547316, "body": "and so does your sed one"}, {"owner": {"reputation": 9689, "user_id": 1475324, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/59dca664e41227733ba8a0d1b4f9d73f?s=128&d=identicon&r=PG", "display_name": "iamauser", "link": "https://stackoverflow.com/users/1475324/iamauser"}, "edited": false, "score": 1, "creation_date": 1486930541, "post_id": 42192643, "comment_id": 71547342, "body": "You might have a carriage return at the end of the line. <code>sed -e &#39;s&#47;\\r&#47;&#47;g&#39; -e &#39;s&#47;$XYZ&#47;g&#39;</code> could work."}, {"owner": {"reputation": 31251, "user_id": 4162356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/dGhuV.png?s=128&g=1", "display_name": "James Brown", "link": "https://stackoverflow.com/users/4162356/james-brown"}, "edited": false, "score": 0, "creation_date": 1486930630, "post_id": 42192643, "comment_id": 71547379, "body": "or add <code>sub(&#47;\\r&#47;,&quot;&quot;,$NF)</code> to the beginning of your awk script to remove the <code>\\r</code>."}], "answers": [{"tags": [], "owner": {"reputation": 473, "user_id": 6356764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5177c4f65ad84546f3ac6330834fe5db?s=128&d=identicon&r=PG", "display_name": "mkorvas", "link": "https://stackoverflow.com/users/6356764/mkorvas"}, "is_accepted": true, "score": 1, "last_activity_date": 1486930602, "last_edit_date": 1495542822, "creation_date": 1486930602, "answer_id": 42192729, "question_id": 42192643, "link": "https://stackoverflow.com/questions/42192643/add-characters-at-the-end-of-each-line/42192729#42192729", "title": "Add characters at the end of each line", "body": "<p>Testing your awk program, it works for me as intended. I suppose the problem is that your input file uses different newline sequences than the your OS default (probably the Windows-style \"CR+LF\" when you are on UNIX or Mac OS). If that's the case, this other post could be of help: <a href=\"https://stackoverflow.com/questions/2613800/how-to-convert-dos-windows-newline-crlf-to-unix-newline-n-in-a-bash-script\">How to convert DOS/Windows newline (CRLF) to Unix newline (\\n) in a Bash script?</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "is_accepted": false, "score": 0, "last_activity_date": 1486969106, "creation_date": 1486969106, "answer_id": 42198256, "question_id": 42192643, "link": "https://stackoverflow.com/questions/42192643/add-characters-at-the-end-of-each-line/42198256#42198256", "title": "Add characters at the end of each line", "body": "<p>if it is every line</p>\n\n<pre><code>sed 's/[^[:print:]]*$/[Here]&amp;/' YourFile\n</code></pre>\n\n<p>you take care of every trailing non printable char before the insertion with the <code>[^[:print:]]*</code> and  <code>&amp;</code> in replacement pattern</p>\n"}], "owner": {"reputation": 43, "user_id": 7549789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PUvZv.jpg?s=128&g=1", "display_name": "Koah Nuttler", "link": "https://stackoverflow.com/users/7549789/koah-nuttler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1330, "favorite_count": 1, "accepted_answer_id": 42192729, "answer_count": 2, "score": 1, "last_activity_date": 1486969106, "creation_date": 1486930077, "last_edit_date": 1486932149, "question_id": 42192643, "link": "https://stackoverflow.com/questions/42192643/add-characters-at-the-end-of-each-line", "title": "Add characters at the end of each line", "body": "<p>I've tried all solutions that I found, but nothing seems to work as it should.</p>\n\n<p>I have a file with text data. I need to add some characters at the end of each line. </p>\n\n<p>I've tried already:</p>\n\n<pre><code>awk '{print $0\"XYZ\"}' $newfilename-final.txt &gt; $newfilename-XYZ.txt\nperl -nle 'print $_, \"XYZ\"' $newfilename-final.txt &gt; $newfilename-XYZ.txt\nsed 's/$/XYZ/' $newfilename-final.txt &gt; $newfilename-XYZ.txt\n</code></pre>\n\n<p>All of them added XYZ, but not at the end of every string, but in new lines between strings.</p>\n\n<p>How to solve this issue?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4111, "user_id": 23033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b6c69cae4d2061cafe851676f8d262?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/23033/dre"}, "edited": false, "score": 2, "creation_date": 1486929166, "post_id": 42191231, "comment_id": 71546782, "body": "<code>use strict;</code> would have given you a useful error message here, instead of just &quot;giving nothing&quot;"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1486977346, "post_id": 42191231, "comment_id": 71562259, "body": "Presumably, you don&#39;t have a variable called <code>$_XYZ</code> :-)"}], "answers": [{"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1486923589, "post_id": 42191266, "comment_id": 71544623, "body": "or <code>print $_, &quot;XYZ&quot;</code> or <code>printf &quot;%sXYZ&quot;, $_</code> etc."}, {"owner": {"reputation": 43, "user_id": 7549789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PUvZv.jpg?s=128&g=1", "display_name": "Koah Nuttler", "link": "https://stackoverflow.com/users/7549789/koah-nuttler"}, "edited": false, "score": 0, "creation_date": 1486924374, "post_id": 42191266, "comment_id": 71544942, "body": "what I&#39;m trying to achieve is to add some characters at the every line of the text file.    The code <code>perl -ne &#39;print &quot;XYZ$_&quot;&#39; $newfilename.txt &gt; $newfilename-XYZ.txt&#39;</code> works perfectly to add at the begining, but the above solutions to add at the end do not work"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 43, "user_id": 7549789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PUvZv.jpg?s=128&g=1", "display_name": "Koah Nuttler", "link": "https://stackoverflow.com/users/7549789/koah-nuttler"}, "edited": false, "score": 0, "creation_date": 1486924493, "post_id": 42191266, "comment_id": 71544982, "body": "@KoahNuttler \u2014 You were asking about the Perl. Even though it is a similar problem, Bash is a different programming language."}, {"owner": {"reputation": 43, "user_id": 7549789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PUvZv.jpg?s=128&g=1", "display_name": "Koah Nuttler", "link": "https://stackoverflow.com/users/7549789/koah-nuttler"}, "edited": false, "score": 0, "creation_date": 1486925099, "post_id": 42191266, "comment_id": 71545204, "body": "@Quentin you suprised me a lot, though I&#39;m a novice I thought that using perl inside bash shouldn&#39;t make any difference. Sorry for the confusion then, thank you for all the answers, but are you able provide me with any solution for bash/perl combination?"}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 43, "user_id": 7549789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PUvZv.jpg?s=128&g=1", "display_name": "Koah Nuttler", "link": "https://stackoverflow.com/users/7549789/koah-nuttler"}, "edited": false, "score": 0, "creation_date": 1486925276, "post_id": 42191266, "comment_id": 71545276, "body": "@KoahNuttler \u2014 The Perl bit (<code>print &quot;XYZ$_&quot;</code>) is covered by this answer, and the change I suggested works fine (at least as far as putting the variable before the hard coded bit is concerned, you might want to do some additional work to deal with putting the new line in a different place) in that context. If you want to mess around with the variable order in the bash portion (<code>$newfilename.txt &gt; $newfilename-XYZ.txt</code>) then you should ask a new question about it."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 43, "user_id": 7549789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PUvZv.jpg?s=128&g=1", "display_name": "Koah Nuttler", "link": "https://stackoverflow.com/users/7549789/koah-nuttler"}, "edited": false, "score": 0, "creation_date": 1486925542, "post_id": 42191266, "comment_id": 71545375, "body": "@KoahNuttler You probably want the <code>-l</code> option, as in <code>perl -nle</code>. Otherwise your newlines are going to be messed up."}, {"owner": {"reputation": 43, "user_id": 7549789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PUvZv.jpg?s=128&g=1", "display_name": "Koah Nuttler", "link": "https://stackoverflow.com/users/7549789/koah-nuttler"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1486927641, "post_id": 42191266, "comment_id": 71546183, "body": "@melpomene thank you for the solution, it adds the characters but not at the end of the existing line, but in a new lines."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 43, "user_id": 7549789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PUvZv.jpg?s=128&g=1", "display_name": "Koah Nuttler", "link": "https://stackoverflow.com/users/7549789/koah-nuttler"}, "edited": false, "score": 0, "creation_date": 1486933052, "post_id": 42191266, "comment_id": 71548270, "body": "@KoahNuttler Alternative: prepend <code>perl -pe &#39;s&#47;^&#47;XYZ&#47;&#39;</code> append <code>perl -pe &#39;s&#47;$&#47;XYZ&#47;&#39;</code>"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 6, "last_activity_date": 1486922879, "creation_date": 1486922879, "answer_id": 42191266, "question_id": 42191231, "link": "https://stackoverflow.com/questions/42191231/why-does-print-xyz-work-but-print-xyz-doesnt/42191266#42191266", "title": "Why does `print &quot;XYZ$_&quot;` work but `print &quot;$_XYZ&quot;` doesn&#39;t?", "body": "<p><code>XYZ</code> can be part of a variable name, so <code>$_XYZ</code> is a variable name, rather than <code>$_</code> followed by a literal <code>XYZ</code>.</p>\n\n<p>You can split the string up:</p>\n\n<pre><code>perl -ne 'print $_ . \"XYZ\"'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1486923537, "creation_date": 1486923537, "answer_id": 42191396, "question_id": 42191231, "link": "https://stackoverflow.com/questions/42191231/why-does-print-xyz-work-but-print-xyz-doesnt/42191396#42191396", "title": "Why does `print &quot;XYZ$_&quot;` work but `print &quot;$_XYZ&quot;` doesn&#39;t?", "body": "<p>Perl identifiers may contain any letters, digits, or underscore, so you are asking perl to print the value of the variable <code>$_XYZ</code>, which doesn't exist</p>\n\n<p>You may surround the name of the variable with braces <code>{ ... }</code> to separate it from any surrounding characters, like so</p>\n\n<pre><code>perl -ne 'print \"${_}XYZ\"'\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 7549789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PUvZv.jpg?s=128&g=1", "display_name": "Koah Nuttler", "link": "https://stackoverflow.com/users/7549789/koah-nuttler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1487089052, "creation_date": 1486922761, "last_edit_date": 1487089052, "question_id": 42191231, "link": "https://stackoverflow.com/questions/42191231/why-does-print-xyz-work-but-print-xyz-doesnt", "title": "Why does `print &quot;XYZ$_&quot;` work but `print &quot;$_XYZ&quot;` doesn&#39;t?", "body": "<p>For input <code>abc</code>, the code</p>\n\n<pre><code>perl -ne 'print \"XYZ$_\"'\n</code></pre>\n\n<p>prints <code>XYZabc</code>, but after switching the order of <code>$_</code> and <code>XYZ</code>, i.e.</p>\n\n<pre><code>perl -ne 'print \"$_XYZ\"'\n</code></pre>\n\n<p>it prints nothing. Why?</p>\n"}, {"tags": ["perl", "opensuse", "bugzilla"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1486915376, "post_id": 42189796, "comment_id": 71541414, "body": "Most likely you have two instances of perl, and the one you are checking is not the one where the modules are installed."}, {"owner": {"reputation": 67, "user_id": 6858455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f26d3f58328408c503c158a077f2da42?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/6858455/karan"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486916060, "post_id": 42189796, "comment_id": 71541651, "body": "is there any way to check how many instances are there?"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1486916322, "post_id": 42189796, "comment_id": 71541748, "body": "What do you get form <code>type perl</code>, <code>perl -v</code>, and what&#39;s the shebang line of <code>checksetup.pl</code>? Does checksetup modify @INC or tweak <code>lib</code>?"}, {"owner": {"reputation": 67, "user_id": 6858455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f26d3f58328408c503c158a077f2da42?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/6858455/karan"}, "edited": false, "score": 0, "creation_date": 1486916494, "post_id": 42189796, "comment_id": 71541804, "body": "type perl perl is hashed (/usr/bin/perl)       perl -v  This is perl 5, version 18, subversion 2 (v5.18.2) built for x86_64-linux-thread-multi  Copyright 1987-2013, Larry Wall  Perl may be copied only under the terms of either the Artistic License or the GNU General Public License, which may be found in the Perl 5 source kit.  Complete documentation for Perl, including FAQ lists, should be found on this system using &quot;man perl&quot; or &quot;perldoc perl&quot;.  If you have access to the Internet, point your browser at <a href=\"http://www.perl.org/\" rel=\"nofollow noreferrer\">perl.org</a>, the Perl Home Page."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486916706, "post_id": 42189796, "comment_id": 71541889, "body": "You can start with <code>which -a perl</code>, which may show more than one version. Whatever command you&#39;ve used to make yourself certain that those modules are installed must be using a different perl from the one you used to run <code>checksetup.pl</code> if I&#39;m right. How did you do those two things? The other possibility, of course, is that you&#39;re mistaken about those modules."}, {"owner": {"reputation": 67, "user_id": 6858455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f26d3f58328408c503c158a077f2da42?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/6858455/karan"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486957845, "post_id": 42189796, "comment_id": 71554781, "body": "@Borodin which -a perl gives output /usr/bin/perl   /usr/bin/X11/perl"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486979751, "post_id": 42189796, "comment_id": 71563759, "body": "@karan: And what is the shebang line of <code>checksetup.pl</code>"}, {"owner": {"reputation": 67, "user_id": 6858455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f26d3f58328408c503c158a077f2da42?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/6858455/karan"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1487004503, "post_id": 42189796, "comment_id": 71579668, "body": "@Borodin it is #!/usr/bin/perl"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 6858455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f26d3f58328408c503c158a077f2da42?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/6858455/karan"}, "edited": false, "score": 0, "creation_date": 1486959150, "post_id": 42190466, "comment_id": 71555095, "body": "I checked with perldoc for all modules which are showing not installed by checksetup.pl and their version is &gt;= the required by checksetup.pl."}, {"owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "reply_to_user": {"reputation": 67, "user_id": 6858455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f26d3f58328408c503c158a077f2da42?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/6858455/karan"}, "edited": false, "score": 0, "creation_date": 1486969244, "post_id": 42190466, "comment_id": 71558268, "body": "Then the first comment by @Borodin is probably the explanation."}], "tags": [], "owner": {"reputation": 7502, "user_id": 6368697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yq4cG.jpg?s=128&g=1", "display_name": "Patrick Mevzek", "link": "https://stackoverflow.com/users/6368697/patrick-mevzek"}, "is_accepted": false, "score": 0, "last_activity_date": 1486918580, "creation_date": 1486918580, "answer_id": 42190466, "question_id": 42189796, "link": "https://stackoverflow.com/questions/42189796/bugzilla-installation-error-for-perl-modules/42190466#42190466", "title": "Bugzilla installation Error for Perl modules", "body": "<p>How did you test the modules are installed?</p>\n\n<p>Your testing script does not just test the installation of the Perl modules but their version. Maybe you have <code>Email-Sender</code> but it wants version 1.300011 (or higher) for example, and your installed version may be lower.\nYou can check by doing <code>perldoc Email::Sender</code> (the version may be displayed), or running it: <code>perl -MEmail::Sender -e 'print $Email::Sender::VERSION,\"\\n\";'</code>, or if all else fails have a look at the module source (<code>perldoc -m Email::Sender</code>), or alternatively check your OS tool for package management as your modules may have been installed through the OS (or manually, you did not specify).</p>\n\n<p>Same for the other lines where it says \"not found\".</p>\n"}], "owner": {"reputation": 67, "user_id": 6858455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f26d3f58328408c503c158a077f2da42?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/6858455/karan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 427, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486918580, "creation_date": 1486915035, "last_edit_date": 1486915309, "question_id": 42189796, "link": "https://stackoverflow.com/questions/42189796/bugzilla-installation-error-for-perl-modules", "title": "Bugzilla installation Error for Perl modules", "body": "<p></p>\n\n<p>While running <em>checksetup.pl</em> on Open Suse 42.1 getting error about Perl modules not found which are already installed. </p>\n\n<p>What could be the reason for it?</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Checking perl modules...\nChecking for               CGI.pm (v3.51)     ok: found v3.63 \nChecking for           Digest-SHA (any)       ok: found v5.84_01 \nChecking for             TimeDate (v2.23)     ok: found v2.24 \nChecking for             DateTime (v0.75)     not found \nChecking for    DateTime-TimeZone (v1.64)     not found \nChecking for                  DBI (v1.614)    ok: found v1.628 \nChecking for     Template-Toolkit (v2.24)     ok: found v2.26 \nChecking for         Email-Sender (v1.300011) not found \nChecking for           Email-MIME (v1.904)    ok: found v1.940 \nChecking for                  URI (v1.55)     ok: found v1.60 \nChecking for       List-MoreUtils (v0.32)     ok: found v0.416 \nChecking for    Math-Random-ISAAC (v1.0.1)    ok: found v1.004 \nChecking for           File-Slurp (v9999.13)  ok: found v9999.19 \nChecking for              JSON-XS (v2.01)     ok: found v3.03 \n</code></pre>\n"}, {"tags": ["javascript", "node.js", "perl", "stdout", "spawn"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6348247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3298146c056431636c6d463455e6302?s=128&d=identicon&r=PG&f=1", "display_name": "DeZeT", "link": "https://stackoverflow.com/users/6348247/dezet"}, "edited": false, "score": 0, "creation_date": 1486935262, "post_id": 42189971, "comment_id": 71549098, "body": "Thank you! It works as it should! setEncoding got lost by making the code more comfortable. Actually it was in the original code"}], "tags": [], "owner": {"reputation": 2121, "user_id": 5483521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/265e99fd9e56d7f2a42cbba66afca3ff?s=128&d=identicon&r=PG&f=1", "display_name": "Bulent Vural", "link": "https://stackoverflow.com/users/5483521/bulent-vural"}, "is_accepted": true, "score": 1, "last_activity_date": 1486916043, "creation_date": 1486916043, "answer_id": 42189971, "question_id": 42189780, "link": "https://stackoverflow.com/questions/42189780/node-js-child-spawn-stdout-live-at-every-line/42189971#42189971", "title": "Node.js child.spawn stdout &quot;live&quot; at every line", "body": "<p>Put this on your perl file to disable buffering on output : </p>\n\n<pre><code>select(STDOUT); $| =1;\n</code></pre>\n\n<p>You also need to fix your on 'data' handler so that you are not managing the lineBuffer var as you consume the data. To fix it : </p>\n\n<pre><code>command.stdout.on('data', function (data) {\n    var lines = (lineBuffer + data).split(\"\\n\");\n    if(data[data.length-1] != '\\n') {\n        lineBuffer = lines.pop();\n    }else{\n        lineBuffer = '';\n    }\n    for (var i = 0; i &lt; lines.length - 1; i++) {\n        var line = lines[i];\n        console.log(line);\n    }\n});\n</code></pre>\n\n<p>Also, is there a missing <code>stdout.setEncoding('utf8');</code> ?</p>\n"}], "owner": {"reputation": 13, "user_id": 6348247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3298146c056431636c6d463455e6302?s=128&d=identicon&r=PG&f=1", "display_name": "DeZeT", "link": "https://stackoverflow.com/users/6348247/dezet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 929, "favorite_count": 0, "accepted_answer_id": 42189971, "answer_count": 1, "score": 1, "last_activity_date": 1486916043, "creation_date": 1486914910, "question_id": 42189780, "link": "https://stackoverflow.com/questions/42189780/node-js-child-spawn-stdout-live-at-every-line", "title": "Node.js child.spawn stdout &quot;live&quot; at every line", "body": "<p>i am tying to use the output of a Perl script in Node.js</p>\n\n<pre><code>for (my $i=10;$i&lt;100 ;$i+=30 )\n{\n    printf \"$i\\n\";\n    sleep(1);\n}\n</code></pre>\n\n<p>This script is called by the child_process.spawn method.\nMy problem is, that i need to work with every single output. Is there  a way to start a event as soon as perl send a new line to stdout? In my actual code i can see the output as a bulk after the perl script finished running and it is not possible to work with single lines</p>\n\n<pre><code>function setStuff() {\n    var command = \"perl\";\n    var scriptpath = \"script.pl\";\n    var arg = [scriptpath];\n    run(command, arg);\n}\nfunction run(cmd, arg) {\n var spawn = require('child_process').spawn;\n    var command = spawn(cmd, arg, {detached: true, stdout: 'pipe'});\n\n    command.unref();\n    var lineBuffer = \"\";\n    command.stdout.pipe(process.stdout);\n    command.stdout.on('data', function (data) {\n        lineBuffer += data.toString();\n        var lines = lineBuffer.split(\"\\n\");\n        for (var i = 0; i &lt; lines.length - 1; i++) {\n            var line = lines[i];\n            console.log(line);\n        }\n    });\n}\n</code></pre>\n"}, {"tags": ["perl", "loops"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1486917131, "post_id": 42183334, "comment_id": 71542091, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/13001954/why-is-this-scalar-value-returning-an-int-of-1-chomp\">Why is this scalar value returning an int of 1? (Chomp)</a>"}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1486868788, "post_id": 42183410, "comment_id": 71530119, "body": "Or <code>until ( chomp( my $guess = &lt;\u2265 ), $guess == $num ) { ... }</code>"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486869777, "post_id": 42183410, "comment_id": 71530287, "body": "@Borodin Sure, TMTOWTDI"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486897786, "post_id": 42183410, "comment_id": 71535785, "body": "My way has the advantage of conforming to <i>Don&#39;t Repeat Yourself</i>"}, {"owner": {"reputation": 33, "user_id": 3741706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a48cc868e84c856ce8732c8f0dd20088?s=128&d=identicon&r=PG&f=1", "display_name": "lahfordie", "link": "https://stackoverflow.com/users/3741706/lahfordie"}, "edited": false, "score": 0, "creation_date": 1487056896, "post_id": 42183410, "comment_id": 71600509, "body": "Big thanks to both of you. Matt&#39;s explanation reminded me exactly how I was being dumb (which is what I asked for lol), and Borodin&#39;s way is how I was trying to go about this. I will say though, when I use &#39;my&#39; as in Borodin&#39;s example, it fails the same way as in the OP, but with new warnings. When I leave out &#39;my&#39;, it works flawlessly. Warnings when I use &#39;my&#39;: Name &quot;main::guess&quot; used only once: possible typo at ./ex1 line 9. Use of uninitialized value $guess in numeric eq (==) at ./ex1 line 9, &lt;&gt; line 1."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": true, "score": 6, "last_activity_date": 1486864757, "last_edit_date": 1486864757, "creation_date": 1486864431, "answer_id": 42183410, "question_id": 42183334, "link": "https://stackoverflow.com/questions/42183334/perl-until-condition-never-evaluates-as-true/42183410#42183410", "title": "Perl: Until condition never evaluates as true", "body": "<p><a href=\"http://perldoc.perl.org/functions/chomp.html\"><code>chomp</code></a> returns the number of characters removed, not the modified argument after <code>chomp</code>-ing, so you shouldn't be using the return value in your loop condition. </p>\n\n<pre><code>chomp(my $guess = &lt;STDIN&gt;);\n\nuntil ($guess == $num) {\n    ...\n    chomp($guess = &lt;STDIN&gt;);\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 3741706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a48cc868e84c856ce8732c8f0dd20088?s=128&d=identicon&r=PG&f=1", "display_name": "lahfordie", "link": "https://stackoverflow.com/users/3741706/lahfordie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 42183410, "answer_count": 1, "score": 2, "last_activity_date": 1486867330, "creation_date": 1486863606, "question_id": 42183334, "link": "https://stackoverflow.com/questions/42183334/perl-until-condition-never-evaluates-as-true", "title": "Perl: Until condition never evaluates as true", "body": "<p>I'm a Perl newbie, trying to figure out why my Until condition never evaluates as true in a basic number-guessing game.</p>\n\n<pre><code>#!/usr/bin/perl\n# Ex 10-1\n\nuse warnings;\n\n$num = int(1 + rand 100);\nprint \"\\$num is $num\\n\";                # Debug\n\nprint \"I'm thinking of a number between 1 and 100. What number is it?\\n\";\nuntil (chomp($guess = &lt;STDIN&gt;) == $num) {\n    print \"\\$guess is $guess\\n\";        # Debug\n    if ($guess =~ /\\A\\s*(quit|exit)?\\s*\\z/) {\n        print \"Exiting.\\n\";\n        exit 0;\n    } elsif ($guess =~ /\\D/) {\n        print \"Invalid input. \";\n    } else {\n        ($guess &lt; $num) ? (print (\"Too low. \")) : (print (\"Too high. \"));\n    }\n    print (\"Guess again.\\n\");\n}\nprint (\"Congrats! You guessed the number.\\n\");\nexit 0;\n</code></pre>\n\n<p>Here's an example of execution:</p>\n\n<pre><code>$ ./ex1\n$num is 4\nI'm thinking of a number between 1 and 100. What number is it?\n5\n$guess is 5\nToo high. Guess again.\n3\n$guess is 3\nToo low. Guess again.\n4\n$guess is 4\nToo high. Guess again.\n</code></pre>\n\n<p>Comparing $guess to $num, $guess equals $num when 4 is entered, satisfying the test condition. Yet it enters the loop anyway and makes it to the final (default) result of printing \"Too high.\"</p>\n\n<p>I've also tried adding another set of parentheses around chomp($guess = ), which didn't help.</p>\n\n<p>Why is this happening?</p>\n"}, {"tags": ["perl", "debugging"], "answers": [{"comments": [{"owner": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "edited": false, "score": 0, "creation_date": 1486865640, "post_id": 42183322, "comment_id": 71529587, "body": "I see.  I thought that with the perl debugger one could go up/down the call stack, like one can with the python debugger (with the <code>up</code>/<code>down</code> directives), and so be able to inspect lexical variables at each level.  If you understand you correctly, all one can do is view the backtrace.  Please correct me if I&#39;m wrong."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "edited": false, "score": 0, "creation_date": 1486866036, "post_id": 42183322, "comment_id": 71529638, "body": "@kjo: I&#39;m afraid that&#39;s correct. If you looks at the BUGS section of <a href=\"http://perldoc.perl.org/perldebug.html#BUGS\" rel=\"nofollow noreferrer\"><code>perldoc perldebug</code></a> it says <b><i>You cannot get stack frame information or in any fashion debug functions that were not compiled by Perl, such as those from C or C++ extensions.</i></b> I wouldn&#39;t call that a bug, but it&#39;s pretty clear that what you want is unavailable at present."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "edited": false, "score": 0, "creation_date": 1486868678, "post_id": 42183322, "comment_id": 71530102, "body": "@kjo: That&#39;s why I described how to generate an automatic backtrace in the case of an exception."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "edited": false, "score": 0, "creation_date": 1486869565, "post_id": 42183322, "comment_id": 71530254, "body": "@kjo: Why don&#39;t you try it to see what I&#39;m talking about? You get a list of the files and line numbers at each point in the call stack."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "edited": false, "score": 2, "creation_date": 1486905468, "post_id": 42183322, "comment_id": 71537980, "body": "@kjo: That&#39;s very ungracious and entitled of you. You said you wanted to <i>&quot;go up the call stack and examine where the error occurred&quot;</i> which my answer and <b>zdim</b>&#39;s satisfied. You managed to convince two of us that is was exactly what you were asking for."}, {"owner": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "edited": false, "score": 0, "creation_date": 1486925132, "post_id": 42183322, "comment_id": 71545216, "body": "My sincere apologies.  I do feel terrible for having come across the way I did.  I will be more careful."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "edited": false, "score": 0, "creation_date": 1487066191, "post_id": 42183322, "comment_id": 71605808, "body": "@kjo Yes, please do be more careful.  I wrote a little debugger in order to answer your question. It is now sticking out like a sore thumb. (When I added the code I didn&#39;t check the question, not expecting that it would change so much. In the end, I find all answers here to be good and useful so I don&#39;t feel too bad about it.)  Your edit could&#39;ve been an <i>addition</i>, leaving the original question in place, not a rewrite."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1486863421, "creation_date": 1486863421, "answer_id": 42183322, "question_id": 42183208, "link": "https://stackoverflow.com/questions/42183208/how-to-move-up-call-stack-exactly-at-point-of-error/42183322#42183322", "title": "How to move up call stack exactly at point of error?", "body": "<p>You can view a stack backtrace when the program is paused at any breakpoint using the <code>T</code> command</p>\n\n<p>Alternatively, you may set the <code>dieLevel</code> option with <code>o dieLevel=1</code> to cause an automatic backtrace on any exception</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 6, "last_activity_date": 1573877476, "last_edit_date": 1573877476, "creation_date": 1486867510, "answer_id": 42183690, "question_id": 42183208, "link": "https://stackoverflow.com/questions/42183208/how-to-move-up-call-stack-exactly-at-point-of-error/42183690#42183690", "title": "How to move up call stack exactly at point of error?", "body": "<p><strong>Note</strong> &nbsp; This was written for the original question, before it was changed.  It retrieves all lexical variables for each frame in the call stack at the point where <code>die</code> is thrown, without the debugger.</p>\n\n<hr>\n\n<p>For debugging, <a href=\"http://search.cpan.org/~ferreira/Carp-Always-0.13/lib/Carp/Always.pm\" rel=\"nofollow noreferrer\">Carp::Always</a> is helpful.</p>\n\n<p>Also, for errors you seem to be after, you can override <code>die</code> to get <code>Carp</code>'s backtrace</p>\n\n<pre><code>eval { \n    local $SIG{__DIE__} = \\&amp;Carp::confess;\n    # ... code ...\n};\nif ($@) { print $@ }\n</code></pre>\n\n<p>This has limitations and complexities to be aware of, see <a href=\"http://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\">eval</a> and <a href=\"http://perldoc.perl.org/perlvar.html#%25SIG\" rel=\"nofollow noreferrer\">%SIG in perlvar</a>, and <a href=\"http://perldoc.perl.org/functions/die.html\" rel=\"nofollow noreferrer\">die</a>, but given the lack of detail on what triggers the error it should be worth trying.</p>\n\n<hr>\n\n<p>Since <code>__DIE__</code> hook runs when <code>die</code> is triggered, in it we can examine the call stack 'live'.</p>\n\n<p>The code below uses <a href=\"https://www.google.com/#q=perldoc+caller\" rel=\"nofollow noreferrer\">caller</a> to walk the stack and for basic info, and <a href=\"http://search.cpan.org/~robin/PadWalker-2.2/PadWalker.pm\" rel=\"nofollow noreferrer\">PadWalker</a> to get lexical variables for each frame. I put some variables in subs so to more easily follow the output.  </p>\n\n<pre><code>use warnings;\nuse strict;\nuse PadWalker qw(peek_my);\n\nmy $ondie = sub {\n    my $sf = 0;\n    while ( my @call = caller($sf) ) {        # go through stack frames\n        say \"At $sf frame, |@call[0..3]|\";\n        my $vars = peek_my($sf);              # lexicals for this frame\n        for (keys %$vars) {\n            if (ref($vars-&gt;{$_}) eq 'SCALAR') {\n                print \"\\t$_ =&gt; ${$vars-&gt;{$_}}\\n\";\n            } elsif (not /^\\$vars$/) {\n                print \"\\t$_ =&gt; $vars-&gt;{$_}\\n\";\n            }\n        }\n        ++$sf;\n    }\n};\n\neval { \n    local $SIG{__DIE__} = $ondie;\n    top_level(25); \n}; \nif ($@) { print \"eval: $@\" }\n\nsub top_level {\n    my ($top_x,  $sub_name) = (12.1, (caller(0))[3]);\n    next_level($_[0]);\n};    \nsub next_level { \n    my ($next_x, $sub_name) = (7, (caller(0))[3]);\n    $_[0] / 0;\n};\n</code></pre>\n\n<p>The output</p>\n\n<pre>\nAt 0 frame, |main debug_stack.pl 51 main::__ANON__|\n        $sf => 0\n        @call => ARRAY(0x15464c8)\nAt 1 frame, |main debug_stack.pl 59 main::next_level|\n        $next_x => 7\n        $ondie => REF(0x1587938)\n        $sub_name => main::next_level\nAt 2 frame, |main debug_stack.pl 38 main::top_level|\n        $top_x => 12.1\n        $ondie => REF(0x1587938)\n        $sub_name => main::top_level\nAt 3 frame, |main debug_stack.pl 36 (eval)|\n        $ondie => REF(0x1587938)\neval: Illegal division by zero at debug_stack.pl line 51.\n</pre>\n\n<p>The PadWalker's <code>peek_my</code> returns a hashref, where each value is a reference. I dereference only scalars, for demonstration, and also exclude <code>$vars</code>, where <code>PadWalker</code>'s findings are stored, from prints. To leave out the handler itself start with <code>my $sf = 1</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 5, "last_activity_date": 1486869720, "creation_date": 1486869720, "answer_id": 42183882, "question_id": 42183208, "link": "https://stackoverflow.com/questions/42183208/how-to-move-up-call-stack-exactly-at-point-of-error/42183882#42183882", "title": "How to move up call stack exactly at point of error?", "body": "<blockquote>\n  <p><em>if there was a way to stop exactly at the point of failure</em></p>\n</blockquote>\n\n<p><code>$SIG{__DIE__}</code> is called where the exception is thrown, so you could add</p>\n\n<pre><code>local $SIG{__DIE__} = sub { $DB::single = 1; die(@_); };\n</code></pre>\n\n<hr>\n\n<pre><code>$ cat a.pl\nsub g {\n   die \"!\";\n}\n\nsub f {\n   g();\n}\n\nlocal $SIG{__DIE__} = sub { $DB::single = 1; die(@_); };\nf();\n</code></pre>\n\n<p>&#x20;</p>\n\n<pre><code>$ perl -d a.pl\n\nLoading DB routines from perl5db.pl version 1.49_04\nEditor support available.\n\nEnter h or 'h h' for help, or 'man perldebug' for more help.\n\nmain::(a.pl:9): local $SIG{__DIE__} = sub { $DB::single = 1; die(@_); };\n  DB&lt;1&gt; r\nmain::CODE(0x1067280)(a.pl:9):  local $SIG{__DIE__} = sub { $DB::single = 1; die(@_); };\n  DB&lt;1&gt; T\n@ = DB::DB called from file 'a.pl' line 9\n$ = main::__ANON__[a.pl:9]('! at a.pl line 2.^J') called from file 'a.pl' line 2\n. = main::g() called from file 'a.pl' line 6\n. = main::f() called from file 'a.pl' line 10\n</code></pre>\n"}], "owner": {"reputation": 27351, "user_id": 559827, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4aa6db921795b84b986eb4aac8ffd569?s=128&d=identicon&r=PG", "display_name": "kjo", "link": "https://stackoverflow.com/users/559827/kjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 42183882, "answer_count": 3, "score": 2, "last_activity_date": 1573877476, "creation_date": 1486862287, "last_edit_date": 1487088378, "question_id": 42183208, "link": "https://stackoverflow.com/questions/42183208/how-to-move-up-call-stack-exactly-at-point-of-error", "title": "How to move up call stack exactly at point of error?", "body": "<p>I'm aware of this idiom:</p>\n\n<pre><code>eval {\n    ...\n};\n\n$DB::single = 1 if $@;\n</code></pre>\n\n<p>...but, as far as I can tell, if the debugger stops after the <code>eval</code> it's already too late to examine the frames in the stack as they were exactly at the instant the error occurred.</p>\n\n<p>Is there a way to stop the debugger exactly at the moment the error ocurred, and examine the frames in the call stack?</p>\n"}, {"tags": ["perl", "comparison", "operators"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486840460, "post_id": 42179827, "comment_id": 71523198, "body": "Do you need <code>345</code> to match <code>345.0</code> and <code>3.45e2</code>? If not then you should just use <code>eq</code> all the time."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1486845075, "last_edit_date": 1486845075, "creation_date": 1486839579, "answer_id": 42179981, "question_id": 42179827, "link": "https://stackoverflow.com/questions/42179827/dynamically-choose-equality-operator-in-perl/42179981#42179981", "title": "Dynamically choose equality operator in Perl", "body": "<p>In many languages, the type of the operands determine the operation. In Perl, the operator determines the operation and the operands will be coerced into the proper type. As such, Perl doesn't consider four stored as a string different than four stored as a integer; they're both four. And if you have code that tries to figure out if a scalar is a number or a string, you have buggy code<sup>[1]</sup>.</p>\n\n<p>If you insist, then you'll need to come up with a definition of what <em>you</em> consider to be a number as opposed to a string. If you choose \"it's a number if Perl can use it as a number, and string otherwise\", then <code>looks_like_number</code> will indeed to the trick. You could also choose to decide based on how the value is stored in the scalar, but then you have to decide what to do when a scalar has both a integer and a string within<sup>[2]</sup>.</p>\n\n<p>On the other hand, if you are trying to write generic code, then you could have your function accept a compare function (like <code>sort</code> does).</p>\n\n<pre><code>sub find(&amp;@) {\n   my $cb = shift;\n   for (@_) {\n      return 1 if $cb-&gt;();\n   }\n\n   return 0;\n}\n\n\nif (find { $_ == $num_to_find } @nums) {\n   print(\"Found $num_to_find\\n\");\n} else {\n   print(\"Didn't find $num_to_find\\n\");\n}\n\nfind { $_ eq $string_to_find } @strings\n\nfind { $_-&gt;year == $year_to_find } @date_time_objects;\n</code></pre>\n\n<hr>\n\n<ol>\n<li><p>That's why the smartmatch operator is considered buggy and needs to be changed before it stops being experimental.</p></li>\n<li><p><code>perl -le'open(my $fh, \"&lt;\", \"non-existent\"); print 0+$!; print \"\".$!;'</code></p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1486840315, "post_id": 42179996, "comment_id": 71523155, "body": "That&#39;s rather misleading. They&#39;re not trying to evolve it into something better; it&#39;s buggy and they&#39;re trying to fix it. Worse, you are specifically using it for the behaviour that needs to be fixed. It will NOT leave experimental status without first breaking your code."}], "tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": false, "score": -4, "last_activity_date": 1486840154, "last_edit_date": 1486840154, "creation_date": 1486839679, "answer_id": 42179996, "question_id": 42179827, "link": "https://stackoverflow.com/questions/42179827/dynamically-choose-equality-operator-in-perl/42179996#42179996", "title": "Dynamically choose equality operator in Perl", "body": "<p>The <a href=\"http://perldoc.perl.org/perlop.html#Smartmatch-Operator\" rel=\"nofollow noreferrer\">smartmatch operator</a> would let you write</p>\n\n<pre><code>no if $] &gt;= 5.018, warnings =&gt; qw( experimental::smartmatch );\n\nmy $input = 123;  # also works with 34.5, 'foo', etc.\nforeach my $elem (@list) {\n    if ($elem ~~ $input) {\n        # do something\n    } else {\n        # do something else\n    }\n}\n</code></pre>\n\n<p>The idea was taken from Perl 6, and was implemented in 5.10. Since Perl 5.18, there have been discussions about how to evolve the feature to better fit Perl 5, so the interface has been downgraded to \"experimental\" status pending changes.</p>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 3124587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc0af022f8a3b35bcde0a4405e4c673?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3124587/joshua"}, "is_accepted": false, "score": 3, "last_activity_date": 1486867973, "last_edit_date": 1486867973, "creation_date": 1486848771, "answer_id": 42181482, "question_id": 42179827, "link": "https://stackoverflow.com/questions/42179827/dynamically-choose-equality-operator-in-perl/42181482#42181482", "title": "Dynamically choose equality operator in Perl", "body": "<p>You could use <a href=\"https://metacpan.org/pod/Sort::Naturally\" rel=\"nofollow noreferrer\"><code>Sort::Naturally</code></a>, which imports an <code>ncmp</code> operator that does a 'Natural' comparison.</p>\n\n<p>To check for equality you could do this</p>\n\n<pre><code>use Sort::Naturally;\nif ( ncmp( $lval, $rval ) == 0 ) { ... }\n</code></pre>\n\n<p>Here's some examples of how <code>ncmp</code> treats some pairs.</p>\n\n<pre><code>ncmp(1, '1')   ==  0\nncmp('a', 'a') ==  0\nncmp('a', 'b') == -1\nncmp('a', 'A') == -1\nncmp(2, 1)     ==  1\nncmp(1, 'a')   == -1\nncmp('a', 1)   ==  1\n</code></pre>\n\n<p>Basically...</p>\n\n<p><code>0</code> is equality<br>\n<code>1</code> means <code>lval</code> is less-that <code>rval</code><br>\n<code>-1</code> means <code>lval</code> is greater-than <code>rval</code></p>\n"}, {"tags": [], "owner": {"reputation": 3946, "user_id": 65706, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6e0652a12b8a5b2577f91f0e192ea3f9?s=128&d=identicon&r=PG", "display_name": "Yordan Georgiev", "link": "https://stackoverflow.com/users/65706/yordan-georgiev"}, "is_accepted": false, "score": 0, "last_activity_date": 1495700695, "creation_date": 1495700695, "answer_id": 44175776, "question_id": 42179827, "link": "https://stackoverflow.com/questions/42179827/dynamically-choose-equality-operator-in-perl/44175776#44175776", "title": "Dynamically choose equality operator in Perl", "body": "<p>use perl <a href=\"https://perldoc.perl.org/functions/eval.html\" rel=\"nofollow noreferrer\">eval</a> string , which is kind of a mini-perl program within your program ( you can do this easily in scripting languages , Perl eval is besides much more powerful than everything else around , yet with great power comes great responsibility ... ) :</p>\n\n<pre><code>    # get the var guiding the dynamic operator\n    my $issues_order_by_attribute= $ENV{ 'issues_order_by_attribute' } || 'prio' ;\n    my $operator = '&lt;=&gt;' ;   # initialize a default operator\n    # use Scalar::Util looks_like_number method to decide for operator \n    $operator = 'cmp'  unless ( looks_like_number( $issues_order_by_attribute ) ) ;\n    # use eval string within the code to interpolate the operator\n    # to sort the hash ref of hash refs by the set attribute to order by\n    foreach my $issue_id (\n        eval 'sort {      ' .\n            '$hsr2-&gt;{$a}-&gt;{ $issues_order_by_attribute }' . $operator . '$hsr2-&gt;{$b}-&gt;{ $issues_order_by_attribute }' .\n            '} keys (%$hsr2)' )  {\n        # Action !!! \n        my $row = $hsr2-&gt;{ $issue_id } ;\n    }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 365050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f40dcc35102ae938c3b2c67313a04385?s=128&d=identicon&r=PG", "display_name": "arareko", "link": "https://stackoverflow.com/users/365050/arareko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1495700695, "creation_date": 1486838839, "question_id": 42179827, "link": "https://stackoverflow.com/questions/42179827/dynamically-choose-equality-operator-in-perl", "title": "Dynamically choose equality operator in Perl", "body": "<p>I have a list of values of mixed types (strings and numbers):</p>\n\n<pre><code>my @list = (123, 'foo', 34.5, 'bar', '67baz');\n</code></pre>\n\n<p>For each item on that list, I need to compare against an input of equally random type (string or number) in order to do something:</p>\n\n<pre><code>my $input = 345;\nforeach my $elem (@list) {\n    if ($input == $elem) {\n        # do something\n    } else {\n        # do something else\n    }\n}\n</code></pre>\n\n<p>The comparison (<code>==</code>) will work fine when both operands are of the same type (numbers in this case), but will raise a warning and/or produce a wrong result when the types are a mismatch (for this code snippet, it could be string vs. number, or both could be strings, thus requiring the use of <code>eq</code> instead).</p>\n\n<p>I would like to get some input on your preferred ways of solving this comparison problem. Or if maybe there is a module that dynamically chooses (and performs) the right type of comparison given the type of operands.</p>\n\n<p>I'm aware of methods such as using <code>looks_like_number()</code> from <code>Scalar::Util</code> to check what type of value you're working with, but thought maybe there's a better approach to figure out how to do comparisons. Thanks in advance.</p>\n"}, {"tags": ["perl", "vim"], "comments": [{"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1486828391, "post_id": 42177697, "comment_id": 71518992, "body": "There is a new vi/vim stack exchange. I&#39;ve asked the question there instead."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486833700, "post_id": 42177697, "comment_id": 71520830, "body": "Please add a link to your new question"}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486834467, "post_id": 42177697, "comment_id": 71521117, "body": "@Borodin here is the link <a href=\"http://vi.stackexchange.com/questions/11349/ctrl-n-completion-takes-a-long-time-for-scanning-included-file\" title=\"ctrl n completion takes a long time for scanning included file\">vi.stackexchange.com/questions/11349/&hellip;</a>"}, {"owner": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "edited": false, "score": 0, "creation_date": 1486835870, "post_id": 42177697, "comment_id": 71521580, "body": "When editing a perl file, what is the exact output of these commands? <code>:verbose set include?</code> and <code>:verbose set define?</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1487088559, "post_id": 42177697, "comment_id": 71621329, "body": "<a href=\"http://meta.stackexchange.com/q/64068\">Don&#39;t cross-post on multiple Stack Exchange sites.</a>"}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1487567293, "post_id": 42177697, "comment_id": 71826083, "body": "I still have the problem. <code>include?</code> yields <code>include=\\&lt;\\(use\\|require\\)\\&gt; Last set from &#47;usr&#47;share&#47;vim&#47;vim74&#47;ftplugin&#47;perl.vim</code> and <code>define?</code> yields <code>define=[^A-Za-z_] Last set from &#47;usr&#47;share&#47;vim&#47;vim74&#47;ftplugin&#47;perl.vim</code>"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1486827927, "creation_date": 1486827360, "last_edit_date": 1486827927, "question_id": 42177697, "link": "https://stackoverflow.com/questions/42177697/ctrl-n-completion-takes-a-long-time-for-scanning-included-file", "title": "Ctrl-n completion takes a long time for &quot;scanning included file&quot;", "body": "<p>I'm brushing up on my vim skills and fiddling with completion using the Ctrl-n command. I'm programming in Perl. When I am in insert mode and hit Ctrl-n, I get a message that it is \"Scanning included file\" down at the bottom of the terminal and it looks like it's scanning files in the perl directory. This can take several seconds before it finishes. It looks like it does this with packages I include that are commented out:</p>\n\n<p><code>#use Moose;</code></p>\n\n<p>So I have to delete these lines for this feature to be of any value. Am I missing something?</p>\n\n<p>BTW, I am using the <a href=\"http://www.vim.org/scripts/script.php?script_id=556\" rel=\"nofollow noreferrer\"><code>perl-support</code></a> plugin</p>\n"}, {"tags": ["perl", "utf-8", "character-encoding"], "answers": [{"comments": [{"owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "edited": false, "score": 1, "creation_date": 1486979587, "post_id": 42175228, "comment_id": 71563659, "body": "Thanks for the answer - This is the first time, I believe (hope...), that I understand the <code>use utf8</code> thing. Also, I was not aware that Perl has a concept of character boundaries. I always thought a string is just (and only) an array of bytes. Hence my confusion."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 9, "last_activity_date": 1486833581, "last_edit_date": 1486833581, "creation_date": 1486811889, "answer_id": 42175228, "question_id": 42175083, "link": "https://stackoverflow.com/questions/42175083/why-is-umlaut-not-recognized-in-a-utf-8-encoded-perl-script-with-use-utf8/42175228#42175228", "title": "Why is umlaut not recognized in a UTF-8-encoded Perl script with &quot;use utf8&quot;?", "body": "<p>The problem is with character boundaries. You are comparing an encoded string of bytes with a decoded character string</p>\n\n<p><code>$fuer = pack('H*', '66c3bc72')</code> creates the four-byte string <code>\"\\x66\\xc3\\xbc\\x72\"</code>, whereas a small u with diaeresis <code>\u00fc</code> is <code>\"\\xfc\"</code> so the two don't match</p>\n\n<p>If you used <code>decode_utf8</code> from the <code>Encode</code> module to further process your variable <code>$fuer</code> then it would decode the UTF-8 to form the three-character string <code>\"\\x66\\xfc\\x72\"</code>, and the substitute would then work</p>\n\n<p><code>use utf8</code> applies the equivalent to <code>decode_utf8</code> to the whole source file, so without it your <code>\u00fc</code> appears <em>encoded</em> as <code>\"\\xc3\\xbc\"</code>, which matches the packed variable</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1486929844, "last_edit_date": 1486929844, "creation_date": 1486842079, "answer_id": 42180393, "question_id": 42175083, "link": "https://stackoverflow.com/questions/42175083/why-is-umlaut-not-recognized-in-a-utf-8-encoded-perl-script-with-use-utf8/42180393#42180393", "title": "Why is umlaut not recognized in a UTF-8-encoded Perl script with &quot;use utf8&quot;?", "body": "<p>Let's move out the <code>\u00fc</code> out of the <code>s///</code> and into its own variable so we can inspect it.</p>\n\n<pre><code>use utf8;                             # Script is encoded using UTF-8\nuse open ':std', ':encoding(UTF-8)';  # Terminal expects UTF-8.\n\nuse strict;\nuse warnings;\n\nmy $uuml = \"\u00fc\";\nprintf(\"%d %vX %s\", length($uuml), $uuml, $uuml);   # 1 FC \u00fc\n\nmy $fuer = pack('H*', '66c3bc72');\nprintf(\"%d %vX %s\", length($fuer), $fuer, $fuer);   # 4 66.C3.BC.72 f\u00c3\u00bcr\n\n$fuer =~ s/\\Q$uuml/!!!/;\nprintf(\"%d %vX %s\", length($fuer), $fuer, $fuer);   # 4 66.C3.BC.72 f\u00c3\u00bcr\n</code></pre>\n\n<p>As this makes obvious, you are comparing the Unicode Code Point of <code>\u00fc</code> (<code>FC</code>) against the UTF-8 encoding of <code>\u00fc</code> (<code>C3 BC</code>).</p>\n\n<p>So yes, <code>use utf8;</code> indicates that script is encoded using UTF-8 ...but it does it so that Perl can correctly decode the script.</p>\n\n<p>Decode all inputs and encode all outputs! The solution is to replace</p>\n\n<pre><code>my $fuer = pack('H*', '66c3bc72');\n</code></pre>\n\n<p>with</p>\n\n<pre><code>use Encode qw( decode_utf8 );\n\nmy $fuer = decode_utf8(pack('H*', '66c3bc72'));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my $fuer = pack('H*', '66c3bc72');\nutf8::decode($fuer);\n</code></pre>\n"}], "owner": {"reputation": 35370, "user_id": 180275, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/4GALY.jpg?s=128&g=1", "display_name": "Ren&#233; Nyffenegger", "link": "https://stackoverflow.com/users/180275/ren%c3%a9-nyffenegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 848, "favorite_count": 1, "accepted_answer_id": 42175228, "answer_count": 2, "score": 6, "last_activity_date": 1486929844, "creation_date": 1486810933, "last_edit_date": 1486841003, "question_id": 42175083, "link": "https://stackoverflow.com/questions/42175083/why-is-umlaut-not-recognized-in-a-utf-8-encoded-perl-script-with-use-utf8", "title": "Why is umlaut not recognized in a UTF-8-encoded Perl script with &quot;use utf8&quot;?", "body": "\n\n<p>The following script is encoded in UTF-8:    </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use utf8;\n\n$fuer = pack('H*', '66c3bc72');\n\n$fuer =~ s/\u00fc/!!!/;\n\nprint $fuer;\n</code></pre>\n\n<p>The <code>\u00fc</code> in the <code>s///</code> is stored in the script as <code>c3 bc</code>, as the following <code>xxd</code> hex dump shows.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0000000: 75 73 65 20 75 74 66 38 3b 0a 0a 24 66 75 65 72  use utf8;..$fuer\n0000010: 20 3d 20 70 61 63 6b 28 27 48 2a 27 2c 20 27 36   = pack('H*', '6\n0000020: 36 63 33 62 63 37 32 27 29 3b 0a 0a 24 66 75 65  6c3bc72');..$fue\n0000030: 72 20 3d 7e 20 73 2f c3 bc 2f 21 21 21 2f 3b 0a  r =~ s/../!!!/;.\n0000040: 0a 70 72 69 6e 74 20 24 66 75 65 72 3b 0a        .print $fuer;.\n</code></pre>\n\n<p><code>c3 bc</code> is the UTF-8 representation for <code>\u00fc</code>.</p>\n\n<p>Since the script is encoded in UTF-8 and I am <code>use</code>ing <code>utf8</code>, I expected the script to replace the <code>f\u00fcr</code> in the variable <code>$fuer</code> - yet it doesn't.</p>\n\n<p>It does, however, if I remove the <code>use utf8</code>. This runs against what I thought <code>use utf8</code> was for: to indicate that the script is encoded in UTF-8.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486799267, "post_id": 42171774, "comment_id": 71511202, "body": "Re &quot;<i>I think that&#39;s because...</i>&quot;, The only thing that can be passed to subs (and returned from subs) are a number of scalars. The scalars you are passing when you do <code>my_subroutine(%my_hash)</code> consist of copies of the keys and the (actual non-copy) values of the hash. (Prototypes can affect which scalars are passed.)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486799366, "post_id": 42171774, "comment_id": 71511221, "body": "Re &quot;<i>Passing a variable by reference to a subroutine without using the <code>\\ </code> character...</i>&quot;, Variables are always <a href=\"http://stackoverflow.com/questions/373419/whats-the-difference-between-passing-by-reference-vs-passing-by-value\">passed <i>by</i> reference</a> in Perl (which is why <code>my $var_ref = \\shift;</code> can get you a reference to it). Using <code>\\ </code> on the caller side passes <i>a</i> reference (which is, of course, passed by reference)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1486812202, "post_id": 42171774, "comment_id": 71514076, "body": "<i>&quot;This will be helpful to make my main code look neater&quot;</i> It will also be misleading about what is actually happening. If that is your only goal then forget it."}], "answers": [{"comments": [{"owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 0, "creation_date": 1486786270, "post_id": 42171845, "comment_id": 71508788, "body": "There&#39;s something wrong. It doesn&#39;t support editing the passed-in hash. Kindly check my test code <a href=\"https://gist.github.com/omarabdelsalam/2e238f24ae9961a984a9a40e97fe7439\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "edited": false, "score": 1, "creation_date": 1486787147, "post_id": 42171845, "comment_id": 71508961, "body": "@Omar That&#39;s because <code>{@_}</code> copies the contents of <code>@_</code> into a new anonymous hash. You won&#39;t be able to modify the original hash with this approach."}, {"owner": {"reputation": 604, "user_id": 2014868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/POucT.jpg?s=128&g=1", "display_name": "Aranya Sen", "link": "https://stackoverflow.com/users/2014868/aranya-sen"}, "edited": false, "score": 0, "creation_date": 1486787185, "post_id": 42171845, "comment_id": 71508971, "body": "In that case you have to use prototype (and ensure the sub is defined <i>before</i> it is used). Please check the reply to your gist"}, {"owner": {"reputation": 604, "user_id": 2014868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/POucT.jpg?s=128&g=1", "display_name": "Aranya Sen", "link": "https://stackoverflow.com/users/2014868/aranya-sen"}, "edited": false, "score": 0, "creation_date": 1486787767, "post_id": 42171845, "comment_id": 71509074, "body": "Gist was showing sub mySub(\\%) as sub mySub(%). Please check now."}], "tags": [], "owner": {"reputation": 604, "user_id": 2014868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/POucT.jpg?s=128&g=1", "display_name": "Aranya Sen", "link": "https://stackoverflow.com/users/2014868/aranya-sen"}, "is_accepted": false, "score": 0, "last_activity_date": 1486783618, "creation_date": 1486783618, "answer_id": 42171845, "question_id": 42171774, "link": "https://stackoverflow.com/questions/42171774/pass-hash-by-reference-to-subroutine-w-o-using-my-subroutinemy-hash/42171845#42171845", "title": "Pass hash by reference to subroutine w/o using &quot;\\&quot;: my_subroutine(%my_hash)", "body": "<p>How about something like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Data::Printer;\n\nmy %h1 = ( a =&gt; 10, b =&gt; 20);\nmySub(%h1);\n\nsub mySub {\n    my ($h1) = {@_};\n    p $h1;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1486824959, "post_id": 42171894, "comment_id": 71517894, "body": "Take a look at <a href=\"http://www.perlmonks.org/?node_id=861966\" rel=\"nofollow noreferrer\"><i>Prototypes Considered Harmful</i></a> by the excellent Tom Christiansen. I think it&#39;s counter-productive to imply to the OP, who is presumably a beginner, that it&#39;s okay to use prototyped subroutines so that they don&#39;t have to put backslashes in their call parameters."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 5, "last_activity_date": 1486787472, "last_edit_date": 1495542843, "creation_date": 1486784061, "answer_id": 42171894, "question_id": 42171774, "link": "https://stackoverflow.com/questions/42171774/pass-hash-by-reference-to-subroutine-w-o-using-my-subroutinemy-hash/42171894#42171894", "title": "Pass hash by reference to subroutine w/o using &quot;\\&quot;: my_subroutine(%my_hash)", "body": "<p><a href=\"https://stackoverflow.com/questions/297034/why-are-perl-5s-function-prototypes-bad/297265#297265\">Prototypes may still considered bad</a>, but you can use them here to achieve your goal.</p>\n\n<pre><code>sub my_subroutine (\\%) {\n    my $hashref = shift;\n    ...\n}\n\nmy_subroutine(%hash);\n</code></pre>\n\n<p>With the prototype, the first argument to the subroutine is coerced to a hash reference.</p>\n\n<p>Note that inside the subroutine, the hash is received as a hash reference. You will also need to call the subroutine with a named hash.</p>\n\n<pre><code>my_subroutine( { \"anonymous\" =&gt; \"hash\", \"not\" =&gt; \"OK\" } );  # not OK with proto\n</code></pre>\n"}], "owner": {"reputation": 3599, "user_id": 3503851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f4e91b450a25ee2170025f0b56332fa?s=128&d=identicon&r=PG&f=1", "display_name": "Omar", "link": "https://stackoverflow.com/users/3503851/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 42171894, "answer_count": 2, "score": 0, "last_activity_date": 1486787472, "creation_date": 1486782866, "last_edit_date": 1486783379, "question_id": 42171774, "link": "https://stackoverflow.com/questions/42171774/pass-hash-by-reference-to-subroutine-w-o-using-my-subroutinemy-hash", "title": "Pass hash by reference to subroutine w/o using &quot;\\&quot;: my_subroutine(%my_hash)", "body": "<p>How could I pass a hash by reference to a subroutine without using the <code>\\</code> character in the subroutine calling expression like <code>my_subroutine(%my_hash)</code>?</p>\n\n<hr>\n\n<p><strong>More explanation</strong>: <em>(in case the previous single-line question wasn't descriptive enough)</em></p>\n\n<p>Passing a variable by reference to a subroutine without using the <code>\\</code> character in subroutine calling expression like <code>my_subroutine($my_var)</code> can be achieved by defining the subroutine as so:</p>\n\n<pre><code>sub my_subroutine {\n    my $var_ref = \\shift;\n    ...\n}\n</code></pre>\n\n<p>I have tried the same approach with hashes but it doesn't work properly:</p>\n\n<pre><code>sub my_subroutine {\n    my $hash_ref = \\shift;\n    ...\n}\n</code></pre>\n\n<p>I think that's because perl fragments any passed in hashes' keys-value pairs in a list (one-dimensional array) which is <code>@_</code>, also the same is done with passed-in arrays (but for values only not with keys).</p>\n\n<p>I'm looking for a workaround on this to make <code>my_subroutine(%my_hash)</code> pass hash by-reference without the need to precede my subroutine parameters (hashes) by backslash character <code>\\</code> every time I call the subroutine. This will be helpful to make my main code look neater and leave the untidy looking to the inside of subroutines. Also if I'm working with a large group of developers, someone may forget to add the referencing character. I need to set that (hashes are always passed by reference to my_subroutine) inside the subroutine not by the other developer who calls my_subroutine.</p>\n"}, {"tags": ["python", "regex", "bash", "perl", "shell"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1486767573, "post_id": 42169988, "comment_id": 71504891, "body": "What have you tried so far? Please <a href=\"https://stackoverflow.com/posts/42169988/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the issue you&#39;re having with the code you&#39;ve written."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1486819544, "post_id": 42169988, "comment_id": 71516195, "body": "In Perl you can try for example: <code>$str =~ s{(\\w\\(\\w\\.)(.*?)\\.(\\w\\))}{ my ( $first, $temp, $last) = ( $1, $2, $3); $temp =~ s&#47;\\.&#47;^&#47;g; $first . $temp . &#39;:&#39; . $last}ge</code>"}, {"owner": {"reputation": 21, "user_id": 7548270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35ec6cbee838d1c64e60f30f1ee02dd1?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah Mohamed", "link": "https://stackoverflow.com/users/7548270/sarah-mohamed"}, "edited": false, "score": 0, "creation_date": 1486821743, "post_id": 42169988, "comment_id": 71516897, "body": "I tried the following :    $ENV{&quot;str&quot;} = &quot;when v(a.b.c.d.e.f.g) = v(m.n.o.x.y.z)&quot;;  $str =~ s{(\\w&#40;\\w\\.)(.*?)\\.(\\w&#41;)}{ my ( $first, $temp, $last) = ( $1, $2, $3); $temp =~ s/\\./^/g; $first . $temp . &#39;:&#39; . $last}ge; system(&#39;echo $str&#39;);    but did not work =("}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1486826657, "post_id": 42169988, "comment_id": 71518398, "body": "@SarahMohamed You have to first declare and define the string, then you must print it. No need to use <code>echo</code> from within Perl. If the string should be in an environment variable, as you indicate, you will have to modify that variable and not <code>$str</code> or alternatively, copy the environment variable to <code>$str</code> first. You also forgot some of the backslashes in the regex"}, {"owner": {"reputation": 21, "user_id": 7548270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35ec6cbee838d1c64e60f30f1ee02dd1?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah Mohamed", "link": "https://stackoverflow.com/users/7548270/sarah-mohamed"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1486826967, "post_id": 42169988, "comment_id": 71518490, "body": "@H&#229;konH&#230;gland The string should not be in an environment variable, rather in a file. I am new with perl, can you help explain what i should do so that this works by providing the file including the string ?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7548270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35ec6cbee838d1c64e60f30f1ee02dd1?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah Mohamed", "link": "https://stackoverflow.com/users/7548270/sarah-mohamed"}, "edited": false, "score": 0, "creation_date": 1486828736, "post_id": 42177802, "comment_id": 71519112, "body": "Assume test.txt includes the following lines : \\n                  .meas tran trst_write_1a_0000 when v(xsram.xcore_0right_b0.xcore_d0_bl0_3_wl0_3.xcore_bl0_1_wl0&zwnj;&#8203;_1.mn11.g) =&#39;0.2*supply_mem&#39; td=&#39;4*tp&#39; rise=1  \\n                  .meas tran trst_write_1b_0000 when v(xsram.xgio0_right.xgio_bit2.xldp.xprech_wd.m0_1_1.d) =&#39;v(xsram.xgio0_right.xgio_bit2.xldp.xprech_wd.m1_1_1.d)-0.0&zwnj;&#8203;10&#39; td=&#39;trst_write_1a_0000&#39; rise=1   \\n                      When i use your suggested perl script, no replacements are made and the printed lines are exactly the same as the input file."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 21, "user_id": 7548270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35ec6cbee838d1c64e60f30f1ee02dd1?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah Mohamed", "link": "https://stackoverflow.com/users/7548270/sarah-mohamed"}, "edited": false, "score": 0, "creation_date": 1486828860, "post_id": 42177802, "comment_id": 71519148, "body": "Hi Sarah. Yes but now the parameters to <code>v</code> contains more than a single letter as it did in your original question. For example <code>v(xsram..</code> here <code>xsram</code> is five letters not a single letter as in your original example"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 21, "user_id": 7548270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35ec6cbee838d1c64e60f30f1ee02dd1?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah Mohamed", "link": "https://stackoverflow.com/users/7548270/sarah-mohamed"}, "edited": false, "score": 0, "creation_date": 1486828946, "post_id": 42177802, "comment_id": 71519181, "body": "I have updated my answer to handle your new specifications. We now use <code>\\w+</code> instead of just <code>\\w</code> in the regex"}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": false, "score": 0, "last_activity_date": 1486828927, "last_edit_date": 1486828927, "creation_date": 1486827936, "answer_id": 42177802, "question_id": 42169988, "link": "https://stackoverflow.com/questions/42169988/replace-string-in-between-round-brackets/42177802#42177802", "title": "Replace string in between round brackets", "body": "<p>In the comments, you said that the string should be in a file.\nHere is an example, illustrating that case:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $file_name = 'test.txt';\n\nopen ( my $fh, '&lt;', $file_name ) or die \"Could not open file '$file_name': $!\";\n\nmy $str = do { local $/; &lt;$fh&gt; };\nclose $fh;\n\n$str =~ s{(\\w\\(\\w+\\.)(.*?)\\.(\\w+\\))}{\n  my ( $first, $temp, $last) = ( $1, $2, $3);\n  $temp =~ s/\\./^/g;\n  $first . $temp . ':' . $last}ge;\n\nprint $str;\n</code></pre>\n\n<p>First we read the content of the file <code>test.txt</code> into the string <code>$str</code>. Then we do the replacements. And finally print the result.</p>\n"}], "owner": {"reputation": 21, "user_id": 7548270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35ec6cbee838d1c64e60f30f1ee02dd1?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah Mohamed", "link": "https://stackoverflow.com/users/7548270/sarah-mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1486828927, "creation_date": 1486767380, "last_edit_date": 1486825745, "question_id": 42169988, "link": "https://stackoverflow.com/questions/42169988/replace-string-in-between-round-brackets", "title": "Replace string in between round brackets", "body": "<p>I have an expression that looks like this:</p>\n\n<pre><code>when v(a.b.c.d.e.f.g) = v(m.n.o.x.y.z)\n</code></pre>\n\n<p>I need the final output to be:</p>\n\n<pre><code>when v(a.b^c^d^e^f:g) = v(m.n^o^x^y:z)\n</code></pre>\n\n<p>Simply put, how can i replace each \"<code>.</code>\" by \"<code>^</code>\" starting from the second occurrence of \"<code>.</code>\" in each expression between <code>v();</code> while replacing the last \"<code>.</code>\" with \"<code>:</code>\" in each expression between <code>v()</code> ? Both <code>v()</code> expressions appear on the same line.</p>\n\n<p>I tried the following :</p>\n\n<pre><code>setenv test \"when v(a.b.c.d.e.f.g) = v(m.n.o.x.y.z)\"\n\necho $test | awk -F\"(\" '{for(i=2;i&lt;=NF;i++){if($i~/\\)/){sub(\").*\",\"\",$i)};print $i}}' | \\\n    sed -E 's/\\./\\^/g2' | sed 's/\\(.*\\)\\^/\\1\\:/'\n</code></pre>\n\n<p>This gives the following:</p>\n\n<pre><code>a.b^c^d^e^f:g\nm.n^o^x^y:z\n</code></pre>\n\n<p>I need to know how after that I can replace the original statement with the modified text above so that if finally will look like this :</p>\n\n<pre><code>when v(a.b^c^d^e^f:g) = v(m.n^o^x^y:z)\n</code></pre>\n\n<p>I tried the following</p>\n\n<pre><code>$ENV{\"str\"} = \"when v(a.b.c.d.e.f.g) = v(m.n.o.x.y.z)\";\n\n$str =~ s{(\\w(\\w\\.)(.*?)\\.(\\w))}{\n    my ( $first, $temp, $last) = ( $1, $2, $3 );\n    $temp =~ s/\\./^/g;\n    $first . $temp . ':' . $last\n}ge;\n\nsystem( 'echo $str' );\n</code></pre>\n\n<p>but it did not work =(</p>\n\n<p>Any ideas ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1486765040, "post_id": 42169183, "comment_id": 71503992, "body": "Inspect the <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\"><code>%INC hash</code></a>, a list of loaded modules (name.pm =&gt; location, full path). You can also grep all those files for <code>sub [Tt]riangulation</code> or such."}], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1486763549, "post_id": 42169249, "comment_id": 71503454, "body": "I got to wondering if the call to <code>new()</code> should be omitted entirely, and just called like <code>my $tr = Triangulation($tri);</code> instead. It&#39;s pretty confusing as to what&#39;s happening behind the scenes"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1486763605, "post_id": 42169249, "comment_id": 71503484, "body": "@stevieb: It&#39;s not the same. One calls Triangulation function, the other a constructor of the Triangulation class. Unless there&#39;s a <code>new</code> function, not a method, which I don&#39;t know, as I don&#39;t see the source of Lava."}, {"owner": {"reputation": 2843, "user_id": 2958401, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a5dd8c841e767e09bd8c08764dc2319e?s=128&d=identicon&r=PG&f=1", "display_name": "gtwebb", "link": "https://stackoverflow.com/users/2958401/gtwebb"}, "edited": false, "score": 0, "creation_date": 1486764703, "post_id": 42169249, "comment_id": 71503869, "body": "Using your method it gets past that error.  Now I&#39;m getting another error.  I&#39;ve updated the code above to include the error (I guess it wasn&#39;t getting to that point before).  I&#39;ve also included the help file for lava if you want but the new was being used as a constructor. <code>Can&#39;t locate object method &quot;points&quot; via package &quot;TRIANGULATION_OK&quot; (perhaps you forgot to load &quot;TRIANGULATION_OK&quot;?) at C:\\_PROJECTS\\1404134_abc\\VULCAN\\test4.lava line 137.</code>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 2843, "user_id": 2958401, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a5dd8c841e767e09bd8c08764dc2319e?s=128&d=identicon&r=PG&f=1", "display_name": "gtwebb", "link": "https://stackoverflow.com/users/2958401/gtwebb"}, "edited": false, "score": 2, "creation_date": 1486765624, "post_id": 42169249, "comment_id": 71504196, "body": "@gtwebb I think you forgot to edit your code in the question; it&#39;s still the same as in the original version. But you shouldn&#39;t change questions significantly after you get answers, anyway. I would post a new question."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 7, "last_activity_date": 1486763552, "last_edit_date": 1486763552, "creation_date": 1486763457, "answer_id": 42169249, "question_id": 42169183, "link": "https://stackoverflow.com/questions/42169183/how-to-manage-functions-that-are-in-multiple-modules-when-one-is-unknown/42169249#42169249", "title": "How to manage functions that are in multiple modules when one is unknown", "body": "<p>It seems Triangulation is a class and function name at the same time. Perl doesn't know which one you want to use, but you can help it by using parentheses after function calls, you should also avoid \"indirect object\" syntax for methods, and possibly quote the class names or append <code>::</code> to them:</p>\n\n<pre><code>my $tr = 'Triangulation'-&gt;new($tri);\n# or\nmy $tr = Triangulation::-&gt;new($tri);\n</code></pre>\n\n<p>avoid:</p>\n\n<pre><code>my $tr = new Triangulation($tri);\nTriangulation \"$basedir\\\\$tri\"; \n</code></pre>\n"}], "owner": {"reputation": 2843, "user_id": 2958401, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a5dd8c841e767e09bd8c08764dc2319e?s=128&d=identicon&r=PG&f=1", "display_name": "gtwebb", "link": "https://stackoverflow.com/users/2958401/gtwebb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 42169249, "answer_count": 1, "score": 2, "last_activity_date": 1486764465, "creation_date": 1486763130, "last_edit_date": 1486764465, "question_id": 42169183, "link": "https://stackoverflow.com/questions/42169183/how-to-manage-functions-that-are-in-multiple-modules-when-one-is-unknown", "title": "How to manage functions that are in multiple modules when one is unknown", "body": "<p>I'm attempting to edit a script in Lava (Perl language that has been extended for use in the mining software Vulcan).  </p>\n\n<p>I've run into an issue with modules and as I'm not used to Perl I haven't been able to solve it completely.</p>\n\n<p>A snippet of the code is below</p>\n\n<p>The module that is causing issues is \"Macro\".  </p>\n\n<pre><code>use Lava;\nuse warnings;\nuse strict;\nuse vulcan;\nuse utf8;\nuse Macro 'RunMenu';\nuse File::Basename;\n\nmy $tri = 'C:\\\\_PROJECTS\\\\1404134_abc\\\\VULCAN\\\\faults.tri\\\\retriangulated\\\\gbc_ne1e_1606.00t';\nmy $tr = new Triangulation($tri);\n\n#Runs fine\nRunMenu(\"TRI_UTE_LOAD:$tri\",\"abort\",\n      \"FINISH\") || die \"Macro mismatch.\\n\";\n\n#Does not run fine\nRunMenu(\"TRI_EDIT_INTERP\",\"abort\",\n      sub { Triangulation(\"$basedir\\\\$tri\"); },\n\n      sub { PanelResults(\"Select interpolation option\",\n                \"line\" =&gt; \"\",\n                \"Maximum triangle area  \" =&gt; \"$maxTriArea\",\n                \"Maximum boundary length\" =&gt; \"100.0\",\n                \"button_pressed\" =&gt; \"ok\",\n                \"Interpolate midpoints\" =&gt; \"1\",\n                \"Interpolate centroids\" =&gt; \"0\",\n                \"Honour breaklines\" =&gt; \"1\"\n                   ); },\n      \"FINISH\") || die \"Macro mismatch.\\n\";\n</code></pre>\n\n<p>If I omit <code>use Macro;</code> this line <code>my $tr = new Triangulation($tri);</code> runs fine but then I can't use the <code>RunMenu</code> command.</p>\n\n<p>If I include <code>use Macro;</code> I get <code>Bareword found where operator expected at C:\\_PROJECTS\\1404134_abc\\VULCAN\\new.lava line 12, near \"new Triangulation\"\n    (Do you need to predeclare new?)</code></p>\n\n<p>The closest I've got is <code>use Macro 'RunMenu';</code> but then I get <code>Undefined subroutine &amp;main::Triangulation called at C:\\_PROJECTS\\1404134_abc\\VULCAN\\test4.lava line 45.</code></p>\n\n<p>What I believe is happening is <code>Macro</code> contains a function <code>triangulation</code> which is overwriting one in some other module (Don't know which module it is in or how to find out, I tried commenting out the other ones I load and it ran fine without all of them).</p>\n\n<p>Any suggestions on how to use the two different triangulation functions when I don't know where one comes from?  Or if anyone can suggest any other fixes it would be much appreciated.  </p>\n\n<p>The code is being run through Vulcan so I'm not sure which Perl debugging tools I can use.</p>\n\n<h2>Edit:</h2>\n\n<p>I've copied the help file below if your interested\n<a href=\"http://pastebin.com/VtmJNTxx\" rel=\"nofollow noreferrer\">Help file</a></p>\n\n<p>The most useful part was here</p>\n\n<p><strong>Triangulation Class</strong></p>\n\n<p>The Triangulation object provides an interface to the Envisage triangulation structures. The point and triangle data may be accessed through the member functions.</p>\n\n<p>Each triangle consists of 3 vertex indices. These are indices into the point array, which holds a 3D location for each point. The triangles are formed by using the three sets of 3D points as vertices.</p>\n\n<p>Methods:\n$triangulation = new Triangulation($name)</p>\n\n<pre><code>$triangulation : Returned triangulation object.\n$name          : Optional triangulation name.\n</code></pre>\n\n<p>The constructor returns a new triangulation object. If a name is provided then the triangulation of the given name is loaded.</p>\n\n<p>$result = is_valid</p>\n\n<pre><code>$result : Whether a triangulation has been successfully loaded or set.\n</code></pre>\n\n<p>$points = points</p>\n\n<pre><code>$points : The number of points in the triangulation\n</code></pre>\n\n<p>$triangles = triangles</p>\n\n<pre><code>$triangles : Number of triangles in the object\n</code></pre>\n"}, {"tags": ["perl", "vim"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1486755904, "post_id": 42167415, "comment_id": 71499888, "body": "<i>&quot;I&#39;ve been able to personalize it&quot;</i> I don&#39;t follow this part...if you were able to personalize it, what&#39;s the problem? Are you saying you were able to change the comment block but not the <code>use</code> statements?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 5, "creation_date": 1486755951, "post_id": 42167415, "comment_id": 71499909, "body": "Instead of that ugly block of comments that typically gets ignored by the next guy you should maybe use POD and write proper documentation."}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1486756178, "post_id": 42167415, "comment_id": 71500026, "body": "There is a wizard that lets you add your name and email. I generated the template using the wizard and once I finished the wizard it automatically populated my name/email into the template. And I can&#39;t get rid of the comments until I know how to override the template."}], "answers": [{"comments": [{"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1486761414, "post_id": 42168284, "comment_id": 71502566, "body": "I upgraded <code>perl-support</code> plugin and my template was left in tact. So it must be the proper way of doing it."}], "tags": [], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "is_accepted": false, "score": 1, "last_activity_date": 1486759130, "creation_date": 1486759130, "answer_id": 42168284, "question_id": 42167415, "link": "https://stackoverflow.com/questions/42167415/how-do-you-customize-the-comments-template-for-perl-support-plugin-in-vim/42168284#42168284", "title": "How do you customize the comments.template for perl-support plugin in vim?", "body": "<p>Well, looks like you don't override them as I assumed. You just go into <code>~/.vim/bundle/perl-support/perl-support/templates</code> and modify them directly. I've made a backup of the original template as well as to and my custom template in case upgrades to the plugin override my custom template.</p>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1486759130, "creation_date": 1486755628, "question_id": 42167415, "link": "https://stackoverflow.com/questions/42167415/how-do-you-customize-the-comments-template-for-perl-support-plugin-in-vim", "title": "How do you customize the comments.template for perl-support plugin in vim?", "body": "<p>I'm trying to customized the comments.template that generates something like following when I create a new <code>*.pl</code> file:</p>\n\n<pre><code>#!/usr/bin/env perl\n#===============================================================================\n#\n#         FILE: test.pl\n#\n#        USAGE: ./test.pl  \n#\n#  DESCRIPTION: \n#\n#      OPTIONS: ---\n# REQUIREMENTS: ---\n#         BUGS: ---\n#        NOTES: ---\n#       AUTHOR: ME (me), my@email.com\n# ORGANIZATION: \n#      VERSION: 1.0\n#      CREATED: 02/10/2017 02:27:43 PM\n#     REVISION: ---\n#===============================================================================\n\nuse strict;\nuse warnings;\nuse utf8;\n</code></pre>\n\n<p>I've been able to personalize it but I want to modify the output so a different set of packages are <code>use</code>d. I tried copying comments.template file into my template directory at <code>.vimrc/templates</code> but it's getting ignored. I tried logging in and then logging back out and that didn't help either. I looked through the vim-support documentation and didn't see anything that helped. Thanks.</p>\n"}, {"tags": ["perl", "utf-8"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1486749548, "post_id": 42165728, "comment_id": 71496472, "body": "IO::File is useless. <code>open($fh, ...)</code> also creates handle blessed into IO::File"}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1486749404, "last_edit_date": 1592644375, "creation_date": 1486749404, "answer_id": 42165794, "question_id": 42165728, "link": "https://stackoverflow.com/questions/42165728/what-is-the-perls-iofile-equivalent-to-openfh-utf8-path/42165794#42165794", "title": "What is the Perl&#39;s IO::File equivalent to open($fh, &quot;&gt;:utf8&quot;,$path)?", "body": "<p>Yes, you can <a href=\"https://metacpan.org/pod/IO::File#open(-FILENAME,-IOLAYERS-)\" rel=\"nofollow noreferrer\">do it in one line</a>.</p>\n<blockquote>\n<p>open accepts one, two or three parameters. With one parameter, it is just a front end for the built-in open function. With two or three parameters, the first parameter is a filename that may include whitespace or other special characters, and the second parameter is the open mode, optionally followed by a file permission value.</p>\n<p>[...]</p>\n<p>If IO::File::open is given a mode that includes the : character, it passes all the three arguments to the three-argument open operator.</p>\n</blockquote>\n<p>So you just do this.</p>\n<pre><code>my $fh_out = IO::File-&gt;new('/some/path', '&gt;:utf8');\n</code></pre>\n<p>It is the same as your first <code>open</code> line because it gets passed through.</p>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1488218282, "last_edit_date": 1488218282, "creation_date": 1486749812, "answer_id": 42165893, "question_id": 42165728, "link": "https://stackoverflow.com/questions/42165728/what-is-the-perls-iofile-equivalent-to-openfh-utf8-path/42165893#42165893", "title": "What is the Perl&#39;s IO::File equivalent to open($fh, &quot;&gt;:utf8&quot;,$path)?", "body": "<p>I would suggest to try out <a href=\"http://search.cpan.org/~dagolden/Path-Tiny-0.100/lib/Path/Tiny.pm\" rel=\"nofollow noreferrer\">Path::Tiny</a>. For example, to open and write out your file</p>\n\n<pre><code>use Path::Tiny;\n\npath('/some/path')-&gt;spew_utf8(@data);\n</code></pre>\n\n<p>From the docs, on <a href=\"http://search.cpan.org/~dagolden/Path-Tiny-0.100/lib/Path/Tiny.pm#spew,_spew_raw,_spew_utf8\" rel=\"nofollow noreferrer\">spew, spew_raw, spew_utf8</a></p>\n\n<blockquote>\n  <p>Writes data to a file atomically.  &nbsp; [ ... ]<br>\n  <code>spew_raw</code> is like <code>spew</code> with a binmode of <code>:unix</code> for a fast, unbuffered, raw write.  </p>\n  \n  <p><code>spew_utf8</code> is like <code>spew</code> with a <code>binmode</code> of <code>:unix:encoding(UTF-8)</code> (or <a href=\"http://search.cpan.org/~leont/PerlIO-utf8_strict-0.006/lib/PerlIO/utf8_strict.pm\" rel=\"nofollow noreferrer\">PerlIO::utf8_strict</a> ). If <a href=\"http://search.cpan.org/~chansen/Unicode-UTF8-0.60/lib/Unicode/UTF8.pod\" rel=\"nofollow noreferrer\">Unicode::UTF8</a> 0.58+ is installed, a raw spew will be done instead on the data encoded with <code>Unicode::UTF8</code>.</p>\n</blockquote>\n\n<p>The module integrates many tools for handling files and directories, paths and content. It is often simple calls like above, but also method chaining, recursive directory iterator, hooks for callbacks, etc. There is error handling throughout, consistent and thoughtful dealing with edge cases, <code>flock</code> on input/ouput handles, its own tiny and useful class for exceptions ... see docs.</p>\n"}, {"comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 2, "creation_date": 1486750784, "post_id": 42166078, "comment_id": 71497147, "body": "AFAIK, it is more or less abandoned module, with some problems."}, {"owner": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1486752240, "post_id": 42166078, "comment_id": 71497880, "body": "@jm666 true, but even though widely used"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1486754378, "post_id": 42166078, "comment_id": 71499070, "body": "<a href=\"http://blogs.perl.org/users/leon_timmermans/2015/08/fileslurp-is-broken-and-wrong.html\" rel=\"nofollow noreferrer\">File::Slurp is broken and wrong</a>"}, {"owner": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "edited": false, "score": 0, "creation_date": 1486766832, "post_id": 42166078, "comment_id": 71504601, "body": "I edited my answer so whoever comes to read it, hopefully will be useful"}, {"owner": {"reputation": 809, "user_id": 1151718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb6505c0711f36325e0d1d68d73b4f82?s=128&d=identicon&r=PG", "display_name": "capfan", "link": "https://stackoverflow.com/users/1151718/capfan"}, "edited": false, "score": 0, "creation_date": 1556499351, "post_id": 42166078, "comment_id": 98448000, "body": "I read that File::Slurper is now the way to go. But still, it&#39;s OT :)"}], "tags": [], "owner": {"reputation": 403, "user_id": 7349485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lzfEj.jpg?s=128&g=1", "display_name": "carlosn", "link": "https://stackoverflow.com/users/7349485/carlosn"}, "is_accepted": false, "score": -1, "last_activity_date": 1486766783, "last_edit_date": 1495539976, "creation_date": 1486750504, "answer_id": 42166078, "question_id": 42165728, "link": "https://stackoverflow.com/questions/42165728/what-is-the-perls-iofile-equivalent-to-openfh-utf8-path/42166078#42166078", "title": "What is the Perl&#39;s IO::File equivalent to open($fh, &quot;&gt;:utf8&quot;,$path)?", "body": "<p><strong>Edit:</strong>\nYou could also use <a href=\"https://metacpan.org/pod/File::Slurp\" rel=\"nofollow noreferrer\">File::Slurp</a> <strong>if it was not discouraged to use</strong></p>\n\n<p>e.g</p>\n\n<pre><code>use File::Slurp qw(write_file);\n\nwrite_file( 'filename', {binmode =&gt; ':utf8'}, $buffer ) ;\n</code></pre>\n\n<blockquote>\n  <p>The first argument to write_file is the filename. The next argument is\n  an optional hash reference and it contains key/values that can modify\n  the behavior of write_file. The rest of the argument list is the data\n  to be written to the file.</p>\n</blockquote>\n\n<p><strong>Some good reasons to not use?</strong></p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/41037415/reliable-perl-encoding-with-fileslurp\">Not reliable</a></p></li>\n<li><p>Has some <a href=\"https://rt.cpan.org/Public/Dist/Display.html?Name=File-Slurp\" rel=\"nofollow noreferrer\">bugs</a></p></li>\n<li><p>And as @ThisSuitIsBlackNot said <a href=\"http://blogs.perl.org/users/leon_timmermans/2015/08/fileslurp-is-broken-and-wrong.html\" rel=\"nofollow noreferrer\">File::Slurp is broken and wrong</a></p></li>\n</ul>\n"}], "owner": {"reputation": 809, "user_id": 1151718, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb6505c0711f36325e0d1d68d73b4f82?s=128&d=identicon&r=PG", "display_name": "capfan", "link": "https://stackoverflow.com/users/1151718/capfan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1168, "favorite_count": 0, "accepted_answer_id": 42165794, "answer_count": 3, "score": 5, "last_activity_date": 1488218282, "creation_date": 1486749157, "question_id": 42165728, "link": "https://stackoverflow.com/questions/42165728/what-is-the-perls-iofile-equivalent-to-openfh-utf8-path", "title": "What is the Perl&#39;s IO::File equivalent to open($fh, &quot;&gt;:utf8&quot;,$path)?", "body": "<p>It's possible to white a file utf-8 encoded as follows:</p>\n\n<pre><code>open my $fh,\"&gt;:utf8\",\"/some/path\" or die $!;\n</code></pre>\n\n<p>How do I get the same result with IO::File, preferably in 1 line?\nI got this one, but does it do the same and can it be done in just 1 line?</p>\n\n<pre><code>my $fh_out = IO::File-&gt;new($target_file, 'w');\n$fh_out-&gt;binmode(':utf8');\n</code></pre>\n\n<p>For reference, the script starts as follows:</p>\n\n<pre><code>use 5.020;\nuse strict;\nuse warnings;\nuse utf8;\n# code here\n</code></pre>\n"}, {"tags": ["perl", "area", "packing"], "comments": [{"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1486748045, "post_id": 42165338, "comment_id": 71495592, "body": "Sounds like you just want to divide the big rect into rectangular areas of specific sizes, not actually pack rectangles."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1486748523, "post_id": 42165338, "comment_id": 71495888, "body": "Reminds me of <a href=\"http://mapofcpan.org/#/\" rel=\"nofollow noreferrer\">mapofcpan.org/#</a>"}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1486748792, "post_id": 42165338, "comment_id": 71496041, "body": "Basically you can bisect the total area rect in two such that one of the sides has the area of the largest area you want to have. Keep going with the remaining areas."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1486751322, "post_id": 42165338, "comment_id": 71497420, "body": "Me reminds the graphs produced by <a href=\"https://metacpan.org/pod/Devel::NYTProf\" rel=\"nofollow noreferrer\">metacpan.org/pod/Devel::NYTProf</a> :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1486751659, "post_id": 42165338, "comment_id": 71497592, "body": "You need to be more restrictive with your requirement. You could fulfill this requirement by just dividing the width of the screen into 100 and allocating bars according to each percentage. Surely you want more than that?"}, {"owner": {"reputation": 31, "user_id": 6938571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b738d3c2eebda9f05f9e7cf382f623d?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Marsh", "link": "https://stackoverflow.com/users/6938571/douglas-marsh"}, "edited": false, "score": 0, "creation_date": 1486754061, "post_id": 42165338, "comment_id": 71498873, "body": "&lt;Sounds like you just want to divide the big rect into rectangular areas of &lt;specific sizes, not actually pack rectangles. - I see that as another way of saying the same thing, but what you describe would work."}, {"owner": {"reputation": 31, "user_id": 6938571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b738d3c2eebda9f05f9e7cf382f623d?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Marsh", "link": "https://stackoverflow.com/users/6938571/douglas-marsh"}, "edited": false, "score": 0, "creation_date": 1486754522, "post_id": 42165338, "comment_id": 71499164, "body": "&lt;You need to be more restrictive with your requirement. You could fulfill this requirement by just dividing the width of the screen into 100 and allocating bars according to each percentage. Surely you want more than that?&gt; - Instead of bars, I want the area of each rectangle to represent each percentage."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1486754913, "post_id": 42165338, "comment_id": 71499397, "body": "@DouglasMarsh That&#39;s exactly what you would get with bars. They all have the same height, so if Bar A is twice as wide as bar B, it also has twice the area."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1486799609, "post_id": 42165338, "comment_id": 71511282, "body": "@jm666 that too, but I couldn&#39;t find a picture. Not the weird flame graph though. The other one. I also don&#39;t rrmemb remember the name."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486825337, "post_id": 42165338, "comment_id": 71518003, "body": "@simbabque currently i havent installed it, but by googling I found some example <a href=\"https://blog.timbunce.org/2009/12/24/nytprof-v3-worth-the-wait/\" rel=\"nofollow noreferrer\">here</a> and if i understand right - it is called <i>treemap</i>."}], "owner": {"reputation": 31, "user_id": 6938571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b738d3c2eebda9f05f9e7cf382f623d?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Marsh", "link": "https://stackoverflow.com/users/6938571/douglas-marsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 268, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1486747879, "creation_date": 1486747879, "question_id": 42165338, "link": "https://stackoverflow.com/questions/42165338/how-to-pack-rectangles-of-given-areas-into-one-large-rectangle", "title": "How to pack rectangles of given areas into one large rectangle", "body": "<p>I am writing an application in Perl, but I don't necessarily need code, just an algorithm I can Implement.</p>\n\n<p>I want to represent space allocation of a database system as a number of rectangles packed into one large rectangle (size to fill the monitor). So I know the total area I have to work with, how many pieces I want to divide it into and how big each of those pieces should be. </p>\n\n<p>What I need is a way to lay the individual rectangles out on the big window, correctly sized so they cover the correct area, and packed to cover the entire big window.</p>\n\n<p>This is somewhat reminiscent of bin packing, but differs because I know the area I want each piece to be but I can choose the dimensions (as long as they give the correct area) to fit into the big window.</p>\n\n<p>I hope this is clear enough and I hope someone has run into this before.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1486747324, "post_id": 42165132, "comment_id": 71495124, "body": "<code>q()</code> is another way of writing <code>&#39;&#39;</code>. Use a different sub name."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1486747448, "post_id": 42165132, "comment_id": 71495198, "body": "And don&#39;t use <a href=\"http://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow noreferrer\">prototypes</a> unless you know what they&#39;re for and have a good reason to use them. <code>sub foo() { }</code> should be <code>sub foo { }</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1486751967, "post_id": 42165132, "comment_id": 71497750, "body": "You should add <code>use strict</code> and <code>use warnings &#39;all&#39;</code> to the top of your program to get a realistic idea of Perl&#39;s behaviour, as you will be adding them to every other program that you write."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1486748022, "last_edit_date": 1486748022, "creation_date": 1486747505, "answer_id": 42165242, "question_id": 42165132, "link": "https://stackoverflow.com/questions/42165132/whats-the-perl-equivalent-to-a-c-file-scope-variable-and-how-to-use-it-in-a-su/42165242#42165242", "title": "What&#39;s the perl equivalent to a C file-scope variable, and how to use it in a sub?", "body": "<p><code>q()</code> is another way of writing <code>''</code>. That's why <code>q()</code> is returning an empty string. Use a different name for your sub.</p>\n\n<hr>\n\n<p><code>my</code> declares a lexically-scoped variable. These are usually created by curlies, but the file is also a lexical scope. So if you want a variable scoped to a file, use <code>my $x;</code> outside of any curlies.</p>\n\n<hr>\n\n<p>The first <code>$x</code> you access is globally-scoped; it's visible as <code>$z::x</code> throughout the program.</p>\n"}], "owner": {"reputation": 949, "user_id": 105474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b07614ae94abe431b50ed149a8c99110?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/105474/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486748022, "creation_date": 1486747120, "question_id": 42165132, "link": "https://stackoverflow.com/questions/42165132/whats-the-perl-equivalent-to-a-c-file-scope-variable-and-how-to-use-it-in-a-su", "title": "What&#39;s the perl equivalent to a C file-scope variable, and how to use it in a sub?", "body": "<p>Trying to understand packages, <code>local</code>, <code>my</code>, and references in perl.  Consider the following script...</p>\n\n<pre><code>package z;\n$x = 5;\n\nsub q() { return $z::x };\n\nprintf \"q() .. %d\\n\", q();\n\nmy $xr = \\$x;\n\nmy $x = 7;\n\nprintf \"xr .. %d\\n\",$$xr;\n\n$$xr = 9;\n\nprintf \"x .. %d\\n\", $x;\n\n$$xr = 11;\n\nprintf \"q() .. %d\\n\", q();\n</code></pre>\n\n<p>I expect each of the invocations of <code>q()</code> to return a number, but I'm not sure what they should return.  Instead I get the following output...</p>\n\n<pre><code>q() .. 0\nArgument \"\" isn't numeric in printf at src/demo/multi_my.pl line 8.\nxr .. 5\nx .. 7\nq() .. 0\nArgument \"\" isn't numeric in printf at src/demo/multi_my.pl line 22.\n</code></pre>\n"}, {"tags": ["perl", "ansible"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486742015, "post_id": 42163232, "comment_id": 71491916, "body": "<code>cpanm</code> is not maintaining a search engine. It&#39;s not affiliated with metacpan.org (sounds like you thought so). It is just a neat client that works with any CPAN mirror."}, {"owner": {"reputation": 2013, "user_id": 4114323, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/70Wwa.jpg?s=128&g=1", "display_name": "ryekayo", "link": "https://stackoverflow.com/users/4114323/ryekayo"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486742099, "post_id": 42163232, "comment_id": 71491968, "body": "Thanks for that info! is there a way to use cpanm to pull QuotedPrint correctly? Or am i going about this the wrong way altogether?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486742303, "post_id": 42163232, "comment_id": 71492091, "body": "The mirror is wrong. A cpan mirror is a server that has a full copy of the CPAN, but you put an actual distribution release there. It looks like it&#39;s the release for Perl itself, in version 5.8.0. Do you care which CPAN mirror you are going to use? Maybe one that&#39;s physically close to you? At $work we do that because our company provides a public CPAN mirror, so we use it as it&#39;s closer and thus faster. But you don&#39;t have to. On the command line you would do <code>cpanm MIME::QuotedPrint</code> and that&#39;s it. Not sure about how to get Ansible to do that. Maybe <code>cmd</code>? I haven&#39;t used Ansible recently."}, {"owner": {"reputation": 2013, "user_id": 4114323, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/70Wwa.jpg?s=128&g=1", "display_name": "ryekayo", "link": "https://stackoverflow.com/users/4114323/ryekayo"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486742420, "post_id": 42163232, "comment_id": 71492165, "body": "Ok cool. I also know that cpanm is not installed on the remote server.. Looks like that needs to be done in order for me to use the cpanm module in Ansible...thanks for your help :-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486742636, "post_id": 42163232, "comment_id": 71492278, "body": "Why not just use <code>cpan</code>? You could also bootstrap <code>cpanm</code> directly in your Ansbile script. See <a href=\"https://metacpan.org/pod/App::cpanminus#Installing-to-local-perl-(perlbrew,-plenv-etc.)\" rel=\"nofollow noreferrer\">here</a>. You can also abuse that to install anything else with the bootstrap version. But only do that if you feel it&#39;s save to run arbitrary code off the internet that you don&#39;t really control."}, {"owner": {"reputation": 2013, "user_id": 4114323, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/70Wwa.jpg?s=128&g=1", "display_name": "ryekayo", "link": "https://stackoverflow.com/users/4114323/ryekayo"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486742721, "post_id": 42163232, "comment_id": 71492338, "body": "Well i was originally looking for a cpan module in Ansible (i have a few modules i need to download). I found cpanm instead. But i actually found a way to use the cpanm module correctly and got it working"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486742761, "post_id": 42163232, "comment_id": 71492358, "body": "Great. Please post your solution as an answer so others can benefit. You can accept it tomorrow too."}], "answers": [{"comments": [{"owner": {"reputation": 7565, "user_id": 1021515, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Z9QcP.jpg?s=128&g=1", "display_name": "mwp", "link": "https://stackoverflow.com/users/1021515/mwp"}, "edited": false, "score": 3, "creation_date": 1486744701, "post_id": 42163758, "comment_id": 71493533, "body": "Most Linux distributions provide cpanm as a package, so you can always install that using e.g. the apt or dnf Ansible module before using the cpanm Ansible module."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1486745213, "post_id": 42163758, "comment_id": 71493840, "body": "And you don&#39;t need <code>install</code>. From the command line cpan just takes module names. There is a package named <i>install</i> on CPAN that does nothing because lots of people do this wrong and removing it would break everyone&#39;s stuff."}, {"owner": {"reputation": 7877, "user_id": 1401560, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/347d89519bdf28150424b22543d0fbdb?s=128&d=identicon&r=PG", "display_name": "Chris F", "link": "https://stackoverflow.com/users/1401560/chris-f"}, "edited": false, "score": 0, "creation_date": 1509038266, "post_id": 42163758, "comment_id": 80867795, "body": "the cpan install App::cpaminus did not work for me, either in an ansible task or on the command line."}], "tags": [], "owner": {"reputation": 2013, "user_id": 4114323, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/70Wwa.jpg?s=128&g=1", "display_name": "ryekayo", "link": "https://stackoverflow.com/users/4114323/ryekayo"}, "is_accepted": true, "score": 1, "last_activity_date": 1486742894, "creation_date": 1486742894, "answer_id": 42163758, "question_id": 42163232, "link": "https://stackoverflow.com/questions/42163232/using-cpanm-module-in-ansible/42163758#42163758", "title": "Using cpanm module in Ansible", "body": "<p>Found a nice work around for this:</p>\n\n<pre><code>- name: Installing CPANM\n  command: cpan install App::cpaminus\n\n- name: Downloading Perl Modules\n  cpanm: name=MIME::QuotedPrint\n</code></pre>\n\n<p>This got it to work correctly.</p>\n"}, {"tags": [], "owner": {"reputation": 811, "user_id": 695675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a3a68d2116893a495442581205b139e?s=128&d=identicon&r=PG", "display_name": "IcarusNM", "link": "https://stackoverflow.com/users/695675/icarusnm"}, "is_accepted": false, "score": 3, "last_activity_date": 1512088025, "creation_date": 1512088025, "answer_id": 47584835, "question_id": 42163232, "link": "https://stackoverflow.com/questions/42163232/using-cpanm-module-in-ansible/47584835#47584835", "title": "Using cpanm module in Ansible", "body": "<p>That is very close.  Here is that solution, improved:</p>\n\n<pre><code>- name: Installing CPANM\n  yum: pkg=perl-App-cpanminus\n\n- name: Downloading Perl Modules\n  cpanm: name=MIME::QuotedPrint\n</code></pre>\n\n<p>This uses the best of Ansible's checks to avoid re-installing cpanm every time. Per the comments above, change the whole <code>yum</code> line there to <code>apt</code> or <code>dnf</code> based on your flavor of Linux, and the package name may differ too.  </p>\n"}], "owner": {"reputation": 2013, "user_id": 4114323, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/70Wwa.jpg?s=128&g=1", "display_name": "ryekayo", "link": "https://stackoverflow.com/users/4114323/ryekayo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3329, "favorite_count": 0, "accepted_answer_id": 42163758, "answer_count": 2, "score": 1, "last_activity_date": 1512088025, "creation_date": 1486741185, "question_id": 42163232, "link": "https://stackoverflow.com/questions/42163232/using-cpanm-module-in-ansible", "title": "Using cpanm module in Ansible", "body": "<p>This is my first time using the cpanm module in Ansible. I am trying to pull from their search engine a specific module, MIME::QuotedPrint and can't seem to get it to pull using my Ansible script. Can someone take a look and let me know what I am doing wrong here?</p>\n\n<pre><code>- name: Downloading Perl Modules\n  cpanm: name=MIME::QuotedPrint mirror=http://search.cpan.org/CPAN/authors/id/J/JH/JHI/perl-5.8.0.tar.gz\n</code></pre>\n\n<p>I checked Ansible documentation but I'm not sure what the alias/pkg name is as mentioned. Thanks all!!</p>\n"}, {"tags": ["perl", "arguments", "parent-child"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 2225375, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3SyU4.gif?s=128&g=1", "display_name": "Autonomic", "link": "https://stackoverflow.com/users/2225375/autonomic"}, "edited": false, "score": 2, "creation_date": 1486741810, "post_id": 42163322, "comment_id": 71491778, "body": "Thanks!!! I reached the end of the internet with searching on alternatives to call this.  The first line of the 3rd code block was the answer!"}, {"owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "reply_to_user": {"reputation": 101, "user_id": 2225375, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3SyU4.gif?s=128&g=1", "display_name": "Autonomic", "link": "https://stackoverflow.com/users/2225375/autonomic"}, "edited": false, "score": 0, "creation_date": 1486741997, "post_id": 42163322, "comment_id": 71491904, "body": "@JeremyWinslow Glad that it got sorted out. BTW the interpolations of <code>&quot;$select_script&quot;</code> and <code>&quot;$value&quot;</code> are not needed at all, you can just use the variable directly."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 101, "user_id": 2225375, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3SyU4.gif?s=128&g=1", "display_name": "Autonomic", "link": "https://stackoverflow.com/users/2225375/autonomic"}, "edited": false, "score": 4, "creation_date": 1486742389, "post_id": 42163322, "comment_id": 71492145, "body": "@JeremyWinslow was it very dark there?"}], "tags": [], "owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "is_accepted": true, "score": 2, "last_activity_date": 1486741923, "last_edit_date": 1486741923, "creation_date": 1486741495, "answer_id": 42163322, "question_id": 42163127, "link": "https://stackoverflow.com/questions/42163127/pass-args-to-child-script-from-perl/42163322#42163322", "title": "Pass Args to Child Script From Perl", "body": "<p>With <code>system</code> either you pass a single string, that will be interpreted with a shell (and obeying the separation of arguments by whitespace):</p>\n\n<pre><code>system 'command arg1 arg2';\n</code></pre>\n\n<p>Or you use multiple arguments, like you did. In this case the first parameter is the program and each of the following ones is an argument.</p>\n\n<pre><code>system 'command', 'arg1', 'arg2';\n</code></pre>\n\n<p>So, since you joined all your arguments by interpolating them in a string (with \"@arg_entry\") then they were given as one. The solution is simple, just don't interpolate and they will be inserted normally, in the argument list.</p>\n\n<pre><code>system 'command', @args;\nsystem($select_script, @arg_entry);\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 2225375, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3SyU4.gif?s=128&g=1", "display_name": "Autonomic", "link": "https://stackoverflow.com/users/2225375/autonomic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "accepted_answer_id": 42163322, "answer_count": 1, "score": 0, "last_activity_date": 1486741923, "creation_date": 1486740870, "question_id": 42163127, "link": "https://stackoverflow.com/questions/42163127/pass-args-to-child-script-from-perl", "title": "Pass Args to Child Script From Perl", "body": "<p>I have a perl script in which I'm using as a wrapper. The perl script collects arguments from the user and then calls a child script with arguments as array.</p>\n\n<p>The problem I'm having is that when the child script is executed, all the arguments are in ARGV[1]. Is there some special delimiter I could use? I'd really prefer not to have to loop an array inside the child script; kind of defeats the purpose.</p>\n\n<p>[KSH Script]</p>\n\n<pre><code>Your Args\nARG1: foo bar\nARG2:\n</code></pre>\n\n<p>However the result I was expecting is</p>\n\n<pre><code>Your Args\nARG1: foo\nARG2: bar\n</code></pre>\n\n<p>I have pushed the arguments into an array and provided the arguments as the array.</p>\n\n<p>[Perl Script]</p>\n\n<pre><code> print \"Enter $arg_array[$i]: \";\n my $value = &lt;STDIN&gt;;\n chomp $value;\n if (defined $value) {\n     push (@arg_entry, \"$value\"); #create args array to pass to selectd script\n\n  }\n  .... sometime later, in another function ......\n\n  system(\"$select_script\", \"@arg_entry\");\n</code></pre>\n"}, {"tags": ["perl", "cgi", "cpan"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486738619, "post_id": 42161697, "comment_id": 71489667, "body": "Is your Apache process using the same Perl as your command line user? Also, to install a module from the command line you don&#39;t need <code>install</code>, just <code>cpan Foo::Bar</code>, and in your <code>find</code> you had <code>perl.pm</code>, but you want <code>Perl.pm</code>. Try <code>perl -MNet::SSH::Perl -MData::Dumper -e &#39;print Dumper \\%INC&#39;</code> and check the value for Net::SSH::Perl. That should have the path from where it was loaded. That folder should be in <code>@INC</code> for your Apache perl process."}, {"owner": {"reputation": 4233, "user_id": 1143387, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0b9a9c460593d77b3561075ef1889150?s=128&d=identicon&r=PG", "display_name": "sniperd", "link": "https://stackoverflow.com/users/1143387/sniperd"}, "edited": false, "score": 0, "creation_date": 1486739558, "post_id": 42161697, "comment_id": 71493490, "body": "You may also just try running the script from command line. I find it much easier to debug perl from there as opposed to via the web. From the looks of it the perl install is missing a package. Can you manually find Net/SSH/Perl.pm on your drive?"}, {"owner": {"reputation": 13, "user_id": 7461637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba817e6ca3130db39b56543e62ef504?s=128&d=identicon&r=PG&f=1", "display_name": "Kimi", "link": "https://stackoverflow.com/users/7461637/kimi"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486740526, "post_id": 42161697, "comment_id": 71490933, "body": "Thanks ! I find perl.pm : <code>Net&#47;SSH&#47;Perl.pm&#39; =&gt; &#39;&#47;home&#47;noc&#47;perl5&#47;lib&#47;perl5&#47;x86_64-linux-gnu-thread-multi&#47;Net&zwnj;&#8203;&#47;SSH&#47;Perl.pm</code> Tell me please , how i can do the folder  @INC for my Apache perl process?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486740986, "post_id": 42161697, "comment_id": 71491233, "body": "Looks like you have a Perlbrew installation in your homedir. How do you deploy your program to the web? Is it CGI or FCGI or something else? You cantell Apache that there is an additional directory that should end up in the <code>PERL5LIB</code> environment variable."}, {"owner": {"reputation": 13, "user_id": 7461637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba817e6ca3130db39b56543e62ef504?s=128&d=identicon&r=PG&f=1", "display_name": "Kimi", "link": "https://stackoverflow.com/users/7461637/kimi"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486741508, "post_id": 42161697, "comment_id": 71491554, "body": "it is CGI. I dont know how I can deploy to the web, may be you know Looking Glass by Cougar <code>https:&#47;&#47;github.com&#47;Cougar&#47;lg</code>? I think this error was occur because of  SSH connect use."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486741555, "post_id": 42161697, "comment_id": 71491592, "body": "CGI is what I meant by <i>deploy</i>. Ok. Can you alter the Apache configuration?"}, {"owner": {"reputation": 13, "user_id": 7461637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba817e6ca3130db39b56543e62ef504?s=128&d=identicon&r=PG&f=1", "display_name": "Kimi", "link": "https://stackoverflow.com/users/7461637/kimi"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486742058, "post_id": 42161697, "comment_id": 71491941, "body": "Yes, I can alter the Apache configuration."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486742119, "post_id": 42161697, "comment_id": 71491981, "body": "There you go. That should solve the problem :)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486800311, "post_id": 42161697, "comment_id": 71511401, "body": "Why are you installing to your home dir if you&#39;re installing as root? Setting PERL5LIB is not the correct solution! You should stop installing the modules to your home dir instead!"}], "owner": {"reputation": 13, "user_id": 7461637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba817e6ca3130db39b56543e62ef504?s=128&d=identicon&r=PG&f=1", "display_name": "Kimi", "link": "https://stackoverflow.com/users/7461637/kimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 693, "favorite_count": 0, "closed_date": 1486742098, "answer_count": 0, "score": 1, "last_activity_date": 1486739558, "creation_date": 1486736647, "last_edit_date": 1486739267, "question_id": 42161697, "link": "https://stackoverflow.com/questions/42161697/error-perl-script-cant-locate-net-ssh-perl-pm-in-inc", "closed_reason": "Duplicate", "title": "Error perl script - can&#39;t locate Net/SSH/Perl.pm in @INC", "body": "<p>I wrote a simple Perl script try to make a connection to remote server (SSH) and run command. But came up some message I don\u2019t what is about.</p>\n\n<p>Apache Log:</p>\n\n<pre><code>Can't locate Net/SSH/Perl.pm in @INC (@INC contains: /etc/perl /usr/local/lib/perl/5.14.2 /usr/local/share/perl/5.14.2 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.14 /usr/s\nBEGIN failed--compilation aborted at (eval 4) line 3.\n</code></pre>\n\n<p>I tried find the file</p>\n\n<pre><code>find: `perl.pm': No such file or directory\n</code></pre>\n\n<p>I installed NET::SSH::Perl , log:</p>\n\n<pre><code>  root@server:/usr/include# cpan install Net::SSH::Perl\nLoading internal null logger. Install Log::Log4perl for logging messages\nCPAN: Storable loaded ok (v2.27)\nReading '/root/.cpan/Metadata'\n  Database was generated on Fri, 10 Feb 2017 11:17:03 GMT\nCPAN: Module::CoreList loaded ok (v3.07)\nNet::SSH::Perl is up to date (2.01).\n</code></pre>\n"}, {"tags": ["perl", "rest", "mason"], "comments": [{"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 3, "creation_date": 1486735373, "post_id": 42161007, "comment_id": 71487389, "body": "&quot;Mojolicious is not an option as I&#39;m sending requests back to Apache2 on port 80&quot; \u2014 I don&#39;t understand how that follows."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1486735464, "post_id": 42161007, "comment_id": 71487441, "body": "Mason is a template language. It is not at all well suited to REST."}, {"owner": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1486735547, "post_id": 42161007, "comment_id": 71487497, "body": "Yeah, that wasn&#39;t clear enough. I think Mojolicious cannot be integrated into an Apache hosted website. But I may be wrong about it, and thus I don&#39;t want to open two ports: one for apache, one for mojo. Mojo would be great though. I very much like it."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1486735656, "post_id": 42161007, "comment_id": 71487570, "body": "<a href=\"https://github.com/kraih/mojo/wiki/Apache-deployment\" rel=\"nofollow noreferrer\">github.com/kraih/mojo/wiki/Apache-deployment</a>"}, {"owner": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "reply_to_user": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1486735990, "post_id": 42161007, "comment_id": 71487823, "body": "Thanks @Quentin. That looks promising. If you create a nice answer I&#39;ll accept it as a solution."}, {"owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1486736133, "post_id": 42161007, "comment_id": 71487918, "body": "I can&#39;t really write a nice answer for this. I&#39;ve basically given a product recommendation and pointed out that your question was based on a false premise."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1486738159, "post_id": 42161007, "comment_id": 71489284, "body": "Everything that speaks PSGI can be integrated into an Apache webserver. If it&#39;s hosted and you can only do CGI it might be slow, but it will work."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1486736116, "creation_date": 1486736116, "answer_id": 42161513, "question_id": 42161007, "link": "https://stackoverflow.com/questions/42161007/how-to-create-a-well-designed-rest-api-in-perl-with-mason/42161513#42161513", "title": "How to create a well designed REST API in Perl with Mason?", "body": "<p>Mason is aimed at building HTML pages. It is very much the wrong tool to use to build an API - which is (presumably) going to be returning JSON rather than HTML.</p>\n\n<p>To build an API, you will be creating data structures and then (hopefully) using one of CPAN's JSON libraries to convert those data structures to JSON. There's really no place for Mason in that workflow.</p>\n\n<p>And I don't think you should be constrained to using the same technology for your web site and your API. If the web site is at <a href=\"http://www.example.com/\" rel=\"nofollow noreferrer\">http://www.example.com/</a> then you can put your API at <a href=\"http://api.example.com/\" rel=\"nofollow noreferrer\">http://api.example.com/</a> and run it on a completely different technology (even a different web server).</p>\n\n<p>Without knowing a lot more about your project, it's hard to give much concrete advice. But if you have DBIx::Class classes for your data, it's work having a look at <a href=\"https://metacpan.org/release/WebAPI-DBIC\" rel=\"nofollow noreferrer\">WebAPI::DBIC</a> - that would be far easier than writing your own code using a framework.</p>\n"}], "owner": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 898, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486739424, "creation_date": 1486734652, "last_edit_date": 1486739424, "question_id": 42161007, "link": "https://stackoverflow.com/questions/42161007/how-to-create-a-well-designed-rest-api-in-perl-with-mason", "title": "How to create a well designed REST API in Perl with Mason?", "body": "<p>The website I'm working on is written in Perl and Mason, hosted by Apache2 (mod_perl).\nI'm looking for a well designed, easy-to-use REST API \"framework\" or just something well established approach to create one.\nMojolicious is not an option as I'm sending requests back to Apache2 on port 80.\nI could barely find anything related to this on Google and what I found looks garbage.\nI'm asking those of you who have designed a REST API in Perl and Mason to show a good example.</p>\n\n<p>So, what I found is to check <code>$r-&gt;method()</code> to see what REST method is used and execute code accordingly. Would be nice if this could somehow written like this:</p>\n\n<pre><code>POST =&gt; sub {\n   ...\n}\nGET =&gt; sub { \n   ...\n}\nDELETE =&gt; sub {\n   ...\n}\n</code></pre>\n\n<p>That was just an idea.</p>\n"}, {"tags": ["perl", "filehandle"], "comments": [{"owner": {"reputation": 949, "user_id": 105474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b07614ae94abe431b50ed149a8c99110?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/105474/david"}, "edited": false, "score": 1, "creation_date": 1486745025, "post_id": 42160961, "comment_id": 71493708, "body": "Note that the description for the <code>libswitch-perl</code> package in Debian stable says, &quot;This is an obsolete module provided for compatiblity since it is being removed from the core. For perl 5.10 and above the <code>given</code>/<code>when</code> builtins are much preferred.&quot; Since you&#39;re using v5.12, those are available."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1486738264, "post_id": 42160999, "comment_id": 71489383, "body": "I knew <code>Switch</code> was unpleasant but I didn&#39;t know it messed with your <code>DATA</code> section. Do you have a reference for that"}, {"owner": {"reputation": 1473, "user_id": 1506086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MaFbv.png?s=128&g=1", "display_name": "Rob Streeting", "link": "https://stackoverflow.com/users/1506086/rob-streeting"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486745627, "post_id": 42160999, "comment_id": 71494081, "body": "I added a reproducer to the original answer. I wasn&#39;t able to find specific reference to this issue online but the <a href=\"http://perldoc.perl.org/perlfilter.html\" rel=\"nofollow noreferrer\">source filter</a> documentation (&quot;Things to look out for&quot; section) mentions specifically that the DATA section can get clobbered by source filters."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486745720, "post_id": 42160999, "comment_id": 71494143, "body": "Hmm. I guess it modifies data and code indiscriminately. Thanks very much."}], "tags": [], "owner": {"reputation": 1473, "user_id": 1506086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MaFbv.png?s=128&g=1", "display_name": "Rob Streeting", "link": "https://stackoverflow.com/users/1506086/rob-streeting"}, "is_accepted": true, "score": 9, "last_activity_date": 1486753838, "last_edit_date": 1486753838, "creation_date": 1486734623, "answer_id": 42160999, "question_id": 42160961, "link": "https://stackoverflow.com/questions/42160961/perl-data-filehandle-is-empty-when-read/42160999#42160999", "title": "Perl DATA filehandle is empty when read", "body": "<p>The reason that the DATA filehandle is empty in this case is down to the use of the Switch module. This module works by using a <a href=\"http://perldoc.perl.org/perlfilter.html\" rel=\"nofollow noreferrer\">source filter</a> which is clobbering the DATA filehandle during the course of its processing.</p>\n\n<p>Alternatives include using if-elsif-else or using the <a href=\"http://search.cpan.org/~shay/perl-5.24.1/pod/perl5100delta.pod#Switch_and_Smart_Match_operator\" rel=\"nofollow noreferrer\">given-when</a> construct, although this is an experimental feature so it may not behave the same in later versions of Perl.</p>\n\n<p>EDIT: Here is a simple reproducer for the issue described above: </p>\n\n<pre><code># use Switch;\n\nwhile(&lt;DATA&gt;) {\n  print($_);\n}\n\n__DATA__\nOne line of data\nSecond line of data\n</code></pre>\n\n<p>Without the \"use Switch\", you'll see the lines printed out, but with it nothing is printed.</p>\n"}], "owner": {"reputation": 1473, "user_id": 1506086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MaFbv.png?s=128&g=1", "display_name": "Rob Streeting", "link": "https://stackoverflow.com/users/1506086/rob-streeting"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 42160999, "answer_count": 1, "score": 3, "last_activity_date": 1486753838, "creation_date": 1486734523, "question_id": 42160961, "link": "https://stackoverflow.com/questions/42160961/perl-data-filehandle-is-empty-when-read", "title": "Perl DATA filehandle is empty when read", "body": "<p>I have a Perl module with a template (for processing by the Template module) stored between the __DATA__ and __END__ keywords at the end of the file. When attempting to generate a file using the template, the resulting file comes out empty with no warnings or errors output. After debugging, I found that the DATA filehandle is actually empty before it is passed to the Template module.</p>\n\n<p>A previous version of this module is able to correctly read the template from DATA, but none of the changes that I have made should be affecting this part of the code. These changes consist of logic changes within completely separate functions and adding the following use statements to the module:</p>\n\n<pre><code>use DBI;\nuse DBI::Const::GetInfoType;\nuse Switch;\n</code></pre>\n\n<p>I have tried adding write permissions on the perl module (it was originally read-only) and removing the __END__ keyword as I found that wasn't necessary. Unfortunately the DATA filehandle still appears empty.</p>\n\n<p>What kind of problems could cause the DATA filehandle to be empty, and do any of these problems apply to my situation? I am using perl v5.12.5.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1486727062, "post_id": 42158479, "comment_id": 71482288, "body": "What do you think <code>{.10}</code> should be doing in this context? Because <code>y&#47;&#47;</code> is character based..."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486731223, "post_id": 42158479, "comment_id": 71484749, "body": "I wonder what would be expected if it were a regex pattern!"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6739969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/855a240fe72df82186a94f9894581948?s=128&d=identicon&r=PG&f=1", "display_name": "mklcp", "link": "https://stackoverflow.com/users/6739969/mklcp"}, "edited": false, "score": 0, "creation_date": 1486730297, "post_id": 42158735, "comment_id": 71484171, "body": "Indeed, after having seen things like <code>rename -f &#39;y&#47;A-Z&#47;a-z&#47;&#39; *</code> to change case and <code>s&#47;foo&#47;bar&#47;</code> to do replacement; I hadn&#39;t link the two. From what I can see and understand, (.*-) means &#39;all chars before -&#39;, ?"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1486727501, "creation_date": 1486727501, "answer_id": 42158735, "question_id": 42158479, "link": "https://stackoverflow.com/questions/42158479/how-to-change-the-case-of-all-but-the-last-n-characters-of-a-file-name/42158735#42158735", "title": "How to change the case of all but the last N characters of a file name", "body": "<p>I think this is because you're not understanding what <code>y///</code> is doing. </p>\n\n<p>It's a character based substitution, and so you say 'transliterate' from a-z -> A-Z</p>\n\n<p>In that context, the <code>{.10}</code> is just another set of characters to substitute (but with no matches on the left hand side.</p>\n\n<p>To make clearer what's happening:</p>\n\n<pre><code>y/a-z{.10}$/A-Zlmnopq/;\n</code></pre>\n\n<p>On your string will make it:</p>\n\n<pre><code>FOO_n_BAR_2-ABCDEFmTXT\n</code></pre>\n\n<p>Because the '0' and '1' are mapping to characters.</p>\n\n<p>To do what you want though, you could tackle it like this:</p>\n\n<pre><code> s/(.*)(.{10})/uc ($1).$2/e;\n</code></pre>\n\n<p>E.g.:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nwhile (&lt;DATA&gt;) {\n   s/(.*)(.{10})/uc ($1).$2/e;\n   print;\n}\n\n__DATA__\nfoo_1_bar_2-abcdef.txt\n</code></pre>\n\n<p>(You don't need an end of line anchor in the above because the <code>.*</code> regex is greedy).</p>\n\n<p>This gives you output of:</p>\n\n<pre><code>FOO_1_BAR_2-abcdef.txt\n</code></pre>\n\n<p>Although you may find it better/neater to work on delimiter anchoring (such as <code>-text</code> as that seems to be what you're aiming to do. (I'm guessing):</p>\n\n<pre><code>s/(.*-)/uc ($1)/e;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51553, "user_id": 557306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OAmpG.jpg?s=128&g=1", "display_name": "sidyll", "link": "https://stackoverflow.com/users/557306/sidyll"}, "is_accepted": false, "score": 1, "last_activity_date": 1486730720, "creation_date": 1486730720, "answer_id": 42159752, "question_id": 42158479, "link": "https://stackoverflow.com/questions/42158479/how-to-change-the-case-of-all-but-the-last-n-characters-of-a-file-name/42159752#42159752", "title": "How to change the case of all but the last N characters of a file name", "body": "<p>Apart form the <code>s///</code> solution, this seems to be an easy job for <a href=\"http://perldoc.perl.org/functions/substr.html\" rel=\"nofollow noreferrer\"><code>substr</code></a> as well:</p>\n\n<pre><code>my $n = 10; # number of chars left untouched at the end\nsubstr $s, 0, -$n, lc substr $s, 0, -$n;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 6739969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/855a240fe72df82186a94f9894581948?s=128&d=identicon&r=PG&f=1", "display_name": "mklcp", "link": "https://stackoverflow.com/users/6739969/mklcp"}, "edited": false, "score": 0, "creation_date": 1486762778, "post_id": 42160156, "comment_id": 71503129, "body": "Thanks for your answer, <code>\\U</code> is also dealing in a better way with unicode."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1486732419, "last_edit_date": 1486732419, "creation_date": 1486732003, "answer_id": 42160156, "question_id": 42158479, "link": "https://stackoverflow.com/questions/42158479/how-to-change-the-case-of-all-but-the-last-n-characters-of-a-file-name/42160156#42160156", "title": "How to change the case of all but the last N characters of a file name", "body": "<p>I would prefer to use the <code>\\U</code> escape sequence instead of <code>uc</code> together with the <em>expression</em> mode of substitute. A forward look-ahead also removes the need to reincorporate the unchanged section of the string</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $s = join '', 'a' .. 'z';\n\n$s =~ s/(.+)(?=.{10})/\\U$1/;\n\nsay $s;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>ABCDEFGHIJKLMNOPqrstuvwxyz\n</code></pre>\n\n<p>However, if your file names are always of the given form, i.e. you always want to uppercase the part before the hyphen, then you should do it by context rather than counting the number of characters to remain unchanged</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nmy $s = 'foo_1_bar_2-abcdef.txt';\n\n$s =~ s/^([^-]+)/\\U$1/;\n\nsay $s;\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>FOO_1_BAR_2-abcdef.txt\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6739969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/855a240fe72df82186a94f9894581948?s=128&d=identicon&r=PG&f=1", "display_name": "mklcp", "link": "https://stackoverflow.com/users/6739969/mklcp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 42158735, "answer_count": 3, "score": 0, "last_activity_date": 1486732723, "creation_date": 1486726667, "last_edit_date": 1486732723, "question_id": 42158479, "link": "https://stackoverflow.com/questions/42158479/how-to-change-the-case-of-all-but-the-last-n-characters-of-a-file-name", "title": "How to change the case of all but the last N characters of a file name", "body": "<p>With Perl and <code>rename</code>, I want to change to lower case, or upper case, all except the last N characters in a file name.</p>\n\n<p>For example, if N were 10 and upper case was wanted, then\n<code>foo_1_bar_2-abcdef.txt</code> should become <code>FOO_1_BAR_2-abcdef.txt</code>.</p>\n\n<p>I have tried things like <code>rename \"y/a-z{.10}$/A-Z/\" *</code>, but the <code>y</code> operator doesn't seem to want to take <code>{.10}</code>.</p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 2, "last_activity_date": 1486733089, "last_edit_date": 1486733089, "creation_date": 1486729085, "answer_id": 42159226, "question_id": 42157312, "link": "https://stackoverflow.com/questions/42157312/how-do-i-set-text-background-colour-with-the-pdfapi2-perl-module/42159226#42159226", "title": "How do I set text Background colour with the PDF::API2 Perl module?", "body": "<p>I'm not sure what you mean by \"highlight colour\".</p>\n\n<p>PDF documents have no \"background\" as such.You must draw a page-sized rectangle on each page and set its fill colour to the desired value.</p>\n\n<p>Something like this should work for you, but I'm unable to test it at the moment.</p>\n\n<p>Of course, you'll have to combine it sensibly with your existing code and make sure that the background content that contains the coloured rectangle is created before anything else</p>\n\n<pre><code>my $page = $pdf-&gt;page;\n\nmy $bg_content = $page-&gt;gfx;\n\nmy ($blx, $bly, $trx, $try) = $page-&gt;get_mediabox;\n\nmy $bg_rect = $bg_content-&gt;rect($blx, $bly, $trx-$blx, $try-$bly);\n$bg_rect-&gt;fillcolor('blue');\n$bg_rect-&gt;fill;\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 6588103, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ba5f60d8309d126d2bd8e97dfb9ce98f?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/6588103/rakesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 42159226, "answer_count": 1, "score": 0, "last_activity_date": 1486733089, "creation_date": 1486723230, "question_id": 42157312, "link": "https://stackoverflow.com/questions/42157312/how-do-i-set-text-background-colour-with-the-pdfapi2-perl-module", "title": "How do I set text Background colour with the PDF::API2 Perl module?", "body": "<p>I want to use text background or highlight colour using <code>PDF::API2</code>. How I can do this?</p>\n"}, {"tags": ["xml", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486721770, "post_id": 42156752, "comment_id": 71478808, "body": "What does this have to do with XML? Do you have a description of the API you are talking to?"}, {"owner": {"reputation": 13, "user_id": 7545220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c99994ef3a4ad197390633389a297bba?s=128&d=identicon&r=PG&f=1", "display_name": "sahisahil", "link": "https://stackoverflow.com/users/7545220/sahisahil"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486721864, "post_id": 42156752, "comment_id": 71478879, "body": "the parameter is in xml format. Its a REST API."}, {"owner": {"reputation": 13, "user_id": 7545220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c99994ef3a4ad197390633389a297bba?s=128&d=identicon&r=PG&f=1", "display_name": "sahisahil", "link": "https://stackoverflow.com/users/7545220/sahisahil"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486722315, "post_id": 42156752, "comment_id": 71479210, "body": "Can I use header somehow to add this request parameter ?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1486725309, "post_id": 42156752, "comment_id": 71481196, "body": "To answer, we&#39;re going to need some more detail. But for an example of how to POST some XML, this might be of use: <a href=\"http://stackoverflow.com/questions/29009370/assembling-xml-in-perl\" title=\"assembling xml in perl\">stackoverflow.com/questions/29009370/assembling-xml-in-perl</a>"}, {"owner": {"reputation": 13, "user_id": 7545220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c99994ef3a4ad197390633389a297bba?s=128&d=identicon&r=PG&f=1", "display_name": "sahisahil", "link": "https://stackoverflow.com/users/7545220/sahisahil"}, "edited": false, "score": 0, "creation_date": 1486726779, "post_id": 42156752, "comment_id": 71482121, "body": "Please see the picture I added., it shows how its supposed to work using SOAP UI. I want to achieve same using Perl."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1486728479, "post_id": 42156752, "comment_id": 71483155, "body": "The <code>$ua-&gt;post( $url, { &#39;param&#39; =&gt; &#39;value&#39;} );</code> doesn&#39;t works for you?"}, {"owner": {"reputation": 13, "user_id": 7545220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c99994ef3a4ad197390633389a297bba?s=128&d=identicon&r=PG&f=1", "display_name": "sahisahil", "link": "https://stackoverflow.com/users/7545220/sahisahil"}, "edited": false, "score": 0, "creation_date": 1486729361, "post_id": 42156752, "comment_id": 71483644, "body": "Thanks for answering, but No, it gives error &quot;content is not allowed in prolog&quot;.."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486731241, "post_id": 42156752, "comment_id": 71484766, "body": "Oh, I see. That should be fairly simple. It&#39;s just the body of the request. Since it&#39;s not complex XML you can just put it as a verbatim string. But the media type in your screenshot is <code>x&#47;www-form-urlencoded</code>. Are you sure that&#39;s correct? The body is <b>not</b> URL encoded. And the content you were talking about is not there in the screenshot."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 0, "last_activity_date": 1486736765, "creation_date": 1486736765, "answer_id": 42161734, "question_id": 42156752, "link": "https://stackoverflow.com/questions/42156752/sending-xml-request-tag-in-lwpuseragent/42161734#42161734", "title": "Sending XML Request Tag in LWP::UserAgent", "body": "<p>In your screenshot this XML-like string is in the body of the request. Just put it there the same way you showed your params.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new;\nmy $res = $ua-&gt;post( $url, content =&gt; '&lt;request&gt;getThisInfo&lt;/request&gt;');\n</code></pre>\n\n<p>You might need to set a different <code>Content-Type</code> header for the request. Also, now your query-params that you showed to be in the body are gone. But in your screenshot they are not there either. You need to decide what you want, and refer to the API documentation or ask the people providing the API.</p>\n"}], "owner": {"reputation": 13, "user_id": 7545220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c99994ef3a4ad197390633389a297bba?s=128&d=identicon&r=PG&f=1", "display_name": "sahisahil", "link": "https://stackoverflow.com/users/7545220/sahisahil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 42161734, "answer_count": 1, "score": 0, "last_activity_date": 1486736765, "creation_date": 1486721679, "last_edit_date": 1486733715, "question_id": 42156752, "link": "https://stackoverflow.com/questions/42156752/sending-xml-request-tag-in-lwpuseragent", "title": "Sending XML Request Tag in LWP::UserAgent", "body": "<p>I have a program in which we are using <code>LWP::UserAgent</code>. We also have content defined as follows:</p>\n\n<pre><code>content =&gt; \"columns[]=id&amp;columns[]=...\"\n</code></pre>\n\n<p>To invoke this POST method, I need to also send in a parameter </p>\n\n<pre><code>&lt;request&gt;getThisInfo&lt;/request&gt;\n</code></pre>\n\n<p>How can I achieve this? Where should I set this request information? AFAIK, this can't be in the header.</p>\n\n<p>This is what it looks like in SOAP UI.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fELPG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fELPG.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["perl", "md5", "md5-file"], "answers": [{"comments": [{"owner": {"reputation": 1491, "user_id": 629960, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/2i6rf.jpg?s=128&g=1", "display_name": "Roman Gelembjuk", "link": "https://stackoverflow.com/users/629960/roman-gelembjuk"}, "edited": false, "score": 0, "creation_date": 1490675049, "post_id": 42160610, "comment_id": 73205417, "body": "Will this method keeps all chunks in a memory together before finally calculate a hash sum? Or it does some actions each time when you call $md5-&gt;add( ) and keeps only a result in a memory?"}, {"owner": {"reputation": 103, "user_id": 9473773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/603f708b9447e48f58ca937a89128158?s=128&d=identicon&r=PG&f=1", "display_name": "Harper - Reinstate Monica", "link": "https://stackoverflow.com/users/9473773/harper-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1555423711, "post_id": 42160610, "comment_id": 98101047, "body": "My question exactly."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1486733477, "creation_date": 1486733477, "answer_id": 42160610, "question_id": 42156474, "link": "https://stackoverflow.com/questions/42156474/md5-of-a-file-from-stream-perl/42160610#42160610", "title": "MD5 of a file from stream. Perl", "body": "<p>There is no need to collect the data into a complete file before calculating the checksum. You may add the data in pieces to a <code>Digest::MD5</code> object, like this</p>\n\n<pre><code>my $md5 = Digest::MD5-&gt;new;\n\nwhile ( my $chunk = read_stream() ) {\n    $md5-&gt;add($chunk);\n}\n\nprint $md5-&gt;hexdigest, \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1491, "user_id": 629960, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/2i6rf.jpg?s=128&g=1", "display_name": "Roman Gelembjuk", "link": "https://stackoverflow.com/users/629960/roman-gelembjuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1486733477, "creation_date": 1486720949, "question_id": 42156474, "link": "https://stackoverflow.com/questions/42156474/md5-of-a-file-from-stream-perl", "title": "MD5 of a file from stream. Perl", "body": "<p>I need to get md5 checksum  of a file. \nBut i don't have a file on a disk and i can not save it to disk.\nI have only a stream (socket) from where i can read a file.</p>\n\n<p>How to calculate MD5 checksum in this case and get it to be same as i would calculate it for file on a disk?</p>\n\n<p>I can read chunks of any size of a stream. \nIs it possible to get correct MD5 for this case?</p>\n\n<p>I need some instructions of make md5sum from sums of chunks and get same result as</p>\n\n<pre><code>md5sum filetohash.txt\n</code></pre>\n\n<p>I code with Perl. </p>\n"}, {"tags": ["perl", "runtime", "display"], "comments": [{"owner": {"reputation": 917, "user_id": 3014263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFh51.jpg?s=128&g=1", "display_name": "AbhiNickz", "link": "https://stackoverflow.com/users/3014263/abhinickz"}, "edited": false, "score": 1, "creation_date": 1486718184, "post_id": 42155438, "comment_id": 71476697, "body": "<code>my $store = &#39;Media Markt&#39;;  my $sentence = &quot;I visited $store&quot;;  print $sentence;</code>"}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 0, "creation_date": 1486718412, "post_id": 42155438, "comment_id": 71476831, "body": "see also: <a href=\"http://stackoverflow.com/q/1091634/632407\">stackoverflow.com/q/1091634/632407</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1487013698, "post_id": 42155438, "comment_id": 71584972, "body": "Please see <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 1824796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da06fdf47e2483bb09b3321bfca69887?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/1824796/pavel"}, "edited": false, "score": 0, "creation_date": 1487446696, "post_id": 42155755, "comment_id": 71792781, "body": "OP may go with just an array of objects If she thinks about dynamically added code."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 73, "user_id": 1824796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da06fdf47e2483bb09b3321bfca69887?s=128&d=identicon&r=PG", "display_name": "Pavel", "link": "https://stackoverflow.com/users/1824796/pavel"}, "edited": false, "score": 0, "creation_date": 1487486316, "post_id": 42155755, "comment_id": 71801881, "body": "@paveljurca  I completely agree that there are other ways to pursue what seems to be the idea, and that OO approach would be good."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1503819602, "last_edit_date": 1503819602, "creation_date": 1486718721, "answer_id": 42155755, "question_id": 42155438, "link": "https://stackoverflow.com/questions/42155438/seeing-value-of-perl-variable-created-at-runtime/42155755#42155755", "title": "Seeing value of Perl variable created at runtime", "body": "<p>You seem to be thinking of using a string, <code>'store'</code>, in order to build a variable name, <code>$store</code>. This gets to the subject of <a href=\"https://perldoc.perl.org/perlref.html#Symbolic-references\" rel=\"nofollow noreferrer\">symbolic references</a>, and you <a href=\"https://stackoverflow.com/a/1298392/4653379\">do not want to</a> go there.</p>\n\n<p>One way to do what you want is to build a hash that relates such strings to corresponding variables. Then capture the bracketed strings in the sentence and replace them by their hash values</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $store = 'Media Markt';\nmy $time  = 'morning';\n\nmy %repl = ( store =&gt; $store, time =&gt; $time );\n\nmy $sentence = \"I visited [store] in the [time]\";\n\n$sentence =~ s/\\[ ([^]]+) \\]/$repl{$1}/gex;\n\nprint \"$sentence\\n\";\n</code></pre>\n\n<p>This prints the line <code>I visited Media Markt in the morning</code></p>\n\n<p>The regex captures anything between <code>[ ]</code>, by using the <a href=\"http://perldoc.perl.org/perlretut.html#Using-character-classes\" rel=\"nofollow noreferrer\">negated character class</a> <code>[^]]</code> (any char other than <code>]</code>), matched one-or-more times (<code>+</code>). Then it replaces that  with its value in the hash, using <code>/e</code> to evaluate the replacement side as an expression. Since brackets are matched as well they end up being removed.  The <code>/x</code> allows spaces inside, for readibilty.</p>\n\n<p>For each string found in brackets there must be a key-value pair in the hash or you'll get a warning. To account for this, we can provide an alternative</p>\n\n<pre><code>$sentence =~ s{\\[ ([^]+) \\]}{$repl{$1}//\"[$1]\"}gex;\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/perlop.html#Logical-Defined-Or\" rel=\"nofollow noreferrer\"><code>defined-or</code> operator</a> (<code>//</code>) puts back <code>\"[$1]\"</code> if <code>$repl{$1}</code> returns <code>undef</code> (no key <code>$1</code> in the hash, or it has <code>undef</code> value). Thus strings which have no hash pairs are unchanged. I changed the delimiters to <code>s{}{}</code> so that <code>//</code> can be used inside.</p>\n\n<p>This does not allow nesting (like <code>[store [name]]</code>), does not handle multiline strings, and has other limitations. But it should work for reasonable cases.</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1486722624, "last_edit_date": 1592644375, "creation_date": 1486722624, "answer_id": 42157096, "question_id": 42155438, "link": "https://stackoverflow.com/questions/42155438/seeing-value-of-perl-variable-created-at-runtime/42157096#42157096", "title": "Seeing value of Perl variable created at runtime", "body": "<p>As I told you on the Perl Programmers Facebook group, this is very similar to one of the answers in the Perl FAQ.</p>\n<blockquote>\n<p><a href=\"http://perldoc.perl.org/perlfaq4.html#How-can-I-expand-variables-in-text-strings%3F\" rel=\"nofollow noreferrer\">How can I expand variables in text strings?</a></p>\n<p>If you can avoid it, don't, or if you can use a templating system, such as Text::Template or Template Toolkit, do that instead. You might even be able to get the job done with <code>sprintf</code> or <code>printf</code>:</p>\n<pre><code>my $string = sprintf 'Say hello to %s and %s', $foo, $bar;\n</code></pre>\n<p>However, for the one-off simple case where I don't want to pull out a full templating system, I'll use a string that has two Perl scalar variables in it. In this example, I want to expand $foo and $bar to their variable's values:</p>\n<pre><code>my $foo = 'Fred';\nmy $bar = 'Barney';\n$string = 'Say hello to $foo and $bar';\n</code></pre>\n<p>One way I can do this involves the substitution operator and a double <code>/e</code> flag. The first <code>/e</code> evaluates <code>$1</code> on the replacement side and turns it into <code>$foo</code>. The second <code>/e</code> starts with <code>$foo</code> and replaces it with its value. <code>$foo</code>, then, turns into 'Fred', and that's finally what's left in the string:</p>\n<pre><code>$string =~ s/(\\$\\w+)/$1/eeg; # 'Say hello to Fred and Barney'\n</code></pre>\n<p>The <code>/e</code> will also silently ignore violations of strict, replacing undefined variable names with the empty string. Since I'm using the <code>/e</code> flag (twice even!), I have all of the same security problems I have with <code>eval</code> in its string form. If there's something odd in <code>$foo</code>, perhaps something like <code>@{[ system &quot;rm -rf /&quot; ]}</code>, then I could get myself in trouble.</p>\n<p>To get around the security problem, I could also pull the values from a hash instead of evaluating variable names. Using a single <code>/e</code>, I can check the hash to ensure the value exists, and if it doesn't, I can replace the missing value with a marker, in this case ??? to signal that I missed something:</p>\n<pre><code>my $string = 'This has $foo and $bar';\nmy %Replacements = (\n    foo  =&gt; 'Fred',\n    );\n# $string =~ s/\\$(\\w+)/$Replacements{$1}/g;\n$string =~ s/\\$(\\w+)/\n            exists $Replacements{$1} ? $Replacements{$1} : '???'\n            /eg;\nprint $string;\n</code></pre>\n</blockquote>\n<p>And the actual (but <strong>really</strong> not recommended - for the reasons explained in the FAQ above) answer to your question is:</p>\n<pre><code>$sentence =~ s/\\[(\\w+)]/'$' . $1/ee;\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1503819602, "creation_date": 1486717723, "question_id": 42155438, "link": "https://stackoverflow.com/questions/42155438/seeing-value-of-perl-variable-created-at-runtime", "title": "Seeing value of Perl variable created at runtime", "body": "<p>My code is below:</p>\n\n<pre><code>use strict;\n\nmy $store = 'Media Markt';\nmy $sentence = \"I visited [store]\";\n\n# Replace characters \"[\" and \"]\"\n$sentence =~ s/\\[/\\$/g;\n$sentence =~ s/\\]//g;\n\nprint $sentence;\n</code></pre>\n\n<p>I see following at screen:</p>\n\n<blockquote>\n  <p>I visited $store</p>\n</blockquote>\n\n<p>Is it possible to see following? I want to see value of $store:</p>\n\n<blockquote>\n  <p>I visited Media Markt</p>\n</blockquote>\n"}, {"tags": ["xml", "perl", "libxml2", "xml-libxml", "libxslt"], "comments": [{"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 2, "creation_date": 1486713151, "post_id": 42153810, "comment_id": 71474034, "body": "It means: the particular report is generated using the libxslt version 10128. For me the <code>make test</code> prints: <code>Compiled against:    libxslt 10129, libxml2 20904</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486720193, "post_id": 42153810, "comment_id": 71477894, "body": "The easiest way would be to try. And then send a report to cpantesters."}], "answers": [{"tags": [], "owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "is_accepted": false, "score": 0, "last_activity_date": 1486738533, "creation_date": 1486738533, "answer_id": 42162342, "question_id": 42153810, "link": "https://stackoverflow.com/questions/42153810/compatibility-matrix-for-xmllibxslt-with-libxslt-and-libxml2/42162342#42162342", "title": "Compatibility matrix for XML::LibXSLT with libxslt and libxml2", "body": "<p>You should be able to compile XML::LibXSLT with libxslt 1.1.18 or newer. Only versions 1.1.25 and 1.1.27 are <a href=\"https://metacpan.org/source/SHLOMIF/XML-LibXSLT-1.95/Makefile.PL#L59\" rel=\"nofollow noreferrer\">blacklisted</a>. Switching to a <em>newer</em> libxslt version <em>without recompiling</em> XML::LibXSLT is also supported. Switching to an <em>older</em> version of libxslt can result in a runtime link failure or a warning message. But AFAIK, 1.1.28 and 1.1.29 can be used interchangeably.</p>\n"}], "owner": {"reputation": 1805, "user_id": 1410711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2872680a6b9ef5b0407b4fef88966e2e?s=128&d=identicon&r=PG", "display_name": "Recker", "link": "https://stackoverflow.com/users/1410711/recker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486738533, "creation_date": 1486711797, "question_id": 42153810, "link": "https://stackoverflow.com/questions/42153810/compatibility-matrix-for-xmllibxslt-with-libxslt-and-libxml2", "title": "Compatibility matrix for XML::LibXSLT with libxslt and libxml2", "body": "<p>How can I tell if XML::LibXSLT-1.94 is most compatible with libxslt 1.1.29 or  libxslt 1.1.28 ?</p>\n\n<p>I have <a href=\"http://www.cpantesters.org/cpan/report/1c6e7ce2-0a1b-11e5-a857-d91bc75d5552\" rel=\"nofollow noreferrer\">this report</a> which says</p>\n\n<p><code>Compiled against:    libxslt 10128, libxml2 20902\n Running:             libxslt 10128, libxml2 20902</code></p>\n\n<p>Does this mean its <strong>only</strong> compatible with libxslt 1.1.28 and libxml2 2.9.2 on that particular version of OS ? </p>\n\n<p>If not, is there any compatibility matrix that I can refer to ?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1486709679, "post_id": 42153140, "comment_id": 71472426, "body": "They are the same, except that <code>or</code> has much lower precedence. See <a href=\"http://perldoc.perl.org/perlop.html#Logical-or-and-Exclusive-Or\" rel=\"nofollow noreferrer\">about it in perlop</a>. This does imply differences in use, but in your example you can use either. Also, find the precedence table in the same page."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1486738507, "post_id": 42153140, "comment_id": 71489585, "body": "Related: <a href=\"http://stackoverflow.com/questions/1512547/what-is-the-difference-between-perls-or-and-and-short-circuit-o\" title=\"what is the difference between perls or and and short circuit o\">stackoverflow.com/questions/1512547/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/1136583/what-is-the-difference-between-and-or-in-perl\" title=\"what is the difference between and or in perl\">stackoverflow.com/questions/1136583/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5761162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54d253169f46849b69e3c3223a8e2661?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/5761162/sampath"}, "edited": false, "score": 0, "creation_date": 1486710587, "post_id": 42153240, "comment_id": 71472821, "body": "Ohk Thanks Matt.. Sorry I didn&#39;t mean to use  uppercase OR actually i was trying to highlight it in my question"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 4, "last_activity_date": 1486709720, "creation_date": 1486709720, "answer_id": 42153240, "question_id": 42153140, "link": "https://stackoverflow.com/questions/42153140/logicaloperators-when-do-we-use-operator-or-and-when-do-we-use/42153240#42153240", "title": "LogicalOperators : When do we use operator OR and when do we use ||", "body": "<p>In this case, it doesn't matter, because:</p>\n\n<ol>\n<li>You're using parentheses, which have the highest precedence</li>\n<li><code>eq</code> has a higher precedence than both <code>||</code> and <code>or</code></li>\n</ol>\n\n<p>Here's what <a href=\"http://perldoc.perl.org/perlop.html#Logical-or-and-Exclusive-Or\" rel=\"nofollow noreferrer\">perlop</a> says:</p>\n\n<blockquote>\n  <p>Binary \"<code>or</code>\" returns the logical disjunction of the two surrounding\n  expressions. It's equivalent to <code>||</code> except for the very low\n  precedence.</p>\n</blockquote>\n\n<p>Also note that <code>OR</code> (uppercase) is not a valid Perl operator, but <code>or</code> (lowercase) is.</p>\n"}, {"tags": [], "owner": {"reputation": 42833, "user_id": 18914, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a20a39ae2ef47ae042a3eddd5b5bd19?s=128&d=identicon&r=PG", "display_name": "Dave Sherohman", "link": "https://stackoverflow.com/users/18914/dave-sherohman"}, "is_accepted": false, "score": 6, "last_activity_date": 1486713390, "creation_date": 1486713390, "answer_id": 42154241, "question_id": 42153140, "link": "https://stackoverflow.com/questions/42153140/logicaloperators-when-do-we-use-operator-or-and-when-do-we-use/42154241#42154241", "title": "LogicalOperators : When do we use operator OR and when do we use ||", "body": "<p>The general rule of thumb tends to be:</p>\n\n<ul>\n<li>Use <code>||</code> to combine boolean operations, such as <code>if ($app eq \"appname1\" || $app eq \"appname2\" || $app eq \"appname3\") { ... }</code></li>\n<li>Use <code>or</code> for flow control, such as <code>open my $fh, '&lt;', $filename or die \"Open failed: $!\"</code></li>\n<li>Use parentheses when in doubt or if you think the resulting structure might be unclear to a reader (including yourself in six months)</li>\n</ul>\n"}], "owner": {"reputation": 41, "user_id": 5761162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54d253169f46849b69e3c3223a8e2661?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/5761162/sampath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "closed_date": 1486804359, "answer_count": 2, "score": 3, "last_activity_date": 1486713390, "creation_date": 1486709321, "last_edit_date": 1486709823, "question_id": 42153140, "link": "https://stackoverflow.com/questions/42153140/logicaloperators-when-do-we-use-operator-or-and-when-do-we-use", "closed_reason": "Duplicate", "title": "LogicalOperators : When do we use operator OR and when do we use ||", "body": "<p>I am working on a small script using Perl and i am confused which logical operator has to be used for comparing strings</p>\n\n<p>Sample Code :</p>\n\n<pre><code>if (($app eq \"appname1\")OR($app eq \"appname2\")OR($app eq \"appname3\"))\n</code></pre>\n\n<p>Do i have to use <code>OR</code> (or) <code>||</code> </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 47, "user_id": 6386886, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/60ae3e6b6725df8d7948e3f063648863?s=128&d=identicon&r=PG&f=1", "display_name": "LittleMagnolia", "link": "https://stackoverflow.com/users/6386886/littlemagnolia"}, "reply_to_user": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "edited": false, "score": 0, "creation_date": 1486702670, "post_id": 42151720, "comment_id": 71469788, "body": "I am not getting the concept of comparing my keys to the values of another file."}, {"owner": {"reputation": 52821, "user_id": 632407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AfGWW.jpg?s=128&g=1", "display_name": "jm666", "link": "https://stackoverflow.com/users/632407/jm666"}, "edited": false, "score": 1, "creation_date": 1486712309, "post_id": 42151720, "comment_id": 71473657, "body": "Please, edit your question to be more clear. The code makes no sense in relation to your data, for example i see nowhere in the data the hardcoded <code>MOBILE_DEV</code> string. Also, the <code>chomo</code> should be <code>chomp</code>. etc.."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1487073460, "post_id": 42154579, "comment_id": 71610717, "body": "I&#39;m pretty sure that <code>my %hash=undef</code> doesn&#39;t do what you think it does. Adding <code>use warnings</code> to the code would have shown you the problem."}], "tags": [], "owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "is_accepted": false, "score": 0, "last_activity_date": 1486715373, "last_edit_date": 1486715373, "creation_date": 1486714700, "answer_id": 42154579, "question_id": 42151720, "link": "https://stackoverflow.com/questions/42151720/perl-hash-printing-file-columns-based-on-key-of-another-file/42154579#42154579", "title": "Perl hash : printing file columns based on key of another file", "body": "<p>Something like below where first argument is file one, and second argument is file two :</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nmy %hash=undef;\nopen(my $fh,$ARGV[0]);\nwhile (&lt;$fh&gt;) {\n    my @fields=split(/\\s+/);\n    $hash{$fields[0]}=1;\n}\nclose($fh);\n\nopen(my $fh,$ARGV[1]);\nwhile (&lt;$fh&gt;) {\n    for my $key (keys %hash) {\n        if ($key &amp;&amp; /$key/) {\n            print \"$_\";\n        }\n    }\n}\nclose($fh);\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 6386886, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/60ae3e6b6725df8d7948e3f063648863?s=128&d=identicon&r=PG&f=1", "display_name": "LittleMagnolia", "link": "https://stackoverflow.com/users/6386886/littlemagnolia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1486715373, "creation_date": 1486702052, "question_id": 42151720, "link": "https://stackoverflow.com/questions/42151720/perl-hash-printing-file-columns-based-on-key-of-another-file", "title": "Perl hash : printing file columns based on key of another file", "body": "<p>I am new to perl and finding this difficult to deal with below situation and concept of hash in perl. I found some inputs to deal with this scenario but dont have Text:CSV module installed. </p>\n\n<pre><code>#/usr/bin/perl -w\nuse strict;\nuse warning;\nuse Data::Dumper;\n\nmy $INFILE_01 = \"FILE_01.txt\";\nmy $INFILE_02 = \"FILE_02.txt\";\n\nopen INFILE02, \"&lt; $INFILE_02\" or die \"$0 : Failed to open input file $INFILE_02 : $! \\n\";\n</code></pre>\n\n<blockquote>\n<pre><code># Format of INFILE02 - Tab Delimited\n</code></pre>\n  \n  <blockquote>\n<pre><code>DEVELOMENT_TEST BUGID_TS57  TestID\nDEVELOMENT_UAT  BUGID_TS57  TestID\nDEVELOMENT_PROD BUGID_TS57  TestID\nDEVELOMENT_REG  BUGID_TS57  TestID\nDEVELOMENT_TEST BUGID_TS57  TestID\nDEVELOMENT_TEST BUGID_TS57  TestID\nDEVELOMENT_UAT  BUGID_TS57  TestID\n</code></pre>\n  </blockquote>\n</blockquote>\n\n<pre><code>my %INFILE02;\n\nwhile (my $line = &lt;INFILE02&gt;) {\n    # Skipping if the line is empty or a comment\n    next if ( $line =~ /^\\s*$/ );\n    next if ( $line =~ /^#\\s*/ );\n    chomo $line;\n\n    if ($line = ~ /MOBILE_DEV/) { \n        my ($colum1, $column2, undef) = split /\\t/, $line;\n        $INFILE02{$colum1} = $colum2;\n    }\n\n}\nclose $INFILE02 or die \"$0 : Failed to close input file $INFILE02 : $! \\n\";\nprint Dumper \\%INFILE02;\n\n# Output of %INFILE02\n$VAR1 = {\n        'DEVELOMENT_TEST' =&gt; 'BUGID_TS57',\n        'DEVELOMENT_UAT'  =&gt; 'BUGID_TS57',\n        'DEVELOMENT_PROD' =&gt; 'BUGID_TS57',\n        'DEVELOMENT_REG'  =&gt; 'BUGID_TS57'\n}\n</code></pre>\n\n<p>Now from above hash output of INFILE02 I need to match the keys DEVELOMENT_TEST,DEVELOMENT_UAT,  DEVELOMENT_PROD, DEVELOMENT_REG to File INFILE01 on each line one by one. </p>\n\n<p>for Ex if Key DEVELOMENT_TEST is present on any line of INFILE01 then print the column1 , column 3 of INFILE01 and all columns of INFILE02 to a output file. </p>\n\n<p>I need to repeat this for all the keys of %INFILE02. </p>\n\n<blockquote>\n<pre><code>#Format of INFILE001 - Tab Delimited\n119736    PRODUCTTESTING  DEVELOMENT_TEST\n448094    PRODUCTTESTING  DEVELOMENT_TEST\n206893    PRODUCTTESTING  DEVELOMENT_TEST\n333743    PRODUCTTESTING  DEVELOMENT_TEST\n172534    PRODUCTTESTING  DEVELOMENT_PROD\n785275    PRODUCTTESTING  DEVELOMENT_PROD\n995932    PRODUCTTESTING  DEVELOMENT_PROD\n223488    PRODUCTTESTING  DEVELOMENT_TEST\n433512    PRODUCTTESTING  DEVELOMENT_TEST\n640802    PRODUCTTESTING  DEVELOMENT_PROD\n403866    PRODUCTTESTING  DEVELOMENT_UAT\n828788    PRODUCTTESTING  DEVELOMENT_UAT\n751490    PRODUCTTESTING  DEVELOMENT_UAT\n972562    PRODUCTTESTING  DEVELOMENT_UAT\n367541    PRODUCTTESTING  DEVELOMENT_REG\n481360    PRODUCTTESTING  DEVELOMENT_REG\n920232    PRODUCTTESTING  DEVELOMENT_UAT\n</code></pre>\n</blockquote>\n\n<p>Desired output should be as below:</p>\n\n<pre><code>119736  DEVELOMENT_TEST BUGID_TS57  TestID\n448094  DEVELOMENT_TEST BUGID_TS57  TestID\n206893  DEVELOMENT_TEST BUGID_TS57  TestID\n333743  DEVELOMENT_TEST BUGID_TS57  TestID\n223488  DEVELOMENT_TEST BUGID_TS57  TestID\n433512  DEVELOMENT_TEST BUGID_TS57  TestID\n172534  DEVELOMENT_PROD BUGID_TS57  TestID\n785275  DEVELOMENT_PROD BUGID_TS57  TestID\n995932  DEVELOMENT_PROD BUGID_TS57  TestID\n640802  DEVELOMENT_PROD BUGID_TS57  TestID\n403866  DEVELOMENT_UAT  BUGID_TS57  TestID\n828788  DEVELOMENT_UAT  BUGID_TS57  TestID\n751490  DEVELOMENT_UAT  BUGID_TS57  TestID\n972562  DEVELOMENT_UAT  BUGID_TS57  TestID\n920232  DEVELOMENT_UAT  BUGID_TS57  TestID\n367541  DEVELOMENT_REG  BUGID_TS57  TestID\n481360  DEVELOMENT_REG  BUGID_TS57  TestID\n</code></pre>\n\n<p>Please advice on same. Thanks in advance.</p>\n"}, {"tags": ["perl", "sockets", "networking"], "comments": [{"owner": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1486701272, "post_id": 42151567, "comment_id": 71469373, "body": "Do we really need a <a href=\"https://stackoverflow.com/questions/tagged/wtf\">wtf</a> tag?"}, {"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "reply_to_user": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 2, "creation_date": 1486701696, "post_id": 42151567, "comment_id": 71469499, "body": "@BenjaminW. I&#39;ve been trying to add it for years."}, {"owner": {"reputation": 16402, "user_id": 4025095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/blJ4L.jpg?s=128&g=1", "display_name": "Myst", "link": "https://stackoverflow.com/users/4025095/myst"}, "edited": false, "score": 0, "creation_date": 1486703717, "post_id": 42151567, "comment_id": 71470109, "body": "@MK. , although you can probably use the static <code>select</code> call for this (which, for some reason, ignores the existing object model), I would recommend that you consider <code>select</code> as broken for any real network use... if your application opens more than 1023 file descriptors, the <code>select</code> system call will crash on some systems."}, {"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1486704227, "post_id": 42151567, "comment_id": 71470280, "body": "The fact that select has limitations is not an excuse for making the object model even more broken."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 3, "creation_date": 1486704706, "post_id": 42151567, "comment_id": 71470437, "body": "Uhh, <a href=\"http://perldoc.perl.org/IO/Select.html#select-%28-READ%2c-WRITE%2c-EXCEPTION-%5B%2c-TIMEOUT-%5D-%29\" rel=\"nofollow noreferrer\">IO::Select-&gt;select</a>?"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1486719367, "post_id": 42151567, "comment_id": 71477414, "body": "@MK. <a href=\"http://stackoverflow.com/a/40192400/2173773\">Here</a> is an example where I use select with both read and write"}], "answers": [{"comments": [{"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1486702375, "post_id": 42151728, "comment_id": 71469701, "body": "Right, so i want it to block, but I want to to block until any socket becomes available, either for read or for write.  And it doesn&#39;t appear to be possible with this API, which to me makes it look completely broken and question sanity of library authors"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1486711331, "post_id": 42151728, "comment_id": 71473179, "body": "@MK Correction on my previous comment -- <code>can_read</code> works with <i>all</i> sockets &quot;registered&quot; with the object (which is done using <code>add</code>). So it does exactly what you ask?"}, {"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1486711887, "post_id": 42151728, "comment_id": 71473460, "body": "no, i want to be able to wait for both read and write at the same time.  I suppose select is exposed there so my fury was misdirected."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1486712503, "post_id": 42151728, "comment_id": 71473733, "body": "@MK. Can you combine them in the <code>while</code> loop condition, in a <i>non-blocking</i> mode? Like <code>while ( @read = $sel-&gt;can_read(timeout) or @write = $sel-&gt;can_write(timeout) )</code> ?"}, {"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1486712992, "post_id": 42151728, "comment_id": 71473947, "body": "@zdim that defeats the purpose of select, the ability to block waiting for any event."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "edited": false, "score": 0, "creation_date": 1486714724, "post_id": 42151728, "comment_id": 71474776, "body": "@MK. Sure, no need to poll if you don&#39;t mind the static <code>select</code>. Then I misunderstood the question (it starts out by quoting docs but ignores the static <code>select</code> on that short page, and the comments pointing it out). Sorry for the noise then. Remove these comments?"}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 2, "last_activity_date": 1486702087, "creation_date": 1486702087, "answer_id": 42151728, "question_id": 42151567, "link": "https://stackoverflow.com/questions/42151567/how-can-i-block-waiting-for-either-a-read-or-write-socket-using-ioselect/42151728#42151728", "title": "How can I block waiting for either a read or write socket using IO::Select?", "body": "<blockquote>\n  <p>If TIMEOUT is not given and any handles are registered then the call will block.</p>\n</blockquote>\n\n<p>It looks like <code>can_read</code> and <code>can_write</code> <em>will</em> block if you don't pass a timeout.  I'd suggest that this is rarely what is desired, though it might be under some circumstances.</p>\n\n<p>Personally, I'd suggest using one of the many event modules (POE, AnyEvent, etc) instead.  It's a bit more to get going, but handles more scenarios more cleanly.</p>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 3, "last_activity_date": 1486745311, "last_edit_date": 1592644375, "creation_date": 1486745311, "answer_id": 42164549, "question_id": 42151567, "link": "https://stackoverflow.com/questions/42151567/how-can-i-block-waiting-for-either-a-read-or-write-socket-using-ioselect/42164549#42164549", "title": "How can I block waiting for either a read or write socket using IO::Select?", "body": "<p>Use <a href=\"http://perldoc.perl.org/IO/Select.html#select-%28-READ%2c-WRITE%2c-EXCEPTION-%5B%2c-TIMEOUT-%5D-%29\" rel=\"nofollow noreferrer\"><code>IO::Select-&gt;select</code></a>:</p>\n<blockquote>\n<p><strong>select ( READ, WRITE, EXCEPTION [, TIMEOUT ] )</strong></p>\n<p><code>select</code> is a static method, that is you call it with the package name like <code>new</code>. <code>READ</code>, <code>WRITE</code> and <code>EXCEPTION</code> are either <code>undef</code> or <code>IO::Select</code> objects. <code>TIMEOUT</code> is optional and has the same effect as for the core select call.</p>\n<p>The result will be an array of 3 elements, each a reference to an array which will hold the handles that are ready for reading, writing and have exceptions respectively. Upon error an empty list is returned.</p>\n</blockquote>\n<p>For example:</p>\n<pre><code>my $rsel  = IO::Select-&gt;new($rfh);\nmy $wsel  = IO::Select-&gt;new($wfh);\nmy $esel  = IO::Select-&gt;new($rfh, $wfh);\n\nmy @ready = IO::Select-&gt;select($rsel, $wsel, $esel, undef);\n</code></pre>\n"}], "owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 42164549, "answer_count": 2, "score": 2, "last_activity_date": 1486745595, "creation_date": 1486701154, "last_edit_date": 1486745595, "question_id": 42151567, "link": "https://stackoverflow.com/questions/42151567/how-can-i-block-waiting-for-either-a-read-or-write-socket-using-ioselect", "title": "How can I block waiting for either a read or write socket using IO::Select?", "body": "<p>I'm using <a href=\"http://perldoc.perl.org/IO/Select.html\" rel=\"nofollow noreferrer\">IO::Select</a>.</p>\n\n<p>It is an OOP wrapper for the <a href=\"http://perldoc.perl.org/functions/select.html\" rel=\"nofollow noreferrer\">normal <code>select</code> call</a>, but it exposes <code>can_read()</code> and <code>can_write()</code> methods.  Is there no way to block waiting for a read or write socket?  Does this not (almost) defeat the purpose of having IO::Select in the first place?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1486703595, "post_id": 42151158, "comment_id": 71470061, "body": "Questions seeking debugging help (&quot;<b>why isn&#39;t this code working?</b>&quot;) must include the desired behavior, a <i>specific problem or error</i> and <i>the shortest code necessary</i> to reproduce it <b>in the question itself</b>. Questions without <b>a clear problem statement</b> are not useful to other readers. See: How to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486720334, "post_id": 42151158, "comment_id": 71477982, "body": "What are you talking about? That&#39;s not Perl code. I looks like C. Is this data that you want to transform using Perl?"}, {"owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "edited": false, "score": 1, "creation_date": 1486758194, "post_id": 42151158, "comment_id": 71500993, "body": "It appears to me that the ambiguity in the question was due to English not being the author&#39;s first language.  Once I understood the.example code was data to be parsed, I found it to be an interesting question."}], "answers": [{"tags": [], "owner": {"reputation": 2690, "user_id": 5869736, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18e361761e0643fd9003f9eae40ba45?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/5869736/marty"}, "is_accepted": true, "score": 1, "last_activity_date": 1486728381, "creation_date": 1486728381, "answer_id": 42158998, "question_id": 42151158, "link": "https://stackoverflow.com/questions/42151158/pass-by-value-to-be-made-into-pass-by-pointer-perl-code/42158998#42158998", "title": "pass by value to be made into pass by pointer-perl code", "body": "<p>I presume that the first argument to the call is <em>always</em> a hex number that doesn't have to be examined or transformed.  I've also presumed that args 2 and 3 are always ANDed with 0xFF.  Finally, I've presumed that the function being called and the argument being shifted are simple words - i.e. match <code>\\w+</code>.  With these presumptions, the following appears to do what you want;</p>\n\n<pre><code>use v5.12;\n\nwhile (&lt;&gt;) {\n    chomp ;\n    if (/ ^ (\\w+) \\(  .* \\) \\s* ; $ /x) {\n        my $call = $1 ;                            # function name being called\n        s/ ^  \\w+  \\( //x ;                        # Strip off fn call and open paren\n        s/ \\) \\s* ; \\s* $ //x ;                    # Strip off close paren and semicolon\n        my ($arg1 , $arg2 , $arg3) = split ',' ;   # split into arguements of the call\n\n        my $new_args = join(\",\" , $arg1 , transform($arg2) , transform($arg3)) ;\n        say \"$call($new_args );\" ;\n    }\n    else {\n        say $_ ;\n    }\n}\n\n\nsub transform {\n    $_ = shift ;\n    my $replacement ;\n\n    s/ ^ \\s* \\( //x;                    # Strip off opening paren\n    s/ \\) \\s* $ //x;                    # Strip off closing paren\n    s/ &amp; 0xFF $ //x ;                   # Strip off ANDing all ones\n\n    if (/^ \\w+ $/x) {                   # Simple var name left?\n        $replacement = \"BYTE0(\" . $_ . \")\" ;\n    }\n    elsif (/ ^ \\( (\\w+) &gt;&gt; (\\d+) \\) $ /x) {   # var name shifted some number of bits\n        my $var_name = $1 ;\n        my $shift_size = $2 ;\n        my $byte_num = $shift_size / 8 ;\n        $replacement = \"BYTE\" . $byte_num . \"(\" . $var_name . \")\" ;\n    }\n    else {\n        warn \"Dont understand '$_' on line $.\\n\";\n        $replacement = $_ ;\n    }\n    return $replacement\n}\n</code></pre>\n\n<p>Its unix filter style - input on STDIN, transformed output on STDOUT.  When I feed it this made up data;</p>\n\n<pre><code>hello\nSend(0x39,((rLoss&gt;&gt;8)&amp;0xFF),(rLoss&amp;0xFF) );\nworld\nReceive(0x12,(rWin&amp;0xFF),((rWin&gt;&gt;16)&amp;0xFF) );\nbye\n</code></pre>\n\n<p>It spits out</p>\n\n<pre><code>hello\nSend(0x39,BYTE1(rLoss),BYTE0(rLoss) );\nworld\nReceive(0x12,BYTE0(rWin),BYTE2(rWin) );\nbye\n</code></pre>\n\n<p>Hopefully, the inline comments explain the code.  The decision on whether to attempt to transform the line or leave it alone is based solely on the first regex - a word (fn call) followed by something in parentheses - this may or may not be what you want.  Perhaps you know that its always a call to \"Send\" in which case you can put that in the regex.</p>\n\n<p>The only other thing you may not be familiar with is the integer division operator '/'.  This is used to translate the number of bits being shifted to the BYTE num macro call.</p>\n"}], "owner": {"reputation": 11, "user_id": 7530684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83bd16c32e0c61c119befebe80f7e350?s=128&d=identicon&r=PG&f=1", "display_name": "Balasubramanian V", "link": "https://stackoverflow.com/users/7530684/balasubramanian-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "closed_date": 1486734464, "accepted_answer_id": 42158998, "answer_count": 1, "score": 0, "last_activity_date": 1486755237, "creation_date": 1486698340, "last_edit_date": 1486755237, "question_id": 42151158, "link": "https://stackoverflow.com/questions/42151158/pass-by-value-to-be-made-into-pass-by-pointer-perl-code", "closed_reason": "Needs details or clarity", "title": "pass by value to be made into pass by pointer-perl code", "body": "<p>I have a function call like this below:</p>\n\n<pre><code>Send(0x39,((rLoss&gt;&gt;8)&amp;0xFF),(rLoss&amp;0xFF) );\n</code></pre>\n\n<p>I want to convert this function to pass by pointer. I have written two macros like</p>\n\n<pre><code>BYTE0(var)  ((uint8_t *)&amp;var)\nBYTE1(var)  ((uint8_t)&amp;var)+1)\n</code></pre>\n\n<p>I want the result to be</p>\n\n<pre><code>Send(0x39,BYTE1(rLoss),BYTE0(rLoss) );\n</code></pre>\n\n<p>Can you please help me do this in perl... Thanks....</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1486692828, "post_id": 42150133, "comment_id": 71467096, "body": "The online regex testers I&#39;ve seen all use PCRE, not Perl regex, so the results won&#39;t necessarily be the same. Also, the <code>&#47;m</code> modifier is useless because you don&#39;t use any <code>^</code> or <code>$</code> anchors; see <a href=\"http://perldoc.perl.org/perlre.html#%2Am%2A\" rel=\"nofollow noreferrer\">perlre</a>."}, {"owner": {"reputation": 445, "user_id": 4594967, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/11fa0e426e42e2ff8823b10eaf7a01c0?s=128&d=identicon&r=PG&f=1", "display_name": "takra", "link": "https://stackoverflow.com/users/4594967/takra"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1486694509, "post_id": 42150133, "comment_id": 71467567, "body": "@ThisSuitIsBlackNot Ah, that makes more sense. I still have no idea how to make this work though."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1486694850, "post_id": 42150133, "comment_id": 71467664, "body": "When I run your code on the first set of examples, it works. Can you create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}, {"owner": {"reputation": 445, "user_id": 4594967, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/11fa0e426e42e2ff8823b10eaf7a01c0?s=128&d=identicon&r=PG&f=1", "display_name": "takra", "link": "https://stackoverflow.com/users/4594967/takra"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1486695251, "post_id": 42150133, "comment_id": 71467801, "body": "@ThisSuitIsBlackNot Aha! I found the issue, sort of! It was because I dropped the newline when copying the test cases over; so now my problem is how to make the newline not a problem.  EDIT: Adding <code>s</code> to flags doesn&#39;t work"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1486695686, "post_id": 42150133, "comment_id": 71467915, "body": "Can you update the examples in your question? I assume you mean there&#39;s a newline in the middle of <code>C[...]</code>, in which case I&#39;ll refer you to <a href=\"http://stackoverflow.com/q/5862461/176646\">this question</a>."}, {"owner": {"reputation": 445, "user_id": 4594967, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/11fa0e426e42e2ff8823b10eaf7a01c0?s=128&d=identicon&r=PG&f=1", "display_name": "takra", "link": "https://stackoverflow.com/users/4594967/takra"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1486696066, "post_id": 42150133, "comment_id": 71468013, "body": "@ThisSuitIsBlackNot Thank you, that worked! I updated the test cases to be clearer too."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1486713748, "post_id": 42150133, "comment_id": 71474321, "body": "So, you used <code>perl -0777pi -e</code> and it worked? Also, a bit optimized pattern will look like <code>s&#47;P?C\\[[^]\\\\]*(?:\\\\.[^]\\\\]*+)*]&#47;&#47;sg</code> (if a newline cannot be escaped, you do not even need the <code>s</code> modifier in this case)."}, {"owner": {"reputation": 445, "user_id": 4594967, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/11fa0e426e42e2ff8823b10eaf7a01c0?s=128&d=identicon&r=PG&f=1", "display_name": "takra", "link": "https://stackoverflow.com/users/4594967/takra"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1486773669, "post_id": 42150133, "comment_id": 71506518, "body": "@WiktorStribi\u017cew Yeah, that&#39;s what I used. Thanks for the optimised one, but it wasn&#39;t really necessary for me. The perl command I used took an acceptable amount of time (2 minutes at most if I had to guess) to execute in a directory with 35K files; however, if you want, you could post it as an answer to help anyone else who needs it."}], "answers": [{"tags": [], "owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 2, "last_activity_date": 1486806783, "creation_date": 1486806783, "answer_id": 42174502, "question_id": 42150133, "link": "https://stackoverflow.com/questions/42150133/perl-not-matching-regex/42174502#42174502", "title": "Perl not matching regex?", "body": "<p>You need to run <code>perl</code> with <code>-0777</code> option to make sure that contents spanning across lines and matching the pattern can be found.  So, using <code>perl -0777pi -e</code> instead of <code>perl -pi -e</code> will solve the issue.</p>\n\n<p>I would also suggest optimizing the pattern a bit by unrolling the alternation group, thus, making matching process \"linear\":</p>\n\n<pre><code>s/P?C\\[[^]\\\\]*(?:\\\\.[^]\\\\]*+)*]//sg\n</code></pre>\n\n<p>Note that if <code>PC</code> should be matched as a whole word, add <code>\\b</code> before <code>P</code>.</p>\n\n<p><strong>Pattern details</strong>:</p>\n\n<ul>\n<li><code>P?C\\[</code>  - either <code>PC[</code> or <code>C[</code> literal char sequence</li>\n<li><code>[^]\\\\]*</code> - zero or more chars other than <code>\\</code> and <code>]</code></li>\n<li><code>(?:\\\\.[^]\\\\]*+)*</code> - zero or more sequences of:\n\n<ul>\n<li><code>\\\\.</code> - a literal <code>\\</code> and then any char (<code>.</code>)</li>\n<li><code>[^]\\\\]*+</code> - 0+ chars other than <code>]</code> and <code>\\</code> (matched possessively, no backtracking into the pattern)</li>\n</ul></li>\n<li><code>]</code> - a literal <code>]</code> symbol (note it does not have to be escaped outside the character class to denote a literal closing bracket)</li>\n</ul>\n"}], "owner": {"reputation": 445, "user_id": 4594967, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/11fa0e426e42e2ff8823b10eaf7a01c0?s=128&d=identicon&r=PG&f=1", "display_name": "takra", "link": "https://stackoverflow.com/users/4594967/takra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 1, "accepted_answer_id": 42174502, "answer_count": 1, "score": 3, "last_activity_date": 1486806783, "creation_date": 1486690989, "last_edit_date": 1486695982, "question_id": 42150133, "link": "https://stackoverflow.com/questions/42150133/perl-not-matching-regex", "title": "Perl not matching regex?", "body": "<p>I'm trying to remove all the comments in a bunch of SGF files, and have come up with the following perl command: </p>\n\n<pre><code>perl -pi -e 's/P?C\\[(?:[^\\]\\\\]++|\\\\.)*+\\]//gm' *.sgf\n</code></pre>\n\n<p>I'm trying to match and remove a C or PC followed by a left bracket, then characters that aren't right brackets (if they are they have to be escaped with a <code>\\</code>) and then a right bracket.</p>\n\n<p>I'm trying to match the following examples:</p>\n\n<p><code>C[HelloBot9 [-\\]: GTP Engine for HelloBot9 (white): HelloBot version 0.6.26.08]</code></p>\n\n<pre><code>PC[IA [-\\]: GTP Engine for IA (black): GNU Go version 3.7.11\n]\n</code></pre>\n\n<p><code>C[person [-\\]: \\\\\\]]</code></p>\n\n<pre><code>C[AyaMC [3k\\]: GTP Engine for AyaMC (black): Aya version 6.61 : If you pass, AyaMC \nwill pass. When AyaMC does not, please remove all dead stones.]\n</code></pre>\n\n<p>And some examples that shouldn't be matched: </p>\n\n<p><code>XYZ[Other stuff \\]]</code></p>\n\n<p><code>C[stuff\\]</code></p>\n\n<p><code>PC[stuff\\\\\\]</code></p>\n\n<p>The regex works in several online regex testers (including a few that state they are perl regex testers), but for some reason doesn't work on the command line. Help is appreciated.</p>\n"}, {"tags": ["perl", "curl", "www-mechanize"], "comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1486687710, "post_id": 42149541, "comment_id": 71465605, "body": "I&#39;m not getting nothing. What version of the module do you use? What is the contents of <code>use Data::Dumper; print Dumper($mech-&gt;response)</code>?"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1486687953, "post_id": 42149541, "comment_id": 71465697, "body": "@choroba My system has version 3.70 of <code>HTML:Parser</code>, so that might be a problem.  See my edit for the response."}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 0, "creation_date": 1486688441, "post_id": 42149541, "comment_id": 71465821, "body": "@choroba adding <code>$mech-&gt;parse_head(0)</code> before the <code>get</code> solved the problem. From this answer: <a href=\"http://stackoverflow.com/a/17745491/327528\">stackoverflow.com/a/17745491/327528</a>"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1486690053, "post_id": 42149541, "comment_id": 71466304, "body": "I feel like this is a duplicate of <a href=\"http://stackoverflow.com/q/14740365\">that other SO question</a> you found, but those answers both leave something to be desired. I mean, monkey-patching HTML::HeadParser? Disabling header parsing altogether? Really?"}, {"owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1486693622, "post_id": 42149541, "comment_id": 71467304, "body": "@ThisSuitIsBlackNot In my opinion that is the problem in marking questions as duplicates."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1486693929, "post_id": 42149541, "comment_id": 71467403, "body": "It might be better to mark that question as a dup of this one. Your question is better since it includes the actual error."}], "answers": [{"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": false, "score": 2, "last_activity_date": 1486689213, "last_edit_date": 1486689213, "creation_date": 1486688783, "answer_id": 42149837, "question_id": 42149541, "link": "https://stackoverflow.com/questions/42149541/why-does-wwwmechanize-fail-with-x-died-illegal-field-name-x-meta-twitterti/42149837#42149837", "title": "Why does WWW::Mechanize fail with &quot;X-Died: Illegal field name &#39;X-Meta-Twitter:title&#39;&quot;?", "body": "<p>Your dump shows that there was an error parsing the response:</p>\n\n<blockquote>\n  <p>X-Died: Illegal field name 'X-Meta-Twitter:title' at /usr/local/lib/perl5/site_perl/5.16.3/sun4-solaris/HTML/HeadParser.pm line 207.</p>\n</blockquote>\n\n<p>This is caused by a <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=80524\" rel=\"nofollow noreferrer\">bug</a> in HTML::HeadParser:</p>\n\n<blockquote>\n  <p><code>&lt;meta&gt;</code> tags can have name attributes with colons in them, and this is perfectly valid. But HTML::HeadParser then tries to register these as <code>X-Meta-&lt;name&gt;</code> headers using HTTP::Headers. Newer versions of HTTP::Headers (since 6.05) have stricter checks for headers, and will refuse them if they contain colons.</p>\n</blockquote>\n\n<p>This was fixed in version 3.71 of the HTML-Parser distribution, so you should upgrade.</p>\n"}], "owner": {"reputation": 20550, "user_id": 327528, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/dfea36f0a3ab8c5f8ad73bcc6cea241a?s=128&d=identicon&r=PG", "display_name": "CJ7", "link": "https://stackoverflow.com/users/327528/cj7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1486689509, "creation_date": 1486686917, "last_edit_date": 1486689509, "question_id": 42149541, "link": "https://stackoverflow.com/questions/42149541/why-does-wwwmechanize-fail-with-x-died-illegal-field-name-x-meta-twitterti", "title": "Why does WWW::Mechanize fail with &quot;X-Died: Illegal field name &#39;X-Meta-Twitter:title&#39;&quot;?", "body": "<p>Why does <code>WWW::Mechanize</code> have blank content after getting the following URL?  Using a browser or <code>curl</code> there is a full HTML page retrieved.</p>\n\n<pre><code>use WWW::Mechanize;\n$mech = new WWW::Mechanize;\n$mech-&gt;get(\"http://www.belizejudiciary.org/web/judgements2/\");\nprint $mech-&gt;content  # prints nothing\n</code></pre>\n\n<p>Here is the dump of the response:</p>\n\n<pre><code>HTTP/1.1 200 OK\nConnection: close\nDate: Fri, 10 Feb 2017 00:51:47 GMT\nServer: Apache/2.4\nContent-Type: text/html; charset=UTF-8\nClient-Aborted: die\nClient-Date: Fri, 10 Feb 2017 00:51:48 GMT\nClient-Peer: 98.129.229.64:80\nClient-Response-Num: 1\nClient-Transfer-Encoding: chunked\nLink: &lt;http://www.belizejudiciary.org/web/wp-json/&gt;; rel=\"https://api.w.org/\"\nLink: &lt;http://www.belizejudiciary.org/web/?p=468&gt;; rel=shortlink\nSet-Cookie: X-Mapping-hepadkon=FAB86566672CEB74D66B2818CA030616; path=/\nX-Died: Illegal field name 'X-Meta-Twitter:title' at /usr/local/lib/perl5/site_perl/5.16.3/sun4-solaris/HTML/HeadParser.pm line 207.\nX-Pingback: http://www.belizejudiciary.org/web/xmlrpc.php\n</code></pre>\n\n<p>I have version 3.70 of HTML::Parser installed.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 1, "creation_date": 1486685583, "post_id": 42149027, "comment_id": 71464947, "body": "Try <code>$string =~ s&#47;$match&#47;&quot;\\&quot;only $substitute\\&quot;&quot;&#47;gee</code> (Though you should never eval user input like this, it is not safe)"}, {"owner": {"reputation": 13460, "user_id": 4643584, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2144be3b64be35ece8bff8f02c606a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shakiba Moshiri", "link": "https://stackoverflow.com/users/4643584/shakiba-moshiri"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1486686163, "post_id": 42149027, "comment_id": 71465148, "body": "@H&#229;konH&#230;gland, Hi. It works. Please wait so that I test it in my main script then you can put your answer. thanks"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1486688408, "post_id": 42149027, "comment_id": 71465811, "body": "@k-five, No, HH&#39;s solution doesn&#39;t work. Try <code>perl temp &#39;I have 9 dollars&#39; &#39;(\\d+)&#39; &#39;&quot;$1&quot;&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486687466, "post_id": 42149442, "comment_id": 71465530, "body": "No, your answer says it&#39;s a bad idea but do it anyway."}, {"owner": {"reputation": 1401, "user_id": 5079428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c07cc177e5bb1e109157faafb49b2956?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5079428/chris"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486687590, "post_id": 42149442, "comment_id": 71465567, "body": "@ikegami Yes- I discourage using <code>eval</code>, but still show the OP how to do it. As long as this is just for personal use, <code>eval</code> is not necessarily evil."}, {"owner": {"reputation": 13460, "user_id": 4643584, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2144be3b64be35ece8bff8f02c606a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shakiba Moshiri", "link": "https://stackoverflow.com/users/4643584/shakiba-moshiri"}, "edited": false, "score": 0, "creation_date": 1486687875, "post_id": 42149442, "comment_id": 71465668, "body": "Do not argue. I just doing some tests. If it it breaks some rule and safety I <b>never</b> use it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1486688191, "post_id": 42149442, "comment_id": 71465752, "body": "You are mistaken. This use of eval IS &quot;evil&quot; (though I prefer the term &quot;buggy&quot;). For example, <code>perl temp &#39;I have 9 dollars&#39; &#39;(\\d+)&#39; &#39;&quot;$1&quot;&#39;</code>"}], "tags": [], "owner": {"reputation": 1401, "user_id": 5079428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c07cc177e5bb1e109157faafb49b2956?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5079428/chris"}, "is_accepted": false, "score": -1, "last_activity_date": 1486686222, "creation_date": 1486686222, "answer_id": 42149442, "question_id": 42149027, "link": "https://stackoverflow.com/questions/42149027/command-line-argument-deduction-as-a-special-variable/42149442#42149442", "title": "command-line-argument deduction as a special variable", "body": "<p>Obligatory discouragement: don't do this. Basically this is just running <code>eval</code> on a user-supplied string, which is really a bad idea.</p>\n\n<p>Actual answer: use the <code>ee</code> modifer (see <a href=\"http://perldoc.perl.org/perlop.html#s%2fPATTERN%2fREPLACEMENT%2fmsixpodualngcer\" rel=\"nofollow noreferrer\">perlop</a>) to <code>s///</code> to <code>eval</code> the string in the right hand part of the expression:</p>\n\n<pre><code>$string =~ s/$match/\"\\\"only $substitute\\\"\"/gee\n</code></pre>\n\n<p>By the way, you don't need to capture the pattern separately, just put the <code>$match</code> in a capturing group in the <code>s///</code> expression:</p>\n\n<pre><code>$string =~ s/($match)/\"\\\"only $substitute\\\"\"/gee\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13460, "user_id": 4643584, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2144be3b64be35ece8bff8f02c606a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shakiba Moshiri", "link": "https://stackoverflow.com/users/4643584/shakiba-moshiri"}, "edited": false, "score": 0, "creation_date": 1486688825, "post_id": 42149685, "comment_id": 71465927, "body": "Apart from using <b>$1</b> I still need to use <code>$&amp;</code> and <code>prefix</code> and <code>suffix</code> too. in my main script. <b>First</b> with this module that I installed just now, if I can access these <b>special variable</b>. <b>Second</b> is it safe? because the main purpose of my script is for <b>renaming</b> name of the lots of files. Tell me here or may you would like <b>update</b> the answer. no problem. I am trying this module now. <b>Thanks</b>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 13460, "user_id": 4643584, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2144be3b64be35ece8bff8f02c606a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shakiba Moshiri", "link": "https://stackoverflow.com/users/4643584/shakiba-moshiri"}, "edited": false, "score": 0, "creation_date": 1486746854, "post_id": 42149685, "comment_id": 71494826, "body": "Yes, it&#39;s safe. I didn&#39;t check personally, but that&#39;s the whole point of the module."}, {"owner": {"reputation": 13460, "user_id": 4643584, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2144be3b64be35ece8bff8f02c606a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shakiba Moshiri", "link": "https://stackoverflow.com/users/4643584/shakiba-moshiri"}, "edited": false, "score": 0, "creation_date": 1486757388, "post_id": 42149685, "comment_id": 71500613, "body": "Sorry @ikegami, still does not work as I want. <b>May</b> my idea is wrong at all and I should change it. <a href=\"https://gist.github.com/k-five/42f5fdb3fbade84732ab25373a6dea3f\" rel=\"nofollow noreferrer\">Test</a> and also <a href=\"https://gist.github.com/k-five/abcb2414baab0c04b62a387aabb5c247\" rel=\"nofollow noreferrer\">the main predefined</a> I apologize for bothering you. If it is not a good idea feel free, tellme and ignore it."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 13460, "user_id": 4643584, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2144be3b64be35ece8bff8f02c606a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shakiba Moshiri", "link": "https://stackoverflow.com/users/4643584/shakiba-moshiri"}, "edited": false, "score": 0, "creation_date": 1486761398, "post_id": 42149685, "comment_id": 71502553, "body": "Use <code>perl temp &#39;I have 3 dollars&#39; &#39;(\\d+)&#39; &#39;$1&#39;</code> instead of <code>perl temp &#39;I have 3 dollars&#39; &#39;(\\d+)&#39; &#39;$&amp;&#39;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 13460, "user_id": 4643584, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2144be3b64be35ece8bff8f02c606a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shakiba Moshiri", "link": "https://stackoverflow.com/users/4643584/shakiba-moshiri"}, "edited": false, "score": 0, "creation_date": 1486761503, "post_id": 42149685, "comment_id": 71502596, "body": "As <code>my $string_2 = gsub_copy($string, $match, $substitute);</code> should be <code>my $string_2 = s&#47;$match&#47; interpolate_match_vars($substitute, last_match_vars()) &#47;reg;</code>"}, {"owner": {"reputation": 13460, "user_id": 4643584, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2144be3b64be35ece8bff8f02c606a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shakiba Moshiri", "link": "https://stackoverflow.com/users/4643584/shakiba-moshiri"}, "edited": false, "score": 0, "creation_date": 1486763762, "post_id": 42149685, "comment_id": 71503545, "body": "<code>Use of uninitialized value $string in concatenation (.) or string at temp line ...</code>  is the <b>error.</b> Many thanks and again sorry. I just ignore the <b>colorize</b> output. The second answer to me have said: <code>don&#39;t do this. Basically this is just running eval on ...</code>. I am <b>curious</b> what is it. I read a little about <b>Perl</b> but never heard that before. Please give a link to read information about it. Thanks."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 2, "last_activity_date": 1486747178, "last_edit_date": 1486747178, "creation_date": 1486687829, "answer_id": 42149685, "question_id": 42149027, "link": "https://stackoverflow.com/questions/42149027/command-line-argument-deduction-as-a-special-variable/42149685#42149685", "title": "command-line-argument deduction as a special variable", "body": "<blockquote>\n  <p><em>Why $1 of the command line is different from $1 in the script?</em></p>\n</blockquote>\n\n<p>You're actually asking why</p>\n\n<pre><code>s/.../...$substitute.../\n</code></pre>\n\n<p>in your script is different than</p>\n\n<pre><code>s/.../...$1.../\n</code></pre>\n\n<p>in your script. For the same reason that</p>\n\n<pre><code>print($substitute);\n</code></pre>\n\n<p>is different than</p>\n\n<pre><code>print($1);\n</code></pre>\n\n<p>and that is that the value of <code>$1</code> (the captured text) is different than the value of <code>$substitute</code> (<code>$1</code>).</p>\n\n<hr>\n\n<p>This is what you need:</p>\n\n<pre><code>use String::Substitution qw( gsub_modify );\n\ngsub_modify($string, $match, $substitue);\n</code></pre>\n\n<p>That assumes you don't actually need <code>$1</code> outside of the replacement expression, and that you don't actually need <code>$&amp;</code> and friends at all. If you do need them, then you can use the following:</p>\n\n<pre><code>use String::Substitution qw( interpolate_match_vars last_match_vars );\n\n$string =~ s/$match/ interpolate_match_vars($substitute, last_match_vars()) /eg;\n</code></pre>\n"}], "owner": {"reputation": 13460, "user_id": 4643584, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2144be3b64be35ece8bff8f02c606a6?s=128&d=identicon&r=PG&f=1", "display_name": "Shakiba Moshiri", "link": "https://stackoverflow.com/users/4643584/shakiba-moshiri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 42149685, "answer_count": 2, "score": 0, "last_activity_date": 1486747178, "creation_date": 1486683779, "last_edit_date": 1495542264, "question_id": 42149027, "link": "https://stackoverflow.com/questions/42149027/command-line-argument-deduction-as-a-special-variable", "title": "command-line-argument deduction as a special variable", "body": "<p>My simple script in <strong>Perl</strong>  </p>\n\n<pre><code>#!/usr/bin/perl                                            \nuse v5.20.1;                                               \nuse strict;                                                \nuse warnings;                                              \n\n$| = 1;                                                    \n\nmy $string     = $ARGV[ 0 ];                               \nmy $match      = $ARGV[ 1 ];                               \nmy $substitute = $ARGV[ 2 ];                               \n\n$string =~ m/match/g; # just for capturing the pattern                                     \n\n$string =~ s/$match/only $substitute/g;                    \n\nsay \"\\$1[itself]  == $1\";                                  \nsay \"\\$substitute == $substitute\";                         \nsay \"\\$string     == $string\";                             \nsay \"prefix      == $`\";                                   \nsay \"match       == $&amp;\";                                   \nsay \"suffix      == $'\"; \n</code></pre>\n\n<p><strong>Input and Output:</strong>  </p>\n\n<pre><code>$ perl temp 'I have 9 dollars' '(\\d+)' '$1'\n$1[itself]  == 9\n$substitute == $1\n$string     == I have only $1 dollars\nprefix      == I have \nmatch       == 9\nsuffix      == dollars  \n</code></pre>\n\n<p>A thing that I am trying to do is a simple <strong>substitution</strong> by initializing the <strong>match</strong> and <strong>substitution</strong> variable from <strong>@ARGV</strong>. After that a simple <strong>match</strong> for <strong>initializing</strong> the special character such as <strong>$1</strong>. But when I want to pass the special character <code>$1</code> from <code>command-line</code> to the script, it is deducted as a <strong>regular string</strong> and not the special variable <strong>$1</strong> that I need for <strong>substitution</strong>  </p>\n\n<p>If I change the code from:  </p>\n\n<pre><code>$string =~ s/$match/only $substitute/g;\n</code></pre>\n\n<p>to:  </p>\n\n<pre><code>$string =~ s/$match/only $1/g;  \n</code></pre>\n\n<p>now it works!<br>\n<strong>1. Why <code>$1</code> of the command line is different from <code>$1</code> in the script?</strong><br>\n<strong>2. Is there any way to solve it?</strong></p>\n\n<p>A screenshot of my console:  </p>\n\n<p><a href=\"https://i.stack.imgur.com/vyBOC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vyBOC.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<h2>Edit</h2>\n\n<p>As <a href=\"https://stackoverflow.com/users/589924/ikegami\">ikegami</a> suggested I installed and used the <a href=\"http://search.cpan.org/dist/String-Substitution/lib/String/Substitution.pm\" rel=\"nofollow noreferrer\">String::Substitution</a> and could by using <code>gsub_copy($line, $match, $substitute);</code> deduced the <strong>substitution</strong>.<br>\nBut still I need to use this <strong>substitution</strong> itself for printing it on the screen and colorize it for illustration that what happens.<br>\nIn fact this purpose, is part of a <strong>rename</strong> script that read all file and by call <code>rename</code> function, changes the name of the files.  </p>\n\n<p>As you can see on the screenshot:   </p>\n\n<p><a href=\"https://i.stack.imgur.com/TuXSy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TuXSy.png\" alt=\"enter image description here\"></a></p>\n\n<p>instead of <code>for_$1</code> it should be <code>for_Level</code> on the screen. So <strong>does this module can return what it has deduced?</strong><br>\nI am not talking about the <strong>sub match</strong> of the <strong>match group parentheses</strong>!<br>\nAlso the author of the module has said:  </p>\n\n<blockquote>\n  <p>This module does not save or interpolate $&amp; to avoid the \"considerable\n  performance penalty\"  </p>\n</blockquote>\n\n<p>May this screenshot clarify the subject:  </p>\n\n<p><a href=\"https://i.stack.imgur.com/1GAKs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1GAKs.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 5501, "user_id": 5074973, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/76f7f24ec76258c68904b7e9929df90c?s=128&d=identicon&r=PG&f=1", "display_name": "nPcomp", "link": "https://stackoverflow.com/users/5074973/npcomp"}, "edited": false, "score": 1, "creation_date": 1486674543, "post_id": 42146873, "comment_id": 71460136, "body": "What did you try so far?"}, {"owner": {"reputation": 124, "user_id": 1509295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f55041d36ec00f2c631cd141e6b394?s=128&d=identicon&r=PG", "display_name": "Barb", "link": "https://stackoverflow.com/users/1509295/barb"}, "edited": false, "score": 0, "creation_date": 1486675535, "post_id": 42146873, "comment_id": 71460698, "body": "Thanks in advance.  I updated the question with several things I have tried so far."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1486676120, "post_id": 42146873, "comment_id": 71461019, "body": "<code>*</code> in a regex usually means zero-or-more \u2014 since the space is optional, don&#39;t you need a <code>*</code> in your regex?  Or use <code>?</code> if it must be zero-or-one instead of zero-or-more."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486677729, "post_id": 42146873, "comment_id": 71461854, "body": "Thanks, Effort in the question leads to effort in the answers :)"}], "answers": [{"comments": [{"owner": {"reputation": 124, "user_id": 1509295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f55041d36ec00f2c631cd141e6b394?s=128&d=identicon&r=PG", "display_name": "Barb", "link": "https://stackoverflow.com/users/1509295/barb"}, "edited": false, "score": 0, "creation_date": 1486679267, "post_id": 42147691, "comment_id": 71462564, "body": "Thank you very much ikegami!  This works like a charm and is extremely helpful.  I appreciate it more than you know!"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1486677651, "creation_date": 1486677651, "answer_id": 42147691, "question_id": 42146873, "link": "https://stackoverflow.com/questions/42146873/perl-multiple-line-replace-of-variable-length-method/42147691#42147691", "title": "perl multiple line replace of variable length method", "body": "<ul>\n<li><code>(</code>, <code>)</code>, <code>[</code> and <code>]</code>, <code>{</code> and <code>}</code> have special meanings in regex patterns. If you want to match these characters, you will need to escape them in the pattern.</li>\n<li>You required the space between <code>-</code> and <code>(void)</code> even though you indicated it should be optional.</li>\n<li>You only match one line where you say you want to match multiple lines.</li>\n<li><code>-0777</code> is actually slurp mode, not <code>-0</code>.</li>\n<li>I don't get those quotes?!?!</li>\n</ul>\n\n<p>So,</p>\n\n<pre><code>perl -i -0777pe's/^-[ ]?\\(void\\)dealloc.*?\\[super dealloc\\];\\s*\\}\\n//msg' file\n</code></pre>\n\n<ul>\n<li><code>/m</code> makes <code>^</code> match at the start of a line rather than (just) at the start of the string.</li>\n<li><code>/s</code> allows <code>.</code> to match newlines.</li>\n<li><code>?</code> or <code>[ ]?</code> optionally matches a space. (The latter is a little easier to read.)</li>\n<li><code>.*?</code> matches the least possible at that position.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486678895, "post_id": 42147772, "comment_id": 71462384, "body": "In other words, the OP could use <code>perl -ne&#39;print if !(&#47;-[ ]?\\(void\\)dealloc&#47; .. &#47;^}&#47;);&#39;</code>, EXCEPT that wouldn&#39;t check for <code>[super dealloc];</code>."}, {"owner": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486679018, "post_id": 42147772, "comment_id": 71462444, "body": "Yes. I should&#39;ve said, at the beginning of my answer, that I felt like mentioning a technique useful in <i>similar</i> contexts"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486679204, "post_id": 42147772, "comment_id": 71462533, "body": "Cut the sarcasm. My comment wasn&#39;t a critique; it actually addressed two issues with your question: You didn&#39;t show how it could be used, and you didn&#39;t explain what the issue made it hard for the OP to take advantage of your &quot;solution&quot;. But if you want a critique, here&#39;s one: If you want to post a Q&amp;A, do that; don&#39;t hijack someone else&#39;s question. Then, people could actually link to it!"}, {"owner": {"reputation": 124, "user_id": 1509295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f55041d36ec00f2c631cd141e6b394?s=128&d=identicon&r=PG", "display_name": "Barb", "link": "https://stackoverflow.com/users/1509295/barb"}, "edited": false, "score": 0, "creation_date": 1486679537, "post_id": 42147772, "comment_id": 71462671, "body": "Thank you very much for your answer.  I used the solution below, but I appreciate you taking the time."}, {"owner": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486679598, "post_id": 42147772, "comment_id": 71462712, "body": "@ikegami No sarcasm implied, really. You&#39;re right my answer could have stated that it didn&#39;t address one of the requirements. Believe it or not, it was a attempt to provide hints useful to the OP. I didn&#39;t know I breaked some rule or policy here."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486679634, "post_id": 42147772, "comment_id": 71462732, "body": "Sorry, I thought you were pointing out that you did. (&quot;I&#39;m not going to provide a full-fledged solution to your problem&quot;)"}, {"owner": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486679906, "post_id": 42147772, "comment_id": 71462867, "body": "@ikegami ok. Albeit unnecessarily harsh (at least, that&#39;s the way I read your comments) I appreciate your suggestions and I&#39;ll act accordingly in the future"}], "tags": [], "owner": {"reputation": 1419, "user_id": 203856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f1108eabf701ed53b05a875e3d8203?s=128&d=identicon&r=PG", "display_name": "larsen", "link": "https://stackoverflow.com/users/203856/larsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1486678917, "last_edit_date": 1486678917, "creation_date": 1486677952, "answer_id": 42147772, "question_id": 42146873, "link": "https://stackoverflow.com/questions/42146873/perl-multiple-line-replace-of-variable-length-method/42147772#42147772", "title": "perl multiple line replace of variable length method", "body": "<p>I'm not going to provide a full-fledged solution to your problem, but I'd like to point to a technique that might be helpful in contexts like these.</p>\n\n<p>It's based on a not very known behaviour of the <code>..</code> operator in Perl. In scalar context it acts as a bi-stable boolean operator. Let me quote <a href=\"http://perldoc.perl.org/perlop.html\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>In scalar context, \"..\" returns a boolean value. The operator is\n  bistable, like a flip-flop, and emulates the line-range (comma)\n  operator of sed, awk, and various editors. Each \"..\" operator\n  maintains its own boolean state, even across calls to a subroutine\n  that contains it. It is false as long as its left operand is false.\n  Once the left operand is true, the range operator stays true until the\n  right operand is true, AFTER which the range operator becomes false\n  again.</p>\n</blockquote>\n\n<p>This means you could write the solution in a more expressive way, like:</p>\n\n<pre><code>if ( /-[ ]?\\(void\\)dealloc/ .. /^\\}/ ) {\n  ... this code is executed when you enter the block ...\n}\n</code></pre>\n\n<p>The advantage IMO is that you do not have to deal directly with the inner block, and your intention is more evident to someone that reads the code. I hope this helps.</p>\n"}], "owner": {"reputation": 124, "user_id": 1509295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f55041d36ec00f2c631cd141e6b394?s=128&d=identicon&r=PG", "display_name": "Barb", "link": "https://stackoverflow.com/users/1509295/barb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 42147691, "answer_count": 2, "score": 0, "last_activity_date": 1486678917, "creation_date": 1486674407, "last_edit_date": 1486675169, "question_id": 42146873, "link": "https://stackoverflow.com/questions/42146873/perl-multiple-line-replace-of-variable-length-method", "title": "perl multiple line replace of variable length method", "body": "<p>Can you please provide a perl script or command that will remove the following code from a file?  In some cases, there may be a space between the '-' and (void).  I have tried many variations and have not gotten it to work.  Thank you!</p>\n\n<pre><code>-(void)dealloc {\n    ... could be multiple lines here    \n    [super dealloc];\n}\n</code></pre>\n\n<p>Here are several things I tried:</p>\n\n<pre><code>perl -0777 -pe 's/- (void)dealloc.*\\s*.*super dealloc];.*\\n}//g' File.txt\nperl -i -0pe 's/^'- (void)dealloc'.*\\n.*[super dealloc];\\n}$//' File.txt\nperl -i -0pe 's/^-[ ](void)dealloc.*\\n.*[super dealloc];\\n}$//' File.txt\nperl -i -0pe 's/^-\\s(void)dealloc.*\\n.*\\\\'[super dealloc]\\';\\n}$//' File.txt\n</code></pre>\n"}, {"tags": ["xml", "perl", "dom", "mojolicious"], "comments": [{"owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486673580, "post_id": 42146387, "comment_id": 71459626, "body": "That was one mistake, yes, to use <code>&#47;</code> instead of ` &gt; ` as a tag separator..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1486673964, "post_id": 42146387, "comment_id": 71459843, "body": "<code>TitleDetail[TitleType=&quot;01&quot;]</code> <a href=\"http://mojolicious.org/perldoc/Mojo/DOM/CSS#SELECTORS\" rel=\"nofollow noreferrer\">means</a> &quot;<i>a <code>TitleDetail</code> element whose <code>TitleType</code> attribute value is exactly equal to <code>01</code>.</i>&quot; Obviously incorrect. Unfortunately, you can&#39;t use a single call to <code>at</code> because subqueries are limited checking attributes, and none of the selectors provide a means of checking the text of a node."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1486680373, "post_id": 42146844, "comment_id": 71463102, "body": "Now just switch to XML::LibXML (or XML::Twig) and you have a power tool for any screw -- once you noted that you don&#39;t insist on the hammer :)"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1486680827, "post_id": 42146844, "comment_id": 71463300, "body": "@zdim Not any screw...Mojo::DOM can handle HTML and malformed XML, while those modules can&#39;t. :P"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1486711737, "post_id": 42146844, "comment_id": 71473381, "body": "@ThisSuitIsBlackNot  Right, thank you, should&#39;ve said &quot;perfect screw.&quot; Also, the point (with <code>XML::XPath</code>) seems to be to just go for <code>XPath</code>, so perhaps my comment is completely off."}, {"owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1486726659, "post_id": 42146844, "comment_id": 71482042, "body": "@zdim, in this case I have a single record from which I have to extract just a handful of values, so <code>XML::XPath</code> will do just fine.  For parsing large feeds, <code>XML::LibXML</code> or <code>XML::Twig</code> are indeed better and I&#39;ve used them both in the past.  Didn&#39;t like it, though \u2013 having to deal with namespaces in every single tag name, etc. \u2013 that&#39;s why I was looking at <code>Mojo::DOM</code> first.  But here, nobody bothered to specify a namespace so I didn&#39;t have to worry about that.  \ud83d\ude0c"}], "tags": [], "owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "is_accepted": false, "score": 5, "last_activity_date": 1486686164, "last_edit_date": 1486686164, "creation_date": 1486674305, "answer_id": 42146844, "question_id": 42146387, "link": "https://stackoverflow.com/questions/42146387/in-perl-using-mojodom-in-xml-mode-how-do-i-match-on-contents-of-subtags/42146844#42146844", "title": "In Perl using Mojo::DOM in XML mode, how do I match on contents of subtags?", "body": "<p>Perhaps my problem is that I'm using a hammer to insert a screw...</p>\n\n<p>I love Mojo::DOM and its simplicity, but perhaps it's not so well suited for parsing structured XML, and I should use XML::XPath:</p>\n\n<pre><code>my $xp = XML::XPath-&gt;new(xml=&gt;$xml);\nsay $xp-&gt;findvalue('//TitleDetail[TitleType=01]/TitleElement/TitleText');\n</code></pre>\n\n<p>This does what I need.</p>\n"}, {"comments": [{"owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "edited": false, "score": 1, "creation_date": 1486680264, "post_id": 42147409, "comment_id": 71463049, "body": "Thanks!  I&#39;ll accept this answer if nothing better comes along soon.  But I won&#39;t be using it; XML::XPath turns out to be better in this case."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "edited": false, "score": 0, "creation_date": 1486680613, "post_id": 42147409, "comment_id": 71463199, "body": "@mscha I agree that XML::XPath is better. It looks cleaner and it probably does less work to get the job done."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1486676544, "creation_date": 1486676544, "answer_id": 42147409, "question_id": 42146387, "link": "https://stackoverflow.com/questions/42146387/in-perl-using-mojodom-in-xml-mode-how-do-i-match-on-contents-of-subtags/42147409#42147409", "title": "In Perl using Mojo::DOM in XML mode, how do I match on contents of subtags?", "body": "<p>It can be done with Mojo::DOM, but it's long. A couple of times there are Mojo::Collections in there, so you need to get the first element out.</p>\n\n<pre><code>use Mojo::DOM;\n\nmy $dom = Mojo::DOM-&gt;new-&gt;xml(1)-&gt;parse($xml);\nsay $dom-&gt;find(\"TitleType\")-&gt;grep(sub{ $_-&gt;text eq \"01\"})-&gt;first\n    -&gt;following(\"TitleElement\")-&gt;first-&gt;at(\"TitleText\")-&gt;text;\n</code></pre>\n"}], "owner": {"reputation": 6130, "user_id": 299242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9bda794bc71267206358bf04ea0a179?s=128&d=identicon&r=PG", "display_name": "mscha", "link": "https://stackoverflow.com/users/299242/mscha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 42147409, "answer_count": 2, "score": 4, "last_activity_date": 1486686164, "creation_date": 1486672665, "last_edit_date": 1486673547, "question_id": 42146387, "link": "https://stackoverflow.com/questions/42146387/in-perl-using-mojodom-in-xml-mode-how-do-i-match-on-contents-of-subtags", "title": "In Perl using Mojo::DOM in XML mode, how do I match on contents of subtags?", "body": "<p>I have the following XML:</p>\n\n<pre><code>&lt;Product&gt;\n  ...\n    &lt;TitleDetail&gt;\n      &lt;TitleType&gt;01&lt;/TitleType&gt;\n      &lt;TitleElement&gt;\n        &lt;TitleElementLevel&gt;01&lt;/TitleElementLevel&gt;\n        &lt;TitleText&gt;This is the title I'm looking for&lt;/TitleText&gt;\n      &lt;/TitleElement&gt;\n    &lt;/TitleDetail&gt;\n  ...\n&lt;/Product&gt;\n</code></pre>\n\n<p>(It's <a href=\"https://en.wikipedia.org/wiki/ONIX_(publishing_protocol)\" rel=\"nofollow noreferrer\" title=\"ONIX\">ONIX</a>, if you're curious.)</p>\n\n<p>I want to extract the title, of type 01.\nI've tried:</p>\n\n<pre><code>say $dom-&gt;at('TitleDetail[TitleType=\"01\"] &gt; TitleElement &gt; TitleText')\n</code></pre>\n\n<p>but that doesn't work.  Looks like the <code>tag[attr=value]</code> syntax really only works for attributes.</p>\n\n<p>Is there a simple way to do what I want?</p>\n"}, {"tags": ["perl", "dbix-class"], "comments": [{"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 2, "creation_date": 1486672952, "post_id": 42146304, "comment_id": 71459290, "body": "The abbreviation for DBIx::Class is DBIC. DBIx is a whole CPAN namespace containing DBI eXtensions."}, {"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1486673230, "post_id": 42146304, "comment_id": 71459431, "body": "Why doesn&#39;t your parent table contain all referenced rows?"}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "reply_to_user": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "edited": false, "score": 0, "creation_date": 1486674399, "post_id": 42146304, "comment_id": 71460053, "body": "I&#39;m not entirely sure. It should. I didn&#39;t generate the data and it was imported from files. I did import multiple databases (one for each year) into one giant database. I tacked on a &quot;year&quot; column to each table which I was hoping could be used as part of a multi-column foreign key like so: <code>ALTER TABLE </code>ar_disbursements_emp_off` ADD CONSTRAINT <code>ar_disbursements_emp_off_fk</code> FOREIGN KEY (<code>rpt_id</code>,<code>lm2_year</code>) REFERENCES <code>lm_data</code> (<code>rpt_id</code>,<code>lm2_year</code>) ON DELETE CASCADE ON UPDATE CASCADE`"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486678031, "post_id": 42146304, "comment_id": 71461978, "body": "First off, you seem to be really doing the full circle in modern Perl. That&#39;s great. :) How large is your database? How many tables? How many different tables? Alexander below is right, you don&#39;t need the keys to be in the DB if you know them. But if you&#39;ve never used DBIC before it&#39;s hard work to figure out how to build the relationships yourself. But if you created the DB, you can also add the keys, right? What RDBMS are we talking about? And do you need multiple dbs? What is your goal? Are you doing one-time stuff or are you reimporting old working data into a new app?"}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1486699311, "post_id": 42146304, "comment_id": 71468862, "body": "23 tables totoal. One table has roughly 3 million rows. Most have a lot less. I tried adding the foreign keys but it keeps erroring out after a few seconds I think for the reason stated above. I&#39;m using MySQL. I mostly want to pull data from the database to analyze it. I can get away with doing SQL but I thought it might be good to exercise learn some new skills with Perl (I&#39;m a hobbyist, not a professional programmer). So a lot of this is driven by curiousity more than anything. I want to kick the tires of DBIC to see if I might want to implement in a project I abandoned last year."}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486700714, "post_id": 42146304, "comment_id": 71469222, "body": "@simbabque You can see the raw data here: <a href=\"https://olms.dol-esa.gov/query/getYearlyData.do\" rel=\"nofollow noreferrer\">olms.dol-esa.gov/query/getYearlyData.do</a>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486712941, "post_id": 42146304, "comment_id": 71473924, "body": "Ah I remember from a previous question. What do you want to do with it?  How are you going to use it so you need relationships? Maybe show us the SQL for creating the DB."}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1486713481, "post_id": 42146304, "comment_id": 71474183, "body": "I had to write a perl script to import them. The schema for the databases are in text files. And merging all the different databases into a singly database took some custom scripting as well to tack on the year columns. The only reason I need relationships is so I can play around with DBIC on some real world data because, apparently, i can&#39;t use DBIC unless foreign key relationships are set up."}], "answers": [{"comments": [{"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1486679246, "post_id": 42146547, "comment_id": 71462551, "body": "I&#39;m confused. How will it know which cols are supposed to be foreign keys?"}, {"owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "reply_to_user": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1486767710, "post_id": 42146547, "comment_id": 71504922, "body": "When you define a belongs_to relationship."}], "tags": [], "owner": {"reputation": 1853, "user_id": 1005136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa4e79e60474302c8225172649cbd35?s=128&d=identicon&r=PG", "display_name": "Alexander Hartmaier", "link": "https://stackoverflow.com/users/1005136/alexander-hartmaier"}, "is_accepted": false, "score": 2, "last_activity_date": 1486673223, "creation_date": 1486673223, "answer_id": 42146547, "question_id": 42146304, "link": "https://stackoverflow.com/questions/42146304/is-it-possible-to-use-dbixclass-on-a-database-without-relationships/42146547#42146547", "title": "Is it possible to use DBIx::Class on a database without relationships?", "body": "<p>You can of course define relationships in your DBIC schema that don't have a matching constraint in the database.\nIf you use $schema->deploy it will automatically generate constraints for all foreign key columns.</p>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1486700820, "creation_date": 1486672378, "last_edit_date": 1486700820, "question_id": 42146304, "link": "https://stackoverflow.com/questions/42146304/is-it-possible-to-use-dbixclass-on-a-database-without-relationships", "title": "Is it possible to use DBIx::Class on a database without relationships?", "body": "<p>I'm new to DBIC. I've imported data into a database. It's not possible to create relationships between the tables because, apparently, not all the values in the child table's foreign key column have a corresponding value in the parent table.</p>\n\n<p>So is it possible to still do joins between the tables? I've skimmed through the tutorial and documentation but found nothing that addresses this problem.</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 4, "creation_date": 1486662903, "post_id": 42143611, "comment_id": 71453456, "body": "What have you tried? What are the escape characters for digits and non-digits? How do you capture a value in a regex?"}, {"owner": {"reputation": 1, "user_id": 7541832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2d54c585fbd555b74d8a8952348b8b4?s=128&d=identicon&r=PG&f=1", "display_name": "Gauravi Naik", "link": "https://stackoverflow.com/users/7541832/gauravi-naik"}, "reply_to_user": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1486663230, "post_id": 42143611, "comment_id": 71453661, "body": "Hi I have tried the expression ($Filedigit)= ($Filename =~ m/^[0-9]/g);"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486670590, "post_id": 42143611, "comment_id": 71457908, "body": "@GauraviNaik: Okay, and what happened when you tried that? Why are you making us work so hard to get the information we need to answer you? You should also <i>edit</i> your question to add information, not write it in comments. I have done it for you this time, but we still need to know what problem you&#39;re having."}], "answers": [{"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 0, "last_activity_date": 1486664281, "last_edit_date": 1486664281, "creation_date": 1486663890, "answer_id": 42143982, "question_id": 42143611, "link": "https://stackoverflow.com/questions/42143611/perl-regular-expression-to-retrieve-the-first-digit/42143982#42143982", "title": "Perl regular expression to retrieve the first digit", "body": "<p>In a comment, you said you tried this:</p>\n\n<pre><code>($Filedigit)= ($Filename =~ m/^[0-9]/g);\n</code></pre>\n\n<p>A couple of things. You should <em>always</em> check that a match is successful before continuing on with your script, specifically when trying to capture. Next, <code>^</code> looks from the beginning of a string, then immediately looks for a single digit <code>0-9</code>, globally. This won't match unless you had a filename such as <code>2_blah.csv</code>. However, you're not actually attempting to capture anything, so if you do happen to match an entry, <code>$Filedigit</code> will be <code>1</code> in all cases (signifying a match happened).</p>\n\n<p>Here's an example that does what you want:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy $str = 'Validation_File_2_3.45.2017.csv';\n\n# confirm there's a match\n\nif (my ($num) = $str =~ /^.*?(\\d+)/){\n    print \"$num\\n\";\n}\nelse {\n    print \"no match\\n\";\n}\n</code></pre>\n\n<p>Explanation of the regex:</p>\n\n<pre><code>^   - start from beginning of string\n.*? - anything, non-greedy\n(   - begin capture\n\\d+ - any number of contiguous digit chars\n)   - end capture\n</code></pre>\n\n<p>So, it starts from the beginning of the string, throws away anything before the first set of contiguous digits and captures them and puts that into the variable.</p>\n\n<p>See <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a> and <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perlre</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 7541832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2d54c585fbd555b74d8a8952348b8b4?s=128&d=identicon&r=PG&f=1", "display_name": "Gauravi Naik", "link": "https://stackoverflow.com/users/7541832/gauravi-naik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 772, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1486670553, "creation_date": 1486662731, "last_edit_date": 1486670553, "question_id": 42143611, "link": "https://stackoverflow.com/questions/42143611/perl-regular-expression-to-retrieve-the-first-digit", "title": "Perl regular expression to retrieve the first digit", "body": "<p>I have a string with the value <code>Validation_File_2_3.45.2017.csv</code>.</p>\n\n<p>How do I extract the first digit which is 2 in this case using a regular expression?</p>\n\n<p>I have tried the expression <code>($Filedigit) = ($Filename =~ m/^[0-9]/g)</code> but it didn't work</p>\n"}, {"tags": ["perl", "unix", "sudo"], "comments": [{"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1486658302, "post_id": 42142012, "comment_id": 71450345, "body": "What does it display when you use <code>SUDO_USER</code>?"}, {"owner": {"reputation": 29, "user_id": 7435384, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05ae63a098fbc4efcf0616b913047f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Shankar", "link": "https://stackoverflow.com/users/7435384/vinu-shankar"}, "reply_to_user": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1486659083, "post_id": 42142012, "comment_id": 71450891, "body": "@AntonH I am getting nothing with SUDO_USER"}, {"owner": {"reputation": 29, "user_id": 7435384, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05ae63a098fbc4efcf0616b913047f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Shankar", "link": "https://stackoverflow.com/users/7435384/vinu-shankar"}, "reply_to_user": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1486659118, "post_id": 42142012, "comment_id": 71450916, "body": "@BenjaminW. I tried that.. either getting root or user2 or nothing.. But not user1"}, {"owner": {"reputation": 29, "user_id": 7435384, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05ae63a098fbc4efcf0616b913047f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Shankar", "link": "https://stackoverflow.com/users/7435384/vinu-shankar"}, "reply_to_user": {"reputation": 32690, "user_id": 3266847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U0oyt.png?s=128&g=1", "display_name": "Benjamin W.", "link": "https://stackoverflow.com/users/3266847/benjamin-w"}, "edited": false, "score": 0, "creation_date": 1486659236, "post_id": 42142012, "comment_id": 71451002, "body": "@BenjaminW. It is not sujt sudo -u.. it is sudo -u sbsh"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7435384, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05ae63a098fbc4efcf0616b913047f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Shankar", "link": "https://stackoverflow.com/users/7435384/vinu-shankar"}, "edited": false, "score": 0, "creation_date": 1486705760, "post_id": 42143127, "comment_id": 71470786, "body": "&quot;user2&quot; and &quot; &quot;.  I am not getting &quot;user1&quot; at all"}, {"owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "reply_to_user": {"reputation": 29, "user_id": 7435384, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05ae63a098fbc4efcf0616b913047f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Shankar", "link": "https://stackoverflow.com/users/7435384/vinu-shankar"}, "edited": false, "score": 0, "creation_date": 1487374348, "post_id": 42143127, "comment_id": 71773172, "body": "My <code>sudo --version</code> says <code>1.8.16</code>. What says yours?"}, {"owner": {"reputation": 29, "user_id": 7435384, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05ae63a098fbc4efcf0616b913047f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Shankar", "link": "https://stackoverflow.com/users/7435384/vinu-shankar"}, "edited": false, "score": 0, "creation_date": 1487436537, "post_id": 42143127, "comment_id": 71789104, "body": "1.8.6p7 is mine"}], "tags": [], "owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "is_accepted": false, "score": 0, "last_activity_date": 1486661217, "creation_date": 1486661217, "answer_id": 42143127, "question_id": 42142012, "link": "https://stackoverflow.com/questions/42142012/previous-username-after-doing-sudo-u-sbsh/42143127#42143127", "title": "previous username after doing sudo -u sbsh", "body": "<p>Try <code>$ENV{'SUDO_USER'}</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>$ sudo perl -E 'say for $ENV{USER}, $ENV{SUDO_USER}'\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 7435384, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/05ae63a098fbc4efcf0616b913047f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Shankar", "link": "https://stackoverflow.com/users/7435384/vinu-shankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "closed_date": 1486662708, "answer_count": 1, "score": 0, "last_activity_date": 1486661217, "creation_date": 1486657911, "last_edit_date": 1486659191, "question_id": 42142012, "link": "https://stackoverflow.com/questions/42142012/previous-username-after-doing-sudo-u-sbsh", "closed_reason": "Duplicate", "title": "previous username after doing sudo -u sbsh", "body": "<p>I am using the system as \"user1\" and I sudo as different user say \"sudo -u user2 sbsh\" and the execute a perl script.</p>\n\n<p>Is there a way to get the \"user1\" in the script I am running ?</p>\n\n<p>I used ENV{'USER'}. but it is giving \"user2\". 'SUDO_USER' is also not working.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486671464, "post_id": 42141738, "comment_id": 71458412, "body": "Your Perl code is a dreadful mess and you can&#39;t possibly be confident that it is correct. I have fixed it for you this time so that I could read it, but please post legible code in the future. There is a missing closing brace <code>}</code> and it generates the warning <code>Possible precedence issue with control flow operator</code> which you didn&#39;t tell us about"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486671545, "post_id": 42141738, "comment_id": 71458459, "body": "Never use Perl subroutine prototypes like <code>sub fetch ($) { ... }</code>.They don&#39;t do what you think they do, and just <code>sub fetch { ... }</code> is correct."}, {"owner": {"reputation": 145, "user_id": 7541194, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3EjPX.jpg?s=128&g=1", "display_name": "StayCalm", "link": "https://stackoverflow.com/users/7541194/staycalm"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486737937, "post_id": 42141738, "comment_id": 71489109, "body": "It was really silly with missing closing brace <code>}</code> Sorry for that. Can you please look thouth my  authentication?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486738091, "post_id": 42141738, "comment_id": 71489223, "body": "That is a separate issue and should be posted as a new question. But take a look at <a href=\"https://perlmaven.com/lwp-useragent-and-basic-authentication\" rel=\"nofollow noreferrer\"><i><code>LWP::UserAgent</code> and Basic Authentication</i></a>. By the way, please add new information\u2014especially code\u2014by editing the question; it&#39;s all but impossible to read in a comment."}, {"owner": {"reputation": 145, "user_id": 7541194, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3EjPX.jpg?s=128&g=1", "display_name": "StayCalm", "link": "https://stackoverflow.com/users/7541194/staycalm"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486738249, "post_id": 42141738, "comment_id": 71489372, "body": "Already done. But in this case should I post new question or just edit my old question?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1486738319, "post_id": 42141738, "comment_id": 71489432, "body": "Thank you. You need to open a new question. And please indent your code properly."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4464091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7528f06c8e2c662afd4a605398b56a56?s=128&d=identicon&r=PG&f=1", "display_name": "And", "link": "https://stackoverflow.com/users/4464091/and"}, "is_accepted": false, "score": -1, "last_activity_date": 1486657531, "creation_date": 1486657531, "answer_id": 42141872, "question_id": 42141738, "link": "https://stackoverflow.com/questions/42141738/error-cisco-prime-http-get-request/42141872#42141872", "title": "Error Cisco Prime HTTP GET request", "body": "<p>Print your raw answer from server in console.</p>\n\n<p>malformed JSON string, neither array, object, number, string or atom, at  character offset 0 (before \"Can't connect to 10....\")</p>\n\n<blockquote>\n  <p>\"Can't connect to 10....\"</p>\n</blockquote>\n\n<p>Maybe, your code is not have connect </p>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1486671945, "creation_date": 1486671945, "answer_id": 42146199, "question_id": 42141738, "link": "https://stackoverflow.com/questions/42141738/error-cisco-prime-http-get-request/42146199#42146199", "title": "Error Cisco Prime HTTP GET request", "body": "<p>It's hard to tell what's wrong without access to the web page, but almost certainly your request has failed</p>\n\n<p>I suggest you replace your <code>fetch</code> subroutine with this</p>\n\n<pre><code>sub fetch {\n    my ( $url ) = @_;\n\n    my $res = $ua-&gt;get( $BASE_URL . $url );\n    die $res-&gt;status_line unless $res-&gt;is_success;\n\n    my $json = $res-&gt;decoded_content;\n\n    return $json;\n}\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 7541194, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3EjPX.jpg?s=128&g=1", "display_name": "StayCalm", "link": "https://stackoverflow.com/users/7541194/staycalm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1486738658, "creation_date": 1486657163, "last_edit_date": 1486738658, "question_id": 42141738, "link": "https://stackoverflow.com/questions/42141738/error-cisco-prime-http-get-request", "title": "Error Cisco Prime HTTP GET request", "body": "<p>I'm trying to make an HTTP GET request with Cisco Prime:</p>\n\n<pre><code>#!/opt/local/bin/perl -w\n\nuse strict;\n\nuse JSON-support_by_pp;\nuse LWP 5.64;\nuse LWP::UserAgent;\n\n$ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0;\n\nmy $ua = LWP::UserAgent-&gt;new;\n\nmy $BASE_URL = 'https://Host_name/webacs/api/v1/';\nmy $UN       = \"Username\";\nmy $PW       = \"Password\";\n\nsub fetch ($) {\n    my ( $url ) = @_;\n    my $req = HTTP::Request-&gt;new( GET =&gt; $BASE_URL . $url );\n    $req-&gt;authorization_basic( $UN, $PW );\n    return $ua-&gt;request( $req )-&gt;content or die( \"Cannot read from \" . $BASE_URL . $url );\n}\n\nmy $content = fetch( 'data/AccessPoints.json?.full=true' );\n\nmy $json = new JSON;\n\n# these are some nice json options to relax restrictions a bit:\nmy $json_text =\n        $json-&gt;allow_nonref-&gt;utf8-&gt;relaxed-&gt;escape_slash-&gt;loose-&gt;allow_singlequote-&gt;allow_barekey-&gt;decode( $content );\n\nforeach my $ap ( @{ $json_text-&gt;{queryResponse}-&gt;{'entity'} } ) {\n\n    print \"------------------------\\nAccess Point \" . $ap-&gt;{'accessPointsDTO'}-&gt;{'@id'} . \"\\n\";\n    print \"Model:\" . $ap-&gt;{'accessPointsDTO'}-&gt;{'model'} . \"\\n\";\n    print \"MAC Address:\" . $ap-&gt;{'accessPointsDTO'}-&gt;{'macAddress'} . \"\\n\";\n    print \"Serial Number:\" . $ap-&gt;{'accessPointsDTO'}-&gt;{'serialNumber'} . \"\\n\";\n    print \"Software Version:\" . $ap-&gt;{'accessPointsDTO'}-&gt;{'softwareVersion'} . \"\\n\";\n    print \"Status:\" . $ap-&gt;{'accessPointsDTO'}-&gt;{'status'} . \"\\n\";\n    print \"Location:\" . $ap-&gt;{'accessPointsDTO'}-&gt;{'location'} . \"\\n\";\n</code></pre>\n\n<p>What do I do wrong? I have already tried with curl in shell and it works:</p>\n\n<pre><code>    curl --tlsv1 --user USER:PASSWORD--insecure https://Host_name/webacs/api/v1/data/AccessPoints.json?.full=true\n</code></pre>\n\n<p>but my Perl script doesn't work.</p>\n\n<p>I have this error:</p>\n\n<blockquote>\n  <p>malformed JSON string, neither array, object, number, string or atom, at  character offset 0 (before \"Can't connect to 10....\") at ersteProbe.pl line 28.</p>\n</blockquote>\n\n<p>Fix already. Thank you Borodin :)</p>\n\n<p>New question:\nI need authentication for Cisco Prime.\nCode works already, but authentication doesn't work.</p>\n\n<p>I have with error </p>\n\n<pre><code>    500 Can't connect to 10.10.10.10:443 (certificate verify failed) at ersteProbeAuth.pl line 27.\n</code></pre>\n\n<p>Line 27:</p>\n\n<pre><code>      die $res-&gt;status_line unless $res-&gt;is_success;\n</code></pre>\n\n<p>I'm rather new in Perl und cann't fix this myself. If you have Idee, I'll be happy :)</p>\n\n<pre><code>    #!/opt/local/bin/perl -w\n    use strict;\n    use warnings;\n    use JSON -support_by_pp;\n    use LWP 5.64;\n    use LWP::UserAgent;\n    use MIME::Base64;\n    use REST::Client;\n\n    $ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0;\n    my $ua = LWP::UserAgent-&gt;new;\n\n    my $BASE_URL = 'https://10.10.10.10/webacs/api/v1/';\n    my $UN='admin';\n    my $PW='admin';\n    # coding with Base 64\n    my $sys_id='Balalalalalal';\n    my $encoded_auth = encode_base64(\"$UN:$PW\", '');\n\n    sub fetch {\n        my ($url) = @_;\n        my  $res = $ua-&gt;get($BASE_URL . $url,\n             {'Authorization' =&gt; \"Basic $encoded_auth\",\n              'Accept' =&gt; 'application/json'});\n       die $res-&gt;status_line unless $res-&gt;is_success;\n       my $json = $res-&gt;decoded_content;\n       return $json\n    }\n    my $content = fetch('data/AccessPoints.json?.full=true/$sys_id');\n    my $json = new JSON;\n    # these are some nice json options to relax restrictions a bit:  my$json_text=$json-&gt;allow_nonref-&gt;utf8-&gt;relaxed-&gt;escape_slash-&gt;loose-&gt;allow_singlequote-&gt;allow_barekey-&gt;decode($content);\n   foreach my $ap (@{$json_text-&gt;{queryResponse}-&gt;{'entity'}}){\n   print \"------------------------\\nAccess Point \".$ap-&gt;{'accessPointsDTO'}-&gt;{'@id'}.\"\\n\";\n   print \"Model:\".$ap-&gt;{'accessPointsDTO'}-&gt;{'model'}.\"\\n\";\n   print \"MAC Address:\".$ap-&gt;{'accessPointsDTO'}-&gt;{'macAddress'}.\"\\n\";\n   print \"Serial Number:\".$ap-&gt;{'accessPointsDTO'}-&gt;{'serialNumber'}.\"\\n\";\n   print \"Software Version:\".$ap-&gt;{'accessPointsDTO'}-&gt;{'softwareVersion'}.\"\\n\";\n   print \"Status:\".$ap-&gt;{'accessPointsDTO'}-&gt;{'status'}.\"\\n\";\n   print \"Location:\".$ap-&gt;{'accessPointsDTO'}-&gt;{'location'}.\"\\n\";\n   }\n</code></pre>\n"}, {"tags": ["interrupt", "perl"], "comments": [{"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 5, "creation_date": 1486654587, "post_id": 42140250, "comment_id": 71447758, "body": "It sounds like you&#39;re reinventing profiling. Have you tried <a href=\"https://metacpan.org/pod/Devel::NYTProf\" rel=\"nofollow noreferrer\">Devel::NYTProf</a>?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 6, "creation_date": 1486656662, "post_id": 42140250, "comment_id": 71449237, "body": "Just call <code>Carp::cluck</code> in the signal handler and get the whole stack trace."}, {"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1486668022, "post_id": 42140250, "comment_id": 71456389, "body": "cluck does work as well. i had tried confess before but that didn&#39;t work, didnt occur to me to try cluck."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1486673516, "post_id": 42140250, "comment_id": 71459590, "body": "<code>confess</code> also calls exit. <code>cluck :: confess</code> as <code>warn :: die</code>."}], "answers": [{"comments": [{"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 1, "creation_date": 1486667484, "post_id": 42140972, "comment_id": 71456104, "body": "i have been googling for hours and somehow caller never popped up. this is exactly what i was looking for, thank you!  what hash reference ? sub{ ... } returns a sub reference, this code works for me"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1486667590, "post_id": 42140972, "comment_id": 71456158, "body": "@null maybe you need to get more Google foo :-) I first thought of <code>__LINE__</code> but that obviously have the current line. So this solution became obvious."}, {"owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "edited": false, "score": 0, "creation_date": 1486668138, "post_id": 42140972, "comment_id": 71456465, "body": "ahh, i see my question was edited. you are right! i missed the &quot;sub&quot; part!"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 8, "last_activity_date": 1486655048, "creation_date": 1486655048, "answer_id": 42140972, "question_id": 42140250, "link": "https://stackoverflow.com/questions/42140250/how-to-know-which-line-of-code-was-being-executed-when-a-signal-is-received/42140972#42140972", "title": "How to know which line of code was being executed when a signal is received", "body": "<p>You can use <a href=\"http://perldoc.perl.org/functions/caller.html\"><code>caller</code></a> in list context to get the package, file and line number of the place that the current sub got called from.</p>\n\n<pre><code>$SIG{ALRM} = sub {\n    my ($pkg, $file, $line) = caller;\n\n    CORE::say $line;\n    die;\n};\n\nalarm 2;\n\nwhile (1) {\n    1;\n}\n</code></pre>\n\n<p>This will output <code>11</code> (if I counted correctly, in my file it's 1740, and the <code>$SIG</code> line is 1730.</p>\n\n<p>It also works with other signal handlers, like <code>warn</code>.</p>\n\n<pre><code>$SIG{__WARN__} = sub {\n    my ($pkg, $file, $line) = caller;\n\n    CORE::say $line;\n};\n\nwarn 'foo';\n</code></pre>\n\n<p>This will output <code>7</code> </p>\n\n<p>Note that your code has a syntax error. You are assigning a <em>hash reference</em> as a signal handler, <strong>not a sub reference</strong>!</p>\n"}], "owner": {"reputation": 3058, "user_id": 7540911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6917a4235078edd5bfdc86b37071a108?s=128&d=identicon&r=PG&f=1", "display_name": "Nullman", "link": "https://stackoverflow.com/users/7540911/nullman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 1, "accepted_answer_id": 42140972, "answer_count": 1, "score": 7, "last_activity_date": 1486655795, "creation_date": 1486653058, "last_edit_date": 1486655795, "question_id": 42140250, "link": "https://stackoverflow.com/questions/42140250/how-to-know-which-line-of-code-was-being-executed-when-a-signal-is-received", "title": "How to know which line of code was being executed when a signal is received", "body": "<p>I'm trying to do something like this</p>\n\n<pre><code>$SIG{ALRM} = sub {\n    print $line_number_when_alarm_went_off;\n};\n\nalarm 10;\n\n# rest of the script\n</code></pre>\n\n<p>I'm using <code>ALRM</code> as an example, I will end up using a different signal to kill from the outside to trigger it. Is there a neat way of doing this sort of operation?</p>\n\n<p>I have some slow scripts and sometimes I would like to send them a signal to know where the code is at that moment.</p>\n\n<p>I want to make this as unobtrusive as possible so I could package it and add it to legacy code.</p>\n"}, {"tags": ["linux", "perl", "apt-get", "gnu-screen"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1486654981, "post_id": 42139493, "comment_id": 71448049, "body": "Your error is a text message. Please <a href=\"http://stackoverflow.com/review/suggested-edits/15158357\">edit your question</a> and add the text of your message. An image of text is a horrible way to share information."}, {"owner": {"reputation": 13, "user_id": 7520499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629e20b71cb479b9fee5eebb69d2b59d?s=128&d=identicon&r=PG&f=1", "display_name": "gianni carlo", "link": "https://stackoverflow.com/users/7520499/gianni-carlo"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1486655268, "post_id": 42139493, "comment_id": 71448269, "body": "i edit now, but the error is disappeared when i do update and upgrade, but screen does not work anyway, There is a log file of the screen?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1486656219, "post_id": 42139493, "comment_id": 71448933, "body": "This is a deprecation warning, not an error. If stuff is not working then this message is <b>not the reason</b>. It&#39;s documented <a href=\"http://perldoc.perl.org/perldiag.html#Unescaped-left-brace-in-regex-is-deprecated%2c-passed-through-in-regex%3b-marked-by-%3c---HERE-in-m%2f%25s%2f\" rel=\"nofollow noreferrer\">here</a> and will likely be a syntax error and thus a fatal error from Perl 5.26. It was <a href=\"http://perldoc.perl.org/perl5220delta.html#A-literal-%22%7b%22-should-now-be-escaped-in-a-pattern\" rel=\"nofollow noreferrer\">deprecated with Perl 5.22</a>. At most, this tells us that you have a very recent Perl in your Debian 8."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1486656546, "post_id": 42139493, "comment_id": 71449158, "body": "Please <a href=\"https://stackoverflow.com/posts/42139493/edit\">edit</a> your question and include <b>all the output you get</b>."}, {"owner": {"reputation": 13, "user_id": 7520499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629e20b71cb479b9fee5eebb69d2b59d?s=128&d=identicon&r=PG&f=1", "display_name": "gianni carlo", "link": "https://stackoverflow.com/users/7520499/gianni-carlo"}, "edited": false, "score": 0, "creation_date": 1486656736, "post_id": 42139493, "comment_id": 71449290, "body": "I think the problem of perl is resolved after using &quot;upd and upg&quot; but I do not understand why screen does not work, does not give me any kind of mistake, just nothing happens, I press send and returns me the # saying nothing"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7520499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629e20b71cb479b9fee5eebb69d2b59d?s=128&d=identicon&r=PG&f=1", "display_name": "gianni carlo", "link": "https://stackoverflow.com/users/7520499/gianni-carlo"}, "edited": false, "score": 0, "creation_date": 1486666839, "post_id": 42143293, "comment_id": 71455749, "body": "yes, i upgrade and now work(i think..) but for the screen, when i try to start a screen, it immediatly stop without saying anything, idk if is about perl o something also"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 13, "user_id": 7520499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629e20b71cb479b9fee5eebb69d2b59d?s=128&d=identicon&r=PG&f=1", "display_name": "gianni carlo", "link": "https://stackoverflow.com/users/7520499/gianni-carlo"}, "edited": false, "score": 0, "creation_date": 1486680900, "post_id": 42143293, "comment_id": 71463328, "body": "@gianni carlo, &quot;<i>it give me no error, but screen not work</i>&quot; and &quot;<i>it immediatly stop without saying anything</i>&quot; do not form a sufficient description of the problem. Besides, do you really want to debug <code>screen</code>?"}, {"owner": {"reputation": 13, "user_id": 7520499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629e20b71cb479b9fee5eebb69d2b59d?s=128&d=identicon&r=PG&f=1", "display_name": "gianni carlo", "link": "https://stackoverflow.com/users/7520499/gianni-carlo"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486681466, "post_id": 42143293, "comment_id": 71463554, "body": "@ikegami I know, but I do not know what else to say, simply, a vps newly formatted, after doing updates, I installed screen and does not work, apart from the problem mentioned above, it has now solved by another update, there &#39;is nothing else, I came out no mistake, I do not know where to go looking for a &quot;log&quot; file to see why it will not start, nothing, I know nothing, I know this is a little, but I know nothing if you tell me what to check in order to get other information, I will report immediately"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486682012, "post_id": 42143293, "comment_id": 71463731, "body": "Start with determining the error code returned. Either way, the next step is to load <code>sceen</code> in the debugger and debug it. But I&#39;m guessing you don&#39;t know how to do that. It&#39;s not something we can do for you. (If I&#39;m wrong, what&#39;s stopping you?)"}, {"owner": {"reputation": 13, "user_id": 7520499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629e20b71cb479b9fee5eebb69d2b59d?s=128&d=identicon&r=PG&f=1", "display_name": "gianni carlo", "link": "https://stackoverflow.com/users/7520499/gianni-carlo"}, "edited": false, "score": 0, "creation_date": 1486682181, "post_id": 42143293, "comment_id": 71463796, "body": "then, when I give the command screen, reappears me &quot;#&quot; as if it would work, but it really does not start nothing, I know nothing of the debugger"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486682247, "post_id": 42143293, "comment_id": 71463826, "body": "In <code>bash</code>, the exit code of the last program it executed is found in <code>$?</code>. We can&#39;t teach you to debug."}, {"owner": {"reputation": 13, "user_id": 7520499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629e20b71cb479b9fee5eebb69d2b59d?s=128&d=identicon&r=PG&f=1", "display_name": "gianni carlo", "link": "https://stackoverflow.com/users/7520499/gianni-carlo"}, "edited": false, "score": 0, "creation_date": 1486682473, "post_id": 42143293, "comment_id": 71463898, "body": "it&#39;s embarrassing, I&#39;m sorry but unfortunately do not understand much English, what you mean by &quot;the exit code of the last program it executed is found in the $?&quot;?"}, {"owner": {"reputation": 13, "user_id": 7520499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629e20b71cb479b9fee5eebb69d2b59d?s=128&d=identicon&r=PG&f=1", "display_name": "gianni carlo", "link": "https://stackoverflow.com/users/7520499/gianni-carlo"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486685048, "post_id": 42143293, "comment_id": 71464763, "body": "@ikegami lol, i fail the command, now when i type the right command,the console becomes all black and then immediately appears:[screen is terminating] and #"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1486685266, "post_id": 42143293, "comment_id": 71464841, "body": "Run <code>echo $?</code> after <code>screen</code> exits"}, {"owner": {"reputation": 13, "user_id": 7520499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629e20b71cb479b9fee5eebb69d2b59d?s=128&d=identicon&r=PG&f=1", "display_name": "gianni carlo", "link": "https://stackoverflow.com/users/7520499/gianni-carlo"}, "edited": false, "score": 0, "creation_date": 1486685522, "post_id": 42143293, "comment_id": 71464927, "body": "i try and appear : 0"}, {"owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "edited": false, "score": 0, "creation_date": 1487374610, "post_id": 42143293, "comment_id": 71773241, "body": "If you get an empty screen (well, just a new prompt &#39;#&#39;) I suspect that screen is just working as expected. What did you expect?"}], "tags": [], "owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "is_accepted": false, "score": 0, "last_activity_date": 1486661776, "creation_date": 1486661776, "answer_id": 42143293, "question_id": 42139493, "link": "https://stackoverflow.com/questions/42139493/perl-error-when-try-to-install-screen/42143293#42143293", "title": "Perl error when try to install &quot;screen&quot;", "body": "<p>It seems that the perl code in this file has a regexp that triggers a warning with the recent perl you have.\nThe source file comes from the <code>debconf</code> package:</p>\n\n<pre><code>$ dpkg -S /usr/share/perl5/Debconf/Question.pm\ndebconf: /usr/share/perl5/Debconf/Question.pm\n</code></pre>\n\n<p>The problem has probably been already fixed (at least it is on <code>debconf-1.5.58ubuntu1</code> on Ubuntu 16.04). So you should try to upgrade that package (and all available updates by the way).</p>\n"}], "owner": {"reputation": 13, "user_id": 7520499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629e20b71cb479b9fee5eebb69d2b59d?s=128&d=identicon&r=PG&f=1", "display_name": "gianni carlo", "link": "https://stackoverflow.com/users/7520499/gianni-carlo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1531737540, "creation_date": 1486651049, "last_edit_date": 1531737540, "question_id": 42139493, "link": "https://stackoverflow.com/questions/42139493/perl-error-when-try-to-install-screen", "title": "Perl error when try to install &quot;screen&quot;", "body": "<p>I need to install screen on my server (Debian 8, Kernel 3.16.0). But when I\ntype <code>apt-get install screen</code> (with root), I see this: </p>\n\n<blockquote>\n  <p>\"Unescaped left brace in regex is deprecated, passed through in regex; marked by &lt;-- HERE in m/^(.<em>?)(\\)?\\${ &lt;-- HERE ([^{}]+)}(.</em>)$/ at /usr/share/perl5/Debconf/Question.pm line 72.\n  Unescaped left brace in regex is deprecated, passed through in regex; marked by &lt;-- HERE in m/\\${ &lt;-- HERE ([^}]+)}/ at /usr/share/perl5/Debconf/Config.pm line 30.\"</p>\n</blockquote>\n\n<p>And not work.<br/>\nI dont know what I can search because I try Google but its different.<br/>\nHow to fix it?<br/>\nthanks so much</p>\n\n<p>EDIT: I try now <code>aptget</code> update and upgrade and I see the same error. But, after I try to install screen and it give me no error, but screen not work.</p>\n"}, {"tags": ["perl", "moose"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1486654191, "post_id": 42139327, "comment_id": 71447472, "body": "Looks like <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=58028\" rel=\"nofollow noreferrer\">rt.cpan.org/Public/Bug/Display.html?id=58028</a>"}, {"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1486656564, "post_id": 42139327, "comment_id": 71449171, "body": "That bug was patched, and besides, my module name would pass that regex causing the bug. So it turns out I actually hadn&#39;t tried issuing the command without the <code>.pm</code> extension at the end of the package name like I thought. Once I removed it, it worked fine."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1486661011, "post_id": 42139327, "comment_id": 71452206, "body": "You&#39;re right, that ticket should be closed!"}], "answers": [{"comments": [{"owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "edited": false, "score": 0, "creation_date": 1486664382, "post_id": 42142640, "comment_id": 71454362, "body": "Yeah, I thought I did run it without the <code>.pm</code> but I actually hadn&#39;t."}], "tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 2, "last_activity_date": 1486661234, "last_edit_date": 1486661234, "creation_date": 1486659786, "answer_id": 42142640, "question_id": 42139327, "link": "https://stackoverflow.com/questions/42139327/why-do-i-get-attribute-class-does-not-pass-the-type-constraint-because-valid/42142640#42142640", "title": "Why do I get &quot;Attribute (class) does not pass the type constraint because: Validation failed for &#39;MooseX::Runnable::Invocation::RunnableClass&#39;&quot;?", "body": "<p>Moose error messages can be hard to decipher, but this is the key piece:</p>\n\n<blockquote>\n  <p>Validation failed for 'MooseX::Runnable::Invocation::RunnableClass' with value \"LaborData::Data::DBIxTest.pm\"</p>\n</blockquote>\n\n<p><code>LaborData::Data::DBIxTest.pm</code> is not a valid class name. You have to drop the <code>.pm</code>, e.g.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mx-run LaborData::Data::DBIxTest hi\n</code></pre>\n\n<hr>\n\n<p>If you're curious, valid class names are determined by Params::Util::_CLASS, which looks like <a href=\"https://metacpan.org/source/ADAMK/Params-Util-1.07/lib/Params/Util.pm#L191\" rel=\"nofollow noreferrer\">this</a>:</p>\n\n<pre><code>sub _CLASS ($) {\n        (defined $_[0] and ! ref $_[0] and $_[0] =~ m/^[^\\W\\d]\\w*(?:::\\w+)*\\z/s) ? $_[0] : undef;\n}\n</code></pre>\n\n<p>In other words, one or more alphanumeric characters, not beginning with a number, and optionally separated by <code>::</code>.</p>\n"}], "owner": {"reputation": 2287, "user_id": 1641112, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/00bee18fb974a0057fb61a56faf66052?s=128&d=identicon&r=PG", "display_name": "StevieD", "link": "https://stackoverflow.com/users/1641112/stevied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1071, "favorite_count": 0, "accepted_answer_id": 42142640, "answer_count": 1, "score": 3, "last_activity_date": 1486661234, "creation_date": 1486650598, "last_edit_date": 1486660724, "question_id": 42139327, "link": "https://stackoverflow.com/questions/42139327/why-do-i-get-attribute-class-does-not-pass-the-type-constraint-because-valid", "title": "Why do I get &quot;Attribute (class) does not pass the type constraint because: Validation failed for &#39;MooseX::Runnable::Invocation::RunnableClass&#39;&quot;?", "body": "<p>I'm attempting to create a runnable Moose program following the example in the <a href=\"https://metacpan.org/pod/MooseX::Runnable)\" rel=\"nofollow noreferrer\">MooseX::Runnable docs</a>:</p>\n\n<pre><code>package LaborData::Data::DBIxTest;\nuse Moose;\nuse Modern::Perl;\nuse LaborData::Data::Schema;\nwith 'DB', 'MooseX::Runnable';\n\nsub run {\n  my ($self, $name) = @_; \n  say $name;\n}\n</code></pre>\n\n<p>But when I run</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>mx-run LaborData::Data::DBIxTest.pm hi\n</code></pre>\n\n<p>on the command line, I get this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Attribute (class) does not pass the type constraint because: Validation failed for 'MooseX::Runnable::Invocation::RunnableClass' with value \"LaborData::Data::DBIxTest.pm\" at /usr/lib/x86_64-linux-gnu/perl5/5.20/Moose/Util.pm line 49\n    Moose::Util::throw_exception('ValidationFailedForTypeConstraint', 'type', 'MooseX::Types::TypeDecorator=HASH(0x38728e8)', 'value', 'LaborData::Data::DBIxTest.pm', 'attribute', 'Moose::Meta::Attribute=HASH(0x38bd4e8)') called at /usr/lib/x86_64-linux-gnu/perl5/5.20/Moose/Meta/Attribute.pm line 1265\n    Moose::Meta::Attribute::verify_against_type_constraint('Moose::Meta::Attribute=HASH(0x38bd4e8)', 'LaborData::Data::DBIxTest.pm', 'instance', 'MooseX::Runnable::Invocation::MxRun=HASH(0x38a13d8)') called at /usr/lib/x86_64-linux-gnu/perl5/5.20/Moose/Meta/Attribute.pm line 1252\n    Moose::Meta::Attribute::_coerce_and_verify('Moose::Meta::Attribute=HASH(0x38bd4e8)', 'LaborData::Data::DBIxTest.pm', 'MooseX::Runnable::Invocation::MxRun=HASH(0x38a13d8)') called at /usr/lib/x86_64-linux-gnu/perl5/5.20/Moose/Meta/Attribute.pm line 511\n    Moose::Meta::Attribute::initialize_instance_slot('Moose::Meta::Attribute=HASH(0x38bd4e8)', 'Moose::Meta::Instance=HASH(0x3881ad0)', 'MooseX::Runnable::Invocation::MxRun=HASH(0x38a13d8)', 'HASH(0x37fc528)') called at /usr/lib/x86_64-linux-gnu/perl5/5.20/Class/MOP/Class.pm line 524\n    Class::MOP::Class::_construct_instance('Moose::Meta::Class=HASH(0x3481260)', 'HASH(0x37fc528)') called at /usr/lib/x86_64-linux-gnu/perl5/5.20/Class/MOP/Class.pm line 494\n    Class::MOP::Class::new_object('Moose::Meta::Class=HASH(0x3481260)', 'HASH(0x37fc528)') called at /usr/lib/x86_64-linux-gnu/perl5/5.20/Moose/Meta/Class.pm line 274\n    Moose::Meta::Class::new_object('Moose::Meta::Class=HASH(0x3481260)', 'HASH(0x37fc528)') called at /usr/lib/x86_64-linux-gnu/perl5/5.20/Moose/Object.pm line 23\n    Moose::Object::new('MooseX::Runnable::Invocation::MxRun', 'class', 'LaborData::Data::DBIxTest.pm', 'plugins', 'HASH(0x387f1a0)', 'parsed_args', 'MooseX::Runnable::Util::ArgParser=HASH(0x3486408)') called at /usr/local/bin/mx-run line 28\n    main::run at /usr/local/bin/mx-run line 9\n</code></pre>\n\n<p>I can load the module fine from a script without error. I can also run the program just fine using the <a href=\"https://metacpan.org/pod/MooseX::Runnable::Run\" rel=\"nofollow noreferrer\">technique found here.</a></p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1486650446, "post_id": 42139186, "comment_id": 71444667, "body": "I&#39;ve done a lot of work with <code>File::Temp</code> combined with spun-off async processes, and it just Does The Right Thing."}, {"owner": {"reputation": 339, "user_id": 1632560, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c88eeef0ac0a74a3dd227ad15df556c8?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/1632560/snow"}, "edited": false, "score": 0, "creation_date": 1486650803, "post_id": 42139186, "comment_id": 71444920, "body": "While working with that I realized that sometimes it creates the filename with underscore which is not good for me, can I exclude the underscore from the generation?"}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "reply_to_user": {"reputation": 339, "user_id": 1632560, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c88eeef0ac0a74a3dd227ad15df556c8?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/1632560/snow"}, "edited": false, "score": 0, "creation_date": 1486651282, "post_id": 42139186, "comment_id": 71445244, "body": "@Snow: You can use the <code>template</code> option, see the doc."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1486662930, "post_id": 42139186, "comment_id": 71453473, "body": "That doesn&#39;t say that filenames are guaranteed to be unique."}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 2, "last_activity_date": 1486650212, "creation_date": 1486650212, "answer_id": 42139186, "question_id": 42139006, "link": "https://stackoverflow.com/questions/42139006/are-filetemp-filenames-guaranteed-to-be-unique-across-processes/42139186#42139186", "title": "Are File::Temp filenames guaranteed to be unique across processes?", "body": "<p>According to the <a href=\"http://perldoc.perl.org/File/Temp.html\" rel=\"nofollow noreferrer\">doc</a>, it is safe:</p>\n\n<blockquote>\n  <p>The security aspect of temporary file creation is emphasized such that a filehandle and filename are returned together. This helps guarantee that a race condition can not occur where the temporary file is created by another process between checking for the existence of the file and its opening. Additional security levels are provided to check, for example, that the sticky bit is set on world writable directories. See safe_level for more information.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 6313, "user_id": 328115, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9a029d2d948f128443f996fa12b3d3a1?s=128&d=identicon&r=PG", "display_name": "dolmen", "link": "https://stackoverflow.com/users/328115/dolmen"}, "is_accepted": false, "score": 3, "last_activity_date": 1486662220, "creation_date": 1486662220, "answer_id": 42143442, "question_id": 42139006, "link": "https://stackoverflow.com/questions/42139006/are-filetemp-filenames-guaranteed-to-be-unique-across-processes/42143442#42143442", "title": "Are File::Temp filenames guaranteed to be unique across processes?", "body": "<p><strong>No</strong>, there is no guarantee that the temp files filenames will be unique between the processes.</p>\n\n<p>When you ask for the creation of a temporary file with <code>File::Temp::tempfile</code>, there is at most a garantee that the file did not exist at the creation time. But there is no garantee that a file with that name never existed before.</p>\n\n<p>For example if process A creates a temp file, then closes it and removes it, the filename created later by <code>File::Temp::tempfile</code> in process B may be the same. It is very unlikely but possible. In anycase, you should not consider the tempfile path as a unique id beyond the lifetime of the tempfile.</p>\n"}, {"tags": [], "owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "is_accepted": true, "score": 1, "last_activity_date": 1486666251, "creation_date": 1486666251, "answer_id": 42144657, "question_id": 42139006, "link": "https://stackoverflow.com/questions/42139006/are-filetemp-filenames-guaranteed-to-be-unique-across-processes/42144657#42144657", "title": "Are File::Temp filenames guaranteed to be unique across processes?", "body": "<p>File::Temp tries to ensure that it doesn't open an existing file by setting the <code>O_EXCL</code> flag to <a href=\"http://perldoc.perl.org/functions/sysopen.html\" rel=\"nofollow noreferrer\"><code>sysopen</code></a>, which causes <code>sysopen</code> to fail if the file already exists. However:</p>\n\n<blockquote>\n  <p><code>O_EXCL</code> may not work on network filesystems...</p>\n</blockquote>\n\n<p>So on some network filesystems, it's possible that one process could open an existing temporary file created by another process.</p>\n\n<p>There are <a href=\"https://metacpan.org/pod/File::Temp#Temporary-files-and-NFS\" rel=\"nofollow noreferrer\">other problems</a> with File::Temp on NFS, so you should only use it on a local filesystem anyway.</p>\n"}], "owner": {"reputation": 339, "user_id": 1632560, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c88eeef0ac0a74a3dd227ad15df556c8?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/1632560/snow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 42144657, "answer_count": 3, "score": 3, "last_activity_date": 1486666518, "creation_date": 1486649720, "last_edit_date": 1486666518, "question_id": 42139006, "link": "https://stackoverflow.com/questions/42139006/are-filetemp-filenames-guaranteed-to-be-unique-across-processes", "title": "Are File::Temp filenames guaranteed to be unique across processes?", "body": "<p>I am using <a href=\"http://perldoc.perl.org/File/Temp.html\" rel=\"nofollow noreferrer\">File::Temp</a> to create unique temporary files in Perl. If I am running a script that creates temp files in a couple of different processes, is it guaranteed that the filenames will be unique between the processes?</p>\n"}]