[{"tags": ["arrays", "perl", "bioinformatics", "levenshtein-distance", "edit-distance"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1478122012, "post_id": 40389712, "comment_id": 68031913, "body": "In your example, <code>distance(@list, @words)</code> is equivalent to <code>distance(&#39;foo&#39;, &#39;fear&#39;, &#39;four&#39;, &#39;foo&#39;, &#39;bar&#39;)</code>, which computes the edit distance between &quot;foo&quot; and &quot;fear&quot;, &quot;foo&quot; and &quot;four&quot;, &quot;foo&quot; and &quot;foo&quot;, and &quot;foo&quot; and &quot;bar&quot;."}, {"owner": {"reputation": 335, "user_id": 6490646, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ef3aeb1e4fd739f5ec7558c262e73671?s=128&d=identicon&r=PG&f=1", "display_name": "El David", "link": "https://stackoverflow.com/users/6490646/el-david"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1478123033, "post_id": 40389712, "comment_id": 68032354, "body": "This makes sense, thank you."}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 1, "last_activity_date": 1478120948, "creation_date": 1478120948, "answer_id": 40389828, "question_id": 40389712, "link": "https://stackoverflow.com/questions/40389712/use-edit-distance-on-arrays-in-perl/40389828#40389828", "title": "use edit distance on arrays in perl", "body": "<blockquote>\n  <p>Taking the first element of <code>@list</code> through the array of <code>@words</code> and doing the same through out the rest of the elements of <code>@list</code>.</p>\n</blockquote>\n\n<p>You just described exactly what you need to do to get the output you would like; loop through the <code>@list</code> array and for each element compute the distance for all elements of the <code>@words</code> array. </p>\n"}, {"comments": [{"owner": {"reputation": 335, "user_id": 6490646, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ef3aeb1e4fd739f5ec7558c262e73671?s=128&d=identicon&r=PG&f=1", "display_name": "El David", "link": "https://stackoverflow.com/users/6490646/el-david"}, "edited": false, "score": 0, "creation_date": 1478123015, "post_id": 40389832, "comment_id": 68032346, "body": "Thank you! This was what I was looking for"}], "tags": [], "owner": {"reputation": 11224, "user_id": 1620937, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/689410968ffb0f422e790bd6a48b3d9e?s=128&d=identicon&r=PG", "display_name": "Orab&#238;g", "link": "https://stackoverflow.com/users/1620937/orab%c3%aeg"}, "is_accepted": true, "score": 4, "last_activity_date": 1478120959, "creation_date": 1478120959, "answer_id": 40389832, "question_id": 40389712, "link": "https://stackoverflow.com/questions/40389712/use-edit-distance-on-arrays-in-perl/40389832#40389832", "title": "use edit distance on arrays in perl", "body": "<p>I'm not sure to understand exactly what you meant, but I think this is what you expect :</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Text::Levenshtein qw(distance);\n\nmy @words = qw(four foo bar);\nmy @list = qw(foo fear);\n\nforeach my $word (@list) {\n   my @distances = distance($word, @words);\n   print \"@distances\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 6490646, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ef3aeb1e4fd739f5ec7558c262e73671?s=128&d=identicon&r=PG&f=1", "display_name": "El David", "link": "https://stackoverflow.com/users/6490646/el-david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 40389832, "answer_count": 2, "score": 2, "last_activity_date": 1478120959, "creation_date": 1478120436, "last_edit_date": 1478120769, "question_id": 40389712, "link": "https://stackoverflow.com/questions/40389712/use-edit-distance-on-arrays-in-perl", "title": "use edit distance on arrays in perl", "body": "<p>I am attempting to compare the edit distance between two arrays. I have tried using Text:Levenshtein.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Text::Levenshtein qw(distance);\n\nmy @words = qw(four foo bar);\nmy @list = qw(foo fear);\nmy @distances = distance(@list, @words);\n\nprint \"@distances\\n\";\n#results: 3 2 0 3\n</code></pre>\n\n<p>I however want the results to appear as follows:</p>\n\n<pre><code>2 0 3\n2 3 2\n</code></pre>\n\n<p>Taking the first element of @list through the array of @words and doing the same through out the rest of the elements of @list.\nI plan on upscaling this to a much larger arrays.</p>\n"}, {"tags": ["perl", "variables", "compiler-errors", "compare"], "answers": [{"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 1, "last_activity_date": 1478120356, "creation_date": 1478120356, "answer_id": 40389689, "question_id": 40389551, "link": "https://stackoverflow.com/questions/40389551/compare-variables-with-leading-zero-in-perl/40389689#40389689", "title": "Compare variables with leading zero in perl", "body": "<p>If you start your numbers with a zero, then Perl interprets them as <strong>octal</strong> numbers (8-based), not 10-based \"regular\" numbers.</p>\n"}, {"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": true, "score": 6, "last_activity_date": 1478121245, "last_edit_date": 1478121245, "creation_date": 1478120408, "answer_id": 40389707, "question_id": 40389551, "link": "https://stackoverflow.com/questions/40389551/compare-variables-with-leading-zero-in-perl/40389707#40389707", "title": "Compare variables with leading zero in perl", "body": "<p>Issue #1: </p>\n\n<p>In Perl you compare strings with the <a href=\"http://perldoc.perl.org/perlop.html#Equality-Operators\" rel=\"nofollow noreferrer\"><code>eq</code></a> operator, not <code>==</code>: </p>\n\n<p>A correct comparison would be: </p>\n\n<pre><code>if ( substr($num1, 0, 7) eq substr($num2, 0, 7) ) {\n    # ...\n}\nelse {\n    # ...\n}\n</code></pre>\n\n<p>Issue #2: </p>\n\n<p>Numbers that start with 0 in are interpreted as <em>octal</em>, you can read more about this in <a href=\"http://perldoc.perl.org/perlnumber.html\" rel=\"nofollow noreferrer\"><code>perldoc perlnumber</code></a></p>\n\n<pre><code>12345601 (octal) == 2739073 (decimal)\n12345602 (octal) == 2739074 (decimal)\n</code></pre>\n\n<p>Issue #3: </p>\n\n<p>Missing <code>use strict;</code> and <code>use warnings;</code></p>\n"}, {"tags": [], "owner": {"reputation": 543, "user_id": 2751338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ce5ca563d190132ed3a654d33593dc?s=128&d=identicon&r=PG&f=1", "display_name": "albe", "link": "https://stackoverflow.com/users/2751338/albe"}, "is_accepted": false, "score": 1, "last_activity_date": 1478120837, "creation_date": 1478120837, "answer_id": 40389802, "question_id": 40389551, "link": "https://stackoverflow.com/questions/40389551/compare-variables-with-leading-zero-in-perl/40389802#40389802", "title": "Compare variables with leading zero in perl", "body": "<p>It looks like you want to treat the numbers as strings, so:</p>\n\n<pre><code>$num1 = \"012345601\";\n$num2 = \"012345602\";\n\n...\n</code></pre>\n\n<p>etc.</p>\n\n<p>and do use the eq instead of == at least until you want to treat the strings as numbers again.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1478122543, "creation_date": 1478122543, "answer_id": 40390232, "question_id": 40389551, "link": "https://stackoverflow.com/questions/40389551/compare-variables-with-leading-zero-in-perl/40390232#40390232", "title": "Compare variables with leading zero in perl", "body": "<p>As mentioned, the problem is that</p>\n\n<pre><code>my $num1 = 012345601;  # Assigns 2739073 (octal 012345601)\nmy $num2 = 012345602;  # Assigns 2739074 (octal 012345601)\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>my $num1 = '012345601';\nmy $num2 = '012345602';\n</code></pre>\n\n<hr>\n\n<p>A simple way of comparing all but the last two digits is</p>\n\n<pre><code>int($num1/100) == int($num2/100)\n</code></pre>\n"}], "owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 295, "favorite_count": 0, "accepted_answer_id": 40389707, "answer_count": 4, "score": 1, "last_activity_date": 1478122543, "creation_date": 1478119824, "question_id": 40389551, "link": "https://stackoverflow.com/questions/40389551/compare-variables-with-leading-zero-in-perl", "title": "Compare variables with leading zero in perl", "body": "<p>I'm trying to compare the first 7 characters in $num1 and $num2. When i compile it i get a weird output. The output doesn't match $num1 or $num2. How can i compare these 2 variables?</p>\n\n<blockquote>\n  <p>OUTPUT: num1[2739073] num2[2739074] </p>\n</blockquote>\n\n<pre><code>$num1 = 012345601;\n$num2 = 012345602;\n\n#$num1 =~ s/^0+//;\n#$num2 =~ s/^0+//;\n\nif (substr($num1, 0, -2) == substr($num2, 0, -2)) {\n    print \"num1[$num1]\" . \" num2[$num2]\\n\";\n} else {\n    print \"Not equal\\n\";\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 3, "creation_date": 1478113205, "post_id": 40387736, "comment_id": 68027193, "body": "<code>*</code> is a modifier, so <code>^*</code> makes no sense. &quot;zero-or-more start-of-line&quot;. <code>\\s</code> is a SINGLE space, not &quot;0 or more&quot;. you want <code>&#47;^\\s*...</code>"}, {"owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1478113426, "post_id": 40387736, "comment_id": 68027304, "body": "oh ok.. so is this what i need to write? <code>&#47;^\\s*\\Q$lhs\\s*[-&gt;]\\s*\\Q$lhs&#47;</code> It doesn&#39;t give me an error like the last one but it doesn&#39;t work either (according to my verbal description in the original post)"}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1478113565, "post_id": 40387736, "comment_id": 68027388, "body": "what&#39;s the point of the \\Q? that turns off metacharacters from that point forwards..."}, {"owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1478113866, "post_id": 40387736, "comment_id": 68027545, "body": "I thought i had to use it for the variable <code>$lhs</code>? never mind, i found the answer. I just had to add <code>*</code> after <code>[-&gt;]</code>. Many thanks for your help!"}, {"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 0, "creation_date": 1478113904, "post_id": 40387736, "comment_id": 68027563, "body": "Indeed, the <code>\\Q</code> must be closed with <code>\\E</code>."}, {"owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "edited": false, "score": 1, "creation_date": 1478114199, "post_id": 40387736, "comment_id": 68027696, "body": "So you use <code>\\Q</code> and <code>\\E</code> when in between you have characters you wish to escape and not be interpreted as part of the regex? Is it like using &#39;\\&#39; for a whole string of characters?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1478114581, "post_id": 40387736, "comment_id": 68027881, "body": "@Gambit2007 Yes, exactly. It basically inserts a backslash before every non-<code>\\w</code> character."}, {"owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "edited": false, "score": 0, "creation_date": 1478114619, "post_id": 40387736, "comment_id": 68027901, "body": "Great, thanks! I&#39;m just pretty new to perl."}], "answers": [{"tags": [], "owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "is_accepted": false, "score": 0, "last_activity_date": 1478113942, "creation_date": 1478113942, "answer_id": 40387953, "question_id": 40387736, "link": "https://stackoverflow.com/questions/40387736/perl-regex-which-doesnt-work/40387953#40387953", "title": "Perl regex which doesn&#39;t work", "body": "<p>I've found my answer:</p>\n\n<pre><code>$line =~ /^\\s*$lhs\\s*[-&gt;]*\\s*$lhs/\n</code></pre>\n\n<p>Many thanks to Marc B for the help!</p>\n"}], "owner": {"reputation": 1792, "user_id": 3068500, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0cf641fb92b7fd2625f7690aac7f424c?s=128&d=identicon&r=PG&f=1", "display_name": "Gambit2007", "link": "https://stackoverflow.com/users/3068500/gambit2007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1478113942, "creation_date": 1478113089, "question_id": 40387736, "link": "https://stackoverflow.com/questions/40387736/perl-regex-which-doesnt-work", "title": "Perl regex which doesn&#39;t work", "body": "<p>I want to write a regex of this sort: (this is what i have currently)\n(<code>$line</code> is a string)</p>\n\n<pre><code>$lhs = \"E\";\nunless ($line =~ /^*\\s\\Q$lhs*\\s[-&gt;]*\\s\\Q$lhs/) {\n...\n}\n</code></pre>\n\n<p>In the regex, this is what i what to find:</p>\n\n<p>At the beginning of the string, 0 or more spaces followed by <code>$lhs</code> followed by 0 or more spaces followed by the characters <code>-</code> or <code>&gt;</code> (could be multiple times such as <code>----&gt;&gt;&gt;</code>) followed by 0 or more spaces, followed by <code>$lhs</code>.</p>\n\n<p>It obviously doesn't work, but how can i make it work?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "session", "cgi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478164799, "post_id": 40386423, "comment_id": 68045592, "body": "Are both <i>project</i> installations the same software in the same version, installed to two system user&#39;s spaces? Do you want them to share one session system? Do you want the visitors of AAA/project, when they log in, to be logged in to BBB/project as well? I see a few security concerns with that. What if in BBB someone makes malicious changes to the code, to steal the visitor&#39;s information? They trusted AAA, but who says they are trusting BBB too?"}, {"owner": {"reputation": 369, "user_id": 6951839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d33854fba18cef646070553bca699812?s=128&d=identicon&r=PG&f=1", "display_name": "Jiho Noh", "link": "https://stackoverflow.com/users/6951839/jiho-noh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478196360, "post_id": 40386423, "comment_id": 68066806, "body": "@simbabque right I realized the security issues that you pointed out. I also noticed that session cookies can contain not only the host but also the information of paths. Sharing the session information seems very bad approach in security wise."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478196725, "post_id": 40386423, "comment_id": 68066991, "body": "But that doesn&#39;t answer my clarification requests. If the question has changed for you now, please <a href=\"https://stackoverflow.com/posts/40386423/edit\">edit</a> in the changes."}, {"owner": {"reputation": 369, "user_id": 6951839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d33854fba18cef646070553bca699812?s=128&d=identicon&r=PG&f=1", "display_name": "Jiho Noh", "link": "https://stackoverflow.com/users/6951839/jiho-noh"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478198038, "post_id": 40386423, "comment_id": 68067802, "body": "@simbabque I&#39;ve edited my question. My problem is kind of resolved now, but I am still curious about this situation; two websites under different user spaces and sharing sessions. Thanks for your help."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1478208812, "post_id": 40386423, "comment_id": 68073450, "body": "I don&#39;t understand the a/b-testing angle. Why would you run two completely different applications or copies of the same application as two different users if you want to a/b-test something. Even if you would change control flow for one of the two buckets, then you&#39;d also need something up front to decide based on a testing-bucket cookie where the user&#39;s requests go, because you can&#39;t just send them to a different URL all together. If you can set that up, making them share session files should be the easiest part."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 0, "last_activity_date": 1478208694, "creation_date": 1478208694, "answer_id": 40411576, "question_id": 40386423, "link": "https://stackoverflow.com/questions/40386423/perl-cgisession-permission-issues/40411576#40411576", "title": "Perl CGI::Session permission issues", "body": "<p>I was planning to write a long answer with an example application, but after rereading your comments and the question I think the answer is rather simple: </p>\n\n<p>If you intend to use one login mechanism and the site's users are aware of this, then there is no security concern. It's being done all the time. A lot of systems today are made up of more then just one program to form one application, and they need to do that.</p>\n\n<p>If the ownership of the files in the temp directory is a problem because the applications run as different system users, then simply don't use files as the session storage. Use a database or a key/value-store for example.</p>\n\n<p>Or you could put both users into the same group and make the files group-read-writable. There are a lot of solutions here.</p>\n"}], "owner": {"reputation": 369, "user_id": 6951839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d33854fba18cef646070553bca699812?s=128&d=identicon&r=PG&f=1", "display_name": "Jiho Noh", "link": "https://stackoverflow.com/users/6951839/jiho-noh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 40411576, "answer_count": 1, "score": 0, "last_activity_date": 1478208694, "creation_date": 1478108688, "last_edit_date": 1478197880, "question_id": 40386423, "link": "https://stackoverflow.com/questions/40386423/perl-cgisession-permission-issues", "title": "Perl CGI::Session permission issues", "body": "<p>I have a website which runs in Perl cgi files. When a user logs in it creates a new session using Perl CGI::Session. </p>\n\n<p>The problem comes from accessing two duplicated websites located under different user directories. For example, www.abc.edu/~AAA/project/ and www.abc.edu/~BBB/project/</p>\n\n<p>These are exactly the same website on the same machine, so they share the same /tmp directory.</p>\n\n<p>When I login to AAA's website (~AAA/project/*), it creates a session cookie on my\ncomputer, in which the domain name is abc.edu. Then it creates session \ninformation in /tmp directory which is owned by \u2018AAA\u2019, because the owner of the script is supposed to be 'AAA'.</p>\n\n<p>Then if I access BBB's website (~BBB/project/*), it tries to use the session info\nstored on my computer because the domain name is the same. However,\nthe session info stored in /tmp is owned by \u2018AAA\u2019, it cannot read or write the session information.</p>\n\n<p>[edit] This is like A/B testing websites, and I agree that they should not share the sessions information.</p>\n\n<p><strike>I am thinking that the session information stored in /tmp should be readable and writable by anyone in this case to resolve the issues.</strike></p>\n\n<p>[edit] I realized the security issues that @simbabque pointed out, and also I found that -path parameter of session cookies can be used to differentiate those two groups of users. So now my question is what if I indeed want to use common authentication system between those two website, how can I share the session information without causing security issues? What is the typical way to handle in this A/B testing and shared authentication system? Thanks for your helps.</p>\n"}, {"tags": ["c", "perl", "aix", "xlc"], "comments": [{"owner": {"reputation": 35932, "user_id": 1606345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IwiIM.png?s=128&g=1", "display_name": "David Ranieri", "link": "https://stackoverflow.com/users/1606345/david-ranieri"}, "edited": false, "score": 0, "creation_date": 1478107206, "post_id": 40385970, "comment_id": 68023758, "body": "Why the C tag??"}, {"owner": {"reputation": 23, "user_id": 5220999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa28bdc68fdcaf69b562e92f71da80b3?s=128&d=identicon&r=PG&f=1", "display_name": "MojiBake", "link": "https://stackoverflow.com/users/5220999/mojibake"}, "reply_to_user": {"reputation": 35932, "user_id": 1606345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IwiIM.png?s=128&g=1", "display_name": "David Ranieri", "link": "https://stackoverflow.com/users/1606345/david-ranieri"}, "edited": false, "score": 0, "creation_date": 1478107278, "post_id": 40385970, "comment_id": 68023796, "body": "You use a C compiler, XLC rv7. It may be a problem with the compiler I&#39;m using."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1478117468, "post_id": 40385970, "comment_id": 68029489, "body": "According to OpenSSL&#39;s <a href=\"https://github.com/openssl/openssl/blob/master/NOTES.PERL\" rel=\"nofollow noreferrer\"><code>NOTES.PERL</code></a>: <i>&quot;You MUST have at least Perl version 5.10.0 installed.  This minimum requirement is due to our use of regexp backslash sequence \\R among other features that didn&#39;t exist in core Perl before that version.&quot;</i> Later in the docs it says: <i>&quot;We require the minimum version [of <code>Test::More</code>] to be 0.96, which appeared in Perl 5.13.4, because that version was the first to have all the features we&#39;re using.&quot;</i>"}], "answers": [{"tags": [], "owner": {"reputation": 1875, "user_id": 341980, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0ce4db5e1083663c575158643313852c?s=128&d=identicon&r=PG", "display_name": "pedz", "link": "https://stackoverflow.com/users/341980/pedz"}, "is_accepted": false, "score": 0, "last_activity_date": 1491091647, "creation_date": 1491091647, "answer_id": 43163298, "question_id": 40385970, "link": "https://stackoverflow.com/questions/40385970/compiling-perl-5-10-on-aix-version-5-3/43163298#43163298", "title": "Compiling perl &gt;5.10 on AIX version 5.3", "body": "<p>I pull down and compile openssh and openssl frequently.  I use gcc and no real magic that I can recall. </p>\n\n<p>Here is my script to build it.  I don't know which perl is native to AIX but it seems to work for me.</p>\n\n<p><a href=\"https://github.com/pedz/aix-build-scripts/blob/master/build-scripts/build-openssl\" rel=\"nofollow noreferrer\">https://github.com/pedz/aix-build-scripts/blob/master/build-scripts/build-openssl</a></p>\n"}], "owner": {"reputation": 23, "user_id": 5220999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa28bdc68fdcaf69b562e92f71da80b3?s=128&d=identicon&r=PG&f=1", "display_name": "MojiBake", "link": "https://stackoverflow.com/users/5220999/mojibake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 358, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1491091647, "creation_date": 1478107113, "last_edit_date": 1478116687, "question_id": 40385970, "link": "https://stackoverflow.com/questions/40385970/compiling-perl-5-10-on-aix-version-5-3", "title": "Compiling perl &gt;5.10 on AIX version 5.3", "body": "<p>I've been compiling OpenSSL (and thus Perl >5.10, as it is a dependency) on multiple platforms. I've managed to get 1.1.0b compiled on every single platform except AIX, which I can't even compile Perl. I've tried several versions and looked at <a href=\"http://perldoc.perl.org/perlaix.html\" rel=\"nofollow noreferrer\">the documentation Perl provides online</a>. From what I can tell, it suggests version 5.12.2.</p>\n\n<p>When I attempt to compile version 5.12.2,</p>\n\n<p>I take the following from the documentation, and fill in a few local system variables, such as using XLC rv7.</p>\n\n<pre><code> export OBJECT_MODE=64\n\n ./Configure \\\n  -d \\\n  -Dcc=/usr/vac/bin/xlc_r7 \\\n  -Duseshrplib \\\n  -Duse64bitall \\\n  -Dprefix=`pwd`/../PERL\n</code></pre>\n\n<p>Then I attempt to make as prompted, and get the following error:</p>\n\n<pre><code>        /usr/vac/bin/xlc_r7 -q64 -o miniperl -brtl -bdynamic -L/usr/local/lib -b64    gv.o toke.o perly.o pad.o regcomp.o dump.o util.o mg.o reentr.o mro.o hv.o av.o run.o pp_hot.o sv.o pp.o scope.o pp_ctl.o pp_sys.o doop.o doio.o regexec.o utf8.o taint.o deb.o universal.o globals.o perlio.o perlapi.o numeric.o mathoms.o locale.o pp_pack.o pp_sort.o    miniperlmain.o opmini.o perlmini.o -lbind -lnsl -ldl -lld -lm -lcrypt -lc\n        LIBPATH=.../perl-5.12.2  ./miniperl -w -Ilib -MExporter -e '&lt;?&gt;' || make minitest\n        LIBPATH=.../perl-5.12.2  ./miniperl -Ilib autodoc.pl\n        /usr/bin/ln -s perl5122delta.pod pod/perldelta.pod\n        LIBPATH=.../perl-5.12.2  ./miniperl -Ilib -Icpan/Cwd -Icpan/Cwd/lib pod/perlmodlib.PL -q\nreaddir(./../../../../..): Bad file number at lib/FindBin.pm line 116\nstat(/pod/): No such file or directory at lib/FindBin.pm line 197\nstat(/pod/): No such file or directory at lib/FindBin.pm line 200\nUse of chdir('') or chdir(undef) as chdir() is deprecated at pod/perlmodlib.PL line 9.\nNo such file or directory at pod/perlmodlib.PL line 19.\nmake: The error code from the last command is 2.\n</code></pre>\n\n<p>Taking a look at pod/perlmodlib.PL, we see the following:</p>\n\n<pre><code># MANIFEST itself is Unix style filenames, so we have to assume that Unix style\n# filenames will work.\n\nopen (MANIFEST, \"../MANIFEST\") or die $!;\n</code></pre>\n\n<p>In my desperation I tried to hack it up and avoid writing to the manifest, but then I get this issue:</p>\n\n<pre><code>Creating Makefile.PL in cpan/Archive-Extract for Archive::Extract\n\nRunning Makefile.PL in cpan/Archive-Extract\n../../miniperl Makefile.PL INSTALLDIRS=perl INSTALLMAN1DIR=none INSTALLMAN3DIR=none PERL_CORE=1 LIBPERL_A=libperl.a\nreaddir(./../../../../../../..): No such file or directory at ../../lib/File/Find.pm line 610\nUse of chdir('') or chdir(undef) as chdir() is deprecated at ../../lib/File/Find.pm line 773.\nreaddir(./../../..): No such file or directory at ../../cpan/Cwd/lib/File/Spec/Unix.pm line 483\nCould not open 'lib/Archive/Extract.pm': No such file or directory at ../../cpan/ExtUtils-MakeMaker/lib/ExtUtils/MM_Unix.pm line 2588.\n512 from cpan/Archive-Extract's Makefile.PL at make_ext.pl line 390.\nWarning: No Makefile!\nmake: Cannot find a rule to create target config from dependencies.\nStop.\n make config PERL_CORE=1 LIBPERL_A=libperl.a failed, continuing anyway...\nMaking all in cpan/Archive-Extract\n make all PERL_CORE=1 LIBPERL_A=libperl.a\nmake: Cannot find a rule to create target all from dependencies.\nStop.\nUnsuccessful make(cpan/Archive-Extract): code=512 at make_ext.pl line 449.\nmake: The error code from the last command is 2.\n</code></pre>\n\n<p>The frequency of errors makes me feel like perhaps I don't have something configured right...</p>\n\n<p>My next thought was to try the most updated version, which at the time of writing is 5.24. Using the same configuration and attempting to make I get the following issue:</p>\n\n<pre><code>Can't locate strict.pm in @INC (you may need to install the strict module) (@INC contains: /cpan/AutoLoader/lib /dist/Carp/lib /dist/PathTools /dist/PathTools/lib /cpan/ExtUtils-Install/lib /cpan/ExtUtils-MakeMaker/lib /cpan/ExtUtils-Manifest/lib /cpan/File-Path/lib /ext/re /dist/Term-ReadLine/lib /dist/Exporter/lib /ext/File-Find/lib /cpan/Text-Tabs/lib /dist/constant/lib /cpan/version/lib /lib .) at autodoc.pl line 25.\nBEGIN failed--compilation aborted at autodoc.pl line 25.\nmake: The error code from the last command is 2.\n</code></pre>\n\n<p>Which I know from other compilations means I need to edit the PERL5LIB variable.</p>\n\n<p>If I keep adding all the modules to the path:</p>\n\n<pre><code>export PERL5LIB=`pwd`/dist/Exporter/lib:$PERL5LIB\nexport PERL5LIB=`pwd`/cpan/Text-Tabs/lib:$PERL5LIB\nexport PERL5LIB=`pwd`/ext/re:$PERL5LIB\nexport PERL5LIB=`pwd`/dist/constant/lib:$PERL5LIB\nexport PERL5LIB=`pwd`/cpan/ExtUtils-MakeMaker/lib:$PERL5LIB\nexport PERL5LIB=`pwd`/dist/Carp/lib:$PERL5LIB\nexport PERL5LIB=`pwd`/cpan/File-Path/lib:$PERL5LIB\nexport PERL5LIB=`pwd`/dist/PathTools:$PERL5LIB\nexport PERL5LIB=`pwd`/dist/PathTools/lib:$PERL5LIB\nexport PERL5LIB=`pwd`/ext/File-Find/lib:$PERL5LIB\n</code></pre>\n\n<p>Even so, I'll still get an error for a module that isn't even present in the 5.24.0 source!</p>\n\n<pre><code>Can't locate ExtUtils/MakeMaker/version/vpp.pm in @INC (you may need to install the ExtUtils::MakeMaker::version::vpp module) (@INC contains: &lt;removed from post&gt;) at (eval 2) line 2.\nBEGIN failed--compilation aborted at (eval 2) line 2.\nCompilation failed in require at .../perl-5.24.0/cpan/ExtUtils-MakeMaker/lib/ExtUtils/MakeMaker.pm line 10.\nBEGIN failed--compilation aborted at .../perl-5.24.0/cpan/ExtUtils-MakeMaker/lib/ExtUtils/MakeMaker.pm line 10.\nCompilation failed in require at Makefile.PL line 7.\nBEGIN failed--compilation aborted at Makefile.PL line 7.\nUnsuccessful Makefile.PL(cpan/Archive-Tar): code=512 at make_ext.pl line 517.\nmake: The error code from the last command is 2.\n</code></pre>\n\n<p>I have MakeMaker, but the 5.24 version does not contain vpp.pm! Again, in desperation I attempted to put it in there from a different source, and I get this error:</p>\n\n<pre><code>        LIBPATH=.../perl-5.24.0 ./miniperl -Ilib make_ext.pl cpan/Archive-Tar/pm_to_blib  MAKE=\"make\" LIBPERL_A=libperl.a\nreaddir(./../../../../../../..): No such file or directory at .../perl-5.24.0/ext/File-Find/lib/File/Find.pm line 142.\nCan't cd to : No such file or directory\nUnsuccessful Makefile.PL(cpan/Archive-Tar): code=512 at make_ext.pl line 517.\nmake: The error code from the last command is 2.\n</code></pre>\n\n<p>All of this makes me feel like perhaps I'm not configuring something right... Can anyone with some experience help me out with some cut and dry installation instructions for Perl on AIX? I'd be super grateful. Thanks!</p>\n\n<p>Below is some information about my system:</p>\n\n<pre><code>&gt; prtconf\nSystem Model: IBM,8231-E1D\nMachine Serial Number: Not Available\nProcessor Type: Not Available\nProcessor Implementation Mode: POWER 7\nProcessor Version: PV_7_Compat\nNumber Of Processors: 0\nProcessor Clock Speed: Not Available\nCPU Type: 64-bit\nKernel Type: 64-bit\nMemory Size: 10240 MB\nGood Memory Size: Not Available\nPlatform Firmware level: Not Available\nFirmware Version: IBM,AL770_092\nConsole Login: disable\nAuto Restart: true\nFull Core: false\n</code></pre>\n"}, {"tags": ["perl", "map-function", "instance-method"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1478100736, "post_id": 40383445, "comment_id": 68019546, "body": "Please don&#39;t use <code>new MyClass</code>. This is not Java. <code>new</code> is not a keyword. <code>MyClass-&gt;new()</code> will save you much potential confusion in the future."}, {"owner": {"reputation": 2156, "user_id": 3610018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6rKB8.jpg?s=128&g=1", "display_name": "nanocv", "link": "https://stackoverflow.com/users/3610018/nanocv"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1478106195, "post_id": 40383445, "comment_id": 68023117, "body": "Ok! I edited the question to better illustrate the example. Thanks for the tip @DaveCross"}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 2156, "user_id": 3610018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6rKB8.jpg?s=128&g=1", "display_name": "nanocv", "link": "https://stackoverflow.com/users/3610018/nanocv"}, "edited": false, "score": 6, "creation_date": 1478100880, "post_id": 40383543, "comment_id": 68019646, "body": "@nanocv: I find the block version of <code>map</code> makes things clearer - <code>map { $myClass-&gt;displayChar($_) } @charArray;</code>. Also, if you&#39;re not doing something with the list returned by <code>map</code>, you should be using <code>foreach</code> instead` - <code>$myClass-&gt;displayChar($_) foreach @charArray;</code>"}], "tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 5, "last_activity_date": 1478099811, "creation_date": 1478099811, "answer_id": 40383543, "question_id": 40383445, "link": "https://stackoverflow.com/questions/40383445/perl-map-using-object-method/40383543#40383543", "title": "Perl map using object method", "body": "<p>You need to pass a value to your <code>displayChar</code> method:</p>\n\n<pre><code>map($myClass-&gt;displayChar($_), @charArray);\n</code></pre>\n\n<p><a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow noreferrer\">map</a> locally sets the $_ variable to each value of your array.</p>\n"}], "owner": {"reputation": 2156, "user_id": 3610018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6rKB8.jpg?s=128&g=1", "display_name": "nanocv", "link": "https://stackoverflow.com/users/3610018/nanocv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 40383543, "answer_count": 1, "score": 2, "last_activity_date": 1478106125, "creation_date": 1478099575, "last_edit_date": 1478106125, "question_id": 40383445, "link": "https://stackoverflow.com/questions/40383445/perl-map-using-object-method", "title": "Perl map using object method", "body": "<p>I have a Perl Module file <code>MyClass.pm</code> with a very basic class definition.</p>\n\n<pre><code>use strict;\nuse warnings;\n\npackage MyClass;\n\nsub new {\n    my $this = shift;\n    my $self = {};\n    bless $self, $this;\n    return $self;\n}\n\nsub displayChar{\n    my $self = shift;\n    my $char = shift;\n    print $char . \"\\n\";\n}\n\n1;\n</code></pre>\n\n<p>Also I have a <code>myClass.pl</code> file that creates an instance of MyClass.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse MyClass; \nmy $myClass = MyClass-&gt;new();\n\n$myClass-&gt;displayChar('a'); # This line works right\n\nmy @charArray = ('a', 'b', 'c');\nmap($myClass-&gt;displayChar, @charArray);\n</code></pre>\n\n<p>When I call the <code>displayChar</code> method it works right, but when I try to use map function with that method it gives me this error three times (once per array item, I guess):</p>\n\n<pre><code>Use of uninitialized value $char in concatenation (.) or string at MyClass.pm line 16.\n</code></pre>\n\n<p>Am I using map function in a wrong way? Or maybe it's not possible to use an object method as first param?</p>\n"}, {"tags": ["perl", "shell", "sed"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 4, "creation_date": 1478099413, "post_id": 40383360, "comment_id": 68018540, "body": "Don&#39;t do it that way! Use <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">DBI</a>."}, {"owner": {"reputation": 1, "user_id": 7035964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a68f31c94ac5a718f99e3642b2681e7?s=128&d=identicon&r=PG&f=1", "display_name": "Vadym", "link": "https://stackoverflow.com/users/7035964/vadym"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1478099645, "post_id": 40383360, "comment_id": 68018723, "body": "I want to put a shell command to the script. not more. I dont want to learn a new handler for that"}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1478100742, "post_id": 40383360, "comment_id": 68019553, "body": "Calling the MySQL client and sed via <code>system</code> is much more error-prone than using DBI and native Perl commands, and DBI is not really that hard to learn. The <a href=\"https://metacpan.org/pod/DBI#Outline-Usage\" rel=\"nofollow noreferrer\">&quot;outline usage&quot;</a> section of the docs is a good place to start."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1478100763, "post_id": 40383360, "comment_id": 68019566, "body": "Also, if you have an answer, please post it in the answer section instead of adding it to your question."}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 1, "creation_date": 1478100776, "post_id": 40383360, "comment_id": 68019573, "body": "So, you&#39;re saying you don&#39;t want to learn perl but instead want to write a shell script inside a perl script?"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1478102154, "last_edit_date": 1478102154, "creation_date": 1478101489, "answer_id": 40384098, "question_id": 40383360, "link": "https://stackoverflow.com/questions/40383360/sed-system-command-in-perl-script/40384098#40384098", "title": "sed system command in perl script", "body": "<p>The answer to the question you're asking is to use the <code>qx(...)</code> operator. <code>qx(...)</code> is the \"choose your own delimiter\" version of backticks.</p>\n\n<pre><code>my $output = qx[ ... ];\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>my $output = qx( ... );\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>my $output = qx! ... !;\n</code></pre>\n\n<p>It's easy to find a delimiter that won't clash with the characters in your command string.</p>\n\n<p>But the answer to the question that you <strong>should</strong> be asking has two parts:</p>\n\n<ul>\n<li>Don't call <code>mysql</code> from your Perl program - use <a href=\"https://metacpan.org/pod/DBI\" rel=\"nofollow noreferrer\">DBI</a> instead.</li>\n<li>Don't call <code>sed</code> from your Perl program - use Perl code to manipulate your text.</li>\n</ul>\n\n<p>I feel slightly nervous about the first part of my answer as I'm worried you will just take my hacky workaround and end up with an unmaintainable mess. Please take note of the advice in the second half - even if you ignore it in this case.</p>\n"}], "owner": {"reputation": 1, "user_id": 7035964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a68f31c94ac5a718f99e3642b2681e7?s=128&d=identicon&r=PG&f=1", "display_name": "Vadym", "link": "https://stackoverflow.com/users/7035964/vadym"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 40384098, "answer_count": 1, "score": -2, "last_activity_date": 1478102154, "creation_date": 1478099348, "last_edit_date": 1478100490, "question_id": 40383360, "link": "https://stackoverflow.com/questions/40383360/sed-system-command-in-perl-script", "title": "sed system command in perl script", "body": "<p>I am trying to put the system command like below to the perl script, but \nsed expression contains both quotes and backticks and I am not sure how to escape all of them, so it will execute my system command exactly as I need.</p>\n\n<p>Here is the example of the command:</p>\n\n<pre><code>mysql -u root -D porta-billing -e \"...\" | sed \"s/'/\\'/;s/\\t/\\\",\\\"/g;s/^/\\\"/;s/$/\\\"/;s/\\n//g\"\n</code></pre>\n"}, {"tags": ["postgresql", "perl", "filehandle", "perl-io"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1478101455, "post_id": 40377263, "comment_id": 68020074, "body": "Very little uses handles as objects. <code>tie</code> is definitely the way to go if you want to use an object as a file handle. It associates an entire object with a handle, so claims that it wouldn&#39;t allow it to keep a database handle are quite false."}, {"owner": {"reputation": 2566, "user_id": 2055163, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/38e40a8a1f83778784f9ffbed05584ed?s=128&d=identicon&r=PG", "display_name": "Thorsten Sch&#246;ning", "link": "https://stackoverflow.com/users/2055163/thorsten-sch%c3%b6ning"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1478113980, "post_id": 40377263, "comment_id": 68027590, "body": "I already tried the same <code>tie</code> approach <code>IO::String</code> is using and <code>Digest::MD5</code> <code>croak</code>ed that now handle is given. Which it didn&#39;t without <code>tie</code>. And its source is only an <code>if (fh) ... else croak(...).</code> And looking at <code>fdopen</code> used by <code>Archive::Zip</code>, doesn&#39;t it create an own handle without me being able to <code>tie</code> anything? <code>fdopen</code> is not called on my instance, but <code>IO::File</code> created by <code>Archive::Zip</code> on its own."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1478122017, "post_id": 40377263, "comment_id": 68031916, "body": "Use a thread or a child process to feed a pipe, then."}], "answers": [{"comments": [{"owner": {"reputation": 2566, "user_id": 2055163, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/38e40a8a1f83778784f9ffbed05584ed?s=128&d=identicon&r=PG", "display_name": "Thorsten Sch&#246;ning", "link": "https://stackoverflow.com/users/2055163/thorsten-sch%c3%b6ning"}, "edited": false, "score": 0, "creation_date": 1502697316, "post_id": 45664324, "comment_id": 78296969, "body": "Currently don&#39;t have the time to test your approach in what I already have, but it&#39;s looking quite good, so am accepting it as answer anyway."}], "tags": [], "owner": {"reputation": 3227, "user_id": 249199, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0878f26eba467efc1d90fc6959b9b531?s=128&d=identicon&r=PG", "display_name": "Zac B", "link": "https://stackoverflow.com/users/249199/zac-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1502662664, "last_edit_date": 1502662664, "creation_date": 1502653976, "answer_id": 45664324, "question_id": 40377263, "link": "https://stackoverflow.com/questions/40377263/how-to-subclass-iohandle-to-properly-get-a-low-level-file-handle-without-havin/45664324#45664324", "title": "How to subclass IO::Handle to properly get a low level file handle without having a file or memory?", "body": "<p>There is a way around this, but it is a bit weird. Your requirements are basically threefold, if I'm reading your code and comments correctly:</p>\n\n<ol>\n<li>Work like a normal file handle/IO::Handle object as much as possible, make the fact that it's not a real file invisible to the user.</li>\n<li>Work with <code>Archive::Zip</code>, which is implemented mostly in regular Perl, and which calls the <code>IO::Handle::fdopen</code> code you posted, which fails to duplicate the handle since it's not a real handle.</li>\n<li>Work with <code>Digest::MD5</code>, which is implemented in XS using <a href=\"http://perldoc.perl.org/PerlIO.html\" rel=\"nofollow noreferrer\">PerlIO</a>. Since <code>tie</code>-based tricks and perl in-memory \"fake\" filehandles are not usable at that level, it's tricker than 2.</li>\n</ol>\n\n<p>You can achieve all three of those by using <a href=\"https://metacpan.org/pod/PerlIO::via\" rel=\"nofollow noreferrer\">PerlIO layers with <code>PerlIO::via</code></a>. The code is similar to what you'd write with <code>tie</code> (implement some required behavior methods). Additionally, you can harness the \"open variable as file\" functionality of <code>open</code> and the pre-rolled <code>IO::Seekable</code> + <code>IO::Handle</code> functionality of <code>IO::File</code> to simplify achieving requirement 1 above (make it usable in Perl code in the same way normal <code>IO::Handle</code> objects are).</p>\n\n<p>Below is a sample package that does what you need. It has a few caveats:</p>\n\n<ul>\n<li>It doesn't extend your code or interact with a DB at all; it just uses a supplied <code>lines</code> arrayref as file data. If this seems like it fits your use case, you should adapt it to work with a DB.</li>\n<li>It implements the <em>bare minimum</em> necessary to work for the below demo usages. You'll need to implement a lot more methods to make it \"well behaved\" in most non-demo cases (e.g. it knows nothing of <code>SEEK</code>, <code>EOF</code>, <code>BINMODE</code>, <code>SEEK</code>, et. al). Be aware that the arguments/expected behavior of the functions you'll be implementing is not the same as what you'd do for <code>tie</code> or <a href=\"https://metacpan.org/pod/Tie::Handle\" rel=\"nofollow noreferrer\"><code>Tie::Handle</code></a>; the \"interface\" have the same names, but different contracts.</li>\n<li>All methods that receive the invocant should <em>not</em> use it as a hashref/globref directly; they should track all custom state in the <code>*$self-&gt;{args}</code> glob field. This is because the blessed object is created <em>twice</em> (once blessed by PerlIO and once by <code>SUPER::new</code>), so state needs to be shared through a shared reference. If you replace the <code>args</code> field or add/remove any other fields, they will only be visible to the set of methods that created them: either the PerlIO methods or the \"normal\" object methods. See the comment in the constructor for more info.</li>\n<li>PerlIO in general is not super easy to introspect. If something fails underneath a low-level operation like <code>sysread</code> or <code>&lt;$fh&gt;</code>, a lot of code will bug out or do unexpected things, since it considers those functions to be unable to die/atomic-ish at the operation level. Similarly, when messing with PerlIO it's easy for failure modes to escape the realm of \"die or return an error value\" and end up in the realm of \"segfault or core dump\", especially if multiple processes (<code>fork()</code>) or threads are involved (these weird case are, for example, why the below module isn't implemented around <code>IO::File-&gt;new;</code> followed by <code>$file-&gt;open(... \"via:&lt;($class)\")</code>; it core dumps for me, no idea why). TL;DR debugging why stuff goes wrong at the PerlIO level can be annoying, you were warned :)</li>\n<li>Any XS code that addresses a raw filehandle or doesn't work through the PerlIO perlapi functions will not honor this. There are unfortunately plenty of those, but usually not in common, well-supported CPAN modules. Basically, <code>Digest::MD5</code> doesn't work with tied handles because it's operating at a level \"below\" <code>tie</code>'s magic; PerlIO is one level \"lower\" than that, but there is yet another level below.</li>\n<li>This code is a bit messy, and could certainly be cleaned up. In particular, it would probably be quite a bit nicer to <code>open()</code> the layered object directly, skip all the weird pseudo-indirect-object stuff, and then wrap it in an IO::Handle some other way, e.g. via <a href=\"https://metacpan.org/pod/IO::Wrap\" rel=\"nofollow noreferrer\"><code>IO::Wrap</code></a>.</li>\n<li>PerlIO doesn't work, or works differently, on many much older Perls.</li>\n</ul>\n\n<p>Package:</p>\n\n<pre><code>package TiedThing;\n\nuse strict;\nuse warnings;\nuse parent \"IO::File\";\n\nour @pushargs;\nsub new {\n    my ( $class, $args ) = @_;\n    # Build a glob to be used by the PerlIO methods. This does two things:\n    # 1. Gets us a place to stick a shared hashref so PerlIO methods and user-\n    # -defined object methods can manipulate the same data. They must use the\n    # {args} glob field to do that; new fields written will .\n    # 2. Unifies the ways of addressing that across custom functions and PerlIO\n    # functions. We could just pass a hashref { args =&gt; $args } into PUSHED, but\n    # then we'd have to remember \"PerlIO functions receive a blessed hashref,\n    # custom functions receive a blessed glob\" which is lame.\n    my $glob = Symbol::gensym();\n    *$glob-&gt;{args} = $args;\n    local @pushargs = ($glob, $class);\n    my $self = $class-&gt;SUPER::new(\\my $unused, \"&lt;:via($class)\");\n    *$self-&gt;{args} = $args;\n    return $self;\n}\n\nsub custom {\n    my $self = shift;\n    return *$self-&gt;{args}-&gt;{customvalue};\n}\n\nsub PUSHED { return bless($pushargs[0], $pushargs[1]); }\n\nsub FILL { return shift(@{*$_[0]-&gt;{args}-&gt;{lines}}); }\n\n1;\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>my $object = TiedThing-&gt;new({\n    lines =&gt; [join(\"\\n\", 1..9, 1..9)],\n    customvalue =&gt; \"custom!\",\n});\nsay \"can call custom method: \" . $object-&gt;custom;\nsay \"raw read with &lt;&gt;: \" . &lt;$object&gt;;\nmy $buf;\nread($object, $buf, 10);\nsay \"raw read with read(): \" . $buf;\nundef $buf;\n$object-&gt;read($buf, 10);\nsay \"OO read via IO::File::read (end): \" . $buf;\nmy $checksummer = Digest::MD5-&gt;new;;\n$checksummer-&gt;addfile($object);\nsay \"Md5 read: \" . $checksummer-&gt;hexdigest;\nmy $dupto = IO::Handle-&gt;new;\n# Doesn't break/return undef; still not usable without implementing\n# more state sharing inside the object.\nsay \"Can dup handle: \" . $dupto-&gt;fdopen($object, \"r\");\n\nmy $archiver = Archive::Zip-&gt;new;\n# Dies, but long after the fdopen() call. Can be fixed by implementing more\n# PerlIO methods.\n$archiver-&gt;readFromFileHandle($object);\n</code></pre>\n"}], "owner": {"reputation": 2566, "user_id": 2055163, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/38e40a8a1f83778784f9ffbed05584ed?s=128&d=identicon&r=PG", "display_name": "Thorsten Sch&#246;ning", "link": "https://stackoverflow.com/users/2055163/thorsten-sch%c3%b6ning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 3, "accepted_answer_id": 45664324, "answer_count": 1, "score": 5, "last_activity_date": 1502694133, "creation_date": 1478081433, "last_edit_date": 1502694133, "question_id": 40377263, "link": "https://stackoverflow.com/questions/40377263/how-to-subclass-iohandle-to-properly-get-a-low-level-file-handle-without-havin", "title": "How to subclass IO::Handle to properly get a low level file handle without having a file or memory?", "body": "<p>I have an app which accesses a PostgreSQL database and needs to read some large binary data out of it depending on some needed processing. This might be hundreds of MB or even some GB of data. Please no discussion about using file systems instead or such, it's the way it is now.</p>\n\n<p>That data is simply files of various types, e.g. it might be a Zip container or some other kind of archive. Some of the needed processing is list the contents of the Zip, maybe even extract some members for further processing, maybe hash the stored data... In the end the data is read multiple times, but written only once to store it.</p>\n\n<p>All of the Perl libs I use are able to work with file handles, some with <code>IO::Handle</code>, others with <code>IO::String</code> or <code>IO::Scalar</code>, some others only with low level file handles. So what I've done is create a subclass of <code>IO::Handle</code> and <code>IO::Seekable</code> which acts like a wrapper for the corresponding methods around <code>DBD::Pg</code>. In the CTOR I create a connection to the database, open some provided LOID for reading and store the handle provided by Postgres in the instance. My own handle object is then forwarded to whoever is able to work with such a file handle and can directly read and seek within the blob provided by Postgres.</p>\n\n<p>The problem is libs which use low level file handles or low level file handle operations on <code>IO::Handle</code>. <code>Digest::MD5</code> seems to be one, <code>Archive::Zip</code> another one. <code>Digest::MD5</code> <code>croak</code>s and tells me that no handle has been provided, <code>Archive::Zip</code> on the other hand tries to create a new, own handle from mine, calls <code>IO::Handle::fdopen</code> and fails in my case.</p>\n\n<pre><code>sub fdopen {\n    @_ == 3 or croak 'usage: $io-&gt;fdopen(FD, MODE)';\n    my ($io, $fd, $mode) = @_;\n    local(*GLOB);\n\n    if (ref($fd) &amp;&amp; \"\".$fd =~ /GLOB\\(/o) {\n    # It's a glob reference; Alias it as we cannot get name of anon GLOBs\n    my $n = qualify(*GLOB);\n    *GLOB = *{*$fd};\n    $fd =  $n;\n    } elsif ($fd =~ m#^\\d+$#) {\n    # It's an FD number; prefix with \"=\".\n    $fd = \"=$fd\";\n    }\n\n    open($io, _open_mode_string($mode) . '&amp;' . $fd)\n    ? $io : undef;\n}\n</code></pre>\n\n<p>I guess the problem is the low level copy of the handle, which removes my own instance, so there's no instance anymore having my database connection and all that stuff.</p>\n\n<p>So, is it even possible in my case to provide some <code>IO::Handle</code> which successfully can be used wherever a low level file handle is expected?</p>\n\n<p>I mean, I don't have a real file handle, I have an object only where method calls are wrapped to their corresponding Postgres methods, for which a database handle is needed and such. All of that data needs to be stored somewhere, the wrapping needs to be done etc.</p>\n\n<p>I tried to do what others are doing, like <code>IO::String</code>, which additionally uses <code>tie</code> for example. But in the end that use case is different, because Perl is able to create a real low level file handle to some internal memory on its own. Something which is not supported at all in my case. I need to keep my instance around, because only that knows of the handle to the database etc.</p>\n\n<p>Using my handle like an <code>IO::Handle</code> by calling method <code>read</code> and such works like expected, but I would like to take it a bit further and be more compatible to whoever doesn't expect to work on <code>IO::Handle</code> objects. Much like <code>IO::String</code> or <code>File::Temp</code> can be used as low level file handles.</p>\n\n<pre><code>package ReadingHandle;\n\nuse strict;\nuse warnings;\nuse 5.10.1;\n\nuse base 'IO::Handle', 'IO::Seekable';\n\nuse Carp ();\n\nsub new\n{\n  my $invocant  = shift || Carp::croak('No invocant given.');\n  my $db        = shift || Carp::croak('No database connection given.');\n  my $loid      = shift // Carp::croak('No LOID given.');\n  my $dbHandle  = $db-&gt;_getHandle();\n  my $self      = $invocant-&gt;SUPER::new();\n\n    *$self-&gt;{'dbHandle'}  = $dbHandle;\n    *$self-&gt;{'loid'}      = $loid;\n  my $loidFd              = $dbHandle-&gt;pg_lo_open($loid, $dbHandle-&gt;{pg_INV_READ});\n    *$self-&gt;{'loidFd'}    = $loidFd;\n\n  if (!defined($loidFd))\n  {\n    Carp::croak(\"The provided LOID couldn't be opened.\");\n  }\n\n  return $self;\n}\n\nsub DESTROY\n{\n  my $self = shift || Carp::croak('The method needs to be called with an instance.');\n\n  $self-&gt;close();\n}\n\nsub _getDbHandle\n{\n  my $self = shift || Carp::croak('The method needs to be called with an instance.');\n\n  return *$self-&gt;{'dbHandle'};\n}\n\nsub _getLoid\n{\n  my $self = shift || Carp::croak('The method needs to be called with an instance.');\n\n  return *$self-&gt;{'loid'};\n}\n\nsub _getLoidFd\n{\n  my $self = shift || Carp::croak('The method needs to be called with an instance.');\n\n  return *$self-&gt;{'loidFd'};\n}\n\nsub binmode\n{\n  my $self = shift || Carp::croak('The method needs to be called with an instance.');\n\n  return 1;\n}\n\nsub close\n{\n  my $self      = shift || Carp::croak('The method needs to be called with an instance.');\n  my $dbHandle  = $self-&gt;_getDbHandle();\n  my $loidFd    = $self-&gt;_getLoidFd();\n\n  return $dbHandle-&gt;pg_lo_close($loidFd);\n}\n\nsub opened\n{\n  my $self    = shift || Carp::croak('The method needs to be called with an instance.');\n  my $loidFd  = $self-&gt;_getLoidFd();\n\n  return defined($loidFd) ? 1 : 0;\n}\n\nsub read\n{\n  my $self    = shift || Carp::croak('The method needs to be called with an instance.');\n  my $buffer  =\\shift // Carp::croak('No buffer given.');\n  my $length  = shift // Carp::croak('No amount of bytes to read given.');\n  my $offset  = shift || 0;\n\n  if ($offset &gt; 0)\n  {\n    Carp::croak('Using an offset is not supported.');\n  }\n\n  my $dbHandle  = $self-&gt;_getDbHandle();\n  my $loidFd    = $self-&gt;_getLoidFd();\n\n  return $dbHandle-&gt;pg_lo_read($loidFd, $buffer, $length);\n}\n\nsub seek\n{\n  my $self    = shift || Carp::croak('The method needs to be called with an instance.');\n  my $offset  = shift // Carp::croak('No offset given.');\n  my $whence  = shift // Carp::croak('No whence given.');\n\n  if ($offset &lt; 0)\n  {\n    Carp::croak('Using a negative offset is not supported.');\n  }\n  if ($whence != 0)\n  {\n    Carp::croak('Using a whence other than 0 is not supported.');\n  }\n\n  my $dbHandle  = $self-&gt;_getDbHandle();\n  my $loidFd    = $self-&gt;_getLoidFd();\n  my $retVal    = $dbHandle-&gt;pg_lo_lseek($loidFd, $offset, $whence);\n     $retVal    = defined($retVal) ? 1 : 0;\n\n  return $retVal;\n}\n\nsub tell\n{\n  my $self      = shift || Carp::croak('The method needs to be called with an instance.');\n  my $dbHandle  = $self-&gt;_getDbHandle();\n  my $loidFd    = $self-&gt;_getLoidFd();\n  my $retVal    = $dbHandle-&gt;pg_lo_lseek($loidFd);\n     $retVal    = defined($retVal) ? $retVal : -1;\n\n  return $retVal;\n}\n\n1;\n</code></pre>\n"}, {"tags": ["vb.net", "perl", "cmd"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 1, "creation_date": 1478074255, "post_id": 40374303, "comment_id": 68002775, "body": "What is the behavior when you &quot;attempt to run a Perl script&quot;?  Error message? Just hangs there forever?  Also, what happens when you run the script on the command line?  Does it generate output without requiring any input from you?"}, {"owner": {"reputation": 1, "user_id": 7103173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37b37eb5c80c3984c1f07632fb518d89?s=128&d=identicon&r=PG&f=1", "display_name": "CSCS", "link": "https://stackoverflow.com/users/7103173/cscs"}, "edited": false, "score": 0, "creation_date": 1478140215, "post_id": 40374303, "comment_id": 68037163, "body": "Hi Dan, thanks for the reply! it managed to run without any error but the output of the Perl script does not stream asynchronously to VB. Hence i&#39;m still trying out ways to give &quot;live&quot; output from the Perl script, to VB. The Perl script  is able to run on command line. Thanks again!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 0, "creation_date": 1478159223, "post_id": 40374303, "comment_id": 68042815, "body": "&quot;it managed to run without any error&quot;. Are you sure that the Perl script ran?  i.e. was there some other evidence that it ran, such as the script had a side effect that you can see happened?  Or do you just mean there was no error in VB?"}, {"owner": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "edited": false, "score": 0, "creation_date": 1478234132, "post_id": 40374303, "comment_id": 68080417, "body": "Do you know what&#39;s the Perl script and what it&#39;s doing?  I&#39;m wondering if you may be <a href=\"http://perl.plover.com/FAQs/Buffering.html\" rel=\"nofollow noreferrer\">suffering from buffering</a> - i.e. where the Perl script is buffering its output to STDOUT, which is why it looks like the VB code is unable to read the STDOUT output from the Perl script until the Perl script finishes."}, {"owner": {"reputation": 1, "user_id": 7103173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37b37eb5c80c3984c1f07632fb518d89?s=128&d=identicon&r=PG&f=1", "display_name": "CSCS", "link": "https://stackoverflow.com/users/7103173/cscs"}, "edited": false, "score": 0, "creation_date": 1478244802, "post_id": 40374303, "comment_id": 68083957, "body": "@dan1111 yep I&#39;m pretty sure it ran cus the output was shown when the script ends"}, {"owner": {"reputation": 1, "user_id": 7103173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37b37eb5c80c3984c1f07632fb518d89?s=128&d=identicon&r=PG&f=1", "display_name": "CSCS", "link": "https://stackoverflow.com/users/7103173/cscs"}, "reply_to_user": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "edited": false, "score": 0, "creation_date": 1478244922, "post_id": 40374303, "comment_id": 68083997, "body": "@dasgar I&#39;m just trying to run simple Perl scripts first before implementing the actual one. I&#39;m basically just printing values and sleeping(delaying) to ensure that it can send the output back asynchronously. But when I run the exact same script from cmd, the output is as expected."}, {"owner": {"reputation": 1, "user_id": 7103173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37b37eb5c80c3984c1f07632fb518d89?s=128&d=identicon&r=PG&f=1", "display_name": "CSCS", "link": "https://stackoverflow.com/users/7103173/cscs"}, "reply_to_user": {"reputation": 160, "user_id": 6027771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e6b84a2a791c8e260ed0b95cbac292?s=128&d=identicon&r=PG&f=1", "display_name": "dasgar", "link": "https://stackoverflow.com/users/6027771/dasgar"}, "edited": false, "score": 0, "creation_date": 1478244970, "post_id": 40374303, "comment_id": 68084016, "body": "I&#39;ll read up on buffering! thanks @dasgar"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 0, "creation_date": 1478245118, "post_id": 40374303, "comment_id": 68084083, "body": "@CSCS all you need to do is set <code>$|=1;</code> in your script, and if buffering is the problem, that will solve it."}], "owner": {"reputation": 1, "user_id": 7103173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37b37eb5c80c3984c1f07632fb518d89?s=128&d=identicon&r=PG&f=1", "display_name": "CSCS", "link": "https://stackoverflow.com/users/7103173/cscs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1478073402, "creation_date": 1478070979, "last_edit_date": 1478073402, "question_id": 40374303, "link": "https://stackoverflow.com/questions/40374303/running-perl-scripts-through-cmd-on-vb-with-asynchronous-output-to-vb", "title": "Running Perl scripts through cmd on VB with asynchronous output to VB", "body": "<p>I'm quite new to VB.</p>\n\n<p>I'm attempting to run a Perl script within perl through cmd, while streaming output from the perl script asynchronously.</p>\n\n<p>Here's a part of my code:</p>\n\n<pre><code>Dim command as string = \"perl perlscriptname.pl\"\n\nDim proc As ProcessStartInfo = New ProcessStartInfo(\"cmd\", \"/c \" &amp; command)\n\nproc.RedirectStandardOutput = True\n\nproc.UseShellExecute = False\n\nproc.CreateNoWindow = True\n\n    Dim process As Process = Process.Start(proc)\n    Dim stream As StreamReader = process.StandardOutput\n\n    While Not process.HasExited         \n        tb.AppendText(Await stream.ReadLineAsync &amp; vbNewLine)\n    End While\n</code></pre>\n\n<p>This allow me to run different cmd commands from VB, and I will mainly be only running Perl scripts from VB.</p>\n\n<p>With this code, I'm able to get asynchronous output while executing some functions such as pinging, but when I attempt to run a Perl script, I'm unable to get a \"live\"/asynchronous output from the Perl script to VB.</p>\n\n<p>Hope guys can help or advice me on how to proceed cus i'm stuck at this for quite some time.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 6, "creation_date": 1478077888, "post_id": 40373706, "comment_id": 68004468, "body": "How about <code>&#47;42&#47;</code>?"}, {"owner": {"reputation": 8378, "user_id": 28411, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/30b0eef53799d3e9bbc79b34f1936197?s=128&d=identicon&r=PG", "display_name": "RJFalconer", "link": "https://stackoverflow.com/users/28411/rjfalconer"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1478083882, "post_id": 40373706, "comment_id": 68008151, "body": "(For those confused, the original question title was &quot;What&#39;s the perfect regex?&quot; Sorry @simbabque for spoiling your joke)."}, {"owner": {"reputation": 2302, "user_id": 583195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b5b273a1d94ed145dd9fec1d4d90738?s=128&d=identicon&r=PG", "display_name": "Gavin Lock", "link": "https://stackoverflow.com/users/583195/gavin-lock"}, "edited": false, "score": 0, "creation_date": 1478086657, "post_id": 40373706, "comment_id": 68009831, "body": "not a direct answer, but for this use-case, how about <code>s&#47;(\\d) (\\d)&#47;$1, $2&#47;g</code>?"}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1478189660, "post_id": 40373706, "comment_id": 68062899, "body": "do you have any other kind of space like tabs or just single spaces you need to replace on certain condition? that way you can use just a literal space character without worrying about <code>\\S \\h \\n</code> etc..."}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1478190004, "post_id": 40373706, "comment_id": 68063120, "body": "my favorite for replacing all but some pattern is to use <a href=\"http://www.rexegg.com/regex-best-trick.html\" rel=\"nofollow noreferrer\">SKIP</a>.... though in this case using <code>s&#47;^[^:]+:\\h+(*SKIP)(*F)|\\h+&#47;, &#47;g</code> seems unnecessary with easy alternatives available"}], "answers": [{"comments": [{"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "edited": false, "score": 0, "creation_date": 1478189928, "post_id": 40373768, "comment_id": 68063070, "body": "can be shortened to <code>&#39;s&#47;\\d\\K &#47;, &#47;g&#39;</code>"}], "tags": [], "owner": {"reputation": 920, "user_id": 4819884, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5b96c68654d5ecce5ace521d7371fec5?s=128&d=identicon&r=PG&f=1", "display_name": "yonyon100", "link": "https://stackoverflow.com/users/4819884/yonyon100"}, "is_accepted": false, "score": 2, "last_activity_date": 1478070523, "last_edit_date": 1478070523, "creation_date": 1478068464, "answer_id": 40373768, "question_id": 40373706, "link": "https://stackoverflow.com/questions/40373706/regex-for-replacing-space-with-comma-space-except-at-end-of-line/40373768#40373768", "title": "Regex for replacing space with comma-space, except at end of line", "body": "<p>You were close. That should do the trick:</p>\n\n<pre><code>s/(\\d+-\\d+)[^\\S\\n]+/$1, /g\n</code></pre>\n\n<p>The thing is, I try to look at the parts that will get a comma after them which apply to the pattern of \"digits, then a dash, more digits, then a whitespace that's not a newline\". The funny thing about it is that I said that \"whitespace that's not a newline\" part as <code>[^\\S\\n]+</code> which means \"not a non-whitespace or a newline\" (because <code>\\S</code> is all that's not <code>\\s</code> and we want to exclude the newline too). If in any case you have some trailing whitespace, you can trim it with <code>s/\\s+$//</code> prior to the regex above, just don't forget to add the newline character back after that.</p>\n"}, {"comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1478071493, "post_id": 40373782, "comment_id": 68001611, "body": "Or <code>s&#47;(?&lt;!:)\\h+&#47;, &#47;g</code>."}, {"owner": {"reputation": 1314, "user_id": 2610955, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9bc5d17b17349ded8ebc925b2a87df43?s=128&d=identicon&r=PG", "display_name": "xtreak", "link": "https://stackoverflow.com/users/2610955/xtreak"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1478080482, "post_id": 40373782, "comment_id": 68005997, "body": "what does \\h+ do here ? @WiktorStribi\u017cew"}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 1314, "user_id": 2610955, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9bc5d17b17349ded8ebc925b2a87df43?s=128&d=identicon&r=PG", "display_name": "xtreak", "link": "https://stackoverflow.com/users/2610955/xtreak"}, "edited": false, "score": 1, "creation_date": 1478080708, "post_id": 40373782, "comment_id": 68006153, "body": "@xtreak: <code>[^\\S\\n]</code> is a pattern to match any whitespace but a newline. I suppose OP needs to match any <i>horizontal</i> whitespace, so I suggest <code>\\h</code>."}, {"owner": {"reputation": 17061, "user_id": 507738, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7ghSp.jpg?s=128&g=1", "display_name": "MC Emperor", "link": "https://stackoverflow.com/users/507738/mc-emperor"}, "edited": false, "score": 0, "creation_date": 1478084136, "post_id": 40373782, "comment_id": 68008320, "body": "Note that this regex contains a negative lookbehind. Not all engines support it, like the default Javascript regex engine."}], "tags": [], "owner": {"reputation": 6937, "user_id": 1091308, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ccc75c826539146f2f9a5f7f9850076c?s=128&d=identicon&r=PG", "display_name": "Niyoko", "link": "https://stackoverflow.com/users/1091308/niyoko"}, "is_accepted": true, "score": 10, "last_activity_date": 1478089111, "last_edit_date": 1478089111, "creation_date": 1478068527, "answer_id": 40373782, "question_id": 40373706, "link": "https://stackoverflow.com/questions/40373706/regex-for-replacing-space-with-comma-space-except-at-end-of-line/40373782#40373782", "title": "Regex for replacing space with comma-space, except at end of line", "body": "<p>Try using regex negative lookbehind. It is basically look if the character before the space is colon (<code>:</code>) then it don't match that space.</p>\n\n<pre><code>s/(?&lt;!:)[^\\S\\n]+/, /g\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": false, "score": 4, "last_activity_date": 1478090993, "last_edit_date": 1478090993, "creation_date": 1478076533, "answer_id": 40375682, "question_id": 40373706, "link": "https://stackoverflow.com/questions/40373706/regex-for-replacing-space-with-comma-space-except-at-end-of-line/40375682#40375682", "title": "Regex for replacing space with comma-space, except at end of line", "body": "<p>You can play with the word-boundary to discard the space that follows the colon: <code>s/\\b\\h+/, /g</code></p>\n\n<p>It can be done with perl:</p>\n\n<pre><code>perl -pe's/\\b\\h+/, /g' file\n</code></pre>\n\n<p>but also with sed:</p>\n\n<pre><code>sed -E 's/\\b[ \\t]+/, /g' file\n</code></pre>\n\n<hr>\n\n<p>Other approach that uses the field separator:</p>\n\n<pre><code>perl -F'\\b\\h+' -ape'BEGIN{$,=\", \"}' file\n</code></pre>\n\n<p>or do the same with awk:</p>\n\n<pre><code>awk -F'\\b[ \\t]+' -vOFS=', ' '1' file\n</code></pre>\n"}], "owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1807, "favorite_count": 0, "accepted_answer_id": 40373782, "answer_count": 3, "score": 8, "last_activity_date": 1478090993, "creation_date": 1478068123, "last_edit_date": 1478083776, "question_id": 40373706, "link": "https://stackoverflow.com/questions/40373706/regex-for-replacing-space-with-comma-space-except-at-end-of-line", "title": "Regex for replacing space with comma-space, except at end of line", "body": "<p>I am trying to covert input file content of this:</p>\n\n<pre><code>NP_418770.2: 257-296 344-415 503-543 556-592 642-707\nYP_026226.4: 741-779 811-890 896-979 1043-1077\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>NP_418770.2: 257-296, 344-415, 503-543, 556-592, 642-707\nYP_026226.4: 741-779, 811-890, 896-979, 1043-1077\n</code></pre>\n\n<p>i.e., replace a space with comma and space (excluding newline)</p>\n\n<p>For that, I have tried:</p>\n\n<pre><code>perl -pi.bak -e \"s/[^\\S\\n]+/, /g\" input.txt\n</code></pre>\n\n<p>but it gives:</p>\n\n<pre><code>NP_418770.2:, 257-296, 344-415, 503-543, 556-592, 642-707\nYP_026226.4:, 741-779, 811-890, 896-979, 1043-1077\n</code></pre>\n\n<p>how can I stop the additional  comma which appear after \":\" (I want \":\" and a single space) without writing another regex?</p>\n\n<p>Thanks </p>\n"}, {"tags": ["arrays", "perl", "format"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1478066840, "post_id": 40373142, "comment_id": 67999816, "body": "Tip: <code>while (&lt;&gt;) { my $first_input =  $_ ; ... last ; }</code> is a weird way of doing <code>my $first_input = &lt;&gt;; ...</code>"}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1478117372, "post_id": 40373142, "comment_id": 68029448, "body": "thank you ikegami - you are the man"}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 2, "last_activity_date": 1478067195, "last_edit_date": 1478067195, "creation_date": 1478066292, "answer_id": 40373350, "question_id": 40373142, "link": "https://stackoverflow.com/questions/40373142/perl-formatting-array-output/40373350#40373350", "title": "Perl formatting array output.", "body": "<p>Try to use hash instead. </p>\n\n<pre><code>for my $i(0..$#first_array){\n    $hash{$first_array[$i]} = $second_array[$i];\n }\n</code></pre>\n\n<p>or else, you want format without using hashes,  try as follows</p>\n\n<pre><code>for  (my $i = 0; $i &lt; $#cartesion/2; $i++) {\n      my $j  = ($cartesion/2) + $i;\n      print \"$cartesion[$i] $cartesion[$j] \\n\";\n\n   } \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 5, "last_activity_date": 1480547854, "last_edit_date": 1480547854, "creation_date": 1478066444, "answer_id": 40373384, "question_id": 40373142, "link": "https://stackoverflow.com/questions/40373142/perl-formatting-array-output/40373384#40373384", "title": "Perl formatting array output.", "body": "<p>May I suggest a hash, since you are pairing things</p>\n\n<pre><code>my %cartesian; \n@cartesian{ @first_array } = @second_array;\n\nprint \"$_ =&gt; $cartesian{$_}\\n\" for sort keys %cartesian;\n</code></pre>\n\n<p>A <em>hash slice</em> is used above.  See <a href=\"http://perldoc.perl.org/perldata.html#Slices\" rel=\"nofollow noreferrer\">Slices in perldata</a></p>\n\n<p>The arrays that you build had better pair up just right, or there will be errors.</p>\n\n<p>If the goal is to build a data structure that pairs up elements, that can probably be done directly, without arrays.  More information would help to comment on that.</p>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 6108023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df32fc148979b199f947b3ac80a7c90?s=128&d=identicon&r=PG&f=1", "display_name": "Jay.Zhao", "link": "https://stackoverflow.com/users/6108023/jay-zhao"}, "is_accepted": false, "score": 0, "last_activity_date": 1478073102, "creation_date": 1478073102, "answer_id": 40374845, "question_id": 40373142, "link": "https://stackoverflow.com/questions/40373142/perl-formatting-array-output/40374845#40374845", "title": "Perl formatting array output.", "body": "<p>From your question and your code, I suppose that you are a lovely new 'victim' to perl ~\nTo merge two arrays with same lengh, I suggeest using 'map' to simplify your code:</p>\n\n<pre><code>my @cartesian = map {$first_array[$_], $second_array[$_]} 0..$#first_array;\n</code></pre>\n\n<p>and to format print style , you can define a subroutine to meet your different requirements:</p>\n\n<pre><code>sub format_my_array{\n   my $array_ref = shift;\n   my $sep = shift;\n   print $array_ref-&gt;[$_],$sep,$array_ref-&gt;[$_+1],\"\\n\" for grep {! ($_%2)} 0..$#$array_ref;\n}\n</code></pre>\n\n<p>Now, you can try calling your subroutine:</p>\n\n<pre><code>format_my_array(\\@cartesian, \" =&gt; \");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>format_my_array(\\@cartesian, \" , \");\n</code></pre>\n\n<p>Now, you get what you want~</p>\n\n<p>You may have noticed that some intermediate concepts are used in this answer, don't doute , that's exactly what I'm trying to introduce you to ~</p>\n\n<p>May you the great happiness in learning perl ~</p>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1478082086, "creation_date": 1478082086, "answer_id": 40377484, "question_id": 40373142, "link": "https://stackoverflow.com/questions/40373142/perl-formatting-array-output/40377484#40377484", "title": "Perl formatting array output.", "body": "<p>The trick is to go with Perl's strengths instead of fighting against them:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n# For say()\nuse 5.010;\n\nmy @first_array  = split ' ', &lt;&gt;;\nmy @second_array = split ' ', &lt;&gt;;\n\nif (@first_array != @second_array) {\n  die \"Arrays must be the same length\\n\";\n}\n\nmy @cartesian = map { $first_array[$_], $second_array[$_] } 0 .. $#first_array;\n\nfor (0 .. $#cartesian / 2) {\n  say \"$cartesian[$_*2] =&gt; $cartesian[$_*2+1]\";\n}\n</code></pre>\n\n<p>But, it gets much easier still if you use a hash instead of an array for your merged data.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n# For say()\nuse 5.010;\n\nmy @first_array  = split ' ', &lt;&gt;;\nmy @second_array = split ' ', &lt;&gt;;\n\nif (@first_array != @second_array) {\n  die \"Arrays must be the same length\\n\";\n}\n\nmy %cartesian;\n@cartesian{@first_array} = @second_array;\n\nfor (sort keys %cartesian) {\n  say \"$_ =&gt; $cartesian{$_}\";\n}\n</code></pre>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 40373350, "answer_count": 4, "score": 1, "last_activity_date": 1480547854, "creation_date": 1478065098, "question_id": 40373142, "link": "https://stackoverflow.com/questions/40373142/perl-formatting-array-output", "title": "Perl formatting array output.", "body": "<p>I have a small program that I am trying to format the output.\nThe results get loaded in to an array - I am just having trouble formating the\nprinting out the array into a certain format.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict ;\nuse warnings ;\nmy @first_array ;\nmy @second_array  ;\nmy @cartesian ;\n\nwhile (&lt;&gt;) {\n    my $first_input =  $_ ;\n    @first_array = split(' ', $first_input) ;\n    last ;\n}\nwhile (&lt;&gt;) {\n    my $second_input = $_ ;\n    @second_array = split(' ', $second_input) ;\n    last ;\n}\n\n\nwhile(my $first=shift(@first_array)) {\n    push(@cartesian, $first) ;\n        my $second = shift(@second_array)  ;\n        push(@cartesian, $second ) ;\n\n}\n\nprint \"This is the merged array: @cartesian\\n\" ;\n</code></pre>\n\n<p>When I enter this in, I get this:</p>\n\n<pre><code>$ ./double_while2.pl\n1 2 3\nmon tue wed\nThis is the merged array 1 mon 2 tue 3 wed\n</code></pre>\n\n<p>what I want to print out is :</p>\n\n<pre><code>\"1\", \"mon\",\n\"2\", \"tue\" ,\n\"3\", \"wed\",\n</code></pre>\n\n<p>or alternately:</p>\n\n<pre><code>1  =&gt; \"mon\",\n2  =&gt; \"tue\",\n3  =&gt; \"wed,\n</code></pre>\n"}, {"tags": ["linux", "perl", "file-io", "seek", "procfs"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1478066630, "post_id": 40372677, "comment_id": 67999725, "body": "On the linux box on which I tried it, <code>open F, &quot;&lt;:unix&quot;, &quot;&#47;proc&#47;loadavg&quot;</code> does just <code>fstat</code> and set close on exec"}, {"owner": {"reputation": 80303, "user_id": 196561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6836267883ea7234253b2100f222dbbc?s=128&d=identicon&r=PG", "display_name": "osgx", "link": "https://stackoverflow.com/users/196561/osgx"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1478067953, "post_id": 40372677, "comment_id": 68000179, "body": "@ikegami, What kind of black magic (<code>&lt;:unix</code>) is used in your answer (doc or source link may be useful)? It didn&#39;t seek on my test linux too."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1478070414, "post_id": 40372677, "comment_id": 68001154, "body": "As mentioned in the documentation for <a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow noreferrer\"><code>open</code></a>, PerlIO layers are documented in <a href=\"http://perldoc.perl.org/PerlIO.html\" rel=\"nofollow noreferrer\">PerlIO</a>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1478070569, "post_id": 40372677, "comment_id": 68001215, "body": "Check out <code>perl -MPerlIO -E&#39;open F, &quot;&lt;&quot;, $ARGV[0] or die $!; say for PerlIO::get_layers(\\*F);&#39; ~&#47;.bashrc</code>, then try again specifying <code>:unix</code>."}, {"owner": {"reputation": 80303, "user_id": 196561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6836267883ea7234253b2100f222dbbc?s=128&d=identicon&r=PG", "display_name": "osgx", "link": "https://stackoverflow.com/users/196561/osgx"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1479090349, "post_id": 40372677, "comment_id": 68397833, "body": "@ikegame, there is still <code>fstat</code> with <code>my $SET,&quot;&gt;:unix&quot;,&quot;...&#47;driver_command; print $SET $COMMAND.&quot;\\n&quot;; close $SET</code>; can I disable it? My script still not able to communicate with driver; but plain <code>echo SAME_COMMAND &gt; ...&#47;driver_command</code> works, I see only extra fstat here."}], "answers": [{"comments": [{"owner": {"reputation": 80303, "user_id": 196561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6836267883ea7234253b2100f222dbbc?s=128&d=identicon&r=PG", "display_name": "osgx", "link": "https://stackoverflow.com/users/196561/osgx"}, "edited": false, "score": 0, "creation_date": 1478169541, "post_id": 40398468, "comment_id": 68048659, "body": "Calle, please, add some links to documentation. ikegami recommended <code>&lt;:unix</code> black magic option for open, can you add it as other alternative solution to your answer?"}, {"owner": {"reputation": 80303, "user_id": 196561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6836267883ea7234253b2100f222dbbc?s=128&d=identicon&r=PG", "display_name": "osgx", "link": "https://stackoverflow.com/users/196561/osgx"}, "edited": false, "score": 0, "creation_date": 1480020045, "post_id": 40398468, "comment_id": 68810612, "body": "Calle, thanks, POSIX::open + read works without any extra syscalls: <code>perl -e &#39;use POSIX (); $fd=POSIX::open(&quot;&#47;proc&#47;loadavg&quot;);$bytes = POSIX::read( $fd, $buf, 30 ); POSIX::close($fd);print $bytes.&quot; read: &quot;.$buf;&#39; with result </code>27 read: 0.16 0.09 0.02 ....`"}, {"owner": {"reputation": 80303, "user_id": 196561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6836267883ea7234253b2100f222dbbc?s=128&d=identicon&r=PG", "display_name": "osgx", "link": "https://stackoverflow.com/users/196561/osgx"}, "edited": false, "score": 0, "creation_date": 1480021034, "post_id": 40398468, "comment_id": 68810947, "body": "There is &#39;\\0&#39; special char in end of the read. How can I parse multiline from POSIX::read, there is no  <code>while(&lt;FILE&gt;)</code> now."}], "tags": [], "owner": {"reputation": 4663, "user_id": 3967089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d00715119003023d62918dcc603ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Calle Dybedahl", "link": "https://stackoverflow.com/users/3967089/calle-dybedahl"}, "is_accepted": true, "score": 2, "last_activity_date": 1478166880, "creation_date": 1478166880, "answer_id": 40398468, "question_id": 40372677, "link": "https://stackoverflow.com/questions/40372677/reading-system-files-with-perl-without-issuing-extra-seek-syscalls-on-open/40398468#40398468", "title": "Reading system files with perl without issuing extra seek syscalls on open", "body": "<p>As you've noticed, Perl's builtin <code>open</code> masks quite a bit of magic. If that magic gets in your way, there is <code>sysopen</code> and <code>POSIX::open()</code> that offer decreasing degrees of magic. <code>POSIX::open()</code> is sufficiently non-magical that it returns file descriptors rather than Perl filehandles, and you have to use <code>POSIX::read()</code> instead of the normal Perl operators to get data from it. If that's not raw enough for your circumstances, you may be out of luck.</p>\n\n<p>The <code>POSIX</code> module is a part of the core perl distribution since the very first release of Perl 5, so if you don't have it your Perl installation is crippled.</p>\n"}, {"comments": [{"owner": {"reputation": 80303, "user_id": 196561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6836267883ea7234253b2100f222dbbc?s=128&d=identicon&r=PG", "display_name": "osgx", "link": "https://stackoverflow.com/users/196561/osgx"}, "edited": false, "score": 0, "creation_date": 1526392191, "post_id": 50341602, "comment_id": 87719891, "body": "&quot;read, write, and open are 0,1,2&quot; Are they always 0,1, and 2, for any of linux platform?"}, {"owner": {"reputation": 1414, "user_id": 7314180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OZkLQ.png?s=128&g=1", "display_name": "YenForYang", "link": "https://stackoverflow.com/users/7314180/yenforyang"}, "reply_to_user": {"reputation": 80303, "user_id": 196561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6836267883ea7234253b2100f222dbbc?s=128&d=identicon&r=PG", "display_name": "osgx", "link": "https://stackoverflow.com/users/196561/osgx"}, "edited": false, "score": 1, "creation_date": 1526437164, "post_id": 50341602, "comment_id": 87739596, "body": "Nope; using syscalls directly isn&#39;t the most portable. Try <code>require syscall.ph</code> to find out what the <code>SYS_read</code>, <code>SYS_write</code>, <code>SYS_open</code> constants are for you. Sidenote: I didn&#39;t method anything about closing the file descriptor. You <i>can</i> use <code>POSIX::close()</code>, but you could also use <code>syscall(SYS_close,$fd)</code>,(which is <code>syscall(3,$fd)</code> for me)."}], "tags": [], "owner": {"reputation": 1414, "user_id": 7314180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OZkLQ.png?s=128&g=1", "display_name": "YenForYang", "link": "https://stackoverflow.com/users/7314180/yenforyang"}, "is_accepted": false, "score": 1, "last_activity_date": 1526446976, "last_edit_date": 1526446976, "creation_date": 1526352318, "answer_id": 50341602, "question_id": 40372677, "link": "https://stackoverflow.com/questions/40372677/reading-system-files-with-perl-without-issuing-extra-seek-syscalls-on-open/50341602#50341602", "title": "Reading system files with perl without issuing extra seek syscalls on open", "body": "<p>If you wanna go really low-level and avoid even the <code>mmap</code> from <code>POSIX::open()</code> (and also avoid loading the huge <code>POSIX</code> module), perform the <code>syscall()</code>s yourself. Probably want to <code>require syscall.ph</code> to get the values of <code>SYS_open</code> and <code>SYS_read</code> if you don't know them (<em>for me</em> I know <code>read</code>, <code>write</code>, and <code>open</code> are <code>0</code>,<code>1</code>,<code>2</code>, respectively - this is important to know for the <code>syscall</code> function below).</p>\n\n<p>The following code:</p>\n\n<pre><code>strace perl -mPOSIX -e'$fd=POSIX::open(\"/proc/loadavg\");POSIX::read($fd, \n$_, 9999);' 2&gt;&amp;1 | egrep -A2 '^open.*loadavg'\n</code></pre>\n\n<p>gives something like (for me <code>open()</code> is <code>openat()</code>)</p>\n\n<pre><code>openat(AT_FDCWD, \"/proc/loadavg\", O_RDONLY) = 3\nmmap(NULL, 135168, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) =             \n0x7f2389f0d000\nread(3, \"1.22 2.51 1.54 3/206 18145\\n\", 9999) = 27\n</code></pre>\n\n<p>Try something like this:</p>\n\n<pre><code>strace perl -MFcntl -E'$p=\"/proc/loadavg\"; $fd=syscall 2, $p, O_RDONLY; $bf = \n\"\\0\"x50; syscall 0, $fd, $bf, 50' 2&gt;&amp;1 | egrep -A1 '^open.*loadavg'\n</code></pre>\n\n<p>and get:</p>\n\n<pre><code>open(\"/proc/loadavg\", O_RDONLY) = 3\nread(3, \"0.45 0.18 0.20 2/241 12349\\n\", 50) = 27\n</code></pre>\n\n<p><strong>EDIT</strong>:<br>\nRegarding the <a href=\"https://stackoverflow.com/questions/40372677/reading-system-files-with-perl-without-issuing-extra-seek-syscalls-on-open#comment68810947_40398468\">comment from @osgx</a>,</p>\n\n<blockquote>\n  <p>There is <code>\\0</code> special char in end of the read. How can I parse multiline from POSIX::read, there is no <code>while(&lt;FILE&gt;)</code> now.</p>\n</blockquote>\n\n<p>Note that when you '<code>while(&lt;FILE&gt;)</code>' you are really just calling <code>read()</code> one byte at a time and checking for the <code>'\\n'</code> char--or whatever your <code>$/</code> (input record seperator) is set to (you can confirm this via <code>strace</code>).</p>\n\n<p>Thus, a simple loop to check for <code>$/</code> could suffice. (Note that <code>read()</code> returns, on success, the number of bytes read (0 indicates EOF). Here is a crude example of a single \"<code>readline</code>\":</p>\n\n<pre><code>require 'syscall.ph';\nrequire Fcntl;\nmy($path, $fd, $buf, $res);\n$path = '/proc/meminfo';\n$fd = syscall SYS_open(), $path, O_RDONLY;\n$buf = ' ';\n$res = '';\n$res .= $buf while syscall SYS_read(), $fd, $buf, 1 and $buf ne $/;\nsyscall SYS_close(), $fd; # optional in this case\n</code></pre>\n\n<p>Just be aware that <em>if</em> you are going for <em>portability</em> of any sort, <code>syscall</code>-ing is probably one of the worst choices, but that's the price of specificity. (<code>POSIX::open/read/close()</code> isn't better by much in this sense either.). To maintain portability, you might be better off using <a href=\"https://stackoverflow.com/questions/40372677/reading-system-files-with-perl-without-issuing-extra-seek-syscalls-on-open#comment67999725_40372677\">@ikegami's comment (&lt;:unix)</a>, and ignore the extra calls to <code>fstat</code> and <code>fcntl</code>;</p>\n"}], "owner": {"reputation": 80303, "user_id": 196561, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6836267883ea7234253b2100f222dbbc?s=128&d=identicon&r=PG", "display_name": "osgx", "link": "https://stackoverflow.com/users/196561/osgx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 1, "accepted_answer_id": 40398468, "answer_count": 2, "score": 5, "last_activity_date": 1526446976, "creation_date": 1478062171, "last_edit_date": 1478062957, "question_id": 40372677, "link": "https://stackoverflow.com/questions/40372677/reading-system-files-with-perl-without-issuing-extra-seek-syscalls-on-open", "title": "Reading system files with perl without issuing extra seek syscalls on open", "body": "<p>I'm trying to use perl to parse some pseudo files from <code>/proc</code>  and <code>/sys</code> linux pseudo filesystems (<a href=\"https://en.wikipedia.org/wiki/Procfs\" rel=\"noreferrer\">procfs</a> and <a href=\"https://en.wikipedia.org/wiki/Sysfs\" rel=\"noreferrer\">sysfs</a>). Such files are unlike regular files - they are implemented by custom file operation handlers. Most of them have zero size for <code>stat</code>, some can't be open for read, other can't be written. Sometimes they are implemented incorrectly (which is error, but it is already in the kernel) and I still want to read them directly from perl without starting some helper tools.</p>\n\n<p>There is quick example of reading <code>/proc/loadavg</code> with perl, this file is implemented correctly:</p>\n\n<pre><code>perl -e 'open F,\"&lt;/proc/loadavg\"; $_=&lt;F&gt;; print '\n</code></pre>\n\n<p>With <code>strace</code> of the command I can check how perl implements <code>open</code> function:</p>\n\n<pre><code>$ strace perl -e 'open F,\"&lt;/proc/loadavg\"; $_=&lt;F&gt;; print ' 2&gt;&amp;1 | egrep -A5 ^open.*loadavg\n\nopen(\"/proc/loadavg\", O_RDONLY)         = 3\nioctl(...something strange...)    = -1 ENOTTY\nlseek(3, 0, SEEK_CUR)                   = 0\nfstat(3, {st_mode=S_IFREG|0444, st_size=0, ...}) = 0\nfcntl(3, F_SETFD, FD_CLOEXEC)           = 0\n</code></pre>\n\n<p>There is <code>lseek</code> system call used by <code>open</code> perl function.</p>\n\n<p>With strace of <code>cat /proc/loadavg</code> there was no extra <code>seek</code>-typed system calls:</p>\n\n<pre><code>$ strace cat /proc/loadavg 2&gt;&amp;1 | egrep -A2 ^open.*loadavg\nopen(\"/proc/loadavg\", O_RDONLY)         = 3\nfstat(3, {st_mode=S_IFREG|0444, st_size=0, ...}) = 0\nfadvise64(3, 0, 0, POSIX_FADV_SEQUENTIAL) = 0\n</code></pre>\n\n<p>The special file I want to read (or write) misimplement <code>seek</code> file operations and will not give any useful data to <code>read</code> (or to <code>write</code>) syscall after <code>seek</code>.</p>\n\n<p>Is there way of opening files for reading in perl5 (no external modules) without calling extra <code>lseek</code>? (and without using <code>system(\"cat &lt; /proc/loadavg\")</code>)</p>\n\n<p>Is there way of opening files for writing in perl5 without calling extra <code>lseek</code>?</p>\n\n<p>There is sysopen, but it does extra lseek too: <code>perl -e 'use Fcntl;sysopen(F,\"/proc/loadavg\",O_RDONLY);sysread(F,$_,2048); print '</code></p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "edited": false, "score": 0, "creation_date": 1478049579, "post_id": 40371019, "comment_id": 67995605, "body": "sorry i edited my question. i passed my array by ref so going with the first solution u gave i get this error <code>Can&#39;t use string (&quot;1&quot;) as an ARRAY ref while &quot;strict refs&quot; </code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "edited": false, "score": 0, "creation_date": 1478049776, "post_id": 40371019, "comment_id": 67995664, "body": "I&#39;d have to see what you did to know where you went wrong.  Updating my answer."}, {"owner": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "edited": false, "score": 0, "creation_date": 1478050155, "post_id": 40371019, "comment_id": 67995763, "body": "right, any other way to do it without using <code>Algorithm::Loops &#39;MapCarMin&#39;;</code>"}], "tags": [], "owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "is_accepted": true, "score": 6, "last_activity_date": 1478070988, "last_edit_date": 1478070988, "creation_date": 1478049103, "answer_id": 40371019, "question_id": 40370927, "link": "https://stackoverflow.com/questions/40370927/mapping-to-a-subroutine-that-accepts-multiple-argument/40371019#40371019", "title": "mapping to a subroutine that accepts multiple argument", "body": "<p>Your updated code that uses new_map could be done like so:</p>\n\n<pre><code>use Algorithm::Loops 'MapCarMin';\n\nmy @arr1 = (1, 2, 3);\nmy @arr2 = (\"uno\", \"dos\");\n@array = MapCarMin \\&amp;m, \\@arr1, \\@arr2;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sub call_m_over_pair_of_arrays {\n    my ($arrayref1, $arrayref2) = @_;\n    map &amp;m($arrayref1-&gt;[$_], $arrayref2-&gt;[$_]), 0..( $#$arrayref1 &lt; $#$arrayref2 ? $#$arrayref1 : $#$arrayref2 );\n}\n@array = call_m_over_pair_of_arrays( \\@arr1, \\@arr2 );\n</code></pre>\n\n<p>Answer to original question:</p>\n\n<p>Parentheses don't create lists or arrays in perl; nested parentheses just flatten out into a single list; you would need to do this:</p>\n\n<pre><code>@array = map( &amp;m(@$_), [ 1, 'uno' ], [ 2, 'dos' ] );\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>use List::Util 1.29 'pairmap';\n@array = pairmap { &amp;m($a, $b) } (1, 'uno', 2, 'dos');\n</code></pre>\n\n<p>Don't name subroutines <code>m</code>; that conflicts when the <code>m</code> match operator. (Though you can still call such a subroutine using <code>&amp;</code>, it is better not to.)</p>\n"}], "owner": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 40371019, "answer_count": 1, "score": 1, "last_activity_date": 1525924716, "creation_date": 1478048449, "last_edit_date": 1525924716, "question_id": 40370927, "link": "https://stackoverflow.com/questions/40370927/mapping-to-a-subroutine-that-accepts-multiple-argument", "title": "mapping to a subroutine that accepts multiple argument", "body": "<p>am trying to map an array to a subroutine that accept 2 argument, i tried using <a href=\"http://php.net/manual/en/function.array-map.php/#example-5591\" rel=\"nofollow noreferrer\">php  array_map concept</a> but didn't work out:</p>\n\n<pre><code>sub m {\n   my ($n, $m) = @_;\n   return(\"The number $n is called $m in Spanish\");\n}\n\nsub new_map {\n   my (@argument) = @_;\n   my @arg = @argument;\n\n   @array = map(m($_, $_), @{ $arg[0] }, @{ $arg[1]});\n}\n\nmy @arr1 = (1, 2, 3);\nmy @arr2 = (\"uno\", \"dos\");\nnew_map(\\@arr1, \\@arr2);\n\n#outputs\n#The number 1 is called 1 in Spanish INSTEAD OF 'The number 1 is called uno in Spanish'\n#The number 2 is called 2 in Spanish INSTEAD OF 'The number 1 is called dos in Spanish'\n</code></pre>\n\n<p>Is there a way to accomplish this.</p>\n"}, {"tags": ["list", "perl", "class", "object", "module"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 3, "creation_date": 1478036253, "post_id": 40368974, "comment_id": 67991598, "body": "The code you ran is not the code you show. <code>Global symbol &quot;@filas&quot; requires explicit package name (did you forget to declare &quot;my @filas&quot;?) at script.pl line 9. script.pl had compilation errors.</code>. Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 946, "user_id": 7053945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JdCaoswD1gw/AAAAAAAAAAI/AAAAAAAAAzw/7PMCsAhle34/photo.jpg?sz=128", "display_name": "Alvaro Carvajal", "link": "https://stackoverflow.com/users/7053945/alvaro-carvajal"}, "edited": false, "score": 2, "creation_date": 1478038139, "post_id": 40368974, "comment_id": 67992395, "body": "There are several problems there: (1) <code>@filas</code> is not declared. Did you forgot to declare it and insert into it <code>$fila</code> and <code>$fila2</code>? (2) There isn&#39;t a module declaration for <code>FilaSquid</code>. (3) In your constructor, you&#39;re overwritting <code>$self-&gt;{&#39;filas&#39;}</code> even though you&#39;re also passing it as an argument. (4) You probably wan&#39;t to pass <code>@filas</code> as an <code>ARRAYREF</code>."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1478040395, "post_id": 40369413, "comment_id": 67993184, "body": "Might want <code>[@filas]</code> there, not <code>\\@filas</code>"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1478040961, "post_id": 40369413, "comment_id": 67993371, "body": "@ysth Could be, if they want a copy. Since we don&#39;t know what it&#39;s going to be used for... *shrug*."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1478101950, "post_id": 40369413, "comment_id": 68020451, "body": "What ysth is getting at is that <code>\\@filas</code> will cause changes to the array passed to the constructor and changes to the object to affect each other, which is unlikely to the be desired. <code>[ @filas ]</code> creates a new array that&#39;s a copy of the one passed as an argument, breaking that unfortunate linking. (I know you know this, Schwern. This is for the other readers.)"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1478114935, "post_id": 40369413, "comment_id": 68028087, "body": "@ikegami I agree, but I flip it the other way around. Instead of making the caller decide what the object is going to do with the reference, I let the object decide and copy it if it needs to. Maybe it&#39;s not going to change it so the copy is a waste of memory? Maybe it wants to manipulate the caller&#39;s data? Dunno what it&#39;s doing with <code>@filas</code> so... *shrug*. Anyhow, that&#39;s all outside the scope of the question. They&#39;ll get there soon enough."}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 6, "last_activity_date": 1478101765, "last_edit_date": 1478101765, "creation_date": 1478038087, "answer_id": 40369413, "question_id": 40368974, "link": "https://stackoverflow.com/questions/40368974/how-do-i-create-an-object-list-inside-an-object-in-perl/40369413#40369413", "title": "How do I create an object list inside an object in perl?", "body": "<p>First problem is this in <code>new</code>.</p>\n\n<pre><code>$self-&gt;{'filas'} = [];\n</code></pre>\n\n<p>You're initializing <code>$self-&gt;{'filas'}</code> to an empty array reference. That will blow away anything passed in via <code>new</code>.  What you probably want instead is:</p>\n\n<pre><code>$self-&gt;{filas} //= [];\n</code></pre>\n\n<p>Which is the same as:</p>\n\n<pre><code>$self-&gt;{filas} = $self-&gt;{filas} // [];\n</code></pre>\n\n<p><a href=\"http://perldoc.perl.org/perlop.html#Logical-Defined-Or\" rel=\"nofollow noreferrer\"><code>//</code> is the \"defined-or\" operator</a>. That says to only initialize <code>$self-&gt;{filas}</code> if it's undefined. It's a bit safer than using <code>||=</code> because there are some valid things which are false.</p>\n\n<hr>\n\n<p>Second problem is how you're passing <code>filas</code> to <code>new</code>. That you're initializing <code>$self-&gt;{filas}</code> with an array <em>reference</em> is your clue.</p>\n\n<pre><code>my @filas = (1, 2, 3, 4, 5, 6);\n\nmy $squid = Squid-&gt;new(\n    \"versao\" =&gt; '1.0',\n    \"origem\" =&gt; 'C:\\temp',\n    \"filas\" =&gt; @filas\n);\n</code></pre>\n\n<p>This is like saying:</p>\n\n<pre><code>my $squid = Squid-&gt;new(\n    \"versao\" =&gt; '1.0',\n    \"origem\" =&gt; 'C:\\temp',\n    \"filas\" =&gt; 1,\n    2, 3, 4, 5, 6\n);\n</code></pre>\n\n<p>You've just stuck an extra bunch of stuff on the end of what's supposed to be an even-sized list to be used as a hash.</p>\n\n<p>The <code>=&gt;</code> operator is basically the same as a comma. It doesn't create pairs, it just allows you to leave out quotes around strings on its left hand side. <code>key =&gt; @values</code> isn't one pair, it's <code>key =&gt; $values[0], $values[1], $values[2], ...</code>. <code>new</code> tries to treat that list as a hash, and so long as there's an even number of elements it will \"work\".</p>\n\n<p>Instead, you need to pass in an array <em>reference</em>. <code>key =&gt; \\@values</code>.</p>\n\n<pre><code>my $squid = Squid-&gt;new(\n    \"versao\" =&gt; '1.0',\n    \"origem\" =&gt; 'C:\\temp',\n    \"filas\" =&gt; \\@filas\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1478042195, "last_edit_date": 1478042195, "creation_date": 1478041465, "answer_id": 40369973, "question_id": 40368974, "link": "https://stackoverflow.com/questions/40368974/how-do-i-create-an-object-list-inside-an-object-in-perl/40369973#40369973", "title": "How do I create an object list inside an object in perl?", "body": "<p>Here's a way that you can insert numerous objects into another object without breaking encapsulation. It does not focus on any issues in your existing code, it just answers the question. In this example, <code>Two</code> holds numerous objects of class <code>One</code>. Each inner object has a name:</p>\n\n<pre><code>use warnings;\nuse strict;\n\npackage One; {\n    sub new {\n        my ($class, %args) = @_;\n        return bless {%args}, $class;\n    }\n    sub name {\n        my $self = shift;\n        return $self-&gt;{name};\n    }\n}\n\npackage Two; {\n    sub new {\n        return bless {}, shift;\n    }\n    sub add {\n        my ($self, %args) = @_;\n        my $name = $args{name};\n        $self-&gt;{objects}{$name} = One-&gt;new(name =&gt; $name);\n    }\n    sub get_names {\n        my ($self) = @_;\n        return keys %{ $self-&gt;{objects} };\n    }\n    sub inner_obj {\n        my ($self, $name) = @_;\n        return $self-&gt;{objects}{$name};\n    }\n}\n\npackage main;\n\nmy $two = Two-&gt;new;\n\n$two-&gt;add(name =&gt; 'obj1');\n$two-&gt;add(name =&gt; 'obj2');\n\n# loop over each inner object by name\n\nfor my $name ('obj1', 'obj2'){\n    print $two-&gt;inner_obj($name)-&gt;name . \"\\n\";\n}\n\n# or let Two give you the list of names back, and iterate\n# automatically\n\nfor ($two-&gt;get_names){\n    print $two-&gt;inner_obj($_)-&gt;name . \"\\n\";\n}\n</code></pre>\n\n<p>Note that we're manually adding new objects in the main script. It is just as easy if you need to set up a list of objects within a module and not main... you'd just modify <code>Two::new()</code> to call its <code>add()</code> method internally.</p>\n"}], "owner": {"reputation": 61, "user_id": 5302461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtElX.jpg?s=128&g=1", "display_name": "Diego Pereira", "link": "https://stackoverflow.com/users/5302461/diego-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1478101765, "creation_date": 1478035880, "question_id": 40368974, "link": "https://stackoverflow.com/questions/40368974/how-do-i-create-an-object-list-inside-an-object-in-perl", "title": "How do I create an object list inside an object in perl?", "body": "<p>I'm newer in Perl, sorry for my dumb question.</p>\n\n<p>I searched but I didn't found a way to do this.</p>\n\n<p>I created a class that one attribute need to be a list of objects and I need to call this list later.</p>\n\n<p>I tried to push the objects in a list I receive the message:</p>\n\n<p>Odd number of elements in anonymous hash at...</p>\n\n<p>My package</p>\n\n<pre><code>package Squid;\n\nuse strict;\nuse warnings;\n\nsub new\n{\n  my $class = shift;\n  my $self = {@_ };\n\n  print \"Creating new $class\\n\";\n\n  $self-&gt;{'filas'} = [];\n\n  bless ($self, $class);\n\n  return $self;\n}\n\n1;\n</code></pre>\n\n<p>And this is the script:</p>\n\n<pre><code>use Squid;\nuse warnings;\nuse strict;\n\n\nmy $fila = FilaSquid-&gt;new(\"nome\" =&gt; 'Fila 1', \"profundidade\" =&gt; 45);\nmy $fila2 = FilaSquid-&gt;new(\"nome\" =&gt; 'Fila 2', \"profundidade\" =&gt; 7);\n\nmy $squid = Squid-&gt;new(\"versao\" =&gt; '1.0', \"origem\" =&gt; 'C:\\temp', \"filas\" =&gt; @filas);\n\nprint \"\\nA versao da fila eh \".$squid-&gt;{versao};\nprint \"\\nA origem da fila eh \".$squid-&gt;{origem}.\"\\n\";\n\nforeach my $line ($squid-&gt;{filas}) {\n    print $line-&gt;{nome}.\"\\n\";\n}\n</code></pre>\n"}, {"tags": ["perl", "parsing", "config"], "comments": [{"owner": {"reputation": 645, "user_id": 179589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1363806664/picture?type=large", "display_name": "Arthur Accioly", "link": "https://stackoverflow.com/users/179589/arthur-accioly"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1478042288, "post_id": 40367657, "comment_id": 67993766, "body": "Good point, I added more information now. Thanks"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1478043200, "post_id": 40367657, "comment_id": 67994018, "body": "please inform people when you <a href=\"http://perlmonks.org/?node_id=1175079\" rel=\"nofollow noreferrer\">cross-post</a>"}], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 179589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1363806664/picture?type=large", "display_name": "Arthur Accioly", "link": "https://stackoverflow.com/users/179589/arthur-accioly"}, "edited": false, "score": 0, "creation_date": 1478042360, "post_id": 40368950, "comment_id": 67993780, "body": "Interesting... I&#39;ll try the SQL::Abstract. But do you know some lib that can just parse the config file into a Perl data structure?"}, {"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "reply_to_user": {"reputation": 645, "user_id": 179589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1363806664/picture?type=large", "display_name": "Arthur Accioly", "link": "https://stackoverflow.com/users/179589/arthur-accioly"}, "edited": false, "score": 0, "creation_date": 1478099863, "post_id": 40368950, "comment_id": 68018899, "body": "You could try converting it into JSON syntax and then use the <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\">JSON</a> module  to. It looks like all you would need to do is convert the parentheses, equal signs, and semi-colons, and then  wrap all the text in quotes, so something like:"}, {"owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "reply_to_user": {"reputation": 645, "user_id": 179589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1363806664/picture?type=large", "display_name": "Arthur Accioly", "link": "https://stackoverflow.com/users/179589/arthur-accioly"}, "edited": false, "score": 0, "creation_date": 1478100053, "post_id": 40368950, "comment_id": 68019046, "body": "erm, adding code in a comment didn&#39;t work as I expcted. will update my answer with the example"}, {"owner": {"reputation": 645, "user_id": 179589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1363806664/picture?type=large", "display_name": "Arthur Accioly", "link": "https://stackoverflow.com/users/179589/arthur-accioly"}, "edited": false, "score": 0, "creation_date": 1478106534, "post_id": 40368950, "comment_id": 68023326, "body": "Yeah, a good path could be to transform in JSON and from there to SQL... I&#39;m also testing this possibility..."}], "tags": [], "owner": {"reputation": 381, "user_id": 3380064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PrmsH.jpg?s=128&g=1", "display_name": "interduo", "link": "https://stackoverflow.com/users/3380064/interduo"}, "is_accepted": false, "score": 1, "last_activity_date": 1478102751, "last_edit_date": 1478102751, "creation_date": 1478035770, "answer_id": 40368950, "question_id": 40367657, "link": "https://stackoverflow.com/questions/40367657/convert-complex-config-file-to-id-parent-key-value-format/40368950#40368950", "title": "Convert complex config file to id,parent,key,value format", "body": "<p>It sounds like you want Perl to break down a config file and build SQL statements from it, which you can do, but doing it that way also means creating the IDs and that may cause problems if the database auto-increments.</p>\n\n<p>I would recommend learning how to use Perl to interact with the database directly. This area is dominated by two modules: <a href=\"https://metacpan.org/release/DBI\" rel=\"nofollow noreferrer\">DBI</a> and <a href=\"https://metacpan.org/release/DBIx-Class\" rel=\"nofollow noreferrer\">DBIx::Class</a>.</p>\n\n<p>Both modules provide methods to create/read/update/delete data and can store the return values from queries so you can use the ids and other table data in subsequent queries. They also have error handling for transactions which is always nice. </p>\n\n<p>If this is a one-off script and you're already familiar with SQL, I'd recommend DBI since it uses a lot of plain SQL and will likely be faster to learn.</p>\n\n<p>If you want an OO solution to using databases in Perl, or if you intend to do a lot of database work, then I'd recommend taking the time to learn DBIx::Class as you can create a full model of the schema for more robust solutions.</p>\n\n<p>In either case, you'll also need the <a href=\"https://metacpan.org/pod/DBD::Oracle\" rel=\"nofollow noreferrer\">DBD::Oracle</a> module which contains the rules DBI and DBIx::Class need to interact with an Oracle database.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I forgot to mention... If you're adamant about converting the config file to SQL statements, you could try <a href=\"http://search.cpan.org/~ribasushi/SQL-Abstract/lib/SQL/Abstract.pm\" rel=\"nofollow noreferrer\">SQL::Abstract</a> which converts Perl data structures in to SQL statements.</p>\n\n<p><strong>Update2:</strong></p>\n\n<p>I'm not sure if there's a module for that specific config syntax, but it looks pretty close to JSON's format, so you could convert the files to that and then load them with the <a href=\"https://metacpan.org/pod/JSON\" rel=\"nofollow noreferrer\">JSON</a>.</p>\n\n<p>The comments will need to be removed, arrays changed from parentheses to square brackets, the equal signs changes to colons, all text will need to be wrapped in quotes, and the semi-colons changed to commas. I think the trickiest part will be to remove the final comma from each block. </p>\n\n<p>Got stuck on removing the trailing commas, but this should get you most of the way there:</p>\n\n<pre><code>my $config = &lt;&lt;'CONFIG';\n# This is a comment\nfeed_realtime_processor_pool = ( 11, 12 ) ;\ndropout_detection_time_start = \"17:00\";\n# Sometimes the config can have sub-structures\nnamed_clients = (\n{\n  name = \"thread1\";\n  user_threads = (\n     { name = \"realtime1\"; cpu = 11; } # more comments\n     { name = \"realtime2\"; cpu = 12; } # more comments\n    );\n}\n);\nCONFIG\n\n# Remove comments\n$config =~ s{[#].+?$}{}mg;\n\n# Convert Arrays\n$config =~ s{\\(}{[}mg;\n$config =~ s{\\)}{]}mg;\n\n# Convert key-value seaprators\n$config =~ s{=}{:}mg;\n\n# Wrap text in quotes\n$config =~ s{\"?([\\w\\d]+)\"?}{\"$1\"}mg;\n$config =~ s{\"(\\d\\d?)\":\"(\\d\\d?)\"}{\"$1:$2\"}mg; # fix times\n\n# Convert eol delimiters\n$config =~ s{;}{,}mg;\n\n\n\n# Wrap whole thing in brackets\n$config = '{' . $config . '}';\n\nprint \"$config\\n\\n\";\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 645, "user_id": 179589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1363806664/picture?type=large", "display_name": "Arthur Accioly", "link": "https://stackoverflow.com/users/179589/arthur-accioly"}, "edited": false, "score": 0, "creation_date": 1478042428, "post_id": 40369891, "comment_id": 67993801, "body": "Thanks albe, will try your suggestions as well. Like I put in the update, my main problem is not the sql, but to parse the config... Thanks."}], "tags": [], "owner": {"reputation": 543, "user_id": 2751338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ce5ca563d190132ed3a654d33593dc?s=128&d=identicon&r=PG&f=1", "display_name": "albe", "link": "https://stackoverflow.com/users/2751338/albe"}, "is_accepted": false, "score": 1, "last_activity_date": 1478099519, "last_edit_date": 1478099519, "creation_date": 1478041014, "answer_id": 40369891, "question_id": 40367657, "link": "https://stackoverflow.com/questions/40367657/convert-complex-config-file-to-id-parent-key-value-format/40369891#40369891", "title": "Convert complex config file to id,parent,key,value format", "body": "<p>Putting Oracle aside, you might be able to do something with your \"config\" file in Python since its syntax is similar if not compatible (I can't tell you that). But I am not aware of something that would evaluate it in Perl. Instead you could try Config::General which would allow a config file that looks like this:</p>\n\n<pre><code>feed_realtime_processor_pool 11\nfeed_realtime_processor_pool 12\ndropout_detection_time_start 17:00\n# Sometimes the config can have sub-structures\n&lt;named_client thread1&gt;\n  &lt;user_threads realtime1&gt;\n     cpu 11\n  &lt;/user_threads&gt;\n  &lt;user_threads realtime2&gt;\n     cpu 12\n  &lt;/user_threads&gt;\n&lt;/named_client&gt;\n\n# etc\n</code></pre>\n\n<p>and then read it:</p>\n\n<pre><code>use Config::General;\n$config = Config::General-&gt;new(\"my.conf\"); \nmy %config = $config-&gt;getall;\n</code></pre>\n\n<p>Simpler alternatives might be JSON with <code>use JSON</code> or XML::Simple, etc. Check them out in CPAN. These will give you tree formats in familiar syntax.</p>\n"}, {"comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1478207000, "post_id": 40381689, "comment_id": 68072623, "body": "I appreciate that you post <a href=\"http://stackoverflow.com/users/1030675/choroba\">@Choroba</a>&#39;s answer from perlmonks here. Just for the records: he&#39;s also a member of this site. And a great one, if I may say that. :-)"}, {"owner": {"reputation": 645, "user_id": 179589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1363806664/picture?type=large", "display_name": "Arthur Accioly", "link": "https://stackoverflow.com/users/179589/arthur-accioly"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1478287750, "post_id": 40381689, "comment_id": 68109259, "body": "Oh, didn&#39;t know that, yeah, he&#39;s really great, agreed.  :-)"}], "tags": [], "owner": {"reputation": 645, "user_id": 179589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1363806664/picture?type=large", "display_name": "Arthur Accioly", "link": "https://stackoverflow.com/users/179589/arthur-accioly"}, "is_accepted": true, "score": 2, "last_activity_date": 1478094793, "creation_date": 1478094793, "answer_id": 40381689, "question_id": 40367657, "link": "https://stackoverflow.com/questions/40367657/convert-complex-config-file-to-id-parent-key-value-format/40381689#40381689", "title": "Convert complex config file to id,parent,key,value format", "body": "<p>Thanks everybody for the tips, but I think that the best option is to follow the suggestion that I received from Choroba at the <a href=\"http://perlmonks.org/index.pl?node_id=1175079\" rel=\"nofollow noreferrer\">perlmonks</a> site. I'm copying here his answer:</p>\n\n<p>\"If you can't find a module to parse your config format, write your own parser. Marpa::R2 can help you in the task:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse feature qw{ say };\n\nuse Marpa::R2;\n\nmy $input = &lt;&lt; '__INPUT__';\n# This is a comment\nfeed_realtime_processor_pool = ( 11, 12 ) ;\ndropout_detection_time_start = \"17:00\";\n# Sometimes the config can have sub-structures\nnamed_clients = (\n{\n  name = \"thread1\";\n  user_threads = (\n     { name = \"realtime1\"; cpu = 11; } # more comments\n     { name = \"realtime2\"; cpu = 12; } # more comments\n    );\n}\n);\n__INPUT__\n\nmy $dsl = &lt;&lt; '__DSL__';\n\nlexeme default = latm =&gt; 1\n:default ::= action =&gt; ::first\n\nConfig    ::= Elements\nElements  ::= Element+                              action =&gt; grep_def\n+ined\nElement   ::= (Comment)                             action =&gt; empty\n            | Name (s eq s) Value                   action =&gt; [values]\n            | Name (s eq s) Value (semicolon s)     action =&gt; [values]\nComment   ::= (hash nonnl nl)                       action =&gt; empty\nName      ::= alpha\nValue     ::= List\n            | String\n            | Num\n            | Struct\nList      ::= (lpar) Nums (rpar s semicolon s)\nNums      ::= Num+  separator =&gt; comma              action =&gt; listify\nNum       ::= (s) digits (s)\n            | (s) digits\n            | digits (s)\n            | digits\nString    ::= (qq) nqq (qq semicolon s)             action =&gt; quote\nStruct    ::= (lpar s) InStructs (rpar semicolon s)\nInStructs ::= InStruct+                             action =&gt; grep_def\n+ined\nInStruct  ::= (lcurl s) Elements (rcurl s)\n            | (Comment s)                           action =&gt; empty\n            | Element\n\ns         ~ [\\s]*\neq        ~ '='\nhash      ~ '#'\nnonnl     ~ [^\\n]*\nnl        ~ [\\n]\nalpha     ~ [a-z_]+\nlpar      ~ '('\nrpar      ~ ')'\nlcurl     ~ '{'\nrcurl     ~ '}'\nsemicolon ~ ';'\ncomma     ~ ','\ndigits    ~ [\\d]+\nqq        ~ '\"'\nnqq       ~ [^\"]+\n\n__DSL__\n\nsub listify      { shift; [ @_ ] }\nsub quote        { qq(\"$_[1]\") }\nsub empty        {}\nsub grep_defined { shift; [ grep defined, @_ ] }\n\n\nmy $id = 1;\nsub show {\n    my ($parent, $name, $elems) = @_;\n    if (ref $elems-&gt;[0]) {\n        show($parent, $name, $_) for @$elems;\n    } elsif (ref $elems-&gt;[1]) {\n        if (ref $elems-&gt;[1][0]) {\n            say join ', ', $id, $parent, $elems-&gt;[0], 'null';\n            show($id++, $elems-&gt;[0], $elems-&gt;[1]);\n        } else {\n            for my $e (@{ $elems-&gt;[1] }) {\n                say join ', ', $id++, $parent, $elems-&gt;[0], $e;\n            }\n        }\n    } else {\n        say join ', ', $id++, $parent, @$elems;\n    }\n}\n\n\nmy $grammar = 'Marpa::R2::Scanless::G'-&gt;new({ source =&gt; \\$dsl });\nshow('null', q(), ${ $grammar-&gt;parse(\\$input, 'main') });\n[download]\nOutput:\n\n1, null, feed_realtime_processor_pool, 11\n2, null, feed_realtime_processor_pool, 12\n3, null, dropout_detection_time_start, \"17:00\"\n4, null, named_clients, null\n5, 4, name, \"thread1\"\n6, 4, user_threads, null\n7, 6, name, \"realtime1\"\n8, 6, cpu, 11\n9, 6, name, \"realtime2\"\n10, 6, cpu, 12\n</code></pre>\n\n<p>Please, note that to install this module, we need to install many dependencies:</p>\n\n<pre><code>sudo cpan IPC::Cmd\nsudo cpan Module::Build\nsudo cpan Time::Piece\nsudo cpan Marpa::R2\n</code></pre>\n"}], "owner": {"reputation": 645, "user_id": 179589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/1363806664/picture?type=large", "display_name": "Arthur Accioly", "link": "https://stackoverflow.com/users/179589/arthur-accioly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 1, "accepted_answer_id": 40381689, "answer_count": 3, "score": 1, "last_activity_date": 1478475567, "creation_date": 1478030145, "last_edit_date": 1592644375, "question_id": 40367657, "link": "https://stackoverflow.com/questions/40367657/convert-complex-config-file-to-id-parent-key-value-format", "title": "Convert complex config file to id,parent,key,value format", "body": "<p>I'm trying to convert a config file like the example below so then I can generate SQL commands to insert into my Oracle table. I'm trying to use Perl, but I'm open to try other languages, like Python.</p>\n<p>Example of config:</p>\n<pre><code># This is a comment\nfeed_realtime_processor_pool = ( 11, 12 ) ;\ndropout_detection_time_start = &quot;17:00&quot;;\n# Sometimes the config can have sub-structures\nnamed_clients = (\n{\n  name = &quot;thread1&quot;;\n  user_threads = (\n     { name = &quot;realtime1&quot;; cpu = 11; } # more comments\n     { name = &quot;realtime2&quot;; cpu = 12; } # more comments\n    );\n}\n);\n</code></pre>\n<p>(...)</p>\n<p>Converting (the spaces are just for a better visualization):</p>\n<pre><code>id,parent, key,                            value\n01,null,   'feed_realtime_processor_pool', '11'\n02,null,   'feed_realtime_processor_pool', '12'\n03,null,   'dropout_detection_time_start', '17:00'\n04,null,   'named_clients',                null\n05,04,     'name',                         'thread1'\n06,04,     'user_threads',                 null\n07,06,     'name',                         'realtime1'\n08,06,     'cpu',                          '11'\n09,06,     'name',                         'realtime2'\n10,06,     'cpu',                          '12'\n</code></pre>\n<p>So, the questions are:</p>\n<ol>\n<li><p>Somebody knows some lib/module that can do this? I could find config parsers, but couldn't find a good one that could give me in a tree format.</p>\n</li>\n<li><p>If not, somebody can give me some suggestion about how should I start this script, maybe using different modules to help me parsing the config? Cleaning and parsing the config is the hardest part for me.</p>\n</li>\n</ol>\n<h1>First Update:</h1>\n<ol>\n<li>I forgot to mention, I have tons of configs to import into my database and this is not a one-time event. This script will be running every time that I have a new config generated by the customers of my company for a different installation.</li>\n<li>I chose perl because I thought that this could be faster than Python to execute.</li>\n<li>I'm very familiar with SQL, but I'm not very good at Perl</li>\n<li>The configs follow the same structure that I put in the example, the only variations are related to number of white spaces between the key/values pairs or the indentation of the curly braces, etc.</li>\n<li>I already started writing a perl script using DBI, but the main problem is to parse this config into a format that I can easily work with. I'm always finding situations where my regex expressions are breaking and I keep adjusting over and over. If I could just use a lib to parse the config automatically, it would be great. I'm going to try the ones that you guys mentioned.</li>\n</ol>\n<p>Thanks!</p>\n<h1>Second Update:</h1>\n<p>Guys, I cross-posted this question on <a href=\"http://perlmonks.org/?node_id=1175079\" rel=\"nofollow noreferrer\">Perl Monks</a> and got another feedback there that I'm testing as well. Will post the answer once I test everything. Thanks.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1478044843, "post_id": 40367572, "comment_id": 67994431, "body": "may want to add that in a script, one would have to use <code>use feature &#39;say&#39;;</code> or <code>use 5.10;</code> or the like"}], "tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": true, "score": 8, "last_activity_date": 1478083617, "last_edit_date": 1495542798, "creation_date": 1478029766, "answer_id": 40367572, "question_id": 40367530, "link": "https://stackoverflow.com/questions/40367530/perl-specify-minimum-version-in-env-var/40367572#40367572", "title": "Perl: specify minimum version in env var?", "body": "<pre><code>perl -E 'say ...';\n</code></pre>\n\n<p>This is like <code>-e</code> but turns on all features (which <code>say</code> is one of). From <a href=\"http://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\">perldoc/perlrun</a>:</p>\n\n<blockquote>\n  <ul>\n  <li><p>-e commandline</p>\n  \n  <p>may be used to enter one line of program. If -e is given, Perl will\n  not look for a filename in the argument list. [...]   </p></li>\n  <li><p>-E commandline</p>\n  \n  <p>behaves just like -e, except that it implicitly enables all optional\n  features (in the main compilation unit). See\n  <a href=\"http://perldoc.perl.org/feature.html\" rel=\"nofollow noreferrer\">feature</a>.</p></li>\n  </ul>\n</blockquote>\n\n<hr>\n\n<p>To be honest: my answer doesn't exactly answer your original question. You asked how to use/require a <em>minimum Perl version</em>. For that the solution given in <a href=\"https://stackoverflow.com/users/176646/thissuitisblacknot\">@ThisSuitIsBlackNot</a>'s comment fits better:</p>\n\n<pre><code>perl -M5.016 -e 'say ...'\n</code></pre>\n\n<p>This turns on all features that came with Perl 5.16 and at the same time complains if your Perl version is less than 5.16. Look <a href=\"http://perldoc.perl.org/feature.html#FEATURE-BUNDLES\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://perldoc.perl.org/feature.html#IMPLICIT-LOADING\" rel=\"nofollow noreferrer\">here</a> for a <em>when-came-what table</em>.</p>\n\n<p>The <code>-E</code> solution blindly turns on all features of your current Perl's version.</p>\n\n<hr>\n\n<p>You also asked for an environment variable. There's <a href=\"http://perldoc.perl.org/perlrun.html#ENVIRONMENT\" rel=\"nofollow noreferrer\">indeed one</a>:</p>\n\n<pre><code>export PERL5OPT='-Mstrict -Mwarnings -M5.016'\n</code></pre>\n\n<blockquote>\n  <p>Switches in this variable are treated as if they were on every Perl command line.</p>\n</blockquote>\n\n<p>Be cautious when using the environment variable and sharing code: if you forget to tell your colleagues about it (because you set it months ago in your .bashrc), then some snippets might work for you but not for others.</p>\n"}], "owner": {"reputation": 936, "user_id": 2066126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/224ed6420ee88dea389bb21ca1cfa0aa?s=128&d=identicon&r=PG", "display_name": "TheAmigo", "link": "https://stackoverflow.com/users/2066126/theamigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 40367572, "answer_count": 1, "score": 1, "last_activity_date": 1478083617, "creation_date": 1478029574, "question_id": 40367530, "link": "https://stackoverflow.com/questions/40367530/perl-specify-minimum-version-in-env-var", "title": "Perl: specify minimum version in env var?", "body": "<p>I'm looking for a shorter way to write simple one-offs like this:</p>\n\n<pre><code>perl -e 'use 5.016;say 4.3%3'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -e 'print 4.3%3 .\"\\n\"'\n</code></pre>\n\n<p>I was hoping for an environment variable I could set that would be the equivalent of <code>use 5.016</code> so I could just write:</p>\n\n<pre><code>perl -e 'say 4.3%3'\n</code></pre>\n\n<p>Perhaps I've overlooked something in the documentation?</p>\n"}, {"tags": ["javascript", "jquery", "ajax", "perl", "cgi"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1478080144, "post_id": 40367052, "comment_id": 68005782, "body": "Interesting to see that in your first program you have the (very much not recommended) syntax <code>$query = new CGI</code> and in the second you have the (vastly superior) syntax (<code>$cgi = CGI--&gt;new</code>). Wondered why you were being so inconsistent."}, {"owner": {"reputation": 1, "user_id": 7101268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd6c8382dbd41150ca08c32067d752d?s=128&d=identicon&r=PG&f=1", "display_name": "user7101268", "link": "https://stackoverflow.com/users/7101268/user7101268"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1478122477, "post_id": 40367052, "comment_id": 68032115, "body": "Hi Dave, I am quite new to Perl and CGI so I would definitely keep your advice.  I mostly work with Java so I didn&#39;t know the right conventions here."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7101268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd6c8382dbd41150ca08c32067d752d?s=128&d=identicon&r=PG&f=1", "display_name": "user7101268", "link": "https://stackoverflow.com/users/7101268/user7101268"}, "edited": false, "score": 0, "creation_date": 1478122525, "post_id": 40370390, "comment_id": 68032140, "body": "Thanks a ton George! Got it!"}], "tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": false, "score": 2, "last_activity_date": 1478044319, "creation_date": 1478044319, "answer_id": 40370390, "question_id": 40367052, "link": "https://stackoverflow.com/questions/40367052/i-need-to-make-an-ajax-call-and-display-the-contents-of-my-db-table-i-am-using-p/40370390#40370390", "title": "I need to make an Ajax call and display the contents of my DB Table,I am using Perl CGI and trying to call Perl script through javaScript", "body": "<p>your problem lies in the line </p>\n\n<pre><code>print &lt;&lt;END_HERE;\n</code></pre>\n\n<p>as this will interpolate any perl-variables in your code. As You probably dont want to do this, you either have to escape every sigil ($, %, @) or simply change this line to:</p>\n\n<pre><code>print &lt;&lt;'END_HERE';\n</code></pre>\n\n<p>HTH\nGeorg</p>\n"}], "owner": {"reputation": 1, "user_id": 7101268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd6c8382dbd41150ca08c32067d752d?s=128&d=identicon&r=PG&f=1", "display_name": "user7101268", "link": "https://stackoverflow.com/users/7101268/user7101268"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478044319, "creation_date": 1478027611, "question_id": 40367052, "link": "https://stackoverflow.com/questions/40367052/i-need-to-make-an-ajax-call-and-display-the-contents-of-my-db-table-i-am-using-p", "title": "I need to make an Ajax call and display the contents of my DB Table,I am using Perl CGI and trying to call Perl script through javaScript", "body": "<p>for some reason the web console is giving me an error in the document.ready function. It says uncaught syntax error unidentified identifier</p>\n\n<p>This is my cgi script which has the JS which calls the perl script TestAj.pl which returns a json and I am trying to get that data in javascript function getAppointments() by using alert function to display the perl output. But I dont get anything in the alert.</p>\n\n<p>I am new to perl cgi and ajax so please let me know if I am doing something silly. FYI I have tested the perl script on my local machine and it gives me the required output.\nHere is my cgi script which contains js and html</p>\n\n<pre><code>#!\"c:\\xampp\\perl\\bin\\perl.exe\"\nuse strict;\nuse CGI;\n\n\nmy $query = new CGI;\n\n\nprint $query-&gt;header( \"text/html\" );\n\nprint &lt;&lt;END_HERE;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-1.4.4.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n$(document).ready(function () {\n     getAppointments();\n });\nfunction getAppointments(){\n$.ajax({\n        type: \"GET\",\n        url: \"/cgi-bin/TestAj.pl\", // URL of the Perl script\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n        success: function(data){\n        alert(data);\n        }, // success\n        error: function() {alert(\"did not work\");}\n      });\n}\n    &lt;/script&gt;\n    &lt;title&gt;My First CGI Script&lt;/title&gt;\n\n  &lt;/head&gt;\n  &lt;body bgcolor=\"#FFFFCC\"&gt;\n    &lt;input type=\"button\" value=\"New\" onclick=\"showDiv()\" /&gt;\n&lt;div id=\"hideShow\" style=\"display:none;\"&gt;\n&lt;form id=\"new app\" method=\"POST\" action=\"/cgi-bin/testing.cgi\"&gt;\n&lt;input type=\"text\" name=\"Date\"&gt;Date&lt;br&gt;\n&lt;input type=\"text\" name=\"Time\"&gt;Time&lt;br&gt;\n&lt;input type=\"text\" name=\"Description\"&gt;Description&lt;br&gt;\n&lt;input type=\"submit\" value=\"Add\"&gt;\n&lt;input type=\"button\" value=\"Cancel\" onclick=\"hideDiv()\" /&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n\n&lt;p&gt;       &lt;/p&gt;\n&lt;p&gt;       &lt;/p&gt;\n&lt;p&gt;       &lt;/p&gt;\n&lt;form id=\"search\" action=\"\"&gt;\n&lt;table&gt;\n&lt;tr&gt;\n&lt;td&gt;\n&lt;input type=\"text\" name=\"searchApp\"&gt;&lt;br&gt;\n&lt;/td&gt;\n&lt;td&gt;\n&lt;input type=\"submit\" value=\"Search\"&gt;&lt;form&gt;\n&lt;/td&gt;\n\n\n&lt;script type=\"text/javascript\"&gt;\n\n    function showDiv() {\n   document.getElementById('hideShow').style.display = \"block\";\n}\n    function hideDiv() {\n   document.getElementById('hideShow').style.display = \"none\";\n}\n\n\n\n\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\nEND_HERE\n</code></pre>\n\n<p>The perl script TestAj.pl is as follows:</p>\n\n<pre><code>#!\"c:\\xampp\\perl\\bin\\perl.exe\"\nuse strict;\nuse warnings;\nuse JSON; \nuse DBI;\nuse CGI;\nour @query_output;\nour $row=\"\";\nour $dbh=\"\";\nour $sth=\"\";\nour $dbfile = \"\";\n$dbfile = \"sample.db\";\nour $dsn      = \"dbi:SQLite:dbname=$dbfile\";\nour $cgi = CGI-&gt;new;\nour $user     = \"\";\nour $password = \"\";\n#print \"Content-type: application/json; charset=iso-8859-1\\n\\n\";\n\n$dbh = DBI-&gt;connect($dsn, $user, $password, {\n   PrintError       =&gt; 0,\n   RaiseError       =&gt; 1,\n   AutoCommit       =&gt; 1,\n   FetchHashKeyName =&gt; 'NAME_lc',\n});\n\n$sth = $dbh-&gt;prepare(\"SELECT * FROM appointment\");\n$sth-&gt;execute() or die $DBI::errstr;\nwhile ( my $row = $sth-&gt;fetchrow_hashref ){\npush @query_output, $row;\n}\n   #my ($id,$Date,$Time,$Description) = @row;\n   #my $json={{\"id\":\"$id\",\"Date\":\"$Date\",\"Time\":\"$Time\",\"Description\":\"$Description\"}}\n   # return JSON string\n    #print @query_output;\n    print $cgi-&gt;header(-type =&gt; \"application/json\", -charset =&gt; \"utf-8\");\n    print JSON::to_json(\\@query_output);\n\n    #print $json;\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["oracle", "perl", "dbi"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 5, "creation_date": 1478021880, "post_id": 40365404, "comment_id": 67984211, "body": "do you have <code>RaiseError</code> set in the connect call? If so, that will cause any exec failure to throw an error."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1478079604, "post_id": 40365404, "comment_id": 68005472, "body": "We would need to see the code that you are using."}], "owner": {"reputation": 59, "user_id": 3605505, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/26b1f4412b02148700c22059de86253c?s=128&d=identicon&r=PG&f=1", "display_name": "user3605505", "link": "https://stackoverflow.com/users/3605505/user3605505"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1478021443, "creation_date": 1478021443, "question_id": 40365404, "link": "https://stackoverflow.com/questions/40365404/perl-dbi-program-terminates-because-of-failed-integrity-constraint", "title": "Perl DBI program terminates because of failed integrity constraint", "body": "<p>I am using Perl DBI to insert lots of rows into an Oracle database. It's a bit like this:</p>\n\n<pre><code>     INSERT INTO TABLE(COL1_FK, COL2, COL3)\n                VALUES(GET_PK_FROM_TABLE('VALUE'), VAL2, VAL3)\n</code></pre>\n\n<p>One of the insert statements is failing owing to an integrity constraint (which is fine). All I want Perl to do is continue executing the remaining INSERT statements. However, Perl decides to terminate the program. How can I change this so Perl continues to the next INSERT statement even if one of them fails?</p>\n"}, {"tags": ["perl", "cgi"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7100224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68d5d7cd60317366839022eb600824a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jada Pinks", "link": "https://stackoverflow.com/users/7100224/jada-pinks"}, "edited": false, "score": 0, "creation_date": 1478013522, "post_id": 40362952, "comment_id": 67979082, "body": "The table doesn&#39;t seem to have any changes."}, {"owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "reply_to_user": {"reputation": 11, "user_id": 7100224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68d5d7cd60317366839022eb600824a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jada Pinks", "link": "https://stackoverflow.com/users/7100224/jada-pinks"}, "edited": false, "score": 0, "creation_date": 1478013849, "post_id": 40362952, "comment_id": 67979289, "body": "sorry,  copy-paste to format it well ate the backslash"}], "tags": [], "owner": {"reputation": 1220, "user_id": 1520793, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d0155363af97f63765cf92e647adb003?s=128&d=identicon&r=PG", "display_name": "sotona", "link": "https://stackoverflow.com/users/1520793/sotona"}, "is_accepted": false, "score": 0, "last_activity_date": 1478013820, "last_edit_date": 1478013820, "creation_date": 1478013185, "answer_id": 40362952, "question_id": 40362825, "link": "https://stackoverflow.com/questions/40362825/perl-cgi-how-to-fix-split-function-with-reading-displaying-data-on-a-table/40362952#40362952", "title": "PERL CGI: How to fix split function with reading/displaying data on a table?", "body": "<p>to split each line in ORDERS by pipe characters you should say: </p>\n\n<pre><code>my @fields=split(/\\|/, $_);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": true, "score": 3, "last_activity_date": 1478014411, "last_edit_date": 1495540099, "creation_date": 1478013987, "answer_id": 40363193, "question_id": 40362825, "link": "https://stackoverflow.com/questions/40362825/perl-cgi-how-to-fix-split-function-with-reading-displaying-data-on-a-table/40363193#40363193", "title": "PERL CGI: How to fix split function with reading/displaying data on a table?", "body": "<p>Something like this will work.</p>\n\n<pre><code># Best practice: three-arg open() and lexical filehandle\nopen my $order_fh, '&lt;', 'inventory.txt' or die \"Error opening file, $!\";\n\nwhile(&lt;$order_fh&gt;) {\n  print \"&lt;TR&gt;\\n\";\n  print '&lt;TD&gt;' . join('&lt;/TD&gt;&lt;TD&gt;', split /\\|/) . \"&lt;/TD&gt;\\n\";\n  print \"&lt;/TR&gt;\\n\";\n}\n\nclose $order_fh;\n</code></pre>\n\n<p>This code looks <a href=\"https://stackoverflow.com/questions/40347629/how-do-i-read-a-text-file-by-putting-its-data-in-a-table-using-cgi-in-perl/40356954#40356954\">rather familiar</a>. Please consider the advice I gave there about using a templating system.</p>\n\n<p>Some other comments on your code:</p>\n\n<ul>\n<li><code>use warnings</code> replaces <code>-w</code>. You don't need both.</li>\n<li>Use <code>header()</code> (from CGI.pm) to print the header.</li>\n<li><code>my $price = sprintf(\"\\$%.2f\")</code> - this looks wrong!</li>\n<li>You really need to add some file locking.</li>\n<li>Your HTML looks like it's from 1995. We tend to close elements these days.</li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 7100224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68d5d7cd60317366839022eb600824a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jada Pinks", "link": "https://stackoverflow.com/users/7100224/jada-pinks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 40363193, "answer_count": 2, "score": 0, "last_activity_date": 1478014411, "creation_date": 1478012771, "question_id": 40362825, "link": "https://stackoverflow.com/questions/40362825/perl-cgi-how-to-fix-split-function-with-reading-displaying-data-on-a-table", "title": "PERL CGI: How to fix split function with reading/displaying data on a table?", "body": "<p>The items in the text file are separated with a pipe symbol \"|\". The CGI file below will display the items in a table under their designated labels. Please see this <a href=\"https://i.stack.imgur.com/d6UZH.png\" rel=\"nofollow noreferrer\">Table Output</a>, that's what I have. How do I fix so the items are in their designated columns and not just in one? There's no MySQL or SQL to hold the data, just a text file</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse CGI qw(:standard);\nuse CGI::Carp qw(fatalsToBrowser);\nuse strict;\nuse warnings;\nprint \"Content-type: text/html\\n\\n\";\n\n print \"&lt;TABLE BORDER&gt;\\n\";\n print \"&lt;TR&gt;&lt;TH&gt;SKU Code&lt;TH&gt;Name&lt;TH&gt;Description&lt;TH&gt;Price\"; \n\nopen ( ORDERS, \"inventory.txt\" ) or die \"Error opening file, $!\";\n while(&lt;ORDERS&gt;) {\n    print \"&lt;TR&gt;\\n\";\n    print \"&lt;TD&gt;\";\nmy @fields=split(/\\&lt;\\*\\&gt;/);\n    print join(`&lt;TD&gt;`,@fields); \n    print \"&lt;/TR&gt;\";\n }\nclose ORDERS;\n print \"&lt;/TABLE&gt;\";\n</code></pre>\n\n<p>Here is the CGI File that was used to store the items to the text file</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse CGI qw(:standard);\nuse CGI::Carp qw(fatalsToBrowser);\nprint \"Content-type: text/html\\n\\n\";\nmy $sku = param('sku_code');\nmy $cust = param('customer');\nmy $description = param('description');\nmy $selling = param('price');\nmy $price = sprintf(\"\\$%.2f\");\n\nprint &lt;&lt;HERE;\n&lt;HTML&gt;\n&lt;BODY&gt;\n&lt;H3&gt;Here is your order...please check&lt;/H3&gt;\nSKU: $sku&lt;br&gt;\nName: $cust&lt;br&gt;\nDescription: $description&lt;br&gt;\nSelling Price: $price&lt;br&gt;\nHERE\nopen (ORDERS, \"&gt;&gt;inventory.txt\") or die \"File error, $!\";\n\nprint ORDERS \"$sku|$cust|$description|$price\\n\";\nclose ORDERS;\n</code></pre>\n"}, {"tags": ["html", "perl", "cgi.pm"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1477972272, "post_id": 40353837, "comment_id": 67961805, "body": "Do you expect <code>param(&quot;New User&quot;)</code> to ever be true?"}, {"owner": {"reputation": 67, "user_id": 7097824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10209563537759731/picture?type=large", "display_name": "Utkarsh Atri", "link": "https://stackoverflow.com/users/7097824/utkarsh-atri"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1477973210, "post_id": 40353837, "comment_id": 67962005, "body": "As in ? How do you suggest I can fix the code? @xxfelixxx"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477973717, "post_id": 40353837, "comment_id": 67962115, "body": "Please provide a minimal <i>runnable</i> demonstration of the problem."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1477973855, "post_id": 40353837, "comment_id": 67962136, "body": "Also, start by adding <code>use strict; use warnings qw( all );</code>. You should be using this in every program. You have numerous scoping errors to fix, and who knows what else."}, {"owner": {"reputation": 67, "user_id": 7097824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10209563537759731/picture?type=large", "display_name": "Utkarsh Atri", "link": "https://stackoverflow.com/users/7097824/utkarsh-atri"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477974118, "post_id": 40353837, "comment_id": 67962184, "body": "Hi, I have edited the program. See if you can help ? @ikegami"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1477974262, "post_id": 40353837, "comment_id": 67962219, "body": "As in, are you actually passing a <code>&amp;New%20User=foo</code> param in your request?  Try renaming it to <code>new_user</code>"}, {"owner": {"reputation": 67, "user_id": 7097824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10209563537759731/picture?type=large", "display_name": "Utkarsh Atri", "link": "https://stackoverflow.com/users/7097824/utkarsh-atri"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477975184, "post_id": 40353837, "comment_id": 67962390, "body": "@ikegami I had forgotten to add #!/usr/bin/perl . Please try again as it works on my machine"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1477975224, "post_id": 40353837, "comment_id": 67962394, "body": "No, you forgot to include <code>main()</code> and <code>first()</code>. I&#39;ve already fixed it. In the future, please post code you actually ran. Writing an answer."}, {"owner": {"reputation": 67, "user_id": 7097824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10209563537759731/picture?type=large", "display_name": "Utkarsh Atri", "link": "https://stackoverflow.com/users/7097824/utkarsh-atri"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477975349, "post_id": 40353837, "comment_id": 67962425, "body": "Sure. Thanks a lot ! @ikegami"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1478000730, "post_id": 40353837, "comment_id": 67971976, "body": "Some strange practices in you code. <code>-w</code> on the shebang line was replaced by <code>use warnings</code> many years ago. You should add <code>use strict</code> too. And you create a <code>$cgi</code> variable that you never use - you can delete that line."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 7097824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10209563537759731/picture?type=large", "display_name": "Utkarsh Atri", "link": "https://stackoverflow.com/users/7097824/utkarsh-atri"}, "edited": false, "score": 0, "creation_date": 1477975920, "post_id": 40354196, "comment_id": 67962519, "body": "Worked!   Thanks a lot @ikegami"}, {"owner": {"reputation": 67, "user_id": 7097824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10209563537759731/picture?type=large", "display_name": "Utkarsh Atri", "link": "https://stackoverflow.com/users/7097824/utkarsh-atri"}, "edited": false, "score": 0, "creation_date": 1477982392, "post_id": 40354196, "comment_id": 67963980, "body": "hey, I am getting confused in subroutines with arguments. How do I fix that ? @ikegami"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 67, "user_id": 7097824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10209563537759731/picture?type=large", "display_name": "Utkarsh Atri", "link": "https://stackoverflow.com/users/7097824/utkarsh-atri"}, "edited": false, "score": 1, "creation_date": 1477991938, "post_id": 40354196, "comment_id": 67967536, "body": "@UtkarshAtri: &quot;I am getting confused in subroutines with arguments. How do I fix that ?&quot; It impossible for us to answer that question without reading your mind. Perhaps you could write a new question explaining your confusion."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1477976610, "last_edit_date": 1477976610, "creation_date": 1477974954, "answer_id": 40354196, "question_id": 40353837, "link": "https://stackoverflow.com/questions/40353837/using-perl-cgi-pm-through-multiple-subroutines/40354196#40354196", "title": "Using perl CGI.pm through multiple subroutines", "body": "<p>Your program has the following structure:</p>\n\n<pre><code>sub new_user {\n   if (param(\"Save\")){\n      save();\n   } else {\n      show_input_form();\n   }\n}\n\nif (param(\"New User\")){\n   new_user();\n} else {\n   show_menu();\n}\n</code></pre>\n\n<p>The problem is that the input form doesn't set <code>pararm('New User')</code>, so you don't end up in <code>new_user</code> when you click <code>Save</code>.</p>\n\n<hr>\n\n<p>Solution 1:</p>\n\n<p>Add a hidden input to the input form with name <code>New User</code> and value <code>1</code>.</p>\n\n<hr>\n\n<p>Solution 2:</p>\n\n<p>Change</p>\n\n<pre><code>if (param(\"New User\"))\n</code></pre>\n\n<p>to</p>\n\n<pre><code>if (param(\"New User\") || param('Save'))\n</code></pre>\n\n<hr>\n\n<p>Solution 3:</p>\n\n<p>Change the structure of the program to</p>\n\n<pre><code>if (param(\"New User\")){\n   show_input_form();\n}\nelsif (param(\"Save\")){\n   save();\n}\nelse {\n   show_menu();\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 7097824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10209563537759731/picture?type=large", "display_name": "Utkarsh Atri", "link": "https://stackoverflow.com/users/7097824/utkarsh-atri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 40354196, "answer_count": 1, "score": 0, "last_activity_date": 1477976610, "creation_date": 1477971744, "last_edit_date": 1477975113, "question_id": 40353837, "link": "https://stackoverflow.com/questions/40353837/using-perl-cgi-pm-through-multiple-subroutines", "title": "Using perl CGI.pm through multiple subroutines", "body": "<p>So I am working on a school project where I have been asked to write perl cgi script to create a social net site. </p>\n\n<p>I have created multiple subroutines for different pages, but my problem is that when I try to execute each subroutine individually, it works fine, but when i try to run it though some other subroutine, it just redirects me to my first page. </p>\n\n<p>For eg : This is my New User page code : </p>\n\n<pre><code>    #!/usr/bin/perl -w\n    use CGI qw/:all/;\n    use CGI::Carp qw/fatalsToBrowser warningsToBrowser/;\n    my $cgi = new CGI;\n\n    sub main() {\n            print page_header();\n\n            warningsToBrowser(1);\n\n            first();\n\n            page_trailer();\n        }\n\n\n    sub page_header {\n            return header(-charset =&gt; \"utf-8\"),\n                start_html(-title =&gt; 'Matelook',-style =&gt; \"matelook.css\"),\n                body({-background =&gt;\"background.jpg\"}),\n                div({-class =&gt; \"matelook_heading\"}, \"matelook\");\n        }\n\n    sub page_trailer {\n            my $html = \"\";\n            $html .= join(\"\", map(\"&lt;!-- $_=\".param($_).\" --&gt;\\n\", param())) if $debug;\n            $html .= end_html;\n            return $html;\n        }\n\n    sub new_user {\n                  $fullname = param(\"fullname\") || '';\n                    $newun = param(\"newun\") || '';\n                    $newpass = param(\"newpass\") || '';\n                    $email = param(\"email\") || '';\n                    $program = param(\"program\") || '';\n\n                if(param(\"Save\")){\n                    $data = \"full_name=$fullname \\n \n                         username=$newun \\n\n                         password=$newpass \\n\n                         email=$email \\n\n                         program=$program \\n\";\n\n\n                        $location = \"dataset-medium/$newun\";\n                        mkdir $location, 0755;  \n                        open($f,'&gt;',\"$location/user.txt\");\n                        print $f $data;\n                        print $data,\"\\n\";\n                        print \"Data Saved !! \";\n\n                }\n\n                else{\n                     print start_form,\"\\n\";\n                        print \"Enter Full Name :\\n\", textfield(\"fullname\");\n                        print \"New Username :\\n\", textfield('newun'),\"\\n\";\n                        print \"New Password :\\n\", textfield('newpass'),\"\\n\";\n                        print \"Email:\\n\",textfield('email'),\"\\n\";\n                        print \"Program:\\n\",textfield('program'),\"\\n\";\n                        print submit({-name =&gt;\"Save\",-class =&gt; \"matelook_button\"});\n                        print end_form,\"\\n\";       \n                }\n            }\n\n    sub first{\n            if(param(\"New User\")){\n                new_user();\n            }\n            else{\n                print start_form,\"\\n\";\n                   print submit({-class =&gt; \"matelook_button_first \",-name =&gt; 'New User'}),\"\\n\";\n                print end_form,\"\\n\";\n            }\n        }\n    main();\n</code></pre>\n\n<p>if I try to call the same subroutine with a subroutine \"first\" and click the \"Save\" button, it redirects me to the \"First\" page through which I called the new_user.</p>\n\n<p>Any help will be appreciated.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["perl", "hash", "textbox", "tk"], "comments": [{"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1477957282, "post_id": 40351448, "comment_id": 67958751, "body": "I think it is a variable width font that destroys the spacing. Try remove all font selections"}, {"owner": {"reputation": 936, "user_id": 2066126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/224ed6420ee88dea389bb21ca1cfa0aa?s=128&d=identicon&r=PG", "display_name": "TheAmigo", "link": "https://stackoverflow.com/users/2066126/theamigo"}, "edited": false, "score": 0, "creation_date": 1478024725, "post_id": 40351448, "comment_id": 67985835, "body": "Tk is badly broken.  Assuming you find a way to fix this font problem, you&#39;ll soon find many other frustrations with tk (layout bugs, file handle limit, lack of widgets, scroll wheel not working, etc).  If you&#39;re not in too deep, I suggest using Gtk (my favorite) or Qt."}, {"owner": {"reputation": 21, "user_id": 7097232, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eLYl40oc9wg/AAAAAAAAAAI/AAAAAAAAAAA/Ex5i13Uq3YE/photo.jpg?sz=128", "display_name": "Chandrakanth Reddy", "link": "https://stackoverflow.com/users/7097232/chandrakanth-reddy"}, "edited": false, "score": 0, "creation_date": 1478034542, "post_id": 40351448, "comment_id": 67990818, "body": "You guys are correct. Removing the font configuration and using the default settings has fixed the spacing. That&#39;s very weird. I wonder how to get around this. I will definitely check out Gtk. It looks good. But I will see if I can find a decent solution. My widget is complete and this is the only thing bothering me now."}, {"owner": {"reputation": 5004, "user_id": 1930666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BiEzi.jpg?s=128&g=1", "display_name": "Brad Lanam", "link": "https://stackoverflow.com/users/1930666/brad-lanam"}, "edited": false, "score": 0, "creation_date": 1478131508, "post_id": 40351448, "comment_id": 68035182, "body": "Tk doesn&#39;t have any layout bugs.  The scroll wheel is very easy to bind to the scrolling areas.  Why anyone would use any graphics package that doesn&#39;t have Tk&#39;s grid and pack manager&#39;s is beyond my comprehension."}], "owner": {"reputation": 21, "user_id": 7097232, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eLYl40oc9wg/AAAAAAAAAAI/AAAAAAAAAAA/Ex5i13Uq3YE/photo.jpg?sz=128", "display_name": "Chandrakanth Reddy", "link": "https://stackoverflow.com/users/7097232/chandrakanth-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1478109061, "creation_date": 1477952566, "last_edit_date": 1478109061, "question_id": 40351448, "link": "https://stackoverflow.com/questions/40351448/linespacing-lost-in-textbox", "title": "Linespacing lost in Textbox", "body": "<p>I've been trying to write a perl script which is supposed to read a file, parse it, display a brief summary of the contents (printed in set beginning and ending with a certain pattern) and display it in a report area when the user selects the summary of a certain set. I read the file line by line looking for starting and ending characters, save it in a hash with some other meta data that I use to build the summary. Then I tried creating a Textbox / ROText / Pane. However, when I try to populate the full contents using the insert command, all the spacing between the numbers is lost. This doesn't happen when I print the same lines into a file or onto the screen, the spacing is preserved. Can someone please shed some light on why this happens in the GUI? Here is an example of the file I am trying to read:</p>\n\n<pre><code>Assume that the file to be read looks as follows:\n\nStarting report1\n----------------------------------------\nA B                   0.46    1.00  4.79\nC                             2.00  8.54\nDEF                   0.72          7.38\nGH                            6.97  8.88\nIJK                   7.46 8  6.98  4.32\nEnd of report1\n\n\nThe GUI displays it randomly like this:\n\nStarting report1\n----------------------------------------\nA B    0.46  1.00  4.79\nC      2.00  8.54\nDEF  0.72 7.38\nGH     6.97 8.88\nIJK   7.46 8  6.98  4.32\nEnd of report1\n</code></pre>\n\n<p>This is the code:</p>\n\n<pre><code>my $summary_list = $summary_box-&gt;Scrolled(\"Listbox\", -height =&gt; 5,-width =&gt; 120,-font =&gt; \"7x13bold\",-scrollbars =&gt; \"ose\", -exportselection =&gt; 1, -background =&gt; \"black\", -foreground =&gt; \"white\", -selectmode=&gt;'single', -relief =&gt; 'groove')-&gt;pack(-side =&gt; 'left', -fill =&gt; \"both\", -expand =&gt;1);\n$summary_list-&gt;bind('&lt;Button-1&gt;', [\\&amp;retrieveReport] );\n\n# Create the detailed text area, bind it to the summary list, configure the highlight text and disable editing\n#my $report_area = $display_frame -&gt; Frame()-&gt;pack(-side =&gt; 'top', -expand =&gt; 1, -fill =&gt;'both');\nmy $report_area = $display_frame -&gt; LabFrame(-label =&gt; 'Selected Path', -labelside =&gt; 'acrosstop')-&gt;pack(-side =&gt; 'top', -expand =&gt; 1, -fill =&gt;'both');\nmy $report_entry = $report_area-&gt;Scrolled(\"ROText\", -height =&gt; 30,-width =&gt; 120, -font =&gt; \"5x5\",-scrollbars =&gt; \"se\", -exportselection =&gt; 1, -wrap =&gt; \"none\")-&gt;pack(-fill =&gt; \"both\", -expand =&gt;1);\n$report_entry-&gt;tagConfigure( 'highlight', -background =&gt; 'lightgreen', -foreground =&gt; 'black', -font =&gt; \"Arial 15 bold\" );\n\nsub retrieveReport {\nmy @sel = $summary_list-&gt;curselection;  \n$report_entry-&gt;delete(\"0.0\",'end');\n$report_entry-&gt;insert('end',$display_paths{$sel[0]}{report});\n#print \"$display_paths{$sel[0]}{report}\\n\";\n\n#Debug\nmy @lines = split(\"\\n\",$display_paths{$sel[0]}{report});\nforeach (@lines) {\n    #$report_entry-&gt;insert('end',$_);\n    #$report_entry-&gt;insert('end',\"\\n\");\n    #print \"$_\\n\";\n}\n\n# Highlight text\nmy @includes = $include_list-&gt;get(0, 'end');\nforeach (@includes) {\n    $_ =~ s/([\\/\\]\\[])/\\\\$1/g;\n    while ($display_paths{$sel[0]}{report} =~ /$_/gi) {\n        $report_entry-&gt;tagAdd('highlight',\"1.0 + $-[0] chars\",\"1.0 + $+[0] chars\");\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["multithreading", "perl", "parallel-processing", "fork"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1477948792, "post_id": 40350656, "comment_id": 67955996, "body": "In short, in many ways.  In principle, you can just <code>fork</code> in the loop, for instance, so for every iteration you get a child process which executes the code in it. (But with &quot;<i>thousands</i>&quot; you&#39;d need more to do.) It also depends on what you need/want to do with output from children, etc.  But, what do you mean that <code>P::FM</code> &quot;<i>doesn&#39;t work well here</i>&quot; ?"}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1477948978, "post_id": 40350656, "comment_id": 67956090, "body": "Hi zdim, Parallel:ForkManager made the loop about 1000x slower.  When I normally run Parallel:ForkManager, I see linear increase on cpu.  I&#39;ll try &quot;fork&quot;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1477949059, "post_id": 40350656, "comment_id": 67956130, "body": "Hang on -- there is a good chance that something is in fact not right with how exactly you use <code>P::FM</code> there.  It shouldn&#39;t do that.  If you have so many to run, then you&#39;d need <i>precisely</i> a thing like <code>P::FM</code>, to restrict the number of forks at a time.  Perhaps show us a crux of how you use <code>P::FM</code>?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1477949354, "post_id": 40350656, "comment_id": 67956272, "body": "One thing I can think of is that you have the whole <code>P::FM</code> setup inside of loops ...?  That would be bad. In short, make the object <i>outside</i>, and have only the child code inside. You only want <i>one</i> object for the whole thing."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 5, "creation_date": 1477952939, "post_id": 40350656, "comment_id": 67957538, "body": "Re &quot;<i>I don&#39;t see how I can apply what has been done before in this case</i>&quot;, It&#39;s trivial to use threads to do the same thing as P::FM, but you said P::FM is no good for you, so this could very well be no good for you either. I&#39;m not going to waste time guessing what you want. Please specify what problems you are facing with P::FM. &quot;<i>This doesn&#39;t work well here</i>&quot; is far from an adequate problem description."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477953108, "post_id": 40350656, "comment_id": 67957582, "body": "I&#39;m voting to close this question as off-topic because &quot;It doesn&#39;t work well&quot; is not a sufficient description of the problem."}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 0, "creation_date": 1477953327, "post_id": 40350656, "comment_id": 67957650, "body": "ikegami - &quot;It doesn&#39;t work well&quot;  means P:FM makes the program run <i>slower</i> please think for a few seconds before you go saying things like&quot;I&#39;m not going to waste time guessing what you want&quot; I&#39;m trying to parallelize a foreach loop, just like the title says.  Please spend some time reading the description before saying rude things like that."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1477953945, "post_id": 40350656, "comment_id": 67957830, "body": "You didn&#39;t mention anything about speed, so don&#39;t go chastising me for not assuming that was the problem. Besides, that&#39;s still nigh-useless information. Show what makes it slower! Is it doing too little per process? Is it using too much memory? You have yet to show us the problem!!! It&#39;s you who needs to think for a second. Don&#39;t pretend that you are trying to parallelize the code cause you already achieved that. Figure out what problem you are trying to solve and give us some information that would help us help you solve that problem. Do so by fixing your question to contain this information"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 4, "creation_date": 1477958056, "post_id": 40350656, "comment_id": 67958948, "body": "having -&gt;start inside the loop and -&gt;finish outside it is going to make each forked process complete that loop, definitely not what you want."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1477958203, "post_id": 40350656, "comment_id": 67958988, "body": "though you need to think about where you want to parallelize; how long does each iteration of the inner loop take, vs each iteration of the outer loop?"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1477958482, "post_id": 40350656, "comment_id": 67959047, "body": "and what output is needed from the sub processes; how are @overlay and $standard_indices_met_in_compared set?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 3, "creation_date": 1477969941, "post_id": 40350656, "comment_id": 67961375, "body": "It would be useful to know what exactly you are trying to parallelize, because not all tasks go faster if the resources are actually interdependent.  There is always going to be overhead associated with running more processes or threads.  For CPU intensive tasks, it may be best to match the number of CPU cores with the number of work processes.  If you are trying to have 1000 processes update the same table in a database, you may be hitting contention issues.  If you are trying to read 1000 files in memory, you may be hitting IO issues.  Etc.  There is no magic bullet that fixes all problems."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "edited": false, "score": 1, "creation_date": 1477986074, "post_id": 40350656, "comment_id": 67965162, "body": "I cleaned up the post a bit in terms of formatting. There was a stray <code>}</code> in the first code snippet."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1477993784, "post_id": 40350656, "comment_id": 67968494, "body": "My best guess would be putting <code>$manager -&gt; finish;</code> inside the loop, instead of outside would help."}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1477991451, "post_id": 40356517, "comment_id": 67967307, "body": "IO is the classic thing that doesn&#39;t parallelise well. A disk spins only so fast, and by adding contention from concurrent, out of order reading, you decrease the throughput."}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 0, "creation_date": 1478008406, "post_id": 40356517, "comment_id": 67976024, "body": "Hi Zaid, thanks for your thoughtful response.  I have tried 2, 4, and 8 cpu in P::FM but everything runs much slower than just serial.  the subroutine works in a foreach statement, I&#39;m iterating through a hash-array.  Sobrique- the subroutine uses no I/O, just a hash-array.  All variables must be shared.  Maybe threads is the right way to go, I&#39;ll look into it."}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 0, "creation_date": 1478010460, "post_id": 40356517, "comment_id": 67977173, "body": "Zaid, all processes read from the same array, and write to the same variable.  Perhaps this process is not easily parallelized, you may be correct."}, {"owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "edited": false, "score": 0, "creation_date": 1478011995, "post_id": 40356517, "comment_id": 67978121, "body": "the key point is the last in Zaid&#39;s answer: &quot;something about the loop you are trying to parallelize that is forcing sequential execution (e.g. writing to the same file, DB table, updating a semaphored, shared variable...)&quot;"}], "tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": true, "score": 4, "last_activity_date": 1586799083, "last_edit_date": 1586799083, "creation_date": 1477989327, "answer_id": 40356517, "question_id": 40350656, "link": "https://stackoverflow.com/questions/40350656/parallelforkmanager-makes-subroutine-1000x-slower/40356517#40356517", "title": "Parallel::ForkManager makes subroutine 1000x slower", "body": "<p>Are you really trying to parallelize with a maximum of two processes only? If so, this may be the source of the perceived slowness.</p>\n\n<p>There will always be an overhead associated with parallelization. You cannot guarantee a 10x speed-up if you parallelize over 10 processes.</p>\n\n<p>I suggest you open up the maximum number of processes to something more reasonable and try again. If this does not help, it may be due to:</p>\n\n<ul>\n<li>hardware limitations</li>\n<li>something about the loop you are trying to parallelize that is forcing sequential execution (e.g. writing to the same file, DB table, updating a semaphored or shared variable...)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1550532764, "last_edit_date": 1550532764, "creation_date": 1478062545, "answer_id": 40372744, "question_id": 40350656, "link": "https://stackoverflow.com/questions/40350656/parallelforkmanager-makes-subroutine-1000x-slower/40372744#40372744", "title": "Parallel::ForkManager makes subroutine 1000x slower", "body": "<p>Once we got to see the <a href=\"http://search.cpan.org/~dlux/Parallel-ForkManager-0.7.5/ForkManager.pm\" rel=\"nofollow noreferrer\">Parallel::ForkManager</a> part, I'd like to address a direct error in what is shown, already noted in a comment by <a href=\"https://stackoverflow.com/users/17389/ysth\">ysth</a>.</p>\n\n<p>With loops only indicated for clarity, and with a bit more meaningful limit, you have</p>\n\n<pre><code>use Parallel::ForkManager;\nmy $manager = Parallel::ForkManager-&gt;new(8);\n\nforeach my $s ( ... )\n{    \n    foreach my $c ( ... ) \n    {\n        $manager-&gt;start and next;    # \n        # code                       # WRONG\n    }                                # Module: Can't fork inside child\n    $manager-&gt;finish;                #\n}\n$manager-&gt;wait_all_children;\n</code></pre>\n\n<p>Let's see what this attempts to do.  </p>\n\n<p>A child is forked inside of the inner loop. But it exits <em>outside of it</em>, meaning that it runs the whole loop. So each child would also execute the line that creates new children, along with the parent. That would be a real mess, with a cascade of children and with a wrong partition of work between them. </p>\n\n<p>But the module just doesn't allow this, throwing an error. Is your real code different than shown?</p>\n\n<p>Now consider</p>\n\n<pre><code>foreach my $s ( ... ) \n{    \n    $manager-&gt;start and next;     # child forked\n\n    foreach my $c ( ... ) \n    {                             # Whole inner loop\n        # code                    # run by one child\n    }                             # for one value of $s\n\n    $manager-&gt;finish;             # child exits\n}    \n</code></pre>\n\n<p>A fork happens outside of the inner loop and the child proceeds to run the whole loop, with the current value of <code>$s</code>.  The parent skips to the next iteration of the outer loop and forks another child, which runs the inner loop for that, next, value of <code>$s</code>. Each child runs the whole inner loop for subsequent values of <code>$s</code>. So the iterations of the outer loop are executed in parallel.  </p>\n\n<p>This is what you want.  So change your code to do this and see how it goes.</p>\n\n<p>To repeat what has been said, not all code benefits equally from being run in parallel. Some code cannot at all run correctly in parallel, and some may suffer a noticable performance drop.</p>\n"}], "owner": {"reputation": 4229, "user_id": 3973175, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9c15391d610e59c350912be638b14074?s=128&d=identicon&r=PG", "display_name": "con", "link": "https://stackoverflow.com/users/3973175/con"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 706, "favorite_count": 1, "accepted_answer_id": 40356517, "answer_count": 2, "score": 3, "last_activity_date": 1586799083, "creation_date": 1477948359, "last_edit_date": 1558334472, "question_id": 40350656, "link": "https://stackoverflow.com/questions/40350656/parallelforkmanager-makes-subroutine-1000x-slower", "title": "Parallel::ForkManager makes subroutine 1000x slower", "body": "<p>I have a subroutine, which I've serially optimized as much as <em>I</em> can, approximately like</p>\n\n<pre><code>sub overlap {\n\n    my $hash_reference = shift;   # pass the hash to the subroutine\n    my %h = %{ $hash_reference }; # refer to the hash as %h\n    my $standard = shift;         # this is the key that will be compared against\n    my $compared = shift;         # this is the key being compared\n    my $start_index = 0;          # this will continually be increased\n                                  # to save computation time\n\n    # I want to parallelize here\n\n    foreach my $s ( 0 .. scalar @{ $h{$standard}{end} }-1 ) {\n        foreach my $c ( $start_index .. scalar @{ $h{$compared}{end} }-1 ) {\n            ... # abbreviated for minimal working example\n        }\n    }\n\n    return ($standard_indices_met_in_compared, \\@overlay);\n}\n</code></pre>\n\n<p>This is a slow subroutine.  I run it thousands of times in about 12-14 minutes, but running this again and again wastes time.</p>\n\n<p>I regularly use <code>Parallel::ForkManager</code> for system processes, but this doesn't work well here.</p>\n\n<p>Implementation of <code>Parallel::ForkManager</code> looks like</p>\n\n<pre><code>use Parallel::ForkManager qw();\nmy $manager = new Parallel::ForkManager(2);\nforeach my $s ( 0 .. scalar @{ $h{$standard}{end} }-1 ) {\n\n    foreach my $c ( $start_index .. scalar @{ $h{$compared}{end} }-1 ) {\n        $manager-&gt;start and next;\n        ... # abbreviated for minimal working example\n    }\n\n    $manager-&gt;finish;\n}\n\n$manager-&gt;wait_all_children;      # necessary after all lists\n</code></pre>\n\n<p>I've looked at threads and such, but do not see how to apply here.</p>\n\n<p>I have looked at <a href=\"https://stackoverflow.com/questions/8119244/perl-multithreading-and-foreach\">Perl multithreading and foreach</a> and the Perl documentation for threads, and numerous other sources, but I don't see how I can apply what has been done before in this case.  Everything I see looks like it is for system commands only.</p>\n\n<p>I want to write to a shared array and scalar, with no system commands. In case I'm missing something, please tell me.</p>\n\n<p>How can I parallelize this <code>foreach</code> loop inside a subroutine?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "reply_to_user": {"reputation": 3466, "user_id": 826614, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/935a0a598738883b4af59a73335a7aa0?s=128&d=identicon&r=PG", "display_name": "gaussblurinc", "link": "https://stackoverflow.com/users/826614/gaussblurinc"}, "edited": false, "score": 0, "creation_date": 1477946691, "post_id": 40349857, "comment_id": 67955101, "body": "So, on the first iterate, it will look like this: <code>%table = ( &#39;USA&#39; =&gt; [ &#39;Chicago&#39; ] )</code>; <code>$city</code> is &#39;Chicago&#39; which be pushed into a reference <code>$table{$country}</code> and where <code>@{ $table{$country} }</code>  is the array reference; correct me if I am wrong the autovivification is the magic that puts in the <code>%table</code>?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477946772, "post_id": 40349857, "comment_id": 67955146, "body": "@BioRod, After the first iteration, it will indeed look like <code>%table = ( &#39;USA&#39; =&gt; [ &#39;Chicago&#39; ] );</code>. Added this to my answer. /// <code>$table{$country}</code> is the array reference. <code>@{ $table{$country} }</code> is the array. /// Autovivification is what creates the reference and the array and puts the reference in <code>$table{$country}</code>."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1477946887, "post_id": 40349934, "comment_id": 67955200, "body": "In Perl declaring a lexical variable using <code>my</code> initializes it too. Scalars are initialized to undef, and hashes and arrays are initialized to empty."}, {"owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "edited": false, "score": 2, "creation_date": 1477999473, "post_id": 40349934, "comment_id": 67971364, "body": "The link to auto-vivification helped alot."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 8, "last_activity_date": 1477951976, "last_edit_date": 1477951976, "creation_date": 1477945038, "answer_id": 40349934, "question_id": 40349857, "link": "https://stackoverflow.com/questions/40349857/understanding-references-in-perl/40349934#40349934", "title": "Understanding references in Perl", "body": "<p>You are <a href=\"https://en.wikipedia.org/wiki/Declaration_(computer_programming)\" rel=\"nofollow\"><em>declaring</em></a> the hash <code>%table</code>. The <em>declaration</em> is when you tell Perl that there is a lexically scoped variable. <em>Initialization</em> is when you assign a value to a variable the first time. You did not <a href=\"https://en.wikipedia.org/wiki/Initialization_(programming)\" rel=\"nofollow\"><em>initialize</em></a> it, so Perl puts a default value. Because it's a hash, it starts out with an empty list <code>()</code>, which amounts to <em>false</em>.</p>\n\n<p>You do have a dereference operator in this line.</p>\n\n<pre><code>push @{$table{$country}}, $city;\n</code></pre>\n\n<p>It says take the value <code>$table{$country}</code> as an array reference, dereference it, and then push <code>$city</code> into that array. There is a feature called <a href=\"http://perlmaven.com/autovivification\" rel=\"nofollow\">auto-vivification</a> that automatically creates the necessary array ref before the value is pushed.</p>\n\n<p>So after the first round over the input, you now have this data structure:</p>\n\n<pre><code>%table = ( 'USA' =&gt; [ 'Chicago' ] )\n</code></pre>\n\n<p><code>%table</code> is a hash, but the key <code>USA</code> inside that hash holds an array reference.</p>\n\n<p>To create multi-level data structures in Perl, you need reference. But the first level does not need to be a reference. It can be a hash or an array.</p>\n"}, {"comments": [{"owner": {"reputation": 3466, "user_id": 826614, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/935a0a598738883b4af59a73335a7aa0?s=128&d=identicon&r=PG", "display_name": "gaussblurinc", "link": "https://stackoverflow.com/users/826614/gaussblurinc"}, "edited": false, "score": 0, "creation_date": 1477945248, "post_id": 40349942, "comment_id": 67954418, "body": "<code>push @{ $table{$country} &#47;&#47;= [] }, $city</code> <code>timtowtdi</code> or better <code>tamswtdi</code> <code>There are many shorter ways to do it.</code>"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 8, "last_activity_date": 1477946654, "last_edit_date": 1477946654, "creation_date": 1477945064, "answer_id": 40349942, "question_id": 40349857, "link": "https://stackoverflow.com/questions/40349857/understanding-references-in-perl/40349942#40349942", "title": "Understanding references in Perl", "body": "<p><code>%table</code> is a hash,<br>\n<code>$table{$country}</code> is a reference to an array, and<br>\n<code>@{ $table{$country} }</code> is the referenced array. </p>\n\n<p>This data structure is a \"hash of references to arrays\", though it is called \"hash of array\" for short, and it's abbreviated \"HoA\".</p>\n\n<hr>\n\n<p>But where do the reference and the array come from? They are autovivified, meaning that Perl created them for you when you treated <code>$table{$country}</code> as a reference to an array.</p>\n\n<p>In other words,</p>\n\n<pre><code>push @{ $table{$country} }, $city\n</code></pre>\n\n<p>is short for</p>\n\n<pre><code>push @{ $table{$country} //= [] }, $city\n</code></pre>\n\n<p>So, after the first <code>push</code>, you'll go from having an empty hash to having</p>\n\n<pre><code>%table = ( 'USA' =&gt; [ 'Chicago' ] );\n</code></pre>\n\n<hr>\n\n<p>Docs:</p>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"noreferrer\">perlreftut</a></li>\n<li><a href=\"http://perldoc.perl.org/perllol.html\" rel=\"noreferrer\">perllol</a></li>\n</ul>\n"}], "owner": {"reputation": 497, "user_id": 5429268, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/1d8fb81137e25eb9629f65eb1b3f2a14?s=128&d=identicon&r=PG&f=1", "display_name": "BioRod", "link": "https://stackoverflow.com/users/5429268/biorod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 1, "accepted_answer_id": 40349934, "answer_count": 2, "score": 4, "last_activity_date": 1477951976, "creation_date": 1477944706, "question_id": 40349857, "link": "https://stackoverflow.com/questions/40349857/understanding-references-in-perl", "title": "Understanding references in Perl", "body": "<p>I'm trying to understand the tutorial on references in Perl</p>\n\n<pre><code>perldoc perlreftut\n</code></pre>\n\n<p>So far with the code below, I'm initializing an empty hash with</p>\n\n<pre><code>my %table\n</code></pre>\n\n<p>Here is the whole program</p>\n\n<pre><code>#!/usr/bin/perl -w \nuse strict;\n\nmy %table;\n\nwhile (&lt;DATA&gt;) {\nchomp;\nmy ($city, $country) = split /, /;\n#$table{$country} = [] unless exists $table{$country};\npush @{$table{$country}}, $city;\n\nprint @{$table{$country}};\n}\n\n\n\n__DATA__\nChicago, USA\nFrankfurt, Germany\nBerlin, Germany\nWashington, USA\nHelsinki, Finland\nNew York, USA\n</code></pre>\n\n<p>Can somebody explain to me the line below because I'm confused since I see a reference (I think) here but it was initialized as a hash with %table.</p>\n\n<pre><code>push @{$table{$country}}, $city;\n</code></pre>\n"}, {"tags": ["perl", "dependencies", "export", "daemon"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477943471, "post_id": 40349189, "comment_id": 67953499, "body": "Change <code>cmd</code> to <code>bash -c cmd</code> (assuming those env vars are set by the <code>.bash_profile</code>)."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1477944226, "post_id": 40349189, "comment_id": 67953877, "body": "That&#39;s a very restricted PATH; no access to <code>&#47;bin</code> or <code>&#47;usr&#47;bin</code> is a little unusual.  Are you sure that&#39;s what you intended.  Also, the <code>export HOME = &#47;home&#47;tim</code> line is not good; there shouldn&#39;t be spaces around the <code>=</code> sign."}, {"owner": {"reputation": 59, "user_id": 6872898, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3bf423536f307d2bee55b45b0c088cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6872898/thomas"}, "edited": false, "score": 0, "creation_date": 1477947282, "post_id": 40349189, "comment_id": 67955351, "body": "yes you re right, there&#39;s no space. I ve just added them by mistake when I wrote &quot;manually&quot; the line and yes the path is leading to some /bin folder"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1485599802, "post_id": 40349189, "comment_id": 70999118, "body": "Why are you deleting the post? It is a good question (seen and available in revisions, under the link at &quot;<i>edited [time]</i>&quot;), which may be useful to other people, as good votes confirm. I suggest that you restore it and leave it be."}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1478021018, "post_id": 40349318, "comment_id": 67983685, "body": "@Alex I edited the answer by splitting worded explanation into code sample"}, {"owner": {"reputation": 59, "user_id": 6872898, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3bf423536f307d2bee55b45b0c088cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6872898/thomas"}, "edited": false, "score": 0, "creation_date": 1478024193, "post_id": 40349318, "comment_id": 67985531, "body": "Thank you, it helped ! But one last thing, I installed a package bundle on my system which allows me to run a command like this:  &quot;bundle /my/path [some options]&quot;  So I&#39;ve told my daemon to use this &quot;bundle&quot; command, however it tells me that it cannot find the command &quot;bundle&quot;.. Do you have an idea what could go wrong?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 59, "user_id": 6872898, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3bf423536f307d2bee55b45b0c088cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6872898/thomas"}, "edited": false, "score": 0, "creation_date": 1478025305, "post_id": 40349318, "comment_id": 67986137, "body": "@Alex  When you run from the shell, the <code>bundle</code> is found in some standard path defined in your shell configuration. From the script, you can run <code>bundle</code> so that it involves the shell -- then you can make use the <code>PATH</code>, but if shell is bypassed it won&#39;t. In a script I like to specify full paths to programs to run, so <code>&#47;path&#47;to&#47;bundle&#47;bundle ...</code>."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1573025261, "last_edit_date": 1573025261, "creation_date": 1477942546, "answer_id": 40349318, "question_id": 40349189, "link": "https://stackoverflow.com/questions/40349189/environment-variables-with-daemon/40349318#40349318", "title": "Environment variables with daemon", "body": "<p>The <a href=\"https://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\"><code>%ENV</code></a> allows access to and manipulation of environment variables. See <a href=\"http://perldoc.perl.org/perlrun.html#ENVIRONMENT\" rel=\"nofollow noreferrer\">Environment in perlrun</a>. (There is also a core module <a href=\"http://perldoc.perl.org/Env.html\" rel=\"nofollow noreferrer\">Env</a> for convenience.) With it we can say <code>print $ENV{HOME}</code>, or add environment variables by setting new hash keys, or change (write new) values for its existing ones. This environment is inherited by processes started by the program.</p>\n\n<p>So with the parent</p>\n\n<pre><code>use warnings 'all';\nuse strict;\n\n$ENV{VAR}      = '...';  # HOME, PATH, ... or a new variable\n$ENV{PERL5LIB} = '...';  # where some modules are installed\n\nsystem(\"script.pl\");\n</code></pre>\n\n<p>the program <code>script.pl</code> that is called</p>\n\n<pre><code>use warnings 'all';\nuse strict;\nuse SomeModule qw(func);  # SomeModule is installed in path in PERL5LIB\n\nprint \"$ENV{VAR}\\n\";\nfunc();\n</code></pre>\n\n<p>can use <code>$ENV{VAR}</code> and can directly <code>use</code> modules installed in the path set up for <code>PERL5LIB</code>.</p>\n\n<p>This affects only processes that your program starts. It doesn't change the environment for its parent (which a daemon won't have anyway), and has no effect on things independent of your program.</p>\n\n<p>I'd like to add &ndash; make sure that you have a proper daemon running. See, for example, <a href=\"http://perldoc.perl.org/perlipc.html#Complete-Dissociation-of-Child-from-Parent\" rel=\"nofollow noreferrer\">Complete Dissociation of Child from Parent in perlipc</a>. You can also see <a href=\"http://perldoc.perl.org/perlipc.html#Handling-the-SIGHUP-Signal-in-Daemons\" rel=\"nofollow noreferrer\">in perlipc</a> \nhow to utilize <code>SIGHUP</code>. </p>\n"}], "owner": {"reputation": 59, "user_id": 6872898, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3bf423536f307d2bee55b45b0c088cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6872898/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1573025261, "creation_date": 1477941984, "last_edit_date": 1536631455, "question_id": 40349189, "link": "https://stackoverflow.com/questions/40349189/environment-variables-with-daemon", "title": "Environment variables with daemon", "body": "<p>I'm currently trying to set up properly a daemon to run a task on a remote machine. The thing is, I can launch the command manually properly, but when it's launched by the daemon, it won't work because the environment variables haven't been set up. </p>\n\n<p>Before using my command manually, I have to do this:</p>\n\n<pre><code>sudo -s \nexport HOME=/home/tim\ncd ~\nexport PERL5LIB=/usr/local/my/lib\nexport PATH=/my/path/to/tools/bin\n</code></pre>\n\n<p>And then I run my command. So I suspect it won't work if the daemon hasn't set up this. How can I do that with the daemon or get rid of the dependencies? </p>\n\n<p>Maybe with a temporary folder? Not sure.</p>\n"}, {"tags": ["apache", "perl", "url-routing"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 3, "creation_date": 1477942625, "post_id": 40348630, "comment_id": 67953105, "body": "Unless this is an exercise, rather than writing your own web server consider a small routing framework like <a href=\"http://perldancer.org/\" rel=\"nofollow noreferrer\">Dancer</a>. Also, what&#39;s with all the <code>\\</code>? Finally, I&#39;m not sure what you&#39;re asking. It seems like you&#39;re asking how to read a file?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477954611, "post_id": 40348630, "comment_id": 67958040, "body": "Tip: <code>print &quot;HTTP&#47;1.0 200 OK\\r\\n&quot;; print $cgi-&gt;header;</code> should be <code>print $cgi-&gt;header(&#39;text&#47;html&#39;, &#39;200 OK&#39;);</code> or, better yet, <code>print $cgi-&gt;header;</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477954786, "post_id": 40348630, "comment_id": 67958081, "body": "Tip: <code>print &quot;HTTP&#47;1.0 404 Not found\\r\\n&quot;; print $cgi-&gt;header;</code> should be <code>print $cgi-&gt;header(&#39;text&#47;html&#39;, &#39;404 Not found&#39;);</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477954806, "post_id": 40348630, "comment_id": 67958086, "body": "Tip: Each <code>return if !ref $cgi;</code> should be removed; they are useless."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477954942, "post_id": 40348630, "comment_id": 67958123, "body": "Tip: <code>my $who = $cgi-&gt;param(&#39;name&#39;);</code> should be removed; the variable is never used."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477954971, "post_id": 40348630, "comment_id": 67958130, "body": "Tip: <code>if (ref($handler) eq &quot;CODE&quot;)</code> can be simplified to <code>if ($handler)</code>."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1477991589, "post_id": 40348630, "comment_id": 67967368, "body": "This is very similar to a <a href=\"http://stackoverflow.com/questions/40276159/making-perl-read-from-index-html-file/40280644#40280644\">previous question</a>. Is this a class assignment?"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 5, "last_activity_date": 1477958298, "last_edit_date": 1477958298, "creation_date": 1477943368, "answer_id": 40349504, "question_id": 40348630, "link": "https://stackoverflow.com/questions/40348630/perl-web-server-how-to-route/40349504#40349504", "title": "Perl web server: How to route", "body": "<p>I think what you're asking is how do you serve a file from your web server? Open it and print it, like any other file.</p>\n\n<pre><code>use autodie;\n\nsub resp_index {\n    my $cgi  = shift;\n    return if !ref $cgi;\n\n    print $cgi-&gt;header;\n\n    open my $fh, \"&lt;\", \"/var/www/perl/index.html\";\n    print &lt;$fh&gt;;\n}\n</code></pre>\n\n<hr>\n\n<p>Unless this is an exercise, really, really, REALLY don't write your own web framework. It's going to be slow, buggy, and insecure. Consider a small routing framework like <a href=\"http://perldancer.org/\" rel=\"nofollow\">Dancer</a>.</p>\n\n<p>For example, mixing documents like <code>index.html</code> and executable code like <code>perlServer.pl</code> in the same directory invites a security hole. Executable code should be isolated in their own directory so they can be given wholly different permissions and stronger protection.</p>\n\n<hr>\n\n<p>Let's talk about this line...</p>\n\n<pre><code>return if !ref $cgi;\n</code></pre>\n\n<p>This line is hiding an error. If your functions are passed the wrong argument, or no argument, it will silently return and you (or the person using this) will have no idea why nothing happened. This should be an error...</p>\n\n<pre><code>use Carp;\ncroak \"resp_index() was not given a CGI object\" if !ref $cgi;\n</code></pre>\n\n<p>...but really you should use one of the existing function signature modules such as <a href=\"http://metacpan.org/pod/Method::Signatures\" rel=\"nofollow\">Method::Signatures</a>.</p>\n\n<pre><code>use Method::Signatures;\n\nfunc resp_index(CGI $cgi) {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 4817828, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/zgsCV.jpg?s=128&g=1", "display_name": "Pazuzu", "link": "https://stackoverflow.com/users/4817828/pazuzu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 40349504, "answer_count": 1, "score": 2, "last_activity_date": 1477958298, "creation_date": 1477939765, "last_edit_date": 1477954881, "question_id": 40348630, "link": "https://stackoverflow.com/questions/40348630/perl-web-server-how-to-route", "title": "Perl web server: How to route", "body": "<p>As seen in my code below, I am using apache to serve my Perl web server. I need Perl to have multple routes for my client as seen in <code>my %dispatch</code>. If I figure one out I'm sure the rest will be very similar. If we look at my Subroutine <code>sub resp_index</code>, how can I modify this to link to my <strong>index.html</strong> file located in my root: <code>/var/www/perl</code> directory?</p>\n\n<p><code>/var/www/perl/perlServer.pl</code>:</p>\n\n<pre><code>#!/usr/bin/perl\n\n{\n    package MyWebServer;\n\n    use HTTP::Server::Simple::CGI;\n\n    use base qw(HTTP::Server::Simple::CGI);\n\n    my %dispatch = (\n        '/index.html' =&gt; \\&amp;resp_index,\n        # ...\n    );\n\n    sub handle_request {\n        my $self = shift;\n        my $cgi  = shift;\n\n        my $path = $cgi-&gt;path_info();\n        my $handler = $dispatch{$path};\n        if (ref($handler) eq \"CODE\") {\n            print \"HTTP/1.0 200 OK\\r\\n\";\n            $handler-&gt;($cgi);\n        } else {\n            print \"HTTP/1.0 404 Not found\\r\\n\";\n            print $cgi-&gt;header,\n                $cgi-&gt;start_html('Not found'),\n                $cgi-&gt;h1('Not found'),\n                $cgi-&gt;end_html;\n        }\n    }\n\n    sub resp_index {\n        my $cgi  = shift;   # CGI.pm object\n        return if !ref $cgi;\n\n        my $who = $cgi-&gt;param('name');\n\n        print $cgi-&gt;header,\n            $cgi-&gt;start_html(\"index\"),\n            $cgi-h1(\"THIS IS INDEX\"),\n            $cgi-&gt;end_html;\n    }\n}\n\nmy $pid = MyWebServer-&gt;new()-&gt;background();\nprint \"Use 'kill $pid' to stop server.\\n\";\n</code></pre>\n"}, {"tags": ["perl", "class", "pointers"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1477937339, "post_id": 40347776, "comment_id": 67950386, "body": "I don&#39;t understand. You&#39;re already calling the user defined function here: <code>my $funcPtr = $func-&gt;();</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1477937388, "post_id": 40347776, "comment_id": 67950421, "body": "What do you mean, &quot;another device&quot;? Are you talking about two perl programs (client/server)? Or what code is running where?"}, {"owner": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1477937605, "post_id": 40347776, "comment_id": 67950537, "body": "This is information transmitted wirelessly, there&#39;s a framework that will send these messages to separate devices for reception"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1477937716, "post_id": 40347776, "comment_id": 67950600, "body": "So how can a device &quot;receive the message in another function&quot; if the program isn&#39;t running on that device?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1477938298, "post_id": 40347776, "comment_id": 67950912, "body": "fyi, &quot;code reference&quot; or &quot;cref&quot; for short is the more Perlish way to describe a function pointer."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1477938454, "post_id": 40347776, "comment_id": 67951003, "body": "2c: I&#39;ve never seen &quot;cref&quot;, only &quot;coderef&quot; (code reference&quot;) or &quot;subref&quot; (subroutine reference)."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1477938853, "post_id": 40347776, "comment_id": 67951262, "body": "2c: I use &quot;coderef&quot; in text, and often leading <code>rc</code> in code, like <code>$rc_name</code> or <code>$rcname</code>. It goes with <code>rh</code>  for hashref and <code>ra</code> (or just <code>r</code>) for arrayref (when these are needed)."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1477938960, "post_id": 40347776, "comment_id": 67951321, "body": "I don&#39;t know how I forgot &quot;coderef&quot; ;)"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477955416, "post_id": 40347776, "comment_id": 67958273, "body": "I&#39;ve never seen <code>cref</code> either. Maybe you mean <code>CV</code> (the internal name for the type)? If you&#39;re suggesting variable names, I&#39;ve seen <code>$cb</code> (callback) and <code>$cv</code>. <code>$code</code>, <code>$code_ref</code>, <code>$code_ptr</code>, <code>$func</code>, <code>$func_ref</code> and <code>$func_ptr</code> are perfectly fine too."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "edited": false, "score": 1, "creation_date": 1477941696, "post_id": 40347977, "comment_id": 67952671, "body": "This was helpful, as you earlier mentioned, it makes sense that it would be the return value and not the reference that gets assigned"}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 5, "last_activity_date": 1477937905, "last_edit_date": 1477937905, "creation_date": 1477937320, "answer_id": 40347977, "question_id": 40347776, "link": "https://stackoverflow.com/questions/40347776/pass-function-pointer-as-part-of-a-hash-perl/40347977#40347977", "title": "Pass function pointer as part of a hash, perl", "body": "<p>When you do this: <code>my $funcPtr = $func-&gt;();</code>, you're executing the subroutine and assigning the function's return value to <code>$funcPtr</code>, not the function's code reference itself, which I think is what you're after. You need to remove the <code>-&gt;()</code> from that assignment. Here's a brief example:</p>\n\n<pre><code>use warnings;\nuse strict;\n\nmy %store;\n\nsub user_func {\n    return 5;\n}\nsub set {\n    my $func = shift;\n    $store{func} = $func;\n}\n\nset(\\&amp;user_func);\n\nprint $store{func}-&gt;();\n</code></pre>\n\n<p>Here's an example that shows the difference:</p>\n\n<pre><code>sub func {\n    return 5;\n}\n\nmy $cref = \\&amp;func;\n\nmy $called = $cref-&gt;();\nmy $not_called = $cref;\n\nprint \"$called\\n\";\nprint \"$not_called\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>5\nCODE(0x801c82ed0)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1477937650, "post_id": 40348030, "comment_id": 67950564, "body": "<code>&amp;$f()</code> does exactly the same thing as <code>$f-&gt;()</code>. The <code>&amp;</code> syntax is just a bit more dangerous because it does something different if you forget the <code>()</code>."}], "tags": [], "owner": {"reputation": 173, "user_id": 6317042, "user_type": "registered", "profile_image": "https://graph.facebook.com/1057926774279190/picture?type=large", "display_name": "Marco Silva", "link": "https://stackoverflow.com/users/6317042/marco-silva"}, "is_accepted": false, "score": 0, "last_activity_date": 1477937552, "creation_date": 1477937552, "answer_id": 40348030, "question_id": 40347776, "link": "https://stackoverflow.com/questions/40347776/pass-function-pointer-as-part-of-a-hash-perl/40348030#40348030", "title": "Pass function pointer as part of a hash, perl", "body": "<p>Clearly the best possible help is to guide you to debug your own code. You can use the <strong>-d</strong> flag to turn on Perl debugger so you can stop the execution of code to ensure:</p>\n\n<ol>\n<li>You are really storing a sub reference</li>\n<li>You are really restoring it and calling it</li>\n</ol>\n\n<p>Saying that, I would turn on my quick solution:</p>\n\n<p>instead of</p>\n\n<pre><code>$funcPtr-&gt;($msg, $self-&gt;{_devices}{$id});\n</code></pre>\n\n<p><strong>try</strong></p>\n\n<pre><code>&amp;$funcPtr($msg, $self-&gt;{_devices}{$id});\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 4602660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8ZEN8.jpg?s=128&g=1", "display_name": "Plexus", "link": "https://stackoverflow.com/users/4602660/plexus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 40347977, "answer_count": 2, "score": 1, "last_activity_date": 1477937905, "creation_date": 1477936583, "last_edit_date": 1477937416, "question_id": 40347776, "link": "https://stackoverflow.com/questions/40347776/pass-function-pointer-as-part-of-a-hash-perl", "title": "Pass function pointer as part of a hash, perl", "body": "<p>The script runs such that THE USER defines some function:</p>\n\n<pre><code>sub userFunction\n{\n my ($msg, $id) = @ARG;\n # do things\n}\n</code></pre>\n\n<p>This function, $func is passed with a specific message name, $msg, into my class to be stored as a $msg/$userFunc pair in {_Handles}:</p>\n\n<pre><code>sub new\n{\n  my ($class, ...) = @_;\n  my $self = {};\n  $self-&gt;{_Handles} = {};\n  .\n  . \n  .\n}\n</code></pre>\n\n<p>Then I add a message handler:</p>\n\n<pre><code>$Class-&gt;AddMsgHandler($msgName1, \\&amp;userFunction);\nsub AddMsgHandler\n{ \n  my ($self, $msg, $func) = @ARG;\n  my $funcPtr = $func-&gt;();\n  $self-&gt;{_Handles}{'msg'} = $msg;\n  $self-&gt;{_Handles}{$msg}{'funcPtr'} = $funcPtr;\n}\n</code></pre>\n\n<p>The intention is to transfer my message wirelessly across a device; another device will receive this message. Assuming the device receives the message in another function, I'm trying to call the user defined function on specific $id as follows:</p>\n\n<pre><code>sub Receive\n{\n .\n .\n .\n my $funcPtr = $self-&gt;{_Handles}{$msg}{'funcPtr'};\n $funcPtr-&gt;($msg, $self-&gt;{_devices}{$id});\n} \n</code></pre>\n\n<p>somehow there's no response. Perhaps I have misused the function pointer?</p>\n"}, {"tags": ["perl", "html-table", "cgi", "read-data"], "comments": [{"owner": {"reputation": 161, "user_id": 2217903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us1b5.jpg?s=128&g=1", "display_name": "ardavey", "link": "https://stackoverflow.com/users/2217903/ardavey"}, "edited": false, "score": 0, "creation_date": 1477936582, "post_id": 40347629, "comment_id": 67950027, "body": "You have missed some quotes and/or string concatenation operators in the <code>print</code> line inside your loop.  I suggest running this from the command line or checking your server&#39;s error log to resolve these first.  Try this for starters:  <code>print &quot;&lt;td&gt;&lt;pre&gt;&quot;, CGI::escapeHTML($orders[$i]).&quot;&lt;br&gt;\\n&quot;, &quot;&lt;&#47;pre&gt;&lt;&#47;td&gt;\\n&quot;;</code>"}, {"owner": {"reputation": 11, "user_id": 7076587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61af9c8b954347d50b646f4e7a3df2ee?s=128&d=identicon&r=PG&f=1", "display_name": "r2d222", "link": "https://stackoverflow.com/users/7076587/r2d222"}, "reply_to_user": {"reputation": 161, "user_id": 2217903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us1b5.jpg?s=128&g=1", "display_name": "ardavey", "link": "https://stackoverflow.com/users/2217903/ardavey"}, "edited": false, "score": 0, "creation_date": 1477937815, "post_id": 40347629, "comment_id": 67950652, "body": "@ardavey. thank you for catching that. What I&#39;m trying to figure out is how to make it look more like a table with columns and rows"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1477997034, "last_edit_date": 1477997034, "creation_date": 1477991293, "answer_id": 40356954, "question_id": 40347629, "link": "https://stackoverflow.com/questions/40347629/how-do-i-read-a-text-file-by-putting-its-data-in-a-table-using-cgi-in-perl/40356954#40356954", "title": "How do I read a text file by putting its data in a table using CGI in Perl?", "body": "<p>Using your raw embedded HTML approach, it's not hard. But it <strong>is</strong> incredibly ugly.</p>\n\n<pre><code>print &lt;&lt;END_OF_HTML;\n&lt;html&gt;\n&lt;body&gt;\n&lt;table&gt;\n&lt;tr&gt;&lt;th&gt;Sku&lt;/th&gt;&lt;th&gt;Cust&lt;/th&gt;&lt;/tr&gt;\nEND_OF_HTML\n\nfor (@orders)  {\n  my ($sku, $cust) = split /\\|/;\n  print '&lt;tr&gt;&lt;td&gt;', CGI::escapeHTML($sku), '&lt;/td&gt;',\n            '&lt;td&gt;', CGI::escapeHTML($cust), '&lt;/td&gt;&lt;/tr&gt;';\n}\n\nprint &lt;&lt;END_OF_HTML;\n&lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\nEND_OF_HTML\n</code></pre>\n\n<p>But mixing raw HTML with your Perl code is a <strong>terrible idea</strong>. Please use a templating engine instead. I recommend the <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow noreferrer\">Template Toolkit</a>.</p>\n\n<p>Here's a simple CGI program using TT to do what you need.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Template;\nuse CGI qw[header];\n\nmy $tt = Template-&gt;new;\n\n# Best practice: three-arg open() and lexical filehandles\nopen my $ord_fh, '&lt;', 'merch.txt' or die $!;\nmy @orders = &lt;$ord_fh&gt;;\nclose $ord_fh;\n\nmy @order_data = map {\n  my ($sku, $cust) = split /\\|/;\n  { sku =&gt; $sku, cust =&gt; $cust }\n} @orders;\n\nprint header;\n$tt-&gt;process('orders.tt', { orders =&gt; \\@order_data })\n  or dir $tt-&gt;error;\n</code></pre>\n\n<p>And you'll need a template that looks something like this:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Orders&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Orders&lt;/h1&gt;\n    &lt;table&gt;\n      &lt;tr&gt;&lt;th&gt;Sku&lt;/th&gt;&lt;th&gt;Cust&lt;/th&gt;&lt;/tr&gt;\n[% FOREACH order IN orders -%]\n      &lt;tr&gt;&lt;td&gt;[% order.sku | html %]&lt;/td&gt;&lt;td&gt;[% order.cust | html %]&lt;/td&gt;&lt;/tr&gt;\n[% END -%]\n    &lt;/table&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7076587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61af9c8b954347d50b646f4e7a3df2ee?s=128&d=identicon&r=PG&f=1", "display_name": "r2d222", "link": "https://stackoverflow.com/users/7076587/r2d222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478080285, "creation_date": 1477936001, "last_edit_date": 1478080285, "question_id": 40347629, "link": "https://stackoverflow.com/questions/40347629/how-do-i-read-a-text-file-by-putting-its-data-in-a-table-using-cgi-in-perl", "title": "How do I read a text file by putting its data in a table using CGI in Perl?", "body": "<p>The CGI to read the data from merch.txt works but how can I put this in a table?</p>\n\n<p>HTML File:</p>\n\n<pre><code>&lt;form action=\"/cgi-bin/asst5/data.cgi\" method=\"post\"&gt;\n&lt;table border=\"2\" cellspacing=\"5\" cellpadding=\"5\"&gt;\n&lt;tr&gt;\n   &lt;td align=\"center\"&gt;SKU: &lt;/td&gt;\n   &lt;td&gt;&lt;input type=\"text\" name=\"code\" size=\"15\"&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n   &lt;td align=\"center\"&gt;Name: &lt;/td&gt;\n   &lt;td&gt;&lt;input type=\"text\" name=\"customer\" size=\"15\"&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Data.CGI where data is accepted after it's been entered in the HTML</p>\n\n<pre><code>my $sku = param('code');\nmy $cust = param('customer');\n\nprint &lt;&lt;HERE;\n&lt;HTML&gt;\n&lt;BODY&gt;\nSKU: $sku&lt;br&gt;\nName: $cust&lt;br&gt;\n\nHERE\nopen (ORDERS, \"&gt;&gt;merch.txt\") or die \"File error, $!\";\nprint ORDERS \"$sku|$cust\\n\";\nclose ORDERS;\n</code></pre>\n\n<p>Read.CGI This is the CGI file that reads the content from merch.txt</p>\n\n<pre><code>open ( ORDERS, \"merch.txt\" ) or die \"Error opening file, $!\";\nmy @orders = &lt;ORDERS&gt;;\nclose ORDERS;\n\nprint &lt;&lt;here;\n&lt;HTML&gt;\n&lt;BODY&gt;\nhere\nfor (my $i = 0; $i &lt; @orders; $i++ )  {\nprint \"&lt;td&gt;&lt;pre&gt;\", CGI::escapeHTML($orders[$i]).\"&lt;br&gt;\\n\", \"&lt;/pre&gt;&lt;/td&gt;\\n\";\n}\nprint &lt;&lt;MORE;\n&lt;/BODY&gt;\n&lt;/HTML&gt;\nMORE\n</code></pre>\n"}, {"tags": ["perl", "web-services", "credentials", "restful-url", "lwp-useragent"], "comments": [{"owner": {"reputation": 161, "user_id": 2217903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us1b5.jpg?s=128&g=1", "display_name": "ardavey", "link": "https://stackoverflow.com/users/2217903/ardavey"}, "edited": false, "score": 0, "creation_date": 1477934875, "post_id": 40346826, "comment_id": 67949135, "body": "In your call to <code>credentials</code>, can you try removing the protocol - it should be of the format <code>hostname:port</code> - i.e. <code>&#39;api-test.hotelspro.com:443&#39;</code>  See <a href=\"http://stackoverflow.com/questions/1799147/why-dont-my-lwpuseragent-credentials-work\" title=\"why dont my lwpuseragent credentials work\">stackoverflow.com/questions/1799147/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 162, "user_id": 3539775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/892a66074a0512f0fcf3018bb03d9a3d?s=128&d=identicon&r=PG", "display_name": "J Singh", "link": "https://stackoverflow.com/users/3539775/j-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1477986031, "creation_date": 1477986031, "answer_id": 40355907, "question_id": 40346826, "link": "https://stackoverflow.com/questions/40346826/authentication-credentials-were-not-provided-issue/40355907#40355907", "title": "Authentication credentials were not provided issue", "body": "<p>The given link redirects to <a href=\"https://api-test.hotelspro.com/login/?next=/\" rel=\"nofollow\">https://api-test.hotelspro.com/login/?next=/</a>, which is looking a Form Based Authentication page. But in your Perl script, you are trying Basic Authentication. Please check google to understand the difference between <a href=\"https://www.google.co.in/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#safe=active&amp;q=basic%20authentication%20vs%20form%20authentication\" rel=\"nofollow\">Basic Auth vs Form Based Auth</a>.</p>\n\n<p>Now, in order to perform Form Based Auth, its better to use WWW::Mechanize which is a wrapper around LWP but provide more convenient methods. Following is a sample code for Form Based Auth right from <a href=\"http://search.cpan.org/dist/WWW-Mechanize/lib/WWW/Mechanize/Examples.pod\" rel=\"nofollow\">WWW::Mechanize's official help page:</a></p>\n\n<pre><code> #!/usr/bin/perl -w -T\n\nuse strict;\nuse WWW::Mechanize;\n\nmy $login    = \"login_name\";\nmy $password = \"password\";\nmy $folder   = \"folder\";\n\nmy $url = \"http://img78.photobucket.com/albums/v281/$login/$folder/\";\n\n# login to your photobucket.com account\nmy $mech = WWW::Mechanize-&gt;new();\n$mech-&gt;get($url);\n$mech-&gt;submit_form(\n    form_number =&gt; 1,\n    fields      =&gt; { password =&gt; $password },\n);\ndie unless ($mech-&gt;success);\n\n# upload image files specified on command line\nforeach (@ARGV) {\n    print \"$_\\n\";\n    $mech-&gt;form_number(2);\n    $mech-&gt;field('the_file[]' =&gt; $_);\n    $mech-&gt;submit();\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 13, "user_id": 1761562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fd1d68df3aea0beca474753ebdb3634?s=128&d=identicon&r=PG", "display_name": "Muhanad Muneer", "link": "https://stackoverflow.com/users/1761562/muhanad-muneer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1477986031, "creation_date": 1477932927, "question_id": 40346826, "link": "https://stackoverflow.com/questions/40346826/authentication-credentials-were-not-provided-issue", "title": "Authentication credentials were not provided issue", "body": "<p>I have a problem in send Restful request to HotelsPro web service.</p>\n\n<p>Iam trying to send request to this link <a href=\"https://api-test.hotelspro.com:443\" rel=\"nofollow\">https://api-test.hotelspro.com:443</a> with basic credentials but I get error every time \"Authentication credentials were not provided\" although this credentials is working on browser.My code like follow</p>\n\n<pre><code> sub getJSONdata {\n\n    my ($SupplierXMLServer, $message, $compressed,$timeOut) = ();\n       ($SupplierXMLServer, $message, $compressed,$timeOut) = @_;\n\n    $SupplierXMLServer='https://api-test.hotelspro.com/api/v2/search/?destination_code=20b05&amp;checkin=2016-11-09&amp;checkout=2016-11-12&amp;currency=USD&amp;client_nationality=PS&amp;pax=2';\n\n    my $username = \"Epilgrim\";\n    my $password = \"xxxxxxxxxx\";\n\n    use LWP::UserAgent;\n    my $userAgent = LWP::UserAgent-&gt;new(agent =&gt;\"1\");\n       $userAgent-&gt;credentials('https://api-test.hotelspro.com:443', 'api', $username , $password);\n       $userAgent-&gt;timeout($timeOut) if($timeOut);  # in seconds\n    use HTTP::Request::Common;\n    my $response = '';\n    if($compressed){\n         $response = $userAgent-&gt;request( GET $SupplierXMLServer,\n                                          Content_Type =&gt; 'application/json',\n                                          Accept_Encoding =&gt; \"gzip,deflate\",\n                                          Content =&gt; $message);\n    }\n    else{\n         $response = $userAgent-&gt;request( GET $SupplierXMLServer,\n                                          Content_Type =&gt; 'application/json',\n                                          Content =&gt; $message);\n    }\n    return $response-&gt;error_as_HTML unless $response-&gt;is_success;\n      #return $response-&gt;content;\n\n    if($compressed){\n    return $response-&gt;decoded_content;\n  }\n\n    else{\n        return $response-&gt;content;\n      }\n    }\n</code></pre>\n\n<p>Please help me to write the correct code and send the request in correct way to get valid response.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1477932488, "post_id": 40346530, "comment_id": 67947913, "body": "Please don&#39;t post images of your data. Your data is text, so why not post it as text? I was just going to copy it into a test file so that I could work on your problem, but I have no intention of retyping the data, so I guess I&#39;ll help someone else instead."}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "edited": false, "score": 0, "creation_date": 1477932698, "post_id": 40346530, "comment_id": 67948016, "body": "Your absolut right, just couldnt resist to test <a href=\"http://www.onlineocr.net/\" rel=\"nofollow noreferrer\">onlineocr.net</a> once ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1477936483, "post_id": 40346750, "comment_id": 67949982, "body": "What is the best way to dump this hash into an array for further processing? Thank you"}, {"owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 1, "creation_date": 1477963200, "post_id": 40346750, "comment_id": 67960068, "body": "I am not sure i understand you correctly, but maybe you are looking for  <code>push @result, join(&quot;\\t&quot;, $_, @{$fusion_hash{$_}}) for sort keys %fusion_hash;</code> (If you define @ result before that)"}], "tags": [], "owner": {"reputation": 2092, "user_id": 2678168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd5a048ca5e77e9683d0197b5455b3a9?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Mavridis", "link": "https://stackoverflow.com/users/2678168/georg-mavridis"}, "is_accepted": true, "score": 2, "last_activity_date": 1477932627, "creation_date": 1477932627, "answer_id": 40346750, "question_id": 40346530, "link": "https://stackoverflow.com/questions/40346530/how-to-combine-data-in-an-array-with-duplicate-identifier-in-the-first-column-wi/40346750#40346750", "title": "How to combine data in an array with duplicate identifier in the first column without removing duplicates in other columns", "body": "<p>You have to save the data in an array per \"key\"</p>\n\n<pre><code>use strict;\nmy %fusion_hash;\nmy @fusions= split(\"\\n\", &lt;&lt;EOT);\nSLC34A2-ROS1.S4R32.COSF1197 chr4 25665952 PASS 56812 SLC34A2 4 COSF1197 \nSLC34A2-ROS1.S4R32.COSF1197 chr6 117650609 PASS 56812 ROS1 32 COSF1197 \nSLC34A2-ROS1.S4R34.COSF1198 chr4 25665952 PASS 3367 SLC34A2 4 COSF1198 \nSLC34A2-ROS1.S4R34.COSF1198 chr6 117645578 PASS 3367 ROS1 34 COSF1198 \nEOT\n\nforeach (@fusions){\n    chomp($_);\n     my ($key, @items) = split /\\s/;\n     $fusion_hash{$key} = [] unless defined $fusion_hash{$key} ;\n     push @{$fusion_hash{$key}}, @items;\n}\n\n#print join(\"\\t\", $_, @{$fusion_hash{$_}}), \"\\n\" for sort keys %fusion_hash;\n</code></pre>\n\n<p>should do the job.</p>\n\n<p>HTH\nGeorg</p>\n\n<p>BTW: you can ommit the line</p>\n\n<pre><code>     $fusion_hash{$key} = [] unless defined $fusion_hash{$key} ;\n</code></pre>\n\n<p>as this is done by perl automatically.</p>\n"}, {"comments": [{"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1477937880, "post_id": 40347261, "comment_id": 67950690, "body": "Could you please suggest how to push the merged  values from %data  into a  new array. Thanks"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1477938596, "post_id": 40347261, "comment_id": 67951102, "body": "I could. But you&#39;re a programmer. It shouldn&#39;t be too hard for you to work it out yourself. You can see where the value is generated. Can&#39;t you just take that value and push it onto an array? If you can&#39;t manage that, then perhaps you should consider paying someone to do it for you."}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1477948636, "post_id": 40347261, "comment_id": 67955932, "body": "I&#39;ve tried <code>push (@final_array, $_, &quot;\\t&quot;, join &quot;\\t&quot;, @{ $fusion_hash{$_}});</code> but it\u2019s not behaving as expected. when i try to split it by tab, just to test, It prints out the position twice and  the second time it&#39;s blank. <code>foreach </code>(@final_array){`                  <code>chomp($_);</code>                                   <code>my @lineelementarray = split (&#47;\\t&#47;, $_);</code>                 <code>my $position_1 = $lineelementarray[1];print &quot;position is: </code>$position_1\\n&quot;;`"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 0, "creation_date": 1477989229, "post_id": 40347261, "comment_id": 67966314, "body": "@user3781528: You appear to be programming by trying things at random - and that&#39;s never a good idea. For a start, can you explain the difference between <code>$_, &quot;\\t&quot;, join &quot;\\t&quot;, @{ $data{$_} }</code> and <code>$_ . &quot;\\t&quot; . join &quot;\\t&quot;, @{ $data{$_} }</code>? Do you know why you would choose one over the other? How many elements do you expect in <code>@final_array</code>? How many do you actually get?"}, {"owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "edited": false, "score": 1, "creation_date": 1478012371, "post_id": 40347261, "comment_id": 67978369, "body": "&quot;.&quot; is concatenation.. and this is what i need. thank you for your help."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1477934537, "creation_date": 1477934537, "answer_id": 40347261, "question_id": 40346530, "link": "https://stackoverflow.com/questions/40346530/how-to-combine-data-in-an-array-with-duplicate-identifier-in-the-first-column-wi/40347261#40347261", "title": "How to combine data in an array with duplicate identifier in the first column without removing duplicates in other columns", "body": "<p>Slightly different to Georg's answer. I only split the data into two parts (the bit we're matching on and the rest of the line).</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy %data;\n\nwhile (&lt;DATA&gt;) {\n  chomp;\n\n  my ($key, $val) = split / /, $_, 2;\n  push @{ $data{$key} }, $val;\n}\n\nforeach (sort keys %data) {\n  say $_, \"\\t\", join \"\\t\", @{ $data{$_} };\n}\n\n__DATA__\nSLC34A2-ROS1.S4R32.COSF1197 chr4 25665952 PASS 56812 SLC34A2 4 COSF1197\nSLC34A2-ROS1.S4R32.COSF1197 chr6 117650609 PASS 56812 ROS1 32 COSF1197\nSLC34A2-ROS1.S4R34.COSF1198 chr4 25665952 PASS 3367 SLC34A2 4 COSF1198\nSLC34A2-ROS1.S4R34.COSF1198 chr6 117645578 PASS 3367 ROS1 34 COSF1198\n</code></pre>\n"}], "owner": {"reputation": 623, "user_id": 3781528, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/57552cda53e1092efc04fb0a7d313a25?s=128&d=identicon&r=PG&f=1", "display_name": "user3781528", "link": "https://stackoverflow.com/users/3781528/user3781528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 40346750, "answer_count": 2, "score": -1, "last_activity_date": 1477934537, "creation_date": 1477931710, "question_id": 40346530, "link": "https://stackoverflow.com/questions/40346530/how-to-combine-data-in-an-array-with-duplicate-identifier-in-the-first-column-wi", "title": "How to combine data in an array with duplicate identifier in the first column without removing duplicates in other columns", "body": "<p>I populated an array with tab delimited data. I would like to merge rows with duplicate ids in the first column without removing duplicates in other columns:</p>\n\n<p>Here is what the lines of @fusions array look like before I run the code:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xalw0.jpg\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/xalw0.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Desired output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YE1Qm.jpg\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/YE1Qm.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I\u2019ve tried using a hash but it removes duplicates in all the columns and I need to remove duplicates in the first column only.\nHere is the code I\u2019ve adopted that uses a hash.</p>\n\n<pre><code>foreach (@fusions){\n    chomp($_);\n     my ($key, @items) = split /\\t/;\n     $fusion_hash{$key}{$_}++ for @items;\n     }\n\n#print join(\"\\t\", $_, sort keys %{$fusion_hash{$_}}), \"\\n\" for sort keys %fusion_hash;\n</code></pre>\n\n<p>Please suggest how to change the code so it merges the data and doesn't remove duplicates in other columns. Thanks</p>\n"}, {"tags": ["perl", "parallel-processing", "parent-child", "hash-of-hashes"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1477926519, "post_id": 40344926, "comment_id": 67944107, "body": "References are scalars."}, {"owner": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1477926571, "post_id": 40344926, "comment_id": 67944148, "body": "See: <a href=\"http://search.cpan.org/~yanick/Parallel-ForkManager-1.19/lib/Parallel/ForkManager.pm#Data_structure_retrieval\" rel=\"nofollow noreferrer\">search.cpan.org/~yanick/Parallel-ForkManager-1.19/lib/Parall&zwnj;&#8203;el/&hellip;</a>   PFM uses Storable to pass structures back to the parent process. The second example shows the child sending back arbitrary data."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1477994763, "post_id": 40344926, "comment_id": 67968976, "body": "Given passing back a significant amount of data, I tend to favour (worker) threads type model for this. Thread::Queue and parallelism."}, {"owner": {"reputation": 53, "user_id": 2899244, "user_type": "registered", "profile_image": "https://graph.facebook.com/605921715/picture?type=large", "display_name": "Marc-Olivier Duceppe", "link": "https://stackoverflow.com/users/2899244/marc-olivier-duceppe"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1478013141, "post_id": 40344926, "comment_id": 67978838, "body": "@Sobrique, the VCF files I&#39;m working with (my script input) are not that big (baterial genomes). But I&#39;ll try to keep that in mind for the future."}, {"owner": {"reputation": 53, "user_id": 2899244, "user_type": "registered", "profile_image": "https://graph.facebook.com/605921715/picture?type=large", "display_name": "Marc-Olivier Duceppe", "link": "https://stackoverflow.com/users/2899244/marc-olivier-duceppe"}, "reply_to_user": {"reputation": 4116, "user_id": 4402825, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ESJ4SrCVfE/AAAAAAAAAAI/AAAAAAAAFO8/yBWcRYAN94s/photo.jpg?sz=128", "display_name": "Ben Grimm", "link": "https://stackoverflow.com/users/4402825/ben-grimm"}, "edited": false, "score": 0, "creation_date": 1478013247, "post_id": 40344926, "comment_id": 67978917, "body": "@Ben Grimm, that link was helpful. There is a reference to a hash in there. Fiddling with FM for a couple of days and reading back those examples, they all make more sense now."}], "answers": [{"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 3, "last_activity_date": 1477927920, "last_edit_date": 1477927920, "creation_date": 1477927151, "answer_id": 40345160, "question_id": 40344926, "link": "https://stackoverflow.com/questions/40344926/parallelforkmanager-populate-a-hash-of-hashes-of-arrays-from-child-processe/40345160#40345160", "title": "Parallel::Forkmanager -&gt; populate a hash of hashes of arrays from child processes", "body": "<p><strong>Don't return hashes, return hash references.</strong></p>\n\n<p>References in Perl are scalar values. So all you need to do is to return a reference to <code>%fastas</code> and <code>%counts</code>.</p>\n\n<p>Here is a hacky example taken from the documentation of Parallel::Forkmanager. It builds a hash in each child process with as many elements as the input data suggests. It return a reference to that hash to the parent, where the callback picks it up and inserts it into the <code>$overall</code> data structure.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Printer;\nuse Parallel::ForkManager;\n\nmy $pm = Parallel::ForkManager-&gt;new(2);\n\nmy $overall; # will hold all results in the parent\n$pm-&gt;run_on_finish( sub {\n    my ($pid, $exit_code, $ident, $exit_signal, $core_dump, $data_structure_reference) = @_;\n\n    $overall-&gt;{$pid} = $data_structure_reference;\n});\n\nDATA_LOOP:\nforeach my $data (1 .. 10) {\n  # Forks and returns the pid for the child:\n  my $pid = $pm-&gt;start and next DATA_LOOP;\n\n  my %child_result = map { $_ =&gt; 1 } 1 .. $data;\n\n  $pm-&gt;finish( 0, \\%child_result );\n}\n\n$pm-&gt;wait_all_children;\np $overall;\n</code></pre>\n\n<p>The output looks like this:</p>\n\n<pre><code>\\ {\n    1224   {\n        1   1\n    },\n    1225   {\n        1   1,\n        2   1\n    },\n    1226   {\n        1   1,\n        2   1,\n        3   1\n    },\n    1228   {\n        1   1,\n        2   1,\n        3   1,\n        4   1\n    },\n    1230   {\n        1   1,\n        2   1,\n        3   1,\n        4   1,\n        5   1\n    },\n    1231   {\n        1   1,\n        2   1,\n        3   1,\n        4   1,\n        5   1,\n        6   1\n    },\n    1232   {\n        1   1,\n        2   1,\n        3   1,\n        4   1,\n        5   1,\n        6   1,\n        7   1\n    },\n    1233   {\n        1   1,\n        2   1,\n        3   1,\n        4   1,\n        5   1,\n        6   1,\n        7   1,\n        8   1\n    },\n    1234   {\n        1   1,\n        2   1,\n        3   1,\n        4   1,\n        5   1,\n        6   1,\n        7   1,\n        8   1,\n        9   1\n    },\n    1235   {\n        1    1,\n        2    1,\n        3    1,\n        4    1,\n        5    1,\n        6    1,\n        7    1,\n        8    1,\n        9    1,\n        10   1\n    }\n}\n</code></pre>\n\n<p>If you want to return two data structures, wrap them in an array reference.</p>\n\n<pre><code>$pm-&gt;finish( 0, [ \\%fastas, \\%counts ] ); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 2899244, "user_type": "registered", "profile_image": "https://graph.facebook.com/605921715/picture?type=large", "display_name": "Marc-Olivier Duceppe", "link": "https://stackoverflow.com/users/2899244/marc-olivier-duceppe"}, "is_accepted": false, "score": 2, "last_activity_date": 1478013632, "creation_date": 1478013632, "answer_id": 40363089, "question_id": 40344926, "link": "https://stackoverflow.com/questions/40344926/parallelforkmanager-populate-a-hash-of-hashes-of-arrays-from-child-processe/40363089#40363089", "title": "Parallel::Forkmanager -&gt; populate a hash of hashes of arrays from child processes", "body": "<p>I just thought I's publish my solution:</p>\n\n<pre><code>my (%fastas, %counts);\n\n#setting up the forking process\nmy $nCPU = Sys::CPU::cpu_count();\nmy $pm = Parallel::ForkManager -&gt; new($nCPU);\n\n$pm-&gt;run_on_finish(sub {\n    my ($pid, $exit_code, $ident, $exit_signal, $core_dump, $data_structure_reference) = @_;\n\n    %fastas = (%fastas, %{ $data_structure_reference-&gt;{fas} });\n});\n\nmy @mySamples = sort keys %AC2;\nmy $s = $mySamples[0];\n\nforeach my $sample (@mySamples)\n{\n    my $pid = $pm-&gt;start and next;\n\n    my %allSeqs;\n\n    foreach my $chrom (sort keys %{ $AC2{$sample} } )\n    {\n        foreach my $pos ( sort { $a &lt;=&gt; $b } (@{ $allAC2{$chrom} }) )\n        {\n            my $allele;\n\n            #position was genotyped in sample\n            # or is AC=1, but was also found in AC=2\n            if( grep(/\\b$pos\\b/, @{ $AC2{$sample}{$chrom} }) || grep(/\\b$pos\\b/, @{ $finalAC1{$sample}{$chrom} }) ) #\"\\b is for word boundary -&gt; exact word match\"\n            {\n                $allele = @{ $vcfs{$sample}{$chrom}{$pos} }[2]; #ALT allele\n            }\n            #Make sure all SNP positions are in all samples\n            #Fill with reference genome allele information\n            else\n            {\n                #Fill with reference genome allele information\n                $allele = substr( @{ $ref{$chrom} }[0], $pos-1, 1); #or die \"$sample, $chrom, $pos\";\n            }\n\n            push ( @{ $allSeqs{$sample}{$chrom}{$pos} }, $allele);\n        }\n    }\n    $pm -&gt; finish(0, { fas =&gt; \\%allSeqs });\n}\n\n$pm -&gt; wait_all_children();\n\n\n#List ALT alleles found at each position\nforeach my $sample ( sort keys %fastas )\n{\n    foreach my $chrom ( sort keys %{ $fastas{$sample} } )\n    {\n        foreach my $pos ( sort keys %{ $fastas{$sample}{$chrom} } )\n        {\n            my $allele = @{ $fastas{$sample}{$chrom}{$pos} }[0];\n            push ( @{ $counts{$chrom}{$pos} }, $allele) unless (grep {$_ eq $allele} @{ $counts{$chrom}{$pos} } );\n        }\n    }\n}\n</code></pre>\n\n<p>I had to remove %counts from the main loop and compute it separately because it had to refer to it's own values (from the parent process) while being process in child processes (I hope this explanation makes sense!).</p>\n\n<p>Thanks for the help everyone, I was much appreciated!\nMarco</p>\n"}], "owner": {"reputation": 53, "user_id": 2899244, "user_type": "registered", "profile_image": "https://graph.facebook.com/605921715/picture?type=large", "display_name": "Marc-Olivier Duceppe", "link": "https://stackoverflow.com/users/2899244/marc-olivier-duceppe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1478013632, "creation_date": 1477926352, "question_id": 40344926, "link": "https://stackoverflow.com/questions/40344926/parallelforkmanager-populate-a-hash-of-hashes-of-arrays-from-child-processe", "title": "Parallel::Forkmanager -&gt; populate a hash of hashes of arrays from child processes", "body": "<p>I have this piece of code that I'd like to parallelize (for reference):</p>\n\n<pre><code>my (%fastas, %counts);\n\nforeach my $sample ( sort keys %AC2 )\n{\n    foreach my $chrom (sort keys %{ $AC2{$sample} } )\n    {\n        foreach my $pos ( sort { $a &lt;=&gt; $b } (@{ $allAC2{$chrom} }) )\n        {\n            my $allele;\n\n            #position was genotyped in sample\n            # or is AC=1, but was also found in AC=2\n            if( grep(/\\b$pos\\b/, @{ $AC2{$sample}{$chrom} }) || grep(/\\b$pos\\b/, @{ $finalAC1{$sample}{$chrom} }) ) #\"\\b\" is for word boundary -&gt; exact word match\n            {\n                $allele = @{ $vcfs{$sample}{$chrom}{$pos} }[2]; #ALT allele\n            }\n            #Make sure all SNP positions are in all samples\n            #Fill with reference genome allele information\n            else\n            {\n                #Fill with reference genome allele information\n                $allele = substr( @{ $ref{$chrom} }[0], $pos-1, 1); #or die \"$sample, $chrom, $pos\";\n            }\n            push ( @{ $fastas{$sample}{$chrom}{$pos} }, $allele);\n            push ( @{ $counts{$chrom}{$pos} }, $allele) unless (grep {$_ eq $allele} @{ $counts{$chrom}{$pos} } );\n        }\n    }\n}\n</code></pre>\n\n<p>Basically, the child processes need to populate the two hashes. I've search and only found a few example showing how to use \"run_on_finish\" to return variable from the child processes. The \"problem\" is that all the examples/tutorials that I've found are always returning scalars.</p>\n\n<p>Is it possible to pass a hash (or 2 hashes) out of the child process?</p>\n\n<p>Thanks,\nMarco</p>\n"}, {"tags": ["xml", "perl", "xml-twig"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "edited": false, "score": 1, "creation_date": 1477924162, "post_id": 40344005, "comment_id": 67942575, "body": "How is that related @toolic? It&#39;s not the same definitely."}], "answers": [{"comments": [{"owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "edited": false, "score": 0, "creation_date": 1477925676, "post_id": 40344381, "comment_id": 67943564, "body": "Thanks a lot, I did not realize that text in mixed content could be considered as an element and not as a string !"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "edited": false, "score": 1, "creation_date": 1477925801, "post_id": 40344381, "comment_id": 67943643, "body": "Each piece of text is a node. In your case you have <code>parent node: (text node, child node: (text node), text node)</code>. Getting all the text inside <code>parent</code> is a special function."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1477924643, "creation_date": 1477924643, "answer_id": 40344381, "question_id": 40344005, "link": "https://stackoverflow.com/questions/40344005/perl-xmltwig-find-a-substring-located-before-a-child-element-in-mixed-conten/40344381#40344381", "title": "Perl XML::twig : Find a substring located before a child element in mixed content", "body": "<p>You can find each <code>child</code> element and then check the text of its sibling on the left. That's the <em>previous sibling</em>. Conveniently <a href=\"https://v1.metacpan.org/pod/XML::Twig#first_child_text-optional_condition\" rel=\"nofollow\">there is a method <code>prev_sibling_text</code></a> that gives you just that, since the previous sibling is a text node anyway. From there, it's just a matter of locating the last word.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse XML::Twig;\n\nmy $twig = XML::Twig-&gt;new(\n    TwigHandlers =&gt; {\n        child =&gt; sub {\n            say +( split /\\s/, $_-&gt;prev_sibling_text )[-1];\n        },\n    }\n);\n\n$twig-&gt;parse( \\*DATA );\n\n__DATA__\n&lt;root&gt;\n&lt;parent&gt; there is text all &lt;child&gt;text&lt;/child&gt; around it&lt;/parent&gt;\n&lt;parent&gt; there is text all &lt;child&gt;text&lt;/child&gt; around it&lt;/parent&gt;\n&lt;parent&gt; there is text all &lt;child&gt;text&lt;/child&gt; around it&lt;/parent&gt;\n&lt;parent&gt; there is text all &lt;child&gt;text&lt;/child&gt; around it&lt;/parent&gt;\n&lt;/root&gt;\n</code></pre>\n"}], "owner": {"reputation": 390, "user_id": 6285099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30ae18ca8ecdc9b5e833ec53c2d8c486?s=128&d=identicon&r=PG&f=1", "display_name": "Azaghal", "link": "https://stackoverflow.com/users/6285099/azaghal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 1, "accepted_answer_id": 40344381, "answer_count": 1, "score": 0, "last_activity_date": 1477924643, "creation_date": 1477923396, "question_id": 40344005, "link": "https://stackoverflow.com/questions/40344005/perl-xmltwig-find-a-substring-located-before-a-child-element-in-mixed-conten", "title": "Perl XML::twig : Find a substring located before a child element in mixed content", "body": "<p>I'm working on a XML file with some mixed content (elements containing text, one child tag, then text again).<br>\nI would like to extract, for each parent element, the word (substring) coming right before the child element.</p>\n\n<h2>Example of XML Input :</h2>\n\n<pre><code>&lt;root&gt;\n&lt;parent&gt; there is text all &lt;child&gt;text&lt;/child&gt; around it&lt;/parent&gt;\n&lt;parent&gt; there is text all &lt;child&gt;text&lt;/child&gt; around it&lt;/parent&gt;\n&lt;parent&gt; there is text all &lt;child&gt;text&lt;/child&gt; around it&lt;/parent&gt;\n&lt;parent&gt; there is text all &lt;child&gt;text&lt;/child&gt; around it&lt;/parent&gt;\n&lt;/root&gt;\n</code></pre>\n\n<h2>Example of Text Output :</h2>\n\n<pre><code>all\nall\nall\nall\n</code></pre>\n\n<p>I know that applying <code>text_only</code> to the <code>parent</code> element will give me <code>there is text all around it</code>, so I don't have to deal with the child element anymore, but then I don't know how to locate the preceding word. </p>\n\n<p>Should I replace the <code>child</code> element by some kind of textual marker like <code>|</code> and just go through the remaining text as a single string ?</p>\n\n<p>I'm not asking for a full \"ready-made\" answer, but some directions would sure be helpful.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "edited": false, "score": 0, "creation_date": 1477919430, "post_id": 40342624, "comment_id": 67939791, "body": "perl -e &#39;undef $/;$content=&lt;ARGV&gt;;@list=split(/\\n/,$content);for(@list){@fi&zwnj;&#8203;elds=split(/\\s+/);if&zwnj;&#8203;(sprintf(&quot;%f&quot;,$field&zwnj;&#8203;s[1])&gt;0.5){print &quot;$fields[0]\\n&quot;;}}&#39; file1"}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "reply_to_user": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "edited": false, "score": 0, "creation_date": 1477922730, "post_id": 40342624, "comment_id": 67941671, "body": "Gives these errors:"}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "reply_to_user": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "edited": false, "score": 0, "creation_date": 1477922737, "post_id": 40342624, "comment_id": 67941677, "body": "Backslash found where operator expected at -e line 1, near &quot;]\\&quot;         (Missing operator before \\?) syntax error at -e line 1, near &quot;??&quot; syntax error at -e line 1, near &quot;}}&quot; Execution of -e aborted due to compilation errors."}], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1477923018, "post_id": 40343350, "comment_id": 67941850, "body": "Thank you very much sir.. But I am afraid that I have no idea of how to  covert these output values to ranges.. sorry for my ignorance"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1477923756, "post_id": 40343350, "comment_id": 67942326, "body": "@J.Carter Then I guess you need to work out how to do that. Or hire a programmer.."}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1477928825, "post_id": 40343350, "comment_id": 67945578, "body": "Thank you very much for your help"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1477921114, "creation_date": 1477921114, "answer_id": 40343350, "question_id": 40342624, "link": "https://stackoverflow.com/questions/40342624/multi-column-file-comparison-and-range-extraction/40343350#40343350", "title": "Multi-column file comparison and range extraction", "body": "<p>You don't really give a good description of your problem, and you haven't made any effort to solve it yourself, but here's a solution to the first part of your problem (parsing the file into a data structure). You'll need to walk the <code>%results</code> hash and produce the output that you want.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse Data::Dumper;\nmy %results;\nmy $section;\n\nwhile (&lt;DATA&gt;) {\n  # Look for a new section\n  if (/\\\\Programs\\\\(\\S+)\\s/) {\n    $section = $1;\n  }\n\n  # Look for data lines\n  if (/^\\d\\b/) {\n     my @data = split;\n     if ($data[1] &gt; 0.5) {\n       push @{$results{$section}}, $data[0] + 1;\n     }\n  }\n}\n\nsay Dumper \\%results;\n\n__DATA__\nSequence ../Output/yy\\Programs\\NP_416485.4 alignment. Using default output format...\n# ../Output/Split_Seq/NP_415931.4.fasta -- js_divergence - window_size: 3\n# jjhgjg cstr score\n\n0   0.89    u-p\n1   -5.79   ---\n2   0.85    yui\n3   0.51    uio\n4   0.66    -08\nSequence ../Output/yy\\Programs\\YP_986467.7 alignment. Using default output format...\n# ../Output/Split_Seq/YP_986467.7.fasta -- js_divergence - window_size: 3\n# jjhgjg cstr score\n\n0   0.001   -s-\n1   0.984   ---\n2   0.564   -fg\n3   0.897   -sr\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1477923701, "post_id": 40343848, "comment_id": 67942290, "body": "brilliant.. it works on this dataset. but in larger files, it shows:        Use of uninitialized value $data in split at 3.pl line 15. Use of uninitialized value $id in hash element at 3.pl line 21. :"}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1477923808, "post_id": 40343848, "comment_id": 67942366, "body": "my large input file is in here: <a href=\"https://sites.google.com/site/iicbbioinformatics/share\" rel=\"nofollow noreferrer\">sites.google.com/site/iicbbioinformatics/share</a>"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1477924928, "post_id": 40343848, "comment_id": 67943079, "body": "Hmm.. seems like your large file has DOS line endings and also a slightly different format than the sample in your question"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1477925107, "post_id": 40343848, "comment_id": 67943211, "body": "I now get: <code>ACY90833.1: 1-227</code> and <code>ACY90829.1: 2,4-5,7,10-66,68-146,151-201</code> for your real file. Is that correct?"}, {"owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1477928055, "post_id": 40343848, "comment_id": 67945106, "body": "in my machine, it shows: &quot;Global symbol &quot;$cstr&quot; requires explicit package name (did you forget to declare &quot;my $cstr&quot;?) at 1.pl line 12.&quot;"}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "reply_to_user": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "edited": false, "score": 0, "creation_date": 1477928364, "post_id": 40343848, "comment_id": 67945288, "body": "Oops.. I pasted the line at the wrong place, sorry. I updated the answer, try now."}], "tags": [], "owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "is_accepted": true, "score": 1, "last_activity_date": 1477928315, "last_edit_date": 1477928315, "creation_date": 1477922824, "answer_id": 40343848, "question_id": 40342624, "link": "https://stackoverflow.com/questions/40342624/multi-column-file-comparison-and-range-extraction/40343848#40343848", "title": "Multi-column file comparison and range extraction", "body": "<p>Here is one approach. In case you would have a DOS data file on a Unix machine, I used <code>\\r?\\n</code> to match a new line, so it will work for all cases:</p>\n\n<pre><code>use feature qw(say);\nuse strict;\nuse warnings;\n\nmy $file_name = 'input.txt';\nopen ( my $fh, '&lt;', $file_name ) or die \"Could not open file '$file_name': $!\";\nmy $str = do { local $/; &lt;$fh&gt; };\nclose $fh;\n\nmy @chunks = $str =~ /(Sequence(?:.(?!Sequence))*)/sg;\nmy %ids;\nfor my $cstr ( @chunks ) {\n    my ( $id, $data ) = $cstr \n        =~/Split_Seq\\/(\\S+)\\.fasta.*?\\r?\\n\\r?\\n(.*)$/s;\n    my @lines = split /\\n/, $data;\n    my @vals;\n    for my $line ( @lines ) {\n        my @fields = split \" \", $line;\n        push ( @vals, $fields[0] + 1 ) if $fields[1] &gt; 0.5;\n    }\n    $ids{$id} = \\@vals;\n}\n\nfor my $id ( keys %ids ) {\n    my @tmp = sort { $a &lt;=&gt; $b } @{ $ids{$id} };\n    my ( $first, $last );\n    my @rr;\n    for my $i (0..$#tmp) {\n        if ( $i == 0 ) {\n            $first = $tmp[0];\n            $last = undef;\n        }\n        if ( $i &lt; $#tmp &amp;&amp; ($tmp[$i] == ($tmp[$i+1] - 1 )) ) {\n            $last = $tmp[$i+1];\n            next;\n        }\n        if ( defined $last ) {\n            push @rr, \"$first-$last\";\n            $last = undef;\n        }\n        else {\n            push @rr, $tmp[$i];\n        }\n        $first = ( $i &lt; $#tmp ) ? $tmp[$i+1] : undef;\n    }\n    say \"$id: \", join \",\", @rr;\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>NP_416485.4: 1,3-5\nYP_986467.7: 2-4\n</code></pre>\n"}], "owner": {"reputation": 331, "user_id": 6721235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/23fa68ad6b31e6f77364306a70edd954?s=128&d=identicon&r=PG&f=1", "display_name": "J.Carter", "link": "https://stackoverflow.com/users/6721235/j-carter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 40343848, "answer_count": 2, "score": 1, "last_activity_date": 1477928315, "creation_date": 1477918517, "question_id": 40342624, "link": "https://stackoverflow.com/questions/40342624/multi-column-file-comparison-and-range-extraction", "title": "Multi-column file comparison and range extraction", "body": "<p>Pardon me for asking a question without any coding effort. But it seems too much difficult to me. </p>\n\n<p>I have a data file with tab separated three data columns (and some repetitive header lines) as:</p>\n\n<pre><code>Sequence ../Output/yy\\Programs\\NP_416485.4 alignment. Using default output format...\n# ../Output/Split_Seq/NP_415931.4.fasta -- js_divergence - window_size: 3 \n# jjhgjg cstr score\n\n0   0.89    u-p\n1   -5.79   --- \n2   0.85    yui\n3   0.51    uio\n4   0.66    -08\nSequence ../Output/yy\\Programs\\YP_986467.7 alignment. Using default output format...\n# ../Output/Split_Seq/YP_986467.7.fasta -- js_divergence - window_size: 3 \n# jjhgjg cstr score\n\n0   0.001   -s-\n1   0.984   ---\n2   0.564   -fg\n3   0.897   -sr\n</code></pre>\n\n<p>From the second data column, for those value(s) which are more than 0.5, I want to extract the corresponding first column number (or range).</p>\n\n<p>For the above Input, the output would be:</p>\n\n<pre><code>NP_416485.4: 1, 3-5\nYP_986467.7: 2-4\n</code></pre>\n\n<p>Here, \"NP_416485.4\" and \"YP_986467.7\" are from header descriptor (after \\Programs). (Note that, the actual value for \"NP_416485.4\" for example, should be, \"NP_416485.4: 0, 2-4\", but I increases all of them with +1 as I don't want to start with 0).</p>\n\n<p>Thanks for your consideration. I would appreciate any help. Thank you</p>\n"}, {"tags": ["xml", "perl", "response"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1477915178, "post_id": 40341614, "comment_id": 67937499, "body": "Welcome to Stack Overflow and the Perl tag. Please include the program that you have already written. You are referring to this XML structure, but it&#39;s not clear what you are doing with it. Is it the input to your program? Are you reading it using an XML parser? Which one, and how? What are you struggling with? Please <a href=\"https://stackoverflow.com/posts/40341614/edit\">edit</a> your question and add this information."}, {"owner": {"reputation": 11, "user_id": 2835593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74b58073d8b61761bfa1fc1345d52c39?s=128&d=identicon&r=PG&f=1", "display_name": "Adi", "link": "https://stackoverflow.com/users/2835593/adi"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477915925, "post_id": 40341614, "comment_id": 67937861, "body": "I receive the XML response from an application on basis of the request URL I hit from my script to that application."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1477916000, "post_id": 40341614, "comment_id": 67937897, "body": "And then what? How does that relate to your <code>%TEMPLATE</code>? How do you output the output? Is that a large <code>print</code> statement? Please be <i>specific</i>!"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1477918705, "post_id": 40341614, "comment_id": 67939353, "body": "The input data you have shown us is not valid XML. There should be a single enclosing element in your XML document. None of Perl&#39;s XML-parsing tools will parse this data successfully."}, {"owner": {"reputation": 11, "user_id": 2835593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74b58073d8b61761bfa1fc1345d52c39?s=128&d=identicon&r=PG&f=1", "display_name": "Adi", "link": "https://stackoverflow.com/users/2835593/adi"}, "edited": false, "score": 0, "creation_date": 1478082246, "post_id": 40341614, "comment_id": 68007132, "body": "I have edited the question. Please let me know if the question is clear now. Also I need a way to display the values for both Type 1 and Type 2 as shown in #expectedOutput. The code i have written only displays for Type 2. Can you please help?"}, {"owner": {"reputation": 28131, "user_id": 1956010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfdcb4596e9da98cccbf9a0069fdff6c?s=128&d=identicon&r=PG", "display_name": "nwellnhof", "link": "https://stackoverflow.com/users/1956010/nwellnhof"}, "edited": false, "score": 0, "creation_date": 1478084377, "post_id": 40341614, "comment_id": 68008478, "body": "Instead of trying to parse XML with a regex, you should use a XML parser library like <a href=\"https://metacpan.org/pod/XML::Twig\" rel=\"nofollow noreferrer\">XML::Twig</a> or <a href=\"https://metacpan.org/pod/XML::LibXML\" rel=\"nofollow noreferrer\">XML::LibXML</a>."}, {"owner": {"reputation": 11, "user_id": 2835593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74b58073d8b61761bfa1fc1345d52c39?s=128&d=identicon&r=PG&f=1", "display_name": "Adi", "link": "https://stackoverflow.com/users/2835593/adi"}, "edited": false, "score": 0, "creation_date": 1478089846, "post_id": 40341614, "comment_id": 68011820, "body": "This is a pretty old code. I need to provide a fix for this issue. Isn&#39;t there a way to get the expected output via regex? I also read something about XML::Simple. Is using that recommended?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1478094676, "post_id": 40341614, "comment_id": 68015084, "body": "No, <a href=\"http://stackoverflow.com/questions/33267765/why-is-xmlsimple-discouraged\">XML::Simple is discouraged</a>."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 2835593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74b58073d8b61761bfa1fc1345d52c39?s=128&d=identicon&r=PG&f=1", "display_name": "Adi", "link": "https://stackoverflow.com/users/2835593/adi"}, "edited": false, "score": 0, "creation_date": 1478861362, "post_id": 40381871, "comment_id": 68331133, "body": "what if there is no .xml file ?I am hitting a request to some URL which is giving me an XML response. I cannot create a file for storing this XML. Say, i store it in a variable $response. How do i proceed then?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 11, "user_id": 2835593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74b58073d8b61761bfa1fc1345d52c39?s=128&d=identicon&r=PG&f=1", "display_name": "Adi", "link": "https://stackoverflow.com/users/2835593/adi"}, "edited": false, "score": 0, "creation_date": 1478865384, "post_id": 40381871, "comment_id": 68333332, "body": "<code>$twig -&gt; parse ( $response -&gt; content );</code> or similar."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 1, "last_activity_date": 1478095306, "creation_date": 1478095306, "answer_id": 40381871, "question_id": 40341614, "link": "https://stackoverflow.com/questions/40341614/how-do-i-extract-print-values-using-perl-from-an-xml-response-which-i-receive/40381871#40381871", "title": "How do I extract &amp; print values using Perl from an XML response which I receive from an application on basis of the request URL I hit from my script?", "body": "<p>You have fallen into one of the classic traps of XML. That if you 'hand parse' it, it gets very complicated because you make assumptions that are not valid. </p>\n\n<p>It's actually very easy though, provided you use a parser. So here is an example of how to do that:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse XML::Twig;\n\nmy $twig = XML::Twig -&gt; new -&gt; parsefile ( 'your_file.xml' );\n\nforeach my $lineinfo ( $twig -&gt; get_xpath ('//LineInfo') ) {\n   my $conf = $lineinfo -&gt; get_xpath ('./LineConfigInfo',0); \n   my $param = $lineinfo -&gt; get_xpath ( './ParameterInfo/Parameter', 0);\n\n   print \"Type2: \", $conf -&gt; get_xpath ( './Type2', 0 ) -&gt; text,\"\\n\";\n   print \"LineSync: \", $conf -&gt; get_xpath ( './LineSync', 0 ) -&gt; text,\"\\n\";\n\n   my $unit = $param -&gt; get_xpath('./Unit',0) -&gt;text;\n   print \"Attentuation: \", \n         \"Down: \", $param -&gt; get_xpath('./DownVal', 0 ) -&gt; text,\" $unit / \",\n         \"Up: \", $param -&gt; get_xpath('./UpVal', 0 ) -&gt; text, \" $unit\\n\";\n}\n</code></pre>\n\n<p>You can probably go further still with templating this with <code>xpath</code> if you're so inclined, but hopefully you can see - this is easier than you think?</p>\n"}], "owner": {"reputation": 11, "user_id": 2835593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74b58073d8b61761bfa1fc1345d52c39?s=128&d=identicon&r=PG&f=1", "display_name": "Adi", "link": "https://stackoverflow.com/users/2835593/adi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 524, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1478095306, "creation_date": 1477914658, "last_edit_date": 1478083462, "question_id": 40341614, "link": "https://stackoverflow.com/questions/40341614/how-do-i-extract-print-values-using-perl-from-an-xml-response-which-i-receive", "title": "How do I extract &amp; print values using Perl from an XML response which I receive from an application on basis of the request URL I hit from my script?", "body": "<p>I have an XML response as follows which I receive from a third party application on basis of the request URL I hit from my perl script from which I need to extract and print values using Perl script. How do i achieve this?</p>\n\n<p>Response:</p>\n\n<pre><code>&lt;LineAnalyseCheck&gt;\n     &lt;LineInfo&gt;\n        &lt;ParameterInfo&gt;\n             &lt;Parameter&gt;\n                &lt;DownVal&gt;1&lt;/DownVal&gt;\n                &lt;Name&gt;Volt&lt;/Name&gt;\n                &lt;Unit&gt;V&lt;/Unit&gt;\n                &lt;UpVal&gt;29&lt;/UpVal&gt;\n            &lt;/Parameter&gt;\n        &lt;/ParameterInfo&gt;\n        &lt;LineConfigInfo&gt;\n            &lt;Type2&gt;non.8b&lt;/Type2&gt;\n            &lt;LineSync&gt;true&lt;/LineSync&gt;\n    &lt;/LineConfigInfo&gt;\n    &lt;/LineInfo&gt;\n    &lt;LineInfo&gt;\n        &lt;ParameterInfo&gt;\n            &lt;Parameter&gt;\n                &lt;DownVal&gt;2&lt;/DownVal&gt;\n                &lt;Name&gt;Volt&lt;/Name&gt;\n                &lt;Unit&gt;V&lt;/Unit&gt;\n                &lt;UpVal&gt;20&lt;/UpVal&gt;\n            &lt;/Parameter&gt;\n        &lt;/ParameterInfo&gt;\n        &lt;LineConfigInfo&gt;\n            &lt;Type2&gt;non.7b&lt;/Type2&gt;\n            &lt;LineSync&gt;true&lt;/LineSync&gt;\n    &lt;/LineConfigInfo&gt;\n    &lt;/LineInfo&gt;\n&lt;/LineAnalyseCheck&gt;\n</code></pre>\n\n<hr>\n\n<p>I am taking the above response received in a content array as follows:</p>\n\n<pre><code> @content_arr = split /\\s+&lt;/, $resp-&gt;content();\n</code></pre>\n\n<p>Based on this content array i am separating the name value and adding in my template.</p>\n\n<p>sample code:</p>\n\n<pre><code>    $resp = $ua-&gt;request(\n        GET 'https://URL?xml=' . &amp;GetRequest($input)\n);\n\n@content_arr = split /\\s+&lt;/, $resp-&gt;content();\n\nforeach (@content_arr) {\n\n    if (/^Parameter&gt;/) {\n            my @tmp = splice(@content_arr,$counter,4);\n            &amp;ParamValues(\\@tmp);\n\n    } elsif (/^(LineStatusExplanation&gt;)/) {\n            my ($param,$val, undef) = &amp;GetParVal($_);\n            if ($TEMPLATE{$param} eq \"unknown\") {\n                    $TEMPLATE{$param} =  \"$val\\n\";\n            } else {\n                    $TEMPLATE{$param} .=  \"$val\\n\";\n    }\n\n    } \n    ## Verhoog de loopteller.\n    $counter++;\n}\n\n&amp;PrintIt($);\n\n######## functions ########\nsub GetRequest($) {\n//request I hit\n}\n\n sub PrintIt ($) {\n    print &lt;&lt;EOF;\nType2                      : $TEMPLATE{Type2}\nLineSync                   : $TEMPLATE{LineSync}\nAttenuation                 : Down: $TEMPLATE{'Volt'}-&gt;{DownVal} $TEMPLATE{'Volt'}-&gt;{Unit} / Up: $TEMPLATE{'Volt'}-&gt;{UpVal} $TEMPLATE{'Volt'}-&gt;{Unit}\nEOF\n}\n\n   sub GetParVal($) {\n\n    split /&gt;|&lt;/, shift;\n}\n</code></pre>\n\n<p>I need the output as </p>\n\n<pre><code>#expectedOutput:\n\nType2                        : non.8b\n\nLineSync                     : true\n\nAttenuation                  : Down: 1 V / Up: 29 V\n\nType2                        : non.7b\n\nLineSync                     : true\n\nAttenuation                  : Down: 2 V / Up: 20 V\n</code></pre>\n\n<p>I have created a template in my perl script as </p>\n\n<pre><code>my %TEMPLATE = (\n\n        'Volt'                     =&gt; {  DownVal =&gt; 'unknown',\n                                         UpVal   =&gt; 'unknown',\n                                         Unit    =&gt; ''\n                                                        },\n        'Type2'                                         =&gt; 'unknown',\n        'LineSync'                                      =&gt; 'unknown',\n\n);\n</code></pre>\n\n<p>I am printing the output as :</p>\n\n<pre><code>print &lt;&lt;EOF;\nType2                      : $TEMPLATE{Type2}\n\nLineSync                   : $TEMPLATE{LineSync}\n\nAttenuation                 : Down: $TEMPLATE{'Volt'}-&gt;{DownVal} $TEMPLATE{'Volt'}-&gt;{Unit} / Up: $TEMPLATE{'Volt'}-&gt;{UpVal} $TEMPLATE{'Volt'}-&gt;{Unit}\nEOF\n</code></pre>\n\n<p>The problem is this is only displaying the second value of the xml response. Not both the values. The output I am getting is only as follows:</p>\n\n<pre><code>#receivedOutput\nType2                        : non.7b\n\nLineSync                     : true\n\nAttenuation                  : Down: 2 V / Up: 20 V\n</code></pre>\n\n<p>I need output for both 8b and 7b to be displayed as mentioned in <em>expectedOutput</em> above. How do I achieve this?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 5446, "user_id": 4687348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8de53eca1206063d96d2c309b362fc8b?s=128&d=identicon&r=PG&f=1", "display_name": "FelixSFD", "link": "https://stackoverflow.com/users/4687348/felixsfd"}, "edited": false, "score": 7, "creation_date": 1477905429, "post_id": 40339212, "comment_id": 67932958, "body": "Welcome to StackOverflow! Can you please post, what you have tried yet? Please provide a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}], "answers": [{"tags": [], "owner": {"reputation": 7445, "user_id": 1529709, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3tKqC.jpg?s=128&g=1", "display_name": "zb226", "link": "https://stackoverflow.com/users/1529709/zb226"}, "is_accepted": false, "score": 0, "last_activity_date": 1477919130, "last_edit_date": 1477919130, "creation_date": 1477905321, "answer_id": 40339284, "question_id": 40339212, "link": "https://stackoverflow.com/questions/40339212/how-can-i-get-the-last-element-of-each-line-in-perl/40339284#40339284", "title": "How can I get the last element of each line in perl?", "body": "<p>I assume by last element you mean the last value separated by <code>.</code>. Have a look at this code:</p>\n\n<pre><code>use strict;\nmy @last_values;                        # UPDATE: initialize array\nfor my $line (&lt;DATA&gt;) {                 # read line by line\n    chomp $line;                        # remove newline at the end\n    my @fields = split '\\.', $line;     # split to fields\n    my $last = pop @fields;             # get last field\n    print $last.\"\\n\";\n    push @last_values, $last;           # UPDATE: store last field in array \n}\n\n__DATA__\n1.25.56.524.2\n2.56.25.254.3\n2.54.28.264.2\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2\n3\n2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 364, "user_id": 2678268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmPwJ.png?s=128&g=1", "display_name": "VCSEL", "link": "https://stackoverflow.com/users/2678268/vcsel"}, "is_accepted": false, "score": 0, "last_activity_date": 1477918425, "last_edit_date": 1477918425, "creation_date": 1477905761, "answer_id": 40339398, "question_id": 40339212, "link": "https://stackoverflow.com/questions/40339212/how-can-i-get-the-last-element-of-each-line-in-perl/40339398#40339398", "title": "How can I get the last element of each line in perl?", "body": "<p>One possibility would be:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy @Result;                 # Array holding the results\n\nwhile (&lt;DATA&gt;)              # whatever you use to provide the lines...\n{\n  chomp;                    # good practice, usually necessary for STDIN\n  my @Tokens = split(/\\./); # assuming that \".\" is the separator\n  push( @Result , $Tokens[-1] );\n}\n\n__DATA__\n1.25.56.524.2\n2.56.25.254.3\n2.54.28.264.2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": false, "score": 4, "last_activity_date": 1477906071, "creation_date": 1477906071, "answer_id": 40339471, "question_id": 40339212, "link": "https://stackoverflow.com/questions/40339212/how-can-i-get-the-last-element-of-each-line-in-perl/40339471#40339471", "title": "How can I get the last element of each line in perl?", "body": "<p>Just <a href=\"http://p3rl.org/split\" rel=\"nofollow\">split</a> each line on a dot, last element has the index -1:</p>\n\n<pre><code>print +(split /\\./)[-1] while &lt;&gt;;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7091213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bKmsPraHUf0/AAAAAAAAAAI/AAAAAAAAC7Y/wJTZu-2WVsg/photo.jpg?sz=128", "display_name": "Preetham Kalakuntla", "link": "https://stackoverflow.com/users/7091213/preetham-kalakuntla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1477919130, "creation_date": 1477904997, "last_edit_date": 1477905121, "question_id": 40339212, "link": "https://stackoverflow.com/questions/40339212/how-can-i-get-the-last-element-of-each-line-in-perl", "title": "How can I get the last element of each line in perl?", "body": "<p>I have to get the last element in each line. I am using <code>perl</code>..</p>\n\n<pre><code> 1.25.56.524.2\n 2.56.25.254.3\n 2.54.28.264.2\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 0, "creation_date": 1477899187, "post_id": 40338066, "comment_id": 67930646, "body": "Do you have to use the range operator? What if you just range from 1 to 4 and print the number 3 times instead?"}, {"owner": {"reputation": 27, "user_id": 6780943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5aa345ac3eb2e6032d8129a0286b0ce9?s=128&d=identicon&r=PG&f=1", "display_name": "andrew99", "link": "https://stackoverflow.com/users/6780943/andrew99"}, "reply_to_user": {"reputation": 4186, "user_id": 2773311, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wIGqo.png?s=128&g=1", "display_name": "Arc676", "link": "https://stackoverflow.com/users/2773311/arc676"}, "edited": false, "score": 0, "creation_date": 1477899621, "post_id": 40338066, "comment_id": 67930784, "body": "yeah,i have to use that sir."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477905054, "post_id": 40338261, "comment_id": 67932794, "body": "@vanHoesel haven&#39;t seen you around here o/"}], "tags": [], "owner": {"reputation": 946, "user_id": 1765406, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Koqta.jpg?s=128&g=1", "display_name": "vanHoesel", "link": "https://stackoverflow.com/users/1765406/vanhoesel"}, "is_accepted": false, "score": 7, "last_activity_date": 1477949231, "last_edit_date": 1477949231, "creation_date": 1477900028, "answer_id": 40338261, "question_id": 40338066, "link": "https://stackoverflow.com/questions/40338066/how-to-put-repeating-number-on-range-operator-perl/40338261#40338261", "title": "How to put repeating number on range operator perl", "body": "<p>If you do not need the other numbers in between at all, but want to have an array that has the repeating ones as described, the easy and elegant way could be:</p>\n\n<pre><code>@nums = map {$_ x3} 1..4;\n</code></pre>\n\n<p>have fun</p>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 6780943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5aa345ac3eb2e6032d8129a0286b0ce9?s=128&d=identicon&r=PG&f=1", "display_name": "andrew99", "link": "https://stackoverflow.com/users/6780943/andrew99"}, "edited": false, "score": 0, "creation_date": 1477909461, "post_id": 40339756, "comment_id": 67934873, "body": "hi,thanks sir..but actually my script is like this @nums = (map { $_ * 111 } 1 .. 4,map { $_ * 1111 } 1 .. 4); ,but when i print it the second element not sequencing,how&#39;s that?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 27, "user_id": 6780943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5aa345ac3eb2e6032d8129a0286b0ce9?s=128&d=identicon&r=PG&f=1", "display_name": "andrew99", "link": "https://stackoverflow.com/users/6780943/andrew99"}, "edited": false, "score": 0, "creation_date": 1477926270, "post_id": 40339756, "comment_id": 67943954, "body": "That seems to be a precedence issue. Try <code>@nums = (map { $_ * 111 } 1 .. 4),(map { $_ * 1111 } 1 .. 4)</code>."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1477907274, "last_edit_date": 1495540098, "creation_date": 1477907274, "answer_id": 40339756, "question_id": 40338066, "link": "https://stackoverflow.com/questions/40338066/how-to-put-repeating-number-on-range-operator-perl/40339756#40339756", "title": "How to put repeating number on range operator perl", "body": "<p>Two alternative solutions. One, perhaps, more readable than <a href=\"https://stackoverflow.com/a/40338261/7231\">vanHoesel's</a>:</p>\n\n<pre><code>@nums = map { $_ * 111 } 1 .. 4;\n</code></pre>\n\n<p>And another which is really inefficient and ridiculous:</p>\n\n<pre><code>@nums = grep { ! ($_ % 111) } 111 .. 444;\n</code></pre>\n\n<p>Please don't use the second one :-)</p>\n"}], "owner": {"reputation": 27, "user_id": 6780943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5aa345ac3eb2e6032d8129a0286b0ce9?s=128&d=identicon&r=PG&f=1", "display_name": "andrew99", "link": "https://stackoverflow.com/users/6780943/andrew99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1477949231, "creation_date": 1477898918, "question_id": 40338066, "link": "https://stackoverflow.com/questions/40338066/how-to-put-repeating-number-on-range-operator-perl", "title": "How to put repeating number on range operator perl", "body": "<p>Hi guy's i hv a question about range operator in perl</p>\n\n<p>my simple scripts</p>\n\n<pre><code>@nums = (111..444);print \"@nums\\n\";\n</code></pre>\n\n<p>how do i make the output like </p>\n\n<pre><code>111 222 333 444\n</code></pre>\n"}, {"tags": ["perl", "floating-point", "precision"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1477893476, "post_id": 40336665, "comment_id": 67929273, "body": "The <a href=\"http://perldoc.perl.org/functions/int.html\" rel=\"nofollow noreferrer\"><code>int</code></a> doesn&#39;t round.  You can use <code>sprintf &quot;%.N&quot;, $float</code> (or with <code>printf</code>)"}, {"owner": {"reputation": 664, "user_id": 3909192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d10ef479a5d668b1a42f1423104bb5de?s=128&d=identicon&r=PG&f=1", "display_name": "PeterT", "link": "https://stackoverflow.com/users/3909192/petert"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1477925383, "post_id": 40336665, "comment_id": 67943373, "body": "Yes, but how do I solve my problem? POSIX::float() rounds and produces the same results."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 0, "creation_date": 1477927014, "post_id": 40336665, "comment_id": 67944435, "body": "What is the output and behavior you are looking for?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1477938643, "post_id": 40336665, "comment_id": 67951129, "body": "@PeterT  Than it may be unclear to us what your problem is -- what precise output do you want? A logarithm characteristic is the integer part, and I thought that the answer by <a href=\"http://stackoverflow.com/users/298607/dawg\">dawg</a> tells you all you need. Btw, please remember that fractional powers really involve roots, which brings in branches and branch cuts of a complex function.  (You <i>can</i> ignore that -- if appropriate for what you are doing.)"}, {"owner": {"reputation": 664, "user_id": 3909192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d10ef479a5d668b1a42f1423104bb5de?s=128&d=identicon&r=PG&f=1", "display_name": "PeterT", "link": "https://stackoverflow.com/users/3909192/petert"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1477957028, "post_id": 40336665, "comment_id": 67958686, "body": "I want to compute the characteristic for a base-10 log in PERL. The characteristic is the integer part of the logarithm. So naturally I tried using int() on float, thinking it would return the integer portion, but I clearly don&#39;t understand what int() does, because as my example shows log1000/log10 should equal exactly 3 by definition, and int of log(1000)/log(10) should also be 3. But it is 2. Hence my confusion. @zdim"}], "answers": [{"comments": [{"owner": {"reputation": 664, "user_id": 3909192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d10ef479a5d668b1a42f1423104bb5de?s=128&d=identicon&r=PG&f=1", "display_name": "PeterT", "link": "https://stackoverflow.com/users/3909192/petert"}, "edited": false, "score": 0, "creation_date": 1477957193, "post_id": 40336809, "comment_id": 67958724, "body": "Thanks for showing me modf. Sorry to be so dense but because int() of log(x)/log(10) with x=1000 should always be exactly 3 I&#39;m a bit confused. And if x = 1001 the integer part should be 3 as well. And x = 999 it should be 2. Soooo. what&#39;s a general solution that is continuous that provides the correct expected answer?"}, {"owner": {"reputation": 664, "user_id": 3909192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d10ef479a5d668b1a42f1423104bb5de?s=128&d=identicon&r=PG&f=1", "display_name": "PeterT", "link": "https://stackoverflow.com/users/3909192/petert"}, "edited": false, "score": 0, "creation_date": 1477957386, "post_id": 40336809, "comment_id": 67958782, "body": "Oooorrrr, should i just -always- pass floating point #s through sprintf() to trim to some precision in between computational steps? Or should I be using a float library? Or should I be comparing to an epsilon and testing for errors?"}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "reply_to_user": {"reputation": 664, "user_id": 3909192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d10ef479a5d668b1a42f1423104bb5de?s=128&d=identicon&r=PG&f=1", "display_name": "PeterT", "link": "https://stackoverflow.com/users/3909192/petert"}, "edited": false, "score": 0, "creation_date": 1477958155, "post_id": 40336809, "comment_id": 67958973, "body": "Well <code>log</code> is a <a href=\"http://mathworld.wolfram.com/TranscendentalFunction.html\" rel=\"nofollow noreferrer\">Transcendental Function</a> and the best you can do on a computer is either a polynomial approximation (which is what <code>log</code> does) or use a symbolic math package such as <a href=\"http://search.cpan.org/~smueller/Math-Symbolic-0.612/lib/Math/Symbolic.pm\" rel=\"nofollow noreferrer\">Math::Symbolic</a> or others of that type"}], "tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 3, "last_activity_date": 1478025002, "last_edit_date": 1478025002, "creation_date": 1477890080, "answer_id": 40336809, "question_id": 40336665, "link": "https://stackoverflow.com/questions/40336665/perl-precision-error-when-computing-base-10-log-characteristic/40336809#40336809", "title": "PERL precision error when computing base-10 log characteristic", "body": "<p>You need a lot more than the default decimal places before <code>2.999....</code> is not rounded to 3.</p>\n\n<p>Try:</p>\n\n<pre><code>$ perl -e 'printf \"%.17f\\n\",log(1000)/log(10)'\n2.99999999999999956\n</code></pre>\n\n<p>And <code>int</code> is the floor of a float:</p>\n\n<pre><code>$ perl -e 'print int(2.999).\"\\n\"'\n2\n</code></pre>\n\n<hr>\n\n<p>The standard way of dealing with the floating part and integer part of a float is contained in the <a href=\"http://perldoc.perl.org/POSIX.html\" rel=\"nofollow noreferrer\">POSIX</a> module. </p>\n\n<p>You can separate the integer part and float part with <code>modf</code>:</p>\n\n<pre><code>$ perl -MPOSIX -e '($fp, $ip)=modf(3.14); print \"$fp $ip\\n\"'\n0.14 3\n</code></pre>\n\n<p>Or, in your case:</p>\n\n<pre><code>$ perl -MPOSIX -e '($fp, $ip)=modf(log(1000)/log(10)); printf \"%.17f %i\\n\",$fp,$ip '\n0.99999999999999956 2\n</code></pre>\n\n<p>You can also use <code>ceil</code>, <code>floor</code>, <code>fxexp</code>, and <code>round</code> for standard versions of those functions. </p>\n\n<p>If <em>precision</em> is your concern, potentially an easy partial fix is to use the <a href=\"http://perldoc.perl.org/bignum.html\" rel=\"nofollow noreferrer\">bignum</a> library:</p>\n\n<pre><code>$ perl -Mbignum -e 'printf \"%.30f\\n\",log(1000)/log(10)'\n3.000000000000000000000000000000\n</code></pre>\n\n<p>Or, as a pragma:</p>\n\n<pre><code>$ perl -MPOSIX -e 'use bigint; ($fp, $ip)=modf(log(1000)/log(10)); printf \"%.45f %i\\n\",$fp,$ip'\n0.000000000000000000000000000000000000000000000 3\n</code></pre>\n\n<p>Or, since <code>log</code> is a <a href=\"http://mathworld.wolfram.com/TranscendentalFunction.html\" rel=\"nofollow noreferrer\">transcendental function</a>, use a symbolic math package. </p>\n"}], "owner": {"reputation": 664, "user_id": 3909192, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d10ef479a5d668b1a42f1423104bb5de?s=128&d=identicon&r=PG&f=1", "display_name": "PeterT", "link": "https://stackoverflow.com/users/3909192/petert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1478025002, "creation_date": 1477888820, "last_edit_date": 1477925449, "question_id": 40336665, "link": "https://stackoverflow.com/questions/40336665/perl-precision-error-when-computing-base-10-log-characteristic", "title": "PERL precision error when computing base-10 log characteristic", "body": "<p>I realize FP representations of non-power-of-two numbers always have errors but this...</p>\n\n<pre><code>% perl -e 'print int(log(1000)/log(10)).\"\\n\"'\n2\n% perl -e 'print (log(1000)/log(10)).\"\\n\"'\n3\n% perl -v\n\nThis is perl 5, version 22, subversion 2 (v5.22.2) built for darwin-thread-multi-2level\n</code></pre>\n\n<p>...oy... what would be a workaround for finding the characteristic (integer part) of a base-10 (or arbitrary base) logarithm? Thanks!</p>\n\n<p><strong>EDIT</strong>: POSIX::floor() produces the same result. So the question stands, how do I compute the characteristic of a logarithm if I'm running into rounding errors?</p>\n"}, {"tags": ["perl", "cgi", "centos7"], "comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1477892303, "post_id": 40335745, "comment_id": 67928997, "body": "You need to tell your server to treat .pl files (or all files in the cgi-bin dir) as CGI scripts"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477892344, "post_id": 40335745, "comment_id": 67929008, "body": "Also, <code>#!usr&#47;bin&#47;perl</code> should be <code>#!&#47;usr&#47;bin&#47;perl</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1477892451, "post_id": 40335745, "comment_id": 67929035, "body": "Finally, you should always use <code>use strict; use warnings qw( all );</code>. It will find a major and a minor error with your program. (It won&#39;t find your HTML injection error, though.)"}, {"owner": {"reputation": 1561, "user_id": 1447507, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/f14xA.jpg?s=128&g=1", "display_name": "Srihari Karanth", "link": "https://stackoverflow.com/users/1447507/srihari-karanth"}, "edited": false, "score": 0, "creation_date": 1477894554, "post_id": 40335745, "comment_id": 67929523, "body": "As ikegami pointed-out, #!usr/bin/perl seems to be the problem."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 1561, "user_id": 1447507, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/f14xA.jpg?s=128&g=1", "display_name": "Srihari Karanth", "link": "https://stackoverflow.com/users/1447507/srihari-karanth"}, "edited": false, "score": 0, "creation_date": 1477903628, "post_id": 40335745, "comment_id": 67932160, "body": "@SrihariKaranth: While <code>#!usr&#47;bin&#47;perl</code> <b>is</b> a major problem here, I&#39;m pretty sure it&#39;s not what is causing this behaviour. The web server isn&#39;t even trying to execute the program. I&#39;ve never seen a web server configured so that if it can&#39;t successfully execute a CGI program, it will return the source code instead. That sounds like a major security issue!"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1477903980, "creation_date": 1477903980, "answer_id": 40339001, "question_id": 40335745, "link": "https://stackoverflow.com/questions/40335745/pl-links-downloading-and-not-opening-in-new-browser-tab/40339001#40339001", "title": ".pl links downloading and not opening in new browser tab", "body": "<p>This has nothing at all to do with your HTML or your Perl program. This is down to your web server configuration. Your web server (which, I assume, is Apache) needs to be configured to recognise <code>/var/www/html/vhost1/cgi-bin/</code> as a CGI directory.</p>\n\n<p>You will need something like this in the configuration file for your virtual host.</p>\n\n<pre><code>ScriptAlias /cgi-bin/ \"/var/www/html/vhost1/cgi-bin/\"\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>&lt;Directory \"/var/www/html/vhost1/cgi-bin/\"&gt;\n    Options +ExecCGI\n    AddHandler cgi-script .pl\n&lt;/Directory&gt;\n</code></pre>\n\n<p>Once that has been fixed, you will stop getting the source code sent to your browser. At that point, however, you will almost certainly get a \"500 Error\" page. You can then work on fixing the errors in your CGI program (starting with the incorrect shebang line and content-type header).</p>\n"}], "owner": {"reputation": 1, "user_id": 5884317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c21e84e5d9840ce6bf606ff44258741d?s=128&d=identicon&r=PG&f=1", "display_name": "Nmatheny", "link": "https://stackoverflow.com/users/5884317/nmatheny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477903980, "creation_date": 1477880062, "question_id": 40335745, "link": "https://stackoverflow.com/questions/40335745/pl-links-downloading-and-not-opening-in-new-browser-tab", "title": ".pl links downloading and not opening in new browser tab", "body": "<p>I am new to cgi and Perl, but i am trying to display ENV of of web page using a perl script. I created an index.html page inside of a vhost1 directory, which points to my .pl page which is inside my cgi-bin directory. the directory paths are as followed in coresponding order /var/www/html/vhost1/index.html and /var/www/html/vhost1/cgi-bin/first.pl. \nmy index.html code is as followed</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Hello World!&lt;/h1&gt;\n&lt;a href = \"cgi-bin/first.pl\" target=\"_blank\"&gt; My First Perl Page&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And my .pl page is looks like</p>\n\n<pre><code>#!usr/bin/perl\n\nprint \"Content-type: text/html \\n\\n \";\nprint \"Hello, Nate\";\nforeach $key (sort keys %ENV)\n{\nprint \"$key -&gt; $ENV($key) &lt;br&gt;\\n\";\n}\n</code></pre>\n\n<p>I am using Centos7 to complete this project my URL path to my home page is\n<a href=\"http://131.183.223.173/vhost1/\" rel=\"nofollow\">http://131.183.223.173/vhost1/</a></p>\n\n<p>I want my ENV results to display in a new tab rather then being downloaded to my computer.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1477876763, "post_id": 40335335, "comment_id": 67926045, "body": "Your forgot to say <code>... = @_;</code>"}, {"owner": {"reputation": 293, "user_id": 6878574, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2721dd31ca4fb59a161189cb5c7cca9a?s=128&d=identicon&r=PG&f=1", "display_name": "J0HN_TIT0R", "link": "https://stackoverflow.com/users/6878574/j0hn-tit0r"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1477876883, "post_id": 40335335, "comment_id": 67926074, "body": "Oh my...  Well thanks for pointing that out!  It&#39;s been a long day haha"}, {"owner": {"reputation": 170445, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 1, "creation_date": 1477888817, "post_id": 40335335, "comment_id": 67928291, "body": "As an aside -- <a href=\"http://stackoverflow.com/questions/297034/why-are-perl-5s-function-prototypes-bad\">avoid using sub prototypes.</a> They are confusing, and are incompatible with object-oriented code. If you need to pass a hash to a function by reference, store it as a hashref, or take a reference (<code>\\%h</code>) when calling the function."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1477884958, "creation_date": 1477884958, "answer_id": 40336235, "question_id": 40335335, "link": "https://stackoverflow.com/questions/40335335/trouble-using-prototypes-to-pass-hash-reference-to-subroutine-in-perl/40336235#40336235", "title": "Trouble using prototypes to pass hash reference to subroutine in Perl?", "body": "<p>You never assigned anything to <code>$hashRef</code> and <code>$evidenceCode</code>. Replace</p>\n\n<pre><code>my ($hashRef, $evidenceCode);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>my ($hashRef, $evidenceCode) = @_;\n</code></pre>\n"}], "owner": {"reputation": 293, "user_id": 6878574, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2721dd31ca4fb59a161189cb5c7cca9a?s=128&d=identicon&r=PG&f=1", "display_name": "J0HN_TIT0R", "link": "https://stackoverflow.com/users/6878574/j0hn-tit0r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477884958, "creation_date": 1477876152, "question_id": 40335335, "link": "https://stackoverflow.com/questions/40335335/trouble-using-prototypes-to-pass-hash-reference-to-subroutine-in-perl", "title": "Trouble using prototypes to pass hash reference to subroutine in Perl?", "body": "<p>So I seem to be having trouble passing a hash reference to a subroutine in Perl.  I'm attempting to pass the references using prototypes, and I think that may be where the problem is coming from.  In short, when dereferencing the hash reference in the subroutine and attempting to print out an array of the keys, the array is empty, while I can confirm that it does contain keys when printed outside of the subroutine.</p>\n\n<p>Forward definition of the subroutine:</p>\n\n<pre><code>sub getEvidenceCodeFilteredHash (\\%$);\n</code></pre>\n\n<p>Subroutine in question.  The say functions are to see what's happening in the subroutine, and as of now, only 'ONE' is printing out:</p>\n\n<pre><code>sub getEvidenceCodeFilteredHash (\\%$) {\n    my ($hashRef, $evidenceCode);\n    my %evidenceCodeFilteredHash;\n    say \"ONE\";\n    say (keys %{$hashRef});\n    foreach (keys %{$hashRef}) {\n            say \"TWO\";\n            if ($_ ne '!gaf-version: 2.0') {\n                    say \"THREE\";\n                    ${$hashRef}{$_} =~ /^\\S+?\\s+?\\S+?\\s+?\\S+?\\s+?\\S+?\\s+?\\S+?\\s+?(\\S+?)\\s.$/;\n                    if ($evidenceCode eq $1) {\n                            say \"FOUR\";\n                            $evidenceCodeFilteredHash{$_} = ${$hashRef}{$_};\n                            say $evidenceCodeFilteredHash{$_};\n                    }\n            }\n    }\n    return %evidenceCodeFilteredHash;\n}\n</code></pre>\n\n<p>Calling the subroutine on a hash and a scalar:</p>\n\n<pre><code>my %evidenceCodeFilteredHash = getEvidenceCodeFilteredHash(%commonPairHash, $evidenceCode);\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["perl", "sendmail"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1477871813, "post_id": 40334365, "comment_id": 67925103, "body": "when you run the same commands from the command line, do you get the same result without Perl?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1477903465, "post_id": 40334365, "comment_id": 67932090, "body": "Perhaps we could e more help if we saw some of the code. Where does hostgator.com fit in to the system? Do emails sent from this server through other mechanisms (perhaps through an email client program) exhibit the same behaviour?"}], "owner": {"reputation": 15, "user_id": 3226211, "user_type": "registered", "accept_rate": 30, "profile_image": "https://graph.facebook.com/100000056444096/picture?type=large", "display_name": "WebStuck", "link": "https://stackoverflow.com/users/3226211/webstuck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1477866760, "creation_date": 1477866760, "question_id": 40334365, "link": "https://stackoverflow.com/questions/40334365/configure-sendmail-to-show-my-domain-name", "title": "Configure Sendmail to Show my Domain Name", "body": "<p>I have a Perl script that uses sendmail to email people after a web form is submitted. When I receive the email in Gmail, it shows that the email comes from webmaster@romancefromtheheart.com via gator1234.hostgator.com. How can I set up sendmail so it doesn't show the via gator1234.hostgator.com part?</p>\n\n<p>Thanks!\nBen</p>\n"}, {"tags": ["git", "perl"], "comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1477854114, "post_id": 40331612, "comment_id": 67919961, "body": "What you&#39;re implementing can probably be better done with <a href=\"https://en.wikipedia.org/wiki/Rsync\" rel=\"nofollow noreferrer\">rsync</a> and one <code>git add .</code> call."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477863245, "post_id": 40331612, "comment_id": 67922826, "body": "Is the problem building the command in the first place (a git or shell problem), or getting the command to execute from Perl (a Perl issue)?"}], "answers": [{"tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": false, "score": 5, "last_activity_date": 1477853957, "creation_date": 1477853957, "answer_id": 40332500, "question_id": 40331612, "link": "https://stackoverflow.com/questions/40331612/git-pull-from-perl/40332500#40332500", "title": "Git pull from perl", "body": "<p>Yes, you can set <a href=\"https://git-scm.com/docs/git\">the <code>GIT_DIR</code> environment variable or the <code>--git-dir</code> option</a> to tell git what <code>.git</code> directory to use.</p>\n\n<p>However, you're better off using something like <a href=\"https://metacpan.org/pod/Git\">Git.pm</a>.</p>\n\n<pre><code>use Git;\n\nmy $repo = Git-&gt;repository(Directory =&gt; '/srv/git/cogito.git');\n$repo-&gt;command(\"commit\", \"-m\", $message);\n</code></pre>\n\n<p>This avoids numerous problems like shell escaping, error handling, capturing output, and forgetting to set <code>--git-dir</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 7092160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vIibu.jpg?s=128&g=1", "display_name": "user7092160", "link": "https://stackoverflow.com/users/7092160/user7092160"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1072, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1477853957, "creation_date": 1477847997, "question_id": 40331612, "link": "https://stackoverflow.com/questions/40331612/git-pull-from-perl", "title": "Git pull from perl", "body": "<p>I'm attempting to automate code backups into git, with little success.  In this case I'm attempting it in perl.  My current issue is that git expects to be in the proper directory when run. (pay attention to the third line.) I'm receiving the error: <strong>fatal: Invalid refspec 'dest=c:\\data\\git\\aperio\\Scratch\\src\\rich'</strong>\nIs there a way to define my directory as an arg?  Or failing that running in an environment pointed to the directory? </p>\n\n<p><strong>Note:</strong> I recognize this will be a problem for most git commands, not just the pull.</p>\n\n<pre><code>    ...\n    @file=(\"deploy*.bat\",\"deploy.ini\",\"product.lic\");\n    system(\"$gitexe checkout integrate\");\n    system(\"$gitexe pull url=https://github.com/Aperio/aperio/Scratch/src/rich dest=c:\\\\data\\\\git\\\\aperio\\\\Scratch\\\\src\\\\rich\");\n    exit if ($testing);\n    my $message=\"Changed: \";\n    foreach $file (@file) {\n        my ($src,$git,$timestamp,$sb,$message);\n        my @files = glob($file);\n        foreach my $f (@files) {\n            $git=$gitdir.\"\\\\rich\\\\\".$f;\n            say $git;\n            # Update git if needed\n            if ((stat($git))[9] &lt; (stat($f))[9]) { \n                $message.=\"$f, \";\n                system(\"robocopy.exe . $gitdir /R:3 /Z /XO $f\"); # Copy file to git folder\n                system(\"$gitexe add $gitdir\\\\rich\\\\$f\");\n            }\n        }\n    }\n    system(\"$gitexe commit -m $message\");\n    system(\"$gitexe status\");\n    system(\"$gitexe push origin \");\n</code></pre>\n"}, {"tags": ["apache", "perl", "unix", "ssh", "server"], "comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1477844514, "post_id": 40331073, "comment_id": 67917066, "body": "My not just set up a web server/perl on your PC?"}, {"owner": {"reputation": 21, "user_id": 4246102, "user_type": "registered", "profile_image": "https://graph.facebook.com/507407250/picture?type=large", "display_name": "Will Dixon", "link": "https://stackoverflow.com/users/4246102/will-dixon"}, "reply_to_user": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1477844910, "post_id": 40331073, "comment_id": 67917170, "body": "Good plan B, but I can&#39;t be sure a script that runs on my server will run on theirs.  But I&#39;m definitely going to start doing that now. Googling now, but any recommendations? ="}, {"owner": {"reputation": 4598, "user_id": 145364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdd3f07ac5b720b510dc17843ab9d37?s=128&d=identicon&r=PG", "display_name": "Jim Davis", "link": "https://stackoverflow.com/users/145364/jim-davis"}, "edited": false, "score": 1, "creation_date": 1477845239, "post_id": 40331073, "comment_id": 67917267, "body": "You could use SSH to tunnel a local port to remote localhost:80.  Something like this:  <a href=\"http://askubuntu.com/questions/112177/how-do-i-tunnel-and-browse-the-server-webpage-on-my-laptop\" title=\"how do i tunnel and browse the server webpage on my laptop\">askubuntu.com/questions/112177/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 4246102, "user_type": "registered", "profile_image": "https://graph.facebook.com/507407250/picture?type=large", "display_name": "Will Dixon", "link": "https://stackoverflow.com/users/4246102/will-dixon"}, "edited": false, "score": 0, "creation_date": 1477845642, "post_id": 40331073, "comment_id": 67917374, "body": "oooh, that&#39;s cool. Trying it now. ty!"}, {"owner": {"reputation": 7570, "user_id": 17945, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e8cbc0b9ed29b027a127d8df309af5a6?s=128&d=identicon&r=PG", "display_name": "reinierpost", "link": "https://stackoverflow.com/users/17945/reinierpost"}, "edited": false, "score": 0, "creation_date": 1477895812, "post_id": 40331073, "comment_id": 67929813, "body": "Have you checked whether the file is world readable?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4246102, "user_type": "registered", "profile_image": "https://graph.facebook.com/507407250/picture?type=large", "display_name": "Will Dixon", "link": "https://stackoverflow.com/users/4246102/will-dixon"}, "edited": false, "score": 0, "creation_date": 1477847493, "post_id": 40331278, "comment_id": 67917914, "body": "nuts, I&#39;m getting an error from terminal when I try and look at port 8080 channel 2: open failed: administratively prohibited: open failed probably means I don&#39;t have permissions to do this."}, {"owner": {"reputation": 21, "user_id": 4246102, "user_type": "registered", "profile_image": "https://graph.facebook.com/507407250/picture?type=large", "display_name": "Will Dixon", "link": "https://stackoverflow.com/users/4246102/will-dixon"}, "edited": false, "score": 0, "creation_date": 1477847813, "post_id": 40331278, "comment_id": 67917996, "body": "yeah, I&#39;ve searched the error, and it means I don&#39;t have permissions to do this. Still yours is the answer I was looking for so tyvm"}, {"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 1, "creation_date": 1477850022, "post_id": 40331278, "comment_id": 67918670, "body": "Sometimes the sshd (the <code>ssh</code> daemon, i.e. the server side&#39;s end of your ssh connection) is configured to disallow ssh tunnels. Perhaps this is the case here."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": true, "score": 1, "last_activity_date": 1477845682, "creation_date": 1477845682, "answer_id": 40331278, "question_id": 40331073, "link": "https://stackoverflow.com/questions/40331073/how-can-i-open-a-web-browser-on-a-server-that-i-can-connect-to-through-ssh/40331278#40331278", "title": "How can I open a web browser on a server that I can connect to through ssh?", "body": "<p>An SSH tunnel is most likely the most feasible and easiest way to do what you want. Set up the tunnel like this:</p>\n\n<pre><code>ssh -L8080:www2.scs.ryerson.ca:80 username@www2.scs.ryerson.ca\n</code></pre>\n\n<p>If the www2 server is not the host you SSH to, simply replace the second instance of it in the command with the SSH server.</p>\n\n<p>I use port <code>8080</code> here, as that alleviates you from needing <code>root</code> privileges.</p>\n\n<p>Now, on your local workstation, in your browser, browse to:</p>\n\n<pre><code>http://localhost:8080\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4246102, "user_type": "registered", "profile_image": "https://graph.facebook.com/507407250/picture?type=large", "display_name": "Will Dixon", "link": "https://stackoverflow.com/users/4246102/will-dixon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3006, "favorite_count": 1, "accepted_answer_id": 40331278, "answer_count": 1, "score": 1, "last_activity_date": 1477845682, "creation_date": 1477844392, "last_edit_date": 1592644375, "question_id": 40331073, "link": "https://stackoverflow.com/questions/40331073/how-can-i-open-a-web-browser-on-a-server-that-i-can-connect-to-through-ssh", "title": "How can I open a web browser on a server that I can connect to through ssh?", "body": "<p>I'm in a computer science program at my university (Ryerson) and I'm learning perl programming.</p>\n<p>The way we're learning is by hosting perl scripts on our university's server and doing stuff with them.</p>\n<p>I'm away from the university and the university's server is very strict about which IP's can use the www2 subdomain (which is the subdomain that runs perl scripts). And the IP I'm working from gets me the error:</p>\n<br>\n<br>\n<p>Forbidden</p>\n<p>You don't have permission to access /~w3dixon/cgi-bin/lab4.cgi on this server.</p>\n<p>Apache/2.2.22 (Debian) Server at www2.scs.ryerson.ca Port 80</p>\n<br>\n<br>\n<p><a href=\"http://www2.scs.ryerson.ca/%7Ew3dixon/cgi-bin/lab4.cgi\" rel=\"nofollow noreferrer\">Here's the link, if you want to try to access the script yourself.</a></p>\n<p>So I'm being blocked. Normally I'd contact the sys admin and get them to unblock me, but a working perl script is due tonight. (I also tried using a VPN, it was blocked as well).</p>\n<p>My solution was to SSH with terminal on my mac and/or Putty on my PC into Ryerson's server and use the unix command 'lynx' to run my scripts (since they aren't blocking their own IPs).</p>\n<p>I was having some success, until I tried to use the perl get method from an html form (I copy pasted a script from <a href=\"https://www.tutorialspoint.com/perl/perl_cgi.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/perl/perl_cgi.htm</a> just to get started, to see if syntactically correct code would work properly with my lynx strategy).</p>\n<p>So when I was working on my script using a terminal at the university (with google chrome), my scripts worked fine.</p>\n<p>Ryerson (my university), doesn't have a remote access program set up (other than ssh), but is there a way to access my webpage through their servers on a GUI browser installed on my machine?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "edited": false, "score": 3, "creation_date": 1477805441, "post_id": 40326032, "comment_id": 67907870, "body": "Asking this question indicates you do not understand how dynamic HTML is generated.  You could that only if you were running a Perl CGI script, not serving a plain HTML file.  Providing a tutorial on CGI is beyond the scope of StackOverflow."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 2, "creation_date": 1477813091, "post_id": 40326032, "comment_id": 67909001, "body": "Answer: No.  You cannot.  The typical way to create dynamic pages using perl is to create a template file with perl variables and then use perl to render the template (eval the variables) and then print out the html and then pass it off to the web server to deliver as your html page."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1477829101, "post_id": 40327495, "comment_id": 67912699, "body": "Well, not the <i>only</i> way, surely :-) I can envisage a system where client side Javacript walks the DOM looking for variables and then fires off an AJAX request for the value of that variable which it then inserts into the page at the right place. It&#39;s not a particularly sensible idea, but it&#39;s possible!"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1477830618, "post_id": 40327495, "comment_id": 67913149, "body": "Yes but in that case its not a perl variable its just a string which javascript would then send in an ajax call. The string might look like a Perl variable but it wouldnt be, it would just be a plain string"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1477857011, "post_id": 40327495, "comment_id": 67920764, "body": "@DaveCross I think your idea needs more jQuery! ;)"}], "tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": false, "score": 3, "last_activity_date": 1477818817, "last_edit_date": 1477818817, "creation_date": 1477818196, "answer_id": 40327495, "question_id": 40326032, "link": "https://stackoverflow.com/questions/40326032/adding-an-perl-variable-in-html-file/40327495#40327495", "title": "Adding an Perl Variable in .html file", "body": "<p>There are many languages which \"look\" like they are putting variables directly in the html. However the html with the variable in it is just a template. When someone navigates to the URL that should serve that html, the server will fist take the html template, parse it and then interpolate the variables into it. So what is actually returned to the client is normal html with the variable values filled in already. You cannot expect to return html with place holder variables and expect the client to then fill in those values. what if the client side didn't have the respective language on their machine, tablet, phone etc. How would the browser know what language it was and how to fill in the values.</p>\n\n<p>In short if you mean to put Perl variables in static html which you then return to the client expecting them to interpolate then the answer is no, this wouldn't work.</p>\n\n<p>The only way to achieve this is to have the html first parsed and interpolated on the server side, and then return the html to the client after the variables have been substituted.</p>\n"}], "owner": {"reputation": 325, "user_id": 2365884, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3cf67b8cf7af05ee0e93a1205a8f8de6?s=128&d=identicon&r=PG", "display_name": "Jitesh", "link": "https://stackoverflow.com/users/2365884/jitesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1477818817, "creation_date": 1477801949, "question_id": 40326032, "link": "https://stackoverflow.com/questions/40326032/adding-an-perl-variable-in-html-file", "title": "Adding an Perl Variable in .html file", "body": "<p>I have a question - I would like to add a Perl variable to my index.html page. How can I do that.\nIf its a Perl file it can be done by <code>print qq{&lt;td&gt;$variable&lt;/td&gt;};</code>\nBut I am not sure that can be done inside a .html file.\nI need something like  which we use inside html file in case of PHP.\nI checked most of the answers in stackoverflow but everyone was saying about creating html inside perl.\nPlease let me know if my question can be achieved.</p>\n"}, {"tags": ["regex", "perl", "replace", "sed"], "answers": [{"tags": [], "owner": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "is_accepted": false, "score": -1, "last_activity_date": 1477806226, "last_edit_date": 1477806226, "creation_date": 1477800696, "answer_id": 40325968, "question_id": 40325943, "link": "https://stackoverflow.com/questions/40325943/regular-expression-for-left-bracket-three-digits-right-bracket-i-e-123-or-36/40325968#40325968", "title": "regular expression for left bracket three digits right bracket i.e. [123] or [368] and replace with &#39;&#39;", "body": "<p>How about this:</p>\n\n<pre><code>&gt;&gt;&gt; s = \"Hello world [123] this is some text\"\n&gt;&gt;&gt; e = r'\\[\\d{3}\\]'\n&gt;&gt;&gt; import re\n&gt;&gt;&gt; re.sub(e, '', s)\n'Hello world  this is some text'\n</code></pre>\n\n<p>If you want to do this on a large scale, consider using <em>sed</em> which is the <strong>s</strong>tream <strong>ed</strong>itor. It is available on all Linux flavors in addition to being a core utility on macOS.</p>\n\n<p>I created a sample file with these two lines:</p>\n\n<pre><code>This is line one with [123] and needs to be substituted.\nThis is a longer line, lets call it line 2 that has [this thing] that should not be replaced, but [345] that should.\n</code></pre>\n\n<p>The way you use sed is to pass it a substitution expression. The command <code>s</code> means substitute, and <code>g</code> means substitute all occurrences, not just the first match.</p>\n\n<p>Next, you put the expression want to search for, and the replacement in between to characters. The common norm is to use <code>/</code>, but you can use any two similar characters that don't have special meanings in your shell.</p>\n\n<p>So, the sed command is:</p>\n\n<pre><code>sed s/search-for-this/replace-with-this/g the-name-of-the-file.txt\n</code></pre>\n\n<p>If you type the above, sed will simply return what it substitutes. Here is an example with our regular expression:</p>\n\n<pre><code>$ sed 's/\\[[0-9]\\{3\\}\\]//g' test.txt\nThis is line one with  and needs to be substituted.\nThis is a longer line, lets call it line 2 that has [this thing] that should not be replaced, but  that should.\n</code></pre>\n\n<p>The default behavior of sed is to return the results; and it does not modify the original file (as it is designed to work on <em>streams</em>).</p>\n\n<p>To get sed to change the original file, pass the <code>-i</code> argument, which means <em>in-place</em> - that is, do the substitution in the file itself, like this:</p>\n\n<pre><code>$ sed -i 's/\\[[0-9]\\{3\\}\\]//g' test.txt\n</code></pre>\n\n<p>Note that this time, it did not return anything, however, if we check the file it has been modified:</p>\n\n<pre><code>$ cat test.txt\nThis is line one with  and needs to be substituted.\nThis is a longer line, lets call it line 2 that has [this thing] that should not be replaced, but  that should.\n</code></pre>\n\n<p><em>Note: if you are on a mac, you may need to use <code>sed -i '.bak'</code></em></p>\n"}, {"tags": [], "owner": {"reputation": 38670, "user_id": 870248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/862c89e44433fc911c4af648dbd1c9d0?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Vargas", "link": "https://stackoverflow.com/users/870248/paul-vargas"}, "is_accepted": false, "score": 0, "last_activity_date": 1477801602, "last_edit_date": 1477801602, "creation_date": 1477801051, "answer_id": 40325986, "question_id": 40325943, "link": "https://stackoverflow.com/questions/40325943/regular-expression-for-left-bracket-three-digits-right-bracket-i-e-123-or-36/40325986#40325986", "title": "regular expression for left bracket three digits right bracket i.e. [123] or [368] and replace with &#39;&#39;", "body": "<p>Try the next:</p>\n\n<pre><code>my $str = 'word [123] word [456]';\nmy $regex = qr/\\[\\d{3}\\]/p;\nmy $subst = '';\n\nmy $result = $str =~ s/$regex/$subst/rg;\n</code></pre>\n\n<p>But perhaps you want to use the command <a href=\"https://www.gnu.org/software/sed/manual/sed.html\" rel=\"nofollow\"><strong><code>sed</code></strong></a>. e.g. </p>\n\n<pre><code>sed 's/\\[\\d{3}\\]//g' filename.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 9572702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c330980bd9e60f66ec654006419c234?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Hatley", "link": "https://stackoverflow.com/users/9572702/robbie-hatley"}, "is_accepted": false, "score": 0, "last_activity_date": 1555030973, "creation_date": 1555030973, "answer_id": 55643086, "question_id": 40325943, "link": "https://stackoverflow.com/questions/40325943/regular-expression-for-left-bracket-three-digits-right-bracket-i-e-123-or-36/55643086#55643086", "title": "regular expression for left bracket three digits right bracket i.e. [123] or [368] and replace with &#39;&#39;", "body": "<p>Solution in Perl:</p>\n\n<pre><code>$ echo 'one[876] two[232] three[323]' | perl -pe 's/\\[\\d{3}\\]//g;'\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>one two three\n</code></pre>\n\n<p>Solution in Sed: </p>\n\n<pre><code>$ echo 'one[876] two[232] three[323]' | sed 's/\\[[[:digit:]]\\{3\\}\\]//g;'\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>one two three\n</code></pre>\n\n<p>Those examples used the real-time command-line interface, but you can also put the code into script files for reuse, like so:</p>\n\n<p>Perl script:</p>\n\n<pre><code>#! /usr/bin/perl -p\n# purge-bracket-numbers.perl\ns/\\[\\d{3}\\]//g\n</code></pre>\n\n<p>Sed script:</p>\n\n<pre><code>#! /usr/bin/sed -f\n# purge-bracket-numbers.sed\ns/\\[[[:digit:]]\\{3\\}\\]//g\n</code></pre>\n"}], "owner": {"reputation": 1557, "user_id": 3825777, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7765923fd9744ac24608e6b463f5bc41?s=128&d=identicon&r=PG&f=1", "display_name": "jqueryHtmlCSS", "link": "https://stackoverflow.com/users/3825777/jqueryhtmlcss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 3, "score": -8, "last_activity_date": 1555030973, "creation_date": 1477800323, "last_edit_date": 1477880636, "question_id": 40325943, "link": "https://stackoverflow.com/questions/40325943/regular-expression-for-left-bracket-three-digits-right-bracket-i-e-123-or-36", "title": "regular expression for left bracket three digits right bracket i.e. [123] or [368] and replace with &#39;&#39;", "body": "<p>I'm looking for a regular expression that will match 5 character strings like the two strings shown in the title.  Here's a sample input string.</p>\n\n<pre><code>This is a sentence that doesn't contain any matches of the regex.  \nThis is a sentence that has two matches of the string at the end of the sentence [411] [101].  \nThis is a sentence that has three matches [876] [232] [323].\n</code></pre>\n\n<p>I would like to see a solution in perl or sed to remove these strings from a text file and also a solution to simply remove this string from short strings.  I'm new to regular expressions, perl, and sed. I tried using a reverse regular expression tool that seemed to give me this regular expression, but I couldn't find a way to put it to use with perl or sed.</p>\n\n<pre><code>\\\\[\\\\d\\\\d\\\\d\\\\]\n</code></pre>\n\n<p>I then tried something like this with perl and didn't get any farther.</p>\n\n<pre><code>perl -p -i -e 's/\\\\[\\\\d\\\\d\\\\d\\\\]/\"\"/g' textFileToRemoveRegexMatches.txt\n</code></pre>\n"}, {"tags": ["html", "perl", "cgi"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1477797738, "post_id": 40325736, "comment_id": 67906980, "body": "Your code runs on the <i>server</i>.  You need either a link to another URL or Javascript."}, {"owner": {"reputation": 123, "user_id": 6952758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a71135b0e5f42e6aabcdd11bd57d0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Pandaria", "link": "https://stackoverflow.com/users/6952758/pandaria"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1477798477, "post_id": 40325736, "comment_id": 67907077, "body": "@SLaks, so I assume I can&#39;t do it with a href? I do not know any Javascript yet so I can&#39;t do that"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1477798534, "post_id": 40325736, "comment_id": 67907083, "body": "You need to make a link to a different page."}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1477798546, "post_id": 40325736, "comment_id": 67907084, "body": "Also, you should use a modern web framework, not CGI."}, {"owner": {"reputation": 123, "user_id": 6952758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a71135b0e5f42e6aabcdd11bd57d0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Pandaria", "link": "https://stackoverflow.com/users/6952758/pandaria"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1477798737, "post_id": 40325736, "comment_id": 67907118, "body": "@SLaks hmm unfortunately I can&#39;t do that because it&#39;s part of my assignment :("}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1477814797, "post_id": 40325736, "comment_id": 67909356, "body": "If you need to do this with CGI, you will have to build some routing. You need to match URLs to different parts of the program. For example <code>foo.pl?action=chat</code> might give you this chat example that you showed. <code>foo.pl?action=users</code> might give you a user list. <code>foo.pl?action=profile&amp;id=123</code> might give you the profile of user 123. Then you need to put that link into the <code>href</code>. But you can&#39;t just put a function name from your Perl program there."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1477815028, "post_id": 40325736, "comment_id": 67909407, "body": "It seems like you are lacking some basic understanding of the technology you are supposed to use. Surely your class material covers this. You should go back and look at it again. If this is a class in a school, it&#39;s unfortunate that they teach technology that is very old. The CGI.pm module has not been in the Perl core for a while now, and <a href=\"https://www.youtube.com/watch?v=jKOqtRMT85s\" rel=\"nofollow noreferrer\">the community considers that a success</a>. There are nice alternatives, but I understand that you cannot use them. Unfortunately that means a lot more work for you."}, {"owner": {"reputation": 123, "user_id": 6952758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a71135b0e5f42e6aabcdd11bd57d0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Pandaria", "link": "https://stackoverflow.com/users/6952758/pandaria"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477818077, "post_id": 40325736, "comment_id": 67910044, "body": "@simbabque Thanks for the input! I&#39;ll have further look into those documentations. Yeah it&#39;s mostly a scripting course and the purpose is first and foremost to be able to extract data from the provided database :/ could you just mention some of the nicer alternatives? I&#39;ll have a look at them for further reference, cheers ;)"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477819015, "post_id": 40325736, "comment_id": 67910240, "body": "@simbabque - What is the more commonly used technology in perl instead of CGI. I have a lot of old scripts and CGI is normally my first go to for simple standalone web page. By this i mean, someone comes to me asking for some report. I knock up perl code to pull data from the db and return it to webserver with html code like google graph api etc. but i normally just use CGI to knock up the html page and parse input parameters. What would be a good replacement."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1477819048, "post_id": 40325736, "comment_id": 67910251, "body": "Start by watching the video I linked. It tells the downsides of CGI in an entertaining way and introduces PSGI/Plack in the end. That&#39;s a replacement for the CGI technology. You can read about it <a href=\"https://metacpan.org/pod/Plack\" rel=\"nofollow noreferrer\">here</a> as an introduction to how the things will work under the hood. There are three mayor web frameworks in the current Perl eco system that make use of Plack: <a href=\"http://p3rl.org/Dancer2\" rel=\"nofollow noreferrer\">Dancer</a>, <a href=\"http://p3rl.org/Mojolicious\" rel=\"nofollow noreferrer\">Mojolicious</a> and <a href=\"http://p3rl.org/Catalyst\" rel=\"nofollow noreferrer\">Catalyst</a>. I suggest you either look at Mojo::Lite from Mojolicious, or Dancer2."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 1, "creation_date": 1477819143, "post_id": 40325736, "comment_id": 67910277, "body": "@ChrisDoyle see my above comment. Also, watch the talk I linked. I agree that it&#39;s easy, and I used to do the same, but you don&#39;t always have a web server just idling around that can do CGI. The alternatives I mentioned above don&#39;t need that. They can be run stand-alone. They give you proper separation of concerns and make changing backends for e.g. databases or frontend implementations easy. That encourages reuse, which for your use-case sounds reasonable too."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477819591, "post_id": 40325736, "comment_id": 67910366, "body": "@simbabque - perfect thanks"}, {"owner": {"reputation": 123, "user_id": 6952758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a71135b0e5f42e6aabcdd11bd57d0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Pandaria", "link": "https://stackoverflow.com/users/6952758/pandaria"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477827657, "post_id": 40325736, "comment_id": 67912356, "body": "@simbabque cheers, thanks !"}], "owner": {"reputation": 123, "user_id": 6952758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a71135b0e5f42e6aabcdd11bd57d0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Pandaria", "link": "https://stackoverflow.com/users/6952758/pandaria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1477817889, "creation_date": 1477797400, "last_edit_date": 1477817889, "question_id": 40325736, "link": "https://stackoverflow.com/questions/40325736/perl-cgi-serving-page-when-clicking-username", "title": "Perl CGI serving page when clicking username", "body": "<p>So my program displays a user's profile (a very watered-down facebook-like) and shows the person's friends and etc.\nI want to make it such that the displayed username is a hyperlink that opens the user's profile.</p>\n\n<p>So say,</p>\n\n<p>Pandaria\n<em>Hello there</em></p>\n\n<p>UnfinishedSentenc\n<em>Hey too</em></p>\n\n<p>I want to make it like this</p>\n\n<p><a href=\"http://user:pandaria\" rel=\"nofollow\">Pandaria</a> <em>Hello there</em></p>\n\n<p><a href=\"http://user:unfinishedSentenc\" rel=\"nofollow\">UnfinishedSentenc</a>\n<em>Hey too</em></p>\n\n<p>I have a few functions that serve this purpose at the moment.</p>\n\n<pre><code>#\n# Combine the various parts of the pages to return to\n#\n\nsub displaying {\n    my $to_show = shift;\n    if (defined $to_show){\n        #prints the given user's profile\n        print user_page($to_show);\n        print user_posts($to_show);\n    } else {\n        #print starting from user 0\n        print user_page();\n        print user_posts();\n        print next_button();\n    }\n}\n</code></pre>\n\n<p>I was thinking of using <code>&lt;a href</code> as follows</p>\n\n<pre><code>#\n# Making the user mentioned linked to show it's profile page\n#\nsub link_user {\n    my $ID = shift;\n    my $username = id_name{$ID};\n    return \"&lt;a href=\\\"displaying($ID)\\\"&gt; $username&lt;/a&gt;\";\n}\n</code></pre>\n\n<p>but it doesn't work as it is an external link, I need it to call the function displaying with $ID as input argument</p>\n\n<p>any help is appreciated, thanks!</p>\n"}, {"tags": ["perl", "utf-8", "decode", "html-entities"], "answers": [{"comments": [{"owner": {"reputation": 1780, "user_id": 3195596, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/E2NcP.jpg?s=128&g=1", "display_name": "Leo Galleguillos", "link": "https://stackoverflow.com/users/3195596/leo-galleguillos"}, "edited": false, "score": 0, "creation_date": 1477794062, "post_id": 40325491, "comment_id": 67906488, "body": "This worked for me, thank you. I will accept the answer when I can in a few minutes. Oddly, when I now run <code>url_encode($string)</code> later in the script, I now get a &quot;wide character&quot; warning. But I suppose that&#39;s an entirely new question."}], "tags": [], "owner": {"reputation": 10661, "user_id": 2430549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bfc7728cf3e556a8b9da88e662f4fd3?s=128&d=identicon&r=PG", "display_name": "HoldOffHunger", "link": "https://stackoverflow.com/users/2430549/holdoffhunger"}, "is_accepted": true, "score": 2, "last_activity_date": 1477793832, "creation_date": 1477793832, "answer_id": 40325491, "question_id": 40325464, "link": "https://stackoverflow.com/questions/40325464/how-to-decode-entities-in-utf8/40325491#40325491", "title": "how to decode_entities in utf8", "body": "<p>You are using the Encode CPAN library.  If that is true, you can try this...</p>\n\n<pre><code>my $string = \"...\";\n$string = decode_entities(decode('utf-8', $string));\n</code></pre>\n\n<p>This may seem illogical.  If Perl is natively UTF-8 itself, why should you need to decode a UTF-8 string?  It is simply another way of telling Perl that you have a UTF-8 value that it needs to interpret as natively UTF-8.</p>\n\n<p>The corruption you are seeing is when a UTF-8 value doesn't have the rights bytes recognized (it shows \"0xC1 0xAF\" when Dumpered; after the above change, it ought to show \"0x1503\", or some similar concat'ed bytes) .</p>\n\n<p>There are a ton of settings that can affect this in perl.  The above is most likely the right combination of changes that you need for your given settings.  Otherwise, some variation (swap encode with decode('latin1', ...), etc.) of the above should solve the problem.</p>\n"}, {"comments": [{"owner": {"reputation": 3122, "user_id": 424381, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d99a03136155204182322bec472184a8?s=128&d=identicon&r=PG", "display_name": "jlh", "link": "https://stackoverflow.com/users/424381/jlh"}, "edited": false, "score": 0, "creation_date": 1550007643, "post_id": 40328793, "comment_id": 96109701, "body": "That&#39;s not entirely correct. Without <code>use utf8</code> perl interprets the input file as just being bytes, not as ISO-8859-1."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1477828725, "creation_date": 1477828725, "answer_id": 40328793, "question_id": 40325464, "link": "https://stackoverflow.com/questions/40325464/how-to-decode-entities-in-utf8/40328793#40328793", "title": "how to decode_entities in utf8", "body": "<p>This isn't a very well-phrased question. You didn't tell us where your <code>decode_entities()</code> function comes from and you didn't give a simple example that we could just run to reproduce your problem.</p>\n\n<p>But I was able to reproduce your problem with this code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse HTML::Entities;\n\nsay decode_entities('a 3.9 k&amp;#8486; resistor and a 5 \u00b5F capacitor');\n</code></pre>\n\n<p>The problem here is that by default, Perl will interpret your source code (and, therefore, any strings included in it) as ISO-8859-1. As your string is in UTF8, you just need to tell Perl to interpret your source code as UTF8 by adding <code>use utf8</code> to your code.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse utf8; # Added this line\n\nuse HTML::Entities;\n\nsay decode_entities('a 3.9 k&amp;#8486; resistor and a 5 \u00b5F capacitor');\n</code></pre>\n\n<p>Running this will give you the correct string, but you'll also get a warning.</p>\n\n<blockquote>\n  <p>Wide character in say</p>\n</blockquote>\n\n<p>This is because Perl's IO layer expects single-byte characters by default and any attempt to send a multi-byte character through it is seen as a potential problem. You can fix that by telling Perl that STDOUT should accept UTF8 characters. There are many ways to do that. The easiest is probably to add <code>-CS</code> to the shebang line.</p>\n\n<pre><code>#!/usr/bin/perl -CS\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nuse utf8;\n\nuse HTML::Entities;\n\nsay decode_entities('a 3.9 k&amp;#8486; resistor and a 5 \u00b5F capacitor');\n</code></pre>\n\n<p>Perl has great support for Unicode, but it can be hard to get started with it. I recommend reading <a href=\"http://perldoc.perl.org/perlunitut.html\" rel=\"nofollow\">perlunitut</a> to see how it all works.</p>\n"}], "owner": {"reputation": 1780, "user_id": 3195596, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/E2NcP.jpg?s=128&g=1", "display_name": "Leo Galleguillos", "link": "https://stackoverflow.com/users/3195596/leo-galleguillos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1789, "favorite_count": 1, "accepted_answer_id": 40325491, "answer_count": 2, "score": 2, "last_activity_date": 1477828725, "creation_date": 1477793567, "question_id": 40325464, "link": "https://stackoverflow.com/questions/40325464/how-to-decode-entities-in-utf8", "title": "how to decode_entities in utf8", "body": "<p>In perl, I am working with the following utf-8 text:</p>\n\n<pre><code>my $string = 'a 3.9 k&amp;#8486; resistor and a 5 \u00b5F capacitor';\n</code></pre>\n\n<p>However, when I run the following:</p>\n\n<pre><code>decode_entities('a 3.9 k&amp;#8486; resistor and a 5 \u00b5F capacitor');\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>a 3.9 k\u2126 resistor and a 5 \u00c2\u00b5F capacitor\n</code></pre>\n\n<p>The <code>\u2126</code> symbol has successfully decoded, but the <code>\u00b5</code> symbol now has gibberish before it.</p>\n\n<p>How can I use decode_entities while making sure non-encoded utf-8 symbols (such as <code>\u00b5</code>) are not converted to gibberish?</p>\n"}, {"tags": ["html", "perl", "cgi"], "answers": [{"tags": [], "owner": {"reputation": 10661, "user_id": 2430549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bfc7728cf3e556a8b9da88e662f4fd3?s=128&d=identicon&r=PG", "display_name": "HoldOffHunger", "link": "https://stackoverflow.com/users/2430549/holdoffhunger"}, "is_accepted": false, "score": 0, "last_activity_date": 1477785066, "creation_date": 1477785066, "answer_id": 40324802, "question_id": 40324104, "link": "https://stackoverflow.com/questions/40324104/software-error-file-error-permission-denied-how-to-fix-this-error/40324802#40324802", "title": "&quot;Software error: File error, Permission denied&quot;. How to fix this error?", "body": "<p>Find your file with filename.ext.  Give it access permissions to software that may want to access it with this in a terminal:</p>\n\n<pre><code>sudo chmod 777 filename.ext\n</code></pre>\n\n<p>It is worthwhile to read up on exactly what chmod is doing here.  But this will probably solve your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 0, "last_activity_date": 1477836116, "last_edit_date": 1477836116, "creation_date": 1477835744, "answer_id": 40329873, "question_id": 40324104, "link": "https://stackoverflow.com/questions/40324104/software-error-file-error-permission-denied-how-to-fix-this-error/40329873#40329873", "title": "&quot;Software error: File error, Permission denied&quot;. How to fix this error?", "body": "<h1>tl;dr</h1>\n\n<p>Give a full path to <code>bolts.txt</code> and make that path writeable for the Apache user (e.g. <code>www-data</code>).</p>\n\n<hr>\n\n<p>Two things to consider here:</p>\n\n<ol>\n<li><p>You try to open the file <code>bolts.txt</code> for appending but don't give a fully qualified path name, like e.g. <code>/path/to/bolts.txt</code>. In that case your file will be searched for <em>relative to the current working directory</em> ($CWD) when Apache executes your .cgi script. I'm not sure whether its predictable or documented what the $CWD is when Apache executes cgi-bin scripts. It <em>might</em> be the directory where the .cgi script is located, it might also be Apache's own bin directory (like <code>/usr/sbin/</code>) or even something else. To get around this uncertainty always give a <code>/full/path/to/bolts.txt</code> or a path relative to your .cgi script. The core module <a href=\"http://perldoc.perl.org/FindBin.html\" rel=\"nofollow\"><code>FindBin</code></a> is great for that:</p>\n\n<pre><code>use FindBin;\n...\nopen (ORDERS, '&gt;&gt;', \"$FindBin::Bin/../../data/bolts.txt\")\n</code></pre>\n\n<p><code>$FindBin::Bin</code> holds the path of your script and in your case the absolute path to <code>bolts.txt</code> would then be <code>/Applications/XAMPP/xamppfiles/data/bolts.txt</code>. </p></li>\n<li><p>Your .cgi script is executed by your webserver (apache) and thus runs as user <code>www-run</code> or <code>www</code> or <code>www-data</code> or something similar, depending on your OS and/or distribution. In my case (Ubuntu) <code>apache</code> runs as user <code>www-data</code>. Once you figured out where your <code>bolts.txt</code> is actually located you must make sure the user <code>www-data</code> has permission to write in that directory and write to that file. For my example above the necessary commands could be:</p>\n\n<pre><code>chown www-data /Applications/XAMPP/xamppfiles/data  # \u00b9\nchmod 755 /Applications/XAMPP/xamppfiles/data       # \u00b2\nchmod -R u+w /Applications/XAMPP/xamppfiles/data/*  # \u00b3\n</code></pre>\n\n<p>\u00b9 make <code>www-data</code> the owner of that directory<br>\n\u00b2 make it writeable for <code>www-data</code><br>\n\u00b3 make all files in there also writeable for <code>www-data</code></p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7024927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34eda932c2d3bab23d231bd8334c72f?s=128&d=identicon&r=PG&f=1", "display_name": "JohnyB12", "link": "https://stackoverflow.com/users/7024927/johnyb12"}, "is_accepted": false, "score": -2, "last_activity_date": 1477837131, "creation_date": 1477837131, "answer_id": 40330047, "question_id": 40324104, "link": "https://stackoverflow.com/questions/40324104/software-error-file-error-permission-denied-how-to-fix-this-error/40330047#40330047", "title": "&quot;Software error: File error, Permission denied&quot;. How to fix this error?", "body": "<p>Update: Mine works now. The things I did are:</p>\n\n<ol>\n<li>I changed the sharing &amp; permissions to read &amp; write for all files</li>\n<li>chmod 765</li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 7024927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34eda932c2d3bab23d231bd8334c72f?s=128&d=identicon&r=PG&f=1", "display_name": "JohnyB12", "link": "https://stackoverflow.com/users/7024927/johnyb12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1477837131, "creation_date": 1477778372, "last_edit_date": 1592644375, "question_id": 40324104, "link": "https://stackoverflow.com/questions/40324104/software-error-file-error-permission-denied-how-to-fix-this-error", "title": "&quot;Software error: File error, Permission denied&quot;. How to fix this error?", "body": "<p>This perl program pretty much shows the cgi script but it has this note at the bottom of the page</p>\n<h2>Software error: File error, Permission denied at /Applications/XAMPP/xamppfiles/cgi-bin/asst5/orderbolts.cgi line 34.</h2>\n<p>Line 34 from cgi is this:</p>\n<pre><code>open (ORDERS, &quot;&gt;&gt;bolts.txt&quot;) or die &quot;File error, $!&quot;;\n</code></pre>\n<p>Here is the html file</p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;body&gt;\n\n&lt;form action=&quot;/cgi-bin/asst5/orderbolts.cgi&quot; method=&quot;post&quot;&gt;\n&lt;table border=&quot;2&quot; cellspacing=&quot;5&quot; cellpadding=&quot;5&quot;&gt;\n&lt;tr&gt;\n   &lt;td align=&quot;center&quot;&gt;Name : &lt;/td&gt;\n   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;customer&quot; size=&quot;15&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n   &lt;td align=&quot;center&quot;&gt;Street : &lt;/td&gt;\n   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;street&quot; size=&quot;15&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n   &lt;td align=&quot;center&quot;&gt;City : &lt;/td&gt;\n   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;city&quot; size=&quot;15&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n   &lt;td align=&quot;center&quot;&gt;State : &lt;/td&gt;\n   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;state&quot; size=&quot;3&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n   &lt;td align=&quot;center&quot;&gt;Zip : &lt;/td&gt;\n   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;zip&quot; size=&quot;6&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n   &lt;td align=&quot;center&quot;&gt;# of bolts : &lt;/td&gt;\n   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;qty&quot; size=&quot;4&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n   &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Check Out&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here is the CGI file</p>\n<pre><code>#!/usr/bin/perl -w\n\nuse CGI qw(:standard);\nuse CGI::Carp qw(fatalsToBrowser);\nuse strict;\nuse warnings;\nprint &quot;Content-type: text/html\\n\\n&quot;;\n\nmy $cust = param('customer');\nmy $addr = param('street');\nmy $city = param('city');\nmy $state = param('state');\nmy $zip = param('zip');\nmy $qty = param('qty');\nmy $pay = sprintf(&quot;\\$%.2f&quot;, $qty * 0.95);\n\nprint &lt;&lt;HERE;\n&lt;HTML&gt;\n&lt;BODY&gt;\n&lt;H3&gt;Here is your order...please check&lt;/H3&gt;\n$cust&lt;br&gt;\n$addr&lt;br&gt;\n$city , $state $zip&lt;br&gt;\nNumber of bolts ordered : $qty&lt;br&gt;\nTotal bill for order : $pay&lt;br&gt;&lt;br&gt;\n&lt;i&gt;&lt;b&gt;Thanks for shopping at Brad's&lt;/b&gt;&lt;/i&gt;\nHERE\n\nopen (ORDERS, &quot;&gt;&gt;bolts.txt&quot;) or die &quot;File error, $!&quot;;\nprint ORDERS &quot;$cust|$addr|$city|$state|$zip|$qty|$pay\\n&quot;;\nclose ORDERS;\n</code></pre>\n"}, {"tags": ["bash", "perl", "webserver", "centos7"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 1, "creation_date": 1477775316, "post_id": 40323592, "comment_id": 67902930, "body": "In the same way you wrote <code>&#39;kill $pid&#39;</code> why you don&#39;t write <code>&#39;$perlPort&#39;</code>?"}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1477775323, "post_id": 40323592, "comment_id": 67902931, "body": "<code>$perlPort</code> =&gt; <code>$ENV{perlPort}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1477793551, "post_id": 40324048, "comment_id": 67906403, "body": "Unquoted parameter expansions are subject to word-splitting and pathname expansion. The <i>intended</i> value (an integer) is safe, but this is fragile."}], "tags": [], "owner": {"reputation": 1541, "user_id": 5374489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83871d811321a9729d2afa5cd7d17b8f?s=128&d=identicon&r=PG&f=1", "display_name": "V. Michel", "link": "https://stackoverflow.com/users/5374489/v-michel"}, "is_accepted": false, "score": 0, "last_activity_date": 1477777970, "creation_date": 1477777970, "answer_id": 40324048, "question_id": 40323592, "link": "https://stackoverflow.com/questions/40323592/passing-bash-variable-into-inline-perl-script/40324048#40324048", "title": "Passing bash variable into inline perl script", "body": "<pre><code>perl -e '\n   ...\nmy $pid = MyWebServer-&gt;new('$perlPort')-&gt;background();\n   ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27241, "user_id": 363028, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cP1F2.jpg?s=128&g=1", "display_name": "Ole Tange", "link": "https://stackoverflow.com/users/363028/ole-tange"}, "is_accepted": false, "score": 4, "last_activity_date": 1477780258, "creation_date": 1477780258, "answer_id": 40324325, "question_id": 40323592, "link": "https://stackoverflow.com/questions/40323592/passing-bash-variable-into-inline-perl-script/40324325#40324325", "title": "Passing bash variable into inline perl script", "body": "<pre><code>export perlPort\nperl -e '\n...\nmy $pid = MyWebServer-&gt;new($ENV{perlPort})-&gt;background();\n'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 1, "last_activity_date": 1477794680, "last_edit_date": 1477794680, "creation_date": 1477793792, "answer_id": 40325484, "question_id": 40323592, "link": "https://stackoverflow.com/questions/40323592/passing-bash-variable-into-inline-perl-script/40325484#40325484", "title": "Passing bash variable into inline perl script", "body": "<p>You can still pass command line arguments to your script. Replace <code>$perlPort</code> with <code>$ARGV[0]</code>, then call you script as</p>\n\n<pre><code>perl -e $' ...\n         my $pid = MyWebServer-&gt;new($ARGV[0])-&gt;background();\n         print \"Use \\'kill $pid\\' to stop server.\\n\";' \"$perlPort\"\n</code></pre>\n\n<p>Note the other problem: You can't include single quotes inside a single-quoted string in <code>bash</code>. You can work around this by using a <code>$'...'</code>-quoted string as the argument to Perl, which <em>can</em> contain escaped single quotes. If your script doesn't need to read from standard input, it would be a better idea to have <code>perl</code> read from a here-document instead.</p>\n\n<pre><code>perl &lt;&lt;'EOF' \"$perlPort\"\n{\npackage MyWebServer;\nuse HTTP::Server::Simple::CGI;\n...\nmy $pid = MyWebServer-&gt;new($ARGV[0])-&gt;background();\nprint \"Use 'kill $pid' to stop server.\\n\";\nEOF\n</code></pre>\n\n<p>The <em>best</em> idea is to simply use a script file instead of trying to construct the script on the command line.</p>\n"}, {"tags": [], "owner": {"reputation": 2749, "user_id": 482519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff5fbaf09cb6d70cefb999871591b3de?s=128&d=identicon&r=PG", "display_name": "ernix", "link": "https://stackoverflow.com/users/482519/ernix"}, "is_accepted": false, "score": 1, "last_activity_date": 1477974601, "creation_date": 1477974601, "answer_id": 40354155, "question_id": 40323592, "link": "https://stackoverflow.com/questions/40323592/passing-bash-variable-into-inline-perl-script/40354155#40354155", "title": "Passing bash variable into inline perl script", "body": "<p>You can use <code>-s</code> switch to pass variables.  See <a href=\"http://perldoc.perl.org/perlrun.html\" rel=\"nofollow\">http://perldoc.perl.org/perlrun.html</a></p>\n\n<pre><code>perl -se '\n...\nmy $pid = MyWebBrowser-&gt;new($perlPort)-&gt;background();\n...' -- -perlPort=\"$perlPort\" \n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 4817828, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/zgsCV.jpg?s=128&g=1", "display_name": "Pazuzu", "link": "https://stackoverflow.com/users/4817828/pazuzu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1438, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1477974601, "creation_date": 1477774582, "last_edit_date": 1477774947, "question_id": 40323592, "link": "https://stackoverflow.com/questions/40323592/passing-bash-variable-into-inline-perl-script", "title": "Passing bash variable into inline perl script", "body": "<p>Reference the 2nd to last line in my script. For some reason Perl is not able to access the variable <code>$perlPort</code> how can I fix this? Note: <code>$perlPort</code> is a bash variable location before my perl script</p>\n\n<pre><code>perl -e '\n{\n    package MyWebServer;\n    use HTTP::Server::Simple::CGI;\n    use base qw(HTTP::Server::Simple::CGI);\n    my %dispatch = (\n        \"/\" =&gt; \\&amp;resp_hello,\n    );\n\n\n    sub handle_request {\n        my $self = shift;\n        my $cgi  = shift;\n        my $path = $cgi-&gt;path_info();\n        my $handler = $dispatch{$path};\n        if (ref($handler) eq \"CODE\") {\n            print \"HTTP/1.0 200 OK\\r\\n\";\n            $handler-&gt;($cgi);\n        } else {\n            print \"HTTP/1.0 404 Not found\\r\\n\";\n            print $cgi-&gt;header,\n            $cgi-&gt;start_html(\"Not found\"),\n            $cgi-&gt;h1(\"Not found\"),\n            $cgi-&gt;end_html;\n        }\n    }\n\n\n    sub resp_hello {\n        my $cgi  = shift;   # CGI.pm object\n        return if !ref $cgi;\n        my $who = $cgi-&gt;param(\"name\");   \n        print $cgi-&gt;header,\n            $cgi-&gt;start_html(\"Hello\"),\n            $cgi-&gt;h1(\"Hello Perl\"),\n            $cgi-&gt;end_html;\n    }\n}\n\n\nmy $pid = MyWebServer-&gt;new($perlPort)-&gt;background();\nprint \"Use 'kill $pid' to stop server.\\n\";'\n</code></pre>\n"}, {"tags": ["perl", "module", "imagemagick"], "comments": [{"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 1, "creation_date": 1477770545, "post_id": 40322929, "comment_id": 67901698, "body": "imagemagick has lots of backends, i.e. command line, perl, python... . You&#39;ve obviously installed the command line but not the Perl backend.  See <a href=\"http://www.imagemagick.org/script/perl-magick.php/\" rel=\"nofollow noreferrer\">imagemagick.org/script/perl-magick.php</a> for how to install it."}, {"owner": {"reputation": 11, "user_id": 5425608, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ddaccbf213dea1b85a63ce25c34f4ff7?s=128&d=identicon&r=PG", "display_name": "IBWEV", "link": "https://stackoverflow.com/users/5425608/ibwev"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1477772285, "post_id": 40322929, "comment_id": 67902141, "body": "$ sudo apt-get install ImageMagick-perl  Reading package lists... Done Building dependency tree Reading state information... Done E: Unable to locate package ImageMagick-perl"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1477772583, "post_id": 40322929, "comment_id": 67902215, "body": "Probably you have chosen the wrong package name. Try for example perlmagick: <a href=\"http://packages.ubuntu.com/search?keywords=perlmagick\" rel=\"nofollow noreferrer\">packages.ubuntu.com/search?keywords=perlmagick</a>"}, {"owner": {"reputation": 1050, "user_id": 1636683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f282a2b7d41f9a3e3f9eced4c3fcf7?s=128&d=identicon&r=PG", "display_name": "Ron Bergin", "link": "https://stackoverflow.com/users/1636683/ron-bergin"}, "edited": false, "score": 1, "creation_date": 1477777137, "post_id": 40322929, "comment_id": 67903398, "body": "After you get the module installed, you&#39;ll also need to fix your while loop.  You&#39;re assigning the filename (without its path) to <code>$convertedFileName</code> then a couple lines later you wipe that out by reassigning that var to be to be an <code>Image::Magick</code> object.  I doubt that&#39;s what you intended."}, {"owner": {"reputation": 11, "user_id": 5425608, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ddaccbf213dea1b85a63ce25c34f4ff7?s=128&d=identicon&r=PG", "display_name": "IBWEV", "link": "https://stackoverflow.com/users/5425608/ibwev"}, "edited": false, "score": 1, "creation_date": 1477798332, "post_id": 40322929, "comment_id": 67907058, "body": "Thank you for the help.  For any future people needing ImageMagick with Perl      sudo apt-get install PerlMagick"}], "owner": {"reputation": 11, "user_id": 5425608, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ddaccbf213dea1b85a63ce25c34f4ff7?s=128&d=identicon&r=PG", "display_name": "IBWEV", "link": "https://stackoverflow.com/users/5425608/ibwev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 654, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1477769809, "creation_date": 1477769809, "question_id": 40322929, "link": "https://stackoverflow.com/questions/40322929/imagemagick-with-perl-script", "title": "ImageMagick with Perl Script", "body": "<p>I am trying to use ImageMagick to manipulate .jpg files.  I believe I have successfully installed it because I can convert a .jpg image to a .png image on the command prompt by the following command:</p>\n\n<pre><code>convert   image.jpg    image.png\n</code></pre>\n\n<p>However, when I attempt to load the module in a script and execute the script I get a \u201cCan't locate imagemagick.pm in @INC (you may need to install the imagemagick module)\u201d error. </p>\n\n<p>How do I load the Image::Magick module into the script?</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Image::Magick;   #load the ImageMagick module\nuse strict;\nuse warnings;\n\nmy $directory = 'path-to-images';\n\nopendir my $dh2, $directory or die \"Could not open file\";\n\nwhile (my $image = readdir($dh2)){\n        my $convertedFileName = $image;  #assign current image to a variable\n        $convertedFileName =~ s/.jpg/-convert.jpg/; #change name of file\n        print \"$convertedFileName\\n\";\n        $convertedFileName = Image::Magick-&gt;new; #make ImageMagick object\n        $convertedFileName-&gt;Quantize(colorspace=&gt;'gray'); #alter the image\n        }\n\nclosedir $dh2;\n</code></pre>\n"}, {"tags": ["perl", "get"], "comments": [{"owner": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 0, "creation_date": 1477764039, "post_id": 40321890, "comment_id": 67899715, "body": "The user agent string Perl uses is probably blocked. You can get around this issue by changing it to something else."}], "answers": [{"comments": [{"owner": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 1, "creation_date": 1477764504, "post_id": 40322028, "comment_id": 67899863, "body": "Maybe add that the reason behind this is, that the default user agent (<code>libwww-perl</code>) was/is used by crackers, and blocking it is a simple way to prevent the simplest attacks."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 0, "creation_date": 1477764849, "post_id": 40322028, "comment_id": 67899978, "body": "@grooveplex: I&#39;m not sure if this is the reason. Variations of the &quot;Mozilla/...&quot; user agent are also used in malware etc - far less than libwww-perl. It&#39;s more like they block everything which is too far away from a browsers user agent."}], "tags": [], "owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "is_accepted": true, "score": 4, "last_activity_date": 1477765331, "last_edit_date": 1477765331, "creation_date": 1477764209, "answer_id": 40322028, "question_id": 40321890, "link": "https://stackoverflow.com/questions/40321890/simple-api-request-not-working-403-error/40322028#40322028", "title": "Simple API request not working - 403 error", "body": "<p>If you take a look at the body of the response (i.e. not only at the status code 403) you will find:</p>\n\n<blockquote>\n  <p>The owner of this website (checkdnd.com) has banned your access based on your browser's signature (2f988642c0f02798-ua22).</p>\n</blockquote>\n\n<p>This means that it is blocking the client because it probably looks too much like a non-browser. For this site a simple fix is to include some User-Agent header. The following works for me:</p>\n\n<pre><code>my $ua = LWP::UserAgent-&gt;new;\n$ua-&gt;default_header('User-Agent' =&gt; 'Mozilla/5.0');\nmy $resp = $ua-&gt;get('http://checkdnd.com/api/check_dnd_no_api.php?mobiles=9944384761');\nmy $result = $resp-&gt;decoded_content;\n</code></pre>\n\n<p>The site in question seems to be served by Cloudflare which has some thing they call \"Browser Integrity Check\". From the <a href=\"https://support.cloudflare.com/hc/en-us/articles/200170086-What-does-the-Browser-Integrity-Check-do-\" rel=\"nofollow\">support page for this feature</a>:</p>\n\n<blockquote>\n  <p>... looks for common HTTP headers abused most commonly by spammers and denies access to your page.  It will also challenge visitors that do not have a user agent <strong>or a non standard user agent</strong> (also commonly used by abuse bots, crawlers or visitors).</p>\n</blockquote>\n"}], "owner": {"reputation": 3158, "user_id": 668279, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f0c653c9fadf692ecf9d2970034c9401?s=128&d=identicon&r=PG", "display_name": "bubble", "link": "https://stackoverflow.com/users/668279/bubble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 40322028, "answer_count": 1, "score": 1, "last_activity_date": 1477765331, "creation_date": 1477763236, "question_id": 40321890, "link": "https://stackoverflow.com/questions/40321890/simple-api-request-not-working-403-error", "title": "Simple API request not working - 403 error", "body": "<p>I am trying to run a simple API request from a perl script. But it seems not working. Same request if copied to web browser works without any problem.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse LWP::Simple;\n\nmy $query = 'http://checkdnd.com/api/check_dnd_no_api.php?mobiles=9944384761';\n\nmy $result = get($query);\nprint $result.\"\\n\";\n</code></pre>\n\n<p>when I use <code>getprint($query)</code> - it gives 403 error.</p>\n"}, {"tags": ["regex", "perl", "pattern-matching"], "comments": [{"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 2, "creation_date": 1477760118, "post_id": 40320929, "comment_id": 67898517, "body": "seems like you are trying to get names so always better to use parser for xml docs try this link <a href=\"http://stackoverflow.com/questions/2052179/how-can-i-find-and-replace-text-in-xml-using-perl\" title=\"how can i find and replace text in xml using perl\">stackoverflow.com/questions/2052179/&hellip;</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1477769835, "post_id": 40320929, "comment_id": 67901491, "body": "Trying to parse XML with a regex is a recipe for pain."}], "answers": [{"comments": [{"owner": {"reputation": 1100, "user_id": 1970427, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/18f92f7a3437a93370c95724e63ffa34?s=128&d=identicon&r=PG", "display_name": "Emman", "link": "https://stackoverflow.com/users/1970427/emman"}, "edited": false, "score": 0, "creation_date": 1477794523, "post_id": 40325142, "comment_id": 67906563, "body": "Since it is a XML file I am moving to the method you are suggesting and  the eg., mentioned is found to be working."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 1100, "user_id": 1970427, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/18f92f7a3437a93370c95724e63ffa34?s=128&d=identicon&r=PG", "display_name": "Emman", "link": "https://stackoverflow.com/users/1970427/emman"}, "edited": false, "score": 0, "creation_date": 1477804364, "post_id": 40325142, "comment_id": 67907734, "body": "@Emman  Great -- parsing XML by hand (regex) leads to no end of trouble. By the time you&#39;d clean up one such file you&#39;ll learn how to use a module, and then you are taken care of. With either of the two modules I mention you have full control over everything, while simple things are simple.  It is instructive reading some of the posts on this topic.  I&#39;ll add a few links to them."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1516044984, "last_edit_date": 1516044984, "creation_date": 1477789421, "answer_id": 40325142, "question_id": 40320929, "link": "https://stackoverflow.com/questions/40320929/regex-in-xml-not-working-as-expected/40325142#40325142", "title": "Regex in xml not working as expected", "body": "<p>Parsing well-formed XML should practically <em>always</em> be done using modules. Much has been said about that over time, see for example <a href=\"https://stackoverflow.com/questions/590747/using-regular-expressions-to-parse-html-why-not?noredirect=1&amp;lq=1\">this page</a> and <a href=\"https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg?rq=1\">this page</a>, among many others.  I also hear that <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\">truly bad things may come to pass</a>  otherwise.</p>\n\n<p>Here is an example of how to do what you ask using <a href=\"http://search.cpan.org/~shlomif/XML-LibXML-2.0128/LibXML.pod\" rel=\"nofollow noreferrer\">XML::libXML</a>. Another excellent module is <a href=\"http://search.cpan.org/~mirod/XML-Twig-3.49/Twig.pm\" rel=\"nofollow noreferrer\">XML::Twig</a>. I completed your sample so to make it a well-formed XML file (shown below code).</p>\n\n<pre><code>use strict 'all';\nuse warnings;\n\nuse XML::LibXML;    \n\nmy $file = 'file.xml';\n\nmy $doc = XML::LibXML-&gt;load_xml(location =&gt; $file, no_blanks =&gt; 1); \n\n# Form the XPath expression used to find the 'name' nodes\nmy $xpath = '//doc/constructor_arguments/parameters/parameter/name';\n\nforeach my $node ($doc-&gt;findnodes($xpath)) \n{\n    # Select the particular 'name' tag that is needed\n    if ($node-&gt;to_literal eq 'runtime_disabled') \n    {   \n        # Query the parent node, for &lt;name&gt;'s sibling &lt;bool&gt;\n        foreach my $bval ($node-&gt;parentNode-&gt;findnodes('./bool/value/text()')) \n        {\n            my $content = $bval-&gt;toString;\n            $content =~ s/false/true/;\n            $bval-&gt;setData($content);\n        }\n    }   \n}\n\n# Write a new file with the change\n$doc-&gt;toFile('changed_' . $file, 1); \n</code></pre>\n\n<p>This is meant to be basic, there are quite a few other ways to do the same.</p>\n\n<p>The posted sample was padded as follows</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;doc&gt;\n... posted text ...\n            &lt;/parameter&gt;\n        &lt;/parameters&gt;\n    &lt;/constructor_arguments&gt;\n&lt;/doc&gt;\n</code></pre>\n"}], "owner": {"reputation": 1100, "user_id": 1970427, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/18f92f7a3437a93370c95724e63ffa34?s=128&d=identicon&r=PG", "display_name": "Emman", "link": "https://stackoverflow.com/users/1970427/emman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 1, "accepted_answer_id": 40325142, "answer_count": 1, "score": 0, "last_activity_date": 1516044984, "creation_date": 1477756735, "last_edit_date": 1477759673, "question_id": 40320929, "link": "https://stackoverflow.com/questions/40320929/regex-in-xml-not-working-as-expected", "title": "Regex in xml not working as expected", "body": "<p>I am novice here and I am trying to search and replace a string in a xml file which is as given below:</p>\n\n<pre><code>&lt;name&gt;xxx.yyy_zzz&lt;/name&gt;\n      &lt;constructor_arguments /&gt;\n      &lt;parameters&gt;\n        &lt;parameter&gt;\n          &lt;name&gt;Name&lt;/name&gt;\n          &lt;string&gt;\n            &lt;value&gt;yyy&lt;/value&gt;\n          &lt;/string&gt;\n        &lt;/parameter&gt;\n        &lt;parameter&gt;\n          &lt;name&gt;abc&lt;/name&gt;\n          &lt;bool&gt;\n            &lt;value&gt;false&lt;/value&gt;\n          &lt;/bool&gt;\n        &lt;/parameter&gt;\n        &lt;parameter&gt;\n          &lt;name&gt;abcd&lt;/name&gt;\n          &lt;bool&gt;\n            &lt;value&gt;true&lt;/value&gt;\n          &lt;/bool&gt;\n        &lt;/parameter&gt;\n        &lt;parameter&gt;\n          &lt;name&gt;aa&lt;/name&gt;\n          &lt;integer&gt;\n            &lt;value&gt;10&lt;/value&gt;\n          &lt;/integer&gt;\n        &lt;/parameter&gt;\n        &lt;parameter&gt;\n          &lt;name&gt;bb&lt;/name&gt;\n          &lt;integer&gt;\n            &lt;value&gt;100&lt;/value&gt;\n          &lt;/integer&gt;\n        &lt;/parameter&gt;\n        &lt;parameter&gt;\n          &lt;name&gt;runtime_disabled&lt;/name&gt;\n          &lt;bool&gt;\n            &lt;value&gt;false&lt;/value&gt;\n          &lt;/bool&gt;\n</code></pre>\n\n<p>I have tried the following to change runtime_disabled value to true but it did not happen which I expect to happen, can anyone tell why is it so and provide suitable solution for the same to work</p>\n\n<pre><code>$data=~ s/(xxx\\.i\\yyy\\_zzz\\s*?&lt;\\/name&gt;(.+?)runtime_disabled\\s*?&lt;\\/name&gt;\\s*?&lt;bool&gt;\\s*?&lt;value&gt;\\s*?&lt;value&gt;.*?&lt;\\/value&gt;)/$1true$2/g;\n</code></pre>\n"}, {"tags": ["linux", "perl", "selenium", "ubuntu"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1477738182, "post_id": 40318004, "comment_id": 67892806, "body": "By the way, those backslashes are redundant. <code>qq(\\&quot;...\\&quot;)</code> is the same as <code>qq(&quot;...&quot;)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "edited": false, "score": 0, "creation_date": 1477740433, "post_id": 40318202, "comment_id": 67893342, "body": "Works as advertised   :-) Thanks! Meir"}], "tags": [], "owner": {"reputation": 7980, "user_id": 1213907, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ksAFh.png?s=128&g=1", "display_name": "KeepCalmAndCarryOn", "link": "https://stackoverflow.com/users/1213907/keepcalmandcarryon"}, "is_accepted": true, "score": 2, "last_activity_date": 1477737978, "last_edit_date": 1492086159, "creation_date": 1477737114, "answer_id": 40318202, "question_id": 40318004, "link": "https://stackoverflow.com/questions/40318004/firing-up-a-stand-alone-selenium-rc-server-on-ubuntu-linux-from-perl/40318202#40318202", "title": "Firing up a stand-alone Selenium RC server on (Ubuntu) Linux from Perl", "body": "<p>Without trying I think you need to run a <code>system qq{xterm -e \"java -jar...\"}</code> command in your <code>system</code> command <a href=\"https://askubuntu.com/questions/484993/run-command-on-anothernew-terminal-window\">from askubuntu</a></p>\n"}], "owner": {"reputation": 309, "user_id": 2964417, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b5c71d859d620825097c7d6bbeef6afa?s=128&d=identicon&r=PG", "display_name": "MeirG", "link": "https://stackoverflow.com/users/2964417/meirg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 40318202, "answer_count": 1, "score": 3, "last_activity_date": 1477737978, "creation_date": 1477735657, "question_id": 40318004, "link": "https://stackoverflow.com/questions/40318004/firing-up-a-stand-alone-selenium-rc-server-on-ubuntu-linux-from-perl", "title": "Firing up a stand-alone Selenium RC server on (Ubuntu) Linux from Perl", "body": "<p>I recently moved from Windows to Ubuntu Linux so I have a porting job. One of my applications is a web testing one interacting with a Selenium RC server, programmed in Perl 5.22. The application fires a Selenium server at the beginning, exchanges messages with it and shuts it down at the end.</p>\n\n<p>On Windows, the Firing code is:</p>\n\n<pre><code>my $selenium_call_string = qq(start cmd /c java -jar  selenium-server-standalone-2.53.0.jar -firefoxProfileTemplate \\\"$firefox_profile_dir\\\");\nsystem ($selenium_call_string);\n</code></pre>\n\n<p>This produced a separate terminal window in which the Selenium log is rolling, whereas the Perl script is writing into the original Terminal window from which it was invoked.</p>\n\n<p>How do I achieve the same result on (Ubuntu) Linux?</p>\n"}, {"tags": ["database", "perl", "sqlite"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1477731682, "post_id": 40317428, "comment_id": 67891504, "body": "If you get an error that mentions a &#39;.&#39; in your SQL, then perhaps you should start by searching your SQL for dots :-)"}, {"owner": {"reputation": 39, "user_id": 4380216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/388a5b64622a9c813a63b9db8ed98d42?s=128&d=identicon&r=PG&f=1", "display_name": "reetyn", "link": "https://stackoverflow.com/users/4380216/reetyn"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1477731803, "post_id": 40317428, "comment_id": 67891525, "body": "@DaveCross haha this is embarrassing...... thank you"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1477734867, "post_id": 40317428, "comment_id": 67891986, "body": "Don&#39;t sweat over a dot. That happens to all of us. ;) On a different note, it looks like your column <code>Mates</code> is supposed to hold IDs of the friends of that user. If you put several relations into one column your database design is <i>unnormalized</i>, which for a relational database is a bad decision. It would be smarter to create another table, e.g. <code>Users_Mates</code> with columns <code>relation_id</code>, <code>user_id</code> and <code>mate_id</code>. Now you can have one record for each relationship (in the most literal sense)..."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1477734871, "post_id": 40317428, "comment_id": 67891987, "body": "... Those are easy to fetch, you can join on them directly, and your database is normalized. Read up on it on <a href=\"https://en.wikipedia.org/wiki/Database_normalization\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Database_normalization</a> or listen to your teacher I guess, it&#39;s gonna be up next most likely. ;-)"}, {"owner": {"reputation": 39, "user_id": 4380216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/388a5b64622a9c813a63b9db8ed98d42?s=128&d=identicon&r=PG&f=1", "display_name": "reetyn", "link": "https://stackoverflow.com/users/4380216/reetyn"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477741069, "post_id": 40317428, "comment_id": 67893489, "body": "@simbabque aaah!! thank you~ i&#39;m still in the early stages of this assignment but i definitely think that&#39;ll come in useful later :)"}], "answers": [{"tags": [], "owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "is_accepted": true, "score": 2, "last_activity_date": 1477731374, "creation_date": 1477731374, "answer_id": 40317516, "question_id": 40317428, "link": "https://stackoverflow.com/questions/40317428/sqlite-prepare-method-fails-due-to-syntax-error/40317516#40317516", "title": "SQLite prepare method fails due to syntax error", "body": "<pre class=\"lang-sql prettyprint-override\"><code>near \".\": syntax error\n\nINSERT INTO Users VALUES (?, ?, ?, ?, ?. ?, ?, ?, ?)\n                                       ^\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4380216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/388a5b64622a9c813a63b9db8ed98d42?s=128&d=identicon&r=PG&f=1", "display_name": "reetyn", "link": "https://stackoverflow.com/users/4380216/reetyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 40317516, "answer_count": 1, "score": 0, "last_activity_date": 1477731374, "creation_date": 1477730491, "question_id": 40317428, "link": "https://stackoverflow.com/questions/40317428/sqlite-prepare-method-fails-due-to-syntax-error", "title": "SQLite prepare method fails due to syntax error", "body": "<p>So I want to create a database for Users and insert values into the fields using variable. Initially I tried using it calling the do function, but it wasn't reading the variables properly so I decided to just use prepare and execute separately. This is my code: </p>\n\n<pre><code>$dbh-&gt;do(\"DROP TABLE IF EXISTS Users\");\n$dbh-&gt;do(\"CREATE TABLE Users(\nzid TEXT, \nName TEXT, \nEmail TEXT, \npassword TEXT, \nMates TEXT, \nProgram TEXT, \nCourses TEXT, \nSuburb TEXT, \nBirthday TEXT)\");\n\n$zid = \"z33432523\";\n$name = \"John Doe\";\n$email = \"email@gmail.com\";\n$password = \"alien\";\n$mates = \"z3459148 z3458291\";\n$program = \"\";\n$courses = \"\";\n$suburb = \"\";\n$birthday = \"13/5/1992\";\n\n$sth = $dbh-&gt;prepare('INSERT INTO Users VALUES (?, ?, ?, ?, ?. ?, ?, ?, ?)');\n$sth-&gt;execute($zid, $name, $email, $password, $mates, $program, $courses, $suburb, $birthday);\n$dbh-&gt;disconnect();\n</code></pre>\n\n<p>However, if I try running this code I get the following error: </p>\n\n<pre><code>DBD::SQLite::db prepare failed: near \".\": syntax error at ./dbm.pl line 35.\n</code></pre>\n\n<p>I'm not sure exactly what the problem is? </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 3, "last_activity_date": 1477720292, "creation_date": 1477720292, "answer_id": 40316451, "question_id": 40316428, "link": "https://stackoverflow.com/questions/40316428/perl-printing-out-ascii-test-with-chr/40316451#40316451", "title": "Perl printing out ascii test with chr()", "body": "<p>You can iterate over the array index instead, and add the comma <code>unless $i == $#array;</code>. </p>\n\n<p>But here is another way</p>\n\n<pre><code>print join $comma, map { \"$d_quote$_$d_quote\" } @total;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": false, "score": 0, "last_activity_date": 1477720599, "creation_date": 1477720599, "answer_id": 40316486, "question_id": 40316428, "link": "https://stackoverflow.com/questions/40316428/perl-printing-out-ascii-test-with-chr/40316486#40316486", "title": "Perl printing out ascii test with chr()", "body": "<p>Here's one way</p>\n\n<pre><code>print $d_quote . join(\"$d_quote$comma$d_quote\", @total) . $d_quote;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477762117, "post_id": 40317719, "comment_id": 67899134, "body": "You seem to have a knack for over complicating things! <code>for (my $i=0;$i&lt;scalar(@total);$i++)</code> is better written as <code>for my $i (0..$#total)</code>, and <code>(scalar(@total) - 1)</code> is better written as <code>@total - 1</code> or just <code>$#total</code>. Also, it&#39;s far simpler to print the comma at the start of the loop (<code>if $i &gt; 0</code>) than at the end (<code>if $i &lt; $#total</code>)."}, {"owner": {"reputation": 930, "user_id": 4511056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bb6c2868ac49ca03c83544133f34b3?s=128&d=identicon&r=PG&f=1", "display_name": "Secto Kia", "link": "https://stackoverflow.com/users/4511056/secto-kia"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477776169, "post_id": 40317719, "comment_id": 67903161, "body": "A noob isn&#39;t likely to understand any of that without looking up even more things."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477780674, "post_id": 40317719, "comment_id": 67904187, "body": "What are you talking about??? Look again! Not only does it not use any more more things than yours, the thing it does use are far more useful and basic. I don&#39;t think I&#39;ve ever used C-style <code>for</code> or <code>scalar(@a)</code>; teaching these rarely useful and complicated structures over those used daily is not a good thing! Especially when it results in such unreadable code!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1477885662, "post_id": 40317719, "comment_id": 67927743, "body": "@SectoKia  (1) The C-style <code>for</code> loop is almost never needed in Perl -- and yours cannot even be compared with <code>for (0..$#total)</code>. (2) Btw, the <code>scalar</code> isn&#39;t needed there -- <code>$i &lt; @total</code> does it, and is far clearer. (3) How is your condition clearer than <code>if $i &gt; 0</code> at the beginning? //   This is really not Perl code."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1477885773, "post_id": 40317719, "comment_id": 67927764, "body": "@SectoKia    As for &quot;<i>noob</i>&quot; understanding -- if people learn C, they should learn the C-way of doing it -- if it&#39;s C++ you don&#39;t advise them to write C -- if it&#39;s Perl they should be learning Perl ways and idioms -- if it&#39;s Python ... etc. If somebody is going to work with a kitchen knife they shouldn&#39;t be learning how to use a hunting knife.  They&#39;ll end up hurting themselves.  In programming, when we pick up new tools we learn its ways and idioms from the beginning. It pays off very quickly. All this is intended to be informative, not critical."}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1477898158, "post_id": 40317719, "comment_id": 67930377, "body": "Secto Kia gave me what I needed  - the C style is the easiest to understand.. You need to crawl before you walk, you need to understand c style loop before moving to map or join.  if it were not useful than the perl founder would not allow for a multiplicity of ways to do it"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1478155325, "post_id": 40317719, "comment_id": 68041171, "body": "@capser  That&#39;s great that you like this, and clear by your response, and nobody questions that. However: I suggest that instead of &quot;<i>understanding</i>&quot; C-style code you learn Perl, if you are using Perl.  This is a poor translation of C (no offense meant -- but it is) and that is not a way to write any language.  Don&#39;t have to crawl over broken glass.  Just my best intentions ..."}, {"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1478155661, "post_id": 40317719, "comment_id": 68041314, "body": "yes - Secto Kia looked at my script, judged my level of skill, and then wrote an answer to target my level of skill. he was right on."}], "tags": [], "owner": {"reputation": 930, "user_id": 4511056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bb6c2868ac49ca03c83544133f34b3?s=128&d=identicon&r=PG&f=1", "display_name": "Secto Kia", "link": "https://stackoverflow.com/users/4511056/secto-kia"}, "is_accepted": true, "score": 0, "last_activity_date": 1477733358, "creation_date": 1477733358, "answer_id": 40317719, "question_id": 40316428, "link": "https://stackoverflow.com/questions/40316428/perl-printing-out-ascii-test-with-chr/40317719#40317719", "title": "Perl printing out ascii test with chr()", "body": "<p>The interative way is:</p>\n\n<pre><code>for (my $i=0;$i&lt;scalar(@total);$i++)\n{\n    print $d_quote . $total[$i] . $d_quote;\n    if ($i != (scalar(@total) - 1)) { print $comma; }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "edited": false, "score": 0, "creation_date": 1478157020, "post_id": 40321607, "comment_id": 68041848, "body": "this is very consicise - I wish i could just write code like this : for my $i (0..$#total) {     print &quot;,&quot; if $i &gt; 0;     print qq{&quot;$total[$i]&quot;};"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1477761849, "last_edit_date": 1477761849, "creation_date": 1477761351, "answer_id": 40321607, "question_id": 40316428, "link": "https://stackoverflow.com/questions/40316428/perl-printing-out-ascii-test-with-chr/40321607#40321607", "title": "Perl printing out ascii test with chr()", "body": "<p>It's far easier to print the comma at the start of the loop (when necessary) than at the end.</p>\n\n<pre><code>for my $i (0..$#total) {\n    print \",\" if $i &gt; 0;\n    print qq{\"$total[$i]\"};\n}\n\nprint(\"\\n\");\n</code></pre>\n\n<p>I wouldn't recommend this the following, but it shows you don't actually need the indexes:</p>\n\n<pre><code>for (@total) {\n    print \",\" if \\$_ != \\$total[0];\n    print qq{\"$_\"};\n}\n\nprint(\"\\n\");\n</code></pre>\n\n<p>But <code>join</code> works far better.</p>\n\n<pre><code>print(join(\",\", map { qq{\"$_\"} } @total), \"\\n\");\n</code></pre>\n\n<p>Finally, it looks like you are generating CSV. You should really be using <a href=\"http://search.cpan.org/perldoc?Text::CSV_XS\" rel=\"nofollow\">Text::CSV_XS</a> for that!</p>\n\n<pre><code>use Text::CSV_XS qw( );\n\nmy $csv = Text::CSV_XS-&gt;new({ binary =&gt; 1, auto_diag =&gt; 2 });\n\n$csv-&gt;say(\\*STDOUT, \\@total);\n</code></pre>\n\n<p>Quotes will be added where necessary, and escapes will be used where necessary.</p>\n"}], "owner": {"reputation": 2167, "user_id": 824282, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8f0cb967adb644f6408e5ff3df8c8a0f?s=128&d=identicon&r=PG", "display_name": "capser", "link": "https://stackoverflow.com/users/824282/capser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 40317719, "answer_count": 4, "score": 0, "last_activity_date": 1477884787, "creation_date": 1477720051, "last_edit_date": 1477884787, "question_id": 40316428, "link": "https://stackoverflow.com/questions/40316428/perl-printing-out-ascii-test-with-chr", "title": "Perl printing out ascii test with chr()", "body": "<p>On this simple program, how can I put a comma between each entity, but leave it off and the end ?</p>\n\n<pre><code>$ cat  array_maker.pl\n#!/usr/bin/perl\nuse strict ;\nuse warnings ;\n\nmy @total = @ARGV ;\nmy $d_quote = chr(34);\nmy $comma = chr(44);\n\n\nforeach my $total(@total) {\n     print \" $d_quote$total$d_quote$comma\" ;\n}\n</code></pre>\n\n<p>I get this: </p>\n\n<pre><code>$ ./array_maker.pl one two three four\n\"one\", \"two\", \"three\", \"four\",\n</code></pre>\n\n<p>I want this: </p>\n\n<pre><code>\"one\", \"two\", \"three\", \"four\" #no comma at end of string. \n</code></pre>\n"}, {"tags": ["regex", "perl", "text"], "comments": [{"owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "edited": false, "score": 5, "creation_date": 1477687592, "post_id": 40312947, "comment_id": 67883093, "body": "You are trying to do something impossible since you can&#39;t make the difference between a forename and a part from a lastname in several parts, example: &quot;Boutros Boutros Ghali&quot;, &quot;Jean Fran&#231;ois de la Motte de Chanterac&quot;. I suggest to build a form with separated fields."}, {"owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "edited": false, "score": 1, "creation_date": 1477826602, "post_id": 40312947, "comment_id": 67912115, "body": "Have a look at: <a href=\"https://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/\" rel=\"nofollow noreferrer\">kalzumeus.com/2010/06/17/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 1, "last_activity_date": 1580625523, "last_edit_date": 1580625523, "creation_date": 1477687909, "answer_id": 40313038, "question_id": 40312947, "link": "https://stackoverflow.com/questions/40312947/regular-expression-to-match-full-name-with-optional-middle-name/40313038#40313038", "title": "Regular Expression to Match Full Name with Optional Middle Name", "body": "<p>Parsing names in any generality is a very rounded and complex problem, and one couldn't really do what is asked for; how do we know how many words are part of the last (or first) name?  However, with names quite like in the example -- where the first and last names are indeed always a single (space-separated) word -- this isn't a problem.</p>\n\n<p>Since you need to split by space and analyze by position, <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a> makes it simple. It breaks a string by the given pattern and returns the obtained list. With only the name on the line you can get the first and the last element, which are the first and last name, regardless of the optional middle part. Either</p>\n\n<pre><code>my ($first, $last) = (split ' ', $line)[0,-1];\n</code></pre>\n\n<p>or</p>\n\n<pre><code>my @name = split ' ', $line;\n\nmy $first = shift @name;\nmy $last  = pop   @name;\n</code></pre>\n\n<p>Or you can use the specific position if there may be trailing items on the line</p>\n\n<pre><code>my ($first, $last) = (@name == 2) ? @name : @name[0,2];\n</code></pre>\n\n<p>The pattern used above for space, <code>' '</code>, is a little special &ndash; it is for any amount of any white space, and it also discards (possible) leading spaces. When general regex patterns for space are used the leading space is kept and we may end up with an empty string for the first element. See <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow noreferrer\">split</a>.</p>\n\n<p>If the line is in <code>$_</code>, for example with <code>while (&lt;$fh&gt;)</code>, you can make use of <code>split</code> defaults </p>\n\n<pre><code>my ($first, $last) = (split)[0,-1]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1477710651, "post_id": 40314299, "comment_id": 67888389, "body": "&quot;<i>Regarding the answer that is using split. ...  split on /\\s+/</i>&quot;  -- no, that is precisely what should not be done.  I suggest reading through <code>split</code> documentation, as stated in that answer, to learn what <code>&#39; &#39;</code> does and what <code>&#47;\\s+&#47;</code> does."}], "tags": [], "owner": {"reputation": 1, "user_id": 7086974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bcd4b9f15178a1e6824544276f5c334?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Miller", "link": "https://stackoverflow.com/users/7086974/josh-miller"}, "is_accepted": false, "score": -1, "last_activity_date": 1477695432, "creation_date": 1477695432, "answer_id": 40314299, "question_id": 40312947, "link": "https://stackoverflow.com/questions/40312947/regular-expression-to-match-full-name-with-optional-middle-name/40314299#40314299", "title": "Regular Expression to Match Full Name with Optional Middle Name", "body": "<p>You will almost certainly run into lots of edge cases that do not work. That said, if you are sure your corpus consists only of names in the formats you provided, the following will work:</p>\n\n<pre><code>#!/usr/bin/perl\nmy @n = (\n    \"John Smith\",\n    \"John A. Smith\",\n    \"John Andrew Smith\",\n);\nforeach my $full_name (@n) {\n    my ($first, $last) = $full_name =~ /^\\s*(\\S+)\\s+(?:\\S+\\s+)?(\\S+)\\s*$/;\n    print \"'$first' '$last'\\n\";\n}\n</code></pre>\n\n<p>You'd be better off capturing the full name and that's all, but loads of legacy systems want, at least, last name on its own. Maybe this will get you closer before manually truing up things.</p>\n\n<p>You can also update the above to remove any number of middle names:</p>\n\n<pre><code>my ($first, $last) = $full_name =~ /^\\s*(\\S+)\\s+(?:\\S+\\s+)*?(\\S+)\\s*$/;\n</code></pre>\n\n<p>Regarding the answer that is using split... if you do that, update it to split on /\\s+/ (any white space).</p>\n"}, {"comments": [{"owner": {"reputation": 1994, "user_id": 705483, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/14502b4cba56a3ded992af9a2b8ae219?s=128&d=identicon&r=PG", "display_name": "pmont", "link": "https://stackoverflow.com/users/705483/pmont"}, "edited": false, "score": 0, "creation_date": 1530910010, "post_id": 40315773, "comment_id": 89416023, "body": "I replaced the <code>w</code> word character match with <code>.</code> to match non-ASCII characters (e.g. unicode) <code>&#47;(.+)(?:\\s[^\\s]+)?\\s(\\w+).*&#47;</code>"}], "tags": [], "owner": {"reputation": 3755, "user_id": 5645769, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vBDbj.jpg?s=128&g=1", "display_name": "T\u1d00\u0280\u1d07\u01eb M\u1d00\u029c\u1d0d\u1d0f\u1d0f\u1d05", "link": "https://stackoverflow.com/users/5645769/t%e1%b4%80%ca%80%e1%b4%87%c7%ab-m%e1%b4%80%ca%9c%e1%b4%8d%e1%b4%8f%e1%b4%8f%e1%b4%85"}, "is_accepted": false, "score": 1, "last_activity_date": 1477711990, "creation_date": 1477711990, "answer_id": 40315773, "question_id": 40312947, "link": "https://stackoverflow.com/questions/40312947/regular-expression-to-match-full-name-with-optional-middle-name/40315773#40315773", "title": "Regular Expression to Match Full Name with Optional Middle Name", "body": "<p>Your pattern is expecting a word character (<code>\\w</code>) at the end of the middle name, but your example <strong>John A. Smith</strong> has a dot at the end of the middle name. I would change the pattern like this to accept anything other than space in the middle name, which should solve your issue.</p>\n\n<pre><code>(\\w+)(?:\\s[^\\s]+)?\\s(\\w+).*\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5910724"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3845, "favorite_count": 0, "accepted_answer_id": 40313038, "answer_count": 3, "score": 2, "last_activity_date": 1580625523, "creation_date": 1477687386, "question_id": 40312947, "link": "https://stackoverflow.com/questions/40312947/regular-expression-to-match-full-name-with-optional-middle-name", "title": "Regular Expression to Match Full Name with Optional Middle Name", "body": "<p>I am writing a Perl program which has a section that loops through a text file and extracts the first and last names of system users. However, on some of the user accounts, they may have a middle name or a middle initial with a period. For example, in the three strings below, I am trying to match John (first name) and Smith (last name) only. I do not want to store the middle name / initial (if there is one):</p>\n\n<p>John Smith</p>\n\n<p>John A. Smith</p>\n\n<p>John Andrew Smith</p>\n\n<p>I have tried to do something like:</p>\n\n<pre><code>(\\w+)(?:\\s.*\\w)?\\s(\\w+).*\n</code></pre>\n\n<p>Where I read and capture the first word (first name) and then have an optional space followed by any characters (middle name) and then a space followed by the last word (last name). But this is not working and I have not been able to come up with any working solution.</p>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["perl", "nginx", "dancer", "starman"], "comments": [{"owner": {"reputation": 4324, "user_id": 109483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1605dbda0d18f0df226b6c1b379f9a4?s=128&d=identicon&r=PG", "display_name": "Ashley", "link": "https://stackoverflow.com/users/109483/ashley"}, "edited": false, "score": 0, "creation_date": 1477686669, "post_id": 40312770, "comment_id": 67882732, "body": "FWIW, I strongly recommend <a href=\"http://uwsgi-docs.readthedocs.io/en/latest/Perl.html\" rel=\"nofollow noreferrer\">uWSGI</a> over Starman. Deeper in every way and more reliable in my experience."}, {"owner": {"reputation": 4391, "user_id": 2332415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fa5a4e5ffdf883a1fcb1840c915d485?s=128&d=identicon&r=PG", "display_name": "Slaven Rezic", "link": "https://stackoverflow.com/users/2332415/slaven-rezic"}, "edited": false, "score": 0, "creation_date": 1498750441, "post_id": 40312770, "comment_id": 76639286, "body": "My experience is different: I have a starman setup which is happily serving more than 100,000,000 requests per day, for many months without problems."}], "answers": [{"comments": [{"owner": {"reputation": 4391, "user_id": 2332415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fa5a4e5ffdf883a1fcb1840c915d485?s=128&d=identicon&r=PG", "display_name": "Slaven Rezic", "link": "https://stackoverflow.com/users/2332415/slaven-rezic"}, "edited": false, "score": 0, "creation_date": 1498753252, "post_id": 41539965, "comment_id": 76641192, "body": "What about keep-alive connections? For me it seems that multiple HTTP requests over one keep-alive connection just count as one request. Can you confirm this observation?"}], "tags": [], "owner": {"reputation": 336, "user_id": 3808623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4de1e889b7b1d5bde4aa4bc089e74c?s=128&d=identicon&r=PG", "display_name": "ccm", "link": "https://stackoverflow.com/users/3808623/ccm"}, "is_accepted": false, "score": 4, "last_activity_date": 1483927169, "creation_date": 1483927169, "answer_id": 41539965, "question_id": 40312770, "link": "https://stackoverflow.com/questions/40312770/what-is-the-optimal-max-requests-setting-for-starman/41539965#41539965", "title": "What is the optimal --max-requests setting for Starman?", "body": "<h3>What does the <code>--max-requests</code> setting do?</h3>\n\n<p>From <code>starman --help</code>:</p>\n\n<blockquote>\n  <p>--max-requests\n      Number of the requests to process per one worker process. Defaults\n      to 1000.</p>\n</blockquote>\n\n<p>What this means is that each worker will exit after it processes that many requests. The master process will then launch a brand new worker for each worker that exits, maintaining the number of workers according to the <code>--workers</code> setting.</p>\n\n<p>Using <code>--max-requests</code> is usually a good thing, especially if your app isn't the only thing running on the box, because <code>perl</code> (notoriously) does not give back memory that it uses. This <strong>recycling</strong> of worker processes is the way <code>starman</code> can give memory back for other processes to use. If your app actually <em>leaks</em> memory, this can also help keep your app running with good performance as opposed to your app eventually consuming all the memory and needing to be killed by the OS.</p>\n\n<h3>What is the optimal value for the <code>--max-requests</code> setting?</h3>\n\n<p>You should leave it at its default value of <code>1,000</code> unless you have a good reason to change it. If your app is the only thing running on the box and you're sure that it's not leaky, you could try using a higher value to recycle workers less often. If you know your app is leaky, you may want to use a lower value to recycle workers <em>more</em> often. However, generally this setting should actually have very little impact on performance.</p>\n\n<p>That said, recycling workers <em>could</em> be responsible for spurious slow requests if your workers cache stuff in memory because new workers would need to spend some time rebuilding those caches, but there could be many other possible explanations. You'll need to do some profiling to find out what's really causing the specific slowness you're seeing.</p>\n"}], "owner": {"reputation": 598, "user_id": 1139526, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/79a480e0e6505a2d11333569c5eb4b1d?s=128&d=identicon&r=PG", "display_name": "MadHacker", "link": "https://stackoverflow.com/users/1139526/madhacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1483927169, "creation_date": 1477686460, "question_id": 40312770, "link": "https://stackoverflow.com/questions/40312770/what-is-the-optimal-max-requests-setting-for-starman", "title": "What is the optimal --max-requests setting for Starman?", "body": "<p>I am running a Dancer (v1.3202) app with Starman (v0.4014) and ngynx as a front end proxy. I am noticing a huge latency spike in my load balancer every couple of hours and wonder if it's the workers reaching their request limit and restarting. The latency goes from 30ms average to 1000ms or more. I checked the MongoDB and there are no long running queries. What does the --max-requests actually do regarding the workers and what happens when a worker reaches this limit?</p>\n"}, {"tags": ["perl", "file-upload"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7086691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c804d97fda4dc1c6fe0066836aa2d648?s=128&d=identicon&r=PG&f=1", "display_name": "Lilous", "link": "https://stackoverflow.com/users/7086691/lilous"}, "edited": false, "score": 2, "creation_date": 1477679951, "post_id": 40311208, "comment_id": 67879660, "body": "Although this is some interesting information, this is not an answer."}], "tags": [], "owner": {"reputation": 46, "user_id": 6005390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68030fb02bd31e88b98b83f441fc9c62?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Palmer", "link": "https://stackoverflow.com/users/6005390/tim-palmer"}, "is_accepted": false, "score": -1, "last_activity_date": 1477679574, "creation_date": 1477679574, "answer_id": 40311208, "question_id": 40310957, "link": "https://stackoverflow.com/questions/40310957/print-the-content-of-an-uploaded-file-in-perl/40311208#40311208", "title": "Print the content of an uploaded file in perl", "body": "<p>I would probably use autoEscape ().</p>\n\n<p>Another option is to simply test for the file name being \"0\" and asking the user to change it if it is.</p>\n\n<p>Also, you could use temporary filenames.</p>\n\n<p>See the official CGI documentation for more information.\n<a href=\"http://perldoc.perl.org/CGI.html\" rel=\"nofollow\">CGI Documentation</a></p>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 3, "last_activity_date": 1477684459, "last_edit_date": 1477684459, "creation_date": 1477683832, "answer_id": 40312209, "question_id": 40310957, "link": "https://stackoverflow.com/questions/40310957/print-the-content-of-an-uploaded-file-in-perl/40312209#40312209", "title": "Print the content of an uploaded file in perl", "body": "<ol>\n<li><p>Because the string <code>0</code>, like the empty string and the <code>undef</code> value, evaluate to false in a boolean context like</p>\n\n<p>if ($cgi->upload('file')) { ... }</p></li>\n</ol>\n\n<p>In filenames and text processing, this is an edge case that is usually less trouble than its worth to think about, but when you do need to worry about it, the workarounds are to evaluate whether the input is an empty string or not</p>\n\n<pre><code>if ($cgi-&gt;upload('file') ne '') { ... }\nif (length($cgi-&gt;upload('file'))) { ... }\n</code></pre>\n\n<ol start=\"2\">\n<li>Early versions of the CGI module open the temporary file with <code>sysopen</code> and modern versions use <code>File::Temp</code>. Either way is sufficient to ensure that Perl is attempting to open a real file and will not use a shell that can be tricked by pipes or backticks into executing an arbitrary command.</li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 7086691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c804d97fda4dc1c6fe0066836aa2d648?s=128&d=identicon&r=PG&f=1", "display_name": "Lilous", "link": "https://stackoverflow.com/users/7086691/lilous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1477684459, "creation_date": 1477678544, "question_id": 40310957, "link": "https://stackoverflow.com/questions/40310957/print-the-content-of-an-uploaded-file-in-perl", "title": "Print the content of an uploaded file in perl", "body": "<p>I made a small script in perl that displays the content of a file sent by a user.</p>\n\n<p>However I noticed something strange: if the file is named <code>0</code>, nothing will be printed, like if I didn't send any file and just refreshed the page.</p>\n\n<ol>\n<li>How can this happen?</li>\n<li>Is there any risk of someone dropping in the filename command to make my server execute it? (with the pipe thing)</li>\n</ol>\n\n<p>Here is the code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse CGI;\nmy $cgi = CGI-&gt;new;\nprint \"Content-type: text/html\\n\\n\";\n\nif ($cgi-&gt;upload('file')) {\n    print '&lt;h1&gt;file uploaded:&lt;/h1&gt;';\n\n    my $file = $cgi-&gt;param('file');    \n    while (&lt;$file&gt;) {\n        print \"a\";\n        print \"&lt;p&gt;\".$cgi-&gt;escapeHTML($_).\"&lt;/p&gt;\";\n    }\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "answers": [{"tags": [], "owner": {"reputation": 11224, "user_id": 1620937, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/689410968ffb0f422e790bd6a48b3d9e?s=128&d=identicon&r=PG", "display_name": "Orab&#238;g", "link": "https://stackoverflow.com/users/1620937/orab%c3%aeg"}, "is_accepted": false, "score": 0, "last_activity_date": 1477700825, "last_edit_date": 1477700825, "creation_date": 1477677509, "answer_id": 40310731, "question_id": 40310613, "link": "https://stackoverflow.com/questions/40310613/perl-search-and-append/40310731#40310731", "title": "perl search and append", "body": "<p>$1 is interpreted by bash because you quote your perl code inside \"...\". Replace your one-liner with:</p>\n\n<pre><code>perl -pi -e 's/(q\\(abc\\S+)\\[)/$1_str[/' file\n</code></pre>\n\n<p>Like in Perl, single-quotes wont interpret the content.</p>\n\n<p>I also fixed <code>\\1</code>, replacing it with <code>[</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 45481, "user_id": 197758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628da6ba2a6c70e35c009b7e3c3a430a?s=128&d=identicon&r=PG", "display_name": "toolic", "link": "https://stackoverflow.com/users/197758/toolic"}, "is_accepted": true, "score": 2, "last_activity_date": 1477677768, "creation_date": 1477677768, "answer_id": 40310792, "question_id": 40310613, "link": "https://stackoverflow.com/questions/40310613/perl-search-and-append/40310792#40310792", "title": "perl search and append", "body": "<p>This produces your desired output:</p>\n\n<pre><code>perl -pi -e 's/(q\\(abc\\S+)\\[/$1_str[/' file\n</code></pre>\n\n<p>As you noticed, the shell interprets $1 as a shell variable.  You need to use single quotes to prevent the shell from treating it as a variable.</p>\n\n<p>The one-liner you originally posted generates an error for me (I see you have now edited your original code).</p>\n"}], "owner": {"reputation": 33, "user_id": 7086558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d9e78beaac4e472c0e55f0217ba689?s=128&d=identicon&r=PG&f=1", "display_name": "user7086558", "link": "https://stackoverflow.com/users/7086558/user7086558"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "accepted_answer_id": 40310792, "answer_count": 2, "score": 3, "last_activity_date": 1477700825, "creation_date": 1477676987, "last_edit_date": 1477686435, "question_id": 40310613, "link": "https://stackoverflow.com/questions/40310613/perl-search-and-append", "title": "perl search and append", "body": "<p>I am trying to write a perl one-liner to search for a string q(abc* and append to it when that string is found. My input file has a bunch of things like this:</p>\n\n<pre><code>q(abc0x[...\nq(abc1x[...\nq(abc2x[...\nq(abc0y[...\n</code></pre>\n\n<p>I would like the output to be:</p>\n\n<pre><code>q(abc0x_str[...\nq(abc1x_str[...\nq(abc2x_str[...\nq(abc0y_str[...\n</code></pre>\n\n<p>I've tried this:</p>\n\n<pre><code>perl -pi -e \"s/(q\\((abc\\S+)\\[)/\\$1_str\\1/\" file\n</code></pre>\n\n<p>but the <code>$1</code> backreference seems to pick up the value from my environment when I type <code>echo $1</code> and pre-pends <code>_str</code> instead of appending it, giving this output:</p>\n\n<pre><code>-project_strq(abc0x[...\n</code></pre>\n\n<p>where <code>$1</code> just happens to be \"-project\" in my environment.</p>\n\n<p>Alternatively, I've tried:</p>\n\n<pre><code>perl -pi -e \"s/(q\\(abc\\S+)\\[)/_str\\1/\" file\n</code></pre>\n\n<p>but the output here looks like this instead with the pre-pended <code>_str</code>:</p>\n\n<pre><code>_strq(abc0x[...\n</code></pre>\n\n<p>Neither output is what I expect. Any advice?</p>\n"}, {"tags": ["perl", "www-mechanize"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7086394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c2069509497d5c5e9871d073d1420d?s=128&d=identicon&r=PG&f=1", "display_name": "Goof", "link": "https://stackoverflow.com/users/7086394/goof"}, "edited": false, "score": 0, "creation_date": 1477686617, "post_id": 40310594, "comment_id": 67882720, "body": "Thanks, now I feel silly. These shouldn&#39;t get big and using Net::Google::Spreadsheets::Spreadsheet for the larger file. Wanting to avoid unnecessary writes to Raspberry Pi SD. The parsing is reversing and removing duplicates. Thanks again!"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 1, "last_activity_date": 1477676922, "creation_date": 1477676922, "answer_id": 40310594, "question_id": 40310214, "link": "https://stackoverflow.com/questions/40310214/line-by-line-parsing-of-perl-mechanize-content/40310594#40310594", "title": "Line by line parsing of Perl Mechanize content", "body": "<p>The problem is here:</p>\n\n<pre><code>my (@lines)=split(/\\n?\\r/,$data);\n</code></pre>\n\n<p>You have the newline regex backwards. It's <code>\\r?\\n</code>, but it's safer to write <code>\\015?\\012</code> for the literal characters because <code>\\r</code> and <code>\\n</code> can be different on some systems.</p>\n\n<p>Your for loop can be better written as:</p>\n\n<pre><code>for my $line (@lines) {\n</code></pre>\n\n<p>However, you generally don't want to process entire files as an array. What you're doing can use a tremendous amount of memory. Instead it's better to first save it to disk and read the CSV file line by line.</p>\n\n<pre><code>use autodie;\n\n$mech-&gt;get( $uri, ':content_file' =&gt; \"test.csv\" );\n\nopen my $fh, \"test.csv\";\nwhile( my $line = &lt;$fh&gt; ) {\n    ...\n}\n</code></pre>\n\n<p>But don't do your own CSV parsing. It's much faster and less buggy to use <a href=\"https://metacpan.org/pod/Text::CSV_XS\" rel=\"nofollow\">Text::CSV_XS</a>.</p>\n"}], "owner": {"reputation": 13, "user_id": 7086394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c2069509497d5c5e9871d073d1420d?s=128&d=identicon&r=PG&f=1", "display_name": "Goof", "link": "https://stackoverflow.com/users/7086394/goof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 40310594, "answer_count": 1, "score": 1, "last_activity_date": 1477676922, "creation_date": 1477675371, "question_id": 40310214, "link": "https://stackoverflow.com/questions/40310214/line-by-line-parsing-of-perl-mechanize-content", "title": "Line by line parsing of Perl Mechanize content", "body": "<p>Creating perl scritps to auto download CSV's from various billers websites but I'm having problems taking the data from $mech->content() into something I can parse line by line for some reason. The content is a multi line CSV file,  </p>\n\n<pre><code>#!/usr/bin/perl\nuse WWW::Mechanize;\nuse IO::Socket::SSL qw();\n\nmy $mech = WWW::Mechanize-&gt;new();\n...stuff...\nmy $data=$mech-&gt;content();\nmy (@lines)=split(/\\n?\\r/,$data);\nprint \"lines=\".@lines.\"\\n---\\n@lines\\n---\\n\";\nwrite_file(\"tmp.csv\",$data);\n\nfor(my $i=0;$i&lt;@lines;$i++){\n    ...work that's done that depends on each \n    line being represented as an element of \n    an array... \n}\n</code></pre>\n\n<p>Originally I assigned $mech->content() directly to @lines, tried a few other things like $mech->content( raw => 1 ), as you see above I tried splitting it with \\n or \\r.\nBrowser shows the csv file as text/plain, Quirks mode, UTF-8\nRunning file tmp.csv shows it's ASCII text and is multiline.</p>\n\n<p>What am I doing wrong, and what's that right way to do this?</p>\n"}, {"tags": ["bash", "perl", "shell", "awk", "sed"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1477670684, "post_id": 40308907, "comment_id": 67875176, "body": "Spaces are allowed around <code>&amp;&amp;</code>, <code>||</code>, <code>==</code>, and <code>!=</code> in bash, so why go to the trouble of removing them?"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1477671367, "post_id": 40308907, "comment_id": 67875477, "body": "<code>&amp;</code> means <code>the string that matched the regexp</code> on the right side of a substitution, so you need to escape the <code>&amp;</code>s in that context."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5076948"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1477671412, "post_id": 40308907, "comment_id": 67875502, "body": "@ThisSuitIsBlackNot To minify the script."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5076948"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1477671587, "post_id": 40308907, "comment_id": 67875596, "body": "@EdMorton thank you for pointing that out, I just typed it out as a sample without testing.  updated the question."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1477672063, "post_id": 40308907, "comment_id": 67875856, "body": "remove the escapes from the left side. &amp;s are capture group reference characters, not regexp metacharacters. dont just escape every character you think of as &quot;special&quot; (because nothing in software should every be considered &quot;special&quot; or &quot;new&quot; - 2 words to NEVER use in describing software functionality!) as you can turn them into metachars by doing that. learn what each character means in its given context  as the meaning is different in each context"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5076948"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1477672321, "post_id": 40308907, "comment_id": 67875981, "body": "@EdMorton I don&#39;t follow - the following is working for me: echo &quot;hello &amp;&amp; world&quot; | sed &#39;s/ \\&amp;\\&amp; /\\&amp;\\&amp;/g&#39; # hello&amp;&amp;world"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1477672555, "post_id": 40308907, "comment_id": 67876114, "body": "You could add a whole lot of round brackets or you could replace the escapes with square brackets and it&#39;d &quot;work&quot; too IN THAT SPECIFIC CASE and you&#39;d still just have a lot of unnecessary characters cluttering up and obfuscating your code. Try doing exactly the same thing with your other case of replacing <code>||</code> instead of <code>&amp;&amp;</code> though. Getting the expected output given some sample input is the starting point of writing good code, not the end point."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1477672822, "post_id": 40308907, "comment_id": 67876250, "body": "The point is - escape characters that have some specific metacharacter property in some specific context when you want them treated literally instead. Do not escape characters that are already literal in some specific context unless you want to enable some specific metacharacter property attributed to that character when escaped in that specific context. It&#39;ll avoid you tripping over bugs when you accidentally turn a literal into a metacharacter and make your code clearer."}], "answers": [{"tags": [], "owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "is_accepted": false, "score": 0, "last_activity_date": 1477670610, "creation_date": 1477670610, "answer_id": 40308976, "question_id": 40308907, "link": "https://stackoverflow.com/questions/40308907/match-multiple-conditions-with-gnu-sed/40308976#40308976", "title": "match multiple conditions with GNU sed", "body": "<p>You can chain multiple sed substitutions with the <code>-e</code> flag: </p>\n\n<pre><code>$ echo -n \"test data here\" | sed -e 's/test/TEST/' \\\n                                 -e 's/data/HERE/' \\ \n                                 -e 's/here/DATA/'\n$ TEST HERE DATA\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5076948"}, "edited": false, "score": 0, "creation_date": 1477671295, "post_id": 40308984, "comment_id": 67875452, "body": "I am intentionally storing the data in a variable to reduce execution time with all of the file read/write and tmp file creation involved with the the -i inline option.  Will a sed file or -e option still execute multiple subprocesses?  The goal is to reduce execution time by using clever regex with less commands."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1477672620, "post_id": 40308984, "comment_id": 67876153, "body": "multiple <code>-e</code> options won&#39;t invoke several process, that is equivalent. and see my edit for the -i option."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5076948"}, "edited": false, "score": 0, "creation_date": 1477673400, "post_id": 40308984, "comment_id": 67876504, "body": "Yes but a temporary file is created, it&#39;s read and written to, the original file is removed, and the temporary file is renamed.  Versus the file is read, everything is done in memory, the file is written.  Also note the variables is a local one within a function."}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 0, "last_activity_date": 1477672628, "last_edit_date": 1477672628, "creation_date": 1477670631, "answer_id": 40308984, "question_id": 40308907, "link": "https://stackoverflow.com/questions/40308907/match-multiple-conditions-with-gnu-sed/40308984#40308984", "title": "match multiple conditions with GNU sed", "body": "<p>you can use a <code>sedfile</code> (<code>-f</code> option) alongside with the <code>-i</code> option (replace in-place, no need to store in env. variable):</p>\n\n<pre><code>sed -i -f mysedfile somefile.sh\n</code></pre>\n\n<p><code>mysedfile</code> may contain expressions, 1 per line</p>\n\n<pre><code>s/ *&amp;&amp; */\\&amp;\\&amp;/g\ns/ *== */==/g\n</code></pre>\n\n<p>(or use the <code>-e</code> option to use several expression, but if you have a lot of them, it wil become quickly unreadable)</p>\n\n<p>BTW: <code>-i</code> option creates a temporary file <em>within</em> the processed file directory, so in the end, if operation succeeds, the original file is deleted and the temporary file is <em>renamed</em> into the original file name</p>\n\n<blockquote>\n  <p>When the end of the file is reached, the temporary file is renamed\n       to the output file's original name.  The extension, if supplied,\n       is used to modify the name of the old file before renaming the\n       temporary file, thereby making a backup copy(2))</p>\n</blockquote>\n\n<p>so there's no I/O overhead with that option. No need at all to store in a variable.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5076948"}, "edited": false, "score": 0, "creation_date": 1477673621, "post_id": 40309283, "comment_id": 67876608, "body": "ah yes backreferences will help me greatly in the future thank you"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1477674227, "post_id": 40309283, "comment_id": 67876932, "body": "If you get rid of the <code>-r</code> (which you shouldn&#39;t use anyway, use <code>-E</code> instead for portability IF you need EREs which you don&#39;t in this case) then you can get rid of the escapes of the <code>&amp;</code> and <code>|</code> characters and all you have to do is escape the capture group delimiters and you have a more concise, portable script."}, {"owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1477679387, "post_id": 40309283, "comment_id": 67879416, "body": "@EdMorton The BREs don&#39;t include the alternation operator (the escaped <code>\\|</code> is a GNU sed extension). I&#39;m not sure that using this operator in BRE mode will be much more portable."}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1477680744, "post_id": 40309283, "comment_id": 67880071, "body": "I see what you&#39;re saying, I missed that you needed the <code>|</code> metacharacter. I&#39;m not sure it&#39;s just GNU sed that supports enabling ERE metacharacters with escapes, though, and <code>-E</code> will definitely enable EREs in multiple sed versions whereas <code>-r</code> only does it for GNU sed."}], "tags": [], "owner": {"reputation": 14395, "user_id": 1344961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7ad173373ce2a48950108f5adc4b6d?s=128&d=identicon&r=PG", "display_name": "SLePort", "link": "https://stackoverflow.com/users/1344961/sleport"}, "is_accepted": true, "score": 0, "last_activity_date": 1506183888, "last_edit_date": 1506183888, "creation_date": 1477671913, "answer_id": 40309283, "question_id": 40308907, "link": "https://stackoverflow.com/questions/40308907/match-multiple-conditions-with-gnu-sed/40309283#40309283", "title": "match multiple conditions with GNU sed", "body": "<p>With GNU <code>sed</code>, you can use the <code>|</code> (or) operator:</p>\n\n<pre><code>$ sed -r 's/ *(&amp;&amp;|\\|\\|) */\\1/g' &lt;&lt;&lt; \"foo &amp;&amp; bar || baz\"\nfoo&amp;&amp;bar||baz\n</code></pre>\n\n<ul>\n<li><code>*(&amp;&amp;|\\|\\|) *</code>: search for zero or more space followed by any of the <code>|</code> separated strings followed by zero or more space</li>\n<li>the matching strings are captured and output using backreference</li>\n</ul>\n\n<p><strong>Edit:</strong></p>\n\n<p>As pointed out in comments, you can use the <code>-E</code> flag with GNU sed in place of <code>-r</code>. Your command will be more portable:</p>\n\n<pre><code>sed -E 's/ *(\\&amp;\\&amp;|\\|\\|) */\\1/g'\n</code></pre>\n\n<p>As GNU sed also supports <code>\\|</code> alternation operator with Basic Regular Expressions, you can use it for better readability:</p>\n\n<pre><code>sed 's/ *\\(&amp;&amp;\\|||\\) */\\1/g'\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5076948"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1528, "favorite_count": 0, "accepted_answer_id": 40309283, "answer_count": 3, "score": 0, "last_activity_date": 1506183888, "creation_date": 1477670347, "last_edit_date": 1477687161, "question_id": 40308907, "link": "https://stackoverflow.com/questions/40308907/match-multiple-conditions-with-gnu-sed", "title": "match multiple conditions with GNU sed", "body": "<p>I'm using sed to replace values in other bash scripts, such as:</p>\n\n\n\n<pre><code>somedata=\"$(&lt;somefile.sh)\"\nsomedata=`sed 's/ ==/==/g' &lt;&lt;&lt; $somedata` # [space]== becomes ==\nsomedata=`sed 's/== /==/g' &lt;&lt;&lt; $somedata` # ==[space] becomes ==\n</code></pre>\n\n\n\n<p>The same for ||, &amp;&amp;, !=, etc.  I think steps should be reduced with the right regex match.  The operator does not need surrounding spaces, but may have a space before and after, only before, or only after.  Is there a way to handle all of these with one sed command?</p>\n\n<p>There are many other conditions not mentioned also.  The script takes more time to execute than desired.  </p>\n\n<p>The goal is to reduce the overall execution time so I am hoping to reduce the number of commands used with clever regex to match multiple conditions.</p>\n\n<p>I'm also considering tr, awk or perl - whichever is fastest?</p>\n"}, {"tags": ["windows", "perl", "lwp"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477659462, "post_id": 40305588, "comment_id": 67868293, "body": "I don&#39;t understand what you want to do. Do you want to scrape the Bugzilla ticket view pages?"}, {"owner": {"reputation": 67, "user_id": 7035499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce95073f038a344aee6390999b05c539?s=128&d=identicon&r=PG&f=1", "display_name": "Gajiu", "link": "https://stackoverflow.com/users/7035499/gajiu"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477659600, "post_id": 40305588, "comment_id": 67868372, "body": "I want to retrieve the bug list of bugzilla."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477659689, "post_id": 40305588, "comment_id": 67868425, "body": "By retrieve, do you mean you want titles and links? Or titles, status, assignee and so on? Or the actual page as an html document? You need to be more specific. bluemonki makes a good point about the API (though they should have commented), and you can also reach into the database directly, which might be easier too."}, {"owner": {"reputation": 67, "user_id": 7035499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce95073f038a344aee6390999b05c539?s=128&d=identicon&r=PG&f=1", "display_name": "Gajiu", "link": "https://stackoverflow.com/users/7035499/gajiu"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477659845, "post_id": 40305588, "comment_id": 67868496, "body": "I want titles, status, assignee and so on. I wasn&#39;t aware of this API. I&#39;ll search for that. It makes possible to get the information I want in a text file?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477660275, "post_id": 40305588, "comment_id": 67868748, "body": "That would be <a href=\"http://bugzilla.readthedocs.io/en/5.0/api/index.html#apis\" rel=\"nofollow noreferrer\">bugzilla.readthedocs.io/en/5.0/api/index.html#apis</a> I believe. You should be able to retrieve what you want. What you do with that information is up to you. Saving it in a file should be the least of your worries. You already know how to write things into a file."}, {"owner": {"reputation": 67, "user_id": 7035499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce95073f038a344aee6390999b05c539?s=128&d=identicon&r=PG&f=1", "display_name": "Gajiu", "link": "https://stackoverflow.com/users/7035499/gajiu"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477660427, "post_id": 40305588, "comment_id": 67868827, "body": "Thx for the link. I&#39;ll read all of that and try things."}], "owner": {"reputation": 67, "user_id": 7035499, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce95073f038a344aee6390999b05c539?s=128&d=identicon&r=PG&f=1", "display_name": "Gajiu", "link": "https://stackoverflow.com/users/7035499/gajiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1477659530, "creation_date": 1477659268, "question_id": 40305588, "link": "https://stackoverflow.com/questions/40305588/try-to-get-content-of-bugzilla-with-perl-and-lwp", "title": "Try to get content of bugzilla with perl and lwp", "body": "<p>I'm trying to get my bugs of bugzilla in a file. I have to do it in Perl and I use LWP module. For now, I just can get the content of the home page where I have to enter my credentials, but when I want to pass it my credentials it didn't work. In result I don't even have an error, just the content of the home page. Like it don't even try to connect. This is what I've done for now :</p>\n\n<pre><code>use LWP;\nopen ($content, \"&gt;&gt;content.txt\") or die;\nopen ($error, \"&gt;&gt;error.txt\") or die;\nopen ($header, \"&gt;&gt;header.txt\") or die;\nmy $browser = LWP::UserAgent-&gt;new;\n$browser-&gt;credentials('www.monsite.com:80', 'mon_domaine', 'mon_domaine\\\\mon_login', 'mon_mot_de_passe');\n\nmy $url = 'url';\n\nmy $request = new HTTP::Request( GET =&gt; $url );\nmy $headers = $request-&gt;headers();\nmy $response = $browser-&gt;request($request);\nif ($response-&gt;is_success) {\nmy $headers = $response-&gt;headers();\nprint $header \"Encoding : \".$headers-&gt;header(\"WWW-Authentification\");                \nprint $content \"Content:\\n\".$response-&gt;content.\"\\n\";\n} else {\nprint $error \"Erreur:\".$response-&gt;status_line.\"\\n\";  \n}\n</code></pre>\n\n<p>AT the end, the file header contains nothing, the file content contains the content of login page and the file error contains nothing.\nThx.</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 2, "creation_date": 1477657400, "post_id": 40304791, "comment_id": 67866975, "body": "what part of this is recursive?  finding the files?  talk more about how to find the files you want to change, and show what you&#39;ve tried and where you&#39;ve gotten stuck"}, {"owner": {"reputation": 1525, "user_id": 1474777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f76c073b058b2b71e528d836cc9c426?s=128&d=identicon&r=PG", "display_name": "Anatol", "link": "https://stackoverflow.com/users/1474777/anatol"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1477657437, "post_id": 40304791, "comment_id": 67866996, "body": "the files I&#180;ve edited my question ;)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1477657461, "post_id": 40304791, "comment_id": 67867012, "body": "the replacement part of this is like <code>my $beginning = &#39;&lt;script&gt;var a=\\&#39;\\&#39;&#39;; my $end = &#39;&lt;&#47;script&gt;&#39;; my $containing = &#39;hamoorabi.com&#39;; s&#47;\\Q$beginning\\E(?:(?!\\Q$end\\E).)*\\Q$containing\\E.*?\\Q$end\\E&zwnj;&#8203;&#47;&#47;g;</code> (untested)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1477657543, "post_id": 40304791, "comment_id": 67867074, "body": "what operating system?"}, {"owner": {"reputation": 1525, "user_id": 1474777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f76c073b058b2b71e528d836cc9c426?s=128&d=identicon&r=PG", "display_name": "Anatol", "link": "https://stackoverflow.com/users/1474777/anatol"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1477659261, "post_id": 40304791, "comment_id": 67868149, "body": "It&#180;s Debian 3.2.73-2+deb7u2 x86_64 GNU/Linux"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1477660824, "post_id": 40304791, "comment_id": 67869044, "body": "What do you mean by <i>&quot;search file recursive for string and replace&quot;</i>? Do you want to treat lines in the file for paths to be processed? Do you want to process all files with a similar name in the same way? Please show what you tried and describe carefully how it didn&#39;t work for you."}], "answers": [{"comments": [{"owner": {"reputation": 1525, "user_id": 1474777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f76c073b058b2b71e528d836cc9c426?s=128&d=identicon&r=PG", "display_name": "Anatol", "link": "https://stackoverflow.com/users/1474777/anatol"}, "edited": false, "score": 0, "creation_date": 1477658203, "post_id": 40305088, "comment_id": 67867474, "body": "thanks! this looks really clean and nice unfortunately it does only replace hamoorabi.com not the whole string meaning <code>&lt;script&gt;*.*&lt;&#47;script&gt;</code> can this be done?"}, {"owner": {"reputation": 1525, "user_id": 1474777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f76c073b058b2b71e528d836cc9c426?s=128&d=identicon&r=PG", "display_name": "Anatol", "link": "https://stackoverflow.com/users/1474777/anatol"}, "edited": false, "score": 0, "creation_date": 1477658325, "post_id": 40305088, "comment_id": 67867558, "body": "ahhh think before you read. <code>$content =~ s&#47;(&lt;script&gt;.*?)(hamoorabi.com)(.*?&lt;\\&#47;script&gt;)&#47;&#47;sg;</code> should do it ;)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1477658656, "post_id": 40305088, "comment_id": 67867771, "body": "this will get rid of scripts that don&#39;t contain hamoorabi.com too (if there is a later hamoorabi.com in the file) and other stuff after them.  see my comment to the question for a better regex."}, {"owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "edited": false, "score": 0, "creation_date": 1477660143, "post_id": 40305088, "comment_id": 67868667, "body": "I&#39;ve updated my answer with regex provided by ysth, tested OK."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1477661286, "post_id": 40305088, "comment_id": 67869316, "body": "Please don&#39;t use global file handles if you can help it, especially not <i>twice</i> for different files. If your input files are in <code>@ARGV</code> then you should just use <code>&lt;&gt;</code> with no need for explicit <code>open</code> or <code>close</code>. <code>local $&#47; = undef</code> or just <code>local $&#47;</code> is far better that <code>undef $&#47;</code>. <b><i>Always</i></b> make sure that <i>every</i> <code>open</code> call succeeded as, without them, letting your program continue to run makes no sense. <i>Always</i> use the three-parameter form of <code>open</code>. Use the <code>&#47;x</code> modifier and add spaces to regex patterns that are even slightly complex."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1477661714, "post_id": 40305088, "comment_id": 67869620, "body": "More thoughts: It&#39;s <b><i>Cygwin</i></b>! Please use as many blank lines as necessary in your code to help to explain your thought process. Don&#39;t read entire files into scalar variables unless you have a damn good excuse (possibly into arrays, but also rarely). <i>Never</i> use trivial bash command-line utilities if you are invoking <code>perl</code> anyway. That, thank God, is it, I think."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1477661931, "post_id": 40305088, "comment_id": 67869766, "body": "Oh, and use narrative to <i>explain</i> your code. <i>&quot;From a unix or cwygin prompt&quot;</i> and <i>&quot;Where perl script xx1.pl is :&quot;</i> say nothing about the reasons for your decisions or explain what you have written. In general, it is pretty much pointless to just get a program &quot;working&quot;. It&#39;s always vastly more useful to write something that is visible and comprehensible, and explains the design so that any one of your team can pick it up, understand it, and make it work with very little effort."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1477674314, "post_id": 40305088, "comment_id": 67876987, "body": "no need for grep or lengthy code, just <code>find -name &#39;*.php&#39; | perl -pi -0777 -e&#39;s&#47;&lt;script&gt;var a=\\x27\\x27;(?:(?!&lt;\\&#47;script&gt;).)*hamoorabi\\.com.*?&lt;\\&#47;script&gt;&#47;&#47;&zwnj;&#8203;gs&#39;</code> (untested)"}], "tags": [], "owner": {"reputation": 6351, "user_id": 3498962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GC9tW.jpg?s=128&g=1", "display_name": "Essex Boy", "link": "https://stackoverflow.com/users/3498962/essex-boy"}, "is_accepted": true, "score": 0, "last_activity_date": 1477674347, "last_edit_date": 1477674347, "creation_date": 1477657593, "answer_id": 40305088, "question_id": 40304791, "link": "https://stackoverflow.com/questions/40304791/perl-search-file-recursive-for-string-and-replace/40305088#40305088", "title": "Perl search file recursive for string and replace", "body": "<p>From a unix or cwygin prompt:</p>\n\n<pre><code>$ find . | grep .php | xargs ./xx1.pl\n</code></pre>\n\n<p>Where perl script xx1.pl is :</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nundef $/;\nfor (@ARGV) {\n        open(FILE,$_);\n        my $content = &lt;FILE&gt;;\n        close(FILE);\n        my $beginning = '&lt;script&gt;var a=\\'\\'';\n        my $end = '&lt;/script&gt;';\n        my $containing = 'hamoorabi.com';\n        #$content =~ s/(&lt;script&gt;.*?)(hamoorabi.com)(.*?&lt;\\/script&gt;)/$1$3/sg;\n        #much better regex provided by ysth\n        $content =~ s/\\Q$beginning\\E(?:(?!\\Q$end\\E).)*\\Q$containing\\E.*?\\Q$end\\E//gs;\n        open(FILE,\"&gt;$_\");\n        print FILE $content;\n        close(FILE);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1477657737, "creation_date": 1477657737, "answer_id": 40305134, "question_id": 40304791, "link": "https://stackoverflow.com/questions/40304791/perl-search-file-recursive-for-string-and-replace/40305134#40305134", "title": "Perl search file recursive for string and replace", "body": "<p>Use <a href=\"https://metacpan.org/pod/File::Find\" rel=\"nofollow\">File::Find</a> to walk a directory tree looking for files.</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Find;\n\nsub wanted {\n  # Ignore anything that isn't a file\n  return unless -f;\n  # Ignore anything without a .php extension\n  return unless /\\.php$/;\n\n  # Your filename is in $_. Your current directory is the \n  # one which contains the current file.\n  # Do what you need to do.\n  open my $fh, '&lt;', $_ or die $!;\n  ...;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": false, "score": -1, "last_activity_date": 1477658192, "creation_date": 1477658192, "answer_id": 40305269, "question_id": 40304791, "link": "https://stackoverflow.com/questions/40304791/perl-search-file-recursive-for-string-and-replace/40305269#40305269", "title": "Perl search file recursive for string and replace", "body": "<p>I hope this is also helps use further more.</p>\n\n<pre><code>use strict;\nuse warnings;\n</code></pre>\n\n<blockquote>\n  <p>String replacement <code>Regex</code> forms</p>\n</blockquote>\n\n<pre><code>my $str = \"&lt;script&gt;var a=''\\; * hamoorabi.com * &lt;/script&gt;\";\n$str=~s#&lt;script[^&gt;]*&gt;((?:(?!&lt;\\/script&gt;).)*)&lt;\\/script&gt;# my $script=$&amp;;\n$script=~s/^(.*)hamoorabi\\.com(.*)$/$1$2/g;\n($script);\n#esg;\nprint $str;\n</code></pre>\n\n<blockquote>\n  <p>Replace the content on the same file using <code>Tie::File</code></p>\n</blockquote>\n\n<pre><code>my @array;\nuse Tie::File;\ntie @array, 'Tie::File', \"Input.php\" || die \"blabla\";\nmy $len = join \"\\n\", @array;\n@array = split/\\n/, $len;\nuntie @array;\n</code></pre>\n"}], "owner": {"reputation": 1525, "user_id": 1474777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f76c073b058b2b71e528d836cc9c426?s=128&d=identicon&r=PG", "display_name": "Anatol", "link": "https://stackoverflow.com/users/1474777/anatol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1559, "favorite_count": 0, "accepted_answer_id": 40305088, "answer_count": 3, "score": -1, "last_activity_date": 1477674347, "creation_date": 1477656526, "last_edit_date": 1477657498, "question_id": 40304791, "link": "https://stackoverflow.com/questions/40304791/perl-search-file-recursive-for-string-and-replace", "title": "Perl search file recursive for string and replace", "body": "<p>in terminal with perl how can I search all php files starting recursive from current working directory for a single or multiline pattern like:</p>\n\n<pre><code>&lt;script&gt;var a=''; * hamoorabi.com * &lt;/script&gt;\n</code></pre>\n\n<p><em>Read like:</em> find all between <code>&lt;script&gt;var a='';</code> and <code>&lt;/script&gt;</code> but only if contains <code>hamoorabi.com</code> and replace it with an empty string (remove it).</p>\n\n<p>As it\u00b4s javascript code there can be a bunch of unescaped characters inside the search string.</p>\n"}, {"tags": ["perl", "proxy", "lwp-useragent"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7084398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f905a331285c9740a97006f278db9d1?s=128&d=identicon&r=PG&f=1", "display_name": "marine", "link": "https://stackoverflow.com/users/7084398/marine"}, "edited": false, "score": 0, "creation_date": 1477738802, "post_id": 40313077, "comment_id": 67892956, "body": "Thank you for your reply. I already tried with multi threads before, exactly like you wrote here, but the use of memory and cpu is very high, instead the LWP::Parallel seems work much better"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4261560"}, "is_accepted": false, "score": 0, "last_activity_date": 1477688078, "creation_date": 1477688078, "answer_id": 40313077, "question_id": 40304599, "link": "https://stackoverflow.com/questions/40304599/perl-lwpparalleluseragent-with-proxy-and-custom-user-agent/40313077#40313077", "title": "PERL LWP::Parallel::UserAgent with proxy and custom user agent", "body": "<p>Perhaps there are better solutions, but I would use threads:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse threads;\nuse LWP::UserAgent;\n\nmy $ua = LWP::UserAgent-&gt;new();\n   $ua-&gt;agent(\"MY USER AGENT\");\n   $ua-&gt;proxy(['https', 'http', 'ftp'] =&gt; \"http://192.168.10.10:8080\");\n\nmy @urls = (\n 'https://website1.com',\n 'https://website2.com',\n 'https://website3.com'\n);\n\nmy @threads;\nfor (@urls) {\n   push @threads, async { $ua-&gt;get($_) };\n}\n\nfor my $thread (@threads) {\n   my $response = $thread-&gt;join;\n   if ($response-&gt;is_success) {\n       print $response-&gt;status_line, \"\\n\";\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7084398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f905a331285c9740a97006f278db9d1?s=128&d=identicon&r=PG&f=1", "display_name": "marine", "link": "https://stackoverflow.com/users/7084398/marine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 355, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477688078, "creation_date": 1477655897, "question_id": 40304599, "link": "https://stackoverflow.com/questions/40304599/perl-lwpparalleluseragent-with-proxy-and-custom-user-agent", "title": "PERL LWP::Parallel::UserAgent with proxy and custom user agent", "body": "<p>I can't make parallel connections changing the user agent and passing through a proxy. This is my simple script:</p>\n\n<pre><code>use HTTP::Request; \nuse LWP::ConnCache;\nuse LWP::Parallel::UserAgent;\n\n$ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0; \n\n\nmy $reqs = [  \n     HTTP::Request-&gt;new('GET', 'https://website1.com'),\n     HTTP::Request-&gt;new('GET', 'https://website2.com'),\n     HTTP::Request-&gt;new('GET', 'https://website3.com'),\n     HTTP::Request-&gt;new('GET', 'https://website4.com'),\n     HTTP::Request-&gt;new('GET', 'https://website5.com'),\n     HTTP::Request-&gt;new('GET', 'https://website6.com'),\n];\n\n\n\nmy ($req,$res);\n\n# register requests\nforeach $req (@$reqs) {\n    print \"Registering '\".$req-&gt;url.\"'\\n\";\n\n    $ua = LWP::Parallel::UserAgent-&gt;new();\n    $ua-&gt;duplicates(0);\n    $ua-&gt;timeout(30);        \n    $ua-&gt;redirect(1);\n    $ua-&gt;agent(\"Test Service v1\");  #this doesn't work\n\n    my $proxy_server = '192.168.10.10:8080';\n    $ua-&gt;proxy(['https', 'http', 'ftp'] =&gt; $proxy_server);\n\n    $ua-&gt;register ($req , \\&amp;handle_answer);\n}\n\nmy $entries = $ua-&gt;wait();\n\n\n\n\nsub handle_answer {\n    my ($content, $response, $protocol, $entry) = @_;\n\n    print \"Handling answer from '\",$response-&gt;request-&gt;url,\": \",\n          length($content), \" bytes, Code \",\n          $response-&gt;code, \", \", $response-&gt;message,\"\\n\";\n\n    if (length ($content) ) {\n        $response-&gt;add_content($content);\n    } else {\n\n    }\n\n\n    return undef;\n}\n</code></pre>\n\n<p>The only way I found to change the User-Agent is by the module HTTP::Headers and changing the http request.</p>\n\n<pre><code>use HTTP::Headers;\n....\n...\nmy $headers = new HTTP::Headers(\n    'User-Agent' =&gt; \"Test Service v1\",\n); \n\nmy $reqs = [  \n     HTTP::Request-&gt;new('GET', 'https://website1.com', $headers),\n     ...\n];\n\n...\n</code></pre>\n\n<p>But I can't make the requests through the proxy...\nThanks for your help</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1477648023, "post_id": 40302379, "comment_id": 67862037, "body": "Is this a homework assignment or something else? Because you&#39;re skirting around the edges of something really filthy, when there&#39;s a much better solution."}, {"owner": {"reputation": 55, "user_id": 6928301, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6f1121327732ca684a74294bc7edeae?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/6928301/abhi"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1477648219, "post_id": 40302379, "comment_id": 67862158, "body": "I gave here a test data. i have to substitue the actual value of the variable from environment  file."}, {"owner": {"reputation": 55, "user_id": 6928301, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6f1121327732ca684a74294bc7edeae?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/6928301/abhi"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1477648300, "post_id": 40302379, "comment_id": 67862206, "body": "I started perl scripting 20 days before because of requirement .So please help me with a better solution. thank you"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1477650532, "post_id": 40302379, "comment_id": 67863376, "body": "You didn&#39;t answer the question about whether this was homework. When you say you started to learn Perl &quot;because of requirement&quot; is this a college requirement or something for work? Can I also remind you that you haven&#39;t accepted an answer to <a href=\"http://stackoverflow.com/questions/40153700/append-the-nested-case-statement-content-with-outer-case-statements-content-usi\">your previous question</a>. If you don&#39;t respond to the answers you get, people will start to ignore you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1477660321, "post_id": 40302379, "comment_id": 67868769, "body": "@jhulan: At present we urgently need to know how your <code>File1.txt</code> and <code>File2.txt</code> have been created, or perhaps will be created in the application&#39;s ultimate context. Withholding information like that is suspicious and weird."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 6928301, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6f1121327732ca684a74294bc7edeae?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/6928301/abhi"}, "edited": false, "score": 0, "creation_date": 1477653483, "post_id": 40302651, "comment_id": 67864900, "body": "Hi Borodin , In actual file there are multiple lines. Could you please explain"}, {"owner": {"reputation": 55, "user_id": 6928301, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6f1121327732ca684a74294bc7edeae?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/6928301/abhi"}, "edited": false, "score": 0, "creation_date": 1477653607, "post_id": 40302651, "comment_id": 67864972, "body": "how to get &quot;File2.template&quot;  and &quot;$vars&quot; for big file. Thank you."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 55, "user_id": 6928301, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6f1121327732ca684a74294bc7edeae?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/6928301/abhi"}, "edited": false, "score": 1, "creation_date": 1477659923, "post_id": 40302651, "comment_id": 67868541, "body": "jhulan:You must explain the background. Do you have existing files that were created for a different templating system? Do you need to create them from scratch? Is this just an idea that your boss has told you to go with? My answer will solve your problem, but I have tried to avoid awkward the constructions that <a href=\"http://stackoverflow.com/a/40302659/622310\"><b><i>Sobrique</i></b> has described</a>. Please explain where your <code>File1.txt</code> and <code>File2.txt</code> came from?"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 5, "last_activity_date": 1477649384, "last_edit_date": 1592644375, "creation_date": 1477648755, "answer_id": 40302651, "question_id": 40302379, "link": "https://stackoverflow.com/questions/40302379/how-to-substitute-actual-value-of-variable-in-a-file-which-is-present-in-another/40302651#40302651", "title": "how to substitute actual value of variable in a file which is present in another file in perl", "body": "\n<p>You need a <em>templating system</em></p>\n<p>One of the most popular ones is <a href=\"https://metacpan.org/pod/Template\" rel=\"noreferrer\"><em><strong>Template Toolkit</strong></em></a></p>\n<p>For example, with this template file</p>\n<h3>File2.template</h3>\n<pre class=\"lang-none prettyprint-override\"><code>This number is x=[% one %]/or less then two  \nhis name is [% name %]  \nIt is a [% animal %]/kind of animal.\n</code></pre>\n<p>And this Perl code</p>\n<h3>main.pl</h3>\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\n\nuse Template;\n\nmy $tt = Template-&gt;new;\n\nmy $vars = {\n    one    =&gt; 1,\n    name   =&gt; 'gorge',\n    animal =&gt; 'cat',\n};\n\n\n$tt-&gt;process('File2.template', $vars);\n</code></pre>\n<p>The result is this</p>\n<h3>output</h3>\n<pre class=\"lang-none prettyprint-override\"><code>This number is x=1/or less then two  \nhis name is gorge  \nIt is a cat/kind of animal.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1477650876, "last_edit_date": 1477650876, "creation_date": 1477648770, "answer_id": 40302659, "question_id": 40302379, "link": "https://stackoverflow.com/questions/40302379/how-to-substitute-actual-value-of-variable-in-a-file-which-is-present-in-another/40302659#40302659", "title": "how to substitute actual value of variable in a file which is present in another file in perl", "body": "<p>I think you're fishing for something that is a <a href=\"http://perl.plover.com/varvarname.html\" rel=\"nofollow\">horribly bad idea</a>. </p>\n\n<p>So I'll suggest a different approach, of building regular expressions to replace the text. In doing this though - the use of <code>$one</code> is going to be a bit confusing, because that means a scalar variable in perl, and this is \"just\" going to be a pattern match.</p>\n\n<p>So if you can change that - you should:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy %replace = ( 'one' =&gt; '1',\n                'name' =&gt; 'gorge',\n                'animal' =&gt; 'cat' ); \n\nmy $search = join ( '|', keys %replace ); \n   $search = qr/\\$($search)/;\n\nprint Dumper \\%replace;\nprint $search;\n\nwhile ( &lt;DATA&gt; ) {\n    s/$search/$replace{$1}/g;\n    print;\n}\n\n__DATA__\nThis number is x=$one/or less then two  \nhis name is $name  \nIt is a $animal/ kind of animal. \n</code></pre>\n\n<p>You can build your <code>replace</code> patterns something like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy %replace = map { m/\\$(\\w+)=\\\"?([^;\\\"]+)/ } &lt;DATA&gt;;\n\nprint Dumper \\%replace;\n\n__DATA__\n    $one=1;\n    $name=\"gorge\";\n    $animal=\"cat\";\n</code></pre>\n\n<p>This gives you:</p>\n\n<pre><code>$VAR1 = {\n          'name' =&gt; 'gorge',\n          'one' =&gt; '1',\n          'animal' =&gt; 'cat'\n        };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1477653687, "last_edit_date": 1495541385, "creation_date": 1477653687, "answer_id": 40303984, "question_id": 40302379, "link": "https://stackoverflow.com/questions/40302379/how-to-substitute-actual-value-of-variable-in-a-file-which-is-present-in-another/40303984#40303984", "title": "how to substitute actual value of variable in a file which is present in another file in perl", "body": "<p>If you're going to be any kind of Perl programmer, then you'll need to read the <a href=\"http://perldoc.perl.org/perlfaq.html\" rel=\"nofollow noreferrer\">Perl FAQ</a>.</p>\n\n<p>In there, you'll find an answer to your question.</p>\n\n<ul>\n<li><a href=\"http://perldoc.perl.org/perlfaq4.html#How-can-I-expand-variables-in-text-strings%3F\" rel=\"nofollow noreferrer\">How can I expand variables in a text string?</a></li>\n</ul>\n\n<p>If you read that answer, you'll end up with code very similar to <a href=\"https://stackoverflow.com/a/40302659/7231\">what Sobrique gave you</a>. However, in order to get to that code, you'll need to first pass the first paragraph in the answer which says:</p>\n\n<blockquote>\n  <p>If you can avoid it, don't, or if you can use a templating system, such as <a href=\"https://metacpan.org/pod/Text::Template\" rel=\"nofollow noreferrer\">Text::Template</a> or <a href=\"https://metacpan.org/pod/Template\" rel=\"nofollow noreferrer\">Template Toolkit</a>, do that instead.</p>\n</blockquote>\n\n<p>That's really good advice. You should follow it.</p>\n"}], "owner": {"reputation": 55, "user_id": 6928301, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6f1121327732ca684a74294bc7edeae?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/6928301/abhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 1, "accepted_answer_id": 40302659, "answer_count": 3, "score": 0, "last_activity_date": 1477653687, "creation_date": 1477647916, "question_id": 40302379, "link": "https://stackoverflow.com/questions/40302379/how-to-substitute-actual-value-of-variable-in-a-file-which-is-present-in-another", "title": "how to substitute actual value of variable in a file which is present in another file in perl", "body": "<p>I have two file.Variables are declared in first file($one=1;) , in second file variable name is given ($one). I want to substitute this variable name with actual value and print the output.<br>\n<strong>File1.txt</strong> </p>\n\n<pre><code> variables are gieven here\n    $one=1;\n    $name=\"gorge\";\n    $animal=\"cat\";\n</code></pre>\n\n<p><strong>File2.txt</strong>  </p>\n\n<pre><code>This number is x=$one/or less then two  \nhis name is $name  \nIt is a $animal/ kind of animal. \n</code></pre>\n\n<p><strong>Expected output</strong>  </p>\n\n<pre><code>This number is x=1/or less then two  \n    his name is gorge  \n    It is a cat/ kind of animal. \n</code></pre>\n\n<p>I tried with this code:  </p>\n\n<pre><code>open (data1,\"&lt;/home/file1\");\nopen (data2,\"&lt;/home/file2\");\nwhile (&lt;data1&gt;){\n     while (&lt;data2&gt;){\n       print $_;\n  }\n}\nclose data2;\nclose data1;  \n</code></pre>\n\n<p>Thank You.</p>\n"}, {"tags": ["perl", "g++"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1477645448, "post_id": 40301448, "comment_id": 67860688, "body": "@Jens,Are you referring to the output string quotes? <code>ignoring nonexistent directory &quot;D:\\gnu\\gcc-4.8.1\\include\\GL;D:\\gnu\\gcc-4.8.1\\include\\ddk&quot;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1477645505, "post_id": 40301448, "comment_id": 67860732, "body": "Those are compiler info quotes to isolate the string @Jens"}, {"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1477645593, "post_id": 40301448, "comment_id": 67860778, "body": "Which os you are running?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477645687, "post_id": 40301448, "comment_id": 67860823, "body": "@asdf, can you post the perl script? It seems to me like you need to split your arguments at <code>;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 1, "creation_date": 1477645919, "post_id": 40301448, "comment_id": 67860942, "body": "@Jens, unless Linux has D:\\ drive and \\ directories... Windows it is ;)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "edited": false, "score": 0, "creation_date": 1477645993, "post_id": 40301448, "comment_id": 67860973, "body": "@Gerry yes this is windows"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477646024, "post_id": 40301448, "comment_id": 67860993, "body": "can you kindly provide the full code?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1477646058, "post_id": 40301448, "comment_id": 67861016, "body": "@Jens That would be hard to add the whole script, but i will add a short variant of it"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477646106, "post_id": 40301448, "comment_id": 67861042, "body": "Please add as much as you can so I can see how you interpret the .cpp file"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477646276, "post_id": 40301448, "comment_id": 67861129, "body": "You would probably need to call <code>my @array =~ split &#47;;&#47;, $I_incl</code> but post the code and let me see first before posting answer"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477647214, "post_id": 40301448, "comment_id": 67861598, "body": "Thanks for the code. let me look through it quick."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "edited": false, "score": 0, "creation_date": 1477647415, "post_id": 40301448, "comment_id": 67861691, "body": "@Gerry The difference with <code>@array</code> is that now in the command call shown in console i have the paths<code>-ID:\\gnu\\gcc-4.8.1\\include\\ddk D:\\gnu\\gcc-4.8.1\\include\\GL</code> with spaces and the compiler doesn&#39;t even look into that folder"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477647895, "post_id": 40301448, "comment_id": 67861973, "body": "Yes, that was before I saw the code :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "edited": false, "score": 0, "creation_date": 1477647975, "post_id": 40301448, "comment_id": 67862008, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/126899/discussion-between-asdf-and-gerry\">continue this discussion in chat</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "edited": false, "score": 0, "creation_date": 1477648073, "post_id": 40301448, "comment_id": 67862072, "body": "@Gerry Am i limited to 1 path/ each <code>-I</code> used? e.g. <code>-Ipath1</code> <code>-Ipath2</code> etc . Unfortunately,I can&#39;t acces the chat discussion link due to proxy limitations"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477648201, "post_id": 40301448, "comment_id": 67862147, "body": "that is why  we need to create a loop in the perl script so that it does a single path each time. I am trying to duplicate the environment quick and my directories are different than yours, so let me go through this quick"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "edited": false, "score": 0, "creation_date": 1477648329, "post_id": 40301448, "comment_id": 67862221, "body": "@Gerry I found a work-arround finally by setting in the environment variable <code>CPATH</code> the string <code>$i_incl</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477648750, "post_id": 40301448, "comment_id": 67862454, "body": "ah ok. So you are sorted out now?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "edited": false, "score": 0, "creation_date": 1477648830, "post_id": 40301448, "comment_id": 67862496, "body": "@Gerry Yes. Also for the answer bellow I wouldn&#39;t use that because if I have 1000 files let&#39;s say and 20 include paths, I will end up in a very unefficient situation"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477649117, "post_id": 40301448, "comment_id": 67862649, "body": "Ok. glad you are sorted."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "is_accepted": false, "score": 0, "last_activity_date": 1477648685, "creation_date": 1477648685, "answer_id": 40302630, "question_id": 40301448, "link": "https://stackoverflow.com/questions/40301448/passing-include-headers-to-g/40302630#40302630", "title": "Passing include headers to g++", "body": "<p>I cannot duplicate the environment, too much to do, can you try this please?</p>\n\n<pre><code>my @i_incl = split /;/, =catfile($compilerRoot,\"\\\\include\\\\GL;\").catfile($compilerRoot,\"\\\\include\\\\ddk\");\n\n$ENV{'PATH'} = \"d:\\\\gnu\\\\gcc-4.8.1\\\\bin;\". $ENV{'PATH'};\nforeach $i_incl(@i_incl) {\nmy $command = \"g++ -v -c C:\\\\Users\\\\asdf\\\\Documents\\\\hello.cpp -fno-show-column -o hello -I$i_incl\";\nsystem($command);\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477648685, "creation_date": 1477644770, "last_edit_date": 1477646611, "question_id": 40301448, "link": "https://stackoverflow.com/questions/40301448/passing-include-headers-to-g", "title": "Passing include headers to g++", "body": "<p>I am calling <code>g++</code> from a Perl script on a <code>hello world.cpp</code> file which includes a header from <code>path\\include\\ddk</code>.I am giving as parametres a list of include paths separated by <code>;</code>. The problem is that it takes it as a whole and I get the info : <br>\n<code>ignoring nonexistent directory \"D:\\gnu\\gcc-4.8.1\\include\\GL;D:\\gnu\\gcc-4.8.1\\include\\ddk\"</code>\n<br>Same with <code>,</code> separated includes.\n<br><br>\nThe system call is something like:<br>\n<code>g++ -v -c -fno-show-column #S\\\\\\$&gt; -o #B\\\\\\$%\\.o #opt</code><strong><code>-I$i_incl</code></strong></p>\n\n<p>And <code>$i_incl</code> is actually : \n<code>D:\\gnu\\gcc-4.8.1\\include\\GL;D:\\gnu\\gcc-4.8.1\\include\\ddk</code></p>\n\n<p>What am I doing wrong?</p>\n\n<p>This is a sample simplifyed version of the code : \n<br></p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Spec::Functions qw(catfile);\nmy $compilerRoot = \"D:\\\\gnu\\\\gcc-4.8.1\";\nmy $i_incl =catfile($compilerRoot,\"\\\\include\\\\GL;\").catfile($compilerRoot,\"\\\\include\\\\ddk\");\n\n$ENV{'PATH'} = \"d:\\\\gnu\\\\gcc-4.8.1\\\\bin;\". $ENV{'PATH'};\nmy $command = \"g++ -v -c C:\\\\Users\\\\asdf\\\\Documents\\\\hello.cpp -fno-show-column -o hello -I$i_incl\";\nsystem($command);\n</code></pre>\n\n<p>And the <code>hello.cpp</code> has :\n<br></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;signal.h&gt;\n#include&lt;stdlib.h&gt;\n#include&lt;glu.h&gt; // this is the lib which i am trying to include from \n                  D:\\gnu\\gcc-4.8.1\\include\\GL \n    using namespace std;\n\n    int main()\n    {\n        cout &lt;&lt; \"Hello World!\";\n        return 0;\n    }\n</code></pre>\n"}, {"tags": ["perl", "any", "subroutine-prototypes"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1477641936, "post_id": 40300428, "comment_id": 67858916, "body": "Interesting enough, I get <i>Overwriting existing sub &#39;main::any&#39; with sub &#39;any&#39; exported by List::MoreUtils</i> from my Perl 5.20.1. Which Perl version is this?"}, {"owner": {"reputation": 139, "user_id": 4689109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57465452d55d6c7a7bc58830a7c46fac?s=128&d=identicon&r=PG&f=1", "display_name": "Shaista", "link": "https://stackoverflow.com/users/4689109/shaista"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477643240, "post_id": 40300428, "comment_id": 67859556, "body": "ahh, yes @simbabque you&#39;re right, i am also getting <i>Prototype mismatch: sub main::any: none vs (&amp;@) at Exporter.pm(...).</i>  for <code>use List::Util qw(any);</code> and  <i>Overwriting existing sub &#39;main::any&#39; with sub &#39;any&#39; exported by List::MoreUtils</i> for using <code>use List::MoreUtils qw(any);</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1477648580, "post_id": 40300428, "comment_id": 67862344, "body": "@Luna: Which version of Perl are you running please? Use <code>perl -v</code> to find out."}, {"owner": {"reputation": 139, "user_id": 4689109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57465452d55d6c7a7bc58830a7c46fac?s=128&d=identicon&r=PG&f=1", "display_name": "Shaista", "link": "https://stackoverflow.com/users/4689109/shaista"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1477649398, "post_id": 40300428, "comment_id": 67862791, "body": "@Borodin - i am using perl 5, version 16, subversion 3 (v5.16.3)"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477642269, "post_id": 40300601, "comment_id": 67859073, "body": "I don&#39;t understand the last sentence in your answer."}, {"owner": {"reputation": 139, "user_id": 4689109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57465452d55d6c7a7bc58830a7c46fac?s=128&d=identicon&r=PG&f=1", "display_name": "Shaista", "link": "https://stackoverflow.com/users/4689109/shaista"}, "edited": false, "score": 0, "creation_date": 1477643456, "post_id": 40300601, "comment_id": 67859673, "body": "no @Borodin, i am not declaring my own subroutine, in that case i would get <i>Subroutine any redefined at ..</i>  warning."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477644484, "post_id": 40300601, "comment_id": 67860199, "body": "@simbabque: I meant just that the program needs to contain only <code>use List::MoreUtils &#39;any&#39;</code> and any other declaration is unnecessary."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 139, "user_id": 4689109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57465452d55d6c7a7bc58830a7c46fac?s=128&d=identicon&r=PG&f=1", "display_name": "Shaista", "link": "https://stackoverflow.com/users/4689109/shaista"}, "edited": false, "score": 1, "creation_date": 1477644638, "post_id": 40300601, "comment_id": 67860269, "body": "@Luna: I carefully used <i>declared</i> and not <i>defined</i>. If you write <code>sub any</code> (a declaration) and then <code>use List::MoreUtils &#39;any&#39;</code> then you will see the warning <code>Prototype mismatch: sub main::any: none vs (&amp;@)</code> that you reported."}, {"owner": {"reputation": 139, "user_id": 4689109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57465452d55d6c7a7bc58830a7c46fac?s=128&d=identicon&r=PG&f=1", "display_name": "Shaista", "link": "https://stackoverflow.com/users/4689109/shaista"}, "edited": false, "score": 0, "creation_date": 1477645228, "post_id": 40300601, "comment_id": 67860576, "body": "@Borodin aah i got you now, sorry i am newbie to perl"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -1, "last_activity_date": 1477641599, "creation_date": 1477641599, "answer_id": 40300601, "question_id": 40300428, "link": "https://stackoverflow.com/questions/40300428/prototype-mismatch-sub-mainany-none-vs-at-exporter-pm/40300601#40300601", "title": "Prototype mismatch: sub main::any: none vs (&amp;@) at Exporter.pm", "body": "<p>It is impossible to be sure without seeing more of your program, but at a guess, you have declared your own subroutine <code>sub any</code> as well as trying to import it from <code>List::MoreUtils</code>.</p>\n\n<p>You need only the <code>use</code> statement.</p>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1477642463, "post_id": 40300607, "comment_id": 67859163, "body": "Hmm. A Dancer expert to the rescue! I had no idea that it did that, but if Dancer uses Exporter as normal then you can <code>use Dancer &#39;!any&#39;</code> to avoid importing that symbol."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1477642678, "post_id": 40300607, "comment_id": 67859271, "body": "@Borodin I&#39;ll check how it does that. But OP might need the <code>any</code> keyword from Dancer2&#39;s DSL. And it would make it a hell of a lot harder to maintain to mix those two together. And I still cannot reproduce the error. Mine just complains and works."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1477642855, "post_id": 40300607, "comment_id": 67859348, "body": "@Borodin it&#39;s using Import::Into, not Exporter. But it does work with <code>use Dancer2 &#39;!any&#39;</code>. Please note that <i>Dancer</i> and <i>Dancer2</i> are completely different projects though."}, {"owner": {"reputation": 139, "user_id": 4689109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57465452d55d6c7a7bc58830a7c46fac?s=128&d=identicon&r=PG&f=1", "display_name": "Shaista", "link": "https://stackoverflow.com/users/4689109/shaista"}, "edited": false, "score": 0, "creation_date": 1477645095, "post_id": 40300607, "comment_id": 67860505, "body": "@simbabque: what if i don&#39;t use <code>require List::MoreUtils;</code> ? because it works without any warning  <code>use Dancer2;  sub use_any_subroutine {      foreach my $foo (@$foo_array) {         next unless List::MoreUtils::any  { $_ == $foo-&gt;id } @hello_world;     }         return; }</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 139, "user_id": 4689109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57465452d55d6c7a7bc58830a7c46fac?s=128&d=identicon&r=PG&f=1", "display_name": "Shaista", "link": "https://stackoverflow.com/users/4689109/shaista"}, "edited": false, "score": 1, "creation_date": 1477646806, "post_id": 40300607, "comment_id": 67861402, "body": "@Luna then some other part of your code has already loaded List::MoreUtils and that&#39;s because it already knows about that package. But you shouldn&#39;t do that. You should always declare all your package&#39;s dependencies in your current package. Never rely on something else loading something you need. The <code>require</code> will simply not do anything if it&#39;s already loaded the module before."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 3, "creation_date": 1477655523, "post_id": 40300607, "comment_id": 67865932, "body": "no, you should not change use to require, you should just do <code>use List::MoreUtils ();</code>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 139, "user_id": 4689109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57465452d55d6c7a7bc58830a7c46fac?s=128&d=identicon&r=PG&f=1", "display_name": "Shaista", "link": "https://stackoverflow.com/users/4689109/shaista"}, "edited": false, "score": 0, "creation_date": 1477698925, "post_id": 40300607, "comment_id": 67886537, "body": "@Luna, That would likely mean that you&#39;re calling Dancer&#39;s <code>any</code> instead of List::MoreUtils, which will give you the wrong result!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477698988, "post_id": 40300607, "comment_id": 67886547, "body": "The answer needless switched to loading List::MoreUtils at runtime instead of compile-time. I changed answer to continue loading List::MoreUtils at runtime, which fixed problems the change introduced."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 3, "last_activity_date": 1477699183, "last_edit_date": 1477699183, "creation_date": 1477641627, "answer_id": 40300607, "question_id": 40300428, "link": "https://stackoverflow.com/questions/40300428/prototype-mismatch-sub-mainany-none-vs-at-exporter-pm/40300607#40300607", "title": "Prototype mismatch: sub main::any: none vs (&amp;@) at Exporter.pm", "body": "<p>Both <a href=\"https://v1.metacpan.org/pod/Dancer2\" rel=\"nofollow\">Dancer2</a> and <a href=\"https://v1.metacpan.org/pod/List::MoreUtils\" rel=\"nofollow\">List::MoreUtils</a> export an <code>any</code> function into your namespace. </p>\n\n<p>For Dancer2, it's part of its DSL and is used as a route definition that matches any HTTP verb on incoming requests.</p>\n\n<blockquote>\n  <p>Defines a route for multiple HTTP methods at once</p>\n</blockquote>\n\n<p>The List::MoreUtils one is like a <code>grep</code> instead.</p>\n\n<blockquote>\n  <p>Returns a true value if any item in LIST meets the criterion given through BLOCK.</p>\n</blockquote>\n\n<p>The warning you are seeing is because you have imported <a href=\"https://v1.metacpan.org/pod/distribution/Dancer2/lib/Dancer2/Manual.pod#any\" rel=\"nofollow\">the Dancer2 one</a> first, so Perl learned about the prototype of that one. Then you imported <a href=\"https://v1.metacpan.org/pod/List::MoreUtils#any-BLOCK-LIST\" rel=\"nofollow\">the one from List::MoreUtils</a>, which overwrote <code>&amp;main::any</code> in your namespace <code>main::</code>, but the prototype is still there.</p>\n\n<p>You can avoid importing <code>any</code> from Dancer2.</p>\n\n<pre><code>use Dancer2 qw( !any );\nuse List::MoreUtils qw( any );\n\nget '/' =&gt; sub {\n    my @foo = ( 1, 2, 3 );\n    return List::MoreUtils::any { $_ == 2 } @foo;\n};\n\ndance;\n</code></pre>\n\n<p>Or you can avoid importing <code>any</code> from List::MoreUtils (using <code>List::MoreUtils::any</code> instead of <code>any</code>).</p>\n\n<pre><code>use Dancer2;\nuse List::MoreUtils qw( );\n\nget '/' =&gt; sub {\n    my @foo = ( 1, 2, 3 );\n    return List::MoreUtils::any { $_ == 2 } @foo;\n};\n\ndance;\n</code></pre>\n\n<p>&#x20;</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477655373, "post_id": 40301761, "comment_id": 67865840, "body": "The last suggestion is nice. I believe there is something on CPAN that does that for you. There is <a href=\"http://p3rl.org/as\" rel=\"nofollow noreferrer\">as</a>, which makes long module names shorter, but I&#39;m not sure it can alias function names."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477655685, "post_id": 40301761, "comment_id": 67866017, "body": "The hacker keyboard is useful indeed."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 4, "last_activity_date": 1477645829, "creation_date": 1477645829, "answer_id": 40301761, "question_id": 40300428, "link": "https://stackoverflow.com/questions/40300428/prototype-mismatch-sub-mainany-none-vs-at-exporter-pm/40301761#40301761", "title": "Prototype mismatch: sub main::any: none vs (&amp;@) at Exporter.pm", "body": "<p>There are a few possible solutions</p>\n\n<p>Note that I'm using the core <code>List::Util</code> module here, because it also contains an <code>any</code> function, and shouldn't need installing on most recent releases of perl</p>\n\n<ul>\n<li><p>As you have said yourself, you could fully-qualify the subroutine instead of importing it, and use <code>List::Util::any</code></p></li>\n<li><p>You could disable the import of <code>any</code> from <code>Dancer2</code> by using</p>\n\n<pre><code>use Dancer2 '!any'\n</code></pre>\n\n<p>which will work as long as you never need Dancer2's <code>any</code> to write your code</p></li>\n<li><p>You could also use <code>first</code> instead of <code>any</code> from <code>List::Util</code>, which returns the first element of the list for which the block returns a <em>true</em> value, and will work fine as long as everything in your list is <em>true</em></p></li>\n<li><p>Another alternative is to import <code>any</code> from <code>List::Util</code> with a different name</p>\n\n<pre><code>BEGIN {\n    require List::Util;\n    *my_any = \\&amp;List::Util::any;\n}\n</code></pre>\n\n<p>and now you have a subroutine <code>my_any</code> that behaves exactly as the original <code>any</code> from <code>List::Util</code> but doesn't clash with the operator of the same name from <code>Dancer2</code></p></li>\n</ul>\n"}], "owner": {"reputation": 139, "user_id": 4689109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57465452d55d6c7a7bc58830a7c46fac?s=128&d=identicon&r=PG&f=1", "display_name": "Shaista", "link": "https://stackoverflow.com/users/4689109/shaista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1935, "favorite_count": 0, "accepted_answer_id": 40300607, "answer_count": 3, "score": 2, "last_activity_date": 1477699183, "creation_date": 1477640885, "last_edit_date": 1477643018, "question_id": 40300428, "link": "https://stackoverflow.com/questions/40300428/prototype-mismatch-sub-mainany-none-vs-at-exporter-pm", "title": "Prototype mismatch: sub main::any: none vs (&amp;@) at Exporter.pm", "body": "<pre><code>use Dancer2;\nuse List::Util qw(any);\n\nsub use_any_subroutine {\n\n    foreach my $foo (@$foo_array) {\n        next unless any { $_ == $foo-&gt;id } @hello_world;\n    }    \n    return;\n}\n</code></pre>\n\n<p>there is a conflict with using List::Util and throwing a warning</p>\n\n<p><strong>Prototype mismatch: sub main::any: none vs (&amp;@) at Exporter.pm(...).</strong></p>\n\n<p>i found a solution that is we can use <code>List::Util::any</code> instead of importing it before use,but i want to import it once,so how to avoid this warning</p>\n\n<p>Thanks very much for comments.</p>\n"}, {"tags": ["linux", "bash", "perl", "nonblocking", "pid"], "comments": [{"owner": {"reputation": 3593, "user_id": 5280543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea2c2b205d1c4b331bbc78720115121?s=128&d=identicon&r=PG", "display_name": "Michael Albers", "link": "https://stackoverflow.com/users/5280543/michael-albers"}, "edited": false, "score": 4, "creation_date": 1477626347, "post_id": 40297530, "comment_id": 67853396, "body": "Your statement about fork/exec is wrong. Fork/exec will create a whole new process running independently from your Perl script."}, {"owner": {"reputation": 569, "user_id": 221689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f46fcd651a44e070e0f1e4c0905c6ee8?s=128&d=identicon&r=PG", "display_name": "Charley", "link": "https://stackoverflow.com/users/221689/charley"}, "edited": false, "score": 0, "creation_date": 1477637713, "post_id": 40297530, "comment_id": 67856942, "body": "I think the best solution to your problem will involve a change to myscript, namely moving the output redirection from the command line to inside the script. Is that possible in your situation, or are you not able to modify myscript at all? It&#39;s a pretty small change."}, {"owner": {"reputation": 368, "user_id": 3399581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S3KLG.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3399581/andrew"}, "reply_to_user": {"reputation": 3593, "user_id": 5280543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea2c2b205d1c4b331bbc78720115121?s=128&d=identicon&r=PG", "display_name": "Michael Albers", "link": "https://stackoverflow.com/users/5280543/michael-albers"}, "edited": false, "score": 0, "creation_date": 1477671662, "post_id": 40297530, "comment_id": 67875642, "body": "@MichaelAlbers I have updated my post clarifing scripts call hierarchy, which is <code>mainScript -&gt;perlScript-&gt;myscript</code>. Without mainScript all works perfect with <b>fork/exec</b>, but if I run trought full hierarchy perlScript is blocked in some reason."}, {"owner": {"reputation": 368, "user_id": 3399581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S3KLG.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3399581/andrew"}, "reply_to_user": {"reputation": 569, "user_id": 221689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f46fcd651a44e070e0f1e4c0905c6ee8?s=128&d=identicon&r=PG", "display_name": "Charley", "link": "https://stackoverflow.com/users/221689/charley"}, "edited": false, "score": 0, "creation_date": 1477671777, "post_id": 40297530, "comment_id": 67875710, "body": "@Charley , unfortunately I can&#39;t change <code>myscript</code>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1477674104, "post_id": 40297530, "comment_id": 67876848, "body": "What do you need the PID for?"}, {"owner": {"reputation": 368, "user_id": 3399581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S3KLG.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3399581/andrew"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1477674925, "post_id": 40297530, "comment_id": 67877323, "body": "@H&#229;konH&#230;gland I need to run many instances of <code>myscript</code>, and I need their pids to communicate with them."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1477675300, "post_id": 40297530, "comment_id": 67877520, "body": "Ok :)  then why didn&#39;t the solution by @melpomene below work? Do you call the Perl scripts from a Perl script or from a Bash script. Your question is a little bit confusing.."}, {"owner": {"reputation": 368, "user_id": 3399581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S3KLG.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3399581/andrew"}, "reply_to_user": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1477683748, "post_id": 40297530, "comment_id": 67881509, "body": "@H&#229;konH&#230;gland I call bash scripts from perl scripts which is called from another bash script :)"}, {"owner": {"reputation": 368, "user_id": 3399581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S3KLG.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3399581/andrew"}, "reply_to_user": {"reputation": 3593, "user_id": 5280543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea2c2b205d1c4b331bbc78720115121?s=128&d=identicon&r=PG", "display_name": "Michael Albers", "link": "https://stackoverflow.com/users/5280543/michael-albers"}, "edited": false, "score": 0, "creation_date": 1477683859, "post_id": 40297530, "comment_id": 67881560, "body": "@MichaelAlbers I found out that <b>fork / exec</b> works fine if I don&#39;t use <code>tee</code> in the parent bash script. Thanks to @melpomene"}], "answers": [{"tags": [], "owner": {"reputation": 130, "user_id": 3142647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ee949824b31ad01991e1ea25551593d?s=128&d=identicon&r=PG&f=1", "display_name": "mestia", "link": "https://stackoverflow.com/users/3142647/mestia"}, "is_accepted": false, "score": -1, "last_activity_date": 1477640825, "creation_date": 1477640825, "answer_id": 40300416, "question_id": 40297530, "link": "https://stackoverflow.com/questions/40297530/calling-bash-script-from-perl-in-nonbloking-way-and-get-a-pid-of-this-new-backgr/40300416#40300416", "title": "Calling bash script from perl in nonbloking way and get a pid of this new background process", "body": "<p>I would use IPC::Open3 perl module - <a href=\"https://metacpan.org/pod/IPC::Open3\" rel=\"nofollow\">https://metacpan.org/pod/IPC::Open3</a></p>\n"}, {"tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 1, "last_activity_date": 1477641477, "creation_date": 1477641477, "answer_id": 40300565, "question_id": 40297530, "link": "https://stackoverflow.com/questions/40297530/calling-bash-script-from-perl-in-nonbloking-way-and-get-a-pid-of-this-new-backgr/40300565#40300565", "title": "Calling bash script from perl in nonbloking way and get a pid of this new background process", "body": "<p>This is untested, but can't you just do this?</p>\n\n<pre><code>defined(my $pid = fork) or die \"$0: fork: $!\\n\";\nif (!$pid) {\n    $ENV{FOO} = 'hello';\n    $ENV{BAR} = 'world';\n    exec 'exec ./myscript &amp;&gt; log.txt';\n    die \"$0: failed to exec sh: $!\\n\";\n}\n# parent process here, child pid is in $pid\n</code></pre>\n\n<p>You could even do the output redirection in perl, saving a call to the shell:</p>\n\n<pre><code>    open STDOUT, '&gt;', 'log.txt' or die \"$0: log.txt: $!\\n\";\n    open STDERR, '&gt;&amp;', \\*STDOUT or die \"$0: dup(stdout): $!\\n\";\n    exec './myscript';\n    die \"$0: ./myscript: $!\\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 7064108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1aeb2927110b86fbd0751d2a7b8e15c0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Zakharenko", "link": "https://stackoverflow.com/users/7064108/alexander-zakharenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1477641819, "creation_date": 1477641819, "answer_id": 40300661, "question_id": 40297530, "link": "https://stackoverflow.com/questions/40297530/calling-bash-script-from-perl-in-nonbloking-way-and-get-a-pid-of-this-new-backgr/40300661#40300661", "title": "Calling bash script from perl in nonbloking way and get a pid of this new background process", "body": "<p>Use <em><a href=\"http://perldoc.perl.org/functions/open.html\" rel=\"nofollow\">open</a></em>:</p>\n\n<pre><code>my $pid = open(my $h, \"$cmd |\");\n</code></pre>\n\n<p>Then you can read the output of <em>cmd</em> from handle <em>h</em>:</p>\n\n<pre><code>while (&lt;$h&gt;) {\n    print \"$_\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 368, "user_id": 3399581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S3KLG.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3399581/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 614, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1477683668, "creation_date": 1477624684, "last_edit_date": 1477683668, "question_id": 40297530, "link": "https://stackoverflow.com/questions/40297530/calling-bash-script-from-perl-in-nonbloking-way-and-get-a-pid-of-this-new-backgr", "title": "Calling bash script from perl in nonbloking way and get a pid of this new background process", "body": "<p>I have a bash script, which I ran from command line with <code>env</code>, redirecting its output to <code>log.txt</code></p>\n\n<pre><code>env FOO=hello BAR=world ./myscript &amp;&gt; log.txt\n</code></pre>\n\n<p>I wanna run a few nonblocking instances of  <code>myscript</code> from perl in <strong>background</strong>. </p>\n\n<p>And in its turn <strong>perl</strong> script is ran from another bash script <code>mainScript</code> by this way:</p>\n\n<pre><code>#!/bin/bash -x\nperlScript.pl | tee main-log.txt\n</code></pre>\n\n<p>I know, I can do it using perl <code>system()</code> call in a loop like this</p>\n\n<pre><code>my $result = system(\"env FOO=hello BAR=world ./myscript &amp;&gt; log.txt &amp;\");\n</code></pre>\n\n<p>I use <code>fork</code> and <code>exec</code> calls from perl like this to run <code>myscript</code> in background and get its pid: </p>\n\n<pre><code>$run_cmd = \"./myscript\";\n$run_cmd.= \" &amp;&gt; log.txt\";\n\ndefined(my $pid = fork) or die \"$0: fork: $!\\n\";\nif (!$pid) {  # child code is here\n\n    $ENV{FOO} = 'hello';\n    $ENV{BAR} = 'world';\n\n    exec \"exec $run_cmd\";\n    die \"$0: failed to exec sh: $!\\n\";\n\n}\n\n# parent code continues here\nprint \"PID of run_cmd: $pid \\n\";\n</code></pre>\n\n<p>But I found out that when I use pipe <code>|</code> and <code>tee</code> inside <code>mainScript</code></p>\n\n<pre><code>| tee main-log.txt\n</code></pre>\n\n<p>I can't see output on screen after creating new proceess for <code>myScript</code> in <strong>perl</strong></p>\n\n<p>If I call <code>perlScript.pl</code> from <code>mainScript</code> without <code>tee</code> everything is ok.</p>\n\n<p>How can I use <code>tee</code> in this case, or may be there is another way to redirect output from <code>mainScript</code>, that it would go both on <strong>screen</strong> and to some <strong>log file</strong>?</p>\n"}, {"tags": ["windows", "perl", "batch-file", "variables"], "comments": [{"owner": {"reputation": 28755, "user_id": 5047996, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/la3kD.png?s=128&g=1", "display_name": "aschipfl", "link": "https://stackoverflow.com/users/5047996/aschipfl"}, "edited": false, "score": 0, "creation_date": 1477605102, "post_id": 40294728, "comment_id": 67847924, "body": "Is the last line <code>\\\\DBserver\\...</code> part of the script? did you mean <code>%FILEFULLNAME%</code> rather than <code>%FILEFULLNAME</code>, and same for <code>FILEMASK</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 68521, "user_id": 2128947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ASTM.jpg?s=128&g=1", "display_name": "Magoo", "link": "https://stackoverflow.com/users/2128947/magoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1477605528, "creation_date": 1477605528, "answer_id": 40294875, "question_id": 40294728, "link": "https://stackoverflow.com/questions/40294728/find-file-name-assign-to-variable-and-run-perl-script-with-variable-in-windows/40294875#40294875", "title": "Find file name, assign to variable and run perl script with variable in windows batch file", "body": "<p>To reference the value of a batch variable, you need to use <code>%varname%</code>, hence</p>\n\n<pre><code>... %FILEFULLNAME% 300000 %FILEMASK%\n</code></pre>\n\n<p>should cure your (unstated) problem, given that the variables are correctly established.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 7082505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22763cbff4009fa573ce48ed62111b66?s=128&d=identicon&r=PG&f=1", "display_name": "kadagreatish", "link": "https://stackoverflow.com/users/7082505/kadagreatish"}, "edited": false, "score": 0, "creation_date": 1477612985, "post_id": 40295070, "comment_id": 67850422, "body": "Thank you. The biggest thing I am struggling with is how to find the file. The file name is incremented per day.. so where the * (Teal*.csv) is located is the current date or a date of the file. I am trying to break up this file to then have my FTP client pull it to my website. How can I get the batch script to look in that directory to find a file like Teal_20161027.csv and then have the perl script split that"}], "tags": [], "owner": {"reputation": 118713, "user_id": 1012053, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDAXz.jpg?s=128&g=1", "display_name": "dbenham", "link": "https://stackoverflow.com/users/1012053/dbenham"}, "is_accepted": false, "score": 0, "last_activity_date": 1477607118, "last_edit_date": 1477607118, "creation_date": 1477606558, "answer_id": 40295070, "question_id": 40294728, "link": "https://stackoverflow.com/questions/40294728/find-file-name-assign-to-variable-and-run-perl-script-with-variable-in-windows/40295070#40295070", "title": "Find file name, assign to variable and run perl script with variable in windows batch file", "body": "<p>As Magoo stated in his answer, you need to put <code>%</code> on both ends of the environment variable when you want to expand it.</p>\n\n<p>But if you want to iterate files in a folder, then you want to use the simple FOR, not FOR /F.</p>\n\n<p>Also, I don't see why you need environment variables at all. You can simply use the FOR variables directly.</p>\n\n<p>Finally, the %%A will include the full path. There is no need to hard code the file path in the body of the loop.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>@echo off\nset \"SCRIPT=\\\\DBserver\\scripts\\splitfileFINAL.pl\"\nset \"FILEPATH=\\\\DBserver\\files\\outgoing\\Temp\\Teal*.csv\"\nfor %%A in (\"%FILEPATH%\") do perl \"%SCRIPT%\" \"%%F\" 300000 \"%%~nA\"\n</code></pre>\n\n<p>If your perl script creates additional csv files within the same folder, then those new files could potentially be picked up by the FOR loop. If this is the case, then you do need to switch to FOR /F and process a DIR command, so that the complete list of files is buffered before any processing is begun. Now the full path is not listed within %%A, so you do need to include it within the body.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>@echo off\nset \"SCRIPT=\\\\DBserver\\scripts\\splitfileFINAL.pl\"\nset \"FILEPATH=\\\\DBserver\\files\\outgoing\\Temp\\\"\nset \"FILEMASK=Teal*.csv\"\nfor /f \"delims=\" %%A in ('dir /b /a-d \"%FILEPATH%%FILEMASK%\") do (\n  perl \"%SCRIPT%\" \"%FILEMASK%%%A\" 300000 \"%%~nA\"\n)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7082505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22763cbff4009fa573ce48ed62111b66?s=128&d=identicon&r=PG&f=1", "display_name": "kadagreatish", "link": "https://stackoverflow.com/users/7082505/kadagreatish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 470, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1477607118, "creation_date": 1477604861, "last_edit_date": 1477605383, "question_id": 40294728, "link": "https://stackoverflow.com/questions/40294728/find-file-name-assign-to-variable-and-run-perl-script-with-variable-in-windows", "title": "Find file name, assign to variable and run perl script with variable in windows batch file", "body": "<p>I am trying to search a specified directory and find a file that matches the file mask: Teal*csv and then assign that to a variable (with and without the file extension) and reference those variables in the parameters for the Perl script.</p>\n\n<pre><code>set FILEPATH=\\\\DBserver\\files\\outgoing\\Temp\\Teal*.csv\nfor /F \"delims=\" %%A in (\"%FILEPATH%\") do (\n  set \"FILEFULLNAME=%%~nxA\"\n  set \"FILEMASK=%%~nA\"\n  set \"FILEEXT=%%~xA\"\n)\n\nperl \\\\DBserver\\scripts\\splitfileFINAL.pl \\\\DBserver\\files\\outgoing\\Temp\\%FILEFULLNAME 300000 %FILEMASK\n</code></pre>\n\n<p>Perl script has 3 parameters: 1st file to be split, 2nd number of rows per file and 3rd filename without file extension</p>\n"}, {"tags": ["perl", "bioinformatics", "qiime"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1477636017, "post_id": 40293922, "comment_id": 67856259, "body": "<code>^[Uu]nknown</code> instead using <code>i</code> for case sensitive or else any other reason for using this?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1477636133, "post_id": 40293922, "comment_id": 67856302, "body": "<code>elsif ($_=~ m&#47;^(unknown|uncultured|unidentified)$&#47;ig){ next; }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 9097452, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8073dda6ba748ee30788aed8a1e82f0d?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/9097452/abraham"}, "edited": false, "score": 0, "creation_date": 1477672546, "post_id": 40294198, "comment_id": 67876106, "body": "Thanks so much al of you, the true is that I had no reason to make each elseif for each one, the only reason is that I&#180;m learning perl by my self, and some times the simple thing in programing is no very clear for me.... well I made the changes that all of you recommend"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 311, "user_id": 9097452, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8073dda6ba748ee30788aed8a1e82f0d?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/9097452/abraham"}, "edited": false, "score": 0, "creation_date": 1477672803, "post_id": 40294198, "comment_id": 67876241, "body": "@abraham take a look at the tutorials that are mentioned in the tag wiki for Perl here on Stack Overflow."}, {"owner": {"reputation": 311, "user_id": 9097452, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8073dda6ba748ee30788aed8a1e82f0d?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/9097452/abraham"}, "edited": false, "score": 0, "creation_date": 1477673286, "post_id": 40294198, "comment_id": 67876446, "body": "thanks so much, just a another question, and sorry to ask so much,  the changes that all of you recommend works but now I have the problem that apear an message: Use of uninitialized value $_ in pattern match (m//) at Perl2.pl line..... when I use my @kingd = $taxon_value[0] =~ m/D_0__(.*);D_1|k__(.*);p/g, but  if I use it, just like m/D_0__(.*);D_1/g I got no problem, by now I just don&#39;t use the warnings module, sorry to ask to many. Thanks a lot"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 311, "user_id": 9097452, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8073dda6ba748ee30788aed8a1e82f0d?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/9097452/abraham"}, "edited": false, "score": 0, "creation_date": 1477673425, "post_id": 40294198, "comment_id": 67876511, "body": "Always use warnings, and fix them. I don&#39;t have a computer right now. I&#39;ll check later."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 2, "last_activity_date": 1477602381, "creation_date": 1477602381, "answer_id": 40294198, "question_id": 40293922, "link": "https://stackoverflow.com/questions/40293922/match-with-2-or-more-options-perl/40294198#40294198", "title": "match with 2 or more options perl", "body": "<p>You need to do the <em>or</em> inside of your pattern. You do that with a pipe <code>|</code>, which you already had. But it needs to go into the pattern. No need to have two match operators.</p>\n\n<pre><code>my @kingd = $taxon_value[0] =~ m/D_0__(.*);D_1|k__(.*);p/g\n</code></pre>\n\n<p>It will now match either the one, or the other. See <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow\">perlre</a> and <a href=\"http://perldoc.perl.org/perlretut.html\" rel=\"nofollow\">perlretut</a> for more information. You should also read the information provided in the regex tag wiki here on SO as it contains links to many useful tools.</p>\n\n<p>What you were doing in your code that didn't work is using Perl's <code>|</code> operator, which is a <a href=\"http://perldoc.perl.org/perlop.html#Bitwise-Or-and-Exclusive-Or\" rel=\"nofollow\">bitwise or</a>.</p>\n"}], "owner": {"reputation": 311, "user_id": 9097452, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8073dda6ba748ee30788aed8a1e82f0d?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/9097452/abraham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 40294198, "answer_count": 1, "score": 0, "last_activity_date": 1477602381, "creation_date": 1477601157, "last_edit_date": 1477602123, "question_id": 40293922, "link": "https://stackoverflow.com/questions/40293922/match-with-2-or-more-options-perl", "title": "match with 2 or more options perl", "body": "<p>I have two formats obtained from qiime analyses, one obtained from silva database and other obtained from GreenGenes. The difference among those files, are that silva files  have a progressive D_number for each taxon (kingdom= D_0__, phylum= D_1__, clase= D_2__ and so on) and GreenGenes files have a letter for each taxon (kingdom= K__, phylum= p__, clase= c__ and so on)</p>\n\n<pre><code>file_1 (Silva format)\nD_0__Archaea;D_1__Euryarchaeota;D_2__Thermoplasmata;D_3__Thermoplasmatales;D_4__ASC21;D_5__uncultured euryarchaeote\n\n\n\nfile_2(GreenGenes format)\nk__Bacteria;p__Actinobacteria;c__Actinobacteria;o__Actinomycetales;f__Streptomycetaceae;g__Streptomyces\n</code></pre>\n\n<p>so I made tow scripts (one for Silva and one for GreenGenes) in Perl to extract each taxon in a separate file. </p>\n\n<p>I'm trying to incorporate a piece of code in the match section for both formats, I mean: </p>\n\n<p>in the line 16, I want two options, something like: </p>\n\n<pre><code>my @kingd=($taxon_value[0]=~m/D_0__(.*);D_1/g | m/k__(.*);p/g);\n</code></pre>\n\n<p>Well, I know that it doesn't work</p>\n\n<p>so how can I add two or more option in the same line for match regex ??</p>\n\n<p>this is part of the script (it have 6 option, I just write the Kingdom option !!):</p>\n\n<pre><code>while (&lt;INPUTFILE&gt;){\n    $line=$_;\n    chomp($line);\n    if ($line=~ m/^#/g){\n        next;\n    }\n    elsif ($line=~ m/^[Uu]nassigned/g){\n        next;\n    }\n    elsif ($line){\n        my @full_line = $_;\n        foreach (@full_line){\n            my (@taxon_value)= split (/\\t/, $_);\n            foreach ($taxon_value[0]){\n                if ($kingdom){\n                    my @kingd=($taxon_value[0]=~m/D_0__(.*);D_1/g); # just for silva\n                    foreach (@kingd){\n                        if ($_=~/^$/){\n                            next;\n                        }\n                        elsif ($_=~ m/^[Uu]nknown/g){\n                            next;\n                        }\n                        elsif ($_=~ m/^[Uu]ncultured$/g){\n                            next;\n                        }\n                        elsif ($_=~ m/^[Uu]nidentified$/g){\n                            next;\n                        }\n                        else {\n                            push @taxon_list, $_;\n                        }\n                    }\n                }\n           }\n      }\n }\n</code></pre>\n\n<p>thanks </p>\n"}, {"tags": ["perl", "ubuntu", "perlbrew"], "comments": [{"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1477584539, "post_id": 40286661, "comment_id": 67837062, "body": "Seems to be a problem with some versions of 5.20: <a href=\"http://www.perlmonks.org/?node_id=1126500\" rel=\"nofollow noreferrer\">perlmonks.org/?node_id=1126500</a> (I&#39;ve installed versions all the way back to 5.6.1 without issue using perlbrew)"}, {"owner": {"reputation": 809, "user_id": 2178841, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/77f1358095df03325f2d17555682eb76?s=128&d=identicon&r=PG", "display_name": "user2178841", "link": "https://stackoverflow.com/users/2178841/user2178841"}, "reply_to_user": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 0, "creation_date": 1477588206, "post_id": 40286661, "comment_id": 67839240, "body": "Yeah, thanks that worked."}, {"owner": {"reputation": 21782, "user_id": 176646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/HsQyV.png?s=128&g=1", "display_name": "ThisSuitIsBlackNot", "link": "https://stackoverflow.com/users/176646/thissuitisblacknot"}, "edited": false, "score": 1, "creation_date": 1477588357, "post_id": 40286661, "comment_id": 67839327, "body": "Can you please write an answer showing what exactly you did?"}], "owner": {"reputation": 809, "user_id": 2178841, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/77f1358095df03325f2d17555682eb76?s=128&d=identicon&r=PG", "display_name": "user2178841", "link": "https://stackoverflow.com/users/2178841/user2178841"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 413, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1477576888, "creation_date": 1477576888, "question_id": 40286661, "link": "https://stackoverflow.com/questions/40286661/perlbrew-perl-installation-failure-lib-h2ph-t", "title": "Perlbrew perl installation failure ../lib/h2ph.t", "body": "<p>I have perl 5.22 (Ubuntu 16.04). One software I am using has some issues and needs older perl (older than 5.22). I tried installing 5.20.1 with  perlbrew but I got the error:</p>\n\n<pre><code>makefile:840: recipe for target 'test_harness' failed\n</code></pre>\n\n<p>with mention of file:\n    ../lib/h2ph.t\nI tried using --force, and patch as suggested after failure.</p>\n\n<p>Does the older perl no longer being maintained imply anything in this case?</p>\n\n<p>Does anyone have any idea how to overcome this?</p>\n"}, {"tags": ["perl", "ldap", "bind"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1477568215, "post_id": 40283488, "comment_id": 67825416, "body": "<a href=\"http://search.cpan.org/~marschap/perl-ldap/lib/Net/LDAP.pod#start_tls\" rel=\"nofollow noreferrer\">search.cpan.org/~marschap/perl-ldap/lib/Net/LDAP.pod#start_t&zwnj;&#8203;ls</a>"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1477568369, "post_id": 40283488, "comment_id": 67825511, "body": "You may need to specify the correct port."}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1477568584, "post_id": 40283488, "comment_id": 67825648, "body": "Are you able to run a <code>ldapsearch</code> query from the command line?"}, {"owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "reply_to_user": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1477574553, "post_id": 40283488, "comment_id": 67829774, "body": "I am trying following:  ldapsearch -x -LLL -h host -D username -w password  Result is : ldap_bind: Invalid credentials (49) \tadditional info: 80090308: LdapErr: DSID-0C0903C5, comment: AcceptSecurityContext error, data 52e, v2580  Is my format correct?"}, {"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1477629310, "post_id": 40283488, "comment_id": 67854073, "body": "<a href=\"https://ldapwiki.com/wiki/Common%20Active%20Directory%20Bind%20Errors\" rel=\"nofollow noreferrer\">ldapwiki.com/wiki/Common%20Active%20Directory%20Bind%20Error&zwnj;&#8203;s</a>  search for <code>52e</code>. Maybe your credentials are wrong...ask your client to validate the credentials and give you an example ldapsearch that should work."}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "edited": false, "score": 0, "creation_date": 1477659689, "post_id": 40301289, "comment_id": 67868426, "body": "I am trying to connect from terminal as follow:  ldapsearch -h host -p 389 -x -D &quot;cn=username&quot; -w password -s base -b &quot;DC=facto,DC=intra,DC=tr&quot;   But I see following:  ldap_bind: Invalid credentials (49) \tadditional info: 80090308: LdapErr: DSID-0C0903C5, comment: AcceptSecurityContext error, data 52e, v2580   Customer says that host,username and password is correct.  Is my search command wrong?"}, {"owner": {"reputation": 4178, "user_id": 738708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c7d0f23ff8919a2720a7845ba1d4e5a?s=128&d=identicon&r=PG", "display_name": "Ludovic Poitou", "link": "https://stackoverflow.com/users/738708/ludovic-poitou"}, "reply_to_user": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "edited": false, "score": 0, "creation_date": 1477904102, "post_id": 40301289, "comment_id": 67932352, "body": "&quot;cn=username&quot; is not a full DN. A more appropriate value should be &quot;cn=username,ou=people,dc=example,dc=com&quot;. This said, you are interacting with MS AD which is not entirely LDAP compliant, and the additional info string has more details that are entirely specific to AD."}], "tags": [], "owner": {"reputation": 4178, "user_id": 738708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c7d0f23ff8919a2720a7845ba1d4e5a?s=128&d=identicon&r=PG", "display_name": "Ludovic Poitou", "link": "https://stackoverflow.com/users/738708/ludovic-poitou"}, "is_accepted": false, "score": 0, "last_activity_date": 1477644268, "creation_date": 1477644268, "answer_id": 40301289, "question_id": 40283488, "link": "https://stackoverflow.com/questions/40283488/ldap-bind-operation-with-perl/40301289#40301289", "title": "LDAP bind operation with Perl", "body": "<p>The LDAP Bind request requires a valid DN for the user and not just a user name.\nUsually, applications first do a search on userName to retrieve the user DN and then bind as the user.</p>\n"}], "owner": {"reputation": 177, "user_id": 3050035, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/f6a68c414ec87ff9498e005268526e57?s=128&d=identicon&r=PG&f=1", "display_name": "kadir_beyazli", "link": "https://stackoverflow.com/users/3050035/kadir-beyazli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1154, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477644268, "creation_date": 1477567727, "question_id": 40283488, "link": "https://stackoverflow.com/questions/40283488/ldap-bind-operation-with-perl", "title": "LDAP bind operation with Perl", "body": "<p>I am trying to connect a LDAP server. Customer sent following 3 info to me:</p>\n\n<ol>\n<li>IP address of LDAP server </li>\n<li>username</li>\n<li>password</li>\n</ol>\n\n<p>I am using following code:</p>\n\n<pre><code>my $ldap = Net::LDAP-&gt;new ($ip_address) or die \"$@\"; \n\nmy $mesg = $ldap-&gt;bind ( $username,\n                         password =&gt; $password,\n                                  ) or die $@;\n\nmy $result = $ldap-&gt;search(\n        base   =&gt; $base,\n        filter =&gt; $filter\n        attrs  =&gt; \\@attributes,\n        );\n\ndie $result-&gt;error if $result-&gt;code;\n</code></pre>\n\n<p>$result->error value is :</p>\n\n<p><em>'000004DC: LdapErr: DSID-0C090728, comment: In order to perform this operation a successful bind must be completed on the connection.,</em> </p>\n\n<p>According to message, bind is not successful. But it should die if it was unsuccessful. I changed password, wrote wrong value, it again did not die.</p>\n\n<p>I dumped $mesg which is return value of bind and saw following message:</p>\n\n<p><em>'80090308: LdapErr: DSID-0C0903C5, comment: AcceptSecurityContext error</em></p>\n\n<p>But it is same with the correct username and password too. Username is 'itservice'. I am using as follow:</p>\n\n<pre><code>my $mesg = $ldap-&gt;bind ( 'itservice',\n                         password =&gt; $password,\n                         ) or die $@;\n</code></pre>\n\n<p>I tried as follow but result is same</p>\n\n<pre><code>my $mesg = $ldap-&gt;bind ( 'cn=itservice',\n                          password =&gt; $password,\n                             ) or die $@;\n</code></pre>\n\n<p>Is there any other format of using username or password?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 6068, "user_id": 1799189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4Pcu.jpg?s=128&g=1", "display_name": "xxfelixxx", "link": "https://stackoverflow.com/users/1799189/xxfelixxx"}, "edited": false, "score": 0, "creation_date": 1477567961, "post_id": 40283449, "comment_id": 67825235, "body": "Have a look at <a href=\"http://perldoc.perl.org/functions/pack.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/functions/pack.html</a>    and  <a href=\"http://perldoc.perl.org/perlpacktut.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlpacktut.html</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1477568737, "post_id": 40283449, "comment_id": 67825739, "body": "That&#39;s not really how Stack Overflow works. If you show us what you have tried and explain what problems you are having ,then we&#39;ll be able to help you."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 1, "creation_date": 1477570508, "post_id": 40283449, "comment_id": 67826933, "body": "Down voted question because no effort shown. Seems more like a &quot;do this for me&quot; question rather than &quot;I am stuck&quot;. Post what you have tried, even if it looks horrible and does not work, at least everyone can see you have tried."}, {"owner": {"reputation": 3, "user_id": 7080014, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323539367665458/picture?type=large", "display_name": "Shreyas N Gowda", "link": "https://stackoverflow.com/users/7080014/shreyas-n-gowda"}, "edited": false, "score": 1, "creation_date": 1477570795, "post_id": 40283449, "comment_id": 67827136, "body": "@Gerry I have written the code and I will mention what is wrong with the output. Will be shortly adding the code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477573045, "post_id": 40283449, "comment_id": 67828740, "body": "Please do, then just edit the original question with the code."}, {"owner": {"reputation": 3, "user_id": 7080014, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323539367665458/picture?type=large", "display_name": "Shreyas N Gowda", "link": "https://stackoverflow.com/users/7080014/shreyas-n-gowda"}, "edited": false, "score": 0, "creation_date": 1477575637, "post_id": 40283449, "comment_id": 67830599, "body": "Actually length should be 6 (0x1234) when I check with 6 I am getting output as input but when I check with 4 at least I could see some variations in my output. why its not taking length as 6 ?"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1477576375, "post_id": 40283449, "comment_id": 67831168, "body": "That&#39;s not your code. That code doesn&#39;t even compile (<code>use stricts</code>, for example!) And why do people think they can write good code with such random indentation?"}, {"owner": {"reputation": 3, "user_id": 7080014, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323539367665458/picture?type=large", "display_name": "Shreyas N Gowda", "link": "https://stackoverflow.com/users/7080014/shreyas-n-gowda"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1477577201, "post_id": 40283449, "comment_id": 67831809, "body": "@DaveCross I have corrected the spelling for (use strict)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1477577544, "post_id": 40283449, "comment_id": 67832074, "body": "@ShreyasNGowda: Thanks. But that&#39;s not really the point. You should be pasting in the exact code that you&#39;re using. Anything else is a waste of our time as we have to correct typos like that which you have already fixed. Is this now your real code? Does your <code>@array</code> really only contain a single element?"}, {"owner": {"reputation": 3, "user_id": 7080014, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323539367665458/picture?type=large", "display_name": "Shreyas N Gowda", "link": "https://stackoverflow.com/users/7080014/shreyas-n-gowda"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1477578160, "post_id": 40283449, "comment_id": 67832535, "body": "@DaveCross this is the same code that I am using and its working for me and I am getting same output as I have mentioned in my output"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1477578930, "post_id": 40283449, "comment_id": 67833085, "body": "Well, changing <code>my @array = &quot;...&quot;</code> to <code>my @array = (...)</code> would be a good start!"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477585103, "post_id": 40283449, "comment_id": 67837410, "body": "The team of <a href=\"http://stackoverflow.com/users/6871400/ria\">Ria</a>, <a href=\"http://stackoverflow.com/users/6839106/abhishek\">abhishek</a> and <a href=\"http://stackoverflow.com/users/7080014/shreyas-n-gowda\">Shreyas N Gowda</a> have asked this question multiple times before. They have been told they have insufficient inputs to achieve the desired output, but they keep asking why their code doesn&#39;t work. I would mark this a duplicate of <a href=\"http://stackoverflow.com/q/40132199/589924\">stackoverflow.com/q/40132199/589924</a>, but I do not want to do so unilaterally."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1477585225, "post_id": 40283449, "comment_id": 67837493, "body": "@Dave Cross, They&#39;ve been told to use <code>push @array, hex($1);</code> instead of <code>$str .= $1;</code> in the only reasonable question this team has asked, but they have consistently ignored this."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7080014, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323539367665458/picture?type=large", "display_name": "Shreyas N Gowda", "link": "https://stackoverflow.com/users/7080014/shreyas-n-gowda"}, "edited": false, "score": 0, "creation_date": 1477575449, "post_id": 40285408, "comment_id": 67830453, "body": "I have input of one byte as well sorry that I have not added before in my code"}, {"owner": {"reputation": 3, "user_id": 7080014, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323539367665458/picture?type=large", "display_name": "Shreyas N Gowda", "link": "https://stackoverflow.com/users/7080014/shreyas-n-gowda"}, "edited": false, "score": 0, "creation_date": 1477579841, "post_id": 40285408, "comment_id": 67833792, "body": "I have tried this I am getting some error Argument &quot;0xffffffffffffffdf,0x2347,0x2360,0x2365,0xffffffffffffff...&zwnj;&#8203;&quot; isn&#39;t numeric in bitwise and (&amp;)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 3, "user_id": 7080014, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323539367665458/picture?type=large", "display_name": "Shreyas N Gowda", "link": "https://stackoverflow.com/users/7080014/shreyas-n-gowda"}, "edited": false, "score": 0, "creation_date": 1477582210, "post_id": 40285408, "comment_id": 67835445, "body": "@ShreyasNGowda: That&#39;s because your <code>@array</code> contains a single item which is &quot;0xffffffffffffffdf,0x2347,0x2360,0x2365,0xffffffffffffffcf,&zwnj;&#8203;0x00,0x4a&quot;. You need to define your array properly (as explained in one of my previous comments)."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477584044, "post_id": 40285408, "comment_id": 67836754, "body": "Fails when <code>0x0012</code> is a Uint16 (which is definitely possible based on past questions by this team). You can&#39;t use heuristics; extra information is needed to solve this problem."}], "tags": [], "owner": {"reputation": 1009, "user_id": 2051109, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/216009d45e1b8e34f936173142f0648f?s=128&d=identicon&r=PG", "display_name": "BOC", "link": "https://stackoverflow.com/users/2051109/boc"}, "is_accepted": false, "score": 0, "last_activity_date": 1477573649, "creation_date": 1477573649, "answer_id": 40285408, "question_id": 40283449, "link": "https://stackoverflow.com/questions/40283449/perlhow-to-convert-array-of-integer-into-one-byte/40285408#40285408", "title": "Perl:How to convert array of integer into one byte", "body": "<pre><code>map {($_ &amp; 0xffffffffffff0000) ? ($_ &amp; 0xff) : (($_ &amp; 0xff00) &gt;&gt; 8, ($_ &amp; 0xff))} @array;\n</code></pre>\n\n<p>map is the keyword to iterate over an array. It allows to produce more items as output than was present in input.</p>\n\n<p>To identify a 8 byte data from a 2 byte data, I have used a mask. If bits are set outside the low 16 bits, it means it is a 8 byte data.</p>\n\n<p>To split the two bytes data, I have also used masks.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 7080014, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323539367665458/picture?type=large", "display_name": "Shreyas N Gowda", "link": "https://stackoverflow.com/users/7080014/shreyas-n-gowda"}, "edited": false, "score": 0, "creation_date": 1477581625, "post_id": 40288141, "comment_id": 67835038, "body": "I agree what you said could please help me how to approaches this problem"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 3, "user_id": 7080014, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323539367665458/picture?type=large", "display_name": "Shreyas N Gowda", "link": "https://stackoverflow.com/users/7080014/shreyas-n-gowda"}, "edited": false, "score": 0, "creation_date": 1477582450, "post_id": 40288141, "comment_id": 67835612, "body": "You need to explain where your data is coming from"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1477581115, "last_edit_date": 1477581115, "creation_date": 1477580759, "answer_id": 40288141, "question_id": 40283449, "link": "https://stackoverflow.com/questions/40283449/perlhow-to-convert-array-of-integer-into-one-byte/40288141#40288141", "title": "Perl:How to convert array of integer into one byte", "body": "<p>There is a lot wrong with your program</p>\n\n<p>You should at least <code>print</code> the value of <code>$index</code> each time it changes</p>\n\n<p>Here are some observations</p>\n\n<ul>\n<li><p>Please at least tidy and indent your code properly before asking for help. It is rude of you to throw out stuff like that and ask for a fix</p></li>\n<li><p>Your <code>@array</code> (apart from having and awful name -- the <code>@</code> already says that it's an array, so the <code>array</code> part is worthless) contains <em>only one element</em>, which is an 82-character string with a newline and spaces in the middle</p></li>\n<li><p>You use a <code>for</code> loop which executes once to assign that string to a variable <code>$index</code> (again, a dreadful name -- array indexes are integers that start at zero)</p></li>\n<li><p>You test first for whether the length of the string is > 4. This test will always succeed first, even for strings that are longer than 16 characters and should be handled by the second test. Remember though that you have <em>one string</em>, which is 82 characters long</p></li>\n<li><p>Note that, even if if you manage to set <code>$index</code> to <code>0xffffffffffffffdf</code>, it will stringify to something like <code>1.84467440737096e+19</code>, which won't be much use if you just treat every pair of characters as hex digits</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1477584017, "post_id": 40289147, "comment_id": 67836740, "body": "Fails when <code>0x0012</code> is a Uint16 (which is definitely possible based on past questions by this team). You can&#39;t use heuristics; extra information is needed to solve this problem."}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1477583572, "creation_date": 1477583572, "answer_id": 40289147, "question_id": 40283449, "link": "https://stackoverflow.com/questions/40283449/perlhow-to-convert-array-of-integer-into-one-byte/40289147#40289147", "title": "Perl:How to convert array of integer into one byte", "body": "<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy @input_hex = (0xffffffffffffffdf,0x2347,0x2360,0x2365,\n                 0xffffffffffffffcf,0x00,0x4a);\n\nmy @output_hex;\n\nfor (@input_hex) {\n  if ($_ &gt; 0xffff) {\n    push @output_hex, ($_ &amp; 0xff);\n  } elsif ($_ &gt; 0xff) {\n    push @output_hex, ($_ &amp; 0xff00) &gt;&gt; 8, ($_ &amp; 0xff);\n  } else {\n    push @output_hex, $_;\n  }\n}\n\nsay join ',', map { sprintf '0x%02x', $_ } @output_hex;\n</code></pre>\n\n<p>I'm going to put as much effort into explaining my answer as you put into explaining your question - i.e. none.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 2, "last_activity_date": 1477698268, "last_edit_date": 1495542737, "creation_date": 1477583912, "answer_id": 40289272, "question_id": 40283449, "link": "https://stackoverflow.com/questions/40283449/perlhow-to-convert-array-of-integer-into-one-byte/40289272#40289272", "title": "Perl:How to convert array of integer into one byte", "body": "<p>You want -33 (<code>0xffffffffffffffdf</code>) to become <code>df</code> (the bytes of it stored as a signed 8-bit integer).</p>\n\n<p>You want 9031 (<code>0x2347</code>) to become <code>23 47</code> (the bytes of it stored as a big-endian unsigned 16-bit integer).</p>\n\n<p>As such, in addition to the value, you also need to provide the type into which the value should be converted (e.g. <code>Uint16</code>). <strong>You are lacking this necessary information.</strong></p>\n\n<p>Two of the other answers try to work around this problem by guessing at the type, converting values less than 256 into a single byte of output. However, <a href=\"https://stackoverflow.com/q/39678809/589924\">data</a> previously provided by your team show that <code>\"0x02\"</code> could just as likely need to be converted into <code>0x00,0x02</code> as <code>0x02</code>.</p>\n\n<p>So, as one of your teammates has previously been <a href=\"https://stackoverflow.com/a/40136392/589924\">told</a>, <strong>you can't achieve the desired result from the information you provided.</strong> For example, to get the output you desire, you'd need</p>\n\n<pre><code>my @data = (\n    [ 'Sint8',  '0xffffffffffffffdf' ],\n    [ 'Uint16', '0x2347' ],\n    [ 'Uint16', '0x2360' ],\n    [ 'Uint16', '0x2365' ],\n    [ 'Sint8',  '0xffffffffffffffcf' ],\n    [ 'Sint8',  '0x00' ],\n    [ 'Sint8',  '0x4a' ],\n);\n</code></pre>\n\n<p>Once you have that, you can use the previously posted <a href=\"https://stackoverflow.com/a/39682057/589924\">solution</a>.</p>\n\n<pre><code>use strict;\nuse warnings;\nno warnings qw( portable );\nuse feature qw( say );\n\nmy %packers = (\n   Uint8  =&gt; sub { pack 'C*',  @_ },\n   Sint8  =&gt; sub { pack 'c*',  @_ },\n   Uint16 =&gt; sub { pack 'S&gt;*', @_ },\n   Sint16 =&gt; sub { pack 's&gt;*', @_ },\n   Uint32 =&gt; sub { pack 'L&gt;*', @_ },\n   Sint32 =&gt; sub { pack 'l&gt;*', @_ },\n);\n\nmy $packed = '';\nfor (@data) {\n   my ($type, $hex) = @$_;\n\n   # Convert to number (and fix sign).\n   my $val = unpack 'q', pack 'q', hex $hex;\n\n   my $packer = $packers{$type}\n      or die(\"Unsupported type \\\"$type\\\"\\n\");\n\n   $packed .= $packer-&gt;($val);\n}\n\nsay\n   join ',',\n      map { sprintf(\"0x%02x\", $_) }\n         unpack 'C*',\n            $packed;\n</code></pre>\n\n<p>Output: (Exactly as expected)</p>\n\n<pre><code>0xdf,0x23,0x47,0x23,0x60,0x23,0x65,0xcf,0x00,0x4a\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7080014, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323539367665458/picture?type=large", "display_name": "Shreyas N Gowda", "link": "https://stackoverflow.com/users/7080014/shreyas-n-gowda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 2, "answer_count": 4, "score": -3, "last_activity_date": 1477698268, "creation_date": 1477567589, "last_edit_date": 1477577113, "question_id": 40283449, "link": "https://stackoverflow.com/questions/40283449/perlhow-to-convert-array-of-integer-into-one-byte", "title": "Perl:How to convert array of integer into one byte", "body": "<pre><code>my @array= 0xffffffffffffffdf,0x2347,0x2360,0x2365,0xffffffffffffffcf,0x00,0x4a\n</code></pre>\n\n<p>I have an array of 1 byte ,2 byte and 8 byte of data.\nThe 2 and 8 byte of data in the array will be coming at random place </p>\n\n<ol>\n<li><p>I want to split 2 byte of array into each of 1 byte  for e.g.(<code>0x2347</code> ---> <code>0x23,0x47</code>)</p></li>\n<li><p>I want to truncate 8 byte of signed data  into 1 byte for e.g.(<code>0xffffffffffffffcf</code> ---> <code>0xcf</code>)</p></li>\n</ol>\n\n<p>my_code:</p>\n\n<pre><code>  use strict;\n  use warnings;      \n  my@array=\"0xffffffffffffffdf,0x2347,0x2360,0x2365,\n             0xffffffffffffffcf,0x00,0x4a\";\n  my @split_array;\n  my @new_array;\n  foreach my $index (@array) \n  {\n  my @split_array;\n\n  if (length $index &gt;4) \n  {\n\n    @split_array = map \"0x$_\", $index =~ /../g;\n  } \n  elsif (length $index&gt;16) \n  {     \n   @split_array = map \"0x$_\", $index =~ /../g;       \n  }\n  else \n  {\n    @split_array = $index;\n  }\n  @new_array=join(\", \", @split_array);\n  }\n  print \"@new_array\\n\";\n</code></pre>\n\n<p>my code output:</p>\n\n<p>0x0x, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xdf, 0x,0, 0xx2, 0x34, 0x7,, 0x0x, 0x23, 0x60, 0x,0, 0xx2, 0x36, 0x5,, 0x0x, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xcf, 0x,0, 0xx0, 0x0,, 0x0x, 0x4a  0x0x, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xcf</p>\n\n<p>Expected output:</p>\n\n<pre><code>0xdf,0x23,0x47,0x23,0x60,0x23,0x65,0xcf,0x00,0x4a\n</code></pre>\n\n<p>please suggest me steps with explanation..?</p>\n"}, {"tags": ["perl", "datetime"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1477558306, "post_id": 40279955, "comment_id": 67819007, "body": "Which version of Perl do you have? What are you expecting as the output? You can <a href=\"https://stackoverflow.com/posts/40279955/edit\">edit</a> your question."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1477558438, "post_id": 40279955, "comment_id": 67819105, "body": "The linked duplicate is basically what you want. Just the pattern for <code>strptime</code> is a bit different. See <a href=\"http://man7.org/linux/man-pages/man3/strptime.3.html\" rel=\"nofollow noreferrer\">man7.org/linux/man-pages/man3/strptime.3.html</a> to learn how to construct the right pattern."}, {"owner": {"reputation": 47, "user_id": 4199414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/911e068486492d300e713476d8bef453?s=128&d=identicon&r=PG&f=1", "display_name": "wurzeldd", "link": "https://stackoverflow.com/users/4199414/wurzeldd"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1477558452, "post_id": 40279955, "comment_id": 67819114, "body": "My Version is v5.8.4 and the output should be 03:09:10"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1477558507, "post_id": 40279955, "comment_id": 67819133, "body": "Then you might not have Time::Piece. Please do <code>perl -MTime::Piece\\ 999</code> in your command line. <code>corelist Time::Piece</code> says it&#39;s been released with 5.9.5 for me."}, {"owner": {"reputation": 47, "user_id": 4199414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/911e068486492d300e713476d8bef453?s=128&d=identicon&r=PG&f=1", "display_name": "wurzeldd", "link": "https://stackoverflow.com/users/4199414/wurzeldd"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477558906, "post_id": 40279955, "comment_id": 67819376, "body": "Can&#39;t locate Time/Piece.pm"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477559325, "post_id": 40279955, "comment_id": 67819646, "body": "Then we don&#39;t have a duplicate, and you need to use a different tool."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1477559781, "post_id": 40279955, "comment_id": 67819960, "body": "If you don&#39;t have Time::Piece installed then one of two things is true. Either you&#39;re using a really old version of Perl (Time::Piece has been standard since 5.10.0 was released in 2007) or you&#39;re running one of Red Hat&#39;s <a href=\"http://perlhacks.com/2012/08/a-cautionary-tale/\" rel=\"nofollow noreferrer\">crippled Perl installations</a> and you need to get the <code>perl-core</code> RPM installed. Either of these circumstances will severely affect your ability to write good Perl code and should be fixed before you try to do too much more work."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1477560167, "post_id": 40279955, "comment_id": 67820207, "body": "@Dave they said they have 5.8.4 <a href=\"http://stackoverflow.com/questions/40279955/perl-subtract-two-dates?noredirect=1#comment67819114_40279955\">in a comment above</a>"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 4, "creation_date": 1477560424, "post_id": 40279955, "comment_id": 67820362, "body": "Yeah. I see that. I guess that&#39;s the biggest problem that they need to get fixed :-)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1477560581, "post_id": 40279955, "comment_id": 67820468, "body": "@Dave how did you even get stuff done in that time? Makes you appreciate all the effort that people put into CPAN... :)"}, {"owner": {"reputation": 161, "user_id": 2217903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us1b5.jpg?s=128&g=1", "display_name": "ardavey", "link": "https://stackoverflow.com/users/2217903/ardavey"}, "edited": false, "score": 0, "creation_date": 1477917142, "post_id": 40279955, "comment_id": 67938484, "body": "What would be your expected output if the order of the 2 strings was reversed?"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1477595621, "post_id": 40281092, "comment_id": 67843264, "body": "without hearing anything to the contrary, I would assume these are <i>not</i> in local time (so timegm instead of timelocal)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1477641912, "post_id": 40281092, "comment_id": 67858898, "body": "@ysth: In my experience, people who don&#39;t mention time zones are more likely to be dealing with local time - which is why I chose <code>timelocal()</code>. But I&#39;ll add a comment to clarify that."}, {"owner": {"reputation": 161, "user_id": 2217903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us1b5.jpg?s=128&g=1", "display_name": "ardavey", "link": "https://stackoverflow.com/users/2217903/ardavey"}, "edited": false, "score": 0, "creation_date": 1477917161, "post_id": 40281092, "comment_id": 67938490, "body": "Surely timezone is irrelevant here because we&#39;re looking for a delta?  The important thing is that both inputs are in <i>the same</i> timezone - and we have no choice but to assume that :-)"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "reply_to_user": {"reputation": 161, "user_id": 2217903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us1b5.jpg?s=128&g=1", "display_name": "ardavey", "link": "https://stackoverflow.com/users/2217903/ardavey"}, "edited": false, "score": 1, "creation_date": 1478520675, "post_id": 40281092, "comment_id": 68174015, "body": "@ardavey: What if the times were local times and they were on either side of a DST-changeover?"}, {"owner": {"reputation": 161, "user_id": 2217903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/us1b5.jpg?s=128&g=1", "display_name": "ardavey", "link": "https://stackoverflow.com/users/2217903/ardavey"}, "edited": false, "score": 1, "creation_date": 1478534529, "post_id": 40281092, "comment_id": 68183144, "body": "@DaveCross Ah, there&#39;s the edge case ... and that&#39;s just after I&#39;ve been chasing BST/GMT bugs :-D"}], "tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 4, "last_activity_date": 1477641993, "last_edit_date": 1477641993, "creation_date": 1477560921, "answer_id": 40281092, "question_id": 40279955, "link": "https://stackoverflow.com/questions/40279955/perl-subtract-two-dates/40281092#40281092", "title": "Perl subtract two dates", "body": "<p>You say that you're using Perl 5.8.4. You really need to get that updated and get the ability to install CPAN modules.</p>\n\n<p>But, here's a way to do what you want using only core Perl functionality that was available in 5.8.4.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Time::Local;\n\nmy $date1 = '15.07.16 23:13:34';\nmy $date2 = '15.07.16 20:04:24';\n\nmy $diff = date2sec($date1) - date2sec($date2);\n\nprint secs2duration($diff);\n\nsub date2sec {\n  my ($date) = @_;\n\n  my ($day, $mon, $yr, $hr, $min, $sec) = split(/[. :]/, $date);\n\n  # I've assumed that your timestamps are in your local timezone,\n  # so I've used timelocal() here. If your timestamps are actually\n  # UTC, you should use timegm() instead.\n  return timelocal($sec, $min, $hr, $day, $mon-1, 2000 + $yr);\n}\n\nsub secs2duration {\n  my ($secs) = @_;\n\n  my $hours = int($secs / (60*60));\n  $secs %= (60*60);\n  my $mins = int($secs / 60);\n  $secs %= 60;\n\n  return sprintf '%02d:%02d:%02d', $hours, $mins, $secs;\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 4199414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/911e068486492d300e713476d8bef453?s=128&d=identicon&r=PG&f=1", "display_name": "wurzeldd", "link": "https://stackoverflow.com/users/4199414/wurzeldd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1435, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1477641993, "creation_date": 1477557551, "last_edit_date": 1477560183, "question_id": 40279955, "link": "https://stackoverflow.com/questions/40279955/perl-subtract-two-dates", "title": "Perl subtract two dates", "body": "<p>I am fairly new in Perl. \nI am trying to subtract two dates in this format</p>\n\n<pre><code>15.07.16 23:13:34\n15.07.16 20:04:24\n</code></pre>\n\n<p>I know that I have to convert this string in a date object. My problem is I am restricted to the basic perl without installing extra packages. Is there a way to do it?</p>\n\n<p>My Version is v5.8.4 and the output should be <code>03:09:10</code>.</p>\n"}, {"tags": ["arrays", "perl", "hash", "nested"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 4, "creation_date": 1477554703, "post_id": 40279075, "comment_id": 67816850, "body": "You don&#39;t have an array in your hash. You have a list. I&#39;m looking for a duplicate with a good explanation. In the meantime, you need to use <code>[]</code> inside the hash assignment."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1477554823, "post_id": 40279075, "comment_id": 67816910, "body": "relevant, but not duplicate: <a href=\"http://stackoverflow.com/q/40044519/1331451\">stackoverflow.com/q/40044519/1331451</a>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 1, "creation_date": 1477554864, "post_id": 40279075, "comment_id": 67816931, "body": "<code>%Hash_Object = (   &quot;Property1&quot;,&quot;value-1&quot;,   &quot;Property2&quot;,[&quot;value-2&quot;,&quot;value-3&quot;] );</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1477554965, "post_id": 40279075, "comment_id": 67816990, "body": "I bet there are ten questions like this one, but I cannot find them. Answering instead."}], "answers": [{"comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1477558596, "post_id": 40279306, "comment_id": 67819180, "body": "&quot;Array values should be in square brackets&quot; - well, only when you want a reference to that array (which you do in this case, because you&#39;re building a complex data structure)."}], "tags": [], "owner": {"reputation": 4260, "user_id": 5581893, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/362f3794da7a74277b3b2fb0b6b5b8ab?s=128&d=identicon&r=PG", "display_name": "datdinhquoc", "link": "https://stackoverflow.com/users/5581893/datdinhquoc"}, "is_accepted": false, "score": 0, "last_activity_date": 1477555405, "creation_date": 1477555405, "answer_id": 40279306, "question_id": 40279075, "link": "https://stackoverflow.com/questions/40279075/perl-how-to-access-an-array-in-a-hash/40279306#40279306", "title": "Perl: How to access an array in a hash", "body": "<p>Array values should be in square brackets, thanks simbabque</p>\n\n<pre><code>%Hash_Object = (\n  \"Property1\",\"value-1\",\n  \"Property2\",[\"value-2\",\"value-3\"]\n);\n\nprint $Hash_Object{Property2}[1];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477555666, "post_id": 40279321, "comment_id": 67817412, "body": "I didn&#39;t even see the odd number. Well spotted."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477555724, "post_id": 40279321, "comment_id": 67817447, "body": "The last assumption that each element should be an array reference is not correct. You don&#39;t know if OP wants that. They just showed that there is <i>an array</i> in <code>Property2</code>."}, {"owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1477556211, "post_id": 40279321, "comment_id": 67817755, "body": "@simbabque Thank you for your comment. Just now I knew it."}], "tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 2, "last_activity_date": 1477558675, "last_edit_date": 1477558675, "creation_date": 1477555462, "answer_id": 40279321, "question_id": 40279075, "link": "https://stackoverflow.com/questions/40279075/perl-how-to-access-an-array-in-a-hash/40279321#40279321", "title": "Perl: How to access an array in a hash", "body": "<p>Always use <strong>use warnings;</strong> and <strong>use strict;</strong> in top of the program.</p>\n\n<p>If you use this it display the following errors</p>\n\n<pre><code>Odd number of elements in hash assignment at array.pl line 3.\nCan't use string (\"value-2\") as an ARRAY ref while \"strict refs\" in use at array.pl line 8\n</code></pre>\n\n<p><strong>In perl, where list are flatten together</strong>. </p>\n\n<p>so the first error is </p>\n\n<pre><code>Odd number of elements in hash assignment at array.pl line 3\n</code></pre>\n\n<p>Hashes must has pairs of keys and value. So the elements of the hash should not be an odd number.</p>\n\n<p>Your code should be</p>\n\n<pre><code>use warnings;\nuse strict;\nmy %Hash_Object = (\n  \"Property1\"=&gt;[\"value-1\"],\n  \"Property2\"=&gt;[\"value-2\",\"value-3\"]\n);\n\nprint $Hash_Object{Property2}[1];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 4, "last_activity_date": 1477555612, "creation_date": 1477555612, "answer_id": 40279366, "question_id": 40279075, "link": "https://stackoverflow.com/questions/40279075/perl-how-to-access-an-array-in-a-hash/40279366#40279366", "title": "Perl: How to access an array in a hash", "body": "<p>You do not have an array in your hash. You have a list. Keep the following in mind:</p>\n\n<ul>\n<li>Lists are not the same as arrays in Perl</li>\n<li>Lists are flat structures</li>\n<li>Arrays are lists</li>\n</ul>\n\n<p>If you put an array into a list, it will be treated as another list, and lists are flat:</p>\n\n<pre><code>(1, 2, (3, 4, 5), (6, (7)))\n</code></pre>\n\n<p>is equal to</p>\n\n<pre><code>(1, 2, 3, 4, 5, 6, 7)\n</code></pre>\n\n<p>If you want to build more complex data structures, you need to use <em>references</em>. There are two ways to make a reference. You can either reference a variable by using <code>\\</code> like this</p>\n\n<pre><code>my @foo = qw(a b c);\nmy $ref = \\@foo;\n</code></pre>\n\n<p>or by constructing it directly as an anonymous reference that you then assign to a variable.</p>\n\n<pre><code>my $ref = [ qw(a b c) ];\nmy $ref2 = [ 1, 2, 3 ];\n</code></pre>\n\n<p>To make a hash reference, use curly braces <code>{}</code>.</p>\n\n<pre><code>my $ref = { a =&gt; 1, b =&gt; 2 };\n</code></pre>\n\n<p>References are scalar values, so they are themselves just a single flat value. That's why you need to dereference them in order to get to the value that's <em>inside</em> of them (really it's not inside, it's <em>referenced</em>).</p>\n\n<pre><code>%Hash_Object = (\n  \"Property1\",\"value-1\",\n  \"Property2\",[\"value-2\",\"value-3\"]\n);\n$Hash_Object{Property2}[1];\n$Hash_Object{Property2}-&gt;[1]; # or like this with -&gt;\n</code></pre>\n\n<p>You already knew how to do that. You can also use the <code>-&gt;</code> operator in front of every new dereference. Some people find that clearer to read.</p>\n\n<p>For more information, see perlreftut and <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow\">perlref</a> as well as <a href=\"http://friedo.com/blog/2013/07/arrays-vs-lists-in-perl\" rel=\"nofollow\">Mike Friedman's excellent blog post about lists and arrays</a>.</p>\n\n<hr>\n\n<p>Your example is not very well written code. Here are some improvement.</p>\n\n<ul>\n<li>variable names should be lower-case</li>\n<li>use the <em>fat comma</em> <code>=&gt;</code> for hash assignments</li>\n<li>you don't need double quotes <code>\"\"</code> if you're not interpolating</li>\n<li>always put commas after the final element</li>\n<li>don't name things for what type they are, name them for what they represent</li>\n<li>a hash is not an object</li>\n<li>you need to use <code>my</code> when declaring a new variable</li>\n</ul>\n\n<p></p>\n\n<pre><code>my %example = (\n    Property1 =&gt; 'value-1',\n    Property2 =&gt; [\n        'value-2',\n        'value-3',\n    ],\n);\n</code></pre>\n"}], "owner": {"reputation": 4260, "user_id": 5581893, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/362f3794da7a74277b3b2fb0b6b5b8ab?s=128&d=identicon&r=PG", "display_name": "datdinhquoc", "link": "https://stackoverflow.com/users/5581893/datdinhquoc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1202, "favorite_count": 1, "accepted_answer_id": 40279366, "answer_count": 3, "score": 0, "last_activity_date": 1477558675, "creation_date": 1477554603, "question_id": 40279075, "link": "https://stackoverflow.com/questions/40279075/perl-how-to-access-an-array-in-a-hash", "title": "Perl: How to access an array in a hash", "body": "<p>I have a sample hash with an array inside, but it seems wrong the way I access the elements of the array. I do it this way:</p>\n\n<pre><code>%Hash_Object = (\n  \"Property1\",\"value-1\",\n  \"Property2\",(\"value-2\",\"value-3\")\n);\n\nprint $Hash_Object{Property2}[1];\n#blank output!\n</code></pre>\n\n<p>It is supposed to print out \"value-3\", but it doesn't.</p>\n"}, {"tags": ["perl", "dbi"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477551610, "post_id": 40278078, "comment_id": 67814967, "body": "I am little confused. Do you want to insert tables into a different database, or insert rows into a different table on the same database? I ask because you mention &quot; i want to insert the same tables from database_1m into database_current&quot; but the code shows <code>INSERT INTO include_status</code> which tells me include_status is a table name?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7078835"}, "edited": false, "score": 0, "creation_date": 1477552056, "post_id": 40278078, "comment_id": 67815220, "body": "I want to insert same table into another database (i.e databse_Current).But the second database should contain only the recent updated time rows .@user2082599"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477552436, "post_id": 40278078, "comment_id": 67815455, "body": "the table then needs to be created if it does not exist and then you insert into table by selecting from the other table. The DBH connect is the exact same but you just add dbh2 as the connection name as dbh is already defined."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7078835"}, "edited": false, "score": 0, "creation_date": 1477552671, "post_id": 40278078, "comment_id": 67815616, "body": "But how can i insert mysql query inside $stmt variable @user2082599"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477552784, "post_id": 40278078, "comment_id": 67815691, "body": "I will post an answer now."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7078835"}, "edited": false, "score": 0, "creation_date": 1477553183, "post_id": 40278078, "comment_id": 67815952, "body": "Please do the needful@user2082599"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "is_accepted": false, "score": 0, "last_activity_date": 1477554801, "creation_date": 1477554801, "answer_id": 40279145, "question_id": 40278078, "link": "https://stackoverflow.com/questions/40278078/how-to-insert-table-into-another-database-using-perl/40279145#40279145", "title": "How to insert table into another database using perl?", "body": "<p>the insert will be something like this:</p>\n\n<pre><code>my $stmt = \"INSERT \n            INTO destination_table(time,available,closed,used,busy,reserved,down)\n            SELECT time,available,closed,used,busy,reserved,down from original_table\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1477555695, "last_edit_date": 1495540415, "creation_date": 1477555695, "answer_id": 40279393, "question_id": 40278078, "link": "https://stackoverflow.com/questions/40278078/how-to-insert-table-into-another-database-using-perl/40279393#40279393", "title": "How to insert table into another database using perl?", "body": "<p>You want the \"<a href=\"http://dev.mysql.com/doc/refman/5.7/en/insert-select.html\" rel=\"nofollow noreferrer\">INSERT ... INTO ... SELECT ...</a>\" which allows you to run a select query and insert the results directly into another table. If the two tables are in different databases on the same server, then you should be able to do it directly in one statement. Something like:</p>\n\n<pre><code>INSERT\nINTO database_current.insert_status\nSELECT *\nFROM database_1m.insert_status\nWHERE [some where clause]\n</code></pre>\n\n<p>And I'll just reiterate some points that I made the <a href=\"https://stackoverflow.com/questions/40254874/why-sub-routine-fails-when-connecting-multiples-databases-for-same-tables-using/40257156#40257156\">last time this code was posted</a>.</p>\n\n<ol>\n<li>Please don't call subroutines using <code>&amp;</code>. It will confuse you at some point. Please use connect() instead.</li>\n<li>The fact that you don't declare <code>$DBH</code> with my makes me wonder if you have <code>use strict</code> in your code. You should always include <code>use strict</code> and <code>use warnings</code>.</li>\n</ol>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7078835"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1477558310, "creation_date": 1477551298, "last_edit_date": 1477558310, "question_id": 40278078, "link": "https://stackoverflow.com/questions/40278078/how-to-insert-table-into-another-database-using-perl", "title": "How to insert table into another database using perl?", "body": "<hr>\n\n<p>1.I have two databases(i.e database_1m and database_current)</p>\n\n<p>2.I have inserted some columns in include_status table(i.e in database_1m).I want to insert the same tables in the database_current.</p>\n\n<p>3.Each database has the time field in database_1m i will get all timings but in the second database i need only the recent time rows so i used mysql query to take the recent updated time rows(i.e select * from include_status where time=(select max(time) from include_status);)</p>\n\n<p>4.Here i dont konw how to use both databases in the same subroutine using perl?\ncode:</p>\n\n<pre><code>sub data\n{\n\n    $DBH = &amp;connect or die \"Cannot connect to the sql server \\n\";\n    $DBH-&gt;do(\"USE database_1m;\");\n    $stmt = \"INSERT INTO include_status(time,available,closed,used,busy,reserved,down) VALUES(\\\"$current_time\\\",\\\"$include{'D'}\\\",\\\"$include{'B'}\\\",\\\"$include{'A'}\\\",\\\"$include{'C'}\\\",\\\"$include{'R'}\\\",\\\"$include{'+'}\\\")\";\n\n\n            my $sth = $DBH-&gt;prepare( $stmt );\n            $sth-&gt;execute() or print \"Could not insert data\";\n    $sth-&gt;finish;\n    $DBH-&gt;disconnect();\n\n\n\n\n}\n</code></pre>\n\n<p>Mysql query:(to insert the recent updated rows)</p>\n\n<pre><code> select * from include_status where time=(select max(time) from include_status);\n</code></pre>\n"}, {"tags": ["perl", "web-services", "sh"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2082599"}, "edited": false, "score": 0, "creation_date": 1477543181, "post_id": 40276159, "comment_id": 67811404, "body": "How are you calling the perl script through the browser?"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 0, "last_activity_date": 1477559564, "creation_date": 1477559564, "answer_id": 40280644, "question_id": 40276159, "link": "https://stackoverflow.com/questions/40276159/making-perl-read-from-index-html-file/40280644#40280644", "title": "Making perl read from index.html file", "body": "<p>Your code is explicitly configured run <code>resp_hello()</code> when you access your server's root URL.</p>\n\n<pre><code>my %dispatch = (\n    '/' =&gt; \\&amp;resp_hello,\n);\n</code></pre>\n\n<p>I don't know exactly what URL structure you are hoping to implement, but if you're trying to differentiate <code>/</code> and <code>/index.html</code> then you could do something like this:</p>\n\n<pre><code>my %dispatch = (\n    '/' =&gt; \\&amp;resp_hello,\n    '/index.html' =&gt; \\&amp;resp_index,\n);\n</code></pre>\n\n<p>and then write a <code>resp_index()</code> subroutine which opens the <code>index.html</code> file and returns the contents to the browser.</p>\n\n<p>You could extend this I suppose and serve any files that exist on the filesystem directly.</p>\n\n<p>But I have to wonder why you're doing this all yourself and not just reaching for a solution that uses <a href=\"http://plackperl.org/\" rel=\"nofollow\">PSGI and Plack</a>. Where did you get the idea to use HTTP::Server::Simple?</p>\n\n<p>And I'm appalled to see <a href=\"https://metacpan.org/pod/HTTP::Server::Simple\" rel=\"nofollow\">documentation</a> that encourages the use of the HTML-generation functions from CGI.pm. We've all known what a terrible idea they are for some considerable time, and <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#HTML-Generation-functions-should-no-longer-be-used\" rel=\"nofollow\">they are now deprecated</a>.</p>\n\n<p>Before you spend too long going down this path, I'd urge you to investigate more standard Perl web tools.</p>\n"}], "owner": {"reputation": 1, "user_id": 7078226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e81db673e945a2c6ebd7a6dec359f4d?s=128&d=identicon&r=PG&f=1", "display_name": "mano83", "link": "https://stackoverflow.com/users/7078226/mano83"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1477559564, "creation_date": 1477542661, "last_edit_date": 1477542977, "question_id": 40276159, "link": "https://stackoverflow.com/questions/40276159/making-perl-read-from-index-html-file", "title": "Making perl read from index.html file", "body": "<p>I'm trying to use perl as my web server for a specific address:port number, 10.x.x.x:portNumber, while also having it show what's in my index.html file by default. However, perl does not show the contents of index.html when I run 10.x.x.x:portNumber in my browser. How can I get perl to read from a file?</p>\n\n<p>This is the code I'm working with for this problem. </p>\n\n<pre><code>#!/usr/bin/perl\n{\npackage MyWebServer;\nuse HTTP::Server::Simple::CGI;\nuse base qw(HTTP::Server::Simple::CGI);\nmy %dispatch = (\n    '/' =&gt; \\&amp;resp_hello,\n);\n\n\nsub handle_request {\n    my $self = shift;\n    my $cgi  = shift;\n    my $path = $cgi-&gt;path_info();\n    my $handler = $dispatch{$path};\n    if (ref($handler) eq \"CODE\") {\n        print \"HTTP/1.0 200 OK\\r\\n\";\n        $handler-&gt;($cgi);\n    } else {\n        print \"HTTP/1.0 404 Not found\\r\\n\";\n        print $cgi-&gt;header,\n        $cgi-&gt;start_html('Not found'),\n        $cgi-&gt;h1('Not found'),\n        $cgi-&gt;end_html;\n    }\n}\n\n\nsub resp_hello {\n    my $cgi  = shift;   # CGI.pm object\n    return if !ref $cgi;\n    my $who = $cgi-&gt;param('name');   \n    print $cgi-&gt;header,\n        $cgi-&gt;start_html(\"Hello\"),\n        $cgi-&gt;h1(\"Hello Perl\"),\n        $cgi-&gt;end_html;\n}\n}\n\n\nmy $pid = MyWebServer-&gt;new(XXXX)-&gt;background();\nprint \"Use 'kill $pid' to stop server.\\n\";\n</code></pre>\n\n<p>Thank you.</p>\n"}]