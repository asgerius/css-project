[{"tags": ["perl", "awk", "sed", "grep", "ksh"], "answers": [{"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 0, "last_activity_date": 1495671188, "creation_date": 1495671188, "answer_id": 44170344, "question_id": 44169820, "link": "https://stackoverflow.com/questions/44169820/shell-reading-lines-with-variables-and-quoted-strings/44170344#44170344", "title": "Shell, reading lines with variables and quoted strings", "body": "<p>it depends what ksh version you're running so idk but heres how to do it in bash:</p>\n\n<pre><code>while IFS=$'\\n' read -r -d '' a b c d; do\n    echo \"a=$a\"\n    echo \"b=$b\"\n    echo \"c=$c\"\n    echo \"d=$d\"\n    echo \"----\"\ndone &lt; &lt;(awk -v FPAT='[^ ]+|\"[^\"]+\"' '{for (i=1;i&lt;=NF;i++) print $i; printf \"\\0\"}' file)\na=Field1a\nb=\"this is field 2\"\nc=3\nd=\"And field 4\"\n----\na=Field1b\nb=\"2\"\nc=\"field three\"\nd=444444\n----\n</code></pre>\n\n<p>now read the man page for bash and your ksh version to learn how to do the same (or just use bash). The above uses GNU awk for FPAT.</p>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 0, "last_activity_date": 1495672183, "creation_date": 1495672183, "answer_id": 44170465, "question_id": 44169820, "link": "https://stackoverflow.com/questions/44169820/shell-reading-lines-with-variables-and-quoted-strings/44170465#44170465", "title": "Shell, reading lines with variables and quoted strings", "body": "<p>You can use a csv package. Perl, ruby, python all have solid programs.</p>\n\n<p>Here is a demo in Python:</p>\n\n<pre><code>python -c '\nimport sys\nimport csv\n\nfor line in csv.reader(sys.stdin, delimiter=\" \"):\n   print \"\\n\".join(line)' &lt;&lt;&lt;$(echo 'Field1a \"this is field 2\" 3 \"And field 4\"\nField1b \"2\" \"field three\" 444444')\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Field1a\nthis is field 2\n3\nAnd field 4\nField1b\n2\nfield three\n444444\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 0, "last_activity_date": 1495702203, "creation_date": 1495702203, "answer_id": 44176233, "question_id": 44169820, "link": "https://stackoverflow.com/questions/44169820/shell-reading-lines-with-variables-and-quoted-strings/44176233#44176233", "title": "Shell, reading lines with variables and quoted strings", "body": "<p>You tagged <code>perl</code> so a perl solution - use <code>Text::ParseWords</code>:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Text::ParseWords;\nuse Data::Dumper;\n\nwhile (my $line = &lt;DATA&gt; ) {\n  chomp $line; \n  my @fields = quotewords ( ' ', 0, $line );\n\n  print Dumper \\@fields;\n}\n\n__DATA__\nField1a \"this is field 2\" 3 \"And field 4\"\nField1b \"2\" \"field three\" 444444\n</code></pre>\n\n<p>Gives</p>\n\n<pre><code>$VAR1 = [\n          'Field1a',\n          'this is field 2',\n          '3',\n          'And field 4'\n        ];\n$VAR1 = [\n          'Field1b',\n          '2',\n          'field three',\n          '444444'\n        ];\n</code></pre>\n\n<p>And because perl does pithy:</p>\n\n<pre><code>my @stuff = map { chomp; [quotewords ( ' ', 0, $_ )] } &lt;&gt;;\nprint Dumper \\@stuff;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16325, "user_id": 3220113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a1c0b015f14adfdf581d04c065e903d?s=128&d=identicon&r=PG&f=1", "display_name": "Walter A", "link": "https://stackoverflow.com/users/3220113/walter-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1495741563, "creation_date": 1495741563, "answer_id": 44188680, "question_id": 44169820, "link": "https://stackoverflow.com/questions/44169820/shell-reading-lines-with-variables-and-quoted-strings/44188680#44188680", "title": "Shell, reading lines with variables and quoted strings", "body": "<p>How do you split the line on the fields?<br>\nA field starts without a quote until the first space (or end-of-line),<br>\nor<br>\nA field starts with a quote until the next quote (followed by space or end-of-line).  </p>\n\n<p>A field is matched with <code>[^\"]*( |$)</code> or with <code>\"[^\"]*\"( |$)</code>.  </p>\n\n<p>You can use <code>sed</code> for inserting fieldseperators, something unique like <code>\\r</code> (after dos2unix of a windows file).</p>\n\n<pre><code>while IFS=$'\\r' read -r a b c d e; do\n   echo \"a=$a\"\n   echo \"b=$b\"\n   echo \"c=$c\"\n   echo \"d=$d\"\n   if [ -n \"$e\" ]; then\n      echo \"input has more than 4 fields, ignoring $e\"\n   fi\ndone &lt; &lt;( sed -r 's/([^\"]*|\"[^\"]*\")( |$)/\\1\\r/g' inputfile)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8060396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06f9f0a7b6b91e7b8c3e7a034efb3a04?s=128&d=identicon&r=PG&f=1", "display_name": "Big-V", "link": "https://stackoverflow.com/users/8060396/big-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1495741563, "creation_date": 1495667071, "question_id": 44169820, "link": "https://stackoverflow.com/questions/44169820/shell-reading-lines-with-variables-and-quoted-strings", "title": "Shell, reading lines with variables and quoted strings", "body": "<p>I am trying to read variables from a file in ksh.<br>\nBut some are single words/numbers, others are strings in quotes<br>\nExample.</p>\n\n<pre><code>Field1a \"this is field 2\" 3 \"And field 4\"  \nField1b \"2\" \"field three\" 444444\n</code></pre>\n\n<p>I want to allocate variables.<br>\nPass 1.  </p>\n\n<pre><code>a=Field1a  \nb=\"this is field 2\"  \nc=3  \nd=\"And field 4\"\n</code></pre>\n\n<p>Pass 2  </p>\n\n<pre><code>a=Field1b   \nb=\"2\"  \nc=\"field three\"  \nd=444444  \n</code></pre>\n\n<p>How to do it?<br>\nAll attempts I have tried split on the space only, or on the \" only.<br>\nI need a smart mix of both.</p>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 4, "creation_date": 1495655854, "post_id": 44167138, "comment_id": 75350950, "body": "So you&#39;re going to execute stuff on the filesystem based on user input without thoroughly sanitizing/limiting the data? Hmm... interesting approach."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2096457"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1495656272, "post_id": 44167138, "comment_id": 75351169, "body": "@MattJacob I&#39;m learning CGI on a VM in a private network. I plan on learning how to limit data later. This isn&#39;t for any production system, just for my own education."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1495656794, "post_id": 44167138, "comment_id": 75351448, "body": "You&#39;d pass arguments to a script the same way you&#39;d pass arguments to any shell process. If you have a bunch of them, it might make more sense to pass a serialized representation (e.g., JSON) or use some kind of persistent storage (e.g., file, database)."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495659753, "post_id": 44167138, "comment_id": 75352825, "body": "If you know how to set up VMs and stuff, why bother with 20 year old CGI technology that is  outdated, complicated and very limited in what it can do? The CGI module has been removed from the Perl core and we have way better things available today, like refrigerators and chairs. I usually post a link to SawyerX&#39;s talk <i>CGI.pm must die</i>, but since I&#39;m on my phone I leave it up to you that find it on YouTube. It&#39;s educational and funny, and I highly recommend it."}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1495660102, "post_id": 44167138, "comment_id": 75352972, "body": "Honestly, &quot;I plan on learning how to limit data later.&quot; is an extremely bad approach. Learn to do things the right way the first time; most often when someone does things in the manner you&#39;re suggesting, they get things &#39;working&#39; and don&#39;t look back. I recommend learning proper techniques and skills from the ground up, not from top down. If you&#39;re doing this for education purposes, do it right."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 5, "creation_date": 1495661707, "post_id": 44167138, "comment_id": 75353684, "body": "@stevieb: I disagree. Did you really learn how to do <i>everything</i> properly, all at once? If so then you know much more than I do."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2096457"}, "reply_to_user": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1495663455, "post_id": 44167138, "comment_id": 75354309, "body": "@stevieb so, by that logic, if I want to learn programming, I must first learn everything there is to know without doing a single exercise or simple project?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2096457"}, "edited": false, "score": 0, "creation_date": 1495663516, "post_id": 44167138, "comment_id": 75354331, "body": "I guess I&#39;ll try not ask questions trying to learn something here anymore."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1495663606, "post_id": 44167138, "comment_id": 75354362, "body": "Common approach: Use CGI:Session to create a session. Store the &quot;variables&quot; in the session. Return the session id to the client in a cookie. The second script, being on the same domain, will receive the cookie."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495664661, "post_id": 44167138, "comment_id": 75354702, "body": "Actually, this is CGI, and that&#39;s really just a wrapper around a bunch of really ugly environment variables. I <i>think</i> your other script should inherit the environment as it&#39;s started in a subshell of the first one if you shell out to it. Thus, it should be possible to simply also <code>use CGI</code> there and load them all over again. I&#39;ve never tested this, and don&#39;t have the means to do so right now, but if I remember the theory correctly this should work. It&#39;s not the variables you&#39;ll pass along, but it will share the same parameters."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1495664879, "post_id": 44167138, "comment_id": 75354779, "body": "As to how we&#39;re reacting to this kind of question: most of us here are professional programmers that have been working with Perl for a long time. If someone asks a very specific question, we usually don&#39;t question the reason, but in your case there is a lot of back story that sounds like a bad approach. So we suggest alternatives and point out the flaws. That&#39;s meant to be encouraging to learn more, and do things in a safer or more modern way."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1495664919, "post_id": 44167138, "comment_id": 75354793, "body": "You do also ask for the <i>best way</i>, which invites opinion, and that&#39;s off-topic. Three ways were mentioned here already that would answer the question and I know at least two more. The <i>best way</i> imho is not to do this, though."}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 2, "last_activity_date": 1495708495, "last_edit_date": 1495708495, "creation_date": 1495705426, "answer_id": 44177284, "question_id": 44167138, "link": "https://stackoverflow.com/questions/44167138/how-can-i-pass-variables-from-one-cgi-script-to-another/44177284#44177284", "title": "How can I pass variables from one CGI script to another?", "body": "<p>Are you sure that install-app-pl.cgi is a CGI program? Are you sure that it's not just a Perl command-line program? I mean, I see how it's named, but it seems very strange to call a CGI program using <code>system()</code> like that.</p>\n\n<p>And the difference is crucial here. CGI programs access their parameters in a different way command-line programs.</p>\n\n<p>If it really is a CGI program, then you have a few options:</p>\n\n<ul>\n<li>Make an HTTP request to it (using something from the <a href=\"https://metacpan.org/release/libwww-perl\" rel=\"nofollow noreferrer\">LWP bundle of modules</a>).</li>\n<li>Use CGI.pm's debugging mechanism to call it the same way as you're currently calling it, but passing the CGI parameters like <code>foo=xxx&amp;bar=yyy&amp;baz=zzz</code> (see the <a href=\"https://metacpan.org/pod/distribution/CGI/lib/CGI.pod#DEBUGGING\" rel=\"nofollow noreferrer\">DEBUGGING section of the CGI.pm documentation</a> for details). This, of course, relies on the program using CGI.pm and it feels a bit hacky to me.</li>\n<li>Ask yourself if the program really needs to be a CGI program if you're calling from another program using <code>system()</code>. And then decide to rewrite it as a command-line program. If you want both a CGI version and a command-line version, then you could move most of the code to a module which could be used by two thin wrappers which just extract the parameters.</li>\n</ul>\n\n<p>A few other points about your code.</p>\n\n<ul>\n<li>Perl 5.6 (released in 2000) introduced a <code>use warnings</code> pragma. Most people now use that in place of <code>-w</code> on the shebang line.</li>\n<li>It seems weird to call the <code>header()</code> function before loading the CGI module that defines it. It works, because the <code>use</code> is handled at compile time, but it would be nice to re-order that code to make more sense.</li>\n<li>Similarly. most people would have <code>use strict</code> (and <code>use warnings</code>) as the very first things in their program. Immediately after the shebang line.</li>\n<li><code>system()</code> returns the return value from the process. If your second program produces useful output that you want displayed on the web page, you should use backticks instead.</li>\n<li>If all of your output is going to be in a <code>&lt;pre&gt;</code> element, why not just remove that element and return a content type of \"text/plain\" instead?</li>\n</ul>\n\n<p><strong>Update:</strong> And I'd be remiss if I didn't reiterate what many people have already said in comments on your original question - this sounds like a terrible idea.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2096457"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495708495, "creation_date": 1495654743, "last_edit_date": 1495661453, "question_id": 44167138, "link": "https://stackoverflow.com/questions/44167138/how-can-i-pass-variables-from-one-cgi-script-to-another", "title": "How can I pass variables from one CGI script to another?", "body": "<p>I have a CGI perl script called <code>install-app-pl.cgi</code>:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nprint header('text/html');\n\nuse strict;\nuse CGI ':standard';\n\n# Get me some vars\n\nmy @params = param();\n\nmy $APP_NAME          = param('app_name');\nmy $APP_WEB_PORT      = param('app_web_port');\nmy $APP_WEB_USER      = param('app_web_user');\nmy $APP_WEB_PASS      = param('app_web_pass');\nmy $DOWNLOAD_DIR      = param('download_dir');\nmy $CONFIG_DIR        = param('config_dir');\nmy $LIBRARY_DIR       = param('library_dir');\nmy $TEMP_DOWNLOAD_DIR = param('temp_download_dir');\n\n# Run another script\n\nif ( $APP_NAME ) {\n    print \"Installing $APP_NAME...\";\n    print \"&lt;pre&gt;\";\n    system (\"perl /var/www/mysite.local/public_html/lib/$APP_NAME/install-$APP_NAME.pl\");\n    print \"&lt;/pre&gt;\" ;\n}\nelse {\n    print \"No app specified, check the error log\";\n}\n</code></pre>\n\n<p>I'm trying to get it to pass the variables defined from the CGI parameters to <code>install-$APP_NAME.pl</code></p>\n\n<pre><code>#!/usr/bin/perl -w\n\nprint header('text/html');\n\nuse strict;\nuse CGI ':standard';\n\nrequire \"/var/www/mysite.local/public_html/cgi-bin/install-app-pl.cgi\"\n\n# Echo my vars\n\nprint \"$CONFIG_DIR $DOWNLOAD_DIR $LIBRARY_DIR $PGID $PUID $TZ $APP_WEB_PORT\";\n</code></pre>\n\n<p>But I'm not sure of the best way to pass those on.</p>\n"}, {"tags": ["perl", "foreach"], "answers": [{"tags": [], "owner": {"reputation": 349, "user_id": 5009301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X4woj.jpg?s=128&g=1", "display_name": "Weder Ribas", "link": "https://stackoverflow.com/users/5009301/weder-ribas"}, "is_accepted": false, "score": 1, "last_activity_date": 1495654793, "creation_date": 1495654793, "answer_id": 44167154, "question_id": 44167033, "link": "https://stackoverflow.com/questions/44167033/perl-error-when-trying-to-access-two-digit-number-in-array-within-foreach-loop/44167154#44167154", "title": "Perl - Error when trying to access two-digit number in array within foreach-loop", "body": "<p>In the Perl <code>foreach</code> you could access each element directly from the iteration variable, in your case it's <code>$i</code>.</p>\n\n<p>Try the following:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @array = (1, 2, 10);\n\nforeach my $i (@array) {\n    print $i.\"\\n\";\n}\n</code></pre>\n\n<p>Note the <code>.\"\\n\"</code> in the print function call. It's not needed, I've added that just to beautify the output.</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 6089280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dce29a421303c20b66eaacbb9ed37b2e?s=128&d=identicon&r=PG&f=1", "display_name": "Eirikurii", "link": "https://stackoverflow.com/users/6089280/eirikurii"}, "edited": false, "score": 1, "creation_date": 1495655289, "post_id": 44167157, "comment_id": 75350698, "body": "Thanks guys! My mistake was the wrong use of the foreach-loop - I&#39;ll have another look into this. Too bad I cant select more than one answer as the correct one."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1495667818, "post_id": 44167157, "comment_id": 75355626, "body": "or <code>for my $idx (keys @array)</code>"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 5, "last_activity_date": 1495654799, "creation_date": 1495654799, "answer_id": 44167157, "question_id": 44167033, "link": "https://stackoverflow.com/questions/44167033/perl-error-when-trying-to-access-two-digit-number-in-array-within-foreach-loop/44167157#44167157", "title": "Perl - Error when trying to access two-digit number in array within foreach-loop", "body": "<p>I'm not sure what you're trying to do, but this doesn't do what you think it does.</p>\n\n<pre><code>my @array = (1, 2, 10);\nforeach my $i (@array) {\n    print $array[$i-1];\n}\n</code></pre>\n\n<p><code>$i</code> is not an index like 0, 1, 2, 3... Instead <code>$i</code> is each element of <code>@array</code>: 1, 2, 10. So <code>$array[$i-1]</code> is <code>$array[0]</code>, <code>$array[1]</code>, <code>$array[9]</code>. <code>@array</code> has no ninth element.</p>\n\n<p>If you want to loop through each <em>index</em> of <code>@array</code>, loop like this:</p>\n\n<pre><code>for my $idx (0..$#array) {\n    # 0, 1, 2\n    print \"$idx\\n\";\n}\n</code></pre>\n\n<p>If you want to loop through each <em>element</em> of <code>@array</code>, loop like this:</p>\n\n<pre><code>for my $element (@array) {\n    # 1, 2, 10\n    print \"$element\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1495656582, "post_id": 44167264, "comment_id": 75351344, "body": "While this will work, the 3 arg for loop is typically avoided in Perl. It&#39;s slower, harder to read, and invites bugs. Only use it if iterating over an array or range doesn&#39;t work. <code>$num_elements</code> is unnecessary, <code>$i &lt; @array</code> is more straightforward."}, {"owner": {"reputation": 298, "user_id": 7994314, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lAry5T1ytg4/AAAAAAAAAAI/AAAAAAAAAAA/9bdsJACx_qA/photo.jpg?sz=128", "display_name": "Deathgrip", "link": "https://stackoverflow.com/users/7994314/deathgrip"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1495659156, "post_id": 44167264, "comment_id": 75352503, "body": "Merely meant to show another way to skin the cat. At the same time, an example of how to get the number of elements in the array."}], "tags": [], "owner": {"reputation": 298, "user_id": 7994314, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lAry5T1ytg4/AAAAAAAAAAI/AAAAAAAAAAA/9bdsJACx_qA/photo.jpg?sz=128", "display_name": "Deathgrip", "link": "https://stackoverflow.com/users/7994314/deathgrip"}, "is_accepted": false, "score": 1, "last_activity_date": 1495655235, "creation_date": 1495655235, "answer_id": 44167264, "question_id": 44167033, "link": "https://stackoverflow.com/questions/44167033/perl-error-when-trying-to-access-two-digit-number-in-array-within-foreach-loop/44167264#44167264", "title": "Perl - Error when trying to access two-digit number in array within foreach-loop", "body": "<p>Both previous answers are good. I'll just add another slight variation to the mix.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @array = (6, 1, 2, 10);\nmy $numelements = @array;\n\nfor (my $i=0; $i &lt; $numelements; $i++) {\n    print \"$array[$i]\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 1, "creation_date": 1495659830, "post_id": 44167870, "comment_id": 75352861, "body": "Note that <code>foreach my $index (0 .. $#array)</code> does not build a list, that could consume a lot of memory if <code>@array</code> is large. Instead it iterates through each value of that range, so it&#39;s quite memory efficient. I believe only <code>foreach</code> has this optimization of the range operator; <code>@a = (1..5)</code> still builds a list."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1495659950, "post_id": 44167870, "comment_id": 75352919, "body": "@Schwern Ah!  Nice, didn&#39;t know that. Edited, thank you :)."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 2, "last_activity_date": 1495736429, "last_edit_date": 1495736429, "creation_date": 1495657527, "answer_id": 44167870, "question_id": 44167033, "link": "https://stackoverflow.com/questions/44167033/perl-error-when-trying-to-access-two-digit-number-in-array-within-foreach-loop/44167870#44167870", "title": "Perl - Error when trying to access two-digit number in array within foreach-loop", "body": "<p>While you work with a book I'd like to suggest to also use the excellent <a href=\"http://perldoc.perl.org/\" rel=\"nofollow noreferrer\">Perl documentation</a>. Here are some examples in the context of an answer.  While at it I'll also suggest a few other niceties.</p>\n\n<p>From <a href=\"http://perldoc.perl.org/perlsyn.html#Foreach-Loops\" rel=\"nofollow noreferrer\">Foreach loops (perlsyn page)</a></p>\n\n<blockquote>\n  <p>The foreach loop iterates over a normal list value and sets the scalar variable VAR to be each element of the list in turn. </p>\n</blockquote>\n\n<p>Thus it picks each <em>element</em> from an array</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy @words = qw(one two three);\n\nforeach my $word (@words) {\n    say $word;\n}\n</code></pre>\n\n<p>The <a href=\"http://perldoc.perl.org/functions/say.html\" rel=\"nofollow noreferrer\">say</a> builtin is like <code>print</code> but adds the newline, see <a href=\"http://perldoc.perl.org/feature.html\" rel=\"nofollow noreferrer\">feature pragma</a>. The <a href=\"http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators\" rel=\"nofollow noreferrer\"><code>qw</code> operator</a> builds a list of \"words\" (separated by spaces) which  is assigned to array <code>@words</code>. It is often very convienent.</p>\n\n<p>If you only want to print an array, the <a href=\"http://perldoc.perl.org/perlsyn.html#Statement-Modifiers\" rel=\"nofollow noreferrer\">statement modifiers (perlsyn)</a> are handy</p>\n\n<pre><code>say for @array;\n</code></pre>\n\n<p>This also makes use of the <a href=\"http://perldoc.perl.org/perlvar.html#General-Variables\" rel=\"nofollow noreferrer\"><code>$_</code> variable</a>, which is a default for many things in Perl. So the above is same as <code>say $_ for @array</code>.</p>\n\n<p>If you'd rather iterate over array <em>indices</em> that can be done nicely using the <a href=\"http://perldoc.perl.org/perlop.html#Range-Operators\" rel=\"nofollow noreferrer\">range operator</a></p>\n\n<pre><code>foreach my $index (0 .. $#array) {\n    say \"$array[$index] at index $index\";\n}\n</code></pre>\n\n<p>where <code>$#array</code> is a bit special notation for the subscript (index) of the last element of <code>@array</code>. Find it under <a href=\"http://perldoc.perl.org/perldata.html#Scalar-values\" rel=\"nofollow noreferrer\">Scalar values in perldata</a>. When range is used in <code>foreach</code> loops there is <em>no</em> temporary array built, so it is memory efficient. While it can also be used to make an array, <code>my @nums = 1..10;</code></p>\n\n<hr>\n\n<p>The code in the question iterates over elements but then uses them to index into the array.  So it does <code>print $array[ $element ]</code>. This runs without trouble only accidentally when the elements happen to be numbers, and which happen to be valid indices for that particular array. </p>\n"}, {"tags": [], "owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "is_accepted": false, "score": 1, "last_activity_date": 1495666080, "creation_date": 1495666080, "answer_id": 44169697, "question_id": 44167033, "link": "https://stackoverflow.com/questions/44167033/perl-error-when-trying-to-access-two-digit-number-in-array-within-foreach-loop/44169697#44169697", "title": "Perl - Error when trying to access two-digit number in array within foreach-loop", "body": "<p>I'd like to mention the <code>each</code> function. You might now think that you have to choose between iterating over the index of the array and the values of the array:</p>\n\n<p><strong>Iterating over the index:</strong></p>\n\n<pre><code>foreach my $index (0 .. $#array) {\n    print \"$index\\n\"; # 0, 1, 2\n}\n</code></pre>\n\n<p><strong>Iterating over the values:</strong></p>\n\n<pre><code>foreach my $value (@array) {\n    print \"$value\\n\"; # 1, 2, 10\n}\n</code></pre>\n\n<p>But you can have <strong>both at the same time</strong> if you have at least Perl 5.12. Use the <a href=\"https://perldoc.perl.org/functions/each.html\" rel=\"nofollow noreferrer\">each</a> function:</p>\n\n<pre><code>while (my ($index, $value) = each @array) {\n    print \"index=$index, value=$value\\n\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>index=0, value=1\nindex=1, value=2\nindex=2, value=10\n</code></pre>\n\n<p>This can be useful if you want to iterate over an array and want to examine the previous or next element, for example.</p>\n"}], "owner": {"reputation": 33, "user_id": 6089280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dce29a421303c20b66eaacbb9ed37b2e?s=128&d=identicon&r=PG&f=1", "display_name": "Eirikurii", "link": "https://stackoverflow.com/users/6089280/eirikurii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 44167157, "answer_count": 5, "score": 0, "last_activity_date": 1495736429, "creation_date": 1495654298, "question_id": 44167033, "link": "https://stackoverflow.com/questions/44167033/perl-error-when-trying-to-access-two-digit-number-in-array-within-foreach-loop", "title": "Perl - Error when trying to access two-digit number in array within foreach-loop", "body": "<p>I just started learning Perl and stumbled across an error that I couldnt solve by googling or reading the book I'm learning with.</p>\n\n<p>My code looks like this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nmy @array = (1, 2, 10);\n\nforeach my $i (@array) {\n    print $array[$i-1];\n}\n</code></pre>\n\n<p>This works well if I have an array consisting only of single-digit numbers. As soon as the foreach-loop reaches a double-digit number (10 in this case), I get a warning saying <em>\"Use of uninitialized value in ...\"</em> and the loop stops. The same happens if I try to do anything with the numbers (addition etc.), it works well with single-digits, but stops at double-digits.</p>\n\n<p>I'm now having trouble understanding what's happening here - I guess it has anything to do with the way that Perl stores the elements of the array, but I can't find anything and don't really know what to search for.</p>\n\n<p>Can anyone point me in the right direction?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495648667, "post_id": 44164755, "comment_id": 75347351, "body": "@toolic: <code>$a</code> and <code>$b</code> are reserved for precisely this sort of use, but this will misbehave in the same way with any pair of variables that you nominate. <code>$a</code> and <code>$b</code> are reserved only so that any called subroutines or asynchronous activity that calls <code>sort</code> or <code>List::Util::reduce</code> or similar won&#39;t affect the main code."}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 5145211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hCe6S.jpg?s=128&g=1", "display_name": "Lilith", "link": "https://stackoverflow.com/users/5145211/lilith"}, "edited": false, "score": 0, "creation_date": 1495647270, "post_id": 44165091, "comment_id": 75346620, "body": "Doesn&#39;t this leave <code>$a</code> and <code>$b</code> in the caller&#39;s namespace, though?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "reply_to_user": {"reputation": 187, "user_id": 5145211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hCe6S.jpg?s=128&g=1", "display_name": "Lilith", "link": "https://stackoverflow.com/users/5145211/lilith"}, "edited": false, "score": 0, "creation_date": 1495647550, "post_id": 44165091, "comment_id": 75346748, "body": "Yes, and when you call <code>$code-&gt;()</code> (in OP) or <code>$f-&gt;()</code> (in this answer), it executes the code in the calling namespace."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495647869, "post_id": 44165091, "comment_id": 75346909, "body": "We need <code>no strict &#39;refs&#39;</code> for <code>&quot;${pkg}::a</code>, yes?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1495647945, "post_id": 44165091, "comment_id": 75346953, "body": "Yes. The rest of the code I linked to starts with <code>use strict &#39;vars&#39;,&#39;subs&#39;</code>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495648005, "post_id": 44165091, "comment_id": 75346980, "body": "Ah, I see.  But your posted code (w/o <code>...</code>) works with just that added -- why not add it?  I&#39;m not complaining -- this is great :)  I just learned how to do it, thank you :)"}, {"owner": {"reputation": 187, "user_id": 5145211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hCe6S.jpg?s=128&g=1", "display_name": "Lilith", "link": "https://stackoverflow.com/users/5145211/lilith"}, "edited": false, "score": 1, "creation_date": 1495648375, "post_id": 44165091, "comment_id": 75347196, "body": "I meant, doesn&#39;t that leave <code>$a</code> and <code>$b</code> in the caller&#39;s namespace after the call to <code>reduce</code> is finished? Or is that what the <code>local</code>s are for?"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1495648593, "post_id": 44165091, "comment_id": 75347303, "body": "Yes, with <code>local</code>, the <code>$a</code> and <code>$b</code> vars in the calling package are restored when the <code>reduce</code> function is finished."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495649139, "post_id": 44165091, "comment_id": 75347632, "body": "@mob: That is what <code>CORE::sort</code> does. Code like <code>dd [$a, $b ]; dd [ sort reverse &#39;a&#39; .. &#39;z&#39; ]; dd [$a, $b ];</code> produces <code>[undef, undef] [&quot;a&quot; .. &quot;z&quot;] [undef, undef]</code>."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1495648137, "last_edit_date": 1495648137, "creation_date": 1495647023, "answer_id": 44165091, "question_id": 44164755, "link": "https://stackoverflow.com/questions/44164755/how-to-localize-two-variables-for-a-subsequent-call-to-a-predefined-subroutine/44165091#44165091", "title": "How to localize two variables for a subsequent call to a predefined subroutine?", "body": "<p>Have a look at <a href=\"https://metacpan.org/source/PERLANCAR/PERLANCAR-List-Util-PP-0.04/lib/PERLANCAR/List/Util/PP.pm#L236\" rel=\"nofollow noreferrer\">another pure perl reduce implementation</a>. The key insight is that <code>$a</code> and <code>$b</code> in the sub you pass to <code>reduce</code> are global variables in the calling package namespace, and inside the <code>reduce</code> implementation you perform a little symbol table wizardry to obtain them. I have changed the lexical variable names here (to <code>$aa</code> and <code>$bb</code>) to distinguish them from <code>$a</code> and <code>$b</code> in the caller:</p>\n\n<pre><code>sub reduce (&amp;@) {\n  my $f = shift;\n  ...\n  my $pkg = caller;\n  my $aa = shift;               # first element in list (after function spec)\n\n  no strict 'refs';\n  # makes '$a' in calling package an alias for local '$aa'\n  local *{\"${pkg}::a\"} = \\$aa;\n\n  # $glob_b is a reference to stash for `b` in calling package   \n  my $glob_b = \\*{\"${pkg}::b\"};\n\n  foreach my $bb (@_) {\n    # $glob_b is reference to stash for caller's 'b'\n    # *$glob_b is the stash for caller's 'b'\n    # assigning scalar reference to *$glob_b updates '$b' in calling pkg\n    local *$glob_b = \\$bb;\n\n    # $aa is aliased to caller's $a, so $a is updated within this loop\n    $aa = $f-&gt;();\n  }\n  $aa;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1495648472, "post_id": 44165370, "comment_id": 75347241, "body": "Your <code>my_reduce</code> is setting <code>$a</code> and <code>$b</code> in the main package, and it won&#39;t work if you call it from a different package. e.g., add <code>package NotMain; say main::my_reduce(sub{$a.$b},&#39;a&#39;..&#39;z&#39;);</code> to the end of your script."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1495648593, "post_id": 44165370, "comment_id": 75347304, "body": "@mob: Yeah I just wrote about that. But it&#39;s the same scenario as the OP&#39;s code."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1495648561, "last_edit_date": 1495648561, "creation_date": 1495648129, "answer_id": 44165370, "question_id": 44164755, "link": "https://stackoverflow.com/questions/44164755/how-to-localize-two-variables-for-a-subsequent-call-to-a-predefined-subroutine/44165370#44165370", "title": "How to localize two variables for a subsequent call to a predefined subroutine?", "body": "<p>It's best not to guess about how to pass values. If you really have no idea what to do after reading the documentation then messing with <code>my</code> and <code>local</code> will just get you more confused. Both of those ideas will make sure that those variables are discarded at the end of the current block of code, but because <code>local</code> works with <em>package variables</em>, any call to the passed subroutine reference will be able to see those temporary values</p>\n\n<p>You don't define a real purpose for calling <code>reduce</code> so I have written something which just concatenates all of the values in the list and returns the result. Please always provide something that we can test and fix</p>\n\n<p>Here's a working <code>my_reduce</code>. Note that the real <code>reduce</code> must examine the namespace of the calling code and modify <code>$a</code> and <code>$b</code> in <em>that</em> package. Here, I've simply put <code>my_reduce</code> in the same package as the calling code</p>\n\n<p>I have also used <code>List::Util::reduce</code> in parallel to make sure that the two results agree</p>\n\n<pre><code>use strict;\nuse warnings 'all';\nuse feature 'say';\n\nuse List::Util ();\n\nmy $DEBUG = 1;\n\nsub my_reduce(&amp;@);\n\nmy @abc = 'a' .. 'z';\n\nsay List::Util::reduce(\n    sub { $a . $b },\n    @abc\n);\n\nsay my_reduce(\n    sub { $a . $b },\n    @abc\n);\n\nsub my_reduce(&amp;@) {\n    my $code = shift;\n\n    if ( @_ == 0 ) {\n        print \"No items passed to reduce, returning undef\\n\" if $DEBUG;\n        return undef;\n    }\n    elsif ( @_ == 1 ) {\n        print \"One item passed to reduce, returning it.\\n\" if $DEBUG;\n        return shift;\n    }\n    else {\n        while ( @_ &gt; 1 ) {\n            local ($a, $b) = splice @_, 0, 2;\n            unshift @_, $code-&gt;();\n        }\n        return shift;\n    }\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>abcdefghijklmnopqrstuvwxyz\nabcdefghijklmnopqrstuvwxyz\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 5145211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hCe6S.jpg?s=128&g=1", "display_name": "Lilith", "link": "https://stackoverflow.com/users/5145211/lilith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 44165091, "answer_count": 2, "score": 0, "last_activity_date": 1495648561, "creation_date": 1495645844, "last_edit_date": 1495646830, "question_id": 44164755, "link": "https://stackoverflow.com/questions/44164755/how-to-localize-two-variables-for-a-subsequent-call-to-a-predefined-subroutine", "title": "How to localize two variables for a subsequent call to a predefined subroutine?", "body": "<p></p>\n\n<p>I'm trying to emulate the <code>reduce</code> function from <code>List::Util</code>.</p>\n\n<p>The problem I'm having is that the subroutine reference passed to my <code>reducer</code>\nis unable to access the lexical <code>$a</code> and <code>$b</code> variables.</p>\n\n<p>I've tried declaring them\nin the <code>reduce</code> subroutine with both <code>my</code> and <code>local</code>, but neither worked.</p>\n\n<p>My current subroutine is this, with (for testing) <code>our $DEBUG = 1;</code>\nat the top of the file:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub reduce(&amp;@) {\n    my $code = shift;\n\n    if ( @_ == 0 ) {\n        print \"No items passed to reduce, returning undef\\n\" if $DEBUG;\n        return undef;\n    }\n\n    if ( @_ == 1 ) {\n        print \"One item passed to reduce, returning it\\n\" if $DEBUG;\n        return shift;\n    }\n\n    my $a = shift;    # Also tried \"local $a = shift;\"\n    my $b = shift;    # Also tried \"local $b = shift;\"\n\n    print \"Starting reduction loop with a = [$a] and b = [$b]\\n\" if $DEBUG;\n\n    while ( @_ ) {\n        $a = $code-&gt;();\n        $b = shift;\n        print \"- Reductive iteration ended with a = [$a] and b = [$b]\\n\" if $DEBUG;\n    }\n\n    my $val = &amp;{$code};\n\n    print \"- Finished reductive loop with value [$val]\\n\" if $DEBUG;\n\n    return $val;\n}\n</code></pre>\n\n<p>And I'm calling it as</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>print \"\" . (reduce { print \"-- $a + $b\\n\"; $a + $b; } 1..10) . \"\\n\";\n</code></pre>\n\n<p>My output is this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Starting reduction loop with a = [0] and b = [1]\n--  + \n- Reductive iteration ended with a = [0] and b = [2]\n--  + \n- Reductive iteration ended with a = [0] and b = [3]\n--  + \n- Reductive iteration ended with a = [0] and b = [4]\n--  + \n- Reductive iteration ended with a = [0] and b = [5]\n--  + \n- Reductive iteration ended with a = [0] and b = [6]\n--  + \n- Reductive iteration ended with a = [0] and b = [7]\n--  + \n- Reductive iteration ended with a = [0] and b = [8]\n--  + \n- Reductive iteration ended with a = [0] and b = [9]\n--  + \n- Reductive iteration ended with a = [0] and b = [10]\n--  + \n- Finished reductive loop with value [0]\n0\n</code></pre>\n\n<p>How do I get the subroutine reference passed to <code>reduce</code> to see <code>$a</code> and <code>$b</code>?</p>\n"}, {"tags": ["python", "perl", "file", "gaussian"], "comments": [{"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 1, "creation_date": 1495645142, "post_id": 44164464, "comment_id": 75345426, "body": "Have you tried <code>perl thermo.pl *log</code>?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495650646, "post_id": 44164464, "comment_id": 75348446, "body": "I know it all looks easy, but if you can&#39;t write software then you should be paying someone who can to fix your problem. You shouldn&#39;t hope for a free solution on Stack Overflow. How would you deal with a request for a free solution to a chemistry problem?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495650800, "post_id": 44164464, "comment_id": 75348527, "body": "I have added to your question a hyperlink to &quot;the NIST site&quot;, which is the only clue you gave, but we need to see the contents of <code>thermo.pl</code> before we can even begin to help you. If you show that code (or link to it properly) then maybe you will find someone willing to offer their services for free."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1495650912, "post_id": 44164464, "comment_id": 75348590, "body": "@AKHolland: From the OP&#39;s description it sounds like <code>thermo.pl</code> appends to a file with a hard-coded name. You have no reason to believe that it can accept multiple file names on the command line."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495651021, "post_id": 44164464, "comment_id": 75348643, "body": "<i>&quot;The script automatically makes a <code>.dat</code> file&quot;</i> What is that file called?"}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 1, "creation_date": 1495652514, "post_id": 44164464, "comment_id": 75349344, "body": "Welcome to StackOverflow.   Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>,   learn asking good questions stackoverflow.com/help/how-to-ask,   make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.   An MCVE should include a variety of sample input (illustrating all aspects) and desired output."}, {"owner": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495652702, "post_id": 44164464, "comment_id": 75349419, "body": "@Borodin I agree, it&#39;s hard to make any conclusions based on the information provided, so I wouldn&#39;t post it as an answer. It seems like something that had a chance at resolving the issue, and would be easy to try."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 4191, "user_id": 1466640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0630f2d5ac5fb844675c58d3d2dfa57?s=128&d=identicon&r=PG&f=1", "display_name": "AKHolland", "link": "https://stackoverflow.com/users/1466640/akholland"}, "edited": false, "score": 0, "creation_date": 1495657704, "post_id": 44164464, "comment_id": 75351874, "body": "@AKHolland: No one would try things at random if they could see the contents of <code>thermo.pl</code>"}, {"owner": {"reputation": 1, "user_id": 8060820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X0hpcQJC2vg/AAAAAAAAAAI/AAAAAAAADzk/reuDpR1gDy8/photo.jpg?sz=128", "display_name": "Heath Watts", "link": "https://stackoverflow.com/users/8060820/heath-watts"}, "edited": false, "score": 0, "creation_date": 1495736936, "post_id": 44164464, "comment_id": 75388681, "body": "Thank you all for your help. The link to the python script is here: <a href=\"https://www.nist.gov/mml/csd/informatics_research/thermochemistry_script\" rel=\"nofollow noreferrer\">nist.gov/mml/csd/informatics_research/thermochemistry_script</a>  I tried the method of Borodin and Kosh, but the script continues to make a single file called thermo.dat that overwrites each subsequent .dat file.  I&#39;m sorry if I&#39;ve violated protocol by asking for free assistance. I was hoping that my problem would need a simple solution. I was under the impression that this is a collegial group similar to the computational chemistry sites that I frequent. There, if I know the answer, I offer my solution for free."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8060820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X0hpcQJC2vg/AAAAAAAAAAI/AAAAAAAADzk/reuDpR1gDy8/photo.jpg?sz=128", "display_name": "Heath Watts", "link": "https://stackoverflow.com/users/8060820/heath-watts"}, "edited": false, "score": 0, "creation_date": 1495736059, "post_id": 44169066, "comment_id": 75388138, "body": "Thank you all for your help. I&#39;m sorry that I did not include the code for thermo.pl. Here it is:"}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "reply_to_user": {"reputation": 1, "user_id": 8060820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X0hpcQJC2vg/AAAAAAAAAAI/AAAAAAAADzk/reuDpR1gDy8/photo.jpg?sz=128", "display_name": "Heath Watts", "link": "https://stackoverflow.com/users/8060820/heath-watts"}, "edited": false, "score": 0, "creation_date": 1495770584, "post_id": 44169066, "comment_id": 75400175, "body": "Heath Watts, did you changed &lt;result_file.dat&gt; in my example to &lt;thermo.dat&gt; before run it? It should be like this: ---      <code>for i in `ls *log`; do perl thermo.pl $i &amp;&amp; mv thermo.dat $i.dat; done</code>  ---   What result did you get?"}], "tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1495770604, "last_edit_date": 1495770604, "creation_date": 1495662710, "answer_id": 44169066, "question_id": 44164464, "link": "https://stackoverflow.com/questions/44164464/use-a-perl-script-to-make-files-same-extension-filename/44169066#44169066", "title": "use a perl script to make files same extension filename", "body": "<p>Looks like it is not a Perl question.</p>\n\n<p>Might you try something like this:</p>\n\n<p>(change result_file.dat to the actual .dat filename which your perl script makes)</p>\n\n<pre><code>for i in `ls *log`; do perl thermo.pl $i &amp;&amp; mv result_file.dat $i.dat; done\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8060820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X0hpcQJC2vg/AAAAAAAAAAI/AAAAAAAADzk/reuDpR1gDy8/photo.jpg?sz=128", "display_name": "Heath Watts", "link": "https://stackoverflow.com/users/8060820/heath-watts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1495770604, "creation_date": 1495644966, "last_edit_date": 1495650487, "question_id": 44164464, "link": "https://stackoverflow.com/questions/44164464/use-a-perl-script-to-make-files-same-extension-filename", "title": "use a perl script to make files same extension filename", "body": "<p>I have a Python script that extracts a set of numbers from a chemistry program log file and sorts them in ascending order.</p>\n\n<p>How can I use Perl to make the script read more than one file and make a <code>.dat</code> file for each <code>.log</code> file?</p>\n\n<p>The script automatically makes a <code>.dat</code> file, but if I use it on more than one <code>.log</code> file, it overwrites each <code>.dat</code> file and makes just one <code>.dat</code> file.</p>\n\n<p>This is what I'm typing at the prompt:</p>\n\n<pre><code>for i in `ls *log`; do perl thermo.pl $i; done\n</code></pre>\n\n<p>I'm guessing that something inside the script is telling it to only process one file at a time.</p>\n\n<p>I did not write the script; it is from the <a href=\"https://www.nist.gov/\" rel=\"nofollow noreferrer\">NIST site</a>.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8060151"}, "edited": false, "score": 0, "creation_date": 1495645221, "post_id": 44164411, "comment_id": 75345477, "body": "Why I need anorher file ?"}], "tags": [], "owner": {"reputation": 1672, "user_id": 194933, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e55ea0a473a7d94c5a653ff3175ec6c9?s=128&d=identicon&r=PG", "display_name": "Eric McNeill", "link": "https://stackoverflow.com/users/194933/eric-mcneill"}, "is_accepted": false, "score": 1, "last_activity_date": 1495644806, "creation_date": 1495644806, "answer_id": 44164411, "question_id": 44164314, "link": "https://stackoverflow.com/questions/44164314/how-do-i-update-a-line-in-a-file-using-perl/44164411#44164411", "title": "How do I update a line in a file using Perl?", "body": "<p>Open a second file for output, print to that one. Or print to the screen instead of another file, and when you run your script pipe the output into a file.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8060151"}, "edited": false, "score": 0, "creation_date": 1495648948, "post_id": 44164543, "comment_id": 75347521, "body": "I will run this script from perl file: file.pl. is it ok ?"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1495652845, "post_id": 44164543, "comment_id": 75349496, "body": "I would not recommend that. Don&#39;t run perl within perl. Within a script, it isn&#39;t easy for a newcomer to Perl to read and write to the same file, so you need to open another file for writing while you read the original, and then copy the new file over the old one when done."}], "tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 2, "last_activity_date": 1495645225, "creation_date": 1495645225, "answer_id": 44164543, "question_id": 44164314, "link": "https://stackoverflow.com/questions/44164314/how-do-i-update-a-line-in-a-file-using-perl/44164543#44164543", "title": "How do I update a line in a file using Perl?", "body": "<p>For simple file update tasks, you can use a Perl \"one-liner\":</p>\n\n<pre><code>perl -i -pe 's/dog/cat/g' dogcat.txt\n</code></pre>\n\n<p>The <code>-i</code> says to update the file you're working on (you can add an extension to it if you want to write to a new file. For example, <code>-i.bak</code> will write to a file named <code>dogcat.txt.bak</code>).</p>\n\n<p>The <code>-p</code> says iterate over each line, and print it out (with <code>-i</code>, print back to the file).</p>\n\n<p><code>-e</code> executes whatever is between the quotes on each line in the file.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8060151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1495645225, "creation_date": 1495644516, "last_edit_date": 1495644840, "question_id": 44164314, "link": "https://stackoverflow.com/questions/44164314/how-do-i-update-a-line-in-a-file-using-perl", "title": "How do I update a line in a file using Perl?", "body": "<p>I need update specific line in file.</p>\n\n<p>I use regular expression. Finally, I run over next line.\nThe file <code>dog2cat</code> contains:</p>\n\n<pre><code>This example\nThe dog is drinking.\nIt is drinking milk.\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>open(FILE,\"+&lt;dog2cat\");\nwhile(&lt;FILE&gt;)\n{\n  my $line=$_;\n  if($line =~ /dog/)\n  {\n    $line =~ s/dog/cat/;\n    print FILE $line; \n  }\n}\nclose FILE;\n</code></pre>\n\n<p>Finally the file contain</p>\n\n<pre><code>This example\nThe dog is drinking.\nThe cat is drinking.\n</code></pre>\n\n<p>I want to get</p>\n\n<pre><code>This example\nThe cat is drinking.\nIt is drinking milk.\n</code></pre>\n"}, {"tags": ["regex", "perl", "replace"], "answers": [{"comments": [{"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1495642627, "post_id": 44163686, "comment_id": 75343928, "body": "thanks. That worked. Can you explain what was happening?"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 1, "creation_date": 1495643289, "post_id": 44163686, "comment_id": 75344354, "body": "<code>$</code> doesn&#39;t consume the &quot;end of string&quot;, it&#39;s merely an assertion (it asserts that &quot;the end of the string is here&quot;). So with <code>&#47;?</code>, your regex matches at two positions: first it matches the <code>&#47;</code> followed by the end of line, and then if matches <i>nothing</i> followed by the end of line. Is that clear?"}, {"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1495643402, "post_id": 44163686, "comment_id": 75344414, "body": "Sort of, but why does that not result in an infinite loop?"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 1, "creation_date": 1495643531, "post_id": 44163686, "comment_id": 75344495, "body": "Because the regex can&#39;t match twice at the same position: it matches once before the <code>&#47;</code> and once after. Hence the two <code>&#47;new</code>"}, {"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1495643682, "post_id": 44163686, "comment_id": 75344599, "body": "ok I think I get it now: the regex iterates over the original string one character at a time. if it finds a match, it replaces the text, then continues in the original string from the next character after the replaced text. That right?"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 1, "creation_date": 1495643812, "post_id": 44163686, "comment_id": 75344671, "body": "Yep, that&#39;s the general idea."}], "tags": [], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "is_accepted": true, "score": 1, "last_activity_date": 1495642722, "last_edit_date": 1495642722, "creation_date": 1495642590, "answer_id": 44163686, "question_id": 44163594, "link": "https://stackoverflow.com/questions/44163594/perl-add-to-a-path-using-substitution/44163686#44163686", "title": "perl: add to a path using substitution", "body": "<p>Drop the <code>/g</code> modifier:</p>\n\n<pre><code>$path =~ s/\\/?$/\\/new/\n</code></pre>\n\n<p>works fine.<br>\nYou only want to modify add one \"new\" at the end, so having a <code>/g</code> modifier makes no sense.</p>\n\n<hr>\n\n<p>Also, note that you can use different delimiters for your regex:</p>\n\n<pre><code>$path =~ s{ /? $}{/new}x;\n</code></pre>\n\n<p>is a little bit clearer.</p>\n"}, {"comments": [{"owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1495642893, "post_id": 44163719, "comment_id": 75344114, "body": "<code>After the first replacement, the regex engine has &#39;left&#39; the &quot;end of line&quot; marker, and doesn&#39;t need to match the optional &#47;</code>. I don&#39;t follow. If it continues to match after the replace, why does this not result in an infinite loop?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "reply_to_user": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "edited": false, "score": 0, "creation_date": 1495643168, "post_id": 44163719, "comment_id": 75344278, "body": "If you run the above, you&#39;ll see what the regex is doing. It&#39;s because <code>$</code> is zero width, as is an empty string (<code>\\&#47;?</code>). So once it does the first replace - the regex tries again, from the same start location - it has already &#39;consumed&#39; the <code>&#47;</code> by the previous match, but it doesn&#39;t need it in order to match just <code>$</code>."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1495643683, "last_edit_date": 1495643683, "creation_date": 1495642703, "answer_id": 44163719, "question_id": 44163594, "link": "https://stackoverflow.com/questions/44163594/perl-add-to-a-path-using-substitution/44163719#44163719", "title": "perl: add to a path using substitution", "body": "<p>Because <code>/g</code> is 'global' and will match multiple times:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\n#turn on debugging\nuse re 'debug';\n\nmy $path = '/path/to/dir/';\n$path =~ s/\\/?$/\\/new/g;\n\nprint $path;\n</code></pre>\n\n<p>After the first replacement, the regex engine has 'left' the \"end of line\" marker, and doesn't need to match the optional <code>/</code>. So matches a second time. </p>\n\n<p>E.g.: </p>\n\n<pre><code>Compiling REx \"/?$\"\nFinal program:\n   1: CURLY {0,1} (5)\n   3:   EXACT &lt;/&gt; (0)\n   5: SEOL (6)\n   6: END (0)\nfloating \"\"$ at 0..1 (checking floating) minlen 0 \nMatching REx \"/?$\" against \"/path/to/dir/\"\nIntuit: trying to determine minimum start position...\n  doing 'check' fbm scan, [0..13] gave 13\n  Found floating substr \"\"$ at offset 13 (rx_origin now 12)...\n  (multiline anchor test skipped)\n  try at offset...\nIntuit: Successfully guessed: match at offset 12\n  12 &lt;path/to/dir&gt; &lt;/&gt;       |  1:CURLY {0,1}(5)\n                                  EXACT &lt;/&gt; can match 1 times out of 1...\n  13 &lt;path/to/dir/&gt; &lt;&gt;       |  5:  SEOL(6)\n  13 &lt;path/to/dir/&gt; &lt;&gt;       |  6:  END(0)\nMatch successful!\nMatching REx \"/?$\" against \"\"\nIntuit: trying to determine minimum start position...\n  doing 'check' fbm scan, [13..13] gave 13\n  Found floating substr \"\"$ at offset 13 (rx_origin now 13)...\n  (multiline anchor test skipped)\nIntuit: Successfully guessed: match at offset 13\n  13 &lt;path/to/dir/&gt; &lt;&gt;       |  1:CURLY {0,1}(5)\n                                  EXACT &lt;/&gt; can match 0 times out of 1...\n  13 &lt;path/to/dir/&gt; &lt;&gt;       |  5:  SEOL(6)\n  13 &lt;path/to/dir/&gt; &lt;&gt;       |  6:  END(0)\nMatch successful!\nMatching REx \"/?$\" against \"\"\nIntuit: trying to determine minimum start position...\n  doing 'check' fbm scan, [13..13] gave 13\n  Found floating substr \"\"$ at offset 13 (rx_origin now 13)...\n  (multiline anchor test skipped)\nIntuit: Successfully guessed: match at offset 13\n  13 &lt;path/to/dir/&gt; &lt;&gt;       |  1:CURLY {0,1}(5)\n                                  EXACT &lt;/&gt; can match 0 times out of 1...\n  13 &lt;path/to/dir/&gt; &lt;&gt;       |  5:  SEOL(6)\n  13 &lt;path/to/dir/&gt; &lt;&gt;       |  6:  END(0)\n</code></pre>\n\n<p>This is because <code>$</code> is a zero width position anchor. And so is <code>\\/?</code> if there's no matches. Once the pattern has been consumed all the way up to the trailing <code>/</code> and replaced.. then the regex engine continues (because you told it to with <code>/g</code>) and find just <code>$</code> left, because that's still the end of line. And that's still a valid match to replace. </p>\n\n<p>But why not instead use <a href=\"http://perldoc.perl.org/File/Spec.html\" rel=\"nofollow noreferrer\"><code>File::Spec</code></a>:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse File::Spec;\nuse Data::Dumper;\n\nmy $path = '/path/to/dir/';\n\nmy @dirs = File::Spec-&gt;splitdir($path);\n\nprint Dumper \\@dirs;\n\n$path = File::Spec-&gt;catdir(@dirs, \"new\" );\nprint $path;\n</code></pre>\n\n<p>This provides you with a platform independent way to split and join path elements, and doesn't rely on regex matching - which there's various ways it could break (such as the one you found). </p>\n"}], "owner": {"reputation": 17081, "user_id": 702948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/67e6e5d7a11beaccbb17bd47142b42de?s=128&d=identicon&r=PG", "display_name": "ewok", "link": "https://stackoverflow.com/users/702948/ewok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 44163686, "answer_count": 2, "score": 0, "last_activity_date": 1495643683, "creation_date": 1495642323, "question_id": 44163594, "link": "https://stackoverflow.com/questions/44163594/perl-add-to-a-path-using-substitution", "title": "perl: add to a path using substitution", "body": "<p>My script takes in a filepath, and I want to append a directory to the end of the path. The issue is I want to be agnostic of whether the argument has a trailing slash or not.  So for example:</p>\n\n<pre><code>$ perl myscript.pl /path/to/dir\n/path/to/dir/new\n$ perl myscript.pl /path/to/dir/\n/path/to/dir/new\n</code></pre>\n\n<p>I tried <code>$path =~ s/\\/?$/\\/new/g</code>, but that results in a double <code>/new</code> if a slash is present:</p>\n\n<pre><code>$ perl myscript.pl /path/to/dir\n/path/to/dir/new/new\n$ perl myscript.pl /path/to/dir\n/path/to/dir/new\n</code></pre>\n\n<p>What's wrong?</p>\n"}, {"tags": ["xml", "perl", "xpath", "xml-libxml"], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "edited": false, "score": 0, "creation_date": 1495631539, "post_id": 44158929, "comment_id": 75335145, "body": "Looks neat.. Although, I am using XML-LibXML-2.0126 and that does not seem to support Node. Not sure if I want to get involved into installing the newer version. is there an alternative?"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "edited": false, "score": 0, "creation_date": 1495631690, "post_id": 44158929, "comment_id": 75335256, "body": "That&#39;s a fairly recent version of <code>XML::LibXML</code>, I&#39;m fairly certain you will have <code>XML::LibXML::Node</code>. What does <code>perl -MXML::LibXML::Node -e 1</code> on the command line return?"}, {"owner": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "edited": false, "score": 0, "creation_date": 1495632171, "post_id": 44158929, "comment_id": 75335645, "body": "it returns  the error of not being able to find  &quot;Can&#39;t locate XML/LibXML/Node.pm in @INC (@INC contains: /app/ac/local/lib/perl5 /app/ac/lib/perl5 /app/localapps/perl/lib/sun4-solaris-64int&quot;"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "edited": false, "score": 0, "creation_date": 1495632358, "post_id": 44158929, "comment_id": 75335818, "body": "Do you get the same message with <code>perl -MXML::LibXML -e 1</code>?"}, {"owner": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "edited": false, "score": 0, "creation_date": 1495632445, "post_id": 44158929, "comment_id": 75335896, "body": "Nope.that seems to run fine. doesnt give any errors.. perl -MXML::LibXML::NodeLis -e 1 ; seems to be fine too..could be a buggy installation?"}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "edited": false, "score": 0, "creation_date": 1495632686, "post_id": 44158929, "comment_id": 75336098, "body": "Huh, in that case even <code>findnodes</code> would not work, since it&#39;s provided by the same package. I don&#39;t see how it would be possible to traverse the document without <code>XML::LibXML::Node</code>"}, {"owner": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "edited": false, "score": 0, "creation_date": 1495632882, "post_id": 44158929, "comment_id": 75336264, "body": "findnodes actually works :) Ive been using it for sometime now. Did not want to write a findnodes for every single element and hence this question."}, {"owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "reply_to_user": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "edited": false, "score": 0, "creation_date": 1495633062, "post_id": 44158929, "comment_id": 75336406, "body": "I think we would need to see how you use it to make sense of what&#39;s happening here then. It could be installed in a separate path that is not part of <code>@INC</code>, perhaps?"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495637973, "post_id": 44158929, "comment_id": 75340562, "body": "Reading <code>Changes</code> helps. See also <a href=\"https://rt.cpan.org/Public/Bug/Display.html?id=114638\" rel=\"nofollow noreferrer\">rt.cpan.org/Public/Bug/Display.html?id=114638</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1495638317, "post_id": 44158929, "comment_id": 75340836, "body": "Re &quot;<i>I am using XML-LibXML-2.0126 and that does not seem to support Node.</i>&quot;, That&#39;s not the case at all. All versions of XML::LibXML have ::Node. It&#39;s the base class of every DOM object. (XML::LibXML::Node doesn&#39;t have it&#39;s own file, which is why <code>use XML::LibXML::Node;</code> and similar are failing. It&#39;s provided by <code>use XML::LibXML;</code>.)"}, {"owner": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "edited": false, "score": 0, "creation_date": 1495791823, "post_id": 44158929, "comment_id": 75409693, "body": "The confusion was trying to find XML::LibXML::Node. The solution works fine. thanks!"}], "tags": [], "owner": {"reputation": 34726, "user_id": 133939, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pN9C5.png?s=128&g=1", "display_name": "Zaid", "link": "https://stackoverflow.com/users/133939/zaid"}, "is_accepted": true, "score": 1, "last_activity_date": 1495631570, "last_edit_date": 1495631570, "creation_date": 1495630227, "answer_id": 44158929, "question_id": 44158666, "link": "https://stackoverflow.com/questions/44158666/iterating-through-elements-using-libxml-in-perl/44158929#44158929", "title": "iterating through elements using libxml in perl", "body": "<p>Use the <code>nonBlankChildNodes</code>, <code>nodeName</code> and <code>textContent</code> methods provided by <a href=\"https://metacpan.org/pod/distribution/XML-LibXML/lib/XML/LibXML/Node.pod\" rel=\"nofollow noreferrer\"><code>XML::LibXML::Node</code></a>:</p>\n\n<pre><code>my %hash;\n\nfor my $node ( $oc-&gt;nonBlankChildNodes ) {\n\n    my $tag = $node-&gt;nodeName;\n    my $value = $node-&gt;textContent;\n    $hash{$tag} = $value;\n}\n</code></pre>\n\n<p>Which is equivalent to:</p>\n\n<pre><code>my %hash = map { $_-&gt;nodeName, $_-&gt;textContent } $oc-&gt;nonBlankChildNodes;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1495642110, "last_edit_date": 1495642110, "creation_date": 1495641556, "answer_id": 44163333, "question_id": 44158666, "link": "https://stackoverflow.com/questions/44158666/iterating-through-elements-using-libxml-in-perl/44163333#44163333", "title": "iterating through elements using libxml in perl", "body": "<p>Are you sure you want this? It's just as simple to access arbitrary data from a parsed <code>XML::LibXML::Document</code> object as it is from a nested Perl hash. It will certainly occupy less memory space than the equivalent object, if that is your intention, but from your question it doesn't appear so</p>\n\n<p>You can do this easily using the <a href=\"https://metacpan.org/pod/XML::Parser\" rel=\"nofollow noreferrer\"><code>XML::Parser</code></a> module, which calls a callback every time an \"event\" occurs in the XML data. In this case all we're interested in is an open tag, a close tag, and a text string</p>\n\n<p>This example code builds a nested hash from the XML. It dies with an appropriate message if the XML data is malformed (a closing tag doesn't match the name of an opening tag) or if any of the elements has one or more attributes, which can't be represented in this structure</p>\n\n<p>I've used <code>Data::Dump</code> to display the result</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nuse XML::Parser;\nuse Data::Dump;\n\nmy $parser = XML::Parser-&gt;new(\n    Style    =&gt; 'Debug',\n    Handlers =&gt; {\n        Start =&gt; \\&amp;handle_start,\n        End   =&gt; \\&amp;handle_end,\n        Char  =&gt; \\&amp;handle_char,\n    },\n);\n\n\nmy %data;\nmy @data_stack = ( \\%data );\nmy @elem_stack;\n\n$parser-&gt;parsefile( 'index.xml' );\ndd \\%data;\n\n\nsub handle_start {\n    my ($expat, $elem) = @_;\n\n    my $data = $data_stack[-1]{$elem} = { };\n    push @data_stack, $data;\n    push @elem_stack, $elem;\n\n    if ( @_ &gt; 2 ) {\n        my $xpath = join '', map \"/$_\", @elem_stack;\n        die qq{Element at $xpath has attributes};\n    }\n}\n\n\nsub handle_end {\n    my ($expat, $elem) = @_;\n\n    my $top_elem = pop @elem_stack;\n    die qq{Bad XML structure $elem &lt;=&gt; $top_elem} unless $elem eq $top_elem;\n\n    pop @data_stack;\n}\n\n\nsub handle_char {\n    my ($expat, $str) = @_;\n\n    return unless $str =~ /\\S/;\n\n    my $top_elem = $elem_stack[-1];\n\n    $data_stack[-2]{$top_elem} = $str;\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>{\n    data =&gt; {\n        header =&gt; {\n            date =&gt; \"2017-03-16\",\n            name =&gt; \"V9 Red Indices\",\n            version =&gt; 9,\n        },\n        index  =&gt; {\n            constituents =&gt; {\n                constituent =&gt; {\n                    refentity =&gt; {\n                        originalconstituent =&gt; {\n                            docclause       =&gt; \"CR\",\n                            ispreferred     =&gt; \"false\",\n                            jurisdiction    =&gt; \"India\",\n                            pairiscurrent   =&gt; \"false\",\n                            pairvalidfrom   =&gt; \"2002-03-30\",\n                            pairvalidto     =&gt; \"2008-10-22\",\n                            recorddate      =&gt; \"2014-02-25\",\n                            redentitycode   =&gt; \"Y1BDCC\",\n                            redpaircode     =&gt; \"Y1BDCCAA9\",\n                            referenceentity =&gt; \"ICICI Bank Limited\",\n                            role            =&gt; \"Issuer\",\n                            ticker          =&gt; \"ICICIB\",\n                            tier            =&gt; \"SNRFOR\",\n                            weight          =&gt; 0.0769,\n                        },\n                    },\n                    refobligation =&gt; {\n                        ccy            =&gt; \"USD\",\n                        coupon         =&gt; 0.0475,\n                        coupontype     =&gt; \"Fixed\",\n                        cusip          =&gt; \"Y38575AQ2\",\n                        event          =&gt; \"Matured\",\n                        isconvert      =&gt; \"false\",\n                        isin           =&gt; \"XS0178885876\",\n                        isperp         =&gt; \"false\",\n                        maturity       =&gt; \"2008-10-22\",\n                        obligationname =&gt; \"ICICIB 4.75 22Oct08\",\n                        prospectusinfo =&gt; {\n                            issuers =&gt; {\n                                origissuersasperprosp =&gt; \"ICICI Bank Limited\"\n                            },\n                        },\n                        type =&gt; \"Bond\",\n                    },\n                },\n            },\n            indexfamily      =&gt; \"ITRAXX-Asian\",\n            indexsubfamily   =&gt; \"iTraxx Rest of Asia\",\n            paymentfrequency =&gt; \"3M\",\n            recoveryrate     =&gt; 0.35,\n        },\n    },\n}\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 4057693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e73bfa6c40d61475607594bc3d92d48b?s=128&d=identicon&r=PG&f=1", "display_name": "BRATVADDI", "link": "https://stackoverflow.com/users/4057693/bratvaddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "accepted_answer_id": 44158929, "answer_count": 2, "score": 2, "last_activity_date": 1495642110, "creation_date": 1495629541, "last_edit_date": 1495639489, "question_id": 44158666, "link": "https://stackoverflow.com/questions/44158666/iterating-through-elements-using-libxml-in-perl", "title": "iterating through elements using libxml in perl", "body": "<p></p>\n\n<p>I have an XML file like below,</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;data&gt;\n  &lt;header&gt;\n    &lt;name&gt;V9 Red Indices&lt;/name&gt;\n    &lt;version&gt;9&lt;/version&gt;\n    &lt;date&gt;2017-03-16&lt;/date&gt;\n  &lt;/header&gt;\n  &lt;index&gt;\n    &lt;indexfamily&gt;ITRAXX-Asian&lt;/indexfamily&gt;\n    &lt;indexsubfamily&gt;iTraxx Rest of Asia&lt;/indexsubfamily&gt;                \n    &lt;paymentfrequency&gt;3M&lt;/paymentfrequency&gt;\n    &lt;recoveryrate&gt;0.35&lt;/recoveryrate&gt;\n    &lt;constituents&gt;\n      &lt;constituent&gt;\n        &lt;refentity&gt;\n          &lt;originalconstituent&gt;\n            &lt;referenceentity&gt;ICICI Bank Limited&lt;/referenceentity&gt;\n            &lt;redentitycode&gt;Y1BDCC&lt;/redentitycode&gt;\n            &lt;role&gt;Issuer&lt;/role&gt;\n            &lt;redpaircode&gt;Y1BDCCAA9&lt;/redpaircode&gt;\n            &lt;jurisdiction&gt;India&lt;/jurisdiction&gt;\n            &lt;tier&gt;SNRFOR&lt;/tier&gt;\n            &lt;pairiscurrent&gt;false&lt;/pairiscurrent&gt;\n            &lt;pairvalidfrom&gt;2002-03-30&lt;/pairvalidfrom&gt;\n            &lt;pairvalidto&gt;2008-10-22&lt;/pairvalidto&gt;\n            &lt;ticker&gt;ICICIB&lt;/ticker&gt;\n            &lt;ispreferred&gt;false&lt;/ispreferred&gt;\n            &lt;docclause&gt;CR&lt;/docclause&gt;\n            &lt;recorddate&gt;2014-02-25&lt;/recorddate&gt;\n            &lt;weight&gt;0.0769&lt;/weight&gt;\n          &lt;/originalconstituent&gt;\n        &lt;/refentity&gt;\n        &lt;refobligation&gt;\n          &lt;type&gt;Bond&lt;/type&gt;\n          &lt;isconvert&gt;false&lt;/isconvert&gt;\n          &lt;isperp&gt;false&lt;/isperp&gt;\n          &lt;coupontype&gt;Fixed&lt;/coupontype&gt;\n          &lt;ccy&gt;USD&lt;/ccy&gt;\n          &lt;maturity&gt;2008-10-22&lt;/maturity&gt;\n          &lt;coupon&gt;0.0475&lt;/coupon&gt;\n          &lt;isin&gt;XS0178885876&lt;/isin&gt;\n          &lt;cusip&gt;Y38575AQ2&lt;/cusip&gt;\n          &lt;event&gt;Matured&lt;/event&gt;\n          &lt;obligationname&gt;ICICIB 4.75 22Oct08&lt;/obligationname&gt;\n          &lt;prospectusinfo&gt;\n            &lt;issuers&gt;                                                        \n              &lt;origissuersasperprosp&gt;ICICI Bank Limited&lt;/origissuersasperprosp&gt;\n            &lt;/issuers&gt;\n          &lt;/prospectusinfo&gt;\n        &lt;/refobligation&gt;\n      &lt;/constituent&gt;\n    &lt;/constituents&gt;\n  &lt;/index&gt;\n&lt;/data&gt;\n</code></pre>\n\n<p>I would like to iterate through this file without knowing the tag names. My end goal is to create a hash with tag names and values.</p>\n\n<p>I do not want to use <code>findnodes</code> with XPath for each node. That defeats the whole purpose of writing a generic loader.</p>\n\n<p>I am also using XML-LibXML-2.0126 , a little older version.</p>\n\n<p>Part of my code which uses <code>findnodes</code> is below. The XML was also shortened to avoid a lengthy query which it has become now :)</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use XML::LibXML;\n\nmy $xmldoc = $parser-&gt;parse_file( $fileName );\nmy $root = $xmldoc-&gt;getDocumentElement() || die( \"Could not get Document Element \\n\" );\n\nforeach my $index ( $root-&gt;findnodes( \"index\" ) ) {    # $root-&gt;getChildNodes()) # Get all the Indexes\n\n    foreach my $constituent ( $index-&gt;findnodes( 'constituents/constituent' ) ) { # Lets pick up all Constituents\n\n        my $referenceentity = $constituent-&gt;findnodes( 'refentity/originalconstituent/referenceentity' );    # This is a crude way. we should be iterating without knowing whats inside\n\n        print \"referenceentity :\" . $referenceentity . \"\\n\";\n        print \"+++++++++++++++++++++++++++++++++++ \\n\";\n    }\n}\n</code></pre>\n"}, {"tags": ["xml", "perl", "loops", "libxml2", "xml-libxml"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495625292, "post_id": 44155750, "comment_id": 75330361, "body": "Before reading all of this... in the other question you had elements inside <code>&lt;action&gt;</code> that had attributes. It&#39;s worth mentioning that here too as it might change things."}], "answers": [{"tags": [], "owner": {"reputation": 17713, "user_id": 226648, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/3196df423fd95dc4fce7dfadb8ec9953?s=128&d=identicon&r=PG", "display_name": "el.pescado", "link": "https://stackoverflow.com/users/226648/el-pescado"}, "is_accepted": true, "score": 4, "last_activity_date": 1495635711, "last_edit_date": 1495635711, "creation_date": 1495625917, "answer_id": 44157324, "question_id": 44155750, "link": "https://stackoverflow.com/questions/44155750/perl-xmllibxml-usage/44157324#44157324", "title": "Perl XML::LibXML usage", "body": "<p>First, you call <a href=\"http://search.cpan.org/dist/XML-LibXML/lib/XML/LibXML/Node.pod#findnodes\" rel=\"nofollow noreferrer\">findnodes</a> on <code>$doc</code>, which means your XPath expression is evaluated against document root node. Second, the XPath expression you use starts with '/' so that again is rooted at the top-level node. So that, when you call:</p>\n\n<pre><code>$doc-&gt;findnodes('/fftg/actions/rename')\n</code></pre>\n\n<p>it means \"give me every <code>&lt;rename/&gt;</code> element that is child of <code>&lt;actions/&gt;</code> element that is child of <code>&lt;fftg/&gt;</code> element that is root node of document\", and, as a result, you get every <code>&lt;rename/&gt;</code> node that is found in document.</p>\n\n<p>Moreover, there are too many loops. The first one is redundant, as there may be only single root element. Two loops should work (one on <code>&lt;action/&gt;</code> children, and another one on their children):</p>\n\n<pre><code>for my $action ($doc-&gt;findnodes('/fftg/actions/*')) {\n    print \"executing \", $action-&gt;nodeName(), \"\\n\";\n    for my $detail ($action-&gt;findnodes('./*')) {\n        print $detail-&gt;nodeName(), \": \", $detail-&gt;textContent(), \"\\n\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 44157324, "answer_count": 1, "score": 2, "last_activity_date": 1495635711, "creation_date": 1495621713, "last_edit_date": 1495624092, "question_id": 44155750, "link": "https://stackoverflow.com/questions/44155750/perl-xmllibxml-usage", "title": "Perl XML::LibXML usage", "body": "<p>I am having some trouble using XML::LibXML and I'd like to know if there is a way to do what I want to do, or if my XML should be changed.</p>\n\n<p>at the moment, my XML looks like :</p>\n\n<pre><code>&lt;fftg&gt;\n    &lt;actions&gt;\n\n            &lt;rename&gt;\n                    &lt;mandatory&gt;0&lt;/mandatory&gt;\n                    &lt;other_things_here /&gt;\n            &lt;/rename&gt;\n\n            &lt;transfer&gt;\n                    &lt;mandatory&gt;0&lt;/mandatory&gt;\n                    &lt;protocol&gt;SFTP&lt;/protocol&gt;\n                    &lt;other_things_here /&gt;\n            &lt;/transfer&gt;\n\n            &lt;transfer&gt;\n                    &lt;mandatory&gt;1&lt;/mandatory&gt;\n                    &lt;protocol&gt;FTP&lt;/protocol&gt;\n                    &lt;other_things_here /&gt;\n            &lt;/transfer&gt;\n\n            &lt;archive&gt;\n                    &lt;mandatory&gt;1&lt;/mandatory&gt;\n                    &lt;other_things_here /&gt;\n            &lt;/archive&gt;\n\n            &lt;rename&gt;\n                    &lt;mandatory&gt;1&lt;/mandatory&gt;\n                    &lt;other_things_here /&gt;\n            &lt;/rename&gt;\n\n    &lt;/actions&gt;\n\n&lt;/fftg&gt;\n</code></pre>\n\n<p>as you can see, under \"actions\", there can be different type of actions (1 or multiple actions of each kind, with different things under each action)</p>\n\n<p>I want to browse each action and perform specific things depending on the action.</p>\n\n<p>my problem is : as there are multiple actions of the same kind, the script is not working properly and overwrites the previous action of the same kind, or the loop on a specific actions re-loops on every action of the same kind</p>\n\n<p>example 1 :</p>\n\n<pre><code>foreach my $transfer ($doc-&gt;findnodes('/fftg')) {\n\n    # Browse Actions\n    foreach my $action ($doc-&gt;findnodes('/fftg/actions/*')) {\n\n            my $action_name = $action-&gt;nodeName();\n            my $actiontype = ucfirst($action-&gt;nodeName());\n            print \"executing action $action_name ..\\n\";\n\n            # Browse action details\n            foreach my $action_details ($doc-&gt;findnodes('/fftg/actions/'.$action_name)) {\n                    for my $detail ($action_details-&gt;findnodes('./*')) {\n                            print $detail-&gt;nodeName(), \": \", $detail-&gt;textContent(), \"\\n\";\n                    }\n            }\n            print \"-------------\\n\";\n    }\n}\n</code></pre>\n\n<p>result 1 :</p>\n\n<pre><code>executing action rename ..\nmandatory: 0\nother_things_here:\nmandatory: 1\nother_things_here:\n-------------\nexecuting action transfer ..\nmandatory: 0\nprotocol: SFTP\nother_things_here:\nmandatory: 1\nprotocol: FTP\nother_things_here:\n-------------\nexecuting action transfer ..\nmandatory: 0\nprotocol: SFTP\nother_things_here:\nmandatory: 1\nprotocol: FTP\nother_things_here:\n-------------\nexecuting action archive ..\nmandatory: 1\nother_things_here:\n-------------\nexecuting action rename ..\nmandatory: 0\nother_things_here:\nmandatory: 1\nother_things_here:\n-------------\n</code></pre>\n\n<p>as you can see, this result is wrong, as in each \"action type\" (which is good, detected), it's re-looping on every action of the same kind.</p>\n\n<p>this is due to :</p>\n\n<pre><code>foreach my $action_details ($doc-&gt;findnodes('/fftg/actions/'.$action_name)) {\n</code></pre>\n\n<p>how can I do to make what I want to achieve ? (if possible without changing the XML)</p>\n\n<p>what I want is :</p>\n\n<pre><code>executing action rename ..\nmandatory: 0\nother_things_here:\n-------------\nexecuting action transfer ..\nmandatory: 0\nprotocol: SFTP\nother_things_here:\n-------------\nexecuting action transfer ..\nmandatory: 1\nprotocol: FTP\nother_things_here:\n-------------\nexecuting action archive ..\nmandatory: 1\nother_things_here:\n-------------\nexecuting action rename ..\nmandatory: 1\nother_things_here:\n-------------\n</code></pre>\n\n<p>thank you</p>\n\n<p>on a side note, I suppose I could change my XML and use something like that instead to fix it easily (but I don't know which one is the best option between the three), but I'd like to avoid these two below because the XSD is going to be tough to produce afterwards (I want specific options for each action type) :</p>\n\n<pre><code>&lt;fftg&gt;\n&lt;actions&gt;\n        &lt;action&gt;\n                &lt;type&gt;rename&lt;/type&gt;\n                &lt;mandatory&gt;0&lt;/mandatory&gt;\n                &lt;other_things_here /&gt;\n        &lt;/action&gt;\n\n        &lt;action&gt;\n                &lt;type&gt;transfer&lt;/type&gt;\n                &lt;mandatory&gt;0&lt;/mandatory&gt;\n                &lt;protocol&gt;SFTP&lt;/protocol&gt;\n                &lt;other_things_here /&gt;\n        &lt;action&gt;\n\n        &lt;action&gt;\n                &lt;type&gt;transfer&lt;/type&gt;\n                &lt;mandatory&gt;0&lt;/mandatory&gt;\n                &lt;protocol&gt;FTP&lt;/protocol&gt;\n                &lt;other_things_here /&gt;\n        &lt;action&gt;\n\n        &lt;action&gt;\n                &lt;type&gt;archive&lt;/type&gt;\n                &lt;mandatory&gt;0&lt;/mandatory&gt;\n                &lt;other_things_here /&gt;\n        &lt;action&gt;\n\n        &lt;action&gt;\n                &lt;type&gt;rename&lt;/type&gt;\n                &lt;mandatory&gt;0&lt;/mandatory&gt;\n                &lt;other_things_here /&gt;\n        &lt;action&gt;\n\n\n\n&lt;/actions&gt;\n\n&lt;/fftg&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;fftg&gt;\n&lt;actions&gt;\n        &lt;action type=\"rename\"&gt;\n                &lt;mandatory&gt;0&lt;/mandatory&gt;\n                &lt;other_things_here /&gt;\n        &lt;/action&gt;\n\n        &lt;action type=\"transfer\"&gt;\n                &lt;mandatory&gt;0&lt;/mandatory&gt;\n                &lt;protocol&gt;SFTP&lt;/protocol&gt;\n                &lt;other_things_here /&gt;\n        &lt;action&gt;\n\n        &lt;action type=\"transfer\"&gt;\n                &lt;mandatory&gt;0&lt;/mandatory&gt;\n                &lt;protocol&gt;FTP&lt;/protocol&gt;\n                &lt;other_things_here /&gt;\n        &lt;action&gt;\n\n        &lt;action type=\"archive\"&gt;\n                &lt;mandatory&gt;0&lt;/mandatory&gt;\n                &lt;other_things_here /&gt;\n        &lt;action&gt;\n\n        &lt;action type=\"rename\"&gt;\n                &lt;mandatory&gt;0&lt;/mandatory&gt;\n                &lt;other_things_here /&gt;\n        &lt;action&gt;\n\n\n\n&lt;/actions&gt;\n\n&lt;/fftg&gt;\n</code></pre>\n\n<p>thanks again\nregards,</p>\n"}, {"tags": ["perl", "shell", "command"], "answers": [{"comments": [{"owner": {"reputation": 751, "user_id": 3819295, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8b52fe6e5f4fbfc89dcce26a6355c1ad?s=128&d=identicon&r=PG&f=1", "display_name": "user3819295", "link": "https://stackoverflow.com/users/3819295/user3819295"}, "edited": false, "score": 0, "creation_date": 1495653591, "post_id": 44155541, "comment_id": 75349868, "body": "Thanks for this solution , is there any other way to do that? , Since I am not able to use Socket in my company."}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 751, "user_id": 3819295, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8b52fe6e5f4fbfc89dcce26a6355c1ad?s=128&d=identicon&r=PG&f=1", "display_name": "user3819295", "link": "https://stackoverflow.com/users/3819295/user3819295"}, "edited": false, "score": 0, "creation_date": 1495653887, "post_id": 44155541, "comment_id": 75350013, "body": "@user3819295: Socket is part of Perl core since 5.0. Are you still running Perl 4?!"}, {"owner": {"reputation": 751, "user_id": 3819295, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8b52fe6e5f4fbfc89dcce26a6355c1ad?s=128&d=identicon&r=PG&f=1", "display_name": "user3819295", "link": "https://stackoverflow.com/users/3819295/user3819295"}, "edited": false, "score": 0, "creation_date": 1495655353, "post_id": 44155541, "comment_id": 75350730, "body": "Unfortunately yes , part of our environment still running Perl 4. I will accept this answer since it is answering my question. However, if you could come up with another solution it would be great. Thanks anyway!"}, {"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "reply_to_user": {"reputation": 751, "user_id": 3819295, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8b52fe6e5f4fbfc89dcce26a6355c1ad?s=128&d=identicon&r=PG&f=1", "display_name": "user3819295", "link": "https://stackoverflow.com/users/3819295/user3819295"}, "edited": false, "score": 1, "creation_date": 1495656093, "post_id": 44155541, "comment_id": 75351070, "body": "Perl 4 is older than 23 years!"}, {"owner": {"reputation": 751, "user_id": 3819295, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8b52fe6e5f4fbfc89dcce26a6355c1ad?s=128&d=identicon&r=PG&f=1", "display_name": "user3819295", "link": "https://stackoverflow.com/users/3819295/user3819295"}, "edited": false, "score": 0, "creation_date": 1495657211, "post_id": 44155541, "comment_id": 75351629, "body": "it Works!! , amazing , thank you so much for your time."}], "tags": [], "owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "is_accepted": true, "score": 3, "last_activity_date": 1495656133, "last_edit_date": 1495656133, "creation_date": 1495621147, "answer_id": 44155541, "question_id": 44155171, "link": "https://stackoverflow.com/questions/44155171/avoid-using-shell-commands-in-perl-script/44155541#44155541", "title": "Avoid using shell commands in perl script", "body": "<p>You can use the <a href=\"http://perldoc.perl.org/perlfunc.html#gethostbyname-NAME\" rel=\"nofollow noreferrer\">gethostbyname</a> function to get the IP address and <a href=\"http://p3rl.org/Socket\" rel=\"nofollow noreferrer\">Socket</a>::inet_ntoa to unpack it:</p>\n\n<pre><code>use Socket;\nmy @hostnames\n    = `$retrieveIps --fields FileserverIPS WHERE Fileserver LIKE '%NET%' `;\nprint inet_ntoa(scalar gethostbyname $_), \"\\n\" for @hostnames;\n</code></pre>\n\n<p><code>inet_ntoa</code> is easy to implement (but I'm not sure whether it'd work in Perl 4):</p>\n\n<pre><code>sub inet_ntoa {\n    my ($ip) = @_;\n    return join '.', map ord, split //, $ip\n}\n</code></pre>\n"}], "owner": {"reputation": 751, "user_id": 3819295, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8b52fe6e5f4fbfc89dcce26a6355c1ad?s=128&d=identicon&r=PG&f=1", "display_name": "user3819295", "link": "https://stackoverflow.com/users/3819295/user3819295"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 44155541, "answer_count": 1, "score": 0, "last_activity_date": 1495656133, "creation_date": 1495620152, "last_edit_date": 1495620656, "question_id": 44155171, "link": "https://stackoverflow.com/questions/44155171/avoid-using-shell-commands-in-perl-script", "title": "Avoid using shell commands in perl script", "body": "<p>I have this line in my perl script : </p>\n\n<pre><code>\"$retrieveIps --fields FileserverIPS WHERE Fileserver LIKE '%NET%' | tr \\\" \n\\\" \\\"\\n\\\" | xargs -n1 host\";\n</code></pre>\n\n<p>This part of the line above : </p>\n\n<pre><code>$retrieveIps --fields FileserverIPS WHERE Fileserver LIKE '%NET%'\n</code></pre>\n\n<p>Should give me this output : </p>\n\n<pre><code>NodeName1.comp.com NodeName2.comp.com\n</code></pre>\n\n<p>And I want to avoid using shell commands in my script as much as possible.\nI was wondering if there is any way to do the 'tr' , 'xargs' and 'host' command in perl?\nI tried to look on the internet but couldn't find anything helpful for me.</p>\n\n<p>This is the required output : </p>\n\n<pre><code>10.0.0.1\n10.0.0.2\n</code></pre>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495625223, "post_id": 44155128, "comment_id": 75330316, "body": "This is not your real code. It has syntax errors. Please include your <b>real code</b>! And while you&#39;re at it, please also include example data to reproduce the problem, and explain what output you expect."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8058695"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495626069, "post_id": 44155128, "comment_id": 75330929, "body": "real code is too big thats why i had added the part of the code where it shows problem. @simbabque"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8058695"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495626090, "post_id": 44155128, "comment_id": 75330955, "body": "added expected output. @simbabque"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1495632377, "post_id": 44155128, "comment_id": 75335838, "body": "Your indentation is horrible and your brace placement is inconsistent. If you want people to read and understand your code, please take the time to make it as easy to read as possible."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1495632857, "post_id": 44155128, "comment_id": 75336249, "body": "I know that your code is too large to share. But the code that you give us should at least compile. Having just gone through your code to make it readable I spot at least two lines with obvious syntax errors - <code>my @words = split &#47;,., $firstline;</code> and <code>my ($load, @words = @_;</code>.  If you can&#39;t take the time to make your code even compile, then why should we spend time looking at it?"}, {"owner": {"reputation": 3226, "user_id": 1964690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120d7c6980b552a124f79016300ca954?s=128&d=identicon&r=PG", "display_name": "jrefior", "link": "https://stackoverflow.com/users/1964690/jrefior"}, "edited": false, "score": 0, "creation_date": 1495634763, "post_id": 44155128, "comment_id": 75337848, "body": "Make sure you have <code>use strict;</code> and <code>use warnings;</code> in each module/script:  <a href=\"https://perldoc.perl.org/perlintro.html#Safety-net\" rel=\"nofollow noreferrer\">Perldoc: Safety Net</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8058695"}, "edited": false, "score": 0, "creation_date": 1495623819, "post_id": 44155474, "comment_id": 75329367, "body": "After Indentation also i find same problem. @simbabque"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8058695"}, "edited": false, "score": 0, "creation_date": 1495625843, "post_id": 44155474, "comment_id": 75330747, "body": "added expected output   @simbabque"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8058695"}, "edited": false, "score": 0, "creation_date": 1495685480, "post_id": 44155474, "comment_id": 75359681, "body": "why the &lt;tr&gt; is not closed inside the foreach loop @simbabque"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495702694, "post_id": 44155474, "comment_id": 75367354, "body": "@insite because I copied it from the question, and it&#39;s missing there too ;)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8058695"}, "edited": false, "score": 0, "creation_date": 1495702839, "post_id": 44155474, "comment_id": 75367442, "body": "Still am not loaded with the contents inside td tag . @simbabque"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495703045, "post_id": 44155474, "comment_id": 75367557, "body": "@insite both me and others have asked you in comments on the question to at least make the code there compile, and to include example input. If you do not do that we&#39;re not going to help you, because we can&#39;t. You might think that it&#39;s just the example, so it doesn&#39;t matter, but it does. Most of the times you will find the problem yourself when trying to reduce it to a minimal example. Often the problem is not where you think it is. I am willing to help you, for free, on my day off (there&#39;s a bank holiday in my country today), but only if you help, too."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 1, "last_activity_date": 1495620962, "creation_date": 1495620962, "answer_id": 44155474, "question_id": 44155128, "link": "https://stackoverflow.com/questions/44155128/subroutine-fails-to-take-the-variables-inside-td-tag-using-perl-cgi/44155474#44155474", "title": "Subroutine fails to take the variables inside td tag using perl cgi?", "body": "<p>The <code>EOF</code> marker for the HEREDOC needs to be all the way on the left. It cannot have leading whitespace. Because of that, there should be a syntax error because the rest of your code is not recognized as code by the parser.</p>\n\n<p>It should look like that.</p>\n\n<pre><code>sub layout\n{\n\n    my($load)=@_;\n    my @words=@_;\n    my $add=0;\n    print &lt;&lt; \"EOF\";\n    &lt;html&gt;&lt;body&gt;&lt;table&gt;\n    &lt;tr&gt;\n    &lt;th&gt;s.no&lt;/th&gt;\n    &lt;/tr&gt;\nEOF\n\n    foreach(@words)\n    {\n    $add++;\n    print&lt;&lt;\"EOF\"\n    &lt;tr&gt;\n    &lt;td&gt;$add&lt;/td&gt;\n    &lt;td&gt;$_&lt;/td&gt;\nEOF\n\n    }\n    print &lt;&lt;\"EOF\"\n    &lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\nEOF\n\n}\n</code></pre>\n\n<p>Indented HEREDOCs will probably be available with Perl 5.26. A new feature was released with the development version <a href=\"http://search.cpan.org/~reneeb/perl-5.25.10/pod/perl5257delta.pod#Indented_Here-documents\" rel=\"nofollow noreferrer\">5.25.7</a> that introduces new syntax <code>&lt;&lt;~\"EOF\"</code>. But you likely do not have that version, or a newer one.</p>\n\n<hr>\n\n<p>In addition to that, you are putting the first argument of the function in <code>$load</code>, but also into <code>@words</code>. That's probably wrong. That should be <code>my ($load, @words) = @_</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8058695"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522749593, "creation_date": 1495620038, "last_edit_date": 1522749593, "question_id": 44155128, "link": "https://stackoverflow.com/questions/44155128/subroutine-fails-to-take-the-variables-inside-td-tag-using-perl-cgi", "title": "Subroutine fails to take the variables inside td tag using perl cgi?", "body": "<p>In this part of Perl cgi code  <code>$_</code> variable failed to print its contents inside <code>&lt;td&gt;</code> tag using Perl cgi?</p>\n\n<pre><code>sub do_work {\n    my $fh = shift;\n    my $content;    \n\n    while ( my $line= &lt;$fh&gt; ) {\n        my @name1 = grep {$_ =~ m/^\\[/} $line;\n        s/\\W//g for @name1;\n        $content .= join '', @name1;\n    }\n\n    return $content;\n}\n\nsub do_task {\n    my $fh = shift;\n    my $load;\n    while(my $firstline = &lt;$fh&gt;) {\n        $firstline =~ s/.*=//g;\n        my @words = split /,., $firstline;\n        my $add = 0;\n        $load1 .= join(\"\\n\", @words);   \n    }\n\n    return $load1;  \n}\n\nsub layout {\n    my ($load, @words = @_;\n    my $add = 0;\n\n    print &lt;&lt; \"EOF\";\n    &lt;html&gt;&lt;body&gt;&lt;table&gt;\n    &lt;tr&gt;\n    &lt;th&gt;s.no&lt;/th&gt;\n    &lt;th&gt;name&lt;/th&gt;\n    &lt;/tr&gt;\n    EOF\n\n    foreach(@words) {\n        $add++;\n        print&lt;&lt;\"EOF\"\n        &lt;tr&gt;\n        &lt;td&gt;$add&lt;/td&gt;\n        &lt;td&gt;$_&lt;/td&gt;\n    EOF\n    }\n\n    print &lt;&lt;\"EOF\"\n    &lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\n    EOF\n}\n</code></pre>\n\n<p>Description :</p>\n\n<ol>\n<li>To read the @words again and again i had used foreach loop. Here <code>@words</code> are read from the previous subroutine. I tried to load the same array contents into the <code>&lt;td&gt;</code> tag. But from my code it is not getting the into the foreach? Because of what mistake it is not loading its contents.</li>\n</ol>\n\n<p>Expected output:</p>\n\n<p>From <code>$load1</code> it got the following output:</p>\n\n<pre><code>hardware\nsoftware\nos\n</code></pre>\n\n<p>So i tried to print it in table i.e inside <code>&lt;td&gt;</code> tag so i had used the foreach loop to take default value.</p>\n\n<p>Now i expect my output should be as follows:</p>\n\n<pre><code>s.no   name\n1      Hardware\n2      Software\n3      os\n</code></pre>\n"}, {"tags": ["perl", "split"], "comments": [{"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1495616682, "post_id": 44153397, "comment_id": 75324285, "body": "<code>@_</code> is not &quot;the default array&quot;. <code>@_</code> is the array that contains parameters to a subroutine. There is nothing in the Perl documentation that calls it the default array."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 1, "creation_date": 1495617101, "post_id": 44153397, "comment_id": 75324567, "body": "@DaveCross that&#39;s not entirely correct. <a href=\"http://perldoc.perl.org/perlvar.html#%40ARG\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlvar.html#%40ARG</a> says <i>Inside a subroutine, @</i> is the default array for the array operators pop and shift_. But you are right of course."}], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 4, "creation_date": 1495634467, "post_id": 44153498, "comment_id": 75337605, "body": "<code>split</code> in void context used to populate <code>@_</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1495634649, "post_id": 44153498, "comment_id": 75337748, "body": "@ikegami when was that?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1495634796, "post_id": 44153498, "comment_id": 75337874, "body": "Gone in 5.12. Deprecated at least as early as 5.8.8"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1495635651, "post_id": 44153498, "comment_id": 75338568, "body": "@ikegami thanks for looking that up. I think we can leave that as a comment. OP is aking for 5.22. If you feel it should go into the answer, feel free to edit it in though."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 10, "last_activity_date": 1495617158, "last_edit_date": 1495617158, "creation_date": 1495615921, "answer_id": 44153498, "question_id": 44153397, "link": "https://stackoverflow.com/questions/44153397/perl-split-does-not-split-to-default-array/44153498#44153498", "title": "Perl `split` does not `split` to default array", "body": "<p><a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"noreferrer\"><code>split</code></a> does not go to <code>@_</code> by default. <code>@_</code> does not work like <code>$_</code>. It's only for arguments to a function. <a href=\"http://perldoc.perl.org/perlvar.html#%40ARG\" rel=\"noreferrer\">perlvar</a> says:</p>\n\n<blockquote>\n  <p>Within a subroutine the array @_ contains the parameters passed to that subroutine. Inside a subroutine, @_ is the default array for the array operators pop and shift.</p>\n</blockquote>\n\n<p>If you run your program with <code>use strict</code> and <code>use warnings</code> you'll see</p>\n\n<blockquote>\n  <p>Useless use of split in void context at </p>\n</blockquote>\n\n<p>However, <code>split</code> does use <code>$_</code> as its second argument (the string that is split up) if nothing is supplied. But you must always use the return value  for something.</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 4, "creation_date": 1495617520, "post_id": 44153589, "comment_id": 75324875, "body": "And don&#39;t call your variables <code>$a</code> <code>@a</code> - it&#39;s bad to use single letter names anyway, but especially when it is <code>$a</code> or <code>$b</code> which are used by <code>sort</code>"}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 5, "last_activity_date": 1496135781, "last_edit_date": 1496135781, "creation_date": 1495616141, "answer_id": 44153589, "question_id": 44153397, "link": "https://stackoverflow.com/questions/44153397/perl-split-does-not-split-to-default-array/44153589#44153589", "title": "Perl `split` does not `split` to default array", "body": "<p>You have to assign the split to an array:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $string = \"A:B:C:D\";\nmy @array = split(/:/, $string);\nprint $array[0] . \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 2340241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4757ba504acbd90dfd3be7764066e89e?s=128&d=identicon&r=PG", "display_name": "drcyber", "link": "https://stackoverflow.com/users/2340241/drcyber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 1, "accepted_answer_id": 44153498, "answer_count": 2, "score": 6, "last_activity_date": 1496135781, "creation_date": 1495615652, "last_edit_date": 1495630142, "question_id": 44153397, "link": "https://stackoverflow.com/questions/44153397/perl-split-does-not-split-to-default-array", "title": "Perl `split` does not `split` to default array", "body": "<p>I have this strange problem with <code>split</code> in that it does not by default <code>split</code> into the default array.</p>\n\n<p>Below is some toy code.</p>\n\n<pre><code>#!/usr/bin/perl\n\n$A=\"A:B:C:D\";\nsplit (\":\",$A);\nprint $_[0];\n</code></pre>\n\n<p>This does not print anything. However if I explicitly split into the default array like</p>\n\n<pre><code>#!/usr/bin/perl\n\n$A=\"A:B:C:D\";\n@_=split (\":\",$A);\nprint $_[0];\n</code></pre>\n\n<p>It's correctly prints A. My perl version is v5.22.1.</p>\n"}, {"tags": ["perl", "hash", "tk"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1495608166, "post_id": 44150673, "comment_id": 75318571, "body": "<a href=\"https://eval.in/803952\" rel=\"nofollow noreferrer\">eval.in/803952</a> =&gt; <code>use warnings;</code> saves the day."}, {"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495608372, "post_id": 44150673, "comment_id": 75318700, "body": "Side note, <a href=\"https://stackoverflow.com/a/8129070/223226\">stackoverflow.com/a/8129070/223226</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5149969, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jd9n4ClYyc4/AAAAAAAAAAI/AAAAAAAACqI/aX_Uif3TWeQ/photo.jpg?sz=128", "display_name": "ValeriaPopova", "link": "https://stackoverflow.com/users/5149969/valeriapopova"}, "is_accepted": false, "score": 0, "last_activity_date": 1495618178, "creation_date": 1495618178, "answer_id": 44154405, "question_id": 44150673, "link": "https://stackoverflow.com/questions/44150673/tkerror-cant-use-an-undefined-value-as-hash/44154405#44154405", "title": "Tk::Error: Can&#39;t use an undefined value as HASH", "body": "<p>You don't need to declare hash key. Delete \"my\" from this line.</p>\n"}], "owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1495618178, "creation_date": 1495607751, "question_id": 44150673, "link": "https://stackoverflow.com/questions/44150673/tkerror-cant-use-an-undefined-value-as-hash", "title": "Tk::Error: Can&#39;t use an undefined value as HASH", "body": "<p>I have the code that can work fine for it own but when i combine with another function it show this error message \" Tk::Error: Can't use an undefined value as a HASH reference at open_gui.pl line 231.\". Line 231 is this line \"my $output->{$count} =unpack('C',getc($otp));\" Below is my code</p>\n\n<pre><code>sub main($$){\n\n    my $call_form = shift ;\n    my $file1 = shift -&gt; get() ;\n    my $output={};\n    bless $output;\n    my $j =0;\n    my $i =0;\n    grab_file($output,$file1);\n}\n\nsub grab_file($$){\n\n    my $output=shift;\n    my $file = shift;\n    open(my $otp, '&lt;' , \"$file\") or die \"Error, File1 could not open\\n\"; \n    open(my $input, \"&gt; info.txt\") or die \"Error, File3 could not open\\n\";\n    my $count = 0;\n    binmode($otp);\n    seek ($otp,829440,0);\n    for my $count (0..27648){\n        my $output-&gt;{$count} =unpack('C',getc($otp));\n        print $input \"$output-&gt;{$count}\\n\";;\n    }\n    close ($input);\n    close($otp);\n    open(FILE4, \"&gt;data.txt\") or die \"Error, File4 could not open\\n\";\n    open ( my $input, '&lt;', \"info.txt\" ) or die $!;\n    chomp ( my @file = &lt;$input&gt; ); \n    print FILE4 join (\" \",splice (@file, 0, 16)),\"\\n\"while @file;\n    close($input);\n    close(FILE4);\n\n}\n</code></pre>\n\n<p>This is part of the code, the upper part of code no showing here is mainly the tk to build the GUI. This subroutine without combine with Tk function not showing here can work fine by self putting the binary file name to $otp but when i want to get the file from input of GUI it show the error. Any one can help for this? Thanks </p>\n"}, {"tags": ["perl"], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 4, "last_activity_date": 1495590497, "creation_date": 1495590497, "answer_id": 44147647, "question_id": 44147469, "link": "https://stackoverflow.com/questions/44147469/why-does-the-dumper-module-place-parens-around-the-assignment-of-its-settings-ha/44147647#44147647", "title": "Why does the Dumper module place parens around the assignment of its settings hash?", "body": "<p>There's no reason for <code>my ($s)</code> to be used here instead of <code>my $s</code>. I can't even fathom a stylistic reason. It is indeed weird.</p>\n"}, {"tags": [], "owner": {"reputation": 3226, "user_id": 1964690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120d7c6980b552a124f79016300ca954?s=128&d=identicon&r=PG", "display_name": "jrefior", "link": "https://stackoverflow.com/users/1964690/jrefior"}, "is_accepted": false, "score": 6, "last_activity_date": 1495634183, "last_edit_date": 1495634183, "creation_date": 1495594397, "answer_id": 44148163, "question_id": 44147469, "link": "https://stackoverflow.com/questions/44147469/why-does-the-dumper-module-place-parens-around-the-assignment-of-its-settings-ha/44148163#44148163", "title": "Why does the Dumper module place parens around the assignment of its settings hash?", "body": "<p>I agree, it is weird.  In general parentheses on the left side of an assignment force the right side to be evaluated in list context instead of scalar context.  But that accomplishes nothing in the above example.</p>\n\n<p>It does, however, seem to be consistent with many other needless uses of <code>my(...) = ...</code> in Data::Dumper, such as this one:</p>\n\n<pre><code>sub Reset {\n  my($s) = shift;\n  $s-&gt;{seen} = {};\n  return $s;\n}\n</code></pre>\n\n<p>Still, it's not consistent, as you also find plenty of examples where it's not used, such as:</p>\n\n<pre><code>my $ref = \\$_[1];\nmy $v;\n</code></pre>\n\n<p>Maybe it's an occasional personal preference of the author, or else they planned for multiple assignment and never cleaned up their code after...  Or maybe multiple authors with different preferences who hesitated to step on each others' toes, or fix what they figured wasn't broke.  But that's just speculation...</p>\n"}], "owner": {"reputation": 30491, "user_id": 1029146, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a659be962c006e43e110b5a9dfda538e?s=128&d=identicon&r=PG", "display_name": "temporary_user_name", "link": "https://stackoverflow.com/users/1029146/temporary-user-name"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 44147647, "answer_count": 2, "score": 4, "last_activity_date": 1495634183, "creation_date": 1495589050, "last_edit_date": 1495590918, "question_id": 44147469, "link": "https://stackoverflow.com/questions/44147469/why-does-the-dumper-module-place-parens-around-the-assignment-of-its-settings-ha", "title": "Why does the Dumper module place parens around the assignment of its settings hash?", "body": "<p>Having read <a href=\"https://stackoverflow.com/questions/2126365/whats-the-difference-between-my-variablename-and-my-variablename-in-perl\">this question</a> and <a href=\"https://stackoverflow.com/questions/10031455/using-my-with-parentheses-and-only-one-variable\">this question</a> on the differences between <code>my $var</code> and <code>my ($var)</code>, I was still unable to see why the Data::Dumper module uses parens in the following excerpt from its code. None of the differences described in the answers to those questions seem to apply here.</p>\n\n<pre><code>  my($s) = {\n        level      =&gt; 0,           # current recursive depth\n        indent     =&gt; $Indent,     # various styles of indenting\n        # a bunch of other settings removed for brevity's sake\n        deparse    =&gt; $Deparse,    # use B::Deparse for coderefs\n        noseen     =&gt; $Sparseseen, # do not populate the seen hash unless necessary\n       };\n</code></pre>\n\n<p>I tested it out in a small script and I can't perceive any difference between declaring this as <code>my ($s)</code> or as <code>my $s</code>. In both cases it is a scalar reference to a hash, so far as I can tell.</p>\n\n<p>Am I missing something?</p>\n"}, {"tags": ["perl", "moose"], "comments": [{"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 1, "creation_date": 1495581102, "post_id": 44146338, "comment_id": 75310532, "body": "I am not sure why you need the Maybe at all. The attribute is not required, so if it isn&#39;t supplied, it will not be set. You could add a predicate =&gt; &#39;has_birthdate&#39; to be able to check whether it was set. Please note that the way you coerce, once something IS supplied, the parser method will die anyway, so the maybe would not help. This is perfectly in line with how Moose works generally: supply invalid input, and it dies with an appropriate error."}, {"owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1495581410, "post_id": 44146338, "comment_id": 75310621, "body": "@bytepusher, good point, I&#39;ve added 2nd test case to illustrate what I seek."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1495581576, "post_id": 44146338, "comment_id": 75310666, "body": "I understand what Maybe does. I am saying you could change that to <code>is $student-&gt;has_birthdate, undef</code> and just not set it in new. I do not see the value in keeping the undef ;)"}, {"owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "reply_to_user": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1495582847, "post_id": 44146338, "comment_id": 75310985, "body": "There&#39;s a subtle but important difference. $student-&gt;has_birth_d tells us whether birth_d has been entered. is ($student-&gt;birth_d, undef) tells us birth_d has been entered as &#39;unknown&#39;."}, {"owner": {"reputation": 1242, "user_id": 7061430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81912bc5ca02376f99a5ee44531dee27?s=128&d=identicon&r=PG", "display_name": "nothingmuch", "link": "https://stackoverflow.com/users/7061430/nothingmuch"}, "edited": false, "score": 0, "creation_date": 1495585492, "post_id": 44146338, "comment_id": 75311575, "body": "Regarding MooseX::Types - that bareword unorthodoxy is an advantage - it lets you get <a href=\"http://perldoc.perl.org/strict.html#strict-subs\" rel=\"nofollow noreferrer\">compile time checking</a>"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1495587675, "post_id": 44146338, "comment_id": 75312039, "body": "What about <code>Birth_d|Undef</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 0, "creation_date": 1495582891, "post_id": 44146691, "comment_id": 75310999, "body": "See my 3rd comment above, I think we posted at the same time."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "reply_to_user": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 1, "creation_date": 1495583035, "post_id": 44146691, "comment_id": 75311035, "body": "And birthdate not set is &quot; I know it, but I ain&#39;t tellin&#39; &quot; ?"}], "tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": true, "score": 3, "last_activity_date": 1495582995, "last_edit_date": 1495582995, "creation_date": 1495582732, "answer_id": 44146691, "question_id": 44146338, "link": "https://stackoverflow.com/questions/44146338/attribute-is-maybesomesubtype-returns-attribute-does-not-pass-type-con/44146691#44146691", "title": "Attribute is =&gt; &#39;Maybe[SomeSubtype]&#39; returns Attribute () does not pass type constraint", "body": "<p>I would find it more useful to not have a Maybe[Birth_d] type, but simply declare the attribute with the Birth_d type, and no \"required\" set.</p>\n\n<p>That way, if a valid String is passed in, it will be accepted, an invalid String will lead to an error, and nothing just does not need to be passed in.</p>\n\n<p>However, you can coerce to a maybe type:</p>\n\n<pre><code>subtype 'MaybeBirth_d',\n    as maybe_type(class_type('DateTime'));\n\ncoerce 'MaybeBirth_d',\n    from 'Str',\n    via { DateTime::Format::MySQL-&gt;parse_date( $_ ) };\n\nhas 'birth_d' =&gt; (\n    isa =&gt; 'MaybeBirth_d',\n    coerce =&gt; 1,\n    is =&gt; 'ro',\n);\n</code></pre>\n\n<p>I just do not see the value of being able to pass in undef for a birthdate - how is that better than not setting it?</p>\n\n<p>I would also like to suggest using <code>no Moose::Util::TypeConstraints;</code> and <code>no Moose;</code> at the end of your package, or <code>namespace::autoclean;</code> at the beginning, as well as <code>__PACKAGE__-&gt;meta-&gt;make_immutable;</code> at the end of your Student class. </p>\n"}, {"comments": [{"owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "edited": false, "score": 0, "creation_date": 1495601220, "post_id": 44147003, "comment_id": 75315429, "body": "thanks for your answer, it explains the key point I was missing -- that Moose won&#39;t do so-called &quot;deep coercion&quot;. So while Maybe[SomeSubtype] is ok on its own, it won&#39;t work with coercion."}], "tags": [], "owner": {"reputation": 1242, "user_id": 7061430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81912bc5ca02376f99a5ee44531dee27?s=128&d=identicon&r=PG", "display_name": "nothingmuch", "link": "https://stackoverflow.com/users/7061430/nothingmuch"}, "is_accepted": false, "score": 4, "last_activity_date": 1495650210, "last_edit_date": 1495650210, "creation_date": 1495585176, "answer_id": 44147003, "question_id": 44146338, "link": "https://stackoverflow.com/questions/44146338/attribute-is-maybesomesubtype-returns-attribute-does-not-pass-type-con/44147003#44147003", "title": "Attribute is =&gt; &#39;Maybe[SomeSubtype]&#39; returns Attribute () does not pass type constraint", "body": "<p>Moose <a href=\"https://metacpan.org/pod/distribution/Moose/lib/Moose/Manual/Types.pod#Deep-coercion\" rel=\"nofollow noreferrer\">does not do any chaining of coercions</a>, in other words you have to tell it explicitly how to convert to a <code>Maybe[Birth_d]</code>.</p>\n\n<p>You can do this by reusing the existing coercion to <code>Birth_d</code>:</p>\n\n<pre><code>package Student;\nuse Moose;\nuse Moose::Util::TypeConstraints;\n\nuse DateTime::Format::MySQL;\n\n# save the Moose::Meta::TypeConstraint object\n# you can also get it with find_type_constraint('Birth_d')\nmy $birth_d = class_type 'Birth_d', { class =&gt; 'DateTime' };\n\ncoerce 'Birth_d',\n  from 'Str',\n   via { DateTime::Format::MySQL-&gt;parse_date( $_ ) };\n\nsubtype 'MaybeBirth_d',\n     as 'Maybe[Birth_d]';\n\ncoerce 'Maybe[Birth_d]',\n  from 'Str|Undef',\n   via { $birth_d-&gt;coerce($_) };\n\nhas 'name' =&gt; (\n  isa =&gt; 'Str',\n  is =&gt; 'ro',\n);\n\nhas 'birth_d' =&gt; (\n  isa =&gt; 'Maybe[Birth_d]',\n  coerce =&gt; 1,\n  is =&gt; 'ro',\n  predicate =&gt; 'has_birth_d', # as per your comment\n);\n\n\npackage main;\n\nuse Test::More;\n\nmy $student = Student-&gt;new(\n  name =&gt; 'Johnnie Appleseed',\n  birth_d =&gt; '2015-01-01'\n);\n\nis ( $student-&gt;birth_d-&gt;ymd(), '2015-01-01' );\n\nmy $student2 = Student-&gt;new(\n  name =&gt; 'Foo Bar',\n  birth_d =&gt; undef\n);\n\nis( $student2-&gt;birth_d, undef );\n\nok( $student2-&gt;has_birth_d );\n\ndone_testing;\n</code></pre>\n"}], "owner": {"reputation": 1437, "user_id": 2518556, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/7mTHZ.jpg?s=128&g=1", "display_name": "yahermann", "link": "https://stackoverflow.com/users/2518556/yahermann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 44146691, "answer_count": 2, "score": 4, "last_activity_date": 1495650210, "creation_date": 1495580221, "last_edit_date": 1495582923, "question_id": 44146338, "link": "https://stackoverflow.com/questions/44146338/attribute-is-maybesomesubtype-returns-attribute-does-not-pass-type-con", "title": "Attribute is =&gt; &#39;Maybe[SomeSubtype]&#39; returns Attribute () does not pass type constraint", "body": "<p>I've created subtype <code>Birth_d</code> with coercion as shown below, and I'm trying to use it in combination with the built-in <code>Maybe</code> type, per <a href=\"https://metacpan.org/pod/Moose::Manual::Types\" rel=\"nofollow noreferrer\">Moose::Manual::Types</a>.</p>\n\n<p>I'm getting the error <code>You cannot coerce an attribute (birth_d) unless its type (Maybe[Birth_d]) has a coercion</code>.  Here's complete test code:</p>\n\n<pre><code>package Student;\nuse Moose;\nuse Moose::Util::TypeConstraints;\n\nuse DateTime::Format::MySQL;\n\nclass_type 'Birth_d', { class =&gt; 'DateTime' };\n\ncoerce 'Birth_d',\n  from 'Str',\n  via { DateTime::Format::MySQL-&gt;parse_date( $_ ) };\n\nhas 'name' =&gt; (\n  isa =&gt; 'Str',\n  is =&gt; 'ro',\n);\n\nhas 'birth_d' =&gt; (\n  isa =&gt; 'Maybe[Birth_d]',   # This works:    isa =&gt; 'Birth_d'\n  coerce =&gt; 1,\n  is =&gt; 'ro',\n);\n\n\npackage main;\n\nuse Test::More;\n\nmy $student = Student-&gt;new(\n  name =&gt; 'Johnnie Appleseed',\n  birth_d =&gt; '2015-01-01'\n  );\n\nis ( $student-&gt;birth_d-&gt;ymd(), '2015-01-01' );\n\nmy $student2 = Student-&gt;new(\n  name =&gt; 'Foo Bar',\n  birth_d =&gt; undef\n  );\n\nis( $student2-&gt;birth_d, undef );\n</code></pre>\n\n<p>Replacing <code>isa =&gt; 'Maybe[Birth_d]'</code> with <code>isa =&gt; 'Birth_d'</code> works, but is not what is needed. I need to make the birth_d optional, and if not supplied, should be undef.</p>\n\n<p>I should add, I tried using MooseX::Types to tuck this Birth_d type away in a separate place, but found its cavalier use of barewords a bit unorthodox, so I slowly backed away. I'm open to reconsidering it, if it makes sense to do so.</p>\n"}, {"tags": ["perl", "hash", "key"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1495576562, "post_id": 44145515, "comment_id": 75309052, "body": "If you are mapping a strictly increasing sequence of integers with no gaps to data, the correct structure to use is an array not a hash."}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1495588854, "post_id": 44145803, "comment_id": 75312304, "body": "Should be rand($hi-$lo+1)"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1495590534, "post_id": 44145803, "comment_id": 75312706, "body": "@ysth <code>rand_int_between($lo, $hi + 1);</code>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1495591496, "post_id": 44145803, "comment_id": 75312936, "body": "So to get a rand int between 50 and 100 you call rand_int_between(50, 101)?  :("}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1495597722, "post_id": 44145803, "comment_id": 75314379, "body": "@ysth I believe in half open intervals. You use <code>rand_int_between(50, 101)</code> only if you want <code>100</code> in the range of the function."}, {"owner": {"reputation": 191, "user_id": 5117137, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/745887e0165f04631e0cc59658f17505?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Szczepanik", "link": "https://stackoverflow.com/users/5117137/piotr-szczepanik"}, "edited": false, "score": 0, "creation_date": 1495615577, "post_id": 44145803, "comment_id": 75323554, "body": "Thank you ! That was helpful"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 2, "last_activity_date": 1598212456, "last_edit_date": 1598212456, "creation_date": 1495577176, "answer_id": 44145803, "question_id": 44145515, "link": "https://stackoverflow.com/questions/44145515/perl-guessing-game-saving-data-into-hash/44145803#44145803", "title": "Perl guessing game - Saving data into hash", "body": "<p>First, some feedback because you are just beginning to learn Perl.</p>\n<ol>\n<li><p>Give meaningful names to things. Instead of <code>loot</code>, the subroutine picking the random number should be something like <code>rand_int_between</code>. The lower and upper bounds should be parameters to the function, not hard-coded in the body of the function.</p>\n<p>sub rand_int_between {\nmy ($lo, $hi) = @_;\nreturn int(rand($hi - $lo) + $lo);\n}</p>\n</li>\n<li><p>Don't call the state variable <code>$state</code>. Instead, use something like <code>$keep_guessing</code> so conditions read more naturally. The clarity of your code is a reflection on the clarity of your thinking.</p>\n</li>\n<li><p>There are no builtin values <code>true</code> and <code>false</code> in Perl. Therefore, I suspect you slapped the <code>use strict</code> just for show, and your real code does not have it. Don't do that. It is there to help you.</p>\n</li>\n<li><p>Don't use a variable name like <code>$variable</code>. Instead use something meaningful like <code>$picked</code>.</p>\n</li>\n<li><p>If you are mapping a strictly increasing sequence of integers with no gaps to data, the correct structure to use is an array not a hash.</p>\n</li>\n<li><p>Hashes have no inherent order. That means, if you want to list all the moves the player made in order, you will have to waste cycles sorting those keys, whereas if you had just kept the moves in an array, it would naturally be sorted in play order.</p>\n</li>\n<li><p>Regardless, there is no hash in your script. You do not save the moves at all. You also do not specify what purpose the hash serves. So, one has to imagine what you might want to do with it.</p>\n</li>\n</ol>\n<p>With those points in mind, this is how one might write such a game:</p>\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse constant DEBUG =&gt; !!$ENV{DEBUG_GUESSING_GAME};\n\nplay( 50, 100 );\n\nsub play {\n    my ($lo, $hi) = @_;\n\n    my $secret = rand_int_between($lo, $hi + 1);\n    DEBUG\n        and warn &quot;Secret number is $secret\\n&quot;;\n\n    my %human_moves;\n    my $turn;\n\n    while ( 1 ) {\n        ++ $turn;\n        my $picked = human_picks($lo, $hi);\n\n        $human_moves{ $turn } = $picked;\n\n        if ( $secret == $picked ) {\n            printf &quot;You won after %d guesses\\n&quot;, $turn;\n            last;\n        }\n\n        $picked = computer_picks($lo, $hi);\n\n        if ( $secret == $picked ) {\n            printf &quot;The computer won after %d turns\\n&quot;, $turn;\n            last;\n        }\n    }\n\n    print &quot;Your guesses were:\\n&quot;;\n    print &quot;\\t$human_moves{$_}\\n&quot; for sort { $a &lt;=&gt; $b } keys %human_moves;\n\n    return;\n}\n\nsub computer_picks {\n    return rand_int_between(@_);\n}\n\nsub human_picks {\n    my ($lo, $hi) = @_;\n    printf &quot;Pick a number between %d and %d\\n&quot;, $lo, $hi;\n    my $input = &lt;STDIN&gt;;\n    trim( $input );\n    return $input;\n}\n\nsub trim {\n    $_[0] =~ s/^\\s+//;\n    $_[0] =~ s/\\s+\\z//;\n    return;\n}\n\nsub rand_int_between {\n    my ($lo, $hi) = @_;\n    return int(rand($hi - $lo) + $lo);\n}\n</code></pre>\n<p>The line</p>\n<pre><code>$human_moves{ $turn } = $picked;\n</code></pre>\n<p>associates the current value of <code>$turn</code> with the number the human player picked.</p>\n<p><code>sort { $a &lt;=&gt; $b } keys %human_moves</code> sorts the keys of the <code>%human_moves</code> hash in numerical order, from the smallest to the largest (see <code>perldoc -f sort</code>).</p>\n<p>Thus, the loop</p>\n<pre><code>print &quot;\\t$human_moves{$_}\\n&quot; for sort { $a &lt;=&gt; $b } keys %human_moves;\n</code></pre>\n<p>prints each number guessed in move order.</p>\n<p>If you had saved the moves in an array, just</p>\n<pre><code>print &quot;\\t$_\\n&quot; for @human_moves;\n</code></pre>\n<p>would have sufficed.</p>\n"}], "owner": {"reputation": 191, "user_id": 5117137, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/745887e0165f04631e0cc59658f17505?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Szczepanik", "link": "https://stackoverflow.com/users/5117137/piotr-szczepanik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1598212456, "creation_date": 1495575694, "last_edit_date": 1495576527, "question_id": 44145515, "link": "https://stackoverflow.com/questions/44145515/perl-guessing-game-saving-data-into-hash", "title": "Perl guessing game - Saving data into hash", "body": "<p>I have a problem writing a simple guessing game in Perl.</p>\n\n<p>The game supposed to choose a number from the range 50-100. </p>\n\n<p>There are 2 people in the game. Player and computer take turns the numbers until one of them guesses correctly.</p>\n\n<p>Guess of each player supposed to be save as a hash where key is the guess number and the value is the number which user entered.</p>\n\n<p>For example</p>\n\n<p>User puts</p>\n\n<p>56,53,67 and 67 is a match.</p>\n\n<p>so it suppose to looks like this :</p>\n\n<pre><code>my %guesses = (1 =&gt; 56, 2 =&gt; 53, 3 =&gt; 67 )\n</code></pre>\n\n<p>I just started to learn Perl and I can not understand the hashes. Could you help me how to implement this part in code?</p>\n\n<p>(I think there is also a mistake in a loop, cause it's not working correctly? )</p>\n\n<p>Here is my code: </p>\n\n<pre><code>use warnings;\nuse strict;\n\nsub loot{\n$lower_limit = 50;\n$upper_limit = 100;\n\nmy $random_number = int(rand($upper_limit-$lower_limit)) + $lower_limit;\nreturn $random_number;\n}\n\nmy $number = loot;\nmy $counter = 0;\nprint $number;\n\nprint \"\\n\";\n\nmy $state = false;\n\nwhile( $state == true ){\n\n    ++$counter;\n    print \"Pick number: \\n\";\n    my $variable = &lt;STDIN&gt;;\n    chomp($variable);\n\n\n    if($variable == $number){\n            print \"You have won\";\n            print \"\\n\";\n            $state = true;\n            printf \"You made : $counter guesses.\";\n\n            exit;\n\n        }\n    else{\n\n        print \"--------- \\n\";\n            my $a = loot;\n            print \"Computer guess it: $a \";\n            print \"\\n\";\n            if($a == $number){\n                $state = true;\n                print \"Computer won\";\n                print \"\\n\";\n                printf \"Computer made : $counter guesses.\";\n\n                exit;\n            }\n    }\n</code></pre>\n"}, {"tags": ["linux", "perl", "module", "cpan"], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1495576195, "last_edit_date": 1592644375, "creation_date": 1495576195, "answer_id": 44145637, "question_id": 44145459, "link": "https://stackoverflow.com/questions/44145459/cant-install-netssh2-perl-module/44145637#44145637", "title": "Cant install Net::SSH2 perl module", "body": "<p>This <a href=\"http://www.perlmonks.org/bare/?node_id=459080\" rel=\"nofollow noreferrer\">PerlMonks thread</a> has someone else with a similar problem. It looks like this answer worked in that case:</p>\n<blockquote>\n<p>It looks to me like you have some corrupt data in your .cpan directory. I'd blow it away and try again:</p>\n<pre><code>$ rm -rf /home/user/.cpan\n</code></pre>\n</blockquote>\n<p>Try it at your own risk. In your case, you would need to delete <code>/root/.cpan</code>.</p>\n<p>In addition, the correct use of <code>cpan</code> is to list the module names after the command. So, instead of <code>cpan install Net::SSH2</code>, you should use <code>cpan Net::SSH2</code>. If you use the <code>-f</code> option, you must specify <code>-i</code>: <code>cpan -f -i Net::SSH2</code>, but try without forcing things first. You do not want to willy-nilly install broken modules in the system's <code>perl</code>.</p>\n<p>In fact, in general, you do not want to mess with the system's <code>perl</code> at all. Build your own <code>perl</code> and mess with it as much as you want.</p>\n<p>PS: <a href=\"https://metacpan.org/pod/install\" rel=\"nofollow noreferrer\">install</a> is a dummy module created precisely because many people make this mistake.</p>\n"}, {"tags": [], "owner": {"reputation": 298, "user_id": 7994314, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lAry5T1ytg4/AAAAAAAAAAI/AAAAAAAAAAA/9bdsJACx_qA/photo.jpg?sz=128", "display_name": "Deathgrip", "link": "https://stackoverflow.com/users/7994314/deathgrip"}, "is_accepted": false, "score": 1, "last_activity_date": 1495576635, "creation_date": 1495576635, "answer_id": 44145709, "question_id": 44145459, "link": "https://stackoverflow.com/questions/44145459/cant-install-netssh2-perl-module/44145709#44145709", "title": "Cant install Net::SSH2 perl module", "body": "<p>It seems that your installation of CPAN is incomplete or otherwise corrupted. OS and Perl version could be helpful. On many current Linux distributions, Perl modules and their dependencies can be installed using the normal system software utilities like yum (RHEL/CentOS), apt (Debian/Ubuntu) and yast (SuSE). Drawback is that versions may not be the most current.</p>\n"}, {"tags": [], "owner": {"reputation": 3226, "user_id": 1964690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120d7c6980b552a124f79016300ca954?s=128&d=identicon&r=PG", "display_name": "jrefior", "link": "https://stackoverflow.com/users/1964690/jrefior"}, "is_accepted": false, "score": 0, "last_activity_date": 1495595241, "creation_date": 1495595241, "answer_id": 44148273, "question_id": 44145459, "link": "https://stackoverflow.com/questions/44145459/cant-install-netssh2-perl-module/44148273#44148273", "title": "Cant install Net::SSH2 perl module", "body": "<p>The safest and most convenient way to install Perl modules can depend on distribution.  For example, <a href=\"https://developer.fedoraproject.org/tech/languages/perl/perl-modules.html\" rel=\"nofollow noreferrer\">the recommended method on Fedora</a> is:</p>\n\n<pre><code>$ sudo dnf install 'perl(Net::SSH2)'\n</code></pre>\n\n<p>As shown in that example, installing Perl modules on your system usually requires sudo or the root user.  So you might want to try your command with sudo if you're a sudoer.</p>\n\n<p>If you don't have that kind of power, you may need to install it locally.  That usually means downloading it to a Perl library directory you create in your home directory, and including the path in <code>@INC</code> somehow, such as updating your <code>$PERL5LIB</code> to include the <code>/home/user/perl/modules/Net-SSH2/lib/</code> or whatever your path to the module lib directory is.</p>\n"}], "owner": {"reputation": 126, "user_id": 8056023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44596ae844803419c40b4ed4110cf73e?s=128&d=identicon&r=PG&f=1", "display_name": "Jobine23", "link": "https://stackoverflow.com/users/8056023/jobine23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 676, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1495595241, "creation_date": 1495575382, "question_id": 44145459, "link": "https://stackoverflow.com/questions/44145459/cant-install-netssh2-perl-module", "title": "Cant install Net::SSH2 perl module", "body": "<p>I'm trying to install a perl module: Net::SSH2 with cpan but doesn't actually works.</p>\n\n<pre><code>cpan -f install Net::SSH2\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>CPAN: Storable loaded ok (v2.20) Going to read\n  '/root/.cpan/sources/authors/01mailrc.txt.gz'\n  ............................................................................DONE\n  Going to read '/root/.cpan/sources/modules/02packages.details.txt.gz' \n  Database was generated on Mon, 22 May 2017 22:29:03 GMT   HTTP::Date\n  not available .............   New CPAN.pm version (v2.16) available.<br>\n  [Currently running version is v1.9402]   You might want to try\n      install CPAN\n      reload cpan   to both upgrade CPAN.pm and run the new version without leaving   the current session.</p>\n  \n  <p>...............................................................DONE\n  Going to read '/root/.cpan/sources/modules/03modlist.data.gz' Can't\n  locate object method \"data\" via package \"CPAN::Modulelist\" (perhaps\n  you forgot to load \"CPAN::Modulelist\"?) at (eval 16) line 1.  at\n  /usr/share/perl5/CPAN/Index.pm line 518\n          CPAN::Index::rd_modlist('CPAN::Index', '/root/.cpan/sources/modules/03modlist.data.gz') called at\n  /usr/share/perl5/CPAN/Index.pm line 85\n          CPAN::Index::reload('CPAN::Index') called at /usr/share/perl5/CPAN.pm line 955\n          CPAN::exists('CPAN=HASH(0x21fd2f0)', 'CPAN::Module', 'install') called at /usr/share/perl5/CPAN/Shell.pm line 1243\n          CPAN::Shell::expandany('CPAN::Shell', 'install') called at /usr/share/perl5/CPAN/Shell.pm line 1639\n          CPAN::Shell::rematein('CPAN::Shell', 'force', 'install', 'install') called at /usr/share/perl5/CPAN/Shell.pm line 1935\n          CPAN::Shell::<strong>ANON</strong>('CPAN::Shell', 'install', 'install') called at /usr/bin/cpan line 318\n          main::_default('ARRAY(0x1938f18)') called at /usr/bin/cpan line 278</p>\n</blockquote>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495565841, "post_id": 44142837, "comment_id": 75303789, "body": "Your code contradicts your question."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1495575102, "last_edit_date": 1495575102, "creation_date": 1495567803, "answer_id": 44143503, "question_id": 44142837, "link": "https://stackoverflow.com/questions/44142837/how-can-i-change-date-to-swedish-time-zone-in-a-perl-script/44143503#44143503", "title": "How can I change date to swedish time zone in a Perl script?", "body": "<p>The output you are getting is</p>\n\n<pre><code>Invalid date format: 20170119121941Z\n</code></pre>\n\n<p>Your code is failing with that message because <code>20170119121941Z</code> doesn't match a valid ISO8601 format.</p>\n\n<p>There's also the issue that you used <code>strftime</code> correctly twice, then did something nonsense for the third use.</p>\n\n<p>Solution:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw( say state );\n\nuse DateTime::Format::Strptime qw( );\n\nsub localize_dt_str {\n   my ($dt_str) = @_;\n\n   state $format = DateTime::Format::Strptime-&gt;new(\n      pattern  =&gt; '%Y%m%d%H%M%S%Z',\n      on_error =&gt; 'croak',\n   );\n\n   my $dt = $format-&gt;parse_datetime($dt_str);\n   $dt-&gt;set_time_zone('Europe/Stockholm');\n   return $dt-&gt;strftime('%b %e, %Y, %l:%M %p');\n}\n\nsay localize_dt_str('20170119121941Z');   # Jan 19, 2017,  1:19 PM\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1495575102, "creation_date": 1495565437, "last_edit_date": 1495565786, "question_id": 44142837, "link": "https://stackoverflow.com/questions/44142837/how-can-i-change-date-to-swedish-time-zone-in-a-perl-script", "title": "How can I change date to swedish time zone in a Perl script?", "body": "<p>How can I convert a date in format '20170119121941Z' to Swedish time zone in a Perl script?</p>\n\n<p>My current snippet is:</p>\n\n<pre><code>sub get_Date {\n\nmy $content = shift;\n\nmy $iso8601 = DateTime::Format::ISO8601 -&gt; new;\nmy $dt = $iso8601-&gt;parse_datetime( $content );\n###Set the time zone to \"Europe/Stockholm\" .\n$dt-&gt;set_time_zone(\"Europe/Stockholm\");\nmy $dayofmonth = $dt-&gt;strftime(\"%d\");\n$dayofmonth =~ s/^0//;\nmy $hour = $dt-&gt;strftime(\"%I\");\n$hour =~ s/^0//;\nmy $ISODate = $dt-&gt;strftime(\"%b \" . $dayofmonth . \", %Y, \" . $hour . \":%M %p \", localtime(time));\nreturn($ISODate);\n\n}\n</code></pre>\n"}, {"tags": ["perl", "hash", "reference"], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495560844, "post_id": 44137296, "comment_id": 75301050, "body": "I think in that case the sigil is <code>$</code> because <code>$hash</code> is a scalar. if you had used <code>${$hash}{$color}</code> then the <i>second</i> dollar is because the result is a scalar."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495561270, "post_id": 44137296, "comment_id": 75301281, "body": "@Borodin in your case the <i>first</i> dollar is for the scalar result. The second one inside the first curlies is because <code>$hash</code> is a scalar. But to be honest that&#39;s a bit too complicated for what the question is asking and the perceived level of the OP. I believe in teaching one way first, so they can get started."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495561385, "post_id": 44137296, "comment_id": 75301363, "body": "Yes, when I said &quot;second&quot; I meant &quot;additional&quot;, or in fact the first one!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495562446, "post_id": 44137296, "comment_id": 75302000, "body": "@Borodin do you have an idea for a talk I could give at the German Perl Workshop and/or YAPC::EU? I can&#39;t come up with anything."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495564775, "post_id": 44137296, "comment_id": 75303231, "body": "I could come up with a few things, but I&#39;d be guessing about whether they&#39;re a fit with your likes and abilities, and the events themselves. Why don&#39;t you look back through the <a href=\"http://perlweekly.com/archive/\" rel=\"nofollow noreferrer\"><i>Perl Weekly</i> archive</a> for inspiration?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495566779, "post_id": 44137296, "comment_id": 75304248, "body": "Remember to link me to any videos."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495569534, "post_id": 44137296, "comment_id": 75305639, "body": "Incidentally, <i>straightforward</i> is an unhyphenated, although unlikely, English word :)"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 5, "last_activity_date": 1495572730, "last_edit_date": 1495572730, "creation_date": 1495548923, "answer_id": 44137296, "question_id": 44137097, "link": "https://stackoverflow.com/questions/44137097/understanding-hash-references/44137296#44137296", "title": "understanding hash references", "body": "<p>This is fairly straightforward. You access an element in a hash reference by using curly braces <code>{}</code> to tell Perl you want a hash element, and the arrow operator <code>-&gt;</code> to tell it to dereference. The <a href=\"https://en.wikipedia.org/wiki/Sigil_(computer_programming)\" rel=\"nofollow noreferrer\"><em>sigil</em></a> is a dollar sign <code>$</code> because the value you get back is <a href=\"https://en.wikipedia.org/wiki/Variable_(computer_science)\" rel=\"nofollow noreferrer\"><em>scalar</em></a>, which means it is a single atomic value.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $hash = {\n    red   =&gt; 'ff0000',\n    green =&gt; '00ff00',\n    blue  =&gt; '0000ff',\n};\n\nmy $color = 'red';\nmy $red   = $hash-&gt;{$color};\n\nprint $red;\n</code></pre>\n\n<p>This prints</p>\n\n<pre><code>ff0000\n</code></pre>\n\n<p>You should take a look at <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a>, <a href=\"http://perldoc.perl.org/perlref.html\" rel=\"nofollow noreferrer\">perlref</a> and <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a> in perldoc.</p>\n"}, {"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1495613909, "post_id": 44143197, "comment_id": 75322422, "body": "But in fairness - <code>%data</code> is scarcely more descriptive than <code>%hash</code> :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1495633259, "post_id": 44143197, "comment_id": 75336542, "body": "@Sobrique: It&#39;s the best I could do without knowing what this stuff is. In fact it&#39;s probably an abstract invention."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1495566700, "creation_date": 1495566700, "answer_id": 44143197, "question_id": 44137097, "link": "https://stackoverflow.com/questions/44137097/understanding-hash-references/44143197#44143197", "title": "understanding hash references", "body": "<p>Hopefully you know how to access an <em>ordinary</em> hash, like</p>\n\n<pre><code>my %data = ( red =&gt; 'a', blue =&gt; 'b', green =&gt; 'c' );\n</code></pre>\n\n<p>There's no need for quotes around the colour names because the \"fat comma\" <code>=&gt;</code> does that for us</p>\n\n<p>(I dislike <code>%hash</code> as a name for a hash, because the <code>%</code> tells us that it's a hash.)</p>\n\n<p>Let's set</p>\n\n<pre><code>my $color = 'blue';\n</code></pre>\n\n<p>Now, you can access the <code>blue</code> element of the hash with</p>\n\n<pre><code>$data{$color}\n</code></pre>\n\n<p>The initial dollar <code>$</code> is there because the result of accessing a single hash element is a <em>scalar</em>, and Perl scalars start with a dollar. The value of this expression is the string <code>b</code></p>\n\n<p>You may also write this as</p>\n\n<pre><code>${data}{$color}\n</code></pre>\n\n<p>which has exactly the same result. This may not seem very useful, but bear with me: it will be a good <em>aide-memoire</em></p>\n\n<p>Now, we can set a (scalar) variable <code>$hash</code> to be a reference to our hash <code>%data</code></p>\n\n<pre><code>my $hash = \\%data;\n</code></pre>\n\n<p>and we can access the same element as before by replacing the <em>name</em> of the hash <code>data</code> by the variable containing the reference. So</p>\n\n<pre><code>${data}{$color}\n</code></pre>\n\n<p>is now the same as </p>\n\n<pre><code>${$hash}{$color}\n</code></pre>\n\n<p>It's also the same as</p>\n\n<pre><code>$$hash{$color}\n</code></pre>\n\n<p>but now that we're dealing with a data reference, it's far less obvious what that means. You can stick with <code>${$hash}{$color}</code> or you can use the newer <em>arrow operator</em> and write</p>\n\n<pre><code>$hash-&gt;{$color}\n</code></pre>\n\n<p>which is the generally recommended and least ambiguous syntax</p>\n\n<p>Now, your question was (paraphrased)</p>\n\n<blockquote>\n  <p>How can I set the variable <code>$red</code> equal to the value in the hash referred to by <code>$hash</code> with a key of <code>$color</code>?</p>\n</blockquote>\n\n<p>While it's horribly confusing to use <code>$red</code> as the variable name, I'll go with it!</p>\n\n<p>You want</p>\n\n<pre><code>my $red = $hash-&gt;{$color}\n</code></pre>\n\n<p>With the above values, <code>$red</code> will now contain the string <code>b</code>. If you're happy with that then read no further</p>\n\n<p>The same assignmment can be made</p>\n\n<pre><code>my $red = ${$hash}{$color}\n</code></pre>\n\n<p>or, worse</p>\n\n<pre><code>my $red = $$hash{$color}\n</code></pre>\n\n<p>and you may well see these in older (or new, badly-written) code</p>\n\n<p>I hope that helps?</p>\n"}], "owner": {"reputation": 303, "user_id": 7048060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96a3440d502edb392034a77e4c1d70fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ashley", "link": "https://stackoverflow.com/users/7048060/ashley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 44137296, "answer_count": 2, "score": -3, "last_activity_date": 1495572730, "creation_date": 1495548404, "question_id": 44137097, "link": "https://stackoverflow.com/questions/44137097/understanding-hash-references", "title": "understanding hash references", "body": "<p>I am fairly new to perl and I am having a hard time understanding hash references and I am slightly stuck on a certain concept/question: </p>\n\n<p>What code could I use to set the variable $red equal to the value at key $color in the hash reference $hash?</p>\n\n<p>This is just a simpler version of a more complex question. \nThanks for the help. </p>\n"}, {"tags": ["windows", "perl", "unicode", "utf-8"], "comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1495541643, "post_id": 44134093, "comment_id": 75287523, "body": "<a href=\"https://stackoverflow.com/questions/627661/how-can-i-output-utf-8-from-perl\">check this</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8053266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0e50a276018b19c4feb3dcddad51124?s=128&d=identicon&r=PG&f=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/8053266/sumit"}, "edited": false, "score": 0, "creation_date": 1495544161, "post_id": 44134672, "comment_id": 75289397, "body": "Still on windows system in notepad++ it is opening in ANSI format, when we            manually make the file UTF8 from options than only the content is visible in original format"}, {"owner": {"reputation": 1979, "user_id": 2789312, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4OgOz.png?s=128&g=1", "display_name": "palik", "link": "https://stackoverflow.com/users/2789312/palik"}, "edited": false, "score": 0, "creation_date": 1495544958, "post_id": 44134672, "comment_id": 75290003, "body": "It&#39;s a pity, I haven&#39;t windows to test it"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 1, "user_id": 8053266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0e50a276018b19c4feb3dcddad51124?s=128&d=identicon&r=PG&f=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/8053266/sumit"}, "edited": false, "score": 0, "creation_date": 1495546344, "post_id": 44134672, "comment_id": 75291114, "body": "@sumit Which version of Windows are you using? This works perfectly well on Windows 10 for me."}, {"owner": {"reputation": 1, "user_id": 8053266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0e50a276018b19c4feb3dcddad51124?s=128&d=identicon&r=PG&f=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/8053266/sumit"}, "edited": false, "score": 0, "creation_date": 1495549078, "post_id": 44134672, "comment_id": 75293249, "body": "I am using Windows 7"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1495553326, "post_id": 44134672, "comment_id": 75296526, "body": "This code works perfectly fine on Windows or otherwise, as long as the source code is encoded using UTF-8."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1495553589, "post_id": 44134672, "comment_id": 75296703, "body": "Re &quot;<i>when we manually make the file UTF8 from options than only the content is visible in original format</i>&quot;, I&#39;m don&#39;t know what you mean by &quot;original format&quot;, but if you&#39;re saying you see <code>\u092c \u0932\u094b\u0917\u094b\u0902 \u0915\u0947 \u0932\u093f\u090f \u090f\u0915 \u0938\u092e\u093e sum</code> when you tell Notepad++ the file is UTF-8, then the program worked."}], "tags": [], "owner": {"reputation": 1979, "user_id": 2789312, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4OgOz.png?s=128&g=1", "display_name": "palik", "link": "https://stackoverflow.com/users/2789312/palik"}, "is_accepted": false, "score": 0, "last_activity_date": 1495553433, "last_edit_date": 1495553433, "creation_date": 1495542052, "answer_id": 44134672, "question_id": 44134093, "link": "https://stackoverflow.com/questions/44134093/is-it-possible-to-make-content-export-use-utf-8-instead-of-ansi-in-perl/44134672#44134672", "title": "Is it possible to make Content Export use UTF-8 instead of ANSI in perl", "body": "<p>See also <a href=\"https://stackoverflow.com/a/21839448/2789312\">Encode all standard output as utf-8</a> and <a href=\"https://www.perl.com/pub/2012/04/perlunicook-standard-preamble.html\" rel=\"nofollow noreferrer\">Perl Unicode Cookbook: The Standard Preamble</a></p>\n\n<pre><code>use utf8;\nuse strict;\nuse warnings;\nuse open ':std', ':encoding(UTF-8)';\n\nmy $filename = \"123.txt\";\nmy $content = \"\u092c \u0932\u094b\u0917\u094b\u0902 \u0915\u0947 \u0932\u093f\u090f \u090f\u0915 \u0938\u092e\u093e sum\";\nopen(my $FILE, \"&gt;\", $filename)\n   or die(\"can't open \\\"$filename\\\": $!\\n\");\n\nprint $FILE $content;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8053266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0e50a276018b19c4feb3dcddad51124?s=128&d=identicon&r=PG&f=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/8053266/sumit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "closed_date": 1495542719, "answer_count": 1, "score": 0, "last_activity_date": 1495553433, "creation_date": 1495540404, "last_edit_date": 1495546380, "question_id": 44134093, "link": "https://stackoverflow.com/questions/44134093/is-it-possible-to-make-content-export-use-utf-8-instead-of-ansi-in-perl", "closed_reason": "Duplicate", "title": "Is it possible to make Content Export use UTF-8 instead of ANSI in perl", "body": "<p>I have created a Pl file for writing the content in txt file in perl, But when we open the file in Ubuntu system it shows the content in UTF8 and in windows system the content is shown in ANSI format and the text is  broken in txt file.</p>\n\n<p>I want to make the file UTF8 default open in Windows system, so that the characters should not be broken.</p>\n\n<p>Below is the my code</p>\n\n<pre><code>my $filename = \"123.txt\";\nmy $content = \"\u092c \u0932\u094b\u0917\u094b\u0902 \u0915\u0947 \u0932\u093f\u090f \u090f\u0915 \u0938\u092e\u093e sum\";\nopen FILE, \"&gt;\", $filename;\nprint FILE $content;\nclose FILE;\nexit;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495533187, "post_id": 44131167, "comment_id": 75281303, "body": "You should also declare <code>our %REPOS</code> in main script prior to using it."}, {"owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495533417, "post_id": 44131167, "comment_id": 75281466, "body": "thanks, it works now. Can you explain in an answer, why is to so complicated?"}], "answers": [{"comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1495538775, "post_id": 44131965, "comment_id": 75285382, "body": "indeed yes, that being said, <code>use strict; { our $X = 2;} print our $X;</code> will still work as well. Not the same as with <code>my</code> where it is re-declared outside the brackets."}], "tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": true, "score": 2, "last_activity_date": 1495535285, "last_edit_date": 1495535285, "creation_date": 1495534531, "answer_id": 44131965, "question_id": 44131167, "link": "https://stackoverflow.com/questions/44131167/global-symbol-requires-explicit-package-name-when-i-use-a-variable-from-another/44131965#44131965", "title": "Global symbol requires explicit package name, when I use a variable from another file", "body": "<p><code>use strict</code> doesn't allow you to use package variable from external file for the same reason as,</p>\n\n<pre><code>use strict;\n\n{\n    our $X =1;\n}\n# our $X;\n\nprint $X;\n</code></pre>\n\n<p>Package variables defined in some inner lexical scope are subject to <code>strict</code>, so you need to declare it again in order to use it outside of that scope.</p>\n\n<p>However you can declare it prior to lexical scope, </p>\n\n<pre><code>use strict;\n\nour $X;\n{\n    $X =1;\n}\n\nprint $X;\n</code></pre>\n\n<p>which leaves <code>strict</code> without complaints.</p>\n\n<p>If you want to fetch some external config with <code>do</code>, then you'll be better with reference</p>\n\n<p>hash.pl => </p>\n\n<pre><code>{\n   val =&gt; 44,\n};\n</code></pre>\n\n<p>main script,</p>\n\n<pre><code>my $REPOS = do 'hash.pl';\n .. exists $REPOS-&gt;{$givenrepo} \n</code></pre>\n"}], "owner": {"reputation": 647, "user_id": 7734270, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/709eda4c2408c069e0064b82c375ccfa?s=128&d=identicon&r=PG&f=1", "display_name": "dice2011", "link": "https://stackoverflow.com/users/7734270/dice2011"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 903, "favorite_count": 0, "accepted_answer_id": 44131965, "answer_count": 1, "score": 1, "last_activity_date": 1495535285, "creation_date": 1495532461, "last_edit_date": 1495533084, "question_id": 44131167, "link": "https://stackoverflow.com/questions/44131167/global-symbol-requires-explicit-package-name-when-i-use-a-variable-from-another", "title": "Global symbol requires explicit package name, when I use a variable from another file", "body": "<p>I am using a hash from another file by <strong>do hash.pl</strong> command.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse feature say;\nuse strict;\n\nmy $givenrepo = \"repopo\";\nmy $givenbranch = \"master\";\ndo 'hash.pl';\n\nif (exists $REPOS{$givenrepo}) {\nsay \"herewego!\";\nif ($givenbranch eq $REPOS{$givenrepo}{branch}) {\nsay \"the branch is same too!\";\nsay \"IT is $REPOS{$givenrepo}{branch}\";\n}\n}\n</code></pre>\n\n<p>The content of <strong>hash.pl</strong> file:</p>\n\n<pre><code>our %REPOS = (\n        \"aaa\" =&gt; {\n        \"branch\" =&gt; \"master\",\n        \"server\" =&gt; \"http://aaa\",\n        \"job\" =&gt; \"aaa\",\n    },\n\n        \"bbb\" =&gt; {\n        \"branch\" =&gt; \"master\",\n        \"server\" =&gt; \"http://bbb\",\n        \"job\" =&gt; \"bbb\",\n    },\n\n        \"ccc\" =&gt; {\n        \"branch\" =&gt; \"master\",\n        \"server\" =&gt; \"http://ccc\",\n        \"job\" =&gt; \"ccc\",\n    },\n};\n</code></pre>\n\n<p>I get errors:</p>\n\n<pre><code>Global symbol \"%REPOS\" requires explicit package name (did you forget to declare \"my %REPOS\"?) at main.pl line 15.                                                                                                       \nGlobal symbol \"%REPOS\" requires explicit package name (did you forget to declare \"my %REPOS\"?) at main.pl line 17.                                                                                                       \nGlobal symbol \"%REPOS\" requires explicit package name (did you forget to declare \"my %REPOS\"?) at main.pl line 19.\n</code></pre>\n\n<p>It works without <strong>use strict</strong>, but I really can't understand, what am I doing wrong? I am taking this variable from another file, but it is declared like <strong>our</strong> there.</p>\n"}, {"tags": ["perl", "loops"], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 5674802, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-pvh9o7o3USI/AAAAAAAAAAI/AAAAAAAAAFo/n53ePsj2ZeM/photo.jpg?sz=128", "display_name": "Dmitresso", "link": "https://stackoverflow.com/users/5674802/dmitresso"}, "edited": false, "score": 0, "creation_date": 1495531757, "post_id": 44130823, "comment_id": 75280277, "body": "Thank you for reply! Could you share to me the link to docs describing such behavior of this loop?"}, {"owner": {"reputation": 135, "user_id": 5674802, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-pvh9o7o3USI/AAAAAAAAAAI/AAAAAAAAAFo/n53ePsj2ZeM/photo.jpg?sz=128", "display_name": "Dmitresso", "link": "https://stackoverflow.com/users/5674802/dmitresso"}, "edited": false, "score": 0, "creation_date": 1495532663, "post_id": 44130823, "comment_id": 75280923, "body": "I was here of course. Unfotunatelty, this moment rather unobvious as well as whole Perl :)"}], "tags": [], "owner": {"reputation": 793701, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 2, "last_activity_date": 1495531509, "creation_date": 1495531509, "answer_id": 44130823, "question_id": 44130784, "link": "https://stackoverflow.com/questions/44130784/foreach-my-var-var-var-expression-in-perl/44130823#44130823", "title": "foreach my $var ($var, $var) expression in Perl", "body": "<p><em>foreach</em> means exactly what it says.</p>\n\n<p>The first time around the loop, the value of <code>$nm</code> will be the same as the value of <code>$a</code>.</p>\n\n<p>The second time around the loop, the value of <code>$nm</code> will be the same as the value of <code>\"default\"</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": true, "score": 0, "last_activity_date": 1495531991, "creation_date": 1495531991, "answer_id": 44130993, "question_id": 44130784, "link": "https://stackoverflow.com/questions/44130784/foreach-my-var-var-var-expression-in-perl/44130993#44130993", "title": "foreach my $var ($var, $var) expression in Perl", "body": "<p>when you crating the <code>()</code>, it means you are creating the <code>list</code>. </p>\n\n<p>Then you have itreating loop for those list elements.</p>\n\n<p>For example</p>\n\n<pre><code>my @ar = ($a,\"default\");\n\nforeach (@ar)\n{\n</code></pre>\n\n<p>In above code you are creating the list and storing into the array. And iterating for these <code>@ar</code></p>\n\n<blockquote>\n  <blockquote>\n    <p>How can it be used excepting getting $nm = \"foodefault\"`?</p>\n  </blockquote>\n</blockquote>\n\n<p>For this question, you can use the <code>join</code> function </p>\n\n<pre><code>my $nm;\n\nforeach  ($a,\"default\")\n{\n    $nm.=$_;\n}\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 5674802, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-pvh9o7o3USI/AAAAAAAAAAI/AAAAAAAAAFo/n53ePsj2ZeM/photo.jpg?sz=128", "display_name": "Dmitresso", "link": "https://stackoverflow.com/users/5674802/dmitresso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 44130993, "answer_count": 2, "score": -1, "last_activity_date": 1495531991, "creation_date": 1495531399, "last_edit_date": 1495531537, "question_id": 44130784, "link": "https://stackoverflow.com/questions/44130784/foreach-my-var-var-var-expression-in-perl", "title": "foreach my $var ($var, $var) expression in Perl", "body": "<p>How to interpret expression <code>foreach my $nm ($a, \"default\")</code>? AFAIK, by <code>my $nm</code> we replace standart <code>$_</code> special character for current variable access within current loop, but I can't understand relations between loop args. <code>$a</code> is also string, if it has meaning, and let's suppose, that <code>$a = \"foo\"</code>.\nHow can it be used excepting getting <code>$nm = \"foodefault\"</code>?</p>\n"}, {"tags": ["xml", "perl", "module", "libxml2", "xml-libxml"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495527660, "post_id": 44129391, "comment_id": 75277292, "body": "Are the modules object oriented? Is there always the same function in it, like <code>do</code> or <code>execute</code> or <code>run</code> or something similar? Can you please <a href=\"https://stackoverflow.com/posts/44129391/edit\">edit</a> and include an example module?"}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495527950, "post_id": 44129391, "comment_id": 75277472, "body": "well that&#39;s a good question, and that&#39;s what I&#39;m asking at the end, should I create OO modules or regular ones, and should I use the same kind of subroutine in every module ? (otherwise it&#39;s going to be hard to automatically call the module, as every module is doing different stuff).  I can edit my post and post a module, but it&#39;s not an action-module"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495527985, "post_id": 44129391, "comment_id": 75277499, "body": "It&#39;s important that you define an interface. I&#39;m going to write up an answer, but it could take a while because it might be long."}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495528207, "post_id": 44129391, "comment_id": 75277668, "body": "ah that&#39;s interesting, thanks again for your help. I suppose I can create an OO module with an execute() subroutine like you said, but then i&#39;ll have to pass all parameters to it, or find a way to read the XML from the module, and every module"}], "answers": [{"comments": [{"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 1, "creation_date": 1495538066, "post_id": 44130458, "comment_id": 75284834, "body": "thanks again for this clear explanation, it makes perfect sense ! I will make some tests this afternoon and answer you afterwards (and mark the question as resolved) ! thanks again for the time it took for you to write this"}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1495616649, "post_id": 44130458, "comment_id": 75324260, "body": "just a quick question before I answer, you wrote my ($args) = @_; in the subroutine, but is there a best way of sending the arguments (contents of the action) to the sub ? I suppose I have to grab them all in a hash, and send them to run(%hash) ?"}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1495616728, "post_id": 44130458, "comment_id": 75324312, "body": "my bad, I just noticed the $parsed_node_information, I suppose I have to fill this variable with the action info"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1495616937, "post_id": 44130458, "comment_id": 75324452, "body": "@olivierg yes. I figured since you&#39;re already deep into the whole XML stuff, you will know how to use LibXML to do that. I would have to look it up as well, and it&#39;s not important for the concepts, so I ddin&#39;t do it. I think a simple hashref with key/value pairs a la XML::Simple (but don&#39;t use that!!!11elf) should work. I think abstracting it so you don&#39;t pass in the actual <code>$node</code> from the XML parser makes sense because that way you can also change the delivery format from XML to e.g. YAML or plain text or whatever you want, but your modules remain the same."}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 1, "creation_date": 1495617526, "post_id": 44130458, "comment_id": 75324879, "body": "i get it, thanks again (and indeed that wasn&#39;t the goal of my question, maybe i&#39;ll create a second topic for that if I&#39;m not able to do it, as I&#39;m new to libxml as well, I&#39;m testing your solution right now (will do it without args for now) and i&#39;ll mark it as resolved if everything is ok, thanks again for your help !"}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": true, "score": 6, "last_activity_date": 1495530518, "creation_date": 1495530518, "answer_id": 44130458, "question_id": 44129391, "link": "https://stackoverflow.com/questions/44129391/best-practices-when-using-perl-modules/44130458#44130458", "title": "best practices when using Perl modules", "body": "<p>First, you need to come up with a clear interface. Every module needs to have the same structure. It doesn't matter if it's OOP or not, but they all need to expose the same interface.</p>\n\n<p>Here's an example not-OOp implementation of <code>FFTG::Rename</code>. I've left out a lot of stuff, but I think it's clear what is happening.</p>\n\n<pre><code>package FFTG::Rename;\n\nuse strict;\nuse warnings;\n\nsub run {\n    my ($args) = @_;\n\n    if ($args-&gt;{mandatory}) {\n        # do stuff here\n    }\n\n    # checks args...\n    # do sanity checks...\n    return unless -f $args-&gt;{file}-&gt;{name}; # or whatever...\n\n    rename $args-&gt;{file}-&gt;{name}, $args-&gt;{file}-&gt;{to} or die $!;\n\n    return; # maybe return someting meaningful?\n}\n</code></pre>\n\n<p>Now let's assume we have a bunch of those. How do we load them? There are several ways to do this. I have omitted the part of getting the arguments into the <code>run</code> function. You'll need to take the stuff from the XML and pass it along in a way that's identical to all of those functions, but I think that's not relevant to the question.</p>\n\n<h2>Load all of them</h2>\n\n<p>The most obvious is to load all of them in your script manually.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse XML::LibXML;\n\n# load FFTG modules\nuse FFTG::Rename;\n# ...\n</code></pre>\n\n<p>Once they are loaded, you can call the function. The <a href=\"http://perldoc.perl.org/functions/exists.html\" rel=\"noreferrer\"><code>exist</code> keyword</a> is handy because it can also be used to check if a function exists.</p>\n\n<pre><code>foreach my $action ( $doc-&gt;findnodes('/fftg/actions/*') ) {\n    my $actiontype = ucfirst( $action-&gt;nodeName );\n    no strict 'refs';\n    if ( exists &amp;{\"FFTG::${actiontype}::run\"} ) {\n        &amp;{\"FFTG::${actiontype}::run\"}-&gt;( $parsed_node_information );\n    } else {\n        # this module was not loaded\n    }\n}\n</code></pre>\n\n<p>Unfortunately the non-OO approach requires the <code>no strict 'refs'</code>, which is not pretty. It's probably better to do it in an object-oriented fashion. But I'll stick with this for the answer.</p>\n\n<p>The clear downside of this way is that you need to load all of the modules all the time, and whenever a new one is created, it needs to be added. This is the least complex, way, but also has the highest maintenance.</p>\n\n<h2>Automatic loading with a lookup table</h2>\n\n<p>Another way is to use automatic loading and a lookup table that defines actions that are allowed. If you want your program to only load the modules on demand because you know that you don't need all of them in every invocation, but you also want to have control over what gets loaded, this makes sense.</p>\n\n<p>Instead of loading all of them, the loading can be outsourced to <a href=\"https://metacpan.org/pod/Module::Runtime\" rel=\"noreferrer\">Module::Runtime</a>.</p>\n\n<pre><code>use Module::Runtime 'require_module';\nuse Try::Tiny;\n\nmy %modules = (\n    'rename' =&gt; 'FFTG::Rename',\n\n    # ...\n);\n\nforeach my $action ( $doc-&gt;findnodes('/fftg/actions/*') ) {\n    try {\n        no strict 'refs';\n        require_module $modules{$action};\n        &amp;{\"FFTG::${actiontype}::run\"}-&gt;($parsed_node_information);\n    }\n    catch {\n        # something went wrong\n        # maybe the module does not exist or it's not listed in the lookup table\n        warn $_;\n    };\n}\n</code></pre>\n\n<p>I've also added <a href=\"https://metacpan.org/pod/Try::Tiny\" rel=\"noreferrer\">Try::Tiny</a> to take care of error handling. It gives you control over what to do when stuff goes wrong. </p>\n\n<p>This approach lets you control what actions are allowed, which is good if you're paranoid. But it still requires you to maintain the script and add new modules to the <code>%modules</code> lookup table.</p>\n\n<h2>Trusting and loading dynamically</h2>\n\n<p>A third, most generic approach would be to use Module::Runtime to load stuff dynamically without the lookup table.</p>\n\n<pre><code>use Module::Runtime 'require_module';\nuse Try::Tiny;\n\nforeach my $action ( $doc-&gt;findnodes('/fftg/actions/*') ) {\n    try {\n        my $actiontype = ucfirst($action-&gt;nodeName);\n        require_module \"FFTG::${actiontype}\";\n\n        no strict 'refs';\n        &amp;{\"FFTG::${actiontype}::run\"}-&gt;($parsed_node_information);\n    }\n    catch {\n        # something went wrong\n        # the module does not exist\n    };\n}\n</code></pre>\n\n<p>This has the least maintenance, but it's a bit more dangerous. You don't know what data is coming in, and now there is no sanity check. I can't think of a way to exploit this of the top of my head, but there could be one. Still, now no editing the script and keeping a module list up to date is required.</p>\n\n<h1>Conclusion</h1>\n\n<p>I would probably go with the second approach. It gives you control and still keeps stuff dynamic. I would not go with the non-OOP approach I have used.</p>\n\n<p>You could keep it non-OOP and still get rid of the <code>no strict 'refs'</code> by using the <code>-&gt;</code> object notation to call class methods. Then your package would look like this.</p>\n\n<pre><code>package FFTG::Rename;\n\nuse strict;\nuse warnings;\n\nsub run {\n    my (undef, $args) = @_;\n\n    # ...\n}\n</code></pre>\n\n<p>The <code>undef</code> is to not capture <code>$class</code> (not <code>$self</code>), because we don't need it. Or maybe we do, for logging. It depends. But with this, you could essentially call the class method as follows for the lookup table solution.</p>\n\n<pre><code>require_module $modules{$action};\n$modules{$action}-&gt;run($parsed_node_information);\n</code></pre>\n\n<p>This is obviously way clearer and preferable.</p>\n"}], "owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 44130458, "answer_count": 1, "score": 1, "last_activity_date": 1495619916, "creation_date": 1495527467, "last_edit_date": 1495543403, "question_id": 44129391, "link": "https://stackoverflow.com/questions/44129391/best-practices-when-using-perl-modules", "title": "best practices when using Perl modules", "body": "<p>i'm basically new to modules and i'm trying to use them in my scripts.\ni am having trouble finding the right way of using them properly and i'd like your advice about it.</p>\n\n<p>let me explain quickly what i'm trying to do :</p>\n\n<p>my script is doing some file transfers, based on data from XML files.</p>\n\n<p>so basically, i have XML files with contents like that :</p>\n\n<pre><code>&lt;fftg&gt;\n    &lt;actions&gt;\n\n            &lt;!-- Rename file(s) --&gt;\n            &lt;rename&gt;\n                    &lt;mandatory&gt;0&lt;/mandatory&gt;\n                    &lt;file name=\"foo\" to=\"bar\" /&gt;\n            &lt;/rename&gt;\n\n            &lt;!-- Transfer file(s) --&gt;\n            &lt;transfer&gt;\n                    &lt;mandatory&gt;0&lt;/mandatory&gt;\n                    &lt;protocol&gt;SFTP&lt;/protocol&gt;\n                    &lt;server&gt;fqdn&lt;/server&gt;\n                    &lt;port&gt;22&lt;/port&gt;\n                    &lt;file name=\"bar\" remotefolder=\"toto\" /&gt;\n            &lt;/transfer&gt;\n\n            &lt;!-- Transfer file(s) --&gt;\n            &lt;transfer&gt;\n                    &lt;mandatory&gt;0&lt;/mandatory&gt;\n                    &lt;protocol&gt;SFTP&lt;/protocol&gt;\n                    &lt;server&gt;fqdn&lt;/server&gt;\n                    &lt;port&gt;22&lt;/port&gt;\n                    &lt;file name=\"blabla\" remotefolder=\"xxxx\" /&gt;\n                    &lt;file name=\"blabla2\" remotefolder=\"xxxx\" /&gt;\n            &lt;/transfer&gt;\n\n    &lt;/actions&gt;\n&lt;/fftg&gt;\n</code></pre>\n\n<p>in a few words, i have a script performing \"actions\".\nevery action can be repeated X times.</p>\n\n<p>now, instead of having an important script with a bunch of subroutines etc.. i think it should be better to create modules for my app, and put the actions in modules.</p>\n\n<p>for example :</p>\n\n<pre><code>FFTG::Rename\nFFTG::Transfer\nFFTG::Transfer::SFTP\nFFTG::Transfer::FTP\n</code></pre>\n\n<p>&amp; so on (i've created all these modules and they work fine independently)</p>\n\n<p>and call these modules depending on the actions specified in the XML file.\npeople could create new modules/actions if required (i want the thing to be modular).</p>\n\n<p>now, i don't know how to do this properly.</p>\n\n<p>so my question is : what is the best way to do this please ?</p>\n\n<p>currently, my script is reading these actions like that :</p>\n\n<pre><code># Load XML file\nmy $parser = XML::LibXML-&gt;new();\nmy $doc    = $parser-&gt;parse_file($FFTG_TSF . \"/\" . $tid . \".xml\");\n\n# Browse XML file\nforeach my $transfer ($doc-&gt;findnodes('/fftg')) {\n\n    # Grab generic information\n    my($env) = $transfer-&gt;findnodes('./environment');\n    my($desc) = $transfer-&gt;findnodes('./description');\n    my($user) = $transfer-&gt;findnodes('./user');\n    print $env-&gt;to_literal, \"\\n\";\n\n    # Browse Actions\n    foreach my $action ($doc-&gt;findnodes('/fftg/actions/*')) {\n\n            my $actiontype = ucfirst($action-&gt;nodeName());\n            # how do i select a module from the $actiontype here ?     ($actiontype = Rename or Transfer)\n            # i can't do : use FFTG::$actiontype::execaction(); or something for example, it doesnt work\n            # and is it the right way of doing it ? \n\n    }\n}\n</code></pre>\n\n<p>but maybe it's not the right way of thinking it. (i'm using Lib::LibXML)\nhow can i call the module \"dynamically\" (using a variable in the name, such as FFTG::$actiontype for example\nand also, does it mean that i have to have the same subroutine in every module ?\nexample : sub execaction</p>\n\n<p>as i want to send differnt data to the module......</p>\n\n<p>any hints ?\nthanks again\nregards,</p>\n"}, {"tags": ["windows", "perl", "shell"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495522884, "post_id": 44127788, "comment_id": 75274323, "body": "How are user names involved?"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495523544, "post_id": 44127788, "comment_id": 75274702, "body": "So where are the usernames? in the .jsx file? this is pretty vague."}, {"owner": {"reputation": 27, "user_id": 2614423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eebdf8f1c3b91ac041da598257a830c0?s=128&d=identicon&r=PG", "display_name": "Divyank S", "link": "https://stackoverflow.com/users/2614423/divyank-s"}, "edited": false, "score": 0, "creation_date": 1495523702, "post_id": 44127788, "comment_id": 75274802, "body": "no usernames are not involved in .jsx files or other scripts? but the script only fails for usernames with 4byte and 2 byte characters so i guess this has to do something with the username."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495523934, "post_id": 44127788, "comment_id": 75274944, "body": "Whose username are you talking about? The user that&#39;s logged in and is running the script?"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495524279, "post_id": 44127788, "comment_id": 75275170, "body": "sounds more like a permissions error than username error. Does the user <code>ai\ud857\ude56\u0426\u4e2d</code> have the same permissions on the system than the other user?"}, {"owner": {"reputation": 27, "user_id": 2614423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eebdf8f1c3b91ac041da598257a830c0?s=128&d=identicon&r=PG", "display_name": "Divyank S", "link": "https://stackoverflow.com/users/2614423/divyank-s"}, "edited": false, "score": 0, "creation_date": 1495524317, "post_id": 44127788, "comment_id": 75275195, "body": "yes, when i login as aiabc (or some other user) scripts work fine, but when i use localized user names ( japense or korean) like ai\ud857\ude56\u0426\u4e2d it doesn&#39;t work."}, {"owner": {"reputation": 27, "user_id": 2614423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eebdf8f1c3b91ac041da598257a830c0?s=128&d=identicon&r=PG", "display_name": "Divyank S", "link": "https://stackoverflow.com/users/2614423/divyank-s"}, "edited": false, "score": 0, "creation_date": 1495524348, "post_id": 44127788, "comment_id": 75275223, "body": "yes, they&#39;re in same group &quot;Administrators&quot;."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495524497, "post_id": 44127788, "comment_id": 75275317, "body": "what is inside the .jsx file?"}, {"owner": {"reputation": 27, "user_id": 2614423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eebdf8f1c3b91ac041da598257a830c0?s=128&d=identicon&r=PG", "display_name": "Divyank S", "link": "https://stackoverflow.com/users/2614423/divyank-s"}, "edited": false, "score": 0, "creation_date": 1495524794, "post_id": 44127788, "comment_id": 75275507, "body": "code to execute test cases on Illustrator, this command start illustrator and execute test cases written in .jsx file."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495524979, "post_id": 44127788, "comment_id": 75275630, "body": "can you show some of the content?"}, {"owner": {"reputation": 27, "user_id": 2614423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eebdf8f1c3b91ac041da598257a830c0?s=128&d=identicon&r=PG", "display_name": "Divyank S", "link": "https://stackoverflow.com/users/2614423/divyank-s"}, "edited": false, "score": 0, "creation_date": 1495525367, "post_id": 44127788, "comment_id": 75275862, "body": "var AutomationScriptManagerAutomatedMode = false; try {var AutomationScriptManager = new Object; AutomationScriptManager.getBVTTier1ScriptsFolder = function (){var scriptsFolder = null; \t    var devScriptsFolder = null; ................."}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1495526659, "post_id": 44127788, "comment_id": 75276651, "body": "So wheres the perl code here ?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 2, "creation_date": 1495526737, "post_id": 44127788, "comment_id": 75276702, "body": "@ChrisDoyle the line with <code>system</code>."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495527060, "post_id": 44127788, "comment_id": 75276911, "body": "@Divyank I honestly cannot see how the user you are logged on can cause this issue. Can you try this please and see if this outputs any messages? <code>$line = `C:\\\\Temp\\\\test.jsx`; print $line;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 0, "last_activity_date": 1495535071, "last_edit_date": 1592644375, "creation_date": 1495534487, "answer_id": 44131952, "question_id": 44127788, "link": "https://stackoverflow.com/questions/44127788/problems-in-perl-script-with-localized-user-name-on-windows/44131952#44131952", "title": "problems in Perl script with localized user name on Windows", "body": "<p><code>perl</code> on Windows uses so called ANSI functions to interface with the outside world. That means, if you use interesting characters (for example, certain Turkish letters on a US-English Windows install), <code>perl</code> cannot see them. As <a href=\"https://www.nu42.com/2017/02/perl-unicode-windows-trilogy-one.html\" rel=\"nofollow noreferrer\">I wrote on my blog</a>:</p>\n<blockquote>\n<p>You can't pass characters that are outside of the Windows code page to <code>perl</code> on the command line. It doesn't matter whether you have set the code page to 65001 and use the <code>-CA</code> command line argument to <code>perl</code>: Because <code>perl</code> uses <code>main</code> instead of <code>wmain</code> as the entry point, it never sees anything other than characters in the ANSI code page.</p>\n<p>For example:</p>\n<pre><code>$ chcp 65001\n$ perl -CAS -E &quot;say for @ARGV&quot; \u015fey\nsey\n</code></pre>\n<p>That's because <code>\u015f</code> does not appear in <code>CP 437</code> which is what my laptop is using. By the time it reaches the internals of <code>perl</code>, it has already become <code>s</code>.</p>\n</blockquote>\n<p>So, there is not much you can do with a stock <code>perl</code>. I was working on a set of patches, but things intervened. I may still get around to it this summer.</p>\n<p>Now, in your case, you are passing &quot;interesting characters&quot; to an external program via <code>system</code>. The same problem applies. Because <code>perl</code> is using the ANSI versions of functions used to spawn processes etc, the program spawned will not see a Unicode environment. So, if you are trying to use Korean or Japanese programs with a system code page that does not include them, I am not sure what will happen.</p>\n<p>There is not much you can do once <code>perl</code> is running. The environment, command line arguments, everything lives in the ANSI world from that point on. There may be funky work-arounds, but for that one would need to know exactly how <code>'ai\ud857\ude56\u0426\u4e2d'</code> gets from your <code>perl</code> program to the external program.</p>\n"}], "owner": {"reputation": 27, "user_id": 2614423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eebdf8f1c3b91ac041da598257a830c0?s=128&d=identicon&r=PG", "display_name": "Divyank S", "link": "https://stackoverflow.com/users/2614423/divyank-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 44131952, "answer_count": 1, "score": 1, "last_activity_date": 1495535071, "creation_date": 1495522628, "last_edit_date": 1495522863, "question_id": 44127788, "link": "https://stackoverflow.com/questions/44127788/problems-in-perl-script-with-localized-user-name-on-windows", "title": "problems in Perl script with localized user name on Windows", "body": "<p>I have a perl script to start a script file with default program.  </p>\n\n<pre><code>system(\"Start C:\\\\Temp\\\\test.jsx\");  \n</code></pre>\n\n<p>It works file with English user names but when I change user name to ai\ud857\ude56\u0426\u4e2d it doesn't work. </p>\n\n<p>Also no error message appears to I'm not able to debug.</p>\n"}, {"tags": ["perl", "perl-data-structures"], "comments": [{"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 2, "creation_date": 1495510449, "post_id": 44125340, "comment_id": 75269532, "body": "Have you looked here: <a href=\"https://stackoverflow.com/questions/7651/how-do-i-remove-duplicate-items-from-an-array-in-perl\" title=\"how do i remove duplicate items from an array in perl\">stackoverflow.com/questions/7651/&hellip;</a> ?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495511400, "post_id": 44125340, "comment_id": 75269765, "body": "You&#39;ll also want a tutorial on references <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow noreferrer\">perlreftut</a> and a cookbook of data structures <a href=\"http://perldoc.perl.org/perldsc.html\" rel=\"nofollow noreferrer\">perldsc</a>"}], "answers": [{"tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 1, "last_activity_date": 1495511891, "creation_date": 1495511891, "answer_id": 44125559, "question_id": 44125340, "link": "https://stackoverflow.com/questions/44125340/perl-hash-multiple-values-for-a-key/44125559#44125559", "title": "Perl hash multiple values for a key", "body": "<p>Do your values need to maintain their order?  If not, you could just use another layer of hashes.  Instead of doing a <code>push @{$hash{$key}}, $value;</code>, you would just do <code>$hash{$key}{$value}++;</code> - and now <code>keys %{$hash{$key}}</code> would show the unique values for that <code>$key</code>.  Order matching input would occur by random in small sets, sometimes. Usually won't happen.</p>\n\n<p>If, however, you must maintain the order, you can use <code>uniq</code> as indirectly suggested by AntonH.  Another option, if you don't need the sorted list very often, i.e., if you add to the list more than you query, would be to use the hash, but add the current order value so you can sort them.  For example:</p>\n\n<pre><code># to \"push\"\n$hash{$key}{$value} ||= scalar keys %{$hash{$key}} + 1;\n\n# to get the list (Schwartzian Transform method)\nmy @values = map { $_-&gt;[1] } sort { $a-&gt;[0] &lt;=&gt; $b-&gt;[0] } map {\n  [ $hash{$key}{$_}, $_ ] } keys %{$hash{$key}};\n</code></pre>\n\n<p>And then, from here, you can create a data structure that does both at the same time - stores the list and the hash, only allowing adds to the list if the value isn't already in the hash.  I'm assuming this is kind of what modules like <a href=\"https://metacpan.org/pod/Hash::Ordered\" rel=\"nofollow noreferrer\">Hash::Ordered</a> do, even when not in pure perl.</p>\n\n<pre><code># push\nunless ($hash{hashes}{$key}) {\n    push @{$hash{arrays}{$key}}, $value;\n    $hash{hashes}{$key}{$value} = 1;\n}\n\n# get list\nmy @values = @{$hash{arrays}{$key}};\n</code></pre>\n\n<p>Just watch out - if you remove an item, you have to remove it from both the hashes and the arrays.</p>\n"}], "owner": {"reputation": 11, "user_id": 7540756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21485b71ad537ccad150ce39b02972e0?s=128&d=identicon&r=PG&f=1", "display_name": "Shirinsh", "link": "https://stackoverflow.com/users/7540756/shirinsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 550, "favorite_count": 0, "closed_date": 1495522753, "answer_count": 1, "score": 0, "last_activity_date": 1495511891, "creation_date": 1495510353, "question_id": 44125340, "link": "https://stackoverflow.com/questions/44125340/perl-hash-multiple-values-for-a-key", "closed_reason": "Duplicate", "title": "Perl hash multiple values for a key", "body": "<p>My hash contains key that has multiple values(contains duplicates) and keep the value unique so my output looks.</p>\n\n<pre><code>$VAR1 = { 'One' =&gt; ['code','links','links'],\n'Two' =&gt; ['indent','indent'],\n};\n</code></pre>\n\n<p>I need the hash output as below</p>\n\n<pre><code>`$VAR1 = { 'One' =&gt; ['code','links'],\n'Two' =&gt; ['indent'],\n};`\n</code></pre>\n\n<p>Please advice, Thanks.</p>\n"}, {"tags": ["perl", "padre"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1495498468, "post_id": 44123836, "comment_id": 75266860, "body": "It appears that you&#39;ve got two distributions of Perl installed, and the module you&#39;re trying to use is installed to the &quot;other&quot; one."}, {"owner": {"reputation": 21174, "user_id": 972202, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/k5Gxr.png?s=128&g=1", "display_name": "sazr", "link": "https://stackoverflow.com/users/972202/sazr"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1495498828, "post_id": 44123836, "comment_id": 75266941, "body": "@MattJacob Yes I have activeperl and strawberry perl. Activeperl was to try and use Eclipse perl plugin but its not happy either. Any idea how I can setup my system (or just Padre) to know which perl to use?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1495499146, "post_id": 44123836, "comment_id": 75266995, "body": "No clue. I don&#39;t use Padre. One would think it would use your <code>PATH</code>, so what does that look like?"}, {"owner": {"reputation": 21174, "user_id": 972202, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/k5Gxr.png?s=128&g=1", "display_name": "sazr", "link": "https://stackoverflow.com/users/972202/sazr"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1495499282, "post_id": 44123836, "comment_id": 75267027, "body": "@MattJacob In my <code>PATH</code> env variable I can see all these perl references/paths: <code>C:\\Perl64\\site\\bin;C:\\Perl64\\bin;C:\\Strawberry\\c\\bin;C:\\Stra&zwnj;&#8203;wberry\\perl\\site\\bin&zwnj;&#8203;;C:\\Strawberry\\perl\\&zwnj;&#8203;bin;C:\\Dwimperl\\perl&zwnj;&#8203;\\bin;C:\\Dwimperl\\per&zwnj;&#8203;l\\site\\bin;C:\\Dwimpe&zwnj;&#8203;rl\\c\\bin;</code>"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495522809, "post_id": 44123836, "comment_id": 75274279, "body": "If you only used ActivePerl to try using EPIC, why don&#39;t you just deinstall it using its installer? That way the PATH will be cleaned up and you&#39;ll end up with only Strawberry."}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1495543822, "creation_date": 1495543822, "answer_id": 44135362, "question_id": 44123836, "link": "https://stackoverflow.com/questions/44123836/padre-complains-that-a-perl-module-isnt-installed-when-cpan-says-it-is/44135362#44135362", "title": "Padre Complains that a Perl Module isn&#39;t installed when CPAN says it is", "body": "<p>You appear to have two installations of Perl, one in <code>C:\\Dwimperl</code>, and one in <code>C:\\Perl64</code>. You are installing the module for the one in <code>C:\\Perl64</code>, but you are using the one in <code>C:\\Dwimperl</code>. Use the <code>cpan</code> that comes with the <code>perl</code> you wish to use.</p>\n"}], "owner": {"reputation": 21174, "user_id": 972202, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/k5Gxr.png?s=128&g=1", "display_name": "sazr", "link": "https://stackoverflow.com/users/972202/sazr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 492, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495543822, "creation_date": 1495498095, "question_id": 44123836, "link": "https://stackoverflow.com/questions/44123836/padre-complains-that-a-perl-module-isnt-installed-when-cpan-says-it-is", "title": "Padre Complains that a Perl Module isn&#39;t installed when CPAN says it is", "body": "<p>Padre IDE is complaining that: </p>\n\n<blockquote>\n  <p>Can't locate Email/Send/SMTP/Gmail.pm in @INC (@INC contains: C:\\Users\\me\\mymodule C:/Dwimperl/perl/site/lib C:/Dwimperl/perl/vendor/lib C:/Dwimperl/perl/lib .) at myscript.pl line 21.</p>\n</blockquote>\n\n<p>But <code>Email::Send::SMTP::Gmail</code> module is installed because in command prompt when I run <code>cpan Email::Send::SMTP::Gmail</code> I get the following message:</p>\n\n<blockquote>\n  <p>Loading internal null logger. Install Log::Log4perl for logging messages<br>\n  CPAN: Term::ANSIColor loaded ok (v4.06)<br>\n  CPAN: Storable loaded ok (v2.56_01)<br>\n  Reading 'C:\\Perl64\\cpan\\Metadata'<br>\n    Database was generated on Sun, 21 May 2017 04:17:02 GMT<br>\n  CPAN: Module::CoreList loaded ok (v5.20170114_24)<br>\n  Email::Send::SMTP::Gmail is up to date (1.06).  </p>\n</blockquote>\n\n<p>What the heck is going wrong? Note in Padre when I go to <code>Tools-&gt;Module Tools-&gt;Open CPAN Config File</code> I get the error dialog popup:</p>\n\n<blockquote>\n  <p>Failed to find your CPAN configuration</p>\n</blockquote>\n\n<p>Could this be part of the problem? I have searched the Padre help for <code>cpan configuration</code> but no results came up.</p>\n\n<p>Any advice would be extremely helpful.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 3, "creation_date": 1495543539, "post_id": 44122686, "comment_id": 75288884, "body": "No, it&#39;s actually close to <code>BEGIN { my $mech = WWW::Mechanize-&gt;new(agent =&gt; &#39;my_app&#39;); sub MECH() { $mech } }</code>. Initialization isn&#39;t deferred."}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1495597502, "post_id": 44122686, "comment_id": 75314333, "body": "yes in other applications for this purpose I&#39;ve used a singleton (utilizing <code>state</code> obviously). basically I&#39;m  working though different ways to make global variables elegant :P"}], "tags": [], "owner": {"reputation": 13399, "user_id": 716443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d13509991dbbd5467f01f55988ae4e?s=128&d=identicon&r=PG", "display_name": "DavidO", "link": "https://stackoverflow.com/users/716443/davido"}, "is_accepted": false, "score": 2, "last_activity_date": 1495490751, "last_edit_date": 1495490751, "creation_date": 1495489915, "answer_id": 44122686, "question_id": 44122500, "link": "https://stackoverflow.com/questions/44122500/is-there-anything-wrong-with-using-an-object-as-a-constant/44122686#44122686", "title": "Is there anything wrong with using an object as a constant?", "body": "<p>No, not inherently wrong.</p>\n\n<p>A Perl constant is just an inlinable subroutine that has an empty prototype. In the example you provided you can look at <code>MECH</code> as an accessor to an instance of the <code>WWW::Mechanize</code> class.  The same instance will be shared with any consumer of the <code>MECH</code> constant.</p>\n\n<p>This:</p>\n\n<pre><code>use constant MECH =&gt; WWW::Mechanize-&gt;new(agent =&gt; 'my_app');\n</code></pre>\n\n<p>...is roughly equivalent to the following snippet:</p>\n\n<pre><code>BEGIN {\n    my $mech;\n    sub MECH() {\n        return $mech //= WWW::Mechanize-&gt;new(agent =&gt; 'my_app');\n    }\n}\n</code></pre>\n\n<p>Or, using a <code>state</code> variable:</p>\n\n<pre><code>sub MECH() {\n    state $mech = WWW::Mechanize-&gt;new(agent =&gt; 'my_app');\n    return $mech;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1495490877, "creation_date": 1495490877, "answer_id": 44122860, "question_id": 44122500, "link": "https://stackoverflow.com/questions/44122500/is-there-anything-wrong-with-using-an-object-as-a-constant/44122860#44122860", "title": "Is there anything wrong with using an object as a constant?", "body": "<p>It's basically fine, but it is only the <em>reference</em> that is constant. I often use constant URLs, like this</p>\n\n<pre><code>use constant URL =&gt; URI-&gt;new('http://www.example.com/');\n</code></pre>\n\n<p>But if you're actually modifying the object then it may get a little confusing. I clone from constants to create a similar value, like</p>\n\n<pre><code>my $url = URL-&gt;clone-&gt;path('/path/to/resource');\n</code></pre>\n\n<p>and <code>WWW::Mechanize</code> also has a <code>clone</code> method if you wish to use a similar approach. I don't think it's appropriate to use it as a variable, for instance</p>\n\n<pre><code>MECH-&gt;get($url);\n</code></pre>\n\n<p>and I don't see why you would want to</p>\n"}, {"comments": [{"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1495543800, "post_id": 44133842, "comment_id": 75289088, "body": "I&#39;m aware of the compile time behavior but strictly speaking, why does it matter that it&#39;s &quot;gnarly&quot;? is it anything more than inelegance?"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1495556990, "post_id": 44133842, "comment_id": 75298890, "body": "as for encapsulation, I don&#39;t think it&#39;s a concern for me here because the constant isn&#39;t being used in a module."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 1, "creation_date": 1495597891, "post_id": 44133842, "comment_id": 75314422, "body": "@beasy Your question was originally tagged <code>OOP</code> which is why I appealed to concepts such as encapsulation. I have since removed that tag, since you have clarified such concerns do not apply."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": -1, "last_activity_date": 1495561607, "last_edit_date": 1495561607, "creation_date": 1495539677, "answer_id": 44133842, "question_id": 44122500, "link": "https://stackoverflow.com/questions/44122500/is-there-anything-wrong-with-using-an-object-as-a-constant/44133842#44133842", "title": "Is there anything wrong with using an object as a constant?", "body": "<p>My advice is not to do it. The one thing so-called constants defined using <code>use constant</code> in Perl are good for is to enable constant-folding. For example, when you say <code>use constant N_CONNECTIONS =&gt; 5</code>, everywhere <code>perl</code> sees <code>N_CONNECTIONS</code>, it is replaced with <code>5</code> at <em>compile time</em> making further optimizations possible.</p>\n\n<pre><code>$perl -MO=Deparse -e 'use constant X =&gt; 17; if ( X &lt; 5 ) { rand }'\nuse constant ('X', 17);\n'???';\n-e syntax OK\n</code></pre>\n\n<p>See, a whole bunch of code just got pruned. Or,</p>\n\n<pre><code>$ perl -MO=Deparse -e 'use constant X =&gt; 17; $x = X'\nuse constant ('X', 17);\n$x = 17;\n-e syntax OK\n</code></pre>\n\n<p><code>perl</code> knew to assign the literal <code>17</code> to <code>$x</code> at compile time.</p>\n\n<p>Let's see what your construct evaluates to:</p>\n\n<pre><code>$ perl -MWWW::Mechanize -MO=Deparse -e 'use constant MECH =&gt; WWW::Mechanize-&gt;new(agent =&gt; \"my_app\"); $x = MECH'\nuse constant ('MECH', 'WWW::Mechanize'-&gt;new('agent', 'my_app'));\n$x = {autocheck =&gt; 1, cookie_jar =&gt; {COOKIES =&gt; {}}, current_form =&gt; undef, def_headers =&gt; {user-agent =&gt; 'my_app'}, forms =&gt; undef, handlers =&gt; {request_prepare =&gt; [{callback =&gt; sub {\n    package LWP::UserAgent;\n    use strict;\n    $jar-&gt;add_cookie_header($_[0]);\n}\n, line =&gt; '/Users/.../opt/lib/perl5/site_perl/5.24.0/LWP/UserAgent.pm:755', owner =&gt; 'LWP::UserAgent::cookie_jar'}], response_done =&gt; [{callback =&gt; sub {\n    package LWP::UserAgent;\n    use strict;\n    $jar-&gt;extract_cookies($_[0]);\n}\n, line =&gt; '/Users/.../opt/lib/perl5/site_perl/5.24.0/LWP/UserAgent.pm:758', owner =&gt; 'LWP::UserAgent::cookie_jar'}], response_header =&gt; [{callback =&gt; sub {\n    package LWP::UserAgent;\n    use strict;\n    my($response, $ua) = @_;\n    require HTML::HeadParser;\n    $parser = 'HTML::HeadParser'-&gt;new;\n    $parser-&gt;xml_mode(1) if $response-&gt;content_is_xhtml;\n    $parser-&gt;utf8_mode(1) if $] &gt;= 5.008 and $HTML::Parser::VERSION &gt;= 3.4;\n    push @{$$response{'handlers'}{'response_data'};}, {'callback', sub {\n        return unless $parser;\n        unless ($parser-&gt;parse($_[3])) {\n            my $h = $parser-&gt;header;\n            my $r = $_[0];\n            foreach my $f ($h-&gt;header_field_names) {\n                $r-&gt;init_header($f, [$h-&gt;header($f)]);\n            }\n            undef $parser;\n        }\n    }\n    };\n}\n, line =&gt; '/Users/.../opt/lib/perl5/site_perl/5.24.0/LWP/UserAgent.pm:734', m_media_type =&gt; 'html', owner =&gt; 'LWP::UserAgent::parse_head'}]}, headers =&gt; {}, images =&gt; undef, links =&gt; undef, local_address =&gt; undef, max_redirect =&gt; 7, max_size =&gt; undef, no_proxy =&gt; [()], noproxy =&gt; 0, onerror =&gt; sub {\n    package WWW::Mechanize;\n    use warnings;\n    use strict;\n    require Carp;\n    return &amp;Carp::croak;\n}\n, onwarn =&gt; sub {\n    package WWW::Mechanize;\n    use warnings;\n    use strict;\n    require Carp;\n    return &amp;Carp::carp;\n}\n, page_stack =&gt; [()], protocols_allowed =&gt; undef, protocols_forbidden =&gt; undef, proxy =&gt; {}, quiet =&gt; 0, requests_redirectable =&gt; ['GET', 'HEAD', 'POST'], show_progress =&gt; undef, ssl_opts =&gt; {verify_hostname =&gt; 1}, stack_depth =&gt; 8675309, text =&gt; undef, timeout =&gt; 180, title =&gt; undef, use_eval =&gt; 1};\n-e syntax OK\n</code></pre>\n\n<p>So, everywhere you use <code>MECH</code>, it will be replaced with this gnarly thing at compile time.</p>\n\n<p>Sure, things will work, but would you write something like this on purpose?</p>\n\n<p>Since <code>MECH</code> is now a subroutine in your package, it can be invoked by code from the outside. It may not matter to you, but it does break encapsulation.</p>\n\n<p>Now, we come to my other problem. An instance of <code>WWW::Mechanize</code> is not a constant, really. Every time you call methods on it, its internal state changes. So, using constant to refer to something that is in a state seems incongruous at best.</p>\n\n<p>It looks like you are trying to avoid having to pass <code>$mech</code> to a bunch of subroutines. This is a good point to encapsulate your specific crawler in a class and give it a <code>mech</code> class member. Then, the methods in your class can refer to it as <code>$self-&gt;mech</code> and you don't need to pass it around.</p>\n\n<p>But, ultimately, you asked a subjective question. I have tried to explain why I this is a good idea. Using globals is a bad idea in general.</p>\n\n<p>Go ahead and use it if you don't agree with me.</p>\n"}], "owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1495564780, "creation_date": 1495488979, "last_edit_date": 1495564780, "question_id": 44122500, "link": "https://stackoverflow.com/questions/44122500/is-there-anything-wrong-with-using-an-object-as-a-constant", "title": "Is there anything wrong with using an object as a constant?", "body": "<p>I'm using a <code>WWW::Mechanize</code> object as a constant, and it's working well for me, but it feels kinda weird.</p>\n\n<pre><code>use constant MECH =&gt; WWW::Mechanize-&gt;new(agent =&gt; 'my_app');\n</code></pre>\n\n<p>Is there anything \"wrong\" with using an object as a constant?</p>\n"}, {"tags": ["perl", "cpan"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495488245, "post_id": 44121321, "comment_id": 75264001, "body": "I&#39;m trying to imagine why you could possibly want such a thing."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8050058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84a4bf2a35dc60d671fae446b0c68b98?s=128&d=identicon&r=PG&f=1", "display_name": "curler", "link": "https://stackoverflow.com/users/8050058/curler"}, "edited": false, "score": 0, "creation_date": 1495486227, "post_id": 44121816, "comment_id": 75263141, "body": "Thanks for the answer. Unfortunately it does not work for my use case. I would like to run the code for several of my modules which I mostly don&#39;t want to have all installed."}], "tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 3, "last_activity_date": 1495485748, "creation_date": 1495485748, "answer_id": 44121816, "question_id": 44121321, "link": "https://stackoverflow.com/questions/44121321/is-there-a-way-to-run-perl-code-during-cpan-install-after-tests-have-passed/44121816#44121816", "title": "Is there a way to run perl code during cpan install after tests have passed?", "body": "<p>Personally, I would use a meta-distribution.  Say, Task::MyCorp.  This would then prereq all of the modules you want, and have the added benefit of having a test phase that won't run until all the prereqs have successfully tested.</p>\n\n<p>In fact, I often do have such a meta module, much like <a href=\"https://metacpan.org/pod/common::sense\" rel=\"nofollow noreferrer\">common::sense</a> where I can automatically load strict, warnings at the level I want, and import any other functions I want available everywhere (logging and translation being the two big ones).  It would be a convenient place to prereq everything in many cases.</p>\n\n<p>Obviously, without knowing how you have everything set up, I can't be sure this will work for you. There is no one-size-fits-all solution, so if this isn't sufficient, perhaps it will kick off some ideas that <em>will</em> work in your situation.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495524134, "post_id": 44122370, "comment_id": 75275078, "body": "Does this only work with MakeMaker, or also with other Makefile.PL modules?"}, {"owner": {"reputation": 33, "user_id": 8050058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84a4bf2a35dc60d671fae446b0c68b98?s=128&d=identicon&r=PG&f=1", "display_name": "curler", "link": "https://stackoverflow.com/users/8050058/curler"}, "edited": false, "score": 0, "creation_date": 1495533609, "post_id": 44122370, "comment_id": 75281625, "body": "Thanks! With your example I got it doing exactly what I wanted."}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1495545094, "post_id": 44122370, "comment_id": 75290111, "body": "This is a MakeMaker solution."}], "tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": true, "score": 2, "last_activity_date": 1495545128, "last_edit_date": 1495545128, "creation_date": 1495488270, "answer_id": 44122370, "question_id": 44121321, "link": "https://stackoverflow.com/questions/44121321/is-there-a-way-to-run-perl-code-during-cpan-install-after-tests-have-passed/44122370#44122370", "title": "Is there a way to run perl code during cpan install after tests have passed?", "body": "<p>One option (if you are using <code>ExtUtils::MakeMaker</code>) is to <a href=\"https://metacpan.org/pod/ExtUtils::MakeMaker#Overriding-MakeMaker-Methods\" rel=\"nofollow noreferrer\">define a <code>MY::test</code> function</a> in <code>Makefile.PL</code> to (conditionally) add an extra task. Something like</p>\n\n<pre><code> # Makefile.PL\n ...\n sub MY::test {\n    my $text = shift-&gt;SUPER::test(@_);  # original 'test' action for this system\n    if ($ENV{BOOM}) {\n        $text =~ s/^(test ::.*)$/$1 GO-BOOM/m;\n        $text .= q~\nGO-BOOM ::\n    $(PERL) -E 'say \"BOOM!\"'\n~;\n    # note: important to use tab, not spaces, before \"$(PERL) ...\"\n    }\n    return $text;\n }\n</code></pre>\n\n<p>In the <code>Makefile</code>, the <code>test</code> action will now either look like</p>\n\n<pre><code>test :: $(TEST_TYPE) subdirs-test GO-BOOM\n...\nGO-BOOM ::\n        $(PERL) -E 'say \"BOOM!\"'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>test :: $(TEST_TYPE) subdirs-test\n</code></pre>\n\n<p>depending on what happened in <code>Makefile.PL</code>. (These are typical linux specs in the Makefile. Your results may vary).</p>\n\n<p>If you have defined the <code>BOOM</code> environment variable when you ran <code>Makefile.PL</code>, and if the prior actions related to <code>make test</code> are successful, then the <code>test</code> action will also perform the <code>GO-BOOM</code> action. But if a test fails, then <code>GO-BOOM</code> will not run.</p>\n\n<pre><code>$ BOOM=1 perl Makefile.PL\n$ make test TEST_FILES=t/test-that-will-pass.t\nPERL_DL_NONLAZY=1 \"/usr/bin/perl\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib/lib', 'blib/arch')\" t/test-that-will-pass.t\nt/test-that-will-pass .. ok    \nAll tests successful.\nFiles=1, Tests=16,  4 wallclock secs ( 0.01 usr  0.01 sys +  0.06 cusr  0.01 csys =  0.09 CPU)\nResult: PASS\n\"/usr/bin/perl\" -E 'say \"BOOM!\"'\nBOOM!\n\n$ make test TEST_FILES=t/test-that-will-fail.t\nPERL_DL_NONLAZY=1 \"/usr/bin/perl\" \"-MExtUtils::Command::MM\" \"-MTest::Harness\" \"-e\" \"undef *Test::Harness::Switches; test_harness(0, 'blib/lib', 'blib/arch')\" t/test-that-will-fail.t\nt/test-that-will-fail.t .. 1/? \n#   Failed test at t/test-that-will-fail.t line 2.\n# Looks like you failed 1 test of 1.\nt/test-that-will-fail.t .. Dubious, test returned 1 (wstat 256, 0x100)\nFailed 1/1 subtests \n\nTest Summary Report\n-------------------\nt/test-that-will-fail.t (Wstat: 256 Tests: 1 Failed: 1)\n  Failed test:  1\n  Non-zero exit status: 1\nFiles=1, Tests=1,  0 wallclock secs ( 0.01 usr  0.01 sys +  0.03 cusr  0.00 csys =  0.05 CPU)\nResult: FAIL\nFailed 1/1 test programs. 1/1 subtests failed.\nMakefile:938: recipe for target 'test_dynamic' failed\nmake: *** [test_dynamic] Error 1\n</code></pre>\n\n<p>(no boom)</p>\n"}], "owner": {"reputation": 33, "user_id": 8050058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84a4bf2a35dc60d671fae446b0c68b98?s=128&d=identicon&r=PG&f=1", "display_name": "curler", "link": "https://stackoverflow.com/users/8050058/curler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 44122370, "answer_count": 2, "score": 3, "last_activity_date": 1495545128, "creation_date": 1495483789, "question_id": 44121321, "link": "https://stackoverflow.com/questions/44121321/is-there-a-way-to-run-perl-code-during-cpan-install-after-tests-have-passed", "title": "Is there a way to run perl code during cpan install after tests have passed?", "body": "<p>I have my own cpan mirror which has some injected modules for our internal use only. I would like to run some perl code during cpan install. Currently I'm injecting the code directly to Makefile.PL, but the problem is that that it is run before \"make test\". I would like the code being run only after the distributions tests have passed.</p>\n\n<p>One option would be to inject the code in the end of the last test file, but how do I know if all tests in all testfiles have passed? Test::More->builder->is_passing seems to know only about the current test file.</p>\n"}, {"tags": ["arrays", "bash", "perl", "soap"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495476565, "post_id": 44115964, "comment_id": 75258079, "body": "Why use bash at all if you have the power of Perl available?"}, {"owner": {"reputation": 3, "user_id": 8048647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c75cf81602a149ab0761c567beba167?s=128&d=identicon&r=PG&f=1", "display_name": "S. Chlebina", "link": "https://stackoverflow.com/users/8048647/s-chlebina"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495480091, "post_id": 44115964, "comment_id": 75260010, "body": "Just because I don&#39;t know Perl and I know Bash, but I am beginning to think it&#39;ll work better if I just teach myself some basics and try it out"}], "answers": [{"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 2, "last_activity_date": 1495464831, "creation_date": 1495464831, "answer_id": 44116081, "question_id": 44115964, "link": "https://stackoverflow.com/questions/44115964/pass-perl-array-to-bash-script/44116081#44116081", "title": "Pass Perl array to bash script", "body": "<p>Short answer is - you can't pass data structures between programs. </p>\n\n<p>You can just pass text (and binary content, but I'd suggest you don't want to do that here). </p>\n\n<p>One of the easiest ways of doing that is using an existing data interchange format, like JSON:</p>\n\n<pre><code>use JSON;\nprint to_json(\\@result_list); \n</code></pre>\n\n<p>And then decode the JSON form <em>within</em> your bash script, manually.</p>\n\n<p>Or just y'know, do all the work in <code>perl</code>. It's not that different. </p>\n"}, {"tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 0, "last_activity_date": 1495486183, "creation_date": 1495486183, "answer_id": 44121939, "question_id": 44115964, "link": "https://stackoverflow.com/questions/44115964/pass-perl-array-to-bash-script/44121939#44121939", "title": "Pass Perl array to bash script", "body": "<p>While, in general, and probably in this specific case, I would go with the \"do it all in X\" where X is anything more advanced than the shell, I have had to do this once or twice.  Mostly because I was setting up an interactive shell environment.</p>\n\n<p>What I ended up doing is the same thing that tools like <a href=\"https://linux.die.net/man/1/ssh-agent\" rel=\"nofollow noreferrer\"><code>ssh-agent -s</code></a> do: building the shell commands that would result in the environment being set as desired, and then having the parent shell eval them, e.g.:</p>\n\n<p><code>eval $(perl perl_script.pl)</code></p>\n\n<p>Just watch out to ensure every separate command is separated by <code>;</code> since <code>\\n</code>'s are (usually) squashed.</p>\n\n<p>Another alternative, which I like a fair bit less, but I've used when generating variables for Windows' batch files, is to output the same to a new file and allow the parent batch file to <code>call</code> it (or, in shell, <code>source</code> it).  I'm not a big fan of temporary files if I can avoid them though it can make debugging a fair bit easier.</p>\n"}], "owner": {"reputation": 3, "user_id": 8048647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c75cf81602a149ab0761c567beba167?s=128&d=identicon&r=PG&f=1", "display_name": "S. Chlebina", "link": "https://stackoverflow.com/users/8048647/s-chlebina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1495486183, "creation_date": 1495464509, "last_edit_date": 1495476961, "question_id": 44115964, "link": "https://stackoverflow.com/questions/44115964/pass-perl-array-to-bash-script", "title": "Pass Perl array to bash script", "body": "<p>I am attempting to connect to the Footprints API using a Perl script. I am using Perl because that's one of the few languages the Footprints API will work with.</p>\n\n<p>I want this Perl script to gather the data from Footprints, place the data in an array, and pass that array back to the shell script which calls it.</p>\n\n<p>How do I pass an array from a Perl script to a bash script?</p>\n\n<p>Below is the template for connecting to the Footprints API and collecting the data. </p>\n\n<p>Template:</p>\n\n<pre><code>use strict;\n\nuse SOAP::Lite;\n\nmy $USE_PROXY_SERVER = 1;\n\nmy $soap = new SOAP::Lite;\n\n$soap-&gt;uri( 'http://fakeserver.phoneycompany.com/MRWebServices' );\n\nif ( $USE_PROXY_SERVER ) {\n    $soap-&gt;proxy(\n        'http://fakeserver.phoneycompany.com/MRcgi/MRWebServices.pl',\n        proxy =&gt; ['http' =&gt; 'http://localhost:8888/'] );\n}\nelse {\n    $soap-&gt;proxy( 'http://fakeserver.phoneycompany.com/MRcgi/MRWebServices.pl' );\n}\n\nmy $soapenv = $soap-&gt;MRWebServices__search(\n    'WebServices',\n    'fakepassword',\n    '',\n    \"select mrID, mrTITLE from MASTER78 WHERE mrTITLE LIKE '%of%'\"\n);\n\nmy $result;\n\nif ( $soapenv-&gt;fault ) {\n    print ${$soapenv-&gt;fault}{faultstring} . \"\\n\";\n    exit;\n}\nelse {\n    $result = $soapenv-&gt;result;\n}\n\nmy @result_list = @{$result};\n\nfor ( my $i = 0; $i &lt;= $#result_list; $i++ ) {\n\n    print \"RESULT $i\\n\";\n\n    my $hash_ref = $result_list[$i]; \n\n    foreach my $item ( keys %{$hash_ref} ) {\n        my $val = $hash_ref-&gt;{$item};\n        print \"$item = '$val'\\n\";\n    }\n\n    print \"---------------------\\n\";\n}\n</code></pre>\n\n<p>In the template, I think it is just printing the key/value pairs to stdout.</p>\n\n<p>I am new to Perl and am only using it to search the Footprints API. I'm not sure if you can somehow capture that data from stdout with the bash script, or if I have to do make an array or a string representation of the array and return that.</p>\n\n<p>In my bash script, I was going to assign the result of the Perl script to a variable like <code>VAR=(perl perl_script.pl)</code>. But I don't know how to do that for an array, which was why I was thinking about the string representation of the array, assigning it to a variable and parsing it in bash afterwards.</p>\n\n<p>I don't know how to set that up in Perl though, so I need help with that.</p>\n"}, {"tags": ["regex", "perl", "capture-group"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495461652, "post_id": 44113809, "comment_id": 75249004, "body": "&quot;<b>This redicules the use of named capture groups</b>&quot;... What does that even mean?"}, {"owner": {"reputation": 41, "user_id": 6271043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cdbddc667a5580311a3244f1c750b8?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/6271043/felix"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495462271, "post_id": 44113809, "comment_id": 75249436, "body": "One of the reasons of using named capture groups is to avoid using numbers to refer to them. Writing <code>$+{header}</code> and <code>$+{age}</code> makes your code readable, while <code>$+[42]</code> might be anything. If now I have to use the number of the capture group to retrieve the match position, what remains of this advantage?"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 6271043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cdbddc667a5580311a3244f1c750b8?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/6271043/felix"}, "edited": false, "score": 0, "creation_date": 1495461284, "post_id": 44114126, "comment_id": 75248705, "body": "Okay, maybe I was a bit unclear with the &#39;<code>@-</code> and <code>@+</code> does not work&#39; part. I <i>could</i> use these arrays to retrieve the position, but this forces me to use numbers again to refer to the capture groups (e.g. <code>$-[1]</code> for capture group A), making the use of named capture groups senseless. I would like to write something like <code>$START_POS{A}</code>, is that possible"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 41, "user_id": 6271043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cdbddc667a5580311a3244f1c750b8?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/6271043/felix"}, "edited": false, "score": 1, "creation_date": 1495461615, "post_id": 44114126, "comment_id": 75248973, "body": "Please explain <b>why</b> you want to do that. It sounds like you have already decided on the solution, but it may not be the most appropriate one.  See <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a>"}, {"owner": {"reputation": 41, "user_id": 6271043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cdbddc667a5580311a3244f1c750b8?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/6271043/felix"}, "edited": false, "score": 0, "creation_date": 1495463605, "post_id": 44114126, "comment_id": 75250479, "body": "I just thought it should be possible, and that it should be a feature in the language, and I have missed it in the documentation. Why would one need this feature? An example: Write a function that is given two strings (<code>$string1</code>, <code>$string2</code>) of equal length and a quoted regexp (<code>$re</code>) containing named capture groups. The function should match <code>$re</code> against <code>$string1</code>, extract for each capture group the position of the match and then extract the text at that position from <code>$string2</code>. Then, construct a hash with keys being the names of the groups, and values being the text from <code>$string2</code>."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 41, "user_id": 6271043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cdbddc667a5580311a3244f1c750b8?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/6271043/felix"}, "edited": false, "score": 0, "creation_date": 1495464023, "post_id": 44114126, "comment_id": 75250770, "body": "Are you assigning homework now, or is this a concrete problem?! See my updated answer. I am done with this."}, {"owner": {"reputation": 41, "user_id": 6271043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cdbddc667a5580311a3244f1c750b8?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/6271043/felix"}, "edited": false, "score": 0, "creation_date": 1495464650, "post_id": 44114126, "comment_id": 75251210, "body": "What is your problem? You asked me to explain <i>what</i> I want to do. In fact, I would like to do exactly what I explained in the example two comments above. To do that, I think I have to know what I asked in the original question. If that&#39;s not the case, feel free to provide another solution (or just an idea) to the data extraction function described above."}, {"owner": {"reputation": 41, "user_id": 6271043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cdbddc667a5580311a3244f1c750b8?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/6271043/felix"}, "edited": false, "score": 0, "creation_date": 1495464770, "post_id": 44114126, "comment_id": 75251295, "body": "You say that &quot;It is actually rather straightforward to build such a lookup table following a match&quot;. Could you please elaborate? This is exactly what I would be interested in."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 41, "user_id": 6271043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cdbddc667a5580311a3244f1c750b8?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/6271043/felix"}, "edited": false, "score": 0, "creation_date": 1495464939, "post_id": 44114126, "comment_id": 75251416, "body": "The problem with your question is you start with an invalid assertion &quot;<b><code>@-</code> and <code>@+</code> don&#39;t work for named groups</b>&quot;. Then you update with &quot;This redicules the use of named capture groups&quot; -- whatever that means. Then you come up with some really artificial problem. It sounds like you are trying to extract named columns from a fixed width data file (for which regexes are the worst choice), but more than likely this is a wild goose chase. Read my answer."}, {"owner": {"reputation": 41, "user_id": 6271043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cdbddc667a5580311a3244f1c750b8?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/6271043/felix"}, "edited": false, "score": 0, "creation_date": 1495465048, "post_id": 44114126, "comment_id": 75251498, "body": "By the way, the formulation &quot;Write a function...&quot; was not meant to be an order to you, I just wanted to describe the task to be done in a concise way. I&#39;m not a native speaker, so please excuse if that formulation seemed inappropriate."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 41, "user_id": 6271043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cdbddc667a5580311a3244f1c750b8?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/6271043/felix"}, "edited": false, "score": 0, "creation_date": 1495465437, "post_id": 44114126, "comment_id": 75251828, "body": "Nor am I. ... Regardless, consider the following: It sometimes makes sense for vehicles to have skis in place of wheels. Does it then make sense to expect all cars to have skis built-in?"}, {"owner": {"reputation": 41, "user_id": 6271043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cdbddc667a5580311a3244f1c750b8?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/6271043/felix"}, "edited": false, "score": 0, "creation_date": 1495465457, "post_id": 44114126, "comment_id": 75251838, "body": "I don&#39;t have fixed width input. In fact, I have a RNA sequence (<code>$string2</code>, e.g. <code>AAAGGGGGGGGGGCCCCCCCCCCCCCCUUUU</code>),  use a folding algorithm to obtain its secondary structure in dot-bracket notation (something like <code>(((((((((((((....))))))))))))).</code>, <code>$string1</code>) and then try to identify structural features in that sequence, which I specify as a regular expression. But since almost no one knows what that means, I decided to factor out the programming task and drop the biology. I&#39;m sorry if the problem seemed to artificial to you, but it&#39;s an application I need in my problem domain."}, {"owner": {"reputation": 41, "user_id": 6271043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cdbddc667a5580311a3244f1c750b8?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/6271043/felix"}, "edited": false, "score": 0, "creation_date": 1495466416, "post_id": 44114126, "comment_id": 75252438, "body": "Well, I realize you updated your answer and it is almost what I want. Therefore, and because of your efforts, I accepted it. The drawback is that you have to know the names of the capture group in advance. Yeah, I would like to have a rather abstract solution, because this makes code re-usable and applicable to similar problems without copying functions and changing 3 characters.  And I don&#39;t think that this is a waste of time. Anyway, thanks for your help."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 41, "user_id": 6271043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cdbddc667a5580311a3244f1c750b8?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/6271043/felix"}, "edited": false, "score": 0, "creation_date": 1495466544, "post_id": 44114126, "comment_id": 75252543, "body": "It is also rather straightforward to do that, but you have to take the time to actually state the problem clearly. At some point, some code is constructing those patterns, assigning names to those capture groups. That&#39;s where you do the work, not afterwards. My answer had been updated 12 minutes before you asked me to elaborate."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1495471300, "last_edit_date": 1495471300, "creation_date": 1495459573, "answer_id": 44114126, "question_id": 44113809, "link": "https://stackoverflow.com/questions/44113809/match-positions-of-named-capture-groups-in-perls-regexps/44114126#44114126", "title": "Match positions of named capture groups in Perl&#39;s regexps", "body": "<blockquote>\n  <p>one can refer to the regex variables <code>@-</code> and <code>@+</code>, but this does not work for named groups.</p>\n</blockquote>\n\n<p>Let's first establish that <code>@+</code> and <code>@-</code> work as intended:</p>\n\n<pre><code>perl -wle '\n    use Data::Dumper;\n    \"abc\" =~ / (?&lt;B&gt; (?&lt;A&gt; a ) b ) c /x and print \"match!\";\n    print Dumper(\\@+);'\nmatch!\n$VAR1 = [\n          3,\n          2,\n          1\n        ];\n</code></pre>\n\n<p>and</p>\n\n<pre><code>perl -wle '\n    use Data::Dumper;\n    \"abc\" =~ / (?&lt;B&gt; (?&lt;A&gt; a ) b ) c /x and print \"match!\";\n    print Dumper(\\@-);'\nmatch!\n$VAR1 = [\n          0,\n          0,\n          0\n        ];\n</code></pre>\n\n<p>Now, since I posted the above, you have expanded on your question by saying</p>\n\n<blockquote>\n  <p>(*) With 'does not work' I mean that I cannot use the name of the capture group to retrieve the position, but only the number of the group (e.g. <code>$-[1]</code> for the start position of group <code>A</code>, but not something like <code>$START_POS{A}</code>). <em>This redicules the use of named capture groups, and may not even be possible if one does not know the order of the capture groups in advance.</em> (emphasis mine)</p>\n</blockquote>\n\n<p>I don't quite understand what you mean or why you need this, but my repeated queries remained unanswered, so here is the answer to your literal question.</p>\n\n<p>Looking at <a href=\"https://perldoc.perl.org/perlvar.html#Variables-related-to-regular-expressions\" rel=\"nofollow noreferrer\">perldoc perlvar</a>, we note that currently there is no mechanism to have another hash which allows you to look up match positions by names of capture groups.</p>\n\n<blockquote>\n  <p><strong><em><code>%LAST_PAREN_MATCH</code></em></strong>\n  <strong><em><code>%+</code></em></strong></p>\n  \n  <p>Similar to <code>@+</code>, the <code>%+</code> hash allows access to the named capture buffers, should they exist, in the last successful match in the currently active dynamic scope.</p>\n  \n  <p>For example, <code>$+{foo}</code> is equivalent to $1 after the following match:</p>\n\n<pre><code>   'foo' =~ /(?&lt;foo&gt;foo)/;\n</code></pre>\n  \n  <p>The keys of the <code>%+</code> hash list only the names of buffers that have captured (and that are thus associated to defined values).</p>\n  \n  <p>The underlying behaviour of <code>%+</code> is provided by the <a href=\"https://metacpan.org/pod/Tie::Hash::NamedCapture\" rel=\"nofollow noreferrer\">Tie::Hash::NamedCapture</a> module.\n  &hellip;\n  This variable was added in Perl v5.10.0.\n  This variable is read-only and dynamically-scoped.</p>\n</blockquote>\n\n<p>It is actually rather straightforward to build such a lookup table following a match, but as I have mentioned before, I am not sure why you need it and it does not seem like the best solution to any problem I have encountered before. It may not be the most suitable solution to <em>your</em> problem, so it would be better for you to explain what problem you are actually trying to solve.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $str = 'abc';\n\n$str =~ / (?&lt;B&gt; (?&lt;A&gt; a) b) c /x;\n\nmy %captured_to_pos = map +(substr($str, $-[$_], $+[$_] - $-[$_]) =&gt; [$-[$_], $+[$_]]), 0 .. $#+;\n\nprint Dumper $captured_to_pos{$+{$_}} for qw( A B );\n</code></pre>\n\n<p>Output:</p>\n\n<pre>$VAR1 = [\n          0,\n          1\n        ];\n$VAR1 = [\n          0,\n          2\n        ];</pre>\n\n<p>You have to be more careful if different capture groups can match identical strings, but I see no reason to delve into that without sufficient motivating explanation from you.</p>\n"}], "owner": {"reputation": 41, "user_id": 6271043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cdbddc667a5580311a3244f1c750b8?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/6271043/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 1, "accepted_answer_id": 44114126, "answer_count": 1, "score": 0, "last_activity_date": 1495471300, "creation_date": 1495458738, "last_edit_date": 1495461608, "question_id": 44113809, "link": "https://stackoverflow.com/questions/44113809/match-positions-of-named-capture-groups-in-perls-regexps", "title": "Match positions of named capture groups in Perl&#39;s regexps", "body": "<p>In Perl, named capture groups can be used to extract data from a string using a regex:</p>\n\n<pre><code>perl -wle '\n    use Data::Dumper;\n    \"abc\" =~ / (?&lt;B&gt; (?&lt;A&gt; a ) b ) c /x and print \"match!\";\n    print Dumper(\\%+);\n'\n</code></pre>\n\n<p>prints </p>\n\n<pre><code>match!                                                                                                                            \n$VAR1 = {                                                                                                                         \n      'B' =&gt; 'ab',                                                                                                            \n      'A' =&gt; 'a'                                                                                                              \n    };                                                                                                                        \n</code></pre>\n\n<p>But how do you get the <em>position</em> of the matches A and B in the string <code>\"abc\"</code>? When using <em>un</em>named capture groups, one can refer to the regex variables <code>@-</code> and <code>@+</code>, but this does not work for named groups (*).</p>\n\n<p>(*) With 'does not work' I mean  that I cannot use the name of the capture group to retrieve the position, but only the number of the group (e.g. <code>$-[1]</code> for the start position of group A, but not something like <code>$START_POS{A}</code>). This redicules the use of named capture groups, and may not even be possible if one does not know the order of the capture groups in advance.</p>\n"}, {"tags": ["perl", "sybase", "bind-variables"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495458365, "post_id": 44113476, "comment_id": 75246587, "body": "The error messages are in German? Are those from the driver?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495458442, "post_id": 44113476, "comment_id": 75246640, "body": "If you know which modules work for you, is there any reason you can&#39;t install exactly those versions of the modules directly? If they are not on CPAN, they are probably on BackPAN so you should be able to get them, and then install them using local::lib."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 2, "creation_date": 1495461968, "post_id": 44113476, "comment_id": 75249216, "body": "&quot;Element &#39;DBD1&#39; ist bereits vorhanden&quot; Are you sure that error comes from the code you&#39;ve shown us? The error means &quot;Element &#39;DBD1&#39; already exists&quot; and in generated when you try to insert a row which violates a unique index on the table. Which seems unlikely to be generated by a select statement."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1495462901, "post_id": 44113476, "comment_id": 75249949, "body": "I am not saying this is a problem, but I do not like the method used to prepare&gt;execute. Can you try <code>my $select = $dbh-&gt;prepare(&quot;select artnr, bez1, bez2 from art where artnr like &#39;F%12%.00&#39;&quot;); $select-&gt;execute || die &quot;failed to execute&quot;;</code> also switch on <code>use strict;</code> <code>use warnings;</code> I also fully agree with @DaveCross. It seems that your error is telling you it is trying to create something which cannot be true if you are using select statements."}, {"owner": {"reputation": 1, "user_id": 8048050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/633e95183f6d9095bd2363357eda612f?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Schmidt", "link": "https://stackoverflow.com/users/8048050/martin-schmidt"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495521572, "post_id": 44113476, "comment_id": 75273576, "body": "Sorry: the error message is in my apache2/error.log. @simbabque: as I understood DBD:ASAny is deprecated, and as it always was a drag to install, I was glad having something else."}, {"owner": {"reputation": 1, "user_id": 8048050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/633e95183f6d9095bd2363357eda612f?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Schmidt", "link": "https://stackoverflow.com/users/8048050/martin-schmidt"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495521593, "post_id": 44113476, "comment_id": 75273587, "body": "@Gerhard: yes there are they fine and right things, but this is just a test for provoking the error."}, {"owner": {"reputation": 1, "user_id": 8048050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/633e95183f6d9095bd2363357eda612f?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Schmidt", "link": "https://stackoverflow.com/users/8048050/martin-schmidt"}, "reply_to_user": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1495521601, "post_id": 44113476, "comment_id": 75273589, "body": "@Dave: I only do a select, but the error comes every time when I do a execute with bind variables within an other loop of fetchrow. As I understood there is a stored procedure created when you do a prepare with bind variables, so maybe there is something with that. I do not know where &#39;DBD1&#39; comes from."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495521831, "post_id": 44113476, "comment_id": 75273711, "body": "Well the question you need to ask yourself is, do you need this to work, or do you have time to play around? Even if it&#39;s a drag to install, I&#39;d install it first to get it up and running, then bother about refactoring it with a different driver."}, {"owner": {"reputation": 1, "user_id": 8048050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/633e95183f6d9095bd2363357eda612f?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Schmidt", "link": "https://stackoverflow.com/users/8048050/martin-schmidt"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495522880, "post_id": 44113476, "comment_id": 75274317, "body": "@simbabque: I do have the time, the old installation (lenny) is running, I have a new server installed ( stretch ) and I&#39;m just starting to move my programs."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495523210, "post_id": 44113476, "comment_id": 75274502, "body": "I see. Has the version of the database changed? Can you get a change log. (I&#39;ve never used Sybase, so I&#39;m poking around)."}, {"owner": {"reputation": 1, "user_id": 8048050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/633e95183f6d9095bd2363357eda612f?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Schmidt", "link": "https://stackoverflow.com/users/8048050/martin-schmidt"}, "edited": false, "score": 0, "creation_date": 1495525729, "post_id": 44113476, "comment_id": 75276091, "body": "No the sybase anywhere is running on different host, there has been no change in the last few years (ASA 12)"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8048050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/633e95183f6d9095bd2363357eda612f?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Schmidt", "link": "https://stackoverflow.com/users/8048050/martin-schmidt"}, "is_accepted": false, "score": 0, "last_activity_date": 1495616389, "creation_date": 1495616389, "answer_id": 44153678, "question_id": 44113476, "link": "https://stackoverflow.com/questions/44113476/perl-dbi-sybase-asanywhere-problems-with-bind-variables/44153678#44153678", "title": "Perl DBI Sybase Asanywhere Problems with bind variables", "body": "<p>Thanks to You all, especially simbabque, he was on the right track. The answer is simple:\n<br>DBD::ASAny was written to handle SQL Anywhere, whereas DBD::Sybase is for Sybase Adaptive Server Enterprise, and these two systems are actually quite different.\n<br>I used the wrong tool. Mist.</p>\n"}], "owner": {"reputation": 1, "user_id": 8048050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/633e95183f6d9095bd2363357eda612f?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Schmidt", "link": "https://stackoverflow.com/users/8048050/martin-schmidt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1495616389, "creation_date": 1495457869, "question_id": 44113476, "link": "https://stackoverflow.com/questions/44113476/perl-dbi-sybase-asanywhere-problems-with-bind-variables", "title": "Perl DBI Sybase Asanywhere Problems with bind variables", "body": "<p>I have to switch my webserver (internal use only) to a more recent version and so I have also new perl and new DBD:Sybase instead of DBD:ASAny I used before.</p>\n\n<p>I use statements with bind variables regulary, they worked fine, but with DBD:Sybase I get the following error:</p>\n\n<blockquote>\n  <p>AH01215: DBD::Sybase::st execute failed: Server >message number=12006 severity=16 state=0 line=0 text=SQL Anywhere-Fehler >-110: Element 'DBD1' ist bereits vorhanden </p>\n</blockquote>\n\n<p>The versions:</p>\n\n<p>New: DBD::Sybase</p>\n\n<p>/usr/local/lib/x86_64-linux-gnu/perl/5.22.1/DBD/Sybase.pm\n    Installed: 1.15</p>\n\n<p>Old: DBD::ASAny</p>\n\n<p>DBD::ASAny  version 1.14.</p>\n\n<pre><code>#!/usr/bin/perl \n\nuse DBI;\nprint \"Content-type: text/html\\n\\n\";\n\n$dbh = DBI-&gt;connect( \"DBI:Sybase:server=tl\", 'xxx', 'yyy', {PrintError =&gt; 1, AutoCommit =&gt; 0} ) or die \"Connection failed\\n    Connection string: $connstr\\n    Error message    : $DBI::errstr\\n\";\n\n$dbh2 = DBI-&gt;connect( \"DBI:Sybase:server=tl\", 'xxx', 'yyy', {PrintError =&gt; 1, AutoCommit =&gt; 0} ) or die \"Connection failed\\n    Connection string: $connstr\\n    Error message    : $DBI::errstr\\n\";\n\n$select=\"select artnr, bez1, bez2 from art where artnr like 'F%12%.00'\";\n$sth_t=$dbh-&gt;prepare($select);\n$sth_t-&gt;execute();\n\n$select=\"select lager_nr, bestand from bestand where art_nr = ? and coalesce(bestand,0) &gt; 0 \";\n$sth_lager=$dbh2-&gt;prepare($select)  or die \"Prep sthlager nix:\".$dbh2-&gt;errstr().\"\\n\";\n\nwhile ( ($artnr, $gtnr, $bez)=$sth_t-&gt;fetchrow())\n{\n    print $artnr.\"; \".$gtnr.\"; \".$bez;\n    $sth_lager-&gt;execute($artnr)   or die \"exec sthlager nix:\".$dbh2-&gt;errstr().\"\\n\";\n    while ( ($lager,$bestand) = $sth_lager-&gt;fetchrow())\n    {\n        print $lager.\" : \".$bestand.\" || \";\n    }\n    $sth_lager-&gt;finish();\n    print \"\\n&lt;br&gt;\";\n}\n</code></pre>\n\n<p>The offending line is \"$sth_lager->execute($artnr)\"</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 3315, "user_id": 1008563, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3ec34c4cd3354863a551d2f7539e3204?s=128&d=identicon&r=PG", "display_name": "samiles", "link": "https://stackoverflow.com/users/1008563/samiles"}, "edited": false, "score": 0, "creation_date": 1495457123, "post_id": 44113121, "comment_id": 75245736, "body": "We can&#39;t tell what the question is, without assessing your answer on another post. Can&#39;t you post the pertinent information in your question here so we can answer it?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "reply_to_user": {"reputation": 3315, "user_id": 1008563, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3ec34c4cd3354863a551d2f7539e3204?s=128&d=identicon&r=PG", "display_name": "samiles", "link": "https://stackoverflow.com/users/1008563/samiles"}, "edited": false, "score": 0, "creation_date": 1495457575, "post_id": 44113121, "comment_id": 75246033, "body": "@samiles Updated"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "edited": false, "score": 0, "creation_date": 1495543907, "post_id": 44114355, "comment_id": 75289183, "body": "Thank you for the answer. Unfortunately, both solutions are not working, the rename still fails with <code>Permission denied</code>. On the second solution, another &quot;weird&quot; thing happens, a command prompt is opened."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1495460186, "creation_date": 1495460186, "answer_id": 44114355, "question_id": 44113121, "link": "https://stackoverflow.com/questions/44113121/non-blocking-child-process-blocks-file/44114355#44114355", "title": "Non-blocking child process blocks file", "body": "<p>Here is the <a href=\"https://technet.microsoft.com/en-us/library/cc770297(v=ws.11).aspx\" rel=\"nofollow noreferrer\">documentation for <code>start</code></a> (which you should also be able to read by using <code>start /?</code> on the command line. I do not have access to a Windows system right now, so I can't verify.</p>\n\n<blockquote>\n  <p><code>/b</code></p>\n  \n  <p>Starts an application without opening a new Command Prompt window. <kbd>CTRL+C</kbd> handling is ignored unless the application enables <kbd>CTRL+C</kbd> processing. Use <kbd>CTRL+BREAK</kbd> to interrupt the application.</p>\n</blockquote>\n\n<p><code>blocking_script.pl</code> is waiting for the cmd window which <code>start</code> opened to run <code>non_blocking_script.pl</code>.</p>\n\n<p>In the short run, using <code>start /b</code> might help.</p>\n\n<p>Or, you could try</p>\n\n<pre><code>my @cmd = start =&gt; qw(perl d:\\\\non_blocking_script.pl);\nmy $exitCode = system @cmd;\n</code></pre>\n\n<p>However, you should <a href=\"https://en.wikipedia.org/wiki/Rube_Goldberg_machine\" rel=\"nofollow noreferrer\">change your design</a>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6734995"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495460186, "creation_date": 1495456823, "last_edit_date": 1495457560, "question_id": 44113121, "link": "https://stackoverflow.com/questions/44113121/non-blocking-child-process-blocks-file", "title": "Non-blocking child process blocks file", "body": "<p>Consider this scenario:</p>\n\n<p>We have three scripts:</p>\n\n<p>script.pl</p>\n\n<pre><code>use strict;\nuse warnings;\n\n\nprint \"\\nStarting a blocking process\";\nprint \"\\nRedirect the output of the blocking process to execution.log\";\nmy $cmd = \"perl d:\\\\blocking_script.pl &gt;d:\\\\execution.log\";\nmy $exitCode = system ($cmd);\nprint \"\\nAfter the execution of the blocking process\";\n\nprint \"\\nNow I try to rename the log\";\nrename \"d:\\\\execution.log\", \"d:\\\\execution.err\" or print \"\\nCouldn't rename because : $!\";\n</code></pre>\n\n<p>blocking_script.pl</p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint \"\\nFrom the blocking_process I run a non-blocking process\";\nmy $cmd = \"start perl d:\\\\non_blocking_script.pl\";\nmy $exitCode = system ($cmd);\nprint \"\\nAfter I started the non-blocking process\";\n</code></pre>\n\n<p>non_blocking_script.pl</p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint \"\\nI am an independent non-blocking process\";\nsleep 5;\nprint \"\\nStill here\";\nsleep 2;\nprint \"\\nYou can't rename the log because you didn't wait for me\";\nsleep 3;\nprint \"\\n.\";\nsleep 1;\n</code></pre>\n\n<p>What will result from this?</p>\n\n<pre><code>Couldn't rename because : Permission denied\n</code></pre>\n\n<p>While another command promopt will be hanging ironically : </p>\n\n<pre><code>I am an independent non-blocking process\nStill here\nYou can't rename the log because you didn't wait for me\n.\n</code></pre>\n\n<p>In my situation from perl I run an external application in a blocking way, but that application was starting some non-blocking process which were holding my log.</p>\n\n<p>How can I overcome this situation?</p>\n"}, {"tags": ["perl", "ldap"], "answers": [{"comments": [{"owner": {"reputation": 1554, "user_id": 7990687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc23386450e2a5a963e2caa1921555af?s=128&d=identicon&r=PG&f=1", "display_name": "Esteban", "link": "https://stackoverflow.com/users/7990687/esteban"}, "reply_to_user": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 0, "creation_date": 1495465529, "post_id": 44115284, "comment_id": 75251883, "body": "Thank you for pointing it out, I&#39;m no expert at all in perl. Just edited it ;)"}, {"owner": {"reputation": 91, "user_id": 6381564, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/32afda75f32199383320fc76dc80f7b6?s=128&d=identicon&r=PG&f=1", "display_name": "Edu", "link": "https://stackoverflow.com/users/6381564/edu"}, "edited": false, "score": 0, "creation_date": 1495559211, "post_id": 44115284, "comment_id": 75300223, "body": "Thanks a lot for your response. Can you please tell me if there is a way to find the group_dn (along with the count) , that has least number of people in it among the input list of groups?"}], "tags": [], "owner": {"reputation": 1554, "user_id": 7990687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc23386450e2a5a963e2caa1921555af?s=128&d=identicon&r=PG&f=1", "display_name": "Esteban", "link": "https://stackoverflow.com/users/7990687/esteban"}, "is_accepted": true, "score": 2, "last_activity_date": 1495467672, "last_edit_date": 1495467672, "creation_date": 1495462763, "answer_id": 44115284, "question_id": 44112214, "link": "https://stackoverflow.com/questions/44112214/perl-ldap-search-to-return-total-number-of-people-from-an-ldap-group/44115284#44115284", "title": "Perl LDAP Search - To return total number of people from an LDAP group", "body": "<p>As detailed and explained as your question ;)</p>\n\n<pre><code>use strict;\nuse Net::LDAP;\nmy $ldap = Net::LDAP-&gt;new($LDAP_HOST);\n\nmy $result = $ldap-&gt;search(\n    base   =&gt; $DN_OF_THE_GROUP,\n    filter =&gt; '(objectclass=*)',\n    attrs  =&gt; ['member']\n);\n\nif ($result-&gt;code) {\n    die $result-&gt;error;\n}\n\nmy $entry = $result-&gt;entry;\nmy @members = $entry-&gt;get('member');\nprint scalar @members, \"\\n\"\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 6381564, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/32afda75f32199383320fc76dc80f7b6?s=128&d=identicon&r=PG&f=1", "display_name": "Edu", "link": "https://stackoverflow.com/users/6381564/edu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "accepted_answer_id": 44115284, "answer_count": 1, "score": -2, "last_activity_date": 1495467721, "creation_date": 1495454096, "last_edit_date": 1495467721, "question_id": 44112214, "link": "https://stackoverflow.com/questions/44112214/perl-ldap-search-to-return-total-number-of-people-from-an-ldap-group", "title": "Perl LDAP Search - To return total number of people from an LDAP group", "body": "<p>I am trying to find the total number of people present in an LDAP group. Can you please help me in getting the count from the LDAP group(based on the DN) using <a href=\"https://metacpan.org/pod/Net::LDAP\" rel=\"nofollow noreferrer\">Net::LDAP</a> in Perl?</p>\n\n<p>Also, can you please suggest what could be the filter to be applied to get the number of people?</p>\n"}, {"tags": ["perl", "getopt-long"], "comments": [{"owner": {"reputation": 5334, "user_id": 5830574, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kCmqs.png?s=128&g=1", "display_name": "PerlDuck", "link": "https://stackoverflow.com/users/5830574/perlduck"}, "edited": false, "score": 5, "creation_date": 1495455321, "post_id": 44112201, "comment_id": 75244468, "body": "Read the <a href=\"http://perldoc.perl.org/Getopt/Long.html#Options-with-values\" rel=\"nofollow noreferrer\">&quot;options with values&quot;</a> section of the manual. In short: Use <code>&#39;name1=s&#39; =&gt; \\$name</code> etc."}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 3, "creation_date": 1495458659, "post_id": 44112201, "comment_id": 75246798, "body": "I heartily second the suggestion of <a href=\"http://perldoc.perl.org/Getopt/Long.html#Options-with-values\" rel=\"nofollow noreferrer\">reading the documentation</a> when a module doesn&#39;t work the way you guessed it should :-)"}], "answers": [{"tags": [], "owner": {"reputation": 1979, "user_id": 2789312, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4OgOz.png?s=128&g=1", "display_name": "palik", "link": "https://stackoverflow.com/users/2789312/palik"}, "is_accepted": true, "score": 2, "last_activity_date": 1495455941, "creation_date": 1495455941, "answer_id": 44112804, "question_id": 44112201, "link": "https://stackoverflow.com/questions/44112201/how-do-i-retrieve-the-exact-value-passed-as-an-option-value-using-getoptlong/44112804#44112804", "title": "How do I retrieve the exact value passed as an option value using Getopt::Long?", "body": "<pre><code>use warnings;\nuse strict;\nuse Getopt::Long;\nGetOptions(\n    'name1=s'   =&gt; \\my $name,\n    'address=s' =&gt; \\my $add,\n    'phone=s'   =&gt; \\my $phone\n);\nprint \"My name is $name, My address is $add, My phone number is $phone\\n\"\n</code></pre>\n\n<p>see the section <code>Getopt::Long</code> section <a href=\"https://metacpan.org/pod/Getopt::Long#Options-with-values\" rel=\"nofollow noreferrer\">Options with values</a></p>\n"}], "owner": {"reputation": 45, "user_id": 7344661, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-D9AelVM4jsg/AAAAAAAAAAI/AAAAAAAAAEE/CtOqFh_LmZE/photo.jpg?sz=128", "display_name": "Tarun Vikash", "link": "https://stackoverflow.com/users/7344661/tarun-vikash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 44112804, "answer_count": 1, "score": -2, "last_activity_date": 1495460795, "creation_date": 1495454050, "last_edit_date": 1495460795, "question_id": 44112201, "link": "https://stackoverflow.com/questions/44112201/how-do-i-retrieve-the-exact-value-passed-as-an-option-value-using-getoptlong", "title": "How do I retrieve the exact value passed as an option value using Getopt::Long?", "body": "<p>I am trying the <a href=\"https://metacpan.org/pod/Getopt::Long\" rel=\"nofollow noreferrer\">Getopt::Long</a> module to read command line arguments, but for some reason when I try to print the variable in a print statement it prints '1' and not the value that has been passed to the variable.</p>\n\n<p>Example:</p>\n\n<pre><code>use Getopt::Long;\nuse warnings;\nGetOptions(\n                'name1' =&gt; \\$name,\n                'address' =&gt; \\$add,\n                'phone' =&gt; \\$phone\n        );\nprint \"My name is $name , My address is $add, My phone number is $phone\\n\"\n</code></pre>\n\n<p>After running the above code with the following command:</p>\n\n<pre><code>perl getopt.pl --phone 77881100 --name1 Mart --address Ecity\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>My name is 1 , My address is 1, My phone number is 1\n</code></pre>\n\n<p>I expected the output to be:</p>\n\n<pre><code>My name is Mart , My address is Ecity, My phone number is 77881100\n</code></pre>\n"}, {"tags": ["perl", "join"], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1495443723, "post_id": 44108685, "comment_id": 75236888, "body": "Would it be worth mentioning <code>splice</code> at this point? Because I&#39;d probably use that: <code>print join (&quot; &quot;,splice (@file, 0, 15)),&quot;\\n&quot; while @file;</code>. Not directly relevant to the answer though."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1495443772, "post_id": 44108685, "comment_id": 75236925, "body": "@Sobrique hmm, maybe. I think reading all the file is inefficient though. See my update."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1495443811, "post_id": 44108685, "comment_id": 75236950, "body": "The example has a second row.... I had assumed it was reading the whole thing in chunks of 16 lines."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1495443857, "post_id": 44108685, "comment_id": 75236977, "body": "@Sobrique I saw that. But the text says otherwise. It&#39;s not clear. If the example is correct, your <code>splice</code> makes sense."}, {"owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "edited": false, "score": 0, "creation_date": 1495445927, "post_id": 44108685, "comment_id": 75238385, "body": "Thanks @simbabque , i want to read all the text, sorry that my question is not clear, i edited the question and posted again."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1495445996, "post_id": 44108685, "comment_id": 75238445, "body": "@Sobrique do you want to post your <code>splice</code> solution yourself?"}, {"owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "edited": false, "score": 0, "creation_date": 1495447295, "post_id": 44108685, "comment_id": 75239304, "body": "@simbabque, even i use chomp my output file still empty with one more empty line, is it the problem of the file i open?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "edited": false, "score": 0, "creation_date": 1495451684, "post_id": 44108685, "comment_id": 75242140, "body": "The last empty line would be from the final <code>&quot;\\n&quot;</code> @tim. If you don&#39;t want that, don&#39;t <code>print</code> directly. Collect the <code>join</code>ed stuff and then <code>join</code> it on <code>&quot;\\n&quot;</code>."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 2, "last_activity_date": 1495446590, "last_edit_date": 1495542891, "creation_date": 1495443444, "answer_id": 44108685, "question_id": 44108640, "link": "https://stackoverflow.com/questions/44108640/join-element-in-an-array-and-separate-with-space/44108685#44108685", "title": "Join element in an array and separate with space", "body": "<p>Your lines have newlines attached to them. Remove them with <a href=\"http://perldoc.perl.org/functions/chomp.html\" rel=\"nofollow noreferrer\"><code>chomp</code></a>. Then loop over the array, remove 16 items and print them.</p>\n\n<pre><code>my @file = &lt;FILE&gt;;\nchomp @file;\n\nwhile (@file) {\n    my @temp;\nINNER: for ( 0 .. 15 ) {\n        push @temp, shift @file || last INNER; # not or\n    }\n    print join( q{ }, @temp ), \"\\n\";\n}\n</code></pre>\n\n<p>This is the long implementation of <a href=\"https://stackoverflow.com/questions/44108640/join-element-in-an-array-and-separate-with-space/44108685?noredirect=1#comment75236888_44108685\">the <code>splice</code> solution Sobrique suggested in the comments</a>. It's does the same thing, just way more verbose.</p>\n\n<hr>\n\n<p>This is the old answer before the edit:</p>\n\n<p>If you only want the first 16, this is way more effective.</p>\n\n<pre><code>my $string = join q{ }, map { &lt;FILE&gt;; chomp; $_ } 1 .. 16;\n</code></pre>\n\n<p>This reads 16 lines and <code>chomp</code> each of them, then <code>join</code>s.</p>\n\n<p>You might also want to use lexical file handles <code>$fh</code> instead of the GLOB <code>FILE</code>.</p>\n\n<pre><code>open my $fh, '&lt;', $path_to_file or die $!;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 3961170, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PtFol.jpg?s=128&g=1", "display_name": "mkHun", "link": "https://stackoverflow.com/users/3961170/mkhun"}, "is_accepted": false, "score": 2, "last_activity_date": 1495459084, "last_edit_date": 1495459084, "creation_date": 1495444987, "answer_id": 44109267, "question_id": 44108640, "link": "https://stackoverflow.com/questions/44108640/join-element-in-an-array-and-separate-with-space/44109267#44109267", "title": "Join element in an array and separate with space", "body": "<p>Suppose if you want to read it from file, don't store the whole file into an array. Instead loop through line by line. And check the line number with <code>$.</code> special variable.</p>\n\n<pre><code>use warnings;\nuse strict;\nopen my $fh,\"&lt;\",\"input.txt\";\nmy $line;\nwhile (&lt;$fh&gt;)\n{\n    chomp;\n\n    $line.= $_.\" \";\n\n    print \"$line\\n\" and $line=\"\" if($. % 16 == 0);\n\n    END{ print \"$line\\n\";};\n}\n</code></pre>\n\n<p>Or this also will work</p>\n\n<pre><code>use warnings;\nuse strict;\nopen my $wh,\"&lt;\",\"input.txt\";\nmy $line;\nforeach (;;)\n{\n    my $data = join \" \",(map { my $m=&lt;$wh&gt; || \"\"; chomp($m); $m} (0..15));\n\n    last if ($data =~m/^\\s+$/);\n\n    print $data,\"\\n\";   \n\n}   \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 5, "last_activity_date": 1495448465, "creation_date": 1495448465, "answer_id": 44110428, "question_id": 44108640, "link": "https://stackoverflow.com/questions/44108640/join-element-in-an-array-and-separate-with-space/44110428#44110428", "title": "Join element in an array and separate with space", "body": "<p>I wouldn't do it the way you've done it.</p>\n\n<p>Instead I would:</p>\n\n<pre><code>open ( my $input, '&lt;', \"your_file_name\" ) or die $!;\nchomp ( my @file = &lt;$input&gt; ); \nprint join (\" \",splice (@file, 0, 15)),\"\\n\" while @file;\n</code></pre>\n\n<p>Note - I've used a lexical file handle with a 3 argument open, because that's better style. </p>\n\n<p><code>splice</code> removes the first 16 elements from <code>@file</code> each iteration, and continues until <code>@file</code> is empty. </p>\n"}, {"tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": false, "score": 1, "last_activity_date": 1495513845, "last_edit_date": 1495513845, "creation_date": 1495485427, "answer_id": 44121745, "question_id": 44108640, "link": "https://stackoverflow.com/questions/44108640/join-element-in-an-array-and-separate-with-space/44121745#44121745", "title": "Join element in an array and separate with space", "body": "<p>Assuming that you have FILE and FILE1 descriptors open, try:</p>\n\n<pre><code>$.%16?s!\\s+! !:1 and print FILE1 $_ while &lt;FILE&gt;;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 1741028, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/e2b6804f757415727314341336e300c9?s=128&d=identicon&r=PG", "display_name": "tim", "link": "https://stackoverflow.com/users/1741028/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1495513845, "creation_date": 1495443346, "last_edit_date": 1495445819, "question_id": 44108640, "link": "https://stackoverflow.com/questions/44108640/join-element-in-an-array-and-separate-with-space", "title": "Join element in an array and separate with space", "body": "<p>I want to join the first to 16th word and 17th to 31st, etc in an array with space to one line but do not know why the code does not work. Hope to get help here.Thanks</p>\n\n<pre><code>my @file = &lt;FILE&gt;;\nfor ( $i=0; $i&lt;=$#file; $i+=16 ){\n    my $string = join ( \" \", @file[$i..$i+15] );\n    print FILE1 \"$string\\n\";\n}\n</code></pre>\n\n<p>Below is part of my file.</p>\n\n<pre><code>1\n2\n3\n...\n</code></pre>\n\n<p>What i wan to print is</p>\n\n<pre><code>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16\n17 18 19 20 21....\n</code></pre>\n"}, {"tags": ["perl", "scep", "openxpki"], "answers": [{"comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495441671, "post_id": 44108050, "comment_id": 75235641, "body": "indeed the best method yes,"}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 4, "last_activity_date": 1495441595, "creation_date": 1495441595, "answer_id": 44108050, "question_id": 44107932, "link": "https://stackoverflow.com/questions/44107932/reverse-certificate-dn/44108050#44108050", "title": "Reverse certificate DN", "body": "<p>I'd do it like this:</p>\n\n<pre><code>$issuer = join \",\", reverse split (/,/, $issuer);\n</code></pre>\n\n<p>split your string on commas, reverse the ordering, and then join them back together (with commas)</p>\n"}], "owner": {"reputation": 3575, "user_id": 6081445, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/005fd098b0fa87b368915187a4e588fd?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Wallis", "link": "https://stackoverflow.com/users/6081445/kevin-wallis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 44108050, "answer_count": 1, "score": 0, "last_activity_date": 1495441595, "creation_date": 1495441188, "question_id": 44107932, "link": "https://stackoverflow.com/questions/44107932/reverse-certificate-dn", "title": "Reverse certificate DN", "body": "<p>could someone please assist me with reversing the DN of a certificate. (I have never used <code>perl</code> before so I don't know what the best practices are).</p>\n\n<p>I have the following string:</p>\n\n<pre><code>$issuer = \"DC=ORG,DC=OpenXPKI,OU=Test CA,CN=CA ONE\";\n</code></pre>\n\n<p>And I would need this:</p>\n\n<pre><code>$issuer = \"CN=CA ONE,OU=Test CA,DC=OpenXPKI,DC=ORG\";\n</code></pre>\n"}, {"tags": ["perl", "cgi"], "comments": [{"owner": {"reputation": 60461, "user_id": 3636601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a1b4f750ece89db0e49c94519f1a7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jens", "link": "https://stackoverflow.com/users/3636601/jens"}, "edited": false, "score": 0, "creation_date": 1495438906, "post_id": 44107253, "comment_id": 75234168, "body": "You pass the file handle  ($fh) not a &quot;normal&quot; variable ($line)"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1495440745, "post_id": 44107253, "comment_id": 75235156, "body": "That code you&#39;ve given us doesn&#39;t compile. Show us your <i>actual</i> code. But Jens is probably right - you call <code>sub2($fh)</code> and then try and use <code>$fh</code> as if it were a line."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7989792"}, "edited": false, "score": 0, "creation_date": 1495441894, "post_id": 44107253, "comment_id": 75235748, "body": "i had already called sub2($fh) at first itself@Sobrique"}, {"owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "edited": false, "score": 0, "creation_date": 1495449450, "post_id": 44107253, "comment_id": 75240671, "body": "Which variable do you want to pass from one subroutine to another? Your code doesn&#39;t do that at all. You pass the same variable (<code>$fh</code>) to two different subroutines. But your <code>sub2()</code> looks like you meant to pass it a line from the file rather than the filehandle."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7989792"}, "edited": false, "score": 0, "creation_date": 1495442926, "post_id": 44108177, "comment_id": 75236354, "body": "in secoond subroutine should i need to use shift as like my $fh=shift.@Nahuel Fouilleul"}, {"owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "edited": false, "score": 0, "creation_date": 1495443220, "post_id": 44108177, "comment_id": 75236567, "body": "to read arguments you can use <code>shift(@_)</code> or <code>my ($x,$y,@etc)=@_;</code> idioms ; so in this case : <code>my ($content)=@_;</code> , or also <code>$content=$_[0];</code> ; in perl there&#39;s always &quot;more than one way to do it&quot;"}], "tags": [], "owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "is_accepted": true, "score": 0, "last_activity_date": 1495441987, "creation_date": 1495441987, "answer_id": 44108177, "question_id": 44107253, "link": "https://stackoverflow.com/questions/44107253/failed-to-pass-variable-from-one-sub-routine-to-another-sub-routine-using-perl-c/44108177#44108177", "title": "Failed to pass variable from one sub routine to another sub routine using perl cgi?", "body": "<p>Maybe you wanted</p>\n\n<pre><code>my $content = sub1($fh);\nsub2($content);\n\nsub sub1 {\n    my $fh = shift;\n    my $content;\n    while ( my $line = &lt;$fh&gt; ) {\n        print $line;\n        $content .= $line;\n    }\n    return $content;\n}\n</code></pre>\n\n<p>Also file handle $fh can be close after sub1 call</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7989792"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 44108177, "answer_count": 1, "score": 0, "last_activity_date": 1495442169, "creation_date": 1495438774, "last_edit_date": 1495442169, "question_id": 44107253, "link": "https://stackoverflow.com/questions/44107253/failed-to-pass-variable-from-one-sub-routine-to-another-sub-routine-using-perl-c", "title": "Failed to pass variable from one sub routine to another sub routine using perl cgi?", "body": "<hr>\n\n<p>Here i had tried to pass variable from one sub routine to another sub routine using perl cgi.But my variable is not passing from one sub routine to another,</p>\n\n<pre><code>use strict;\nuse warnings;\nuse CGI ':standard';\nprint header;\nprint start_html(\"example\");\nprint end_html;\nmy $file = \"text.txt\";\nopen my $fh,'&lt;', $file or die $!;\nsub1($fh);\nsub2($fh);\n\nsub sub1 {\n   my $fh = shift;\n   while ( my $line = &lt;$fh&gt; ) {\n      print $line;\n   }\n   return $fh;\n}\n\nsub sub2 {\n   my $line = shift;\n   print start_form;\n   print \"&lt;table&gt;\";\n   print \"&lt;th&gt;content&lt;/th&gt;\";\n   print \"&lt;tr&gt;\";\n   print \"&lt;td&gt;$line&lt;td&gt;\";\n   print \"&lt;/tr&gt;\";\n   print \"&lt;/table&gt;\";\n   print end_form;\n}\n</code></pre>\n\n<p>In the above sub routine (i.e sub2 $line contents are not passing from sub1)</p>\n"}, {"tags": ["python", "bash", "perl", "file-processing"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 2, "creation_date": 1495433037, "post_id": 44105611, "comment_id": 75231021, "body": "I&#39;m voting to close this question as off-topic because it is not a programming question"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1495433910, "post_id": 44105611, "comment_id": 75231427, "body": "Your example contradicts the &quot;The triplets are formed&quot; description.   With the latter the triplets in your example should be ABC, CDE (though that doesn&#39;t have the last triplet end with the last gene).  Which is correct?"}, {"owner": {"reputation": 3, "user_id": 7695154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e30dac5ab992cec23f5807530dc46ff?s=128&d=identicon&r=PG&f=1", "display_name": "Saisha", "link": "https://stackoverflow.com/users/7695154/saisha"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1495434205, "post_id": 44105611, "comment_id": 75231575, "body": "@ysth I just saw that and corrected it."}], "answers": [{"tags": [], "owner": {"reputation": 10642, "user_id": 6309601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RNsPk.png?s=128&g=1", "display_name": "P....", "link": "https://stackoverflow.com/users/6309601/p"}, "is_accepted": true, "score": 1, "last_activity_date": 1495433245, "creation_date": 1495433245, "answer_id": 44105700, "question_id": 44105611, "link": "https://stackoverflow.com/questions/44105611/how-to-form-triplets-from-a-series/44105700#44105700", "title": "How to form triplets from a series", "body": "<pre><code>echo 'A,B,C,D,E,F,G,H,I' | awk -F, '{for(c=1;c&lt;=NF-2;c++) print $c $(c+1) $(c+2)}'\nABC\nBCD\nCDE\nDEF\nEFG\nFGH\nGHI\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4276, "user_id": 6281993, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bb4357d151af778ed5192412a13b094c?s=128&d=identicon&r=PG&f=1", "display_name": "jophab", "link": "https://stackoverflow.com/users/6281993/jophab"}, "is_accepted": false, "score": 0, "last_activity_date": 1495433620, "last_edit_date": 1495433620, "creation_date": 1495433292, "answer_id": 44105709, "question_id": 44105611, "link": "https://stackoverflow.com/questions/44105611/how-to-form-triplets-from-a-series/44105709#44105709", "title": "How to form triplets from a series", "body": "<p>Assuming <code>input.txt</code> contains </p>\n\n<pre><code>a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z\n</code></pre>\n\n<p>The following code will give the required output</p>\n\n<pre><code>lines = [i for i in open('input.txt').read().split(\",\")]\nfor i in range(len(lines)-2):\n  print(''.join(lines[i:i+3]))\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre><code>abc\nbcd\ncde\ndef\nefg\nfgh\nghi\nhij\nijk\n...\nqrs\nrst\nstu\ntuv\nuvw\nvwx\nwxy\nxyz\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7695154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e30dac5ab992cec23f5807530dc46ff?s=128&d=identicon&r=PG&f=1", "display_name": "Saisha", "link": "https://stackoverflow.com/users/7695154/saisha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "closed_date": 1495442596, "accepted_answer_id": 44105700, "answer_count": 2, "score": 0, "last_activity_date": 1495434163, "creation_date": 1495432900, "last_edit_date": 1495434163, "question_id": 44105611, "link": "https://stackoverflow.com/questions/44105611/how-to-form-triplets-from-a-series", "closed_reason": "Not suitable for this site", "title": "How to form triplets from a series", "body": "<p>File1 contains a series of comma separated genes:<br>\nA,B,C,D,E,F  </p>\n\n<p>Output required is the combinations of triplets that can be formed from the series:<br>\nABC<br>\nBCD<br>\nCDE<br>\nDEF  </p>\n\n<p>The triplets are formed starting with the first three genes in the first triplet. The second triplet is formed with the second, third and fourth. The second gene of the previous triplet forms the first one of the succeeding triplet. The last triplet shall end with the last gene. </p>\n"}, {"tags": ["perl", "progress-bar"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "edited": false, "score": 0, "creation_date": 1495434441, "post_id": 44105798, "comment_id": 75231702, "body": "Please, can you replace the | / - \\ to  . . . ."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "edited": false, "score": 0, "creation_date": 1495434505, "post_id": 44105798, "comment_id": 75231731, "body": "That is exactly what this is doing. Copy the exact code and run it, you will see. The <code>,&quot;\\b&quot;</code> at the very end will remove the previous character and replace with the new character each time the loop runs."}, {"owner": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "edited": false, "score": 0, "creation_date": 1495434592, "post_id": 44105798, "comment_id": 75231767, "body": "Please, can you replace the | / - \\ to . . . ."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "edited": false, "score": 0, "creation_date": 1495434623, "post_id": 44105798, "comment_id": 75231787, "body": "I am not sure what you are asking. Do you want to start with <code>-</code> ?"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "edited": false, "score": 0, "creation_date": 1495434664, "post_id": 44105798, "comment_id": 75231817, "body": "I made a small edit. Please copy exact code and test."}, {"owner": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "edited": false, "score": 0, "creation_date": 1495434902, "post_id": 44105798, "comment_id": 75231942, "body": "yeah bro its word thnx but i ask if u can replace  | / - \\  to .... par exmpl  #!/usr/bin/perl use Win32::Console; use strict; use warnings; $|++; # turn off output buffering;  my @chars = qw(. . . .);  my $i = 0; my $v = &quot;Please Wait&quot;; print $v; while (1) {     sleep 1;     print $chars[++$i % @chars],&quot;\\b&quot;; }"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "edited": false, "score": 0, "creation_date": 1495435192, "post_id": 44105798, "comment_id": 75232098, "body": "ok, so now the question changed? Edited, see second piece of code. Please check and mark answer as correct if it works"}, {"owner": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "edited": false, "score": 0, "creation_date": 1495435635, "post_id": 44105798, "comment_id": 75232376, "body": "Please Wait................ iwont only Please Wait.  /  Please Wait.. / Please Wait..."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "edited": false, "score": 0, "creation_date": 1495435704, "post_id": 44105798, "comment_id": 75232420, "body": "Sigh. then put the \\b back.. See third piece of code."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "edited": false, "score": 0, "creation_date": 1495436059, "post_id": 44105798, "comment_id": 75232638, "body": "I am not sure what you want now. this is getting unclear. You ask in the question that you need to not have Please wait repeated, then I answer, then you say you want to replace it with dots, then I do it, then you want only three dots? Can you edit your question and ask EXACTLY what you want?"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "edited": false, "score": 0, "creation_date": 1495436619, "post_id": 44105798, "comment_id": 75232893, "body": "That is not what your original question states. Please edit the question with EXACTLY what you need, or it will be flagged. The question was that you wanted to not repeat &quot;Please wait&quot;. Nothing with dots."}, {"owner": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "edited": false, "score": 0, "creation_date": 1495436886, "post_id": 44105798, "comment_id": 75233017, "body": "The same idea two points and come back from the first <a href=\"https://jco.com.mt/Images/upload_in_progress.gif\" rel=\"nofollow noreferrer\">jco.com.mt/Images/upload_in_progress.gif</a>"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "edited": false, "score": 0, "creation_date": 1495438067, "post_id": 44105798, "comment_id": 75233670, "body": "Edit your question please and add what you want. Not comments."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "edited": false, "score": 0, "creation_date": 1495455439, "post_id": 44105798, "comment_id": 75244555, "body": "see edits. Last one has similar timer like your gif file and second one is a faster spinner."}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": true, "score": 1, "last_activity_date": 1495521407, "last_edit_date": 1495521407, "creation_date": 1495433670, "answer_id": 44105798, "question_id": 44105606, "link": "https://stackoverflow.com/questions/44105606/errer-in-code-loading-in-perl/44105798#44105798", "title": "errer in code loading in perl", "body": "<p>You are putting <code>print \"Please wait\"</code> inside the while loop, so it will keep printing. Also use <code>\\b</code> after the <code>$chars</code> print and not after <code>Please wait</code></p>\n\n<pre><code>#!/usr/bin/perl\nuse Win32::Console;\nuse strict;\nuse warnings;\n$|++; # turn off output buffering;\n\nmy @chars = qw(| / - \\ | / - \\\\);\n\nmy $i = 0;\nmy $v = \"Please Wait\";\nprint $v;\nwhile (1) {\n    sleep 1;\n    print $chars[++$i % @chars],\"\\b\";\n}\n</code></pre>\n\n<p>Another option if you are planning on using a spinner is that you can get rid of <code>sleep 1;</code> ad replace it with select <code>undef, undef, undef, miliseconds</code>. If used like below the spinner will be nice and quick.</p>\n\n<pre><code>#!/usr/bin/perl\nuse Win32::Console;\nuse strict;\nuse warnings;\n$|++; # turn off output buffering;\n\nmy @chars = qw(| / - \\ | / - \\\\);\n\nmy $i = 0;\nmy $v = \"Please Wait \";\nprint $v;\nwhile (1) {\n    select undef, undef, undef, 0.05;\n    print $chars[++$i % @chars],\"\\b\";\n}\n</code></pre>\n\n<p>EDIT, as per your comment to request using dots instead.\nif you want to run <code>Please wait...</code> then get rid of the <code>\\b</code></p>\n\n<pre><code>#!/usr/bin/perl\nuse Win32::Console;\nuse strict;\nuse warnings;\n$|++; # turn off output buffering;\n\nmy @chars = qw(.);\n\nmy $i = 0;\nmy $v = \"Please Wait\";\nprint $v;\nwhile (1) {\n    sleep 1;\n    print $chars[++$i % @chars];\n}\n</code></pre>\n\n<p>Lastly, this is not a good method at all, but for a wait which resembles pretty much what you mentioned in the comment this will also work.</p>\n\n<pre><code>use strict;\nuse warnings;\n\n$|++;\nmy @chars = qw( . | | | . .);\nprint \"Please Wait \";\nmy $i = 0;\nwhile (1) {\n    select undef, undef, undef, .15;\n    printf $chars[++$i % @chars];\n    select undef, undef, undef, .15;\n    printf $chars[++$i % @chars];\n    select undef, undef, undef, .15;\n    printf $chars[++$i % @chars];\n    printf \"\\b\\b\\b\";\n}\n</code></pre>\n\n<p>It looks pretty neat when running though :)</p>\n"}], "owner": {"reputation": 1, "user_id": 8046313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c668739ad9d652190a232451d693fbfa?s=128&d=identicon&r=PG&f=1", "display_name": "f28be357", "link": "https://stackoverflow.com/users/8046313/f28be357"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 44105798, "answer_count": 1, "score": -2, "last_activity_date": 1495521407, "creation_date": 1495432878, "question_id": 44105606, "link": "https://stackoverflow.com/questions/44105606/errer-in-code-loading-in-perl", "title": "errer in code loading in perl", "body": "<p>What is the problem I do not want to Please Wait be repeated</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>#!/usr/bin/perl\r\nWin32::Console;\r\nuse strict;\r\nuse warnings;\r\n$|++; # turn off output buffering;\r\n\r\nmy @chars = qw(| / - \\ );\r\n\r\nmy $i = 0;\r\nmy $v = \"Please Wait\";\r\nprint $chars[$i];\r\n\r\nwhile (1) {\r\n  sleep 1;\r\n  print \"$v\\b\", $chars[++$i % @chars];\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What is the problem I do not want to Please Wait be repeated</p>\n"}, {"tags": ["perl", "imap"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1495424283, "post_id": 44104158, "comment_id": 75228483, "body": "<a href=\"https://xkcd.com/1179/\" rel=\"nofollow noreferrer\">xkcd.com/1179</a>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1495424640, "post_id": 44104158, "comment_id": 75228566, "body": "That seems awfully broad. Do you have a specific problem you&#39;re struggling with?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1495424654, "post_id": 44104158, "comment_id": 75228572, "body": "Since stackoverflow.com is no code writing service I only give you an overview how to do it: You can use for example <a href=\"https://metacpan.org/pod/Net::IMAP::Client\" rel=\"nofollow noreferrer\">Net::IMAP::Client</a> to access IMAP accounts. This provides a <code>search</code> method so you can get a listing of the specific mails. Using <code>fetch</code> you then can get the relevant mails and then use for example <a href=\"https://metacpan.org/pod/MIME::Tools\" rel=\"nofollow noreferrer\">MIME::Tools</a> to extract the attachment from the mails."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495426105, "post_id": 44104158, "comment_id": 75228875, "body": "We don&#39;t take programming assignments here and your question is very likely to be closed. Please <a href=\"http://stackoverflow.com/tour\"><i>take the tour</i></a> and read and absorb <a href=\"http://stackoverflow.com/help/on-topic\"><i>What topics can I ask about here?</i></a> and <a href=\"http://stackoverflow.com/help/how-to-ask\"><i>How do I ask a good question?</i></a>. You will need to put in some effort and create something that we can help you with before you get any good answers."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7192464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ikxts.png?s=128&g=1", "display_name": "delta_with_hat", "link": "https://stackoverflow.com/users/7192464/delta-with-hat"}, "edited": false, "score": 0, "creation_date": 1495426101, "post_id": 44104449, "comment_id": 75228873, "body": "The last 2 steps: i could only search by subject, but not both by date and subject using Mail::IMAPClient"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 1, "user_id": 7192464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ikxts.png?s=128&g=1", "display_name": "delta_with_hat", "link": "https://stackoverflow.com/users/7192464/delta-with-hat"}, "edited": false, "score": 2, "creation_date": 1495426190, "post_id": 44104449, "comment_id": 75228889, "body": "@Amedxy: We can&#39;t help you fix your code without seeing it."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1495425496, "last_edit_date": 1592644375, "creation_date": 1495425496, "answer_id": 44104449, "question_id": 44104158, "link": "https://stackoverflow.com/questions/44104158/how-to-download-attachments-from-multiple-emails-on-a-specific-range-date-and-sp/44104449#44104449", "title": "how to download attachments from multiple emails on a specific range date and specific subject using Perl?", "body": "<blockquote>\n<p>I need to download attachments from multiple emails on a specific range date and specific subject.</p>\n<p>In specific range date, i.e. 01/10/2016 to 02/02/2017 and subject &quot;Cambridge&quot;.</p>\n<p>I use imap gmail account. How do I do it using Perl?</p>\n</blockquote>\n<p>You will need to</p>\n<ul>\n<li><p>Connect to Google's IMAP server using the correct credentials</p>\n</li>\n<li><p>Select the appropriate mail folder</p>\n</li>\n<li><p>Search for emails that match the date and subject line criteria</p>\n</li>\n<li><p>For each mail found, fetch the required attachment</p>\n</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 7192464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ikxts.png?s=128&g=1", "display_name": "delta_with_hat", "link": "https://stackoverflow.com/users/7192464/delta-with-hat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "closed_date": 1495635226, "answer_count": 1, "score": -3, "last_activity_date": 1495425496, "creation_date": 1495423252, "question_id": 44104158, "link": "https://stackoverflow.com/questions/44104158/how-to-download-attachments-from-multiple-emails-on-a-specific-range-date-and-sp", "closed_reason": "Needs more focus", "title": "how to download attachments from multiple emails on a specific range date and specific subject using Perl?", "body": "<p>I need to download attachments from multiple emails on a specific range date and specific subject.</p>\n\n<p>In specific range date, i.e. 01/10/2016 to 02/02/2017 and subject \"Cambridge\".</p>\n\n<p>I use imap gmail account. How do I do it using Perl?</p>\n"}, {"tags": ["perl", "tap"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1495402657, "post_id": 44101948, "comment_id": 75224245, "body": "You need to tell it how to run tests: <code>prove --exec &#47;bin&#47;perl test_more.tap</code>"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1495403134, "post_id": 44101948, "comment_id": 75224350, "body": "I have confirmed the intermittent passing with the shebang line and would be interested to know how that comes to pass... The same happens for me when using the file-option extensions parameter to prove: it passes about 1/4 of the time."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495405416, "post_id": 44102160, "comment_id": 75224855, "body": "Excellent answer.  <i>&quot;For a test harness to not be deterministic in its decisions is bad&quot;</i> I agree, despite this issue not arising if <code>Test::Harness</code> <i>were</i> determinstic. Will you raise this as a Perl bug?"}, {"owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495406686, "post_id": 44102160, "comment_id": 75225176, "body": "@Borodin <a href=\"https://github.com/Perl-Toolchain-Gang/Test-Harness/pull/67\" rel=\"nofollow noreferrer\">Already submitted a PR</a>. :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495411932, "post_id": 44102160, "comment_id": 75226149, "body": "I really dislike code and data presented in the same style as narrative English. For instance, &quot;TAP::Parser::SourceHandler::Perl sees &quot;a shebang ala &quot;<i>#!...perl</i>&quot; is no language that I know. Markdown has backticks to mark preformatted text, and I wonder why you don&#39;t use it?"}], "tags": [], "owner": {"reputation": 126333, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "is_accepted": true, "score": 5, "last_activity_date": 1495411528, "last_edit_date": 1495411528, "creation_date": 1495403576, "answer_id": 44102160, "question_id": 44101948, "link": "https://stackoverflow.com/questions/44101948/prove-returns-inconsistent-test-results-with-testmore-and-tap-extension/44102160#44102160", "title": "Prove returns inconsistent test results with Test::More and .tap extension", "body": "\n\n<p>The <code>.tap</code> extension tells prove that <code>test.tap</code> is a text file which contains TAP. It does not execute it as a Perl program, it just reads the file and tries to parse it as TAP. You can see this with <code>prove -v</code>.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ prove -v test.tap\ntest.tap .. \nuse Test::More tests =&gt; 2;\nis(1,1);\nis(2,2);\n\nNo subtests run \n\nTest Summary Report\n-------------------\ntest.tap (Wstat: 0 Tests: 0 Failed: 0)\n  Parse errors: No plan found in TAP output\nFiles=1, Tests=0,  0 wallclock secs ( 0.02 usr +  0.00 sys =  0.02 CPU)\nResult: FAIL\n</code></pre>\n\n<p>Instead, the convention for test programs to execute is <code>test.t</code>.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ mv test.tap test.t\n$ prove -v test.t\ntest.t .. \n1..2\nok 1\nok 2\nok\nAll tests successful.\nFiles=1, Tests=2,  0 wallclock secs ( 0.03 usr  0.00 sys +  0.04 cusr  0.00 csys =  0.07 CPU)\nResult: PASS\n</code></pre>\n\n<p>See <a href=\"https://metacpan.org/pod/TAP::Parser::SourceHandler::File\" rel=\"nofollow noreferrer\">TAP::Parser::SourceHandler::File</a> for more.</p>\n\n<hr>\n\n<blockquote>\n  <p><em>Additionally, I found that adding a shebang to the test file causes test results intermittently pass:</em></p>\n</blockquote>\n\n<p>What's happening is the various TAP::Parser::SourceHandler plugins are all voting about what it is, and it's a tie. <a href=\"https://metacpan.org/pod/TAP::Parser::SourceHandler::Perl\" rel=\"nofollow noreferrer\">TAP::Parser::SourceHandler::Perl</a> sees \"<em>a shebang ala \"#!...perl</em>\" and votes 0.9. <a href=\"https://metacpan.org/pod/TAP::Parser::SourceHandler::File\" rel=\"nofollow noreferrer\">TAP::Parser::SourceHandler::File</a> sees a .tap extension and votes 0.9. You can see this by setting the <code>TAP_HARNESS_SOURCE_FACTORY_VOTES</code> environment variable.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ TAP_HARNESS_SOURCE_FACTORY_VOTES=1  prove test.tap\nvotes: TAP::Parser::SourceHandler::File: 0.9, TAP::Parser::SourceHandler::Perl: 0.9\ntest.tap .. ok   \nAll tests successful.\nFiles=1, Tests=2,  0 wallclock secs ( 0.03 usr  0.00 sys +  0.05 cusr  0.00 csys =  0.08 CPU)\nResult: PASS\n\n$ TAP_HARNESS_SOURCE_FACTORY_VOTES=1  prove test.tap\nvotes: TAP::Parser::SourceHandler::Perl: 0.9, TAP::Parser::SourceHandler::File: 0.9\ntest.tap .. No subtests run \n\nTest Summary Report\n-------------------\ntest.tap (Wstat: 0 Tests: 0 Failed: 0)\n  Parse errors: No plan found in TAP output\nFiles=1, Tests=0,  0 wallclock secs ( 0.02 usr +  0.01 sys =  0.03 CPU)\nResult: FAIL\n</code></pre>\n\n<p>The handlers are then sorted by votes. Since Perl's sort is not stable, that is if two entries are equal it does not preserve their order, either handler can come out on top. Even using stable sort, it's sorting from <code>keys %handlers</code> which will come out in a different order each process. <a href=\"https://github.com/Perl-Toolchain-Gang/Test-Harness/blob/b31070bef9c31301d7788d58495095724dbebadb/lib/TAP/Parser/IteratorFactory.pm#L268\" rel=\"nofollow noreferrer\">Here's the code for that</a>.</p>\n\n<p>For a test harness to not be deterministic in its decisions is bad. It should probably instead throw an error. I also note it's using a string comparison, which is probably wrong.</p>\n\n<p><a href=\"https://github.com/Perl-Toolchain-Gang/Test-Harness/pull/67\" rel=\"nofollow noreferrer\">I've submitted a patch to make ties an error</a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 8045151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6206e607db143dbd92d6e2695ea20e2?s=128&d=identicon&r=PG&f=1", "display_name": "user8045151", "link": "https://stackoverflow.com/users/8045151/user8045151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 0, "accepted_answer_id": 44102160, "answer_count": 1, "score": 2, "last_activity_date": 1495427298, "creation_date": 1495401910, "last_edit_date": 1495405287, "question_id": 44101948, "link": "https://stackoverflow.com/questions/44101948/prove-returns-inconsistent-test-results-with-testmore-and-tap-extension", "title": "Prove returns inconsistent test results with Test::More and .tap extension", "body": "<p></p>\n\n<p>Attempting to make a basic test using <code>Test::More</code>, on a file named <code>test.tap</code>:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use Test::More tests =&gt; 2;\n\nis( 1, 1 );\nis( 2, 2 );\n</code></pre>\n\n<p>Running <code>prove</code> against this test causes a failure:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ prove test.tap\ntest.tap .. No subtests run\n\nTest Summary Report\n-------------------\ntest.tap (Wstat: 0 Tests: 0 Failed: 0)\n  Parse errors: No plan found in TAP output\nFiles=1, Tests=0,  0 wallclock secs ( 0.02 usr +  0.00 sys =  0.02 CPU)\n</code></pre>\n\n<p>But Perl gives a seemingly valid TAP output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ perl test.tap\n1..2\nok 1\nok 2\n</code></pre>\n\n<p>The <code>prove</code> version is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ prove --version\nTAP::Harness v3.35 and Perl v5.22.1\n</code></pre>\n\n<p>Additionally, I found that adding a shebang <code>#!</code> on the test file causes test results to pass intermittently </p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse Test::More tests =&gt; 2;\n\nis( 1, 1 );\nis( 2, 2 );\n</code></pre>\n\n<p>On success (passes ~1 time in 4):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>t/test.tap .. ok\nAll tests successful.\nFiles=1, Tests=2,  0 wallclock secs ( 0.03 usr  0.00 sys +  0.01 cusr  0.00 csys =  0.04 CPU)\nResult: PASS\n</code></pre>\n\n<p>I have also found that renaming the file to <code>test.t</code> causes the test to pass every time.</p>\n\n<p>In attempting to find a bug in an old version, I have replicated this issue on a fresh DigitalOcean Droplet running Ubuntu 16.04.2, and a Debian 8 host with <code>TAP::Harness</code> v3.36_01 and Perl v5.24.1.</p>\n\n<p>I'm hoping to avoid \"Rename all files to .t extension\" being the answer. I am uncertain what <code>TAP::Harness</code> considers to be the difference between those two extensions, and cannot find any documentation or where in the source code that distinction is made.</p>\n\n<p>Any clarification on what is happening is greatly appreciated.</p>\n"}, {"tags": ["perl", "ldap"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495404327, "post_id": 44100418, "comment_id": 75224630, "body": "Please explain what <code>$ldap</code> is. How did you define it?"}], "answers": [{"comments": [{"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1495393809, "post_id": 44100516, "comment_id": 75221847, "body": "<code>${$entry-&gt;get(&#39;uid&#39;)}[0]</code> sure looks like an array to me"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 1, "creation_date": 1495393856, "post_id": 44100516, "comment_id": 75221859, "body": "@ysth looks like an array reference ;)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1495394198, "post_id": 44100516, "comment_id": 75221932, "body": "from the code (get is deprecated and doesn&#39;t seem to be documented), it looks like get will return an array reference in scalar context and a list in list context.  so either an array slice or a list slice is needed.  or use get_value instead."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1495394629, "post_id": 44100516, "comment_id": 75222047, "body": "@ysth yeah I found it. It has only been deprecated for about half of my life... somehow that frightens me."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1495404618, "post_id": 44100516, "comment_id": 75224686, "body": "There are no references to any resources that are mentioned here. I haven&#39;t searched myself, but I would like to see a link to &quot;from the code (get is deprecated and doesn&#39;t seem to be documented)&quot; from @ysth and any documentation at all for <code>get</code> or <code>get_all</code>. I would also like to know how you can be certain that the OP is using <code>Net::LDAP</code> on what seems to be the basis of a variable identifier <code>$ldap</code>. I have added a link to <code>Net::LDAP</code> to your answer. Is that all that is required?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495404923, "post_id": 44100516, "comment_id": 75224750, "body": "I would also like to understand why you don&#39;t advocate fetching all of what seems to be a list, with <code>my @uNames = $entry-&gt;get(&#39;userdn&#39;)</code>. It may be that the module was written with a mistaken expectation that there may be multiple results,. but the name of the <code>get_all</code> method suggests otherwise."}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495406370, "post_id": 44100516, "comment_id": 75225095, "body": "@Borodin where are you seeing get_all (rather than get orvget_value) mentioned?  I was looking at <a href=\"http://p3rl.org/Net::LDAP::Entry\" rel=\"nofollow noreferrer\">p3rl.org/Net::LDAP::Entry</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1495409074, "post_id": 44100516, "comment_id": 75225602, "body": "@ysth: <a href=\"http://stackoverflow.com/questions/44100418/read-a-value-from-array/44100516?noredirect=1#comment75221932_44100516\">you wrote</a> <i>&quot;or use <code>get_value</code> instead&quot;</i>. Ah, I see. You didn&#39;t mean <code>orvget_value</code> and I didn&#39;t mean <code>get_all</code>. Problem solved. But the core of my comments is that there are no hyperlinks. There are none still."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495442728, "post_id": 44100516, "comment_id": 75236234, "body": "@Borodin I provided the hyperlinks that ysth was talking about when I updated my answer. I was looking at the same thing at the same time. I deducted that it&#39;s Net::LDAP from the way the code looked. The <code>$ldap</code> was a pointer, but the rest of the syntax looked familiar. I didn&#39;t suggest to fetch all the values because to me it looked like the OP wanted only the first, hence the <code>[0]</code>. And on the <i>userdn</i> line where it&#39;s a scalar deref I assumed a typo."}], "tags": [], "owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "is_accepted": false, "score": 4, "last_activity_date": 1495403942, "last_edit_date": 1495542398, "creation_date": 1495392187, "answer_id": 44100516, "question_id": 44100418, "link": "https://stackoverflow.com/questions/44100418/read-a-value-from-an-array/44100516#44100516", "title": "Read a value from an array", "body": "<p>This is not really about an array, but rather about how to use <a href=\"https://metacpan.org/pod/Net::LDAP\" rel=\"nofollow noreferrer\"><code>Net::LDAP</code></a>. There are no arrays in your example code.</p>\n\n<p>You want to get the <em>userdn</em> property for the items returned from your LDAP query. In order to do that, you need to <a href=\"https://metacpan.org/pod/distribution/perl-ldap/lib/Net/LDAP.pod#attrs-=%3E-[-ATTR,-...-]\" rel=\"nofollow noreferrer\">tell <code>search</code> to fetch those</a>.</p>\n\n<blockquote>\n  <p>A list of attributes to be returned for each entry that matches the search filter.</p>\n</blockquote>\n\n<p>This means, you need to include <em>userdn</em> in the call to <code>search</code>.</p>\n\n<pre><code>my ($mesg) = $ldap-&gt;search(\n    scope  =&gt; 'one',\n    base   =&gt; $userdn,\n    filter =&gt; $filter,\n    attrs  =&gt; [ 'email', 'pwdChangedTime', 'uid', 'userdn' ],\n);\n</code></pre>\n\n<p>Now you can <code>get</code> the <em>userdn</em>.</p>\n\n<pre><code>$uName = $entry-&gt;get('userdn')-&gt;[0];\n</code></pre>\n\n<p>I've used the arrow dereference syntax instead of <code>${ ... }[0]</code> here because I find that easier to read. However, <a href=\"https://stackoverflow.com/questions/44100418/read-the-vaue-from-array-in-perl/44100516?noredirect=1#comment75221932_44100516\">as ysth points out below in the comments</a>, <code>get</code> is deprecated and not documented in the current version of <code>Net::LDAP</code>. It <a href=\"https://metacpan.org/changes/distribution/perl-ldap#L660\" rel=\"nofollow noreferrer\">was deprecated</a> in release 0.21 in September 2000, which is currently seventeen years ago.</p>\n\n<p>Instead, you should probably use <a href=\"https://metacpan.org/pod/Net::LDAP::Entry#get_value-(-ATTR,-OPTIONS-)\" rel=\"nofollow noreferrer\"><code>get_value</code></a>, which returns the first value of that attribute.</p>\n\n<pre><code>$uName = $entry-&gt;get_value('userdn');\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 3616128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9b4fb2c549d63d985d5616231f73e784?s=128&d=identicon&r=PG&f=1", "display_name": "user3616128", "link": "https://stackoverflow.com/users/3616128/user3616128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1495424949, "creation_date": 1495391503, "last_edit_date": 1495424949, "question_id": 44100418, "link": "https://stackoverflow.com/questions/44100418/read-a-value-from-an-array", "title": "Read a value from an array", "body": "<p>I have an array defined as below.</p>\n\n<p>I am able to fetch the value for <code>email</code> and <code>uid</code> as mentioned below. How do I get the <em>user display name</em> <code>userdn</code>?</p>\n\n<pre><code>my ($mesg) = $ldap-&gt;search(\n    scope  =&gt; 'one',\n    base   =&gt; $userdn,\n    filter =&gt; $filter,\n    attrs  =&gt; [ 'email', 'pwdChangedTime', 'uid' ],\n);\n</code></pre>\n\n<p>This is how I read the email ID and uid, but I'm unable to read the user display name.</p>\n\n<pre><code>foreach my $entry ( $mesg-&gt;all_entries ) {\n\n    $email = ${ $entry-&gt;get( 'email' ) }[0];\n    $uid   = ${ $entry-&gt;get( 'uid' ) }[0];\n    $uName = ${ $entry-&gt;get( 'userdn' ) };\n}\n</code></pre>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 2180, "user_id": 2562182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pZI98.jpg?s=128&g=1", "display_name": "Dan Bron", "link": "https://stackoverflow.com/users/2562182/dan-bron"}, "edited": false, "score": 4, "creation_date": 1495363484, "post_id": 44095879, "comment_id": 75212653, "body": "You have two capturing groups. Try changing the inner group from <code>(\\d{1,3}\\.)</code> to <code>(?:\\d{1,3}\\.)</code>. That is, add an <code>?:</code> (no capture) marker immediately after the second <code>(</code> in your regex."}, {"owner": {"reputation": 2538, "user_id": 2277331, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/4b8efcf4537807785c9fbc9472bb8f6d?s=128&d=identicon&r=PG", "display_name": "Anton.P", "link": "https://stackoverflow.com/users/2277331/anton-p"}, "reply_to_user": {"reputation": 2180, "user_id": 2562182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pZI98.jpg?s=128&g=1", "display_name": "Dan Bron", "link": "https://stackoverflow.com/users/2562182/dan-bron"}, "edited": false, "score": 0, "creation_date": 1495366433, "post_id": 44095879, "comment_id": 75213505, "body": "@DanBron this helped. A capturing group is defined by parenthesis? i.e. regardless of the entire regex rule. each element located inside a parenthesis will be matched by its own?"}, {"owner": {"reputation": 2180, "user_id": 2562182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pZI98.jpg?s=128&g=1", "display_name": "Dan Bron", "link": "https://stackoverflow.com/users/2562182/dan-bron"}, "edited": false, "score": 1, "creation_date": 1495366826, "post_id": 44095879, "comment_id": 75213595, "body": "That&#39;s too long a discussion to have here in full, but yes, each set of parentheses, otherwise unqualified, will produce a capture group. Like <code>my ($first_name, $last_name) = $name =~ &#47;(\\w+) (\\w+)&#47;</code>. This applies even if the parentheses are nested. The only way to turn it off is to qualify the group somehow. All grouping qualifiers start with a <code>?</code> immediately after the <code>(</code>. The simplest is <code>?:</code> for &quot;don&#39;t capture, just group&quot;. But there are others, like negative lookarounds (as with the <code>?!</code> in Kira&#39;s answer), which by definition don&#39;t match anything at all."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 2180, "user_id": 2562182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pZI98.jpg?s=128&g=1", "display_name": "Dan Bron", "link": "https://stackoverflow.com/users/2562182/dan-bron"}, "edited": false, "score": 0, "creation_date": 1495383190, "post_id": 44095879, "comment_id": 75218451, "body": "@DanBron: Well said. Please write this up as an answer. Your last comment with some added layout should mostly suffice. Note, however, that <i>&quot;The only way to turn it off is to qualify the group&quot;</i> is incorrect. Perl v5.22 introduced the <code>&#47;n</code> modifier which disables all captures, so <code>$s =~ &#47;((\\d{1,3}\\.){3}\\d{1,3})&#47;ng</code> will also work (although the outer parentheses are unnecessary)."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495384298, "post_id": 44095879, "comment_id": 75218850, "body": "@Anton.P: You may have understood better if you had examined all the contents of <code>@ips</code> (<code>print &quot;$_\\n&quot; for @ips</code>) instead of assuming there were only three elements. Also, did you mean to put a colon <code>:</code> in <code>255:255.255.255:8080</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": -1, "last_activity_date": 1495390432, "last_edit_date": 1495390432, "creation_date": 1495385217, "answer_id": 44099376, "question_id": 44095879, "link": "https://stackoverflow.com/questions/44095879/perl-regex-doesnt-split-string-as-expected/44099376#44099376", "title": "Perl regex doesn&#39;t split string as expected", "body": "<p>You have two captures, so two values are returned per match. Replace the needless capture</p>\n\n<pre><code>/((?:\\d{1,3}\\.){3}\\d{1,3})/g\n</code></pre>\n\n<p>You might want to make sure the preceding and following characters aren't digits (so you don't match <code>1111.222.333.4444</code>), and you might want to limit yourself to matching ASCII digits (<code>0</code> to <code>9</code> rather than the 370 chars <code>\\d</code> normally matches).</p>\n\n<pre><code>/(?&lt;![0-9])((?:[0-9]{1,3}\\.){3}[0-9]{1,3})(?![0-9])/g\n</code></pre>\n\n<p>or</p>\n\n<pre><code>/(?&lt;!\\d)((?:\\d{1,3}\\.){3}\\d{1,3})(?!\\d)/aag\n</code></pre>\n"}], "owner": {"reputation": 2538, "user_id": 2277331, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/4b8efcf4537807785c9fbc9472bb8f6d?s=128&d=identicon&r=PG", "display_name": "Anton.P", "link": "https://stackoverflow.com/users/2277331/anton-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1495390432, "creation_date": 1495363328, "last_edit_date": 1495382698, "question_id": 44095879, "link": "https://stackoverflow.com/questions/44095879/perl-regex-doesnt-split-string-as-expected", "title": "Perl regex doesn&#39;t split string as expected", "body": "<p>I have a use case where I want to extract the second of from a string using a regex in Perl.</p>\n\n<p>I wrote a simple test string and ran a simple regex against it but received weird results:</p>\n\n<pre><code>my $s     = 'sip:255:255.255.255:8080;transport=TCP 5.6.7.8:aaaa 99.99.9.9aaaa8.8.8.7';\nmy (@ips) = $s =~ /((\\d{1,3}\\.){3}\\d{1,3})/g;\n\nprint \"$ips[0]\\n\";\nprint \"$ips[1]\\n\";\nprint \"$ips[2]\\n\";\n</code></pre>\n\n<p>I would have expected to get</p>\n\n<pre><code>5.6.7.8\n99.99.9.9\n8.8.8.7\n</code></pre>\n\n<p>but instead I get:</p>\n\n<pre><code>5.6.7.8\n7.\n99.99.9.9\n</code></pre>\n\n<p>As if the second result is actually part of the first IP. Can anyone spot what is wrong here? </p>\n"}, {"tags": ["windows", "perl", "installation", "pdk"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495319280, "post_id": 44084252, "comment_id": 75204377, "body": "Building an installer is orthogonal to building an executable."}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495428169, "post_id": 44084252, "comment_id": 75229415, "body": "Its promise I couldn&#39;t able to understand from the above comment."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": -3, "last_activity_date": 1495338077, "creation_date": 1495338077, "answer_id": 44092942, "question_id": 44084252, "link": "https://stackoverflow.com/questions/44084252/how-to-make-perl-script-into-installer-exe-or-msi/44092942#44092942", "title": "how to make perl script into installer exe or msi", "body": "<blockquote>\n  <p>I want to know whether the same application can use to make the *EXE as an Installer or MSI</p>\n</blockquote>\n\n<p>No. It can't</p>\n\n<p>This is a foolish question</p>\n\n<p>Making an executable out of a Perl source file is mostly a matter of combining a copy of the <code>perl</code> executable with the Perl code and all of its dependencies</p>\n\n<p>Creating an installer requires at least a number of <em>checks</em> to make sure that the target system can support the installed software, a <em>design</em> to choose where on the target system each element of the installation should be placed, and some code to <em>tidy</em> the system after the installation is done</p>\n\n<p>It is also necessary to write and install an <em>uninstaller</em> program that will safely and securely undo every change that the installer has made</p>\n\n<p>It isn't sensible to expect any utility that creates an executable file of any sort to be able to also take all of this into consideration and to create something that will run correctly on a completely alien system</p>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 428, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1495452433, "creation_date": 1495272978, "last_edit_date": 1495319252, "question_id": 44084252, "link": "https://stackoverflow.com/questions/44084252/how-to-make-perl-script-into-installer-exe-or-msi", "title": "how to make perl script into installer exe or msi", "body": "<p>I am creating the perl script/programming's and converting into <code>*.EXE</code> by <code>Perlapp perl development kit (PDK)</code> application however I want to know whether the same application can use to make the <code>*EXE</code> as an <code>Installer</code> or <code>MSI</code>. Or else we have any other applications to use the <code>perl script</code> to make the same.</p>\n\n<p>I would appreciate if someone guide me on this one.</p>\n"}, {"tags": ["regex", "perl"], "answers": [{"comments": [{"owner": {"reputation": 891, "user_id": 1883178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e7ea841ff110275fae97f93e729473f?s=128&d=identicon&r=PG", "display_name": "lemonsqueeze", "link": "https://stackoverflow.com/users/1883178/lemonsqueeze"}, "edited": false, "score": 1, "creation_date": 1495275724, "post_id": 44084203, "comment_id": 75191920, "body": "On this simple example this makes complete sense. Actually the situation i&#39;m dealing with has many more regexps, and each one is pretty complicated so combining them all on a single line would look pretty dreadful ..."}, {"owner": {"reputation": 3226, "user_id": 1964690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120d7c6980b552a124f79016300ca954?s=128&d=identicon&r=PG", "display_name": "jrefior", "link": "https://stackoverflow.com/users/1964690/jrefior"}, "reply_to_user": {"reputation": 891, "user_id": 1883178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e7ea841ff110275fae97f93e729473f?s=128&d=identicon&r=PG", "display_name": "lemonsqueeze", "link": "https://stackoverflow.com/users/1883178/lemonsqueeze"}, "edited": false, "score": 2, "creation_date": 1495397436, "post_id": 44084203, "comment_id": 75222834, "body": "@lemonsqueeze the join with alternation (pipes) makes sense then.  Or, if the only problem is readability, you could just use the /x modifier to allow whitespace and comments: <a href=\"https://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\">RegEx Modifiers</a> &quot;/x tells the regular expression parser to ignore most whitespace that is neither backslashed nor within a bracketed character class. You can use this to break up your regular expression into (slightly) more readable parts. Also, the &quot;#&quot; character is treated as a metacharacter introducing a comment...&quot;"}], "tags": [], "owner": {"reputation": 658023, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": false, "score": 4, "last_activity_date": 1495272684, "creation_date": 1495272684, "answer_id": 44084203, "question_id": 44084170, "link": "https://stackoverflow.com/questions/44084170/perl-combine-multiple-regexps-without-renumbering/44084203#44084203", "title": "Perl - Combine multiple regexps without renumbering?", "body": "<p>You can use simple alternation in your regex and use just a single regex:</p>\n\n<pre><code>m/^(move|jump|call) ([^ ]+)/\n</code></pre>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>my $s = \"jump 0xbdf3487\";\n\nif ($s =~ m/^(move|jump|call) ([^ ]+)/) {\n   print \"matched '$1' '$2'\\n\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "edited": false, "score": 0, "creation_date": 1495274405, "post_id": 44084341, "comment_id": 75191573, "body": "Cool, I didn&#39;t know this one."}], "tags": [], "owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "is_accepted": true, "score": 6, "last_activity_date": 1495273476, "creation_date": 1495273476, "answer_id": 44084341, "question_id": 44084170, "link": "https://stackoverflow.com/questions/44084170/perl-combine-multiple-regexps-without-renumbering/44084341#44084341", "title": "Perl - Combine multiple regexps without renumbering?", "body": "<p>Use the branch reset pattern <code>(?|pattern)</code> (you'll need Perl 5.10 or newer though). Quoting the documentation (<a href=\"http://perldoc.perl.org/perlre.html#(?|pattern)\" rel=\"noreferrer\"><code>perldoc perlre</code></a>):</p>\n\n<blockquote>\n  <p>This is the \"branch reset\" pattern, which has the special property that the capture groups are numbered from the same starting point in each alternation branch.</p>\n</blockquote>\n\n<p>Your code becomes:</p>\n\n<pre><code>use strict; \nuse warnings;\n\nmy $s = \"jump 0xbdf3487\";\n#my $s = \"move 0xbdf3487\";                                                                                         \n\nmy @patterns = (\n    '(move) ([^ ]+)',\n    '(jump) ([^ ]+)',\n    '(call) ([^ ]+)'\n  );\n\nmy $re = \"^(?|\" . join(\"|\", @patterns) . \")\";\n$re = qr/$re/;\nif ($s =~ m/$re/) {  print \"matched '$1' '$2'\\n\";  }\n</code></pre>\n\n<p><em>Note that I've added <code>use strict</code> and <code>use warnings</code>, don't forget them!</em></p>\n"}, {"tags": [], "owner": {"reputation": 3226, "user_id": 1964690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120d7c6980b552a124f79016300ca954?s=128&d=identicon&r=PG", "display_name": "jrefior", "link": "https://stackoverflow.com/users/1964690/jrefior"}, "is_accepted": false, "score": 1, "last_activity_date": 1495400830, "last_edit_date": 1495400830, "creation_date": 1495398974, "answer_id": 44101538, "question_id": 44084170, "link": "https://stackoverflow.com/questions/44084170/perl-combine-multiple-regexps-without-renumbering/44101538#44101538", "title": "Perl - Combine multiple regexps without renumbering?", "body": "<p>Perl Regex subpatterns can be joined together with pipes to make them alternating patterns.  To separate alternating patterns from the rest of the expression pattern, delimit them as a group.  If you don't want to capture what was matched by the group, make it a non-capturing group.</p>\n\n<p>For example, alternation in a capturing group within a pattern:</p>\n\n<p><code>(move|jump|call) ([^ ]+)</code></p>\n\n<p>And alternation in a non-capturing group within a pattern:</p>\n\n<p><code>(?:move|jump|call) ([^ ]+)</code></p>\n\n<p>If your alternative patterns are complicated and you don't want them all on one line, you can use the /x modifier to separate them with whitespace.</p>\n\n<p><a href=\"https://perldoc.perl.org/perlre.html#Modifiers\" rel=\"nofollow noreferrer\">Perldoc PerlRe Modifiers</a> (scroll down to \"Details on some modifiers\")</p>\n\n<blockquote>\n  <p>/x</p>\n  \n  <p>/x tells the regular expression parser to ignore most whitespace that\n  is neither backslashed nor within a bracketed character class. You can\n  use this to break up your regular expression into (slightly) more\n  readable parts. Also, the \"#\" character is treated as a metacharacter\n  introducing a comment that runs up to the pattern's closing delimiter,\n  or to the end of the current line if the pattern extends onto the next\n  line. Hence, this is very much like an ordinary Perl code comment.\n  (You can include the closing delimiter within the comment only if you\n  precede it with a backslash, so be careful!)</p>\n  \n  <p>Use of /x means that if you want real whitespace or \"#\" characters in\n  the pattern (outside a bracketed character class, which is unaffected\n  by /x), then you'll either have to escape them (using backslashes or\n  \\Q...\\E ) or encode them using octal, hex, or \\N{} escapes. It is\n  ineffective to try to continue a comment onto the next line by\n  escaping the \\n with a backslash or \\Q.</p>\n</blockquote>\n\n<p>And here's my example demonstrating that:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $s = \"jump 0xbdf3487\";\n\nif ($s =~ /^(\n\n          move   # first complicated pattern\n\n          |\n\n          jump   # second complicated pattern\n\n          |\n\n          call   # third complicated pattern\n\n    )\\s([^\\ ]+) /x) {   # Note I hade to escape the space\n                        # with a backslash because of /x\n\n    print \"matched '$1' '$2'\\n\";\n}\n</code></pre>\n\n<p>Which outputs:</p>\n\n<p><code>matched 'jump' '0xbdf3487'</code></p>\n"}], "owner": {"reputation": 891, "user_id": 1883178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e7ea841ff110275fae97f93e729473f?s=128&d=identicon&r=PG", "display_name": "lemonsqueeze", "link": "https://stackoverflow.com/users/1883178/lemonsqueeze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 44084341, "answer_count": 3, "score": 2, "last_activity_date": 1495400830, "creation_date": 1495272453, "question_id": 44084170, "link": "https://stackoverflow.com/questions/44084170/perl-combine-multiple-regexps-without-renumbering", "title": "Perl - Combine multiple regexps without renumbering?", "body": "<p>I need to combine multiple regexps into one, so code which looks like this:</p>\n\n<pre><code>my $s = \"jump 0xbdf3487\";\n#my $s = \"move 0xbdf3487\";                                                                                         \n\nif ($s =~ m/^(move) ([^ ]+)/) {  print \"matched '$1' '$2'\\n\";  }\nif ($s =~ m/^(jump) ([^ ]+)/) {  print \"matched '$1' '$2'\\n\";  }\nif ($s =~ m/^(call) ([^ ]+)/) {  print \"matched '$1' '$2'\\n\";  }\n</code></pre>\n\n<p>becomes:</p>\n\n<pre><code>my $s = \"jump 0xbdf3487\";\n#my $s = \"move 0xbdf3487\";                                                                                         \n\nmy @patterns = (\n    '^(move) ([^ ]+)',\n    '^(jump) ([^ ]+)',\n    '^(call) ([^ ]+)'\n  );\n\nmy $re = \"(?:\" . join(\"|\", @patterns) . \")\";\n$re = qr/$re/;\n\nif ($s =~ m/$re/) {  print \"matched '$1' '$2'\\n\";  }\n</code></pre>\n\n<p>This doesn't work however, if <code>$s</code> is a jump we get:</p>\n\n<pre><code>matched '' ''\n</code></pre>\n\n<p>Matches in the combined regexp get renumbered:<br>\n($1, $2) become ($3, $4) in the jump regexp, ($5, $6) in the call one etc..</p>\n\n<p>How do I combine these without renumbering ?</p>\n"}, {"tags": ["perl", "mason"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495268346, "post_id": 44083532, "comment_id": 75189958, "body": "Have you tried? Or are you evaluating whether to use Mason at all before trying?"}, {"owner": {"reputation": 21, "user_id": 2373432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da7c5197c400db961406eb1e85f4c46?s=128&d=identicon&r=PG", "display_name": "achut1993", "link": "https://stackoverflow.com/users/2373432/achut1993"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495268424, "post_id": 44083532, "comment_id": 75189981, "body": "There is an exiting .m file which is doing something. It doesnt have any methods. But where as .mi file has methods and specifically those methods alone can be called. is that possible in .m file ? I want to understand before trying them out."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495268623, "post_id": 44083532, "comment_id": 75190033, "body": "I have never used Mason, so I have no idea. I was trying to help you clarify your question. But my suggestion is you just create a new .m file, put a <i>hello world</i> method in it and try. :)"}, {"owner": {"reputation": 21, "user_id": 2373432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da7c5197c400db961406eb1e85f4c46?s=128&d=identicon&r=PG", "display_name": "achut1993", "link": "https://stackoverflow.com/users/2373432/achut1993"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495268703, "post_id": 44083532, "comment_id": 75190052, "body": "ok thanks for your help."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495312065, "post_id": 44083532, "comment_id": 75202547, "body": "<i>&quot;the mason components docs&quot;</i> Do you mean the documentation for <a href=\"https://metacpan.org/pod/Mason::Manual::Components\" rel=\"nofollow noreferrer\">Mason::Manual::Components</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1495312707, "creation_date": 1495312707, "answer_id": 44090598, "question_id": 44083532, "link": "https://stackoverflow.com/questions/44083532/in-perl-mason-what-is-the-difference-between-m-file-and-mi-file/44090598#44090598", "title": "In perl mason what is the difference between .m file and .mi file?", "body": "<p>I have only ever seen <strong>.mp</strong>, <strong>.mc</strong>, and <strong>.mi</strong> for <em>Mason Perl</em>, <em>Mason Component</em>, and <em>Mason Internal</em> respectively. But they are configurable</p>\n\n<p>If you read <em>PARAMETERS TO THE new() CONSTRUCTOR</em> from the <a href=\"https://metacpan.org/pod/Mason::Interp#PARAMETERS-TO-THE-new()-CONSTRUCTOR\" rel=\"nofollow noreferrer\"><code>Mason::Interp</code></a> documentation, you wqill see that you can specify a value for <code>pure_perl_extensions</code> to change the default from <strong>.mp</strong>, and <code>top_level_extensions</code> for <strong>.mc</strong></p>\n\n<p>There's every reason to keep to these standards, unles you are working with two conflicting standards and need one to move out of the way</p>\n\n<p>I don't know whether <strong>.mi</strong> is required, but it seems unlikely. And I don't remember ever seeing a simple <strong>.m</strong>. Where have you seen this yourself, and shouldn't it be a <strong>.mi</strong> file?\u2014i.e. is the example that you have seen an internal component?</p>\n"}, {"comments": [{"owner": {"reputation": 3919, "user_id": 3132718, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Dv45L.png?s=128&g=1", "display_name": "Al.G.", "link": "https://stackoverflow.com/users/3132718/al-g"}, "reply_to_user": {"reputation": 2502, "user_id": 501739, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b8fa3bc7278508dd85dc6090608f26c?s=128&d=identicon&r=PG", "display_name": "Jolta", "link": "https://stackoverflow.com/users/501739/jolta"}, "edited": false, "score": 0, "creation_date": 1522063083, "post_id": 49488052, "comment_id": 85983158, "body": "@Jolta this looks like a perfectly valid answer. Why flag it as &quot;A different question posted as an answer&quot;?"}], "tags": [], "owner": {"reputation": 138, "user_id": 2406664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcc234459c644f04ba499e7948d9efeb?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2406664/alex"}, "is_accepted": false, "score": 4, "last_activity_date": 1522059851, "last_edit_date": 1522059851, "creation_date": 1522056345, "answer_id": 49488052, "question_id": 44083532, "link": "https://stackoverflow.com/questions/44083532/in-perl-mason-what-is-the-difference-between-m-file-and-mi-file/49488052#49488052", "title": "In perl mason what is the difference between .m file and .mi file?", "body": "<p>I am kind of new to Mason, but ran into the similar questions before, I'll try my best to answer the questions, but I can be very wrong...</p>\n\n<blockquote>\n  <ol>\n  <li>I would want to know the difference between the both file extensions</li>\n  </ol>\n</blockquote>\n\n<p>According to my very limited experience with mason, the .m files are somewhat equivalent to the .mc file, which is a top-level component that serves to a request.</p>\n\n<p>And the .mi files are internal components that carries business logic for helping preparing data/content for the top-level .m file.</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>Can i have methods similar to .mi file in .m file and call those methods specifically ?</li>\n  </ol>\n</blockquote>\n\n<p>Yes, you can define a method in .m file, can call it just like .mi file, for example:</p>\n\n<p>$m->comp('/foo/bar.m:start')</p>\n\n<p>I've seen working codes doing that.</p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>When should i chose .m file and when .mi file ?</li>\n  </ol>\n</blockquote>\n\n<p>I guess this goes to the differences between .m and .mi files.</p>\n\n<p>For public logic, like pulling an image, you can put the logic in the .m file.</p>\n\n<p>For business logic or dealing with sensitive information, do it in .mi file.</p>\n"}], "owner": {"reputation": 21, "user_id": 2373432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da7c5197c400db961406eb1e85f4c46?s=128&d=identicon&r=PG", "display_name": "achut1993", "link": "https://stackoverflow.com/users/2373432/achut1993"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2347, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1523594172, "creation_date": 1495268163, "last_edit_date": 1523594172, "question_id": 44083532, "link": "https://stackoverflow.com/questions/44083532/in-perl-mason-what-is-the-difference-between-m-file-and-mi-file", "title": "In perl mason what is the difference between .m file and .mi file?", "body": "<p>I would want to understand the difference between a .m file and .mi file in Perl/Mason.</p>\n\n<p>As per the mason components docs:</p>\n\n<blockquote>\n  <p>.mi - internal component. An internal component can only be accessed from other components.</p>\n</blockquote>\n\n<p>I can see that i can call specific methods in written in a .mi file by </p>\n\n<p><code>$m-&gt;comp('test.mi:randomMethod', arg1=&gt; 'blah')</code></p>\n\n<p>Can i do the same for my .m file as well ? As all the existing places i searched online . i only found a file with no methods and the entire file is executed when called.</p>\n\n<p><code>$m-&gt;comp('test.m', arg1=&gt; 'blah')</code> runs the entire file as it has no methods. </p>\n\n<p>So, </p>\n\n<ol>\n<li><p>I want to know the difference between both file extensions</p></li>\n<li><p>Can i have methods similar to .mi file in .m file and call those methods specifically?</p></li>\n<li><p>When should i choose .m file and when .mi file ?</p></li>\n</ol>\n"}, {"tags": ["perl", "scalar"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1495262293, "post_id": 44082720, "comment_id": 75188566, "body": "Why don&#39;t you ask those &quot;many programmers&quot;?"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1495262579, "post_id": 44082720, "comment_id": 75188631, "body": "Well, that is what I am doing, it is right here that I got the flack, hence why I am asking it here."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1495262704, "post_id": 44082720, "comment_id": 75188664, "body": "It is not an arrogant question, I truly need to understand this as I cannot really find any reference anywhere that says it is bad coding except for the comments of &quot;it is bad&quot;"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1495262839, "post_id": 44082720, "comment_id": 75188699, "body": "Well.  For one thing, you are living on the edge a little bit, by changing things in place, but that of course isn&#39;t a problem in itself.  Such code can very easily evolve to become a trap for the maintainer; that is a problem.  The example you show doesn&#39;t save you that much and is less clear than other ways.  However, I don&#39;t hesitate to do <code>s&#47;$patt&#47;$repl&#47; for @ary</code> when that is exactly what needs to be done.   My .02"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1495262865, "post_id": 44082720, "comment_id": 75188709, "body": "I&#39;ve found your answer and linked it. Two things: It was only one person who didn&#39;t like it, and the code in it was different from what you posted here."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495263155, "post_id": 44082720, "comment_id": 75188789, "body": "@zdim, thanks for the response. So as far as perl standards go, is it just plain bad coding because of the fact that it becomes difficult to maintain?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495263155, "post_id": 44082720, "comment_id": 75188790, "body": "Topicalizing <code>$_</code> is done regularly, it&#39;s the fact that this changes the object over which you iterate in place that may evolve into tricky code."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1495263223, "post_id": 44082720, "comment_id": 75188803, "body": "@melpomene. Thanks. Yes one person that commented, but numerous people upvoted his comments and downvoted my answer, so more than one agrees with him. The values are different, but the code is the same."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495263299, "post_id": 44082720, "comment_id": 75188817, "body": "I wouldn&#39;t call it &quot;bad coding,&quot; and I don&#39;t know of Perl best practices on that.  If the little loop evolves and the in-place changes become hidden or convoluted and ... it can get tricky and can definitely turn into horrible code.  So it may be pushing it in a wrong direction.  Again, purely my opinion."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495263372, "post_id": 44082720, "comment_id": 75188839, "body": "ok thanks a mill @zdim. That is what I expected more or less :)"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1495266159, "post_id": 44082720, "comment_id": 75189470, "body": "I agree that the main aspect is that it&#39;s confusing the maintenance guy. If I would come across this code in the code base at <code>$work</code>, I would refactor it."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495276358, "post_id": 44082720, "comment_id": 75192070, "body": "Thanks @simbabque. You guys helped me to confirm my thoughts :)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495313212, "post_id": 44082720, "comment_id": 75202878, "body": "@zdim: <i>&quot;you are living on the edge a little bit, by changing things in place&quot;</i> That is how <code>$var =~ s&#47;&#47;&#47;</code> works, unless you&#39;re advocating <code>(my $new = $var) =~ s&#47;&#47;&#47;</code>? And it&#39;s nothing to do with the <code>for</code> topicaliser that seems to be the issue."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1495313308, "post_id": 44082720, "comment_id": 75202913, "body": "@zdim: <i>&quot;Such code can very easily evolve to become a trap for the maintainer&quot;</i> so are you an opponent of using <code>$_</code> at all? Otherwise I don&#39;t see your p;oint?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495313400, "post_id": 44082720, "comment_id": 75202945, "body": "@simbabque: <i>&quot;If I would come across this code in the code base at $work, I would refactor it&quot;</i> We have a fist fight on our hands!"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495313730, "post_id": 44082720, "comment_id": 75203051, "body": "@Borodin I think you also owe me some pints and you promised to drag me off the ferry. I&#39;m looking forward to all of that! But seriously, if it has a couple of variables like here, it&#39;s probably fine. But if it&#39;s just one like the answer the OP linked then I would refactor."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495314347, "post_id": 44082720, "comment_id": 75203223, "body": "@simbabque: I have to wait for you to get <i>onto</i> the ferry first. The beers will come later, and the fight after that."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495329500, "post_id": 44082720, "comment_id": 75206103, "body": "@Borodin What I meant to say is that changing the array that is being iterated over (in place) can lead to tricky/bad code. (I added another comment in an attempt to clarify this.)  I&#39;ve seen too much code that changes what it iterates over which evolved from an OK design into a minefield. I use <code>$_</code> regularly (as you know) and didn&#39;t mean to say a thing against that in general."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495330114, "post_id": 44082720, "comment_id": 75206218, "body": "@Borodin The only thing I&#39;d change really is <code>s&#47;one|three&#47;&#47;g for (LIST)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 2, "creation_date": 1495266036, "post_id": 44082996, "comment_id": 75189448, "body": "The way <code>for</code> was used in the answer reminds me of languages like Visual Basic, where there is a <a href=\"https://docs.microsoft.com/en-us/dotnet/articles/visual-basic/language-reference/statements/with-end-with-statement\" rel=\"nofollow noreferrer\"><code>with</code> block</a> (this is .net, I meant VB5 but couldn&#39;t find it). <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/with\" rel=\"nofollow noreferrer\">JavaScript also has that</a>. A <code>for</code> loop in Perl can be used do the same thing, but as melpomele says, it comes with side effects that the implementations ino other languages that are meant for exactly this do not have."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 0, "creation_date": 1495276309, "post_id": 44082996, "comment_id": 75192054, "body": "Thanks a mill guys! I have my answer."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495288674, "post_id": 44082996, "comment_id": 75195550, "body": "<i>&quot;Personally I think nothing is wrong with the above code&quot;</i> and*&quot;Personally I&#39;m still OK with this&quot;* Are you saying that you&#39;re uncomfortable with the OP&#39;s version that uses <code>$_</code> and believe that an explicit mentioning of a control variable or the object variable itself is required?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 1, "creation_date": 1495311619, "post_id": 44082996, "comment_id": 75202411, "body": "The problem I have with <code>for ($text) {     s&#47;\\\\left&#47;(&#47;g;     s&#47;\\\\right&#47;)&#47;g; }</code> is the two uses of the regex engine! I&#39;d use <code>my %brackets = ( left =&gt; &quot;(&quot;, right =&gt; &quot;)&quot; ); $text =~ s&#47;\\\\(left|right)&#47;$brackets{$1}&#47;g;</code>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1495313082, "post_id": 44082996, "comment_id": 75202840, "body": "@GerhardBarnard: It seems that, after I had a word in your detractor&#39;s ear, and raised the thread with the moderators, your negative comments are gone and you have recouped one of your downvotes. Well done."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495363531, "post_id": 44082996, "comment_id": 75212667, "body": "awesome, Thanks @Borodin"}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1495363686, "post_id": 44082996, "comment_id": 75212702, "body": "@ikegami. I agree yes that using <code>%brackets</code> is a better method, I just needed to confirm if using <code>for ($brackets)</code> is really a big issue. Thanks for the response."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": false, "score": 6, "last_activity_date": 1495264216, "creation_date": 1495264216, "answer_id": 44082996, "question_id": 44082720, "link": "https://stackoverflow.com/questions/44082720/topicalising-a-variable-using-for-is-apparently-bad-why/44082996#44082996", "title": "Topicalising a variable using &quot;for&quot; is apparently bad. Why?", "body": "<p>There are several points to consider.</p>\n\n<hr>\n\n<p>Your code performs multiple substitutions on a list of variables. You can do that without using <code>$_</code>:</p>\n\n<pre><code>for my $s ($values, $values2) {\n    $s =~ s/one//g;\n    $s =~ s/three//g;\n}\n</code></pre>\n\n<p>Personally I think nothing is wrong with the above code.</p>\n\n<p>The general problem with <code>$_</code> is that it's not a local variable. E.g. if the body of your <code>for</code> loop calls a function (that calls a function ...) that modifies <code>$_</code> without localizing it (e.g. by assigning to it or using a bare <code>s///</code> or using <code>while (&lt;...&gt;)</code>), then it will overwrite the variables you're iterating over. With a <code>my</code> variable you're protected because other functions can't see your local variables.</p>\n\n<p>That said, if the rest of your code doesn't have this bug (scribbling over <code>$_</code> without localizing it), <code>$_</code> will work fine here.</p>\n\n<hr>\n\n<p>However, the code in your answer people originally complained about is different:</p>\n\n<pre><code>for ($brackets) {\n    s/\\\\left/(/g;\n    s/\\\\right/)/g;\n}\n</code></pre>\n\n<p>Here you're not trying to perform the same substitutions on many variables; you're just saving yourself some typing by getting rid of the <code>$brackets =~</code> part:</p>\n\n<pre><code>$brackets =~ s/\\\\left/(/g;\n$brackets =~ s/\\\\right/)/g;\n</code></pre>\n\n<p>Using an explicit loop variable wouldn't be a solution because you'd still have to type out <code>$foo =~</code> on every line.</p>\n\n<p>This is more a matter of taste. You're only using <code>for</code> for its aliasing effect, not to loop over multiple values. Personally I'm still OK with this.</p>\n"}, {"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495313920, "post_id": 44086889, "comment_id": 75203112, "body": "What&#39;s up with that last quote markup? I tried fixing it. Not sure if it&#39;s better."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495314131, "post_id": 44086889, "comment_id": 75203165, "body": "@simbabque: A <code>&gt;</code> instead of a <code>-</code>! Thanks"}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 4, "last_activity_date": 1495314086, "last_edit_date": 1495314086, "creation_date": 1495289521, "answer_id": 44086889, "question_id": 44082720, "link": "https://stackoverflow.com/questions/44082720/topicalising-a-variable-using-for-is-apparently-bad-why/44086889#44086889", "title": "Topicalising a variable using &quot;for&quot; is apparently bad. Why?", "body": "<p><a href=\"https://perldoc.perl.org/perlsyn.html#Switch-Statements\" rel=\"nofollow noreferrer\"><code>perldoc perlsyn</code></a> has this</p>\n\n<blockquote>\n  <p>The\u00a0foreach\u00a0is the non-experimental way to set a topicalizer.</p>\n</blockquote>\n\n<p>The OP's construct is a perfectly valid way of writing Perl code. The only provisons I have regarding their earlier answer are </p>\n\n<ul>\n<li><p>Unlike the example here, only two operations were being applied to a single variable. That is only marginally briefer than simply writing two substitutions and I wouldn't bother here, although I <em>may</em> consider</p>\n\n<pre><code>s/one//g, s/three//g for $value;\n</code></pre></li>\n<li><p>Other than the topicaliser, the answer is identical to another one already posted. I don't believe this makes it sufficiently different to warrant another post</p></li>\n</ul>\n"}], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 1, "accepted_answer_id": 44086889, "answer_count": 2, "score": 2, "last_activity_date": 1527486329, "creation_date": 1495262118, "last_edit_date": 1527486329, "question_id": 44082720, "link": "https://stackoverflow.com/questions/44082720/topicalising-a-variable-using-for-is-apparently-bad-why", "title": "Topicalising a variable using &quot;for&quot; is apparently bad. Why?", "body": "<p>So <a href=\"https://stackoverflow.com/a/44046189/1848654\">I answered a question on SO and got a lot of flack for it</a>.\nI have been using Perl for many years and use this topicalising quite a lot.</p>\n\n<p>So let's start with some code. I am doing search and replace in these examples. The idea is to search for <code>one</code> and <code>three</code> from two strings and replace them.</p>\n\n<pre><code>$values = 'one two three four five';\n$value2 = 'one 2 three four 5';\n\n$values =~ s/one//g;\n$values =~ s/three//g;\n\n$values2 =~ s/one//g;\n$values2 =~ s/three//g;\n</code></pre>\n\n<p>This code is simple and everyone accepts it.</p>\n\n<p>I can also build an array or hash with a list of values to search and replace which is also acceptable.</p>\n\n<p>However, When I build a script to topicalise <code>$values</code> and <code>$values2</code> and lessen the amount of typing to build a script it seems to be misunderstood?</p>\n\n<p>Here is the code.</p>\n\n<pre><code>$values = 'one two three four five';\n$value2 = 'one 2 three four 5';\n\nfor ( $values, $values2 ) {\n    s/one//g;\n    s/three//g;\n}\n</code></pre>\n\n<p>The above code will topicalise the variables for the duration of the <code>for</code> block, but many programmers are against this. I want to understand why this is unacceptable?</p>\n"}, {"tags": ["perl", "fork", "ulimit"], "comments": [{"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 0, "creation_date": 1495247126, "post_id": 44081295, "comment_id": 75186120, "body": "A forked process is a complete clone of the original process. Profiling your process before the fork will give you clue how much of each resources it is using."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1495248224, "post_id": 44081295, "comment_id": 75186282, "body": "Do you mean $!=11?"}, {"owner": {"reputation": 35, "user_id": 1247587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb846cc7ae64b38739694181ad3758d3?s=128&d=identicon&r=PG", "display_name": "phonybone", "link": "https://stackoverflow.com/users/1247587/phonybone"}, "edited": false, "score": 0, "creation_date": 1495339367, "post_id": 44081295, "comment_id": 75207508, "body": "<code>Do you mean $!=11?</code>.  Actually, I misspoke somewhat.  What I should have said was that the fork is successful, but immediately ends with status code 11, as reported by <code>wait</code>."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1495340655, "post_id": 44081295, "comment_id": 75207754, "body": "So your question has nothing to do with fork, so why did you accept my answer which is entirely about the errno set by fork on failure???"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 1247587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb846cc7ae64b38739694181ad3758d3?s=128&d=identicon&r=PG", "display_name": "phonybone", "link": "https://stackoverflow.com/users/1247587/phonybone"}, "edited": false, "score": 0, "creation_date": 1495339849, "post_id": 44081423, "comment_id": 75207586, "body": "See my comment above for a clarification of the original question, which was an over-simplification on my part.  The real sequence of events is as follows: after initialization, the program pre-processes a large (8Gb) file by means of some calls to system().   Then program forks one process for each cpu core on the machine.  So the program may be trying to duplication a very large memory space when it forks (but linux is copy-write, so that should be ok?).  There is a large amount of RAM (184Gb), and I raised the number of allowable open files and increased swap space."}, {"owner": {"reputation": 35, "user_id": 1247587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb846cc7ae64b38739694181ad3758d3?s=128&d=identicon&r=PG", "display_name": "phonybone", "link": "https://stackoverflow.com/users/1247587/phonybone"}, "edited": false, "score": 0, "creation_date": 1495340187, "post_id": 44081423, "comment_id": 75207644, "body": "Some of the forks succeed and some fail, and if I restrict the number of overall forks, then I can often get the program to run normally."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 35, "user_id": 1247587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb846cc7ae64b38739694181ad3758d3?s=128&d=identicon&r=PG", "display_name": "phonybone", "link": "https://stackoverflow.com/users/1247587/phonybone"}, "edited": false, "score": 0, "creation_date": 1495340812, "post_id": 44081423, "comment_id": 75207782, "body": "Re &quot;<i>the fork is successful</i>&quot;, &amp; &quot;<i>Some of the forks succeed and some fail</i>&quot;, Which one is it? What call call is failiing? Why aren&#39;t you checking what error it&#39;s failing with?"}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 3, "last_activity_date": 1495248405, "last_edit_date": 1592644375, "creation_date": 1495248405, "answer_id": 44081423, "question_id": 44081295, "link": "https://stackoverflow.com/questions/44081295/fork-fails-with-resource-temporarily-unavailable-which-resource/44081423#44081423", "title": "Fork fails with &quot;resource temporarily unavailable&quot;. Which resource?", "body": "<p>Assuming you mean <code>$!</code> is <code>EAGAIN</code>, the <code>fork</code> man page on my system says:</p>\n<blockquote>\n<p>EAGAIN: fork() cannot allocate sufficient memory to copy the parent's page tables and allocate a task structure for the child.</p>\n<p>EAGAIN: It was not possible to create a new process because the caller's RLIMIT_NPROC resource limit was encountered.  To exceed this limit, the process must have either the CAP_SYS_ADMIN or the CAP_SYS_RESOURCE capability.</p>\n</blockquote>\n<p>Are you trying to create a ton of processes? Are you reaping your children when they are done?</p>\n"}, {"tags": [], "owner": {"reputation": 311, "user_id": 9915594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b79f0694caa7b6e962770bfdcc39a60e?s=128&d=identicon&r=PG&f=1", "display_name": "Ishaq Khan", "link": "https://stackoverflow.com/users/9915594/ishaq-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1590660203, "creation_date": 1590660203, "answer_id": 62062023, "question_id": 44081295, "link": "https://stackoverflow.com/questions/44081295/fork-fails-with-resource-temporarily-unavailable-which-resource/62062023#62062023", "title": "Fork fails with &quot;resource temporarily unavailable&quot;. Which resource?", "body": "<p>The error is due to the user has run out of free stacks.\nCheck the security configuration file on RHEL Server\n<code>[root@server1 webapps]# cat /etc/security/limits.d/90-nproc.conf</code></p>\n\n<p><code># Default limit for number of user's processes to prevent</code></p>\n\n<p><code># accidental fork bombs.</code></p>\n\n<p><code># See rhbz #432903 for reasoning.</code></p>\n\n<p><code>*          soft    nproc     1024</code></p>\n\n<p><code>root       soft    nproc     unlimited</code></p>\n\n<p><code>[root@server1 webapps]# vi /etc/security/limits.d/90-nproc.conf</code></p>\n\n<p><code>[root@server1 webapps]#</code></p>\n\n<p>In my case, the \"test\" user was receiving the message \"-bash: fork: retry: Resource temporarily unavailable\"</p>\n\n<p>Resolved the issue by adding user specific limits for stack limit</p>\n\n<p><code>[root@server1 webapps]# vi/etc/security/limits.d/90-nproc.conf</code></p>\n\n<p><code># Default limit for number of user's processes to prevent</code></p>\n\n<p><code># accidental fork bombs.</code></p>\n\n<p><code># See rhbz #432903 for reasoning.</code></p>\n\n<p><code>*          soft    nproc     1024</code></p>\n\n<p><code>test       soft    nproc     16384</code></p>\n\n<p><code>root       soft    nproc     unlimited</code></p>\n\n<p><code>[root@server1 webapps]#</code></p>\n"}], "owner": {"reputation": 35, "user_id": 1247587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb846cc7ae64b38739694181ad3758d3?s=128&d=identicon&r=PG", "display_name": "phonybone", "link": "https://stackoverflow.com/users/1247587/phonybone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3826, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1590660203, "creation_date": 1495246818, "last_edit_date": 1495540502, "question_id": 44081295, "link": "https://stackoverflow.com/questions/44081295/fork-fails-with-resource-temporarily-unavailable-which-resource", "title": "Fork fails with &quot;resource temporarily unavailable&quot;. Which resource?", "body": "<p>I have inherited a Perl script that, depending on machine configuration, fails during calls to <code>fork</code> with <code>$? == 11</code>. </p>\n\n<p>According to <code>errno.h</code> and <a href=\"https://stackoverflow.com/questions/853725/\">various</a> <a href=\"http://www.virtsync.com/c-error-codes-include-errno\" rel=\"nofollow noreferrer\">posts</a>, 11 is <code>EAGAIN</code>, i.e. \"try again\", because some resource was temporarily unavailable. </p>\n\n<p>Is there a way to determine which resource caused the fork to fail,\nother than  increasing various system limits one by one\n(<a href=\"https://serverfault.com/questions/374852/\">open file descriptors</a>,\n<a href=\"https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Storage_Administration_Guide/ch-swapspace.html\" rel=\"nofollow noreferrer\">swap space</a>, or\nnumber of <a href=\"https://stackoverflow.com/questions/344203/\">allowable threads</a>)?</p>\n"}, {"tags": ["mysql", "perl", "dbi"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495238964, "post_id": 44080551, "comment_id": 75184862, "body": "Why aren&#39;t you querying directly for the result you need first?"}, {"owner": {"reputation": 32469, "user_id": 1529673, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/O6MQS.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/1529673/strawberry"}, "edited": false, "score": 1, "creation_date": 1495264248, "post_id": 44080551, "comment_id": 75189045, "body": "Why check first?"}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495266427, "post_id": 44081192, "comment_id": 75189534, "body": "You might want to expand on why the bottom-driven loop (are they called that in English? I only know the German word, which is <i>fu&#223;gesteuerte Schleife</i>) is the right way to go here."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 0, "creation_date": 1495329524, "post_id": 44081192, "comment_id": 75206109, "body": "(We say top- and bottom-tested loop.) A top-tested loop will effectively start with the second row since we&#39;ve already read the first row."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1495329484, "last_edit_date": 1495329484, "creation_date": 1495245673, "answer_id": 44081192, "question_id": 44080551, "link": "https://stackoverflow.com/questions/44080551/check-value-from-dbi-query-without-consuming/44081192#44081192", "title": "Check Value from DBI Query Without Consuming", "body": "<pre><code>if ( my $row = $sth-&gt;fetchrow_hashref() )  {\n   # Do stuff with first row\n\n   do {\n       # Do stuff to be done to each row\n   } while $row = $sth-&gt;fetchrow_hashref();\n}\n</code></pre>\n"}], "owner": {"reputation": 106, "user_id": 2774695, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ccb47d8a4d46ba18331d2ab8ff383feb?s=128&d=identicon&r=PG&f=1", "display_name": "user2774695", "link": "https://stackoverflow.com/users/2774695/user2774695"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1495329484, "creation_date": 1495238787, "question_id": 44080551, "link": "https://stackoverflow.com/questions/44080551/check-value-from-dbi-query-without-consuming", "title": "Check Value from DBI Query Without Consuming", "body": "<p>I have a table in my DB which I just added a new column to, and when I query this table in Perl I want to check only once if this field is empty or not. I need to check the value of this column in just the first row. Usually to go through the query results I use </p>\n\n<pre><code>while (my $row = $sthmm-&gt;fetchrow_hashref()) {\n    # do stuff\n}\n</code></pre>\n\n<p>I could check each row in the while loop but since I only need to do it once, I don't want to waste time doing that. </p>\n\n<p>How can I retrieve one row and check the column's value without consuming it, meaning that I can still go through the whole result in the while loop after checking this condition. </p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1495235111, "post_id": 44080110, "comment_id": 75184083, "body": "See <a href=\"https://metacpan.org/pod/again\" rel=\"nofollow noreferrer\">again</a>."}, {"owner": {"reputation": 1695, "user_id": 1030542, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec509c40665010b6d5b74e3fd94447c8?s=128&d=identicon&r=PG", "display_name": "iDev", "link": "https://stackoverflow.com/users/1030542/idev"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1495237127, "post_id": 44080110, "comment_id": 75184530, "body": "Apologize for referring directly to the link, have pasted the content here."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495237295, "post_id": 44080110, "comment_id": 75184568, "body": "Is <a href=\"http://stackoverflow.com/a/37096022/4653379\">this post</a> what you are looking for?  (I don&#39;t understand the problem description fully.)"}, {"owner": {"reputation": 1695, "user_id": 1030542, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec509c40665010b6d5b74e3fd94447c8?s=128&d=identicon&r=PG", "display_name": "iDev", "link": "https://stackoverflow.com/users/1030542/idev"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1495237694, "post_id": 44080110, "comment_id": 75184663, "body": "Thanks @Sinan&#220;n&#252;r for the pointer to again module."}, {"owner": {"reputation": 1695, "user_id": 1030542, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec509c40665010b6d5b74e3fd94447c8?s=128&d=identicon&r=PG", "display_name": "iDev", "link": "https://stackoverflow.com/users/1030542/idev"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495237876, "post_id": 44080110, "comment_id": 75184702, "body": "@zdim: I meant that in cases when I have to re-run the perl script upon modification, I can&#39;t end up aborting the script rightaway and re-run but have to wait for the second script called from within the main script to finish execution (which could take about an hour or so). So if the code could be automatically modified such that the second script continues executing."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1495238097, "post_id": 44080110, "comment_id": 75184730, "body": "That&#39;s getting a little nasty (while interesting for experimentation).  Can you then <code>fork</code> the second script?  (I would invest effort into solving the problem in a way that doesn&#39;t involve re-loading code.)"}], "answers": [{"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 1, "last_activity_date": 1495244682, "last_edit_date": 1495244682, "creation_date": 1495244323, "answer_id": 44081064, "question_id": 44080110, "link": "https://stackoverflow.com/questions/44080110/reload-a-perl-script-while-running-if-the-modification-time-changes/44081064#44081064", "title": "Reload a perl script while running if the modification time changes", "body": "<p>The simplest solution would be to restart the entire program.</p>\n\n<p>Without external help (doesn't properly exit)</p>\n\n<pre><code>exec($^X, $0);\n</code></pre>\n\n<p>With external help (exits properly)</p>\n\n<pre><code>exit(254);\n</code></pre>\n\n<p>plus</p>\n\n<pre><code>#!/bin/sh\nwhile true ; do\n   program \"$@\"\n   e=$?\n   if [[ $e != 254 ]] ; then\n      exit $e\n   fi\ndone\n</code></pre>\n"}], "owner": {"reputation": 1695, "user_id": 1030542, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec509c40665010b6d5b74e3fd94447c8?s=128&d=identicon&r=PG", "display_name": "iDev", "link": "https://stackoverflow.com/users/1030542/idev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 44081064, "answer_count": 1, "score": 1, "last_activity_date": 1495244682, "creation_date": 1495234905, "last_edit_date": 1495236464, "question_id": 44080110, "link": "https://stackoverflow.com/questions/44080110/reload-a-perl-script-while-running-if-the-modification-time-changes", "title": "Reload a perl script while running if the modification time changes", "body": "<p>I have a perl script running at any given time and triggering another perl script if a specific condition is met else it sleeps for 1 min.\nEvery time I have to make a modification to the main script and re-run it, I have to ensure no sub-script is running and then kill it and re-run.</p>\n\n<p>So, have been looking if I can reload the perl script automatically based on the modification time. \nI came across the below link (code snippet shared below) and it works. But wondering, if this is the right way to do it? Any pointers?</p>\n\n<p>Code Snippet here:\n(test.pl keeps on running and Worker.pm can be modified  as needed)</p>\n\n<p>Worker.pm:</p>\n\n<pre><code>    package Worker;\n\nour $iteration = 1;\n\nsub do_some_work {\n    return if $iteration &gt; 100;\n    printf \"$iteration Original\\n\";\n    $iteration++;\n    sleep 1;\n    return 1;\n}\n\nsub save_state {\n    return $iteration;\n}\n\nsub load_state {\n    my $class = shift;\n    $iteration = shift;\n}\n1;\n</code></pre>\n\n<p>test.pl</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse lib '.';\nuse Worker;\n\nmy $library_file = $INC{'Worker.pm'};\nmy $library_mtime = ( stat( $library_file ) )[9];\n\nwhile ( Worker-&gt;do_some_work() ) {\n    my $new_mtime = ( stat( $library_file ) )[9];\n    next if $new_mtime == $library_mtime;\n\n    $library_mtime = $new_mtime;\n\n    eval {\n        my $state = Worker-&gt;save_state();\n        delete $INC{'Worker.pm'};\n        require 'Worker.pm';\n        Worker-&gt;load_state( $state );\n    };\n}\n</code></pre>\n\n<p>Source  from: <a href=\"https://www.depesz.com/2015/01/21/reloading-of-perl-script-while-its-running/\" rel=\"nofollow noreferrer\">https://www.depesz.com/2015/01/21/reloading-of-perl-script-while-its-running/</a></p>\n"}, {"tags": ["perl", "ksh"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5947820, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d4f495d1ded6255eb5ec6bffc8f10822?s=128&d=identicon&r=PG&f=1", "display_name": "ocbit", "link": "https://stackoverflow.com/users/5947820/ocbit"}, "edited": false, "score": 0, "creation_date": 1495223885, "post_id": 44078029, "comment_id": 75180130, "body": "Even better. I don&#39;t have to worry about quoting the input at all. Thanks!"}, {"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 0, "creation_date": 1495224190, "post_id": 44078029, "comment_id": 75180265, "body": "Or just pass <code>$1</code> directly instead of assigning to <code>OBJECT</code> and then passing the copy. Although if this was a long code, it makes sense to assign to another variable to make it self documenting."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2404501"}, "is_accepted": false, "score": 3, "last_activity_date": 1495223478, "creation_date": 1495223478, "answer_id": 44078029, "question_id": 44077800, "link": "https://stackoverflow.com/questions/44077800/ksh-script-decode-base64-using-perl-one-liner/44078029#44078029", "title": "Ksh script decode base64 using Perl one-liner", "body": "<p>Rather than try to make nested quotes work, it would be cleaner to pass the argument through as an argument:</p>\n\n<pre><code>#!/bin/ksh\nOBJECT=$1\nperl -MMIME::Base64 -e 'print decode_base64($ARGV[0])' \"$OBJECT\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "is_accepted": false, "score": 2, "last_activity_date": 1495223983, "creation_date": 1495223983, "answer_id": 44078157, "question_id": 44077800, "link": "https://stackoverflow.com/questions/44077800/ksh-script-decode-base64-using-perl-one-liner/44078157#44078157", "title": "Ksh script decode base64 using Perl one-liner", "body": "<p>Shell environment variables are accessible in Perl through the <a href=\"http://metacpan.org/pod/perlvar#ENV\" rel=\"nofollow noreferrer\"><code>%ENV</code> hash</a></p>\n\n<pre><code>perl -MMIME::Base64 -e 'print decode_base64($ENV{OBJECT})'\n</code></pre>\n\n<p>You may need to call <code>export</code> on the variable in ksh for it to be visible to subshells.</p>\n\n<pre><code>OBJECT=$1\nexport OBJECT\nperl -MMIME::Base64 -e 'print decode_base64($ENV{OBJECT})'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>export OBJECT=$1\nperl -MMIME::Base64 -e 'print decode_base64($ENV{OBJECT})'\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5947820, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d4f495d1ded6255eb5ec6bffc8f10822?s=128&d=identicon&r=PG&f=1", "display_name": "ocbit", "link": "https://stackoverflow.com/users/5947820/ocbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1495286478, "creation_date": 1495222543, "question_id": 44077800, "link": "https://stackoverflow.com/questions/44077800/ksh-script-decode-base64-using-perl-one-liner", "title": "Ksh script decode base64 using Perl one-liner", "body": "<p>Trying to decode <code>\"ZW5jb2RlIG1lCg==\"</code> using this script like <code>./decodetest.sh '\"ZW5jb2RlIG1lCg==\"'</code> doesn't return anything. I'm passing base64 string with single quotes to keep the double quotes for the command. Any help is appreciated or any alternatives.</p>\n\n<pre><code>#!/bin/ksh \nOBJECT=$1\nperl -MMIME::Base64 -e 'print decode_base64(${OBJECT})'\n#echo ${OBJECT}\n</code></pre>\n\n<p>Running below on the command line correctly outputs \"encode me\".</p>\n\n<pre><code>perl -MMIME::Base64 -e 'print decode_base64(\"ZW5jb2RlIG1lCg==\")'\n</code></pre>\n"}, {"tags": ["perl", "ssl", "https"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 3, "creation_date": 1495219469, "post_id": 44076540, "comment_id": 75178007, "body": "Crypto libraries... not something that you want to re-implement in every language where they&#39;re needed."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495220407, "post_id": 44076540, "comment_id": 75178458, "body": "I added the ssl tag so Steffen Ullrich will notice this question. He usually has a lot to say about this kind of thing."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495309493, "post_id": 44076540, "comment_id": 75201809, "body": "@simbabque: I&#39;ve noticed it but Sinan already had the perfect answer."}, {"owner": {"reputation": 3045, "user_id": 951615, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/32f59de3e1040fae90a803448e43316f?s=128&d=identicon&r=PG", "display_name": "smith", "link": "https://stackoverflow.com/users/951615/smith"}, "reply_to_user": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1495623446, "post_id": 44076540, "comment_id": 75329102, "body": "@SteffenUllrich what is the best way to bundle  openssl and your module NET::SSLeay with perl app if i already know the OS ?"}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1495624168, "post_id": 44076540, "comment_id": 75329575, "body": "@smith: This is a different question your original one. Please don&#39;t ask new questions inside a comment."}], "answers": [{"comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495266814, "post_id": 44076658, "comment_id": 75189621, "body": "<a href=\"https://grep.metacpan.org/search?q=ssl&amp;qd=Module%3A%3ACoreList&amp;qft=&amp;qci=on\" rel=\"nofollow noreferrer\">Here&#39;s proof</a> that there has not been any module with <code>&#47;ssl&#47;i</code> in its name in the Perl core, at least since the <code>corelist</code> utility has been around."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 10, "last_activity_date": 1495218214, "creation_date": 1495218214, "answer_id": 44076658, "question_id": 44076540, "link": "https://stackoverflow.com/questions/44076540/is-there-a-core-perl-module-for-ssl-tls-support/44076658#44076658", "title": "Is there a core Perl module for SSL/TLS support?", "body": "<p>SSL/TLS support is provided by <a href=\"https://metacpan.org/pod/Net::SSLeay\" rel=\"noreferrer\">Net::SSLeay</a> and <a href=\"https://metacpan.org/pod/IO::Socket::SSL\" rel=\"noreferrer\">IO::Socket::SSL</a>. Modules such as <a href=\"https://metacpan.org/pod/HTTP::Tiny\" rel=\"noreferrer\">HTTP::Tiny</a> and <a href=\"https://metacpan.org/pod/LWP\" rel=\"noreferrer\">LWP</a> interface with the <a href=\"https://www.openssl.org/\" rel=\"noreferrer\">OpenSSL</a> routines via those layers.</p>\n\n<p>There is no core or pure Perl module supporting HTTPS.</p>\n"}, {"comments": [{"owner": {"reputation": 17219, "user_id": 462370, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7cfe49e263a76df97bd6defdb1a86714?s=128&d=identicon&r=PG", "display_name": "Hubert Kario", "link": "https://stackoverflow.com/users/462370/hubert-kario"}, "edited": false, "score": 1, "creation_date": 1512940846, "post_id": 46054599, "comment_id": 82447275, "body": "number of published vulnerabilities is not an indicator of how secure a library is. If anything, a low amount of vulnerabilities is an indicator that nobody is testing it extensively"}], "tags": [], "owner": {"reputation": 11, "user_id": 5082435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11c3f1a0c71bc516fa913a1f16aaa310?s=128&d=identicon&r=PG&f=1", "display_name": "doublebind", "link": "https://stackoverflow.com/users/5082435/doublebind"}, "is_accepted": false, "score": 0, "last_activity_date": 1504613207, "creation_date": 1504613207, "answer_id": 46054599, "question_id": 44076540, "link": "https://stackoverflow.com/questions/44076540/is-there-a-core-perl-module-for-ssl-tls-support/46054599#46054599", "title": "Is there a core Perl module for SSL/TLS support?", "body": "<p>First, you can avoid using XS with Protocol::TLS module. It's pure perl and you can use it above core socket module.</p>\n\n<p>Second, you can avoid using OpenSSL with Crypt::MatrixSSL. MatrixSSL seems lightweight and secure. See IO::Stream::MatrixSSL for example code.</p>\n"}], "owner": {"reputation": 3045, "user_id": 951615, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/32f59de3e1040fae90a803448e43316f?s=128&d=identicon&r=PG", "display_name": "smith", "link": "https://stackoverflow.com/users/951615/smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1707, "favorite_count": 1, "answer_count": 2, "score": 9, "last_activity_date": 1504613207, "creation_date": 1495217812, "last_edit_date": 1495220383, "question_id": 44076540, "link": "https://stackoverflow.com/questions/44076540/is-there-a-core-perl-module-for-ssl-tls-support", "title": "Is there a core Perl module for SSL/TLS support?", "body": "<p>Does Perl support SSL/TLS via a core modules?</p>\n\n<p>I am using <code>HTTP::Tiny</code> and want to fetch <code>https</code> url without installing any library and depending external libraries and XS.</p>\n\n<p>Is there an option to let <code>HTTP::Tiny</code> to work with SSL without relying on OpenSSL, or is there any pure Perl module for fetching data with SSL out of the box without the need for XS modules?</p>\n"}, {"tags": ["perl", "format"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1495212019, "post_id": 44074986, "comment_id": 75174140, "body": "<a href=\"http://perldoc.perl.org/functions/printf.html\" rel=\"nofollow noreferrer\"><code>printf</code></a> You might need to divide by 100 first, if 19750 is cents, rather than dollars."}, {"owner": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 1, "creation_date": 1495212117, "post_id": 44074986, "comment_id": 75174198, "body": "Note: if you set <code>$total = 19750</code>, that&#39;s what will come out. You may have wanted <code>$total = 197.50</code> instead, or divide your value by 100? But you&#39;ll need consistency in the way you use your numbers, because your 2 examples aren&#39;t consistent between themselves."}, {"owner": {"reputation": 30, "user_id": 8037594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39ta7.jpg?s=128&g=1", "display_name": "edufgimenez", "link": "https://stackoverflow.com/users/8037594/edufgimenez"}, "reply_to_user": {"reputation": 6254, "user_id": 2261424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0beda634f65f29aace865be9504e5e6?s=128&d=identicon&r=PG", "display_name": "AntonH", "link": "https://stackoverflow.com/users/2261424/antonh"}, "edited": false, "score": 0, "creation_date": 1495212763, "post_id": 44074986, "comment_id": 75174500, "body": "@AntonH Sorry, I forgot to mention in post, the value are receveid from an API like this:        {&quot;result&quot;:{&quot;appid&quot;:730,&quot;contextid&quot;:2,&quot;items&quot;:{name)&quot;:19800}}&zwnj;&#8203;}  19800"}], "answers": [{"comments": [{"owner": {"reputation": 30, "user_id": 8037594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39ta7.jpg?s=128&g=1", "display_name": "edufgimenez", "link": "https://stackoverflow.com/users/8037594/edufgimenez"}, "edited": false, "score": 0, "creation_date": 1495213080, "post_id": 44075053, "comment_id": 75174658, "body": "Sorry, it&#39;s really unclear, I forgot to mention in post, the value is received from an API like :       {&quot;result&quot;:{&quot;appid&quot;:730,&quot;contextid&quot;:2,&quot;items&quot;:{name)&quot;:19800}}&zwnj;&#8203;\u200c\u200b}       198.00      {&quot;result&quot;:{&quot;appid&quot;:730,&quot;contextid&quot;:2,&quot;items&quot;:{name)&quot;:90}}\u200c\u200b}       0.90   the value depends of the item in API"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 30, "user_id": 8037594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39ta7.jpg?s=128&g=1", "display_name": "edufgimenez", "link": "https://stackoverflow.com/users/8037594/edufgimenez"}, "edited": false, "score": 1, "creation_date": 1495214005, "post_id": 44075053, "comment_id": 75175145, "body": "That doesn&#39;t address the issue I raised at all. I think you always want to divide by 100, in which case you made an error in your question. I have fixed it, and adjusted my answer accordingly."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 3, "last_activity_date": 1495214857, "last_edit_date": 1495214857, "creation_date": 1495212019, "answer_id": 44075053, "question_id": 44074986, "link": "https://stackoverflow.com/questions/44074986/perl-number-format/44075053#44075053", "title": "Perl Number Format", "body": "<p>To convert cents into dollars, divide by 100!</p>\n\n<pre><code>sprintf(\"%.2f\", $total/100)                        # 197.50\n</code></pre>\n\n<p>or</p>\n\n<pre><code>currency_format('USD', $total/100, 'FMT_COMMON')   # 197.50 USD\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 80721, "user_id": 797049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5f4f7a23e3d0134123a66015bdc4edd1?s=128&d=identicon&r=PG", "display_name": "Mark Reed", "link": "https://stackoverflow.com/users/797049/mark-reed"}, "is_accepted": false, "score": 5, "last_activity_date": 1495222220, "last_edit_date": 1495222220, "creation_date": 1495212093, "answer_id": 44075077, "question_id": 44074986, "link": "https://stackoverflow.com/questions/44074986/perl-number-format/44075077#44075077", "title": "Perl Number Format", "body": "<pre><code>my $formatted = sprintf '%.2f', $number/100.0;\n</code></pre>\n\n<p>In US currency we count dollars, not cents. If you want to use integers representing pennies to avoid rounding errors, that's great; good practice. But it's up to you to divide by 100 to get human-legible output in the standard format.</p>\n\n<p>The <a href=\"https://perldoc.perl.org/functions/sprintf.html\" rel=\"nofollow noreferrer\"><code>sprintf</code></a> function (<strong>s</strong>tring <strong>print</strong> <strong>f</strong>ormatted, originally from the C standard library and now found in many programming languages) will format numbers in a variety of ways. In this case, the format string <code>%.2f</code> requests output of a <strong>f</strong>loating-point (i.e. decimal, fractional, real, non-integer) number with 2 digits after the decimal point.</p>\n"}], "owner": {"reputation": 30, "user_id": 8037594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39ta7.jpg?s=128&g=1", "display_name": "edufgimenez", "link": "https://stackoverflow.com/users/8037594/edufgimenez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1166, "favorite_count": 0, "accepted_answer_id": 44075053, "answer_count": 2, "score": -5, "last_activity_date": 1495222220, "creation_date": 1495211803, "last_edit_date": 1495218525, "question_id": 44074986, "link": "https://stackoverflow.com/questions/44074986/perl-number-format", "title": "Perl Number Format", "body": "<p>How I can format this for example: </p>\n\n<p>100000 as 1000.00</p>\n\n<p>and</p>\n\n<p>90 as 0.90 </p>\n\n<p>using Perl?</p>\n\n<p>I found and try with some modules like <code>Locale::Currency::Format</code> and <code>Number::Format</code>, but nothing work :/</p>\n\n<p>With <code>Locale::Currency::Format</code> I try:</p>\n\n<pre><code>use Locale::Currency::Format;\nmy $total = 19750;\nmy $convert = currency_format('USD',$total,'FMT_COMMON');\nprint $convert;\n</code></pre>\n\n<p>I've expect 197.50 but the print are \"19,750.00 USD\".</p>\n"}, {"tags": ["mongodb", "perl"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495212966, "post_id": 44074890, "comment_id": 75174603, "body": "It seems that <code>connect</code> doesn&#39;t throw exception, so you have nothing to catch.. <code>perl -MMongoDB -E &#39;say $client = MongoDB-&gt;connect(&quot;mongodb:&#47;&#47;nosuchhost&quot;);say $client-&gt;ns(&quot;foo.bar&quot;)-&gt;find&#39;</code>"}, {"owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "reply_to_user": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 0, "creation_date": 1495216041, "post_id": 44074890, "comment_id": 75176257, "body": "output is <code>MongoDB::MongoClient=HASH(0x3af37c8) MongoDB::Cursor=HASH(0x3590010)</code> as you see, no MongoDB::Error object"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1495217038, "post_id": 44074890, "comment_id": 75176799, "body": "You can remove all those <code>try</code>/<code>catch</code> blocks. The code simply doesn&#39;t throw an exception; it thinks everything&#39;s fine even if there is no mongo server. Apparently this isn&#39;t an error."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 4, "creation_date": 1495217724, "post_id": 44074890, "comment_id": 75177149, "body": "Confirmed on OS X with no Mongo DB. I would consider this a bug."}, {"owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "edited": false, "score": 0, "creation_date": 1495445853, "post_id": 44074890, "comment_id": 75238337, "body": "Created an issue in official bugtracker, awaiting review <a href=\"https://jira.mongodb.org/browse/PERL-771\" rel=\"nofollow noreferrer\">jira.mongodb.org/browse/PERL-771</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2855, "user_id": 11800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d37a63484d9878cf6c07dcc08adda9e2?s=128&d=identicon&r=PG", "display_name": "xdg", "link": "https://stackoverflow.com/users/11800/xdg"}, "is_accepted": false, "score": 1, "last_activity_date": 1495450206, "creation_date": 1495450206, "answer_id": 44110975, "question_id": 44074890, "link": "https://stackoverflow.com/questions/44074890/how-to-catch-connection-error-on-perl-mongodb-driver/44110975#44110975", "title": "How to catch connection error on Perl MongoDB driver?", "body": "<p>This is a subtle issue.  <code>find</code> returns a cursor object but doesn't issue the query immediately.  From the documentation for <a href=\"https://metacpan.org/pod/MongoDB::Collection#find\" rel=\"nofollow noreferrer\">MongoDB::Collection</a>:</p>\n\n<pre><code>Note, a MongoDB::Cursor object holds the query and does not issue the\nquery to the server until the `result` method is called on it or until\nan iterator method like `next` is called.\n</code></pre>\n"}], "owner": {"reputation": 1445, "user_id": 1441592, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2a58917def8d1523a840b52ae7d59d21?s=128&d=identicon&r=PG", "display_name": "Paul Serikov", "link": "https://stackoverflow.com/users/1441592/paul-serikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1495450206, "creation_date": 1495211467, "last_edit_date": 1495212699, "question_id": 44074890, "link": "https://stackoverflow.com/questions/44074890/how-to-catch-connection-error-on-perl-mongodb-driver", "title": "How to catch connection error on Perl MongoDB driver?", "body": "<p>I'm using an <a href=\"https://metacpan.org/pod/MongoDB\" rel=\"nofollow noreferrer\">official Perl driver</a> for working with mongodb. To catch and handle errors, <code>Try::Tiny</code> and <code>Safe::Isa</code> modules are <a href=\"https://metacpan.org/pod/MongoDB::Error#USAGE\" rel=\"nofollow noreferrer\">recommended</a>. However, it doesn't work as expected. Please check code below that should work according to documentation but in fact it doesn't work:</p>\n\n<pre><code>use MongoDB;\nuse Try::Tiny;\nuse Safe::Isa;\n\nmy $client;\n\ntry {\n    $client = MongoDB-&gt;connect('mongodb://localhost');\n    $client-&gt;connect;\n} catch {\n    warn \"caught error: $_\";\n};\n\nmy $collection = $client-&gt;ns('foo.bar');\n\ntry {\n  my $all = $collection-&gt;find;\n} catch {\n  warn \"2 - caught error: $_\";;\n};\n</code></pre>\n\n<p>As far as connections are established automatically according documentation there will be no exception on <code>connect()</code>. But there is no exception on request too! Also I added <code>$client-&gt;connect</code> string to <a href=\"https://metacpan.org/pod/MongoDB::MongoClient#connect\" rel=\"nofollow noreferrer\">force</a> connection, but again no exception. I'm running this script at machine where there is no mongodb installed and no mongodb docker container running so an exception definitely must appear.</p>\n\n<p>Could someone explain what am I doing wrong? </p>\n"}, {"tags": ["perl", "subroutine", "function-parameter"], "comments": [{"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 1, "creation_date": 1495195071, "post_id": 44069431, "comment_id": 75162842, "body": "Larry would have the most intellectual comment of us all. ;) - I think the by now two downvoters don&#39;t like that you did not simply read the documentation."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1495195492, "post_id": 44069431, "comment_id": 75163125, "body": "@KamalNayan: <i>&quot;If everyone starts reading documentation fully&quot;</i> That is a disgraceful attitude. I have been programming Perl professionally for nearly twenty years now, and I still read every page of the documentation at least once a year. If you&#39;re not up to the task then don&#39;t play at programming."}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495195588, "post_id": 44069431, "comment_id": 75163190, "body": "@Borodin Apologies, I didn&#39;t mean that. Most often (generally newbies) prefer to read a little part of documentation."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1495195644, "post_id": 44069431, "comment_id": 75163229, "body": "Type <code>perldoc perltoc</code> in your terminal and read <i>everything</i> listed there at least once a year."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495195735, "post_id": 44069431, "comment_id": 75163291, "body": "@KamalNayan: <i>&quot;Most often (generally newbies) prefer to read a little part of documentation&quot;</i> yes, and that pervasive attitude is what leads to the many &quot;I need code to do this&quot; questions here. If you don&#39;t know the language then please don&#39;t get other people to do your work for free."}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495195736, "post_id": 44069431, "comment_id": 75163294, "body": "@Sinan&#220;n&#252;r: Thanks, I was not knowing about this command. And again sorry if my comments hurted anyone!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495195870, "post_id": 44069431, "comment_id": 75163377, "body": "@KamalNayan: <i>&quot;I was not knowing about this command&quot;</i> And it&#39;s clear <i>why</i> you didn&#39;t know about it."}, {"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "edited": false, "score": 0, "creation_date": 1495196017, "post_id": 44069431, "comment_id": 75163472, "body": "Yes I admit, I dont know and browse stackoverflow to learn."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495196303, "post_id": 44069431, "comment_id": 75163651, "body": "@KamalNayan: There are many advantages to learning a language from the documentation. It is free; it is fast; you don&#39;t waste anyone&#39;s time asking them to recite it to you; it is usually accurate; it is more comprehensive; and it is immediately accessible at any time of day or night."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1495196374, "post_id": 44069431, "comment_id": 75163695, "body": "@KamalNayan: You would learn a <i>lot</i> more by <i>answering</i> questions on Stack Overflow."}], "answers": [{"comments": [{"owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "edited": false, "score": 0, "creation_date": 1495195222, "post_id": 44069513, "comment_id": 75162943, "body": "I have seen this code somehere, I&#39;m not using it in production, just wanted to know in a small script. :)"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "reply_to_user": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "edited": false, "score": 1, "creation_date": 1495224348, "post_id": 44069513, "comment_id": 75180351, "body": "@KamalNayan yes, people coming to Perl from other languages look for signatures and find prototypes and use them.  But they really serve a different purpose and should almost never be used.  And the newer signatures feature is experimental and subject to change or removal, so don&#39;t use that either unless you are comfortable with that."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 2, "last_activity_date": 1495195167, "last_edit_date": 1495195167, "creation_date": 1495195022, "answer_id": 44069513, "question_id": 44069431, "link": "https://stackoverflow.com/questions/44069431/perl-subroutines-with-exact-signature-exact-number-of-parameters/44069513#44069513", "title": "Perl subroutines with exact signature / exact number of parameters", "body": "<p>You are using <a href=\"https://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"nofollow noreferrer\">subroutine prototypes</a>. Don't. For more detail, see <a href=\"https://stackoverflow.com/questions/297034/why-are-perl-5s-function-prototypes-bad\">Why are Perl 5's function prototypes bad?</a></p>\n\n<p>A new, experimental feature introduced in 5.20 is <a href=\"https://www.effectiveperlprogramming.com/2015/04/use-v5-20-subroutine-signatures/\" rel=\"nofollow noreferrer\">subroutine signatures</a>. Those do everything you wished subroutine prototypes could.</p>\n\n<p>For example:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse feature 'signatures';\nno warnings 'experimental::signatures';\n\nsub show ( $canvas, $actor ) {\n    $actor-&gt;draw( $canvas, $COLOR{default});\n}\n</code></pre>\n\n<p>etc</p>\n"}], "owner": {"reputation": 1652, "user_id": 4414367, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-l6uq-uiBGvg/AAAAAAAAAAI/AAAAAAAAAVA/F0AWblrmSTM/photo.jpg?sz=128", "display_name": "Kamal Nayan", "link": "https://stackoverflow.com/users/4414367/kamal-nayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "closed_date": 1495195603, "accepted_answer_id": 44069513, "answer_count": 1, "score": -1, "last_activity_date": 1495204397, "creation_date": 1495194807, "last_edit_date": 1495204397, "question_id": 44069431, "link": "https://stackoverflow.com/questions/44069431/perl-subroutines-with-exact-signature-exact-number-of-parameters", "closed_reason": "Duplicate", "title": "Perl subroutines with exact signature / exact number of parameters", "body": "<p>I have seen usage of <code>$</code> in subroutine definition somewhere. To learn more about it, I created various cases with a simple subroutine, and came to know that it's used for defining subroutines with exact signatures.</p>\n\n<p>Can anyone please confirm:</p>\n\n<ol>\n<li>Whether I'm right? I mean whether it's used for this purpose?</li>\n<li>Whether it has any other uses?</li>\n<li>Is there any other way to access those parameters inside subroutine, other than using <code>my $param1 = shift;</code> or <code>my (@params) = @_</code>?</li>\n</ol>\n\n<hr>\n\n<pre><code>use strict;\nuse warnings;\n\n# just a testing function\nsub show($$){\n    print \"Inside show\";\n}\n\nshow(1, 1);   # works fine\nshow(1);     # gives compilation error\n# Not enough arguments for main::show at test.pl line 8, near \"1)\"\n# Execution of test.pl aborted due to compilation errors.\n\nshow(1, 1, 1);   # gives compilation error\n# Too many arguments for main::show at test.pl line 8, near \"1)\"\n# Execution of test.pl aborted due to compilation errors.       \n</code></pre>\n"}, {"tags": ["function", "perl", "validation", "function-parameter"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1495200447, "post_id": 44065722, "comment_id": 75166641, "body": "Related <a href=\"https://stackoverflow.com/questions/1433070/what-perl-modules-are-useful-for-validating-subroutine-arguments\">What Perl modules are useful for validating subroutine arguments?</a> and <a href=\"https://stackoverflow.com/questions/19234209/perl-subroutine-arguments\">Perl subroutine arguments</a>."}, {"owner": {"reputation": 32176, "user_id": 2173773, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M8yh6.jpg?s=128&g=1", "display_name": "H&#229;kon H&#230;gland", "link": "https://stackoverflow.com/users/2173773/h%c3%a5kon-h%c3%a6gland"}, "edited": false, "score": 0, "creation_date": 1495271237, "post_id": 44065722, "comment_id": 75190749, "body": "See also <a href=\"http://stackoverflow.com/q/29577085/2173773\">How to specify default values for optional subroutine arguments?</a> and <a href=\"http://stackoverflow.com/q/19514694/2173773\">Perl: Named parameters validation best practice</a>"}], "answers": [{"comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1495185669, "post_id": 44066054, "comment_id": 75156345, "body": "You can also use <code>&#47;&#47;</code> in lieu of <code>||</code> which solves the problem you outline. (this requires a slightly newer version of Perl than I&#39;ve seen installed in some places)"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "is_accepted": false, "score": 3, "last_activity_date": 1495185799, "last_edit_date": 1495185799, "creation_date": 1495185376, "answer_id": 44066054, "question_id": 44065722, "link": "https://stackoverflow.com/questions/44065722/how-can-i-validate-function-parameters-in-perl/44066054#44066054", "title": "How can I validate function parameters in Perl?", "body": "<p>The problem with this:</p>\n\n<pre><code>$args-&gt;{value} || die \"no value set\";\n</code></pre>\n\n<p>Is that it would fail when value is defined but set to zero.</p>\n\n<pre><code>testfunction({value =&gt; 0});  #Oops!\n</code></pre>\n\n<p>That may be ok if zero is not allowed for the value.  But in general, a better design would be to use <code>exists</code> or <code>//</code> to check whether the hash key has been defined.</p>\n\n<pre><code>die \"Value not defined!\" if not exists $args-&gt;{value};\n\ndie \"Value not defined!\" unless exists $args-&gt;{value};\n\n$args-&gt;{value} // die \"Value not defined!\";\n</code></pre>\n\n<p>For this simple statement I would tend to prefer <code>exists</code> because I think it reads a bit more clearly.  But <code>//</code> allows nice things like substituting default values, as shown in Sobrique's answer. I agree with Sobrique's more general advice about approaches, as well. </p>\n"}, {"comments": [{"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 0, "creation_date": 1495185966, "post_id": 44066076, "comment_id": 75156563, "body": "Many Thanks to you. Great and very helpfull answer from you :)"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 2, "creation_date": 1495186579, "post_id": 44066076, "comment_id": 75157050, "body": "You might want to use single quotes instead of doubles in your <code>die &quot;value parameter ... match &#47;^\\w+$&#47;&quot;</code> as with double quotes,<code>$&#47;</code> will be interpreted as a Perl variable."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": true, "score": 10, "last_activity_date": 1495187770, "last_edit_date": 1495187770, "creation_date": 1495185460, "answer_id": 44066076, "question_id": 44065722, "link": "https://stackoverflow.com/questions/44065722/how-can-i-validate-function-parameters-in-perl/44066076#44066076", "title": "How can I validate function parameters in Perl?", "body": "<p>It depends a lot on what you're trying to accomplish, and whether it's user input, local functions or remote functions. </p>\n\n<p>I mean, some parameters - it's far easier to 'validate' by trying to use it. A file name for example - rather than trying to trap all the edge cases by hand, just pass it to <code>open .... or die $!</code> </p>\n\n<p>And sometimes - it's more sensible to 'default-and-override'. E.g.:</p>\n\n<pre><code>my ( $first_thing, $second_thing ) = @_; \n$first_thing //= \"default value\";\n$second_thing //= 0; \n</code></pre>\n\n<p>Note - use of <code>//</code> rather than <code>||</code> - it's <em>similar</em> in usage, but it tests for just being undefined - rather than being defined-but-false such as <code>''</code> or <code>0</code>. </p>\n\n<p>And other times you want better still validation, by applying a set of validation regexes. Just be careful, some things - like email addresses or IP addresses - can be a lot more complicated to exhaustively validate than you think - so a simple edge case of 'was there a parameter at all' can work.</p>\n\n<p>Of course, at that point you can also start looking at <a href=\"https://perldoc.perl.org/perlsub.html#Prototypes\" rel=\"noreferrer\">function prototypes</a>. Which aren't anything like the prototyping you may think of from other languages:</p>\n\n<pre><code>#!/usr/bin/env perl\n\n#says - must have a single scalar arg. \nsub testfunction($) {\n   my ( $required_arg ) = @_; \n   print $required_arg;\n}\n\ntestfunction(1);\ntestfunction;\n</code></pre>\n\n<p>The latter will fail with:</p>\n\n<pre><code>Not enough arguments for main::testfunction\n</code></pre>\n\n<p>Note - perl prototypes check <em>type</em> and <em>number</em> of arguments (e.g. is it scalar, is it array). But don't check values, and <em>can</em> have some slightly unexpected effects when it comes to passing in arrays. </p>\n\n<p>I'd suggest that passing in hashes is quite well suited to a defaulting mechanism, because you can:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\nmy %defaults = (\n  \"test\" =&gt; 1,\n);\n\nsub with_default {\n    my %args = (%defaults, @_); \n    print Dumper \\%args; \n}\n\nwith_default;\nwith_default(test =&gt; 4 );\n</code></pre>\n\n<p>But to go back to your original case - if your function simply won't work without 'value' being set, then it's good to spell it out in code:</p>\n\n<pre><code>if ( not defined $args -&gt; {value} \n  or not $args -&gt; {value} =~ m/^\\w+$/ ) {\n   die 'value parameter must be supplied and match m/^\\w+$/';\n}\n</code></pre>\n\n<p>It's probably worth mentioning 'taint' mode at this point. It's a feature of <code>perl</code> that you don't see in many other languages. </p>\n\n<p>It specifically tells the interpreter that 'user supplied' is 'tainted' and thus <em>cannot</em> be used without validation. And that includes insecure paths, environment vars etc.</p>\n\n<p>See <a href=\"https://perldoc.perl.org/perlsec.html#Taint-mode\" rel=\"noreferrer\">perlsec</a></p>\n\n<p>But:</p>\n\n<pre><code>#!/usr/bin/env perl -T\nuse strict;\nuse warnings;\n\nsystem \"echo $ENV{'USERNAME'}\";\n</code></pre>\n\n<p>Will fail - because <code>system</code> will not allow 'tainted' vars. (But <code>print</code> will). You need to pass it through a validation step (e.g. regex typically) before the 'taint' is removed. </p>\n"}], "owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1114, "favorite_count": 0, "accepted_answer_id": 44066076, "answer_count": 2, "score": 2, "last_activity_date": 1495200355, "creation_date": 1495184498, "last_edit_date": 1495200355, "question_id": 44065722, "link": "https://stackoverflow.com/questions/44065722/how-can-i-validate-function-parameters-in-perl", "title": "How can I validate function parameters in Perl?", "body": "<p>Could you please tell me what in Perl is the smartest way to validate function parameter?</p>\n\n<p><strong>Code-Snippet</strong>:</p>\n\n<pre><code>sub testfunction {\n    my ($args) = @_;\n    my $value = $args-&gt;{value} || die \"no value set\";\n    # process value ...\n}\n\n\ntestfunction({value =&gt; 'Hallo'});\n\ntestfunction({novalue =&gt; 'Hallo'});\n</code></pre>\n\n<p>Is the above way an good alternative to validate function parameter in perl or are there smarter ways?\nMany Thanks to everybody.</p>\n"}, {"tags": ["perl", "recursion", "moose"], "comments": [{"owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "edited": false, "score": 1, "creation_date": 1495181588, "post_id": 44064688, "comment_id": 75153822, "body": "Don&#39;t call <code>printTree</code> inside <code>printTree</code>. Btw, shouldn&#39;t <code>@kids</code> also be a property?"}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "edited": false, "score": 3, "creation_date": 1495182276, "post_id": 44064688, "comment_id": 75154217, "body": "Your <code>@kids</code> is a singleton inside the class. That means all objects share it. It&#39;s a bad idea. It should be a property. I&#39;ll write up an answer later."}], "answers": [{"tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 6, "last_activity_date": 1495189058, "last_edit_date": 1495189058, "creation_date": 1495182823, "answer_id": 44065150, "question_id": 44064688, "link": "https://stackoverflow.com/questions/44064688/perl-recursive-object-instantiation-with-moose/44065150#44065150", "title": "Perl: Recursive object instantiation with Moose", "body": "<p>The issue is that <code>@Person::kids</code> does not belong to any one instance, and you effectively end up with</p>\n\n<pre><code>@Person::kids = ($r, $g);\n$s-&gt;printTree() loops through @Person::kids, calls\n $r-&gt;printTree() loops through @Person::kids, calls\n  $r-&gt;printTree() loops through @Person::kids, calls\n   $r-&gt;printTree() loops through @Person::kids, calls\n    ...\n</code></pre>\n\n<p>You need to make it an attribute, e.g.</p>\n\n<pre><code>has kids =&gt; (\n    isa =&gt; 'ArrayRef[Person]',\n    traits =&gt; ['Array'],\n    handles =&gt; {\n        all_kids =&gt; 'elements',\n        push_kids =&gt; 'push',\n    },\n    default =&gt; sub { [] },\n);\nsub addChild {\n    my ($self, $name) = @_;\n    my $k = Person-&gt;new(name =&gt; $name);\n    $self-&gt;push_kids($k);\n    return $k;\n}\nsub printTree {\n    my ($self) = @_;\n    print $self-&gt;name;\n    $_-&gt;printTree foreach $self-&gt;all_kids;\n}\n</code></pre>\n\n<p>You can check <a href=\"http://search.cpan.org/perldoc/Moose::Meta::Attribute::Native::Trait::Array\" rel=\"nofollow noreferrer\">perldoc Moose::Meta::Attribute::Native::Trait::Array</a> for other useful handles from the <code>Array</code> trait.</p>\n"}], "owner": {"reputation": 471, "user_id": 1742886, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/320ca9e6ae5feefbfa9a9f8df9f60bd7?s=128&d=identicon&r=PG", "display_name": "vijayvithal", "link": "https://stackoverflow.com/users/1742886/vijayvithal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "accepted_answer_id": 44065150, "answer_count": 1, "score": 0, "last_activity_date": 1495193654, "creation_date": 1495181154, "last_edit_date": 1495193654, "question_id": 44064688, "link": "https://stackoverflow.com/questions/44064688/perl-recursive-object-instantiation-with-moose", "title": "Perl: Recursive object instantiation with Moose", "body": "<p></p>\n\n<p>In the example code below, I am defining a class <code>Person</code> that can have child objects of the same class.</p>\n\n<p>When I invoke the <code>printTree</code> method, I am expecting the following output</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Sam    Ram    Geeta\n</code></pre>\n\n<p>What I see instead is</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>SamRamRamRamRamRamRamRamRamRamRamR.....\n</code></pre>\n\n<p>Any hints on what I am doing wrong and how to achieve my goal?</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>package Person;\n\nuse Moose;\n\nhas name =&gt; ( is =&gt; 'ro' );\n\nmy @kids;\n\nsub addChild {\n    my ( $self, $name ) = @_;\n    my $k = Person-&gt;new( name =&gt; $name );\n    push @kids, $k;\n    return $k;\n}\n\nsub printTree {\n    my $self = shift;\n    print $self-&gt;name;\n    $_-&gt;printTree foreach ( @kids );\n}\n\n\n\nno Moose;\n\npackage main;\n\nmy $s = Person-&gt;new( name =&gt; \"Sam\" );\nmy $r = $s-&gt;addChild( \"Ram\" );\nmy $g = $s-&gt;addChild( \"Geeta\" );\n\n$s-&gt;printTree;\n</code></pre>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 373, "user_id": 7893584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/23f449e8064a7eae5bc603622c5a4a36?s=128&d=identicon&r=PG&f=1", "display_name": "k.lo", "link": "https://stackoverflow.com/users/7893584/k-lo"}, "edited": false, "score": 0, "creation_date": 1495179650, "post_id": 44064105, "comment_id": 75152765, "body": "when I change $a declaration to our from my then I get output as 123 123"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 7, "creation_date": 1495180253, "post_id": 44064105, "comment_id": 75153100, "body": "Side note: Don&#39;t call your variables <code>$a</code> or <code>$b</code>. Perl uses those names in <a href=\"http://perldoc.perl.org/functions/sort.html\" rel=\"nofollow noreferrer\"><code>sort</code></a>."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 5, "creation_date": 1495181300, "post_id": 44064105, "comment_id": 75153671, "body": "I&#39;d also suggest declaring a sub within a sub is rarely a good idea."}, {"owner": {"reputation": 6468, "user_id": 293652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820308d5db420d7f0e1d0ba97e09f520?s=128&d=identicon&r=PG", "display_name": "Grant McLean", "link": "https://stackoverflow.com/users/293652/grant-mclean"}, "edited": false, "score": 0, "creation_date": 1495186585, "post_id": 44064105, "comment_id": 75157054, "body": "This is going to sound cryptic and weird, but remember that the implications of &#39;my&#39; come in two parts: the lexical scoping implications are resolved at compile-time; the initialisation assignment happens at run-time. Think about these two parts and what happens each time the statements are executed."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495194598, "post_id": 44064105, "comment_id": 75162486, "body": "Erm, because the first call sets <code>$a</code> to 456? What is the puzzle here?"}], "answers": [{"tags": [], "owner": {"reputation": 48798, "user_id": 223226, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/iGqE4.png?s=128&g=1", "display_name": "mpapec", "link": "https://stackoverflow.com/users/223226/mpapec"}, "is_accepted": false, "score": 4, "last_activity_date": 1495181037, "last_edit_date": 1495181037, "creation_date": 1495179764, "answer_id": 44064258, "question_id": 44064105, "link": "https://stackoverflow.com/questions/44064105/subroutine-giving-two-different-outputs-when-called-twice/44064258#44064258", "title": "Subroutine giving two different outputs when called twice", "body": "<p><code>perldoc diagnostics</code> gives quite self explanatory description for the warning <code>Variable \"$a\" will not stay shared</code>,</p>\n\n<pre><code>use strict;\nuse warnings;\nuse diagnostics;\n\nsub outer {\n   my $a = \"123\";\n   sub inner {\n      print \"$a\\n\";\n   }\n   inner();\n   $a = \"456\";\n}\n\nouter();\nouter();\n</code></pre>\n\n<p>output</p>\n\n<blockquote>\n  <p>Variable \"$a\" will not stay shared at -e line 9 (#1)</p>\n\n<pre><code>   (W closure) An inner (nested) named subroutine is referencing a\n    lexical variable defined in an outer named subroutine.\n\n   When the inner subroutine is called, it will see the value of\n    the outer subroutine's variable as it was before and during the *first*\n    call to the outer subroutine; in this case, after the first call to the\n    outer subroutine is complete, the inner and outer subroutines will no\n    longer share a common value for the variable.  In other words, the\n    variable will no longer be shared.\n\n   This problem can usually be solved by making the inner subroutine\n    anonymous, using the sub {} syntax.  When inner anonymous subs that\n    reference variables in outer subroutines are created, they\n    are automatically rebound to the current values of such variables.\n</code></pre>\n</blockquote>\n\n<pre><code>123\n456\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 3, "last_activity_date": 1495196862, "creation_date": 1495196862, "answer_id": 44070121, "question_id": 44064105, "link": "https://stackoverflow.com/questions/44064105/subroutine-giving-two-different-outputs-when-called-twice/44070121#44070121", "title": "Subroutine giving two different outputs when called twice", "body": "<p>There is no point in declaring an subroutine within another one. It works as if it were declared at the top level, and won't function properly as a closure</p>\n\n<p>If you enable <em>lexical subroutines</em> (and disable the corresponding \"experimental\" warning) and declare <code>inner</code> as <code>my sub inner</code> then your code will work as you expect</p>\n\n<pre><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings 'all';\nuse feature 'lexical_subs';\nno warnings 'experimental::lexical_subs';\n\nsub outer {\n\n   my $a = \"123\";\n\n   my sub inner {\n      print \"$a\\n\";\n   }\n\n   inner();\n\n   $a = \"456\";\n}\n\nouter();\nouter();\n</code></pre>\n\n<h3>output</h3>\n\n<pre><code>123\n123\n</code></pre>\n"}], "owner": {"reputation": 373, "user_id": 7893584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/23f449e8064a7eae5bc603622c5a4a36?s=128&d=identicon&r=PG&f=1", "display_name": "k.lo", "link": "https://stackoverflow.com/users/7893584/k-lo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "closed_date": 1495203032, "answer_count": 2, "score": 2, "last_activity_date": 1495196862, "creation_date": 1495179305, "last_edit_date": 1495194542, "question_id": 44064105, "link": "https://stackoverflow.com/questions/44064105/subroutine-giving-two-different-outputs-when-called-twice", "closed_reason": "Duplicate", "title": "Subroutine giving two different outputs when called twice", "body": "<p></p>\n\n<p>I have executed the following piece of a simple nested subroutine and the output of it makes me crazy.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings;\n\nsub outer {\n\n   my $a = \"123\";\n\n   sub inner {\n      print \"$a\\n\";\n   }\n\n   inner();\n\n   $a = \"456\";\n}\n\nouter();\nouter();\n</code></pre>\n\n<p>Output to this is </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Variable \"$a\" will not stay shared at E:\\Perl\\source\\public\\sss.pl line 9.\n123\n456\n</code></pre>\n\n<p>But how is this possible?</p>\n\n<p>I call the <code>inner</code> subroutine when <code>$a</code> value is <code>123</code>, but why am I getting <code>456</code> when outer is called the second time.</p>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 8034603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a4a6d87770de4ddf56568ff4afb9137?s=128&d=identicon&r=PG&f=1", "display_name": "dragon951", "link": "https://stackoverflow.com/users/8034603/dragon951"}, "edited": false, "score": 0, "creation_date": 1495204476, "post_id": 44062840, "comment_id": 75169476, "body": "Thanks, the function worked perfectly. For the chomp, I tried to force it to give me a warning by adding extra newlines and it still didn&#39;t seem to have an issue, both with and without lexical file handles. is that just something that is a version difference (our server runs v5.10.1)?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 151, "user_id": 8034603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a4a6d87770de4ddf56568ff4afb9137?s=128&d=identicon&r=PG&f=1", "display_name": "dragon951", "link": "https://stackoverflow.com/users/8034603/dragon951"}, "edited": false, "score": 0, "creation_date": 1495208134, "post_id": 44062840, "comment_id": 75171951, "body": "@dragon951 Doesn&#39;t seem to be. I see the warning on 5.8.9, 5.10.1 and 5.24.1 using the following code: <code>perl -e &#39;use warnings; while (chomp(my $line = &lt;&gt;)) {}&#39; &#47;dev&#47;null</code>"}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1495175588, "last_edit_date": 1495175588, "creation_date": 1495175113, "answer_id": 44062840, "question_id": 44062464, "link": "https://stackoverflow.com/questions/44062464/interpolating-a-non-interpolated-passed-string-inside-a-subroutine-in-perl/44062840#44062840", "title": "Interpolating a non-interpolated passed string inside a subroutine in Perl", "body": "<p>Interpolation is a feature of the Perl <em>parser</em>. When you write something like</p>\n\n<pre><code>\"foo $bar baz\"\n</code></pre>\n\n<p>, Perl compiles it into something like</p>\n\n<pre><code>'foo ' . $bar . ' $baz'\n</code></pre>\n\n<p>It does not interpret data at runtime.</p>\n\n<p>What you have is a string where one of the characters happens to be <code>$</code> but that has no special effect.</p>\n\n<hr>\n\n<p>There are at least two possible ways to do something like what you want. One of them is to use a function, not a string. (Which makes sense because interpolation really means concatenation at runtime, and the way to pass code around is to wrap it in a function.)</p>\n\n<pre><code>my $lofrow = tablehash($lof_file, sub { my ($row) = @_; $row-&gt;{gene} }, \"transcript\", \"ENST\");\n\nsub tablehash   { \n    my ($file, $mkuid, $headstart, $rowstart, $colnum) = @_;    \n    ...\n                my $uid = $mkuid-&gt;(\\%row);\n                $table{$uid} = { %row };\n</code></pre>\n\n<p>Here <code>$mkuid</code> isn't a string but a reference to a function that (given a hash reference) returns a uid string. <code>tablehash</code> calls it, passing a reference to <code>%row</code> to it. You can then later change it to e.g.</p>\n\n<pre><code>my $lofrow = tablehash($lof_file, sub { my ($row) = @_; \"$row-&gt;{gene}|$row-&gt;{rsid}\" }, \"transcript\", \"ENST\");\n</code></pre>\n\n<hr>\n\n<p>Another solution is to use what amounts to a template string:</p>\n\n<pre><code>my $lofrow = tablehash($lof_file, \"gene|rsid\", \"transcript\", \"ENST\");\n\nsub tablehash   { \n    my ($file, $uid_template, $headstart, $rowstart, $colnum) = @_;    \n    ...\n                (my $uid = $uid_template) =~ s/(\\w+)/$row{$1}/g;\n                $table{$uid} = { %row };\n</code></pre>\n\n<p>The <code>s///</code> code goes through the template string and manually replaces every word by the corresponding value from <code>%row</code>.</p>\n\n<hr>\n\n<p>Random notes:</p>\n\n<ul>\n<li>Bonus points for using <code>strict</code> and <code>warnings</code>.</li>\n<li><code>if (!$colnum) { $colnum = 0; }</code> can be simplified to <code>$colnum ||= 0;</code>.</li>\n<li>Use lexical variables instead of bareword filehandles. Barewords are effectively global variables (and syntactically awkward because they're not first-class citizens of the language).</li>\n<li>Always use the 3-argument form of open to avoid unexpected interpretation of the second argument.</li>\n<li>Include the name of your program in error messages (either explicitly with <code>$0</code> or implicitly by omitting <code>\\n</code> from <code>die</code>).</li>\n<li><code>my @foo = (); my %bar = ();</code> is redundant and can be simplified to <code>my @foo; my %bar;</code>. Arrays and hashes start out empty; overwriting them with an empty list is pointless.</li>\n<li><code>chomp(my $line = &lt;INA&gt;)</code> will throw a warning when you reach EOF (because you're trying to chomp a variable containing <code>undef</code>).</li>\n<li><code>my %row;</code> should probably be declared inside the loop. It looks like it's supposed to only contain values from the current line.</li>\n</ul>\n\n<p>Suggestion:</p>\n\n<pre><code>open my $fh, '&lt;', $file or die \"$0: can't open $file: $!\\n\";\nwhile (my $line = readline $fh) {\n    chomp $line;\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 8034603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a4a6d87770de4ddf56568ff4afb9137?s=128&d=identicon&r=PG&f=1", "display_name": "dragon951", "link": "https://stackoverflow.com/users/8034603/dragon951"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 44062840, "answer_count": 1, "score": 4, "last_activity_date": 1495181007, "creation_date": 1495173583, "question_id": 44062464, "link": "https://stackoverflow.com/questions/44062464/interpolating-a-non-interpolated-passed-string-inside-a-subroutine-in-perl", "title": "Interpolating a non-interpolated passed string inside a subroutine in Perl", "body": "<p>I am looking to parse a tab delimited text file into a nested hash with a subroutine. Each file row will be keyed by a unique id from a uid column(s), with the header row as nested keys. Which column(s) is(are) to become the uid changes (as sometimes there isn't a unique column, so the uid has to be a combination of columns). My issue is with the <code>$uid</code> variable, which I pass as a non-interpolated string. When I try to use it inside the subroutine in an interpolated way, it will only give me the non-interpolated value:</p>\n\n<pre><code>    use strict;\n    use warnings;\n\n    my $lofrow = tablehash($lof_file, '$row{gene}', \"transcript\", \"ENST\");\n\n    ##sub to generate table hash from file w/ headers\n    ##input values are file, uid, header starter, row starter, max column number\n    ##returns hash reference (deref it)\n    sub tablehash   { \n        my ($file, $uid, $headstart, $rowstart, $colnum) = @_;\n        if (!$colnum){ # takes care of a unknown number of columns\n            $colnum = 0;\n        }\n        open(INA, $file) or die \"failed to open $file, $!\\n\";\n        my %table; # permanent hash table \n        my %row; # hash of column values for each row\n        my @names = (); # column headers\n        my @values = (); # line/row values\n        while (chomp(my $line = &lt;INA&gt;)){ # reading lines for lof info\n            if ($line =~ /^$headstart/){\n                @names = split(/\\t/, $line, $colnum);\n            } elsif ($line =~ /^$rowstart/){ # splitting lof info columns into variables\n                @values = split(/\\t/, $line, $colnum);\n                @row{@names} = @values;\n                print qq($uid\\t$row{gene}\\n); # problem: prints \"$row{gene} ACB1\"\n                $table{\"$uid\"} = { %row }; # puts row hash into permanent hash, but with $row{gene} key)\n            }\n        }\n        close INA;\n        return \\%table;\n    }\n</code></pre>\n\n<p>I am out of ideas. I could put <code>$table{$row{$uid}}</code> and simply pass <code>\"gene\"</code>, but in a couple of instances I want to have a <code>$uid</code> of <code>\"$row{gene}|$row{rsid}\"</code> producing <code>$table{ACB1|123456}</code></p>\n"}, {"tags": ["regex", "perl", "substring"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495183428, "post_id": 44061851, "comment_id": 75154933, "body": "Can there be yet another digit following -- can there be eight digits?  Or is what may follow strictly non-digit?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495223451, "post_id": 44061851, "comment_id": 75179935, "body": "As for &quot;<i>A coworker suggested</i>&quot; -- if <code>$body_text</code> a plain string their suggestion is correct, but if it is a reference to an array (&quot;<i>arrayref</i>&quot;) the original should be used.  These are very different."}, {"owner": {"reputation": 29, "user_id": 8011721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5345f08cc6068c21c376a299b9474fb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark M", "link": "https://stackoverflow.com/users/8011721/mark-m"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495226954, "post_id": 44061851, "comment_id": 75181518, "body": "The &quot;old&quot; code that used the old Mail perl module was an array. In the new MIME one it&#39;s not an array.  --Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495181901, "post_id": 44061958, "comment_id": 75154009, "body": "@MarkM  I misunderstood a part of the question at first. Adjusted the answer to what I think you need."}, {"owner": {"reputation": 29, "user_id": 8011721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5345f08cc6068c21c376a299b9474fb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark M", "link": "https://stackoverflow.com/users/8011721/mark-m"}, "edited": false, "score": 0, "creation_date": 1495222680, "post_id": 44061958, "comment_id": 75179517, "body": "I added a coworker suggestion to the question. Comments welcome. The original assumption was that asset ID tags are always either 5 digits or 7. We specified that email request bodies could have the asset ID to help assign the ticket to the right asset. NEMS=xxxxx, or NEMS = xxxxx are two possible patterns, and NEMS will always be at the beginning of the line with nothing else in the line. $nems is used later to look up the asset in the database."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 29, "user_id": 8011721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5345f08cc6068c21c376a299b9474fb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark M", "link": "https://stackoverflow.com/users/8011721/mark-m"}, "edited": false, "score": 0, "creation_date": 1495223594, "post_id": 44061958, "comment_id": 75180011, "body": "@MarkM  I&#39;ve updated to these clarifications.  These are &quot;normal&quot; regex tweaks, sorry I didn&#39;t put in all spaces etc.  As for the coworker&#39;s suggestion, see my comment below the question: that would indicate that <code>$body_text</code> is just a multi-line string, what is very different from what you say you processed successfully for <code>$body</code>(being an arrayref).  You can see by <code>print &quot;$body_text\\n&quot;</code> -- if it prints <code>ARRAY(...)</code> then the original version is right (<code>@$body_text</code>), if it prints the whole thing then change to the new one. This would only chage the <code>foreach</code> line."}, {"owner": {"reputation": 29, "user_id": 8011721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5345f08cc6068c21c376a299b9474fb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark M", "link": "https://stackoverflow.com/users/8011721/mark-m"}, "edited": false, "score": 0, "creation_date": 1495227137, "post_id": 44061958, "comment_id": 75181599, "body": "Yep, thanks, it&#39;s not an array in the new code. That initially threw me for a loop. That was programming humor ;-)  Really bad programming humor. ;-)"}, {"owner": {"reputation": 29, "user_id": 8011721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5345f08cc6068c21c376a299b9474fb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark M", "link": "https://stackoverflow.com/users/8011721/mark-m"}, "edited": false, "score": 0, "creation_date": 1495227320, "post_id": 44061958, "comment_id": 75181679, "body": "Damn, I just looked, and the NEMS can now be 5,7,8,9 or 10 digits :-O"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 29, "user_id": 8011721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5345f08cc6068c21c376a299b9474fb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark M", "link": "https://stackoverflow.com/users/8011721/mark-m"}, "edited": false, "score": 0, "creation_date": 1495229474, "post_id": 44061958, "comment_id": 75182539, "body": "@MarkM No, that <i>was</i> funny :).  So by 5 - 10 digits do you mean that the string may have that many but you still need 5?  Or ... ?  (Also, you skipped &quot;6&quot; in the list -- on purpose?)  The code as it stands will accept 5, or 7, or anything more, and it captures the first five."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 29, "user_id": 8011721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5345f08cc6068c21c376a299b9474fb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark M", "link": "https://stackoverflow.com/users/8011721/mark-m"}, "edited": false, "score": 0, "creation_date": 1495229646, "post_id": 44061958, "comment_id": 75182606, "body": "@MarkM Updated for <code>$body_text</code> being a multi-line string, not an arrayref."}, {"owner": {"reputation": 29, "user_id": 8011721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5345f08cc6068c21c376a299b9474fb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark M", "link": "https://stackoverflow.com/users/8011721/mark-m"}, "edited": false, "score": 0, "creation_date": 1495230564, "post_id": 44061958, "comment_id": 75182898, "body": "The possible NEMS number lengths are as listed above, and the $nems captured variable must be the complete string for the SQL lookup to work. None of the numbers are 6 digits long (weird). BTW, I believe as it stands I have just one issue that kills it if I use &quot;use strict;&quot;. I need to report back about that next week."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 29, "user_id": 8011721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5345f08cc6068c21c376a299b9474fb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark M", "link": "https://stackoverflow.com/users/8011721/mark-m"}, "edited": false, "score": 0, "creation_date": 1495230744, "post_id": 44061958, "comment_id": 75182945, "body": "@MarkM Alright, let&#39;s clear this up.  I thought, by the question, that you want to find the string for <code>NEMS</code> with either 5 or 7 digits, but that you want to take only the first five into <code>$nems</code>.  Are you saying that all digits should go into <code>$nems</code>?  (And there happen to be only 5,7,8,9,10, no 6.)  If that&#39;s the case, that is easy"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 29, "user_id": 8011721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5345f08cc6068c21c376a299b9474fb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark M", "link": "https://stackoverflow.com/users/8011721/mark-m"}, "edited": false, "score": 0, "creation_date": 1495231018, "post_id": 44061958, "comment_id": 75183032, "body": "@MarkM OK.  One more question then: what are other possible constraints?  What if there happen to be 11 digits, is that still OK (should <code>$nems</code> then get all 11 -- or not -- or should the script yell of errors in data)?"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 29, "user_id": 8011721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5345f08cc6068c21c376a299b9474fb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark M", "link": "https://stackoverflow.com/users/8011721/mark-m"}, "edited": false, "score": 0, "creation_date": 1495231430, "post_id": 44061958, "comment_id": 75183155, "body": "@MarkM  I added in the end the regex that takes all digits that follow <code>NEMS=</code> (spaces or no spaces around <code>=</code>).  If no digits follow the whole match fails.  I kept the rest intact to match the question as it stands.  Just change the regex.  Let me know of any other updates in requirements."}, {"owner": {"reputation": 29, "user_id": 8011721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5345f08cc6068c21c376a299b9474fb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark M", "link": "https://stackoverflow.com/users/8011721/mark-m"}, "edited": false, "score": 0, "creation_date": 1495240696, "post_id": 44061958, "comment_id": 75185128, "body": "Awesome, there is really no reason for a sanity check here. There are checks obviously when the ID is entered in the database. This is simply a way to auto-assign a new ticket to the correct computer(person). If NEMS fails it falls back on a lookup based on the user name, then guesses about the computer ID if they have multiple."}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 0, "last_activity_date": 1559632003, "last_edit_date": 1559632003, "creation_date": 1495170961, "answer_id": 44061958, "question_id": 44061851, "link": "https://stackoverflow.com/questions/44061851/search-for-substring-and-store-another-part-of-the-string-as-variable-in-perl/44061958#44061958", "title": "Search for substring and store another part of the string as variable in perl", "body": "<p>Match the last two digits as optional and capture the first five, and assign the capture directly</p>\n\n<pre><code>($nems) = /(\\d{5}) (?: \\d{2} )?/x;  # /x allows spaces inside\n</code></pre>\n\n<p>The construct <code>(?: )</code> only groups what's inside, without capture. The <code>?</code> after it means to match that zero or one time. We need parens so that it applies to that subpattern only. So the last two digits are optional -- five digits or seven digits match. I removed the unneeded <code>.*?</code> and <code>.*</code></p>\n\n<p>However, by what you say it appears that the whole thing can be simplified</p>\n\n<pre><code>if ( ($nems) = /^\\s*NEMS \\s* = \\s* (\\d{5}) (?:\\d{2})?/ix ) { next }\n</code></pre>\n\n<p>where there is now no need for <code>if (/NEMS/)</code> and I've adjusted to the clarification that <code>NEMS</code> is at the beginning and that there may be spaces around <code>=</code>.  Then you can also say</p>\n\n<pre><code>my $nems;\n\nforeach ( split /\\n/, $body_text ) {\n    # ...\n    next if ($nems) = /^\\s*NEMS\\s*=\\s*(\\d{5})(?:\\d{2})?/i;\n    # ...\n}\n</code></pre>\n\n<p>what includes the clarification that the new <code>$body_text</code> is a multiline string.</p>\n\n<p>It is clear that <code>$nems</code> is declared (needed) <em>outside</em> of the loop and I indicate that.</p>\n\n<p>This allows yet more digits to follow; it will match on 8 digits as well (but capture only the first five). This is what your trailing <code>.*</code> in the regex implies.  </p>\n\n<p><strong>Edit</strong> &nbsp; It's been clarified that there can only be 5 or 7 digits.  Then the regex can be tightened, to check whether input is as expected, but it should work as it stands, too.</p>\n\n<hr>\n\n<p>A few notes, let me know if more would be helpful</p>\n\n<ul>\n<li><p>The match operator returns a list so we <em>need</em> the parens in <code>($nems) = /.../;</code></p></li>\n<li><p>The <code>($nems) = /.../</code> syntax is a nice shortcut, for <code>($nems) = $_ =~ /.../;</code>.<br>\nIf you are matching on a variable other than <code>$_</code> then you need the whole thing.</p></li>\n<li><p>You <em>always</em> want to start Perl programs with</p>\n\n<pre><code>use warnings 'all';\nuse strict;\n</code></pre>\n\n<p>This directly helps and generally results in better code.</p></li>\n</ul>\n\n<hr>\n\n<p>The clarification of the evolved problem understanding states that all digits following <code>=</code> need be captured into <code>$nems</code> (and there may be 5,(not 6),7,8,9,10 digits).  Then the regex is simply</p>\n\n<pre><code>($nems) = /^\\s*NEMS\\s*=\\s*(\\d+)/i;\n</code></pre>\n\n<p>where <code>\\d+</code> means a digit, one or more times. So a string of digits (match fails if there are none).</p>\n"}], "owner": {"reputation": 29, "user_id": 8011721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5345f08cc6068c21c376a299b9474fb?s=128&d=identicon&r=PG&f=1", "display_name": "Mark M", "link": "https://stackoverflow.com/users/8011721/mark-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 44061958, "answer_count": 1, "score": 0, "last_activity_date": 1559632003, "creation_date": 1495170391, "last_edit_date": 1495248558, "question_id": 44061851, "link": "https://stackoverflow.com/questions/44061851/search-for-substring-and-store-another-part-of-the-string-as-variable-in-perl", "title": "Search for substring and store another part of the string as variable in perl", "body": "<p>I am revamping an old mail tool and adding MIME support. I have a lot of it working but I'm a perl dummy and the regex stuff is losing me.</p>\n\n<p>I had:</p>\n\n<pre><code>foreach ( @{$body} ) {\n\n   next if /^$/;\n\n   if ( /NEMS/i ) {\n      /.*?(\\d{5,7}).*/;\n      $nems = $1;\n      next;\n   }\n\n   if ( $delimit ) {\n      next if (/$delimit/ &amp;&amp; ! $tp);\n      last if (/$delimit/ &amp;&amp; $tp);\n\n      $tp = 1, next if /text.plain/;\n      $tp = 0, next if /text.html/;\n      s/&lt;[^&gt;]*&gt;//g;\n      $newbody .= $_ if $tp;\n   } else {\n      s/&lt;[^&gt;]*&gt;//g;\n      $newbody .= $_ ;\n   }\n}  # End Foreach\n</code></pre>\n\n<p>Now I have <code>$body_text</code> as the plain text mail body thanks to <a href=\"http://search.cpan.org/dist/MIME-tools/lib/MIME/Parser.pm\" rel=\"nofollow noreferrer\">MIME::Parser</a>. So now I just need this part to work:</p>\n\n<pre><code>foreach ( @{$body_text} ) {\n\n   next if /^$/;\n\n   if ( /NEMS/i ) {\n      /.*?(\\d{5,7}).*/;\n      $nems = $1;\n      next;\n   }\n}  # End Foreach\n</code></pre>\n\n<p>The actual challenge is to find <code>NEMS=12345</code> or <code>NEMS=1234567</code> and set <code>$nems=12345</code> if found. I think I have a very basic syntax problem with the test because I'm not exposed to perl very often.</p>\n\n<p>A coworker suggested:</p>\n\n<pre><code>foreach (split(/\\n/,$body_text)){\n\n    next if /^$/;\n\n    if ( /NEMS/i ) {\n        /.*?(\\d{5,7}).*/;\n\n        $nems = $1;\nnext;\n\n    }\n}\n</code></pre>\n\n<p>Which seems to be working, but it may not be the preferred way?</p>\n\n<p>edit:</p>\n\n<p>So this is the most current version based on tips here and testing:</p>\n\n<pre><code>foreach (split(/\\n/,$body_text)){\n\n    next if /^$/;\n\n    if ( /NEMS/i ) {\n        /^\\s*NEMS\\s*=\\s*(\\d+)/i;\n\n        $nems = $1;\n    next;\n\n    }\n}\n</code></pre>\n"}, {"tags": ["perl", "datetime", "epoch"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1495151004, "post_id": 44059292, "comment_id": 75143721, "body": "Have you considered <code>-M $file</code>?  It&#39;s the difference between the script start time (so, &quot;now&quot;) and the last modification time, what seems to be what you need. See <a href=\"http://perldoc.perl.org/functions/-X.html\" rel=\"nofollow noreferrer\">file tests (-X)</a>."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 1, "creation_date": 1495151205, "post_id": 44059292, "comment_id": 75143759, "body": "Please review what you posted.  The <code>$self-&gt;{dir} ...</code> shouldn&#39;t compile under <code>strict</code> (and makes no sense as it stands)"}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1495152327, "post_id": 44059292, "comment_id": 75144008, "body": "You will find that to get the full duration, just calling in_units(&#39;days&#39;) is not good enough. Check out the DateTime::Duration docs, you may be missing months or even years without realizing it. Working directly with epoch numbers and seconds may be easier here."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 1, "creation_date": 1495152546, "post_id": 44059292, "comment_id": 75144065, "body": "The code you posted is missing substantial chunks that would make it a complete, self-contained example. As it stands, it is gibberish. However, approximately 30 day delta seems to indicate to me that you are missing the fact that months are zero based in Perl or something like that. That&#39;s the first thing I would look for."}, {"owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "edited": false, "score": 0, "creation_date": 1495153139, "post_id": 44059292, "comment_id": 75144227, "body": "If you create two DateTime objects a year apart, subtract them to get a duration, and call in_unit(&#39;days&#39;) on that, you get ... 0. That is due to DateTime maths and mentioned in the docs."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1495157301, "post_id": 44059292, "comment_id": 75145085, "body": "Note that <code>-M</code> defines days as <code>24*60*60</code> seconds, so <code>-M $file &gt;= 10</code> doesn&#39;t quite check if a file is at least 10 days old, but it&#39;s probably close enough for the OP&#39;s purpose."}], "answers": [{"comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1495154922, "post_id": 44059584, "comment_id": 75144580, "body": "Or use <code>-M</code>, which does the math for you and takes its input in days."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 2, "creation_date": 1495156667, "post_id": 44059584, "comment_id": 75144940, "body": "Re &quot;<i>I would suggest, though, to simply calculate the seconds in 10 days</i>&quot;, That&#39;s actually very complicated. <code>DateTime::Duration-&gt;compare($elapsed,$ten_days,$base) == 1</code> is indeed the simple way of doing that. What the OP could do, however, is to compare against <code>time-10*24*60*60</code>. It might not be exactly 10 days ago, but it&#39;s probably close enough for the OP."}], "tags": [], "owner": {"reputation": 1523, "user_id": 4204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab78fa882cbf4a03c4fd2a0b92622dc5?s=128&d=identicon&r=PG&f=1", "display_name": "bytepusher", "link": "https://stackoverflow.com/users/4204037/bytepusher"}, "is_accepted": false, "score": 0, "last_activity_date": 1495153022, "creation_date": 1495153022, "answer_id": 44059584, "question_id": 44059292, "link": "https://stackoverflow.com/questions/44059292/error-in-elapsed-time-since-modification-of-file-using-datetime/44059584#44059584", "title": "Error in elapsed time since modification of file using &quot;DateTime&quot;", "body": "<p>Aside from any other possible issues:</p>\n\n<pre><code>my $elapsed = $now - $mtime;\npush(@{$self-&gt;{remove}}, {\n    file =&gt; $self-&gt;{dir} . '/' . $_, \n    mtime =&gt; $elapsed-&gt;in_units('days')\n}) \nif $elapsed-&gt;in_units('days') &gt; 10;\n</code></pre>\n\n<p>does not do what you expect.</p>\n\n<p>You could create a DateTime::Duration object of 10 days and compare to that. To do so, you would need a base datetime.</p>\n\n<p>For example</p>\n\n<pre><code>my $base = DateTime-&gt;now;\nmy $ten_days = DateTime::Duration-&gt;new( days =&gt; 10 );\n\nif ( DateTime::Duration-&gt;compare($elapsed,$ten_days,$base) == 1 ){\n    push(@{$self-&gt;{remove}}, {\n        file =&gt; $self-&gt;{dir} . '/' . $_, \n        mtime =&gt; $elapsed-&gt;in_units('days')\n    }) \n}\n</code></pre>\n\n<p>I would suggest, though, to simply calculate the seconds in 10 days and see if the time elapsed is bigger than that, as it seems much easier, and stat returns epoch anyway.</p>\n"}, {"comments": [{"owner": {"reputation": 541, "user_id": 196096, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a96f55ea446d1e9c2e5b4286bf432ee?s=128&d=identicon&r=PG", "display_name": "Mose", "link": "https://stackoverflow.com/users/196096/mose"}, "edited": false, "score": 0, "creation_date": 1495161627, "post_id": 44060040, "comment_id": 75146030, "body": "Apologies for the lack of completeness in the example. The piece I posted here is 1 method in a module that contains several, and posting the whole thing would have been both bloated and time consuming to sanitize.  For debug/testing I temporarily have the module doing <b>PACKAGE</b>-&gt;new-&gt;test to review output.  I&#39;ll try your example tomorrow and see how it works, I hadn&#39;t considered glob. I&#39;m not exactly a Perl pro, and most of my scripting doesn&#39;t deal with filesystems. Given the sensitive nature of the data I want to ensure I&#39;m approaching this the best way possible.  Will test 2morrow."}, {"owner": {"reputation": 541, "user_id": 196096, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a96f55ea446d1e9c2e5b4286bf432ee?s=128&d=identicon&r=PG", "display_name": "Mose", "link": "https://stackoverflow.com/users/196096/mose"}, "edited": false, "score": 0, "creation_date": 1495162259, "post_id": 44060040, "comment_id": 75146151, "body": "Also, I had initially started with -M, however $self-&gt;{stale} is storing age in minutes as opposed to days, whereas $self-&gt;{remove} is storing age in days. -M performs much better than leveraging DateTime, but I wasn&#39;t getting the results I had expected trying it (Dates/Times are a stumbling point for me) so I thought perhaps DateTime might be the safer option, albeit not the most ideal one."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1495158453, "last_edit_date": 1495158453, "creation_date": 1495157097, "answer_id": 44060040, "question_id": 44059292, "link": "https://stackoverflow.com/questions/44059292/error-in-elapsed-time-since-modification-of-file-using-datetime/44060040#44060040", "title": "Error in elapsed time since modification of file using &quot;DateTime&quot;", "body": "<p>Your question is hard to understand because you are writing an object-oriented module and then running it as a program. The code you show won't compile, mainly because <code>$self</code> is never declared or defined. If you hope for useful answers then please post a complete program that we can run and that demonstrates the problem that you are asking about</p>\n\n<p>I can't try your program and see the problem for myself, but there are two obvious improvements to make</p>\n\n<ul>\n<li><p>It is much easier to make a call to <code>glob</code> than to open and read a directory, remove the files that you don't want, and rebuild the path to each file by adding back the directory</p></li>\n<li><p>You can use the built-in <code>-M</code> operator to discover the age of a file in floating-point days</p></li>\n</ul>\n\n<p>I've written this, which creates an empty object in class <code>My::Class</code> and adds data to it. It includes the ideas I''ve talked about, but like your own code provides no output. Hopefully you will understand how to interpret this into your own structure</p>\n\n<p>The only problem you may have is that the <code>mtime</code> fields are floating-point days. You may want to apply <code>int</code> or <code>POSIX::ceil</code> depending on what those values are used for</p>\n\n<pre><code>use strict;\nuse warnings 'all';\n\nmy $self = bless { }, 'My::Class';\n\nmy @files = glob '/temp/text/*.txt';\n\nfor my $file ( @files ) {\n\n    my $age = -M $file;\n\n    if ( $age &gt;= 10.0 ) {\n\n        my $item = {\n            file  =&gt; $file,\n            mtime =&gt; $age,\n        };\n\n        push @{ $self-&gt;{remove} }, $item;\n\n        push @{ $self-&gt;{stale} },  $item if $age &gt;= 15.0;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 541, "user_id": 196096, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a96f55ea446d1e9c2e5b4286bf432ee?s=128&d=identicon&r=PG", "display_name": "Mose", "link": "https://stackoverflow.com/users/196096/mose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 44060040, "answer_count": 2, "score": -2, "last_activity_date": 1495550615, "creation_date": 1495150550, "last_edit_date": 1495550615, "question_id": 44059292, "link": "https://stackoverflow.com/questions/44059292/error-in-elapsed-time-since-modification-of-file-using-datetime", "title": "Error in elapsed time since modification of file using &quot;DateTime&quot;", "body": "<p>I am trying to clean up a rather large file system. I use the <code>stat</code> function to obtain the modification time of each file.</p>\n\n<p>According to <a href=\"https://perldoc.perl.org/functions/stat.html\" rel=\"nofollow noreferrer\" title=\"perldoc\"><code>perldoc -f stat</code></a>, the tenth element of the returned list is the last modified time in seconds since the epoch.</p>\n\n<p>I use <code>DateTime-&gt;from_epoch</code> and subtract <code>DateTime-&gt;now</code> to calculate the age of the fule</p>\n\n<pre><code>    #!/usr/bin/perl\n\n    use strict;\n    use warnings;\n\n    use DateTime;\n\n    my $now = DateTime-&gt;now();\n    #my $now = DateTime-&gt;now( time_zone =&gt; \"America/New_York\" );\n\n    $self-&gt;{dir} = '/tmp/test';\n    opendir(DIR, $self-&gt;{dir}) or die $@;\n    my @files = grep(/\\.txt$/, readdir(DIR));\n    closedir(DIR);\n\n    for ( @files ) {\n\n            my $file = stat($self-&gt;{dir} . '/' . $_);\n            my $mtime = DateTime-&gt;from_epoch(epoch =&gt; $file-&gt;mtime);\n            #my $mtime = DateTime-&gt;from_epoch(epoch =&gt; $file-&gt;mtime, time_zone=&gt; \"America/New_York\");\n            my $elapsed = $now - $mtime;\n            push(@{$self-&gt;{stale}}, {file =&gt; $self-&gt;{dir} . '/' . $_, mtime =&gt; $elapsed-&gt;in_units('minutes')}) if $elapsed-&gt;in_units('minutes') &gt; 15;\n            push(@{$self-&gt;{remove}}, {file =&gt; $self-&gt;{dir} . '/' . $_, mtime =&gt; $elapsed-&gt;in_units('days')}) if $elapsed-&gt;in_units('days') &gt; 10;\n    }\n</code></pre>\n\n<p>If I manually create test files and change the modification time, the result is off by 30 days</p>\n\n<pre><code>$ touch /tmp/test/test{100..104}.txt -d '-45 days'\n$ perl MTIME.pm \n$VAR1 = {\n          'mtime' =&gt; 15,\n          'file' =&gt; '/tmp/test/test100.txt'\n        }; $VAR1 = {\n          'mtime' =&gt; 15,\n          'file' =&gt; '/tmp/test/test104.txt'\n        }; $VAR1 = {\n          'mtime' =&gt; 15,\n          'file' =&gt; '/tmp/test/test103.txt'\n        }; $VAR1 = {\n          'mtime' =&gt; 15,\n          'file' =&gt; '/tmp/test/test101.txt'\n        }; $VAR1 = {\n          'mtime' =&gt; 15,\n          'file' =&gt; '/tmp/test/test102.txt'\n        };\n</code></pre>\n\n<p>I've tried <code>DateTime</code> objects both with and without the time zone set with no difference in results.</p>\n\n<pre><code>$ touch /tmp/test/test{100..104}.txt -d '-45 days'\n$ touch /tmp/test/test{105..110}.txt\n$ ll /tmp/test\ntotal 11\n-rw-r--r-- 1 root root    0 Apr  3 19:31 test100.txt\n-rw-r--r-- 1 root root    0 Apr  3 19:31 test101.txt\n-rw-r--r-- 1 root root    0 Apr  3 19:31 test102.txt\n-rw-r--r-- 1 root root    0 Apr  3 19:31 test103.txt\n-rw-r--r-- 1 root root    0 Apr  3 19:31 test104.txt\n-rw-r--r-- 1 root root    0 May 18 19:30 test105.txt\n-rw-r--r-- 1 root root    0 May 18 19:30 test106.txt\n-rw-r--r-- 1 root root    0 May 18 19:30 test107.txt\n-rw-r--r-- 1 root root    0 May 18 19:30 test108.txt\n-rw-r--r-- 1 root root    0 May 18 19:30 test109.txt\n-rw-r--r-- 1 root root    0 May 18 19:30 test110.txt\n</code></pre>\n\n<p>Working solution:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings 'all';\n\nuse Data::Dumper;\n\nmy $self = bless { }, 'My::Class';\n\nmy @files = glob '/tmp/test/*.txt';\n\nfor (@files) {\n        my $days = int(-M $_);\n        my $mins = int((time - (stat $_)[9]) / 60);\n        my $item = {\n                file  =&gt; $_,\n                days =&gt; $days,\n                minutes =&gt; $mins\n        };\n        push @{ $self-&gt;{remove} }, $item if $days &gt; 10;\n        push @{ $self-&gt;{stale} },  $item if $mins &gt; 15;\n}\n\nprint Dumper $self;\n</code></pre>\n"}, {"tags": ["perl", "data-dumper"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 2, "creation_date": 1495148814, "post_id": 44059074, "comment_id": 75143202, "body": "What exactly are you asking?"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1495149078, "post_id": 44059074, "comment_id": 75143269, "body": "In fact, it looks like someone has already reported this: <a href=\"https://pragprog.com/titles/swperl/errata\" rel=\"nofollow noreferrer\">pragprog.com/titles/swperl/errata</a>"}, {"owner": {"reputation": 87, "user_id": 8033725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae947d76e6ab360c79f28d3d1b9bfc5?s=128&d=identicon&r=PG&f=1", "display_name": "grjash", "link": "https://stackoverflow.com/users/8033725/grjash"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1495149772, "post_id": 44059074, "comment_id": 75143443, "body": "The only error reported was the &quot;objects&#39; / &#39;meals&#39; disagreement.  That&#39;s an obvious typo, but fixing it doesn&#39;t really help.  The example still won&#39;t produce anything like what is given as output."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1495149882, "post_id": 44059074, "comment_id": 75143464, "body": "The problem with your &quot;fixed&quot; example is that you have a syntax error: <code>Dumper{$complex_structure}</code> should be <code>Dumper($complex_structure)</code>. Your code was actually trying to create a new hash reference with an existing hash reference as the key."}, {"owner": {"reputation": 87, "user_id": 8033725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae947d76e6ab360c79f28d3d1b9bfc5?s=128&d=identicon&r=PG&f=1", "display_name": "grjash", "link": "https://stackoverflow.com/users/8033725/grjash"}, "reply_to_user": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 0, "creation_date": 1495150267, "post_id": 44059074, "comment_id": 75143560, "body": "OK, thanks, but that was my mistake."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1495150300, "post_id": 44059074, "comment_id": 75143573, "body": "Yes, I&#39;m aware."}], "answers": [{"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495151970, "post_id": 44059374, "comment_id": 75143938, "body": "<i>&quot;those things were blessed references&quot;</i> Don&#39;t fall into this very common trap. The <code>bless</code> operator will accept only a reference, but it is the target of that reference that becomes blessed."}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1495153418, "last_edit_date": 1495153418, "creation_date": 1495151225, "answer_id": 44059374, "question_id": 44059074, "link": "https://stackoverflow.com/questions/44059074/can-this-modern-perl-datadumper-example-be-fixed/44059374#44059374", "title": "Can this &quot;Modern Perl&quot; Data:Dumper example be fixed?", "body": "<p>The <code>bless</code> you're seeing in the sample output is because the <em>thingies</em> (<a href=\"http://perldoc.perl.org/functions/bless.html\" rel=\"nofollow noreferrer\">perldoc's wording</a>, not mine!) referred to by the references being dumped were \"blessed\", i.e. <em>objects</em>. If you call <code>bless</code> on a reference yourself and dump it, you will see the same thing.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Data::Dumper;\n\nmy $obj = bless( { foo =&gt; 1, bar =&gt; 2, baz =&gt; 3 } );\n\nprint Dumper($obj);\n</code></pre>\n\n<p>And, in fact, we do:</p>\n\n<pre><code>$VAR1 = bless( {\n                 'bar' =&gt; 2,\n                 'baz' =&gt; 3,\n                 'foo' =&gt; 1\n               }, 'main' );\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 8033725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae947d76e6ab360c79f28d3d1b9bfc5?s=128&d=identicon&r=PG&f=1", "display_name": "grjash", "link": "https://stackoverflow.com/users/8033725/grjash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1495153418, "creation_date": 1495148554, "last_edit_date": 1495150414, "question_id": 44059074, "link": "https://stackoverflow.com/questions/44059074/can-this-modern-perl-datadumper-example-be-fixed", "title": "Can this &quot;Modern Perl&quot; Data:Dumper example be fixed?", "body": "<p>The code is from \"Modern Perl Fourth Edition\", \"Book version P1.0--October 2015\".<br>\nIt's in chapter 3 - page 81 of the paper version, under the heading \"Debugging Nested Data Structures\".  The book is also available in a PDF version that can be downloaded at no cost.</p>\n\n<pre><code>use Data::Dumper;\n\nmy $complex_structure = {\n   numbers =&gt; [ 1 .. 3 ];\n   letters =&gt; [ 'a' .. 'c' ],\n   objects =&gt; {\n   breakfast =&gt; $continental,\n   lunch =&gt; $late_tea,\n   dinner =&gt; $banquet,\n   },\n};\n\nprint Dumper( $my_complex_structure );\n</code></pre>\n\n<p>\"This might produce something like the following:\"</p>\n\n<pre><code>$VAR1 = {\n   'numbers' =&gt; [\n                 1,\n                 2,\n                 3\n                ],\n  'letters' =&gt; [\n                'a',\n                'b',\n                 'c'\n               ],\n  'meals' =&gt; {\n      'dinner' =&gt; bless({...}, 'Dinner'),\n      'lunch' =&gt; bless({...}, 'Lunch'),\n      'breakfast' =&gt; bless({...}, 'Breakfast'),\n  },\n};\n</code></pre>\n\n<p>First, there are errors in the \"$complex_structure\" code.<br>\nThere should be a comma, not a semicolon after the \"numbers\" line.<br>\nThe variables $continental, $late_tea, and $banquet are not declared or initialized.<br>\nDumper() is called with a wrong name : \"$my_complex_structure\".<br><br>\nThe variable $objects in the code somehow becomes 'meals'in the output.<br></p>\n\n<p>I'm not sure this is wrong, but wonder where the \"bless\"es come from.<br> Due to the errors, I can't really determine what the author meant to demonstrate, but \"Objects\" aren't covered until chapter 7 of the book<br></p>\n\n<p>Here is what I wrote as an attempt to fix the (simplified) example, considering material in earlier examples about hash references and anonymous hashes:</p>\n\n<pre><code>use Data::Dumper;\n\nmy $continental = {entree =&gt; 'eggs', side =&gt; 'hash browns'};\n\n\nmy $complex_structure =\n{\n   numbers =&gt; [1 .. 3],\n   letters =&gt; ['a' .. 'c'],\n   objects =&gt; {\n                  breakfast =&gt; $continental,          \n              },\n};\n\nprint Dumper($complex_structure);\n</code></pre>\n\n<p>I had an error in the previous call, and, after fixing it, this new code \"works\" in producing output as expected, but I'm still puzzled - especially about the \"bless\"es seen in the book's output.</p>\n\n<p>I have no experience with Data::Dumper.<br> \nDoes the original example make enough sense so that it can somehow be modified to run and produce what the author expected?   Should there be any \"bless\"es expected when something like \"$complex_structure\" in the book's example is dumped?</p>\n"}, {"tags": ["perl", "cpan", "dancer"], "answers": [{"comments": [{"owner": {"reputation": 936, "user_id": 2066126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/224ed6420ee88dea389bb21ca1cfa0aa?s=128&d=identicon&r=PG", "display_name": "TheAmigo", "link": "https://stackoverflow.com/users/2066126/theamigo"}, "edited": false, "score": 0, "creation_date": 1495198868, "post_id": 44058859, "comment_id": 75165503, "body": "I was thinking along those lines... just suprised it didn&#39;t get caught by CPAN testers.  I took your advice and did a force... no other errors, guess I&#39;ll try using it and see how it goes."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": true, "score": 1, "last_activity_date": 1495147178, "creation_date": 1495147178, "answer_id": 44058859, "question_id": 44058647, "link": "https://stackoverflow.com/questions/44058647/failed-tests-building-dancer2pluginauthoauth-from-cpan/44058859#44058859", "title": "Failed tests building Dancer2::Plugin::Auth::OAuth from CPAN", "body": "<p>That looks to me like a bugged test</p>\n\n<p>Perl uses <code>0</code>, <code>\"0\"</code>, <code>\"\"</code> and <code>undef</code> as <em>false</em>, and everything else is <em>true</em></p>\n\n<p>This output</p>\n\n<pre><code>#          $got-&gt;{user_info}{site_admin} = 'false'\n#     $expected-&gt;{user_info}{site_admin} = '0'\n</code></pre>\n\n<p>says that the hash element was set to the string <code>false</code> when the test expected a zero</p>\n\n<p>Since this is only two out of 55 tests that is giving a problem, I would <em>force</em> the installation using</p>\n\n<pre><code>cpan -f Dancer2::Plugin::Auth::OAuth\n</code></pre>\n"}], "owner": {"reputation": 936, "user_id": 2066126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/224ed6420ee88dea389bb21ca1cfa0aa?s=128&d=identicon&r=PG", "display_name": "TheAmigo", "link": "https://stackoverflow.com/users/2066126/theamigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 44058859, "answer_count": 1, "score": 0, "last_activity_date": 1495147178, "creation_date": 1495145939, "question_id": 44058647, "link": "https://stackoverflow.com/questions/44058647/failed-tests-building-dancer2pluginauthoauth-from-cpan", "title": "Failed tests building Dancer2::Plugin::Auth::OAuth from CPAN", "body": "<p>I'm trying to build the <a href=\"http://search.cpan.org/~blom/Dancer2-Plugin-Auth-OAuth/lib/Dancer2/Plugin/Auth/OAuth.pm\" rel=\"nofollow noreferrer\">Dancer2::Plugin::Auth::OAuth</a> module from CPAN.  The test fails with:</p>\n\n<pre><code>Running Build test\nt/01-dancer.t .......... 1/? \n#   Failed test '[github] Session data'\n#   at t/01-dancer.t line 238.\n#     Structures begin differing at:\n#          $got-&gt;{user_info}{site_admin} = 'false'\n#     $expected-&gt;{user_info}{site_admin} = '0'\n\n#   Failed test '[stackexchange] Session data'\n#   at t/01-dancer.t line 238.\n#     Structures begin differing at:\n#          $got-&gt;{user_info}{has_more} = 'false'\n#     $expected-&gt;{user_info}{has_more} = '0'\n# Looks like you failed 2 tests of 55.\n</code></pre>\n\n<p>But the <a href=\"http://www.cpantesters.org/distro/D/Dancer2-Plugin-Auth-OAuth.html#Dancer2-Plugin-Auth-OAuth-0.11\" rel=\"nofollow noreferrer\">CPAN testers reports</a> are all green for Linux so it's probably something wrong on my system.</p>\n\n<p>What should I look at?</p>\n\n<p>OS: CentOS 7.3<br/>\nPerl: 5.16.3 (distro package)</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1495145207, "post_id": 44057901, "comment_id": 75141959, "body": "See <a href=\"https://learn.perl.org/\" rel=\"nofollow noreferrer\">learn.perl.org</a> and <a href=\"http://perl-tutorial.org/\" rel=\"nofollow noreferrer\">perl-tutorial.org</a>"}, {"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 1, "creation_date": 1495145997, "post_id": 44057901, "comment_id": 75142306, "body": "When you use <a href=\"https://metacpan.org/pod/Perl::Critic::Policy::References::ProhibitDoubleSigils\" rel=\"nofollow noreferrer\"><code>perlcritic</code> and Perl Best Practices</a>"}, {"owner": {"reputation": 87649, "user_id": 17389, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=128&d=identicon&r=PG", "display_name": "ysth", "link": "https://stackoverflow.com/users/17389/ysth"}, "edited": false, "score": 0, "creation_date": 1495156483, "post_id": 44057901, "comment_id": 75144896, "body": "<a href=\"http://perlmonks.org/?node=References+quick+reference\" rel=\"nofollow noreferrer\">perlmonks.org/?node=References+quick+reference</a>"}, {"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 0, "creation_date": 1495200071, "post_id": 44057901, "comment_id": 75166360, "body": "Note that <code>%{}</code> and <code>@{}</code> are sometimes referred to as the &quot;circumfix operators&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 25180, "user_id": 1849664, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9278dc00e1a8755dc2de02b6a908a15a?s=128&d=identicon&r=PG", "display_name": "Undo", "link": "https://stackoverflow.com/users/1849664/undo"}, "edited": false, "score": 3, "creation_date": 1495164120, "post_id": 44058141, "comment_id": 75146540, "body": "I&#39;ve purged all the comments here. Be civil, folks."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 2, "last_activity_date": 1495144819, "last_edit_date": 1495144819, "creation_date": 1495143316, "answer_id": 44058141, "question_id": 44057901, "link": "https://stackoverflow.com/questions/44057901/when-is-it-advantageous-to-use-curly-braces-for-dereferencing-in-perl/44058141#44058141", "title": "When is it advantageous to use curly braces for dereferencing in Perl?", "body": "<p>Your code is <strong><em>primarily</em></strong> for other people and the compiler/interpreter to read. Junior programmers often tend to treat their creations as being purely for their own consumption, as a sort of living notepad, but there really are much better ways of writing design notes than encoding them in a programming language.</p>\n\n<p>It's about explaining clearly to the (human) reader what your code is doing. Your example of <code>@$array_ref</code> (apart from being pointless unless you really need two copies of the same list of data) is fine, but how would you read <code>$$array_ref{key}</code>?</p>\n\n<p>Most people don't hold the table of operator precedence in their heads, so it's a lot easier to <em>explain</em> your intention by writing either <code>$array_ref-&gt;{key}</code> or <code>${ $array_ref{key} }</code> depending on what you mean</p>\n\n<p>Given that you mention this</p>\n\n<pre><code>&amp;{$hash{frogs}}()\n</code></pre>\n\n<p>I think you're reading something that is either rather old, or written by someone who doesn't know Perl especially well. The <code>&amp;</code> prefix is required only when you're referring to the subroutine as a first-class data object, such as fetching a reference, and just calling the subroutine isn't one of those</p>\n\n<p>Perl allows you to omit the indirect operator <code>-&gt;</code> between consecutive pairs of closing and opening brackets, but it's often clearer to include it. I generally omit it between curly and square brackets (indexing hashes or arrays) but keep it in for procedure calls</p>\n\n<p>I would write that line as</p>\n\n<pre><code>$hash{frogs}-&gt;()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 30491, "user_id": 1029146, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a659be962c006e43e110b5a9dfda538e?s=128&d=identicon&r=PG", "display_name": "temporary_user_name", "link": "https://stackoverflow.com/users/1029146/temporary-user-name"}, "edited": false, "score": 0, "creation_date": 1495157306, "post_id": 44060022, "comment_id": 75145089, "body": "In my second example, with the hash, isn&#39;t that simplified despite consisting of more than a scalar? I don&#39;t see the difference between my hash example and your <code>@{ $refs{$key} } </code> example."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 30491, "user_id": 1029146, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a659be962c006e43e110b5a9dfda538e?s=128&d=identicon&r=PG", "display_name": "temporary_user_name", "link": "https://stackoverflow.com/users/1029146/temporary-user-name"}, "edited": false, "score": 0, "creation_date": 1495157753, "post_id": 44060022, "comment_id": 75145194, "body": "@Aerovistae, No. You didn&#39;t simply (omit the curlies), you used an entirely different syntax. There are <a href=\"http://www.perlmonks.org/?node_id=977408\" rel=\"nofollow noreferrer\">two syntax to dereference</a>, specifically <code>&amp;BLOCK()</code> and <code>EXPR-&gt;()</code> for code refs, and you switched from the former to the latter. The arrow (<code>-&gt;</code>) deference syntax is generally thought to be more readable, and while the arrow can be omitted between indexes and between an index and a param list, most people keep it between an index and a param list for readability."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 30491, "user_id": 1029146, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a659be962c006e43e110b5a9dfda538e?s=128&d=identicon&r=PG", "display_name": "temporary_user_name", "link": "https://stackoverflow.com/users/1029146/temporary-user-name"}, "edited": false, "score": 0, "creation_date": 1495157944, "post_id": 44060022, "comment_id": 75145232, "body": "If you had done the same thing for arrays as you had done for the code ref, you would have used <code>$array_ref-&gt;@*</code>, not <code>@$array_ref</code>"}, {"owner": {"reputation": 30491, "user_id": 1029146, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a659be962c006e43e110b5a9dfda538e?s=128&d=identicon&r=PG", "display_name": "temporary_user_name", "link": "https://stackoverflow.com/users/1029146/temporary-user-name"}, "edited": false, "score": 0, "creation_date": 1495159373, "post_id": 44060022, "comment_id": 75145508, "body": "I understood everything you said, that&#39;s very clear, except the asterisk in <code>$array_ref-&gt;@*</code>. Is that just a stand-in to indicate that something goes there, or is there literally supposed to be an asterisk?"}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "reply_to_user": {"reputation": 30491, "user_id": 1029146, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a659be962c006e43e110b5a9dfda538e?s=128&d=identicon&r=PG", "display_name": "temporary_user_name", "link": "https://stackoverflow.com/users/1029146/temporary-user-name"}, "edited": false, "score": 0, "creation_date": 1495159520, "post_id": 44060022, "comment_id": 75145547, "body": "Literally supposed to be an asterisk."}], "tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": true, "score": 8, "last_activity_date": 1586291503, "last_edit_date": 1586291503, "creation_date": 1495156935, "answer_id": 44060022, "question_id": 44057901, "link": "https://stackoverflow.com/questions/44057901/when-is-it-advantageous-to-use-curly-braces-for-dereferencing-in-perl/44060022#44060022", "title": "When is it advantageous to use curly braces for dereferencing in Perl?", "body": "<p>You are conflating two concepts.</p>\n\n<p>The first thing you need to learn is that there is there are <a href=\"http://www.perlmonks.org/?node_id=977408\" rel=\"nofollow noreferrer\">two syntaxes</a> for deferencing.</p>\n\n<pre><code> Circumfix            Postfix\n \"Block syntax\"       \"Arrow syntax\"\n\n $BLOCK               EXPR-&gt;$*\n @BLOCK               EXPR-&gt;@*\n $BLOCK[$i]           EXPR-&gt;[$i]\n &amp;BLOCK()             EXPR-&gt;()\n ...                  ...\n</code></pre>\n\n<p>Furthermore, both syntax have a simplification available to them.</p>\n\n<hr>\n\n<p>Your array example is an example of a simplification available to the block syntax. If the block contains nothing but a simple scalar (<code>$ref</code>), you can omit the curlies.</p>\n\n<pre><code>${ $ref }                   # Can be simplified to $$ref\n@{ $ref }                   # Can be simplified to @$ref\n${ $ref }[$i]               # Can be simplified to $$ref[$i]\n&amp;{ $ref }()                 # Can be simplified to &amp;$ref()\n</code></pre>\n\n<p>If the block contains anything else, you can't avail yourself of this simplification.</p>\n\n<pre><code>@{ $refs{$key} }            # Can't be simplified\n@{ f() }                    # Can't be simplified\n@{ my $ref = f(); $ref }    # Can't be simplified\n\n&amp;{ $refs{$key} }()          # Can't be simplified\n&amp;{ f() }()                  # Can't be simplified\n&amp;{ my $ref = f(); $ref }    # Can't be simplified\n</code></pre>\n\n<hr>\n\n<p>Your code ref example, on the other hand, is an example of the switching from the block syntax to the arrow syntax. It's not a simplification <em>per se</em>.</p>\n\n<pre><code>\"Block syntax\"               \"Arrow syntax\"\n&amp;{ $hash{frogs} }()    \u21d2     $hash{frogs}-&gt;()\n</code></pre>\n\n<hr>\n\n<p>Your code ref example is also an example of a simplification available to the arrow syntax. When the arrow is between <code>[...]</code> or <code>{...}</code>, and <code>[...]</code>, <code>{...}</code> or <code>(...)</code>, the arrow can be omitted.</p>\n\n<pre><code>$ref-&gt;{$k}-&gt;[$i]            # Can be simplified to $ref-&gt;{$k}[$i]\n$ref-&gt;{$k}-&gt;{$l}            # Can be simplified to $ref-&gt;{$k}{$l}\n$ref-&gt;{$k}-&gt;()              # Can be simplified to $ref-&gt;{$k}()\n\n$ref-&gt;[$i]-&gt;[$j]            # Can be simplified to $ref-&gt;[$i][$j]\n$ref-&gt;[$i]-&gt;{$k}            # Can be simplified to $ref-&gt;[$i]{$k}\n$ref-&gt;[$i]-&gt;()              # Can be simplified to $ref-&gt;[$i]()\n</code></pre>\n\n<hr>\n\n<p>Finally, which should you use?</p>\n\n<p>The choice of whether to the block syntax or the arrow syntax is one of personal preference, but the following conventions are usually followed to maximize readability:</p>\n\n<ul>\n<li><p>The block syntax is preferred for scalar, array and hash dereferences.</p>\n\n<pre><code>$$ref                is generally preferred over     $ref-&gt;$*\n@$ref                is generally preferred over     $ref-&gt;@*\n%$ref                is generally preferred over     $ref-&gt;%*\n</code></pre></li>\n<li><p>When using the block syntax, curlies are omitted if possible.</p>\n\n<pre><code>$$ref                is generally preferred over     ${ $ref }\n@$ref                is generally preferred over     @{ $ref }\n%$ref                is generally preferred over     %{ $ref }\n</code></pre></li>\n<li><p>The arrow syntax is preferred for array element, hash element and code dereferences.</p>\n\n<pre><code>$ref-&gt;[...]          is generally preferred over     $$ref[...]\n$ref-&gt;{...}          is generally preferred over     $$ref{...}\n$ref-&gt;(...)          is generally preferred over     &amp;$ref(...)\n</code></pre></li>\n<li><p>The arrow itself is omitted when possible, except when used to deference code.</p>\n\n<pre><code>$ref-&gt;[...][...]     is generally preferred over     $ref-&gt;[...]-&gt;[...]\n$ref-&gt;[...]{...}     is generally preferred over     $ref-&gt;[...]-&gt;{...}\n$ref-&gt;[...]-&gt;(...)   is generally preferred over     $ref-&gt;[...](...)\n$ref-&gt;{...}[...]     is generally preferred over     $ref-&gt;{...}-&gt;[...]\n$ref-&gt;{...}{...}     is generally preferred over     $ref-&gt;{...}-&gt;{...}\n$ref-&gt;{...}-&gt;(...)   is generally preferred over     $ref-&gt;{...}(...)\n</code></pre></li>\n<li><p>The block syntax is preferred for array slices and hash slices. It's far less readable than the arrow syntax, but the arrow syntax for these requires Perl 5.24.</p>\n\n<pre><code>@$ref[...]           is generally preferred over     $ref-&gt;@[...]\n@$ref{...}           is generally preferred over     $ref-&gt;@{...}\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 30491, "user_id": 1029146, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a659be962c006e43e110b5a9dfda538e?s=128&d=identicon&r=PG", "display_name": "temporary_user_name", "link": "https://stackoverflow.com/users/1029146/temporary-user-name"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 744, "favorite_count": 1, "accepted_answer_id": 44060022, "answer_count": 2, "score": -4, "last_activity_date": 1586291503, "creation_date": 1495142135, "last_edit_date": 1495142329, "question_id": 44057901, "link": "https://stackoverflow.com/questions/44057901/when-is-it-advantageous-to-use-curly-braces-for-dereferencing-in-perl", "title": "When is it advantageous to use curly braces for dereferencing in Perl?", "body": "<p>I saw a bit of code that went like this~</p>\n\n<pre><code>my @array = @{ $array_ref };\n</code></pre>\n\n<p>And I found that it works just the same if I change it to~</p>\n\n<pre><code>my @array = @$array_ref;\n</code></pre>\n\n<p>Likewise, this~</p>\n\n<pre><code>my %hash = (frogs =&gt; sub {print \"Frogs\\n\"});\n&amp;{$hash{frogs}}();\n</code></pre>\n\n<p>Works just the same as~</p>\n\n<pre><code>%hash = (frogs =&gt; sub {print \"Frogs\\n\"});\n$hash{frogs}();\n</code></pre>\n\n<p>(Although I initially tried that as <code>&amp;hash{frogs}();</code> expecting it to work, with a resulting error I did not understand-- shouldn't the sigil correspond to the thing being accessed in the hash, in this case <code>&amp;</code> for a subroutine?)</p>\n\n<p>So I am wondering why the authors of these snippets would have written them the other way, when it's extra characters without any advantage that I can perceive.</p>\n\n<p>Is something going on here which I'm not noticing? When might there be a situation where you <em>need</em> to use the curly braces instead of just the sigil?</p>\n"}, {"tags": ["perl", "openssl", "centos", "lwp"], "comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495134463, "post_id": 44055729, "comment_id": 75136896, "body": "<code>use warnings &#39;all&#39;</code> should <i>always</i> accompany <code>use strict</code>"}, {"owner": {"reputation": 167, "user_id": 3244893, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c1bb849ea707f3fce61390099e55379?s=128&d=identicon&r=PG&f=1", "display_name": "Dbl0McJim", "link": "https://stackoverflow.com/users/3244893/dbl0mcjim"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495134837, "post_id": 44055729, "comment_id": 75137108, "body": "I added use warnings &#39;all&#39;; but it doesn&#39;t change the output."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495135400, "post_id": 44055729, "comment_id": 75137401, "body": "No, it probably wouldn&#39;t. That&#39;s why I wrote a comment instead of an answer."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495140401, "post_id": 44055729, "comment_id": 75139964, "body": "I explained what I believe is the simplest way for you to install the required packages and their dependencies. Bear in mind that there is some risk involved in this, so make sure you have a way to undo the changes before you attempt it."}], "answers": [{"tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1495135159, "last_edit_date": 1495135159, "creation_date": 1495134839, "answer_id": 44056101, "question_id": 44055729, "link": "https://stackoverflow.com/questions/44055729/why-does-lwp-fail-to-connect-with-500-ssl-negotiation-failed/44056101#44056101", "title": "Why does LWP fail to connect with &quot;500 SSL negotiation failed&quot;?", "body": "<p>There is no need for <code>''.HANDLER_URL</code>. It looks ugly, and <code>HANDLER_URL</code> is fine</p>\n\n<p>You don't explain what is in <code>$row</code> or what the <code>POST</code> call requires, but it looks like this</p>\n\n<pre><code>my $req = POST ''.HANDLER_URL, [ %$row ]; \nmy $res = $ua-&gt;request($req);\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>my $res = $ua-&gt;post(HANDLER_URL, $row);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495135651, "post_id": 44056261, "comment_id": 75137533, "body": "Thank you. I hadn&#39;t caught up with that."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495135806, "post_id": 44056261, "comment_id": 75137620, "body": "@Borodin I am familiar with the debug messages as I maintain that package in a state of coma ;-)"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 167, "user_id": 3244893, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c1bb849ea707f3fce61390099e55379?s=128&d=identicon&r=PG&f=1", "display_name": "Dbl0McJim", "link": "https://stackoverflow.com/users/3244893/dbl0mcjim"}, "edited": false, "score": 1, "creation_date": 1495137023, "post_id": 44056261, "comment_id": 75138274, "body": "@Dbl0McJim: <i>FnG</i> is inappropriate here. Please be more careful with your language. How do you think that first clause improved you post?"}, {"owner": {"reputation": 167, "user_id": 3244893, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c1bb849ea707f3fce61390099e55379?s=128&d=identicon&r=PG&f=1", "display_name": "Dbl0McJim", "link": "https://stackoverflow.com/users/3244893/dbl0mcjim"}, "edited": false, "score": 0, "creation_date": 1495137977, "post_id": 44056261, "comment_id": 75138769, "body": "lol, sorry for the language - meant nothing by it. Though I believe I was able to install the package, including dependencies without error. However, nothing changes with the output of the command. Do I have to &quot;use&quot; this package specifically? Or update any other perl modules so that this new module is used? Thanks"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495138095, "post_id": 44056261, "comment_id": 75138841, "body": "The script might be forcing <code>LWP</code> to use <code>Crypt::SSLeay</code> by using one of <a href=\"https://metacpan.org/pod/Crypt::SSLeay#DO-YOU-NEED-Crypt::SSLeay?\" rel=\"nofollow noreferrer\">these methods</a> ... Make sure none of those three methods is being used in the script."}, {"owner": {"reputation": 167, "user_id": 3244893, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c1bb849ea707f3fce61390099e55379?s=128&d=identicon&r=PG&f=1", "display_name": "Dbl0McJim", "link": "https://stackoverflow.com/users/3244893/dbl0mcjim"}, "edited": false, "score": 0, "creation_date": 1495138202, "post_id": 44056261, "comment_id": 75138885, "body": "I&#39;m not seeing those, the use statements mentioned above are the only ones included in the script."}, {"owner": {"reputation": 89568, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 167, "user_id": 3244893, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c1bb849ea707f3fce61390099e55379?s=128&d=identicon&r=PG&f=1", "display_name": "Dbl0McJim", "link": "https://stackoverflow.com/users/3244893/dbl0mcjim"}, "edited": false, "score": 1, "creation_date": 1495138371, "post_id": 44056261, "comment_id": 75138973, "body": "@Dbl0McJim: according to <a href=\"http://mirror.centos.org/centos/6/os/x86_64/Packages/\" rel=\"nofollow noreferrer\">mirror.centos.org/centos/6/os/x86_64/Packages</a> CentOS 6 comes  with an old version of LWP (5.833) which still defaults to Crypt::SSLeay. Better upgrade the LWP version too."}, {"owner": {"reputation": 167, "user_id": 3244893, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c1bb849ea707f3fce61390099e55379?s=128&d=identicon&r=PG&f=1", "display_name": "Dbl0McJim", "link": "https://stackoverflow.com/users/3244893/dbl0mcjim"}, "edited": false, "score": 0, "creation_date": 1495139146, "post_id": 44056261, "comment_id": 75139373, "body": "@Sinan&#220;n&#252;r, you&#39;re correct, it does not use the system perl. Is there any way to copy over those newly installed libraries?"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 167, "user_id": 3244893, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c1bb849ea707f3fce61390099e55379?s=128&d=identicon&r=PG&f=1", "display_name": "Dbl0McJim", "link": "https://stackoverflow.com/users/3244893/dbl0mcjim"}, "edited": false, "score": 1, "creation_date": 1495141411, "post_id": 44056261, "comment_id": 75140439, "body": "@Dbl0McJim: Please don&#39;t <i>lol</i> at us. It is you who is the foolish one."}, {"owner": {"reputation": 167, "user_id": 3244893, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c1bb849ea707f3fce61390099e55379?s=128&d=identicon&r=PG&f=1", "display_name": "Dbl0McJim", "link": "https://stackoverflow.com/users/3244893/dbl0mcjim"}, "edited": false, "score": 1, "creation_date": 1495145729, "post_id": 44056261, "comment_id": 75142191, "body": "@Sinan&#220;n&#252;r, thank you for all the info. I was able to use cpan to install the newer modules, and included the library path in the script, so it used the newer version. I had to include use IO::Socket::SSL to get it to actually use TLS, but it worked. Thank you very much!"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 167, "user_id": 3244893, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c1bb849ea707f3fce61390099e55379?s=128&d=identicon&r=PG&f=1", "display_name": "Dbl0McJim", "link": "https://stackoverflow.com/users/3244893/dbl0mcjim"}, "edited": false, "score": 0, "creation_date": 1495152195, "post_id": 44056261, "comment_id": 75143973, "body": "@Dbl0McJim You are welcome, but you shouldn&#39;t have to <code>use IO::Socket::SSL</code> explicitly. That indicates a problem you should look into. Glad the upgrade went OK."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 3, "last_activity_date": 1495139813, "last_edit_date": 1495139813, "creation_date": 1495135476, "answer_id": 44056261, "question_id": 44055729, "link": "https://stackoverflow.com/questions/44055729/why-does-lwp-fail-to-connect-with-500-ssl-negotiation-failed/44056261#44056261", "title": "Why does LWP fail to connect with &quot;500 SSL negotiation failed&quot;?", "body": "<p>You seem to be relying on <a href=\"https://metacpan.org/pod/Crypt::SSLeay\" rel=\"nofollow noreferrer\">Crypt::SSLeay</a>. You shouldn't. It's outdated and incomplete.</p>\n\n<p>Install the latest <a href=\"https://metacpan.org/pod/LWP::Protocol::https\" rel=\"nofollow noreferrer\">LWP::Protocol::https</a> which will upgrade your LWP and install the preferred SSL/TLS stack consisting of the <a href=\"https://metacpan.org/pod/IO::Socket::SSL\" rel=\"nofollow noreferrer\">IO::Socket::SSL</a> and <a href=\"https://metacpan.org/pod/Net::SSLeay\" rel=\"nofollow noreferrer\">Net::SSLeay</a>.</p>\n\n<p>A <a href=\"https://altlinux.pkgs.org/sisyphus/classic-noarch/perl-LWP-Protocol-https-6.07-alt1.noarch.rpm.html\" rel=\"nofollow noreferrer\">web search shows</a> there are CentOS6 repositories with RPM packages for <code>LWP::Protocol::https</code>.</p>\n\n<p>The server has disabled SSLv3 support which means the negotiation fails.</p>\n\n<p>Once you install the package, if you are still seeing the same error, make sure your script is not forcing the use of <code>Crypt::SSLeay</code>. That is, make sure none of the following appears anywhere in your script:</p>\n\n<pre><code>use Net::HTTPS;\n$Net::HTTPS::SSL_SOCKET_CLASS = 'Net::SSL';\n</code></pre>\n\n<p>or </p>\n\n<pre><code>local $ENV{PERL_NET_HTTPS_SSL_SOCKET_CLASS} = 'Net::SSL';\n</code></pre>\n\n<p>or</p>\n\n<pre><code>use Net::SSL;\n</code></pre>\n\n<p>If you are still running into problems, make sure there is no <code>PERL_NET_HTTPS_SSL_SOCKET_CLASS</code> environment variable in the script's run time environment.</p>\n\n<p>Also, try</p>\n\n<pre><code>$ /var/hvmail/libexec/perl -MNet::SSLeay -le 'print $Net::SSLeay::VERSION'\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$ /var/hvmail/libexec/perl -MLWP::Protocol::https -le 'print $LWP::Protocol::https::VERSION`'\n</code></pre>\n\n<p>and report the output.</p>\n\n<p>I suspect the issue is that the new packages were installed for the system's <code>perl</code> whereas it seems you may have a separate <code>perl</code>.</p>\n\n<p>If that is the case, you should install each package individually using <code>/var/hvmail/libexec/perl</code>. For example:</p>\n\n<pre><code>$ curl -O https://cpan.metacpan.org/authors/id/M/MI/MIYAGAWA/App-cpanminus-1.7043.tar.gz\n$ tar xvf App-cpanminus-1.7043.tar.gz\n$ cd App-cpanminus-1.7043\n$ /var/hvmail/libexec/perl Makefile.PL\n$ make install\n</code></pre>\n\n<p>Figure out where <code>cpanm</code> was installed. I am hoping <code>/var/hvmail/libexec</code>.</p>\n\n<pre><code>$ /var/hvmail/libexec/cpanm LWP::Protocol::https\n</code></pre>\n\n<p>See also <a href=\"https://www.nu42.com/2012/05/updating-all-outdated-perl-modules.html\" rel=\"nofollow noreferrer\">Updating all outdated Perl modules</a>, but that may be risky on a production. Still, installing <a href=\"https://metacpan.org/pod/App::cpanoutdated\" rel=\"nofollow noreferrer\">App::cpanoutdated</a>, and seeing how outdated your Perl modules are might be useful</p>\n\n<p>Now, keep in mind that tinkering with a production install like this is risky. Make sure you have a way to undo changes in case something goes wrong.</p>\n\n<p>Finally, note that <a href=\"https://www.openssl.org/policies/releasestrat.html\" rel=\"nofollow noreferrer\">OpenSSL 1.0.1 versions are no longer supported</a>:</p>\n\n<blockquote>\n  <p>With regards to current and future releases the OpenSSL project has adopted the following policy:</p>\n  \n  <ul>\n  <li>Version 1.1.0 will be supported until 2018-08-31.</li>\n  <li>Version 1.0.2 will be supported until 2019-12-31 (LTS).</li>\n  <li>Version 1.0.1 is no longer supported.</li>\n  <li>Version 1.0.0 is no longer supported.</li>\n  <li>Version 0.9.8 is no longer supported.</li>\n  </ul>\n</blockquote>\n"}], "owner": {"reputation": 167, "user_id": 3244893, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3c1bb849ea707f3fce61390099e55379?s=128&d=identicon&r=PG&f=1", "display_name": "Dbl0McJim", "link": "https://stackoverflow.com/users/3244893/dbl0mcjim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8041, "favorite_count": 1, "accepted_answer_id": 44056261, "answer_count": 2, "score": 0, "last_activity_date": 1495141777, "creation_date": 1495133489, "last_edit_date": 1495141777, "question_id": 44055729, "link": "https://stackoverflow.com/questions/44055729/why-does-lwp-fail-to-connect-with-500-ssl-negotiation-failed", "title": "Why does LWP fail to connect with &quot;500 SSL negotiation failed&quot;?", "body": "\n\n<p>My Perl script sends some information to a remote server.</p>\n\n<p>Below is a portion of the code</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/var/hvmail/libexec/perl\n\nuse strict;\n\nuse HTTP::Request::Common qw(POST);\nuse LWP::UserAgent;\n\nuse constant HANDLER_URL =&gt; \"https://www.website.com/handler.php\";\n\n$ENV{HTTPS_DEBUG} = 1;\n\nmy $ua = LWP::UserAgent-&gt;new;\n\n# Some DB stuff, not applicable\nmy $row; # This is a DB row ($sth-&gt;fetchrow_hashref())   \n\nmy $req = POST ''.HANDLER_URL, [ %$row ]; \nmy $res = $ua-&gt;request($req);\n</code></pre>\n\n<p><code>$res-&gt;is_success</code> is <em>false</em> with <code>$res-&gt;status_line</code> being</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>500 SSL negotiation failed\n</code></pre>\n\n<p>We are running CentOS 6.4, Perl 5.10.1, OpenSSL 1.0.1e-fips.</p>\n\n<h3>Update</h3>\n\n<p>Here's the full output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>SSL_connect:before/connect initialization\nSSL_connect:SSLv2/v3 write client hello A\nSSL3 alert read:fatal:handshake failure\nSSL_connect:error in SSLv2/v3 read server hello A\nSSL_connect:before/connect initialization\nSSL_connect:SSLv3 write client hello A\nSSL3 alert read:fatal:handshake failure\nSSL_connect:failed in SSLv3 read server hello A\nSSL_connect:before/connect initialization\nSSL_connect:SSLv2 write client hello A\nSSL_connect:failed in SSLv2 read server hello A\nError: [ 500 SSL negotiation failed:  ]\n</code></pre>\n\n<h3>Requested Command Output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>Can't locate Net/SSLeay.pm\nCan't locate LWP/Protocol/https.pm\n</code></pre>\n"}, {"tags": ["perl", "file", "hash"], "comments": [{"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "edited": false, "score": 1, "creation_date": 1495132148, "post_id": 44055062, "comment_id": 75135607, "body": "Your main problem is that you&#39;ve specified a limit of 2 in your <code>split</code>, which will give you at most 2 fields: the first name, and then everything else."}], "answers": [{"comments": [{"owner": {"reputation": 54, "user_id": 6656164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5yf0.jpg?s=128&g=1", "display_name": "Wisdom Hambolu", "link": "https://stackoverflow.com/users/6656164/wisdom-hambolu"}, "edited": false, "score": 0, "creation_date": 1495132999, "post_id": 44055278, "comment_id": 75136076, "body": "Please can you guide me on how to print the hash without the data dump, using a print statement for example. I am still learning perl. Thanks"}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 54, "user_id": 6656164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5yf0.jpg?s=128&g=1", "display_name": "Wisdom Hambolu", "link": "https://stackoverflow.com/users/6656164/wisdom-hambolu"}, "edited": false, "score": 0, "creation_date": 1495133193, "post_id": 44055278, "comment_id": 75136185, "body": "@WisdomHambolu Edited answer to show a loop over the keys of <code>%data</code>."}, {"owner": {"reputation": 54, "user_id": 6656164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5yf0.jpg?s=128&g=1", "display_name": "Wisdom Hambolu", "link": "https://stackoverflow.com/users/6656164/wisdom-hambolu"}, "edited": false, "score": 0, "creation_date": 1495133522, "post_id": 44055278, "comment_id": 75136390, "body": "This was basically the logic i was missing &quot;The first two fields are joined on  &#39; &#39;, and the remaining fields are left as an array reference&quot; . Thanks @MattJacob this was really helpful."}, {"owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "reply_to_user": {"reputation": 54, "user_id": 6656164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5yf0.jpg?s=128&g=1", "display_name": "Wisdom Hambolu", "link": "https://stackoverflow.com/users/6656164/wisdom-hambolu"}, "edited": false, "score": 0, "creation_date": 1495133573, "post_id": 44055278, "comment_id": 75136417, "body": "@WisdomHambolu That, and you were only getting the first field, not the first two fields."}, {"owner": {"reputation": 54, "user_id": 6656164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5yf0.jpg?s=128&g=1", "display_name": "Wisdom Hambolu", "link": "https://stackoverflow.com/users/6656164/wisdom-hambolu"}, "edited": false, "score": 0, "creation_date": 1495133616, "post_id": 44055278, "comment_id": 75136444, "body": "true, forgot to mention that."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 0, "creation_date": 1495134348, "post_id": 44055278, "comment_id": 75136844, "body": "@MattJacob: While it satisfies the requirement, simply concatenating the first two fields makes it impossible to separate them again"}], "tags": [], "owner": {"reputation": 6258, "user_id": 82262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce15931410b388a52eb2df4a864137f?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jacob", "link": "https://stackoverflow.com/users/82262/matt-jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1495134382, "last_edit_date": 1495134382, "creation_date": 1495131846, "answer_id": 44055278, "question_id": 44055062, "link": "https://stackoverflow.com/questions/44055062/how-to-read-a-text-file-into-a-perl-hash-using-the-first-two-columns-as-the-key/44055278#44055278", "title": "How to read a text file into a Perl hash using the first two columns as the key", "body": "<p></p>\n\n<p>The first two fields are joined on <code>''</code>, and the remaining fields are left as an array reference:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nmy %data;\n\nwhile (&lt;DATA&gt;) {\n    my @fields = split;\n    my $key = join('', splice(@fields, 0, 2));\n    $data{$key} = \\@fields;\n}\n\nfor my $key (sort(keys(%data))) {\n    printf(\"%s: %s\\n\", $key, join(' ', @{$data{$key}}));\n}\n\n__DATA__\nCelena Standard F 01/24/94 Cancer\nJeniffer Orlowski F 06/24/86 None\nBrent Koehler M 12/05/97 HIV\nMao Schleich M 04/17/60 Cancer\nGoldie Moultrie F 04/05/96 None\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>BrentKoehler: M 12/05/97 HIV\nCelenaStandard: F 01/24/94 Cancer\nGoldieMoultrie: F 04/05/96 None\nJenifferOrlowski: F 06/24/86 None\nMaoSchleich: M 04/17/60 Cancer\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 54, "user_id": 6656164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5yf0.jpg?s=128&g=1", "display_name": "Wisdom Hambolu", "link": "https://stackoverflow.com/users/6656164/wisdom-hambolu"}, "edited": false, "score": 0, "creation_date": 1495134531, "post_id": 44055917, "comment_id": 75136937, "body": "I actually use strict and warnings, just forgot to post it along with the code.  I used the variable $new in debugging, it is in the final print statement. It is a patient information list by the way.   Thanks for the great tips!"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "reply_to_user": {"reputation": 54, "user_id": 6656164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5yf0.jpg?s=128&g=1", "display_name": "Wisdom Hambolu", "link": "https://stackoverflow.com/users/6656164/wisdom-hambolu"}, "edited": false, "score": 1, "creation_date": 1495136052, "post_id": 44055917, "comment_id": 75137746, "body": "@WisdomHambolu: Then <code>my %hash</code> should be something like <code>my %patients</code>. And please don&#39;t leave rubbish from your debugging in the code that you publish: it takes time to process, decide to discard it, and say so in the answer. We don&#39;t know whether it&#39;s a relic from debugging! Take a look at <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>. Just creating an MCVE may well expose the bug to you, and it&#39;s not fair to expect people who are offering to help you for free to deal with junk code."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 1, "last_activity_date": 1495307871, "last_edit_date": 1495307871, "creation_date": 1495134156, "answer_id": 44055917, "question_id": 44055062, "link": "https://stackoverflow.com/questions/44055062/how-to-read-a-text-file-into-a-perl-hash-using-the-first-two-columns-as-the-key/44055917#44055917", "title": "How to read a text file into a Perl hash using the first two columns as the key", "body": "\n\n<p>Some notes on your code</p>\n\n<p>You should</p>\n\n<ul>\n<li><p><strong><em>Always</em></strong> <code>use strict</code> and <code>use warnings 'all'</code> at the top of <em>every</em> Perl program that you write</p></li>\n<li><p>Use <em>lexical</em> file handles, like <code>my $file1</code> rather than <code>FILE1</code>, as they are much safer and more useful than global ones</p></li>\n<li><p>Please choose better variable identifiers. In <code>%hash</code>, the <code>%</code> says that it's a hash so you may as well have used <code>%_</code>. Is this a personnel list perhaps? Or a subscriber list?</p></li>\n</ul>\n\n<p>I can't work out what you're hoping for with <code>my $new = 'Celina'</code> as you never use that variable again</p>\n\n<p>You don't say <em>how</em> you want the data stored in the hash, so I've use an array to store the last three fields</p>\n\n<p>I've added the <code>Data::Dump</code> output so that you can see the structure of the resulting hash, as well as a simple <code>while</code> loop that reproduces the original data (in a different order)</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings 'all';\nuse autodie;\n\nmy %data = do {\n\n    open my $fh, '&lt;', 'patient_info.txt';\n\n    map {\n        my ($first, $second, @info) = split;\n        \"$first $second\" =&gt; \\@info;\n    } &lt;$fh&gt;;\n};\n\nuse Data::Dump;\ndd \\%data;\n\nprint \"\\n\";\n\nwhile ( my ($name, $info) = each %data ) {\n    print \"$name @$info\\n\";\n}\n</code></pre>\n\n<h3>output</h3>\n\n<pre class=\"lang-none prettyprint-override\"><code>{\n  \"Brent Koehler\"     =&gt; [\"M\", \"12/05/97\", \"HIV\"],\n  \"Celena Standard\"   =&gt; [\"F\", \"01/24/94\", \"Cancer\"],\n  \"Goldie Moultrie\"   =&gt; [\"F\", \"04/05/96\", \"None\"],\n  \"Jeniffer Orlowski\" =&gt; [\"F\", \"06/24/86\", \"None\"],\n  \"Mao Schleich\"      =&gt; [\"M\", \"04/17/60\", \"Cancer\"],\n}\n\nCelena Standard F 01/24/94 Cancer\nMao Schleich M 04/17/60 Cancer\nJeniffer Orlowski F 06/24/86 None\nGoldie Moultrie F 04/05/96 None\nBrent Koehler M 12/05/97 HIV\n</code></pre>\n"}], "owner": {"reputation": 54, "user_id": 6656164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5yf0.jpg?s=128&g=1", "display_name": "Wisdom Hambolu", "link": "https://stackoverflow.com/users/6656164/wisdom-hambolu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 644, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1495307871, "creation_date": 1495131073, "last_edit_date": 1495133238, "question_id": 44055062, "link": "https://stackoverflow.com/questions/44055062/how-to-read-a-text-file-into-a-perl-hash-using-the-first-two-columns-as-the-key", "title": "How to read a text file into a Perl hash using the first two columns as the key", "body": "<p></p>\n\n<p>I am trying to read a file containing this into a Perl hash.</p>\n\n<p>I want the first two columns to be the key and the remaining columns to be the values.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Celena Standard  F 01/24/94 Cancer \nJeniffer Orlowski  F 06/24/86 None\nBrent Koehler  M 12/05/97  HIV\nMao Schleich  M 04/17/60  Cancer\nGoldie Moultrie  F 04/05/96  None\n</code></pre>\n\n<p>This is where I got stuck.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>open FILE1, \"Patient_Info.txt\" or die;\nmy %hash;\n\nwhile ( my $line = &lt;FILE1&gt; ) {\n    chomp $line;    # remove newline\n    my ( $key, $value ) = split ' ', $line, 2;\n    $hash{$key} = $value;\n}\n\nmy @sorted_keys = sort keys %hash;\nmy $new         = 'Celena';\n\nfor my $new ( @sorted_keys ) {\n    print \"$new $hash{$new} \\n\";\n}\n</code></pre>\n"}, {"tags": ["xml", "perl", "activeperl"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1495122938, "post_id": 44052530, "comment_id": 75130313, "body": "Does it have to be active perl? because Strawberry perl comes with both <code>XML::Twig</code> and <code>XML::LibXML</code>. (I have largely given up on Activeperl because of the XML libraries being difficult)"}, {"owner": {"reputation": 13, "user_id": 5185142, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/inPlH.jpg?s=128&g=1", "display_name": "M. Ravi", "link": "https://stackoverflow.com/users/5185142/m-ravi"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1495123158, "post_id": 44052530, "comment_id": 75130481, "body": "I will need to build an executable from this file. I have an activeperl license. Hence it would be helpful if I can have an activeperl equivalent"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1495123260, "post_id": 44052530, "comment_id": 75130565, "body": "This looks like a library recommendation question then..."}, {"owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "edited": false, "score": 0, "creation_date": 1495125897, "post_id": 44052530, "comment_id": 75132064, "body": "By the way, <code>foreach my $child ( $sample-&gt;getChildnodes ) { if ( $child-&gt;nodeType() == XML_ELEMENT_NODE ) { ... } }</code> can be replaced with <code>for my $child ( $sample-&gt;findnodes(&#39;*&#39;) ) { ... }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 1, "last_activity_date": 1495123622, "creation_date": 1495123622, "answer_id": 44052803, "question_id": 44052530, "link": "https://stackoverflow.com/questions/44052530/perl-functions-to-find-nodes-and-get-child-nodes-in-activeperl/44052803#44052803", "title": "Perl functions to find nodes and get child nodes in ActivePerl", "body": "<p>There is no need for an \"Activeperl equivalent\". Perl code is cross-platform. Your code will work perfectly well under Active Perl. You just need to install the missing libraries. And there are plenty of answers on this site which can help you with that.</p>\n"}, {"comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495126106, "post_id": 44053409, "comment_id": 75132191, "body": "To be fair, people pay ActiveState for support and the convenience of them building libraries, especially XS, for older versions of Perl on Windows etc. ... Not for Perl itself."}], "tags": [], "owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1495125356, "creation_date": 1495125356, "answer_id": 44053409, "question_id": 44052530, "link": "https://stackoverflow.com/questions/44052530/perl-functions-to-find-nodes-and-get-child-nodes-in-activeperl/44053409#44053409", "title": "Perl functions to find nodes and get child nodes in ActivePerl", "body": "<p><em>\"I have an activeperl license\"</em> You don't need an ActivePerl license\u2014Perl is open source and free, unless you've forked out for the $1,000 per year \"Business Edition\"</p>\n\n<p>You should either install <code>XML::LibXML</code> on your ActivePerl or you should carry on using DWIMPerl (which is basically Strawberry Perl with a few extra modules installed). If you're using ActiveState's Komodo then it should work fine with any current Perl</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 0, "last_activity_date": 1495125474, "creation_date": 1495125474, "answer_id": 44053453, "question_id": 44052530, "link": "https://stackoverflow.com/questions/44052530/perl-functions-to-find-nodes-and-get-child-nodes-in-activeperl/44053453#44053453", "title": "Perl functions to find nodes and get child nodes in ActivePerl", "body": "<p>ActivePerl is not a language; it's a Perl distribution. The code will run fine on ActivePerl as is.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;perl -v | perl -ne\"print if /This|provided/\"\nThis is perl 5, version 16, subversion 3 (v5.16.3) built for MSWin32-x64-multi-thread\nBinary build 1603 [296746] provided by ActiveState http://www.ActiveState.com\n\n&gt;perl a.pl a.xml\n\n&gt;type options.txt\nF1L 3.2.2 C3.03.10.001 FULL\nF1H 4.0.3 Ver4.03.20 SPAL\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5185142, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/inPlH.jpg?s=128&g=1", "display_name": "M. Ravi", "link": "https://stackoverflow.com/users/5185142/m-ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1495125474, "creation_date": 1495122826, "last_edit_date": 1495125039, "question_id": 44052530, "link": "https://stackoverflow.com/questions/44052530/perl-functions-to-find-nodes-and-get-child-nodes-in-activeperl", "title": "Perl functions to find nodes and get child nodes in ActivePerl", "body": "<p></p>\n\n<p>I have a Perl program to parse an input XML file and print values to an output text file.</p>\n\n<p>It seems to work fine when I build with the DWIM Perl GUI, but when I build the same with ActivePerl it fails due to missing libraries. </p>\n\n<p>Can someone help me converting the code to the ActivePerl equivalent?</p>\n\n<p>The Perl code is</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\nuse warnings;\n\nuse XML::LibXML;\n\nopen( my $File, '&gt;', 'options.txt' );\n\nmy $filename = $ARGV[0];\n\nmy $parser = XML::LibXML-&gt;new();\nmy $xmldoc = $parser-&gt;parse_file( $filename );\n\nfor my $sample ( $xmldoc-&gt;findnodes( '/Releases/Release' ) ) {\n\n    foreach my $child ( $sample-&gt;getChildnodes ) {\n\n        if ( $child-&gt;nodeType() == XML_ELEMENT_NODE ) {\n            print $File $child-&gt;textContent(), \" \";\n        }\n    }\n\n    print $File \"\\n\";\n}\n</code></pre>\n\n<p>My Input would be like (in XML)</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Pre-Seed File for Script Generation --&gt;\n&lt;Releases&gt;\n  &lt;Release&gt;\n    &lt;Family&gt;F1L&lt;/Family&gt;\n    &lt;ArVersion&gt;3.2.2&lt;/ArVersion&gt;\n    &lt;ReleaseVersion&gt;C3.03.10.001&lt;/ReleaseVersion&gt;\n    &lt;PackageType&gt;FULL&lt;/PackageType&gt;\n  &lt;/Release&gt;\n  &lt;Release&gt;\n    &lt;Family&gt;F1H&lt;/Family&gt;\n    &lt;ArVersion&gt;4.0.3&lt;/ArVersion&gt;\n    &lt;ReleaseVersion&gt;Ver4.03.20&lt;/ReleaseVersion&gt;\n    &lt;PackageType&gt;SPAL&lt;/PackageType&gt;\n  &lt;/Release&gt;\n&lt;/Releases&gt;\n</code></pre>\n\n<p>The output should be </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>F1L 3.2.2 C3.03.10.001 FULL \nF1H 4.0.3 Ver4.03.20 SPAL \n</code></pre>\n"}, {"tags": ["perl"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 5243670, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2c9439ebc672d3a1760414587a73dbb?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/5243670/alex"}, "edited": false, "score": 0, "creation_date": 1495190557, "post_id": 44051869, "comment_id": 75159737, "body": "Can you explain the syntax ?"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 0, "last_activity_date": 1495121030, "creation_date": 1495121030, "answer_id": 44051869, "question_id": 44051655, "link": "https://stackoverflow.com/questions/44051655/in-perl-how-can-extract-a-comma-separated-list-of-numbers-from-a-string/44051869#44051869", "title": "In Perl, how can extract a comma separated list of numbers from a string?", "body": "<p>In your pattern, you ask for the first sequence of non-whitespace characters following the equal sign and that's what you get. Incidentally, you do not need to escape the <code>=</code> sign in a pattern.</p>\n\n<p>If you want the ampersand (<code>&amp;</code>) to be included in the result, you can use</p>\n\n<pre><code>my (undef, $v) = split /=/, $str, 2;\n</code></pre>\n\n<p>If you don't, the following may suit your needs better:</p>\n\n<pre><code>my ($v) = ($str =~ /^val = ([^&amp;]+)/x);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 5243670, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2c9439ebc672d3a1760414587a73dbb?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/5243670/alex"}, "edited": false, "score": 0, "creation_date": 1495215694, "post_id": 44055387, "comment_id": 75176061, "body": "Can you explain the syntax ?"}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "reply_to_user": {"reputation": 59, "user_id": 5243670, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2c9439ebc672d3a1760414587a73dbb?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/5243670/alex"}, "edited": false, "score": 0, "creation_date": 1495415510, "post_id": 44055387, "comment_id": 75226768, "body": "You can find the explanation here: <a href=\"https://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">perldoc.perl.org/perlre.html</a> Also the greatest book about regexp: <a href=\"http://regex.info/\" rel=\"nofollow noreferrer\">regex.info</a> -- it can change your life J."}], "tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1495132901, "last_edit_date": 1495132901, "creation_date": 1495132225, "answer_id": 44055387, "question_id": 44051655, "link": "https://stackoverflow.com/questions/44051655/in-perl-how-can-extract-a-comma-separated-list-of-numbers-from-a-string/44055387#44055387", "title": "In Perl, how can extract a comma separated list of numbers from a string?", "body": "<p>if you need a string like this \"1, 2, 3, ...\":</p>\n\n<pre><code>$str =~ s/[^0-9,\\s]//g;\nprint \"$str\\n\";\n</code></pre>\n\n<p>if you need an array of numbers:</p>\n\n<pre><code>my @a = $str =~ /\\d+/g;\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 5243670, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2c9439ebc672d3a1760414587a73dbb?s=128&d=identicon&r=PG&f=1", "display_name": "alex", "link": "https://stackoverflow.com/users/5243670/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1495132901, "creation_date": 1495120443, "last_edit_date": 1495121382, "question_id": 44051655, "link": "https://stackoverflow.com/questions/44051655/in-perl-how-can-extract-a-comma-separated-list-of-numbers-from-a-string", "title": "In Perl, how can extract a comma separated list of numbers from a string?", "body": "<p>I get string with split by comma and space and end with special char.\nfor example:</p>\n\n<pre><code>$str = \"val=1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16&amp;\";\n</code></pre>\n\n<p>I need to get \"1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16.\nMy code in perl is</p>\n\n<pre><code>$str = \"val=1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16&amp;\";\n$str =~ /val\\=(\\S+)/;\nprint \"$1\\n\";\n</code></pre>\n\n<p>but I get only \"1,\".\nI need space after comma.</p>\n"}, {"tags": ["regex", "perl", "hashtable"], "comments": [{"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1495115409, "post_id": 44049532, "comment_id": 75124520, "body": "You&#39;re absolutely allowed to ask about assignments - the same rules apply as for &#39;real&#39; questions though. e.g. We won&#39;t do your work (homework or otherwise) for you. We will help you understand your problem and fix the code you&#39;re working on."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1495115539, "post_id": 44049532, "comment_id": 75124617, "body": "A snippet of log pasted (so we don&#39;t have to reconstruct from screenshot) would help for testing."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1495116000, "post_id": 44049532, "comment_id": 75125022, "body": "comments don&#39;t format well <a href=\"https://stackoverflow.com/posts/44049532/edit\">edit</a> your post with it please."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 0, "creation_date": 1495116277, "post_id": 44049532, "comment_id": 75125240, "body": "We don&#39;t need all of it, just a few lines is enough for testing what your code actually does with that input."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495117292, "post_id": 44049532, "comment_id": 75126144, "body": "Do not delete the content of your question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8031391"}, "edited": false, "score": 0, "creation_date": 1495117716, "post_id": 44049532, "comment_id": 75126486, "body": "I&#39;ll put in a request to delete the account."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "reply_to_user": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1495118118, "post_id": 44049532, "comment_id": 75126802, "body": "You do not get to ask a question, get a perfect answer, and just wipe out everything. That is not how Stackoverflow works. FYI @Sobrique."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8031391"}, "edited": false, "score": 0, "creation_date": 1495118183, "post_id": 44049532, "comment_id": 75126852, "body": "Yeah would you rather someone else that has the same assignment next semester able to google this answer? Probably not. But what use does this have to anyone other than this specific assignment?"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1495119426, "post_id": 44049532, "comment_id": 75127826, "body": "The purpose to Stack Overflow is providing a source of reference. Answering your question is a side effect that&#39;s beneficial. But it&#39;s important to preserve both question and answer so it <i>can</i> serve as that reference. And yes, it might allow people to google this assignment next semester. But maybe they&#39;re having the same problem."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 2, "creation_date": 1495120927, "post_id": 44049532, "comment_id": 75129013, "body": "Stackoverflow is not a free one-on-one tutoring service. The act of asking a question and having it answered creates a bit of knowledge that did not exist before. The purpose of Stackoverflow is to drive visitors to the site by sharing that knowledge. If the knowledge was only meant to be transferred to you, we would be working as private tutors for individual questioners. For that service, you will have to pay."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8031391"}, "edited": false, "score": 0, "creation_date": 1495116734, "post_id": 44049936, "comment_id": 75125661, "body": "Wow thank you for this explanation it&#39;s helping, I think I should be okay from here now."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 1, "creation_date": 1495117219, "post_id": 44049936, "comment_id": 75126066, "body": "Perhaps. A default &#39;sort&#39; isn&#39;t as useful as it sounds with IPs and numbers - you often need something more specific."}], "tags": [], "owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "is_accepted": false, "score": 3, "last_activity_date": 1495117035, "last_edit_date": 1495117035, "creation_date": 1495116120, "answer_id": 44049936, "question_id": 44049532, "link": "https://stackoverflow.com/questions/44049532/in-perl-how-can-i-store-arrays-as-values-in-a-hash/44049936#44049936", "title": "In Perl, how can I store arrays as values in a hash?", "body": "<p>The thing you're seemingly having problems with, is that you're not sure where the port is being captured and the hash update.</p>\n\n<p>What's happening is your <code>while</code> loop is iterating the file one line at a time, and capturing values - that <code>$LogRecord =~</code> line is capturing a pattern - into <code>$1</code> and <code>$2</code>. </p>\n\n<p>And then that <code>$2</code> is the thing you can add to your hash, with <code>push</code>. </p>\n\n<p>However, there's a few things I have changed style wise like using lexical file handles because it's better style. </p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict; \n\n#because it makes debugging easier. \nuse Data::Dumper;\n\nmy $LogRecordCount;\n\n#declare some hashes; \nmy %ports_from; \nmy %ips_that_used; \n\nopen my $logfile, \"sample.log.txt\" or die \"couldn't open sample.log.txt\";\nwhile (my $line = &lt;$logfile&gt;) {\n    #matches 'current line' - skips stuff that doesn't match. \n    next unless $line =~ /INext-DROP/; \n    #increment count. \n    $LogRecordCount++;\n\n    my ( $source, $src_port ) = $line =~ m/SRC=([0-9\\.]+).*SPT=([0-9]+)/;  \n    print \"$source$sport\"; \n\n    #not sure what this is doing, so I have left it in. \n    print substr( $line , 0 , $ARGV[1] ) , \"\\n\"  if $ARGV[1];\n\n    push @{$ports_from{$source}}, $src_port; \n    push @{$ips_that_used{$src_port}}, $source; \n }\nprint \"The file contained $LogRecordCount records\" if $ARGV[1];\nclose $logfile;\n\nprint Dumper \\%ports_from;\nprint Dumper \\%ips_that_used; \n</code></pre>\n\n<p>That's built up your hashes. </p>\n\n<p>But when it comes to outputing:</p>\n\n<pre><code>foreach my $ip ( keys %ports_from ) { \n  print \"$ip: \", join ( \" \", @{$ports_from{$ip}}) ,\"\\n\"\n}\n</code></pre>\n\n<p>If you wanted to sort them, you would have to do this using <code>sort</code>. </p>\n\n<p>Now <code>sort</code> is a pretty clever function, but by default is sorts alphanumerically. That's ... actually not all that useful when it comes to IP addresses or port numbers, because you probably want to sort those more numerically. The easy answer is <code>Sort::Naturally</code> and use <code>nsort</code>.</p>\n\n<p>However - <code>sort</code> takes a function (it defaults to <code>cmp</code>) that returns -1, 0, 1 depending on relative position. </p>\n\n<p>So sorting 'by IP' might look like this:</p>\n\n<pre><code>sub by_ip { \n   my @a = split /\\./, $a;\n   my @b = split /\\./, $b; \n   foreach my $octet ( @a ) { \n      my $comparison = $octet &lt;=&gt; shift ( @b ); \n      return $comparison if $comparison; \n   }\n   return 0;\n}\n</code></pre>\n\n<p>And then you could:</p>\n\n<pre><code>foreach my $ip ( sort by_ip keys %ports_from ) { \n   print \"$ip: \", join ( \" \", sort { $a &lt;=&gt; $b } @{$ports_from{$ip}}),\"\\n\";\n}\n</code></pre>\n\n<p>Giving you:</p>\n\n<pre><code>24.64.208.134 : 24128  24128  24128 \n71.228.199.109 : 37091 \n72.197.8.56 : 9258 \n75.117.31.43 : 3122 \n99.248.20.48 : 48725 \n207.68.178.56 : 80 \n</code></pre>\n\n<p>Given an IP-to-port mapping where duplicates exist though, it might be better still to merely count port-frequency using a hash-of-hashes instead of a hash-of-arrays.</p>\n\n<pre><code>$count_ports_from{$source}{$src_port}++; \n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>foreach my $ip ( sort by_ip keys %count_ports_from ) {\n   print \"$ip: \";\n   foreach my $port_num ( sort { $count_ports_from{$a} &lt;=&gt; $count_ports_from{$b} } \n       keys %{ $count_ports_from{$ip} } )\n   {\n      print \"\\t $port_num : $count_ports_from{$ip}{$port_num}\\n\";\n   }\n}\n</code></pre>\n\n<p>Giving you something like:</p>\n\n<pre><code>24.64.208.134 :      24128  : 3\n71.228.199.109 :     37091  : 1\n72.197.8.56 :    9258  : 1\n75.117.31.43 :   3122  : 1\n99.248.20.48 :   48725  : 1\n207.68.178.56 :      80  : 1\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8031391"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495470680, "creation_date": 1495115178, "last_edit_date": 1495470680, "question_id": 44049532, "link": "https://stackoverflow.com/questions/44049532/in-perl-how-can-i-store-arrays-as-values-in-a-hash", "title": "In Perl, how can I store arrays as values in a hash?", "body": "<p>I don't know if you're allowed to ask questions about a school assignment. I just want to understand what I am supposed to do, not do this for me. Maybe I am missing something so simple it is right in front of me but anyways it was based off of an older assignment, but I had missed this class and I am running into a wall now, and well the problem is that I'm trying to push an array into a hash table. using something like this;</p>\n\n<pre><code>push @{$hash_table{$hash_key}}, $port\n</code></pre>\n\n<p>and to count the ports while storing them and then to print the contents of the hash </p>\n\n<pre><code>while ( ($key , $value) = each ( %hash ) ) {\n    print \u201c$key scanned @{$value}\u201d \n}\n</code></pre>\n\n<p>and if I wanted to sort the results I would use </p>\n\n<pre><code>&lt; foreach $key ( keys ( %hash ) ) {\n}\n</code></pre>\n\n<p>The current code I have is this, searching for the string of /iNext-DROP/\nusing a log file provided. I cant for the life of me find the correct place to add the code above</p>\n\n<pre><code>use warnings;\nmy $LogRecord; \nmy $LogRecordCount;\nopen LOGFILE, \"sample.log.txt\" or die \"couldn't open sample.log.txt\";\nwhile ($LogRecord = &lt;LOGFILE&gt;) {\nif  ($LogRecord =~ /INext-DROP/)    { \n    $LogRecordCount ++;\n    $LogRecord =~ /(SRC=[0-9\\.]* ).*(SPT=[0-9\\.]* )/;\n    $source=$1;\n    $sport=$2;\nprint \"$source$sport\"; \nprint substr( $LogRecord , 0 , $ARGV[1] ) , \"\\n\"  if $ARGV[1];\n }\n}\nprint \"The file contained $LogRecordCount records\" if $ARGV[1];\nclose LOGFILE;\n</code></pre>\n\n<p>Here's a picture of the old code with comments ;\n<a href=\"https://i.stack.imgur.com/kD9fc.png\" rel=\"nofollow noreferrer\">Old Code -- not much has changed since I keep going back after it doesn't work</a></p>\n"}, {"tags": ["perl", "if-statement", "user-input", "subroutine"], "answers": [{"tags": [], "owner": {"reputation": 62184, "user_id": 7231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81b76985f3985e35492e25880493d045?s=128&d=identicon&r=PG", "display_name": "Dave Cross", "link": "https://stackoverflow.com/users/7231/dave-cross"}, "is_accepted": false, "score": 3, "last_activity_date": 1495109900, "creation_date": 1495109900, "answer_id": 44047568, "question_id": 44047442, "link": "https://stackoverflow.com/questions/44047442/how-to-call-subroutine-in-perl-according-to-user-inputstring/44047568#44047568", "title": "How to call subroutine in perl according to user input(string)?", "body": "<p>Your problem is that when you read from <code>STDIN</code> using <code>&lt;&gt;</code>, the value you get back and store in <code>$tempCommand</code> will have a newline character attached to it. You need to remove that with the <code>chomp()</code> function.</p>\n\n<pre><code>chomp($tempCommand = &lt;&gt;);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5923, "user_id": 2105156, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oRMc0.jpg?s=128&g=1", "display_name": "fugu", "link": "https://stackoverflow.com/users/2105156/fugu"}, "is_accepted": true, "score": 3, "last_activity_date": 1495113872, "last_edit_date": 1495113872, "creation_date": 1495110096, "answer_id": 44047643, "question_id": 44047442, "link": "https://stackoverflow.com/questions/44047442/how-to-call-subroutine-in-perl-according-to-user-inputstring/44047643#44047643", "title": "How to call subroutine in perl according to user input(string)?", "body": "<p>You need to chomp the newline from your user input and it should work: </p>\n\n<pre><code>use strict;\nuse warnings;\n\n\nprint \"Would you like to [A]dd a new student or [R]eturn to the previous menu? \";\n\nchomp(my $tempCommand = &lt;&gt;);\n\nif ($tempCommand eq \"A\") {\n  addStudent()\n}\n\nelsif ($tempCommand eq \"R\") {\n  mainmenu()\n}\n\nelse {\n  mainmenu()\n}\n\n\nsub addStudent {\n  print \"In sub \\\"Addstudent\\\"\";\n}\n\nsub mainmenu {\n  print \"In sub \\\"Mainmenu\\\"\";\n}\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 5310860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1127618260599003/picture?type=large", "display_name": "sageArt", "link": "https://stackoverflow.com/users/5310860/sageart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 44047643, "answer_count": 2, "score": 1, "last_activity_date": 1495113872, "creation_date": 1495109557, "question_id": 44047442, "link": "https://stackoverflow.com/questions/44047442/how-to-call-subroutine-in-perl-according-to-user-inputstring", "title": "How to call subroutine in perl according to user input(string)?", "body": "<p>I am new in perl programming and I am trying to call subroutines with respect to user input:</p>\n\n<pre><code>print \"Would you like to [A]dd a new student or [R]eturn to the previous menu?\";\n    $tempCommand = &lt;&gt;;\n    if($tempCommand eq \"A\") {addStudent()}\n    elsif($tempCommand eq \"R\") {mainmenu()}\n    else{mainmenu()}\n</code></pre>\n\n<p>The call always end up on the else condition even if \nI enter A or R.</p>\n"}, {"tags": ["python", "performance", "perl", "dynamic-languages"], "comments": [{"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 6, "creation_date": 1495108005, "post_id": 44046866, "comment_id": 75119023, "body": "Way too broad, show a specific small reproducible code snippet that is slower in Python than Perl (showing the code in both languages) then maybe you have a question"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 5, "creation_date": 1495108929, "post_id": 44046866, "comment_id": 75119661, "body": "The generalization is not true. For example, in the <a href=\"https://benchmarksgame.alioth.debian.org/u64q/perl.html\" rel=\"nofollow noreferrer\">benchmarks game</a> Python is not uniformly slower than Perl."}, {"owner": {"reputation": 49, "user_id": 7213014, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/82d495a67f62f25178db58902bef5733?s=128&d=identicon&r=PG&f=1", "display_name": "Annie May", "link": "https://stackoverflow.com/users/7213014/annie-may"}, "reply_to_user": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495112931, "post_id": 44046866, "comment_id": 75122579, "body": "@Sinan&#220;n&#252;r Someone claimed they don&#39;t use the standard Python implementation, I don&#39;t know if that us true or not."}, {"owner": {"reputation": 384453, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1495114078, "post_id": 44046866, "comment_id": 75123458, "body": "You are measuring the regular expression engine more than the language itself."}, {"owner": {"reputation": 49, "user_id": 7213014, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/82d495a67f62f25178db58902bef5733?s=128&d=identicon&r=PG&f=1", "display_name": "Annie May", "link": "https://stackoverflow.com/users/7213014/annie-may"}, "edited": false, "score": 0, "creation_date": 1495114177, "post_id": 44046866, "comment_id": 75123556, "body": "Hence the Python version with out RE"}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495115357, "post_id": 44046866, "comment_id": 75124478, "body": "<code>line.rstrip</code> is neither needed nor in the Perl script to which you are comparing."}, {"owner": {"reputation": 49, "user_id": 7213014, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/82d495a67f62f25178db58902bef5733?s=128&d=identicon&r=PG&f=1", "display_name": "Annie May", "link": "https://stackoverflow.com/users/7213014/annie-may"}, "edited": false, "score": 0, "creation_date": 1495117476, "post_id": 44046866, "comment_id": 75126284, "body": "You are correct, it was a leftover from an older revision. I&#39;ll take it out. (Doesn&#39;t seem to influence the performance though)"}, {"owner": {"reputation": 2433, "user_id": 63471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f79a7909dfca0088f4fdc01f109f497e?s=128&d=identicon&r=PG", "display_name": "igouy", "link": "https://stackoverflow.com/users/63471/igouy"}, "edited": false, "score": 0, "creation_date": 1495149765, "post_id": 44046866, "comment_id": 75143439, "body": "@Annie May &gt;&gt; I don&#39;t know if that us true or not &lt;&lt; Check for yourself -- the provided URL tells you which Perl and Python versions were used."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1495152397, "post_id": 44046866, "comment_id": 75144029, "body": "To make an unreasonable generalization in a comment to a question that is itself a huge unreasonable generalization -- Python&#39;s audience is largely composed of people who care more about readability and maintainability, and less about performance; those who care about performance in addition to Python&#39;s traditional readability goals have largely migrated towards Go (if they also care about maintainability) or Julia (for math-heavy, performance-sensitive work when maintainability -- particularly inclusive of language stability -- is less important). Perl&#39;s audience... <i>hah</i>."}, {"owner": {"reputation": 54872, "user_id": 1521179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MH7pk.png?s=128&g=1", "display_name": "amon", "link": "https://stackoverflow.com/users/1521179/amon"}, "edited": false, "score": 0, "creation_date": 1495314094, "post_id": 44046866, "comment_id": 75203155, "body": "Your benchmark is absolutely meaningless because it&#39;s only a couple of milliseconds \u2013 you are mostly benchmarking the interpreter startup time, not the actual performance. Try working through a couple hundred MB of data for more informative results. Also, please use <code>re.compile()</code> to pre-compile the Python regex once. Perl does this automatically. Finally, regexes are one of Perl&#39;s strong points. It&#39;s hard to beat Perl for regex-heavy benchmarks."}], "owner": {"reputation": 49, "user_id": 7213014, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/82d495a67f62f25178db58902bef5733?s=128&d=identicon&r=PG&f=1", "display_name": "Annie May", "link": "https://stackoverflow.com/users/7213014/annie-may"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 738, "favorite_count": 0, "closed_date": 1495179668, "answer_count": 0, "score": 3, "last_activity_date": 1495151824, "creation_date": 1495107925, "last_edit_date": 1495151824, "question_id": 44046866, "link": "https://stackoverflow.com/questions/44046866/why-is-my-perl-script-an-order-of-magnitude-faster-than-the-equivalent-python-co", "closed_reason": "Needs more focus", "title": "Why is my perl script an order of magnitude faster than the equivalent python code", "body": "<p>I've recently taken up Python3 and was stumped by how much slower than other comparable dynamic languages (mainly Perl) it is.</p>\n\n<p>While trying to learn Python I did several online coding challenges and Python would often be at least 10x slower than Perl and use at least 2x the memory.</p>\n\n<p>Researching this curiosity I came across people asking why Python is slower than C/C++, which should be pretty obvious, but not any posts comparing it to other similar languages. There is also this informative but outdated benchmark <code>http://raid6.com.au/~onlyjob/posts/arena/</code> which confirms it being rather slow.</p>\n\n<p>I am explicity asking about the standard Python implementation and NOT anything like pypy or the likes.</p>\n\n<p>EDIT:\nThe reason I was surprised comes from the results page on codeeval.com.\nHere are two scripts to capitalize the first character of every word in a line.</p>\n\n<p>Python3 (3.4.3) v1</p>\n\n<pre><code>import sys\nimport re\n\ndef uc(m):\n    c = m.group(1)\n    return c.upper()\n\nf = open(sys.argv[1], \"r\")\nfor line in f:\n    print(re.sub(r\"\\b(\\D)\", uc, line))\n</code></pre>\n\n<p>Perl (5.18.2)</p>\n\n<pre><code>use strict;\nuse warnings \"all\";\n\nopen(my $fh, \"&lt;\", \"$ARGV[0]\") or die;\nwhile (&lt;$fh&gt;)\n{\n    s,\\b(\\D),uc $1,ge;\n    print;\n}\nclose $fh;\n</code></pre>\n\n<p>As I am not very familiar with Python yet I also tried a different version to see if there was any difference.</p>\n\n<p>Python3 v2:</p>\n\n<pre><code>import sys\n\nf = open(sys.argv[1], \"r\")\nfor line in f:\n    lst = [word[0].upper() + word[1:] for word in line.split()]\n    print(\" \".join(lst))\n</code></pre>\n\n<p>The results are quite different as can be seen in this image: <a href=\"https://i.stack.imgur.com/NiiNP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NiiNP.png\" alt=\"https://i.imgur.com/3wPrFk5.png\"></a> (results for Python in this image are from the v1, v2 had nearly identical stats (+1 ms execution time, ~same memory usage)</p>\n"}, {"tags": ["regex", "perl"], "comments": [{"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1495104916, "post_id": 44045739, "comment_id": 75116865, "body": "Perl gurus here believe you should not &quot;cram everything into one regex&quot;. However, your question is good all in all."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 5, "creation_date": 1495105067, "post_id": 44045739, "comment_id": 75116965, "body": "Putting two more <code>s&#47;&#47;&#47;</code> in the replacement part of another <code>s&#47;&#47;&#47;</code> is plain disgusting."}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 2, "creation_date": 1495105187, "post_id": 44045739, "comment_id": 75117054, "body": "&quot;Magic regex&quot; is a thing we see all the time - someone tries to &#39;code up&#39; a regex to do everything.  And regex is powerful, so you <i>usually</i> can.   It&#39;s just... also quite inscrutable, and hard to read and maintain, so usually what you <i>should</i> be doing is breaking down the problem and writing &#39;real&#39; program code around it."}, {"owner": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1495105297, "post_id": 44045739, "comment_id": 75117117, "body": "If you have to deal with just <code>(</code> and <code>)</code> replacements, you may use <a href=\"http://ideone.com/w1NF1I\" rel=\"nofollow noreferrer\"><code>s&#47;\\\\((left)|right)&#47;$2 ? &#39;(&#39; : &#39;)&#39;&#47;eg</code></a>"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "reply_to_user": {"reputation": 481636, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1495105815, "post_id": 44045739, "comment_id": 75117442, "body": "@WiktorStribi\u017cew: I believe in this <code>Experience makes the man perfect</code>. Everyone can do the normal replacements but I thought to do in some thing different. <i>Just now I got my expected on your comments.</i>"}, {"owner": {"reputation": 3472, "user_id": 4990392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89acc35f0339a9c7e6ae36443a23e2d9?s=128&d=identicon&r=PG&f=1", "display_name": "Dada", "link": "https://stackoverflow.com/users/4990392/dada"}, "edited": false, "score": 1, "creation_date": 1495106563, "post_id": 44045739, "comment_id": 75117966, "body": "Just so you understand why your regex doesn&#39;t work: <code>&#47;r</code> modifier returns the new modified (or unchanged) string (this value will always be true here), so your <code>&amp;&amp;</code> returns its right side: <code>s&#47;\\\\right&#47;\\(&#47;</code>, which means that the left side has absolutely no effect. You could have done <code>($&amp;=~s&#47;\\\\right&#47;)&#47;r)=~s&#47;\\\\left&#47;(&#47;r</code>. But see that answers: it&#39;s a bad idea to do everything with a single complicated regex."}], "answers": [{"comments": [{"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 0, "creation_date": 1495105687, "post_id": 44045866, "comment_id": 75117361, "body": "Nice regex :). Could you please explain your regex. because i do not understand your hole regex, but i want to understand it. For what are the flags &#39;rx&#39; ? And this part &#39;( \\\\ (?: left | right ))&#39; confueses me"}, {"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 1, "creation_date": 1495105888, "post_id": 44045866, "comment_id": 75117487, "body": "This regex: my $t = $s =~ s/(\\&#40;left|right))/$replacement{$1}/rg; also works. Now I only need to know what the flag &#39;x&#39; do and why you use &#39;?:&#39;"}, {"owner": {"reputation": 51521, "user_id": 2566198, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Y34ZA.jpg?s=128&g=1", "display_name": "Sobrique", "link": "https://stackoverflow.com/users/2566198/sobrique"}, "edited": false, "score": 3, "creation_date": 1495106001, "post_id": 44045866, "comment_id": 75117568, "body": "<code>x</code> tells the regex engine to ignore whitespace (including linefeeds).  It makes formatting patterns easier."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1495264341, "post_id": 44045866, "comment_id": 75189068, "body": "You can get rid of some redundant code: <code>use Data::Munge qw(list2re); ... my $pattern = list2re keys %replacements; my $t = $s =~ s&#47;($pattern)&#47;$replacements{$1}&#47;gr;</code>"}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": false, "score": 6, "last_activity_date": 1495291240, "last_edit_date": 1495291240, "creation_date": 1495105011, "answer_id": 44045866, "question_id": 44045739, "link": "https://stackoverflow.com/questions/44045739/in-perl-how-can-i-use-s-to-make-multiple-replacements/44045866#44045866", "title": "In Perl, how can I use `s///` to make multiple replacements?", "body": "<p>For this literal question which involves only two substrings to be replaced, you should use two separate <code>s///</code> as <a href=\"/a/44045905/100754\">@Patrick85 recommends</a>. The approach below begins to make sense only if you have 3 or more such replacements. In that case, tucking the mapping away in a hash will make your code clearer.</p>\n\n<p>Use a hash to look up replacements:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nmy %replacement = (\n    '\\left' =&gt; '(',\n    '\\right' =&gt; ')'\n);\n\nmy $s = '\\left \\right \\center \\right \\left \\middle';\nmy $t = $s =~ s/( \\\\ (?: left | right ))/$replacement{$1}/rgx;\n\nprint \"$s\\n$t\\n\";\n</code></pre>\n\n<p>There are many problems with trying to cram everything into a single line:</p>\n\n<pre><code>$brackets=~s{\\\\(left|right)}{$&amp;=~s/\\\\left/\\(/r &amp;&amp; $&amp;=~s/\\\\right/\\)/gr; }ge;\n</code></pre>\n\n<p>It is hard to read. Also, it is impossible to generalize. What happens if you need to map <em>N</em> strings to their replacements? Let's try to write this a little more clearly by adding some whitespace:</p>\n\n<pre><code>$brackets =~ s{\n    \\\\\n    (left | right)\n}{\n    $&amp; =~ s/\\\\left/\\(/r &amp;&amp;\n    $&amp; =~ s/\\\\right/\\)/gr; \n}gex;\n</code></pre>\n\n<p>Even if this did what you wanted, you've now replaced a single <code>s///</code> coupled with a simple hash lookup with something that does two additional <code>s///</code> operations for each match in your source string.</p>\n\n<p>For the example string you showed, this one would do <strong><em>eight</em></strong> additional <code>s///</code> operations.</p>\n\n<p>That is not good.</p>\n"}, {"comments": [{"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1495105186, "post_id": 44045905, "comment_id": 75117053, "body": "Please go through my highlighted line in my question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1919238"}, "reply_to_user": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 2, "creation_date": 1495105344, "post_id": 44045905, "comment_id": 75117137, "body": "@ssr1012 honestly, why don&#39;t you want to do it this way?  This is the correct, obvious approach.  It&#39;s clearer than the regex in your question and the code is shorter, too.  Why does the existence of a line break bother you so much?"}, {"owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "edited": false, "score": 0, "creation_date": 1495106202, "post_id": 44045905, "comment_id": 75117712, "body": "<code>$replacement</code> you copied the text from the @Sinan &#220;n&#252;r."}, {"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 0, "creation_date": 1495108565, "post_id": 44045905, "comment_id": 75119409, "body": "For this literal question, just using two <code>s&#47;&#47;&#47;</code> is what I would recommend. Using the external lookup table only begins to make sense once you have three or more replacement. See also <a href=\"https://perldoc.perl.org/perlfaq4.html#How-do-I-strip-blank-space-from-the-beginning%2fend-of-a-string%3f\" rel=\"nofollow noreferrer\">How do I strip blank space from the beginning/end of a string?</a>. A pair of simple <code>s&#47;&#47;&#47;</code> is better than a single complicated one."}], "tags": [], "owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "is_accepted": false, "score": 5, "last_activity_date": 1495108765, "last_edit_date": 1495108765, "creation_date": 1495105121, "answer_id": 44045905, "question_id": 44045739, "link": "https://stackoverflow.com/questions/44045739/in-perl-how-can-i-use-s-to-make-multiple-replacements/44045905#44045905", "title": "In Perl, how can I use `s///` to make multiple replacements?", "body": "<p>Use two simple substitutions instead of one complicated one:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\n\nmy $brackets = '\\left \\right \\center \\right \\left \\middle';\n\n$brackets =~ s/\\\\left/(/g;\n$brackets =~ s/\\\\right/)/g;\n\nprint $brackets.\"\\n\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre>( ) \\center ) ( \\middle</pre>\n"}, {"comments": [{"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "edited": false, "score": 1, "creation_date": 1495107640, "post_id": 44046189, "comment_id": 75118737, "body": "It seems pretty clear to me that you do not understand what the for() block does, hence why you are asking &quot;what is going on here&quot;"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1495304672, "post_id": 44046189, "comment_id": 75200456, "body": "@dan1111: <i>&quot;What is going on here, and why did people upvote it?&quot;</i> That is more indicative of your lack of facility with Perl than of the quality of the author&#39;s code. Take a look at <a href=\"https://perldoc.perl.org/perlsyn.html#Switch-Statements\" rel=\"nofollow noreferrer\"><i>Switch Statements</i> in <code>perldoc perlsyn</code></a> and you will read <b><i>&quot;The <code>foreach</code> is the non-experimental way to set a topicalizer&quot;</i></b>. (The experimental way being <code>given</code>.) In the spirit of <i>TMTOWTDI</i> I think this answer is excellent, and the only detraction is that it is largely a rewrite of an older solution."}, {"owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "reply_to_user": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495363476, "post_id": 44046189, "comment_id": 75212650, "body": "@Borodin. Thanks a mill for your input. Much appreciated."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 1, "creation_date": 1495398913, "post_id": 44046189, "comment_id": 75223271, "body": "@Dads: It&#39;s called a <i>topicaliser</i>. Read the link in my note to <b>dan1111</b>."}], "tags": [], "owner": {"reputation": 17619, "user_id": 7818749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4a72453e116debb802d55e88c2572e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerhard", "link": "https://stackoverflow.com/users/7818749/gerhard"}, "is_accepted": false, "score": 0, "last_activity_date": 1557824965, "last_edit_date": 1557824965, "creation_date": 1495105976, "answer_id": 44046189, "question_id": 44045739, "link": "https://stackoverflow.com/questions/44045739/in-perl-how-can-i-use-s-to-make-multiple-replacements/44046189#44046189", "title": "In Perl, how can I use `s///` to make multiple replacements?", "body": "<p>It is fairly easy to just build a list of replacements.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $brackets = '\\left \\right \\center \\right \\left \\middle';\n\nfor ( $brackets ) {\n    s/\\\\left/(/g;\n    s/\\\\right/)/g;\n}\n\nprint $brackets, \"\\n\";\n</code></pre>\n\n<p>obviously you can still add to the list and remove whitespace as well.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/44082720/topicalising-a-variable-using-for-is-apparently-bad-why\">More information about this method:</a></p>\n"}, {"comments": [{"owner": {"reputation": 5173, "user_id": 1981088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Iicg.png?s=128&g=1", "display_name": "help-info.de", "link": "https://stackoverflow.com/users/1981088/help-info-de"}, "edited": false, "score": 0, "creation_date": 1495271801, "post_id": 44083328, "comment_id": 75190899, "body": "Please have a look at <a href=\"http://stackoverflow.com/help/self-answer\">Can I answer my own question?</a> and come back two days later and check as answered."}], "tags": [], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "is_accepted": true, "score": -4, "last_activity_date": 1495271617, "last_edit_date": 1495540968, "creation_date": 1495266728, "answer_id": 44083328, "question_id": 44045739, "link": "https://stackoverflow.com/questions/44045739/in-perl-how-can-i-use-s-to-make-multiple-replacements/44083328#44083328", "title": "In Perl, how can I use `s///` to make multiple replacements?", "body": "<p>Just I need to close this my Question. And the answer provided by <a href=\"https://stackoverflow.com/questions/44045739/in-perl-how-can-i-use-s-to-make-multiple-replacements#comment75117117_44045739\">@Wiktor Stribi\u017cew</a> [in Comment] on my question.</p>\n\n<pre><code>$brackets = '\\left \\right \\center \\right \\left \\middle';\n</code></pre>\n\n<p>My Request:</p>\n\n<pre><code>$brackets=~s{\\\\(left|right)}{$&amp;=~s/\\\\left/\\(/r &amp;&amp; $&amp;=~s/\\\\right/\\)/gr; }ge;\n</code></pre>\n\n<p>Answer:</p>\n\n<pre><code>$brackets=~s/\\\\((left)|right)/$2 ? '(' : ')'/eg;\n</code></pre>\n"}], "owner": {"reputation": 2415, "user_id": 4251338, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UNbCO.png?s=128&g=1", "display_name": "ssr1012", "link": "https://stackoverflow.com/users/4251338/ssr1012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 44083328, "answer_count": 4, "score": 0, "last_activity_date": 1557824965, "creation_date": 1495104625, "last_edit_date": 1495105189, "question_id": 44045739, "link": "https://stackoverflow.com/questions/44045739/in-perl-how-can-i-use-s-to-make-multiple-replacements", "title": "In Perl, how can I use `s///` to make multiple replacements?", "body": "<p>My Input:</p>\n\n<pre><code> $brackets = '\\left \\right \\center \\right \\left \\middle';\n</code></pre>\n\n<p>On the above string I need to replace every <code>\\left</code> string into <code>(</code> opening braces and every <code>\\right</code> string into <code>)</code> closing braces.</p>\n\n<p>I am able to replace in few methods to get the output. However I want to know how can we done this in <code>r</code> modifier. Here is what I have so far</p>\n\n<pre><code> $brackets=~s{\\\\(left|right)}{$&amp;=~s/\\\\left/\\(/r &amp;&amp; $&amp;=~s/\\\\right/\\)/gr; }ge;\n</code></pre>\n\n<p>I don't know where could I find my mistake.</p>\n"}, {"tags": ["perl", "centos", "repository", "yum"], "answers": [{"comments": [{"owner": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "edited": false, "score": 0, "creation_date": 1495096324, "post_id": 44041931, "comment_id": 75110898, "body": "I have tied this but no luck. I have updated the question with more details."}, {"owner": {"reputation": 2473, "user_id": 3788685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0153b937db548cca172e6a78e71eabe3?s=128&d=identicon&r=PG&f=1", "display_name": "user3788685", "link": "https://stackoverflow.com/users/3788685/user3788685"}, "reply_to_user": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "edited": false, "score": 0, "creation_date": 1495096437, "post_id": 44041931, "comment_id": 75110965, "body": "try doing <code>yum clean all</code> and then <code>yum install perl-Unix-Syslog</code> ive updated my answer with the repo full url block for your config file."}, {"owner": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "edited": false, "score": 0, "creation_date": 1495096969, "post_id": 44041931, "comment_id": 75111324, "body": "You saved my day! That fixed it!"}], "tags": [], "owner": {"reputation": 2473, "user_id": 3788685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0153b937db548cca172e6a78e71eabe3?s=128&d=identicon&r=PG&f=1", "display_name": "user3788685", "link": "https://stackoverflow.com/users/3788685/user3788685"}, "is_accepted": true, "score": 2, "last_activity_date": 1495096517, "last_edit_date": 1495096517, "creation_date": 1495094523, "answer_id": 44041931, "question_id": 44041400, "link": "https://stackoverflow.com/questions/44041400/how-to-install-perlunixsyslog-on-centos-using-yum/44041931#44041931", "title": "How to install perl(Unix::Syslog) on CentOS using yum?", "body": "<p>Try; <code>perl-Unix-Syslog</code></p>\n\n<pre><code>yum info perl-unix-syslog\nAvailable Packages\nName        : perl-Unix-Syslog\nArch        : x86_64\nVersion     : 1.1\nRelease     : 3.el6\nSize        : 28 k\nRepo        : epel\nSummary     : Perl interface to the UNIX syslog(3) calls\nURL         : http://search.cpan.org/dist/Unix-Syslog/\nLicense     : Artistic 2.0\nDescription : This module provides an interface to the system logger syslogd(8) via\n            : Perl's XSUBs. The implementation attempts to resemble the native libc-\n            : functions of your system, so that anyone being familiar with syslog.h\n            : should be able to use this module right away.\n</code></pre>\n\n<p>You can also find it via <a href=\"http://rpm.pbone.net\" rel=\"nofollow noreferrer\">http://rpm.pbone.net</a></p>\n\n<p>If you are missing the repo then add this to your <code>/etc/yum/repos.d/epel.repo</code></p>\n\n<pre><code>[epel]\nname=Extra Packages for Enterprise Linux 6 - $basearch\n#baseurl=http://download.fedoraproject.org/pub/epel/6/$basearch\nmirrorlist=https://mirrors.fedoraproject.org/metalink?repo=epel-6&amp;arch=$basearch\nfailovermethod=priority\nenabled=1\ngpgcheck=1\ngpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6\n</code></pre>\n\n<p>You may also need to do; <code>yum clean all</code> before you retry the install to clear the cache and mirror list.</p>\n"}], "owner": {"reputation": 6148, "user_id": 1383889, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4Xk8P.jpg?s=128&g=1", "display_name": "Yasiru G", "link": "https://stackoverflow.com/users/1383889/yasiru-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2665, "favorite_count": 0, "accepted_answer_id": 44041931, "answer_count": 1, "score": 0, "last_activity_date": 1495096517, "creation_date": 1495092883, "last_edit_date": 1495096235, "question_id": 44041400, "link": "https://stackoverflow.com/questions/44041400/how-to-install-perlunixsyslog-on-centos-using-yum", "title": "How to install perl(Unix::Syslog) on CentOS using yum?", "body": "<p>I'm getting <code>perl(Unix::Syslog)</code> as a dependent package when I installing certain application.</p>\n\n<pre><code>perl(Unix::Syslog) is needed by \n</code></pre>\n\n<p>I tried installing it as <code>yum install 'perl(Unix::Syslog)'</code> but it give following result.</p>\n\n<pre><code>No package perl(Unix::Syslog) available.\nError: Nothing to do\n</code></pre>\n\n<p>I tried to install it using <code>RPM</code> but it give lot more dependencies list.</p>\n\n<p>So they best why for this is installing using <code>yum</code> but I cannot find a way to do this.</p>\n\n<p><strong>Edit</strong> : Actually I tried <code>yum install perl-Unix-Syslog</code> too but result is the same. May be I don't have the correct repository configured in my CentOS.</p>\n\n<p>So I googled and found below as a fix but it didn't fix the issue.</p>\n\n<pre><code>yum --enablerepo=extras install epel-release\n</code></pre>\n"}, {"tags": ["perl", "module", "exporter"], "comments": [{"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495092107, "post_id": 44041031, "comment_id": 75108203, "body": "(1) a typo: you call the second function <code>func1</code> as well.  It seems that you mean <code>func2</code>.  This is the subroutine redefined warning. (2) Drop those <code>&amp;</code>, they are wrong. (3) Use only <code>@EXPORT_OK</code>"}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495092314, "post_id": 44041031, "comment_id": 75108352, "body": "thanks for your answer, I renamed the second function ! my bad. where should I rename the &amp; btw ? (in the module ? in which array ?), thanks"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495092365, "post_id": 44041031, "comment_id": 75108391, "body": "The <code>&amp;</code> just should NOT be anywhere there, just remove it. Delete."}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495092428, "post_id": 44041031, "comment_id": 75108435, "body": "ok I just removed it everywhere, same problem (it didn&#39;t change anything) :("}, {"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 1, "creation_date": 1495092669, "post_id": 44041031, "comment_id": 75108607, "body": "I added comments to your code snippet"}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1495092827, "post_id": 44041031, "comment_id": 75108704, "body": "thanks Patrick, I tried the exact code you mentioned, but I am still having the exact same error  (Undefined subroutine &amp;main::func1 called at ../../bin/fftg.pl line 23)"}, {"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 0, "creation_date": 1495092856, "post_id": 44041031, "comment_id": 75108727, "body": "Try in your script: use FFTG::PID qw(&amp;func1);   print func1(..); I will edit your code"}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1495092975, "post_id": 44041031, "comment_id": 75108787, "body": "same problem. could it be some kind of &quot;include error&quot; ? (e.g package not found in the directory or other). when I print the contents of @INC, I can see the lib folder (and under that lib folder, I get my FFTG folder, with PID.pm inside). I also get the same error if I forget the &quot;use&quot; before the print.."}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1495093126, "post_id": 44041031, "comment_id": 75108901, "body": "same thing :(  -- Undefined subroutine &amp;FFTG::PID::func1 called at ../../bin/fftg.pl line 25."}, {"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 0, "creation_date": 1495093202, "post_id": 44041031, "comment_id": 75108951, "body": "Then try this: go in your folder an run the &quot;pwd&quot; command to show your excat path. Then you also could paste this path to your script like this: use lib &#39;your hole path/lib&#39;. Please tell me your hole path"}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1495093267, "post_id": 44041031, "comment_id": 75108997, "body": "yes that&#39;s what I tried a minute ago, I tried to include both the whole path, and the FFTG folder as well using two &quot;use lib&quot;, example : use lib &#39;/wminfs/mc/projects/FFTGv2/lib&#39;; use lib &#39;/wminfs/mc/projects/FFTGv2/lib/FFTG&#39;;"}, {"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 0, "creation_date": 1495093271, "post_id": 44041031, "comment_id": 75109000, "body": "An what script ist &quot;fftg.pl&quot; ? Because in your code snippet is no line 21"}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1495093422, "post_id": 44041031, "comment_id": 75109095, "body": "it&#39;s the exact same as the first one I posted, with some comments and commented lines as I&#39;m trying many things, I can edit my post and post the Exact version with comments etc.. but it shouldn&#39;t change anything I suppose"}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1495093550, "post_id": 44041031, "comment_id": 75109174, "body": "it just looks like the &quot;use FFTG::PID &lt;something&gt;&quot; is not taken in consideration, that&#39;s odd :("}, {"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1495093720, "post_id": 44041031, "comment_id": 75109304, "body": "okay the only Problem was your package declartion. Use package FFTG::PID; and your code will work. Tahnks also to @zdim"}, {"owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "edited": false, "score": 0, "creation_date": 1495094436, "post_id": 44041031, "comment_id": 75109717, "body": "thanks again both of you, it works now :)"}], "answers": [{"comments": [{"owner": {"reputation": 498, "user_id": 2174359, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf06579ee8856206e0dc3d83f9bb5c43?s=128&d=identicon&r=PG", "display_name": "FrankTheTank_12345", "link": "https://stackoverflow.com/users/2174359/frankthetank-12345"}, "edited": false, "score": 0, "creation_date": 1495093839, "post_id": 44041558, "comment_id": 75109387, "body": "Thanks for your answer @zdim"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 4, "last_activity_date": 1587534046, "last_edit_date": 1587534046, "creation_date": 1495093357, "answer_id": 44041558, "question_id": 44041031, "link": "https://stackoverflow.com/questions/44041031/perl-module-creation-usage-undefined-subroutine/44041558#44041558", "title": "Perl Module Creation &amp; Usage - Undefined subroutine", "body": "<p>There are a few errors, and a few things that can be done better.</p>\n\n<ul>\n<li><p>The module name <a href=\"https://stackoverflow.com/a/54433246/4653379\">needs to match</a> its (relative) location, so: <code>package FFTG::PID;</code></p></li>\n<li><p>There can be no <code>&amp;</code> when listing subroutines for <code>EXPORT</code>s in the module; those should be <em>names</em> and the <code>&amp;</code> isn't a part of the name.  From <a href=\"http://perldoc.perl.org/functions/use.html\" rel=\"nofollow noreferrer\">use pragma</a> (my emphasis)</p>\n\n<blockquote>\n  <p>Imports some <strong>semantics</strong> into the current package from the named module</p>\n</blockquote></li>\n<li><p>All-caps names are a risky idea as they may be taken, and <code>DEFAULT</code> cannot be used here</p></li>\n</ul>\n\n<p>It is generally a good advice to use <code>@EXPORT_OK</code>, and not <code>@EXPORT</code>.</p>\n\n<p>Finally, the line that sets up <a href=\"http://perldoc.perl.org/lib.html\" rel=\"nofollow noreferrer\">lib</a> is asking for trouble.  Use <a href=\"http://perldoc.perl.org/FindBin.html\" rel=\"nofollow noreferrer\">FindBin</a>.</p>\n\n<p>Package <strong>lib/FFTG/PID.pm</strong></p>\n\n<pre><code>package FFTG::PID;\n\nuse strict;\nuse warnings;\n\nuse Exporter qw(import);\nour $VERSION     = 1.00;\nour @EXPORT_OK   = qw(func1 func2);\nour %EXPORT_TAGS = ( \n    default =&gt; [ qw(func1) ], \n    both    =&gt; [ qw(func1 func2) ]\n);\n\nsub func1\n{\n    my ($x, $y) = @_;\n    return $x + $y;       \n}   \n\nsub func2\n{\n    return \"tata\\n\";\n}   \n\n1;\n</code></pre>\n\n<p>where I've also replaced the explicit setup of <code>@ISA</code> with the <a href=\"http://perldoc.perl.org/Exporter.html\" rel=\"nofollow noreferrer\">Exporter</a>'s<code>import</code> method.</p>\n\n<p>The main program</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature qw(say);\n\nuse FindBin qw($RealBin);\nuse lib \"$RealBin/lib\";\n\nuse FFTG::PID qw(:default);\n\nsay func1(10,20);\n</code></pre>\n\n<p>It prints a line with <code>30</code>.</p>\n"}], "owner": {"reputation": 628, "user_id": 4279387, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yEPjV.png?s=128&g=1", "display_name": "olivierg", "link": "https://stackoverflow.com/users/4279387/olivierg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 931, "favorite_count": 0, "accepted_answer_id": 44041558, "answer_count": 1, "score": 1, "last_activity_date": 1587534046, "creation_date": 1495091695, "last_edit_date": 1495093737, "question_id": 44041031, "link": "https://stackoverflow.com/questions/44041031/perl-module-creation-usage-undefined-subroutine", "title": "Perl Module Creation &amp; Usage - Undefined subroutine", "body": "<p>I am trying to create &amp; use modules in a new script I'm doing but I'm not familiar with modules yet.\nI've been following some tutorials, and even if I have the \"almost\" exact same code as in the tutorial, it doesn't work and when I run my test-script I get the following error:</p>\n\n<pre><code>Undefined subroutine &amp;main::func1 called at ../../bin/fftg.pl line 21.\n</code></pre>\n\n<p>Here is my main script :</p>\n\n<pre><code>#!/usr/bin/perl\n# ......\n# comments here\n# ......\nuse strict;\nuse warnings;\n\nuse File::Basename qw(dirname);\nuse Cwd  qw(abs_path);\nuse lib dirname(dirname abs_path $0) . '/lib';\n\nuse FFTG::PID qw(:DEFAULT);\n\nprint func1(10,20);\n</code></pre>\n\n<p>and here is the module, created as file <strong>lib/FFTG/PID.pm</strong> :</p>\n\n<pre><code>package PID;\n\nuse strict;\nuse warnings;\nuse Exporter;\n\nour $VERSION     = 1.00;\nour @ISA         = qw(Exporter);\nour @EXPORT      = qw(&amp;func1 &amp;func2);       # I tried all lines without &amp;\nour @EXPORT_OK   = qw(&amp;func1 &amp;func2);       # I tried all lines without &amp;\nour %EXPORT_TAGS = ( DEFAULT =&gt; [qw(&amp;func1)],\n                     Both    =&gt; [qw(&amp;func1 &amp;func2)]);\n\n\nsub func1\n{\n    my ($x, $y) = @_;\n    return $x + $y;\n\n}\n\nsub func2\n{\n    return \"tata\\n\";\n}\n\n1;\n</code></pre>\n\n<p>what am I doing wrong please ?\nI tried to load the thing using :</p>\n\n<pre><code>use FFTG::PID qw(:DEFAULT);\nuse FFTG::PID;\nuse FFTG::PID qw(funct1);\nuse FFTG::PID qw(&amp;funct1);\n</code></pre>\n\n<p>nothing works (same error)</p>\n\n<p>I also tried to modify the module, modifying these lines removing or adding the &amp; :</p>\n\n<pre><code>our @EXPORT      = qw(func1 func2);\nour @EXPORT_OK   = qw(func1 func2);\n</code></pre>\n\n<p>same problem</p>\n\n<p>any hints ? </p>\n\n<p>my folders &amp; files are :</p>\n\n<pre><code>MIF/root@sm1p0003vmo /wminfs/mc/projects/FFTGv2: pwd\n/wminfs/mc/projects/FFTGv2\nMIF/root@sm1p0003vmo /wminfs/mc/projects/FFTGv2: ls -al bin/fftg.pl\n-rwxr-x---   1 root     root         545 May 18 09:49 bin/fftg.pl\nMIF/root@sm1p0003vmo /wminfs/mc/projects/FFTGv2: ls -al lib/FFTG/PID.pm\n-rw-r-----   1 root     root         344 May 18 09:37 lib/FFTG/PID.pm\nMIF/root@sm1p0003vmo /wminfs/mc/projects/FFTGv2:\n</code></pre>\n\n<p>thanks \nregards,</p>\n"}, {"tags": ["bash", "perl", "awk", "sed"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8029127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54d3ca9d43f924a8ac5ef9d4e7242436?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/8029127/andrey"}, "edited": false, "score": 0, "creation_date": 1495095305, "post_id": 44040372, "comment_id": 75110232, "body": "Thanks, it works. Also it works with double quotes which allows to replace &quot;syslog&quot; with variable and do it in bash &#39;for&#39; loop for different C calls."}, {"owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "reply_to_user": {"reputation": 13, "user_id": 8029127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54d3ca9d43f924a8ac5ef9d4e7242436?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/8029127/andrey"}, "edited": false, "score": 0, "creation_date": 1495095588, "post_id": 44040372, "comment_id": 75110395, "body": "@Andrey, instead of bash, you can use array in perl... <code>perl -0777 -pe &#39;BEGIN{@calls=(&quot;syslog&quot;,&quot;foo&quot;)} foreach $f (@calls){s&#47;$f\\(\\K[^)]+&#47;$&amp;=~s|\\s+| |gr&#47;ge}&#39;</code>"}, {"owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 1, "creation_date": 1495136252, "post_id": 44040372, "comment_id": 75137854, "body": "Try that when the error string is <code>&quot;bad (or worse) situation&quot;</code> to see one way it can fail. Don&#39;t write regexps to try to understand C code as you cannot do that job robustly, just use a tool that understands the specific C variant/standard the code is written in - there&#39;s plenty of them around."}], "tags": [], "owner": {"reputation": 18548, "user_id": 4082052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GUNps.jpg?s=128&g=1", "display_name": "Sundeep", "link": "https://stackoverflow.com/users/4082052/sundeep"}, "is_accepted": true, "score": 1, "last_activity_date": 1495089628, "creation_date": 1495089628, "answer_id": 44040372, "question_id": 44040092, "link": "https://stackoverflow.com/questions/44040092/combine-multiple-lines-of-c-code-in-bash-script/44040372#44040372", "title": "Combine multiple lines of c code in bash script", "body": "<p>With <code>perl</code></p>\n\n<pre><code>$ perl -0777 -pe 's/syslog\\(\\K[^)]+/$&amp;=~s|\\s+| |gr/ge' file.c\nif (x &gt; 0) {\n    syslog( LOG_DEBUG, \"x &gt; 0\" );\n} else {\n    syslog(LOG_ERR, \"error\");\n}\n</code></pre>\n\n<ul>\n<li><code>-0777</code> slurp entire file</li>\n<li><code>syslog\\(\\K</code> positive lookbehind for string <code>syslog(</code></li>\n<li><code>[^)]+</code> get all non <code>)</code> characters\n\n<ul>\n<li><code>$&amp;=~s|\\s+| |gr</code> on the matched string, replace all white-space characters with single space</li>\n</ul></li>\n<li>Use <code>perl -i -0777 -pe</code> for inplace editing</li>\n<li>Further reading: <a href=\"http://perldoc.perl.org/perlrun.html#Command-Switches\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlrun.html#Command-Switches</a> and <a href=\"http://perldoc.perl.org/perlre.html\" rel=\"nofollow noreferrer\">http://perldoc.perl.org/perlre.html</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8029136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d15655d6bfad839bd9d4ac9b6519d313?s=128&d=identicon&r=PG&f=1", "display_name": "FabiCrux", "link": "https://stackoverflow.com/users/8029136/fabicrux"}, "is_accepted": false, "score": 1, "last_activity_date": 1495090353, "last_edit_date": 1495090353, "creation_date": 1495090018, "answer_id": 44040476, "question_id": 44040092, "link": "https://stackoverflow.com/questions/44040092/combine-multiple-lines-of-c-code-in-bash-script/44040476#44040476", "title": "Combine multiple lines of c code in bash script", "body": "<p>When you have a problem and you choose to solve it with a regular expression, you end up having two problems...</p>\n\n<pre><code>package soanswer;\n\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.InputStreamReader;\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic class SOAnswer\n{\n  public static void main(String[] args) throws Exception\n  {\n    FileInputStream f = new FileInputStream(args[0]);\n    BufferedReader b = new BufferedReader(new InputStreamReader(f));\n    List&lt;String&gt; input = new LinkedList&lt;&gt;();\n    String line = null;\n    String previousline = null;\n    while ((line = b.readLine()) != null)\n    {\n      if (line.indexOf(\"syslog(\") &gt;= 0)\n      {\n        previousline = line;\n      }\n      else\n      {\n        if (previousline == null)\n          input.add(line);\n        else\n        {\n          previousline = previousline + line;\n          if (line.indexOf(\");\") &gt;= 0)\n          {\n            input.add(previousline);\n            previousline = null;\n          }\n        }\n      }\n    }\n\n    for (String l: input)\n      System.out.println(l);\n  }  \n}\n</code></pre>\n\n<p>I know, it's a lot more code than a regular expression, but it's a lot more readable. Any coder can understand it even if he does not know Java. Also keep in mind Java is very verbose, the same in a scripting language usually results in much fewer lines.</p>\n"}, {"tags": [], "owner": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "is_accepted": false, "score": 2, "last_activity_date": 1495135452, "creation_date": 1495135452, "answer_id": 44056250, "question_id": 44040092, "link": "https://stackoverflow.com/questions/44040092/combine-multiple-lines-of-c-code-in-bash-script/44056250#44056250", "title": "Combine multiple lines of c code in bash script", "body": "<p>You should be using a <a href=\"https://www.google.com/search?q=C+beautifier&amp;ie=utf-8&amp;oe=utf-8\" rel=\"nofollow noreferrer\">C beautifier</a> for this instead of trying to approximate C syntax with regexps. For example using <code>indent</code> as it just happens to be available on my cygwin installation:</p>\n\n<pre><code>$ cat tst.c\nif (x &gt; 0) {\n    syslog(\n           LOG_DEBUG,\n           \"x &gt; 0\"\n          );\n} else {\n    syslog(LOG_ERR,\n           \"error\");\n}\n\n$ indent -br tst.c\n\n$ cat tst.c\nif (x &gt; 0) {\n  syslog (LOG_DEBUG, \"x &gt; 0\");\n}\nelse {\n  syslog (LOG_ERR, \"error\");\n}\n</code></pre>\n\n<p>There are several C beautifiers (<code>indent</code>, <code>cb</code>, <code>uncrustify</code>, etc.) with various options to understand various C (and sometimes C++) standards and format code as you like.</p>\n"}], "owner": {"reputation": 13, "user_id": 8029127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54d3ca9d43f924a8ac5ef9d4e7242436?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/8029127/andrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 44040372, "answer_count": 3, "score": 1, "last_activity_date": 1495135452, "creation_date": 1495088678, "question_id": 44040092, "link": "https://stackoverflow.com/questions/44040092/combine-multiple-lines-of-c-code-in-bash-script", "title": "Combine multiple lines of c code in bash script", "body": "<p>I have C code where developers splitted lines different way:</p>\n\n<pre><code>if (x &gt; 0) {\n    syslog(\n           LOG_DEBUG,\n           \"x &gt; 0\"\n          );\n} else {\n    syslog(LOG_ERR,\n           \"error\");\n}\n</code></pre>\n\n<p>Result I need is:</p>\n\n<pre><code>if (x &gt; 0) {\n    syslog(LOG_DEBUG, \"x &gt; 0\");\n} else {\n    syslog(LOG_ERR, \"error\");\n}\n</code></pre>\n\n<p>Whitespaces don't matter much, the main task is to have syslog() calls in one line. The best I could do was:</p>\n\n<pre><code>sed -i -n '/syslog(.*,$/,/.*)/{:a;N;$!ta;s/\\n//;p};/syslog(.*,$/!p' file.c\n</code></pre>\n\n<p>But it duplicated some lines of code. What I did wrong? How to do it properly? Scripting language doesn't matter - sed/awk/perl...</p>\n"}, {"tags": ["bash", "perl", "unix"], "answers": [{"tags": [], "owner": {"reputation": 4030, "user_id": 3544399, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/397812b74c94c5756264ae95012149c0?s=128&d=identicon&r=PG&f=1", "display_name": "hmedia1", "link": "https://stackoverflow.com/users/3544399/hmedia1"}, "is_accepted": false, "score": 1, "last_activity_date": 1495085884, "last_edit_date": 1495540498, "creation_date": 1495084735, "answer_id": 44039140, "question_id": 44039115, "link": "https://stackoverflow.com/questions/44039115/how-to-import-my-unix-variable-inside-my-perl-command/44039140#44039140", "title": "how to import my unix variable inside my perl command..?", "body": "<p><a href=\"https://stackoverflow.com/a/44039145/3544399\">This answer</a> on this thread accesses the variable <strong>directly through the environment</strong>, which seems like a neater way.</p>\n\n<p>Still, to demonstrate a way to use direct shell substitution (which has it's uses), then the right way to do it would be like this:</p>\n\n<pre><code>perl -e '$age='\"$x\"'; print \"Age = $age\\n\"'\n</code></pre>\n\n<ul>\n<li><code>perl</code> sees this as it's input: <code>perl -e $age=12; print \"Age = $age\\n\"</code></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 198290, "user_id": 1030675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957956ce51706d03f19a4dc85a767bb1?s=128&d=identicon&r=PG", "display_name": "choroba", "link": "https://stackoverflow.com/users/1030675/choroba"}, "edited": false, "score": 2, "creation_date": 1495085219, "post_id": 44039145, "comment_id": 75104510, "body": "Or, you can use temporary assignment <code>x=12 perl -e &#39;$age = $ENV{x}; print &quot;Age = $age\\n&quot;&#39;</code>."}, {"owner": {"reputation": 4030, "user_id": 3544399, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/397812b74c94c5756264ae95012149c0?s=128&d=identicon&r=PG&f=1", "display_name": "hmedia1", "link": "https://stackoverflow.com/users/3544399/hmedia1"}, "edited": false, "score": 0, "creation_date": 1495085916, "post_id": 44039145, "comment_id": 75104771, "body": "Good answer ++.  Have acknowledged on my alternative"}], "tags": [], "owner": {"reputation": 17700, "user_id": 50902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19d468858e7d32da4a5bb6e49394fd52?s=128&d=identicon&r=PG", "display_name": "kmkaplan", "link": "https://stackoverflow.com/users/50902/kmkaplan"}, "is_accepted": true, "score": 6, "last_activity_date": 1495084752, "creation_date": 1495084752, "answer_id": 44039145, "question_id": 44039115, "link": "https://stackoverflow.com/questions/44039115/how-to-import-my-unix-variable-inside-my-perl-command/44039145#44039145", "title": "how to import my unix variable inside my perl command..?", "body": "<p>First you have to <code>export x</code> in the shell. Then you can access the variable from Perl as <code>$ENV{x}</code>.</p>\n\n<pre><code>$ x=12\n$ export x\n$ perl -e '$age=$ENV{x}; print \"Age = $age\\n\"'\nAge = 12\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1952, "user_id": 4178262, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MVZ9ZR1BFos/AAAAAAAAAAI/AAAAAAAAAAA/aEP8yOumPbw/photo.jpg?sz=128", "display_name": "Mark Stewart", "link": "https://stackoverflow.com/users/4178262/mark-stewart"}, "is_accepted": false, "score": 0, "last_activity_date": 1495085167, "creation_date": 1495085167, "answer_id": 44039239, "question_id": 44039115, "link": "https://stackoverflow.com/questions/44039115/how-to-import-my-unix-variable-inside-my-perl-command/44039239#44039239", "title": "how to import my unix variable inside my perl command..?", "body": "<p>The single quotes for the -e parameter prevents the shell variable from being expanded. Use <code>$ENV{'myvar'}</code> to get the value of shell variable <code>$myvar</code></p>\n\n<p>And export the variable too as noted by the other answer.</p>\n"}], "owner": {"reputation": 765, "user_id": 6932973, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/50b31fcb701115d22ba2ffa33649583a?s=128&d=identicon&r=PG&f=1", "display_name": "Rohith", "link": "https://stackoverflow.com/users/6932973/rohith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 44039145, "answer_count": 3, "score": 1, "last_activity_date": 1495085884, "creation_date": 1495084606, "question_id": 44039115, "link": "https://stackoverflow.com/questions/44039115/how-to-import-my-unix-variable-inside-my-perl-command", "title": "how to import my unix variable inside my perl command..?", "body": "<p>I am running below command on Bash prompt:</p>\n\n<pre><code>bash-3.2$ x=12\nbash-3.2$ echo $x\n12\nbash-3.2$ perl -e '$age=$x; print \"Age = $age\\n\"'\nAge =\nbash-3.2$\n</code></pre>\n\n<p>I am not getting the age/number printed..! How shall i import my unix bash variable inside my perl command..!?</p>\n"}, {"tags": ["perl"], "comments": [{"owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "edited": false, "score": 3, "creation_date": 1495076250, "post_id": 44037222, "comment_id": 75102093, "body": "<a href=\"https://meta.stackexchange.com/a/121351/130608\">I&#39;ve just been downvoted. How should I react?</a>"}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1495080480, "post_id": 44037222, "comment_id": 75103127, "body": "It would be unusual to see a comment to accompany a down vote, and with 12K reputation I&#39;m astonished that you&#39;re not aware of that. What will gather more negative votes, as well as reducing your chances of getting a useful answer, is to rage about your unfair treatment and demand justice. I generally get two or three inexplicable down votes every day, and you should swallow your pride like the rest of us. The link that <a href=\"http://stackoverflow.com/questions/44037222/#comment75102093_44037222\"><b>Sinan &#220;n&#252;r</b> left in his comment</a> is particularly useful and you should study it carefully."}, {"owner": {"reputation": 30491, "user_id": 1029146, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a659be962c006e43e110b5a9dfda538e?s=128&d=identicon&r=PG", "display_name": "temporary_user_name", "link": "https://stackoverflow.com/users/1029146/temporary-user-name"}, "edited": false, "score": 0, "creation_date": 1495080608, "post_id": 44037222, "comment_id": 75103152, "body": "I think it&#39;s a stretch to call this raging, but okay."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 2, "creation_date": 1495080703, "post_id": 44037222, "comment_id": 75103180, "body": "This isn&#39;t so easy to answer because few people are aware of the capabilities of the basic comma <code>,</code> which is pretty much the same as the &quot;fat comma&quot; <code>=&gt;</code>."}, {"owner": {"reputation": 123805, "user_id": 622310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8b6d35219e1808520bc238b28161e2e6?s=128&d=identicon&r=PG", "display_name": "Borodin", "link": "https://stackoverflow.com/users/622310/borodin"}, "edited": false, "score": 3, "creation_date": 1495080813, "post_id": 44037222, "comment_id": 75103207, "body": "Three angry rhetorical comments in a row, and you don&#39;t think you&#39;re raging? I&#39;d hate to be around when you do,"}], "answers": [{"tags": [], "owner": {"reputation": 15906, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "is_accepted": false, "score": 1, "last_activity_date": 1495073405, "creation_date": 1495073405, "answer_id": 44037456, "question_id": 44037222, "link": "https://stackoverflow.com/questions/44037222/in-perl-when-would-you-use-a-fat-comma-key-value-syntax-in-a-literal-and-not-in/44037456#44037456", "title": "In Perl, when would you use a fat comma key/value syntax in a literal and NOT intend it as a hash-type structure?", "body": "<p>Even though that's probably not the reason this is the case, one possible use for this is for situations when you want to have more than one value for the same key, but still want to maintain a \"flat\" structure (i.e. no nested arrays or hashes).</p>\n\n<p>You could then read such a list as key-value pairs.</p>\n\n<p>Example:</p>\n\n<pre><code>do_something(user =&gt; 1, user =&gt; 2, user =&gt; 3, action =&gt; \"whatever\");\n\nsub do_something\n{\n    while (@_)\n    {\n       my $key = shift @_;\n       my $value = shift @_;\n       # ... do something with that key-value pair\n    }\n}\n</code></pre>\n\n<p>As soon as you turn that list into a hash, duplicate keys will result in a single entry (the last one).</p>\n\n<p>Also note that the \"context\" is really simple: if it's assigned to a hash:</p>\n\n<pre><code>%hash = (a =&gt; 1, b =&gt; 2)\n</code></pre>\n\n<p>or in a hashref literal by enclosing it in <code>{}</code>:</p>\n\n<pre><code>$hashref = { a =&gt; 1, b =&gt; 2}\n</code></pre>\n\n<p>then you get a hash, otherwise it remains a list.</p>\n\n<p>Note that the <code>key =&gt; value</code> notation is just one of many possible notations, you could also use the <code>qw</code> notation for instance:</p>\n\n<pre><code>%hash = qw(a 1 b 2);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19969, "user_id": 23512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/tUj1I.png?s=128&g=1", "display_name": "Tanktalus", "link": "https://stackoverflow.com/users/23512/tanktalus"}, "is_accepted": false, "score": 4, "last_activity_date": 1495075197, "creation_date": 1495075197, "answer_id": 44037711, "question_id": 44037222, "link": "https://stackoverflow.com/questions/44037222/in-perl-when-would-you-use-a-fat-comma-key-value-syntax-in-a-literal-and-not-in/44037711#44037711", "title": "In Perl, when would you use a fat comma key/value syntax in a literal and NOT intend it as a hash-type structure?", "body": "<p>I regularly use this for calling <code>system</code>:</p>\n\n<pre><code>my $rc = system $command,\n    -count    =&gt; 24,\n    -file     =&gt; $filename,\n    -verbose  =&gt; # no value\n    -frobnitz =&gt; 'blat';\n</code></pre>\n\n<p>Any time I want a visual indication that these two values go together, I use the fat comma.</p>\n"}, {"comments": [{"owner": {"reputation": 30491, "user_id": 1029146, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a659be962c006e43e110b5a9dfda538e?s=128&d=identicon&r=PG", "display_name": "temporary_user_name", "link": "https://stackoverflow.com/users/1029146/temporary-user-name"}, "edited": false, "score": 2, "creation_date": 1495077583, "post_id": 44037800, "comment_id": 75102389, "body": "Your edit to change the title to call it a &#39;fat comma&#39; was very helpful. I did not know to call it that. I am already reading <code>Learning Perl</code> but I occasionally diverge to answer questions as they come up for me, as here."}, {"owner": {"reputation": 50468, "user_id": 1331451, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/4ZPmj.png?s=128&g=1", "display_name": "simbabque", "link": "https://stackoverflow.com/users/1331451/simbabque"}, "reply_to_user": {"reputation": 30491, "user_id": 1029146, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a659be962c006e43e110b5a9dfda538e?s=128&d=identicon&r=PG", "display_name": "temporary_user_name", "link": "https://stackoverflow.com/users/1029146/temporary-user-name"}, "edited": false, "score": 3, "creation_date": 1495100732, "post_id": 44037800, "comment_id": 75114043, "body": "@Aerovistae since you clearly are an experienced programmer, maybe <i>Beginning Perl</i> by Curtis Poe is better suited for you than <i>Learning Perl</i>, which targets people that come without a strong tech background. Curtis&#39; book on the other hand expects you to have some understanding of how to write code, and also gives you a nice round-trip through the ecosystem that comes attached to Perl, including its community and customs. I feel that might clear some things up for you."}], "tags": [], "owner": {"reputation": 113221, "user_id": 100754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7804ebae32fbadef38537d74a915c22f?s=128&d=identicon&r=PG", "display_name": "Sinan &#220;n&#252;r", "link": "https://stackoverflow.com/users/100754/sinan-%c3%9cn%c3%bcr"}, "is_accepted": true, "score": 7, "last_activity_date": 1495091014, "last_edit_date": 1495091014, "creation_date": 1495075818, "answer_id": 44037800, "question_id": 44037222, "link": "https://stackoverflow.com/questions/44037222/in-perl-when-would-you-use-a-fat-comma-key-value-syntax-in-a-literal-and-not-in/44037800#44037800", "title": "In Perl, when would you use a fat comma key/value syntax in a literal and NOT intend it as a hash-type structure?", "body": "<p>Any time you want to automatically quote a bareword to the left of a fat comma:</p>\n\n<pre><code>system ls =&gt; '-lh';\n</code></pre>\n\n<p>or</p>\n\n<pre><code> my $x = [ a =&gt; [ 1, 2 ], b =&gt; [ 3, 4 ] ];\n</code></pre>\n\n<p>Any time you think it makes the code easier to see</p>\n\n<pre><code>join ', ' =&gt; @data;\n</code></pre>\n\n<p>Any time you want to say \"into\":</p>\n\n<pre><code> bless { value =&gt; 5 } =&gt; $class;\n</code></pre>\n\n<p><code>=&gt;</code> is a comma, plain and simple. You can use it anywhere you can use a comma. E.g.:</p>\n\n<pre><code> my $z = f($x) =&gt; g($y); # invoke f($x) (for its side effects) and g($y)\n                         # assign the result of g($y) to $z\n</code></pre>\n\n<p>Just because one thing appears on the left side of a comma, and another thing appears on the right side of a comma, it doesn't mean that those two things constitute a key-value pair.</p>\n\n<p>And, of course, if you are going to quote everything anyway:</p>\n\n<pre><code> my %x = (\"key\", \"value\", \"key2\", \"value2\");\n</code></pre>\n\n<p>or if you want to quote nothing</p>\n\n<pre><code> my %y = qw(key value key2 value2);\n</code></pre>\n\n<p>are both valid constructs.</p>\n\n<p>So, the presence of a fat comma is neither a <a href=\"https://en.wikipedia.org/wiki/Necessity_and_sufficiency\" rel=\"nofollow noreferrer\">sufficient</a> nor a <a href=\"https://en.wikipedia.org/wiki/Necessity_and_sufficiency\" rel=\"nofollow noreferrer\">necessary</a> condition for the presence of a hash.</p>\n"}, {"tags": [], "owner": {"reputation": 320771, "user_id": 589924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2cf53d5a3d25f95c0db4e025aed4153?s=128&d=identicon&r=PG", "display_name": "ikegami", "link": "https://stackoverflow.com/users/589924/ikegami"}, "is_accepted": false, "score": 4, "last_activity_date": 1495122045, "last_edit_date": 1495122045, "creation_date": 1495086007, "answer_id": 44039428, "question_id": 44037222, "link": "https://stackoverflow.com/questions/44037222/in-perl-when-would-you-use-a-fat-comma-key-value-syntax-in-a-literal-and-not-in/44039428#44039428", "title": "In Perl, when would you use a fat comma key/value syntax in a literal and NOT intend it as a hash-type structure?", "body": "<p><code>=&gt;</code> and <code>,</code> are the same operator. They can be used interchangeably. They have nothing to do with hashes.</p>\n\n<pre><code>print($x, \"\\n\");   ===   print($x =&gt; \"\\n\");\n$x=1, $y=2, $z=3;  ===   $x=1 =&gt; $y=2 =&gt; $z=3;\n</code></pre>\n\n<p>The only difference is that <code>=&gt;</code> will auto-quote an identifier that immediately precedes it.</p>\n"}], "owner": {"reputation": 30491, "user_id": 1029146, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a659be962c006e43e110b5a9dfda538e?s=128&d=identicon&r=PG", "display_name": "temporary_user_name", "link": "https://stackoverflow.com/users/1029146/temporary-user-name"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 44037800, "answer_count": 4, "score": 1, "last_activity_date": 1495122045, "creation_date": 1495071532, "last_edit_date": 1495076310, "question_id": 44037222, "link": "https://stackoverflow.com/questions/44037222/in-perl-when-would-you-use-a-fat-comma-key-value-syntax-in-a-literal-and-not-in", "title": "In Perl, when would you use a fat comma key/value syntax in a literal and NOT intend it as a hash-type structure?", "body": "<p>It has been pointed out to me that <code>(\"key\" =&gt; \"value\", \"key2\" =&gt; \"value2\")</code> is <em>not</em> a hash literal, but rather a list, and how it is interpreted depends on the context you use it in.</p>\n\n<p>No other language I know personally has a key/value syntax like this that can be interpreted in any way other than that the author intended to create a hash/map/associative-array/dictionary/etc, so I find this aspect of perl somewhat difficult to grasp.</p>\n\n<p>What contexts are there in perl where you would use that syntax <em>without</em> intending it to create such a data structure, where it is intended to work in such a way that key/value pairs have no role?</p>\n"}]